{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1642058999,"post_id":70692799,"comment_id":124972284,"body_markdown":"Why should it? According to you **A extends B**. Which means A is also a B because of this. If you would create a `B` and try to cast it to `A` this won&#39;t work as `B` isn&#39;t an `A`.","body":"Why should it? According to you <b>A extends B</b>. Which means A is also a B because of this. If you would create a <code>B</code> and try to cast it to <code>A</code> this won&#39;t work as <code>B</code> isn&#39;t an <code>A</code>."},{"owner":{"account_id":3596675,"reputation":3616,"user_id":3001150,"accept_rate":57,"display_name":"Raildex"},"score":2,"creation_date":1642059018,"post_id":70692799,"comment_id":124972291,"body_markdown":"`A extends B` means `A` *is* a `B`.\nThis is valid code.","body":"<code>A extends B</code> means <code>A</code> <i>is</i> a <code>B</code>. This is valid code."},{"owner":{"account_id":21020926,"reputation":165,"user_id":17496555,"display_name":"Iwan5050"},"score":0,"creation_date":1642059179,"post_id":70692799,"comment_id":124972333,"body_markdown":"I have confused two things","body":"I have confused two things"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642059416,"post_id":70692799,"comment_id":124972406,"body_markdown":"to simplify it: every sportscar is a car, not every car is a sportscar.","body":"to simplify it: every sportscar is a car, not every car is a sportscar."},{"owner":{"account_id":21020926,"reputation":165,"user_id":17496555,"display_name":"Iwan5050"},"score":0,"creation_date":1642059535,"post_id":70692799,"comment_id":124972433,"body_markdown":"because sometimes it works","body":"because sometimes it works"},{"owner":{"account_id":21020926,"reputation":165,"user_id":17496555,"display_name":"Iwan5050"},"score":0,"creation_date":1642059592,"post_id":70692799,"comment_id":124972445,"body_markdown":"I think this answers the question the question ty","body":"I think this answers the question the question ty"},{"owner":{"account_id":21020926,"reputation":165,"user_id":17496555,"display_name":"Iwan5050"},"score":0,"creation_date":1642060252,"post_id":70692799,"comment_id":124972631,"body_markdown":"you can post the anwser and I&#39;m going to accept it","body":"you can post the anwser and I&#39;m going to accept it"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1642066022,"post_id":70692799,"comment_id":124974634,"body_markdown":"Your edit completely turns around the question. Now B extends A, and it was the other way round in the initial version. Such a drastic change, making most of the comments obsolete, should not be done silently.","body":"Your edit completely turns around the question. Now B extends A, and it was the other way round in the initial version. Such a drastic change, making most of the comments obsolete, should not be done silently."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642067086,"creation_date":1642067086,"answer_id":70694389,"question_id":70692799,"body_markdown":"Let&#39;s look at your line of code:\r\n\r\n    B b=(B)new A();\r\n\r\nwith\r\n\r\n    class B extends A { ... }\r\n\r\nThe Java compiler&#39;s intelligence is limited. Not everything that&#39;s obvious to us humans is detected by the compiler.\r\n\r\nOur human reasoning goes like this:\r\n\r\n- `new A()` gives an object of class `A`, and exactly of class `A`, not a subclass.\r\n- With `(B)new A()` we want to treat it as an instance of `B` or one of its subclasses.\r\n- As we know that it is an instance exactly of class `A`, we conclude that casting to `B` is wrong.\r\n\r\nThe key to our reasoning is the phrase &quot;exactly of class `A`&quot;, excluding any `A` subclass.\r\n\r\nThe compiler simply doesn&#39;t reason like that, it never excludes subclasses. Its reasoning is:\r\n- `new A()` gives an object of class `A`, so the expression type is `A`, implicitly including all `A` subclasses.\r\n- The expression `(B)new A()` wants to treat it as an instance of `B` or one of its subclasses. To the compiler, that&#39;s perfectly possible, as `B` is a subclass of `A`, so an expression of type `A` can indeed be of type `B`.\r\n- So, the compiler allows that line of code although it will surely throw a `ClassCastException` at runtime.\r\n\r\nThe key is that the compiler only reasons along a concept of expression type **that always implicitly includes subclasses**, and does not have a special treatment for expressions where subclasses are impossible.","title":"Java why is conversion from &quot;lower&quot; class to a &quot;higher&quot; class not forbidden?","body":"<p>Let's look at your line of code:</p>\n<pre><code>B b=(B)new A();\n</code></pre>\n<p>with</p>\n<pre><code>class B extends A { ... }\n</code></pre>\n<p>The Java compiler's intelligence is limited. Not everything that's obvious to us humans is detected by the compiler.</p>\n<p>Our human reasoning goes like this:</p>\n<ul>\n<li><code>new A()</code> gives an object of class <code>A</code>, and exactly of class <code>A</code>, not a subclass.</li>\n<li>With <code>(B)new A()</code> we want to treat it as an instance of <code>B</code> or one of its subclasses.</li>\n<li>As we know that it is an instance exactly of class <code>A</code>, we conclude that casting to <code>B</code> is wrong.</li>\n</ul>\n<p>The key to our reasoning is the phrase &quot;exactly of class <code>A</code>&quot;, excluding any <code>A</code> subclass.</p>\n<p>The compiler simply doesn't reason like that, it never excludes subclasses. Its reasoning is:</p>\n<ul>\n<li><code>new A()</code> gives an object of class <code>A</code>, so the expression type is <code>A</code>, implicitly including all <code>A</code> subclasses.</li>\n<li>The expression <code>(B)new A()</code> wants to treat it as an instance of <code>B</code> or one of its subclasses. To the compiler, that's perfectly possible, as <code>B</code> is a subclass of <code>A</code>, so an expression of type <code>A</code> can indeed be of type <code>B</code>.</li>\n<li>So, the compiler allows that line of code although it will surely throw a <code>ClassCastException</code> at runtime.</li>\n</ul>\n<p>The key is that the compiler only reasons along a concept of expression type <strong>that always implicitly includes subclasses</strong>, and does not have a special treatment for expressions where subclasses are impossible.</p>\n"}],"owner":{"account_id":21020926,"reputation":165,"user_id":17496555,"display_name":"Iwan5050"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70694389,"answer_count":1,"score":-1,"last_activity_date":1642067086,"creation_date":1642058741,"question_id":70692799,"body_markdown":"Let A and B be and classes and let B extend A. Consider\r\n```\r\nB b=(B)new A();\r\n```\r\nThis will obviously give an error because A does contain less Variables and Methods than B. But why doesnt Java forbid it. Because for example every method in an interface must be implemented all the time, because if it were different, it would give an error while instatiating or a final abstract class is not possible because it must be extended.","title":"Java why is conversion from &quot;lower&quot; class to a &quot;higher&quot; class not forbidden?","body":"<p>Let A and B be and classes and let B extend A. Consider</p>\n<pre><code>B b=(B)new A();\n</code></pre>\n<p>This will obviously give an error because A does contain less Variables and Methods than B. But why doesnt Java forbid it. Because for example every method in an interface must be implemented all the time, because if it were different, it would give an error while instatiating or a final abstract class is not possible because it must be extended.</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":680,"reputation":960675,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":4,"creation_date":1329882869,"post_id":9388838,"comment_id":11861613,"body_markdown":"Do you know how to write a program with two threads? If not, see your favourite threading tutorial. If so, then try to write such a program and see what happens.","body":"Do you know how to write a program with two threads? If not, see your favourite threading tutorial. If so, then try to write such a program and see what happens."},{"owner":{"account_id":6347,"reputation":6694,"user_id":10638,"accept_rate":67,"display_name":"DJ."},"score":0,"creation_date":1329882877,"post_id":9388838,"comment_id":11861615,"body_markdown":"Is this a for homework/assignment?","body":"Is this a for homework/assignment?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1329890098,"post_id":9388838,"comment_id":11862854,"body_markdown":"Btw, if I asked this question in an interview, I would hope that the applicant would mention that this is a pretty stupid thing to try to do with two threads. It&#39;s not bad as a test of understanding the threading APIs, but you&#39;re basically asking two threads to act in a single-threaded fashion.","body":"Btw, if I asked this question in an interview, I would hope that the applicant would mention that this is a pretty stupid thing to try to do with two threads. It&#39;s not bad as a test of understanding the threading APIs, but you&#39;re basically asking two threads to act in a single-threaded fashion."},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1642067234,"post_id":9388838,"comment_id":124975121,"body_markdown":"Provided a solution below with no locks, no synchronization but using Java 8 Atomic Integers and Atomic Booleans. Thanks in advance. Happy MultiThreading.\n\nhttps://stackoverflow.com/a/70694332/8148637","body":"Provided a solution below with no locks, no synchronization but using Java 8 Atomic Integers and Atomic Booleans. Thanks in advance. Happy MultiThreading.  <a href=\"https://stackoverflow.com/a/70694332/8148637\">stackoverflow.com/a/70694332/8148637</a>"}],"answers":[{"tags":[],"owner":{"account_id":161977,"reputation":1165,"user_id":383149,"accept_rate":71,"display_name":"Cuong Thai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329923563,"creation_date":1329883871,"answer_id":9388981,"question_id":9388838,"body_markdown":"This is another solution:\r\n\r\n         Thread t1 = new Thread(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tsynchronized (lock) {\r\n\t\t\t\t\tfor (int i = 1; i &lt;= 50; i += 2) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;T1=&quot; + i);\r\n\r\n\t\t\t\t\t\tt1turn = false;\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tlock.notifyAll();\r\n\t\t\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\tThread t2 = new Thread(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tsynchronized (lock) {\r\n\t\t\t\t\tfor (int i = 2; i &lt;= 50; i += 2) {\r\n\t\t\t\t\t\tif (t1turn)\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(&quot;T2=&quot; + i);\r\n\t\t\t\t\t\tt1turn = true;\r\n\t\t\t\t\t\tlock.notify();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tt1.start();\r\n\t\tt2.start();","title":"Writing a program with 2 threads which prints alternatively","body":"<p>This is another solution:</p>\n\n<pre><code>     Thread t1 = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            synchronized (lock) {\n                for (int i = 1; i &lt;= 50; i += 2) {\n                    System.out.println(\"T1=\" + i);\n\n                    t1turn = false;\n                        try {\n                            lock.notifyAll();\n                            lock.wait();\n                        } catch (InterruptedException e) {\n                        }\n                }\n            }\n\n        }\n    });\n    Thread t2 = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            synchronized (lock) {\n                for (int i = 2; i &lt;= 50; i += 2) {\n                    if (t1turn)\n                        try {\n                            lock.wait();\n                        } catch (InterruptedException e) {\n                        }\n                    System.out.println(\"T2=\" + i);\n                    t1turn = true;\n                    lock.notify();\n                }\n            }\n        }\n    });\n    t1.start();\n    t2.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362409885,"creation_date":1362409885,"answer_id":15204714,"question_id":9388838,"body_markdown":"May be this is still relevant: \r\n\r\n    public class MyRunnable implements Runnable {\r\n    \tpublic static int counter = 0;\r\n    \tpublic static int turn = 0;\r\n    \tpublic static Object lock = new Object();\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\twhile (counter &lt; 50) {\r\n    \t\t\tsynchronized (lock) {\r\n    \t\t\t\tif (turn == 0) {\r\n    \r\n    \t\t\t\t\tSystem.out.println(counter + &quot; from thread &quot;\r\n    \t\t\t\t\t\t\t+ Thread.currentThread().getName());\r\n    \t\t\t\t\tturn = 1;\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tlock.wait();\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\tThread.currentThread().interrupt();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tturn = 0;\r\n    \t\t\t\t\tlock.notify();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nand then the main function\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \t\tThread threadA = new Thread(new MyRunnable());\r\n    \t\tThread threadB = new Thread(new MyRunnable ());\r\n    \t\tthreadA.start();\r\n    \t\tthreadB.start();\r\n    }\r\n\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<p>May be this is still relevant: </p>\n\n<pre><code>public class MyRunnable implements Runnable {\n    public static int counter = 0;\n    public static int turn = 0;\n    public static Object lock = new Object();\n\n    @Override\n    public void run() {\n        while (counter &lt; 50) {\n            synchronized (lock) {\n                if (turn == 0) {\n\n                    System.out.println(counter + \" from thread \"\n                            + Thread.currentThread().getName());\n                    turn = 1;\n                    try {\n                        lock.wait();\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                    }\n                } else {\n                    turn = 0;\n                    lock.notify();\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and then the main function</p>\n\n<pre><code>public static void main(String[] args) {\n        Thread threadA = new Thread(new MyRunnable());\n        Thread threadB = new Thread(new MyRunnable ());\n        threadA.start();\n        threadB.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1301836,"reputation":1540,"user_id":1251570,"accept_rate":75,"display_name":"Barun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363002775,"creation_date":1363002775,"answer_id":15337911,"question_id":9388838,"body_markdown":"    public class PingPong extends Thread {\r\n\tstatic StringBuilder object = new StringBuilder(&quot;&quot;);\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tThread t1 = new PingPong();\r\n\t\tThread t2 = new PingPong();\r\n\t\t\r\n\t\tt1.setName(&quot;\\nping&quot;);\r\n\t\tt2.setName(&quot; pong&quot;);\r\n\t\t\r\n\t\tt1.start();\r\n\t\tt2.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tworking();\r\n\t}\r\n\r\n\tvoid working() {\r\n\t\twhile (true) {\r\n\t\t\tsynchronized (object) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tSystem.out.print(Thread.currentThread().getName());\r\n\t\t\t\t\tobject.notify();\r\n\t\t\t\t\tobject.wait();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<pre><code>public class PingPong extends Thread {\nstatic StringBuilder object = new StringBuilder(\"\");\n\npublic static void main(String[] args) throws InterruptedException {\n\n    Thread t1 = new PingPong();\n    Thread t2 = new PingPong();\n\n    t1.setName(\"\\nping\");\n    t2.setName(\" pong\");\n\n    t1.start();\n    t2.start();\n}\n\n@Override\npublic void run() {\n    working();\n}\n\nvoid working() {\n    while (true) {\n        synchronized (object) {\n            try {\n                System.out.print(Thread.currentThread().getName());\n                object.notify();\n                object.wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1363005688,"creation_date":1363005261,"answer_id":15338688,"question_id":9388838,"body_markdown":"The essence of the assignment is to demonstrate how a thread can signal another one. Most common way is to use blocking queues, but here a signal does not carry any information, so a Semaphore is sufficient.\r\n\r\nCreate thread class which is parameterized with 2 Semaphores: input and output:\r\n\r\n    class ThreadPrinter implements Runnable {\r\n        int counter;\r\n        Semaphore ins, outs;\r\n\r\n        ThreadPrinter(int counter, Semaphore ins, Semaphore outs) {\r\n            this.counter = counter;\r\n            this.ins = ins;\r\n            this.outs = outs;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            for (int i = 0; i &lt; 25; i++) {\r\n                ins.aquire(); // wait for permission to run\r\n                System.out.println(&quot;&quot; + counter);\r\n                outs.release();  // allow another thread to run\r\n                counter += 2;\r\n            }\r\n        }\r\n\r\nCreate 2 `Semaphore`s and pass them to 2 threads:\r\n\r\n    Semaphore a = new Semaphore(1);  // first thread is allowed to run immediately\r\n    Semaphore b = new Semaphore(0); // second thread has to wait\r\n    ThreadPrinter tp1 = new ThreadPrinter(1, a, b);\r\n    ThreadPrinter tp2 = new ThreadPrinter(2, b, a); \r\n\r\nNote semaphores `a` and `b` are passed in different order. ","title":"Writing a program with 2 threads which prints alternatively","body":"<p>The essence of the assignment is to demonstrate how a thread can signal another one. Most common way is to use blocking queues, but here a signal does not carry any information, so a Semaphore is sufficient.</p>\n\n<p>Create thread class which is parameterized with 2 Semaphores: input and output:</p>\n\n<pre><code>class ThreadPrinter implements Runnable {\n    int counter;\n    Semaphore ins, outs;\n\n    ThreadPrinter(int counter, Semaphore ins, Semaphore outs) {\n        this.counter = counter;\n        this.ins = ins;\n        this.outs = outs;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 25; i++) {\n            ins.aquire(); // wait for permission to run\n            System.out.println(\"\" + counter);\n            outs.release();  // allow another thread to run\n            counter += 2;\n        }\n    }\n</code></pre>\n\n<p>Create 2 <code>Semaphore</code>s and pass them to 2 threads:</p>\n\n<pre><code>Semaphore a = new Semaphore(1);  // first thread is allowed to run immediately\nSemaphore b = new Semaphore(0); // second thread has to wait\nThreadPrinter tp1 = new ThreadPrinter(1, a, b);\nThreadPrinter tp2 = new ThreadPrinter(2, b, a); \n</code></pre>\n\n<p>Note semaphores <code>a</code> and <code>b</code> are passed in different order. </p>\n"},{"tags":[],"owner":{"account_id":3830298,"reputation":1803,"user_id":3176004,"accept_rate":18,"display_name":"virendrao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389241697,"creation_date":1389241697,"answer_id":21011603,"question_id":9388838,"body_markdown":"\r\n    public class Test {\r\n\r\n\tprivate static int count = 0;\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tThread t1 = new Thread(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\tfor (int i = 0; i &lt; 25; i++) {\r\n\t\t\t\t\tsynchronized (CommonUtil.mLock) {\r\n\t\t\t\t\t\tincrementCount();\r\n\t\t\t\t\t\tCommonUtil.mLock.notify();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tCommonUtil.mLock.wait();\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tThread t2 = new Thread(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\tfor (int i = 0; i &lt; 25; i++) {\r\n\t\t\t\t\tsynchronized (CommonUtil.mLock) {\r\n\t\t\t\t\t\tincrementCount();\r\n\t\t\t\t\t\tCommonUtil.mLock.notify();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tCommonUtil.mLock.wait();\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tt1.start();\r\n\t\tThread.sleep(400);\r\n\t\tt2.start();\r\n\t\tt1.join();\r\n\t\tt2.join();\r\n\t}\r\n\r\n\tprivate static void incrementCount() {\r\n\r\n\t\tcount++;\r\n\t\tSystem.out.println(&quot;Count: &quot; + count + &quot; icnremented by: &quot; +        Thread.currentThread().getName());\r\n\t}\r\n    }\r\n      class CommonUtil {\r\n\r\n\t static final Object mLock = new Object();\r\n       }\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<pre><code>public class Test {\n\nprivate static int count = 0;\n\npublic static void main(String[] args) throws InterruptedException {\n\n    Thread t1 = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n\n            for (int i = 0; i &lt; 25; i++) {\n                synchronized (CommonUtil.mLock) {\n                    incrementCount();\n                    CommonUtil.mLock.notify();\n                    try {\n                        CommonUtil.mLock.wait();\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    });\n    Thread t2 = new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n\n            for (int i = 0; i &lt; 25; i++) {\n                synchronized (CommonUtil.mLock) {\n                    incrementCount();\n                    CommonUtil.mLock.notify();\n                    try {\n                        CommonUtil.mLock.wait();\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    });\n    t1.start();\n    Thread.sleep(400);\n    t2.start();\n    t1.join();\n    t2.join();\n}\n\nprivate static void incrementCount() {\n\n    count++;\n    System.out.println(\"Count: \" + count + \" icnremented by: \" +        Thread.currentThread().getName());\n}\n}\n  class CommonUtil {\n\n static final Object mLock = new Object();\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3472742,"reputation":11,"user_id":2906701,"display_name":"user2906701"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392270770,"creation_date":1392270770,"answer_id":21746287,"question_id":9388838,"body_markdown":"      \r\n    public class ThreadCounter implements Runnable {\r\n        private static int count = 0;\r\n    \t\r\n        private Thread t;\r\n    \t\r\n    \tpublic ThreadCounter(String tName){\r\n    \t\tt= new Thread(this, tName);\r\n    \t\tt.start();\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tfor(int i=1; i&lt;=5; i++){\r\n    \t\t\tsynchronized (CommonUtil.mLock) {\r\n    \t\t\t\tincrementCount(t.getName());\r\n    \t\t\t\tCommonUtil.mLock.notify();\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tCommonUtil.mLock.wait();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void incrementCount(String tName){\r\n    \t\tSystem.out.println(tName+&quot;: &quot;+(++ThreadCounter.count));\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tnew ThreadCounter(&quot;Thread1&quot;);\r\n    \t\tThread.sleep(500);\r\n    \t\tnew ThreadCounter(&quot;Thread2&quot;);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class CommonUtil{\r\n    \tpublic static Object mLock = new Object();\r\n    }\r\n\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<pre><code>public class ThreadCounter implements Runnable {\n    private static int count = 0;\n\n    private Thread t;\n\n    public ThreadCounter(String tName){\n        t= new Thread(this, tName);\n        t.start();\n    }\n\n    @Override\n    public void run() {\n        for(int i=1; i&lt;=5; i++){\n            synchronized (CommonUtil.mLock) {\n                incrementCount(t.getName());\n                CommonUtil.mLock.notify();\n                try {\n                    CommonUtil.mLock.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private void incrementCount(String tName){\n        System.out.println(tName+\": \"+(++ThreadCounter.count));\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        new ThreadCounter(\"Thread1\");\n        Thread.sleep(500);\n        new ThreadCounter(\"Thread2\");\n    }\n\n}\n\nclass CommonUtil{\n    public static Object mLock = new Object();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1780796,"reputation":1,"user_id":1623607,"display_name":"Sanket Saurav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1426596509,"creation_date":1426596509,"answer_id":29099496,"question_id":9388838,"body_markdown":"I guess this might help.\r\nAlthough it is not standard but i hope it provides a simpler approach.\r\n\r\n\r\n\tpublic class ThreadDemo\r\n\t{\r\n\t\tpublic static void main (String [] args)\r\n\t    {\r\n\t\t\tPrintDemo pd=new PrintDemo();\t  \r\n\t        MyThread1 mt1 = new MyThread1 (&quot;T1&quot;,pd);\r\n\t        MyThread2 mt2 = new MyThread2 (&quot;T2&quot;,pd);     \r\n\t        mt1.start ();\r\n\t        mt2.start();\r\n\t    }\r\n\t}\r\n\tclass PrintDemo {\r\n\t\tprivate boolean oddFlag=true;\r\n\t\tpublic synchronized void printOdd(int i,String tName){\r\n\t\t\tif(oddFlag==false){\r\n\t\t\t\ttry {\r\n\t\t\t\t\twait();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\t\r\n\t\t\t}else{\r\n\t\t\t\tSystem.out.println(&quot;\\nThread &quot;+tName+&quot; count:&quot;+i);\r\n\t\t\t\toddFlag=false;\r\n\t\t\t\tnotify();\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic synchronized void printEven(int i,String tName){\r\n\t\t\tif(oddFlag==true){\r\n\t\t\t\ttry {\r\n\t\t\t\t\twait();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\t\r\n\t\t\t}else{\r\n\t\t\t\tSystem.out.println(&quot;\\nThread &quot;+tName+&quot; count:&quot;+i);\r\n\t\t\t\toddFlag=true;\r\n\t\t\t\tnotify();\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\r\n\tclass MyThread1 extends Thread\r\n\t{\r\n\t\tprivate PrintDemo pd;\r\n\t    private String name;\r\n\t\r\n\t\tMyThread1(String threadName,PrintDemo pd){\r\n\t\t\tthis.name=threadName;\r\n\t\t\tthis.pd=pd;\r\n\t\t}  \r\n\t    public void run ()\t\r\n\t    {\r\n\t\t   for(int i=1;i&lt;=50;i+=2){\r\n\t   \t\t\tpd.printOdd(i,name);\r\n\t\t   }\r\n\t    }\r\n\t}\r\n\tclass MyThread2 extends Thread\r\n\t{\r\n\t\tprivate PrintDemo pd;\r\n\t\tprivate String name;\t\r\n\t\tMyThread2(String threadName,PrintDemo pd){\r\n\t\t\tthis.name=threadName;\r\n\t\t\tthis.pd=pd;\r\n\t\t}\t\r\n\t    public void run ()\r\n\t    {\r\n\t    \tfor(int i=2;i&lt;=50;i+=2){\r\n\t    \t\tpd.printEven(i,name);     \t\t\t\t\r\n\t    \t}\r\n\t    }\r\n\t}","title":"Writing a program with 2 threads which prints alternatively","body":"<p>I guess this might help.\nAlthough it is not standard but i hope it provides a simpler approach.</p>\n\n<pre><code>public class ThreadDemo\n{\n    public static void main (String [] args)\n    {\n        PrintDemo pd=new PrintDemo();     \n        MyThread1 mt1 = new MyThread1 (\"T1\",pd);\n        MyThread2 mt2 = new MyThread2 (\"T2\",pd);     \n        mt1.start ();\n        mt2.start();\n    }\n}\nclass PrintDemo {\n    private boolean oddFlag=true;\n    public synchronized void printOdd(int i,String tName){\n        if(oddFlag==false){\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }   \n        }else{\n            System.out.println(\"\\nThread \"+tName+\" count:\"+i);\n            oddFlag=false;\n            notify();\n        }\n    }\n    public synchronized void printEven(int i,String tName){\n        if(oddFlag==true){\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }   \n        }else{\n            System.out.println(\"\\nThread \"+tName+\" count:\"+i);\n            oddFlag=true;\n            notify();\n        }\n    }   \n}\nclass MyThread1 extends Thread\n{\n    private PrintDemo pd;\n    private String name;\n\n    MyThread1(String threadName,PrintDemo pd){\n        this.name=threadName;\n        this.pd=pd;\n    }  \n    public void run ()  \n    {\n       for(int i=1;i&lt;=50;i+=2){\n            pd.printOdd(i,name);\n       }\n    }\n}\nclass MyThread2 extends Thread\n{\n    private PrintDemo pd;\n    private String name;    \n    MyThread2(String threadName,PrintDemo pd){\n        this.name=threadName;\n        this.pd=pd;\n    }   \n    public void run ()\n    {\n        for(int i=2;i&lt;=50;i+=2){\n            pd.printEven(i,name);                   \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5386412,"reputation":645,"user_id":4290149,"accept_rate":60,"display_name":"nikhil7610"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434213613,"creation_date":1434207452,"answer_id":30820065,"question_id":9388838,"body_markdown":"I encountered the same problem and was expected to use only basics so I choose wait notify on shared object between threads\r\n\r\n\r\n    public class Message implements Runnable {\r\n    \r\n        private static final int N = 10;\r\n        private Thread thread;\r\n        private static Object object = new Object();\r\n    \r\n        public Message(String name){\r\n            thread = new Thread(this, name);\r\n            thread.start();\r\n        }\r\n    \r\n        public void run(){\r\n            for(int i=0; i&lt;N; i++){\r\n                synchronized (object) {\r\n                    System.out.println(i + &quot;--&quot; + thread.getName());\r\n                    object.notify();\r\n                    try {\r\n                        object.wait();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIn main method :\r\n\r\n    Message message1 = new Message(&quot;Ping&quot;);\r\n    Message message2 = new Message(&quot;Pong&quot;);\r\n\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<p>I encountered the same problem and was expected to use only basics so I choose wait notify on shared object between threads</p>\n\n<pre><code>public class Message implements Runnable {\n\n    private static final int N = 10;\n    private Thread thread;\n    private static Object object = new Object();\n\n    public Message(String name){\n        thread = new Thread(this, name);\n        thread.start();\n    }\n\n    public void run(){\n        for(int i=0; i&lt;N; i++){\n            synchronized (object) {\n                System.out.println(i + \"--\" + thread.getName());\n                object.notify();\n                try {\n                    object.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In main method :</p>\n\n<pre><code>Message message1 = new Message(\"Ping\");\nMessage message2 = new Message(\"Pong\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8074060,"reputation":41,"user_id":6085747,"display_name":"aman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471543557,"creation_date":1471543557,"answer_id":39024802,"question_id":9388838,"body_markdown":"This was the simplest solution, I was able to think of. It uses a synchronized method and uses the notify() and the wait() to alternatively print the numbers. Hope it helps. :)       \r\n    \r\n     public class program implements Runnable\r\n        {\r\n        \tstatic int count =1;\r\n        \tprivate static final int MAX_COUNT = 50;\r\n        \tpublic synchronized void print ()\r\n        \t{\r\n        \t\tSystem.out.println(Thread.currentThread().getName() + &quot; is printing &quot; + count);\r\n        \t\tcount++;\r\n        \t\tnotify();\r\n        \t\ttry{\r\n        \t\t\tif(count&gt;MAX_COUNT)\r\n        \t\t\t\treturn;\r\n        \t\t\twait();\r\n        \t\t}catch (InterruptedException e){ \r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t}\r\n        \tpublic void run()\r\n        \t{\r\n        \t\tfor(int i=0;i&lt;MAX_COUNT/2;i++)\r\n        \t\t{\r\n        \t\t\tprint();\r\n        \t\t\t\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \r\n        \t\tprogram x= new program();\r\n        \t\tThread t0= new Thread(x);\r\n        \t\tThread t1=  new Thread(x);\r\n        \t\tt0.start();\r\n        \t\ttry\r\n        \t\t{\r\n        \t\t\tThread.sleep(1);\r\n        \t\t} catch (InterruptedException e){\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t\tt1.start();\t\t\r\n        \t}\r\n        \t\t\r\n        \t\r\n        }\r\n\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<p>This was the simplest solution, I was able to think of. It uses a synchronized method and uses the notify() and the wait() to alternatively print the numbers. Hope it helps. :)       </p>\n\n<pre><code> public class program implements Runnable\n    {\n        static int count =1;\n        private static final int MAX_COUNT = 50;\n        public synchronized void print ()\n        {\n            System.out.println(Thread.currentThread().getName() + \" is printing \" + count);\n            count++;\n            notify();\n            try{\n                if(count&gt;MAX_COUNT)\n                    return;\n                wait();\n            }catch (InterruptedException e){ \n                e.printStackTrace();\n            }\n        }\n        public void run()\n        {\n            for(int i=0;i&lt;MAX_COUNT/2;i++)\n            {\n                print();\n\n            }\n        }\n\n        public static void main(String[] args) {\n\n            program x= new program();\n            Thread t0= new Thread(x);\n            Thread t1=  new Thread(x);\n            t0.start();\n            try\n            {\n                Thread.sleep(1);\n            } catch (InterruptedException e){\n                e.printStackTrace();\n            }\n            t1.start();     \n        }\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10523923,"reputation":15,"user_id":7755497,"display_name":"Pranay Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498847736,"creation_date":1498847736,"answer_id":44852897,"question_id":9388838,"body_markdown":"\r\n    //simply use wait and notify and and set a counter and it will do  \r\n    \r\n    public class ThreadalternatePrint implements Runnable {\r\n    \tstatic int counter =0; \r\n    \t@Override\r\n    \tpublic synchronized void run() {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(10);\r\n    \t\t} catch (InterruptedException e1) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\twhile(counter&lt;51)\r\n    \t\t{\t++counter;\r\n        \tnotify();\r\n        \tSystem.out.println(Thread.currentThread().getName());\r\n    \t\t\ttry {\r\n    \t\t\t\t\twait();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t}\t\t\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tThreadalternatePrint obj1 = new ThreadalternatePrint();\r\n    \t\tThread Th1 = new Thread(obj1);\r\n    \t\tThread Th2 = new Thread(obj1);\r\n    \t\tTh1.setName(&quot;Thread1&quot;);\r\n    \t\tTh2.setName(&quot;Thread2&quot;);\r\n    \t\tTh1.start();\r\n    \t\tTh2.start();\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<pre><code>//simply use wait and notify and and set a counter and it will do  \n\npublic class ThreadalternatePrint implements Runnable {\n    static int counter =0; \n    @Override\n    public synchronized void run() {\n        try {\n            Thread.sleep(10);\n        } catch (InterruptedException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n\n        while(counter&lt;51)\n        {   ++counter;\n        notify();\n        System.out.println(Thread.currentThread().getName());\n            try {\n                    wait();\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n        }       \n    }\n\n    public static void main(String[] args) {\n        ThreadalternatePrint obj1 = new ThreadalternatePrint();\n        Thread Th1 = new Thread(obj1);\n        Thread Th2 = new Thread(obj1);\n        Th1.setName(\"Thread1\");\n        Th2.setName(\"Thread2\");\n        Th1.start();\n        Th2.start();\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7713603,"reputation":1,"user_id":5842132,"display_name":"Bhawesh Kumar Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502454825,"creation_date":1502453781,"answer_id":45635029,"question_id":9388838,"body_markdown":"    public class Testing implements Runnable {\r\n\tprivate static int counter = 1;\r\n\tprivate static final Object lock = new Object();\r\n\r\n\tpublic static void main(String[] args)  {\r\n\r\n\t\tThread t1 = new Thread(new Testing(), &quot;1&quot;);\r\n\t\tt1.start();\r\n\t\tThread t2 = new Thread(new Testing(), &quot;2&quot;);\r\n\t\tt2.start();\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (counter&lt;=100) {\r\n\t\t\tsynchronized (lock) {\r\n\t\t\t\tif (counter % 2 == 0) {\r\n\t\t\t\t\tSystem.out.println(counter +&quot; Written By Thread-&quot;+ Thread.currentThread().getName());\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlock.notifyAll();\r\n\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (counter % 2 == 1) {\r\n\t\t\t\t\tSystem.out.println(counter +&quot; Written By Thread-&quot;+ Thread.currentThread().getName());\r\n\t\t\t\t\tcounter++;\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlock.notifyAll();\r\n\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<pre><code>public class Testing implements Runnable {\nprivate static int counter = 1;\nprivate static final Object lock = new Object();\n\npublic static void main(String[] args)  {\n\n    Thread t1 = new Thread(new Testing(), \"1\");\n    t1.start();\n    Thread t2 = new Thread(new Testing(), \"2\");\n    t2.start();\n\n}\n\n@Override\npublic void run() {\n    while (counter&lt;=100) {\n        synchronized (lock) {\n            if (counter % 2 == 0) {\n                System.out.println(counter +\" Written By Thread-\"+ Thread.currentThread().getName());\n                counter++;\n                try {\n                    lock.notifyAll();\n                    lock.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n            } else if (counter % 2 == 1) {\n                System.out.println(counter +\" Written By Thread-\"+ Thread.currentThread().getName());\n                counter++;\n\n                try {\n                    lock.notifyAll();\n                    lock.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8158893,"reputation":11,"user_id":6143520,"display_name":"Abhishek Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564004056,"creation_date":1563992524,"answer_id":57189080,"question_id":9388838,"body_markdown":"hi please find answer here...pattern  ABABABAB\r\n\r\n\r\n    package com.abhi.ThreadPractice;\r\n\r\n        public class Test {\r\n\r\n    \t\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\t\t  final Object lock = new Object();\r\n\t\t\t  Thread t1 = new Thread(new Runnable() {\r\n\r\n\t\t\t    @Override\r\n\t\t\t   public void run() {\r\n\t\t\t    for (int i = 0; i &lt; 10; i++) {\r\n\r\n\t\t\t      synchronized (lock) {\r\n\t\t\t     // count++;\r\n\t\t\t      System.out.println(&quot;A&quot;);\r\n\t\t\t      try {\r\n\t\t\t       lock.wait();\r\n\t\t\t       lock.notify();\r\n\t\t\t      } catch (InterruptedException e) {\r\n\t\t\t       e.printStackTrace();\r\n\t\t\t      }\r\n\t\t\t     }\r\n\t\t\t    }\r\n\t\t\t   }\r\n\t\t\t  });\t\t\t  \r\n\t\t\t  \r\n\t\t\t   Thread t2 = new Thread(new Runnable() {\r\n\r\n\t\t\t    @Override\r\n\t\t\t   public void run() {\r\n\t\t\t    for (int i = 0; i &lt; 10; i++) {\r\n\t\t\t     synchronized (lock) {\r\n\t\t\t      lock.notify();\r\n\t\t\t      //count++;\r\n\t\t\t      System.out.println(&quot;B&quot;);\r\n\t\t\t      try {\r\n\t\t\t       lock.wait();\r\n\t\t\t      } catch (InterruptedException e) {\r\n\t\t\t       e.printStackTrace();\r\n\t\t\t      }\r\n\t\t\t     }\r\n\t\t\t    }\r\n\t\t\t   }\r\n\t\t\t  });\r\n\r\n\t\t\t   t1.start();\r\n\t\t\t  t2.start();\r\n\t\t\t  t1.join();\r\n\t\t\t  t2.join();\r\n\r\n\t\t\t  }\r\n\r\n\t\t\t}","title":"Writing a program with 2 threads which prints alternatively","body":"<p>hi please find answer here...pattern  ABABABAB</p>\n\n<pre><code>package com.abhi.ThreadPractice;\n\n    public class Test {\n\n        public static void main(String[] args) throws InterruptedException {\n\n          final Object lock = new Object();\n          Thread t1 = new Thread(new Runnable() {\n\n            @Override\n           public void run() {\n            for (int i = 0; i &lt; 10; i++) {\n\n              synchronized (lock) {\n             // count++;\n              System.out.println(\"A\");\n              try {\n               lock.wait();\n               lock.notify();\n              } catch (InterruptedException e) {\n               e.printStackTrace();\n              }\n             }\n            }\n           }\n          });             \n\n           Thread t2 = new Thread(new Runnable() {\n\n            @Override\n           public void run() {\n            for (int i = 0; i &lt; 10; i++) {\n             synchronized (lock) {\n              lock.notify();\n              //count++;\n              System.out.println(\"B\");\n              try {\n               lock.wait();\n              } catch (InterruptedException e) {\n               e.printStackTrace();\n              }\n             }\n            }\n           }\n          });\n\n           t1.start();\n          t2.start();\n          t1.join();\n          t2.join();\n\n          }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7144471,"reputation":77,"user_id":5460745,"accept_rate":60,"display_name":"vikky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592854544,"creation_date":1592854544,"answer_id":62522181,"question_id":9388838,"body_markdown":"I have created a pretty basic Solution for it using the Reentrant Lock.\r\n\r\n    package com.multithreding.trylock;\r\n    \r\n    import java.util.concurrent.locks.ReentrantLock;\r\n    \r\n    public class TryLock extends Thread {\r\n    \r\n    \tstatic int intitialCount = 50;\t\t\t//Value till which you want to print\r\n    \tint valueToSubtract = 0; \t\t\t\t//Value by which difference you want to print the series like 1,2,3\r\n    \tstatic ReentrantLock alternate = new ReentrantLock();\r\n    \r\n    \tpublic TryLock(String name) {\r\n    \t\tthis.setName(name);\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\twhile (intitialCount &gt; 1) {    \t\t\r\n    \r\n    \t\t\tif (valueToSubtract &gt; 0) {\r\n    \t\t\t\talternate.lock();\r\n    \t\t\t\tintitialCount = intitialCount - valueToSubtract;\r\n    \t\t\t\tvalueToSubtract = 0;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(200);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;value Subtracted &quot; + intitialCount + &quot; by the Thread&quot; + this.getName());\r\n    \t\t\t\talternate.unlock();\r\n    \t\t\t} else {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(100);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\tvalueToSubtract++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n    package com.multithreding.trylock;\r\n    \r\n    public class AlternatePrint {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException{\r\n    \t\t//You  can add as many thread to print then in different number of series\r\n    \t\tTryLock t1 = new TryLock(&quot;Odd One&quot;);\r\n    \t\tTryLock t2 = new TryLock(&quot;Even Value&quot;);\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nThis solution is modular as well,\r\n\r\n - You can add &#39;n&#39; number of Threads to print the alternate series. i.e Using 3 thread at once\r\n\r\n - You can also print the series with more than Difference of more than 1. i.e 1,3,5 etc\r\n","title":"Writing a program with 2 threads which prints alternatively","body":"<p>I have created a pretty basic Solution for it using the Reentrant Lock.</p>\n<pre><code>package com.multithreding.trylock;\n\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class TryLock extends Thread {\n\n    static int intitialCount = 50;          //Value till which you want to print\n    int valueToSubtract = 0;                //Value by which difference you want to print the series like 1,2,3\n    static ReentrantLock alternate = new ReentrantLock();\n\n    public TryLock(String name) {\n        this.setName(name);\n    }\n\n    public void run() {\n        while (intitialCount &gt; 1) {         \n\n            if (valueToSubtract &gt; 0) {\n                alternate.lock();\n                intitialCount = intitialCount - valueToSubtract;\n                valueToSubtract = 0;\n                try {\n                    Thread.sleep(200);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                System.out.println(&quot;value Subtracted &quot; + intitialCount + &quot; by the Thread&quot; + this.getName());\n                alternate.unlock();\n            } else {\n                try {\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                valueToSubtract++;\n            }\n        }\n\n    }\n\n}\n\npackage com.multithreding.trylock;\n\npublic class AlternatePrint {\n\n    public static void main(String[] args) throws InterruptedException{\n        //You  can add as many thread to print then in different number of series\n        TryLock t1 = new TryLock(&quot;Odd One&quot;);\n        TryLock t2 = new TryLock(&quot;Even Value&quot;);\n        t1.start();\n        t2.start();\n\n    }\n\n}\n</code></pre>\n<p>This solution is modular as well,</p>\n<ul>\n<li><p>You can add 'n' number of Threads to print the alternate series. i.e Using 3 thread at once</p>\n</li>\n<li><p>You can also print the series with more than Difference of more than 1. i.e 1,3,5 etc</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20049288,"reputation":1,"user_id":14698306,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606212442,"creation_date":1606212442,"answer_id":64984236,"question_id":9388838,"body_markdown":"    package thread;\r\n    \r\n    public class Pingpong extends Thread {\r\n    \tstatic StringBuilder object = new StringBuilder(&quot;&quot;);\r\n    \tstatic int i=1;\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tworking();\r\n    \t}\r\n    \tvoid working() {\r\n    \t\twhile (i&lt;=10) {\r\n    \t\t\tsynchronized (object) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSystem.out.println(Thread.currentThread().getName() +&quot;  &quot;+ i);\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t\tobject.notify();\r\n    \t\t\t\t\tobject.wait();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tThread t1 = new Pingpong();\r\n    \t\tThread t2 = new Pingpong();\r\n     \t\tt1.setName(&quot;Thread1&quot;);\r\n    \t\tt2.setName(&quot;Thread2&quot;);\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t}\r\n    }\r\n    \r\n    Thread1  1\r\n    Thread2  2\r\n    Thread1  3\r\n    Thread2  4\r\n    Thread1  5\r\n    Thread2  6\r\n    Thread1  7\r\n    Thread2  8\r\n    Thread1  9\r\n    Thread2  10","title":"Writing a program with 2 threads which prints alternatively","body":"<pre><code>package thread;\n\npublic class Pingpong extends Thread {\n    static StringBuilder object = new StringBuilder(&quot;&quot;);\n    static int i=1;\n\n    @Override\n    public void run() {\n        working();\n    }\n    void working() {\n        while (i&lt;=10) {\n            synchronized (object) {\n                try {\n                    System.out.println(Thread.currentThread().getName() +&quot;  &quot;+ i);\n                    i++;\n                    object.notify();\n                    object.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    public static void main(String[] args) throws InterruptedException {\n        Thread t1 = new Pingpong();\n        Thread t2 = new Pingpong();\n        t1.setName(&quot;Thread1&quot;);\n        t2.setName(&quot;Thread2&quot;);\n        t1.start();\n        t2.start();\n    }\n}\n\nThread1  1\nThread2  2\nThread1  3\nThread2  4\nThread1  5\nThread2  6\nThread1  7\nThread2  8\nThread1  9\nThread2  10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642066867,"creation_date":1642066867,"answer_id":70694332,"question_id":9388838,"body_markdown":"This answer is generic i.e. not only to print numbers alternately from 2 threads but to execute 2 threads alternately. \r\nThe above approaches are commendable but this one doesn&#39;t need any lock but instead it uses an AtomicInteger variable alongwith 2 AtomicBooleans to indicate when one thread has finished executing so that the other can finish executing the rest of its remaining execution. \r\n\r\nThis will work in all 3 cases:\r\n\r\n1) When number of executions of both threads are same.\r\n2) When first thread finishes before second thread and second thread has more number of executions than first thread.\r\n3) When second thread finishes before first thread and first thread has more number of executions than second thread.\r\n\r\n```\r\npublic class TestAlternateExecutionOfTwoThreads\r\n{\r\n    private static final AtomicInteger count = new AtomicInteger(0);\r\n    private static final AtomicBoolean firstIsDone = new AtomicBoolean(false);\r\n    private static final AtomicBoolean secondIsDone = new AtomicBoolean(false);\r\n\r\n    // change the below values to change the number of iterations each thread should \r\n    // run. In this example, the initial value are hard-coded but you can change \r\n    // them as well.\r\n    private static final int finalOfFirstThread = 10;\r\n    private static final int finalOfSecondThread = 109;\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Runnable r1 = () -&gt; {\r\n            int i = 1;\r\n            for(; i &lt;= finalOfFirstThread; )\r\n            {\r\n                while(count.get() == 0)\r\n                {\r\n                    System.out.println(i);\r\n                    count.incrementAndGet();\r\n                    i++;\r\n                }\r\n                if(count.get() == 1 &amp;&amp; secondIsDone.get() &amp;&amp; i != (finalOfFirstThread + 1))\r\n                {\r\n                    System.out.println(i);\r\n                    i++;\r\n                }\r\n            }\r\n            firstIsDone.set(true);\r\n        };\r\n\r\n        Runnable r2 = () -&gt; {\r\n            int j = 100;\r\n            for (; j &lt;= finalOfSecondThread; )\r\n            {\r\n                while(count.get() == 1)\r\n                {\r\n                    System.out.println(j);\r\n                    count.decrementAndGet();\r\n                    j++;\r\n                }\r\n                if(count.get() == 0 &amp;&amp; firstIsDone.get() &amp;&amp; j != (finalOfSecondThread + 1))\r\n                {\r\n                    System.out.println(j);\r\n                    j++;\r\n                }\r\n            }\r\n            secondIsDone.set(true);\r\n        };\r\n\r\n        Thread t1 = new Thread(r1);\r\n        Thread t2 = new Thread(r2);\r\n\r\n        t1.start();\r\n        t2.start();\r\n\r\n    }\r\n}\r\n```","title":"Writing a program with 2 threads which prints alternatively","body":"<p>This answer is generic i.e. not only to print numbers alternately from 2 threads but to execute 2 threads alternately.\nThe above approaches are commendable but this one doesn't need any lock but instead it uses an AtomicInteger variable alongwith 2 AtomicBooleans to indicate when one thread has finished executing so that the other can finish executing the rest of its remaining execution.</p>\n<p>This will work in all 3 cases:</p>\n<ol>\n<li>When number of executions of both threads are same.</li>\n<li>When first thread finishes before second thread and second thread has more number of executions than first thread.</li>\n<li>When second thread finishes before first thread and first thread has more number of executions than second thread.</li>\n</ol>\n<pre><code>public class TestAlternateExecutionOfTwoThreads\n{\n    private static final AtomicInteger count = new AtomicInteger(0);\n    private static final AtomicBoolean firstIsDone = new AtomicBoolean(false);\n    private static final AtomicBoolean secondIsDone = new AtomicBoolean(false);\n\n    // change the below values to change the number of iterations each thread should \n    // run. In this example, the initial value are hard-coded but you can change \n    // them as well.\n    private static final int finalOfFirstThread = 10;\n    private static final int finalOfSecondThread = 109;\n\n    public static void main(String[] args)\n    {\n        Runnable r1 = () -&gt; {\n            int i = 1;\n            for(; i &lt;= finalOfFirstThread; )\n            {\n                while(count.get() == 0)\n                {\n                    System.out.println(i);\n                    count.incrementAndGet();\n                    i++;\n                }\n                if(count.get() == 1 &amp;&amp; secondIsDone.get() &amp;&amp; i != (finalOfFirstThread + 1))\n                {\n                    System.out.println(i);\n                    i++;\n                }\n            }\n            firstIsDone.set(true);\n        };\n\n        Runnable r2 = () -&gt; {\n            int j = 100;\n            for (; j &lt;= finalOfSecondThread; )\n            {\n                while(count.get() == 1)\n                {\n                    System.out.println(j);\n                    count.decrementAndGet();\n                    j++;\n                }\n                if(count.get() == 0 &amp;&amp; firstIsDone.get() &amp;&amp; j != (finalOfSecondThread + 1))\n                {\n                    System.out.println(j);\n                    j++;\n                }\n            }\n            secondIsDone.set(true);\n        };\n\n        Thread t1 = new Thread(r1);\n        Thread t2 = new Thread(r2);\n\n        t1.start();\n        t2.start();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":462722,"reputation":6359,"user_id":865188,"accept_rate":44,"display_name":"user2434"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39782,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":15,"score":9,"last_activity_date":1642066867,"creation_date":1329882573,"question_id":9388838,"body_markdown":"I got asked this question recently in an interview.\r\n\r\n\r\n\r\n&gt; Write a program with two threads (A and B), where A prints 1 , B prints 2 and so on until 50  is reached.\r\n\r\nHow do we go about doing that ?","title":"Writing a program with 2 threads which prints alternatively","body":"<p>I got asked this question recently in an interview.</p>\n\n<blockquote>\n  <p>Write a program with two threads (A and B), where A prints 1 , B prints 2 and so on until 50  is reached.</p>\n</blockquote>\n\n<p>How do we go about doing that ?</p>\n"},{"tags":["java","xml","pdf","xslt"],"comments":[{"owner":{"account_id":226171,"reputation":2569,"user_id":487062,"accept_rate":67,"display_name":"Sujith Surendranathan"},"score":1,"creation_date":1642025084,"post_id":70688970,"comment_id":124966139,"body_markdown":"Related: https://stackoverflow.com/questions/12200183/how-to-get-xsl-from-existing-pdf","body":"Related: <a href=\"https://stackoverflow.com/questions/12200183/how-to-get-xsl-from-existing-pdf\" title=\"how to get xsl from existing pdf\">stackoverflow.com/questions/12200183/&hellip;</a>"},{"owner":{"account_id":1633614,"reputation":7209,"user_id":1507691,"accept_rate":83,"display_name":"Zak"},"score":0,"creation_date":1642025133,"post_id":70688970,"comment_id":124966153,"body_markdown":"I have used [XMLtoPDF](http://xml-2-pdf.sourceforge.net/phpdoc/html/Xml2Pdf/tutorial_Xml2Pdf.pkg.html) for PHP -- I wonder if there is a JAVA equivalent ..","body":"I have used <a href=\"http://xml-2-pdf.sourceforge.net/phpdoc/html/Xml2Pdf/tutorial_Xml2Pdf.pkg.html\" rel=\"nofollow noreferrer\">XMLtoPDF</a> for PHP -- I wonder if there is a JAVA equivalent .."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1642031353,"post_id":70688970,"comment_id":124967559,"body_markdown":"The normal route is to use XSLT to convert the XML to XSL-FO, and then use an library such as FOP or AntennaHouse to convert XSL-FO to PDF.","body":"The normal route is to use XSLT to convert the XML to XSL-FO, and then use an library such as FOP or AntennaHouse to convert XSL-FO to PDF."},{"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"score":0,"creation_date":1642058418,"post_id":70688970,"comment_id":124972108,"body_markdown":"You mentioned XSL and XLS.  Which is it?","body":"You mentioned XSL and XLS.  Which is it?"},{"owner":{"account_id":23923050,"reputation":11,"user_id":17918570,"display_name":"Odosco"},"score":0,"creation_date":1642065616,"post_id":70688970,"comment_id":124974485,"body_markdown":"@PaulJowett you are right, sorry for that typo. I mean XSL - I will edit my post.","body":"@PaulJowett you are right, sorry for that typo. I mean XSL - I will edit my post."},{"owner":{"account_id":23923050,"reputation":11,"user_id":17918570,"display_name":"Odosco"},"score":0,"creation_date":1642065632,"post_id":70688970,"comment_id":124974493,"body_markdown":"@MichaelKay thanks for your quick response.\nTo convert the XML file I need a XSL file I guess?","body":"@MichaelKay thanks for your quick response. To convert the XML file I need a XSL file I guess?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1642068158,"post_id":70688970,"comment_id":124975489,"body_markdown":"Yes, this route involves writing XSLT code. It&#39;s the approach that gives you most control over what you&#39;re producing, but there may be simpler approaches especially if it doesn&#39;t need to be highly automated or efficient - you don&#39;t say anything about volumes.","body":"Yes, this route involves writing XSLT code. It&#39;s the approach that gives you most control over what you&#39;re producing, but there may be simpler approaches especially if it doesn&#39;t need to be highly automated or efficient - you don&#39;t say anything about volumes."}],"answers":[{"tags":[],"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642066516,"creation_date":1642066516,"answer_id":70694261,"question_id":70688970,"body_markdown":"Using a template is a good idea - it makes some changes much quicker to make and then deploy.  The comments above are focused on conversion, but don&#39;t forget you need to merge your data in (population) first.\r\n\r\nIf you can use Adobe tools, you can have a PDF template and use the Adobe tools to populate.  This saves a &quot;conversion&quot; stage.\r\n\r\nYou mentioned using Word for templates.  This means you to run through two stages of processing:\r\n\r\n 1. population - docx is a zipped set of XML files - so you can process them with your own code or using a library.\r\n 2. conversion - you need pdf, so you have to convert the docx to pdf.  You also have to watch out for fonts at this stage (ie make sure they are available on your host).\r\n\r\nThe population stage you could do yourself since you are familiar with XML.  But it is definitely complicated.  The conversion needs to use a tool that is ideal for it.  There are a few mentioned in the comments already.\r\n\r\nThere are some free/os and commercial tools that can do both parts:\r\n\r\n - docx4j\r\n - JOD Reports\r\n - Libre Office (using the Java Uno API) (I blogged this once - [Java Convert Word to PDF with UNO][1])\r\n - Docmosis (please note I work for Docmosis)\r\n\r\nI suggest starting with the simple example you have attached and prove you can both populate and convert that.  Then switch to a more complicated example to see if you can do the other things that might be required (eg repeating or conditions or other logic) during the population stage.\r\n\r\n\r\n  [1]: https://www.docmosis.com/company/blog/7-february-2015.html","title":"Java creating PDF file","body":"<p>Using a template is a good idea - it makes some changes much quicker to make and then deploy.  The comments above are focused on conversion, but don't forget you need to merge your data in (population) first.</p>\n<p>If you can use Adobe tools, you can have a PDF template and use the Adobe tools to populate.  This saves a &quot;conversion&quot; stage.</p>\n<p>You mentioned using Word for templates.  This means you to run through two stages of processing:</p>\n<ol>\n<li>population - docx is a zipped set of XML files - so you can process them with your own code or using a library.</li>\n<li>conversion - you need pdf, so you have to convert the docx to pdf.  You also have to watch out for fonts at this stage (ie make sure they are available on your host).</li>\n</ol>\n<p>The population stage you could do yourself since you are familiar with XML.  But it is definitely complicated.  The conversion needs to use a tool that is ideal for it.  There are a few mentioned in the comments already.</p>\n<p>There are some free/os and commercial tools that can do both parts:</p>\n<ul>\n<li>docx4j</li>\n<li>JOD Reports</li>\n<li>Libre Office (using the Java Uno API) (I blogged this once - <a href=\"https://www.docmosis.com/company/blog/7-february-2015.html\" rel=\"nofollow noreferrer\">Java Convert Word to PDF with UNO</a>)</li>\n<li>Docmosis (please note I work for Docmosis)</li>\n</ul>\n<p>I suggest starting with the simple example you have attached and prove you can both populate and convert that.  Then switch to a more complicated example to see if you can do the other things that might be required (eg repeating or conditions or other logic) during the population stage.</p>\n"}],"owner":{"account_id":23923050,"reputation":11,"user_id":17918570,"display_name":"Odosco"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642066532,"creation_date":1642024935,"question_id":70688970,"body_markdown":"I am currently working at a project which generates contracts. The idea is that I put the data in a form and save it in a simple database.\r\nSo long, this was my favorite place to search for good ideas and simple solutions.\r\n\r\nNow I am facing another problem and I don&#39;t know how I can solve that. I want to create a PDF and replace some placeholders with some data from my form.\r\nOne idea was, that I use an existing Word template with some bookmarks and replace them with the data from my form. Maybe there is a way to do that, and I am just too stupid to find it.\r\n\r\nAnother idea was, that I am using XML. Therefore, I thought I was clever and just converted the Word template to an PDF, so I am able to convert that PDF to an XML. Attached, you find the XML file. But now I need the XSL file - is there an easy way to create the XSL file? \r\n\r\nOr maybe there is another simple solution to solve my problem.\r\n\r\nIn these [attachments][1] you find the PDF file, the Word template and the XML:\r\n\r\nThank you a lot :)\r\n\r\n  [1]: https://1drv.ms/u/s!ApxzaO3-cFXEiOAHy8C1STJleaF4lw?e=bjmMjS","title":"Java creating PDF file","body":"<p>I am currently working at a project which generates contracts. The idea is that I put the data in a form and save it in a simple database.\nSo long, this was my favorite place to search for good ideas and simple solutions.</p>\n<p>Now I am facing another problem and I don't know how I can solve that. I want to create a PDF and replace some placeholders with some data from my form.\nOne idea was, that I use an existing Word template with some bookmarks and replace them with the data from my form. Maybe there is a way to do that, and I am just too stupid to find it.</p>\n<p>Another idea was, that I am using XML. Therefore, I thought I was clever and just converted the Word template to an PDF, so I am able to convert that PDF to an XML. Attached, you find the XML file. But now I need the XSL file - is there an easy way to create the XSL file?</p>\n<p>Or maybe there is another simple solution to solve my problem.</p>\n<p>In these <a href=\"https://1drv.ms/u/s!ApxzaO3-cFXEiOAHy8C1STJleaF4lw?e=bjmMjS\" rel=\"nofollow noreferrer\">attachments</a> you find the PDF file, the Word template and the XML:</p>\n<p>Thank you a lot :)</p>\n"},{"tags":["java","database","javafx","tableview"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1642061742,"post_id":70692767,"comment_id":124973138,"body_markdown":"This seems similar to [this answer](https://stackoverflow.com/questions/70684972/how-to-solve-error-no-suitable-method-found-for-addalljava-lang-string-meth), i.e. TableView&lt;?&gt; should be TableView&lt;Customer&gt;, but from your explanation, I don&#39;t understand what you are trying to do.  I also have no idea what &quot;cascading&quot; means.  If the comment doesn&#39;t help, really study this link well, [mcve], if you want assistance.","body":"This seems similar to <a href=\"https://stackoverflow.com/questions/70684972/how-to-solve-error-no-suitable-method-found-for-addalljava-lang-string-meth\">this answer</a>, i.e. TableView&lt;?&gt; should be TableView&lt;Customer&gt;, but from your explanation, I don&#39;t understand what you are trying to do.  I also have no idea what &quot;cascading&quot; means.  If the comment doesn&#39;t help, really study this link well, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, if you want assistance."},{"owner":{"account_id":15888995,"reputation":1,"user_id":11464679,"display_name":"Roy Ly"},"score":0,"creation_date":1642066508,"post_id":70692767,"comment_id":124974828,"body_markdown":"Thanks for reference links. all I am trying to do is populate a table for different classes.","body":"Thanks for reference links. all I am trying to do is populate a table for different classes."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1642067967,"post_id":70692767,"comment_id":124975417,"body_markdown":"But the different classes will have different fields corresponding to different columns in the table, how do you intend to do that without having different table views? I mean I guess you could use reflection to discover the fields in the class, then [dynamically create the table columns from that](https://stackoverflow.com/questions/18941093/how-to-fill-up-a-tableview-with-database-data), but I really don&#39;t know if you need to go that meta. Such an approach is certainly nothing like your example code.","body":"But the different classes will have different fields corresponding to different columns in the table, how do you intend to do that without having different table views? I mean I guess you could use reflection to discover the fields in the class, then <a href=\"https://stackoverflow.com/questions/18941093/how-to-fill-up-a-tableview-with-database-data\">dynamically create the table columns from that</a>, but I really don&#39;t know if you need to go that meta. Such an approach is certainly nothing like your example code."},{"owner":{"account_id":15888995,"reputation":1,"user_id":11464679,"display_name":"Roy Ly"},"score":0,"creation_date":1642081320,"post_id":70692767,"comment_id":124980575,"body_markdown":"Thank you ! I think this will work because that is my intent to load data from the database.  Thank You again .","body":"Thank you ! I think this will work because that is my intent to load data from the database.  Thank You again ."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1642089109,"post_id":70692767,"comment_id":124984031,"body_markdown":"If you&#39;re dynamically creating the table from an arbitrary database table, then presumably you wouldn&#39;t have a class to represent the data. You would use something like a `TableView&lt;List&lt;String&gt;&gt;`. I don&#39;t see how your code is relevant to what you&#39;re asking. If you have a few specific database tables, then create a model class for each one, and just switch out the different `TableView`s.","body":"If you&#39;re dynamically creating the table from an arbitrary database table, then presumably you wouldn&#39;t have a class to represent the data. You would use something like a <code>TableView&lt;List&lt;String&gt;&gt;</code>. I don&#39;t see how your code is relevant to what you&#39;re asking. If you have a few specific database tables, then create a model class for each one, and just switch out the different <code>TableView</code>s."},{"owner":{"account_id":15888995,"reputation":1,"user_id":11464679,"display_name":"Roy Ly"},"score":0,"creation_date":1642331573,"post_id":70692767,"comment_id":125037877,"body_markdown":"I kinda new to asking questions here , I get your point .","body":"I kinda new to asking questions here , I get your point ."}],"owner":{"account_id":15888995,"reputation":1,"user_id":11464679,"display_name":"Roy Ly"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642066153,"creation_date":1642058513,"question_id":70692767,"body_markdown":"So I am creating a simple GUI/Database application using JavaFX. It seems really powerful tool.\r\n\r\nThe problem is with **TableView** because whenever I create one, It should be of only one type. I&#39;ve tried multiple different ways to solve the problem but never works, here&#39;s some more details :\r\n\r\n```\r\n    public class SecretaryController implements Initializable {\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n    }\r\n\r\n    @FXML\r\n    private TableView&lt;?&gt; tableView;\r\n\r\n    @FXML\r\n    private TextField txtSearchCustomerId;\r\n\r\n    @FXML\r\n    private Button viewctbtn;\r\n\r\n    @FXML\r\n    void viewCustomerById(ActionEvent event) {\r\n\r\n        tableview = new TableView&lt;Customer&gt;;\r\n\r\n        SecretaryModel secretaryModel = new SecretaryModel();\r\n\r\n        TableColumn col_id = new TableColumn(&quot;Id&quot;);\r\n        TableColumn col_fname = new TableColumn(&quot;fname&quot;);\r\n        TableColumn col_lname = new TableColumn(&quot;lname&quot;);\r\n        TableColumn col_address = new TableColumn(&quot;Id&quot;);\r\n        TableColumn col_age = new TableColumn(&quot;age&quot;);\r\n        TableColumn col_email = new TableColumn(&quot;email&quot;);\r\n        TableColumn col_password = new TableColumn(&quot;password&quot;);\r\n        TableColumn col_isPremium = new TableColumn(&quot;ispremium&quot;);\r\n\r\n        tableView.getColumns().addAll(col_id, col_fname, col_lname, col_address, col_age, col_email, col_password, col_isPremium);\r\n\r\n        try {\r\n\r\n            col_id.setCellValueFactory(new PropertyValueFactory&lt;Customer, Integer&gt;(&quot;id&quot;));\r\n            col_fname.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;fname&quot;));\r\n            col_lname.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;lname&quot;));\r\n            col_address.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;address&quot;));\r\n            col_age.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;age&quot;));\r\n            col_email.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;email&quot;));\r\n            col_password.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;password&quot;));\r\n            col_isPremium.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;ispremium&quot;));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        ObservableList&lt;Customer&gt; customerObservableList = secretaryModel.getDataCustomers(Integer.parseInt(txtSearchCustomerId.getText()));\r\n\r\n        tableView.setItems(customerObservableList);\r\n\r\n    }\r\n\r\n```\r\n\r\nIt&#39;s giving me this error:\r\njava: incompatible types: javafx.collections.ObservableList&lt;com.example.taxiandrentapp.Customer&gt; cannot be converted to javafx.collections.ObservableList&lt;capture#1 of ?&gt;\r\n\r\n\r\nI would like to declare a TableView that can take any parameterized input , and whenever I press on *view customer* it associate the table view with customer class , and whenever I press on different button , it associate it to a different class.\r\n\r\nIf this can&#39;t be done , any proposed approach will be helpful .","title":"Typecasting TableView parameterized input JavaFX","body":"<p>So I am creating a simple GUI/Database application using JavaFX. It seems really powerful tool.</p>\n<p>The problem is with <strong>TableView</strong> because whenever I create one, It should be of only one type. I've tried multiple different ways to solve the problem but never works, here's some more details :</p>\n<pre><code>    public class SecretaryController implements Initializable {\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n    }\n\n    @FXML\n    private TableView&lt;?&gt; tableView;\n\n    @FXML\n    private TextField txtSearchCustomerId;\n\n    @FXML\n    private Button viewctbtn;\n\n    @FXML\n    void viewCustomerById(ActionEvent event) {\n\n        tableview = new TableView&lt;Customer&gt;;\n\n        SecretaryModel secretaryModel = new SecretaryModel();\n\n        TableColumn col_id = new TableColumn(&quot;Id&quot;);\n        TableColumn col_fname = new TableColumn(&quot;fname&quot;);\n        TableColumn col_lname = new TableColumn(&quot;lname&quot;);\n        TableColumn col_address = new TableColumn(&quot;Id&quot;);\n        TableColumn col_age = new TableColumn(&quot;age&quot;);\n        TableColumn col_email = new TableColumn(&quot;email&quot;);\n        TableColumn col_password = new TableColumn(&quot;password&quot;);\n        TableColumn col_isPremium = new TableColumn(&quot;ispremium&quot;);\n\n        tableView.getColumns().addAll(col_id, col_fname, col_lname, col_address, col_age, col_email, col_password, col_isPremium);\n\n        try {\n\n            col_id.setCellValueFactory(new PropertyValueFactory&lt;Customer, Integer&gt;(&quot;id&quot;));\n            col_fname.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;fname&quot;));\n            col_lname.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;lname&quot;));\n            col_address.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;address&quot;));\n            col_age.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;age&quot;));\n            col_email.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;email&quot;));\n            col_password.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;password&quot;));\n            col_isPremium.setCellValueFactory(new PropertyValueFactory&lt;Customer, String&gt;(&quot;ispremium&quot;));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        ObservableList&lt;Customer&gt; customerObservableList = secretaryModel.getDataCustomers(Integer.parseInt(txtSearchCustomerId.getText()));\n\n        tableView.setItems(customerObservableList);\n\n    }\n\n</code></pre>\n<p>It's giving me this error:\njava: incompatible types: javafx.collections.ObservableList&lt;com.example.taxiandrentapp.Customer&gt; cannot be converted to javafx.collections.ObservableList&lt;capture#1 of ?&gt;</p>\n<p>I would like to declare a TableView that can take any parameterized input , and whenever I press on <em>view customer</em> it associate the table view with customer class , and whenever I press on different button , it associate it to a different class.</p>\n<p>If this can't be done , any proposed approach will be helpful .</p>\n"},{"tags":["java","push-notification","calendar","google-calendar-api"],"answers":[{"tags":[],"owner":{"account_id":16420693,"reputation":2518,"user_id":11861954,"display_name":"Jacques-Guzel Heron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642066073,"creation_date":1642066073,"answer_id":70694160,"question_id":70693014,"body_markdown":"&gt; Can we register local host as a receiving url.\r\n\r\nNo, you can&#39;t. The Google API sends HTTPS `POST` messages, and for the HTTPS to work it needs a SSL certificate pointing to your domain. \r\n \r\n&gt; How to Register the domain.\r\n\r\nThere are no specific requisites about domain registration. You should register it following the usual procedures. Please remember to perform a domain verification on the Cloud Console after the registration.\r\n\r\n&gt; What does chanel means in this context?\r\n\r\nA *channel* configures the path for your push notifications. It contains the URL where you will receive the messages and notification settings. A channel is set to listen to one *resource* (i.e. a Calendar resource). When the resource gets updated, the Google API will send a HTTPS `POST` message to your channel URL.\r\n\r\n&gt; Can you share a sample which can show working push notification of\r\n&gt; calendar?\r\n\r\nThere are many different examples on the linked docs. If you need help on a particular topic, please be more specific about the related step.","title":"About Google Calendar Push Notification","body":"<blockquote>\n<p>Can we register local host as a receiving url.</p>\n</blockquote>\n<p>No, you can't. The Google API sends HTTPS <code>POST</code> messages, and for the HTTPS to work it needs a SSL certificate pointing to your domain.</p>\n<blockquote>\n<p>How to Register the domain.</p>\n</blockquote>\n<p>There are no specific requisites about domain registration. You should register it following the usual procedures. Please remember to perform a domain verification on the Cloud Console after the registration.</p>\n<blockquote>\n<p>What does chanel means in this context?</p>\n</blockquote>\n<p>A <em>channel</em> configures the path for your push notifications. It contains the URL where you will receive the messages and notification settings. A channel is set to listen to one <em>resource</em> (i.e. a Calendar resource). When the resource gets updated, the Google API will send a HTTPS <code>POST</code> message to your channel URL.</p>\n<blockquote>\n<p>Can you share a sample which can show working push notification of\ncalendar?</p>\n</blockquote>\n<p>There are many different examples on the linked docs. If you need help on a particular topic, please be more specific about the related step.</p>\n"}],"owner":{"account_id":23204966,"reputation":23,"user_id":17299313,"display_name":"The_N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70694160,"answer_count":1,"score":1,"last_activity_date":1642066073,"creation_date":1642060018,"question_id":70693014,"body_markdown":"Dear Google Calendar Team,\r\n\r\nI want to develop Push Notification for calendar. I have gone through the article\r\n\r\nhttps://developers.google.com/google-apps/calendar/v3/push\r\n\r\nBut I have couple of questions:-\r\n\r\nCan we register local host as a receiving url. \r\n\r\nHow to Register the domain. \r\n\r\nWhat does chanel means in this context? \r\n\r\nCan you share a sample which can show working push notification of calendar?","title":"About Google Calendar Push Notification","body":"<p>Dear Google Calendar Team,</p>\n<p>I want to develop Push Notification for calendar. I have gone through the article</p>\n<p><a href=\"https://developers.google.com/google-apps/calendar/v3/push\" rel=\"nofollow noreferrer\">https://developers.google.com/google-apps/calendar/v3/push</a></p>\n<p>But I have couple of questions:-</p>\n<p>Can we register local host as a receiving url.</p>\n<p>How to Register the domain.</p>\n<p>What does chanel means in this context?</p>\n<p>Can you share a sample which can show working push notification of calendar?</p>\n"},{"tags":["java","excel","apache-poi","sketchware"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1642200802,"post_id":70694121,"comment_id":125016845,"body_markdown":"POI is very memory heavy. Just my opinion, but if I planned to support spreadsheet usage on android, I would use Google Sheets and there are videos about using doing that using Sketchware - eg https://www.youtube.com/watch?v=Ox_cdqtue0I","body":"POI is very memory heavy. Just my opinion, but if I planned to support spreadsheet usage on android, I would use Google Sheets and there are videos about using doing that using Sketchware - eg <a href=\"https://www.youtube.com/watch?v=Ox_cdqtue0I\" rel=\"nofollow noreferrer\">youtube.com/watch?v=Ox_cdqtue0I</a>"},{"owner":{"account_id":23920784,"reputation":1,"user_id":17916670,"display_name":"Bhere Shubham"},"score":0,"creation_date":1642301718,"post_id":70694121,"comment_id":125033827,"body_markdown":"i wish to edit xlsx files offline... how can i do that","body":"i wish to edit xlsx files offline... how can i do that"}],"owner":{"account_id":23920784,"reputation":1,"user_id":17916670,"display_name":"Bhere Shubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642065927,"creation_date":1642065927,"question_id":70694121,"body_markdown":"i want edit excel files programmatically by sketchware.\r\nI couldn&#39;t implement Apache-poi, tried adding the libraries to the &#39;local_libs&#39; folder, but that didn&#39;t help. Can someone please help me to implement Apache-poi in Sketchware.\r\n","title":"How to use Apache Poi in Sketchware?","body":"<p>i want edit excel files programmatically by sketchware.\nI couldn't implement Apache-poi, tried adding the libraries to the 'local_libs' folder, but that didn't help. Can someone please help me to implement Apache-poi in Sketchware.</p>\n"},{"tags":["java","algorithm","data-structures","recursive-datastructures"],"answers":[{"tags":[],"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642065779,"creation_date":1642065779,"answer_id":70694088,"question_id":70693857,"body_markdown":"It appears that you are not familiar with what **largest number in each level of a binary tree** means. Your current implementation takes the largest of the left and right children of a node and if it only has one child then that child.\r\n\r\nA level in a binary tree consists of **all the nodes that have the same depth** regardless of whether they are immediate children of the same parent or not.\r\n\r\nTherefor you algorithm is fundamentally wrong.\r\n\r\nThere are 2 approaches to solve this problem: DFS and BFS.\r\n\r\nBFS is more straight forward, or it appears to me at least. Here&#39;s how it goes:\r\n\r\n 1. Loop over the nodes level by level (which BFS does by design).\r\n 2. Take the maximum element.\r\n 3. Move to the next level.\r\n\r\nDFS works as follows:\r\n\r\n 1. Keep a dictionary that maps levels as keys to greatest number in the level as value.\r\n 2. As you dive dfs, keep track of the depth with a parameter to your recursive function.\r\n 3. At each node, update the value of the key for that level if the current node is greater.\r\n 4. At the end convert your dictionary to whatever format you need.\r\nNote: It doesn&#39;t matter what flavor of DFS you use (inorder, preorder, etc.). Just make sure to visit every node and keep track of the depth.","title":"Largest value in each level of a binary tree","body":"<p>It appears that you are not familiar with what <strong>largest number in each level of a binary tree</strong> means. Your current implementation takes the largest of the left and right children of a node and if it only has one child then that child.</p>\n<p>A level in a binary tree consists of <strong>all the nodes that have the same depth</strong> regardless of whether they are immediate children of the same parent or not.</p>\n<p>Therefor you algorithm is fundamentally wrong.</p>\n<p>There are 2 approaches to solve this problem: DFS and BFS.</p>\n<p>BFS is more straight forward, or it appears to me at least. Here's how it goes:</p>\n<ol>\n<li>Loop over the nodes level by level (which BFS does by design).</li>\n<li>Take the maximum element.</li>\n<li>Move to the next level.</li>\n</ol>\n<p>DFS works as follows:</p>\n<ol>\n<li>Keep a dictionary that maps levels as keys to greatest number in the level as value.</li>\n<li>As you dive dfs, keep track of the depth with a parameter to your recursive function.</li>\n<li>At each node, update the value of the key for that level if the current node is greater.</li>\n<li>At the end convert your dictionary to whatever format you need.\nNote: It doesn't matter what flavor of DFS you use (inorder, preorder, etc.). Just make sure to visit every node and keep track of the depth.</li>\n</ol>\n"}],"owner":{"account_id":20889858,"reputation":33,"user_id":15345510,"display_name":"SEJU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70694088,"answer_count":1,"score":1,"last_activity_date":1642065779,"creation_date":1642064614,"question_id":70693857,"body_markdown":"Ok so I am working on my algorithm and data structure knowledge and I am trying to find the largest number in each level of a binary tree. I am not sure what is wrong with my logic here. \r\n\r\n    class Solution\r\n    {\r\n        int maxLevel = 0;\r\n        public ArrayList&lt;Integer&gt; largestValues(Node root)\r\n        {\r\n            //code here\r\n            ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n            \r\n            checkHeight(root, 1, arr);\r\n            return arr;\r\n        }\r\n        \r\n        \r\n        void checkHeight(Node root, int height, ArrayList&lt;Integer&gt; arr){\r\n            if(root == null){\r\n                return;\r\n            }\r\n            \r\n            if(maxLevel &lt; height){\r\n                if(root.left != null &amp;&amp; root.right != null){\r\n                    arr.add(Math.max(root.left.data, root.right.data));\r\n                }\r\n                if(root.left != null &amp;&amp; root.right == null){\r\n                    arr.add(root.left.data);\r\n                }\r\n                if(root.left == null &amp;&amp; root.right != null){\r\n                    arr.add(root.right.data);\r\n                }\r\n                if(root.left == null &amp;&amp; root.right == null){\r\n                    return;\r\n                }\r\n                maxLevel = height;\r\n            }\r\n            \r\n            checkHeight(root.left, height + 1, arr);\r\n            checkHeight(root.right, height + 1, arr);\r\n        }\r\n        \r\n    }\r\n\r\n","title":"Largest value in each level of a binary tree","body":"<p>Ok so I am working on my algorithm and data structure knowledge and I am trying to find the largest number in each level of a binary tree. I am not sure what is wrong with my logic here.</p>\n<pre><code>class Solution\n{\n    int maxLevel = 0;\n    public ArrayList&lt;Integer&gt; largestValues(Node root)\n    {\n        //code here\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n        \n        checkHeight(root, 1, arr);\n        return arr;\n    }\n    \n    \n    void checkHeight(Node root, int height, ArrayList&lt;Integer&gt; arr){\n        if(root == null){\n            return;\n        }\n        \n        if(maxLevel &lt; height){\n            if(root.left != null &amp;&amp; root.right != null){\n                arr.add(Math.max(root.left.data, root.right.data));\n            }\n            if(root.left != null &amp;&amp; root.right == null){\n                arr.add(root.left.data);\n            }\n            if(root.left == null &amp;&amp; root.right != null){\n                arr.add(root.right.data);\n            }\n            if(root.left == null &amp;&amp; root.right == null){\n                return;\n            }\n            maxLevel = height;\n        }\n        \n        checkHeight(root.left, height + 1, arr);\n        checkHeight(root.right, height + 1, arr);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","txt"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1642065870,"post_id":70694076,"comment_id":124974580,"body_markdown":"given the fact most sdks already have built in temp folder/file creating functions, your question had better remove the `temp` keyword.","body":"given the fact most sdks already have built in temp folder/file creating functions, your question had better remove the <code>temp</code> keyword."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1642065942,"post_id":70694076,"comment_id":124974604,"body_markdown":"@LeiYang `temp` is not a keyword","body":"@LeiYang <code>temp</code> is not a keyword"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1642066047,"post_id":70694076,"comment_id":124974641,"body_markdown":"isn&#39;t Temp a keyword in the title? it will let readers thinking of sdk&#39;s built in temp file creating functions.","body":"isn&#39;t Temp a keyword in the title? it will let readers thinking of sdk&#39;s built in temp file creating functions."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":1,"creation_date":1642085750,"post_id":70694076,"comment_id":124982686,"body_markdown":"The `temporarystudent.txt` **is** getting created and filled with `student1.txt` data. You just can&#39;t see the file because ... the `student1.txt` file is deleted with: `file.delete();` and the `temporarystudent.txt` file it is renamed right away with: `temp.renameTo(file);`. You will never see this file unless you step through your code with a debugger and look at the local file system before the file is renamed or an exception occurs before the rename happens. If you want to see this temp file then don&#39;t delete the `student1.txt` file and don&#39;t rename the temp file.","body":"The <code>temporarystudent.txt</code> <b>is</b> getting created and filled with <code>student1.txt</code> data. You just can&#39;t see the file because ... the <code>student1.txt</code> file is deleted with: <code>file.delete();</code> and the <code>temporarystudent.txt</code> file it is renamed right away with: <code>temp.renameTo(file);</code>. You will never see this file unless you step through your code with a debugger and look at the local file system before the file is renamed or an exception occurs before the rename happens. If you want to see this temp file then don&#39;t delete the <code>student1.txt</code> file and don&#39;t rename the temp file."}],"owner":{"display_name":"user17772885"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642065725,"creation_date":1642065725,"question_id":70694076,"body_markdown":"I would like to create a temporary txt file for my program. In the code below, &quot;student1.txt&quot; is a txt file that has already created but for &quot;temporarystudent.txt&quot; is is not. I have tried to run with Line 6 (while in Line 7 &amp; 8 in comment) as well as  Line 7 &amp; 8 (while Line 6 in comment) but neither of them are able to create &quot;temporarystudent.txt&quot;. When I run the program, it didn&#39;t show any error neither in VS Code Terminal nor in the Program Output. It just won&#39;t create the &quot;temporarystudent.txt&quot;. May I know what&#39;s wrong here?\r\n```\r\n    try\r\n    {  \t\r\n      //Locate the file.\r\n      File file = new File(&quot;student1.txt&quot;);\r\n      //Create a temporary file\r\n      //File temp = File.createTempFile(&quot;temporarystudent&quot;, &quot;.txt&quot;, file.getParentFile());\r\n      File temp = new File(&quot;temporarystudent.txt&quot;);\r\n      temp.createNewFile();\r\n      //Determine the charset.\r\n      String charset = &quot;UTF-8&quot;;\r\n      //Open the file for reading.\r\n      BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), charset));\r\n      //Open the temp file for writing.\r\n      PrintWriter writer = new PrintWriter(new OutputStreamWriter(new FileOutputStream(temp), charset));\r\n      //Read the file line by line.\r\n      for (String line; (line = reader.readLine()) != null;) {\r\n        line = line.replace(&quot;null\\n&quot;, &quot;&quot;);\r\n        writer.println(line);   \r\n      }\r\n\r\n      //Close the reader and writer (preferably in the finally block).\r\n      reader.close();\r\n      writer.close();\r\n      //Delete the file.\r\n      file.delete();\r\n      //Rename the temp file.\r\n      temp.renameTo(file);\r\n      \r\n    }\r\n    catch (IOException e)\r\n    {\r\n        System.out.println(&quot;An error occurred.&quot;);\r\n        e.printStackTrace();\r\n    }\r\n```","title":"Won&#39;t Create Temp txt file","body":"<p>I would like to create a temporary txt file for my program. In the code below, &quot;student1.txt&quot; is a txt file that has already created but for &quot;temporarystudent.txt&quot; is is not. I have tried to run with Line 6 (while in Line 7 &amp; 8 in comment) as well as  Line 7 &amp; 8 (while Line 6 in comment) but neither of them are able to create &quot;temporarystudent.txt&quot;. When I run the program, it didn't show any error neither in VS Code Terminal nor in the Program Output. It just won't create the &quot;temporarystudent.txt&quot;. May I know what's wrong here?</p>\n<pre><code>    try\n    {   \n      //Locate the file.\n      File file = new File(&quot;student1.txt&quot;);\n      //Create a temporary file\n      //File temp = File.createTempFile(&quot;temporarystudent&quot;, &quot;.txt&quot;, file.getParentFile());\n      File temp = new File(&quot;temporarystudent.txt&quot;);\n      temp.createNewFile();\n      //Determine the charset.\n      String charset = &quot;UTF-8&quot;;\n      //Open the file for reading.\n      BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), charset));\n      //Open the temp file for writing.\n      PrintWriter writer = new PrintWriter(new OutputStreamWriter(new FileOutputStream(temp), charset));\n      //Read the file line by line.\n      for (String line; (line = reader.readLine()) != null;) {\n        line = line.replace(&quot;null\\n&quot;, &quot;&quot;);\n        writer.println(line);   \n      }\n\n      //Close the reader and writer (preferably in the finally block).\n      reader.close();\n      writer.close();\n      //Delete the file.\n      file.delete();\n      //Rename the temp file.\n      temp.renameTo(file);\n      \n    }\n    catch (IOException e)\n    {\n        System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":19834294,"reputation":338,"user_id":14528242,"display_name":"0awawa0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642065413,"creation_date":1642065413,"answer_id":70694014,"question_id":70680252,"body_markdown":"So I solved the issue. There was a bug in my bitmap receiving code, so the final `ByteArray` didn&#39;t contain data for the last image column. Apparently, Android 7+ decoding mechanism ignores this issue and just decodes as much data as possible. But the previous versions of the OS strictly require enough data for full image.","title":"Show .bmp file in ImageView Android 6","body":"<p>So I solved the issue. There was a bug in my bitmap receiving code, so the final <code>ByteArray</code> didn't contain data for the last image column. Apparently, Android 7+ decoding mechanism ignores this issue and just decodes as much data as possible. But the previous versions of the OS strictly require enough data for full image.</p>\n"}],"owner":{"account_id":19834294,"reputation":338,"user_id":14528242,"display_name":"0awawa0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70694014,"answer_count":1,"score":0,"last_activity_date":1642065413,"creation_date":1641984688,"question_id":70680252,"body_markdown":"My application receives `ByteArray` with .bmp file in it from backend. I need to output that bmp file in ImageView. For Android versions 7+ I create `Bitmap` with `BitmapFactory.decodeByteArray()` and then do `imgView.setImageBitmap()` and it works perfectly fine. But for OS versions 5 and 6 `BitmapFactory.decodeByteArray()` returns `null`.\r\n\r\nI also tried writing bytes to file and creating `Bitmap` from file or stream - no good. Creating `Drawable` from the file and using file&#39;s `Uri` for `ImageView.setImageUri()` didn&#39;t solve the issue either.\r\n\r\nPicasso and Glide libraries also don&#39;t work.\r\n\r\nI would think that Android 5 and 6 can&#39;t work with bmp at all, but that just doesn&#39;t sound right. Also when I put test image (the same as the one that I receive from server) to `res/mipmap` folder I am able to output it to my ImageView.\r\n\r\nSo my question is what is the solution to that? How do I output .bmp image from `ByteArray` or locally saved file to `ImageView` on Android 5 and 6?\r\n","title":"Show .bmp file in ImageView Android 6","body":"<p>My application receives <code>ByteArray</code> with .bmp file in it from backend. I need to output that bmp file in ImageView. For Android versions 7+ I create <code>Bitmap</code> with <code>BitmapFactory.decodeByteArray()</code> and then do <code>imgView.setImageBitmap()</code> and it works perfectly fine. But for OS versions 5 and 6 <code>BitmapFactory.decodeByteArray()</code> returns <code>null</code>.</p>\n<p>I also tried writing bytes to file and creating <code>Bitmap</code> from file or stream - no good. Creating <code>Drawable</code> from the file and using file's <code>Uri</code> for <code>ImageView.setImageUri()</code> didn't solve the issue either.</p>\n<p>Picasso and Glide libraries also don't work.</p>\n<p>I would think that Android 5 and 6 can't work with bmp at all, but that just doesn't sound right. Also when I put test image (the same as the one that I receive from server) to <code>res/mipmap</code> folder I am able to output it to my ImageView.</p>\n<p>So my question is what is the solution to that? How do I output .bmp image from <code>ByteArray</code> or locally saved file to <code>ImageView</code> on Android 5 and 6?</p>\n"},{"tags":["java","android","java-native-interface","function-pointers","swig"],"comments":[{"owner":{"account_id":4749863,"reputation":27187,"user_id":3840170,"display_name":"user3840170"},"score":1,"creation_date":1642063323,"post_id":70628532,"comment_id":124973646,"body_markdown":"So what is it that you want to accomplish? I have a hard time extracting any meaning out of this Time Cube aesthetic.","body":"So what is it that you want to accomplish? I have a hard time extracting any meaning out of this Time Cube aesthetic."},{"owner":{"account_id":103329,"reputation":1056,"user_id":1225076,"accept_rate":58,"display_name":"NitZRobotKoder"},"score":0,"creation_date":1642064105,"post_id":70628532,"comment_id":124973916,"body_markdown":"The C function pointer will come as parameter to java. I  want to call C function pointer back from java. need to generate wrappers accordingly. http://www.swig.org/Doc1.3/Java.html#java_directors_faq","body":"The C function pointer will come as parameter to java. I  want to call C function pointer back from java. need to generate wrappers accordingly. <a href=\"http://www.swig.org/Doc1.3/Java.html#java_directors_faq\" rel=\"nofollow noreferrer\">swig.org/Doc1.3/Java.html#java_directors_faq</a>"},{"owner":{"account_id":56144,"reputation":87639,"user_id":168175,"accept_rate":88,"display_name":"Flexo"},"score":2,"creation_date":1642264152,"post_id":70628532,"comment_id":125026923,"body_markdown":"Directors is a C++ feature. Do you want to do this using only C?","body":"Directors is a C++ feature. Do you want to do this using only C?"},{"owner":{"account_id":103329,"reputation":1056,"user_id":1225076,"accept_rate":58,"display_name":"NitZRobotKoder"},"score":0,"creation_date":1642442652,"post_id":70628532,"comment_id":125066875,"body_markdown":"Want to use in SWIG as a tool.","body":"Want to use in SWIG as a tool."},{"owner":{"account_id":1814146,"reputation":3438,"user_id":1649615,"accept_rate":67,"display_name":"Mickey Tin"},"score":1,"creation_date":1642589055,"post_id":70628532,"comment_id":125108752,"body_markdown":"just some voice in my head: 1) Save a callback pointer address as a long value 2) Pass it up to java 3) Create a simple native java method with the needed arguments + the long argument for a pointer 4) On the OS event call that native function 5) Handle that call on JNI(native) layer and cast the pointer(void*) to plt_http_responseCB 6) Invoke the callback passing the arguments that came along","body":"just some voice in my head: 1) Save a callback pointer address as a long value 2) Pass it up to java 3) Create a simple native java method with the needed arguments + the long argument for a pointer 4) On the OS event call that native function 5) Handle that call on JNI(native) layer and cast the pointer(void*) to plt_http_responseCB 6) Invoke the callback passing the arguments that came along"}],"owner":{"account_id":103329,"reputation":1056,"user_id":1225076,"accept_rate":58,"display_name":"NitZRobotKoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642064876,"creation_date":1641600663,"question_id":70628532,"body_markdown":"I am using SWIG to generate Java and C++ wrappers to connect Java and C code: Java code  C++ wrapper code  C code.\r\n\r\n1) C structure is defined like below, with a callback function pointer:\r\n\r\n    ```lang-c\r\n    BOOL (STDCALL *sendAsyncRequest)(http_req_params *params, http_req **req);\r\n\r\n    typedef struct http_req_params\r\n    {\r\n        CHAR*                url;\r\n        struct\r\n        {\r\n            UCHAR          name[100];\r\n            UCHAR          val[100];\r\n        } hdrs[10];\r\n        plt_http_responseCB    rspCallBack;\r\n        plt_http_type_params           *http_type_params;\r\n        plt_http_req_multipart_info    *multipartReqData;\r\n    } _plt_http_req_params;\r\n\r\n    typedef struct {\r\n        UINT32                           length;\r\n        VOID                             *pMultipartContent;\r\n        CHAR                             contentType[10];\r\n    } http_req_multipart_contents;\r\n\r\n    typedef struct {\r\n        CHAR                             multipartBoundaryInfo[10];\r\n        UINT32                           multipartContentCount;\r\n        http_req_multipart_contents         **multipartContents;\r\n    } plt_http_req_multipart_info;\r\n    ```\r\n\r\n2) Now I want to wrap the above struct in a Java object using SWIG. How do we register for the callback function (`plt_http_responseCB`) with Java layer?\r\n\r\n3) This is the response callback definition:\r\n\r\n    ```lang-c\r\n    typedef BOOL (STDCALL *plt_http_responseCB)(plt_http_rsp_params *rspInfo);\r\n\r\n    typedef struct _plt_http_rsp_params\r\n    {\r\n        UINT16 reqStatus;\r\n        UINT16 httpStatus;\r\n        VOID * userData;\r\n        plt_buf_info rspData;\r\n        struct\r\n        {\r\n            UCHAR   name[100];\r\n            UCHAR   val[100];\r\n        } hdrs[10];\r\n    } plt_http_rsp_params;\r\n    ```\r\n\r\nOn some OS events, we need to notify the C layer with the callback function (`plt_http_responseCB`) which we received as part of C struct.\r\n\r\nHow can I achieve this using SWIG and generate Java wrappers?  How can I apply the [&quot;director&quot; feature][swig/director] in this use case?\r\n\r\n[swig/director]: http://www.swig.org/Doc1.3/Java.html#java_directors_faq\r\n","title":"Invoking a C callback, received through SWIG, from Java code","body":"<p>I am using SWIG to generate Java and C++ wrappers to connect Java and C code: Java code  C++ wrapper code  C code.</p>\n<ol>\n<li><p>C structure is defined like below, with a callback function pointer:</p>\n<pre class=\"lang-c prettyprint-override\"><code>BOOL (STDCALL *sendAsyncRequest)(http_req_params *params, http_req **req);\n\ntypedef struct http_req_params\n{\n    CHAR*                url;\n    struct\n    {\n        UCHAR          name[100];\n        UCHAR          val[100];\n    } hdrs[10];\n    plt_http_responseCB    rspCallBack;\n    plt_http_type_params           *http_type_params;\n    plt_http_req_multipart_info    *multipartReqData;\n} _plt_http_req_params;\n\ntypedef struct {\n    UINT32                           length;\n    VOID                             *pMultipartContent;\n    CHAR                             contentType[10];\n} http_req_multipart_contents;\n\ntypedef struct {\n    CHAR                             multipartBoundaryInfo[10];\n    UINT32                           multipartContentCount;\n    http_req_multipart_contents         **multipartContents;\n} plt_http_req_multipart_info;\n</code></pre>\n</li>\n<li><p>Now I want to wrap the above struct in a Java object using SWIG. How do we register for the callback function (<code>plt_http_responseCB</code>) with Java layer?</p>\n</li>\n<li><p>This is the response callback definition:</p>\n<pre class=\"lang-c prettyprint-override\"><code>typedef BOOL (STDCALL *plt_http_responseCB)(plt_http_rsp_params *rspInfo);\n\ntypedef struct _plt_http_rsp_params\n{\n    UINT16 reqStatus;\n    UINT16 httpStatus;\n    VOID * userData;\n    plt_buf_info rspData;\n    struct\n    {\n        UCHAR   name[100];\n        UCHAR   val[100];\n    } hdrs[10];\n} plt_http_rsp_params;\n</code></pre>\n</li>\n</ol>\n<p>On some OS events, we need to notify the C layer with the callback function (<code>plt_http_responseCB</code>) which we received as part of C struct.</p>\n<p>How can I achieve this using SWIG and generate Java wrappers?  How can I apply the <a href=\"http://www.swig.org/Doc1.3/Java.html#java_directors_faq\" rel=\"nofollow noreferrer\">&quot;director&quot; feature</a> in this use case?</p>\n"},{"tags":["java","android","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642064806,"creation_date":1642064806,"answer_id":70693900,"question_id":70566910,"body_markdown":"I found the solution myself. I had to use eglGetConfigAttrib like this:\r\n\r\n        int[] lValue = new int[1];\r\n        lEgl.eglGetConfigAttrib(lDisplay, configs[0],  EGL10.EGL_ALPHA_SIZE , lValue);\r\n        Log.v(&quot;eglresult&quot;, &quot;EGL_ALPHA_SIZE: &quot; + lValue[0]);","title":"Android EGLConfig has no properties","body":"<p>I found the solution myself. I had to use eglGetConfigAttrib like this:</p>\n<pre><code>    int[] lValue = new int[1];\n    lEgl.eglGetConfigAttrib(lDisplay, configs[0],  EGL10.EGL_ALPHA_SIZE , lValue);\n    Log.v(&quot;eglresult&quot;, &quot;EGL_ALPHA_SIZE: &quot; + lValue[0]);\n</code></pre>\n"}],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70693900,"answer_count":1,"score":0,"last_activity_date":1642064806,"creation_date":1641218493,"question_id":70566910,"body_markdown":"I am getting EGLConfig objects using eglChooseConfig on Android like this:\r\n\r\n        ...\r\n        int[] configSpec = new int[]\r\n        {\r\n            EGL10.EGL_RENDERABLE_TYPE, EGL_OPENGL_ES2_BIT,\r\n            EGL10.EGL_NONE\r\n        };\r\n        if (!lEgl.eglChooseConfig(lDisplay, configSpec, configs, configs.length, num_config))\r\n        {\r\n        ...\r\n\r\neglChooseConfig returns 19 EGLConfig objects.\r\n\r\nI want to get properties from these objects like color depth for example.\r\n\r\nThe problem is that the EGLConfig class has no getters nor public members.\r\nSee [EGLConfig documentation][1].\r\n\r\nDoes anybody know how to get properties like color depth from an EGLConfig object?\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/opengl/EGLConfig","title":"Android EGLConfig has no properties","body":"<p>I am getting EGLConfig objects using eglChooseConfig on Android like this:</p>\n<pre><code>    ...\n    int[] configSpec = new int[]\n    {\n        EGL10.EGL_RENDERABLE_TYPE, EGL_OPENGL_ES2_BIT,\n        EGL10.EGL_NONE\n    };\n    if (!lEgl.eglChooseConfig(lDisplay, configSpec, configs, configs.length, num_config))\n    {\n    ...\n</code></pre>\n<p>eglChooseConfig returns 19 EGLConfig objects.</p>\n<p>I want to get properties from these objects like color depth for example.</p>\n<p>The problem is that the EGLConfig class has no getters nor public members.\nSee <a href=\"https://developer.android.com/reference/android/opengl/EGLConfig\" rel=\"nofollow noreferrer\">EGLConfig documentation</a>.</p>\n<p>Does anybody know how to get properties like color depth from an EGLConfig object?</p>\n"},{"tags":["java","apache-camel","integration-patterns"],"answers":[{"tags":[],"owner":{"account_id":1832030,"reputation":1332,"user_id":1663232,"accept_rate":62,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1435907932,"creation_date":1435842960,"answer_id":31185696,"question_id":31145045,"body_markdown":"From http://camel.apache.org/content-enricher.html\r\n\r\n&gt; ...\r\n&gt; Instead of using enrich you can use Recipient List and have dynamic\r\n&gt; endpoints and define an AggregationStrategy on the Recipient List\r\n&gt; which then would work as a enrich would do. ...\r\n\r\ntry something like:\r\n\r\n    from(URI_WEBSERVICE)\r\n    .convertBodyTo(Entrada.class)\r\n    .process(new ProcessorTratarWS()) \r\n    .recipientList(simple(&quot;ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=${property.archivoRespuesta}&quot;)).aggregationStrategy(new EstrategiaConfirmacion())\r\n    .to(WS_RESPONDER)\r\n\r\nEdit:\r\n\r\nThe above code is to save file in FTP server.\r\nIf you want to poll file from the FTP server you can try\r\n\r\n\t\t\tfrom(URI_WEBSERVICE)\r\n\t\t\t\t.convertBodyTo(Entrada.class)\r\n\t\t\t\t.process(new Processor() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void process(Exchange exchange) throws Exception {\r\n\t\t\t\t\t\t// logic of ProcessorTratarWS goes here\r\n\t\t\t\t\t\tConsumerTemplate consumer=exchange.getContext().createConsumerTemplate();\r\n\t\t\t\t\t\tString filename=exchange.getProperty(&quot;archivoRespuesta&quot;,String.class);\t\t\t\t\t\r\n\t\t\t\t\t\tObject file=consumer.receiveBody(&quot;ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=&quot;+filename,timeOut);\r\n\t\t\t\t\t\t// logic of EstrategiaConfirmacion goes here\r\n\t\t\t\t}\r\n        \t\t\r\n        \t})\r\n        \t.to(WS_RESPONDER);\t\r\n\r\nDisclaimer: I have not used [polling consumer][1] much and there could be more elegant/efficient solution\r\n\r\n\r\n  [1]: http://camel.apache.org/polling-consumer.html","title":"Camel: pollEnrich and access to the Exchange","body":"<p>From <a href=\"http://camel.apache.org/content-enricher.html\" rel=\"nofollow\">http://camel.apache.org/content-enricher.html</a></p>\n\n<blockquote>\n  <p>...\n  Instead of using enrich you can use Recipient List and have dynamic\n  endpoints and define an AggregationStrategy on the Recipient List\n  which then would work as a enrich would do. ...</p>\n</blockquote>\n\n<p>try something like:</p>\n\n<pre><code>from(URI_WEBSERVICE)\n.convertBodyTo(Entrada.class)\n.process(new ProcessorTratarWS()) \n.recipientList(simple(\"ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=${property.archivoRespuesta}\")).aggregationStrategy(new EstrategiaConfirmacion())\n.to(WS_RESPONDER)\n</code></pre>\n\n<p>Edit:</p>\n\n<p>The above code is to save file in FTP server.\nIf you want to poll file from the FTP server you can try</p>\n\n<pre><code>        from(URI_WEBSERVICE)\n            .convertBodyTo(Entrada.class)\n            .process(new Processor() {\n                @Override\n                public void process(Exchange exchange) throws Exception {\n                    // logic of ProcessorTratarWS goes here\n                    ConsumerTemplate consumer=exchange.getContext().createConsumerTemplate();\n                    String filename=exchange.getProperty(\"archivoRespuesta\",String.class);                  \n                    Object file=consumer.receiveBody(\"ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=\"+filename,timeOut);\n                    // logic of EstrategiaConfirmacion goes here\n            }\n\n        })\n        .to(WS_RESPONDER);  \n</code></pre>\n\n<p>Disclaimer: I have not used <a href=\"http://camel.apache.org/polling-consumer.html\" rel=\"nofollow\">polling consumer</a> much and there could be more elegant/efficient solution</p>\n"},{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642064626,"creation_date":1642064626,"answer_id":70693860,"question_id":31145045,"body_markdown":"You can use &quot;simple&quot; expression\r\nalso use &quot;exchangeProperty&quot; instead of &quot;property&quot; in the string\r\n\r\n    from(URI_WEBSERVICE)\r\n    .convertBodyTo(Entrada.class)\r\n    .process(new ProcessorTratarWS()) \r\n    .pollEnrich().simple(&quot;ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=${exchangeProperty.archivoRespuesta}&quot;)\r\n    .timeout(timeOut)\r\n    .aggregationStrategy(new EstrategiaConfirmacion())\r\n    .to(WS_RESPONDER)\r\n\r\n","title":"Camel: pollEnrich and access to the Exchange","body":"<p>You can use &quot;simple&quot; expression\nalso use &quot;exchangeProperty&quot; instead of &quot;property&quot; in the string</p>\n<pre><code>from(URI_WEBSERVICE)\n.convertBodyTo(Entrada.class)\n.process(new ProcessorTratarWS()) \n.pollEnrich().simple(&quot;ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=${exchangeProperty.archivoRespuesta}&quot;)\n.timeout(timeOut)\n.aggregationStrategy(new EstrategiaConfirmacion())\n.to(WS_RESPONDER)\n</code></pre>\n"}],"owner":{"account_id":381789,"reputation":814,"user_id":736643,"accept_rate":71,"display_name":"Desenfoque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1802,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31185696,"answer_count":2,"score":1,"last_activity_date":1642064626,"creation_date":1435686744,"question_id":31145045,"body_markdown":"I have this route\r\n\r\n    from(URI_WEBSERVICE)\r\n    .convertBodyTo(Entrada.class)\r\n    .process(new ProcessorTratarWS()) \r\n    .pollEnrich(&quot;ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=${property.archivoRespuesta}&quot;, timeOut, new EstrategiaConfirmacion())\r\n    .to(WS_RESPONDER)\r\n\r\nIn **ProcessorTratarWS()** I set the value of property.archivoRespuesta and is the name of the file that the pollEnrich should donwload.\r\n\r\nBut, documentation says that &quot;**PollEnrich does not have access to the Exchange**&quot;. It means the PollEnrich can&#39;t read the value of ${property.archivoRespuesta}\r\n\r\nAre there some alternative ways to do in Camel the same thing I&#39;m trying?\r\n\r\nThanks!","title":"Camel: pollEnrich and access to the Exchange","body":"<p>I have this route</p>\n\n<pre><code>from(URI_WEBSERVICE)\n.convertBodyTo(Entrada.class)\n.process(new ProcessorTratarWS()) \n.pollEnrich(\"ftp://10.100.8.2/entradaCamel?username=USER&amp;password=PASSWORD&amp;delete=true&amp;fileName=${property.archivoRespuesta}\", timeOut, new EstrategiaConfirmacion())\n.to(WS_RESPONDER)\n</code></pre>\n\n<p>In <strong>ProcessorTratarWS()</strong> I set the value of property.archivoRespuesta and is the name of the file that the pollEnrich should donwload.</p>\n\n<p>But, documentation says that \"<strong>PollEnrich does not have access to the Exchange</strong>\". It means the PollEnrich can't read the value of ${property.archivoRespuesta}</p>\n\n<p>Are there some alternative ways to do in Camel the same thing I'm trying?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","rest","swagger","swagger-ui","swagger-2.0"],"answers":[{"tags":[],"owner":{"account_id":3721023,"reputation":1234,"user_id":3096094,"accept_rate":83,"display_name":"Geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642064468,"creation_date":1471888590,"answer_id":39085855,"question_id":39046342,"body_markdown":"[Example][1]\r\n\r\n\r\n[More information on Swagger-servlet modeule can be found here][2]\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-samples/tree/master/java/java-servlet\r\n  [2]: https://web.archive.org/web/20150210114837/https://github.com/swagger-api/swagger-core/tree/master/modules/swagger-servlet","title":"Swagger integration with service built using filters","body":"<p><a href=\"https://github.com/swagger-api/swagger-samples/tree/master/java/java-servlet\" rel=\"nofollow noreferrer\">Example</a></p>\n<p><a href=\"https://web.archive.org/web/20150210114837/https://github.com/swagger-api/swagger-core/tree/master/modules/swagger-servlet\" rel=\"nofollow noreferrer\">More information on Swagger-servlet modeule can be found here</a></p>\n"}],"owner":{"account_id":3721023,"reputation":1234,"user_id":3096094,"accept_rate":83,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39085855,"answer_count":1,"score":0,"last_activity_date":1642064468,"creation_date":1471634472,"question_id":39046342,"body_markdown":"I have a REST services which doesn&#39;t use any opensource rest library (jersey etc..) Its implemented using Filters/servlet.\r\n\r\nIs it possible to generate a Swagger definition from such service by annotating the source code? If yes please share some details.   ","title":"Swagger integration with service built using filters","body":"<p>I have a REST services which doesn't use any opensource rest library (jersey etc..) Its implemented using Filters/servlet.</p>\n\n<p>Is it possible to generate a Swagger definition from such service by annotating the source code? If yes please share some details.   </p>\n"},{"tags":["java","list","lambda","java-stream"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":1,"creation_date":1640191033,"post_id":70451560,"comment_id":124538606,"body_markdown":"If you have Guava, then with the right constructor for `ObjectC`, you can say `Maps.transformValues(inputMap, v -&gt; new ObjectC(v.bb, v.ba));`. Even with streams, Guava has clearer ways of expressing some common operations.","body":"If you have Guava, then with the right constructor for <code>ObjectC</code>, you can say <code>Maps.transformValues(inputMap, v -&gt; new ObjectC(v.bb, v.ba));</code>. Even with streams, Guava has clearer ways of expressing some common operations."}],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640190221,"creation_date":1640189672,"answer_id":70452032,"question_id":70451560,"body_markdown":"What you&#39;ve got looks pretty good already. Just replace the value mapper with `e -&gt; convert(e.getValue())` where `convert` is like the function below that converts a `List&lt;ObjectB&gt;` into an `ObjectC`:\r\n```java\r\nObjectC convert(List&lt;ObjectB&gt; list) {\r\n    ObjectC c = new ObjectC();\r\n    for (ObjectB b : list) {\r\n        c.ba.add(b.ba);\r\n        c.bb.add(b.bb);\r\n    }\r\n    return c;\r\n}\r\n```\r\n\r\nOr if you&#39;d prefer to stick with just using streams, try `Stream#collect` like so:\r\n```java\r\ne.getValue().stream().collect(\r\n        () -&gt; new ObjectC(),\r\n        (c, b) -&gt; {\r\n                c.ba.add(b.ba);\r\n                c.bb.add(b.bb);\r\n        },\r\n        (c1, c2) -&gt; {\r\n                c1.ba.addAll(c2.ba);\r\n                c1.bb.addAll(c2.bb);\r\n        }\r\n)\r\n```","title":"Convert Map&lt;K, List&lt;V&gt;&gt; to Map&lt;K, V&gt; where V have 2 lists of objects","body":"<p>What you've got looks pretty good already. Just replace the value mapper with <code>e -&gt; convert(e.getValue())</code> where <code>convert</code> is like the function below that converts a <code>List&lt;ObjectB&gt;</code> into an <code>ObjectC</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectC convert(List&lt;ObjectB&gt; list) {\n    ObjectC c = new ObjectC();\n    for (ObjectB b : list) {\n        c.ba.add(b.ba);\n        c.bb.add(b.bb);\n    }\n    return c;\n}\n</code></pre>\n<p>Or if you'd prefer to stick with just using streams, try <code>Stream#collect</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>e.getValue().stream().collect(\n        () -&gt; new ObjectC(),\n        (c, b) -&gt; {\n                c.ba.add(b.ba);\n                c.bb.add(b.bb);\n        },\n        (c1, c2) -&gt; {\n                c1.ba.addAll(c2.ba);\n                c1.bb.addAll(c2.bb);\n        }\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640275289,"creation_date":1640275289,"answer_id":70464578,"question_id":70451560,"body_markdown":"For possible future reference I offer the following:\r\n\r\nThe first is a simple loop based solution. Of the two, this is more straightforward and probably more efficient.\r\n\r\n- iterate the map&#39;s entry set.\r\n- create two lists, one for each field of `ObjectC`\r\n- then iterate over the `ObjectB` list and copy the objects to their lists\r\n- then create an instance of `ObjectC` with the newly created lists\r\n\r\nI used getters and and a constructor but direct assignments could be used if the fields are not private.\r\n```\r\nfor (Year y : map.keySet()) {\r\n\tList&lt;ObjectBA&gt; listBA = new ArrayList&lt;&gt;();\r\n\tList&lt;ObjectBB&gt; listBB = new ArrayList&lt;&gt;();\r\n\tfor (ObjectB b : map.get(y)) {\r\n\t\tlistBA.add(b.getBA());\r\n\t\tlistBB.add(b.getBB());\r\n\t}\r\n\tresult.put(y, new ObjectC(listBA, listBB));\r\n}\r\n```\r\nThis method uses streams.\r\n- stream the entrySet.\r\n- and create a new ObjectC using the constructor.\r\n- the arguments to the constructor are themselves, streams of the source lists\r\n- a mapping is performed to get the objects (BA and BB)\r\n- and a list is returned to fulfill the requirements of the constructor.\r\n```\r\nMap&lt;Year, Object&gt; result = map.entrySet().stream().collect(\r\n\t\tCollectors.toMap(Entry::getKey,\r\n\t\t\t\te -&gt; new ObjectC(\r\n\t\t\t\te.getValue().stream().map(ObjectB::getBA)\r\n\t\t\t\t\t\t.toList(),\r\n\t\t\t\te.getValue().stream().map(ObjectB::getBB)\r\n\t\t\t\t\t\t.toList())));\r\n\t\t\t\r\n\t\t\r\n","title":"Convert Map&lt;K, List&lt;V&gt;&gt; to Map&lt;K, V&gt; where V have 2 lists of objects","body":"<p>For possible future reference I offer the following:</p>\n<p>The first is a simple loop based solution. Of the two, this is more straightforward and probably more efficient.</p>\n<ul>\n<li>iterate the map's entry set.</li>\n<li>create two lists, one for each field of <code>ObjectC</code></li>\n<li>then iterate over the <code>ObjectB</code> list and copy the objects to their lists</li>\n<li>then create an instance of <code>ObjectC</code> with the newly created lists</li>\n</ul>\n<p>I used getters and and a constructor but direct assignments could be used if the fields are not private.</p>\n<pre><code>for (Year y : map.keySet()) {\n    List&lt;ObjectBA&gt; listBA = new ArrayList&lt;&gt;();\n    List&lt;ObjectBB&gt; listBB = new ArrayList&lt;&gt;();\n    for (ObjectB b : map.get(y)) {\n        listBA.add(b.getBA());\n        listBB.add(b.getBB());\n    }\n    result.put(y, new ObjectC(listBA, listBB));\n}\n</code></pre>\n<p>This method uses streams.</p>\n<ul>\n<li>stream the entrySet.</li>\n<li>and create a new ObjectC using the constructor.</li>\n<li>the arguments to the constructor are themselves, streams of the source lists</li>\n<li>a mapping is performed to get the objects (BA and BB)</li>\n<li>and a list is returned to fulfill the requirements of the constructor.</li>\n</ul>\n<pre><code>Map&lt;Year, Object&gt; result = map.entrySet().stream().collect(\n        Collectors.toMap(Entry::getKey,\n                e -&gt; new ObjectC(\n                e.getValue().stream().map(ObjectB::getBA)\n                        .toList(),\n                e.getValue().stream().map(ObjectB::getBB)\n                        .toList())));\n            \n        \n</code></pre>\n"}],"owner":{"account_id":12845216,"reputation":149,"user_id":9291854,"display_name":"Aspir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70452032,"answer_count":2,"score":0,"last_activity_date":1642063805,"creation_date":1640187495,"question_id":70451560,"body_markdown":"Model:\r\n\r\n```\r\nYear{\r\n int year;\r\n}\r\n\r\nObjectB{\r\n ObjectBA bb;  &lt;- ObjectBA{int value}\r\n ObjectBB ba;  &lt;- ObjectBB{int value}\r\n}\r\n\r\nObjectC{\r\n  List&lt;ObjectBA&gt;\r\n  List&lt;ObjectBB&gt;\r\n}\r\n```\r\n\r\n\r\nHow to convert:\r\n`Map&lt;Year, List&lt;ObjectB&gt;&gt; `\r\nto \r\n`Map&lt;Year, ObjectC&gt;`\r\nwhere Object C have all element from ObjectB\r\n\r\nI already have:\r\n```\r\nvar result = inputMap.entrySet().stream()\r\n             .collect(Collectors.toMap(\r\n                        e -&gt; e.getKey(),\r\n                        e -&gt; e.getValue().stream().\r\n                                map(\r\n                                       value -&gt; value.bb().getValue()\r\n                                ).toList())\r\n                );\r\n```\r\n\r\ni need something that give me multimple list in Object, like:\r\n```\r\n map(\r\n       new ObjectC(\r\n          value -&gt; value.ba().getValue(),\r\n          value -&gt; value.bb().getValue()\r\n    ).toList())\r\n```","title":"Convert Map&lt;K, List&lt;V&gt;&gt; to Map&lt;K, V&gt; where V have 2 lists of objects","body":"<p>Model:</p>\n<pre><code>Year{\n int year;\n}\n\nObjectB{\n ObjectBA bb;  &lt;- ObjectBA{int value}\n ObjectBB ba;  &lt;- ObjectBB{int value}\n}\n\nObjectC{\n  List&lt;ObjectBA&gt;\n  List&lt;ObjectBB&gt;\n}\n</code></pre>\n<p>How to convert:\n<code>Map&lt;Year, List&lt;ObjectB&gt;&gt; </code>\nto\n<code>Map&lt;Year, ObjectC&gt;</code>\nwhere Object C have all element from ObjectB</p>\n<p>I already have:</p>\n<pre><code>var result = inputMap.entrySet().stream()\n             .collect(Collectors.toMap(\n                        e -&gt; e.getKey(),\n                        e -&gt; e.getValue().stream().\n                                map(\n                                       value -&gt; value.bb().getValue()\n                                ).toList())\n                );\n</code></pre>\n<p>i need something that give me multimple list in Object, like:</p>\n<pre><code> map(\n       new ObjectC(\n          value -&gt; value.ba().getValue(),\n          value -&gt; value.bb().getValue()\n    ).toList())\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1642062056,"post_id":70692843,"comment_id":124973249,"body_markdown":"Does studentRepository.fetchStudentListForUpdatingContactNo(rollNo) method takes a list to fetch the records? Can you share your repository method decalaration.","body":"Does studentRepository.fetchStudentListForUpdatingContactNo(rollN&zwnj;&#8203;o) method takes a list to fetch the records? Can you share your repository method decalaration."},{"owner":{"account_id":21542770,"reputation":81,"user_id":15880209,"display_name":"Rajeev"},"score":0,"creation_date":1642062230,"post_id":70692843,"comment_id":124973303,"body_markdown":"@GovilKumar Yes, for each roll no, it fetch particular student detail.  I am sending list of roll numbers.","body":"@GovilKumar Yes, for each roll no, it fetch particular student detail.  I am sending list of roll numbers."}],"answers":[{"tags":[],"owner":{"account_id":11348355,"reputation":303,"user_id":8328176,"display_name":"Souhail HARRATI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642063802,"creation_date":1642062280,"answer_id":70693421,"question_id":70692843,"body_markdown":"You can use stream:\r\n\r\n````\r\nstudentList.stream().map(student-&gt;{ \r\n     int indexOfStudent = studentList.indexOf(student);\r\n     student.setContactNo(contactNo.get(indexOfStudent));\r\n     studentRepository.storeStudent(student);\r\n\t return student;\r\n     });\r\n````","title":"How to change variable value while using forEach?","body":"<p>You can use stream:</p>\n<pre><code>studentList.stream().map(student-&gt;{ \n     int indexOfStudent = studentList.indexOf(student);\n     student.setContactNo(contactNo.get(indexOfStudent));\n     studentRepository.storeStudent(student);\n     return student;\n     });\n</code></pre>\n"}],"owner":{"account_id":21542770,"reputation":81,"user_id":15880209,"display_name":"Rajeev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642063802,"creation_date":1642059022,"question_id":70692843,"body_markdown":"In service class of a REST API, I am receiving a list of roll no and mobile no. I am fetching student details by sending roll no. from repository. For each student I want to update mobile no corresponding to the roll no in the sequence I received.\r\n\r\nService class\r\n\r\n    public List&lt;Student&gt; updateContactNoOfStudents (List&lt;Long&gt; rollNo, List&lt;String&gt; ContactNo)\r\n    {\r\n      List &lt;Student&gt; studentList = new ArrayList&lt;&gt;();\r\n      try{\r\n         studentList.add(studentRepository.fetchStudentListForUpdatingContactNo(rollNo));\r\n         \r\n         studentList.forEach((student-&gt;{ \r\n         student.setContactNo(contactNo.get(0));\r\n         studentRepository.storeStudent(student);\r\n         }));\r\n     }catch (StudentException StudentException){\r\n       Logger.error(&quot;Updation of Contact No Failed : {}&quot;,studentException);\r\n    }\r\n    return studentList;\r\n   }\r\n\r\nAbove code is not working as expected, What change shall I do, so that. For each student contact no gets updated in the sequence I received for corresponding roll No.\r\n\r\nController class \r\n\r\n    @PostMapping (value = &quot;/updateContactNo/&quot;)\r\n    public ResponseEntity &lt;List&lt;Student&gt;&gt; FetchingStudentForUpdatingContactNo (@RequestBody StudentUpdateDto studentupdateDto){\r\n     try{\r\n        return ResponseREntity.ok().body(studentService.updateContactNoOfStudents(studentUpdatDto.getRollNo(), studentUpdatDto.getContactNo()));\r\n    }catch (Exception e){\r\n     throw new StudentException(&quot;Exception  in fetching Student List for updating contact no&quot;,e);\r\n    }\r\n    }\r\n\r\n\r\n\r\n","title":"How to change variable value while using forEach?","body":"<p>In service class of a REST API, I am receiving a list of roll no and mobile no. I am fetching student details by sending roll no. from repository. For each student I want to update mobile no corresponding to the roll no in the sequence I received.</p>\n<p>Service class</p>\n<pre><code>public List&lt;Student&gt; updateContactNoOfStudents (List&lt;Long&gt; rollNo, List&lt;String&gt; ContactNo)\n{\n  List &lt;Student&gt; studentList = new ArrayList&lt;&gt;();\n  try{\n     studentList.add(studentRepository.fetchStudentListForUpdatingContactNo(rollNo));\n     \n     studentList.forEach((student-&gt;{ \n     student.setContactNo(contactNo.get(0));\n     studentRepository.storeStudent(student);\n     }));\n }catch (StudentException StudentException){\n   Logger.error(&quot;Updation of Contact No Failed : {}&quot;,studentException);\n}\nreturn studentList;\n</code></pre>\n<p>}</p>\n<p>Above code is not working as expected, What change shall I do, so that. For each student contact no gets updated in the sequence I received for corresponding roll No.</p>\n<p>Controller class</p>\n<pre><code>@PostMapping (value = &quot;/updateContactNo/&quot;)\npublic ResponseEntity &lt;List&lt;Student&gt;&gt; FetchingStudentForUpdatingContactNo (@RequestBody StudentUpdateDto studentupdateDto){\n try{\n    return ResponseREntity.ok().body(studentService.updateContactNoOfStudents(studentUpdatDto.getRollNo(), studentUpdatDto.getContactNo()));\n}catch (Exception e){\n throw new StudentException(&quot;Exception  in fetching Student List for updating contact no&quot;,e);\n}\n}\n</code></pre>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1642063862,"post_id":70693663,"comment_id":124973835,"body_markdown":"&quot;The output on the sender side is the plain URL without any query parameter.&quot; That should make it clear to you that the interface side is irrelevant. If you&#39;re not sending the query parameter, the interface clearly won&#39;t receive it. I suggest you remove the interface part entirely from your question.","body":"&quot;The output on the sender side is the plain URL without any query parameter.&quot; That should make it clear to you that the interface side is irrelevant. If you&#39;re not sending the query parameter, the interface clearly won&#39;t receive it. I suggest you remove the interface part entirely from your question."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1642063739,"creation_date":1642063739,"answer_id":70693705,"question_id":70693663,"body_markdown":"You&#39;re ignoring the result of the `queryParam` method. The method doesn&#39;t modify the existing instance - it returns a new one, just like `path` does. From the docs:\r\n\r\n&gt; Create a new WebTarget instance by configuring a query parameter on the URI of the current target instance. \r\n\r\nJust change your code to:\r\n\r\n```java\r\nWebTarget target = webTarget.path(&quot;test&quot;).path(&quot;Testuser&quot;).queryParam(&quot;a&quot;, &quot;a&quot;);\r\n```","title":"Why query params are not reaching the interface?","body":"<p>You're ignoring the result of the <code>queryParam</code> method. The method doesn't modify the existing instance - it returns a new one, just like <code>path</code> does. From the docs:</p>\n<blockquote>\n<p>Create a new WebTarget instance by configuring a query parameter on the URI of the current target instance.</p>\n</blockquote>\n<p>Just change your code to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebTarget target = webTarget.path(&quot;test&quot;).path(&quot;Testuser&quot;).queryParam(&quot;a&quot;, &quot;a&quot;);\n</code></pre>\n"}],"owner":{"account_id":23926891,"reputation":3,"user_id":17921903,"display_name":"AlwaysBeginner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70693705,"answer_count":1,"score":0,"last_activity_date":1642063739,"creation_date":1642063512,"question_id":70693663,"body_markdown":"I&#39;am trying to send a request to a REST interface implemented with javax.ws.rs and give it some query params, but the query params do not reach the interface.\r\n\r\nThe sending side is implemented as folowing:\r\n\r\n    WebTarget target = webTarget.path(&quot;test&quot;).path(&quot;Testuser&quot;);\r\n    target.queryParam(&quot;a&quot;,&quot;a&quot;);\r\n    \r\n    System.out.println(target.getUri());\r\n    Response response = target.request().get();\r\n\r\nThe interface:\r\n\r\n    @GET\r\n    @Path(&quot;test/{username}&quot;)\r\n    public void test(\r\n            @PathParam(&quot;username&quot;) String username,\r\n            @QueryParam(&quot;a&quot;) String a) {\r\n        System.out.println(&quot;TEST here!&quot;);\r\n        System.out.println(&quot;username: &quot; + username);\r\n        System.out.println(&quot;a: &quot; + a);\r\n    }\r\n\r\nThe output on the sender side is the plain URL without any query parameter.\r\n\r\nThe output on the interface side is\r\n\r\n    TEST here!\r\n    username: Testuser\r\n    a: null\r\n\r\nI&#39;am not able to see, where my error is, and why the a is not recived in the interface.\r\n","title":"Why query params are not reaching the interface?","body":"<p>I'am trying to send a request to a REST interface implemented with javax.ws.rs and give it some query params, but the query params do not reach the interface.</p>\n<p>The sending side is implemented as folowing:</p>\n<pre><code>WebTarget target = webTarget.path(&quot;test&quot;).path(&quot;Testuser&quot;);\ntarget.queryParam(&quot;a&quot;,&quot;a&quot;);\n\nSystem.out.println(target.getUri());\nResponse response = target.request().get();\n</code></pre>\n<p>The interface:</p>\n<pre><code>@GET\n@Path(&quot;test/{username}&quot;)\npublic void test(\n        @PathParam(&quot;username&quot;) String username,\n        @QueryParam(&quot;a&quot;) String a) {\n    System.out.println(&quot;TEST here!&quot;);\n    System.out.println(&quot;username: &quot; + username);\n    System.out.println(&quot;a: &quot; + a);\n}\n</code></pre>\n<p>The output on the sender side is the plain URL without any query parameter.</p>\n<p>The output on the interface side is</p>\n<pre><code>TEST here!\nusername: Testuser\na: null\n</code></pre>\n<p>I'am not able to see, where my error is, and why the a is not recived in the interface.</p>\n"},{"tags":["java","angular","selenium","selenium-webdriver","angular-material"],"answers":[{"tags":[],"owner":{"account_id":14415971,"reputation":2574,"user_id":10413416,"display_name":"Infern0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1539888878,"creation_date":1539888878,"answer_id":52880747,"question_id":52876545,"body_markdown":"Here have an &#39;hard&#39; but possible workaround:\r\nhttps://stackoverflow.com/a/49089682/10413416\r\n\r\nIf this even don&#39;t help, worst case scenario is Sikuli\r\n\r\n&gt; https://github.com/sikuli/sikuli-api/blob/master/examples/src/main/java/org/sikuli/api/examples/experimental/DragDropExample.java\r\n\r\n*Note: it interacts with the window of browser.*","title":"Selenium webdriver - drag and drop on Angular/Material design website","body":"<p>Here have an 'hard' but possible workaround:\n<a href=\"https://stackoverflow.com/a/49089682/10413416\">https://stackoverflow.com/a/49089682/10413416</a></p>\n\n<p>If this even don't help, worst case scenario is Sikuli</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/sikuli/sikuli-api/blob/master/examples/src/main/java/org/sikuli/api/examples/experimental/DragDropExample.java\" rel=\"nofollow noreferrer\">https://github.com/sikuli/sikuli-api/blob/master/examples/src/main/java/org/sikuli/api/examples/experimental/DragDropExample.java</a></p>\n</blockquote>\n\n<p><em>Note: it interacts with the window of browser.</em></p>\n"}],"owner":{"account_id":1088745,"reputation":1549,"user_id":1083864,"accept_rate":68,"display_name":"Matthewek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52880747,"answer_count":1,"score":0,"last_activity_date":1642063670,"creation_date":1539873569,"question_id":52876545,"body_markdown":"I am trying to automate drag and drop event using selenium java webdriver, against website created with Angular/Material design, I have tried countless of ways, but every single one fail, there are no errors, but nothing gets dragged and dropped.\r\n\r\nHere is my sample code:\r\n\r\nWebsite used for test is:\r\n\r\nhttps://smnbbrv.github.io/angular-sortablejs-demo/multiple-lists\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    public class Playground\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(&quot;https://smnbbrv.github.io/angular-sortablejs-demo/multiple-lists&quot;);\r\n            \r\n            WebElement draggable = driver.findElement(By.xpath(&quot;/html/body/app-root/div/app-multiple-lists/div[1]/div[1]/ul/li[2]&quot;));\r\n            WebElement dropable = driver.findElement(By.xpath(&quot;/html/body/app-root/div/app-multiple-lists/div[1]/div[2]&quot;));\r\n            \r\n            // DRAW BORDERS AROUND TO MAKE SURE WE SELECT CORRECT OBJECTS\r\n            drawBorder(driver, &quot;/html/body/app-root/div/app-multiple-lists/div[1]/div[1]/ul/li[2]&quot;);\r\n            drawBorder(driver, &quot;/html/body/app-root/div/app-multiple-lists/div[1]/div[2]&quot;);\r\n    \r\n            // TRY USING SELENIUMS ACTION CLASS\r\n            Actions actions = new Actions(driver);\r\n            actions.clickAndHold(draggable).moveToElement(dropable).release().build().perform();\r\n    \r\n            // TRY AGAIN USING JAVA SCRIPT \r\n            dragAndDrop(driver, draggable, dropable);\r\n        }\r\n    \r\n        public static void drawBorder(WebDriver driver, String xpath)\r\n        {\r\n            WebElement element_node = driver.findElement(By.xpath(xpath));\r\n            JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n            jse.executeScript(&quot;arguments[0].style.border=&#39;3px solid red&#39;&quot;, element_node);\r\n        }\r\n    \r\n        public static void dragAndDrop(WebDriver driver, WebElement from, WebElement to)\r\n        {\r\n            JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    \r\n            js.executeScript(&quot;function createEvent(typeOfEvent) {\\n&quot; + &quot;var event =document.createEvent(\\&quot;CustomEvent\\&quot;);\\n&quot;\r\n                    + &quot;event.initCustomEvent(typeOfEvent,true, true, null);\\n&quot; + &quot;event.dataTransfer = {\\n&quot; + &quot;data: {},\\n&quot;\r\n                    + &quot;setData: function (key, value) {\\n&quot; + &quot;this.data[key] = value;\\n&quot; + &quot;},\\n&quot;\r\n                    + &quot;getData: function (key) {\\n&quot; + &quot;return this.data[key];\\n&quot; + &quot;}\\n&quot; + &quot;};\\n&quot; + &quot;return event;\\n&quot;\r\n                    + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function dispatchEvent(element, event,transferData) {\\n&quot;\r\n                    + &quot;if (transferData !== undefined) {\\n&quot; + &quot;event.dataTransfer = transferData;\\n&quot; + &quot;}\\n&quot;\r\n                    + &quot;if (element.dispatchEvent) {\\n&quot; + &quot;element.dispatchEvent(event);\\n&quot;\r\n                    + &quot;} else if (element.fireEvent) {\\n&quot; + &quot;element.fireEvent(\\&quot;on\\&quot; + event.type, event);\\n&quot; + &quot;}\\n&quot;\r\n                    + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function simulateHTML5DragAndDrop(element, destination) {\\n&quot;\r\n                    + &quot;var dragStartEvent =createEvent(&#39;dragstart&#39;);\\n&quot; + &quot;dispatchEvent(element, dragStartEvent);\\n&quot;\r\n                    + &quot;var dropEvent = createEvent(&#39;drop&#39;);\\n&quot;\r\n                    + &quot;dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n&quot;\r\n                    + &quot;var dragEndEvent = createEvent(&#39;dragend&#39;);\\n&quot;\r\n                    + &quot;dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot;\r\n                    + &quot;var source = arguments[0];\\n&quot; + &quot;var destination = arguments[1];\\n&quot;\r\n                    + &quot;simulateHTML5DragAndDrop(source,destination);&quot;, from, to);\r\n        }\r\n    }\r\n\r\nAs you can see I used two options, first using Selenium`s Actions class, and second executing JavaScript to perform drag and drop, but nothing works.\r\n\r\nIs there any solution to make it work? Thanks","title":"Selenium webdriver - drag and drop on Angular/Material design website","body":"<p>I am trying to automate drag and drop event using selenium java webdriver, against website created with Angular/Material design, I have tried countless of ways, but every single one fail, there are no errors, but nothing gets dragged and dropped.</p>\n\n<p>Here is my sample code:</p>\n\n<p>Website used for test is:</p>\n\n<p><a href=\"https://smnbbrv.github.io/angular-sortablejs-demo/multiple-lists\" rel=\"nofollow noreferrer\">https://smnbbrv.github.io/angular-sortablejs-demo/multiple-lists</a></p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\n\npublic class Playground\n{\n    public static void main(String[] args)\n    {\n        WebDriver driver = new ChromeDriver();\n        driver.get(\"https://smnbbrv.github.io/angular-sortablejs-demo/multiple-lists\");\n\n        WebElement draggable = driver.findElement(By.xpath(\"/html/body/app-root/div/app-multiple-lists/div[1]/div[1]/ul/li[2]\"));\n        WebElement dropable = driver.findElement(By.xpath(\"/html/body/app-root/div/app-multiple-lists/div[1]/div[2]\"));\n\n        // DRAW BORDERS AROUND TO MAKE SURE WE SELECT CORRECT OBJECTS\n        drawBorder(driver, \"/html/body/app-root/div/app-multiple-lists/div[1]/div[1]/ul/li[2]\");\n        drawBorder(driver, \"/html/body/app-root/div/app-multiple-lists/div[1]/div[2]\");\n\n        // TRY USING SELENIUMS ACTION CLASS\n        Actions actions = new Actions(driver);\n        actions.clickAndHold(draggable).moveToElement(dropable).release().build().perform();\n\n        // TRY AGAIN USING JAVA SCRIPT \n        dragAndDrop(driver, draggable, dropable);\n    }\n\n    public static void drawBorder(WebDriver driver, String xpath)\n    {\n        WebElement element_node = driver.findElement(By.xpath(xpath));\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\n        jse.executeScript(\"arguments[0].style.border='3px solid red'\", element_node);\n    }\n\n    public static void dragAndDrop(WebDriver driver, WebElement from, WebElement to)\n    {\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n\n        js.executeScript(\"function createEvent(typeOfEvent) {\\n\" + \"var event =document.createEvent(\\\"CustomEvent\\\");\\n\"\n                + \"event.initCustomEvent(typeOfEvent,true, true, null);\\n\" + \"event.dataTransfer = {\\n\" + \"data: {},\\n\"\n                + \"setData: function (key, value) {\\n\" + \"this.data[key] = value;\\n\" + \"},\\n\"\n                + \"getData: function (key) {\\n\" + \"return this.data[key];\\n\" + \"}\\n\" + \"};\\n\" + \"return event;\\n\"\n                + \"}\\n\" + \"\\n\" + \"function dispatchEvent(element, event,transferData) {\\n\"\n                + \"if (transferData !== undefined) {\\n\" + \"event.dataTransfer = transferData;\\n\" + \"}\\n\"\n                + \"if (element.dispatchEvent) {\\n\" + \"element.dispatchEvent(event);\\n\"\n                + \"} else if (element.fireEvent) {\\n\" + \"element.fireEvent(\\\"on\\\" + event.type, event);\\n\" + \"}\\n\"\n                + \"}\\n\" + \"\\n\" + \"function simulateHTML5DragAndDrop(element, destination) {\\n\"\n                + \"var dragStartEvent =createEvent('dragstart');\\n\" + \"dispatchEvent(element, dragStartEvent);\\n\"\n                + \"var dropEvent = createEvent('drop');\\n\"\n                + \"dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n\"\n                + \"var dragEndEvent = createEvent('dragend');\\n\"\n                + \"dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n\" + \"}\\n\" + \"\\n\"\n                + \"var source = arguments[0];\\n\" + \"var destination = arguments[1];\\n\"\n                + \"simulateHTML5DragAndDrop(source,destination);\", from, to);\n    }\n}\n</code></pre>\n\n<p>As you can see I used two options, first using Selenium`s Actions class, and second executing JavaScript to perform drag and drop, but nothing works.</p>\n\n<p>Is there any solution to make it work? Thanks</p>\n"},{"tags":["java","spring","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":1161382,"reputation":146,"user_id":1140810,"display_name":"Thomas Falkenberg"},"score":0,"creation_date":1573226980,"post_id":56815933,"comment_id":103824733,"body_markdown":"See my answer here, I sounds like you are facing the same issue https://stackoverflow.com/a/58769415/1140810","body":"See my answer here, I sounds like you are facing the same issue <a href=\"https://stackoverflow.com/a/58769415/1140810\">stackoverflow.com/a/58769415/1140810</a>"}],"answers":[{"tags":[],"owner":{"account_id":3693160,"reputation":902,"user_id":3075274,"display_name":"Philipp Wirth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572429723,"creation_date":1572429723,"answer_id":58622818,"question_id":56815933,"body_markdown":"In `RestClientBuilder.createHttpClient()` the defaults for socket timeout and connection timeout are set to 30 and 10 seconds.\r\n\r\nYou can override this defaults by implementing `RestClientBuilder.RequestConfigCallback` and calling  `setRequestConfigCallback(...)` on your `RestHighLevelClient`\r\n\r\nWe did something like\r\n\r\n    @Override\r\n\tpublic RequestConfig.Builder customizeRequestConfig(RequestConfig.Builder builder) {\r\n\t\treturn builder.setSocketTimeout(socketTimeout); // try to prevent SocketTimeoutException\r\n\t}","title":"ES Rest High Level Client throws SocketTimeoutException after being idle for sometime","body":"<p>In <code>RestClientBuilder.createHttpClient()</code> the defaults for socket timeout and connection timeout are set to 30 and 10 seconds.</p>\n\n<p>You can override this defaults by implementing <code>RestClientBuilder.RequestConfigCallback</code> and calling  <code>setRequestConfigCallback(...)</code> on your <code>RestHighLevelClient</code></p>\n\n<p>We did something like</p>\n\n<pre><code>@Override\npublic RequestConfig.Builder customizeRequestConfig(RequestConfig.Builder builder) {\n    return builder.setSocketTimeout(socketTimeout); // try to prevent SocketTimeoutException\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585172651,"creation_date":1585172651,"answer_id":60857818,"question_id":56815933,"body_markdown":"it should be also configurable thru properties:\r\n\r\n    spring.elasticsearch.jest.connection-timeout=3000 # Connection timeout in milliseconds.\r\n    spring.elasticsearch.jest.multi-threaded=true # Enable connection requests from multiple execution threads.","title":"ES Rest High Level Client throws SocketTimeoutException after being idle for sometime","body":"<p>it should be also configurable thru properties:</p>\n\n<pre><code>spring.elasticsearch.jest.connection-timeout=3000 # Connection timeout in milliseconds.\nspring.elasticsearch.jest.multi-threaded=true # Enable connection requests from multiple execution threads.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16236497,"reputation":199,"user_id":11723872,"display_name":"orid"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1594313242,"creation_date":1588680785,"answer_id":61612875,"question_id":56815933,"body_markdown":"I have also tried setting the connection/socket timeout to 0, as suggested here and in other places.\r\nIt didn&#39;t help eventually. \r\n\r\nThere is another solution/workaround, suggested by spring-data-elasticsearch in \r\nhttps://jira.spring.io/browse/DATAES-789.\r\nIt simply perform an internal retry in case of such exception. It does not really solve the issue, but your client will not get and error. Instead, the first request after idle time will take additional 5 seconds (or whatever timeout your configured). \r\n\r\nIf you use Springboot-data-elasticsearch version 4+ (staring with Springboot 2.3.0), then you can apply the solution. \r\n\r\nI can confirm the following solution is working (with the limitations I mentioned above):\r\n\r\n```java\r\n\r\n@Configuration\r\npublic class ElasticSearchRestClientConfig extends AbstractElasticsearchConfiguration {\r\n\r\n    @Autowired\r\n    private RestHighLevelClient restHighLevelClient;\r\n\r\n    @Override\r\n    public RestHighLevelClient elasticsearchClient() {\r\n        return restHighLevelClient;\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public ElasticsearchCustomConversions elasticsearchCustomConversions() {\r\n        return new ElasticsearchCustomConversions();\r\n    }\r\n\r\n    @Override\r\n    public ElasticsearchOperations elasticsearchOperations(ElasticsearchConverter elasticsearchConverter) {\r\n        return new ElasticsearchRestTemplate(elasticsearchClient(), elasticsearchConverter) {\r\n            @Override\r\n            public &lt;T&gt; T execute(ClientCallback&lt;T&gt; callback) {\r\n                int retryCount = 0;\r\n                T t = null;\r\n                while (retryCount &lt;= RestClientBuilder.DEFAULT_MAX_CONN_PER_ROUTE &amp;&amp; t == null) {\r\n                    try {\r\n                        t = super.execute(callback);\r\n                    } catch (DataAccessResourceFailureException e) {\r\n                        // retry\r\n                        if (e.getCause() != null &amp;&amp; (e.getCause().getCause() instanceof SocketTimeoutException) &amp;&amp;\r\n                                (retryCount &lt; RestClientBuilder.DEFAULT_MAX_CONN_PER_ROUTE)) {\r\n                            retryCount++;\r\n                            log.warn(&quot;Elasticsearch client - performing retry {} after caught DataAccessResourceFailureException: {}&quot;, retryCount, e.getMessage());\r\n                        }\r\n                        else {\r\n                            throw e;\r\n                        }\r\n                    }\r\n                }\r\n                return t;\r\n            }\r\n        };\r\n    }\r\n \r\n```\r\n\r\n","title":"ES Rest High Level Client throws SocketTimeoutException after being idle for sometime","body":"<p>I have also tried setting the connection/socket timeout to 0, as suggested here and in other places.\nIt didn't help eventually.</p>\n<p>There is another solution/workaround, suggested by spring-data-elasticsearch in\n<a href=\"https://jira.spring.io/browse/DATAES-789\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAES-789</a>.\nIt simply perform an internal retry in case of such exception. It does not really solve the issue, but your client will not get and error. Instead, the first request after idle time will take additional 5 seconds (or whatever timeout your configured).</p>\n<p>If you use Springboot-data-elasticsearch version 4+ (staring with Springboot 2.3.0), then you can apply the solution.</p>\n<p>I can confirm the following solution is working (with the limitations I mentioned above):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class ElasticSearchRestClientConfig extends AbstractElasticsearchConfiguration {\n\n    @Autowired\n    private RestHighLevelClient restHighLevelClient;\n\n    @Override\n    public RestHighLevelClient elasticsearchClient() {\n        return restHighLevelClient;\n    }\n\n    @Bean\n    @Override\n    public ElasticsearchCustomConversions elasticsearchCustomConversions() {\n        return new ElasticsearchCustomConversions();\n    }\n\n    @Override\n    public ElasticsearchOperations elasticsearchOperations(ElasticsearchConverter elasticsearchConverter) {\n        return new ElasticsearchRestTemplate(elasticsearchClient(), elasticsearchConverter) {\n            @Override\n            public &lt;T&gt; T execute(ClientCallback&lt;T&gt; callback) {\n                int retryCount = 0;\n                T t = null;\n                while (retryCount &lt;= RestClientBuilder.DEFAULT_MAX_CONN_PER_ROUTE &amp;&amp; t == null) {\n                    try {\n                        t = super.execute(callback);\n                    } catch (DataAccessResourceFailureException e) {\n                        // retry\n                        if (e.getCause() != null &amp;&amp; (e.getCause().getCause() instanceof SocketTimeoutException) &amp;&amp;\n                                (retryCount &lt; RestClientBuilder.DEFAULT_MAX_CONN_PER_ROUTE)) {\n                            retryCount++;\n                            log.warn(&quot;Elasticsearch client - performing retry {} after caught DataAccessResourceFailureException: {}&quot;, retryCount, e.getMessage());\n                        }\n                        else {\n                            throw e;\n                        }\n                    }\n                }\n                return t;\n            }\n        };\n    }\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9687457,"reputation":599,"user_id":7186690,"display_name":"Doston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591884562,"creation_date":1591884562,"answer_id":62326341,"question_id":56815933,"body_markdown":"Here is how I solved this issue:\r\n\r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;com.hamdos.repositories.es&quot;)\r\n    @ComponentScan(basePackages = { &quot;com.hamdos.services.es&quot; })\r\n    @Order(2)\r\n    public class Config {\r\n    \r\n        @Bean\r\n        RestHighLevelClient client() {\r\n    \r\n            RestClientBuilder builder = RestClient.builder(\r\n                    new HttpHost(&quot;localhost&quot;, 9289))\r\n                    .setRequestConfigCallback(\r\n                            new RestClientBuilder.RequestConfigCallback() {\r\n                                @Override\r\n                                public RequestConfig.Builder customizeRequestConfig(\r\n                                        RequestConfig.Builder requestConfigBuilder) {\r\n                                    return requestConfigBuilder\r\n                                            .setConnectTimeout(5000)\r\n                                            .setSocketTimeout(60000);\r\n                                }\r\n                            });\r\n    \r\n            return new RestHighLevelClient(builder);\r\n        }\r\n    \r\n        @Bean\r\n        public ElasticsearchOperations elasticsearchTemplate() {\r\n            return new ElasticsearchRestTemplate(client());\r\n        }\r\n    }\r\n\r\nInfo about system:\r\n \r\n\r\n - spring-data-elasticsearch: 4.0.0.RELEASE\r\n - spring-boot: 2.3.0.RELEASE\r\n - Elasticsearch: 7.7.0\r\n","title":"ES Rest High Level Client throws SocketTimeoutException after being idle for sometime","body":"<p>Here is how I solved this issue:</p>\n\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = \"com.hamdos.repositories.es\")\n@ComponentScan(basePackages = { \"com.hamdos.services.es\" })\n@Order(2)\npublic class Config {\n\n    @Bean\n    RestHighLevelClient client() {\n\n        RestClientBuilder builder = RestClient.builder(\n                new HttpHost(\"localhost\", 9289))\n                .setRequestConfigCallback(\n                        new RestClientBuilder.RequestConfigCallback() {\n                            @Override\n                            public RequestConfig.Builder customizeRequestConfig(\n                                    RequestConfig.Builder requestConfigBuilder) {\n                                return requestConfigBuilder\n                                        .setConnectTimeout(5000)\n                                        .setSocketTimeout(60000);\n                            }\n                        });\n\n        return new RestHighLevelClient(builder);\n    }\n\n    @Bean\n    public ElasticsearchOperations elasticsearchTemplate() {\n        return new ElasticsearchRestTemplate(client());\n    }\n}\n</code></pre>\n\n<p>Info about system:</p>\n\n<ul>\n<li>spring-data-elasticsearch: 4.0.0.RELEASE</li>\n<li>spring-boot: 2.3.0.RELEASE</li>\n<li>Elasticsearch: 7.7.0</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17171141,"reputation":11,"user_id":12428264,"display_name":"user12428264"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624986718,"creation_date":1624986718,"answer_id":68183019,"question_id":56815933,"body_markdown":"     @Bean\r\n    override fun elasticsearchClient(): RestHighLevelClient {\r\n        val clientConfiguration = ClientConfiguration\r\n            .builder()\r\n            .connectedTo(&quot;localhost:9200&quot;)\r\n            .withSocketTimeout(enter time in millisecond)\r\n            .build()`enter code here`\r\n        return RestClients.create(clientConfiguration).rest()\r\n    }\r\n\r\njust use withSocketTimeout(30000) mthode like shown above\r\n","title":"ES Rest High Level Client throws SocketTimeoutException after being idle for sometime","body":"<pre><code> @Bean\noverride fun elasticsearchClient(): RestHighLevelClient {\n    val clientConfiguration = ClientConfiguration\n        .builder()\n        .connectedTo(&quot;localhost:9200&quot;)\n        .withSocketTimeout(enter time in millisecond)\n        .build()`enter code here`\n    return RestClients.create(clientConfiguration).rest()\n}\n</code></pre>\n<p>just use withSocketTimeout(30000) mthode like shown above</p>\n"}],"owner":{"account_id":6180462,"reputation":559,"user_id":4816130,"accept_rate":75,"display_name":"Fedor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13372,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58622818,"answer_count":5,"score":8,"last_activity_date":1642063547,"creation_date":1561794490,"question_id":56815933,"body_markdown":"`RestHighLevelClient` is used to connect to ES 6.4(hosted on AWS) in a spring-boot app. When the app goes idle for some time, and request arrives, then the `RestHighLevelClient` throws `SocketTimeoutException`:\r\n```\r\n[Request processing failed; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Error while bulk for request: org.elasticsearch.action.bulk.BulkRequest@21511b6c] w\r\njava.net.SocketTimeoutException: 5,000 milliseconds timeout on connection http-outgoing-38 [ACTIVE]\r\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:92) ~[httpasyncclient-4.1.4.jar!/:4.1.4]\r\nat org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:39) ~[httpasyncclient-4.1.4.jar!/:4.1.4]\r\nat org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:263) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:492) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:213) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\r\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n```\r\nRestHighLevelClient is created using:\r\n```\r\n    @Bean\r\n    RestHighLevelClient client() {\r\n\r\n        ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(elasticsearchHostAndPort)\r\n                .build();\r\n\r\n        return RestClients.create(clientConfiguration).rest();\r\n    }\r\n```\r\n\r\n```spring-data-elasticsearch``` version ```3.2.0.M2``` is used.\r\n\r\nAny hints/workarounds?","title":"ES Rest High Level Client throws SocketTimeoutException after being idle for sometime","body":"<p><code>RestHighLevelClient</code> is used to connect to ES 6.4(hosted on AWS) in a spring-boot app. When the app goes idle for some time, and request arrives, then the <code>RestHighLevelClient</code> throws <code>SocketTimeoutException</code>:</p>\n\n<pre><code>[Request processing failed; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Error while bulk for request: org.elasticsearch.action.bulk.BulkRequest@21511b6c] w\njava.net.SocketTimeoutException: 5,000 milliseconds timeout on connection http-outgoing-38 [ACTIVE]\nat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:92) ~[httpasyncclient-4.1.4.jar!/:4.1.4]\nat org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:39) ~[httpasyncclient-4.1.4.jar!/:4.1.4]\nat org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:263) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:492) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:213) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.11.jar!/:4.4.11]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n\n<p>RestHighLevelClient is created using:</p>\n\n<pre><code>    @Bean\n    RestHighLevelClient client() {\n\n        ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n                .connectedTo(elasticsearchHostAndPort)\n                .build();\n\n        return RestClients.create(clientConfiguration).rest();\n    }\n</code></pre>\n\n<p><code>spring-data-elasticsearch</code> version <code>3.2.0.M2</code> is used.</p>\n\n<p>Any hints/workarounds?</p>\n"},{"tags":["java","css","javafx","hover","underline"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1559456908,"post_id":56411738,"comment_id":99422076,"body_markdown":"I wonder if CSS would work.","body":"I wonder if CSS would work."}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559619678,"creation_date":1559465065,"answer_id":56413521,"question_id":56411738,"body_markdown":"Apply the following css: \r\n\r\n    Button:hover{\r\n        -fx-underline: true;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/4FQIV.gif","title":"Button underline text on hover","body":"<p>Apply the following css: </p>\n\n<pre><code>Button:hover{\n    -fx-underline: true;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4FQIV.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4FQIV.gif\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":10801012,"reputation":1893,"user_id":7944978,"display_name":"LuminousNutria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56413521,"answer_count":1,"score":1,"last_activity_date":1642063439,"creation_date":1559441315,"question_id":56411738,"body_markdown":"I am working with JavaFX, and I have a Scene object I created in SceneBuilder with a bunch of Button objects. I want the text of each of these Button objects to be underlined when the mouse cursor enters their area in the window, and to remove the underlining when the cursor leaves.\r\n\r\nI know I can just type:\r\n\r\n    public class Controller {\r\n    \r\n        @FXML\r\n        private Button exitButton;\r\n    \r\n        public void exitButtonMouseEntered() {\r\n        \r\n           this.exitButton.setUnderline(true);\r\n        }\r\n    \r\n        public void exitButtonMouseLeft() {\r\n        \r\n           this.exitButton.setUnderline(false);\r\n        }\r\n    \r\n    }\r\n\r\nHowever, doing this for each Button object is time-consuming, and it seems like there must be an easier way to force all the Button objects to have the same behavior given the same conditions.\r\n\r\n*How can I make a controller method that will affect all the Buttons in the Scene?*\r\n","title":"Button underline text on hover","body":"<p>I am working with JavaFX, and I have a Scene object I created in SceneBuilder with a bunch of Button objects. I want the text of each of these Button objects to be underlined when the mouse cursor enters their area in the window, and to remove the underlining when the cursor leaves.</p>\n\n<p>I know I can just type:</p>\n\n<pre><code>public class Controller {\n\n    @FXML\n    private Button exitButton;\n\n    public void exitButtonMouseEntered() {\n\n       this.exitButton.setUnderline(true);\n    }\n\n    public void exitButtonMouseLeft() {\n\n       this.exitButton.setUnderline(false);\n    }\n\n}\n</code></pre>\n\n<p>However, doing this for each Button object is time-consuming, and it seems like there must be an easier way to force all the Button objects to have the same behavior given the same conditions.</p>\n\n<p><em>How can I make a controller method that will affect all the Buttons in the Scene?</em></p>\n"},{"tags":["java","pdf","apache-poi","pdfbox"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641999445,"post_id":70683666,"comment_id":124956083,"body_markdown":"Have you tried to download the PDF and open with a regular PDF file viewer, like Microsoft Word or by a browser plugin? I am curious to see if you would experience some sort of issue with those as well.","body":"Have you tried to download the PDF and open with a regular PDF file viewer, like Microsoft Word or by a browser plugin? I am curious to see if you would experience some sort of issue with those as well."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1642000192,"post_id":70683666,"comment_id":124956469,"body_markdown":"Are you sure you&#39;re using Apache POI? Looks a lot more like Apache PDFBox to me...","body":"Are you sure you&#39;re using Apache POI? Looks a lot more like Apache PDFBox to me..."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642000212,"post_id":70683666,"comment_id":124956487,"body_markdown":"@hfontanez As I said, I viewed the snippet using Acrobat Reader, which is, to my mind, a much more &#39;regular&#39; PDF file viewer than Word. PDF is Acrobat&#39;s format, I would expect their reader to be the gold standard on viewing the file. And it&#39;s a file, I&#39;m not looking at it on a web page at all, the only internet involvement IS obtaining the file in the first place. The state has a web-based portal from which an authorized person can obtain the PDF file, and it is downloaded from there. Everything else is happening on my machine locally.","body":"@hfontanez As I said, I viewed the snippet using Acrobat Reader, which is, to my mind, a much more &#39;regular&#39; PDF file viewer than Word. PDF is Acrobat&#39;s format, I would expect their reader to be the gold standard on viewing the file. And it&#39;s a file, I&#39;m not looking at it on a web page at all, the only internet involvement IS obtaining the file in the first place. The state has a web-based portal from which an authorized person can obtain the PDF file, and it is downloaded from there. Everything else is happening on my machine locally."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642000401,"post_id":70683666,"comment_id":124956569,"body_markdown":"@arcy You got my point even if you didn&#39;t realize it. Open it with a &quot;non-golden standard&quot; reader and see you encounter any issues.","body":"@arcy You got my point even if you didn&#39;t realize it. Open it with a &quot;non-golden standard&quot; reader and see you encounter any issues."},{"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"score":1,"creation_date":1642002825,"post_id":70683666,"comment_id":124957771,"body_markdown":"Can you post the PDF file or at least a URL ? Without seeing the actual PDF contents (not the screen display, what&#39;s in the actual file) it&#39;s hard to make any suggestions. The only suggestion I can make from this is that the space is misplaced. I looks like it should read 0x56 0x3a 0x20 0x20 0x28, maybe the text extraction code thinks that two spaces is bad and inserts one in front of the colon instead.","body":"Can you post the PDF file or at least a URL ? Without seeing the actual PDF contents (not the screen display, what&#39;s in the actual file) it&#39;s hard to make any suggestions. The only suggestion I can make from this is that the space is misplaced. I looks like it should read 0x56 0x3a 0x20 0x20 0x28, maybe the text extraction code thinks that two spaces is bad and inserts one in front of the colon instead."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1642005020,"post_id":70683666,"comment_id":124958848,"body_markdown":"Indeed, without the PDF in question this is pure guesswork. Please share it. That being said, though, there are multiple possible causes for that space. In particular there may be an actual space between &#39;V&#39; and &#39;:&#39; overlapping both those characters. Or if your PDF is a scan with OCR applied, the text is extracted from invisible text created from the OCR results, not from the visible image; consequentially there may be weirdest differences...","body":"Indeed, without the PDF in question this is pure guesswork. Please share it. That being said, though, there are multiple possible causes for that space. In particular there may be an actual space between &#39;V&#39; and &#39;:&#39; overlapping both those characters. Or if your PDF is a scan with OCR applied, the text is extracted from invisible text created from the OCR results, not from the visible image; consequentially there may be weirdest differences..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642006142,"post_id":70683666,"comment_id":124959367,"body_markdown":"My guess is that the document was produced by an OCR tool, and that tool decided that there are two pieces of text which visually overlap: `&quot;CONV &quot;` (note the trailing space) and `&quot;: (634)FAIL TO APPEAR&quot;`.","body":"My guess is that the document was produced by an OCR tool, and that tool decided that there are two pieces of text which visually overlap: <code>&quot;CONV &quot;</code> (note the trailing space) and <code>&quot;: (634)FAIL TO APPEAR&quot;</code>."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642007669,"post_id":70683666,"comment_id":124960047,"body_markdown":"@KenS If I could have posted the PDF, I would have done so -- it contains confidential information, and I have no way to edit it.","body":"@KenS If I could have posted the PDF, I would have done so -- it contains confidential information, and I have no way to edit it."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642007692,"post_id":70683666,"comment_id":124960054,"body_markdown":"@mkl I think the posted PDF snippet makes it clear there is no space between &#39;V&#39; and &#39;:&#39;, just as there aren&#39;t for the scores of &#39;CONV:&#39; strings elsewhere on the page. I was hoping someone else had run into something similar, like extraneous characters from elsewhere on the page as printed in the PDF appearing in the extracted text stream, and some API call to set an option to avoid them, or something.","body":"@mkl I think the posted PDF snippet makes it clear there is no space between &#39;V&#39; and &#39;:&#39;, just as there aren&#39;t for the scores of &#39;CONV:&#39; strings elsewhere on the page. I was hoping someone else had run into something similar, like extraneous characters from elsewhere on the page as printed in the PDF appearing in the extracted text stream, and some API call to set an option to avoid them, or something."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642007828,"post_id":70683666,"comment_id":124960114,"body_markdown":"@VGR I have a little experience with OCR, and this doesn&#39;t seem to me to be caused by that. There are scores of times that &quot;CONV:&quot; appears on the page, but only one that has the extra space determined. Also, there are none of the occasional wrong characters that are to be expected from any OCR scan. I suppose I might look at a hex dump of the PDF document, see if I can figure out anything from there, but I had hoped to avoid that.","body":"@VGR I have a little experience with OCR, and this doesn&#39;t seem to me to be caused by that. There are scores of times that &quot;CONV:&quot; appears on the page, but only one that has the extra space determined. Also, there are none of the occasional wrong characters that are to be expected from any OCR scan. I suppose I might look at a hex dump of the PDF document, see if I can figure out anything from there, but I had hoped to avoid that."},{"owner":{"account_id":360158,"reputation":30342,"user_id":701996,"display_name":"KenS"},"score":0,"creation_date":1642010144,"post_id":70683666,"comment_id":124961085,"body_markdown":"Almost certainly it will be compressed, so you&#39;ll have to locate the relevant stream and decompress it, or decompress the entire document. You may find it suprisingly difficult to locate the text even in a decompressed document. VGR&#39;s guess about the positioning sounds entirely plausible to me (no idea about the OCR). The screen display doesn&#39;t tell you anything about whether there are two pieces of individually positioned text, and if the &#39;:&#39; was on top of a space character you wouldn&#39;t be able to tell. Text in PDF files need not be contiguous.","body":"Almost certainly it will be compressed, so you&#39;ll have to locate the relevant stream and decompress it, or decompress the entire document. You may find it suprisingly difficult to locate the text even in a decompressed document. VGR&#39;s guess about the positioning sounds entirely plausible to me (no idea about the OCR). The screen display doesn&#39;t tell you anything about whether there are two pieces of individually positioned text, and if the &#39;:&#39; was on top of a space character you wouldn&#39;t be able to tell. Text in PDF files need not be contiguous."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642012754,"post_id":70683666,"comment_id":124962108,"body_markdown":"Well, I&#39;m probably not going to be able to find and decompress that stuff in my lifetime, so much for that. I do think that the software that generated the text is SO unlikely to have put a space there in ONE case and not the 2 score OTHER instances of the &#39;CONV:&#39; string on this page.","body":"Well, I&#39;m probably not going to be able to find and decompress that stuff in my lifetime, so much for that. I do think that the software that generated the text is SO unlikely to have put a space there in ONE case and not the 2 score OTHER instances of the &#39;CONV:&#39; string on this page."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642025714,"post_id":70683666,"comment_id":124966316,"body_markdown":"@KJ I suppose I could look for one of those (a text extractor with layout), but I really don&#39;t think this is an OCR situation. There are just too few anomolies, such as the one I&#39;ve already mentioned about the number of errors of this kind. But it could be.","body":"@KJ I suppose I could look for one of those (a text extractor with layout), but I really don&#39;t think this is an OCR situation. There are just too few anomolies, such as the one I&#39;ve already mentioned about the number of errors of this kind. But it could be."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1642053526,"post_id":70683666,"comment_id":124970963,"body_markdown":"*&quot;I think the posted PDF snippet makes it clear there is no space between &#39;V&#39; and &#39;:&#39;&quot;* - no it doesn&#39;t. There might e.g. be a space whose left half is overlapping the V and whose right half is overlapping the colon. *&quot;just as there aren&#39;t for the scores of &#39;CONV:&#39; strings elsewhere on the page&quot;* - thus, there *is* something special about that single occurrence. Without the file we can only guess what that is. Some commenter here might be guessing correctly, but sharing the file would allow analyzing it and *knowing* the problem. Have you tried redacting the PDF to allow sharing it?","body":"<i>&quot;I think the posted PDF snippet makes it clear there is no space between &#39;V&#39; and &#39;:&#39;&quot;</i> - no it doesn&#39;t. There might e.g. be a space whose left half is overlapping the V and whose right half is overlapping the colon. <i>&quot;just as there aren&#39;t for the scores of &#39;CONV:&#39; strings elsewhere on the page&quot;</i> - thus, there <i>is</i> something special about that single occurrence. Without the file we can only guess what that is. Some commenter here might be guessing correctly, but sharing the file would allow analyzing it and <i>knowing</i> the problem. Have you tried redacting the PDF to allow sharing it?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1642054208,"post_id":70683666,"comment_id":124971103,"body_markdown":"One question, if you don&#39;t set `SortByPosition`, is the problem text extracted contiguously?","body":"One question, if you don&#39;t set <code>SortByPosition</code>, is the problem text extracted contiguously?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1642064631,"post_id":70683666,"comment_id":124974130,"body_markdown":"You might want to look at [this answer](https://stackoverflow.com/a/31033508/1729265) and the work-around explained there - in that case there also were extra spaces and the work-around simply removed *all* spaces and let PDFBox re-construct spaces where there were gaps.","body":"You might want to look at <a href=\"https://stackoverflow.com/a/31033508/1729265\">this answer</a> and the work-around explained there - in that case there also were extra spaces and the work-around simply removed <i>all</i> spaces and let PDFBox re-construct spaces where there were gaps."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642086805,"post_id":70683666,"comment_id":124983105,"body_markdown":"@mkl If you have any suggestions on how I might change the bytes in the file to redact anything, I&#39;d be interested to hear it. I cannot just obscure a visual rendition and show a picture; the things we&#39;re looking at don&#39;t appear on an Acrobat Reader visual. On further examination of the extracted text, I&#39;ve now found asterisks in the middle of MM-DD-YY dates with similar characteristics -- they appear in the extract text, but are not displayed by Acrobat Reader. So those aren&#39;t as easily hidden by overlap. And in the cases I&#39;m looking at, Reader does not show an asterisk anywhere nearby","body":"@mkl If you have any suggestions on how I might change the bytes in the file to redact anything, I&#39;d be interested to hear it. I cannot just obscure a visual rendition and show a picture; the things we&#39;re looking at don&#39;t appear on an Acrobat Reader visual. On further examination of the extracted text, I&#39;ve now found asterisks in the middle of MM-DD-YY dates with similar characteristics -- they appear in the extract text, but are not displayed by Acrobat Reader. So those aren&#39;t as easily hidden by overlap. And in the cases I&#39;m looking at, Reader does not show an asterisk anywhere nearby"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1642088028,"post_id":70683666,"comment_id":124983627,"body_markdown":"The current PDFBox version is 2.0.25. (This may not improve anything, but it&#39;s best to use the latest version)","body":"The current PDFBox version is 2.0.25. (This may not improve anything, but it&#39;s best to use the latest version)"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1642092175,"post_id":70683666,"comment_id":124985424,"body_markdown":"@mkl I tried the method from your other answer; it uses the method `String TextPosition.getCharacter()`, which doesn&#39;t exist now. I found `getUnicode()` as the only reasonable replacement and used that. Unfortunately, it doesn&#39;t help. I still get the spurious characters, including spaces and asterisks.","body":"@mkl I tried the method from your other answer; it uses the method <code>String TextPosition.getCharacter()</code>, which doesn&#39;t exist now. I found <code>getUnicode()</code> as the only reasonable replacement and used that. Unfortunately, it doesn&#39;t help. I still get the spurious characters, including spaces and asterisks."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1642100795,"post_id":70683666,"comment_id":124988724,"body_markdown":"Ok, that answer still was based on PDFBox 1.8.x, the method names changed a bit in the 2.0.x releases. Nonetheless, replacing `getCharacter()` by `getUnicode()` is correct, and if that does not remove your spurious spaces, I have no idea without the document. Concerning how to redact - Adobe Acrobat has a decent redaction tool. iText has a decent redaction module. Certainly other viewers and libraries also have acceptable redaction features, I merely have not tested them.","body":"Ok, that answer still was based on PDFBox 1.8.x, the method names changed a bit in the 2.0.x releases. Nonetheless, replacing <code>getCharacter()</code> by <code>getUnicode()</code> is correct, and if that does not remove your spurious spaces, I have no idea without the document. Concerning how to redact - Adobe Acrobat has a decent redaction tool. iText has a decent redaction module. Certainly other viewers and libraries also have acceptable redaction features, I merely have not tested them."}],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642063406,"creation_date":1641999132,"question_id":70683666,"body_markdown":"I am using Java 8 and POI ooxml v5.0.0 to extract text from PDF files; the files in this case are generated by my state&#39;s government. I do not know for sure, but what familiarity I have with the state&#39;s IT system leads me to believe the PDF files are generated by COBOL programs running on an IBM mainframe or mainframe clone, if that makes any difference to anyone. EDIT: a helpful commenter points out that I&#39;m actually using PDFBox classes; I am not sure what the difference is, or whether other classes might produce a different result.\r\n\r\nThe PDFs contain pages of text in a fixed-width font; the output is arranged in columns to make it (somewhat) easier to read. I extract it with the following code:\r\n\r\n      public String extractText(File pdfFile) throws Exception\r\n      {\r\n        PDDocument document = PDDocument.load(pdfFile);\r\n        PDFTextStripper stripper = new PDFTextStripper();\r\n    \r\n        // without this sorting, text is not organized into lines as they appear on the\r\n        // PDF page. \r\n        stripper.setSortByPosition(true);\r\n    \r\n        String text = stripper.getText(document);\r\n        document.close();\r\n        return text;\r\n      }\r\n\r\nMy code then processes the text line by line; the extracted text does not have the columns represented any more, it appears to mostly have single spaces where one might have expected multiple spaces, but that&#39;s ok.\r\n\r\nWhat isn&#39;t ok is that I occasionally get &#39;extra&#39; characters sprinkled among the characters in the text. So far I&#39;ve only seen spaces and asterisks, and so far only between words. I am baffled trying to figure out what could be causing this; I&#39;ve inspected the PDF in Acrobat reader and cannot see anything that these could be representing. It is hard to imagine that the COBOL or whatever would be generating these extra characters sporadically; there are lines and lines in the same format, and only very few have the extra characters. It doesn&#39;t appear to be just random stuff, since I haven&#39;t seen any symbols indicating unprintable characters.\r\n\r\nIt does seem to happen in the same place in the text on repeated reads. I guess that means there is something in the PDF that causes the text extraction to do this, but it&#39;s hard to figure out what. \r\n\r\nHere&#39;s a snippet from the PDF:\r\n\r\n[![Part of Acrobat&#39;s PDF rendering][1]][1]\r\n\r\nAnd here&#39;s the eclipse debug variables window, showing a space between CONV and &quot;:&quot;, including the hex output that verifies that the character there is a space (\\u0020) (array index 22):\r\n\r\n[![eclipse debug window piece][2]][2]\r\n\r\nThere are scores of CONV lines in this PDF file, and this is the only one that is interpreted as having a space between this CONV and this colon. \r\n\r\nI suppose I could mention that I create a StringReader so I can process the extracted text line by line, but I don&#39;t think that can be the problem as it doesn&#39;t seem to generate extra spaces for other lines.\r\n\r\nSo. Does anyone have any ideas about where these extra characters might come from, so that I might have some idea how to identify them. Is it possible they have some characteristic in their PDF form such that the text extraction can be set up to skip them, or at least identify them?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yasRP.png\r\n  [2]: https://i.stack.imgur.com/ocs2S.png","title":"Unexpected extra characters in text extracted from PDF using POI&#39;s PDFBox","body":"<p>I am using Java 8 and POI ooxml v5.0.0 to extract text from PDF files; the files in this case are generated by my state's government. I do not know for sure, but what familiarity I have with the state's IT system leads me to believe the PDF files are generated by COBOL programs running on an IBM mainframe or mainframe clone, if that makes any difference to anyone. EDIT: a helpful commenter points out that I'm actually using PDFBox classes; I am not sure what the difference is, or whether other classes might produce a different result.</p>\n<p>The PDFs contain pages of text in a fixed-width font; the output is arranged in columns to make it (somewhat) easier to read. I extract it with the following code:</p>\n<pre><code>  public String extractText(File pdfFile) throws Exception\n  {\n    PDDocument document = PDDocument.load(pdfFile);\n    PDFTextStripper stripper = new PDFTextStripper();\n\n    // without this sorting, text is not organized into lines as they appear on the\n    // PDF page. \n    stripper.setSortByPosition(true);\n\n    String text = stripper.getText(document);\n    document.close();\n    return text;\n  }\n</code></pre>\n<p>My code then processes the text line by line; the extracted text does not have the columns represented any more, it appears to mostly have single spaces where one might have expected multiple spaces, but that's ok.</p>\n<p>What isn't ok is that I occasionally get 'extra' characters sprinkled among the characters in the text. So far I've only seen spaces and asterisks, and so far only between words. I am baffled trying to figure out what could be causing this; I've inspected the PDF in Acrobat reader and cannot see anything that these could be representing. It is hard to imagine that the COBOL or whatever would be generating these extra characters sporadically; there are lines and lines in the same format, and only very few have the extra characters. It doesn't appear to be just random stuff, since I haven't seen any symbols indicating unprintable characters.</p>\n<p>It does seem to happen in the same place in the text on repeated reads. I guess that means there is something in the PDF that causes the text extraction to do this, but it's hard to figure out what.</p>\n<p>Here's a snippet from the PDF:</p>\n<p><a href=\"https://i.stack.imgur.com/yasRP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yasRP.png\" alt=\"Part of Acrobat's PDF rendering\" /></a></p>\n<p>And here's the eclipse debug variables window, showing a space between CONV and &quot;:&quot;, including the hex output that verifies that the character there is a space (\\u0020) (array index 22):</p>\n<p><a href=\"https://i.stack.imgur.com/ocs2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ocs2S.png\" alt=\"eclipse debug window piece\" /></a></p>\n<p>There are scores of CONV lines in this PDF file, and this is the only one that is interpreted as having a space between this CONV and this colon.</p>\n<p>I suppose I could mention that I create a StringReader so I can process the extracted text line by line, but I don't think that can be the problem as it doesn't seem to generate extra spaces for other lines.</p>\n<p>So. Does anyone have any ideas about where these extra characters might come from, so that I might have some idea how to identify them. Is it possible they have some characteristic in their PDF form such that the text extraction can be set up to skip them, or at least identify them?</p>\n"},{"tags":["java","json","oracle","spring-boot","jackson"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1641993735,"post_id":70682286,"comment_id":124953236,"body_markdown":"Did you try printing one of these strings?","body":"Did you try printing one of these strings?"},{"owner":{"account_id":15783425,"reputation":141,"user_id":11389045,"display_name":"Eduard Voiculescu"},"score":0,"creation_date":1641993757,"post_id":70682286,"comment_id":124953252,"body_markdown":"Is the return value from the database the same as the output of your api endpoint ?","body":"Is the return value from the database the same as the output of your api endpoint ?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1641994017,"post_id":70682286,"comment_id":124953371,"body_markdown":"@ScottHunter, yes I tried debugging it, and the value while inspecting was fine. Same is updated in the question","body":"@ScottHunter, yes I tried debugging it, and the value while inspecting was fine. Same is updated in the question"},{"owner":{"account_id":9572999,"reputation":5871,"user_id":7110099,"display_name":"EJ Egyed"},"score":0,"creation_date":1641995453,"post_id":70682286,"comment_id":124954122,"body_markdown":"Can you share the code that is used to define the API? Are you using ORDS?","body":"Can you share the code that is used to define the API? Are you using ORDS?"},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1641997158,"post_id":70682286,"comment_id":124954946,"body_markdown":"HOW are you retrieving the json..in other words, HOW did you implement your REST API?","body":"HOW are you retrieving the json..in other words, HOW did you implement your REST API?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1641999803,"post_id":70682286,"comment_id":124956269,"body_markdown":"I&#39;ve updated my question with the code","body":"I&#39;ve updated my question with the code"}],"answers":[{"tags":[],"owner":{"account_id":23783037,"reputation":15,"user_id":17795480,"display_name":"Cozer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641996094,"creation_date":1641994061,"answer_id":70682392,"question_id":70682286,"body_markdown":"you can do this\r\n```java\r\nString final_json= json.replaceAll(&quot;\\\\\\\\&quot;,&quot;&quot;);\r\n```\r\njson is the string that has your json\\\r\ni did four \\ because if i typed one it will expect something like `\\n` and `\\r`","title":"Retrieving a JSON body from DB gives extra special characters - Spring Boot","body":"<p>you can do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String final_json= json.replaceAll(&quot;\\\\\\\\&quot;,&quot;&quot;);\n</code></pre>\n<p>json is the string that has your json<br />\ni did four \\ because if i typed one it will expect something like <code>\\n</code> and <code>\\r</code></p>\n"},{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642045078,"creation_date":1642037065,"answer_id":70690365,"question_id":70682286,"body_markdown":"**TL;DR**  \r\nJust annotated `private String responseBody;` with `@JsonRawValue` as follows:\r\n```java\r\n@JsonRawValue\r\nprivate String responseBody;\r\n```\r\n\r\n**Explanation**  \r\nBecause the value of `responseBody` is a JSON string and `@RestController` is going to serialize the return object of `moreInfo` into *HttpResponse* automatically. That&#39;s why you got &quot;extra special characters&quot; in your response body!  \r\n\r\nTherefore, the simplest way (by using `Jackson`) is to annotate those fields which you don&#39;t want to be serialized again with `@JsonRawValue`.  \r\n\r\nFor more information, please refer to  [@JsonRawValue](https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.8.8/com/fasterxml/jackson/annotation/JsonRawValue.html).\r\n","title":"Retrieving a JSON body from DB gives extra special characters - Spring Boot","body":"<p><strong>TL;DR</strong><br />\nJust annotated <code>private String responseBody;</code> with <code>@JsonRawValue</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonRawValue\nprivate String responseBody;\n</code></pre>\n<p><strong>Explanation</strong><br />\nBecause the value of <code>responseBody</code> is a JSON string and <code>@RestController</code> is going to serialize the return object of <code>moreInfo</code> into <em>HttpResponse</em> automatically. That's why you got &quot;extra special characters&quot; in your response body!</p>\n<p>Therefore, the simplest way (by using <code>Jackson</code>) is to annotate those fields which you don't want to be serialized again with <code>@JsonRawValue</code>.</p>\n<p>For more information, please refer to  <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-annotations/2.8.8/com/fasterxml/jackson/annotation/JsonRawValue.html\" rel=\"nofollow noreferrer\">@JsonRawValue</a>.</p>\n"}],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70690365,"answer_count":2,"score":0,"last_activity_date":1642062945,"creation_date":1641993630,"question_id":70682286,"body_markdown":"We are saving a JSON response body in our Oracle DB which is later retrieved for the viewing purpose.\r\n\r\n**This is the JSON saved in DB**\r\n\r\n    {&quot;parameters&quot;: [{&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q1&quot;}, {&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q2&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Alen&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Sara&quot;}], &quot;messageTemplate&quot;: &quot;You have booked tickets, seat numbers are Q1,Q2&quot;, &quot;url&quot;: &quot;&quot;, &quot;remarks&quot;: &quot;ticket booked&quot;}\r\n\r\n**Now the response of our view API is like this - (with an extra slash)**\r\n\r\n    {\r\n        &quot;responseBody&quot;: &quot;{\\&quot;parameters\\&quot;: [{\\&quot;name\\&quot;: \\&quot;SEATS\\&quot;, \\&quot;value\\&quot;: \\&quot;Q1\\&quot;}, {\\&quot;name\\&quot;: \\&quot;SEATS\\&quot;, \\&quot;value\\&quot;: \\&quot;Q2\\&quot;}, {\\&quot;name\\&quot;: \\&quot;MEMBERS\\&quot;, \\&quot;value\\&quot;: \\&quot;Alen\\&quot;}, {\\&quot;name\\&quot;: \\&quot;MEMBERS\\&quot;, \\&quot;value\\&quot;: \\&quot;Sara\\&quot;}], \\&quot;messageTemplate\\&quot;: \\&quot;You have booked tickets, seat numbers are Q1,Q2\\&quot;, \\&quot;url\\&quot;: \\&quot;\\&quot;, \\&quot;remarks\\&quot;: \\&quot;ticket booked\\&quot;}&quot;\r\n    }\r\n\r\n**Inspected value of the variable while debugging**\r\n\r\n    {&quot;parameters&quot;: [{&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q1&quot;}, {&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q2&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Alen&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Sara&quot;}], &quot;messageTemplate&quot;: &quot;You have booked tickets, seat numbers are Q1,Q2&quot;, &quot;url&quot;: &quot;&quot;, &quot;remarks&quot;: &quot;ticket booked&quot;}\r\n\r\n**DB side**\r\n\r\nColumns description : `VARCHAR2(500)`\r\n\r\n**Update regarding usage of JSONObject**\r\n\r\nI tried printing it `System.out.println(new JSONObject(responseBody));` like this. The console is printing the proper JSON body, but even if I use the same above logic there are still special characters.\r\n\r\n**Spring Boot part**\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;v1/booking&quot;)\r\n    public class BookingReportsController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate BookingReportsService service;\r\n    \t\r\n    \t@GetMapping(value = &quot;/more-info/{tnxId}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic Booking moreInfo(@PathVariable(name = &quot;tnxId&quot;) String tnxId) {\r\n    \t\t\r\n    \t\treturn service.moreInfo(tnxId);\r\n    \t}\r\n    }\r\n\r\nWe tried returning both `Booking` and `ResponseEntity&lt;Booking&gt;` but the results were the same.\r\n\r\nThis is our response bean\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class Booking implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 7480161196626214557L;\r\n    \r\n    \tprivate String txnId;\r\n    \t\r\n    \t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern =Constants.SETTLEMENT_PDF_DATE_FORMAT)\r\n    \tprivate Date txnDate;\r\n    \t\r\n    \tprivate String userId;\r\n    \t\r\n    \tprivate String appId;\r\n    \t\r\n    \tprivate String appName;\r\n    \r\n    \tprivate double amount;\r\n    \t\r\n    \tprivate int status;\r\n    \t\r\n    \tprivate String responseBody;\r\n    \t\r\n    \tprivate String url;\r\n\r\n        // getters and setters\r\n    }\r\n\r\nWe are getting an extra \\ as an escape character, now if we beautify the JSON and put it in multiple lines we&#39;ll get `\\r` &amp; `\\n` in the response. So how can we remove that?","title":"Retrieving a JSON body from DB gives extra special characters - Spring Boot","body":"<p>We are saving a JSON response body in our Oracle DB which is later retrieved for the viewing purpose.</p>\n<p><strong>This is the JSON saved in DB</strong></p>\n<pre><code>{&quot;parameters&quot;: [{&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q1&quot;}, {&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q2&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Alen&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Sara&quot;}], &quot;messageTemplate&quot;: &quot;You have booked tickets, seat numbers are Q1,Q2&quot;, &quot;url&quot;: &quot;&quot;, &quot;remarks&quot;: &quot;ticket booked&quot;}\n</code></pre>\n<p><strong>Now the response of our view API is like this - (with an extra slash)</strong></p>\n<pre><code>{\n    &quot;responseBody&quot;: &quot;{\\&quot;parameters\\&quot;: [{\\&quot;name\\&quot;: \\&quot;SEATS\\&quot;, \\&quot;value\\&quot;: \\&quot;Q1\\&quot;}, {\\&quot;name\\&quot;: \\&quot;SEATS\\&quot;, \\&quot;value\\&quot;: \\&quot;Q2\\&quot;}, {\\&quot;name\\&quot;: \\&quot;MEMBERS\\&quot;, \\&quot;value\\&quot;: \\&quot;Alen\\&quot;}, {\\&quot;name\\&quot;: \\&quot;MEMBERS\\&quot;, \\&quot;value\\&quot;: \\&quot;Sara\\&quot;}], \\&quot;messageTemplate\\&quot;: \\&quot;You have booked tickets, seat numbers are Q1,Q2\\&quot;, \\&quot;url\\&quot;: \\&quot;\\&quot;, \\&quot;remarks\\&quot;: \\&quot;ticket booked\\&quot;}&quot;\n}\n</code></pre>\n<p><strong>Inspected value of the variable while debugging</strong></p>\n<pre><code>{&quot;parameters&quot;: [{&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q1&quot;}, {&quot;name&quot;: &quot;SEATS&quot;, &quot;value&quot;: &quot;Q2&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Alen&quot;}, {&quot;name&quot;: &quot;MEMBERS&quot;, &quot;value&quot;: &quot;Sara&quot;}], &quot;messageTemplate&quot;: &quot;You have booked tickets, seat numbers are Q1,Q2&quot;, &quot;url&quot;: &quot;&quot;, &quot;remarks&quot;: &quot;ticket booked&quot;}\n</code></pre>\n<p><strong>DB side</strong></p>\n<p>Columns description : <code>VARCHAR2(500)</code></p>\n<p><strong>Update regarding usage of JSONObject</strong></p>\n<p>I tried printing it <code>System.out.println(new JSONObject(responseBody));</code> like this. The console is printing the proper JSON body, but even if I use the same above logic there are still special characters.</p>\n<p><strong>Spring Boot part</strong>\n<strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;v1/booking&quot;)\npublic class BookingReportsController {\n    \n    @Autowired\n    private BookingReportsService service;\n    \n    @GetMapping(value = &quot;/more-info/{tnxId}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Booking moreInfo(@PathVariable(name = &quot;tnxId&quot;) String tnxId) {\n        \n        return service.moreInfo(tnxId);\n    }\n}\n</code></pre>\n<p>We tried returning both <code>Booking</code> and <code>ResponseEntity&lt;Booking&gt;</code> but the results were the same.</p>\n<p>This is our response bean</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Booking implements Serializable {\n\n    private static final long serialVersionUID = 7480161196626214557L;\n\n    private String txnId;\n    \n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern =Constants.SETTLEMENT_PDF_DATE_FORMAT)\n    private Date txnDate;\n    \n    private String userId;\n    \n    private String appId;\n    \n    private String appName;\n\n    private double amount;\n    \n    private int status;\n    \n    private String responseBody;\n    \n    private String url;\n\n    // getters and setters\n}\n</code></pre>\n<p>We are getting an extra \\ as an escape character, now if we beautify the JSON and put it in multiple lines we'll get <code>\\r</code> &amp; <code>\\n</code> in the response. So how can we remove that?</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1589397154,"creation_date":1589397154,"answer_id":61783005,"question_id":61780482,"body_markdown":"Try with something like (typed from top of my head)\r\n\r\n    thirdPartyEndpoin.message(0).body().isNull();\r\n\r\n","title":"Apache Camel test expectedBodiesReceived check if the body is null?","body":"<p>Try with something like (typed from top of my head)</p>\n\n<pre><code>thirdPartyEndpoin.message(0).body().isNull();\n</code></pre>\n"}],"owner":{"account_id":9693205,"reputation":200,"user_id":7190611,"display_name":"Poorya Hosseini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61783005,"answer_count":1,"score":1,"last_activity_date":1642062429,"creation_date":1589389113,"question_id":61780482,"body_markdown":"I have a route that a processor consumes the message and set the body to null.\r\n```java\r\npublic class KafkaRedirect implements Processor {\r\n\t@Override\r\n\tpublic void process(final Exchange exchange) throws Exception {\r\n\r\n\t\t... some logic to send to another party\r\n\r\n\t\t/**\r\n\t\t* This is added   to consume the message\r\n\t\t*/\r\n\t\texchange.getIn().setBody(null);\t\t\t\r\n\t}\r\n}\r\n```\r\n\r\nIn the test I send message to the route and I want to test if the message is sent and the body is null.\r\n\r\n```java\r\n\t@Test\r\n\tpublic void testMyRoute() throws Exception {\r\n\t\tfinal MockEndpoint thirdPartyEndpoin = getMandatoryEndpoint(&quot;mock://myRoute&quot;, MockEndpoint.class);\r\n\t\tcontext().getRouteDefinition(&quot;myRouteId&quot;)\r\n\t\t\t.adviceWith(context(), new AdviceWithRouteBuilder() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void configure() throws Exception {\r\n\t\t\t\t\tweaveById(&quot;myProcessId&quot;).after().to(thirdPartyEndpoin);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tstartCamelContext();\r\n\r\n\t\tthirdPartyEndpoin.expectedMessageCount(1);\r\n\r\n\t\t/* I NEED TO TEST IF THE BODY IS NULL*/\r\n\t\tthirdPartyEndpoin.expectedBodiesReceived(null);\r\n\r\n\t\ttemplate.sendBody(ROUTE_DIRECT_START, &quot;{\\&quot;foo\\&quot;:\\&quot;foo\\&quot;}&quot;);\r\n\t\tthirdPartyEndpoin.assertIsSatisfied(TimeUnit.SECONDS.toMillis(EXPECTED_TIMEOUT_SECONDS));\r\n\t}\r\n```","title":"Apache Camel test expectedBodiesReceived check if the body is null?","body":"<p>I have a route that a processor consumes the message and set the body to null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class KafkaRedirect implements Processor {\n    @Override\n    public void process(final Exchange exchange) throws Exception {\n\n        ... some logic to send to another party\n\n        /**\n        * This is added   to consume the message\n        */\n        exchange.getIn().setBody(null);         \n    }\n}\n</code></pre>\n<p>In the test I send message to the route and I want to test if the message is sent and the body is null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testMyRoute() throws Exception {\n        final MockEndpoint thirdPartyEndpoin = getMandatoryEndpoint(&quot;mock://myRoute&quot;, MockEndpoint.class);\n        context().getRouteDefinition(&quot;myRouteId&quot;)\n            .adviceWith(context(), new AdviceWithRouteBuilder() {\n\n                @Override\n                public void configure() throws Exception {\n                    weaveById(&quot;myProcessId&quot;).after().to(thirdPartyEndpoin);\n                }\n            });\n\n        startCamelContext();\n\n        thirdPartyEndpoin.expectedMessageCount(1);\n\n        /* I NEED TO TEST IF THE BODY IS NULL*/\n        thirdPartyEndpoin.expectedBodiesReceived(null);\n\n        template.sendBody(ROUTE_DIRECT_START, &quot;{\\&quot;foo\\&quot;:\\&quot;foo\\&quot;}&quot;);\n        thirdPartyEndpoin.assertIsSatisfied(TimeUnit.SECONDS.toMillis(EXPECTED_TIMEOUT_SECONDS));\n    }\n</code></pre>\n"},{"tags":["java","maven","apache-poi","apache-tika"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642057002,"post_id":70691515,"comment_id":124971700,"body_markdown":"Without know the error it&#39;s impossible to give a hint.","body":"Without know the error it&#39;s impossible to give a hint."},{"owner":{"account_id":23764267,"reputation":3,"user_id":17779228,"display_name":""},"score":0,"creation_date":1642061610,"post_id":70691515,"comment_id":124973088,"body_markdown":"java.lang.NoSuchMethodError: org.apache.poi.ss.usermodel.Cell.getCellType() using XLSTransformer (net.sf.jxls.transformer)","body":"java.lang.NoSuchMethodError: org.apache.poi.ss.usermodel.Cell.getCellType() using XLSTransformer (net.sf.jxls.transformer)"},{"owner":{"account_id":23764267,"reputation":3,"user_id":17779228,"display_name":""},"score":0,"creation_date":1642061758,"post_id":70691515,"comment_id":124973146,"body_markdown":"and org.apache.tika.parser.microsoft.PDIFSContainerDetector.getTopLevelNames(PDIFSContainerDetector.java:354)","body":"and org.apache.tika.parser.microsoft.PDIFSContainerDetector.getT&zwnj;&#8203;opLevelNames(PDIFSCo&zwnj;&#8203;ntainerDetector.java&zwnj;&#8203;:354)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1642064919,"post_id":70691515,"comment_id":124974223,"body_markdown":"Using old versions of poi, and tika upgrade?","body":"Using old versions of poi, and tika upgrade?"},{"owner":{"account_id":23764267,"reputation":3,"user_id":17779228,"display_name":""},"score":0,"creation_date":1642128054,"post_id":70691515,"comment_id":124995348,"body_markdown":"Updated to the latest version, but an error occurred in java.lang.NoSuchMethodError: org.apache.poi.ss.userModel.Cell.getCellType()","body":"Updated to the latest version, but an error occurred in java.lang.NoSuchMethodError: org.apache.poi.ss.userModel.Cell.getCellType()"},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1643837909,"post_id":70691515,"comment_id":125448972,"body_markdown":"Tika 1.28 and 2.2.1 both use POI 4.1.2.  You should be good to go with either of those.  I can&#39;t speak to the other dependencies.","body":"Tika 1.28 and 2.2.1 both use POI 4.1.2.  You should be good to go with either of those.  I can&#39;t speak to the other dependencies."}],"owner":{"account_id":23764267,"reputation":3,"user_id":17779228,"display_name":""},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642062178,"creation_date":1642048925,"question_id":70691515,"body_markdown":"I must use the org.apache.poi 4.1.2 version library. However, dependence causes errors in other libraries. Please tell me the appropriate library versions.\r\n\r\nThis is the library and version information that I have to use and error.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tika-java7&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls-poi&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.3.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.4.4&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;net.sf.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls-jexcel&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n\t    &lt;/dependency&gt;\r\n```\r\n\r\nPlease match the version of org.apache.poi 4.1.2.\r\n\r\n\r\ni updated pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.1.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls-poi&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.8.1&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.7.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;net.sf.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0.6&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxls-jexcel&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0.9&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n\t    &lt;/dependency&gt;\r\n```\r\n\r\nHowever, the following errors continue to occur.\r\n\r\n\r\njava.lang.NoSuchMethodError: org.apache.poi.ss.usermodel.Cell.getCellType() using XLSTransformer (net.sf.jxls.transformer) \r\nand org.apache.tika.parser.microsoft.PDIFSContainerDetector.getTopLevelNames(PDIFSContainerDetector.java:354)\r\n\r\n\r\n\r\n","title":"maven dependencies error by org.apache.poi, org.apache.tika, org.jxls.jxls-poi","body":"<p>I must use the org.apache.poi 4.1.2 version library. However, dependence causes errors in other libraries. Please tell me the appropriate library versions.</p>\n<p>This is the library and version information that I have to use and error.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-java7&lt;/artifactId&gt;\n            &lt;version&gt;1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-poi&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls&lt;/artifactId&gt;\n            &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-jexcel&lt;/artifactId&gt;\n            &lt;version&gt;1.0.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please match the version of org.apache.poi 4.1.2.</p>\n<p>i updated pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-poi&lt;/artifactId&gt;\n            &lt;version&gt;2.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-jexcel&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>However, the following errors continue to occur.</p>\n<p>java.lang.NoSuchMethodError: org.apache.poi.ss.usermodel.Cell.getCellType() using XLSTransformer (net.sf.jxls.transformer)\nand org.apache.tika.parser.microsoft.PDIFSContainerDetector.getTopLevelNames(PDIFSContainerDetector.java:354)</p>\n"},{"tags":["java","spring","spring-boot","class"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1642061455,"post_id":70693123,"comment_id":124973030,"body_markdown":"Spring&#39;s default scope is singleton so yes, the localSet will contain for every thread the same data. Note that all code needs to be thread-safe. Generally it&#39;s not a good idea to keep state in a singleton scoped bean.","body":"Spring&#39;s default scope is singleton so yes, the localSet will contain for every thread the same data. Note that all code needs to be thread-safe. Generally it&#39;s not a good idea to keep state in a singleton scoped bean."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1642061482,"post_id":70693123,"comment_id":124973043,"body_markdown":"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html","body":"<a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1642062491,"post_id":70693123,"comment_id":124973388,"body_markdown":"It&#39;s never a good idea to start programming with a framework for which you don&#39;t even understand the basics. May I suggest you start by reading an article, book or documentation first before asking these very basic questions on SO.","body":"It&#39;s never a good idea to start programming with a framework for which you don&#39;t even understand the basics. May I suggest you start by reading an article, book or documentation first before asking these very basic questions on SO."}],"answers":[{"tags":[],"owner":{"account_id":11950660,"reputation":256,"user_id":8744412,"display_name":"Saideep Ullal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642061739,"creation_date":1642061739,"answer_id":70693327,"question_id":70693123,"body_markdown":"I feel you are wondering about the &quot;scope&quot; of `@Component` as you mention that different threads will be accessing the same resource (In your case your classes&#39; variables)\r\n\r\nThe default scope of `@Component` is singleton which as mentioned [here][1] in the docs is explained as\r\n\r\n&gt; when you define a bean definition and it is scoped as a singleton, then the Spring IoC container will create exactly one instance of the object defined by that bean definition. This single instance will be stored in a cache of such singleton beans, and all subsequent requests and references for that named bean will result in the cached object being returned.\r\n\r\n\r\nSo in your case, `Set&lt;String&gt; localSet;` is initialized when the IOC container (application, generally) starts up and this same instance is used for different requests until the container shuts down. You can however change the scope of your component. More on scopes [here][2]. \r\n\r\n `@Component`  explained [here][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html\r\n  [2]: https://www.baeldung.com/spring-bean-scopes\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Component.html","title":"When does local variable of class annotated with @Component goes out of memory?","body":"<p>I feel you are wondering about the &quot;scope&quot; of <code>@Component</code> as you mention that different threads will be accessing the same resource (In your case your classes' variables)</p>\n<p>The default scope of <code>@Component</code> is singleton which as mentioned <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html\" rel=\"nofollow noreferrer\">here</a> in the docs is explained as</p>\n<blockquote>\n<p>when you define a bean definition and it is scoped as a singleton, then the Spring IoC container will create exactly one instance of the object defined by that bean definition. This single instance will be stored in a cache of such singleton beans, and all subsequent requests and references for that named bean will result in the cached object being returned.</p>\n</blockquote>\n<p>So in your case, <code>Set&lt;String&gt; localSet;</code> is initialized when the IOC container (application, generally) starts up and this same instance is used for different requests until the container shuts down. You can however change the scope of your component. More on scopes <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><code>@Component</code>  explained <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/stereotype/Component.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642061739,"creation_date":1642060628,"question_id":70693123,"body_markdown":"If I have a class annotated with @Component in spring boot application, and various threads are running on application and all are accessing on local variable of @Component class, will it be same variable or every thread will make it&#39;s own copy? \r\nHow does @Component annotation really works and when does the local variable become empty?\r\nLet&#39;s say I have ```Set&lt;String&gt;``` in class, when will this set become empty?\r\n```\r\n@Component \r\nclass testing {\r\n  Set&lt;String&gt; localSet;\r\n  Set&lt;String&gt; getString(){ return localSet;}\r\n}\r\n```\r\n\r\nIf I insert some random data in localSet, when will the data be deleted here? ","title":"When does local variable of class annotated with @Component goes out of memory?","body":"<p>If I have a class annotated with @Component in spring boot application, and various threads are running on application and all are accessing on local variable of @Component class, will it be same variable or every thread will make it's own copy?\nHow does @Component annotation really works and when does the local variable become empty?\nLet's say I have <code>Set&lt;String&gt;</code> in class, when will this set become empty?</p>\n<pre><code>@Component \nclass testing {\n  Set&lt;String&gt; localSet;\n  Set&lt;String&gt; getString(){ return localSet;}\n}\n</code></pre>\n<p>If I insert some random data in localSet, when will the data be deleted here?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"score":5,"creation_date":1417757244,"post_id":27309339,"comment_id":43080267,"body_markdown":"HashMaps are unordered, so you would have to worry about the keys.","body":"HashMaps are unordered, so you would have to worry about the keys."},{"owner":{"account_id":5438695,"reputation":21,"user_id":4327328,"display_name":"coffm"},"score":0,"creation_date":1417757344,"post_id":27309339,"comment_id":43080296,"body_markdown":"Ok, thanks How would I implement this then?","body":"Ok, thanks How would I implement this then?"},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":0,"creation_date":1417757409,"post_id":27309339,"comment_id":43080308,"body_markdown":"Though a `LinkedHashMap` would preserve iteration order","body":"Though a <code>LinkedHashMap</code> would preserve iteration order"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1417757469,"post_id":27309339,"comment_id":43080325,"body_markdown":"@WilliamPrice: Unless the two maps don&#39;t have the exact same keys inserted in the exact same order. Then the two stream won&#39;t line up.","body":"@WilliamPrice: Unless the two maps don&#39;t have the exact same keys inserted in the exact same order. Then the two stream won&#39;t line up."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":0,"creation_date":1417757614,"post_id":27309339,"comment_id":43080379,"body_markdown":"@Thilo It&#39;s not clear from the question that the keys are necessarily required to match, or if simply pairing entries from equivalently sized maps is sufficient.  Some clarification from the OP would be appreciated.","body":"@Thilo It&#39;s not clear from the question that the keys are necessarily required to match, or if simply pairing entries from equivalently sized maps is sufficient.  Some clarification from the OP would be appreciated."},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1417757639,"post_id":27309339,"comment_id":43080388,"body_markdown":"Did you try writing some code?","body":"Did you try writing some code?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1417757664,"post_id":27309339,"comment_id":43080391,"body_markdown":"It says &quot;they are both ordered identically&quot;. Presumably that is important.","body":"It says &quot;they are both ordered identically&quot;. Presumably that is important."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":0,"creation_date":1417757832,"post_id":27309339,"comment_id":43080444,"body_markdown":"Important, yes, but not necessarily unambiguous.  (Just playing devil&#39;s advocate.  I can use two LHMs and have them be &quot;ordered identically&quot; by insertion order rather than by key.)","body":"Important, yes, but not necessarily unambiguous.  (Just playing devil&#39;s advocate.  I can use two LHMs and have them be &quot;ordered identically&quot; by insertion order rather than by key.)"}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1417757370,"creation_date":1417757370,"answer_id":27309373,"question_id":27309339,"body_markdown":"You can use the key from your iteration over the first map to get the value for the second one:\r\n\r\n    double sum = 0.00;\r\n    for (Map.Entry&lt;String, Double&gt; hm : hm1.entrySet()) {\r\n       double hm2Value = hm2.get(hm.getKey());\r\n       sum += hm.getValue() * hm2Value;\r\n    }\r\n\r\nNote that this only works if both maps have the same keys. If keys are missing in either, then you have to think about how to deal with that.","title":"Multiplying Values of Two HashMaps","body":"<p>You can use the key from your iteration over the first map to get the value for the second one:</p>\n\n<pre><code>double sum = 0.00;\nfor (Map.Entry&lt;String, Double&gt; hm : hm1.entrySet()) {\n   double hm2Value = hm2.get(hm.getKey());\n   sum += hm.getValue() * hm2Value;\n}\n</code></pre>\n\n<p>Note that this only works if both maps have the same keys. If keys are missing in either, then you have to think about how to deal with that.</p>\n"},{"tags":[],"owner":{"account_id":2181574,"reputation":2045,"user_id":1930935,"accept_rate":83,"display_name":"Olavi Mustanoja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417757631,"creation_date":1417757631,"answer_id":27309422,"question_id":27309339,"body_markdown":"Given that the two HashMaps have equal amount of entries, and that all the entries have the same corresponding key, then a solid way to aquire the sum would be like this:\n\n    double sum = 0;\n\n    /* iterate through all the keys in hm1 */\n    /* order doesn&#39;t matter */\n    for (String key : hm1.keySet()) {\n        double value1 = hm1.get(key);\n        double value2 = hm2.get(key);\n        sum += value1 * value2;\n    }","title":"Multiplying Values of Two HashMaps","body":"<p>Given that the two HashMaps have equal amount of entries, and that all the entries have the same corresponding key, then a solid way to aquire the sum would be like this:</p>\n\n<pre><code>double sum = 0;\n\n/* iterate through all the keys in hm1 */\n/* order doesn't matter */\nfor (String key : hm1.keySet()) {\n    double value1 = hm1.get(key);\n    double value2 = hm2.get(key);\n    sum += value1 * value2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13573704,"reputation":2196,"user_id":9791674,"display_name":"Languoguang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642061389,"creation_date":1642061389,"answer_id":70693268,"question_id":27309339,"body_markdown":"Java Version 8, you can use Stream API:\r\n\r\n        Map&lt;String, Double&gt; hm1 = new HashMap&lt;String, Double&gt;() {{\r\n            put(&quot;A&quot;, 3.0);\r\n            put(&quot;B&quot;, 4.0);\r\n            put(&quot;C&quot;, 7.0);\r\n        }};\r\n\r\n        Map&lt;String, Double&gt; hm2 = new HashMap&lt;String, Double&gt;() {{\r\n            put(&quot;A&quot;, 4.0);\r\n            put(&quot;B&quot;, 6.0);\r\n            put(&quot;C&quot;, 3.0);\r\n        }};\r\n\r\n        double sum = hm1.entrySet()\r\n            .stream()\r\n            .filter(entry -&gt; hm2.containsKey(entry.getKey()))\r\n            .map(entry -&gt; entry.getValue() * hm2.get(entry.getKey()))\r\n            .mapToDouble(value -&gt; value)\r\n            .sum();\r\n  ","title":"Multiplying Values of Two HashMaps","body":"<p>Java Version 8, you can use Stream API:</p>\n<pre><code>    Map&lt;String, Double&gt; hm1 = new HashMap&lt;String, Double&gt;() {{\n        put(&quot;A&quot;, 3.0);\n        put(&quot;B&quot;, 4.0);\n        put(&quot;C&quot;, 7.0);\n    }};\n\n    Map&lt;String, Double&gt; hm2 = new HashMap&lt;String, Double&gt;() {{\n        put(&quot;A&quot;, 4.0);\n        put(&quot;B&quot;, 6.0);\n        put(&quot;C&quot;, 3.0);\n    }};\n\n    double sum = hm1.entrySet()\n        .stream()\n        .filter(entry -&gt; hm2.containsKey(entry.getKey()))\n        .map(entry -&gt; entry.getValue() * hm2.get(entry.getKey()))\n        .mapToDouble(value -&gt; value)\n        .sum();\n</code></pre>\n"}],"owner":{"account_id":5438695,"reputation":21,"user_id":4327328,"display_name":"coffm"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2475,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":27309373,"answer_count":3,"score":0,"last_activity_date":1642061389,"creation_date":1417757135,"question_id":27309339,"body_markdown":"If I have two `HashMap`s, `hm1` and `hm2`, how can I iterate through the two and multiply the two values together at each point in the two `HashMap`s and sum the total? They are both ordered identically, so I don&#39;t need to worry about the keys, just the values.\r\n\r\nThe data is in the form\r\n\r\n    hm1 = \r\n    (A, 3)\r\n    (B, 4)\r\n    (C, 7)\r\n\r\n    hm2 =\r\n    (A, 4)\r\n    (B, 6)\r\n    (C, 3)\r\n\r\n\r\nthen I want to do something like this but obviously this code is incorrect because I&#39;m only iterating through hm1.\r\n\r\n\tdouble sum = 0.00;\r\n\tfor (Map.Entry&lt;String, Double&gt; hm : hm1.entrySet()) {\r\n\t    sum += hm1.getValue() * hm2.getValue();\r\n\t}\r\n\r\nSo I would basically loop through and do:\r\n\r\n    1st iteration: Sum = 0 + 3*4\r\n    2nd Iteration: Sum = 12 + 4*6\r\n    3rd iteration: Sum = 36 + 7*3\r\n    Exit Loop:\r\n    Sum = 57\r\n\r\nThanks for any help you can give me.","title":"Multiplying Values of Two HashMaps","body":"<p>If I have two <code>HashMap</code>s, <code>hm1</code> and <code>hm2</code>, how can I iterate through the two and multiply the two values together at each point in the two <code>HashMap</code>s and sum the total? They are both ordered identically, so I don't need to worry about the keys, just the values.</p>\n\n<p>The data is in the form</p>\n\n<pre><code>hm1 = \n(A, 3)\n(B, 4)\n(C, 7)\n\nhm2 =\n(A, 4)\n(B, 6)\n(C, 3)\n</code></pre>\n\n<p>then I want to do something like this but obviously this code is incorrect because I'm only iterating through hm1.</p>\n\n<pre><code>double sum = 0.00;\nfor (Map.Entry&lt;String, Double&gt; hm : hm1.entrySet()) {\n    sum += hm1.getValue() * hm2.getValue();\n}\n</code></pre>\n\n<p>So I would basically loop through and do:</p>\n\n<pre><code>1st iteration: Sum = 0 + 3*4\n2nd Iteration: Sum = 12 + 4*6\n3rd iteration: Sum = 36 + 7*3\nExit Loop:\nSum = 57\n</code></pre>\n\n<p>Thanks for any help you can give me.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1642060219,"post_id":70693023,"comment_id":124972621,"body_markdown":"Apparently the empty thing is the result of `o.toString()` .","body":"Apparently the empty thing is the result of <code>o.toString()</code> ."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1642060487,"post_id":70693023,"comment_id":124972700,"body_markdown":"why do you convert to a double first?","body":"why do you convert to a double first?"},{"owner":{"account_id":2421447,"reputation":3223,"user_id":2114313,"accept_rate":67,"display_name":"frIT"},"score":0,"creation_date":1642062129,"post_id":70693023,"comment_id":124973268,"body_markdown":"Some *general* comments: (1) parsing a string to a double sometimes results in a different value than you would get from parsing a `BigDecimal` directly from a string due to representation inaccuracies. `BigDecimal`&#39;s big reason for existence (IMHO) is to represent values (from a string) that can NOT be accurately represented with a `double`. So parsing to a `double` first removes its usefulness, you&#39;d be better of just using `double`s (but I guess you do want the accuracy). So rather parse directly from a string (using `new BigDecimal()`, and catching the `NumberFormatException`).","body":"Some <i>general</i> comments: (1) parsing a string to a double sometimes results in a different value than you would get from parsing a <code>BigDecimal</code> directly from a string due to representation inaccuracies. <code>BigDecimal</code>&#39;s big reason for existence (IMHO) is to represent values (from a string) that can NOT be accurately represented with a <code>double</code>. So parsing to a <code>double</code> first removes its usefulness, you&#39;d be better of just using <code>double</code>s (but I guess you do want the accuracy). So rather parse directly from a string (using <code>new BigDecimal()</code>, and catching the <code>NumberFormatException</code>)."},{"owner":{"account_id":2421447,"reputation":3223,"user_id":2114313,"accept_rate":67,"display_name":"frIT"},"score":0,"creation_date":1642062421,"post_id":70693023,"comment_id":124973370,"body_markdown":"(2) Change the input parameter accordingly. If you want to cater for `Integer` and `Double` together with `String`, rather use bounded generics (and typechecking logic). Using a raw `Object` is usually suspect... (3) instead of `new BigDecimal(0)`, use `BigDecimal.ZERO` - it&#39;s quicker at runtime (for what it&#39;s worth). Also `ONE` and `TEN` are available. (4) One should generally use the `.equals()` method to compare `Object`&#39;s values.","body":"(2) Change the input parameter accordingly. If you want to cater for <code>Integer</code> and <code>Double</code> together with <code>String</code>, rather use bounded generics (and typechecking logic). Using a raw <code>Object</code> is usually suspect... (3) instead of <code>new BigDecimal(0)</code>, use <code>BigDecimal.ZERO</code> - it&#39;s quicker at runtime (for what it&#39;s worth). Also <code>ONE</code> and <code>TEN</code> are available. (4) One should generally use the <code>.equals()</code> method to compare <code>Object</code>&#39;s values."}],"answers":[{"tags":[],"owner":{"account_id":11766020,"reputation":121,"user_id":8610598,"display_name":"Spider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642061088,"creation_date":1642060655,"answer_id":70693130,"question_id":70693023,"body_markdown":"Firstly I don&#39;t understand why you are taking object type as an input, however to resolve your issue you can do something like this. But I would strongly advice you to change the method signature it is misleading.\r\n\r\n    public static BigDecimal setValue(Object o) {\r\n\t\tvar value = new BigDecimal(0);\r\n\t\tif (o != null) {\r\n\t\t\tif(o instanceof String) {\r\n\t\t\t\tif (((String) o).trim().length()&gt;0) {\r\n\t\t\t\t\tvalue = new BigDecimal((String) o);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}","title":"How to resolve Java.lang.numberformatexception: empty string","body":"<p>Firstly I don't understand why you are taking object type as an input, however to resolve your issue you can do something like this. But I would strongly advice you to change the method signature it is misleading.</p>\n<pre><code>public static BigDecimal setValue(Object o) {\n    var value = new BigDecimal(0);\n    if (o != null) {\n        if(o instanceof String) {\n            if (((String) o).trim().length()&gt;0) {\n                value = new BigDecimal((String) o);\n            }\n        }\n    }\n    return value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642060907,"creation_date":1642060907,"answer_id":70693172,"question_id":70693023,"body_markdown":"I would change the method signature to BigDecimal setValue(String s). Your null check and length check code should then work fine.\r\nAlso the method name is misleading. The method does not set anything. Something like convertToBigDecimal would be clearer.","title":"How to resolve Java.lang.numberformatexception: empty string","body":"<p>I would change the method signature to BigDecimal setValue(String s). Your null check and length check code should then work fine.\nAlso the method name is misleading. The method does not set anything. Something like convertToBigDecimal would be clearer.</p>\n"}],"owner":{"account_id":23767003,"reputation":9,"user_id":17781642,"display_name":"Doodles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70693130,"answer_count":2,"score":-2,"last_activity_date":1642061088,"creation_date":1642060097,"question_id":70693023,"body_markdown":"I have a utility function which convert `parseDouble` value to string.\r\n\r\n``` lang-java\r\npublic static BigDecimal setValue(Object o) {\r\n  BigDecimal value = new BigDecimal(0);\r\n  if(o!= Null){\r\n    value=BigDecimal.valueOf(Double.parseDouble(o.toString()));\r\n  }\r\n  return value;\r\n}\r\n```\r\n\r\nI have tried with `(o!=null &amp;&amp; !isEmpty(o))` and `(o!=&quot;&quot; &amp;&amp; o!=null)` but it is still throwing same error.\r\n\r\nTransaction amount which is processing this utility function contains empty value.","title":"How to resolve Java.lang.numberformatexception: empty string","body":"<p>I have a utility function which convert <code>parseDouble</code> value to string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static BigDecimal setValue(Object o) {\n  BigDecimal value = new BigDecimal(0);\n  if(o!= Null){\n    value=BigDecimal.valueOf(Double.parseDouble(o.toString()));\n  }\n  return value;\n}\n</code></pre>\n<p>I have tried with <code>(o!=null &amp;&amp; !isEmpty(o))</code> and <code>(o!=&quot;&quot; &amp;&amp; o!=null)</code> but it is still throwing same error.</p>\n<p>Transaction amount which is processing this utility function contains empty value.</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1642061295,"post_id":70690856,"comment_id":124972971,"body_markdown":"Try `cast(? as pg_lsn)` instead of just `?` for the lsn parameter","body":"Try <code>cast(? as pg_lsn)</code> instead of just <code>?</code> for the lsn parameter"},{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1642090566,"post_id":70690856,"comment_id":124984703,"body_markdown":"I believe there must be a mistake. None of your data would correspond to these three bytes. In ISO-8859-1 or WIndows-1252 encoding, these bytes would correspond to `&#225;li`, which could be part of a French or Spanish string. So I assume that you supply data different from what you think. One option is to set `log_statement = all` and examine the log entry for the statement. It should contain the parameter values.","body":"I believe there must be a mistake. None of your data would correspond to these three bytes. In ISO-8859-1 or WIndows-1252 encoding, these bytes would correspond to <code>&#225;li</code>, which could be part of a French or Spanish string. So I assume that you supply data different from what you think. One option is to set <code>log_statement = all</code> and examine the log entry for the statement. It should contain the parameter values."},{"owner":{"account_id":7495940,"reputation":37,"user_id":5696211,"display_name":"Jes&#250;s Alberto Carrillo Garc&#237;a"},"score":0,"creation_date":1642102580,"post_id":70690856,"comment_id":124989387,"body_markdown":"@a_horse_with_no_name it works! Can u post as a anwser please","body":"@a_horse_with_no_name it works! Can u post as a anwser please"}],"owner":{"account_id":7495940,"reputation":37,"user_id":5696211,"display_name":"Jes&#250;s Alberto Carrillo Garc&#237;a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642060298,"creation_date":1642042221,"question_id":70690856,"body_markdown":"I have a logical slot replication in PostgreSQL 11.4 and I have to execute the following query:\r\n\r\n    SELECT lsn, xid FROM pg_logical_slot_peek_changes(&#39;inv_slot&#39;, &#39;0/88768F28&#39;, NULL\r\n    \t\t\t\t\t\t\t\t\t\t   , &#39;include-timestamp&#39;,&#39;true&#39;\r\n    \t\t\t\t\t\t\t\t\t\t   , &#39;include-types&#39;,&#39;false&#39;\r\n    \t\t\t\t\t\t\t\t\t\t   , &#39;add-tables&#39;,&#39;public.personas&#39;)\r\n\r\nIf I use a Statement obj like this its Ok and execution is right:\r\n\r\n    stmt.execute(&quot;SELECT lsn, xid FROM pg_logical_slot_peek_changes(&#39;inv_slot&#39;, &#39;0/88768F28&#39;, NULL\r\n        \t\t\t\t\t\t\t\t\t\t   , &#39;include-timestamp&#39;,&#39;true&#39;\r\n        \t\t\t\t\t\t\t\t\t\t   , &#39;include-types&#39;,&#39;false&#39;\r\n        \t\t\t\t\t\t\t\t\t\t   , &#39;add-tables&#39;,&#39;public.personas&#39;)&quot;);\r\n\r\nBut due to security reasons I have to use a PreparedStatement Object. So I wrote the following code:\r\n\r\n    PreparedStatement stmt2 = con.prepareStatement(&quot;SELECT lsn, xid FROM pg_logical_slot_peek_changes(?, ?, NULL\\r\\n&quot; + \r\n    \t\t\t\t\t\t\t\t\t&quot;\t\t\t\t\t\t\t\t\t\t   , &#39;include-timestamp&#39;,&#39;true&#39;\\r\\n&quot; + \r\n    \t\t\t\t\t\t\t\t\t&quot;\t\t\t\t\t\t\t\t\t\t   , &#39;include-types&#39;,&#39;false&#39;\\r\\n&quot; + \r\n    \t\t\t\t\t\t\t\t\t&quot;\t\t\t\t\t\t\t\t\t\t   , &#39;add-tables&#39;,?)&quot;);\r\n    \t\t\t        \t stmt2.setString(1, &quot;inv_slot&quot;);\r\n    \t\t\t        \t stmt2.setString(2, &quot;0/88768F28&quot;); &lt;--- A VALID pg_lsn\r\n    \t\t\t        \t stmt2.setString(3, &quot;public.personas&quot;);\r\n    \t\t\t        \t stmt2.execute();\r\n    \t\t\t        \t stmt2.close();\r\n\r\nBut using PreparedStament I have following error:\r\n\r\n    Error SQL: 0 ERROR: invalid byte sequence for encoding &quot;UTF8&quot;: 0xe1 0x6c 0x69\r\n\r\nStacktrace line error is: `stmt2.execute();`\r\n\r\nIf I execute a PreparedStatement without a **pg_lsn** value, like NULL, execution is right. But if I set a value for pg_lsn a error appears.\r\n\r\nIf I print PreparedStatement obj, both of queries are identical but the PreparedStatement with pg_lsn value fails.\r\n\r\nSo, I think a PG_LSN is not a String and is a driver error, so, what PreparedStament method should I use to assign a pg_lsn value?","title":"How to set pg_lsn value to PreparedStatement obj in java?","body":"<p>I have a logical slot replication in PostgreSQL 11.4 and I have to execute the following query:</p>\n<pre><code>SELECT lsn, xid FROM pg_logical_slot_peek_changes('inv_slot', '0/88768F28', NULL\n                                           , 'include-timestamp','true'\n                                           , 'include-types','false'\n                                           , 'add-tables','public.personas')\n</code></pre>\n<p>If I use a Statement obj like this its Ok and execution is right:</p>\n<pre><code>stmt.execute(&quot;SELECT lsn, xid FROM pg_logical_slot_peek_changes('inv_slot', '0/88768F28', NULL\n                                               , 'include-timestamp','true'\n                                               , 'include-types','false'\n                                               , 'add-tables','public.personas')&quot;);\n</code></pre>\n<p>But due to security reasons I have to use a PreparedStatement Object. So I wrote the following code:</p>\n<pre><code>PreparedStatement stmt2 = con.prepareStatement(&quot;SELECT lsn, xid FROM pg_logical_slot_peek_changes(?, ?, NULL\\r\\n&quot; + \n                                    &quot;                                          , 'include-timestamp','true'\\r\\n&quot; + \n                                    &quot;                                          , 'include-types','false'\\r\\n&quot; + \n                                    &quot;                                          , 'add-tables',?)&quot;);\n                         stmt2.setString(1, &quot;inv_slot&quot;);\n                         stmt2.setString(2, &quot;0/88768F28&quot;); &lt;--- A VALID pg_lsn\n                         stmt2.setString(3, &quot;public.personas&quot;);\n                         stmt2.execute();\n                         stmt2.close();\n</code></pre>\n<p>But using PreparedStament I have following error:</p>\n<pre><code>Error SQL: 0 ERROR: invalid byte sequence for encoding &quot;UTF8&quot;: 0xe1 0x6c 0x69\n</code></pre>\n<p>Stacktrace line error is: <code>stmt2.execute();</code></p>\n<p>If I execute a PreparedStatement without a <strong>pg_lsn</strong> value, like NULL, execution is right. But if I set a value for pg_lsn a error appears.</p>\n<p>If I print PreparedStatement obj, both of queries are identical but the PreparedStatement with pg_lsn value fails.</p>\n<p>So, I think a PG_LSN is not a String and is a driver error, so, what PreparedStament method should I use to assign a pg_lsn value?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1474863709,"post_id":39694642,"comment_id":66688192,"body_markdown":"Why can&#39;t use `list.removeAll(sublist)`","body":"Why can&#39;t use <code>list.removeAll(sublist)</code>"},{"owner":{"account_id":7338382,"reputation":4231,"user_id":5588910,"display_name":"Naruto"},"score":0,"creation_date":1474864020,"post_id":39694642,"comment_id":66688268,"body_markdown":"What will be the case if input is 60606 ?","body":"What will be the case if input is 60606 ?"},{"owner":{"account_id":2440167,"reputation":1156,"user_id":2128915,"accept_rate":64,"display_name":"Fiery Phoenix"},"score":0,"creation_date":1474864125,"post_id":39694642,"comment_id":66688291,"body_markdown":"@Naruto It doesn&#39;t matter for this example. I was only trying to illustrate the idea.","body":"@Naruto It doesn&#39;t matter for this example. I was only trying to illustrate the idea."},{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":0,"creation_date":1474869812,"post_id":39694642,"comment_id":66689983,"body_markdown":"@Sam That would remove all occurrences of `6` or `0`. It wouldn&#39;t enforce the ordering of the 3 numbers.","body":"@Sam That would remove all occurrences of <code>6</code> or <code>0</code>. It wouldn&#39;t enforce the ordering of the 3 numbers."},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1474871244,"post_id":39694642,"comment_id":66690576,"body_markdown":"@4castle ya you are right..but if sublist contains the elements(6 0 6) in order than it would be useful.","body":"@4castle ya you are right..but if sublist contains the elements(6 0 6) in order than it would be useful."}],"answers":[{"tags":[],"owner":{"account_id":1950748,"reputation":3156,"user_id":1754890,"accept_rate":65,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474866303,"creation_date":1474863910,"answer_id":39694710,"question_id":39694642,"body_markdown":"What I would recommend is to search your `ArrayList` before you make it into a `ListIterator`.\r\n\r\n    public static void filterList(ArrayList&lt;Integer&gt; list) {\r\n        bool firstInstance = false; //Saying we having found our first instance of our sub list\r\n        for(int i=0;i&lt;list.size();++i) {\r\n           if(list.get(i) == 6) //Checks to see if our first index is a 6 or it pointless to check the next two numbers i.e. wasting resources\r\n             if(list.get(i+1) == 0 &amp;&amp; list.get(i+2) == 6 &amp;&amp; !firstInstance) { //Make sure it a 6 0 6 list\r\n               list.remove(i); //Removes first one\r\n               list.remove(i); //Removes second one which now became our current index number\r\n               list.remove(i); //Removes third one which now became our current index number\r\n             } else\r\n                 firstInstance = true; //Our first instances has been found and will now remove duplicate ones!\r\n        }\r\n        ListIterator&lt;Integer&gt; iterator = list.listIterator();\r\n        int elem; \r\n        while (iterator.hasNext()) {\r\n            // Remove any sublist of 6 0 6-- Already Done\r\n        }\r\n    }","title":"Removing Sublist from ArrayList","body":"<p>What I would recommend is to search your <code>ArrayList</code> before you make it into a <code>ListIterator</code>.</p>\n\n<pre><code>public static void filterList(ArrayList&lt;Integer&gt; list) {\n    bool firstInstance = false; //Saying we having found our first instance of our sub list\n    for(int i=0;i&lt;list.size();++i) {\n       if(list.get(i) == 6) //Checks to see if our first index is a 6 or it pointless to check the next two numbers i.e. wasting resources\n         if(list.get(i+1) == 0 &amp;&amp; list.get(i+2) == 6 &amp;&amp; !firstInstance) { //Make sure it a 6 0 6 list\n           list.remove(i); //Removes first one\n           list.remove(i); //Removes second one which now became our current index number\n           list.remove(i); //Removes third one which now became our current index number\n         } else\n             firstInstance = true; //Our first instances has been found and will now remove duplicate ones!\n    }\n    ListIterator&lt;Integer&gt; iterator = list.listIterator();\n    int elem; \n    while (iterator.hasNext()) {\n        // Remove any sublist of 6 0 6-- Already Done\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1474870360,"creation_date":1474863929,"answer_id":39694714,"question_id":39694642,"body_markdown":"You can create an efficient and concise O(nm) solution by using [`Collections.indexOfSubList`][1]:\r\n\r\n\tpublic static void removeAllSubList(List&lt;?&gt; list, List&lt;?&gt; subList) {\r\n        // find first occurrence of the subList in the list, O(nm)\r\n\t\tint i = Collections.indexOfSubList(list, subList);\r\n        // if found\r\n\t\tif (i != -1) {\r\n            // bulk remove, O(m)\r\n\t\t\tlist.subList(i, i + subList.size()).clear();\r\n            // recurse with the rest of the list\r\n\t\t\tremoveAllSubList(list.subList(i, list.size()), subList);\r\n\t\t}\r\n\t}\r\n\r\n[Ideone Demo][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#indexOfSubList-java.util.List-java.util.List-\r\n  [2]: https://ideone.com/6mobol","title":"Removing Sublist from ArrayList","body":"<p>You can create an efficient and concise O(nm) solution by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#indexOfSubList-java.util.List-java.util.List-\" rel=\"nofollow\"><code>Collections.indexOfSubList</code></a>:</p>\n\n<pre><code>public static void removeAllSubList(List&lt;?&gt; list, List&lt;?&gt; subList) {\n    // find first occurrence of the subList in the list, O(nm)\n    int i = Collections.indexOfSubList(list, subList);\n    // if found\n    if (i != -1) {\n        // bulk remove, O(m)\n        list.subList(i, i + subList.size()).clear();\n        // recurse with the rest of the list\n        removeAllSubList(list.subList(i, list.size()), subList);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/6mobol\" rel=\"nofollow\">Ideone Demo</a></p>\n"},{"tags":[],"owner":{"account_id":308815,"reputation":3962,"user_id":620908,"display_name":"Adrian Colomitchi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1474871703,"creation_date":1474864076,"answer_id":39694736,"question_id":39694642,"body_markdown":"[Edited - better, single pass approach]\r\n\r\nCustom, enhanced `indexOfSublist` starting the search from `offset`; therefore, we don&#39;t restart from `0` each time we removed something (as we did when using `Collections.indexOfSublist` see bottom of this answer). \r\n\r\n    static &lt;T&gt; int indexOfSublist(List&lt;T&gt; haystack, List&lt;T&gt; needle, int offset){\r\n      int toRet=-1;\r\n      int needleLen=needle.size();\r\n      if(needleLen&gt;0) {\r\n        // it makes sense to search\r\n        int haystackLen=haystack.size();\r\n        for(;offset+needleLen&lt;haystackLen &amp;&amp; toRet&lt;0; offset++) {\r\n          int compIx;\r\n          for(\r\n              compIx=0; \r\n              (\r\n                     compIx&lt;needleLen \r\n                  &amp;&amp; false==haystack.get(offset+compIx).equals(needle.get(compIx))\r\n              ); \r\n              compIx++\r\n          );\r\n          if(compIx==needleLen) { // found\r\n            toRet=offset;\r\n          }\r\n        }\r\n      }\r\n      return toRet;\r\n    }\r\n    \r\n    public static void filterList(List&lt;Integer&gt; haystack, List&lt;Integer&gt; needle) {\r\n      for(\r\n          int offset=0, ixOfNeedle=indexOfSublist(haystack, needle, offset);\r\n          ixOfNeedle&gt;=0;\r\n          ixOfNeedle=indexOfSublist(haystack, needle, offset)\r\n      ) {\r\n        // found one place. We&#39;ll continue searching from here next time\r\n        offset=ixOfNeedle;\r\n        //////////////////////////////////////////\r\n        // for a better removal sequence, see the \r\n        // 4castle&#39;s answer using sublists \r\n        for(int i=needle.size(); i&gt;0; i--) {\r\n          haystack.remove(ixOfNeedle);\r\n        }\r\n      }\r\n    }\r\n\r\n---\r\n\r\n[Collections.indexOfSublist](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#indexOfSubList%28java.util.List,%20java.util.List%29) is what you are after. \r\n\r\n    public static void filterList(ArrayList&lt;Integer&gt; haystack, List&lt;Integer&gt; needle) {\r\n        for(\r\n           int ixOfNeedle=Collections.indexOfSublist(haystack, needle);\r\n           ixOfNeedle&gt;=0;\r\n           ixOfNeedle=Collections.indexOfSublist(haystack, needle)\r\n        ) {\r\n          for(int i=needle.size(); i&gt;0; i--) {\r\n            haystack.remove(ixOfNeedle);\r\n          }\r\n        }\r\n    }\r\n\r\n","title":"Removing Sublist from ArrayList","body":"<p>[Edited - better, single pass approach]</p>\n\n<p>Custom, enhanced <code>indexOfSublist</code> starting the search from <code>offset</code>; therefore, we don't restart from <code>0</code> each time we removed something (as we did when using <code>Collections.indexOfSublist</code> see bottom of this answer). </p>\n\n<pre><code>static &lt;T&gt; int indexOfSublist(List&lt;T&gt; haystack, List&lt;T&gt; needle, int offset){\n  int toRet=-1;\n  int needleLen=needle.size();\n  if(needleLen&gt;0) {\n    // it makes sense to search\n    int haystackLen=haystack.size();\n    for(;offset+needleLen&lt;haystackLen &amp;&amp; toRet&lt;0; offset++) {\n      int compIx;\n      for(\n          compIx=0; \n          (\n                 compIx&lt;needleLen \n              &amp;&amp; false==haystack.get(offset+compIx).equals(needle.get(compIx))\n          ); \n          compIx++\n      );\n      if(compIx==needleLen) { // found\n        toRet=offset;\n      }\n    }\n  }\n  return toRet;\n}\n\npublic static void filterList(List&lt;Integer&gt; haystack, List&lt;Integer&gt; needle) {\n  for(\n      int offset=0, ixOfNeedle=indexOfSublist(haystack, needle, offset);\n      ixOfNeedle&gt;=0;\n      ixOfNeedle=indexOfSublist(haystack, needle, offset)\n  ) {\n    // found one place. We'll continue searching from here next time\n    offset=ixOfNeedle;\n    //////////////////////////////////////////\n    // for a better removal sequence, see the \n    // 4castle's answer using sublists \n    for(int i=needle.size(); i&gt;0; i--) {\n      haystack.remove(ixOfNeedle);\n    }\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#indexOfSubList%28java.util.List,%20java.util.List%29\" rel=\"nofollow\">Collections.indexOfSublist</a> is what you are after. </p>\n\n<pre><code>public static void filterList(ArrayList&lt;Integer&gt; haystack, List&lt;Integer&gt; needle) {\n    for(\n       int ixOfNeedle=Collections.indexOfSublist(haystack, needle);\n       ixOfNeedle&gt;=0;\n       ixOfNeedle=Collections.indexOfSublist(haystack, needle)\n    ) {\n      for(int i=needle.size(); i&gt;0; i--) {\n        haystack.remove(ixOfNeedle);\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3251487,"reputation":3147,"user_id":2741598,"accept_rate":50,"display_name":"Vickyexpert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474864959,"creation_date":1474864959,"answer_id":39694857,"question_id":39694642,"body_markdown":"You can use array and list combination for this as find below solution, hope it will help you.\r\n\r\n\r\n        public void testData()\r\n\t    {\r\n\t\t    int tempArray[] = {6, 4, 5, 6, 0, 6, 3, 4, 1, 6, 1, 6, 0, 6, 8, 3};\r\n\t\t    List&lt;Integer&gt; resultArray = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t    for(int i = 0; i &lt; tempArray.length; i++)\r\n\t\t    {\r\n\t\t\t    if(tempArray[i] == 6 &amp;&amp; tempArray[i+1] == 0 &amp;&amp; tempArray[i + 2] == 6) \r\n\t\t\t    {\r\n\t\t\t\t    i += 2;\r\n\t\t\t    }\r\n\t\t\t    else\r\n\t\t\t    {\r\n\t\t\t\t    resultArray.add(tempArray[i]);\r\n\t\t\t    }\r\n\t\t    }\r\n\t\t\r\n\t\t    for(int tempInt : resultArray)\r\n\t\t    {\r\n\t\t\t    System.out.print(&quot;\\t&quot; + tempInt);\r\n\t\t    }\r\n\t    }\r\n\r\n**Note:** You can pass array from your side or return result as per your requirement in above function.\r\n","title":"Removing Sublist from ArrayList","body":"<p>You can use array and list combination for this as find below solution, hope it will help you.</p>\n\n<pre><code>    public void testData()\n    {\n        int tempArray[] = {6, 4, 5, 6, 0, 6, 3, 4, 1, 6, 1, 6, 0, 6, 8, 3};\n        List&lt;Integer&gt; resultArray = new ArrayList&lt;&gt;();\n\n        for(int i = 0; i &lt; tempArray.length; i++)\n        {\n            if(tempArray[i] == 6 &amp;&amp; tempArray[i+1] == 0 &amp;&amp; tempArray[i + 2] == 6) \n            {\n                i += 2;\n            }\n            else\n            {\n                resultArray.add(tempArray[i]);\n            }\n        }\n\n        for(int tempInt : resultArray)\n        {\n            System.out.print(\"\\t\" + tempInt);\n        }\n    }\n</code></pre>\n\n<p><strong>Note:</strong> You can pass array from your side or return result as per your requirement in above function.</p>\n"},{"tags":[],"owner":{"account_id":4681256,"reputation":112,"user_id":3789907,"display_name":"Christian Oliver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642059910,"creation_date":1642059910,"answer_id":70692991,"question_id":39694642,"body_markdown":"        //if\r\n        List&lt;String&gt; originalList = new ArrayList&lt;&gt;();\r\n        originalList.add(&quot;A&quot;);\r\n        originalList.add(&quot;B&quot;);\r\n        originalList.add(&quot;C&quot;);\r\n        originalList.add(&quot;D&quot;);\r\n        //and\r\n        List&lt;String&gt; subList = new ArrayList&lt;&gt;();\r\n        subList.add(&quot;A&quot;);\r\n        subList.add(&quot;C&quot;);\r\n        //then\r\n        originalList = originalList.stream().filter(x -&gt; !subList.contains(x)).collect(Collectors.toList());\r\n        \r\n        //originalList should now contain {&quot;B&quot;,&quot;D&quot;}","title":"Removing Sublist from ArrayList","body":"<pre><code>    //if\n    List&lt;String&gt; originalList = new ArrayList&lt;&gt;();\n    originalList.add(&quot;A&quot;);\n    originalList.add(&quot;B&quot;);\n    originalList.add(&quot;C&quot;);\n    originalList.add(&quot;D&quot;);\n    //and\n    List&lt;String&gt; subList = new ArrayList&lt;&gt;();\n    subList.add(&quot;A&quot;);\n    subList.add(&quot;C&quot;);\n    //then\n    originalList = originalList.stream().filter(x -&gt; !subList.contains(x)).collect(Collectors.toList());\n    \n    //originalList should now contain {&quot;B&quot;,&quot;D&quot;}\n</code></pre>\n"}],"owner":{"account_id":2440167,"reputation":1156,"user_id":2128915,"accept_rate":64,"display_name":"Fiery Phoenix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9556,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39694714,"answer_count":5,"score":5,"last_activity_date":1642059910,"creation_date":1474863286,"question_id":39694642,"body_markdown":"For simplicity, let&#39;s say I have an `ArrayList` whose indices contain exactly one single-digit integer. For instance:\r\n\r\n    6 4 5 6 0 6 3 4 1 6 1 6 0 6 8 3\r\n\r\nI would like to filter out all occurrences of the sublist `6 0 6`, such that the new list becomes:\r\n\r\n    6 4 5 3 4 1 6 1 8 3\r\n\r\nIs there any way of doing this? Using `ListIterator` doesn&#39;t seem to work for me, because I have to consider three consecutive elements collectively and I&#39;m honestly not sure how to do that. \r\n\r\nHere&#39;s a skeleton of the method I have implemented: \r\n\r\n    public static void filterList(ArrayList&lt;Integer&gt; list) {\r\n    \tListIterator&lt;Integer&gt; iterator = list.listIterator();\r\n    \tint elem; \r\n    \twhile (iterator.hasNext()) {\r\n    \t\t// Remove any sublist of 6 0 6\r\n    \t}\r\n    }\r\n\r\n**Edit:** Again, for simplicity, let&#39;s assume there won&#39;t be cases where we have 60606 or similar. \r\n","title":"Removing Sublist from ArrayList","body":"<p>For simplicity, let's say I have an <code>ArrayList</code> whose indices contain exactly one single-digit integer. For instance:</p>\n\n<pre><code>6 4 5 6 0 6 3 4 1 6 1 6 0 6 8 3\n</code></pre>\n\n<p>I would like to filter out all occurrences of the sublist <code>6 0 6</code>, such that the new list becomes:</p>\n\n<pre><code>6 4 5 3 4 1 6 1 8 3\n</code></pre>\n\n<p>Is there any way of doing this? Using <code>ListIterator</code> doesn't seem to work for me, because I have to consider three consecutive elements collectively and I'm honestly not sure how to do that. </p>\n\n<p>Here's a skeleton of the method I have implemented: </p>\n\n<pre><code>public static void filterList(ArrayList&lt;Integer&gt; list) {\n    ListIterator&lt;Integer&gt; iterator = list.listIterator();\n    int elem; \n    while (iterator.hasNext()) {\n        // Remove any sublist of 6 0 6\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong> Again, for simplicity, let's assume there won't be cases where we have 60606 or similar. </p>\n"},{"tags":["java","transactions","micronaut","micronaut-data"],"comments":[{"owner":{"account_id":53614,"reputation":75382,"user_id":160313,"display_name":"Burt Beckwith"},"score":3,"creation_date":1642020172,"post_id":70687657,"comment_id":124964568,"body_markdown":"step 1 would be to update to the most recent Micronaut (v3.2.5) just in case this is a fixed bug","body":"step 1 would be to update to the most recent Micronaut (v3.2.5) just in case this is a fixed bug"},{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1642020468,"post_id":70687657,"comment_id":124964647,"body_markdown":"can you show your complete classes including imports, both of the  DAO as well as of the calling method?","body":"can you show your complete classes including imports, both of the  DAO as well as of the calling method?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1644359643,"post_id":70687657,"comment_id":125585497,"body_markdown":"Are you creating an instance of the `DatabasesDAO` class or is Micronaut creating the instance for you?","body":"Are you creating an instance of the <code>DatabasesDAO</code> class or is Micronaut creating the instance for you?"}],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642059887,"creation_date":1642059887,"answer_id":70692983,"question_id":70687657,"body_markdown":"Make sure you are using `javax.transaction.Transactional`.","title":"io.micronaut.transaction.exceptions.NoTransactionException in method marked with @Transactional","body":"<p>Make sure you are using <code>javax.transaction.Transactional</code>.</p>\n"}],"owner":{"account_id":13107503,"reputation":11,"user_id":9469776,"display_name":"Jim Harrington"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642059887,"creation_date":1642017380,"question_id":70687657,"body_markdown":"My team is working in micronaut 3.2.0 and using micronaut-data-jdbc.  Currently, I&#39;m seeing this error summarized below below at the code location listed below.  Basically, I&#39;m getting a NoTransactionException exception three lines into a method that carries the annotation to start a transaction.\r\n\r\nAny suggestions for debugging and/or resolution will be most appreciated.  I tried enabling trace level log output while the test case ran, but this part of micronaut-data (io.micronaut.transaction) doesn&#39;t seem to have many trace entries coded. \r\n\r\n```\r\nio.micronaut.transaction.exceptions.NoTransactionException: No current transaction present. Consider declaring @Transactional on the surrounding method\r\n\tat io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:65)\r\n\tat io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\r\n\tat io.micronaut.transaction.jdbc.TransactionalConnection$Intercepted.prepareStatement(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.oracle.gbu.gaes.monitoring.MonitoringService$MetricContext.reportTimedExec(MonitoringService.java:270)\r\n\tat com.oracle.gbu.gaes.monitoring.MonitoringService$MyHandlerForConnection.invoke(MonitoringService.java:567)\r\n\tat com.sun.proxy.$Proxy33.prepareStatement(Unknown Source)\r\n\tat com.oracle.gbu.gts.provisioning.dao.DatabasesDAO.createDatabase(DatabasesDAO.java:50)\r\n\tat com.oracle.gbu.gts.provisioning.logic.DatabasesManager.createDatabase(DatabasesManager.java:123)\r\n\tat com.oracle.gbu.gts.provisioning.dao.DatabaseDAOTest.setup(DatabaseDAOTest.java:49)\r\n\r\n...\r\n\r\n\tSuppressed: io.micronaut.transaction.exceptions.NoTransactionException: No current transaction present. Consider declaring @Transactional on the surrounding method\r\n\t\tat io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:65)\r\n\t\tat io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\r\n\t\tat io.micronaut.transaction.jdbc.TransactionalConnection$Intercepted.close(Unknown Source)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat com.oracle.gbu.gaes.monitoring.MonitoringService$MyHandlerForConnection.invoke(MonitoringService.java:585)\r\n\t\tat com.sun.proxy.$Proxy33.close(Unknown Source)\r\n\t\tat com.oracle.gbu.gts.provisioning.dao.DatabasesDAO.createDatabase(DatabasesDAO.java:49)\r\n\t\t... 64 more\r\n\tCaused by: io.micronaut.transaction.jdbc.exceptions.CannotGetJdbcConnectionException: No current JDBC Connection found. Consider wrapping this call in transactional boundaries.\r\n\t\tat io.micronaut.transaction.jdbc.DataSourceUtils.doGetConnection(DataSourceUtils.java:135)\r\n\t\tat io.micronaut.transaction.jdbc.DataSourceUtils.getConnection(DataSourceUtils.java:93)\r\n\t\tat io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:63)\r\n\t\t... 73 more\r\nCaused by: io.micronaut.transaction.jdbc.exceptions.CannotGetJdbcConnectionException: No current JDBC Connection found. Consider wrapping this call in transactional boundaries.\r\n\tat io.micronaut.transaction.jdbc.DataSourceUtils.doGetConnection(DataSourceUtils.java:135)\r\n\tat io.micronaut.transaction.jdbc.DataSourceUtils.getConnection(DataSourceUtils.java:93)\r\n\tat io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:63)\r\n\t... 74 more\r\n```\r\n\r\nin this block of code in DatabasesDAO.java:\r\n\r\n```\r\n  @Transactional(rollbackOn = {java.lang.Exception.class})\r\n  public Database createDatabase(Database database, boolean updateLastReset)\r\n    throws Exception\r\n  {\r\n    // change to merge with reset timestamp update optional\r\n    \r\n    try (Connection connection = this.dataSource.getConnection();\r\n         PreparedStatement merge_db = connection.prepareStatement(MERGE_DB))    &lt;== line 50\r\n    {\r\n\r\n```","title":"io.micronaut.transaction.exceptions.NoTransactionException in method marked with @Transactional","body":"<p>My team is working in micronaut 3.2.0 and using micronaut-data-jdbc.  Currently, I'm seeing this error summarized below below at the code location listed below.  Basically, I'm getting a NoTransactionException exception three lines into a method that carries the annotation to start a transaction.</p>\n<p>Any suggestions for debugging and/or resolution will be most appreciated.  I tried enabling trace level log output while the test case ran, but this part of micronaut-data (io.micronaut.transaction) doesn't seem to have many trace entries coded.</p>\n<pre><code>io.micronaut.transaction.exceptions.NoTransactionException: No current transaction present. Consider declaring @Transactional on the surrounding method\n    at io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:65)\n    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\n    at io.micronaut.transaction.jdbc.TransactionalConnection$Intercepted.prepareStatement(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.oracle.gbu.gaes.monitoring.MonitoringService$MetricContext.reportTimedExec(MonitoringService.java:270)\n    at com.oracle.gbu.gaes.monitoring.MonitoringService$MyHandlerForConnection.invoke(MonitoringService.java:567)\n    at com.sun.proxy.$Proxy33.prepareStatement(Unknown Source)\n    at com.oracle.gbu.gts.provisioning.dao.DatabasesDAO.createDatabase(DatabasesDAO.java:50)\n    at com.oracle.gbu.gts.provisioning.logic.DatabasesManager.createDatabase(DatabasesManager.java:123)\n    at com.oracle.gbu.gts.provisioning.dao.DatabaseDAOTest.setup(DatabaseDAOTest.java:49)\n\n...\n\n    Suppressed: io.micronaut.transaction.exceptions.NoTransactionException: No current transaction present. Consider declaring @Transactional on the surrounding method\n        at io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:65)\n        at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\n        at io.micronaut.transaction.jdbc.TransactionalConnection$Intercepted.close(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at com.oracle.gbu.gaes.monitoring.MonitoringService$MyHandlerForConnection.invoke(MonitoringService.java:585)\n        at com.sun.proxy.$Proxy33.close(Unknown Source)\n        at com.oracle.gbu.gts.provisioning.dao.DatabasesDAO.createDatabase(DatabasesDAO.java:49)\n        ... 64 more\n    Caused by: io.micronaut.transaction.jdbc.exceptions.CannotGetJdbcConnectionException: No current JDBC Connection found. Consider wrapping this call in transactional boundaries.\n        at io.micronaut.transaction.jdbc.DataSourceUtils.doGetConnection(DataSourceUtils.java:135)\n        at io.micronaut.transaction.jdbc.DataSourceUtils.getConnection(DataSourceUtils.java:93)\n        at io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:63)\n        ... 73 more\nCaused by: io.micronaut.transaction.jdbc.exceptions.CannotGetJdbcConnectionException: No current JDBC Connection found. Consider wrapping this call in transactional boundaries.\n    at io.micronaut.transaction.jdbc.DataSourceUtils.doGetConnection(DataSourceUtils.java:135)\n    at io.micronaut.transaction.jdbc.DataSourceUtils.getConnection(DataSourceUtils.java:93)\n    at io.micronaut.transaction.jdbc.TransactionalConnectionInterceptor.intercept(TransactionalConnectionInterceptor.java:63)\n    ... 74 more\n</code></pre>\n<p>in this block of code in DatabasesDAO.java:</p>\n<pre><code>  @Transactional(rollbackOn = {java.lang.Exception.class})\n  public Database createDatabase(Database database, boolean updateLastReset)\n    throws Exception\n  {\n    // change to merge with reset timestamp update optional\n    \n    try (Connection connection = this.dataSource.getConnection();\n         PreparedStatement merge_db = connection.prepareStatement(MERGE_DB))    &lt;== line 50\n    {\n\n</code></pre>\n"},{"tags":["java","android","deprecated"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1626699978,"creation_date":1626699978,"answer_id":68441005,"question_id":68440697,"body_markdown":"The direct replacement for your code would look something like:\r\n\r\n    switch (canAuthenticate(Authenticators.BIOMETRIC_WEAK)) {\r\n       case ...\r\n    }\r\n\r\nAccording to the [javadoc][1], the possible return values are `BIOMETRIC_SUCCESS`, `BIOMETRIC_ERROR_HW_UNAVAILABLE`, `BIOMETRIC_ERROR_NONE_ENROLLED`, `BIOMETRIC_ERROR_NO_HARDWARE`, or `BIOMETRIC_ERROR_SECURITY_UPDATE_REQUIRED`., as before.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/hardware/biometrics/BiometricManager#canAuthenticate(int)","title":"&#39;canAuthenticate()&#39; is deprecated in android","body":"<p>The direct replacement for your code would look something like:</p>\n<pre><code>switch (canAuthenticate(Authenticators.BIOMETRIC_WEAK)) {\n   case ...\n}\n</code></pre>\n<p>According to the <a href=\"https://developer.android.com/reference/android/hardware/biometrics/BiometricManager#canAuthenticate(int)\" rel=\"noreferrer\">javadoc</a>, the possible return values are <code>BIOMETRIC_SUCCESS</code>, <code>BIOMETRIC_ERROR_HW_UNAVAILABLE</code>, <code>BIOMETRIC_ERROR_NONE_ENROLLED</code>, <code>BIOMETRIC_ERROR_NO_HARDWARE</code>, or <code>BIOMETRIC_ERROR_SECURITY_UPDATE_REQUIRED</code>., as before.</p>\n"},{"tags":[],"owner":{"account_id":23012720,"reputation":216,"user_id":17135014,"display_name":"Mudit Goel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642059116,"creation_date":1642059116,"answer_id":70692859,"question_id":68440697,"body_markdown":"The default implementation on **canAuthenticate()** is deprecated as it supported only **Authenticators.BIOMETRIC_WEAK**\r\n\r\nWith the following new implementation :\r\n\r\n    BiometricManager.from(context).canAuthenticate(BiometricManager.Authenticators.BIOMETRIC_WEAK)\r\n\r\nFollowing authentication mechanisms are supported :\r\n\r\n   \r\n\r\n    public interface Authenticators {\r\n            /**\r\n             * Any biometric (e.g. fingerprint, iris, or face) on the device that meets or exceeds the\r\n             * requirements for &lt;strong&gt;Class 3&lt;/strong&gt; (formerly &lt;strong&gt;Strong&lt;/strong&gt;), as defined\r\n             * by the Android CDD.\r\n             */\r\n            int BIOMETRIC_STRONG = 0x000F;\r\n    \r\n            /**\r\n             * Any biometric (e.g. fingerprint, iris, or face) on the device that meets or exceeds the\r\n             * requirements for &lt;strong&gt;Class 2&lt;/strong&gt; (formerly &lt;strong&gt;Weak&lt;/strong&gt;), as defined by\r\n             * the Android CDD.\r\n             *\r\n             * &lt;p&gt;Note that this is a superset of {@link #BIOMETRIC_STRONG} and is defined such that\r\n             * {@code BIOMETRIC_STRONG | BIOMETRIC_WEAK == BIOMETRIC_WEAK}.\r\n             */\r\n            int BIOMETRIC_WEAK = 0x00FF;\r\n    \r\n            /**\r\n             * The non-biometric credential used to secure the device (i.e. PIN, pattern, or password).\r\n             * This should typically only be used in combination with a biometric auth type, such as\r\n             * {@link #BIOMETRIC_WEAK}.\r\n             */\r\n            int DEVICE_CREDENTIAL = 1 &lt;&lt; 15;\r\n        }","title":"&#39;canAuthenticate()&#39; is deprecated in android","body":"<p>The default implementation on <strong>canAuthenticate()</strong> is deprecated as it supported only <strong>Authenticators.BIOMETRIC_WEAK</strong></p>\n<p>With the following new implementation :</p>\n<pre><code>BiometricManager.from(context).canAuthenticate(BiometricManager.Authenticators.BIOMETRIC_WEAK)\n</code></pre>\n<p>Following authentication mechanisms are supported :</p>\n<pre><code>public interface Authenticators {\n        /**\n         * Any biometric (e.g. fingerprint, iris, or face) on the device that meets or exceeds the\n         * requirements for &lt;strong&gt;Class 3&lt;/strong&gt; (formerly &lt;strong&gt;Strong&lt;/strong&gt;), as defined\n         * by the Android CDD.\n         */\n        int BIOMETRIC_STRONG = 0x000F;\n\n        /**\n         * Any biometric (e.g. fingerprint, iris, or face) on the device that meets or exceeds the\n         * requirements for &lt;strong&gt;Class 2&lt;/strong&gt; (formerly &lt;strong&gt;Weak&lt;/strong&gt;), as defined by\n         * the Android CDD.\n         *\n         * &lt;p&gt;Note that this is a superset of {@link #BIOMETRIC_STRONG} and is defined such that\n         * {@code BIOMETRIC_STRONG | BIOMETRIC_WEAK == BIOMETRIC_WEAK}.\n         */\n        int BIOMETRIC_WEAK = 0x00FF;\n\n        /**\n         * The non-biometric credential used to secure the device (i.e. PIN, pattern, or password).\n         * This should typically only be used in combination with a biometric auth type, such as\n         * {@link #BIOMETRIC_WEAK}.\n         */\n        int DEVICE_CREDENTIAL = 1 &lt;&lt; 15;\n    }\n</code></pre>\n"}],"owner":{"account_id":16044068,"reputation":1129,"user_id":11579741,"display_name":"Ganesh MB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4644,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68441005,"answer_count":2,"score":3,"last_activity_date":1642059116,"creation_date":1626698573,"question_id":68440697,"body_markdown":"What should I use instead of `biometricManager.canAuthenticate()` is deprecated. &lt;br/&gt;\r\n\r\n[Doc][1] says \r\n\r\n&gt; This method is deprecated.\r\nUse canAuthenticate(int) instead.\r\n\r\n        BiometricManager biometricManager = BiometricManager.from(this);\r\n        switch (biometricManager.canAuthenticate()){\r\n            case BiometricManager.BIOMETRIC_ERROR_HW_UNAVAILABLE:\r\n                break;\r\n            case BiometricManager.BIOMETRIC_ERROR_NO_HARDWARE:\r\n                break;\r\n            case BiometricManager.BIOMETRIC_SUCCESS:\r\n                break;\r\n            case BiometricManager.BIOMETRIC_ERROR_NONE_ENROLLED:\r\n                break;\r\n            case BiometricManager.BIOMETRIC_ERROR_UNSUPPORTED:\r\n                break;\r\n        }\r\n\r\nHow to use `canAuthenticate(int)` like the above manner.\r\n\r\n  [1]: https://developer.android.com/reference/androidx/biometric/BiometricManager#canAuthenticate()","title":"&#39;canAuthenticate()&#39; is deprecated in android","body":"<p>What should I use instead of <code>biometricManager.canAuthenticate()</code> is deprecated. <br/></p>\n<p><a href=\"https://developer.android.com/reference/androidx/biometric/BiometricManager#canAuthenticate()\" rel=\"nofollow noreferrer\">Doc</a> says</p>\n<blockquote>\n<p>This method is deprecated.\nUse canAuthenticate(int) instead.</p>\n</blockquote>\n<pre><code>    BiometricManager biometricManager = BiometricManager.from(this);\n    switch (biometricManager.canAuthenticate()){\n        case BiometricManager.BIOMETRIC_ERROR_HW_UNAVAILABLE:\n            break;\n        case BiometricManager.BIOMETRIC_ERROR_NO_HARDWARE:\n            break;\n        case BiometricManager.BIOMETRIC_SUCCESS:\n            break;\n        case BiometricManager.BIOMETRIC_ERROR_NONE_ENROLLED:\n            break;\n        case BiometricManager.BIOMETRIC_ERROR_UNSUPPORTED:\n            break;\n    }\n</code></pre>\n<p>How to use <code>canAuthenticate(int)</code> like the above manner.</p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":8,"creation_date":1642022377,"post_id":70688525,"comment_id":124965259,"body_markdown":"Your hunch is correct. The second call to `next()` will return false if there&#39;s only 1 result. If you want to check the first result again, store it in a variable.","body":"Your hunch is correct. The second call to <code>next()</code> will return false if there&#39;s only 1 result. If you want to check the first result again, store it in a variable."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642023754,"creation_date":1642023754,"answer_id":70688800,"question_id":70688525,"body_markdown":"As [commented][1], your second call is returning `false`. \r\n\r\nBe aware that this behavior is up to the implementation of the [JDBC driver][2]. A second call to `next` (after the first returned `false`) *might* return `false` *or* might throw an exception. \r\n\r\nTo quote the Javadoc: \r\n\r\n&gt;If the result set type is `TYPE_FORWARD_ONLY`, it is vendor specified whether their JDBC driver implementation will return `false` or throw an `SQLException` on a subsequent call to next.\r\n\r\nYou need to change your code to call `rs.next()` only once per intended row access.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70688525/jdbc-whilers-next-is-stuck-in-a-loop#comment124965259_70688525\r\n  [2]: https://en.wikipedia.org/wiki/JDBC_driver","title":"JDBC while(!rs.next()) is stuck in a loop","body":"<p>As <a href=\"https://stackoverflow.com/questions/70688525/jdbc-whilers-next-is-stuck-in-a-loop#comment124965259_70688525\">commented</a>, your second call is returning <code>false</code>.</p>\n<p>Be aware that this behavior is up to the implementation of the <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a>. A second call to <code>next</code> (after the first returned <code>false</code>) <em>might</em> return <code>false</code> <em>or</em> might throw an exception.</p>\n<p>To quote the Javadoc:</p>\n<blockquote>\n<p>If the result set type is <code>TYPE_FORWARD_ONLY</code>, it is vendor specified whether their JDBC driver implementation will return <code>false</code> or throw an <code>SQLException</code> on a subsequent call to next.</p>\n</blockquote>\n<p>You need to change your code to call <code>rs.next()</code> only once per intended row access.</p>\n"},{"tags":[],"owner":{"account_id":23926442,"reputation":68,"user_id":17921501,"display_name":"vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642058864,"creation_date":1642058864,"answer_id":70692826,"question_id":70688525,"body_markdown":"If there is no result set rs.next gives false but your using not operation making the while loop condition true.\r\n\r\ntry changinf while(!rs.next()) to while(rs.next) \r\n","title":"JDBC while(!rs.next()) is stuck in a loop","body":"<p>If there is no result set rs.next gives false but your using not operation making the while loop condition true.</p>\n<p>try changinf while(!rs.next()) to while(rs.next)</p>\n"}],"owner":{"account_id":23911482,"reputation":31,"user_id":17908379,"display_name":"basicange"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1642058864,"creation_date":1642022228,"question_id":70688525,"body_markdown":"Trying to make a login with sql that lets the user re-enter the username and password if one of them doesnt match what is in the database. The problem is that when the username and password does match, it keeps asking the user for the information again instead of stopping the loop. I am not sure, but I think the culprit might be the while(!rs.next());\r\n\r\n```\r\npublic void loginAccount(Connection conn) throws SQLException {\r\n        String login;\r\n        ResultSet rs;\r\n\r\n        do {\r\n            System.out.print(&quot;Enter Username: &quot;);\r\n            Username = in.nextLine();\r\n            System.out.print(&quot;Enter Password: &quot;);\r\n            Password = in.nextLine();\r\n\r\n            login = &quot;SELECT * FROM Person WHERE Username = ? AND AccPassword = ?&quot;;\r\n            PreparedStatement ps = conn.prepareStatement(login);\r\n\r\n            ps.setString(1, Username);\r\n            ps.setString(2, Password);\r\n\r\n            rs = ps.executeQuery();\r\n\r\n            if (!rs.next()) {\r\n                System.out.println(&quot;Incorrect Username or Password&quot;);\r\n            }\r\n        }   while (!rs.next());\r\n\r\n    }\r\n```","title":"JDBC while(!rs.next()) is stuck in a loop","body":"<p>Trying to make a login with sql that lets the user re-enter the username and password if one of them doesnt match what is in the database. The problem is that when the username and password does match, it keeps asking the user for the information again instead of stopping the loop. I am not sure, but I think the culprit might be the while(!rs.next());</p>\n<pre><code>public void loginAccount(Connection conn) throws SQLException {\n        String login;\n        ResultSet rs;\n\n        do {\n            System.out.print(&quot;Enter Username: &quot;);\n            Username = in.nextLine();\n            System.out.print(&quot;Enter Password: &quot;);\n            Password = in.nextLine();\n\n            login = &quot;SELECT * FROM Person WHERE Username = ? AND AccPassword = ?&quot;;\n            PreparedStatement ps = conn.prepareStatement(login);\n\n            ps.setString(1, Username);\n            ps.setString(2, Password);\n\n            rs = ps.executeQuery();\n\n            if (!rs.next()) {\n                System.out.println(&quot;Incorrect Username or Password&quot;);\n            }\n        }   while (!rs.next());\n\n    }\n</code></pre>\n"},{"tags":["python","java","jsp"],"owner":{"account_id":23926822,"reputation":11,"user_id":17921840,"display_name":"feweh82098"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642058708,"creation_date":1642058235,"question_id":70692725,"body_markdown":"I want to send a list of strings in a post request from Python to JSP and convert it to an array / ArrayList server-side.\r\n\r\nPython possible code:\r\n\r\n    requests.post(URL, data={&#39;data&#39;:[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;]})\r\n\r\nI need to now parse it server-side, if possible without use of external libraries like Gson, Jackson and such.\r\n\r\nI can also pass the data in a different way, if there is a builtin Java option to parse it afterwards.\r\n","title":"Pass list of strings from Python requests to JSP Page","body":"<p>I want to send a list of strings in a post request from Python to JSP and convert it to an array / ArrayList server-side.</p>\n<p>Python possible code:</p>\n<pre><code>requests.post(URL, data={'data':['a','b','c','d']})\n</code></pre>\n<p>I need to now parse it server-side, if possible without use of external libraries like Gson, Jackson and such.</p>\n<p>I can also pass the data in a different way, if there is a builtin Java option to parse it afterwards.</p>\n"},{"tags":["java","caching","testing","junit","jvm"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1361088555,"post_id":14919164,"comment_id":20931391,"body_markdown":"This sounds more likely to be the JIT compiler kicking it. As how to solve it is beyond me...","body":"This sounds more likely to be the JIT compiler kicking it. As how to solve it is beyond me..."},{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":1,"creation_date":1361088689,"post_id":14919164,"comment_id":20931418,"body_markdown":"why not simply run it for a while to let jit run and then start measuring?","body":"why not simply run it for a while to let jit run and then start measuring?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":2,"creation_date":1361088700,"post_id":14919164,"comment_id":20931422,"body_markdown":"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"<a href=\"http://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1361088747,"post_id":14919164,"comment_id":20931430,"body_markdown":"WHy is this a problem? The JIT is speeding things up, and that is the actual performance.","body":"WHy is this a problem? The JIT is speeding things up, and that is the actual performance."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1361088568,"creation_date":1361088568,"answer_id":14919181,"question_id":14919164,"body_markdown":"This is probably due to the [JIT][1] kicking in. The JIT will compile your bytecode to machine code after a certain number of runs to make it more efficient.\r\n\r\nYou can change the number of calls before a method gets optimised by setting the `-XX:CompileThreshold` option (default value is 10,000) or by [excluding your class from being optimised at all][3].\r\n\r\nHowever I&#39;m not sure why you would want to disable the compiler and force your program to run more slowly.\r\n\r\n [1]: http://en.wikipedia.org/wiki/Just-in-time_compilation\r\n [3]: https://stackoverflow.com/questions/4004340/disable-java-jit-for-a-specific-method-class","title":"clearing Java\\CPU cache programmatically","body":"<p>This is probably due to the <a href=\"http://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">JIT</a> kicking in. The JIT will compile your bytecode to machine code after a certain number of runs to make it more efficient.</p>\n\n<p>You can change the number of calls before a method gets optimised by setting the <code>-XX:CompileThreshold</code> option (default value is 10,000) or by <a href=\"https://stackoverflow.com/questions/4004340/disable-java-jit-for-a-specific-method-class\">excluding your class from being optimised at all</a>.</p>\n\n<p>However I'm not sure why you would want to disable the compiler and force your program to run more slowly.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642058481,"creation_date":1642058481,"answer_id":70692761,"question_id":14919164,"body_markdown":"If you want to design a microbenchmark, I would suggest using JMH.\r\n\r\nIt is &#39;the&#39; microbenchmarking framework and it will take care of JIT warmup, dead code elimination etc. It also has out of the box support for various profilers including Linux Perf.\r\n\r\nhttps://www.baeldung.com/java-microbenchmark-harness\r\n\r\nhttps://github.com/openjdk/jmh","title":"clearing Java\\CPU cache programmatically","body":"<p>If you want to design a microbenchmark, I would suggest using JMH.</p>\n<p>It is 'the' microbenchmarking framework and it will take care of JIT warmup, dead code elimination etc. It also has out of the box support for various profilers including Linux Perf.</p>\n<p><a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-microbenchmark-harness</a></p>\n<p><a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jmh</a></p>\n"}],"owner":{"account_id":1133899,"reputation":589,"user_id":1119365,"accept_rate":41,"display_name":"shaydel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":14919181,"answer_count":2,"score":1,"last_activity_date":1642058481,"creation_date":1361088430,"question_id":14919164,"body_markdown":"I am trying to test some queue insertions and removal of objects timestamp. After a few test runs I have a significant speedup improvement of upto 80 times better results on the same code. This looks clearly a caching result either by JVM or the hardware\\cpu cache, but I wish to get fresh results each run.\r\n\r\n\r\nIs there a way to clear both\\either of these caches programmatically from within the Java code? ","title":"clearing Java\\CPU cache programmatically","body":"<p>I am trying to test some queue insertions and removal of objects timestamp. After a few test runs I have a significant speedup improvement of upto 80 times better results on the same code. This looks clearly a caching result either by JVM or the hardware\\cpu cache, but I wish to get fresh results each run.</p>\n\n<p>Is there a way to clear both\\either of these caches programmatically from within the Java code? </p>\n"},{"tags":["java","for-loop","nested","nested-loops"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":11,"creation_date":1381458208,"post_id":19309203,"comment_id":28598076,"body_markdown":"This sounds like a programming exercise, and a good one. This is something you&#39;re going to have to wrestle with until you get it right. That&#39;s what programming is all about. Somebody giving you the answer will take that away from you. Discovering it on your own is much better.","body":"This sounds like a programming exercise, and a good one. This is something you&#39;re going to have to wrestle with until you get it right. That&#39;s what programming is all about. Somebody giving you the answer will take that away from you. Discovering it on your own is much better."},{"owner":{"account_id":944235,"reputation":4325,"user_id":971808,"accept_rate":100,"display_name":"jeff"},"score":0,"creation_date":1381458381,"post_id":19309203,"comment_id":28598118,"body_markdown":"I agree with Kon, however, I would say that it&#39;s acceptable to ask a SPECIFIC question if you run into a dead end here. A specific question usually says something like: here&#39;s my problem, here&#39;s what I think should happen, here&#39;s what happens, here&#39;s the code that is relevant. But again, Kon is right - problem solving is a big part of programming and you will gain a lot more by struggling for a little while before asking for help.","body":"I agree with Kon, however, I would say that it&#39;s acceptable to ask a SPECIFIC question if you run into a dead end here. A specific question usually says something like: here&#39;s my problem, here&#39;s what I think should happen, here&#39;s what happens, here&#39;s the code that is relevant. But again, Kon is right - problem solving is a big part of programming and you will gain a lot more by struggling for a little while before asking for help."},{"owner":{"account_id":177027,"reputation":1131,"user_id":408112,"accept_rate":59,"display_name":"Dean-O"},"score":0,"creation_date":1537315790,"post_id":19309203,"comment_id":91737160,"body_markdown":"I am pleased to see a question I have my Java students work on has made it to Stackoverflow    Agreed programming is more puzzle solving than anything.  The language syntax is minor... the hard part is the logic puzzle.","body":"I am pleased to see a question I have my Java students work on has made it to Stackoverflow    Agreed programming is more puzzle solving than anything.  The language syntax is minor... the hard part is the logic puzzle."}],"answers":[{"tags":[],"owner":{"account_id":3399962,"reputation":1035,"user_id":2852431,"display_name":"henderso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381458817,"creation_date":1381458202,"answer_id":19309264,"question_id":19309203,"body_markdown":"I can see what you are trying to do and this is a pretty neat way to think about the diamond.\r\n\r\nYou will have some issues with the j counter when i goes negative..look at how to use Math.abs() \r\n\r\nAlso try writing some pseudo code in basic steps with comments to get the pattern clear:\r\n\r\n     //print 5 spaces + 1 star\r\n     //print 4 spaces + 2 stars\r\n     //print 3 spaces + 3 stars\r\n     //print 2 spaces+ 4 stars\r\n     .\r\n     . \r\n     .  \r\n     //print 5 spaces + 1 star\r\n\r\nThen, literally substitute variables (j and i) for the numbers.\r\n\r\n\r\nYou now have a model.  This is often the hardest part in programming..getting the model right.  Only jump into coding when you have a good idea for how the model works.\r\n\r\nOnce you have the variables substituted, you can try to convert the whole thing into an automated loop.\r\n","title":"How to make a diamond using nested for loops","body":"<p>I can see what you are trying to do and this is a pretty neat way to think about the diamond.</p>\n\n<p>You will have some issues with the j counter when i goes negative..look at how to use Math.abs() </p>\n\n<p>Also try writing some pseudo code in basic steps with comments to get the pattern clear:</p>\n\n<pre><code> //print 5 spaces + 1 star\n //print 4 spaces + 2 stars\n //print 3 spaces + 3 stars\n //print 2 spaces+ 4 stars\n .\n . \n .  \n //print 5 spaces + 1 star\n</code></pre>\n\n<p>Then, literally substitute variables (j and i) for the numbers.</p>\n\n<p>You now have a model.  This is often the hardest part in programming..getting the model right.  Only jump into coding when you have a good idea for how the model works.</p>\n\n<p>Once you have the variables substituted, you can try to convert the whole thing into an automated loop.</p>\n"},{"tags":[],"owner":{"account_id":1739263,"reputation":5294,"user_id":1591139,"accept_rate":100,"display_name":"ka4eli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610840189,"creation_date":1381528547,"answer_id":19327871,"question_id":19309203,"body_markdown":"```java\r\npublic class Diamond {\r\n    //Size of the diamond\r\n    private int diagonal;\r\n\r\n    public Diamond(int diagonal) {\r\n        this.diagonal = diagonal;\r\n    }\r\n\r\n    public void drawDiamond() {\r\n        int n = diagonal;\r\n        for (int i = n / 2; i &gt;= -n / 2; i--) {\r\n            for (int k = 0; k &lt; i; k++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j = 1; j &lt;= (n - i * 2) &amp;&amp; i &gt;= 0; j++) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            for (int k = 1; k &lt;= -i &amp;&amp; i &lt; 0; k++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j = (n / 2) * 2 + 2 * i; j &gt;= -(n % 2 - 1) &amp;&amp; i &lt; 0; j--) {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        //You pass diamond size here in the constructor\r\n        Diamond a = new Diamond(21);\r\n        a.drawDiamond();\r\n    }\r\n}\r\n```\r\n\r\nThe main problem is parity of diagonal.\r\nIf it&#39;s even you can&#39;t properly draw top asterisk. So there is 2 types of diamonds - with even and odd diagonal (with 2 and 1 asterisk at the top).","title":"How to make a diamond using nested for loops","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Diamond {\n    //Size of the diamond\n    private int diagonal;\n\n    public Diamond(int diagonal) {\n        this.diagonal = diagonal;\n    }\n\n    public void drawDiamond() {\n        int n = diagonal;\n        for (int i = n / 2; i &gt;= -n / 2; i--) {\n            for (int k = 0; k &lt; i; k++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int j = 1; j &lt;= (n - i * 2) &amp;&amp; i &gt;= 0; j++) {\n                System.out.print(&quot;*&quot;);\n            }\n            for (int k = 1; k &lt;= -i &amp;&amp; i &lt; 0; k++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int j = (n / 2) * 2 + 2 * i; j &gt;= -(n % 2 - 1) &amp;&amp; i &lt; 0; j--) {\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static void main(String[] args) {\n        //You pass diamond size here in the constructor\n        Diamond a = new Diamond(21);\n        a.drawDiamond();\n    }\n}\n</code></pre>\n<p>The main problem is parity of diagonal.\nIf it's even you can't properly draw top asterisk. So there is 2 types of diamonds - with even and odd diagonal (with 2 and 1 asterisk at the top).</p>\n"},{"tags":[],"owner":{"account_id":3566290,"reputation":1,"user_id":2977722,"display_name":"CoderAdroidMan4.5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610830807,"creation_date":1384139637,"answer_id":19898261,"question_id":19309203,"body_markdown":"This should work. You probably only need most of the methods and `printDiamond(_)`;\r\n```java\r\nimport java.util.Scanner;\r\npublic class StarsTry {\r\n    public static void main(String[] args) {\r\n        int reader;\r\n        Scanner kBoard = new Scanner(System.in);\r\n        do {\r\n            System.out.println(&quot;Insert a number of rows: &quot;);\r\n            reader = kBoard.nextInt();\r\n            printDiamond(reader);\r\n        } while (reader != 0);\r\n    }\r\n\r\n    public static void printStars(int n) {\r\n        if (n &gt;= 1) {\r\n            System.out.print(&quot;*&quot;);\r\n            printStars(n - 1);\r\n        }\r\n    }\r\n\r\n    public static void printTopTriangle(int rows) {\r\n        int x = 1;\r\n        for (int j = (rows - 1); j &gt;= 0; j--, x += 2) {\r\n            printSpaces(j);\r\n            printStars(x);\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    public static void printSpaces(int n) {\r\n        if (n &gt;= 1) {\r\n            System.out.print(&quot; &quot;);\r\n            printSpaces(n - 1);\r\n        }\r\n    }\r\n\r\n    public static void printBottomTriangle(int rows, int startSpaces) {\r\n        int x = 1 + (2 * (rows - 1));\r\n        for (int j = startSpaces; j &lt;= (rows) &amp;&amp; x &gt; 0; j++, x -= 2) {\r\n            printSpaces(j);\r\n            printStars(x);\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    public static void printBottomTriangle(int rows) {\r\n        int x = 1 + (2 * (rows - 1));\r\n        for (int j = 0; j &lt;= (rows - 1) &amp;&amp; x &gt; 0; j++, x -= 2) {\r\n            printSpaces(j);\r\n            printStars(x);\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    public static void printDiamond(int rows) {\r\n        printTopTriangle((int) rows / 2 + 1);\r\n        printBottomTriangle((int) rows / 2, 1);\r\n    }\r\n}\r\n```\r\n","title":"How to make a diamond using nested for loops","body":"<p>This should work. You probably only need most of the methods and <code>printDiamond(_)</code>;</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class StarsTry {\n    public static void main(String[] args) {\n        int reader;\n        Scanner kBoard = new Scanner(System.in);\n        do {\n            System.out.println(&quot;Insert a number of rows: &quot;);\n            reader = kBoard.nextInt();\n            printDiamond(reader);\n        } while (reader != 0);\n    }\n\n    public static void printStars(int n) {\n        if (n &gt;= 1) {\n            System.out.print(&quot;*&quot;);\n            printStars(n - 1);\n        }\n    }\n\n    public static void printTopTriangle(int rows) {\n        int x = 1;\n        for (int j = (rows - 1); j &gt;= 0; j--, x += 2) {\n            printSpaces(j);\n            printStars(x);\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n\n    public static void printSpaces(int n) {\n        if (n &gt;= 1) {\n            System.out.print(&quot; &quot;);\n            printSpaces(n - 1);\n        }\n    }\n\n    public static void printBottomTriangle(int rows, int startSpaces) {\n        int x = 1 + (2 * (rows - 1));\n        for (int j = startSpaces; j &lt;= (rows) &amp;&amp; x &gt; 0; j++, x -= 2) {\n            printSpaces(j);\n            printStars(x);\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n\n    public static void printBottomTriangle(int rows) {\n        int x = 1 + (2 * (rows - 1));\n        for (int j = 0; j &lt;= (rows - 1) &amp;&amp; x &gt; 0; j++, x -= 2) {\n            printSpaces(j);\n            printStars(x);\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n\n    public static void printDiamond(int rows) {\n        printTopTriangle((int) rows / 2 + 1);\n        printBottomTriangle((int) rows / 2, 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3783540,"reputation":39,"user_id":3142266,"display_name":"Brian"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1610801422,"creation_date":1388246775,"answer_id":20816499,"question_id":19309203,"body_markdown":"```java\r\nfor (int i = 0; i &lt; 5; i++)\r\n    System.out.println(&quot;    *********&quot;.substring(i, 5 + 2 * i));\r\n\r\nfor (int i = 5; i &gt; 0; i--)\r\n    System.out.println(&quot;     **********&quot;.substring(i - 1, 5 + (2 * i) - 3));\r\n```\r\n","title":"How to make a diamond using nested for loops","body":"<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 5; i++)\n    System.out.println(&quot;    *********&quot;.substring(i, 5 + 2 * i));\n\nfor (int i = 5; i &gt; 0; i--)\n    System.out.println(&quot;     **********&quot;.substring(i - 1, 5 + (2 * i) - 3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4148408,"reputation":1,"user_id":3401519,"display_name":"Shiv Kumar Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613724631,"creation_date":1394450875,"answer_id":22298886,"question_id":19309203,"body_markdown":"```java\r\nimport static java.lang.System.out;\r\nimport java.util.Scanner;\r\n\r\npublic class Diamond {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int row = sc.nextInt();\r\n        sc.close();\r\n        Diamond d = new Diamond();\r\n        d.upperDiamond(row);\r\n        d.lowerDiamond(row - 2);\r\n    }\r\n\r\n    public void upperDiamond(int a) {\r\n        for (int i = 0; i &lt; a; i++) {\r\n            for (int j = a - 1; j &gt; i; j--)\r\n                out.print(&quot; &quot;);\r\n            for (int k = 0; k &lt; 2 * i - 1; k++)\r\n                out.print(&quot;*&quot;);\r\n            out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    public void lowerDiamond(int b) {\r\n        for (int i = 0; i &lt; b; i++) {\r\n            for (int j = 0; j &lt;= i; j++)\r\n                out.print(&quot; &quot;);\r\n            for (int k = 0; k &lt; 2 * (b - i) - 1; k++)\r\n                out.print(&quot;*&quot;);\r\n            out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to make a diamond using nested for loops","body":"<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.System.out;\nimport java.util.Scanner;\n\npublic class Diamond {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int row = sc.nextInt();\n        sc.close();\n        Diamond d = new Diamond();\n        d.upperDiamond(row);\n        d.lowerDiamond(row - 2);\n    }\n\n    public void upperDiamond(int a) {\n        for (int i = 0; i &lt; a; i++) {\n            for (int j = a - 1; j &gt; i; j--)\n                out.print(&quot; &quot;);\n            for (int k = 0; k &lt; 2 * i - 1; k++)\n                out.print(&quot;*&quot;);\n            out.print(&quot;\\n&quot;);\n        }\n    }\n\n    public void lowerDiamond(int b) {\n        for (int i = 0; i &lt; b; i++) {\n            for (int j = 0; j &lt;= i; j++)\n                out.print(&quot; &quot;);\n            for (int k = 0; k &lt; 2 * (b - i) - 1; k++)\n                out.print(&quot;*&quot;);\n            out.print(&quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4184662,"reputation":1,"user_id":3428702,"display_name":"VirusCD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610826926,"creation_date":1396088893,"answer_id":22729836,"question_id":19309203,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class Diamond {\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        Scanner in = new Scanner(System.in);\r\n        int input = in.nextInt();\r\n        int min = 1;\r\n        for (int i = 0; i &lt; input; i++) {\r\n            for (int j = input - 1; j &gt; i; j--) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int k = 0; k &lt; min; k++) {\r\n                if (k % 2 == 0) {\r\n                    System.out.print(&quot;*&quot;);\r\n                } else {\r\n                    System.out.print(&quot;.&quot;);\r\n                }\r\n            }\r\n            min += 2;\r\n            System.out.println();\r\n        }\r\n        int z = input + input - 3;\r\n        for (int i = 1; i &lt; input; i++) {\r\n            for (int j = 0; j &lt; i; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int k = 0; k &lt; z; k++) {\r\n                if (k % 2 == 0) {\r\n                    System.out.print(&quot;*&quot;);\r\n                } else {\r\n                    System.out.print(&quot;.&quot;);\r\n                }\r\n            }\r\n            z -= 2;\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to make a diamond using nested for loops","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Diamond {\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner in = new Scanner(System.in);\n        int input = in.nextInt();\n        int min = 1;\n        for (int i = 0; i &lt; input; i++) {\n            for (int j = input - 1; j &gt; i; j--) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int k = 0; k &lt; min; k++) {\n                if (k % 2 == 0) {\n                    System.out.print(&quot;*&quot;);\n                } else {\n                    System.out.print(&quot;.&quot;);\n                }\n            }\n            min += 2;\n            System.out.println();\n        }\n        int z = input + input - 3;\n        for (int i = 1; i &lt; input; i++) {\n            for (int j = 0; j &lt; i; j++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int k = 0; k &lt; z; k++) {\n                if (k % 2 == 0) {\n                    System.out.print(&quot;*&quot;);\n                } else {\n                    System.out.print(&quot;.&quot;);\n                }\n            }\n            z -= 2;\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6156135,"reputation":11,"user_id":4799085,"display_name":"akhilesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610801427,"creation_date":1429233083,"answer_id":29688539,"question_id":19309203,"body_markdown":"```java\r\npublic class MyDiamond {\r\n    public static void main(String[] args) {\r\n        //Length of the pyramid that we want.151 is just an example\r\n        int numRows = 151;\r\n        //midrow is the middle row and has numRows number of *\r\n        int midrow = (numRows + 1) / 2;\r\n\r\n        int diff = 0;\r\n        for (int i = 1; i &lt; numRows + 1; i++) {\r\n            for (int j = 1; j &lt; numRows + 1; j++) {\r\n                if (((midrow - diff) &lt;= j &amp;&amp; (j &lt;= midrow + diff))) {\r\n                    System.out.print(&quot;*&quot;);\r\n                } else {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n            if (i &lt; midrow) {\r\n                diff++;\r\n            } else {\r\n                diff--;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to make a diamond using nested for loops","body":"<pre class=\"lang-java prettyprint-override\"><code>public class MyDiamond {\n    public static void main(String[] args) {\n        //Length of the pyramid that we want.151 is just an example\n        int numRows = 151;\n        //midrow is the middle row and has numRows number of *\n        int midrow = (numRows + 1) / 2;\n\n        int diff = 0;\n        for (int i = 1; i &lt; numRows + 1; i++) {\n            for (int j = 1; j &lt; numRows + 1; j++) {\n                if (((midrow - diff) &lt;= j &amp;&amp; (j &lt;= midrow + diff))) {\n                    System.out.print(&quot;*&quot;);\n                } else {\n                    System.out.print(&quot; &quot;);\n                }\n            }\n            System.out.println();\n            if (i &lt; midrow) {\n                diff++;\n            } else {\n                diff--;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453890,"reputation":1,"user_id":4999968,"display_name":"Amit Nanda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610855340,"creation_date":1434037951,"answer_id":30785653,"question_id":19309203,"body_markdown":"```java\r\npackage practice;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Practice {\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt;= 10; i++) {\r\n            if (i &lt;= 5) {\r\n                for (int k = 1; k &lt;= 5 - i; k++) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                for (int j = 0; j &lt;= i; j++) {\r\n                    System.out.print(&quot; *&quot;);\r\n                }\r\n            }\r\n            if (i &gt; 5) {\r\n                for (int k = 0; k &lt;= i - 6; k++) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                for (int j = 0; j &lt;= 10 - i; j++) {\r\n                    System.out.print(&quot; *&quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"How to make a diamond using nested for loops","body":"<pre class=\"lang-java prettyprint-override\"><code>package practice;\n\nimport java.util.Scanner;\n\npublic class Practice {\n    public static void main(String[] args) {\n        for (int i = 0; i &lt;= 10; i++) {\n            if (i &lt;= 5) {\n                for (int k = 1; k &lt;= 5 - i; k++) {\n                    System.out.print(&quot; &quot;);\n                }\n                for (int j = 0; j &lt;= i; j++) {\n                    System.out.print(&quot; *&quot;);\n                }\n            }\n            if (i &gt; 5) {\n                for (int k = 0; k &lt;= i - 6; k++) {\n                    System.out.print(&quot; &quot;);\n                }\n                for (int j = 0; j &lt;= 10 - i; j++) {\n                    System.out.print(&quot; *&quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7161076,"reputation":123,"user_id":5471827,"display_name":"Alok"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610822019,"creation_date":1446097593,"answer_id":33406795,"question_id":19309203,"body_markdown":"In order to make a diamond you need to set spaces and stars in shape. I have made this simple program using only nested loops since I am a beginner. \r\n\r\n\r\n```java\r\npublic class Diamond {\r\n    public static void main(String[] args) {\r\n        int size = 9,odd = 1, nos = size/2; // nos =number of spaces\r\n        for (int i = 1; i &lt;= size; i++) { // for number of rows i.e n rows\r\n            for (int k = nos; k &gt;= 1; k--) { // for number of spaces i.e\r\n                                                // 3,2,1,0,1,2,3 and so on\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j = 1; j &lt;= odd; j++) { // for number of columns i.e\r\n                                                // 1,3,5,7,5,3,1\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n            if (i &lt; size/2+1) {\r\n                odd += 2; // columns increasing till center row \r\n                nos -= 1; // spaces decreasing till center row \r\n            } else {\r\n                odd -= 2; // columns decreasing\r\n                nos += 1; // spaces increasing\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you can see `nos` is the number of spaces. It needs to be decreased until the center row, and the number of stars needs to be increased but after the center row it&#39;s the opposite, i.e spaces increase and stars decrease.\r\n\r\n`size` can be any number. I set it to 9 over here so I will have a size 9 star that is 9 rows and 9 columns max... number of space (`nos`) will be `9/2 = 4.5` .\r\nBut java will take it as 4 because `int` can not store decimal numbers and the center row will be `9/2 + 1 = 5.5`, which will result in 5 as `int`. \r\n\r\nSo first you will make rows... 9 rows hence\r\n\r\n`(int i=1;i&lt;=size;i++) //size=9`\r\n\r\nthen print spaces like I did\r\n\r\n`(int k =nos; k&gt;=1; k--) //nos being size/2`\r\n\r\nthen finally stars\r\n\r\n`(int j=1; j&lt;= odd;j++)`\r\n\r\nonce the line ends... \r\n\r\nYou can adjust stars and spaces using an if condition.","title":"How to make a diamond using nested for loops","body":"<p>In order to make a diamond you need to set spaces and stars in shape. I have made this simple program using only nested loops since I am a beginner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Diamond {\n    public static void main(String[] args) {\n        int size = 9,odd = 1, nos = size/2; // nos =number of spaces\n        for (int i = 1; i &lt;= size; i++) { // for number of rows i.e n rows\n            for (int k = nos; k &gt;= 1; k--) { // for number of spaces i.e\n                                                // 3,2,1,0,1,2,3 and so on\n                System.out.print(&quot; &quot;);\n            }\n            for (int j = 1; j &lt;= odd; j++) { // for number of columns i.e\n                                                // 1,3,5,7,5,3,1\n                System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n            if (i &lt; size/2+1) {\n                odd += 2; // columns increasing till center row \n                nos -= 1; // spaces decreasing till center row \n            } else {\n                odd -= 2; // columns decreasing\n                nos += 1; // spaces increasing\n\n            }\n        }\n    }\n}\n</code></pre>\n<p>As you can see <code>nos</code> is the number of spaces. It needs to be decreased until the center row, and the number of stars needs to be increased but after the center row it's the opposite, i.e spaces increase and stars decrease.</p>\n<p><code>size</code> can be any number. I set it to 9 over here so I will have a size 9 star that is 9 rows and 9 columns max... number of space (<code>nos</code>) will be <code>9/2 = 4.5</code> .\nBut java will take it as 4 because <code>int</code> can not store decimal numbers and the center row will be <code>9/2 + 1 = 5.5</code>, which will result in 5 as <code>int</code>.</p>\n<p>So first you will make rows... 9 rows hence</p>\n<p><code>(int i=1;i&lt;=size;i++) //size=9</code></p>\n<p>then print spaces like I did</p>\n<p><code>(int k =nos; k&gt;=1; k--) //nos being size/2</code></p>\n<p>then finally stars</p>\n<p><code>(int j=1; j&lt;= odd;j++)</code></p>\n<p>once the line ends...</p>\n<p>You can adjust stars and spaces using an if condition.</p>\n"},{"tags":[],"owner":{"account_id":8516165,"reputation":136,"user_id":6384524,"display_name":"KHW1031"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467956396,"creation_date":1467956396,"answer_id":38259575,"question_id":19309203,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class MakeDiamond {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\t\twhile (true) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Let&#39;s Creat Diamonds&quot;);\r\n\t\t\tSystem.out.println(&quot;If number increases Diamonds gets bigger. Please input number lager than 1 : &quot;);\r\n\t\t\t\r\n\t\t\tint user_input = sc.nextInt(); //gets user&#39;s input\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\r\n\t\t\tint x = user_input;\r\n\t\t\tint front_space =  -5;\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; 2 * user_input + 1; i++) {\r\n\t\t\t\tfor (int a = front_space; a &lt; Math.abs(i - user_input); a++) {\r\n\t\t\t\t\tSystem.out.print(&quot;    &quot;); //Change a bit if diamonds are not in good shape\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (i &lt; user_input + 1) {\r\n\t\t\t\t\tfor (int b = 0; b &lt; 2 * i + 1; b++) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;*  &quot;); //Change a bit if diamonds are not in good shape\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} else if (i &gt; user_input) {\r\n\t\t\t\t\tfor (int c = 0; c &lt; 2 * x - 1; c++) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;*  &quot;); //Change a bit if diamonds are not in good shape\r\n\t\t\t\t\t}\r\n\t\t\t\t\tx--;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.print(&#39;\\n&#39;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\nRun Again? 1 = Run,  2 = Exit : &quot;);\r\n\t\t\t\r\n\t\t\tint restart = sc.nextInt();\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\r\n\t\t\tif (restart == 2) {\r\n\t\t\t\tSystem.out.println(&quot;Exit the Program.&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t\tsc.close();\r\n\t\t\t}\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\nWhen making diamonds with while or for loops.\r\nI think using &#39;Math.abs&#39; will be the simplest way to make it.\r\n\r\nYou can put number by Scanner, and when input number increases diamonds will get bigger.\r\n\r\nI used Eclipse to make this program.\r\nso, the Space will be differ by your running environment. like another IDE, CMD or Terminal. if diamonds are not in good shape. Just change spaces.\r\n","title":"How to make a diamond using nested for loops","body":"<pre><code>import java.util.Scanner;\n\npublic class MakeDiamond {\npublic static void main(String[] args) {\n\n    Scanner sc = new Scanner(System.in);\n\n    while (true) {\n\n        System.out.println(\"Let's Creat Diamonds\");\n        System.out.println(\"If number increases Diamonds gets bigger. Please input number lager than 1 : \");\n\n        int user_input = sc.nextInt(); //gets user's input\n        System.out.println(\"\");\n\n        int x = user_input;\n        int front_space =  -5;\n\n        for (int i = 0; i &lt; 2 * user_input + 1; i++) {\n            for (int a = front_space; a &lt; Math.abs(i - user_input); a++) {\n                System.out.print(\"    \"); //Change a bit if diamonds are not in good shape\n            }\n\n            if (i &lt; user_input + 1) {\n                for (int b = 0; b &lt; 2 * i + 1; b++) {\n                    System.out.print(\"*  \"); //Change a bit if diamonds are not in good shape\n                }\n\n            } else if (i &gt; user_input) {\n                for (int c = 0; c &lt; 2 * x - 1; c++) {\n                    System.out.print(\"*  \"); //Change a bit if diamonds are not in good shape\n                }\n                x--;\n            }\n            System.out.print('\\n');\n        }\n\n        System.out.println(\"\\nRun Again? 1 = Run,  2 = Exit : \");\n\n        int restart = sc.nextInt();\n        System.out.println(\"\");\n\n        if (restart == 2) {\n            System.out.println(\"Exit the Program.\");\n            System.exit(0);\n            sc.close();\n        }\n    }\n  }\n}\n</code></pre>\n\n<p>When making diamonds with while or for loops.\nI think using 'Math.abs' will be the simplest way to make it.</p>\n\n<p>You can put number by Scanner, and when input number increases diamonds will get bigger.</p>\n\n<p>I used Eclipse to make this program.\nso, the Space will be differ by your running environment. like another IDE, CMD or Terminal. if diamonds are not in good shape. Just change spaces.</p>\n"},{"tags":[],"owner":{"account_id":8900623,"reputation":1,"user_id":6644202,"display_name":"asim iqbal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610801432,"creation_date":1469615211,"answer_id":38610357,"question_id":19309203,"body_markdown":"```java\r\nclass Inc_Dec {\r\n    public static void main(String[] args) {\r\n        int le = 11;\r\n        int c = 0;\r\n        int j1 = (le / 2) + 1;\r\n        int j2 = le - j1;\r\n        for (int i = 1; i &lt;= le; i++) {\r\n            if (c &lt; j1) {\r\n                for (int k = (j1 - i); k &gt; 0; k--) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                for (int j = 1; j &lt;= i; j++) {\r\n                    System.out.print(&quot;*&quot; + &quot; &quot;);\r\n                }\r\n                c++;\r\n                System.out.println();\r\n            } else {\r\n                for (int k = (i - j1); k &gt; 0; k--) {\r\n                    System.out.print(&quot; &quot;);\r\n                }\r\n                for (int j = (le - i + 1); j &gt; 0; j--) {\r\n                    System.out.print(&quot;*&quot; + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to make a diamond using nested for loops","body":"<pre class=\"lang-java prettyprint-override\"><code>class Inc_Dec {\n    public static void main(String[] args) {\n        int le = 11;\n        int c = 0;\n        int j1 = (le / 2) + 1;\n        int j2 = le - j1;\n        for (int i = 1; i &lt;= le; i++) {\n            if (c &lt; j1) {\n                for (int k = (j1 - i); k &gt; 0; k--) {\n                    System.out.print(&quot; &quot;);\n                }\n                for (int j = 1; j &lt;= i; j++) {\n                    System.out.print(&quot;*&quot; + &quot; &quot;);\n                }\n                c++;\n                System.out.println();\n            } else {\n                for (int k = (i - j1); k &gt; 0; k--) {\n                    System.out.print(&quot; &quot;);\n                }\n                for (int j = (le - i + 1); j &gt; 0; j--) {\n                    System.out.print(&quot;*&quot; + &quot; &quot;);\n                }\n                System.out.println();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610790184,"creation_date":1497008823,"answer_id":44456988,"question_id":19309203,"body_markdown":"[![enter image description here][1]][1]\r\n    \r\n**Note:** Using Count Global variable we can manage space as well as star increment and decrement.\r\n```java\r\nimport java.util.*;\r\npublic class ParamidExample {\r\n    public static void main(String args[]) {\r\n        System.out.println(&quot;Enter a number&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        int no = sc.nextInt();\r\n\r\n        int count = 1;\r\n        for (int i = 1; i &lt;= 2 * no - 1; i++) {\r\n            for (int j = count; j &lt;= no; j++) {\r\n                System.out.print(&quot;  &quot;);\r\n            }\r\n            for (int k = 1; k &lt;= count * 2 - 1; k++) {\r\n                System.out.print(&quot;* &quot;);\r\n            }\r\n            if (i &lt; no)\r\n                count++;\r\n            else\r\n                count--;\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/8b56n.png","title":"How to make a diamond using nested for loops","body":"<p><a href=\"https://i.stack.imgur.com/8b56n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8b56n.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong> Using Count Global variable we can manage space as well as star increment and decrement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class ParamidExample {\n    public static void main(String args[]) {\n        System.out.println(&quot;Enter a number&quot;);\n        Scanner sc = new Scanner(System.in);\n        int no = sc.nextInt();\n\n        int count = 1;\n        for (int i = 1; i &lt;= 2 * no - 1; i++) {\n            for (int j = count; j &lt;= no; j++) {\n                System.out.print(&quot;  &quot;);\n            }\n            for (int k = 1; k &lt;= count * 2 - 1; k++) {\n                System.out.print(&quot;* &quot;);\n            }\n            if (i &lt; no)\n                count++;\n            else\n                count--;\n            System.out.println(&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1000925,"reputation":7035,"user_id":1015790,"accept_rate":81,"display_name":"fiberOptics"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610796771,"creation_date":1581950425,"answer_id":60264803,"question_id":19309203,"body_markdown":"Try this\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int n = 50;\r\n        int space = n - 1;\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt; space; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n\r\n            for (int j = 0; j &lt;= i; j++) {\r\n                System.out.print(&quot;* &quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n            space--;\r\n        }\r\n\r\n        space = 0;\r\n\r\n        for (int i = n; i &gt; 0; i--) {\r\n            for (int j = 0; j &lt; space; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n\r\n            for (int j = 0; j &lt; i; j++) {\r\n                System.out.print(&quot;* &quot;);\r\n            }\r\n\r\n            System.out.println(&quot;&quot;);\r\n            space++;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to make a diamond using nested for loops","body":"<p>Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        int n = 50;\n        int space = n - 1;\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; space; j++) {\n                System.out.print(&quot; &quot;);\n            }\n\n            for (int j = 0; j &lt;= i; j++) {\n                System.out.print(&quot;* &quot;);\n            }\n            System.out.println(&quot;&quot;);\n            space--;\n        }\n\n        space = 0;\n\n        for (int i = n; i &gt; 0; i--) {\n            for (int j = 0; j &lt; space; j++) {\n                System.out.print(&quot; &quot;);\n            }\n\n            for (int j = 0; j &lt; i; j++) {\n                System.out.print(&quot;* &quot;);\n            }\n\n            System.out.println(&quot;&quot;);\n            space++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7099564,"reputation":31,"user_id":5431725,"display_name":"Masoud Rezaei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593402017,"creation_date":1593377468,"answer_id":62628075,"question_id":19309203,"body_markdown":"    package com.DiamondPrintingProgram;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class DiamondPrintingProgram {\r\n    \r\n        public static void main(String[] args) { \r\n            int num = getInput();\r\n            int middle = (int) num / 2 + 1;\r\n            printOutput(num,middle); \r\n        }\r\n        public static int getInput() {\r\n            Scanner sc = new Scanner(System.in);\r\n            int num;\r\n            System.out.print(&quot;Enter a odd number: &quot;);\r\n            while (true) {\r\n                num = sc.nextInt();\r\n                if (num % 2 != 0) {\r\n                    break;\r\n                }\r\n                System.out.print(&quot;Please Enter a ODD NUMBER: &quot;);\r\n            }\r\n            return num;\r\n        }\r\n        private static void printOutput(int num, int middle){\r\n            char asterisk = &#39;*&#39;;\r\n            for (int j = 0; j &lt; num; j++) {\r\n                for (int i = 1; i &lt;= num; i++) {\r\n                    if (j &lt; middle) {\r\n                        if ((i &lt; (middle - j) || i &gt; (middle + j))) {\r\n                            System.out.print(&#39; &#39;);\r\n                        } else {\r\n                            System.out.print(asterisk);\r\n                        }\r\n                    } else {\r\n                        if ((i &lt; (j - middle + 2)) || (i &gt; (2 * num - j - middle))) {\r\n                            System.out.print(&#39; &#39;);\r\n                        } else {\r\n                            System.out.print(asterisk);\r\n                        }\r\n                    }\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to make a diamond using nested for loops","body":"<pre><code>package com.DiamondPrintingProgram;\n\nimport java.util.Scanner;\n\npublic class DiamondPrintingProgram {\n\n    public static void main(String[] args) { \n        int num = getInput();\n        int middle = (int) num / 2 + 1;\n        printOutput(num,middle); \n    }\n    public static int getInput() {\n        Scanner sc = new Scanner(System.in);\n        int num;\n        System.out.print(&quot;Enter a odd number: &quot;);\n        while (true) {\n            num = sc.nextInt();\n            if (num % 2 != 0) {\n                break;\n            }\n            System.out.print(&quot;Please Enter a ODD NUMBER: &quot;);\n        }\n        return num;\n    }\n    private static void printOutput(int num, int middle){\n        char asterisk = '*';\n        for (int j = 0; j &lt; num; j++) {\n            for (int i = 1; i &lt;= num; i++) {\n                if (j &lt; middle) {\n                    if ((i &lt; (middle - j) || i &gt; (middle + j))) {\n                        System.out.print(' ');\n                    } else {\n                        System.out.print(asterisk);\n                    }\n                } else {\n                    if ((i &lt; (j - middle + 2)) || (i &gt; (2 * num - j - middle))) {\n                        System.out.print(' ');\n                    } else {\n                        System.out.print(asterisk);\n                    }\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609761110,"creation_date":1609402418,"answer_id":65518310,"question_id":19309203,"body_markdown":"I have the exact classwork in my university which also requires me to finish it in 3 for loops. \r\n\r\nAnd this is how I did it.\r\n\r\nIn a simple way of explanation, I divide the diamond into two parts. \r\n\r\n| no. of lines  | no. of spaces | no. of stars | total no. of slots |\r\n| :-----------: | :-----------: | :----------: | :-----------------: |\r\n| 1 | 4 | 1 | 5 |\r\n| 2 | 3 | 3 | 6 |\r\n| 3 | 2 | 5 | 7 |\r\n| 4 | 1 | 7 | 8 |\r\n| 5 | 0 | 9 | 9 |\r\n| 6 | 1 | 7 | 8 |\r\n| 7 | 2 | 5 | 7 |\r\n| 8 | 3 | 3 | 6 |\r\n| 9 | 4 | 1 | 5 |\r\n\r\nI want to find the no. of slots and the no. of spaces with each line, then allocating the no. of stars would be really easy.\r\n\r\nAnd considering the no. of slots, line 1 - 5 and line 6 - 9 would become two separate groups(i.e. middleLine).\r\n\r\nThe equation of the no. of slots of the first half would be numberOfLines(i.e. i) + (middleLine - 1) where middleLine - 1 would be 4 when the maxNumberOfLines is 9.\r\n\r\nThe equation of the no. of slots of the last half would be middleLine(i.e. replacement of I) + (middleLine - 1)(i.e. same as above) - (i - middleLine) where i - middleLine would be -1 when i = 6.\r\n\r\nAnd for the space, the first half would be middleLine - i and last half would be i - middleLine, which are exactly in a negative relationship(or symmetrical regarding their slopes).\r\n\r\n\r\n\r\n    public class printOutDiamondWith3Loops {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint userInput = 9;\r\n\t\r\n\t\tdouble maxNumberOfLines = userInput;\r\n\t\t// double type is used instead of integer type in order to prevent removal of remainder when a division performed.\r\n        double middleLine = Math.ceil(maxNumberOfLines/2);\r\n\t\r\n\t\t// Print out the diamond.\r\n\t\tfor (int i = 1; i &lt;= maxNumberOfLines; i++) { \r\n  \t\t// Determine the number of lines, which is also the maximum number of slots (the line in the middle).\r\n\t\t\tif (i &lt;= middleLine) { \r\n            // Separate the whole diamond into two parts(as mentioned above).\r\n\t\t\t\tfor (int j = 1; j &lt;= i + ((middleLine - 1)); j++) {\r\n                // Determine the no. of slots in each line from line 1 to 5.\r\n\t\t\t\t\tif (j &lt;= middleLine - i) { \r\n                    // Determine the no. of spaces and stars.\r\n\t\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else { // i &gt; middleLine\r\n\t\t\t\tfor (int k = 1; k &lt;= (middleLine + (middleLine - 1)) - (i - middleLine); k++) {\r\n                // Determine the no. of slots in each line from line 6 to 9.\r\n\t\t\t\t// For better understanding, I did not simplify the above condition.\r\n                // Noticeably, the first middleLine in above for loop is a replacement of i.\r\n\t\t\t\t\tif (k &lt;= i - middleLine) {\r\n                    // Determine the no. of spaces and stars.\r\n\t\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tSystem.out.println();\t\r\n\t\t}\r\n    \r\n\t}\r\n\r\nWith such a framework, it is much easier to make further changes, such as letting the user input the no. of lines they want.\r\n\r\nHope this answer could help you.\r\n\r\nI could lend you a more detailed version of my work, though not necessarily in need(the above explanation already explains the concepts): [print-Out-Diamond-With-3-Loops-Advanced-Version.java][1]\r\n\r\n\r\n  [1]: https://github.com/travrs629/Learnt-from-Universities/blob/main/Achievements-Earned/print-Out-Diamond-With-3-Loops-Advanced-Version.java","title":"How to make a diamond using nested for loops","body":"<p>I have the exact classwork in my university which also requires me to finish it in 3 for loops.</p>\n<p>And this is how I did it.</p>\n<p>In a simple way of explanation, I divide the diamond into two parts.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">no. of lines</th>\n<th style=\"text-align: center;\">no. of spaces</th>\n<th style=\"text-align: center;\">no. of stars</th>\n<th style=\"text-align: center;\">total no. of slots</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">5</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">6</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">7</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">7</td>\n<td style=\"text-align: center;\">8</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">9</td>\n<td style=\"text-align: center;\">9</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">7</td>\n<td style=\"text-align: center;\">8</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">7</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">7</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">8</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\">6</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">9</td>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">5</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to find the no. of slots and the no. of spaces with each line, then allocating the no. of stars would be really easy.</p>\n<p>And considering the no. of slots, line 1 - 5 and line 6 - 9 would become two separate groups(i.e. middleLine).</p>\n<p>The equation of the no. of slots of the first half would be numberOfLines(i.e. i) + (middleLine - 1) where middleLine - 1 would be 4 when the maxNumberOfLines is 9.</p>\n<p>The equation of the no. of slots of the last half would be middleLine(i.e. replacement of I) + (middleLine - 1)(i.e. same as above) - (i - middleLine) where i - middleLine would be -1 when i = 6.</p>\n<p>And for the space, the first half would be middleLine - i and last half would be i - middleLine, which are exactly in a negative relationship(or symmetrical regarding their slopes).</p>\n<pre><code>public class printOutDiamondWith3Loops {\n\npublic static void main(String[] args) {\n    \n    int userInput = 9;\n\n    double maxNumberOfLines = userInput;\n    // double type is used instead of integer type in order to prevent removal of remainder when a division performed.\n    double middleLine = Math.ceil(maxNumberOfLines/2);\n\n    // Print out the diamond.\n    for (int i = 1; i &lt;= maxNumberOfLines; i++) { \n    // Determine the number of lines, which is also the maximum number of slots (the line in the middle).\n        if (i &lt;= middleLine) { \n        // Separate the whole diamond into two parts(as mentioned above).\n            for (int j = 1; j &lt;= i + ((middleLine - 1)); j++) {\n            // Determine the no. of slots in each line from line 1 to 5.\n                if (j &lt;= middleLine - i) { \n                // Determine the no. of spaces and stars.\n                    System.out.print(&quot; &quot;);\n                } else {\n                    System.out.print(&quot;*&quot;);\n                }\n            }\n        } else { // i &gt; middleLine\n            for (int k = 1; k &lt;= (middleLine + (middleLine - 1)) - (i - middleLine); k++) {\n            // Determine the no. of slots in each line from line 6 to 9.\n            // For better understanding, I did not simplify the above condition.\n            // Noticeably, the first middleLine in above for loop is a replacement of i.\n                if (k &lt;= i - middleLine) {\n                // Determine the no. of spaces and stars.\n                    System.out.print(&quot; &quot;);\n                } else {\n                    System.out.print(&quot;*&quot;);\n                }\n            }\n        } \n        System.out.println();   \n    }\n\n}\n</code></pre>\n<p>With such a framework, it is much easier to make further changes, such as letting the user input the no. of lines they want.</p>\n<p>Hope this answer could help you.</p>\n<p>I could lend you a more detailed version of my work, though not necessarily in need(the above explanation already explains the concepts): <a href=\"https://github.com/travrs629/Learnt-from-Universities/blob/main/Achievements-Earned/print-Out-Diamond-With-3-Loops-Advanced-Version.java\" rel=\"nofollow noreferrer\">print-Out-Diamond-With-3-Loops-Advanced-Version.java</a></p>\n"},{"tags":[],"owner":{"display_name":"user14940971"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610746461,"creation_date":1610746461,"answer_id":65743833,"question_id":19309203,"body_markdown":"You can print a diamond of [*asterisks (mathematical operators)*][1]  as follows:\r\n```java\r\nint m = 4;\r\nint n = 4;\r\nfor (int i = -m; i &lt;= m; i++) {\r\n    for (int j = -n; j &lt;= n; j++) {\r\n        int val = Math.abs(i) + Math.abs(j);\r\n        System.out.print(val &gt; Math.max(m, n) ? &quot; &quot; : &quot;&quot;);\r\n        if (j &lt; n) {\r\n            System.out.print(&quot; &quot;);\r\n        } else {\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\n                \r\n              \r\n            \r\n          \r\n        \r\n          \r\n            \r\n              \r\n                \r\n```\r\n\r\n\r\n  [1]: https://unicode-table.com/en/2217/\r\n","title":"How to make a diamond using nested for loops","body":"<p>You can print a diamond of <a href=\"https://unicode-table.com/en/2217/\" rel=\"nofollow noreferrer\"><em>asterisks (mathematical operators)</em></a>  as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int m = 4;\nint n = 4;\nfor (int i = -m; i &lt;= m; i++) {\n    for (int j = -n; j &lt;= n; j++) {\n        int val = Math.abs(i) + Math.abs(j);\n        System.out.print(val &gt; Math.max(m, n) ? &quot; &quot; : &quot;&quot;);\n        if (j &lt; n) {\n            System.out.print(&quot; &quot;);\n        } else {\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>                \n              \n            \n          \n        \n          \n            \n              \n                \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610809199,"creation_date":1610809199,"answer_id":65751028,"question_id":19309203,"body_markdown":"## *java-11*\r\n\r\nUsing [`String#repeat`][1] introduced as part of Java-11, you can do it using a **single statement** inside a **single loop**.\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal int MID_ROW_NUM = 5;\r\n    \t\tfor (int i = 1 - MID_ROW_NUM; i &lt; MID_ROW_NUM; i++) {\r\n    \t\t\tSystem.out.println(&quot; &quot;.repeat(Math.abs(i)) + &quot;*&quot;.repeat((MID_ROW_NUM - Math.abs(i)) * 2 - 1));\r\n    \t\t}\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n        *\r\n       ***\r\n      *****\r\n     *******\r\n    *********\r\n     *******\r\n      *****\r\n       ***\r\n        *\r\n\r\nBy changing the space, you can also print a variant of the diamond:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal int MID_ROW_NUM = 5;\r\n    \t\tfor (int i = 1 - MID_ROW_NUM; i &lt; MID_ROW_NUM; i++) {\r\n    \t\t\tSystem.out.println(&quot;  &quot;.repeat(Math.abs(i)) + &quot;* &quot;.repeat((MID_ROW_NUM - Math.abs(i)) * 2 - 1));\r\n    \t\t}\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n            * \r\n          * * * \r\n        * * * * * \r\n      * * * * * * * \r\n    * * * * * * * * * \r\n      * * * * * * * \r\n        * * * * * \r\n          * * * \r\n            * \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\r\n","title":"How to make a diamond using nested for loops","body":"<h2><em>java-11</em></h2>\n<p>Using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a> introduced as part of Java-11, you can do it using a <strong>single statement</strong> inside a <strong>single loop</strong>.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final int MID_ROW_NUM = 5;\n        for (int i = 1 - MID_ROW_NUM; i &lt; MID_ROW_NUM; i++) {\n            System.out.println(&quot; &quot;.repeat(Math.abs(i)) + &quot;*&quot;.repeat((MID_ROW_NUM - Math.abs(i)) * 2 - 1));\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>    *\n   ***\n  *****\n *******\n*********\n *******\n  *****\n   ***\n    *\n</code></pre>\n<p>By changing the space, you can also print a variant of the diamond:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final int MID_ROW_NUM = 5;\n        for (int i = 1 - MID_ROW_NUM; i &lt; MID_ROW_NUM; i++) {\n            System.out.println(&quot;  &quot;.repeat(Math.abs(i)) + &quot;* &quot;.repeat((MID_ROW_NUM - Math.abs(i)) * 2 - 1));\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>        * \n      * * * \n    * * * * * \n  * * * * * * * \n* * * * * * * * * \n  * * * * * * * \n    * * * * * \n      * * * \n        * \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23857726,"reputation":25,"user_id":17861057,"display_name":"HariKrishnan V K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641998008,"creation_date":1641997602,"answer_id":70683272,"question_id":19309203,"body_markdown":"    public class Main {\r\n    public static void main(String[] args) {\r\n        int number = 23,l =1,diff = 1,rem = number/2,rep = 0;\r\n        for(int i=1;i&lt;=number;i++){\r\n            if(i &lt; number/2 +1){\r\n                for(int k=rem;k&gt;=1;k--) \r\n                    System.out.print(&quot; &quot;);\r\n                for(int j=1;j&lt;=l;j++) \r\n                    System.out.print(&quot;*&quot;);\r\n                diff = 2;\r\n                rem -= 1;\r\n            }\r\n            if(i &gt;= number/2 +1){\r\n                for(int k=0;k&lt;rep;k++) \r\n                    System.out.print(&quot; &quot;);\r\n                for(int j=1;j&lt;=l;j++) \r\n                    System.out.print(&quot;*&quot;);\r\n                diff =3;\r\n                rep += 1;\r\n            }\r\n            System.out.println();\r\n            l = diff == 2 ? (l + 2) : (l - 2);\r\n        }\r\n    }\r\n}\r\n\r\n//Suitable for only Odd numbers...","title":"How to make a diamond using nested for loops","body":"<pre><code>public class Main {\npublic static void main(String[] args) {\n    int number = 23,l =1,diff = 1,rem = number/2,rep = 0;\n    for(int i=1;i&lt;=number;i++){\n        if(i &lt; number/2 +1){\n            for(int k=rem;k&gt;=1;k--) \n                System.out.print(&quot; &quot;);\n            for(int j=1;j&lt;=l;j++) \n                System.out.print(&quot;*&quot;);\n            diff = 2;\n            rem -= 1;\n        }\n        if(i &gt;= number/2 +1){\n            for(int k=0;k&lt;rep;k++) \n                System.out.print(&quot; &quot;);\n            for(int j=1;j&lt;=l;j++) \n                System.out.print(&quot;*&quot;);\n            diff =3;\n            rep += 1;\n        }\n        System.out.println();\n        l = diff == 2 ? (l + 2) : (l - 2);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>//Suitable for only Odd numbers...</p>\n"},{"tags":[],"owner":{"account_id":23857726,"reputation":25,"user_id":17861057,"display_name":"HariKrishnan V K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642058477,"creation_date":1642058477,"answer_id":70692760,"question_id":19309203,"body_markdown":"    public class Main {\r\n    private static int l =1;\r\n    public static void main(String[] args) {\r\n        int number =9;\r\n        for(int i=1;i&lt;=2*number -1;i++){\r\n            if(i&lt;=number){\r\n                for(int j=1;j&lt;=(number-i);j++)\r\n                    System.out.print(&quot;   &quot;);\r\n                for(int j=1;j&lt;=i;j++)\r\n                    System.out.print(&quot;*     &quot;);\r\n            }\r\n            if(i&gt;number){\r\n                for(int j=1;j&lt;=i-number;j++)\r\n                    System.out.print(&quot;   &quot;);\r\n                for(int j=1;j&lt;=number-l;j++)\r\n                    System.out.print(&quot;*     &quot;);\r\n                l += 1;\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}","title":"How to make a diamond using nested for loops","body":"<pre><code>public class Main {\nprivate static int l =1;\npublic static void main(String[] args) {\n    int number =9;\n    for(int i=1;i&lt;=2*number -1;i++){\n        if(i&lt;=number){\n            for(int j=1;j&lt;=(number-i);j++)\n                System.out.print(&quot;   &quot;);\n            for(int j=1;j&lt;=i;j++)\n                System.out.print(&quot;*     &quot;);\n        }\n        if(i&gt;number){\n            for(int j=1;j&lt;=i-number;j++)\n                System.out.print(&quot;   &quot;);\n            for(int j=1;j&lt;=number-l;j++)\n                System.out.print(&quot;*     &quot;);\n            l += 1;\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3422185,"reputation":57,"user_id":2869358,"accept_rate":0,"display_name":"Anshul Desai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99859,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":19,"score":1,"last_activity_date":1642058477,"creation_date":1381457827,"question_id":19309203,"body_markdown":"So I was assigned to make a diamond with asterisks in Java and I&#39;m really stumped. Here&#39;s what I&#39;ve come up with so far:\r\n```java\r\npublic class Lab1 {\r\n    public static void main(String[] args) {\r\n        for (int i = 5; i &gt; -5; i--) {\r\n            for (int j = 0; j &lt; i; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int j = 0; j &gt;= i; j--) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot;*&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[![***output***][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yWxp4.png","title":"How to make a diamond using nested for loops","body":"<p>So I was assigned to make a diamond with asterisks in Java and I'm really stumped. Here's what I've come up with so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Lab1 {\n    public static void main(String[] args) {\n        for (int i = 5; i &gt; -5; i--) {\n            for (int j = 0; j &lt; i; j++) {\n                System.out.print(&quot; &quot;);\n            }\n            for (int j = 0; j &gt;= i; j--) {\n                System.out.print(&quot; &quot;);\n            }\n            System.out.println(&quot;*&quot;);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yWxp4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yWxp4.png\" alt=\"output\" /></a></p>\n"},{"tags":["java","macos","networking"],"answers":[{"tags":[],"owner":{"account_id":2114,"reputation":92355,"user_id":2915,"accept_rate":96,"display_name":"Adam Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545310703,"creation_date":1220376166,"answer_id":40081,"question_id":40039,"body_markdown":"[TINI][1] is a java ethernet controller, which may have libraries and classes for directly accessing data from ethernet frames to TCP streams. You may be able to find something in there that implements your needed classes. If not, there should be pointers or user groups that will give you a head start.\r\n\r\n\r\n  [1]: http://www.maxim-ic.com/products/microcontrollers/tini/","title":"How do I read and write raw ip packets from java on a mac?","body":"<p><a href=\"http://www.maxim-ic.com/products/microcontrollers/tini/\" rel=\"nofollow noreferrer\">TINI</a> is a java ethernet controller, which may have libraries and classes for directly accessing data from ethernet frames to TCP streams. You may be able to find something in there that implements your needed classes. If not, there should be pointers or user groups that will give you a head start.</p>\n"},{"tags":[],"owner":{"account_id":3192,"reputation":4124,"user_id":4552,"display_name":"Joe Liversedge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1220639317,"creation_date":1220639317,"answer_id":46480,"question_id":40039,"body_markdown":"If you start with the idea that you need something *like* a packet sniffer, you&#39;ll want to look at [http://netresearch.ics.uci.edu/kfujii/jpcap/doc/][1].\r\n\r\n\r\n  [1]: http://netresearch.ics.uci.edu/kfujii/jpcap/doc/","title":"How do I read and write raw ip packets from java on a mac?","body":"<p>If you start with the idea that you need something <em>like</em> a packet sniffer, you'll want to look at <a href=\"http://netresearch.ics.uci.edu/kfujii/jpcap/doc/\" rel=\"nofollow noreferrer\">http://netresearch.ics.uci.edu/kfujii/jpcap/doc/</a>.</p>\n"},{"tags":[],"owner":{"account_id":2968,"reputation":14291,"user_id":4213,"accept_rate":80,"display_name":"Marcio Aguiar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1642058436,"creation_date":1220640425,"answer_id":46538,"question_id":40039,"body_markdown":"Raw Socket for Java is a request for JDK for a looong long time. See the request [here][1]. There&#39;s a long discussion there where you can look for workarounds and solutions. I once needed this for a simple PING operation, but I can&#39;t remember how I resolved this. Sorry :)\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4727550","title":"How do I read and write raw ip packets from java on a mac?","body":"<p>Raw Socket for Java is a request for JDK for a looong long time. See the request <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4727550\" rel=\"nofollow noreferrer\">here</a>. There's a long discussion there where you can look for workarounds and solutions. I once needed this for a simple PING operation, but I can't remember how I resolved this. Sorry :)</p>\n"},{"tags":[],"owner":{"account_id":2975,"reputation":19834,"user_id":4220,"accept_rate":100,"display_name":"Johan L&#252;bcke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1220647888,"creation_date":1220647888,"answer_id":46864,"question_id":40039,"body_markdown":"My best bet so far seems to be the [BPF][1] api and to write a thin JNI wrapper\r\n\r\n  [1]: http://canmore.annwfn.net/freebsd/bpf.html","title":"How do I read and write raw ip packets from java on a mac?","body":"<p>My best bet so far seems to be the <a href=\"http://canmore.annwfn.net/freebsd/bpf.html\" rel=\"nofollow noreferrer\">BPF</a> api and to write a thin JNI wrapper</p>\n"},{"tags":[],"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222087786,"creation_date":1222087786,"answer_id":114666,"question_id":40039,"body_markdown":"You can&#39;t access raw sockets from pure Java, so you will need some sort of layer between your Java code and the network interfaces.\r\n\r\nAlso note that access to raw sockets is normally only available to &quot;root&quot; processes, since otherwise any user could both a) sniff all traffic, and b) generate spoofed packets.\r\n\r\nRather than write your whole program so that it needs to run as &quot;root&quot;, you might consider having the packet capture and generation done in a standalone program with some sort of IPC (RMI, named pipe, TCP socket, etc) to exchange the data with your Java app.\r\n","title":"How do I read and write raw ip packets from java on a mac?","body":"<p>You can't access raw sockets from pure Java, so you will need some sort of layer between your Java code and the network interfaces.</p>\n\n<p>Also note that access to raw sockets is normally only available to \"root\" processes, since otherwise any user could both a) sniff all traffic, and b) generate spoofed packets.</p>\n\n<p>Rather than write your whole program so that it needs to run as \"root\", you might consider having the packet capture and generation done in a standalone program with some sort of IPC (RMI, named pipe, TCP socket, etc) to exchange the data with your Java app.</p>\n"}],"owner":{"account_id":2975,"reputation":19834,"user_id":4220,"accept_rate":100,"display_name":"Johan L&#252;bcke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6559,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":46480,"answer_count":5,"score":3,"last_activity_date":1642058436,"creation_date":1220374888,"question_id":40039,"body_markdown":"What would be the easiest way to be able to send and receive raw network packets. Do I have to write my own JNI wrapping of some c API, and in that case what API am I looking for?\r\n\r\nEDIT: I want to be able to do what wireshark does, i.e. record all incomming packets on an interface, and in addition be able to send back my own created packets. And I want to do it on a mac.","title":"How do I read and write raw ip packets from java on a mac?","body":"<p>What would be the easiest way to be able to send and receive raw network packets. Do I have to write my own JNI wrapping of some c API, and in that case what API am I looking for?</p>\n\n<p>EDIT: I want to be able to do what wireshark does, i.e. record all incomming packets on an interface, and in addition be able to send back my own created packets. And I want to do it on a mac.</p>\n"},{"tags":["java","spring","spring-boot","cron"],"comments":[{"owner":{"account_id":17848047,"reputation":536,"user_id":12964338,"display_name":"implosivesilence"},"score":0,"creation_date":1642057162,"post_id":70692513,"comment_id":124971735,"body_markdown":"Have you tried adding `com.ravi.logic` package in your `@ComponentScan` of your main class?","body":"Have you tried adding <code>com.ravi.logic</code> package in your <code>@ComponentScan</code> of your main class?"},{"owner":{"account_id":16862232,"reputation":19,"user_id":12192749,"display_name":"Ravi"},"score":0,"creation_date":1642057293,"post_id":70692513,"comment_id":124971776,"body_markdown":"Yes but same issue is getting","body":"Yes but same issue is getting"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642057301,"post_id":70692513,"comment_id":124971779,"body_markdown":"Are you sure your code is up to date? `DeleteDataFromDatabase deleteData;` and `Unsatisfied dependency expressed through field &#39;deleteDataFromDatabase&#39;` indicate a mismatch.","body":"Are you sure your code is up to date? <code>DeleteDataFromDatabase deleteData;</code> and <code>Unsatisfied dependency expressed through field &#39;deleteDataFromDatabase&#39;</code> indicate a mismatch."},{"owner":{"account_id":16862232,"reputation":19,"user_id":12192749,"display_name":"Ravi"},"score":0,"creation_date":1642057460,"post_id":70692513,"comment_id":124971818,"body_markdown":"@Thomas i have updated the code you can check now","body":"@Thomas i have updated the code you can check now"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1642057583,"post_id":70692513,"comment_id":124971854,"body_markdown":"If the package structure is really as you state it is, Spring Boot should detect everything already without the need for the `@ComponentScan`. So unless you have something different (also naming your class `SpringBootApplication` isn&#39;t the best name, judging also from the full import of the annotation) that you aren&#39;t showing.","body":"If the package structure is really as you state it is, Spring Boot should detect everything already without the need for the <code>@ComponentScan</code>. So unless you have something different (also naming your class <code>SpringBootApplication</code> isn&#39;t the best name, judging also from the full import of the annotation) that you aren&#39;t showing."},{"owner":{"account_id":16862232,"reputation":19,"user_id":12192749,"display_name":"Ravi"},"score":0,"creation_date":1642057960,"post_id":70692513,"comment_id":124971968,"body_markdown":"@M.Deinum thanks for the suggestion, added full imports for the annotation","body":"@M.Deinum thanks for the suggestion, added full imports for the annotation"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1642058138,"post_id":70692513,"comment_id":124972020,"body_markdown":"That isn&#39;t what I was suggesting... I was suggesting that naming your own application `SpringBootApplication` was a bad decision... Rename it to something else so uyou can use proper imports and not mistakenly use the wrong one somewhere.","body":"That isn&#39;t what I was suggesting... I was suggesting that naming your own application <code>SpringBootApplication</code> was a bad decision... Rename it to something else so uyou can use proper imports and not mistakenly use the wrong one somewhere."}],"owner":{"account_id":16862232,"reputation":19,"user_id":12192749,"display_name":"Ravi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642057883,"creation_date":1642056789,"question_id":70692513,"body_markdown":"I am using @ComponentScan on SpringBootApplication to run cron, below is my code\r\n```\r\npackage com.ravi\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n@org.springframework.boot.autoconfigure.SpringBootApplication\r\n@ComponentScan(basePackages= {&quot;com.ravi&quot;,&quot;com.ravi.cron&quot;})\r\n@EnableScheduling\r\npublic class SpringBootApplication extends SpringBootServletInitializer{\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n        return builder.sources(SpringBootApplication.class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootApplication.class, args);       \r\n    }\r\n\r\n}\r\n```\r\nCron :\r\n```\r\npackage com.ravi.cron\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Lazy;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Lazy(false)\r\npublic class CleanDataJob {\r\n    private static Logger logger = Logger.getLogger(CleanDataJob.class);\r\n    @Autowired\r\n    DeleteDataFromDatabase deleteData;\r\n    @Scheduled\r\n    public void deleteData() {\r\n        // Cleaning data job code\r\n        deleteData.cleanData();\r\n    }\r\n}\r\n```\r\nBelow class is Autowired in cron\r\n```\r\ncom.ravi.logic\r\nimport org.springframework.stereotype.Service;\r\n@Service\r\npublic class DeleteDataFromDatabase {\r\n  public void cleanData() {\r\n     // Clean data code\r\n }\r\n}\r\n```\r\nIf want to delete @ComponentScan annotation from SpringBootApplication, but below error is showing \r\n```\r\norg.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/com.ravi]]\r\n```\r\nAnd second error is\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;cleanDataJob &#39;: Unsatisfied dependency expressed through field &#39;deleteData&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.ravi.logic.DeleteDataFromDatabase&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\nAfter deleting @ComponentScan getting a 404 error on the web\r\nOn DeleteDataFromDatabase, checked with @Configuration, @Controller but not resolved","title":"Getting error after delete @ComponentScan from SpringBootApplication","body":"<p>I am using @ComponentScan on SpringBootApplication to run cron, below is my code</p>\n<pre><code>package com.ravi\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n@org.springframework.boot.autoconfigure.SpringBootApplication\n@ComponentScan(basePackages= {&quot;com.ravi&quot;,&quot;com.ravi.cron&quot;})\n@EnableScheduling\npublic class SpringBootApplication extends SpringBootServletInitializer{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(SpringBootApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootApplication.class, args);       \n    }\n\n}\n</code></pre>\n<p>Cron :</p>\n<pre><code>package com.ravi.cron\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Lazy(false)\npublic class CleanDataJob {\n    private static Logger logger = Logger.getLogger(CleanDataJob.class);\n    @Autowired\n    DeleteDataFromDatabase deleteData;\n    @Scheduled\n    public void deleteData() {\n        // Cleaning data job code\n        deleteData.cleanData();\n    }\n}\n</code></pre>\n<p>Below class is Autowired in cron</p>\n<pre><code>com.ravi.logic\nimport org.springframework.stereotype.Service;\n@Service\npublic class DeleteDataFromDatabase {\n  public void cleanData() {\n     // Clean data code\n }\n}\n</code></pre>\n<p>If want to delete @ComponentScan annotation from SpringBootApplication, but below error is showing</p>\n<pre><code>org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/com.ravi]]\n</code></pre>\n<p>And second error is</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cleanDataJob ': Unsatisfied dependency expressed through field 'deleteData'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.ravi.logic.DeleteDataFromDatabase' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>After deleting @ComponentScan getting a 404 error on the web\nOn DeleteDataFromDatabase, checked with @Configuration, @Controller but not resolved</p>\n"},{"tags":["java","web-services","soap","cxf","wss4j"],"owner":{"account_id":26152,"reputation":7855,"user_id":67796,"accept_rate":95,"display_name":"n002213f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642057642,"creation_date":1642057642,"question_id":70692643,"body_markdown":"I have to call a secure SOAP 1.1 (using X.509 Certificate) and currently getting error: **An error occurred when verifying security for the message.**\r\n\r\nI suspect(and I stand corrected), the SOAP request generated has `BinarySecurityToken` instead of the expected `SecurityContextToken` in the SOAP header section. Unfortunately do not SOAP service logs to check the root cause of the security failure.\r\n\r\nHow would one configure the client so that the `SecurityContextToken` added removing the `BinarySecurityToken`?\r\n\r\n**Server:** ASP.NET 4.0.30319\r\n\r\n**Client:** Quarkus 2.3.1, Apache CXF 3.5.0, WSS4J 2.4.0, Java 17\r\n\r\n**Client Configuration**\r\n``` java\r\n        var factory = new JaxWsProxyFactoryBean();\r\n        factory.setAddress(&quot;https://soap.service.bet/Service.svc&quot;);\r\n\r\n        var props = new HashMap&lt;String, Object&gt;();\r\n\r\n        props.put(ConfigurationConstants.ACTION, ConfigurationConstants.TIMESTAMP + &quot; &quot; + ConfigurationConstants.SIGNATURE);\r\n        props.put(ConfigurationConstants.PW_CALLBACK_REF, callbackHandler());\r\n        props.put(ConfigurationConstants.USER, &quot;alias&quot;);\r\n        props.put(ConfigurationConstants.SIGNATURE_USER, &quot;alias&quot;);\r\n        props.put(ConfigurationConstants.SIG_PROP_FILE, &quot;&quot;file-path);\r\n        props.put(ConfigurationConstants.SIG_KEY_ID, &quot;DirectReference&quot;);\r\n\r\n        var outInterceptor = new LoggingOutInterceptor();\r\n        outInterceptor.setPrettyLogging(true);\r\n        factory.getOutInterceptors().add(outInterceptor);\r\n\r\n        var inInterceptor = new LoggingInInterceptor();\r\n        inInterceptor.setPrettyLogging(true);\r\n        factory.getInInterceptors().add(inInterceptor);\r\n\r\n        factory.setServiceClass(DocumentService.class);\r\n\r\n        client = factory.create(DocumentService.class);\r\n```\r\n\r\n***SOAP Request Created*\r\n``` xml\r\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Header&gt;\r\n        &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                       xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                       soap:mustUnderstand=&quot;1&quot;&gt;\r\n            &lt;wsse:BinarySecurityToken\r\n                    EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\r\n                    wsu:Id=&quot;X509-4749bc58-cae6-43cf-8003-1bd2074646a2&quot;&gt;base64-encoded-certificate&lt;/wsse:BinarySecurityToken&gt;\r\n            &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;SIG-71963650-36aa-4aa1-b60a-40ad40785b5b&quot;&gt;\r\n                &lt;ds:SignedInfo&gt;\r\n                    &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;soap&quot;/&gt;\r\n                    &lt;/ds:CanonicalizationMethod&gt;\r\n                    &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\r\n                    &lt;ds:Reference URI=&quot;#id-2847b44b-8392-4d1f-9624-30d982fe1a79&quot;&gt;\r\n                        &lt;ds:Transforms&gt;\r\n                            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n                        &lt;/ds:Transforms&gt;\r\n                        &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\r\n                        &lt;ds:DigestValue&gt;digest-value&lt;/ds:DigestValue&gt;\r\n                    &lt;/ds:Reference&gt;\r\n                &lt;/ds:SignedInfo&gt;\r\n                &lt;ds:SignatureValue&gt;signature-value&lt;/ds:SignatureValue&gt;\r\n                &lt;ds:KeyInfo Id=&quot;KI-0fb9d706-78f4-4941-b993-1bb680cc74d1&quot;&gt;\r\n                    &lt;wsse:SecurityTokenReference\r\n                            xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                            xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n                            wsu:Id=&quot;STR-81744af4-f79f-428d-969e-f3d106c4c769&quot;&gt;\r\n                        &lt;wsse:Reference URI=&quot;#X509-4749bc58-cae6-43cf-8003-1bd2074646a2&quot;\r\n                                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;/&gt;\r\n                    &lt;/wsse:SecurityTokenReference&gt;\r\n                &lt;/ds:KeyInfo&gt;\r\n            &lt;/ds:Signature&gt;\r\n            &lt;wsu:Timestamp wsu:Id=&quot;TS-f8046bd5-2eae-4321-83b1-1f9c54191751&quot;&gt;\r\n                &lt;wsu:Created&gt;2022-01-12T08:52:07.692Z&lt;/wsu:Created&gt;\r\n                &lt;wsu:Expires&gt;2022-01-12T08:57:07.692Z&lt;/wsu:Expires&gt;\r\n            &lt;/wsu:Timestamp&gt;\r\n        &lt;/wsse:Security&gt;\r\n\t\t&lt;wsa:To xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://target-url.svc&lt;/wsa:To&gt;\r\n        &lt;wsa:Action xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://iermdocument.acmegroup.net/DocumentService/ProtectDocument&lt;/wsa:Action&gt;\r\n    &lt;/soap:Header&gt;\r\n    &lt;soap:Body xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n               wsu:Id=&quot;id-2847b44b-8392-4d1f-9624-30d982fe1a79&quot;&gt;\r\n        &lt;ns2:ProtectDocument xmlns=&quot;http://schemas.datacontract.org/2004/07/ACME.Document.DTO&quot;\r\n                             xmlns:ns2=&quot;https://iermdocument.acmegroup.net/DocumentService&quot;\r\n                             xmlns:ns3=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;\r\n            &lt;ns2:protectDocumentRequest&gt;\r\n                &lt;DocumentContent&gt;byte array of file contents&lt;/DocumentContent&gt;\r\n                &lt;DocumentId&gt;document-id&lt;/DocumentId&gt;\r\n                &lt;FileName&gt;filename.pdf&lt;/FileName&gt;\r\n                &lt;TemplateId&gt;reference-template&lt;/TemplateId&gt;\r\n            &lt;/ns2:protectDocumentRequest&gt;\r\n        &lt;/ns2:ProtectDocument&gt;\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\n**Expected SOAP Message**\r\n``` xml\r\n&lt;s:Envelope xmlns:s=&quot;http://www.w3.org/2003/05/soap-envelope&quot;\r\n            xmlns:a=&quot;http://www.w3.org/2005/08/addressing&quot;\r\n            xmlns:u=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n    &lt;s:Header&gt;\r\n        &lt;a:Action s:mustUnderstand=&quot;1&quot;&gt;https://iermdocument.acmegroup.net/DocumentService/ProtectDocument&lt;/a:Action&gt;\r\n        &lt;a:MessageID&gt;urn:uuid:7a83fb99-ad23-4854-b6f6-1ed40b4ac05d&lt;/a:MessageID&gt;\r\n        &lt;a:ReplyTo&gt;\r\n            &lt;a:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/a:Address&gt;\r\n        &lt;/a:ReplyTo&gt;\r\n        &lt;a:To s:mustUnderstand=&quot;1&quot;&gt;https://target-url.svc&lt;/a:To&gt;\r\n        &lt;o:Security s:mustUnderstand=&quot;1&quot; xmlns:o=&quot;http://docs.oasisopen.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n            &lt;u:Timestamp u:Id=&quot;_0&quot;&gt;\r\n                &lt;u:Created&gt;2015-11-16T19:07:31.193Z&lt;/u:Created&gt;\r\n                &lt;u:Expires&gt;2015-11-16T19:12:31.193Z&lt;/u:Expires&gt;\r\n            &lt;/u:Timestamp&gt;\r\n            &lt;c:SecurityContextToken u:Id=&quot;uuid-c164b012-61e3-419b-9f59-85346cbcdaa3-1&quot; xmlns:c=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc&quot;&gt;\r\n                &lt;c:Identifier&gt;urn:uuid:b8e739ef-b550-4e46-a4b5-35bb1a95f094&lt;/c:Identifier&gt;\r\n            &lt;/c:SecurityContextToken&gt;\r\n            &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n                &lt;SignedInfo&gt;\r\n                    &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n                    &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#hmac-sha1&quot;/&gt;\r\n                    &lt;Reference URI=&quot;#_0&quot;&gt;\r\n                        &lt;Transforms&gt;\r\n                            &lt;Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\r\n                        &lt;/Transforms&gt;\r\n                        &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\r\n                        &lt;DigestValue&gt;digest-value&lt;/DigestValue&gt;\r\n                    &lt;/Reference&gt;\r\n                &lt;/SignedInfo&gt;\r\n                &lt;SignatureValue&gt;signature-value&lt;/SignatureValue&gt;\r\n                &lt;KeyInfo&gt;\r\n                    &lt;o:SecurityTokenReference&gt;\r\n                        &lt;o:Reference ValueType=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&quot; URI=&quot;#uuid-c164b012-61e3-419b-9f59-85346cbcdaa3-1&quot;/&gt;\r\n                    &lt;/o:SecurityTokenReference&gt;\r\n                &lt;/KeyInfo&gt;\r\n            &lt;/Signature&gt;\r\n        &lt;/o:Security&gt;\r\n    &lt;/s:Header&gt;\r\n    &lt;s:Body&gt;\r\n        &lt;ProtectDocument xmlns=&quot;https://iermdocument.acmegroup.net/DocumentService&quot;&gt;\r\n            &lt;protectDocumentRequest xmlns:b=&quot;http://schemas.datacontract.org/2004/07/ACME.Document.DTO&quot; xmlns:i=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n                &lt;b:DocumentContent&gt;byte array of file contents&lt;/b:DocumentContent&gt;\r\n                &lt;b:DocumentId&gt;document-id&lt;/b:DocumentId&gt;\r\n                &lt;b:FileName&gt;filename.pdf&lt;/b:FileName&gt;\r\n                &lt;b:TemplateId&gt;reference-template&lt;/b:TemplateId&gt;\r\n            &lt;/protectDocumentRequest&gt;\r\n        &lt;/ProtectDocument&gt;\r\n    &lt;/s:Body&gt;\r\n&lt;/s:Envelope&gt;\r\n```","title":"Adding SecurityContextToken to SOAP 1.1 Message using Apache CXF","body":"<p>I have to call a secure SOAP 1.1 (using X.509 Certificate) and currently getting error: <strong>An error occurred when verifying security for the message.</strong></p>\n<p>I suspect(and I stand corrected), the SOAP request generated has <code>BinarySecurityToken</code> instead of the expected <code>SecurityContextToken</code> in the SOAP header section. Unfortunately do not SOAP service logs to check the root cause of the security failure.</p>\n<p>How would one configure the client so that the <code>SecurityContextToken</code> added removing the <code>BinarySecurityToken</code>?</p>\n<p><strong>Server:</strong> ASP.NET 4.0.30319</p>\n<p><strong>Client:</strong> Quarkus 2.3.1, Apache CXF 3.5.0, WSS4J 2.4.0, Java 17</p>\n<p><strong>Client Configuration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>        var factory = new JaxWsProxyFactoryBean();\n        factory.setAddress(&quot;https://soap.service.bet/Service.svc&quot;);\n\n        var props = new HashMap&lt;String, Object&gt;();\n\n        props.put(ConfigurationConstants.ACTION, ConfigurationConstants.TIMESTAMP + &quot; &quot; + ConfigurationConstants.SIGNATURE);\n        props.put(ConfigurationConstants.PW_CALLBACK_REF, callbackHandler());\n        props.put(ConfigurationConstants.USER, &quot;alias&quot;);\n        props.put(ConfigurationConstants.SIGNATURE_USER, &quot;alias&quot;);\n        props.put(ConfigurationConstants.SIG_PROP_FILE, &quot;&quot;file-path);\n        props.put(ConfigurationConstants.SIG_KEY_ID, &quot;DirectReference&quot;);\n\n        var outInterceptor = new LoggingOutInterceptor();\n        outInterceptor.setPrettyLogging(true);\n        factory.getOutInterceptors().add(outInterceptor);\n\n        var inInterceptor = new LoggingInInterceptor();\n        inInterceptor.setPrettyLogging(true);\n        factory.getInInterceptors().add(inInterceptor);\n\n        factory.setServiceClass(DocumentService.class);\n\n        client = factory.create(DocumentService.class);\n</code></pre>\n<p>**<em>SOAP Request Created</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;soap:Header&gt;\n        &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                       xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                       soap:mustUnderstand=&quot;1&quot;&gt;\n            &lt;wsse:BinarySecurityToken\n                    EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n                    ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;\n                    wsu:Id=&quot;X509-4749bc58-cae6-43cf-8003-1bd2074646a2&quot;&gt;base64-encoded-certificate&lt;/wsse:BinarySecurityToken&gt;\n            &lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;SIG-71963650-36aa-4aa1-b60a-40ad40785b5b&quot;&gt;\n                &lt;ds:SignedInfo&gt;\n                    &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;soap&quot;/&gt;\n                    &lt;/ds:CanonicalizationMethod&gt;\n                    &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\n                    &lt;ds:Reference URI=&quot;#id-2847b44b-8392-4d1f-9624-30d982fe1a79&quot;&gt;\n                        &lt;ds:Transforms&gt;\n                            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\n                        &lt;/ds:Transforms&gt;\n                        &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\n                        &lt;ds:DigestValue&gt;digest-value&lt;/ds:DigestValue&gt;\n                    &lt;/ds:Reference&gt;\n                &lt;/ds:SignedInfo&gt;\n                &lt;ds:SignatureValue&gt;signature-value&lt;/ds:SignatureValue&gt;\n                &lt;ds:KeyInfo Id=&quot;KI-0fb9d706-78f4-4941-b993-1bb680cc74d1&quot;&gt;\n                    &lt;wsse:SecurityTokenReference\n                            xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n                            xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n                            wsu:Id=&quot;STR-81744af4-f79f-428d-969e-f3d106c4c769&quot;&gt;\n                        &lt;wsse:Reference URI=&quot;#X509-4749bc58-cae6-43cf-8003-1bd2074646a2&quot;\n                                        ValueType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3&quot;/&gt;\n                    &lt;/wsse:SecurityTokenReference&gt;\n                &lt;/ds:KeyInfo&gt;\n            &lt;/ds:Signature&gt;\n            &lt;wsu:Timestamp wsu:Id=&quot;TS-f8046bd5-2eae-4321-83b1-1f9c54191751&quot;&gt;\n                &lt;wsu:Created&gt;2022-01-12T08:52:07.692Z&lt;/wsu:Created&gt;\n                &lt;wsu:Expires&gt;2022-01-12T08:57:07.692Z&lt;/wsu:Expires&gt;\n            &lt;/wsu:Timestamp&gt;\n        &lt;/wsse:Security&gt;\n        &lt;wsa:To xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://target-url.svc&lt;/wsa:To&gt;\n        &lt;wsa:Action xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://iermdocument.acmegroup.net/DocumentService/ProtectDocument&lt;/wsa:Action&gt;\n    &lt;/soap:Header&gt;\n    &lt;soap:Body xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n               wsu:Id=&quot;id-2847b44b-8392-4d1f-9624-30d982fe1a79&quot;&gt;\n        &lt;ns2:ProtectDocument xmlns=&quot;http://schemas.datacontract.org/2004/07/ACME.Document.DTO&quot;\n                             xmlns:ns2=&quot;https://iermdocument.acmegroup.net/DocumentService&quot;\n                             xmlns:ns3=&quot;http://schemas.microsoft.com/2003/10/Serialization/&quot;&gt;\n            &lt;ns2:protectDocumentRequest&gt;\n                &lt;DocumentContent&gt;byte array of file contents&lt;/DocumentContent&gt;\n                &lt;DocumentId&gt;document-id&lt;/DocumentId&gt;\n                &lt;FileName&gt;filename.pdf&lt;/FileName&gt;\n                &lt;TemplateId&gt;reference-template&lt;/TemplateId&gt;\n            &lt;/ns2:protectDocumentRequest&gt;\n        &lt;/ns2:ProtectDocument&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p><strong>Expected SOAP Message</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:Envelope xmlns:s=&quot;http://www.w3.org/2003/05/soap-envelope&quot;\n            xmlns:a=&quot;http://www.w3.org/2005/08/addressing&quot;\n            xmlns:u=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n    &lt;s:Header&gt;\n        &lt;a:Action s:mustUnderstand=&quot;1&quot;&gt;https://iermdocument.acmegroup.net/DocumentService/ProtectDocument&lt;/a:Action&gt;\n        &lt;a:MessageID&gt;urn:uuid:7a83fb99-ad23-4854-b6f6-1ed40b4ac05d&lt;/a:MessageID&gt;\n        &lt;a:ReplyTo&gt;\n            &lt;a:Address&gt;http://www.w3.org/2005/08/addressing/anonymous&lt;/a:Address&gt;\n        &lt;/a:ReplyTo&gt;\n        &lt;a:To s:mustUnderstand=&quot;1&quot;&gt;https://target-url.svc&lt;/a:To&gt;\n        &lt;o:Security s:mustUnderstand=&quot;1&quot; xmlns:o=&quot;http://docs.oasisopen.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\n            &lt;u:Timestamp u:Id=&quot;_0&quot;&gt;\n                &lt;u:Created&gt;2015-11-16T19:07:31.193Z&lt;/u:Created&gt;\n                &lt;u:Expires&gt;2015-11-16T19:12:31.193Z&lt;/u:Expires&gt;\n            &lt;/u:Timestamp&gt;\n            &lt;c:SecurityContextToken u:Id=&quot;uuid-c164b012-61e3-419b-9f59-85346cbcdaa3-1&quot; xmlns:c=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc&quot;&gt;\n                &lt;c:Identifier&gt;urn:uuid:b8e739ef-b550-4e46-a4b5-35bb1a95f094&lt;/c:Identifier&gt;\n            &lt;/c:SecurityContextToken&gt;\n            &lt;Signature xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n                &lt;SignedInfo&gt;\n                    &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\n                    &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#hmac-sha1&quot;/&gt;\n                    &lt;Reference URI=&quot;#_0&quot;&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;/&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\n                        &lt;DigestValue&gt;digest-value&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                &lt;/SignedInfo&gt;\n                &lt;SignatureValue&gt;signature-value&lt;/SignatureValue&gt;\n                &lt;KeyInfo&gt;\n                    &lt;o:SecurityTokenReference&gt;\n                        &lt;o:Reference ValueType=&quot;http://schemas.xmlsoap.org/ws/2005/02/sc/sct&quot; URI=&quot;#uuid-c164b012-61e3-419b-9f59-85346cbcdaa3-1&quot;/&gt;\n                    &lt;/o:SecurityTokenReference&gt;\n                &lt;/KeyInfo&gt;\n            &lt;/Signature&gt;\n        &lt;/o:Security&gt;\n    &lt;/s:Header&gt;\n    &lt;s:Body&gt;\n        &lt;ProtectDocument xmlns=&quot;https://iermdocument.acmegroup.net/DocumentService&quot;&gt;\n            &lt;protectDocumentRequest xmlns:b=&quot;http://schemas.datacontract.org/2004/07/ACME.Document.DTO&quot; xmlns:i=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n                &lt;b:DocumentContent&gt;byte array of file contents&lt;/b:DocumentContent&gt;\n                &lt;b:DocumentId&gt;document-id&lt;/b:DocumentId&gt;\n                &lt;b:FileName&gt;filename.pdf&lt;/b:FileName&gt;\n                &lt;b:TemplateId&gt;reference-template&lt;/b:TemplateId&gt;\n            &lt;/protectDocumentRequest&gt;\n        &lt;/ProtectDocument&gt;\n    &lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","hibernate-envers","audit-tables"],"answers":[{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642057639,"creation_date":1642057639,"answer_id":70692642,"question_id":68901840,"body_markdown":"It is technically possible (if you are able to determine the state of the entity at deletion time) to update the rows in the audit tables that represent `DEL` revision types with each column&#39;s state.  \r\n\r\nThis process is pretty simple for basic entities that have no relationships to other tables; however if you have an entity that has an association or uses a middle audit entity table, care will need to be taken that you&#39;re correctly updating the references to avoid problems when reading the row from the database using the `AuditReader`.","title":"Manually update hibernate envers audit table with few properties","body":"<p>It is technically possible (if you are able to determine the state of the entity at deletion time) to update the rows in the audit tables that represent <code>DEL</code> revision types with each column's state.</p>\n<p>This process is pretty simple for basic entities that have no relationships to other tables; however if you have an entity that has an association or uses a middle audit entity table, care will need to be taken that you're correctly updating the references to avoid problems when reading the row from the database using the <code>AuditReader</code>.</p>\n"}],"owner":{"account_id":8055655,"reputation":121,"user_id":6072892,"accept_rate":40,"display_name":"Gopinath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642057639,"creation_date":1629779671,"question_id":68901840,"body_markdown":"I am using hibernate envers in my springboot project. So the audit table will have all historic data except data for deleted revision because in properties file we didn&#39;t set `spring.jpa.properties.org.hibernate.envers.store_data_at_delete=true`\r\n\r\nNow we want to manually update all the deleted revisions data. Is it possible in hibernate envers to update the deleted revision row with some fields in audit table.\r\n\r\nExample: I have employee table with id(int), name(string), age(int), address(string). And i have audit table created with id, name, age, address, revtype, revid.\r\nHere in my audit table new row will be added for each ADD, MOD, DEL. But for revision DEL, only id, revtype and revid is inserted with all other fields null. Is it possible to update this audit table with other fields for deleted revisions.","title":"Manually update hibernate envers audit table with few properties","body":"<p>I am using hibernate envers in my springboot project. So the audit table will have all historic data except data for deleted revision because in properties file we didn't set <code>spring.jpa.properties.org.hibernate.envers.store_data_at_delete=true</code></p>\n<p>Now we want to manually update all the deleted revisions data. Is it possible in hibernate envers to update the deleted revision row with some fields in audit table.</p>\n<p>Example: I have employee table with id(int), name(string), age(int), address(string). And i have audit table created with id, name, age, address, revtype, revid.\nHere in my audit table new row will be added for each ADD, MOD, DEL. But for revision DEL, only id, revtype and revid is inserted with all other fields null. Is it possible to update this audit table with other fields for deleted revisions.</p>\n"},{"tags":["java","multithreading","hashmap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1642028108,"post_id":70689376,"comment_id":124966906,"body_markdown":"According to the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#:~:text=If%20multiple%20threads%20access%20a%20hash%20map%20concurrently%2C%20and%20at%20least%20one%20of%20the%20threads%20modifies%20the%20map%20structurally%2C%20it%20must%20be%20synchronized%20externally.), `get()` must synchronize if there are concurrent `put()`s. Also note that this is not a safe use of DCL; `containsKey()` can return a stale value without synchronization.","body":"According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#:~:text=If%20multiple%20threads%20access%20a%20hash%20map%20concurrently%2C%20and%20at%20least%20one%20of%20the%20threads%20modifies%20the%20map%20structurally%2C%20it%20must%20be%20synchronized%20externally.\" rel=\"nofollow noreferrer\">docs</a>, <code>get()</code> must synchronize if there are concurrent <code>put()</code>s. Also note that this is not a safe use of DCL; <code>containsKey()</code> can return a stale value without synchronization."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1642028415,"post_id":70689376,"comment_id":124966980,"body_markdown":"Lawliet, forget about technology for a second and think about practical, world application. Suppose you are subscribed to a newspaper or magazine and you are interested in reading an article. The article (for some unknown reason) is being edited by multiple people. Under that scenario, how would you know you are not reading in the middle of an edit? If no synchronization existed, you might be reading &quot;old news&quot;.  This is kind of trivial, but know think about a alarm system in a nuclear reactor with multiple temp sensors. Do you think is important for the alarm system to get the latest data?","body":"Lawliet, forget about technology for a second and think about practical, world application. Suppose you are subscribed to a newspaper or magazine and you are interested in reading an article. The article (for some unknown reason) is being edited by multiple people. Under that scenario, how would you know you are not reading in the middle of an edit? If no synchronization existed, you might be reading &quot;old news&quot;.  This is kind of trivial, but know think about a alarm system in a nuclear reactor with multiple temp sensors. Do you think is important for the alarm system to get the latest data?"},{"owner":{"account_id":9577743,"reputation":3459,"user_id":7113238,"accept_rate":100,"display_name":"Lawliet"},"score":0,"creation_date":1642032849,"post_id":70689376,"comment_id":124967786,"body_markdown":"@hfontanez, true. I was thinking if I have this `synchronized (instanceMap)`, it would lock the `instanceMap` from being read/written from all other threads until it gets updated. My Java knowledge is ...","body":"@hfontanez, true. I was thinking if I have this <code>synchronized (instanceMap)</code>, it would lock the <code>instanceMap</code> from being read/written from all other threads until it gets updated. My Java knowledge is ..."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":2,"creation_date":1642036772,"post_id":70689376,"comment_id":124968363,"body_markdown":"&#39;synchronized&#39; does notthing more than enforce &quot;one at a time&quot; execution betweeen threads that **synchronize on the same object**.  It cannot magically stop threads that do not synchronze.","body":"&#39;synchronized&#39; does notthing more than enforce &quot;one at a time&quot; execution betweeen threads that <b>synchronize on the same object</b>.  It cannot magically stop threads that do not synchronze."}],"answers":[{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642029147,"creation_date":1642029147,"answer_id":70689578,"question_id":70689376,"body_markdown":"I somewhat modified your code:\r\n\r\n1. removed `System.out.println()` from the &quot;hot&quot; loop, it is internally synchronized\r\n2. increased the number of iterations\r\n3. changed printing to only print when there&#39;s an unexpected value\r\n\r\nThere&#39;s much more we can do and try, but this already fails, so I stopped there. The next step would we to rewrite the whole thing to [jcsctress](https://github.com/openjdk/jcstress).\r\n\r\nAnd voila, as expected, sometimes this happens on my Intel MacBook Pro with Temurin 17:\r\n\r\n```\r\nException in thread &quot;Thread 2&quot; java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\r\n\tat com.gitlab.janecekpetr.playground.Playground.getVal(Playground.java:35)\r\n\tat com.gitlab.janecekpetr.playground.Playground.lambda$0(Playground.java:21)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nCode:\r\n```java\r\nprivate record Val(int index, int value) {}\r\n\r\nprivate static final int MAX = 100_000;\r\nprivate final Map&lt;Integer, Integer&gt; instanceMap = new HashMap&lt;&gt;();\r\n\r\npublic static void main(String... args) {\r\n\tPlayground main = new Playground();\r\n\r\n\tRunnable runnable = () -&gt; {\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot; running&quot;);\r\n\t\tVal[] vals = new Val[MAX];\r\n\t\tfor (int i = 0; i &lt; MAX; i++) {\r\n\t\t\tvals[i] = new Val(i, main.getVal(i));\r\n\t\t}\r\n\t\tSystem.out.println(Stream.of(vals).filter(val -&gt; val.index() != val.value()).toList());\r\n\t};\r\n\r\n\tThread thread1 = new Thread(runnable, &quot;Thread 1&quot;);\r\n\tthread1.start();\r\n\r\n\tThread thread2 = new Thread(runnable, &quot;Thread 2&quot;);\r\n\tthread2.start();\r\n}\r\n\r\nprivate int getVal(int key) {\r\n    check(key);\r\n    return instanceMap.get(key);\r\n}\r\n\r\nprivate void check(int key) {\r\n    if (!instanceMap.containsKey(key)) {\r\n        synchronized (instanceMap) {\r\n            if (!instanceMap.containsKey(key)) {\r\n                instanceMap.put(key, key);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"HashMap synchronized `put` but not `get`","body":"<p>I somewhat modified your code:</p>\n<ol>\n<li>removed <code>System.out.println()</code> from the &quot;hot&quot; loop, it is internally synchronized</li>\n<li>increased the number of iterations</li>\n<li>changed printing to only print when there's an unexpected value</li>\n</ol>\n<p>There's much more we can do and try, but this already fails, so I stopped there. The next step would we to rewrite the whole thing to <a href=\"https://github.com/openjdk/jcstress\" rel=\"nofollow noreferrer\">jcsctress</a>.</p>\n<p>And voila, as expected, sometimes this happens on my Intel MacBook Pro with Temurin 17:</p>\n<pre><code>Exception in thread &quot;Thread 2&quot; java.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\n    at com.gitlab.janecekpetr.playground.Playground.getVal(Playground.java:35)\n    at com.gitlab.janecekpetr.playground.Playground.lambda$0(Playground.java:21)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private record Val(int index, int value) {}\n\nprivate static final int MAX = 100_000;\nprivate final Map&lt;Integer, Integer&gt; instanceMap = new HashMap&lt;&gt;();\n\npublic static void main(String... args) {\n    Playground main = new Playground();\n\n    Runnable runnable = () -&gt; {\n        System.out.println(Thread.currentThread().getName() + &quot; running&quot;);\n        Val[] vals = new Val[MAX];\n        for (int i = 0; i &lt; MAX; i++) {\n            vals[i] = new Val(i, main.getVal(i));\n        }\n        System.out.println(Stream.of(vals).filter(val -&gt; val.index() != val.value()).toList());\n    };\n\n    Thread thread1 = new Thread(runnable, &quot;Thread 1&quot;);\n    thread1.start();\n\n    Thread thread2 = new Thread(runnable, &quot;Thread 2&quot;);\n    thread2.start();\n}\n\nprivate int getVal(int key) {\n    check(key);\n    return instanceMap.get(key);\n}\n\nprivate void check(int key) {\n    if (!instanceMap.containsKey(key)) {\n        synchronized (instanceMap) {\n            if (!instanceMap.containsKey(key)) {\n                instanceMap.put(key, key);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642032035,"creation_date":1642032035,"answer_id":70689917,"question_id":70689376,"body_markdown":"To specifically explain the excellent sleuthing work in the answer by @PetrJaneek :\r\n\r\nEvery field in java has an evil coin attached to it. Anytime any thread reads the field, it flips this coin. It is not a fair coin - it is evil. It will flip heads 10,000 times in a row if that&#39;s going to ruin your day (for example, you may have code that depends on coinflips landing a certain way, or it&#39;ll fail to work. The coin is evil: You may run into the situation that just to ruin your day, during all your extensive testing, the coin flips heads, and during the first week in production it&#39;s all heads flips. And then the big new potential customer demos your app and the coin starts flipping some tails on you).\r\n\r\nThe coinflip decides which variant of the field is used - because every thread may or may not have a local cache of that field. When you write to a field from any thread? Coin is flipped, on tails, the local cache is updated and nothing more happens. Read from any thread? Coin is flipped. On tails, the local cache is used.\r\n\r\nThat&#39;s not really what happens of course (your JVM does not actually have evil coins nor is it out to get you), but the JMM (Java Memory Model), along with the realities of modern hardware, means that this abstraction works very well: It will reliably lead to the right answer when writing concurrent code, namely, that any field that is touched by more than one thread __must__ have guards around it, or must never change at all during the entire duration of the multi-thread access &#39;session&#39;.\r\n\r\nYou can force the JVM to flip the coin the way you want, by establishing so-called Happens Before relationships. This is explicit terminology used by the JMM. If 2 lines of code have a Happens-Before relationship (one is defined as &#39;happening before&#39; the other, as per the JMM&#39;s list of HB relationship establishing actions), then it is not possible (short of a bug in the JVM itself) to observe any side effect of the HA line whilst not also observing all side effects of the HB line. (That is to say: the &#39;happens before&#39; line happens before the &#39;happens after&#39; line as far as your code could ever tell, though it&#39;s a bit of schrodiner&#39;s cat situation. If your code doesn&#39;t actually look at these files in a way that you&#39;d ever be able to tell, then the JVM is free to not do that. And it won&#39;t, you can rely on the evil coin being evil: If the JMM takes a &#39;right&#39;, there _will be_ some combination of CPU, OS, JVM release, version, and phase of the moon that combine to use it).\r\n\r\nA small selection of common HB/HA establishing conditions:\r\n* The first line inside a `synchronized(lock)` block is HA relative to the hitting of that block in any other thread.\r\n* Exiting a `synchronized(lock)` block is HB relative to any other thread entering any `synchronized(lock)` block, assuming the two `lock`s are the same reference.\r\n* `thread.start()` is HB relative to the first line that thread will run.\r\n* The &#39;natural&#39; HB/HA: line X is HB relative to line Y if X and Y are run by the same thread and X is &#39;before it&#39; in your code. You can&#39;t write `x = 5; y = x;` and have `y` be set by a version of `x` that did not witness the `x = 5` happening (of course, if another thread is _also_ modifying `x`, all bets are off unless you have HB/HA with whatever line is doing that).\r\n* writes and reads to volatile establish HB/HA but you usually can&#39;t get any guarantees about which direction.\r\n\r\n\r\nThis explains the way your code may fail: The `get()` call establishes absolutely no HB/HA relationship with the other thread that is calling `put()`, and therefore the get() call may or may not use locally cached variants of the various fields that `HashMap` uses internally, depending on the evil coin (which __is__ of course hitting some fields; it&#39;ll be `private` fields in the `HashMap` implementation someplace, so you don&#39;t know which ones, but `HashMap` obviously has long-lived state, which implies fields are involved).\r\n\r\nSo why haven&#39;t you actually managed to &#39;see&#39; your code asplode like the JMM says it will? __Because the coin is EVIL__. You __cannot__ rely on this line of reasoning: &quot;I wrote some code that should fail if the synchronizations I need aren&#39;t happening the way I want. I ran it a whole bunch of times, and it never failed, therefore, apparently this code is concurrency-safe and I can use this in my production code&quot;. That __is simply not ever actually reliable__. That&#39;s why you need to be thinking: Evil! That coin is out to get me! Because if you don&#39;t, you may be tempted to write test code like this.\r\n\r\nYou should be scared of writing code where more than one thread interacts with the same field. You should be bending over backwards to avoid it. Use message queues. Do your chat between threads by using databases, which have much nicer primitives for this stuff (transactions and isolation levels). Rewrite the code so that it takes a bunch of params up front and then runs without interacting with other threads via fields at all, until it is all done, and it then returns a result (and then use e.g. fork/join framework to make it all work). Make your webserver performant and using all the cores simply by relying on the fact that every incoming request will be its own thread, so the only thing that needs to happen for you to use all the cores is for that many folks to hit your server at the same time. If you don&#39;t have enough requests, great! Your server isn&#39;t busy so it doesn&#39;t matter you aren&#39;t using all the cores.\r\n\r\nIf truly you decide that interacting with the same field from multiple threads is the right answer, you need to think NASA programming mars rovers on the lines that interact with those fields, because tests simply cannot be relied upon. It&#39;s not as hard as it sounds - especially if you keep the actual interacting with the relevant fields down to a minimum and keep thinking: &quot;Have I established HB/HA&quot;?\r\n\r\nIn this case, I think Petr figured it out correctly: `System.out.println` is hella slow and does various synchronizing actions. JMM is a package deal, and commutative: Once HB/HA establishes, everything the HB line changed is observable to the code in the HA line, and add in the natural rule, which means all code that follows the HA line cannot possibly observe a universe where something any line before the HB line did _is not yet visible_. In other words, the System.out.println statements HB/HA with each other in some order, but you can&#39;t rely on that (`System.out` is not specced to synchronize. But, just about every implementation does. You should not rely on implementation details, and I can trivially write you some java code that is legal, compiles, runs, and breaks no contracts, because you can set `System.out` with `System.setOut` - that does not synchronize when interacting with `System.out`!). The evil coin in this case took the shape of &#39;accidental&#39; synchronization via intentionally unspecced behaviour of `System.out`.\r\n","title":"HashMap synchronized `put` but not `get`","body":"<p>To specifically explain the excellent sleuthing work in the answer by @PetrJaneek :</p>\n<p>Every field in java has an evil coin attached to it. Anytime any thread reads the field, it flips this coin. It is not a fair coin - it is evil. It will flip heads 10,000 times in a row if that's going to ruin your day (for example, you may have code that depends on coinflips landing a certain way, or it'll fail to work. The coin is evil: You may run into the situation that just to ruin your day, during all your extensive testing, the coin flips heads, and during the first week in production it's all heads flips. And then the big new potential customer demos your app and the coin starts flipping some tails on you).</p>\n<p>The coinflip decides which variant of the field is used - because every thread may or may not have a local cache of that field. When you write to a field from any thread? Coin is flipped, on tails, the local cache is updated and nothing more happens. Read from any thread? Coin is flipped. On tails, the local cache is used.</p>\n<p>That's not really what happens of course (your JVM does not actually have evil coins nor is it out to get you), but the JMM (Java Memory Model), along with the realities of modern hardware, means that this abstraction works very well: It will reliably lead to the right answer when writing concurrent code, namely, that any field that is touched by more than one thread <strong>must</strong> have guards around it, or must never change at all during the entire duration of the multi-thread access 'session'.</p>\n<p>You can force the JVM to flip the coin the way you want, by establishing so-called Happens Before relationships. This is explicit terminology used by the JMM. If 2 lines of code have a Happens-Before relationship (one is defined as 'happening before' the other, as per the JMM's list of HB relationship establishing actions), then it is not possible (short of a bug in the JVM itself) to observe any side effect of the HA line whilst not also observing all side effects of the HB line. (That is to say: the 'happens before' line happens before the 'happens after' line as far as your code could ever tell, though it's a bit of schrodiner's cat situation. If your code doesn't actually look at these files in a way that you'd ever be able to tell, then the JVM is free to not do that. And it won't, you can rely on the evil coin being evil: If the JMM takes a 'right', there <em>will be</em> some combination of CPU, OS, JVM release, version, and phase of the moon that combine to use it).</p>\n<p>A small selection of common HB/HA establishing conditions:</p>\n<ul>\n<li>The first line inside a <code>synchronized(lock)</code> block is HA relative to the hitting of that block in any other thread.</li>\n<li>Exiting a <code>synchronized(lock)</code> block is HB relative to any other thread entering any <code>synchronized(lock)</code> block, assuming the two <code>lock</code>s are the same reference.</li>\n<li><code>thread.start()</code> is HB relative to the first line that thread will run.</li>\n<li>The 'natural' HB/HA: line X is HB relative to line Y if X and Y are run by the same thread and X is 'before it' in your code. You can't write <code>x = 5; y = x;</code> and have <code>y</code> be set by a version of <code>x</code> that did not witness the <code>x = 5</code> happening (of course, if another thread is <em>also</em> modifying <code>x</code>, all bets are off unless you have HB/HA with whatever line is doing that).</li>\n<li>writes and reads to volatile establish HB/HA but you usually can't get any guarantees about which direction.</li>\n</ul>\n<p>This explains the way your code may fail: The <code>get()</code> call establishes absolutely no HB/HA relationship with the other thread that is calling <code>put()</code>, and therefore the get() call may or may not use locally cached variants of the various fields that <code>HashMap</code> uses internally, depending on the evil coin (which <strong>is</strong> of course hitting some fields; it'll be <code>private</code> fields in the <code>HashMap</code> implementation someplace, so you don't know which ones, but <code>HashMap</code> obviously has long-lived state, which implies fields are involved).</p>\n<p>So why haven't you actually managed to 'see' your code asplode like the JMM says it will? <strong>Because the coin is EVIL</strong>. You <strong>cannot</strong> rely on this line of reasoning: &quot;I wrote some code that should fail if the synchronizations I need aren't happening the way I want. I ran it a whole bunch of times, and it never failed, therefore, apparently this code is concurrency-safe and I can use this in my production code&quot;. That <strong>is simply not ever actually reliable</strong>. That's why you need to be thinking: Evil! That coin is out to get me! Because if you don't, you may be tempted to write test code like this.</p>\n<p>You should be scared of writing code where more than one thread interacts with the same field. You should be bending over backwards to avoid it. Use message queues. Do your chat between threads by using databases, which have much nicer primitives for this stuff (transactions and isolation levels). Rewrite the code so that it takes a bunch of params up front and then runs without interacting with other threads via fields at all, until it is all done, and it then returns a result (and then use e.g. fork/join framework to make it all work). Make your webserver performant and using all the cores simply by relying on the fact that every incoming request will be its own thread, so the only thing that needs to happen for you to use all the cores is for that many folks to hit your server at the same time. If you don't have enough requests, great! Your server isn't busy so it doesn't matter you aren't using all the cores.</p>\n<p>If truly you decide that interacting with the same field from multiple threads is the right answer, you need to think NASA programming mars rovers on the lines that interact with those fields, because tests simply cannot be relied upon. It's not as hard as it sounds - especially if you keep the actual interacting with the relevant fields down to a minimum and keep thinking: &quot;Have I established HB/HA&quot;?</p>\n<p>In this case, I think Petr figured it out correctly: <code>System.out.println</code> is hella slow and does various synchronizing actions. JMM is a package deal, and commutative: Once HB/HA establishes, everything the HB line changed is observable to the code in the HA line, and add in the natural rule, which means all code that follows the HA line cannot possibly observe a universe where something any line before the HB line did <em>is not yet visible</em>. In other words, the System.out.println statements HB/HA with each other in some order, but you can't rely on that (<code>System.out</code> is not specced to synchronize. But, just about every implementation does. You should not rely on implementation details, and I can trivially write you some java code that is legal, compiles, runs, and breaks no contracts, because you can set <code>System.out</code> with <code>System.setOut</code> - that does not synchronize when interacting with <code>System.out</code>!). The evil coin in this case took the shape of 'accidental' synchronization via intentionally unspecced behaviour of <code>System.out</code>.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642057477,"creation_date":1642054400,"answer_id":70692169,"question_id":70689376,"body_markdown":"The following explanation is more in line with the terminology used in the JMM. Could be useful if you want a more solid understanding of this topic.\r\n\r\n2 Actions are conflicting when they access the same address and there is at least 1 write.\r\n\r\n2 Actions are concurrent when they are not ordered by a happens-before relation (there is no happens-before edge between them).\r\n\r\n2 Actions are in data race when they are conflicting and concurrent.\r\n\r\nWhen there are data races in your program, weird problems can happen like unexpected reordering of instructions, visibility problems, or atomicity problems.\r\n\r\nSo what makes up the happens-before relation. If a volatile read observes a particular volatile write, then there is a happens-before edge between the write and the read. This means that read will not only see that write, but everything that happened before that write. There are other sources of happens-before edges like the release of a monitor and subsequent acquire of the same monitor. And there is a happens-before edge between A, B when A occurs before B in the program order. Note: the happens-before relation is transitive, so if A happens-before B and B happens-before C, then A happens-before C.\r\n\r\nIn your case, you have a get/put operations which are conflicting since they access the same address(es) and there is at least 1 write.\r\n\r\nThe put/get action are concurrent, since is no happens-before edge between writing and reading because even though the write releases the monitor, the get doesn&#39;t acquire it.\r\n\r\nSince the put/get operations are concurrent and conflicting, they are in data race.\r\n\r\nThe simplest way to fix this problem, is to execute the map.get in a synchronized block (using the same monitor). This will introduce the desired happens-before edge and makes the actions sequential instead of concurrent and as consequence, the data-race disappears.\r\n\r\nA better-performing solution would be to make use of a ConcurrentHashMap. Instead of a single central lock, there are many locks and they can be acquired concurrently to improve scalability and performance. I&#39;m not going to dig into the optimizations of the ConcurrentHashMap because would create confusion.\r\n\r\n[Edit]\r\nApart from a data-race, your code also suffers from race conditions. \r\n\r\n","title":"HashMap synchronized `put` but not `get`","body":"<p>The following explanation is more in line with the terminology used in the JMM. Could be useful if you want a more solid understanding of this topic.</p>\n<p>2 Actions are conflicting when they access the same address and there is at least 1 write.</p>\n<p>2 Actions are concurrent when they are not ordered by a happens-before relation (there is no happens-before edge between them).</p>\n<p>2 Actions are in data race when they are conflicting and concurrent.</p>\n<p>When there are data races in your program, weird problems can happen like unexpected reordering of instructions, visibility problems, or atomicity problems.</p>\n<p>So what makes up the happens-before relation. If a volatile read observes a particular volatile write, then there is a happens-before edge between the write and the read. This means that read will not only see that write, but everything that happened before that write. There are other sources of happens-before edges like the release of a monitor and subsequent acquire of the same monitor. And there is a happens-before edge between A, B when A occurs before B in the program order. Note: the happens-before relation is transitive, so if A happens-before B and B happens-before C, then A happens-before C.</p>\n<p>In your case, you have a get/put operations which are conflicting since they access the same address(es) and there is at least 1 write.</p>\n<p>The put/get action are concurrent, since is no happens-before edge between writing and reading because even though the write releases the monitor, the get doesn't acquire it.</p>\n<p>Since the put/get operations are concurrent and conflicting, they are in data race.</p>\n<p>The simplest way to fix this problem, is to execute the map.get in a synchronized block (using the same monitor). This will introduce the desired happens-before edge and makes the actions sequential instead of concurrent and as consequence, the data-race disappears.</p>\n<p>A better-performing solution would be to make use of a ConcurrentHashMap. Instead of a single central lock, there are many locks and they can be acquired concurrently to improve scalability and performance. I'm not going to dig into the optimizations of the ConcurrentHashMap because would create confusion.</p>\n<p>[Edit]\nApart from a data-race, your code also suffers from race conditions.</p>\n"}],"owner":{"account_id":9577743,"reputation":3459,"user_id":7113238,"accept_rate":100,"display_name":"Lawliet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70689578,"answer_count":3,"score":1,"last_activity_date":1642057477,"creation_date":1642027757,"question_id":70689376,"body_markdown":"I have the following code snippet that I&#39;m trying to see if it can crash/misbehave at some point. The HashMap is being called from multiple threads in which `put` is inside a synchronized block and `get` is not. Is there any issue with this code? If so, what modification I need to make to see that happens given that I only use `put` and `get` this way, and there is no `putAll`, `clear` or any operations involved.\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n    Map&lt;Integer, String&gt; instanceMap = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello&quot;);\r\n\r\n        Main main = new Main();\r\n\r\n        Thread thread1 = new Thread(&quot;Thread 1&quot;){\r\n            public void run(){\r\n                System.out.println(&quot;Thread 1 running&quot;);\r\n                for (int i = 0; i &lt;= 100; i++) {\r\n                    System.out.println(&quot;Thread 1 &quot; + i + &quot;-&quot; + main.getVal(i));\r\n                }\r\n            }\r\n        };\r\n        thread1.start();\r\n\r\n\r\n        Thread thread2 = new Thread(&quot;Thread 2&quot;){\r\n            public void run(){\r\n                System.out.println(&quot;Thread 2 running&quot;);\r\n                for (int i = 0; i &lt;= 100; i++) {\r\n                    System.out.println(&quot;Thread 2 &quot; + i + &quot;-&quot; + main.getVal(i));\r\n                }\r\n            }\r\n        };\r\n        thread2.start();\r\n    }\r\n\r\n    private String getVal(int key) {\r\n        check(key);\r\n        return instanceMap.get(key);\r\n    }\r\n\r\n    private void check(int key) {\r\n        if (!instanceMap.containsKey(key)) {\r\n            synchronized (instanceMap) {\r\n                if (!instanceMap.containsKey(key)) {\r\n                    // System.out.println(Thread.currentThread().getName());\r\n                    instanceMap.put(key, &quot;&quot; + key);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat I have checked out:\r\n* https://stackoverflow.com/questions/24540610/are-size-put-remove-get-atomic-in-java-synchronized-hashmap\r\n* https://stackoverflow.com/questions/12429997/extending-hashmapk-v-and-synchronizing-only-puts\r\n* https://stackoverflow.com/questions/32300043/why-does-hashmap-getkey-needs-to-be-synchronized-when-change-operations-are-sy","title":"HashMap synchronized `put` but not `get`","body":"<p>I have the following code snippet that I'm trying to see if it can crash/misbehave at some point. The HashMap is being called from multiple threads in which <code>put</code> is inside a synchronized block and <code>get</code> is not. Is there any issue with this code? If so, what modification I need to make to see that happens given that I only use <code>put</code> and <code>get</code> this way, and there is no <code>putAll</code>, <code>clear</code> or any operations involved.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Main {\n    Map&lt;Integer, String&gt; instanceMap = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello&quot;);\n\n        Main main = new Main();\n\n        Thread thread1 = new Thread(&quot;Thread 1&quot;){\n            public void run(){\n                System.out.println(&quot;Thread 1 running&quot;);\n                for (int i = 0; i &lt;= 100; i++) {\n                    System.out.println(&quot;Thread 1 &quot; + i + &quot;-&quot; + main.getVal(i));\n                }\n            }\n        };\n        thread1.start();\n\n\n        Thread thread2 = new Thread(&quot;Thread 2&quot;){\n            public void run(){\n                System.out.println(&quot;Thread 2 running&quot;);\n                for (int i = 0; i &lt;= 100; i++) {\n                    System.out.println(&quot;Thread 2 &quot; + i + &quot;-&quot; + main.getVal(i));\n                }\n            }\n        };\n        thread2.start();\n    }\n\n    private String getVal(int key) {\n        check(key);\n        return instanceMap.get(key);\n    }\n\n    private void check(int key) {\n        if (!instanceMap.containsKey(key)) {\n            synchronized (instanceMap) {\n                if (!instanceMap.containsKey(key)) {\n                    // System.out.println(Thread.currentThread().getName());\n                    instanceMap.put(key, &quot;&quot; + key);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>What I have checked out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24540610/are-size-put-remove-get-atomic-in-java-synchronized-hashmap\">Are size(), put(), remove(), get() atomic in Java synchronized HashMap?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12429997/extending-hashmapk-v-and-synchronizing-only-puts\">Extending HashMap&lt;K,V&gt; and synchronizing only puts</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32300043/why-does-hashmap-getkey-needs-to-be-synchronized-when-change-operations-are-sy\">Why does HashMap.get(key) needs to be synchronized when change operations are synchronized?</a></li>\n</ul>\n"},{"tags":["java","spring-boot","http","spring-mvc"],"owner":{"account_id":17463361,"reputation":21,"user_id":12660566,"display_name":"Krito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642056963,"creation_date":1642056963,"question_id":70692538,"body_markdown":"In the development of springboot project, a requirement needs to forward the error Chinese information string to the corresponding controller for processing, so I first use urlencoder Encode (message, &quot;UTF-8&quot;), then splice the encoded string to the URL, and use httpservletresponse.Sendredirect(&quot;url&quot;) redirects to the target controller with the following code:\r\n```\r\n    private void responseError(ServletResponse response, String message) {\r\n        try {\r\n            HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n            message = URLEncoder.encode(message, &quot;UTF-8&quot;);\r\n            httpServletResponse.sendRedirect(&quot;/unauthorized/&quot; +  message);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nIn the controller, use @Requestmapping(value = &quot;/unauthorized/{message}&quot;) to get the dynamic parameter message on the path. The code is as follows:\r\n```\r\n    @RequestMapping(value=&quot;/unauthorized/{message}&quot;)\r\n    public ResultMap unauthorized(@PathVariable(&quot;message&quot;) String message){\r\n        return ResultMap.fail(message);\r\n    }\r\n```\r\nDuring the test, it is found that the encoded Chinese string is similar to the form of %E7%99%BB%E5%BD%95%E8%Ba%AB%E4%BB%BD%E5%A4%B1%E6%95%88. During redirection, the request keeps cycling. The controller cannot capture the request, and finally reports an error: exceeded maxredirects Probably stuck in a redirect loop.\r\nHowever, after I remove % from the parameter string, the controller method can capture and process the request normally. Therefore, I guess @Requestmapping() cannot match the special character %. Does anyone have a solution?","title":"How does springboot @PathVariable get Chinese parameters in the path","body":"<p>In the development of springboot project, a requirement needs to forward the error Chinese information string to the corresponding controller for processing, so I first use urlencoder Encode (message, &quot;UTF-8&quot;), then splice the encoded string to the URL, and use httpservletresponse.Sendredirect(&quot;url&quot;) redirects to the target controller with the following code:</p>\n<pre><code>    private void responseError(ServletResponse response, String message) {\n        try {\n            HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n            message = URLEncoder.encode(message, &quot;UTF-8&quot;);\n            httpServletResponse.sendRedirect(&quot;/unauthorized/&quot; +  message);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>In the controller, use @Requestmapping(value = &quot;/unauthorized/{message}&quot;) to get the dynamic parameter message on the path. The code is as follows:</p>\n<pre><code>    @RequestMapping(value=&quot;/unauthorized/{message}&quot;)\n    public ResultMap unauthorized(@PathVariable(&quot;message&quot;) String message){\n        return ResultMap.fail(message);\n    }\n</code></pre>\n<p>During the test, it is found that the encoded Chinese string is similar to the form of %E7%99%BB%E5%BD%95%E8%Ba%AB%E4%BB%BD%E5%A4%B1%E6%95%88. During redirection, the request keeps cycling. The controller cannot capture the request, and finally reports an error: exceeded maxredirects Probably stuck in a redirect loop.\nHowever, after I remove % from the parameter string, the controller method can capture and process the request normally. Therefore, I guess @Requestmapping() cannot match the special character %. Does anyone have a solution?</p>\n"},{"tags":["java","unity-game-engine","in-app-purchase","unityads"],"answers":[{"tags":[],"owner":{"account_id":11274527,"reputation":131,"user_id":8268925,"display_name":"Asidert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642056560,"creation_date":1642056560,"answer_id":70692476,"question_id":70665281,"body_markdown":"I asked for help from the official Unity support and we found the problem.&lt;br&gt;\r\nThe problem was with the Unity Analytics Collection, which was enabled by default.\r\n&lt;br&gt;&lt;br&gt;Unity Ads tried to send data to the dashboard. \r\nBut for now, Unity Ads is using Google Billing Library v3, when I am v4, it caused an error when submitting data.&lt;br&gt;&lt;br&gt;2 solutions were found:\r\n\r\n - Rewrite my code for billing under v3\r\n - Disable Unity Analytics Collection on Monetization folder into dashboard","title":"Unity Ads and Google Play Billing Library","body":"<p>I asked for help from the official Unity support and we found the problem.<br>\nThe problem was with the Unity Analytics Collection, which was enabled by default.\n<br><br>Unity Ads tried to send data to the dashboard.\nBut for now, Unity Ads is using Google Billing Library v3, when I am v4, it caused an error when submitting data.<br><br>2 solutions were found:</p>\n<ul>\n<li>Rewrite my code for billing under v3</li>\n<li>Disable Unity Analytics Collection on Monetization folder into dashboard</li>\n</ul>\n"}],"owner":{"account_id":11274527,"reputation":131,"user_id":8268925,"display_name":"Asidert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70692476,"answer_count":1,"score":1,"last_activity_date":1642056560,"creation_date":1641897218,"question_id":70665281,"body_markdown":"I switched from AdMob to UnityAds and now my game crashes after a player tries to buy something.\r\n\r\n    java.lang.RuntimeException: Error receiving broadcast Intent { act=com.android.vending.billing.PURCHASES_UPDATED flg=0x10 pkg=ru.elvale.amfus (has extras) } in com.android.billingclient.api.zzg@6336d8f\r\n        at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1560)\r\n        at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7403)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:935)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke interface method &#39;java.util.Iterator java.util.List.iterator()&#39; on a null object reference\r\n        at com.unity3d.services.store.gpbl.proxies.PurchaseUpdatedListenerProxy.onPurchasesUpdated(PurchaseUpdatedListenerProxy.java:46)\r\n        at com.unity3d.services.store.gpbl.proxies.PurchaseUpdatedListenerProxy.invoke(PurchaseUpdatedListenerProxy.java:32)\r\n        at java.lang.reflect.Proxy.invoke(Proxy.java:1006)\r\n        at $Proxy4.onPurchasesUpdated(Unknown Source)\r\n        at com.android.billingclient.api.zzg.onReceive(com.android.billingclient:billing@@4.0.0:3)\r\n        at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1550)\r\n        at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:883)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7403)&#160;\r\n\r\nI saw `com.unity3d.services.store.gpbl.proxies.PurchaseUpdatedListenerProxy.onPurchasesUpdated`, but I want to use UnityAds only for displaying ads, analytics is not connected, how can I disable this?","title":"Unity Ads and Google Play Billing Library","body":"<p>I switched from AdMob to UnityAds and now my game crashes after a player tries to buy something.</p>\n<pre><code>java.lang.RuntimeException: Error receiving broadcast Intent { act=com.android.vending.billing.PURCHASES_UPDATED flg=0x10 pkg=ru.elvale.amfus (has extras) } in com.android.billingclient.api.zzg@6336d8f\n    at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1560)\n    at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7403)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:935)\n Caused by: java.lang.NullPointerException: Attempt to invoke interface method 'java.util.Iterator java.util.List.iterator()' on a null object reference\n    at com.unity3d.services.store.gpbl.proxies.PurchaseUpdatedListenerProxy.onPurchasesUpdated(PurchaseUpdatedListenerProxy.java:46)\n    at com.unity3d.services.store.gpbl.proxies.PurchaseUpdatedListenerProxy.invoke(PurchaseUpdatedListenerProxy.java:32)\n    at java.lang.reflect.Proxy.invoke(Proxy.java:1006)\n    at $Proxy4.onPurchasesUpdated(Unknown Source)\n    at com.android.billingclient.api.zzg.onReceive(com.android.billingclient:billing@@4.0.0:3)\n    at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1550)\n    at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7403)\n</code></pre>\n<p>I saw <code>com.unity3d.services.store.gpbl.proxies.PurchaseUpdatedListenerProxy.onPurchasesUpdated</code>, but I want to use UnityAds only for displaying ads, analytics is not connected, how can I disable this?</p>\n"},{"tags":["java","android","android-dialogfragment"],"owner":{"account_id":17525669,"reputation":69,"user_id":12741593,"display_name":"Eye Lamp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1642056291,"creation_date":1642056291,"question_id":70692445,"body_markdown":"I want to show many dialogs in one activity.\r\nI can show one dialog now, but when I add more dialog, it confuses me.\r\nHere is my code.\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        //then create a alertDialog class\r\n        String [] age = getActivity().getResources().getStringArray(R.array.age);\r\n        String [] job = getActivity().getResources().getStringArray(R.array.job);\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n\r\n        builder.setTitle(&quot; ?&quot;);\r\n        builder.setItems(age, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                ((SetUpActivity)getActivity()).textView_age.setText(age[which]);\r\n            }\r\n        });\r\n\r\n        builder.setTitle(&quot; ?&quot;);\r\n        builder.setItems(job, new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                ((SetUpActivity)getActivity()).textView_job.setText(job[which]);\r\n            }\r\n        });\r\n\r\n\r\n        return builder.create();\r\n    }\r\n\r\n\r\nWhen the user click the button,(and appear dialog box)\r\nHere is a code\r\n\r\n    new FragmentDialogBox().show(getSupportFragmentManager(),&quot;fragmentDialog&quot;);\r\n\r\nMaybe I change the tag - &quot;fragmentDialog&quot; part?\r\n","title":"Android how to use dialogfragment effecitively(using multiple dialog)","body":"<p>I want to show many dialogs in one activity.\nI can show one dialog now, but when I add more dialog, it confuses me.\nHere is my code.</p>\n<pre><code>@NonNull\n@Override\npublic Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n    //then create a alertDialog class\n    String [] age = getActivity().getResources().getStringArray(R.array.age);\n    String [] job = getActivity().getResources().getStringArray(R.array.job);\n\n    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n\n    builder.setTitle(&quot; ?&quot;);\n    builder.setItems(age, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            ((SetUpActivity)getActivity()).textView_age.setText(age[which]);\n        }\n    });\n\n    builder.setTitle(&quot; ?&quot;);\n    builder.setItems(job, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialog, int which) {\n            ((SetUpActivity)getActivity()).textView_job.setText(job[which]);\n        }\n    });\n\n\n    return builder.create();\n}\n</code></pre>\n<p>When the user click the button,(and appear dialog box)\nHere is a code</p>\n<pre><code>new FragmentDialogBox().show(getSupportFragmentManager(),&quot;fragmentDialog&quot;);\n</code></pre>\n<p>Maybe I change the tag - &quot;fragmentDialog&quot; part?</p>\n"},{"tags":["java","spring-boot","hibernate-envers"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640841523,"post_id":70445384,"comment_id":124672101,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642056208,"creation_date":1642056208,"answer_id":70692424,"question_id":70445384,"body_markdown":"The problem you face is the fact you&#39;re performing a bulk delete.  \r\n\r\nThe query that executes the delete could theoretically delete 0, 1, or multiple rows from the database and such a query does not cause Hibernate to load the entity state.  In short, you&#39;re effectively performing a JPA `CriteriaDelete` query which isn&#39;t supported.\r\n\r\nIf you want to  capture deleted state, you need to load the specific entity and delete that single instance of the entity, like:\r\n\r\n```\r\nMyEntity entity = entityManager.find( MyEntity.class, 123L );\r\nentityManager.remove( entity );\r\n```\r\n\r\nOtherwise since Hibernate never loads the entity state, no event listeners get fired that provide the entity state to Envers so that it can be audited.","title":"Hibernate envers doesnt save deleted data in aud table","body":"<p>The problem you face is the fact you're performing a bulk delete.</p>\n<p>The query that executes the delete could theoretically delete 0, 1, or multiple rows from the database and such a query does not cause Hibernate to load the entity state.  In short, you're effectively performing a JPA <code>CriteriaDelete</code> query which isn't supported.</p>\n<p>If you want to  capture deleted state, you need to load the specific entity and delete that single instance of the entity, like:</p>\n<pre><code>MyEntity entity = entityManager.find( MyEntity.class, 123L );\nentityManager.remove( entity );\n</code></pre>\n<p>Otherwise since Hibernate never loads the entity state, no event listeners get fired that provide the entity state to Envers so that it can be audited.</p>\n"}],"owner":{"account_id":15588684,"reputation":19,"user_id":11246411,"display_name":"dilemunal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1933,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70692424,"answer_count":1,"score":0,"last_activity_date":1642056208,"creation_date":1640156976,"question_id":70445384,"body_markdown":"I am using hibernate envers on spring boot have have these configs in application.properties file\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.org.hibernate.envers.store_data_at_delete=true\r\n    spring.jpa.properties.org.hibernate.envers.audit_table_suffix=_AUDIT\r\n\r\nI am deleting some records from base table, audit tables are created in db but deleted records doesnt show up in audit table or rev table.\r\n\r\nHow i am deleting records is by using this method : \r\n\r\n   \r\n\r\n     Query(value = &quot;delete from basetable as a where a.first  &lt;= :first and a.sev = :sev and a.id not in (select larm_id from roots as rca where larm_id = a.id)&quot;, nativeQuery = true)\r\n        void delete(@Param(&quot;first&quot;) Long firstOccurrence, @Param(&quot;sev&quot;) int sev);\r\n    \r\n            repo.delete(1639835200L, 0);\r\nWhat am i doing wrong? ","title":"Hibernate envers doesnt save deleted data in aud table","body":"<p>I am using hibernate envers on spring boot have have these configs in application.properties file</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.org.hibernate.envers.store_data_at_delete=true\nspring.jpa.properties.org.hibernate.envers.audit_table_suffix=_AUDIT\n</code></pre>\n<p>I am deleting some records from base table, audit tables are created in db but deleted records doesnt show up in audit table or rev table.</p>\n<p>How i am deleting records is by using this method :</p>\n<pre><code> Query(value = &quot;delete from basetable as a where a.first  &lt;= :first and a.sev = :sev and a.id not in (select larm_id from roots as rca where larm_id = a.id)&quot;, nativeQuery = true)\n    void delete(@Param(&quot;first&quot;) Long firstOccurrence, @Param(&quot;sev&quot;) int sev);\n\n        repo.delete(1639835200L, 0);\n</code></pre>\n<p>What am i doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1642055742,"post_id":70692332,"comment_id":124971421,"body_markdown":"if the condition is true, it&#39;ll loop again, but it&#39;ll pass the if, because this time, it returns false, and increments","body":"if the condition is true, it&#39;ll loop again, but it&#39;ll pass the if, because this time, it returns false, and increments"},{"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"score":0,"creation_date":1642056045,"post_id":70692332,"comment_id":124971491,"body_markdown":"@Stultuske so, after number 2, the loop will start from 1 or 3?","body":"@Stultuske so, after number 2, the loop will start from 1 or 3?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1642058482,"post_id":70692332,"comment_id":124972127,"body_markdown":"after number 2, it will run over 2 again, but this time, the number is 99, so the index will increase. then it will go to the third element.","body":"after number 2, it will run over 2 again, but this time, the number is 99, so the index will increase. then it will go to the third element."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642056018,"creation_date":1642056018,"answer_id":70692395,"question_id":70692332,"body_markdown":"There is no reason for your `index++` statement to be conditional. This might lead in some cases to infinite loop.\r\n\r\nThe only reason your code doesn&#39;t result in an infinite loop is that you change each even number to an odd number. Then, when you check that number again in the next iteration of the loop (since you didn&#39;t increment the index), you&#39;ll find that it&#39;s odd, and this time increment the index.\r\n\r\nYour loop will have 15 iterations instead of just 10.\r\n\r\nYou can see this if you add a `System.out.println (index);` as the first statement of the loop. The output you&#39;ll get is:\r\n\r\n    0\r\n    1\r\n    1\r\n    2\r\n    3\r\n    3\r\n    4\r\n    5\r\n    5\r\n    6\r\n    7\r\n    7\r\n    8\r\n    9\r\n    9\r\n\r\n\r\nIt will make more sense to just change the logic to:\r\n\r\n    int[] data = {1, 2, 3, 4, 5, 6, 7, 8, 9, 0};\r\n    for(int index = 0; index &lt; data.length; index++) {\r\n      if(data[index] % 2 == 0) {\r\n        data[index] = 99;\r\n      }\r\n    }\r\n\r\n","title":"For Loop conditional increment","body":"<p>There is no reason for your <code>index++</code> statement to be conditional. This might lead in some cases to infinite loop.</p>\n<p>The only reason your code doesn't result in an infinite loop is that you change each even number to an odd number. Then, when you check that number again in the next iteration of the loop (since you didn't increment the index), you'll find that it's odd, and this time increment the index.</p>\n<p>Your loop will have 15 iterations instead of just 10.</p>\n<p>You can see this if you add a <code>System.out.println (index);</code> as the first statement of the loop. The output you'll get is:</p>\n<pre><code>0\n1\n1\n2\n3\n3\n4\n5\n5\n6\n7\n7\n8\n9\n9\n</code></pre>\n<p>It will make more sense to just change the logic to:</p>\n<pre><code>int[] data = {1, 2, 3, 4, 5, 6, 7, 8, 9, 0};\nfor(int index = 0; index &lt; data.length; index++) {\n  if(data[index] % 2 == 0) {\n    data[index] = 99;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5556344,"reputation":417,"user_id":4407572,"accept_rate":89,"display_name":"Sandeep Roy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70692395,"answer_count":1,"score":0,"last_activity_date":1642056018,"creation_date":1642055641,"question_id":70692332,"body_markdown":"I just playing around and got doubt on this.\r\n\r\nWe have an array, where we need to find and replace all the even numbers with 99.\r\n\r\nIf found, the number isn&#39;t even, then increment the index and check the next number, until last index.\r\n\r\nMy Approach:\r\n\r\n```\r\nint[] data = {1, 2, 3, 4, 5, 6, 7, 8, 9, 0};\r\nfor(int index = 0; index &lt; data.length;) {\r\n  if(data[index] % 2 == 0) {\r\n    data[index] = 99;\r\n  }\r\n  else index++;\r\n}\r\n```\r\nHowever, it seems to loop through all the numbers, even if condition is true.\r\n\r\nLike, take an example of the second number &#39;2&#39;.\r\n\r\nAs 2 is even, it shouldn&#39;t go to the else condition and incements the index, however it does!!!\r\n\r\nI&#39;m not really sure about why it&#39;s being doing this. Please guide.","title":"For Loop conditional increment","body":"<p>I just playing around and got doubt on this.</p>\n<p>We have an array, where we need to find and replace all the even numbers with 99.</p>\n<p>If found, the number isn't even, then increment the index and check the next number, until last index.</p>\n<p>My Approach:</p>\n<pre><code>int[] data = {1, 2, 3, 4, 5, 6, 7, 8, 9, 0};\nfor(int index = 0; index &lt; data.length;) {\n  if(data[index] % 2 == 0) {\n    data[index] = 99;\n  }\n  else index++;\n}\n</code></pre>\n<p>However, it seems to loop through all the numbers, even if condition is true.</p>\n<p>Like, take an example of the second number '2'.</p>\n<p>As 2 is even, it shouldn't go to the else condition and incements the index, however it does!!!</p>\n<p>I'm not really sure about why it's being doing this. Please guide.</p>\n"},{"tags":["java","testing","boolean"],"comments":[{"owner":{"account_id":14274305,"reputation":300,"user_id":10310943,"display_name":"Pabasara Mahindapala"},"score":2,"creation_date":1642054537,"post_id":70692165,"comment_id":124971172,"body_markdown":"You can change it with a public setter method","body":"You can change it with a public setter method"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1642054562,"post_id":70692165,"comment_id":124971176,"body_markdown":"Create a setter to change the field - kind of the point of encapsulation","body":"Create a setter to change the field - kind of the point of encapsulation"},{"owner":{"account_id":14638583,"reputation":387,"user_id":10571898,"display_name":"Rakshan Premsagar Kapikad"},"score":0,"creation_date":1642054735,"post_id":70692165,"comment_id":124971214,"body_markdown":"ok, so the values to the fields in A, comes from a remote server, and hence there is no setter. I am simulating a scenario where A is active initially and then goes inactive.","body":"ok, so the values to the fields in A, comes from a remote server, and hence there is no setter. I am simulating a scenario where A is active initially and then goes inactive."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1642056607,"post_id":70692165,"comment_id":124971616,"body_markdown":"Does that mean you don&#39;t want to/can&#39;t change the class to add a setter? Would the simulated situation involve 2 messages in a real scenario? If so, I&#39;d use 2 messages as that seems what would happen if there are any changes in the remote server.","body":"Does that mean you don&#39;t want to/can&#39;t change the class to add a setter? Would the simulated situation involve 2 messages in a real scenario? If so, I&#39;d use 2 messages as that seems what would happen if there are any changes in the remote server."},{"owner":{"account_id":14638583,"reputation":387,"user_id":10571898,"display_name":"Rakshan Premsagar Kapikad"},"score":0,"creation_date":1642057424,"post_id":70692165,"comment_id":124971804,"body_markdown":"i cannot add a setter, analogy would be something like an alarm, it is active first and then gets inactive.","body":"i cannot add a setter, analogy would be something like an alarm, it is active first and then gets inactive."}],"answers":[{"tags":[],"owner":{"account_id":14274305,"reputation":300,"user_id":10310943,"display_name":"Pabasara Mahindapala"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642054739,"creation_date":1642054739,"answer_id":70692217,"question_id":70692165,"body_markdown":"Create a public setter method\r\n\r\n```\r\npublic class A{\r\n  private String msg,\r\n  private String name,\r\n  private int number;\r\n  private boolean isActive;\r\n\r\n  public void setIsActive(boolean isActive) {\r\n    this. isActive = isActive;\r\n  }\r\n}\r\n```\r\n\r\nYou can call the setter from the test case since it&#39;s public.\r\n\r\n```\r\ncase.setIsActive(false);\r\n```","title":"changing values of a boolean field","body":"<p>Create a public setter method</p>\n<pre><code>public class A{\n  private String msg,\n  private String name,\n  private int number;\n  private boolean isActive;\n\n  public void setIsActive(boolean isActive) {\n    this. isActive = isActive;\n  }\n}\n</code></pre>\n<p>You can call the setter from the test case since it's public.</p>\n<pre><code>case.setIsActive(false);\n</code></pre>\n"}],"owner":{"account_id":14638583,"reputation":387,"user_id":10571898,"display_name":"Rakshan Premsagar Kapikad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642055787,"creation_date":1642054371,"question_id":70692165,"body_markdown":"I have a custom class as shown below: \r\n\r\n```\r\npublic class A{\r\n  private String msg,\r\n  private String name,\r\n  private int number;\r\n  private boolean isActive;\r\n}\r\n\r\n```\r\n\r\nI am writing a testcase where I can creating an instance of this class\r\n\r\n```\r\nA case = new A(&quot;This is an sample&quot;, &quot;Raks&quot;, 1, true);\r\n//some logic here...\r\n//\r\n//\r\n\r\n//-- Now i want to change the activity of case to false.\r\n//case.isActive ==false; // This does not work, but I want to achieve this.\r\n\r\n//I was not able to do it, and hence created another instance\r\nA case2 = new A(&quot;This is an sample&quot;, &quot;Raks&quot;, 1, false);\r\n```\r\n\r\n\r\nI wanted to know if the value of a field can be changed directly instead of creating a new instance.\r\n\r\n-------------------------------EDIT-------------------\r\n```\r\n@AllArgsConstructor\r\n@Getter\r\n@ToString\r\npublic class A{\r\n  private String msg,\r\n  private String name,\r\n  private int number;\r\n  private boolean isActive;\r\n}\r\n```","title":"changing values of a boolean field","body":"<p>I have a custom class as shown below:</p>\n<pre><code>public class A{\n  private String msg,\n  private String name,\n  private int number;\n  private boolean isActive;\n}\n\n</code></pre>\n<p>I am writing a testcase where I can creating an instance of this class</p>\n<pre><code>A case = new A(&quot;This is an sample&quot;, &quot;Raks&quot;, 1, true);\n//some logic here...\n//\n//\n\n//-- Now i want to change the activity of case to false.\n//case.isActive ==false; // This does not work, but I want to achieve this.\n\n//I was not able to do it, and hence created another instance\nA case2 = new A(&quot;This is an sample&quot;, &quot;Raks&quot;, 1, false);\n</code></pre>\n<p>I wanted to know if the value of a field can be changed directly instead of creating a new instance.</p>\n<p>-------------------------------EDIT-------------------</p>\n<pre><code>@AllArgsConstructor\n@Getter\n@ToString\npublic class A{\n  private String msg,\n  private String name,\n  private int number;\n  private boolean isActive;\n}\n</code></pre>\n"},{"tags":["java","android","javafx","gluon","graalvm"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1642066442,"post_id":70692341,"comment_id":124974798,"body_markdown":"Silly thing to check about the phone number (dashes, international prefix, ...), are you sure you are using the correct format? I&#39;d add the sent and delivery [PendingIntents](https://developer.android.com/reference/android/telephony/SmsManager#sendTextMessage(java.lang.String,%20java.lang.String,%20java.lang.String,%20android.app.PendingIntent,%20android.app.PendingIntent)) so you can trace down what is happening.","body":"Silly thing to check about the phone number (dashes, international prefix, ...), are you sure you are using the correct format? I&#39;d add the sent and delivery <a href=\"https://developer.android.com/reference/android/telephony/SmsManager#sendTextMessage(java.lang.String,%20java.lang.String,%20java.lang.String,%20android.app.PendingIntent,%20android.app.PendingIntent)\" rel=\"nofollow noreferrer\">PendingIntents</a> so you can trace down what is happening."},{"owner":{"account_id":22359198,"reputation":13,"user_id":16575954,"display_name":"Buddu Edgar"},"score":0,"creation_date":1642078918,"post_id":70692341,"comment_id":124979544,"body_markdown":"Thx Jos&#233; Pereda for the PendingIntents hint, I checked the application SMS Permission is not setting automatically, I had to manually allow the SMS permission. How would I activate it automatically (even when its in the manifest file) ???","body":"Thx Jos&#233; Pereda for the PendingIntents hint, I checked the application SMS Permission is not setting automatically, I had to manually allow the SMS permission. How would I activate it automatically (even when its in the manifest file) ???"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1642079920,"post_id":70692341,"comment_id":124979963,"body_markdown":"Like in [here](https://github.com/gluonhq/attach/blob/master/modules/position/src/main/native/android/dalvik/DalvikPositionService.java#L82)","body":"Like in <a href=\"https://github.com/gluonhq/attach/blob/master/modules/position/src/main/native/android/dalvik/DalvikPositionService.java#L82\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":22359198,"reputation":13,"user_id":16575954,"display_name":"Buddu Edgar"},"score":0,"creation_date":1642081702,"post_id":70692341,"comment_id":124980744,"body_markdown":"Yes Sir.. but I don&#39;t see Util class. is this an user defined class or in-built?","body":"Yes Sir.. but I don&#39;t see Util class. is this an user defined class or in-built?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1642085177,"post_id":70692341,"comment_id":124982417,"body_markdown":"If you are following https://github.com/gluonhq/AttachExtended, then you need to add [Util](https://github.com/gluonhq/AttachExtended/blob/master/modules/log/build.gradle#L2) from Gluon Attach as a dependency to your project. You should be able to use the dalvik [Util class](https://github.com/gluonhq/attach/blob/master/modules/util/src/main/native/android/dalvik/Util.java#L62)","body":"If you are following <a href=\"https://github.com/gluonhq/AttachExtended\" rel=\"nofollow noreferrer\">github.com/gluonhq/AttachExtended</a>, then you need to add <a href=\"https://github.com/gluonhq/AttachExtended/blob/master/modules/log/build.gradle#L2\" rel=\"nofollow noreferrer\">Util</a> from Gluon Attach as a dependency to your project. You should be able to use the dalvik <a href=\"https://github.com/gluonhq/attach/blob/master/modules/util/src/main/native/android/dalvik/Util.java#L62\" rel=\"nofollow noreferrer\">Util class</a>"}],"owner":{"account_id":22359198,"reputation":13,"user_id":16575954,"display_name":"Buddu Edgar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642055709,"creation_date":1642055709,"question_id":70692341,"body_markdown":"following the steps &lt;https://stackoverflow.com/questions/68731731/gluonfx-attach-service-between-graalvm-and-android&gt; , I was able to do the messaging defined under\r\n``` \r\n    public class AndroidSmsService implements SmsService { ...\r\n    \r\n    @Override\r\n    public void sendSms(Message message) {\r\n        if (message != null) {\r\n            _logger.log(Level.INFO, &quot;AndroidSmsService#sendSms phone: {0}, sms : {1} &quot;, new Object[]{message.getPhone(), message.getSms()});\r\n            String phone = message.getPhone();\r\n            String sms = message.getSms();\r\n            if (phone != null &amp;&amp; phone.length() &gt; 0 &amp;&amp; sms != null &amp;&amp; sms.length() &gt; 0) {\r\n                sendSms(phone, sms);\r\n            }\r\n        }\r\n    }\r\n    private native void sendSms(String phone, String sms);\r\n}\r\n``` \r\nthrough the JNI Interface, I am able to call ```sendSms(String phone,String message)``` defined under \r\n```\r\npublic class DalvikSmsService { ...\r\nprivate void sendSms(String phone, String message) {\r\n        try {\r\n            String formattedNumber = PhoneNumberUtils.formatNumber(phone);\r\n            Log.i(TAG, &quot;sendSMS phone : &quot; + formattedNumber + &quot;, sms : &quot; + message);\r\n            SmsManager smsManager = SmsManager.getDefault();\r\n            smsManager.sendTextMessage(formattedNumber, null, message, null, null);\r\n        } catch (Exception exc) {\r\n            exc.printStackTrace();\r\n            Log.i(TAG, &quot;sendSMS sending failed, please try again&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nmy AndroidManifest.xml file \r\n```\r\n    ...\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;\r\n    &lt;application&gt;\r\n        &lt;service android:name=&quot;com.gluonhq.helloandroid.DalvikSmsService&quot;\r\n                 android:permission=&quot;android.permission.SEND_SMS&quot;\r\n                 android:exported=&quot;true&quot;/&gt;\r\n        &lt;activity android:name=&quot;.PermissionRequestActivity&quot;/&gt;\r\n      ...\r\n```\r\nthe logs clearly show the method is called (with the phone number edited out)\r\n```\r\n01-13 08:45:56.760: D/GraalGluon(4546): ATTACH_DALVIK, tid = 4587, existed? 1, dalvikEnv at 0x799ff67ca470\r\n01-13 08:45:56.763: I/DalvikSmsService(4546): sendSMS phone : 256-701-XYZXYZ, sms : Hello JavaFx Message \r\n01-13 08:45:56.780: D/SmsNumberUtils(936): enter filterDestAddr. destAddr=&quot;[dH0eoa3ufMriilJ2cZIb3LD2V7g]&quot;\r\n01-13 08:45:56.782: D/SmsNumberUtils(936): destAddr is not formatted.\r\n01-13 08:45:56.782: D/SmsNumberUtils(936): leave filterDestAddr, new destAddr=&quot;[dH0eoa3ufMriilJ2cZIb3LD2V7g]&quot;\r\n01-13 08:45:56.798: D/GraalGluon(4546): DETACH_DALVIK, tid = 4587, existed = 1, env at 0x799ff67ca470\r\n```\r\nBUT this message is never delivered !!!!. what could I be doing wrongly???","title":"Gluon Attach Service. SMS Not Sent","body":"<p>following the steps <a href=\"https://stackoverflow.com/questions/68731731/gluonfx-attach-service-between-graalvm-and-android\">gluonfx attach service between graalvm and android</a> , I was able to do the messaging defined under</p>\n<pre><code>    public class AndroidSmsService implements SmsService { ...\n    \n    @Override\n    public void sendSms(Message message) {\n        if (message != null) {\n            _logger.log(Level.INFO, &quot;AndroidSmsService#sendSms phone: {0}, sms : {1} &quot;, new Object[]{message.getPhone(), message.getSms()});\n            String phone = message.getPhone();\n            String sms = message.getSms();\n            if (phone != null &amp;&amp; phone.length() &gt; 0 &amp;&amp; sms != null &amp;&amp; sms.length() &gt; 0) {\n                sendSms(phone, sms);\n            }\n        }\n    }\n    private native void sendSms(String phone, String sms);\n}\n</code></pre>\n<p>through the JNI Interface, I am able to call <code>sendSms(String phone,String message)</code> defined under</p>\n<pre><code>public class DalvikSmsService { ...\nprivate void sendSms(String phone, String message) {\n        try {\n            String formattedNumber = PhoneNumberUtils.formatNumber(phone);\n            Log.i(TAG, &quot;sendSMS phone : &quot; + formattedNumber + &quot;, sms : &quot; + message);\n            SmsManager smsManager = SmsManager.getDefault();\n            smsManager.sendTextMessage(formattedNumber, null, message, null, null);\n        } catch (Exception exc) {\n            exc.printStackTrace();\n            Log.i(TAG, &quot;sendSMS sending failed, please try again&quot;);\n        }\n    }\n}\n</code></pre>\n<p>my AndroidManifest.xml file</p>\n<pre><code>    ...\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;\n    &lt;application&gt;\n        &lt;service android:name=&quot;com.gluonhq.helloandroid.DalvikSmsService&quot;\n                 android:permission=&quot;android.permission.SEND_SMS&quot;\n                 android:exported=&quot;true&quot;/&gt;\n        &lt;activity android:name=&quot;.PermissionRequestActivity&quot;/&gt;\n      ...\n</code></pre>\n<p>the logs clearly show the method is called (with the phone number edited out)</p>\n<pre><code>01-13 08:45:56.760: D/GraalGluon(4546): ATTACH_DALVIK, tid = 4587, existed? 1, dalvikEnv at 0x799ff67ca470\n01-13 08:45:56.763: I/DalvikSmsService(4546): sendSMS phone : 256-701-XYZXYZ, sms : Hello JavaFx Message \n01-13 08:45:56.780: D/SmsNumberUtils(936): enter filterDestAddr. destAddr=&quot;[dH0eoa3ufMriilJ2cZIb3LD2V7g]&quot;\n01-13 08:45:56.782: D/SmsNumberUtils(936): destAddr is not formatted.\n01-13 08:45:56.782: D/SmsNumberUtils(936): leave filterDestAddr, new destAddr=&quot;[dH0eoa3ufMriilJ2cZIb3LD2V7g]&quot;\n01-13 08:45:56.798: D/GraalGluon(4546): DETACH_DALVIK, tid = 4587, existed = 1, env at 0x799ff67ca470\n</code></pre>\n<p>BUT this message is never delivered !!!!. what could I be doing wrongly???</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642053606,"creation_date":1642053606,"answer_id":70692081,"question_id":70692066,"body_markdown":"The compiler doesn&#39;t analyze your for loops to make sure that `h` is always assigned within them. Therefore it doesn&#39;t know if at the point where you attempt to print `h` (`System.out.println(h)`), it has already been assigned.\r\n\r\nThis can be easily avoided by giving `h` an initial value:\r\n\r\n    int h = 0;","title":"Why is this code is not working? It is giving me an error of &quot;variable h might not have been initialized&quot;","body":"<p>The compiler doesn't analyze your for loops to make sure that <code>h</code> is always assigned within them. Therefore it doesn't know if at the point where you attempt to print <code>h</code> (<code>System.out.println(h)</code>), it has already been assigned.</p>\n<p>This can be easily avoided by giving <code>h</code> an initial value:</p>\n<pre><code>int h = 0;\n</code></pre>\n"}],"owner":{"account_id":23926170,"reputation":29,"user_id":17921259,"display_name":"Yosef-S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1642055248,"answer_count":1,"score":2,"last_activity_date":1642055282,"creation_date":1642053486,"question_id":70692066,"body_markdown":"The following code doesn&#39;t pass compilation.\r\nIt is giving me this error:\r\n\r\n&gt;variable h might not have been initialized\r\n\r\n    public class MnmEx {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint h; \r\n    \t\tfor (int i = 0; i &lt; 50; i++) {\r\n    \t\t\tfor (int j = 0; j &lt; 50; j++) {\r\n    \t\t\t\tif (j == 10) {\r\n    \t\t\t\t\th = 20; \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(h); \r\n    \t}\r\n    }","title":"Why is this code is not working? It is giving me an error of &quot;variable h might not have been initialized&quot;","body":"<p>The following code doesn't pass compilation.\nIt is giving me this error:</p>\n<blockquote>\n<p>variable h might not have been initialized</p>\n</blockquote>\n<pre><code>public class MnmEx {\n\n    public static void main(String[] args) {\n        \n        int h; \n        for (int i = 0; i &lt; 50; i++) {\n            for (int j = 0; j &lt; 50; j++) {\n                if (j == 10) {\n                    h = 20; \n                }\n            }\n        }\n        System.out.println(h); \n    }\n}\n</code></pre>\n"},{"tags":["java","android","illegalstateexception"],"comments":[{"owner":{"account_id":1463014,"reputation":2337,"user_id":1759204,"accept_rate":92,"display_name":"ObAt"},"score":5,"creation_date":1354176352,"post_id":13614101,"comment_id":18679342,"body_markdown":"I don&#39;t know wich code I have to post because I don&#39;t know when my code chrashes","body":"I don&#39;t know wich code I have to post because I don&#39;t know when my code chrashes"}],"answers":[{"tags":[],"owner":{"account_id":133349,"reputation":614,"user_id":334649,"display_name":"jargetz"},"down_vote_count":2,"up_vote_count":27,"is_accepted":true,"score":25,"last_activity_date":1357526276,"creation_date":1357526276,"answer_id":14189135,"question_id":13614101,"body_markdown":"I was having this same crash and although it doesn&#39;t sound like the exact situation, perhaps this will still be helpful:\r\n\r\nI had two EditText boxes.  The bottom one was the Next Focus Down of the top one.  In some situations I would hide the bottom box, so when I hit next on the keyboard from the top box, it would try to go the bottom one, but would crash since it was hidden.  I fixed this by setting the bottom box (the target of another EditText&#39;s Next Down Focus) as not focusable:\r\n\r\n    \tEditText inputBox = (EditText)findViewById(R.id.Bottom_Box);\r\n        inputBox.setFocusable(false);\r\n\r\nI hope this helps.\r\n\r\n\r\n","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>I was having this same crash and although it doesn't sound like the exact situation, perhaps this will still be helpful:</p>\n\n<p>I had two EditText boxes.  The bottom one was the Next Focus Down of the top one.  In some situations I would hide the bottom box, so when I hit next on the keyboard from the top box, it would try to go the bottom one, but would crash since it was hidden.  I fixed this by setting the bottom box (the target of another EditText's Next Down Focus) as not focusable:</p>\n\n<pre><code>    EditText inputBox = (EditText)findViewById(R.id.Bottom_Box);\n    inputBox.setFocusable(false);\n</code></pre>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4580035,"reputation":3466,"user_id":3717333,"accept_rate":25,"display_name":"Hsiao-Ting"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1488452072,"creation_date":1438596765,"answer_id":31784738,"question_id":13614101,"body_markdown":"I have another solution, to trace TextView source codes and match the error log you provided\r\n\r\nTextView.java :\r\n\r\n    if (!hasOnClickListeners()) {\r\n        View v = focusSearch(FOCUS_DOWN);\r\n\r\n        if (v != null) {\r\n            if (!v.requestFocus(FOCUS_DOWN)) {\r\n                throw new IllegalStateException(\r\n                        &quot;focus search returned a view &quot; +\r\n                        &quot;that wasn&#39;t able to take focus!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAs a result, I think you could give View.OnClickListener to avoid the error happened.\r\n\r\nex: textView.setOnClickListener(new OnClickListener);","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>I have another solution, to trace TextView source codes and match the error log you provided</p>\n\n<p>TextView.java :</p>\n\n<pre><code>if (!hasOnClickListeners()) {\n    View v = focusSearch(FOCUS_DOWN);\n\n    if (v != null) {\n        if (!v.requestFocus(FOCUS_DOWN)) {\n            throw new IllegalStateException(\n                    \"focus search returned a view \" +\n                    \"that wasn't able to take focus!\");\n        }\n    }\n}\n</code></pre>\n\n<p>As a result, I think you could give View.OnClickListener to avoid the error happened.</p>\n\n<p>ex: textView.setOnClickListener(new OnClickListener);</p>\n"},{"tags":[],"owner":{"account_id":1944316,"reputation":3606,"user_id":1749806,"accept_rate":100,"display_name":"Goran Horia Mihail"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494934471,"creation_date":1494934471,"answer_id":44000362,"question_id":13614101,"body_markdown":"I had this problem and fixed it like this: \r\n\r\n    public void setEditable(boolean flag) {\r\n    \tmEditText.setFocusableInTouchMode(flag);\r\n    \tmEditText.setFocusable(flag);\r\n    \tmEditText.setClickable(flag);\r\n    }","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>I had this problem and fixed it like this: </p>\n\n<pre><code>public void setEditable(boolean flag) {\n    mEditText.setFocusableInTouchMode(flag);\n    mEditText.setFocusable(flag);\n    mEditText.setClickable(flag);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":315980,"reputation":10348,"user_id":631911,"display_name":"Tatarize"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1514375066,"creation_date":1514375066,"answer_id":47991577,"question_id":13614101,"body_markdown":"This error occurs when the ImeOptions is set to `EditorInfo.IME_ACTION_NEXT` or `EditorInfo.IME_ACTION_PREVIOUS`. While the parent of that view is not focusable, or the next found focus object is not focusable.\r\n\r\nIt calls to find the next focus item that should be quickly jumped to but this does not exist or isn&#39;t focusable, it throws this error. It will happen if the next is hidden and thus not focusable or the parent cannot actually deal with the findFocus() call and returns null.\r\n\r\nThe solution thusly is rather easy. Don&#39;t set it to IME_ACTION as next in this case. If you can&#39;t quickly jump from text field to text field then either make that doable or switch the action to being DONE.\r\n\r\n    edittext.setImeOptions(EditorInfo.IME_ACTION_DONE);\r\n\r\nNote the comment in the code before the offending bit:\r\n\r\n&gt; This is the handling for some default action. Note that for backwards\r\n&gt; compatibility we don&#39;t do this default handling if explicit ime\r\n&gt; options have not been given, instead turning this into the normal\r\n&gt; enter key codes that an app may be expecting.\r\n\r\nIt won&#39;t do this if you set the edittext type or if you give an explicit IME that isn&#39;t functionally wrong. Or have a parent object that is focusable on the next or anything else. It&#39;s only legacy code in a fallback bit that might sometimes not have the given action as possible.","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>This error occurs when the ImeOptions is set to <code>EditorInfo.IME_ACTION_NEXT</code> or <code>EditorInfo.IME_ACTION_PREVIOUS</code>. While the parent of that view is not focusable, or the next found focus object is not focusable.</p>\n\n<p>It calls to find the next focus item that should be quickly jumped to but this does not exist or isn't focusable, it throws this error. It will happen if the next is hidden and thus not focusable or the parent cannot actually deal with the findFocus() call and returns null.</p>\n\n<p>The solution thusly is rather easy. Don't set it to IME_ACTION as next in this case. If you can't quickly jump from text field to text field then either make that doable or switch the action to being DONE.</p>\n\n<pre><code>edittext.setImeOptions(EditorInfo.IME_ACTION_DONE);\n</code></pre>\n\n<p>Note the comment in the code before the offending bit:</p>\n\n<blockquote>\n  <p>This is the handling for some default action. Note that for backwards\n  compatibility we don't do this default handling if explicit ime\n  options have not been given, instead turning this into the normal\n  enter key codes that an app may be expecting.</p>\n</blockquote>\n\n<p>It won't do this if you set the edittext type or if you give an explicit IME that isn't functionally wrong. Or have a parent object that is focusable on the next or anything else. It's only legacy code in a fallback bit that might sometimes not have the given action as possible.</p>\n"},{"tags":[],"owner":{"account_id":3506332,"reputation":450,"user_id":2931808,"display_name":"Paramveer Singh"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1570621368,"creation_date":1521734691,"answer_id":49433332,"question_id":13614101,"body_markdown":"None of previous answers worked for me. I was having editText in recyclerview and the next editText couldn&#39;t receive focus when it was not in view.\r\n\r\nI checked for the cause of the problem and it was this in TextView class:\r\n\r\n        // This is the handling for some default action.\r\n            // Note that for backwards compatibility we don&#39;t do this\r\n            // default handling if explicit ime options have not been given,\r\n            // instead turning this into the normal enter key codes that an\r\n            // app may be expecting.\r\n            if (actionCode == EditorInfo.IME_ACTION_NEXT) {\r\n                View view = focusSearch(FOCUS_FORWARD);\r\n                if (view != null) {\r\n                    if (!view.requestFocus(FOCUS_FORWARD)) {\r\n                        throw new IllegalStateException(&quot;focus search returned a view &quot;\r\n                                + &quot;that wasn&#39;t able to take focus!&quot;);\r\n                    }\r\n                }\r\n                return;\r\n\r\n            } \r\n\r\nI update my EditText to listen for any editor actions and did this:\r\n\r\n     companyNameET.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView textView, int actionId, KeyEvent event) {\r\n                if (actionId == EditorInfo.IME_ACTION_NEXT) {\r\n                    View view = textView.focusSearch(FOCUS_FORWARD);\r\n                    if (view != null) {\r\n                        if (!view.requestFocus(FOCUS_FORWARD)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                   return false;\r\n                } \r\n                return false;\r\n            }\r\n        });\r\n\r\n","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>None of previous answers worked for me. I was having editText in recyclerview and the next editText couldn't receive focus when it was not in view.</p>\n\n<p>I checked for the cause of the problem and it was this in TextView class:</p>\n\n<pre><code>    // This is the handling for some default action.\n        // Note that for backwards compatibility we don't do this\n        // default handling if explicit ime options have not been given,\n        // instead turning this into the normal enter key codes that an\n        // app may be expecting.\n        if (actionCode == EditorInfo.IME_ACTION_NEXT) {\n            View view = focusSearch(FOCUS_FORWARD);\n            if (view != null) {\n                if (!view.requestFocus(FOCUS_FORWARD)) {\n                    throw new IllegalStateException(\"focus search returned a view \"\n                            + \"that wasn't able to take focus!\");\n                }\n            }\n            return;\n\n        } \n</code></pre>\n\n<p>I update my EditText to listen for any editor actions and did this:</p>\n\n<pre><code> companyNameET.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n        @Override\n        public boolean onEditorAction(TextView textView, int actionId, KeyEvent event) {\n            if (actionId == EditorInfo.IME_ACTION_NEXT) {\n                View view = textView.focusSearch(FOCUS_FORWARD);\n                if (view != null) {\n                    if (!view.requestFocus(FOCUS_FORWARD)) {\n                        return true;\n                    }\n                }\n               return false;\n            } \n            return false;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165872,"reputation":12769,"user_id":389649,"display_name":"Cristan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1552042383,"creation_date":1552042383,"answer_id":55061678,"question_id":13614101,"body_markdown":"A reason for this to happen is when your EditText has a disabled view specified as `nextFocusDown`.","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>A reason for this to happen is when your EditText has a disabled view specified as <code>nextFocusDown</code>.</p>\n"},{"tags":[],"owner":{"account_id":15970616,"reputation":191,"user_id":11524873,"display_name":"Aishwarya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642054974,"creation_date":1642054974,"answer_id":70692249,"question_id":13614101,"body_markdown":"Simply add the below property in your edittext.\r\n        **android:imeOptions=&quot;actionDone&quot;**\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/input_ftu_position_other&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;64dp&quot;\r\n        android:ems=&quot;20&quot;\r\n        android:inputType=&quot;text&quot; \r\n        android:imeOptions=&quot;actionDone&quot;\r\n    /&gt;","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>Simply add the below property in your edittext.\n<strong>android:imeOptions=&quot;actionDone&quot;</strong></p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/input_ftu_position_other&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginLeft=&quot;64dp&quot;\n    android:ems=&quot;20&quot;\n    android:inputType=&quot;text&quot; \n    android:imeOptions=&quot;actionDone&quot;\n/&gt;\n</code></pre>\n"}],"owner":{"account_id":1463014,"reputation":2337,"user_id":1759204,"accept_rate":92,"display_name":"ObAt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25365,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":14189135,"answer_count":7,"score":64,"last_activity_date":1642054974,"creation_date":1354135671,"question_id":13614101,"body_markdown":"My application keeps crashing when I type something in a EditText, but this does not happen always only in some cases. I am running my app on a Samsung Galaxy Tab 2 10.1 WiFI &amp; 3G (GT-P5100) with Android 4.0.4 (ICS). I use the stock Keyboard.\r\n\r\nThis is my logcat:\r\n\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): java.lang.IllegalStateException: focus search returned a view that wasn&#39;t able to take focus!\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.widget.TextView.onKeyUp(TextView.java:5833)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.KeyEvent.dispatch(KeyEvent.java:2659)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.View.dispatchKeyEvent(View.java:5547)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:2027)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1388)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.app.Activity.dispatchKeyEvent(Activity.java:2324)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1954)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewRootImpl.deliverKeyEventPostIme(ViewRootImpl.java:3360)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2618)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.os.Looper.loop(Looper.java:137)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat android.app.ActivityThread.main(ActivityThread.java:4514)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)\r\n    11-28 21:43:01.007: E/AndroidRuntime(15540): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\nThis is my one of my EditTexts:\r\n\r\n \r\n        &lt;EditText\r\n        android:id=&quot;@+id/input_ftu_position_other&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;64dp&quot;\r\n        android:ems=&quot;20&quot;\r\n        android:inputType=&quot;text&quot; /&gt;\r\n","title":"Fatal crash: Focus search returned a view that wasn&#39;t able to take focus","body":"<p>My application keeps crashing when I type something in a EditText, but this does not happen always only in some cases. I am running my app on a Samsung Galaxy Tab 2 10.1 WiFI &amp; 3G (GT-P5100) with Android 4.0.4 (ICS). I use the stock Keyboard.</p>\n\n<p>This is my logcat:</p>\n\n<pre><code>11-28 21:43:01.007: E/AndroidRuntime(15540): java.lang.IllegalStateException: focus search returned a view that wasn't able to take focus!\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.widget.TextView.onKeyUp(TextView.java:5833)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.KeyEvent.dispatch(KeyEvent.java:2659)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.View.dispatchKeyEvent(View.java:5547)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1246)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchKeyEvent(PhoneWindow.java:2027)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at com.android.internal.policy.impl.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1388)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.app.Activity.dispatchKeyEvent(Activity.java:2324)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:1954)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewRootImpl.deliverKeyEventPostIme(ViewRootImpl.java:3360)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2618)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.os.Handler.dispatchMessage(Handler.java:99)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.os.Looper.loop(Looper.java:137)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at android.app.ActivityThread.main(ActivityThread.java:4514)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at java.lang.reflect.Method.invoke(Method.java:511)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)\n11-28 21:43:01.007: E/AndroidRuntime(15540):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>This is my one of my EditTexts:</p>\n\n<pre><code>    &lt;EditText\n    android:id=\"@+id/input_ftu_position_other\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"64dp\"\n    android:ems=\"20\"\n    android:inputType=\"text\" /&gt;\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":20424274,"reputation":3,"user_id":14984628,"display_name":"HuaLong"},"score":0,"creation_date":1642051394,"post_id":70691801,"comment_id":124970607,"body_markdown":"String pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;;","body":"String pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;;"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1642051636,"post_id":70691801,"comment_id":124970641,"body_markdown":"Does this answer your question? [Current time in microseconds in java](https://stackoverflow.com/questions/1712205/current-time-in-microseconds-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1712205/current-time-in-microseconds-in-java\">Current time in microseconds in java</a>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1642054883,"post_id":70691801,"comment_id":124971240,"body_markdown":"What&#39;s the Java 9 way you mentioned? Can you show us what you mean (code)?","body":"What&#39;s the Java 9 way you mentioned? Can you show us what you mean (code)?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642053719,"creation_date":1642052232,"answer_id":70691907,"question_id":70691801,"body_markdown":"# tl;dr\r\n\r\nJava 9+ captures current moment in microseconds, while Java 8 captures in mere milliseconds. \r\n\r\n    ZonedDateTime\r\n    .now()  // Uses JVMs current default time zone.\r\n    .format(\r\n        DateTimeFormatter\r\n        .ofLocalizedDateTime( FormatStyle.FULL ) // Uses JVMs current default locale.\r\n    )\r\n\r\n\r\n# `ZonedDateTime.now`\r\n\r\nI cannot image a scenario where calling `LocalDateTime.now()` is the right thing to do. That class cannot represent a moment as it lacks the context of a time zone or offset. Use `ZonedDateTime`. \r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( ZoneId.systemDefault() ) ;\r\n\r\nIn Java 8, the moment was captured with a resolution of milliseconds. In Java 9+, microseconds. In all versions, the *java.time* types are capable of representing nanoseconds, but conventional computers lack the hardware clocks to accurately capture current moment in nanos.\r\n\r\n\r\nGenerate text representing that objects value in standard ISO 8601 format extended by appending the name of the time zone in square brackets.\r\n\r\n    String output = zdt.toString() ;\r\n\r\nGenerate localized text.\r\n\r\n    Locale locale = Locale.CANADA_FRENCH ;  // Or Locale.getDefault()\r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.LONG ).withLocale( locale ) ;\r\n    String output = zdt.format( f ) ;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get the current time of microsecond accuracy","body":"<h1>tl;dr</h1>\n<p>Java 9+ captures current moment in microseconds, while Java 8 captures in mere milliseconds.</p>\n<pre><code>ZonedDateTime\n.now()  // Uses JVMs current default time zone.\n.format(\n    DateTimeFormatter\n    .ofLocalizedDateTime( FormatStyle.FULL ) // Uses JVMs current default locale.\n)\n</code></pre>\n<h1><code>ZonedDateTime.now</code></h1>\n<p>I cannot image a scenario where calling <code>LocalDateTime.now()</code> is the right thing to do. That class cannot represent a moment as it lacks the context of a time zone or offset. Use <code>ZonedDateTime</code>.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( ZoneId.systemDefault() ) ;\n</code></pre>\n<p>In Java 8, the moment was captured with a resolution of milliseconds. In Java 9+, microseconds. In all versions, the <em>java.time</em> types are capable of representing nanoseconds, but conventional computers lack the hardware clocks to accurately capture current moment in nanos.</p>\n<p>Generate text representing that objects value in standard ISO 8601 format extended by appending the name of the time zone in square brackets.</p>\n<pre><code>String output = zdt.toString() ;\n</code></pre>\n<p>Generate localized text.</p>\n<pre><code>Locale locale = Locale.CANADA_FRENCH ;  // Or Locale.getDefault()\nDateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.LONG ).withLocale( locale ) ;\nString output = zdt.format( f ) ;\n</code></pre>\n"}],"owner":{"account_id":20424274,"reputation":3,"user_id":14984628,"display_name":"HuaLong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70691907,"answer_count":1,"score":0,"last_activity_date":1642054488,"creation_date":1642051304,"question_id":70691801,"body_markdown":"How to get the current time of microsecond accuracy in Java 8?\r\n\r\n```\r\nString pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;;\r\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern, Locale.getDefault())\r\n                                                       .withZone(ZoneId.systemDefault());\r\nSystem.out.println(LocalDateTime.now().format(dateTimeFormatter));\r\n```\r\nJava 9 or above can, how to do Java 8?","title":"How to get the current time of microsecond accuracy","body":"<p>How to get the current time of microsecond accuracy in Java 8?</p>\n<pre><code>String pattern = &quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;;\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern, Locale.getDefault())\n                                                       .withZone(ZoneId.systemDefault());\nSystem.out.println(LocalDateTime.now().format(dateTimeFormatter));\n</code></pre>\n<p>Java 9 or above can, how to do Java 8?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1549691748,"post_id":54603630,"comment_id":96003014,"body_markdown":"You don&#39;t. It is already asynchronous. Unclear what you&#39;re asking.","body":"You don&#39;t. It is already asynchronous. Unclear what you&#39;re asking."},{"owner":{"account_id":8421109,"reputation":1713,"user_id":6319901,"accept_rate":75,"display_name":"Dark Sorrow"},"score":0,"creation_date":1549691915,"post_id":54603630,"comment_id":96003035,"body_markdown":"When I run my program and attempt to connect to server, the failed method of connect CompletionHandler is executed giving a NetworkOnMainThreadException.","body":"When I run my program and attempt to connect to server, the failed method of connect CompletionHandler is executed giving a NetworkOnMainThreadException."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1549696631,"post_id":54603630,"comment_id":96003787,"body_markdown":"So don&#39;t run *any* networking code in this thread. Duplicate of https://stackoverflow.com/questions/5150637/networkonmainthreadexception","body":"So don&#39;t run <i>any</i> networking code in this thread. Duplicate of <a href=\"https://stackoverflow.com/questions/5150637/networkonmainthreadexception\" title=\"networkonmainthreadexception\">stackoverflow.com/questions/5150637/&hellip;</a>"},{"owner":{"account_id":8421109,"reputation":1713,"user_id":6319901,"accept_rate":75,"display_name":"Dark Sorrow"},"score":0,"creation_date":1549703057,"post_id":54603630,"comment_id":96005054,"body_markdown":"I was requesting guidance regarding the same, if I should open the AsynchronousSocketChannel in new thread or is their in any alternate method. All I can think of is to create a separate AsyncTask connect, write and read respectively.","body":"I was requesting guidance regarding the same, if I should open the AsynchronousSocketChannel in new thread or is their in any alternate method. All I can think of is to create a separate AsyncTask connect, write and read respectively."}],"answers":[{"tags":[],"owner":{"account_id":9290232,"reputation":81,"user_id":7115065,"display_name":"Doliman100"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642054223,"creation_date":1642054223,"answer_id":70692153,"question_id":54603630,"body_markdown":"AsynchronousSocketChannel uses SocketChannel in non-blocking mode, but Android doesn&#39;t check the blocking mode of a channel. Here is some explanation: https://stackoverflow.com/a/52458658/7115065  \r\nYou should update StrictMode to ignore this exception. I would do it the following way, similar to built-in `allowThreadDiskWrites()` method.\r\n```\r\nStrictMode.ThreadPolicy oldPolicy = StrictMode.getThreadPolicy();\r\nStrictMode.setThreadPolicy(new StrictMode.ThreadPolicy.Builder(oldPolicy).permitNetwork().build());\r\n\r\n// ... code\r\n\r\nStrictMode.setThreadPolicy(oldPolicy);\r\n```","title":"Run AsynchronousSocketChannel on different thread","body":"<p>AsynchronousSocketChannel uses SocketChannel in non-blocking mode, but Android doesn't check the blocking mode of a channel. Here is some explanation: <a href=\"https://stackoverflow.com/a/52458658/7115065\">https://stackoverflow.com/a/52458658/7115065</a><br />\nYou should update StrictMode to ignore this exception. I would do it the following way, similar to built-in <code>allowThreadDiskWrites()</code> method.</p>\n<pre><code>StrictMode.ThreadPolicy oldPolicy = StrictMode.getThreadPolicy();\nStrictMode.setThreadPolicy(new StrictMode.ThreadPolicy.Builder(oldPolicy).permitNetwork().build());\n\n// ... code\n\nStrictMode.setThreadPolicy(oldPolicy);\n</code></pre>\n"}],"owner":{"account_id":8421109,"reputation":1713,"user_id":6319901,"accept_rate":75,"display_name":"Dark Sorrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1642054223,"creation_date":1549691433,"question_id":54603630,"body_markdown":"I am trying to send data over TCP/IP in Android using `AsynchronousSocketChannel` but I am getting `android.os.NetworkOnMainThreadException.`\r\n\r\n\r\nWhen I run my program and attempt to connect to server, the failed method of connect CompletionHandler is executed giving a NetworkOnMainThreadException\r\n\r\nIn `Boost.Asio` we run `io_context` in separate thread. What we need to be done in `AsynchronousSocketChannel` to run it on separate thread?\r\n\r\nEthernet.java :\r\n\r\n    public class Ethernet {\r\n        private String                      ip;\r\n        private int                         port;\r\n        private Queue&lt;String&gt;               recvDataQueue, sendDataQueue;\r\n        private InetSocketAddress           address;\r\n        private String                      readData;\r\n        private InputStream                 in;\r\n        private OutputStream                out;\r\n        private AsynchronousSocketChannel   socket;\r\n        private boolean                     socketAlive, connectionInProgress;\r\n        private ByteBuffer                  readBuffer, sendBuffer;\r\n    \r\n        Ethernet(String ip, int port) {\r\n            if (port &gt; 65535 &amp;&amp; port &lt; 1024)\r\n                port = 6666;\r\n            this.ip = ip;\r\n            this.port = port;\r\n            this.socketAlive = false;\r\n            connectionInProgress = false;\r\n            address = new InetSocketAddress(ip, port);\r\n            this.readBuffer = ByteBuffer.allocate(8192);\r\n        }\r\n    \r\n        public boolean connect(){\r\n            try{\r\n                if(this.socketAlive)\r\n                    return false;\r\n                connectionInProgress = true;\r\n                this.socket = AsynchronousSocketChannel.open();\r\n                this.socket.connect(this.address, null,\r\n                    new CompletionHandler&lt;Void, Object&gt;() {\r\n                    @Override\r\n                    public void completed(Void result, Object attachment) {\r\n                        socketAlive = true;\r\n                        //connectionInProgress = false;\r\n                    }\r\n                    @Override\r\n                    public void failed(Throwable e, Object attachment) {\r\n                        socketAlive = false;\r\n                        //connectionInProgress = false;\r\n                    }\r\n                });\r\n                return true;\r\n            }\r\n            catch (Exception e){\r\n                String strErr = e.getMessage();\r\n                Log.e(&quot;Exception&quot;, strErr);\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public long sendData(String writeData){\r\n            try{\r\n                //this.sendBuffer = ByteBuffer.allocateDirect(writeData.length());\r\n                this.sendBuffer = ByteBuffer.wrap(writeData.getBytes(), 0, writeData.length());\r\n                //this.socket.write(writeBuffer, 0, writeData.length()), null,\r\n                this.socket.write(this.sendBuffer, null,\r\n                new CompletionHandler &lt;Integer, Object&gt;() {\r\n                    @Override\r\n                    public void completed(Integer result, Object attachment) {\r\n                        if (result &lt; 0) {\r\n                            // handle unexpected connection close\r\n                            socketAlive = false;\r\n                            //connectionInProgress = false;\r\n                        }\r\n                        else if(result &lt; sendBuffer.remaining()){\r\n                            // got all data, process the buffer\r\n                            sendBuffer.compact();\r\n                            socket.write(sendBuffer, null, this);    //Test\r\n                        }\r\n                        else{\r\n    \r\n                        }\r\n                    }\r\n                    @Override\r\n                    public void failed(Throwable e, Object attachment) {\r\n                        if(socket.isOpen()){\r\n                            try{\r\n                                socketAlive = false;\r\n                                socket.close();\r\n                            }\r\n                            catch (Exception ex){\r\n                                String strErr = e.getMessage();\r\n                                Log.e(&quot;Exception&quot;, strErr);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            catch (Exception e){\r\n                String strErr = e.getMessage();\r\n                Log.e(&quot;Exception&quot;, strErr);\r\n            }\r\n            return -1;\r\n        }\r\n    \r\n        private void recieveDataSocket() throws Exception {\r\n            this.socket.read(this.readBuffer, null, new CompletionHandler&lt;Integer, Object&gt;() {\r\n                @Override\r\n                public void completed(Integer result, Object attachment) {\r\n                    if (result &lt; 0) {\r\n                        socketAlive = false;\r\n                    }\r\n                    else {\r\n                        //recvQueue.add(readBuffer.toString());\r\n                    }\r\n                }\r\n                @Override\r\n                public void failed(Throwable e, Object attachment) {\r\n                    if(socketAlive &amp;&amp; socket.isOpen()) {\r\n                        try {\r\n                            socketAlive = false;\r\n                            //connectionInProgress = false;\r\n                            socket.close();\r\n                        }\r\n                        catch (final Exception ex){\r\n    \r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void disconnect(){\r\n            try {\r\n                if(this.socket.isOpen() &amp;&amp; this.socketAlive)\r\n                    this.socket.close();\r\n            }\r\n            catch (final Exception ex){\r\n                String strErr = ex.getMessage();\r\n                Log.e(&quot;Exception&quot;, strErr);\r\n            }\r\n        }\r\n    \r\n        }\r\n    }\r\n\r\nMainActivity.java\r\n\r\n    Ethernet eth = new Ethernet(&quot;192.168.1.22&quot;, 6666);\r\n    while(true) {\r\n        if(!eth.isSocketAlive() &amp;&amp; !eth.isConnectionInProgress())\r\n             eth.connect();\r\n        if(!eth.isSocketAlive())\r\n             continue;\r\n        eth.sendData(&quot;Hello, World!!!\\n&quot;);\r\n             eth.disconnect();\r\n    }","title":"Run AsynchronousSocketChannel on different thread","body":"<p>I am trying to send data over TCP/IP in Android using <code>AsynchronousSocketChannel</code> but I am getting <code>android.os.NetworkOnMainThreadException.</code></p>\n\n<p>When I run my program and attempt to connect to server, the failed method of connect CompletionHandler is executed giving a NetworkOnMainThreadException</p>\n\n<p>In <code>Boost.Asio</code> we run <code>io_context</code> in separate thread. What we need to be done in <code>AsynchronousSocketChannel</code> to run it on separate thread?</p>\n\n<p>Ethernet.java :</p>\n\n<pre><code>public class Ethernet {\n    private String                      ip;\n    private int                         port;\n    private Queue&lt;String&gt;               recvDataQueue, sendDataQueue;\n    private InetSocketAddress           address;\n    private String                      readData;\n    private InputStream                 in;\n    private OutputStream                out;\n    private AsynchronousSocketChannel   socket;\n    private boolean                     socketAlive, connectionInProgress;\n    private ByteBuffer                  readBuffer, sendBuffer;\n\n    Ethernet(String ip, int port) {\n        if (port &gt; 65535 &amp;&amp; port &lt; 1024)\n            port = 6666;\n        this.ip = ip;\n        this.port = port;\n        this.socketAlive = false;\n        connectionInProgress = false;\n        address = new InetSocketAddress(ip, port);\n        this.readBuffer = ByteBuffer.allocate(8192);\n    }\n\n    public boolean connect(){\n        try{\n            if(this.socketAlive)\n                return false;\n            connectionInProgress = true;\n            this.socket = AsynchronousSocketChannel.open();\n            this.socket.connect(this.address, null,\n                new CompletionHandler&lt;Void, Object&gt;() {\n                @Override\n                public void completed(Void result, Object attachment) {\n                    socketAlive = true;\n                    //connectionInProgress = false;\n                }\n                @Override\n                public void failed(Throwable e, Object attachment) {\n                    socketAlive = false;\n                    //connectionInProgress = false;\n                }\n            });\n            return true;\n        }\n        catch (Exception e){\n            String strErr = e.getMessage();\n            Log.e(\"Exception\", strErr);\n        }\n        return false;\n    }\n\n    public long sendData(String writeData){\n        try{\n            //this.sendBuffer = ByteBuffer.allocateDirect(writeData.length());\n            this.sendBuffer = ByteBuffer.wrap(writeData.getBytes(), 0, writeData.length());\n            //this.socket.write(writeBuffer, 0, writeData.length()), null,\n            this.socket.write(this.sendBuffer, null,\n            new CompletionHandler &lt;Integer, Object&gt;() {\n                @Override\n                public void completed(Integer result, Object attachment) {\n                    if (result &lt; 0) {\n                        // handle unexpected connection close\n                        socketAlive = false;\n                        //connectionInProgress = false;\n                    }\n                    else if(result &lt; sendBuffer.remaining()){\n                        // got all data, process the buffer\n                        sendBuffer.compact();\n                        socket.write(sendBuffer, null, this);    //Test\n                    }\n                    else{\n\n                    }\n                }\n                @Override\n                public void failed(Throwable e, Object attachment) {\n                    if(socket.isOpen()){\n                        try{\n                            socketAlive = false;\n                            socket.close();\n                        }\n                        catch (Exception ex){\n                            String strErr = e.getMessage();\n                            Log.e(\"Exception\", strErr);\n                        }\n                    }\n                }\n            });\n        }\n        catch (Exception e){\n            String strErr = e.getMessage();\n            Log.e(\"Exception\", strErr);\n        }\n        return -1;\n    }\n\n    private void recieveDataSocket() throws Exception {\n        this.socket.read(this.readBuffer, null, new CompletionHandler&lt;Integer, Object&gt;() {\n            @Override\n            public void completed(Integer result, Object attachment) {\n                if (result &lt; 0) {\n                    socketAlive = false;\n                }\n                else {\n                    //recvQueue.add(readBuffer.toString());\n                }\n            }\n            @Override\n            public void failed(Throwable e, Object attachment) {\n                if(socketAlive &amp;&amp; socket.isOpen()) {\n                    try {\n                        socketAlive = false;\n                        //connectionInProgress = false;\n                        socket.close();\n                    }\n                    catch (final Exception ex){\n\n                    }\n                }\n            }\n        });\n    }\n\n    public void disconnect(){\n        try {\n            if(this.socket.isOpen() &amp;&amp; this.socketAlive)\n                this.socket.close();\n        }\n        catch (final Exception ex){\n            String strErr = ex.getMessage();\n            Log.e(\"Exception\", strErr);\n        }\n    }\n\n    }\n}\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>Ethernet eth = new Ethernet(\"192.168.1.22\", 6666);\nwhile(true) {\n    if(!eth.isSocketAlive() &amp;&amp; !eth.isConnectionInProgress())\n         eth.connect();\n    if(!eth.isSocketAlive())\n         continue;\n    eth.sendData(\"Hello, World!!!\\n\");\n         eth.disconnect();\n}\n</code></pre>\n"},{"tags":["java","project-reactor","micronaut","micronaut-rest"],"answers":[{"tags":[],"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642054128,"creation_date":1642054128,"answer_id":70692143,"question_id":70673976,"body_markdown":"the `/a` endpoint indicates streaming because you&#39;re returning a non single publisher type. Streamed responses are handled differently and we switch to the mode of writing the response when the error is encountered. At this point it isn&#39;t feasible to go back to create another response because an OK response has already been sent down the Netty pipeline.\r\n\r\nSee https://github.com/micronaut-projects/micronaut-core/issues/5581","title":"Micronaut doesn&#39;t return default HTTP error representation for Flux return types","body":"<p>the <code>/a</code> endpoint indicates streaming because you're returning a non single publisher type. Streamed responses are handled differently and we switch to the mode of writing the response when the error is encountered. At this point it isn't feasible to go back to create another response because an OK response has already been sent down the Netty pipeline.</p>\n<p>See <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/5581\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/issues/5581</a></p>\n"}],"owner":{"account_id":2366124,"reputation":1815,"user_id":2071775,"display_name":"Sergey Prokofiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642054128,"creation_date":1641938507,"question_id":70673976,"body_markdown":"I have simple Micronaut controller with 2 similar `GET` methods which return different reactive types.\r\n\r\n```java\r\n@Controller\r\npublic class MyController {\r\n    \r\n    @Get(uri = &quot;/a&quot;, produces = MediaType.APPLICATION_JSON_STREAM)\r\n    public Flux&lt;MyPojo&gt; getA() {\r\n        return Flux.just(&quot;Hi&quot;)\r\n                .flatMap(s -&gt; Mono.error(new HttpStatusException(HttpStatus.BAD_REQUEST, s)))\r\n                .map(o -&gt; new MyPojo());\r\n    }\r\n\r\n    @Get(uri = &quot;/b&quot;, produces = MediaType.APPLICATION_JSON_STREAM)\r\n    public Mono&lt;MyPojo&gt; getB() {\r\n        return Mono.just(&quot;Hi&quot;)\r\n                .flatMap(s -&gt; Mono.error(new HttpStatusException(HttpStatus.BAD_REQUEST, s)))\r\n                .map(o -&gt; new MyPojo());\r\n    }\r\n                \r\n}\r\n```\r\n\r\nNow, if I invoke endpoint `/b` I&#39;ll get HTTP 400 with default error representation [`io.micronaut.http.hateoas.JsonError`][1] provided by [`io.micronaut.http.server.exceptions.HttpStatusHandler`][2] which is desired and perfect. \r\n\r\n```\r\n{\r\n  &quot;message&quot;: &quot;Bad Request&quot;,\r\n  &quot;_embedded&quot;: {\r\n    &quot;errors&quot;: [\r\n      {\r\n        &quot;message&quot;: &quot;Hi&quot;\r\n      }\r\n    ]\r\n  },\r\n  &quot;_links&quot;: {\r\n    &quot;self&quot;: {\r\n      &quot;href&quot;: &quot;/b&quot;,\r\n      &quot;templated&quot;: false\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHowever, if I&#39;ll invoke endpoint `/a` I&#39;ll get HTTP 500 error without any body. Log file reports following error:\r\n\r\n```\r\n2022-01-12 00:45:31.385 ERROR [default-nioEventLoopGroup-2-2] i.m.h.netty.stream.HttpStreamsHandler    : Error occurred writing stream response: Hi\r\nio.micronaut.http.exceptions.HttpStatusException: Hi\r\n\tat com.example.MyController.lambda$getA$6(MyController.java:199)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:386)\r\n\tat io.micronaut.reactive.reactor.instrument.ReactorSubscriber.onNext(ReactorSubscriber.java:57)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\r\n\tat io.micronaut.reactive.reactor.instrument.ReactorSubscriber.onSubscribe(ReactorSubscriber.java:50)\r\n\tat reactor.core.publisher.FluxJust.subscribe(FluxJust.java:68)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8468)\r\n\t...\r\n``` \r\nwhich seems correct...\r\n\r\nThe question is - how to get correct HTTP code (400) and default error representation (`JsonError`) in case of endpoint `/a`?\r\n\r\n  [1]: https://docs.micronaut.io/2.5.3/api/io/micronaut/http/hateoas/JsonError.html\r\n  [2]: https://docs.micronaut.io/latest/api/io/micronaut/http/server/exceptions/HttpStatusHandler.html","title":"Micronaut doesn&#39;t return default HTTP error representation for Flux return types","body":"<p>I have simple Micronaut controller with 2 similar <code>GET</code> methods which return different reactive types.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class MyController {\n    \n    @Get(uri = &quot;/a&quot;, produces = MediaType.APPLICATION_JSON_STREAM)\n    public Flux&lt;MyPojo&gt; getA() {\n        return Flux.just(&quot;Hi&quot;)\n                .flatMap(s -&gt; Mono.error(new HttpStatusException(HttpStatus.BAD_REQUEST, s)))\n                .map(o -&gt; new MyPojo());\n    }\n\n    @Get(uri = &quot;/b&quot;, produces = MediaType.APPLICATION_JSON_STREAM)\n    public Mono&lt;MyPojo&gt; getB() {\n        return Mono.just(&quot;Hi&quot;)\n                .flatMap(s -&gt; Mono.error(new HttpStatusException(HttpStatus.BAD_REQUEST, s)))\n                .map(o -&gt; new MyPojo());\n    }\n                \n}\n</code></pre>\n<p>Now, if I invoke endpoint <code>/b</code> I'll get HTTP 400 with default error representation <a href=\"https://docs.micronaut.io/2.5.3/api/io/micronaut/http/hateoas/JsonError.html\" rel=\"nofollow noreferrer\"><code>io.micronaut.http.hateoas.JsonError</code></a> provided by <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/server/exceptions/HttpStatusHandler.html\" rel=\"nofollow noreferrer\"><code>io.micronaut.http.server.exceptions.HttpStatusHandler</code></a> which is desired and perfect.</p>\n<pre><code>{\n  &quot;message&quot;: &quot;Bad Request&quot;,\n  &quot;_embedded&quot;: {\n    &quot;errors&quot;: [\n      {\n        &quot;message&quot;: &quot;Hi&quot;\n      }\n    ]\n  },\n  &quot;_links&quot;: {\n    &quot;self&quot;: {\n      &quot;href&quot;: &quot;/b&quot;,\n      &quot;templated&quot;: false\n    }\n  }\n}\n</code></pre>\n<p>However, if I'll invoke endpoint <code>/a</code> I'll get HTTP 500 error without any body. Log file reports following error:</p>\n<pre><code>2022-01-12 00:45:31.385 ERROR [default-nioEventLoopGroup-2-2] i.m.h.netty.stream.HttpStreamsHandler    : Error occurred writing stream response: Hi\nio.micronaut.http.exceptions.HttpStatusException: Hi\n    at com.example.MyController.lambda$getA$6(MyController.java:199)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:386)\n    at io.micronaut.reactive.reactor.instrument.ReactorSubscriber.onNext(ReactorSubscriber.java:57)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\n    at io.micronaut.reactive.reactor.instrument.ReactorSubscriber.onSubscribe(ReactorSubscriber.java:50)\n    at reactor.core.publisher.FluxJust.subscribe(FluxJust.java:68)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8468)\n    ...\n</code></pre>\n<p>which seems correct...</p>\n<p>The question is - how to get correct HTTP code (400) and default error representation (<code>JsonError</code>) in case of endpoint <code>/a</code>?</p>\n"},{"tags":["java","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642053787,"creation_date":1642053787,"answer_id":70692102,"question_id":70689078,"body_markdown":"You can chunk your `keys` into arrays&lt;sup&gt;[Note1]&lt;/sup&gt; of keys and call `mget`.\r\n\r\n```java\r\n    public List&lt;String&gt; get(final String[] keys) {\r\n        try (Jedis jedis = jedisPool.getResource()) {\r\n            List&lt;String&gt; values = jedis.mget(keys);\r\n            return values;\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Exception caught in mget&quot;, ex);\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nNote1: The arrays can be of size 100 or 1000 or any other size depending on your system and preference.","title":"Efficient way to get all the key value pair from redis cache using Jedis","body":"<p>You can chunk your <code>keys</code> into arrays<sup>[Note1]</sup> of keys and call <code>mget</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;String&gt; get(final String[] keys) {\n        try (Jedis jedis = jedisPool.getResource()) {\n            List&lt;String&gt; values = jedis.mget(keys);\n            return values;\n        } catch (Exception ex) {\n            log.error(&quot;Exception caught in mget&quot;, ex);\n        }\n        return null;\n    }\n</code></pre>\n<p>Note1: The arrays can be of size 100 or 1000 or any other size depending on your system and preference.</p>\n"}],"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70692102,"answer_count":1,"score":1,"last_activity_date":1642053787,"creation_date":1642025707,"question_id":70689078,"body_markdown":"I have a redis cache database that holds 80k records. I need to get this entire data( key and value) in my application. I am using Jedis Client and here is the code I have used:\r\n\r\n    private static JedisPool jedisPool;\r\n    public RedisClient(String ip, int port, int timeout, String password) {\r\n            try {\r\n                if (jedisPool == null) {\r\n                    JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n                    jedisPool = new JedisPool(poolConfig, ip, port, timeout, password);\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(&quot;Malformed server address&quot;, e);\r\n            }\r\n        }\r\n    \r\n     public String get(final String key) {\r\n            try (Jedis jedis = jedisPool.getResource()) {\r\n               String value = jedis.get(key);\r\n                return value;\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Exception caught in get&quot;, ex);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    \r\n     public void populateRedisMap(RedisClient redisClient) {\r\n            RedisIterator iterator = redisClient.iterator(Integer.parseInt(scanCount), matchPattern, scan);\r\n    \r\n            List&lt;String&gt; keys = iterator.next();\r\n            while (iterator.hasNext()) {\r\n                keys.addAll(iterator.next());\r\n            }\r\n    \r\n            log.info(&quot;Keys count:{}&quot;, keys.size());\r\n    \r\n            for (String key : keys) {\r\n                if(redisClient.get(key) instanceof String) {\r\n                    String value = redisClient.get(key);\r\n                    redisMap.put(key, value);\r\n                }\r\n                else{\r\n                    Object keyValue = redisClient.get(key);\r\n                    log.info(&quot;Value {0} of Type {1} found for key {2}&quot;, keyValue, keyValue.getClass(), key);\r\n                }\r\n            }\r\n    \r\n            log.info(&quot;Records count in Redis Map:{}&quot;, redisMap.size());\r\n        }\r\n\r\n\r\nThe above code works. I get 80k keys and it loops through each key to get the value and the hash map is populated with key and value. I haven&#39;t added the code for the Iterator here, I didn&#39;t think it is relevant to my question but I can added it if needed.\r\n\r\nMy issue here is the performance, it takes a long time (&gt;30 mins) for this hash map to be populated. The iterator part to get the list of keys takes few seconds, it is the for loop to get the values that take time. My question is, is there a more efficient way to get all the key value data from redis cache? I couldn&#39;t find any other command I could use in Redis documentation but wanted to check if I am missing something.\r\n","title":"Efficient way to get all the key value pair from redis cache using Jedis","body":"<p>I have a redis cache database that holds 80k records. I need to get this entire data( key and value) in my application. I am using Jedis Client and here is the code I have used:</p>\n<pre><code>private static JedisPool jedisPool;\npublic RedisClient(String ip, int port, int timeout, String password) {\n        try {\n            if (jedisPool == null) {\n                JedisPoolConfig poolConfig = new JedisPoolConfig();\n                jedisPool = new JedisPool(poolConfig, ip, port, timeout, password);\n            }\n        } catch (Exception e) {\n            log.error(&quot;Malformed server address&quot;, e);\n        }\n    }\n\n public String get(final String key) {\n        try (Jedis jedis = jedisPool.getResource()) {\n           String value = jedis.get(key);\n            return value;\n        } catch (Exception ex) {\n            log.error(&quot;Exception caught in get&quot;, ex);\n        }\n        return null;\n    }\n\n\n public void populateRedisMap(RedisClient redisClient) {\n        RedisIterator iterator = redisClient.iterator(Integer.parseInt(scanCount), matchPattern, scan);\n\n        List&lt;String&gt; keys = iterator.next();\n        while (iterator.hasNext()) {\n            keys.addAll(iterator.next());\n        }\n\n        log.info(&quot;Keys count:{}&quot;, keys.size());\n\n        for (String key : keys) {\n            if(redisClient.get(key) instanceof String) {\n                String value = redisClient.get(key);\n                redisMap.put(key, value);\n            }\n            else{\n                Object keyValue = redisClient.get(key);\n                log.info(&quot;Value {0} of Type {1} found for key {2}&quot;, keyValue, keyValue.getClass(), key);\n            }\n        }\n\n        log.info(&quot;Records count in Redis Map:{}&quot;, redisMap.size());\n    }\n</code></pre>\n<p>The above code works. I get 80k keys and it loops through each key to get the value and the hash map is populated with key and value. I haven't added the code for the Iterator here, I didn't think it is relevant to my question but I can added it if needed.</p>\n<p>My issue here is the performance, it takes a long time (&gt;30 mins) for this hash map to be populated. The iterator part to get the list of keys takes few seconds, it is the for loop to get the values that take time. My question is, is there a more efficient way to get all the key value data from redis cache? I couldn't find any other command I could use in Redis documentation but wanted to check if I am missing something.</p>\n"},{"tags":["java","intellij-idea","dll"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1642052181,"post_id":70691883,"comment_id":124970737,"body_markdown":"The dll file is not in the library path.","body":"The dll file is not in the library path."},{"owner":{"account_id":17345821,"reputation":610,"user_id":12565460,"display_name":"Aravind"},"score":0,"creation_date":1642052240,"post_id":70691883,"comment_id":124970750,"body_markdown":"How to add that??","body":"How to add that??"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1642052311,"post_id":70691883,"comment_id":124970761,"body_markdown":"Take a Look at https://zauner.nllk.net/post/0013-jni-and-the-java-library-path/","body":"Take a Look at <a href=\"https://zauner.nllk.net/post/0013-jni-and-the-java-library-path/\" rel=\"nofollow noreferrer\">zauner.nllk.net/post/0013-jni-and-the-java-library-path</a>"},{"owner":{"account_id":17345821,"reputation":610,"user_id":12565460,"display_name":"Aravind"},"score":0,"creation_date":1642053325,"post_id":70691883,"comment_id":124970925,"body_markdown":"After adding to library path it&#39;s showing java.lang.UnsatisfiedLinkError: C:\\Users\\HP\\Desktop\\prac-amsi\\src\\com\\company\\AMSI.dll: The specified procedure could not be found @Jens","body":"After adding to library path it&#39;s showing java.lang.UnsatisfiedLinkError: C:\\Users\\HP\\Desktop\\prac-amsi\\src\\com\\company\\AMSI.dll: The specified procedure could not be found @Jens"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1642054120,"post_id":70691883,"comment_id":124971089,"body_markdown":"Maybe this helps: https://stackoverflow.com/a/180587/3636601","body":"Maybe this helps: <a href=\"https://stackoverflow.com/a/180587/3636601\">stackoverflow.com/a/180587/3636601</a>"}],"owner":{"account_id":17345821,"reputation":610,"user_id":12565460,"display_name":"Aravind"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642053543,"creation_date":1642052038,"question_id":70691883,"body_markdown":"I&#39;m trying to load a custom made DLL library using java. It takes Input as string and returns output as Integer. I&#39;m using Intellij as IDE.\r\n\r\nMy code is:\r\n```\r\npackage com.company;\r\n\r\npublic class Main {\r\n\r\n    private native Integer IsMalware(String filePath);\r\n    public static void main(String[] args) {\r\n        System.out.println(new Main().IsMalware(&quot;D:\\\\git.txt&quot;));\r\n    }\r\n    static {\r\n        System.loadLibrary(&quot;AMSI&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nFile Structure: &lt;br/&gt;\r\n[![enter image description here][1]][1]\r\n\r\nOutput/Error: &lt;br/&gt;\r\n[![enter image description here][2]][2]\r\n\r\nThe java version i use is: &lt;br/&gt;\r\n[![enter image description here][3]][3]\r\n\r\n[EDIT]\r\nAfter adding the DLL to library path It shows another error\r\n&lt;br/&gt;\r\n[![enter image description here][4]][4]\r\n\r\nCan someone help me with this??. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gWkiD.png\r\n  [2]: https://i.stack.imgur.com/prrTN.png\r\n  [3]: https://i.stack.imgur.com/5HrXB.png\r\n  [4]: https://i.stack.imgur.com/Iltni.png","title":"Unsatisfied Link error (loading DLL using Java)","body":"<p>I'm trying to load a custom made DLL library using java. It takes Input as string and returns output as Integer. I'm using Intellij as IDE.</p>\n<p>My code is:</p>\n<pre><code>package com.company;\n\npublic class Main {\n\n    private native Integer IsMalware(String filePath);\n    public static void main(String[] args) {\n        System.out.println(new Main().IsMalware(&quot;D:\\\\git.txt&quot;));\n    }\n    static {\n        System.loadLibrary(&quot;AMSI&quot;);\n    }\n}\n\n</code></pre>\n<p>File Structure: <br/>\n<a href=\"https://i.stack.imgur.com/gWkiD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWkiD.png\" alt=\"enter image description here\" /></a></p>\n<p>Output/Error: <br/>\n<a href=\"https://i.stack.imgur.com/prrTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prrTN.png\" alt=\"enter image description here\" /></a></p>\n<p>The java version i use is: <br/>\n<a href=\"https://i.stack.imgur.com/5HrXB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HrXB.png\" alt=\"enter image description here\" /></a></p>\n<p>[EDIT]\nAfter adding the DLL to library path It shows another error\n<br/>\n<a href=\"https://i.stack.imgur.com/Iltni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iltni.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone help me with this??. Thanks in advance.</p>\n"},{"tags":["java","spring-boot","kubernetes","hazelcast","distributed-caching"],"comments":[{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1641389043,"post_id":70593320,"comment_id":124791398,"body_markdown":"It looks as if you have nodes with different Hazelcast versions in your cluster. What&#39;s your architecture?","body":"It looks as if you have nodes with different Hazelcast versions in your cluster. What&#39;s your architecture?"},{"owner":{"account_id":19054028,"reputation":3,"user_id":13911611,"display_name":"Prateek Goel"},"score":0,"creation_date":1641448458,"post_id":70593320,"comment_id":124808574,"body_markdown":"@Nicolas I have a single deployment in kubernetes. The code base for all the pods is same . The dependencies in pom related to hazelcast are shared above . Can u help me debug the problem ?","body":"@Nicolas I have a single deployment in kubernetes. The code base for all the pods is same . The dependencies in pom related to hazelcast are shared above . Can u help me debug the problem ?"},{"owner":{"account_id":19054028,"reputation":3,"user_id":13911611,"display_name":"Prateek Goel"},"score":0,"creation_date":1641448913,"post_id":70593320,"comment_id":124808656,"body_markdown":"I have not added quorum size anywhere in the config . What is the default quorum size ? How do I update the quorum size in my current implementation ?","body":"I have not added quorum size anywhere in the config . What is the default quorum size ? How do I update the quorum size in my current implementation ?"},{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1641498550,"post_id":70593320,"comment_id":124826074,"body_markdown":"Please update your initial question with the exact Kubernetes manifest. Also, do you have the hazelcast-kubernetes-plugin in your dependencies list? https://github.com/hazelcast/hazelcast-kubernetes","body":"Please update your initial question with the exact Kubernetes manifest. Also, do you have the hazelcast-kubernetes-plugin in your dependencies list? <a href=\"https://github.com/hazelcast/hazelcast-kubernetes\" rel=\"nofollow noreferrer\">github.com/hazelcast/hazelcast-kubernetes</a>"},{"owner":{"account_id":19054028,"reputation":3,"user_id":13911611,"display_name":"Prateek Goel"},"score":0,"creation_date":1641534518,"post_id":70593320,"comment_id":124833830,"body_markdown":"@Nicolas updated the initial question. As per the link provided by you DEPRECATED: hazelcast-kubernetes plugin has been merged with hazelcast!\nSince version 5.0 hazelcast includes hazelcast-kubernetes and does not require additional dependency. I have hazelcast 5.0 dependency","body":"@Nicolas updated the initial question. As per the link provided by you DEPRECATED: hazelcast-kubernetes plugin has been merged with hazelcast! Since version 5.0 hazelcast includes hazelcast-kubernetes and does not require additional dependency. I have hazelcast 5.0 dependency"},{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1641622162,"post_id":70593320,"comment_id":124857587,"body_markdown":"Oops, you&#39;re correct. Now I see you&#39;ve added your build YAML files, but not the Kubernetes manifests, which are relevant.","body":"Oops, you&#39;re correct. Now I see you&#39;ve added your build YAML files, but not the Kubernetes manifests, which are relevant."},{"owner":{"account_id":19054028,"reputation":3,"user_id":13911611,"display_name":"Prateek Goel"},"score":0,"creation_date":1641994031,"post_id":70593320,"comment_id":124953376,"body_markdown":"@Nicolas Added deployment resource. Is this what you are expecting ?","body":"@Nicolas Added deployment resource. Is this what you are expecting ?"},{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1642003008,"post_id":70593320,"comment_id":124957860,"body_markdown":"Yes, it is. Now, what version of hazelcast-spring are you using in your XML snippet are you using?","body":"Yes, it is. Now, what version of hazelcast-spring are you using in your XML snippet are you using?"},{"owner":{"account_id":19054028,"reputation":3,"user_id":13911611,"display_name":"Prateek Goel"},"score":0,"creation_date":1642053482,"post_id":70593320,"comment_id":124970955,"body_markdown":"@Nicolas I have removed the hazelcast-spring dependency from my pom.xml as it was not required . I have updated the XML in the question above .\n\nFYI: I have tried running the cluster on my local system and hazelcast is running fine with this config and creating a cluster successfully. I think the issue is that I am not able to expose my pods IP&#39;s to each other while deploying to kubernetes . Maybe I have to follow this document https://hazelcast.com/blog/how-to-set-up-your-own-on-premises-hazelcast-on-kubernetes/","body":"@Nicolas I have removed the hazelcast-spring dependency from my pom.xml as it was not required . I have updated the XML in the question above .  FYI: I have tried running the cluster on my local system and hazelcast is running fine with this config and creating a cluster successfully. I think the issue is that I am not able to expose my pods IP&#39;s to each other while deploying to kubernetes . Maybe I have to follow this document <a href=\"https://hazelcast.com/blog/how-to-set-up-your-own-on-premises-hazelcast-on-kubernetes/\" rel=\"nofollow noreferrer\">hazelcast.com/blog/&hellip;</a>"},{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1642065171,"post_id":70593320,"comment_id":124974313,"body_markdown":"I think this is the most up-to-date guide: https://guides.hazelcast.org/kubernetes-embedded/","body":"I think this is the most up-to-date guide: <a href=\"https://guides.hazelcast.org/kubernetes-embedded/\" rel=\"nofollow noreferrer\">guides.hazelcast.org/kubernetes-embedded</a>"}],"owner":{"account_id":19054028,"reputation":3,"user_id":13911611,"display_name":"Prateek Goel"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642053543,"creation_date":1641387758,"question_id":70593320,"body_markdown":"I have set up Bucket4j in my Spring Boot service using the reference [document][1] .\r\nMy App is working fine with single pod deployment . But if I want to scale my application and achieve rate limiting for the complete cluster , I am not able to do so. \r\nKubernetes Pod is showing error \r\n```2022-01-05 05:53:29.967  INFO 1 --- [.IO.thread-in-0] c.h.i.server.tcp.TcpServerConnection     : [11.16.108.90]:5701 [dev] [5.0.2] Connection[id=11, /11.16.108.90:48539-&gt;/11.16.92.92:8080, qualifier=null, endpoint=[11.16.92.92]:8080, alive=false, connectionType=NONE, planeIndex=-1] closed. Reason: Connection closed by the other side\r\n2022-01-05 05:53:29.967  WARN 1 --- [.IO.thread-in-0] .h.i.s.t.TcpServerConnectionErrorHandler : [11.16.108.90]:5701 [dev] [5.0.2] Removing connection to endpoint [11.16.92.92]:8080 Cause =&gt; java.io.EOFException {Remote socket closed!}, Error-Count: 7\r\n2022-01-05 05:53:32.659  INFO 1 --- [nio-8080-exec-3] c.walmart.orchestrator.HeartBeatHandler  : Heartbeat OK\r\n2022-01-05 05:53:35.662  INFO 1 --- [.IO.thread-in-1] c.h.i.server.tcp.TcpServerConnection     : [11.16.108.90]:5701 [dev] [5.0.2] Connection[id=12, /11.16.108.90:54289-&gt;/11.16.108.90:8080, qualifier=null, endpoint=[11.16.108.90]:8080, alive=false, connectionType=NONE, planeIndex=-1] closed. Reason: Connection closed by the other side\r\n2022-01-05 05:53:35.663  WARN 1 --- [.IO.thread-in-1] .h.i.s.t.TcpServerConnectionErrorHandler : [11.16.108.90]:5701 [dev] [5.0.2] Removing connection to endpoint [11.16.108.90]:8080 Cause =&gt; java.io.EOFException {Remote socket closed!}, Error-Count: 5\r\n```\r\n\r\n**References**\r\n\r\npom.xml\r\n```\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.vladimir-bukhtoyarov&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bucket4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.vladimir-bukhtoyarov&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bucket4j-hazelcast-4&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\nConfig.java\r\n```\r\nimport com.hazelcast.config.Config;\r\n\r\n@Bean\r\npublic Config getConfig() {\r\n        Config config = new Config();\r\n        config.setInstanceName(Constants.HAZELCAST_INSTANCE_NAME);\r\n        return config;\r\n    }\r\n```\r\n\r\nBucket Initialisation\r\n```\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.map.IMap;\r\nimport io.github.bucket4j.Bandwidth;\r\nimport io.github.bucket4j.Bucket;\r\nimport io.github.bucket4j.Bucket4j;\r\nimport io.github.bucket4j.ConsumptionProbe;\r\nimport io.github.bucket4j.Refill;\r\nimport io.github.bucket4j.grid.GridBucketState;\r\nimport io.github.bucket4j.grid.RecoveryStrategy;\r\nimport io.github.bucket4j.grid.hazelcast.Hazelcast;\r\n\r\n\r\n Bandwidth limit = Bandwidth.classic(bucketSize, Refill.greedy(bucketSize, Duration.ofMinutes(durationInMin)));\r\n        IMap&lt;String, GridBucketState&gt; map = hzInstance.getMap(Constants.HAZELCAST_INSTANCE_NAME);\r\n        this.bucket = Bucket4j.extension(Hazelcast.class).builder().addLimit(limit)\r\n                .build(map, HANDLER_KEY, RecoveryStrategy.RECONSTRUCT);\r\n```\r\n\r\nI want to deploy my service on kubernetes with multiple Pods . Can somebody help me here.\r\n\r\n**EDIT**\r\n\r\nAdding .yml file for reference. I have not added anything related to hazelcast here.\r\n\r\nkitt.yml\r\n```\r\nsetup:\r\n  ignoreGitEvents: false\r\n  releaseRefs: [&quot;master&quot;,&quot;dev&quot;]\r\n  featureFlagMap:\r\n    useFullLooperContent: true     \r\n    buildWhenStageRefMatches: true\r\n\r\n\r\nowner:\r\n  group: my-namespace\r\n  roles:\r\n    namespaceUsers:\r\n      - my-namespace\r\n\r\nalerts:\r\n  slackChannel:\r\n    - my-channel\r\n\r\nnotify:\r\n  slack:\r\n    channelName: my-channel\r\n\r\nprofiles:\r\n  - springboot-web\r\n  - default-dev\r\n\r\nbuild:\r\n  skip: false\r\n  artifact: orchestrator\r\n  looper:\r\n    looperFile: looper.yml\r\n    enableDockerNoCache: true\r\n    enableDockerClean: true\r\n  docker:\r\n    app:\r\n      dockerFile: Dockerfile\r\n      buildArgs:\r\n        artifactPath: ./target\r\n        artifactName: orchestrator\r\n        mvnGoals: &quot;clean install -DskipTests&quot;\r\n\r\n\r\ndeploy:\r\n  skip: false\r\n  gslb:\r\n    lbRoutings:\r\n      dev:\r\n          cname: url-1\r\n      stage:\r\n          cname: url-2\r\n  namespace: my-namespace\r\n  releaseType:\r\n    strategy: normal\r\n    rollbackOnError: false\r\n    waitForReady: true\r\n    deployTimeout: 800\r\n  helm:\r\n    values:\r\n      min:\r\n        cpu: 1\r\n        memory: 2G\r\n      max:\r\n        cpu: 4\r\n        memory: 6G\r\n      livenessProbe:\r\n        enabled: &quot;true&quot;\r\n        wait: 120\r\n        path: &quot;/api/live&quot;\r\n      readinessProbe:\r\n        enabled: &quot;true&quot;\r\n        wait: 120\r\n        path: &quot;/api/heartbeat&quot;\r\n      networking:\r\n        pathPrefix: /\r\n        externalPort: &quot;8080&quot;\r\n        internalPort: &quot;8080&quot;\r\n\r\n  stages:\r\n    - name: dev\r\n      target:\r\n        - cluster_id: [********]\r\n      refEventFilters:\r\n        - refs: [&quot;dev&quot;]\r\n          events: [onPush]\r\n      helm:\r\n        values:\r\n          scaling:\r\n            enabled: false\r\n            cpuPercent: 80\r\n            max: 1\r\n            min: 1\r\n          env:\r\n            JAVA_TOOL_OPTIONS: &gt;-\r\n              -Druntime.context.system.property.override.enabled=true\r\n              -Druntime.context.cloud=stg-cdc2\r\n              -Druntime.context.environmentType=stg\r\n              -Druntime.context.appName=frcst-app\r\n\r\n```\r\n\r\nlooper.yml\r\n```\r\ninherit: job:///strati/kitt/kitt-build-assets:looper/base.yml\r\n\r\ntools:\r\n  jdk: 1.8\r\n  maven: 3.6.0\r\n\r\ncache:\r\n  - name: kitt-maven-cache\r\n    configs:\r\n      - type: maven\r\n\r\nenvs:\r\n  global:\r\n    variables:\r\n      rootDir: .\r\n\r\nscheduling: concurrent\r\n\r\n\r\nflows:\r\n  default:\r\n    - echo &quot;Running stateless-k8s maven build... but no flow was specified.  Choose one or more of runsonar, buildMvn, buildDocker.&quot;\r\n\r\n  build:\r\n    try:\r\n      - exposeVars(concEffectivePipeline.yml)\r\n      - var(artifact=${concEffectivePipeline.build.artifact})\r\n      - var(version=${concEffectivePipeline.build.version})\r\n      - var(slackChannelName=${concEffectivePipeline.notify.slack.channelName})\r\n      - call: switchGitBranch(commitEvent=${concEffectivePipeline.build.commitEvent})\r\n      - withcache(&#39;kitt-maven-cache&#39;):\r\n          - call: buildMvnFinal(pipeline=${concEffectivePipeline})\r\n      - call: buildDocker(pipeline=${concEffectivePipeline})\r\n    finally:\r\n      - hygieia.publishBuild()\r\n\r\n  runsonar:\r\n    - sonar(&quot;Sonar&quot;):\r\n        - shell(name sonar): mvn -e -V -B -fae $SONAR_MAVEN_GOAL\r\n        - hygieia.publishSonar()\r\n\r\n  buildMvnSetup:\r\n    - echo &quot;Performing maven build steps..&quot;\r\n    - echo &quot;testing pwd&quot;\r\n    - var(mavenFlow):\r\n        - echo ${pipeline.build.commitEvent.flow}\r\n    - var(snapshotSuffix):\r\n        - if: |\r\n            %{mavenFlow!=&quot;main&quot;}\r\n          then:\r\n            - echo &quot;-SNAPSHOT&quot;\r\n          else:\r\n            - echo &quot;&quot;\r\n    - var(mavenOverrideVersionSet):\r\n        - if: ${pipeline.setup.featureFlagMap.mavenOverrideVersionSet}\r\n          then:\r\n            - echo &quot;${pipeline.setup.featureFlagMap.mavenOverrideVersionSet}&quot;\r\n          else:\r\n            - echo &quot;false&quot;\r\n\r\n    - var(mavenGoals):\r\n        - if: ${pipeline.build.docker.app.buildArgs.mvnGoals}\r\n          then:\r\n            - echo ${pipeline.build.docker.app.buildArgs.mvnGoals}\r\n          else:\r\n            - echo &quot;clean install&quot;\r\n    - if: |\r\n        %{mavenOverrideVersionSet==&quot;false&quot;}\r\n      then:\r\n        - shell(name Setting release version to ${version}${snapshotSuffix}): mvn versions:set -DnewVersion=${version}${snapshotSuffix}\r\n  buildMvnFinal:\r\n    - dir($rootDir):\r\n        - call: buildMvnSetup(pipeline=${concEffectivePipeline})\r\n        - shell(name Maven build): mvn -B ${pipeline.build.docker.app.buildArgs.mvnGoals}\r\n```\r\n\r\ndockerFile\r\n```\r\nFROM docker.prod.walmart.com/strati/zulu:11-jdk-alpine\r\n\r\nRUN mkdir -p /opt/app\r\nCOPY target/*.jar /opt/app/app.jar\r\n\r\nEXPOSE 8080\r\n\r\n#Non Root User Configuration\r\nRUN addgroup -S -g 10001 appGrp \\\r\n    &amp;&amp; adduser -S -D -u 10000 -s /sbin/nologin -h /opt/app/ -G appGrp app\\\r\n    &amp;&amp; chown -R 10000:10001 /opt/app\r\n\r\nUSER 10000\r\n\r\nWORKDIR /opt/app\r\nENTRYPOINT [&quot;java&quot; , &quot;-jar&quot;,  &quot;/opt/app/app.jar&quot;]\r\n```\r\n\r\n**Pod Deployment Json**\r\n```\r\nkind: Deployment\r\napiVersion: apps/v1\r\nmetadata:\r\n  name: orchestrator\r\n  namespace: aex-aims-orchestrator\r\n  selfLink: /apis/apps/v1/namespaces/aex-aims-orchestrator/deployments/orchestrator\r\n  uid: 9c53ec70-47dc-4692-b400-28bf2dac32a8\r\n  resourceVersion: &#39;199583614&#39;\r\n  generation: 55\r\n  creationTimestamp: &#39;2022-01-03T09:35:07Z&#39;\r\n  labels:\r\n    app: orchestrator\r\n    app.kubernetes.io/managed-by: kitt\r\n    app.kubernetes.io/name: orchestrator\r\n    app.kubernetes.io/version: 0.0.68\r\n    chart: wce-webapp-basic-0.2.120\r\n    forceApply: L6EYZ\r\n    kitt.wcnp.io/notify-slack: aex-aims-orchestrator\r\n    mls-cluster: wcnp\r\n    mls-index: wcnp_aex-aims-orchestrator\r\n    strati.tlsmode: DISABLE\r\n    version: v1\r\n  annotations:\r\n    app.kubernetes.io/scm-url: &#39;https://gecgithub01.walmart.com/LabsSmartForecasting/sparrow&#39;\r\n    deployment.kubernetes.io/revision: &#39;19&#39;\r\n    kitt.wcnp.io/notify-slack-ts: slack-1641993317.001300\r\n    sidecar.istio.io/statsInclusionPrefixes: &#39;http.{pod_ip}_&#39;\r\n    sidecar.istio.io/statsInclusionSuffixes: &gt;-\r\n      upstream_rq_1xx,upstream_rq_2xx,upstream_rq_3xx,upstream_rq_4xx,upstream_rq_5xx,upstream_rq_time,upstream_cx_tx_bytes_total,upstream_cx_rx_bytes_total,upstream_cx_total,upstream_cx_active,downstream_rq_time,downstream_cx_http1_active,downstream_cx_http2_active\r\n    traffic.sidecar.istio.io/excludeOutboundPorts: &#39;15020,8200&#39;\r\n  managedFields:\r\n    - manager: Go-http-client\r\n      operation: Update\r\n      apiVersion: apps/v1\r\n      time: &#39;2022-01-03T09:35:07Z&#39;\r\n      fieldsType: FieldsV1\r\n      fieldsV1:\r\n        &#39;f:metadata&#39;:\r\n          &#39;f:annotations&#39;:\r\n            .: {}\r\n            &#39;f:app.kubernetes.io/scm-url&#39;: {}\r\n            &#39;f:kitt.wcnp.io/notify-slack-ts&#39;: {}\r\n            &#39;f:sidecar.istio.io/statsInclusionPrefixes&#39;: {}\r\n            &#39;f:sidecar.istio.io/statsInclusionSuffixes&#39;: {}\r\n            &#39;f:traffic.sidecar.istio.io/excludeOutboundPorts&#39;: {}\r\n          &#39;f:labels&#39;:\r\n            .: {}\r\n            &#39;f:app&#39;: {}\r\n            &#39;f:app.kubernetes.io/managed-by&#39;: {}\r\n            &#39;f:app.kubernetes.io/name&#39;: {}\r\n            &#39;f:app.kubernetes.io/version&#39;: {}\r\n            &#39;f:chart&#39;: {}\r\n            &#39;f:forceApply&#39;: {}\r\n            &#39;f:kitt.wcnp.io/notify-slack&#39;: {}\r\n            &#39;f:mls-cluster&#39;: {}\r\n            &#39;f:mls-index&#39;: {}\r\n            &#39;f:strati.tlsmode&#39;: {}\r\n            &#39;f:version&#39;: {}\r\n        &#39;f:spec&#39;:\r\n          &#39;f:progressDeadlineSeconds&#39;: {}\r\n          &#39;f:replicas&#39;: {}\r\n          &#39;f:revisionHistoryLimit&#39;: {}\r\n          &#39;f:selector&#39;:\r\n            &#39;f:matchLabels&#39;:\r\n              .: {}\r\n              &#39;f:app&#39;: {}\r\n              &#39;f:version&#39;: {}\r\n          &#39;f:strategy&#39;:\r\n            &#39;f:rollingUpdate&#39;:\r\n              .: {}\r\n              &#39;f:maxSurge&#39;: {}\r\n              &#39;f:maxUnavailable&#39;: {}\r\n            &#39;f:type&#39;: {}\r\n          &#39;f:template&#39;:\r\n            &#39;f:metadata&#39;:\r\n              &#39;f:annotations&#39;:\r\n                .: {}\r\n                &#39;f:app.kubernetes.io/scm-url&#39;: {}\r\n                &#39;f:kitt.wcnp.io/notify-slack-ts&#39;: {}\r\n                &#39;f:sidecar.istio.io/statsInclusionPrefixes&#39;: {}\r\n                &#39;f:sidecar.istio.io/statsInclusionSuffixes&#39;: {}\r\n                &#39;f:traffic.sidecar.istio.io/excludeOutboundPorts&#39;: {}\r\n              &#39;f:labels&#39;:\r\n                .: {}\r\n                &#39;f:app&#39;: {}\r\n                &#39;f:app.kubernetes.io/managed-by&#39;: {}\r\n                &#39;f:app.kubernetes.io/name&#39;: {}\r\n                &#39;f:app.kubernetes.io/version&#39;: {}\r\n                &#39;f:forceApply&#39;: {}\r\n                &#39;f:kitt.wcnp.io/notify-slack&#39;: {}\r\n                &#39;f:mls-cluster&#39;: {}\r\n                &#39;f:mls-index&#39;: {}\r\n                &#39;f:strati.tlsmode&#39;: {}\r\n                &#39;f:version&#39;: {}\r\n            &#39;f:spec&#39;:\r\n              &#39;f:containers&#39;:\r\n                &#39;k:{&quot;name&quot;:&quot;orchestrator&quot;}&#39;:\r\n                  .: {}\r\n                  &#39;f:env&#39;:\r\n                    .: {}\r\n                    &#39;k:{&quot;name&quot;:&quot;JAVA_TOOL_OPTIONS&quot;}&#39;:\r\n                      .: {}\r\n                      &#39;f:name&#39;: {}\r\n                      &#39;f:value&#39;: {}\r\n                    &#39;k:{&quot;name&quot;:&quot;LOG4J_FORMAT_MSG_NO_LOOKUPS&quot;}&#39;:\r\n                      .: {}\r\n                      &#39;f:name&#39;: {}\r\n                      &#39;f:value&#39;: {}\r\n                  &#39;f:image&#39;: {}\r\n                  &#39;f:imagePullPolicy&#39;: {}\r\n                  &#39;f:name&#39;: {}\r\n                  &#39;f:ports&#39;:\r\n                    .: {}\r\n                    &#39;k:{&quot;containerPort&quot;:8080,&quot;protocol&quot;:&quot;TCP&quot;}&#39;:\r\n                      .: {}\r\n                      &#39;f:containerPort&#39;: {}\r\n                      &#39;f:name&#39;: {}\r\n                      &#39;f:protocol&#39;: {}\r\n                  &#39;f:realdinessProbe&#39;:\r\n                    .: {}\r\n                    &#39;f:failureThreshold&#39;: {}\r\n                    &#39;f:httpGet&#39;:\r\n                      .: {}\r\n                      &#39;f:httpHeaders&#39;: {}\r\n                      &#39;f:path&#39;: {}\r\n                      &#39;f:port&#39;: {}\r\n                      &#39;f:scheme&#39;: {}\r\n                    &#39;f:initialDelaySeconds&#39;: {}\r\n                    &#39;f:periodSeconds&#39;: {}\r\n                    &#39;f:successThreshold&#39;: {}\r\n                    &#39;f:timeoutSeconds&#39;: {}\r\n                  &#39;f:resources&#39;:\r\n                    .: {}\r\n                    &#39;f:limits&#39;:\r\n                      .: {}\r\n                      &#39;f:cpu&#39;: {}\r\n                      &#39;f:ephemeral-storage&#39;: {}\r\n                      &#39;f:memory&#39;: {}\r\n                    &#39;f:requests&#39;:\r\n                      .: {}\r\n                      &#39;f:cpu&#39;: {}\r\n                      &#39;f:ephemeral-storage&#39;: {}\r\n                      &#39;f:memory&#39;: {}\r\n                  &#39;f:securityContext&#39;:\r\n                    .: {}\r\n                    &#39;f:allowPrivilegeEscalation&#39;: {}\r\n                  &#39;f:terminationMessagePath&#39;: {}\r\n                  &#39;f:terminationMessagePolicy&#39;: {}\r\n              &#39;f:dnsPolicy&#39;: {}\r\n              &#39;f:restartPolicy&#39;: {}\r\n              &#39;f:schedulerName&#39;: {}\r\n              &#39;f:securityContext&#39;:\r\n                .: {}\r\n                &#39;f:runAsNonRoot&#39;: {}\r\n              &#39;f:terminationGracePeriodSeconds&#39;: {}\r\n              &#39;f:topologySpreadConstraints&#39;:\r\n                .: {}\r\n                &#39;k:{&quot;topologyKey&quot;:&quot;failure-domain.beta.kubernetes.io/zone&quot;,&quot;whenUnsatisfiable&quot;:&quot;ScheduleAnyway&quot;}&#39;:\r\n                  .: {}\r\n                  &#39;f:labelSelector&#39;:\r\n                    .: {}\r\n                    &#39;f:matchLabels&#39;:\r\n                      .: {}\r\n                      &#39;f:app&#39;: {}\r\n                  &#39;f:maxSkew&#39;: {}\r\n                  &#39;f:topologyKey&#39;: {}\r\n                  &#39;f:whenUnsatisfiable&#39;: {}\r\n    - manager: kube-controller-manager\r\n      operation: Update\r\n      apiVersion: apps/v1\r\n      time: &#39;2022-01-12T13:23:38Z&#39;\r\n      fieldsType: FieldsV1\r\n      fieldsV1:\r\n        &#39;f:metadata&#39;:\r\n          &#39;f:annotations&#39;:\r\n            &#39;f:deployment.kubernetes.io/revision&#39;: {}\r\n        &#39;f:status&#39;:\r\n          &#39;f:availableReplicas&#39;: {}\r\n          &#39;f:conditions&#39;:\r\n            .: {}\r\n            &#39;k:{&quot;type&quot;:&quot;Available&quot;}&#39;:\r\n              .: {}\r\n              &#39;f:lastTransitionTime&#39;: {}\r\n              &#39;f:lastUpdateTime&#39;: {}\r\n              &#39;f:message&#39;: {}\r\n              &#39;f:reason&#39;: {}\r\n              &#39;f:status&#39;: {}\r\n              &#39;f:type&#39;: {}\r\n            &#39;k:{&quot;type&quot;:&quot;Progressing&quot;}&#39;:\r\n              .: {}\r\n              &#39;f:lastTransitionTime&#39;: {}\r\n              &#39;f:lastUpdateTime&#39;: {}\r\n              &#39;f:message&#39;: {}\r\n              &#39;f:reason&#39;: {}\r\n              &#39;f:status&#39;: {}\r\n              &#39;f:type&#39;: {}\r\n          &#39;f:observedGeneration&#39;: {}\r\n          &#39;f:readyReplicas&#39;: {}\r\n          &#39;f:replicas&#39;: {}\r\n          &#39;f:updatedReplicas&#39;: {}\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: orchestrator\r\n      version: v1\r\n  template:\r\n    metadata:\r\n      creationTimestamp: null\r\n      labels:\r\n        app: orchestrator\r\n        app.kubernetes.io/managed-by: kitt\r\n        app.kubernetes.io/name: orchestrator\r\n        app.kubernetes.io/version: 0.0.68\r\n        forceApply: CE3pW\r\n        kitt.wcnp.io/notify-slack: aex-aims-orchestrator\r\n        mls-cluster: wcnp\r\n        mls-index: wcnp_aex-aims-orchestrator\r\n        strati.tlsmode: DISABLE\r\n        version: v1\r\n      annotations:\r\n        app.kubernetes.io/scm-url: &#39;https://gecgithub01.walmart.com/LabsSmartForecasting/sparrow&#39;\r\n        kitt.wcnp.io/notify-slack-ts: slack-1641993317.001300\r\n        sidecar.istio.io/statsInclusionPrefixes: &#39;http.{pod_ip}_&#39;\r\n        sidecar.istio.io/statsInclusionSuffixes: &gt;-\r\n          upstream_rq_1xx,upstream_rq_2xx,upstream_rq_3xx,upstream_rq_4xx,upstream_rq_5xx,upstream_rq_time,upstream_cx_tx_bytes_total,upstream_cx_rx_bytes_total,upstream_cx_total,upstream_cx_active,downstream_rq_time,downstream_cx_http1_active,downstream_cx_http2_active\r\n        traffic.sidecar.istio.io/excludeOutboundPorts: &#39;15020,8200&#39;\r\n    spec:\r\n      containers:\r\n        - name: orchestrator\r\n          image: &#39;docker.prod.walmart.com/labssmartforecasting/sparrow:0.0.68&#39;\r\n          ports:\r\n            - name: http\r\n              containerPort: 8080\r\n              protocol: TCP\r\n          env:\r\n            - name: JAVA_TOOL_OPTIONS\r\n              value: &gt;-\r\n                -Druntime.context.system.property.override.enabled=true\r\n                -Druntime.context.cloud=stg-cdc2\r\n                -Druntime.context.environmentType=stg\r\n                -Druntime.context.appName=frcst-app\r\n            - name: LOG4J_FORMAT_MSG_NO_LOOKUPS\r\n              value: &#39;true&#39;\r\n          resources:\r\n            limits:\r\n              cpu: &#39;4&#39;\r\n              ephemeral-storage: 1500M\r\n              memory: 6G\r\n            requests:\r\n              cpu: &#39;1&#39;\r\n              ephemeral-storage: 1G\r\n              memory: 2G\r\n          terminationMessagePath: /dev/termination-log\r\n          terminationMessagePolicy: File\r\n          imagePullPolicy: IfNotPresent\r\n          securityContext:\r\n            allowPrivilegeEscalation: false\r\n      restartPolicy: Always\r\n      terminationGracePeriodSeconds: 30\r\n      dnsPolicy: ClusterFirst\r\n      securityContext:\r\n        runAsNonRoot: true\r\n      schedulerName: default-scheduler\r\n      topologySpreadConstraints:\r\n        - maxSkew: 1\r\n          topologyKey: failure-domain.beta.kubernetes.io/zone\r\n          whenUnsatisfiable: ScheduleAnyway\r\n          labelSelector:\r\n            matchLabels:\r\n              app: orchestrator\r\n  strategy:\r\n    type: RollingUpdate\r\n    rollingUpdate:\r\n      maxUnavailable: 25%\r\n      maxSurge: 25%\r\n  revisionHistoryLimit: 3\r\n  progressDeadlineSeconds: 600\r\nstatus:\r\n  observedGeneration: 55\r\n  replicas: 2\r\n  updatedReplicas: 2\r\n  readyReplicas: 2\r\n  availableReplicas: 2\r\n  conditions:\r\n    - type: Progressing\r\n      status: &#39;True&#39;\r\n      lastUpdateTime: &#39;2022-01-12T13:16:10Z&#39;\r\n      lastTransitionTime: &#39;2022-01-06T05:09:38Z&#39;\r\n      reason: NewReplicaSetAvailable\r\n      message: ReplicaSet &quot;orchestrator-6c7c69cd9b&quot; has successfully progressed.\r\n    - type: Available\r\n      status: &#39;True&#39;\r\n      lastUpdateTime: &#39;2022-01-12T13:23:38Z&#39;\r\n      lastTransitionTime: &#39;2022-01-12T13:23:38Z&#39;\r\n      reason: MinimumReplicasAvailable\r\n      message: Deployment has minimum availability.\r\n```\r\n\r\n  [1]: https://golb.hplar.ch/2019/08/rate-limit-bucket4j.html#rate-limit-in-a-cluster","title":"Spring Boot Bucket4j and Hazelcast not working with multiple Pods in Kubernetes","body":"<p>I have set up Bucket4j in my Spring Boot service using the reference <a href=\"https://golb.hplar.ch/2019/08/rate-limit-bucket4j.html#rate-limit-in-a-cluster\" rel=\"nofollow noreferrer\">document</a> .\nMy App is working fine with single pod deployment . But if I want to scale my application and achieve rate limiting for the complete cluster , I am not able to do so.\nKubernetes Pod is showing error</p>\n<pre><code>2022-01-05 05:53:29.967  WARN 1 --- [.IO.thread-in-0] .h.i.s.t.TcpServerConnectionErrorHandler : [11.16.108.90]:5701 [dev] [5.0.2] Removing connection to endpoint [11.16.92.92]:8080 Cause =&gt; java.io.EOFException {Remote socket closed!}, Error-Count: 7\n2022-01-05 05:53:32.659  INFO 1 --- [nio-8080-exec-3] c.walmart.orchestrator.HeartBeatHandler  : Heartbeat OK\n2022-01-05 05:53:35.662  INFO 1 --- [.IO.thread-in-1] c.h.i.server.tcp.TcpServerConnection     : [11.16.108.90]:5701 [dev] [5.0.2] Connection[id=12, /11.16.108.90:54289-&gt;/11.16.108.90:8080, qualifier=null, endpoint=[11.16.108.90]:8080, alive=false, connectionType=NONE, planeIndex=-1] closed. Reason: Connection closed by the other side\n2022-01-05 05:53:35.663  WARN 1 --- [.IO.thread-in-1] .h.i.s.t.TcpServerConnectionErrorHandler : [11.16.108.90]:5701 [dev] [5.0.2] Removing connection to endpoint [11.16.108.90]:8080 Cause =&gt; java.io.EOFException {Remote socket closed!}, Error-Count: 5\n</code></pre>\n<p><strong>References</strong></p>\n<p>pom.xml</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;com.github.vladimir-bukhtoyarov&lt;/groupId&gt;\n            &lt;artifactId&gt;bucket4j-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.vladimir-bukhtoyarov&lt;/groupId&gt;\n            &lt;artifactId&gt;bucket4j-hazelcast-4&lt;/artifactId&gt;\n            &lt;version&gt;4.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n            &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n            &lt;version&gt;5.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Config.java</p>\n<pre><code>import com.hazelcast.config.Config;\n\n@Bean\npublic Config getConfig() {\n        Config config = new Config();\n        config.setInstanceName(Constants.HAZELCAST_INSTANCE_NAME);\n        return config;\n    }\n</code></pre>\n<p>Bucket Initialisation</p>\n<pre><code>import com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.map.IMap;\nimport io.github.bucket4j.Bandwidth;\nimport io.github.bucket4j.Bucket;\nimport io.github.bucket4j.Bucket4j;\nimport io.github.bucket4j.ConsumptionProbe;\nimport io.github.bucket4j.Refill;\nimport io.github.bucket4j.grid.GridBucketState;\nimport io.github.bucket4j.grid.RecoveryStrategy;\nimport io.github.bucket4j.grid.hazelcast.Hazelcast;\n\n\n Bandwidth limit = Bandwidth.classic(bucketSize, Refill.greedy(bucketSize, Duration.ofMinutes(durationInMin)));\n        IMap&lt;String, GridBucketState&gt; map = hzInstance.getMap(Constants.HAZELCAST_INSTANCE_NAME);\n        this.bucket = Bucket4j.extension(Hazelcast.class).builder().addLimit(limit)\n                .build(map, HANDLER_KEY, RecoveryStrategy.RECONSTRUCT);\n</code></pre>\n<p>I want to deploy my service on kubernetes with multiple Pods . Can somebody help me here.</p>\n<p><strong>EDIT</strong></p>\n<p>Adding .yml file for reference. I have not added anything related to hazelcast here.</p>\n<p>kitt.yml</p>\n<pre><code>setup:\n  ignoreGitEvents: false\n  releaseRefs: [&quot;master&quot;,&quot;dev&quot;]\n  featureFlagMap:\n    useFullLooperContent: true     \n    buildWhenStageRefMatches: true\n\n\nowner:\n  group: my-namespace\n  roles:\n    namespaceUsers:\n      - my-namespace\n\nalerts:\n  slackChannel:\n    - my-channel\n\nnotify:\n  slack:\n    channelName: my-channel\n\nprofiles:\n  - springboot-web\n  - default-dev\n\nbuild:\n  skip: false\n  artifact: orchestrator\n  looper:\n    looperFile: looper.yml\n    enableDockerNoCache: true\n    enableDockerClean: true\n  docker:\n    app:\n      dockerFile: Dockerfile\n      buildArgs:\n        artifactPath: ./target\n        artifactName: orchestrator\n        mvnGoals: &quot;clean install -DskipTests&quot;\n\n\ndeploy:\n  skip: false\n  gslb:\n    lbRoutings:\n      dev:\n          cname: url-1\n      stage:\n          cname: url-2\n  namespace: my-namespace\n  releaseType:\n    strategy: normal\n    rollbackOnError: false\n    waitForReady: true\n    deployTimeout: 800\n  helm:\n    values:\n      min:\n        cpu: 1\n        memory: 2G\n      max:\n        cpu: 4\n        memory: 6G\n      livenessProbe:\n        enabled: &quot;true&quot;\n        wait: 120\n        path: &quot;/api/live&quot;\n      readinessProbe:\n        enabled: &quot;true&quot;\n        wait: 120\n        path: &quot;/api/heartbeat&quot;\n      networking:\n        pathPrefix: /\n        externalPort: &quot;8080&quot;\n        internalPort: &quot;8080&quot;\n\n  stages:\n    - name: dev\n      target:\n        - cluster_id: [********]\n      refEventFilters:\n        - refs: [&quot;dev&quot;]\n          events: [onPush]\n      helm:\n        values:\n          scaling:\n            enabled: false\n            cpuPercent: 80\n            max: 1\n            min: 1\n          env:\n            JAVA_TOOL_OPTIONS: &gt;-\n              -Druntime.context.system.property.override.enabled=true\n              -Druntime.context.cloud=stg-cdc2\n              -Druntime.context.environmentType=stg\n              -Druntime.context.appName=frcst-app\n\n</code></pre>\n<p>looper.yml</p>\n<pre><code>inherit: job:///strati/kitt/kitt-build-assets:looper/base.yml\n\ntools:\n  jdk: 1.8\n  maven: 3.6.0\n\ncache:\n  - name: kitt-maven-cache\n    configs:\n      - type: maven\n\nenvs:\n  global:\n    variables:\n      rootDir: .\n\nscheduling: concurrent\n\n\nflows:\n  default:\n    - echo &quot;Running stateless-k8s maven build... but no flow was specified.  Choose one or more of runsonar, buildMvn, buildDocker.&quot;\n\n  build:\n    try:\n      - exposeVars(concEffectivePipeline.yml)\n      - var(artifact=${concEffectivePipeline.build.artifact})\n      - var(version=${concEffectivePipeline.build.version})\n      - var(slackChannelName=${concEffectivePipeline.notify.slack.channelName})\n      - call: switchGitBranch(commitEvent=${concEffectivePipeline.build.commitEvent})\n      - withcache('kitt-maven-cache'):\n          - call: buildMvnFinal(pipeline=${concEffectivePipeline})\n      - call: buildDocker(pipeline=${concEffectivePipeline})\n    finally:\n      - hygieia.publishBuild()\n\n  runsonar:\n    - sonar(&quot;Sonar&quot;):\n        - shell(name sonar): mvn -e -V -B -fae $SONAR_MAVEN_GOAL\n        - hygieia.publishSonar()\n\n  buildMvnSetup:\n    - echo &quot;Performing maven build steps..&quot;\n    - echo &quot;testing pwd&quot;\n    - var(mavenFlow):\n        - echo ${pipeline.build.commitEvent.flow}\n    - var(snapshotSuffix):\n        - if: |\n            %{mavenFlow!=&quot;main&quot;}\n          then:\n            - echo &quot;-SNAPSHOT&quot;\n          else:\n            - echo &quot;&quot;\n    - var(mavenOverrideVersionSet):\n        - if: ${pipeline.setup.featureFlagMap.mavenOverrideVersionSet}\n          then:\n            - echo &quot;${pipeline.setup.featureFlagMap.mavenOverrideVersionSet}&quot;\n          else:\n            - echo &quot;false&quot;\n\n    - var(mavenGoals):\n        - if: ${pipeline.build.docker.app.buildArgs.mvnGoals}\n          then:\n            - echo ${pipeline.build.docker.app.buildArgs.mvnGoals}\n          else:\n            - echo &quot;clean install&quot;\n    - if: |\n        %{mavenOverrideVersionSet==&quot;false&quot;}\n      then:\n        - shell(name Setting release version to ${version}${snapshotSuffix}): mvn versions:set -DnewVersion=${version}${snapshotSuffix}\n  buildMvnFinal:\n    - dir($rootDir):\n        - call: buildMvnSetup(pipeline=${concEffectivePipeline})\n        - shell(name Maven build): mvn -B ${pipeline.build.docker.app.buildArgs.mvnGoals}\n</code></pre>\n<p>dockerFile</p>\n<pre><code>FROM docker.prod.walmart.com/strati/zulu:11-jdk-alpine\n\nRUN mkdir -p /opt/app\nCOPY target/*.jar /opt/app/app.jar\n\nEXPOSE 8080\n\n#Non Root User Configuration\nRUN addgroup -S -g 10001 appGrp \\\n    &amp;&amp; adduser -S -D -u 10000 -s /sbin/nologin -h /opt/app/ -G appGrp app\\\n    &amp;&amp; chown -R 10000:10001 /opt/app\n\nUSER 10000\n\nWORKDIR /opt/app\nENTRYPOINT [&quot;java&quot; , &quot;-jar&quot;,  &quot;/opt/app/app.jar&quot;]\n</code></pre>\n<p><strong>Pod Deployment Json</strong></p>\n<pre><code>kind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: orchestrator\n  namespace: aex-aims-orchestrator\n  selfLink: /apis/apps/v1/namespaces/aex-aims-orchestrator/deployments/orchestrator\n  uid: 9c53ec70-47dc-4692-b400-28bf2dac32a8\n  resourceVersion: '199583614'\n  generation: 55\n  creationTimestamp: '2022-01-03T09:35:07Z'\n  labels:\n    app: orchestrator\n    app.kubernetes.io/managed-by: kitt\n    app.kubernetes.io/name: orchestrator\n    app.kubernetes.io/version: 0.0.68\n    chart: wce-webapp-basic-0.2.120\n    forceApply: L6EYZ\n    kitt.wcnp.io/notify-slack: aex-aims-orchestrator\n    mls-cluster: wcnp\n    mls-index: wcnp_aex-aims-orchestrator\n    strati.tlsmode: DISABLE\n    version: v1\n  annotations:\n    app.kubernetes.io/scm-url: 'https://gecgithub01.walmart.com/LabsSmartForecasting/sparrow'\n    deployment.kubernetes.io/revision: '19'\n    kitt.wcnp.io/notify-slack-ts: slack-1641993317.001300\n    sidecar.istio.io/statsInclusionPrefixes: 'http.{pod_ip}_'\n    sidecar.istio.io/statsInclusionSuffixes: &gt;-\n      upstream_rq_1xx,upstream_rq_2xx,upstream_rq_3xx,upstream_rq_4xx,upstream_rq_5xx,upstream_rq_time,upstream_cx_tx_bytes_total,upstream_cx_rx_bytes_total,upstream_cx_total,upstream_cx_active,downstream_rq_time,downstream_cx_http1_active,downstream_cx_http2_active\n    traffic.sidecar.istio.io/excludeOutboundPorts: '15020,8200'\n  managedFields:\n    - manager: Go-http-client\n      operation: Update\n      apiVersion: apps/v1\n      time: '2022-01-03T09:35:07Z'\n      fieldsType: FieldsV1\n      fieldsV1:\n        'f:metadata':\n          'f:annotations':\n            .: {}\n            'f:app.kubernetes.io/scm-url': {}\n            'f:kitt.wcnp.io/notify-slack-ts': {}\n            'f:sidecar.istio.io/statsInclusionPrefixes': {}\n            'f:sidecar.istio.io/statsInclusionSuffixes': {}\n            'f:traffic.sidecar.istio.io/excludeOutboundPorts': {}\n          'f:labels':\n            .: {}\n            'f:app': {}\n            'f:app.kubernetes.io/managed-by': {}\n            'f:app.kubernetes.io/name': {}\n            'f:app.kubernetes.io/version': {}\n            'f:chart': {}\n            'f:forceApply': {}\n            'f:kitt.wcnp.io/notify-slack': {}\n            'f:mls-cluster': {}\n            'f:mls-index': {}\n            'f:strati.tlsmode': {}\n            'f:version': {}\n        'f:spec':\n          'f:progressDeadlineSeconds': {}\n          'f:replicas': {}\n          'f:revisionHistoryLimit': {}\n          'f:selector':\n            'f:matchLabels':\n              .: {}\n              'f:app': {}\n              'f:version': {}\n          'f:strategy':\n            'f:rollingUpdate':\n              .: {}\n              'f:maxSurge': {}\n              'f:maxUnavailable': {}\n            'f:type': {}\n          'f:template':\n            'f:metadata':\n              'f:annotations':\n                .: {}\n                'f:app.kubernetes.io/scm-url': {}\n                'f:kitt.wcnp.io/notify-slack-ts': {}\n                'f:sidecar.istio.io/statsInclusionPrefixes': {}\n                'f:sidecar.istio.io/statsInclusionSuffixes': {}\n                'f:traffic.sidecar.istio.io/excludeOutboundPorts': {}\n              'f:labels':\n                .: {}\n                'f:app': {}\n                'f:app.kubernetes.io/managed-by': {}\n                'f:app.kubernetes.io/name': {}\n                'f:app.kubernetes.io/version': {}\n                'f:forceApply': {}\n                'f:kitt.wcnp.io/notify-slack': {}\n                'f:mls-cluster': {}\n                'f:mls-index': {}\n                'f:strati.tlsmode': {}\n                'f:version': {}\n            'f:spec':\n              'f:containers':\n                'k:{&quot;name&quot;:&quot;orchestrator&quot;}':\n                  .: {}\n                  'f:env':\n                    .: {}\n                    'k:{&quot;name&quot;:&quot;JAVA_TOOL_OPTIONS&quot;}':\n                      .: {}\n                      'f:name': {}\n                      'f:value': {}\n                    'k:{&quot;name&quot;:&quot;LOG4J_FORMAT_MSG_NO_LOOKUPS&quot;}':\n                      .: {}\n                      'f:name': {}\n                      'f:value': {}\n                  'f:image': {}\n                  'f:imagePullPolicy': {}\n                  'f:name': {}\n                  'f:ports':\n                    .: {}\n                    'k:{&quot;containerPort&quot;:8080,&quot;protocol&quot;:&quot;TCP&quot;}':\n                      .: {}\n                      'f:containerPort': {}\n                      'f:name': {}\n                      'f:protocol': {}\n                  'f:realdinessProbe':\n                    .: {}\n                    'f:failureThreshold': {}\n                    'f:httpGet':\n                      .: {}\n                      'f:httpHeaders': {}\n                      'f:path': {}\n                      'f:port': {}\n                      'f:scheme': {}\n                    'f:initialDelaySeconds': {}\n                    'f:periodSeconds': {}\n                    'f:successThreshold': {}\n                    'f:timeoutSeconds': {}\n                  'f:resources':\n                    .: {}\n                    'f:limits':\n                      .: {}\n                      'f:cpu': {}\n                      'f:ephemeral-storage': {}\n                      'f:memory': {}\n                    'f:requests':\n                      .: {}\n                      'f:cpu': {}\n                      'f:ephemeral-storage': {}\n                      'f:memory': {}\n                  'f:securityContext':\n                    .: {}\n                    'f:allowPrivilegeEscalation': {}\n                  'f:terminationMessagePath': {}\n                  'f:terminationMessagePolicy': {}\n              'f:dnsPolicy': {}\n              'f:restartPolicy': {}\n              'f:schedulerName': {}\n              'f:securityContext':\n                .: {}\n                'f:runAsNonRoot': {}\n              'f:terminationGracePeriodSeconds': {}\n              'f:topologySpreadConstraints':\n                .: {}\n                'k:{&quot;topologyKey&quot;:&quot;failure-domain.beta.kubernetes.io/zone&quot;,&quot;whenUnsatisfiable&quot;:&quot;ScheduleAnyway&quot;}':\n                  .: {}\n                  'f:labelSelector':\n                    .: {}\n                    'f:matchLabels':\n                      .: {}\n                      'f:app': {}\n                  'f:maxSkew': {}\n                  'f:topologyKey': {}\n                  'f:whenUnsatisfiable': {}\n    - manager: kube-controller-manager\n      operation: Update\n      apiVersion: apps/v1\n      time: '2022-01-12T13:23:38Z'\n      fieldsType: FieldsV1\n      fieldsV1:\n        'f:metadata':\n          'f:annotations':\n            'f:deployment.kubernetes.io/revision': {}\n        'f:status':\n          'f:availableReplicas': {}\n          'f:conditions':\n            .: {}\n            'k:{&quot;type&quot;:&quot;Available&quot;}':\n              .: {}\n              'f:lastTransitionTime': {}\n              'f:lastUpdateTime': {}\n              'f:message': {}\n              'f:reason': {}\n              'f:status': {}\n              'f:type': {}\n            'k:{&quot;type&quot;:&quot;Progressing&quot;}':\n              .: {}\n              'f:lastTransitionTime': {}\n              'f:lastUpdateTime': {}\n              'f:message': {}\n              'f:reason': {}\n              'f:status': {}\n              'f:type': {}\n          'f:observedGeneration': {}\n          'f:readyReplicas': {}\n          'f:replicas': {}\n          'f:updatedReplicas': {}\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: orchestrator\n      version: v1\n  template:\n    metadata:\n      creationTimestamp: null\n      labels:\n        app: orchestrator\n        app.kubernetes.io/managed-by: kitt\n        app.kubernetes.io/name: orchestrator\n        app.kubernetes.io/version: 0.0.68\n        forceApply: CE3pW\n        kitt.wcnp.io/notify-slack: aex-aims-orchestrator\n        mls-cluster: wcnp\n        mls-index: wcnp_aex-aims-orchestrator\n        strati.tlsmode: DISABLE\n        version: v1\n      annotations:\n        app.kubernetes.io/scm-url: 'https://gecgithub01.walmart.com/LabsSmartForecasting/sparrow'\n        kitt.wcnp.io/notify-slack-ts: slack-1641993317.001300\n        sidecar.istio.io/statsInclusionPrefixes: 'http.{pod_ip}_'\n        sidecar.istio.io/statsInclusionSuffixes: &gt;-\n          upstream_rq_1xx,upstream_rq_2xx,upstream_rq_3xx,upstream_rq_4xx,upstream_rq_5xx,upstream_rq_time,upstream_cx_tx_bytes_total,upstream_cx_rx_bytes_total,upstream_cx_total,upstream_cx_active,downstream_rq_time,downstream_cx_http1_active,downstream_cx_http2_active\n        traffic.sidecar.istio.io/excludeOutboundPorts: '15020,8200'\n    spec:\n      containers:\n        - name: orchestrator\n          image: 'docker.prod.walmart.com/labssmartforecasting/sparrow:0.0.68'\n          ports:\n            - name: http\n              containerPort: 8080\n              protocol: TCP\n          env:\n            - name: JAVA_TOOL_OPTIONS\n              value: &gt;-\n                -Druntime.context.system.property.override.enabled=true\n                -Druntime.context.cloud=stg-cdc2\n                -Druntime.context.environmentType=stg\n                -Druntime.context.appName=frcst-app\n            - name: LOG4J_FORMAT_MSG_NO_LOOKUPS\n              value: 'true'\n          resources:\n            limits:\n              cpu: '4'\n              ephemeral-storage: 1500M\n              memory: 6G\n            requests:\n              cpu: '1'\n              ephemeral-storage: 1G\n              memory: 2G\n          terminationMessagePath: /dev/termination-log\n          terminationMessagePolicy: File\n          imagePullPolicy: IfNotPresent\n          securityContext:\n            allowPrivilegeEscalation: false\n      restartPolicy: Always\n      terminationGracePeriodSeconds: 30\n      dnsPolicy: ClusterFirst\n      securityContext:\n        runAsNonRoot: true\n      schedulerName: default-scheduler\n      topologySpreadConstraints:\n        - maxSkew: 1\n          topologyKey: failure-domain.beta.kubernetes.io/zone\n          whenUnsatisfiable: ScheduleAnyway\n          labelSelector:\n            matchLabels:\n              app: orchestrator\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxUnavailable: 25%\n      maxSurge: 25%\n  revisionHistoryLimit: 3\n  progressDeadlineSeconds: 600\nstatus:\n  observedGeneration: 55\n  replicas: 2\n  updatedReplicas: 2\n  readyReplicas: 2\n  availableReplicas: 2\n  conditions:\n    - type: Progressing\n      status: 'True'\n      lastUpdateTime: '2022-01-12T13:16:10Z'\n      lastTransitionTime: '2022-01-06T05:09:38Z'\n      reason: NewReplicaSetAvailable\n      message: ReplicaSet &quot;orchestrator-6c7c69cd9b&quot; has successfully progressed.\n    - type: Available\n      status: 'True'\n      lastUpdateTime: '2022-01-12T13:23:38Z'\n      lastTransitionTime: '2022-01-12T13:23:38Z'\n      reason: MinimumReplicasAvailable\n      message: Deployment has minimum availability.\n</code></pre>\n"},{"tags":["java","memory","memory-leaks","out-of-memory"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1551988375,"post_id":55051015,"comment_id":96853445,"body_markdown":"Do you use any native libraries in any of the web apps? Also make sure you are using Java9+ or Java 8 with G1GC garbage collector.","body":"Do you use any native libraries in any of the web apps? Also make sure you are using Java9+ or Java 8 with G1GC garbage collector."},{"owner":{"account_id":4456172,"reputation":33,"user_id":3626386,"accept_rate":50,"display_name":"user3626386"},"score":0,"creation_date":1551989258,"post_id":55051015,"comment_id":96853893,"body_markdown":"I&#39;am using default java provided with software. It it 1.8.0_77-b09, but problem also exist when i replace java to newest downloaded from website.\nThis is part of starting command: &quot;-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:+UseStringDeduplication -XX:ThreadStackSize=256k -Xss256k -XX:MaxMetaspaceSize=2000M -XX:NativeMemoryTracking=detail&quot;","body":"I&#39;am using default java provided with software. It it 1.8.0_77-b09, but problem also exist when i replace java to newest downloaded from website. This is part of starting command: &quot;-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:+UseStringDeduplication -XX:ThreadStackSize=256k -Xss256k -XX:MaxMetaspaceSize=2000M -XX:NativeMemoryTracking=detail&quot;"},{"owner":{"account_id":4456172,"reputation":33,"user_id":3626386,"accept_rate":50,"display_name":"user3626386"},"score":0,"creation_date":1551989684,"post_id":55051015,"comment_id":96854116,"body_markdown":"Also i forgot to write in main post, this app is making ~thousand threads","body":"Also i forgot to write in main post, this app is making ~thousand threads"},{"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"score":0,"creation_date":1602853595,"post_id":55051015,"comment_id":113858902,"body_markdown":"This article contains a nice write-up of things to check if you suspect native memory is involved: https://dzone.com/articles/troubleshooting-problems-with-native-off-heap-memo. In your case I would get a memory dump and check if DirectByteBuffers are involved - if so, you can control the size of those using -Djdk.nio.maxCachedBufferSize","body":"This article contains a nice write-up of things to check if you suspect native memory is involved: <a href=\"https://dzone.com/articles/troubleshooting-problems-with-native-off-heap-memo\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>. In your case I would get a memory dump and check if DirectByteBuffers are involved - if so, you can control the size of those using -Djdk.nio.maxCachedBufferSize"}],"answers":[{"tags":[],"owner":{"account_id":13673803,"reputation":1039,"user_id":9865869,"display_name":"Tim Boddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552040564,"creation_date":1552004047,"answer_id":55054876,"question_id":55051015,"body_markdown":"Are you running on Linux?  If so, grab a live core of your program (using gcore) and look at that core with https://github.com/vmware/chap\r\n\r\nThe following commands are likely to be useful:\r\n\r\n    count writable\r\n    count rxonly\r\n    count readonly\r\n    count inaccessible\r\n    summarize writable\r\n    summarize rxonly\r\n    summarize readonly\r\n    summarize inaccessible\r\n\r\nGiven that you are using a largish number of threads, you should also try:\r\n\r\n    count stacks\r\n\r\nThat will show you how much memory is being used for stacks actively associated with threads (as opposed to cached).\r\n\r\nIf the number is high, you can determine how much of those stacks are generally wasted by using:\r\n\r\n    redirect on\r\n    describe stacks\r\n\r\nIf the stacks are much larger than needed, you can trim them by using &quot;ulimit -s&quot; to set the maximum stack size (in some script that starts the process).\r\n\r\nIf you want to understand memory used by native code, try:\r\n\r\n    count allocated\r\n    count used\r\n    count free\r\n\r\n(or summarize/list/show in stead of count, but generally after &quot;redirect on&quot;)\r\n\r\n\r\n","title":"Java - Internal Native Memory usage is too high","body":"<p>Are you running on Linux?  If so, grab a live core of your program (using gcore) and look at that core with <a href=\"https://github.com/vmware/chap\" rel=\"nofollow noreferrer\">https://github.com/vmware/chap</a></p>\n\n<p>The following commands are likely to be useful:</p>\n\n<pre><code>count writable\ncount rxonly\ncount readonly\ncount inaccessible\nsummarize writable\nsummarize rxonly\nsummarize readonly\nsummarize inaccessible\n</code></pre>\n\n<p>Given that you are using a largish number of threads, you should also try:</p>\n\n<pre><code>count stacks\n</code></pre>\n\n<p>That will show you how much memory is being used for stacks actively associated with threads (as opposed to cached).</p>\n\n<p>If the number is high, you can determine how much of those stacks are generally wasted by using:</p>\n\n<pre><code>redirect on\ndescribe stacks\n</code></pre>\n\n<p>If the stacks are much larger than needed, you can trim them by using \"ulimit -s\" to set the maximum stack size (in some script that starts the process).</p>\n\n<p>If you want to understand memory used by native code, try:</p>\n\n<pre><code>count allocated\ncount used\ncount free\n</code></pre>\n\n<p>(or summarize/list/show in stead of count, but generally after \"redirect on\")</p>\n"}],"owner":{"account_id":4456172,"reputation":33,"user_id":3626386,"accept_rate":50,"display_name":"user3626386"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642053427,"creation_date":1551985215,"question_id":55051015,"body_markdown":"What is the Internal Native Memory in Java, and how can i limit it?\r\nI&#39;am using the one of popular java application, like tomcat, but i have problem with very high memory usage, after few hours.\r\n\r\nI try to detect what is the problem, and i checked the JCMD:\r\n\r\n\r\n    Total: reserved=20207MB, committed=18968MB\r\n    -                 Java Heap (reserved=10000MB, committed=10000MB)\r\n                                (mmap: reserved=10000MB, committed=10000MB)\r\n    \r\n    -                     Class (reserved=1069MB, committed=50MB)\r\n                                (classes #6159)\r\n                                (malloc=1MB #19368)\r\n                                (mmap: reserved=1068MB, committed=48MB)\r\n    \r\n    -                    Thread (reserved=570MB, committed=570MB)\r\n                                (thread #2039)\r\n                                (stack: reserved=561MB, committed=561MB)\r\n                                (malloc=7MB #10216)\r\n                                (arena=3MB #4076)\r\n    \r\n    -                      Code (reserved=252MB, committed=52MB)\r\n                                (malloc=8MB #10918)\r\n                                (mmap: reserved=244MB, committed=44MB)\r\n    \r\n    -                        GC (reserved=553MB, committed=553MB)\r\n                                (malloc=150MB #129854)\r\n                                (mmap: reserved=403MB, committed=403MB)\r\n    \r\n    -                  Compiler (reserved=2MB, committed=2MB)\r\n                                (malloc=2MB #2346)\r\n    \r\n    -                  Internal (reserved=7726MB, committed=7726MB)\r\n                                (malloc=7726MB #67913)\r\n    \r\n    -                    Symbol (reserved=10MB, committed=10MB)\r\n                                (malloc=8MB #67876)\r\n                                (arena=2MB #1)\r\n    \r\n    -    Native Memory Tracking (reserved=5MB, committed=5MB)\r\n                                (malloc=1MB #7514)\r\n                                (tracking overhead=5MB)\r\n    \r\n    -                   Unknown (reserved=20MB, committed=0MB)\r\n                                (mmap: reserved=20MB, committed=0MB)\r\n\r\nAt the begening memory usage is like this:\r\n\r\n    Total: reserved=14324MB, committed=12096MB\r\n    -                 Java Heap (reserved=10000MB, committed=9050MB)\r\n                                (mmap: reserved=10000MB, committed=9050MB)\r\n    \r\n    -                     Class (reserved=1069MB, committed=49MB)\r\n                                (classes #6130)\r\n                                (malloc=1MB #16522)\r\n                                (mmap: reserved=1068MB, committed=48MB)\r\n    \r\n    -                    Thread (reserved=400MB, committed=400MB)\r\n                                (thread #1381)\r\n                                (stack: reserved=394MB, committed=394MB)\r\n                                (malloc=4MB #6926)\r\n                                (arena=2MB #2760)\r\n    \r\n    -                      Code (reserved=251MB, committed=48MB)\r\n                                (malloc=8MB #10237)\r\n                                (mmap: reserved=244MB, committed=41MB)\r\n    \r\n    -                        GC (reserved=501MB, committed=466MB)\r\n                                (malloc=98MB #103127)\r\n                                (mmap: reserved=403MB, committed=368MB)\r\n    \r\n    -                  Compiler (reserved=1MB, committed=1MB)\r\n                                (malloc=1MB #1142)\r\n    \r\n    -                  Internal (reserved=2068MB, committed=2068MB)\r\n                                (malloc=2068MB #49248)\r\n    \r\n    -                    Symbol (reserved=9MB, committed=9MB)\r\n                                (malloc=7MB #67619)\r\n                                (arena=2MB #1)\r\n    \r\n    -    Native Memory Tracking (reserved=5MB, committed=5MB)\r\n                                (tracking overhead=4MB)\r\n    \r\n    -                   Unknown (reserved=20MB, committed=0MB)\r\n                                (mmap: reserved=20MB, committed=0MB)\r\n\r\ni thought that maybe it is memory leak in application, but then it would probably high usage is in Heap size.\r\nIn addition, i found few articles about bug in glibc, so i&#39;ve added to systemctl of app \r\n\r\n    Environment=&quot;MALLOC_ARENA_MAX=2&quot;\r\n\r\nAlso, i&#39;ve try 4.\r\n\r\nMy GLIBC version is: ldd (Debian GLIBC 2.24-11+deb9u3) 2.24\r\n\r\nI&#39;am using server Debian 9 x64 (updated) with 24 threads, 24GB of RAM. Of course is dedicated only for this software, and there is no any other applications.\r\nI made heapdump, (when usage is ~22gb) and in Overview of Eclipse memory analyzer i see:\r\n\r\n    Size: 2,3 GB Classes: 6,3k Objects: 2,3m Class Loader: 23\r\n\r\nDo you have any idea, how check what is inside this internal memory, or how can i limit usage?\r\nMy application is all time stucked, when memory is over, but java process is still running. Just not working, but process still exist.\r\n","title":"Java - Internal Native Memory usage is too high","body":"<p>What is the Internal Native Memory in Java, and how can i limit it?\nI'am using the one of popular java application, like tomcat, but i have problem with very high memory usage, after few hours.</p>\n\n<p>I try to detect what is the problem, and i checked the JCMD:</p>\n\n<pre><code>Total: reserved=20207MB, committed=18968MB\n-                 Java Heap (reserved=10000MB, committed=10000MB)\n                            (mmap: reserved=10000MB, committed=10000MB)\n\n-                     Class (reserved=1069MB, committed=50MB)\n                            (classes #6159)\n                            (malloc=1MB #19368)\n                            (mmap: reserved=1068MB, committed=48MB)\n\n-                    Thread (reserved=570MB, committed=570MB)\n                            (thread #2039)\n                            (stack: reserved=561MB, committed=561MB)\n                            (malloc=7MB #10216)\n                            (arena=3MB #4076)\n\n-                      Code (reserved=252MB, committed=52MB)\n                            (malloc=8MB #10918)\n                            (mmap: reserved=244MB, committed=44MB)\n\n-                        GC (reserved=553MB, committed=553MB)\n                            (malloc=150MB #129854)\n                            (mmap: reserved=403MB, committed=403MB)\n\n-                  Compiler (reserved=2MB, committed=2MB)\n                            (malloc=2MB #2346)\n\n-                  Internal (reserved=7726MB, committed=7726MB)\n                            (malloc=7726MB #67913)\n\n-                    Symbol (reserved=10MB, committed=10MB)\n                            (malloc=8MB #67876)\n                            (arena=2MB #1)\n\n-    Native Memory Tracking (reserved=5MB, committed=5MB)\n                            (malloc=1MB #7514)\n                            (tracking overhead=5MB)\n\n-                   Unknown (reserved=20MB, committed=0MB)\n                            (mmap: reserved=20MB, committed=0MB)\n</code></pre>\n\n<p>At the begening memory usage is like this:</p>\n\n<pre><code>Total: reserved=14324MB, committed=12096MB\n-                 Java Heap (reserved=10000MB, committed=9050MB)\n                            (mmap: reserved=10000MB, committed=9050MB)\n\n-                     Class (reserved=1069MB, committed=49MB)\n                            (classes #6130)\n                            (malloc=1MB #16522)\n                            (mmap: reserved=1068MB, committed=48MB)\n\n-                    Thread (reserved=400MB, committed=400MB)\n                            (thread #1381)\n                            (stack: reserved=394MB, committed=394MB)\n                            (malloc=4MB #6926)\n                            (arena=2MB #2760)\n\n-                      Code (reserved=251MB, committed=48MB)\n                            (malloc=8MB #10237)\n                            (mmap: reserved=244MB, committed=41MB)\n\n-                        GC (reserved=501MB, committed=466MB)\n                            (malloc=98MB #103127)\n                            (mmap: reserved=403MB, committed=368MB)\n\n-                  Compiler (reserved=1MB, committed=1MB)\n                            (malloc=1MB #1142)\n\n-                  Internal (reserved=2068MB, committed=2068MB)\n                            (malloc=2068MB #49248)\n\n-                    Symbol (reserved=9MB, committed=9MB)\n                            (malloc=7MB #67619)\n                            (arena=2MB #1)\n\n-    Native Memory Tracking (reserved=5MB, committed=5MB)\n                            (tracking overhead=4MB)\n\n-                   Unknown (reserved=20MB, committed=0MB)\n                            (mmap: reserved=20MB, committed=0MB)\n</code></pre>\n\n<p>i thought that maybe it is memory leak in application, but then it would probably high usage is in Heap size.\nIn addition, i found few articles about bug in glibc, so i've added to systemctl of app </p>\n\n<pre><code>Environment=\"MALLOC_ARENA_MAX=2\"\n</code></pre>\n\n<p>Also, i've try 4.</p>\n\n<p>My GLIBC version is: ldd (Debian GLIBC 2.24-11+deb9u3) 2.24</p>\n\n<p>I'am using server Debian 9 x64 (updated) with 24 threads, 24GB of RAM. Of course is dedicated only for this software, and there is no any other applications.\nI made heapdump, (when usage is ~22gb) and in Overview of Eclipse memory analyzer i see:</p>\n\n<pre><code>Size: 2,3 GB Classes: 6,3k Objects: 2,3m Class Loader: 23\n</code></pre>\n\n<p>Do you have any idea, how check what is inside this internal memory, or how can i limit usage?\nMy application is all time stucked, when memory is over, but java process is still running. Just not working, but process still exist.</p>\n"},{"tags":["java","gradle","classpath"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642052743,"creation_date":1642052743,"answer_id":70691973,"question_id":70682935,"body_markdown":"Firstly, it is never recommended to add class files in this manner, but it does not stop from doing so \r\n \r\n`compileJava.classpath = compileJava.classpath + files(file(&quot;$project.rootDir/lib&quot;))`\r\n\r\n","title":"Add compiled class files to classpath for import in java gradle project","body":"<p>Firstly, it is never recommended to add class files in this manner, but it does not stop from doing so</p>\n<p><code>compileJava.classpath = compileJava.classpath + files(file(&quot;$project.rootDir/lib&quot;))</code></p>\n"}],"owner":{"account_id":23919321,"reputation":1,"user_id":17915411,"display_name":"HHG Hhh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642052743,"creation_date":1641996206,"question_id":70682935,"body_markdown":"I have a java project with gradle. How to import external compiled class files (.class) into this project to use them. Like adding compiled class files to classpath. with javac i just do javac -cp .  somefile.java. I am new with gradle so can someone give me solution. Thank you.","title":"Add compiled class files to classpath for import in java gradle project","body":"<p>I have a java project with gradle. How to import external compiled class files (.class) into this project to use them. Like adding compiled class files to classpath. with javac i just do javac -cp .  somefile.java. I am new with gradle so can someone give me solution. Thank you.</p>\n"},{"tags":["java","http","tomcat","url"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572289767,"creation_date":1572289767,"answer_id":58597006,"question_id":58593645,"body_markdown":"&gt; What&#39;s the difference between 8 and 9 Tomcat versions that my request\r\n&gt; works in 8 but in 9 do not?\r\n\r\nI think the difference is that Tomcat 9.x has tightened up on what should be permitted to be unencoded within a URL, so from a technical perspective there is no problem with Tomcat 9.x; the issue lies with earlier Tomcat releases, and browsers not strictly following specifications.\r\n\r\nThat said, I couldn&#39;t identify any specific fix that has triggered this issue for you, nor could I see anything in [the Release Notes][1].\r\n\r\n&gt; I add relaxedQueryChars parameter to Tomcat Connector with colon\r\n&gt; (though colon is allowed symbol)...and it still fails.\r\n\r\nFrom [the Tomcat 9.0 documentation][2] for `relaxedQueryChars`:\r\n\r\n*The HTTP/1.1 specification requires that certain characters are %nn encoded when used in URI query strings. Unfortunately, many user agents including all the major browsers are not compliant with this specification and use these characters in unencoded form. To prevent Tomcat rejecting such requests, this attribute may be used to specify the additional characters to allow. If not specified, no additional characters will be allowed. **The value may be any combination of the following characters: &quot; &lt; &gt; [ \\ ] ^ ` { | } . Any other characters present in the value will be ignored.***\r\n\r\nNote the last two sentences. The colon character is not mentioned, so it &quot;*will be ignored*&quot;.\r\n\r\n&gt; Is there anything I can do in Tomcat to make this request work?\r\n\r\nI don&#39;t think so, but the real problem is that you are not encoding colons within your parameters, and you have already mentioned that this resolves the issue. [See this SO answer][3], and in particular the final sentence:\r\n\r\n    There are reserved characters, that have a reserved meanings, those are delimiters  :/?#[]@  and subdelimiters  !$&amp;&#39;()*+,;=\r\n    \r\n    There is also a set of characters called unreserved characters  alphanumerics and -._~  which are not to be encoded.\r\n    \r\n    That means, that anything that doesn&#39;t belong to unreserved characters set is supposed to be %-encoded, when they do not have special meaning (e.g. when passed as a part of GET parameter).\r\n\r\nThe colon is a reserved character with a special meaning, and therefore it must be encoded within your parameters.\r\n\r\nNotes:\r\n\r\n- Also see [Bug 62273 - Add support for alternate URL specification][4]. Although it doesn&#39;t specifically address your issue with the colon character, there is an interesting discussion on how browsers have not been adhering to [RFC 3986 (Uniform Resource Identifier (URI): Generic Syntax)][5].\r\n\r\n- The error message you are getting from Tomcat is vague, and could probably be improved. Perhaps raise a bug report with them?\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/changelog.html\r\n  [2]: https://tomcat.apache.org/tomcat-9.0-doc/config/http.html\r\n  [3]: https://stackoverflow.com/a/1455639/2985643\r\n  [4]: https://bz.apache.org/bugzilla/show_bug.cgi?id=62273\r\n  [5]: https://www.rfc-editor.org/rfc/rfc3986","title":"Tomcat 9: header line does not conform to RFC 7230","body":"<blockquote>\n<p>What's the difference between 8 and 9 Tomcat versions that my request\nworks in 8 but in 9 do not?</p>\n</blockquote>\n<p>I think the difference is that Tomcat 9.x has tightened up on what should be permitted to be unencoded within a URL, so from a technical perspective there is no problem with Tomcat 9.x; the issue lies with earlier Tomcat releases, and browsers not strictly following specifications.</p>\n<p>That said, I couldn't identify any specific fix that has triggered this issue for you, nor could I see anything in <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/changelog.html\" rel=\"nofollow noreferrer\">the Release Notes</a>.</p>\n<blockquote>\n<p>I add relaxedQueryChars parameter to Tomcat Connector with colon\n(though colon is allowed symbol)...and it still fails.</p>\n</blockquote>\n<p>From <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http.html\" rel=\"nofollow noreferrer\">the Tomcat 9.0 documentation</a> for <code>relaxedQueryChars</code>:</p>\n<p><em>The HTTP/1.1 specification requires that certain characters are %nn encoded when used in URI query strings. Unfortunately, many user agents including all the major browsers are not compliant with this specification and use these characters in unencoded form. To prevent Tomcat rejecting such requests, this attribute may be used to specify the additional characters to allow. If not specified, no additional characters will be allowed. <strong>The value may be any combination of the following characters: &quot; &lt; &gt; [ \\ ] ^ ` { | } . Any other characters present in the value will be ignored.</strong></em></p>\n<p>Note the last two sentences. The colon character is not mentioned, so it &quot;<em>will be ignored</em>&quot;.</p>\n<blockquote>\n<p>Is there anything I can do in Tomcat to make this request work?</p>\n</blockquote>\n<p>I don't think so, but the real problem is that you are not encoding colons within your parameters, and you have already mentioned that this resolves the issue. <a href=\"https://stackoverflow.com/a/1455639/2985643\">See this SO answer</a>, and in particular the final sentence:</p>\n<pre><code>There are reserved characters, that have a reserved meanings, those are delimiters  :/?#[]@  and subdelimiters  !$&amp;'()*+,;=\n\nThere is also a set of characters called unreserved characters  alphanumerics and -._~  which are not to be encoded.\n\nThat means, that anything that doesn't belong to unreserved characters set is supposed to be %-encoded, when they do not have special meaning (e.g. when passed as a part of GET parameter).\n</code></pre>\n<p>The colon is a reserved character with a special meaning, and therefore it must be encoded within your parameters.</p>\n<p>Notes:</p>\n<ul>\n<li><p>Also see <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=62273\" rel=\"nofollow noreferrer\">Bug 62273 - Add support for alternate URL specification</a>. Although it doesn't specifically address your issue with the colon character, there is an interesting discussion on how browsers have not been adhering to <a href=\"https://www.rfc-editor.org/rfc/rfc3986\" rel=\"nofollow noreferrer\">RFC 3986 (Uniform Resource Identifier (URI): Generic Syntax)</a>.</p>\n</li>\n<li><p>The error message you are getting from Tomcat is vague, and could probably be improved. Perhaps raise a bug report with them?</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6612592,"reputation":103,"user_id":5107086,"accept_rate":80,"display_name":"Imran AK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642052116,"creation_date":1642052116,"answer_id":70691890,"question_id":58593645,"body_markdown":"In my case, I had increased the request header size by manually adding new cookies onto the Curl request.\r\nIn doing so, ENTER key was used instead of space. \r\nBackspacing &amp; using a space instead resolved the issue for me.","title":"Tomcat 9: header line does not conform to RFC 7230","body":"<p>In my case, I had increased the request header size by manually adding new cookies onto the Curl request.\nIn doing so, ENTER key was used instead of space.\nBackspacing &amp; using a space instead resolved the issue for me.</p>\n"}],"owner":{"account_id":7253353,"reputation":85,"user_id":5532848,"display_name":"zhoriq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15167,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58597006,"answer_count":2,"score":3,"last_activity_date":1642052116,"creation_date":1572276024,"question_id":58593645,"body_markdown":"I have an app that was working on Tomcat 8.5.38.\r\nNow I decided upgrade to Tomcat 9.0.27 and there appears problem with GET request and [RFC 7230, *Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing*](https://www.rfc-editor.org/rfc/rfc7230).\r\n\r\nThe request:\r\n```\r\n/api/vehicle/power_off?vehicleId=1428714&amp;dtStart=2019-10-21 08:00:00&amp;dtEnd=2019-10-21 08:30:00\r\n```\r\nIt was working perfectly from both browser (any - IE, Opera, Chrome, FF) and another client (1C ERP system).\r\n\r\nAfter version upgrade from browser it still works perfectly but from 1C don&#39;t. Tomcat shows error:\r\n```\r\n28-Oct-2019 17:29:26.201 INFO [http-nio-8080-exec-3] org.apache.coyote.http11.Http11Processor.service Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n\tjava.lang.IllegalArgumentException: The HTTP header line [get /api/vehicle/power_off?deviceId=1428714&amp;dtStart=2019-10-21%2008:00:00&amp;dtEnd=2019-10-21%2008:30:00 HTTP/1.1: ] does not conform to RFC 7230 and has been ignored.\r\n\t\tat org.apache.coyote.http11.Http11InputBuffer.skipLine(Http11InputBuffer.java:962)\r\n\t\tat org.apache.coyote.http11.Http11InputBuffer.parseHeader(Http11InputBuffer.java:825)\r\n\t\tat org.apache.coyote.http11.Http11InputBuffer.parseHeaders(Http11InputBuffer.java:564)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:309)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nThe same error is on my dev machine (MacOS + Tomcat 9.0.24) and production server (Ubuntu 16.04 + Tomcat 9.0.27).\r\n\r\nThe reason is in colon in datetime parameters. When I remove colons from query string (leave just &quot;2019-10-21 080000&quot;) the request works as expected (with error &quot;datetime cannot be parsed...&quot;). Also when I manually change colons to &quot;%3A&quot; the request works and returns normal result.\r\n\r\nThen I add relaxedQueryChars parameter to Tomcat Connector with colon (though colon is allowed symbol):\r\n```\r\nrelaxedQueryChars=&#39;:[]|{}^&amp;#x5c;&amp;#x60;&amp;quot;&amp;lt;&amp;gt;&#39;\r\n```\r\nand it still fails.\r\n\r\n\r\nWhat&#39;s the difference between 8 and 9 Tomcat versions that my request works in 8 but in 9 do not?\r\nIs there anything I can do in Tomcat to make this request works? Changing requests on client sides is very hard task...","title":"Tomcat 9: header line does not conform to RFC 7230","body":"<p>I have an app that was working on Tomcat 8.5.38.\nNow I decided upgrade to Tomcat 9.0.27 and there appears problem with GET request and <a href=\"https://www.rfc-editor.org/rfc/rfc7230\" rel=\"nofollow noreferrer\">RFC 7230, <em>Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</em></a>.</p>\n<p>The request:</p>\n<pre><code>/api/vehicle/power_off?vehicleId=1428714&amp;dtStart=2019-10-21 08:00:00&amp;dtEnd=2019-10-21 08:30:00\n</code></pre>\n<p>It was working perfectly from both browser (any - IE, Opera, Chrome, FF) and another client (1C ERP system).</p>\n<p>After version upgrade from browser it still works perfectly but from 1C don't. Tomcat shows error:</p>\n<pre><code>28-Oct-2019 17:29:26.201 INFO [http-nio-8080-exec-3] org.apache.coyote.http11.Http11Processor.service Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n    java.lang.IllegalArgumentException: The HTTP header line [get /api/vehicle/power_off?deviceId=1428714&amp;dtStart=2019-10-21%2008:00:00&amp;dtEnd=2019-10-21%2008:30:00 HTTP/1.1: ] does not conform to RFC 7230 and has been ignored.\n        at org.apache.coyote.http11.Http11InputBuffer.skipLine(Http11InputBuffer.java:962)\n        at org.apache.coyote.http11.Http11InputBuffer.parseHeader(Http11InputBuffer.java:825)\n        at org.apache.coyote.http11.Http11InputBuffer.parseHeaders(Http11InputBuffer.java:564)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:309)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>The same error is on my dev machine (MacOS + Tomcat 9.0.24) and production server (Ubuntu 16.04 + Tomcat 9.0.27).</p>\n<p>The reason is in colon in datetime parameters. When I remove colons from query string (leave just &quot;2019-10-21 080000&quot;) the request works as expected (with error &quot;datetime cannot be parsed...&quot;). Also when I manually change colons to &quot;%3A&quot; the request works and returns normal result.</p>\n<p>Then I add relaxedQueryChars parameter to Tomcat Connector with colon (though colon is allowed symbol):</p>\n<pre><code>relaxedQueryChars=':[]|{}^&amp;#x5c;&amp;#x60;&amp;quot;&amp;lt;&amp;gt;'\n</code></pre>\n<p>and it still fails.</p>\n<p>What's the difference between 8 and 9 Tomcat versions that my request works in 8 but in 9 do not?\nIs there anything I can do in Tomcat to make this request works? Changing requests on client sides is very hard task...</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":11624106,"reputation":2811,"user_id":11808788,"display_name":"Charles"},"score":0,"creation_date":1642051903,"post_id":70691845,"comment_id":124970681,"body_markdown":"Can you post some examples of the Conversions you want to achieve.","body":"Can you post some examples of the Conversions you want to achieve."},{"owner":{"account_id":23925920,"reputation":3,"user_id":17921025,"display_name":"Ghost"},"score":0,"creation_date":1642052863,"post_id":70691845,"comment_id":124970839,"body_markdown":"like if i input an infix (1+2)*3/2 the result would be 4.5 but in my program&#39;s case it resulted to 4.0","body":"like if i input an infix (1+2)*3/2 the result would be 4.5 but in my program&#39;s case it resulted to 4.0"},{"owner":{"account_id":11624106,"reputation":2811,"user_id":11808788,"display_name":"Charles"},"score":0,"creation_date":1642055934,"post_id":70691845,"comment_id":124971462,"body_markdown":"I tried debugging your code but there&#39;s so many mistakes that you better start from scratch.\nBugs I&#39;ve found: \nReplace whitespace before you call `Result`. \n&quot;while (char.IsDigit)&quot; Loop should be removed.\n`double value1 = s.pop()` you&#39;re popping a char from the stack, which is not a double.\nDon&#39;t mix chars and doubles on the stack. Or if you mix them convert them to the same number / char.","body":"I tried debugging your code but there&#39;s so many mistakes that you better start from scratch. Bugs I&#39;ve found:  Replace whitespace before you call <code>Result</code>.  &quot;while (char.IsDigit)&quot; Loop should be removed. <code>double value1 = s.pop()</code> you&#39;re popping a char from the stack, which is not a double. Don&#39;t mix chars and doubles on the stack. Or if you mix them convert them to the same number / char."}],"owner":{"account_id":23925920,"reputation":3,"user_id":17921025,"display_name":"Ghost"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642051703,"creation_date":1642051703,"question_id":70691845,"body_markdown":"this is my last resort. Will someone help me with my program?\r\n\r\nThe program is to convert infix to postfix, the issue is it won&#39;t give me an answer with decimal. I know i need to use double, but i don&#39;t know where to insert it.\r\n\r\nhere is my code\r\n```\r\nimport java.util.*;  \r\nclass Stack   \r\n{  \r\n    int capacity = 10; \r\n    char arr []=new char[capacity];  \r\n    int top = -1; \r\n    boolean isEmpty() \r\n    {  \r\n        if(top==-1){\r\n            return true;\r\n        }\r\n        else {\r\n            return false; \r\n        }\r\n    }  \r\n\r\n    void push(char c)  \r\n    {   \r\n        top++; \r\n        if (top &lt;= capacity-1)\r\n        {  \r\n            arr[top]= c; \r\n        }\r\n        else if (top &gt; capacity-1) \r\n        {  \r\n            System.out.println(&quot;Overflow&quot;);  //Stack is ful\r\n            System.exit(0);  \r\n        }\r\n    }\r\n\r\n    char pop ()  \r\n    {  \r\n        if (isEmpty()==true){\r\n            System.out.print(&quot;Underflow&quot;); \r\n            System.exit(0);\r\n        }\r\n        return arr[top--]; \r\n    }    \r\n\r\n    char peek() \r\n    {  \r\n        return arr[top]; \r\n    }  \r\n}  \r\n\r\npublic class Operations \r\n{  \r\n    static Stack s = new Stack (); \r\n\r\n    static int precedence(char c){ \r\n        switch (c){\r\n            case &#39;+&#39;:\r\n            case &#39;-&#39;:\r\n                return 1; \r\n            case &#39;*&#39;:\r\n            case &#39;/&#39;:\r\n                return 2;\r\n            case &#39;^&#39;:\r\n                return 3; \r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public static String Conversion(String val){ \r\n\r\n        String result = &quot;&quot;; \r\n        for (int i = 0; i &lt;val.length() ; i++) {\r\n            char c = val.charAt(i); \r\n\r\n          \r\n            if(precedence(c)&gt;0){\r\n                while(s.isEmpty()==false &amp;&amp; precedence(s.peek())&gt;=precedence(c)){\r\n                    result += s.pop(); \r\n                }\r\n                s.push(c); \r\n            }else if(c==&#39;)&#39;){\r\n                char x = s.pop(); \r\n                while(x!=&#39;(&#39;){\r\n                    result += x;\r\n                    x = s.pop();\r\n                }\r\n            }else if(c==&#39;(&#39;){\r\n                s.push(c);\r\n            }else{\r\n                result += c; \r\n            }\r\n            if (i+1 &gt;= val.length() || !Character.isDigit(val.charAt(i+1)))\r\n                result += &#39; &#39;; \r\n        }\r\n        while (!s.isEmpty())  \r\n            result = result + s.pop(); \r\n        return result;\r\n    }\r\n\r\n    public static double Result(String Postfix)\r\n    { \r\n        for(int i=0; i &lt; Postfix.length(); i++) \r\n        { \r\n            char ch = Postfix.charAt(i); \r\n\r\n            //check if it is a space (separator)\r\n            if(ch==&#39; &#39;)\r\n                continue;\r\n\r\n            if (Character.isDigit(ch)){ \r\n                double num = 0;\r\n\r\n               \r\n                while(Character.isDigit(ch)) {\r\n                    num = num*10 + (ch-&#39;0&#39;);\r\n                    i++;\r\n                    ch = Postfix.charAt(i);\r\n                }\r\n                i--;\r\n               \r\n                s.push((char)(num));\r\n            }\r\n            else       \r\n            { \r\n                double value1 = s.pop(); \r\n                double value2 = s.pop(); \r\n\r\n                switch(ch) //evaluating the expression\r\n                { \r\n                    case &#39;+&#39;: \r\n                        s.push((char)(value2 + value1));\r\n                        break; \r\n\r\n                    case &#39;-&#39;: \r\n                        s.push((char)(value2 - value1)); \r\n                        break; \r\n\r\n                    case &#39;*&#39;: \r\n                        s.push((char)(value2*value1)); \r\n                        break; \r\n                    case &#39;/&#39;:  \r\n                        if(value1==0){\r\n                            System.out.print(&quot;Cannot divide by zero&quot;);\r\n                            System.exit(0);\r\n                        }\r\n                        else\r\n                            s.push((char)(value2/value1));\r\n                        break; \r\n                } \r\n            } \r\n        } \r\n        return s.pop();   \r\n    }\r\n\r\n    public static void main(String[] args) {  \r\n        Scanner sc = new Scanner(System.in); \r\n        System.out.print(&quot;Enter an infix expression: &quot;);\r\n        String val = sc.next(); \r\n        String Postfix = Conversion(val); \r\n        System.out.println(&quot;Postfix expression is: &quot;+(Postfix.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;)));\r\n        System.out.println(&quot;Result of the evaluation is: &quot; + Result(Postfix)); \r\n\r\n    }  \r\n}  \r\n```\r\n\r\n*i am not confident with the codes if it&#39;s correct. but any enlighten is welcome. \r\nand perhaps can u help me with the loop? so i won&#39;t start to re-run the program everytime i input from the keyboard, big thanks seniors*","title":"Converting infix to postfix using java","body":"<p>this is my last resort. Will someone help me with my program?</p>\n<p>The program is to convert infix to postfix, the issue is it won't give me an answer with decimal. I know i need to use double, but i don't know where to insert it.</p>\n<p>here is my code</p>\n<pre><code>import java.util.*;  \nclass Stack   \n{  \n    int capacity = 10; \n    char arr []=new char[capacity];  \n    int top = -1; \n    boolean isEmpty() \n    {  \n        if(top==-1){\n            return true;\n        }\n        else {\n            return false; \n        }\n    }  \n\n    void push(char c)  \n    {   \n        top++; \n        if (top &lt;= capacity-1)\n        {  \n            arr[top]= c; \n        }\n        else if (top &gt; capacity-1) \n        {  \n            System.out.println(&quot;Overflow&quot;);  //Stack is ful\n            System.exit(0);  \n        }\n    }\n\n    char pop ()  \n    {  \n        if (isEmpty()==true){\n            System.out.print(&quot;Underflow&quot;); \n            System.exit(0);\n        }\n        return arr[top--]; \n    }    \n\n    char peek() \n    {  \n        return arr[top]; \n    }  \n}  \n\npublic class Operations \n{  \n    static Stack s = new Stack (); \n\n    static int precedence(char c){ \n        switch (c){\n            case '+':\n            case '-':\n                return 1; \n            case '*':\n            case '/':\n                return 2;\n            case '^':\n                return 3; \n        }\n        return -1;\n    }\n\n    public static String Conversion(String val){ \n\n        String result = &quot;&quot;; \n        for (int i = 0; i &lt;val.length() ; i++) {\n            char c = val.charAt(i); \n\n          \n            if(precedence(c)&gt;0){\n                while(s.isEmpty()==false &amp;&amp; precedence(s.peek())&gt;=precedence(c)){\n                    result += s.pop(); \n                }\n                s.push(c); \n            }else if(c==')'){\n                char x = s.pop(); \n                while(x!='('){\n                    result += x;\n                    x = s.pop();\n                }\n            }else if(c=='('){\n                s.push(c);\n            }else{\n                result += c; \n            }\n            if (i+1 &gt;= val.length() || !Character.isDigit(val.charAt(i+1)))\n                result += ' '; \n        }\n        while (!s.isEmpty())  \n            result = result + s.pop(); \n        return result;\n    }\n\n    public static double Result(String Postfix)\n    { \n        for(int i=0; i &lt; Postfix.length(); i++) \n        { \n            char ch = Postfix.charAt(i); \n\n            //check if it is a space (separator)\n            if(ch==' ')\n                continue;\n\n            if (Character.isDigit(ch)){ \n                double num = 0;\n\n               \n                while(Character.isDigit(ch)) {\n                    num = num*10 + (ch-'0');\n                    i++;\n                    ch = Postfix.charAt(i);\n                }\n                i--;\n               \n                s.push((char)(num));\n            }\n            else       \n            { \n                double value1 = s.pop(); \n                double value2 = s.pop(); \n\n                switch(ch) //evaluating the expression\n                { \n                    case '+': \n                        s.push((char)(value2 + value1));\n                        break; \n\n                    case '-': \n                        s.push((char)(value2 - value1)); \n                        break; \n\n                    case '*': \n                        s.push((char)(value2*value1)); \n                        break; \n                    case '/':  \n                        if(value1==0){\n                            System.out.print(&quot;Cannot divide by zero&quot;);\n                            System.exit(0);\n                        }\n                        else\n                            s.push((char)(value2/value1));\n                        break; \n                } \n            } \n        } \n        return s.pop();   \n    }\n\n    public static void main(String[] args) {  \n        Scanner sc = new Scanner(System.in); \n        System.out.print(&quot;Enter an infix expression: &quot;);\n        String val = sc.next(); \n        String Postfix = Conversion(val); \n        System.out.println(&quot;Postfix expression is: &quot;+(Postfix.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;)));\n        System.out.println(&quot;Result of the evaluation is: &quot; + Result(Postfix)); \n\n    }  \n}  \n</code></pre>\n<p><em>i am not confident with the codes if it's correct. but any enlighten is welcome.\nand perhaps can u help me with the loop? so i won't start to re-run the program everytime i input from the keyboard, big thanks seniors</em></p>\n"},{"tags":["java","date","datetime","week-number"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1641990957,"post_id":70680368,"comment_id":124951979,"body_markdown":"The reason why people are downvoting your request: &quot;here my requirements&quot; isn&#39;t considered a good/valid question by many. Remember: you learn programming by *first* trying yourself. So, please: always first do so some research, then try things, and then bring your code with your question. Instead of just giving us &quot;here is what I need, now somebody else please do all the work for me&quot;","body":"The reason why people are downvoting your request: &quot;here my requirements&quot; isn&#39;t considered a good/valid question by many. Remember: you learn programming by <i>first</i> trying yourself. So, please: always first do so some research, then try things, and then bring your code with your question. Instead of just giving us &quot;here is what I need, now somebody else please do all the work for me&quot;"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1642051958,"post_id":70680368,"comment_id":124970691,"body_markdown":"Define week. Define week-of-month.","body":"Define week. Define week-of-month."},{"owner":{"account_id":23916243,"reputation":41,"user_id":17912657,"display_name":"kmj"},"score":1,"creation_date":1642052469,"post_id":70680368,"comment_id":124970787,"body_markdown":"@GhostCat apologies that people felt that way, this is my first time asking question here,i have tried rephrasing the question and body for now, its just that had checked similar question earlier and it had answers limited to having weeknumber of the year and not month. Anyways will improvise myself going forward and will post only after thorough research! thanks for the advice","body":"@GhostCat apologies that people felt that way, this is my first time asking question here,i have tried rephrasing the question and body for now, its just that had checked similar question earlier and it had answers limited to having weeknumber of the year and not month. Anyways will improvise myself going forward and will post only after thorough research! thanks for the advice"},{"owner":{"account_id":23916243,"reputation":41,"user_id":17912657,"display_name":"kmj"},"score":0,"creation_date":1642053036,"post_id":70680368,"comment_id":124970882,"body_markdown":"@BasilBourque taking example of September2021, there are in total 5 weeks:\n 2021-09-01 to 2021-09-06 = Week 1,\n 2021-09-07 to 2021-09-13 = Week 2, and so on... here in String &quot;September2021W5&quot; , W5 is week 5 of the month September 2021 i.e. 2021-09-27 to 2021-09-31","body":"@BasilBourque taking example of September2021, there are in total 5 weeks:  2021-09-01 to 2021-09-06 = Week 1,  2021-09-07 to 2021-09-13 = Week 2, and so on... here in String &quot;September2021W5&quot; , W5 is week 5 of the month September 2021 i.e. 2021-09-27 to 2021-09-31"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1642058834,"post_id":70680368,"comment_id":124972236,"body_markdown":"Hint: as said, the point is: it is always better to first write code on your own, and bring that with you. and B) NEVER put more information into comments, always edit/update your question instead. All necessary information needs to be in the question. Dont expect the people here to dive through all the comments in order to be able to answer your question.","body":"Hint: as said, the point is: it is always better to first write code on your own, and bring that with you. and B) NEVER put more information into comments, always edit/update your question instead. All necessary information needs to be in the question. Dont expect the people here to dive through all the comments in order to be able to answer your question."}],"answers":[{"tags":[],"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641988910,"creation_date":1641986943,"answer_id":70680795,"question_id":70680368,"body_markdown":"``` lang-java\r\nimport java.time.DayOfWeek;\r\nimport java.time.LocalDate;\r\nimport java.time.temporal.ChronoField;\r\n\r\npublic class HelloWorld\r\n{\r\n     public static void main(String []args)\r\n     {\r\n        // your input date\r\n        LocalDate localDate = LocalDate.of(2022, 9, 30);\r\n\r\n        // ensure week 5\r\n        LocalDate week = localDate.with(ChronoField.ALIGNED_WEEK_OF_MONTH, 5);\r\n\r\n        // get localDate for first and last day\r\n        LocalDate start = week.with(DayOfWeek.MONDAY);\r\n        LocalDate end = start.plusDays(6);\r\n        System.out.println(start +&quot; - &quot;+ end);\r\n    }\r\n}\r\n```\r\n","title":"How to get daterange by having week number of the month and the year in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.time.DayOfWeek;\nimport java.time.LocalDate;\nimport java.time.temporal.ChronoField;\n\npublic class HelloWorld\n{\n     public static void main(String []args)\n     {\n        // your input date\n        LocalDate localDate = LocalDate.of(2022, 9, 30);\n\n        // ensure week 5\n        LocalDate week = localDate.with(ChronoField.ALIGNED_WEEK_OF_MONTH, 5);\n\n        // get localDate for first and last day\n        LocalDate start = week.with(DayOfWeek.MONDAY);\n        LocalDate end = start.plusDays(6);\n        System.out.println(start +&quot; - &quot;+ end);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641990775,"creation_date":1641989593,"answer_id":70681373,"question_id":70680368,"body_markdown":"Build a `DateTimeFormatter` that uses a default day of week as needed (start of week, e.g. Monday).  \r\nExample:\r\n````java\r\nvar format = new DateTimeFormatterBuilder()\r\n             .appendPattern(&quot;MMMMuuuu&#39;W&#39;W&quot;)   // or use corresponding appends\r\n             .parseDefaulting(ChronoField.DAY_OF_WEEK, DayOfWeek.MONDAY.getValue())\r\n             .toFormatter()\r\n             .withLocale(Locale.US);\r\nvar date = LocalDate.parse(&quot;September2021W5&quot;, format);\r\n````\r\nsame can be done for the end of the week, or just adding 6 days to previous result (`date.plusDays(6)`)\r\n\r\n-----\r\n`MMMM` is for month of year, full form  \r\n`uuuu` year  \r\n`&#39;W&#39;` for literal `W`  \r\n`W` for week of month\r\n\r\nUsing `Locale.UK` so the month gets parsed for that locale, use the one needed for the given input - to use the default system Locale, use `Locale.getDefault()`.","title":"How to get daterange by having week number of the month and the year in Java?","body":"<p>Build a <code>DateTimeFormatter</code> that uses a default day of week as needed (start of week, e.g. Monday).<br />\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var format = new DateTimeFormatterBuilder()\n             .appendPattern(&quot;MMMMuuuu'W'W&quot;)   // or use corresponding appends\n             .parseDefaulting(ChronoField.DAY_OF_WEEK, DayOfWeek.MONDAY.getValue())\n             .toFormatter()\n             .withLocale(Locale.US);\nvar date = LocalDate.parse(&quot;September2021W5&quot;, format);\n</code></pre>\n<p>same can be done for the end of the week, or just adding 6 days to previous result (<code>date.plusDays(6)</code>)</p>\n<hr />\n<p><code>MMMM</code> is for month of year, full form<br />\n<code>uuuu</code> year<br />\n<code>'W'</code> for literal <code>W</code><br />\n<code>W</code> for week of month</p>\n<p>Using <code>Locale.UK</code> so the month gets parsed for that locale, use the one needed for the given input - to use the default system Locale, use <code>Locale.getDefault()</code>.</p>\n"}],"owner":{"account_id":23916243,"reputation":41,"user_id":17912657,"display_name":"kmj"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1641997959,"accepted_answer_id":70681373,"answer_count":2,"score":-2,"last_activity_date":1642051545,"creation_date":1641985121,"question_id":70680368,"body_markdown":"Assuming we have data &quot;September2021W5&quot;, in which **W5** is the week number of the month September2021. Ofcourse I can write custom method to split and get **year, month and week-number of the month** seperately.\r\nHow can we get daterange i.e start date and end date of that particular week. \r\nI had **checked other similar questions** but they all had it solved in case of weeknumber specified for the year and not month.\r\nThanks in advance for any guidance or help provided!!!","title":"How to get daterange by having week number of the month and the year in Java?","body":"<p>Assuming we have data &quot;September2021W5&quot;, in which <strong>W5</strong> is the week number of the month September2021. Ofcourse I can write custom method to split and get <strong>year, month and week-number of the month</strong> seperately.\nHow can we get daterange i.e start date and end date of that particular week.\nI had <strong>checked other similar questions</strong> but they all had it solved in case of weeknumber specified for the year and not month.\nThanks in advance for any guidance or help provided!!!</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642019805,"creation_date":1642019805,"answer_id":70688064,"question_id":70686963,"body_markdown":"Please add below property in your `application.properties` though spring detects it based on URL\r\n\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nAlso please ensure you have below dependency in your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"I am unable to connect to the Heroku Postgres database","body":"<p>Please add below property in your <code>application.properties</code> though spring detects it based on URL</p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p>Also please ensure you have below dependency in your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642051440,"creation_date":1642050630,"answer_id":70691704,"question_id":70686963,"body_markdown":"Set followings\r\n\r\nIn your `application.properties`\r\n\r\n```properties\r\nspring.datasource.url=jdbc:postgresql://&lt;HOST&gt;:&lt;PORT&gt;/&lt;DATABASE&gt;\r\nspring.datasource.username=&lt;USER&gt;\r\nspring.datasource.password=&lt;PASSWORD&gt;\r\nspring.datasource.driver-classname=org.postgresql.Driver\r\n```\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;42.2.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nFrom your heroku postgres administration **Settings** option you can inspect the values\r\n\r\n[![Postgres administration settings][1]][1]\r\n\r\n**Bonus :**\r\nMore appropriate option would be capture the `application.properties` values from environment. To do so change your application properties like following\r\n\r\n```properties\r\nspring.datasource.url=${SPRING_DATASOURCE_URL}\r\nspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\r\nspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}\r\nspring.datasource.driver-classname=org.postgresql.Driver\r\n```\r\n\r\nThen in heroku dashboard your application settings there is a option named `Reveal config var`. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThere add following environment variables\r\n\r\n```properties\r\nSPRING_DATASOURCE_URL=jdbc:postgresql://&lt;HOST&gt;:&lt;PORT&gt;/&lt;DATABASE&gt;\r\nSPRING_DATASOURCE_USERNAME=&lt;USER&gt;\r\nSPRING_DATASOURCE_PASSWORD=&lt;PASSWORD&gt;\r\n```\r\n\r\nThus your application stays decoupled from the environment.\r\n\r\n  [1]: https://i.stack.imgur.com/rBhUW.png\r\n  [2]: https://i.stack.imgur.com/DPKVc.png","title":"I am unable to connect to the Heroku Postgres database","body":"<p>Set followings</p>\n<p>In your <code>application.properties</code></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://&lt;HOST&gt;:&lt;PORT&gt;/&lt;DATABASE&gt;\nspring.datasource.username=&lt;USER&gt;\nspring.datasource.password=&lt;PASSWORD&gt;\nspring.datasource.driver-classname=org.postgresql.Driver\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.2.20&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>From your heroku postgres administration <strong>Settings</strong> option you can inspect the values</p>\n<p><a href=\"https://i.stack.imgur.com/rBhUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rBhUW.png\" alt=\"Postgres administration settings\" /></a></p>\n<p><strong>Bonus :</strong>\nMore appropriate option would be capture the <code>application.properties</code> values from environment. To do so change your application properties like following</p>\n<pre><code>spring.datasource.url=${SPRING_DATASOURCE_URL}\nspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\nspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}\nspring.datasource.driver-classname=org.postgresql.Driver\n</code></pre>\n<p>Then in heroku dashboard your application settings there is a option named <code>Reveal config var</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/DPKVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DPKVc.png\" alt=\"enter image description here\" /></a></p>\n<p>There add following environment variables</p>\n<pre><code>SPRING_DATASOURCE_URL=jdbc:postgresql://&lt;HOST&gt;:&lt;PORT&gt;/&lt;DATABASE&gt;\nSPRING_DATASOURCE_USERNAME=&lt;USER&gt;\nSPRING_DATASOURCE_PASSWORD=&lt;PASSWORD&gt;\n</code></pre>\n<p>Thus your application stays decoupled from the environment.</p>\n"}],"owner":{"account_id":13876880,"reputation":7,"user_id":10301991,"display_name":"Amanda Nunes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70691704,"answer_count":2,"score":0,"last_activity_date":1642051440,"creation_date":1642013829,"question_id":70686963,"body_markdown":"I&#39;m trying to connect to the bank, but it&#39;s giving this error here when I try:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n        If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n        If you have database settings to be \r\nloaded from a particular profile you may need to activate it (no profiles are currently \r\nactive).\r\n\r\n\r\nMy application properties:\r\n\r\n```\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.datasource.url=jdbc:postgres://********:******:port/database\r\nspring.datasource.username=******\r\nspring.datasource.password=*** \r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.http.cors.enabled=true\r\n```\r\n\r\nMy pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.bird&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;bird&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;bird&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"I am unable to connect to the Heroku Postgres database","body":"<p>I'm trying to connect to the bank, but it's giving this error here when I try:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Failed to configure a DataSource: no embedded datasource could be configured.</p>\n<p>Reason: Failed to determine a suitable driver class</p>\n<p>Action:</p>\n<p>Consider the following:\nIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\nIf you have database settings to be\nloaded from a particular profile you may need to activate it (no profiles are currently\nactive).</p>\n<p>My application properties:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.datasource.url=jdbc:postgres://********:******:port/database\nspring.datasource.username=******\nspring.datasource.password=*** \n\nspring.jpa.hibernate.ddl-auto=update\nspring.http.cors.enabled=true\n</code></pre>\n<p>My pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.bird&lt;/groupId&gt;\n    &lt;artifactId&gt;bird&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;bird&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","collections","big-o","indexof"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1602419121,"post_id":64303948,"comment_id":113708339,"body_markdown":"HashMap: https://stackoverflow.com/questions/1055243/is-a-java-hashmap-search-really-o1","body":"HashMap: <a href=\"https://stackoverflow.com/questions/1055243/is-a-java-hashmap-search-really-o1\" title=\"is a java hashmap search really o1\">stackoverflow.com/questions/1055243/&hellip;</a>"},{"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1602419406,"post_id":64303948,"comment_id":113708410,"body_markdown":"@tgdavies thanks for the link, but I&#39;m specifically asking about a collection with that characteristic. I know, I can possibly use a map as a workaround. [not perfect though]","body":"@tgdavies thanks for the link, but I&#39;m specifically asking about a collection with that characteristic. I know, I can possibly use a map as a workaround. [not perfect though]"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":1,"creation_date":1602419500,"post_id":64303948,"comment_id":113708433,"body_markdown":"Why you think _[not perfect though]_ ? Think if objects are not unique how you will find the index ?","body":"Why you think <i>[not perfect though]</i> ? Think if objects are not unique how you will find the index ?"},{"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1602428882,"post_id":64303948,"comment_id":113710991,"body_markdown":"@Eklavya I was searching for a collection like data structure. In my specific case elements are unique (non-duplicate)","body":"@Eklavya I was searching for a collection like data structure. In my specific case elements are unique (non-duplicate)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1602597257,"post_id":64303948,"comment_id":113766279,"body_markdown":"The only way I can think to do this is if the list index can be derived from properties of the element. For example, you can find `list.indexOf(3)` if `list` is `[0,1,2,3,4,5]`. But in general, you can&#39;t, because you need to search through the list.","body":"The only way I can think to do this is if the list index can be derived from properties of the element. For example, you can find <code>list.indexOf(3)</code> if <code>list</code> is <code>[0,1,2,3,4,5]</code>. But in general, you can&#39;t, because you need to search through the list."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642051191,"creation_date":1602419248,"answer_id":64304008,"question_id":64303948,"body_markdown":"There is no Java (standard) collection type with that property.\r\n\r\nThe `indexOf(Object)` method is declared in `List`, and there are no `List` implementations that provide better than `O(N)` lookup.\r\n\r\nThere are other collection types that provide `O(logN)` or `O(1)` lookup, but they do not return a position (and index) like `indexOf(Object)` does.  (`HashMap` and `HashSet` provide respectively `get(key)` and `contains(object)` that are `O(1)`.)\r\n\r\n-------------------\r\n\r\n&gt; If there is nothing, can anyone help me out to deduce the reason why such has not been formed? Any particular reason?\r\n\r\nBecause a data structure that *did* provide such functionality would be complicated, and (probably) slower and/or combine the drawbacks of both an `ArrayList` and a `HashMap`.\r\n\r\n&lt;sup&gt;I can&#39;t think of a *good* way to implement a list with fast lookup; i.e. one that didn&#39;t have serious drawbacks.  And if there was a good way, I would have expected the Java team to know about it ... and to have included it in the Java SE library.  This is similar to why there are no general purpose *concurrent* list types.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;I am not saying that it is impossible.  I&#39;m saying that if it is possible, nobody has discovered a way to do it.  AFAIK.&lt;/sup&gt;\r\n\r\nDesigning an general purpose collection type involves compromise.  When you optimize for one mode of access, you will often de-optimize for another.\r\n\r\n\r\n","title":"Any collection O(1) indexOf time complexity?","body":"<p>There is no Java (standard) collection type with that property.</p>\n<p>The <code>indexOf(Object)</code> method is declared in <code>List</code>, and there are no <code>List</code> implementations that provide better than <code>O(N)</code> lookup.</p>\n<p>There are other collection types that provide <code>O(logN)</code> or <code>O(1)</code> lookup, but they do not return a position (and index) like <code>indexOf(Object)</code> does.  (<code>HashMap</code> and <code>HashSet</code> provide respectively <code>get(key)</code> and <code>contains(object)</code> that are <code>O(1)</code>.)</p>\n<hr />\n<blockquote>\n<p>If there is nothing, can anyone help me out to deduce the reason why such has not been formed? Any particular reason?</p>\n</blockquote>\n<p>Because a data structure that <em>did</em> provide such functionality would be complicated, and (probably) slower and/or combine the drawbacks of both an <code>ArrayList</code> and a <code>HashMap</code>.</p>\n<p><sup>I can't think of a <em>good</em> way to implement a list with fast lookup; i.e. one that didn't have serious drawbacks.  And if there was a good way, I would have expected the Java team to know about it ... and to have included it in the Java SE library.  This is similar to why there are no general purpose <em>concurrent</em> list types.</sup></p>\n<p><sup>I am not saying that it is impossible.  I'm saying that if it is possible, nobody has discovered a way to do it.  AFAIK.</sup></p>\n<p>Designing an general purpose collection type involves compromise.  When you optimize for one mode of access, you will often de-optimize for another.</p>\n"},{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602419720,"creation_date":1602419351,"answer_id":64304028,"question_id":64303948,"body_markdown":"To find the index of an element in a Collection in `O(1)` you need to be able to *directly* retrieve the index of the element without searching. A `List` or an `array` doesn&#39;t allow us to do this (requires `O(N)`) and a `Set` is not ordered &lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nWe are left with a `Map` but a Map is a *key-value* pair.\r\n\r\nYou can create a map with key as the element and value as the index as an auxiliary data structure to your collection. The downside is you need to update the map when you update your collection (List/Array) \r\n\r\nor just use the map and get rid of your collection.\r\n\r\n---\r\n&lt;sup&gt;1&lt;/sup&gt; `indexOf` method is on a `List` and not on `Collection`.","title":"Any collection O(1) indexOf time complexity?","body":"<p>To find the index of an element in a Collection in <code>O(1)</code> you need to be able to <em>directly</em> retrieve the index of the element without searching. A <code>List</code> or an <code>array</code> doesn't allow us to do this (requires <code>O(N)</code>) and a <code>Set</code> is not ordered <sup>1</sup>.</p>\n<p>We are left with a <code>Map</code> but a Map is a <em>key-value</em> pair.</p>\n<p>You can create a map with key as the element and value as the index as an auxiliary data structure to your collection. The downside is you need to update the map when you update your collection (List/Array)</p>\n<p>or just use the map and get rid of your collection.</p>\n<hr />\n<p><sup>1</sup> <code>indexOf</code> method is on a <code>List</code> and not on <code>Collection</code>.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602421095,"creation_date":1602421095,"answer_id":64304261,"question_id":64303948,"body_markdown":"A Map would seem to be the simplest solution, but just for fun: (implementing the rest of List is left as an exercise for the reader)\r\n\r\n```\r\npackage org.example;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.TreeSet;\r\n\r\npublic class HashList&lt;E&gt; {\r\n    private final List&lt;E&gt; list = new ArrayList&lt;&gt;();\r\n    private final Map&lt;E,Set&lt;Long&gt;&gt; indexes = new HashMap&lt;&gt;();\r\n\r\n    public long indexOf(E item) {\r\n        Set&lt;Long&gt; indexSet = indexes.get(item);\r\n        if (indexSet == null || indexSet.isEmpty()) {\r\n            return -1;\r\n        } else {\r\n            return indexSet.iterator().next();\r\n        }\r\n    }\r\n\r\n    public void add(E item) {\r\n        list.add(item);\r\n        long index = list.size() - 1;\r\n        Set&lt;Long&gt; indexSet = indexes.get(item);\r\n        if (indexSet == null) {\r\n            indexSet = new TreeSet&lt;&gt;();\r\n            indexes.put(item, indexSet);\r\n        }\r\n        indexSet.add(index);\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        HashList&lt;String&gt; list = new HashList&lt;&gt;();\r\n\r\n        assertTrue(list.indexOf(&quot;foo&quot;) == -1);\r\n        list.add(&quot;foo&quot;);\r\n        assertTrue(list.indexOf(&quot;foo&quot;) == 0);\r\n        list.add(&quot;bar&quot;);\r\n        assertTrue(list.indexOf(&quot;bar&quot;) == 1);\r\n        list.add(&quot;foo&quot;);\r\n        // still 0 for the first occurrence\r\n        assertTrue(list.indexOf(&quot;foo&quot;) == 0);\r\n    }\r\n\r\n    private static void assertTrue(boolean truth) {\r\n        if (!truth) {\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n}\r\n```","title":"Any collection O(1) indexOf time complexity?","body":"<p>A Map would seem to be the simplest solution, but just for fun: (implementing the rest of List is left as an exercise for the reader)</p>\n<pre><code>package org.example;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeSet;\n\npublic class HashList&lt;E&gt; {\n    private final List&lt;E&gt; list = new ArrayList&lt;&gt;();\n    private final Map&lt;E,Set&lt;Long&gt;&gt; indexes = new HashMap&lt;&gt;();\n\n    public long indexOf(E item) {\n        Set&lt;Long&gt; indexSet = indexes.get(item);\n        if (indexSet == null || indexSet.isEmpty()) {\n            return -1;\n        } else {\n            return indexSet.iterator().next();\n        }\n    }\n\n    public void add(E item) {\n        list.add(item);\n        long index = list.size() - 1;\n        Set&lt;Long&gt; indexSet = indexes.get(item);\n        if (indexSet == null) {\n            indexSet = new TreeSet&lt;&gt;();\n            indexes.put(item, indexSet);\n        }\n        indexSet.add(index);\n    }\n\n    public static void main(String... args) {\n        HashList&lt;String&gt; list = new HashList&lt;&gt;();\n\n        assertTrue(list.indexOf(&quot;foo&quot;) == -1);\n        list.add(&quot;foo&quot;);\n        assertTrue(list.indexOf(&quot;foo&quot;) == 0);\n        list.add(&quot;bar&quot;);\n        assertTrue(list.indexOf(&quot;bar&quot;) == 1);\n        list.add(&quot;foo&quot;);\n        // still 0 for the first occurrence\n        assertTrue(list.indexOf(&quot;foo&quot;) == 0);\n    }\n\n    private static void assertTrue(boolean truth) {\n        if (!truth) {\n            throw new RuntimeException();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64304008,"answer_count":3,"score":1,"last_activity_date":1642051191,"creation_date":1602418900,"question_id":64303948,"body_markdown":"Can anyone help me to figure out that, is there any collection type in java (or any language agonistic one) that offers O(1) time complexity for `indexOf(Item item)` operation? [You may assume there are no duplicates or simply the first index to be returned]\r\n\r\nIf there is nothing, can anyone help me out to deduct the reason why such has not been formed? Any particular reason?","title":"Any collection O(1) indexOf time complexity?","body":"<p>Can anyone help me to figure out that, is there any collection type in java (or any language agonistic one) that offers O(1) time complexity for <code>indexOf(Item item)</code> operation? [You may assume there are no duplicates or simply the first index to be returned]</p>\n<p>If there is nothing, can anyone help me out to deduct the reason why such has not been formed? Any particular reason?</p>\n"},{"tags":["java","logging","jmeter","load-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642050598,"creation_date":1642050598,"answer_id":70691699,"question_id":70686842,"body_markdown":"It&#39;s the consequence of [JMeter Bug 65300][1]\r\n\r\nIf you cannot use Java 8 (as the errors you&#39;re getting are specific to Java 9 and higher) you could amend [line 112 of your `jmeter.bat` startup script][2] to look like:\r\n\r\n    set JAVA9_OPTS=--add-opens java.desktop/sun.awt=ALL-UNNAMED --add-opens java.desktop/sun.swing=ALL-UNNAMED --add-opens java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\r\n\r\nAlso be aware that it&#39;s possible to generate the CSV version of the Aggregate Report using [JMeter Plugins Command Line Tool][3] as:\r\n\r\n    JMeterPluginsCMD.bat --generate-csv aggregate-report.csv --input-jtl /path/to/test/result.csv --plugin-type AggregateReport \r\n\r\n  [1]: https://bz.apache.org/bugzilla/show_bug.cgi?id=65300\r\n  [2]: https://github.com/apache/jmeter/blob/rel/v5.4.3/bin/jmeter.bat#L112\r\n  [3]: https://www.blazemeter.com/blog/how-use-jmeterpluginscmd-command-line","title":"Can&#39;t generate Aggregate Report with Apache JMeter","body":"<p>It's the consequence of <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=65300\" rel=\"nofollow noreferrer\">JMeter Bug 65300</a></p>\n<p>If you cannot use Java 8 (as the errors you're getting are specific to Java 9 and higher) you could amend <a href=\"https://github.com/apache/jmeter/blob/rel/v5.4.3/bin/jmeter.bat#L112\" rel=\"nofollow noreferrer\">line 112 of your <code>jmeter.bat</code> startup script</a> to look like:</p>\n<pre><code>set JAVA9_OPTS=--add-opens java.desktop/sun.awt=ALL-UNNAMED --add-opens java.desktop/sun.swing=ALL-UNNAMED --add-opens java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED\n</code></pre>\n<p>Also be aware that it's possible to generate the CSV version of the Aggregate Report using <a href=\"https://www.blazemeter.com/blog/how-use-jmeterpluginscmd-command-line\" rel=\"nofollow noreferrer\">JMeter Plugins Command Line Tool</a> as:</p>\n<pre><code>JMeterPluginsCMD.bat --generate-csv aggregate-report.csv --input-jtl /path/to/test/result.csv --plugin-type AggregateReport \n</code></pre>\n"}],"owner":{"account_id":19090085,"reputation":134,"user_id":13940531,"display_name":"Klh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70691699,"answer_count":1,"score":0,"last_activity_date":1642050598,"creation_date":1642013182,"question_id":70686842,"body_markdown":"I&#39;ve been having every issue under the sun with Apache JMeter which seems to be extremely poorly developed, being incompatible with everything from the latest version of Java SE to itself even!\r\n\r\nI began with errors being thrown simply as a result of the (native) dark theme which came with the app...\r\n\r\nAfter working through those, I&#39;m now trying to produce an Aggregate report for my load test Thread Group which I run from the command line using a PowerShell wrapper which simply takes in some parameters and passes them as variables to the JMX (duration, loop count, etc).\r\n\r\nThe Aggregate report is generating and saving a CSV similar to the summary report though... not showing percentiles and throughput etc. rather every single request in its own row.\r\n\r\nUpon further reading, I need to continue to manually process the results generated from the singular report JMeter is able to produce (really?), however, following [these instructions][1] I add another command to generate the Aggregate from the csv summary and it throws some more abstract errors which appears to be a result of a Java version conflict (according to [this pos][2]t)\r\n\r\nEveryone suggests that Java SE 17 is the issue, so I uninstall Java 17 and install an earlier version people suggest is working (v16) and now I can&#39;t even load the csv into the program...\r\n[![enter image description here][3]][3]\r\n\r\nEDIT: I removed the dark theme once again and that error is fixed now.\r\n\r\n\r\nI just want to generate an Aggregate report after my load test... how can I achieve this seemingly simple task in the ever so complicated and janky JMeter?\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39042847/jmeter-aggregate-report-does-not-aggregate-in-non-gui-mode\r\n  [2]: https://stackoverflow.com/questions/69294826/error-while-generating-report-in-apache-jmeter-5-4-1-tgz\r\n  [3]: https://i.stack.imgur.com/aLKre.png","title":"Can&#39;t generate Aggregate Report with Apache JMeter","body":"<p>I've been having every issue under the sun with Apache JMeter which seems to be extremely poorly developed, being incompatible with everything from the latest version of Java SE to itself even!</p>\n<p>I began with errors being thrown simply as a result of the (native) dark theme which came with the app...</p>\n<p>After working through those, I'm now trying to produce an Aggregate report for my load test Thread Group which I run from the command line using a PowerShell wrapper which simply takes in some parameters and passes them as variables to the JMX (duration, loop count, etc).</p>\n<p>The Aggregate report is generating and saving a CSV similar to the summary report though... not showing percentiles and throughput etc. rather every single request in its own row.</p>\n<p>Upon further reading, I need to continue to manually process the results generated from the singular report JMeter is able to produce (really?), however, following <a href=\"https://stackoverflow.com/questions/39042847/jmeter-aggregate-report-does-not-aggregate-in-non-gui-mode\">these instructions</a> I add another command to generate the Aggregate from the csv summary and it throws some more abstract errors which appears to be a result of a Java version conflict (according to <a href=\"https://stackoverflow.com/questions/69294826/error-while-generating-report-in-apache-jmeter-5-4-1-tgz\">this pos</a>t)</p>\n<p>Everyone suggests that Java SE 17 is the issue, so I uninstall Java 17 and install an earlier version people suggest is working (v16) and now I can't even load the csv into the program...\n<a href=\"https://i.stack.imgur.com/aLKre.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aLKre.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT: I removed the dark theme once again and that error is fixed now.</p>\n<p>I just want to generate an Aggregate report after my load test... how can I achieve this seemingly simple task in the ever so complicated and janky JMeter?</p>\n<p>Thank you!</p>\n"},{"tags":["java","algorithm","hashmap","key-value"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1642003724,"post_id":70681781,"comment_id":124958238,"body_markdown":"Since the keys are in numerical order, I suggest using an array or a list intsead of a map.","body":"Since the keys are in numerical order, I suggest using an array or a list intsead of a map."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641995265,"creation_date":1641995265,"answer_id":70682686,"question_id":70681781,"body_markdown":"For &quot;faster&quot; rotation the map could be replaced with a list and then method [`Collections.rotate`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-) could be used for this purpose.  Then the list elements may be accessed by index in range `[0..25]`.\r\n\r\nOr a small wrapper class may be implemented:\r\n```java\r\nstatic class MyCharMap {\r\n    private List&lt;Character&gt; chars = IntStream\r\n        .rangeClosed(&#39;A&#39;, &#39;Z&#39;)\r\n        .mapToObj(c -&gt; (char)c)\r\n        .collect(Collectors.toList());\r\n        \r\n    public void rotate() {\r\n        Collections.rotate(chars, 1);\r\n    }\r\n    \r\n    public Character get(Integer i) {\r\n        assert(1 &lt;= i &amp;&amp; i &lt;= 26);\r\n        return chars.get(i - 1);\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder(4 * chars.size() + 2);\r\n        sb.append(&#39;{&#39;);\r\n        for (int i = 0, n = chars.size(); i &lt; n; i++) {\r\n            if (i &gt; 0) sb.append(&quot;, &quot;);\r\n            sb.append(i + 1).append(&#39;:&#39;).append(chars.get(i));\r\n        }\r\n        sb.append(&#39;}&#39;);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\nTest:\r\n```java\r\nMyCharMap chars = new MyCharMap();\r\n        \r\nchars.rotate();\r\nchars.rotate();\r\nSystem.out.println(chars);\r\nSystem.out.println(chars.get(1));\r\n```\r\nOutput:\r\n```\r\n{1:Y, 2:Z, 3:A, 4:B, 5:C, 6:D, 7:E, 8:F, 9:G, 10:H, 11:I, 12:J, 13:K, 14:L, 15:M, 16:N, 17:O, 18:P, 19:Q, 20:R, 21:S, 22:T, 23:U, 24:V, 25:W, 26:X}\r\nY\r\n\r\n```\r\n","title":"How to change pairs in a map?","body":"<p>For &quot;faster&quot; rotation the map could be replaced with a list and then method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\" rel=\"nofollow noreferrer\"><code>Collections.rotate</code></a> could be used for this purpose.  Then the list elements may be accessed by index in range <code>[0..25]</code>.</p>\n<p>Or a small wrapper class may be implemented:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class MyCharMap {\n    private List&lt;Character&gt; chars = IntStream\n        .rangeClosed('A', 'Z')\n        .mapToObj(c -&gt; (char)c)\n        .collect(Collectors.toList());\n        \n    public void rotate() {\n        Collections.rotate(chars, 1);\n    }\n    \n    public Character get(Integer i) {\n        assert(1 &lt;= i &amp;&amp; i &lt;= 26);\n        return chars.get(i - 1);\n    }\n    \n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder(4 * chars.size() + 2);\n        sb.append('{');\n        for (int i = 0, n = chars.size(); i &lt; n; i++) {\n            if (i &gt; 0) sb.append(&quot;, &quot;);\n            sb.append(i + 1).append(':').append(chars.get(i));\n        }\n        sb.append('}');\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyCharMap chars = new MyCharMap();\n        \nchars.rotate();\nchars.rotate();\nSystem.out.println(chars);\nSystem.out.println(chars.get(1));\n</code></pre>\n<p>Output:</p>\n<pre><code>{1:Y, 2:Z, 3:A, 4:B, 5:C, 6:D, 7:E, 8:F, 9:G, 10:H, 11:I, 12:J, 13:K, 14:L, 15:M, 16:N, 17:O, 18:P, 19:Q, 20:R, 21:S, 22:T, 23:U, 24:V, 25:W, 26:X}\nY\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642003580,"creation_date":1642003580,"answer_id":70684734,"question_id":70681781,"body_markdown":"There is nothing wrong with your approach if using a map. But since rotations must be relative to some order and maps are unordered, you may want to use a List as suggested by [Alex Rudenko](https://stackoverflow.com/a/70682686/1552534).\r\n\r\nHere is another alternative using maps.  It permits left or right rotation by any amount (based on the sign) for a supplied map that has sequential integer keys starting at 1.  It also adjusts for counts exceeding the size by using the `remainder operator`. For left or right rotation offsets are simply calculated and the map altered and returned for subsequent processing.\r\n\r\n```\r\nBiFunction&lt;Map&lt;Integer, Character&gt;, Integer, Map&lt;Integer, Character&gt;&gt; rotate =\r\n\t\t(mp, cnt) -&gt; {\r\n\t\t\tint size = mp.values().size();\r\n\t\t\tint count = cnt &lt; 0 ? size + (cnt % size) - 1 :\r\n\t\t\t\t\tcnt - 1;\r\n\t\t\treturn mp.entrySet().stream()\r\n\t\t\t\t\t.map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(\r\n\t\t\t\t\t\t\t(e.getKey() + count) % size + 1,\r\n\t\t\t\t\t\t\te.getValue()))\r\n\t\t\t\t\t.collect(Collectors.toMap(e -&gt; e.getKey(),\r\n\t\t\t\t\t\t\te -&gt; e.getValue()));\r\n\t\t};\r\n\r\nSystem.out.println(map);     // original map - 10 elements\r\nmap = rotate.apply(map,1);   // right one - starting at J\r\nSystem.out.println(map);\t\t\r\nmap = rotate.apply(map,-2);  // left two, skipping A, going to B\r\nSystem.out.println(map);\r\nmap = rotate.apply(map, -21);// Essentially left one going to C\r\nSystem.out.println(map);\r\nmap = rotate.apply(map, 22); // Essentially right two going to A\r\nSystem.out.println(map);\r\n```\r\nprints\r\n```\r\n{1=A, 2=B, 3=C, 4=D, 5=E, 6=F, 7=G, 8=H, 9=I, 10=J}\r\n{1=J, 2=A, 3=B, 4=C, 5=D, 6=E, 7=F, 8=G, 9=H, 10=I}\r\n{1=B, 2=C, 3=D, 4=E, 5=F, 6=G, 7=H, 8=I, 9=J, 10=A}\r\n{1=C, 2=D, 3=E, 4=F, 5=G, 6=H, 7=I, 8=J, 9=A, 10=B}\r\n{1=A, 2=B, 3=C, 4=D, 5=E, 6=F, 7=G, 8=H, 9=I, 10=J}\r\n```\r\nThe lambda version could easily be replaced by a regular method that takes a single rotate value and works on a fixed map.","title":"How to change pairs in a map?","body":"<p>There is nothing wrong with your approach if using a map. But since rotations must be relative to some order and maps are unordered, you may want to use a List as suggested by <a href=\"https://stackoverflow.com/a/70682686/1552534\">Alex Rudenko</a>.</p>\n<p>Here is another alternative using maps.  It permits left or right rotation by any amount (based on the sign) for a supplied map that has sequential integer keys starting at 1.  It also adjusts for counts exceeding the size by using the <code>remainder operator</code>. For left or right rotation offsets are simply calculated and the map altered and returned for subsequent processing.</p>\n<pre><code>BiFunction&lt;Map&lt;Integer, Character&gt;, Integer, Map&lt;Integer, Character&gt;&gt; rotate =\n        (mp, cnt) -&gt; {\n            int size = mp.values().size();\n            int count = cnt &lt; 0 ? size + (cnt % size) - 1 :\n                    cnt - 1;\n            return mp.entrySet().stream()\n                    .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(\n                            (e.getKey() + count) % size + 1,\n                            e.getValue()))\n                    .collect(Collectors.toMap(e -&gt; e.getKey(),\n                            e -&gt; e.getValue()));\n        };\n\nSystem.out.println(map);     // original map - 10 elements\nmap = rotate.apply(map,1);   // right one - starting at J\nSystem.out.println(map);        \nmap = rotate.apply(map,-2);  // left two, skipping A, going to B\nSystem.out.println(map);\nmap = rotate.apply(map, -21);// Essentially left one going to C\nSystem.out.println(map);\nmap = rotate.apply(map, 22); // Essentially right two going to A\nSystem.out.println(map);\n</code></pre>\n<p>prints</p>\n<pre><code>{1=A, 2=B, 3=C, 4=D, 5=E, 6=F, 7=G, 8=H, 9=I, 10=J}\n{1=J, 2=A, 3=B, 4=C, 5=D, 6=E, 7=F, 8=G, 9=H, 10=I}\n{1=B, 2=C, 3=D, 4=E, 5=F, 6=G, 7=H, 8=I, 9=J, 10=A}\n{1=C, 2=D, 3=E, 4=F, 5=G, 6=H, 7=I, 8=J, 9=A, 10=B}\n{1=A, 2=B, 3=C, 4=D, 5=E, 6=F, 7=G, 8=H, 9=I, 10=J}\n</code></pre>\n<p>The lambda version could easily be replaced by a regular method that takes a single rotate value and works on a fixed map.</p>\n"},{"tags":[],"owner":{"account_id":9970271,"reputation":6093,"user_id":7376590,"accept_rate":50,"display_name":"steven7mwesigwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642026343,"creation_date":1642016440,"answer_id":70687482,"question_id":70681781,"body_markdown":"Based on [Alex Rudenko&#39;s answer](https://stackoverflow.com/a/70682686/7376590), you can create a custom map that uses  [Collections.rotate(...)](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-) behind the scenes.\r\n\r\n#### Custom map:\r\n\r\n````java\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nclass MyMap {\r\n    private static int counter = 0;\r\n    private final Map&lt;Integer, ?&gt; initMap;\r\n    private final List&lt;?&gt; list;\r\n    private Map&lt;Integer, ?&gt; rotatedMap;\r\n\r\n    public MyMap(List&lt;?&gt; list) {\r\n        this.list = list;\r\n        this.initMap = setMap(this.list);\r\n        this.rotatedMap = cloneMap(this.initMap);\r\n    }\r\n\r\n    private Map&lt;Integer, ?&gt; setMap(List&lt;?&gt; list) {\r\n        return IntStream.range(0, list.size())\r\n                .boxed()\r\n                .collect(Collectors.toMap(list::get, Function.identity()))\r\n                .entrySet()\r\n                .stream()\r\n                .peek(e -&gt; e.setValue(e.getValue() + 1))\r\n                .collect(Collectors.toMap(Map.Entry::getValue, Map.Entry::getKey));\r\n    }\r\n\r\n    private Map&lt;Integer, ?&gt; cloneMap(Map&lt;Integer, ?&gt; map) {\r\n        return map.entrySet()\r\n                .stream()\r\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    }\r\n\r\n    public Map&lt;Integer, ?&gt; get() {\r\n        counter = 0;\r\n        return rotatedMap;\r\n    }\r\n\r\n    public MyMap reset() {\r\n        counter = 0;\r\n        this.rotatedMap = cloneMap(this.initMap);\r\n        return this;\r\n\r\n    }\r\n\r\n    public MyMap rotate() {\r\n        return rotateMap(++counter);\r\n    }\r\n\r\n    public MyMap rotate(int distance) {\r\n        return rotateMap(distance);\r\n    }\r\n\r\n    private List&lt;?&gt; cloneList(List&lt;?&gt; list) {\r\n        return list.stream().map(e -&gt; e).collect(Collectors.toList());\r\n    }\r\n\r\n    private MyMap rotateMap(int distance) {\r\n        List&lt;?&gt; list = cloneList(this.list);\r\n        Collections.rotate(list, distance);\r\n        this.rotatedMap = setMap(list);\r\n        return this;\r\n    }\r\n\r\n    public String toString() {\r\n        return rotatedMap.toString();\r\n    }\r\n}\r\n````\r\n\r\n#### Example 1 (Rotate twice, Reset rotation, Rotate twice.):\r\n\r\n````java\r\n// Rotate twice, Reset rotation, Rotate twice.\r\nMyMap myCharMap1 = new MyMap(Arrays.asList(&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;));\r\nSystem.out.println(myCharMap1\r\n        .rotate(2)\r\n        .reset()\r\n        .rotate().rotate()\r\n        .get()); // {1=C, 2=D, 3=A, 4=B}\r\n````\r\n\r\n#### Example 2 (Rotate thrice. Can rotate a String list):\r\n\r\n````java\r\n//Rotate thrice.\r\nMyMap myMap = new MyMap(Arrays.asList(&quot;Peter&quot;, &quot;James&quot;, &quot;Sam&quot;, &quot;Tiffany&quot;, &quot;Mathew&quot;));\r\nSystem.out.println(myMap.rotate(3).get()); // {1=Sam, 2=Tiffany, 3=Mathew, 4=Peter, 5=James}\r\n````\r\n\r\n#### Example 3 (Rotate once. Can rotate a numeric list as well):\r\n\r\n````java\r\n// Rotate once. Can rotate a numeric list as well.\r\nMyMap myDigitMap3 = new MyMap(Arrays.asList(38, 56, 98, 160));\r\nSystem.out.println(myDigitMap3.rotate(1).get()); // {1=160, 2=38, 3=56, 4=98}\r\n````\r\n\r\n#### Example 4 (Can accept negative rotations):\r\n\r\n````java\r\n//Can accept negative rotations.\r\nMyMap myMap = new MyMap(Arrays.asList(&quot;Peter&quot;, &quot;James&quot;, &quot;Sam&quot;, &quot;Tiffany&quot;, &quot;Mathew&quot;));\r\nSystem.out.println(myMap.rotate(-3).get()); // {1=Tiffany, 2=Mathew, 3=Peter, 4=James, 5=Sam}\r\n````","title":"How to change pairs in a map?","body":"<p>Based on <a href=\"https://stackoverflow.com/a/70682686/7376590\">Alex Rudenko's answer</a>, you can create a custom map that uses  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\" rel=\"nofollow noreferrer\">Collections.rotate(...)</a> behind the scenes.</p>\n<h4>Custom map:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nclass MyMap {\n    private static int counter = 0;\n    private final Map&lt;Integer, ?&gt; initMap;\n    private final List&lt;?&gt; list;\n    private Map&lt;Integer, ?&gt; rotatedMap;\n\n    public MyMap(List&lt;?&gt; list) {\n        this.list = list;\n        this.initMap = setMap(this.list);\n        this.rotatedMap = cloneMap(this.initMap);\n    }\n\n    private Map&lt;Integer, ?&gt; setMap(List&lt;?&gt; list) {\n        return IntStream.range(0, list.size())\n                .boxed()\n                .collect(Collectors.toMap(list::get, Function.identity()))\n                .entrySet()\n                .stream()\n                .peek(e -&gt; e.setValue(e.getValue() + 1))\n                .collect(Collectors.toMap(Map.Entry::getValue, Map.Entry::getKey));\n    }\n\n    private Map&lt;Integer, ?&gt; cloneMap(Map&lt;Integer, ?&gt; map) {\n        return map.entrySet()\n                .stream()\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n    }\n\n    public Map&lt;Integer, ?&gt; get() {\n        counter = 0;\n        return rotatedMap;\n    }\n\n    public MyMap reset() {\n        counter = 0;\n        this.rotatedMap = cloneMap(this.initMap);\n        return this;\n\n    }\n\n    public MyMap rotate() {\n        return rotateMap(++counter);\n    }\n\n    public MyMap rotate(int distance) {\n        return rotateMap(distance);\n    }\n\n    private List&lt;?&gt; cloneList(List&lt;?&gt; list) {\n        return list.stream().map(e -&gt; e).collect(Collectors.toList());\n    }\n\n    private MyMap rotateMap(int distance) {\n        List&lt;?&gt; list = cloneList(this.list);\n        Collections.rotate(list, distance);\n        this.rotatedMap = setMap(list);\n        return this;\n    }\n\n    public String toString() {\n        return rotatedMap.toString();\n    }\n}\n</code></pre>\n<h4>Example 1 (Rotate twice, Reset rotation, Rotate twice.):</h4>\n<pre class=\"lang-java prettyprint-override\"><code>// Rotate twice, Reset rotation, Rotate twice.\nMyMap myCharMap1 = new MyMap(Arrays.asList('A', 'B', 'C', 'D'));\nSystem.out.println(myCharMap1\n        .rotate(2)\n        .reset()\n        .rotate().rotate()\n        .get()); // {1=C, 2=D, 3=A, 4=B}\n</code></pre>\n<h4>Example 2 (Rotate thrice. Can rotate a String list):</h4>\n<pre class=\"lang-java prettyprint-override\"><code>//Rotate thrice.\nMyMap myMap = new MyMap(Arrays.asList(&quot;Peter&quot;, &quot;James&quot;, &quot;Sam&quot;, &quot;Tiffany&quot;, &quot;Mathew&quot;));\nSystem.out.println(myMap.rotate(3).get()); // {1=Sam, 2=Tiffany, 3=Mathew, 4=Peter, 5=James}\n</code></pre>\n<h4>Example 3 (Rotate once. Can rotate a numeric list as well):</h4>\n<pre class=\"lang-java prettyprint-override\"><code>// Rotate once. Can rotate a numeric list as well.\nMyMap myDigitMap3 = new MyMap(Arrays.asList(38, 56, 98, 160));\nSystem.out.println(myDigitMap3.rotate(1).get()); // {1=160, 2=38, 3=56, 4=98}\n</code></pre>\n<h4>Example 4 (Can accept negative rotations):</h4>\n<pre class=\"lang-java prettyprint-override\"><code>//Can accept negative rotations.\nMyMap myMap = new MyMap(Arrays.asList(&quot;Peter&quot;, &quot;James&quot;, &quot;Sam&quot;, &quot;Tiffany&quot;, &quot;Mathew&quot;));\nSystem.out.println(myMap.rotate(-3).get()); // {1=Tiffany, 2=Mathew, 3=Peter, 4=James, 5=Sam}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9970271,"reputation":6093,"user_id":7376590,"accept_rate":50,"display_name":"steven7mwesigwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642026131,"creation_date":1642026131,"answer_id":70689153,"question_id":70681781,"body_markdown":"As stated by @code-apprentice in a [comment](https://stackoverflow.com/questions/70681781/how-to-change-pairs-in-a-map#comment124958238_70681781)\r\n\r\n&gt; Since the keys are in numerical order, I suggest using an array or a\r\n&gt; list instead of a map.\r\n\r\nIf in case you still want to return a map, you could use the [`Collections.rotate(...)`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-) method in conjunction with reconstructing the expected map. \r\n\r\n````java\r\nBiFunction&lt;List&lt;?&gt;, Integer, Map&lt;Integer, ?&gt;&gt; rotate =\r\n        (list, distance) -&gt; {\r\n\r\n            Function&lt;List&lt;?&gt;, Map&lt;Integer, ?&gt;&gt; setMap = (arrayList) -&gt; IntStream.range(0, arrayList.size())\r\n                    .boxed()\r\n                    .collect(Collectors.toMap(arrayList::get, Function.identity()))\r\n                    .entrySet()\r\n                    .stream()\r\n                    .peek(e -&gt; e.setValue(e.getValue() + 1))\r\n                    .collect(Collectors.toMap(Map.Entry::getValue, Map.Entry::getKey));\r\n\r\n            Collections.rotate(list, distance);\r\n            return setMap.apply(list);\r\n\r\n        };\r\n\r\nSystem.out.println(rotate.apply(Arrays.asList(&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;), 1)); // {1=D, 2=A, 3=B, 4=C}\r\nSystem.out.println(rotate.apply(Arrays.asList(&quot;Peter&quot;, &quot;James&quot;, &quot;Sam&quot;, &quot;Tiffany&quot;, &quot;Mathew&quot;), -3)); // {1=Tiffany, 2=Mathew, 3=Peter, 4=James, 5=Sam}\r\n````","title":"How to change pairs in a map?","body":"<p>As stated by @code-apprentice in a <a href=\"https://stackoverflow.com/questions/70681781/how-to-change-pairs-in-a-map#comment124958238_70681781\">comment</a></p>\n<blockquote>\n<p>Since the keys are in numerical order, I suggest using an array or a\nlist instead of a map.</p>\n</blockquote>\n<p>If in case you still want to return a map, you could use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#rotate-java.util.List-int-\" rel=\"nofollow noreferrer\"><code>Collections.rotate(...)</code></a> method in conjunction with reconstructing the expected map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BiFunction&lt;List&lt;?&gt;, Integer, Map&lt;Integer, ?&gt;&gt; rotate =\n        (list, distance) -&gt; {\n\n            Function&lt;List&lt;?&gt;, Map&lt;Integer, ?&gt;&gt; setMap = (arrayList) -&gt; IntStream.range(0, arrayList.size())\n                    .boxed()\n                    .collect(Collectors.toMap(arrayList::get, Function.identity()))\n                    .entrySet()\n                    .stream()\n                    .peek(e -&gt; e.setValue(e.getValue() + 1))\n                    .collect(Collectors.toMap(Map.Entry::getValue, Map.Entry::getKey));\n\n            Collections.rotate(list, distance);\n            return setMap.apply(list);\n\n        };\n\nSystem.out.println(rotate.apply(Arrays.asList('A', 'B', 'C', 'D'), 1)); // {1=D, 2=A, 3=B, 4=C}\nSystem.out.println(rotate.apply(Arrays.asList(&quot;Peter&quot;, &quot;James&quot;, &quot;Sam&quot;, &quot;Tiffany&quot;, &quot;Mathew&quot;), -3)); // {1=Tiffany, 2=Mathew, 3=Peter, 4=James, 5=Sam}\n</code></pre>\n"}],"owner":{"account_id":16149079,"reputation":493,"user_id":12898912,"display_name":"Maksym Rybalkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1642050225,"creation_date":1641991441,"question_id":70681781,"body_markdown":"I have a `Map&lt;Integer, Character&gt; alphabetMap`, which contains links from number to alphabet.\r\n\r\nFor example: `[1: &#39;A&#39;, 2: &#39;B&#39;, ... , 26: &#39;Z&#39;]`\r\n\r\nI have a rotate() method, which should put the entries with changing links\r\n\r\nAfter first using of the method my map should be `[1: &#39;Z&#39;, 2: &#39;A&#39;, 3: &#39;B&#39;, ... , 26: &#39;Y&#39;]`\r\n\r\nHere is my current realisation:\r\n\r\n    public void rotate() {\r\n        final Map&lt;Integer, Character&gt; tempMap = new HashMap&lt;&gt;();\r\n        alphabetMap.forEach((key, value) -&gt; tempMap.put(key == 26 ? 1 : key + 1, value));\r\n        alphabetMap = tempMap;\r\n    }\r\nIs there any another way/algorhitm to &quot;rotate&quot; my entries quicker?","title":"How to change pairs in a map?","body":"<p>I have a <code>Map&lt;Integer, Character&gt; alphabetMap</code>, which contains links from number to alphabet.</p>\n<p>For example: <code>[1: 'A', 2: 'B', ... , 26: 'Z']</code></p>\n<p>I have a rotate() method, which should put the entries with changing links</p>\n<p>After first using of the method my map should be <code>[1: 'Z', 2: 'A', 3: 'B', ... , 26: 'Y']</code></p>\n<p>Here is my current realisation:</p>\n<pre><code>public void rotate() {\n    final Map&lt;Integer, Character&gt; tempMap = new HashMap&lt;&gt;();\n    alphabetMap.forEach((key, value) -&gt; tempMap.put(key == 26 ? 1 : key + 1, value));\n    alphabetMap = tempMap;\n}\n</code></pre>\n<p>Is there any another way/algorhitm to &quot;rotate&quot; my entries quicker?</p>\n"},{"tags":["java","android","android-developer-api","hotspot"],"answers":[{"tags":[],"owner":{"account_id":8566777,"reputation":880,"user_id":6419026,"display_name":"Soumik Bhattacharjee"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1642023918,"creation_date":1642023918,"answer_id":70688826,"question_id":70688700,"body_markdown":"You can use [AndroidWifiManager][1] library to enable hotspot programmatically.\r\n\r\nHere is how it can be used in your code (This is already available in the Git ReadMe, I am just rewriting it.)\r\n\r\n#### Step 1 : Add the jcenter repository to your build file\r\n\r\n```gradle\r\nallprojects {\r\n    repositories {\r\n        ...\r\n        jcenter()\r\n    }\r\n}\r\n```\r\n\r\n#### Step 2 : Add the dependency\r\n```gradle\r\ndependencies {\r\n    implementation &#39;com.vkpapps.wifimanager:APManager:1.0.0&#39;\r\n}\r\n```\r\n#### Step 3 : Use in your app\r\n##### Handle error manually\r\n```java\r\nAPManager apManager = APManager.getApManager(this);\r\napManager.turnOnHotspot(this, new APManager.OnSuccessListener() {\r\n\r\n    @Override\r\n    public void onSuccess(String ssid, String password) {\r\n        //write your logic\r\n    }\r\n\r\n}, new APManager.OnFailureListener() {\r\n\r\n    @Override\r\n    public void onFailure(int failureCode, @Nullable Exception e) {\r\n        //handle error like give access to location permission,write system setting permission,\r\n        //disconnect wifi,turn off already created hotspot,enable GPS provider\r\n        \r\n        //or use DefaultFailureListener class to handle automatically\r\n    }\r\n\r\n});\r\n//use this line to turn off Hotspot\r\n//apManager.disableWifiAp();\r\n```\r\n##### Handle error automatically with inbuilt class\r\n```java\r\nAPManager apManager = APManager.getApManager(this);\r\napManager.turnOnHotspot(this,\r\n        new APManager.OnSuccessListener() {\r\n\r\n            @Override\r\n            public void onSuccess(@NonNull String ssid, @NonNull String password) {\r\n                //write your logic\r\n            }\r\n\r\n        },\r\n        new DefaultFailureListener(this)\r\n);\r\n\r\n//use this line to turn off Hotspot\r\n//apManager.disableWifiAp();\r\n```\r\n\r\n\r\n  [1]: https://github.com/vijaypatidar/AndroidWifiManager","title":"Android turn On/Off Mobile HotSpot programmatically","body":"<p>You can use <a href=\"https://github.com/vijaypatidar/AndroidWifiManager\" rel=\"nofollow noreferrer\">AndroidWifiManager</a> library to enable hotspot programmatically.</p>\n<p>Here is how it can be used in your code (This is already available in the Git ReadMe, I am just rewriting it.)</p>\n<h4>Step 1 : Add the jcenter repository to your build file</h4>\n<pre><code>allprojects {\n    repositories {\n        ...\n        jcenter()\n    }\n}\n</code></pre>\n<h4>Step 2 : Add the dependency</h4>\n<pre><code>dependencies {\n    implementation 'com.vkpapps.wifimanager:APManager:1.0.0'\n}\n</code></pre>\n<h4>Step 3 : Use in your app</h4>\n<h5>Handle error manually</h5>\n<pre class=\"lang-java prettyprint-override\"><code>APManager apManager = APManager.getApManager(this);\napManager.turnOnHotspot(this, new APManager.OnSuccessListener() {\n\n    @Override\n    public void onSuccess(String ssid, String password) {\n        //write your logic\n    }\n\n}, new APManager.OnFailureListener() {\n\n    @Override\n    public void onFailure(int failureCode, @Nullable Exception e) {\n        //handle error like give access to location permission,write system setting permission,\n        //disconnect wifi,turn off already created hotspot,enable GPS provider\n        \n        //or use DefaultFailureListener class to handle automatically\n    }\n\n});\n//use this line to turn off Hotspot\n//apManager.disableWifiAp();\n</code></pre>\n<h5>Handle error automatically with inbuilt class</h5>\n<pre class=\"lang-java prettyprint-override\"><code>APManager apManager = APManager.getApManager(this);\napManager.turnOnHotspot(this,\n        new APManager.OnSuccessListener() {\n\n            @Override\n            public void onSuccess(@NonNull String ssid, @NonNull String password) {\n                //write your logic\n            }\n\n        },\n        new DefaultFailureListener(this)\n);\n\n//use this line to turn off Hotspot\n//apManager.disableWifiAp();\n</code></pre>\n"}],"owner":{"account_id":23923174,"reputation":21,"user_id":17918670,"display_name":"Den"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1642050080,"creation_date":1642023192,"question_id":70688700,"body_markdown":"I&#39;ve seen many people ask the question already. But unfortunately, my knowledge of programming is limited only to writing PowerShell scripts :) and I cannot figure out the code.\r\n\r\nPerhaps someone will throw java and xml code, applications. Which can turn off or turn on mobile hotspot programmatically, without going into the settings.\r\n\r\nI was able to achieve that the settings would open where the user can toggle the state of the hotspot. But I need what the user could not do, tk. the application works in kiosk mode and it only needs to access the API and switch the state of the hotspot.","title":"Android turn On/Off Mobile HotSpot programmatically","body":"<p>I've seen many people ask the question already. But unfortunately, my knowledge of programming is limited only to writing PowerShell scripts :) and I cannot figure out the code.</p>\n<p>Perhaps someone will throw java and xml code, applications. Which can turn off or turn on mobile hotspot programmatically, without going into the settings.</p>\n<p>I was able to achieve that the settings would open where the user can toggle the state of the hotspot. But I need what the user could not do, tk. the application works in kiosk mode and it only needs to access the API and switch the state of the hotspot.</p>\n"},{"tags":["java","maven","intellij-idea","aws-sdk"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1641977954,"post_id":70678666,"comment_id":124946692,"body_markdown":"_I don&#39;t want to mention any specific version here._ - why?","body":"<i>I don&#39;t want to mention any specific version here.</i> - why?"},{"owner":{"account_id":1244630,"reputation":2365,"user_id":1206344,"accept_rate":83,"display_name":"mnhmilu"},"score":0,"creation_date":1641981694,"post_id":70678666,"comment_id":124948202,"body_markdown":"I want maven to manage version as my &quot;Spring&quot; Module do with a compatible version","body":"I want maven to manage version as my &quot;Spring&quot; Module do with a compatible version"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1642057480,"post_id":70678666,"comment_id":124971822,"body_markdown":"The aws-java-sdk-core is not managed by the spring-boot-dependencies. You have figure out the correct version which is compatible with the given spring boot version.","body":"The aws-java-sdk-core is not managed by the spring-boot-dependencies. You have figure out the correct version which is compatible with the given spring boot version."},{"owner":{"account_id":1244630,"reputation":2365,"user_id":1206344,"accept_rate":83,"display_name":"mnhmilu"},"score":0,"creation_date":1642067320,"post_id":70678666,"comment_id":124975161,"body_markdown":"@khmarbaise yes I understood. There should be a clear dependencies matrix for major groups,  for example com.amazonaws and spring boot . Unfortunately, didn&#39;t able to find any yet.","body":"@khmarbaise yes I understood. There should be a clear dependencies matrix for major groups,  for example com.amazonaws and spring boot . Unfortunately, didn&#39;t able to find any yet."}],"answers":[{"tags":[],"owner":{"account_id":23617210,"reputation":256,"user_id":17651108,"display_name":"Azadi Yazdani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641981844,"creation_date":1641979485,"answer_id":70679080,"question_id":70678666,"body_markdown":"You have declared   &#39;org.springframework.boot&#39; as the parent module of both modules. So if some jars and artifacts like  &#39;com.amazonaws&#39; do not exist in  &#39;org.springframework.boot&#39;, they won&#39;t be resolved in your project. These dependencies are not announced in &#39;Spring&#39; module in your project and whatever you have declared in it, can be found in  &#39;org.springframework.boot&#39;, then resolved. If you do not declare a &#39;version&#39; tag in your pom, I guess the version of the parent (here 2.6.1) will be considered for your module version.","title":"Why maven sometimes can&#39;t resolve dependencies?","body":"<p>You have declared   'org.springframework.boot' as the parent module of both modules. So if some jars and artifacts like  'com.amazonaws' do not exist in  'org.springframework.boot', they won't be resolved in your project. These dependencies are not announced in 'Spring' module in your project and whatever you have declared in it, can be found in  'org.springframework.boot', then resolved. If you do not declare a 'version' tag in your pom, I guess the version of the parent (here 2.6.1) will be considered for your module version.</p>\n"},{"tags":[],"owner":{"account_id":344141,"reputation":56,"user_id":676282,"display_name":"Ali Azam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642050016,"creation_date":1642049696,"answer_id":70691603,"question_id":70678666,"body_markdown":"I think BOM (Bill of Materials) may come into rescue. If we use BOM, we don&#39;t need to specify version numbers each time we add dependencies under same parent POM. For example:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-bom --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.138&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Why maven sometimes can&#39;t resolve dependencies?","body":"<p>I think BOM (Bill of Materials) may come into rescue. If we use BOM, we don't need to specify version numbers each time we add dependencies under same parent POM. For example:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-bom --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n    &lt;version&gt;1.12.138&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1244630,"reputation":2365,"user_id":1206344,"accept_rate":83,"display_name":"mnhmilu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70679080,"answer_count":2,"score":1,"last_activity_date":1642050016,"creation_date":1641977674,"question_id":70678666,"body_markdown":"I have a multimodule Maven project where parent pom is as follows\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;poc&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;description&gt;Root Maven project&lt;/description&gt;\r\n    &lt;modules&gt;\r\n         &lt;module&gt;Spring&lt;/module&gt;\r\n         &lt;module&gt;SpringBootLocalstack&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\nand Spring module pom is (without mention any version) :\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;Spring&lt;/artifactId&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;analyze&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;analyze-only&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n                            &lt;outputXML&gt;true&lt;/outputXML&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;org.apache.commons:commons-collections4&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSpringBootLocalstack module pom is :\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;SpringBootLocalstack&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.356&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-ssm&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.665&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.356&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.19.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;analyze&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;analyze-only&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n                            &lt;outputXML&gt;true&lt;/outputXML&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-docs&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;backend&gt;html&lt;/backend&gt;\r\n                            &lt;doctype&gt;book&lt;/doctype&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;org.apache.commons:commons-collections4&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nFor Spring Module, When I reload all maven projects from IntelliJ, it successfully resolve all dependencies but for SpringBootLocalstack if I remove &quot;version&quot; tag from pom file it failed to resolve, Example:\r\n```\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n              &lt;/dependency&gt;\r\n``` \r\nI am getting: \r\n&gt; Cannot resolve com.amazonaws:aws-java-sdk-core:unknown \r\n\r\nI don&#39;t want to mention any specific version here. Now my questions are:\r\n1) why sometimes maven can resolve dependencies like the above &quot;Spring&quot; Module and sometimes can&#39;t?(SpringBootLocalstack module where I didn&#39;t mention version no) \r\n2) How can we achieve compatibility safety for our maven dependencies? Is there any plugin (already tried dependency analyzer and version maven plugin but no luck)\r\n3) How can we upgrade our old project to new maven dependencies without breaking the existing project feature?\r\n\r\nThanks in advance.","title":"Why maven sometimes can&#39;t resolve dependencies?","body":"<p>I have a multimodule Maven project where parent pom is as follows</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;poc&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;Root Maven project&lt;/description&gt;\n    &lt;modules&gt;\n         &lt;module&gt;Spring&lt;/module&gt;\n         &lt;module&gt;SpringBootLocalstack&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and Spring module pom is (without mention any version) :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;Spring&lt;/artifactId&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;analyze&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;analyze-only&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n                            &lt;outputXML&gt;true&lt;/outputXML&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;org.apache.commons:commons-collections4&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>SpringBootLocalstack module pom is :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;SpringBootLocalstack&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;1.11.356&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-ssm&lt;/artifactId&gt;\n            &lt;version&gt;1.11.665&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;1.11.356&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;5.2.19.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;analyze&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;analyze-only&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n                            &lt;outputXML&gt;true&lt;/outputXML&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-docs&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;backend&gt;html&lt;/backend&gt;\n                            &lt;doctype&gt;book&lt;/doctype&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;org.apache.commons:commons-collections4&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>For Spring Module, When I reload all maven projects from IntelliJ, it successfully resolve all dependencies but for SpringBootLocalstack if I remove &quot;version&quot; tag from pom file it failed to resolve, Example:</p>\n<pre><code>     &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n              &lt;/dependency&gt;\n</code></pre>\n<p>I am getting:</p>\n<blockquote>\n<p>Cannot resolve com.amazonaws:aws-java-sdk-core:unknown</p>\n</blockquote>\n<p>I don't want to mention any specific version here. Now my questions are:</p>\n<ol>\n<li>why sometimes maven can resolve dependencies like the above &quot;Spring&quot; Module and sometimes can't?(SpringBootLocalstack module where I didn't mention version no)</li>\n<li>How can we achieve compatibility safety for our maven dependencies? Is there any plugin (already tried dependency analyzer and version maven plugin but no luck)</li>\n<li>How can we upgrade our old project to new maven dependencies without breaking the existing project feature?</li>\n</ol>\n<p>Thanks in advance.</p>\n"},{"tags":["java","web-services","soap","apache-axis"],"comments":[{"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"score":0,"creation_date":1373196756,"post_id":17474691,"comment_id":25460040,"body_markdown":"You need to review the XML snippet that is supposed to show what you want to send to the service. It mixes SOAP 1.1 and SOAP 1.2, and there is no namespace declaration for the `sear` prefix. It is therefore invalid. I suspect that the snippet shows the actual output of the code and not the message that you want to generate.","body":"You need to review the XML snippet that is supposed to show what you want to send to the service. It mixes SOAP 1.1 and SOAP 1.2, and there is no namespace declaration for the <code>sear</code> prefix. It is therefore invalid. I suspect that the snippet shows the actual output of the code and not the message that you want to generate."}],"answers":[{"tags":[],"owner":{"account_id":2925405,"reputation":97,"user_id":2506840,"display_name":"user2506840"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373063081,"creation_date":1373063081,"answer_id":17497580,"question_id":17474691,"body_markdown":"Do you have the WSDL and know the end point url ?\r\nYou can generate the client side code using the wsdl2java convertor.\r\n\r\nMore information at http://axis.apache.org/axis2/java/core/docs/userguide-creatingclients.html#choosingclient","title":"Add namespace prefix Axis2","body":"<p>Do you have the WSDL and know the end point url ?\nYou can generate the client side code using the wsdl2java convertor.</p>\n\n<p>More information at <a href=\"http://axis.apache.org/axis2/java/core/docs/userguide-creatingclients.html#choosingclient\" rel=\"nofollow\">http://axis.apache.org/axis2/java/core/docs/userguide-creatingclients.html#choosingclient</a></p>\n"},{"tags":[],"owner":{"account_id":2567388,"reputation":1842,"user_id":2227064,"accept_rate":50,"display_name":"Vegard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1373487597,"creation_date":1373487597,"answer_id":17580155,"question_id":17474691,"body_markdown":"    envelope.addNamespaceDeclaration(&quot;sear&quot;, &quot;http://search&quot;);\r\n","title":"Add namespace prefix Axis2","body":"<pre><code>envelope.addNamespaceDeclaration(\"sear\", \"http://search\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9929434,"reputation":319,"user_id":7349926,"display_name":"Mathew Stephen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642049641,"creation_date":1642049641,"answer_id":70691596,"question_id":17474691,"body_markdown":"        OMNamespace xsi = soapFactory.createOMNamespace(\r\n                Constants.URI_DEFAULT_SCHEMA_XSI,\r\n                Constants.NS_PREFIX_SCHEMA_XSI);\r\n\r\n        envelope.declareNamespace(xsi);","title":"Add namespace prefix Axis2","body":"<pre><code>    OMNamespace xsi = soapFactory.createOMNamespace(\n            Constants.URI_DEFAULT_SCHEMA_XSI,\n            Constants.NS_PREFIX_SCHEMA_XSI);\n\n    envelope.declareNamespace(xsi);\n</code></pre>\n"}],"owner":{"account_id":1905234,"reputation":661,"user_id":1720247,"accept_rate":78,"display_name":"Anton Chertash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":17580155,"answer_count":3,"score":0,"last_activity_date":1642049641,"creation_date":1372954667,"question_id":17474691,"body_markdown":"This is envelope which i wanna to send to service:\r\n\r\n   \r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    \t&lt;soapenv:Body xmlns:soapenv=&quot;http://www.w3.org/2003/05/soap-envelope&quot;&gt;\r\n    \t\t&lt;sear:searchUrls&gt;\r\n    \t\t\t&lt;sear:in0&gt;Safeway, 200 S. 3rd St, Renton, WA&lt;/sear:in0&gt;\r\n    \t\t&lt;/sear:searchUrls&gt;\r\n    \t&lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nAnd this is code to construct it:\r\n\r\n    SOAPFactory fac = OMAbstractFactory.getSOAP12Factory();\r\n    SOAPEnvelope envelope = fac.getDefaultEnvelope();\r\n    \r\n    OMNamespace omNs = fac.createOMNamespace(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, &quot;soapenv&quot;);\r\n    OMNamespace ns1 = fac.createOMNamespace(&quot;http://search&quot;, &quot;sear&quot;);\r\n    \r\n    envelope.setNamespace(omNs);\r\n            \r\n    OMNamespace ns = fac.createOMNamespace(&quot;&quot;, &quot;&quot;)\r\n    OMElement method = fac.createOMElement(&quot;sear:searchUrls&quot;, ns);\r\n    OMElement value = fac.createOMElement(&quot;sear:in0&quot;, ns);\r\n    value.setText(&quot;Safeway, 200 S. 3rd St, Renton, WA&quot;);\r\n    method.addChild(value);\r\n    envelope.getBody().addChild(method);\r\n\r\nBut my namespace prefix &quot;sear&quot; is not defined. \r\nHow can I set it in code to get\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:sear=&quot;http://search&quot;&gt;\r\n\r\nin XML?","title":"Add namespace prefix Axis2","body":"<p>This is envelope which i wanna to send to service:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n    &lt;soapenv:Body xmlns:soapenv=\"http://www.w3.org/2003/05/soap-envelope\"&gt;\n        &lt;sear:searchUrls&gt;\n            &lt;sear:in0&gt;Safeway, 200 S. 3rd St, Renton, WA&lt;/sear:in0&gt;\n        &lt;/sear:searchUrls&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>And this is code to construct it:</p>\n\n<pre><code>SOAPFactory fac = OMAbstractFactory.getSOAP12Factory();\nSOAPEnvelope envelope = fac.getDefaultEnvelope();\n\nOMNamespace omNs = fac.createOMNamespace(\"http://schemas.xmlsoap.org/soap/envelope/\", \"soapenv\");\nOMNamespace ns1 = fac.createOMNamespace(\"http://search\", \"sear\");\n\nenvelope.setNamespace(omNs);\n\nOMNamespace ns = fac.createOMNamespace(\"\", \"\")\nOMElement method = fac.createOMElement(\"sear:searchUrls\", ns);\nOMElement value = fac.createOMElement(\"sear:in0\", ns);\nvalue.setText(\"Safeway, 200 S. 3rd St, Renton, WA\");\nmethod.addChild(value);\nenvelope.getBody().addChild(method);\n</code></pre>\n\n<p>But my namespace prefix \"sear\" is not defined. \nHow can I set it in code to get</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sear=\"http://search\"&gt;\n</code></pre>\n\n<p>in XML?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642049527,"creation_date":1642049527,"answer_id":70691583,"question_id":70691411,"body_markdown":"You can obtain the value of a property using the Environment API:\r\n```\r\n@Autowired\r\nprivate Environment env;\r\n...\r\nvar x = env.getProperty(&quot;myVar&quot;);\r\n```\r\n\r\nYou can also get the `Environment` from `ConfigurableApplicationContext`.\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html\r\n","title":"Spring get value from applicationContext","body":"<p>You can obtain the value of a property using the Environment API:</p>\n<pre><code>@Autowired\nprivate Environment env;\n...\nvar x = env.getProperty(&quot;myVar&quot;);\n</code></pre>\n<p>You can also get the <code>Environment</code> from <code>ConfigurableApplicationContext</code>.\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html</a></p>\n"}],"owner":{"account_id":1526352,"reputation":1722,"user_id":1424695,"display_name":"theAnonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70691583,"answer_count":1,"score":-1,"last_activity_date":1642049527,"creation_date":1642047978,"question_id":70691411,"body_markdown":"I&#39;d like to get the value of `@Value(&quot;${myVar}&quot;)` from `ApplicationContext`. How to do it? Using Spring 5.3.14.","title":"Spring get value from applicationContext","body":"<p>I'd like to get the value of <code>@Value(&quot;${myVar}&quot;)</code> from <code>ApplicationContext</code>. How to do it? Using Spring 5.3.14.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642051935,"post_id":70691542,"comment_id":124970686,"body_markdown":"DocementFile.findFile(fileName);","body":"DocementFile.findFile(fileName);"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642052026,"post_id":70691542,"comment_id":124970701,"body_markdown":"Or DocumentFile.listFiles() and then search the name in the list.","body":"Or DocumentFile.listFiles() and then search the name in the list."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642052058,"post_id":70691542,"comment_id":124970709,"body_markdown":"You cannot use File class.","body":"You cannot use File class."},{"owner":{"account_id":13600511,"reputation":23,"user_id":9811326,"display_name":"Luka"},"score":0,"creation_date":1642072751,"post_id":70691542,"comment_id":124977284,"body_markdown":"@blackapps Thank you so much for the information. I will research them.","body":"@blackapps Thank you so much for the information. I will research them."}],"owner":{"account_id":13600511,"reputation":23,"user_id":9811326,"display_name":"Luka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642049147,"creation_date":1642049147,"question_id":70691542,"body_markdown":"I want the user to give me access to videos folder of his choice using `ACTION_OPEN_DOCUMENT_TREE`. Then, I want to detect subtitles file based on a video name. For `videosample.mp4` I want to see if `videosample.srt` exists and then load it if it does. How do I detect the availability of the subtitles file(s) and how do I read it? Is it possible to read it using normal `File` class?","title":"Accessing files directly after asking for directory using ACTION_OPEN_DOCUMENT_TREE","body":"<p>I want the user to give me access to videos folder of his choice using <code>ACTION_OPEN_DOCUMENT_TREE</code>. Then, I want to detect subtitles file based on a video name. For <code>videosample.mp4</code> I want to see if <code>videosample.srt</code> exists and then load it if it does. How do I detect the availability of the subtitles file(s) and how do I read it? Is it possible to read it using normal <code>File</code> class?</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":3,"creation_date":1642048513,"post_id":70691456,"comment_id":124970164,"body_markdown":"The second one is buggy due to integer overflow for some array values.","body":"The second one is buggy due to integer overflow for some array values."}],"answers":[{"tags":[],"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1642048546,"creation_date":1642048546,"answer_id":70691476,"question_id":70691456,"body_markdown":"These are (essentially) functionally the same, as per [documentation][1]\r\n\r\nInteger.compare(x, y) returns &quot;the value 0 if x == y; a value less than 0 if x &lt; y; and a value greater than 0 if x &gt; y&quot;\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#compare(int,%20int)","title":"Sort a two dimensional array in Java","body":"<p>These are (essentially) functionally the same, as per <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#compare(int,%20int)\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>Integer.compare(x, y) returns &quot;the value 0 if x == y; a value less than 0 if x &lt; y; and a value greater than 0 if x &gt; y&quot;</p>\n"}],"owner":{"account_id":19209848,"reputation":1,"user_id":14035860,"display_name":"Aman Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642051020,"answer_count":1,"score":0,"last_activity_date":1642048546,"creation_date":1642048357,"question_id":70691456,"body_markdown":"Can anyone tell the difference between\r\n1)   Arrays.sort(points, (a, b) -&gt; Integer.compare(a[1], b[1]));\r\n\r\n2)   Arrays.sort(points, (a, b) -&gt;{ return a[1] - b[1]; });\r\n\r\n\r\n","title":"Sort a two dimensional array in Java","body":"<p>Can anyone tell the difference between</p>\n<ol>\n<li><p>Arrays.sort(points, (a, b) -&gt; Integer.compare(a[1], b[1]));</p>\n</li>\n<li><p>Arrays.sort(points, (a, b) -&gt;{ return a[1] - b[1]; });</p>\n</li>\n</ol>\n"},{"tags":["java","reactjs","spring","cors","json-rpc"],"answers":[{"tags":[],"owner":{"account_id":23857595,"reputation":92,"user_id":17860938,"display_name":"Navin Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642047753,"creation_date":1642047753,"answer_id":70691395,"question_id":70675789,"body_markdown":"I have faced the same issue with react and spring.\r\nIn this case, browser is blocking your request.\r\nput the reactjs build file inside template folder and run spring boot sends index.html then reactjs start works and cros error not come but it requires restController for all other requests.","title":"Trying to access the end point of a json rpc service from a java spring API by using axios in react js","body":"<p>I have faced the same issue with react and spring.\nIn this case, browser is blocking your request.\nput the reactjs build file inside template folder and run spring boot sends index.html then reactjs start works and cros error not come but it requires restController for all other requests.</p>\n"}],"owner":{"account_id":13464990,"reputation":115,"user_id":10554167,"display_name":"The Virtuoso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1642047753,"creation_date":1641956153,"question_id":70675789,"body_markdown":"I&#39;m actually trying to access the method at that endpoint but I keep getting the classic CORS error\r\n***&quot;Access to XMLHttpRequest at &#39;http://localhost:8080/rpc-measurements&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.&quot;***\r\n\r\n    @JsonRpcService(&quot;rpc-measurements&quot;)\r\n    public interface JsonRpcAPI {\r\n\r\n       public List&lt;Measurements&gt; getMeasurementsByDays(String username, int days);\r\n       public Float getAvgEnergyConsumption();\r\n       public String getUsername(String username);\r\n    }\r\n\r\nThe implementation:\r\n\r\n    @Service\r\n    @AutoJsonRpcServiceImpl\r\n    public class JsonRpcAPIimpl implements JsonRpcAPI {\r\n\r\n    @Autowired\r\n    private MeasurementsRepository measurementsRepository;\r\n    @Autowired\r\n    private DeviceRepository deviceRepository;\r\n    @Autowired\r\n    private PersonRepository personRepository;\r\n\r\n    @Override\r\n    public List&lt;Measurements&gt; getMeasurementsByDays(String username, int days) {\r\n        Person person = personRepository.findByName(username);\r\n        List&lt;Device&gt; devices = deviceRepository.findByPersonId(person.getId());\r\n        List&lt;Measurements&gt; measurements = new ArrayList&lt;&gt;();\r\n        devices.forEach(x -&gt; {\r\n              measurements.addAll(measurementsRepository.getEnergyConsumptionForDays(UuidAdapter.getBytesFromUUID(x.getId()), days));\r\n        });\r\n        return measurements;\r\n    }\r\n\r\n    @Override\r\n    public Float getAvgEnergyConsumption() {\r\n        return 0.0f;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername(String username) {\r\n        return username;\r\n    }\r\n    }\r\n\r\nThe security configuration file:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Resource(name = &quot;userService&quot;)\r\n    private CustomUserService userService;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        http.cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n        /*http.csrf().disable().authorizeRequests()\r\n                .anyRequest().permitAll();*/\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Autowired\r\n    private UnauthorizedEntryPoint unauthorizedEntryPoint;\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter authenticationTokenFilterBean() throws Exception {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n    }\r\nAnd finally the react js function that calls the API:\r\n\r\n    function handleValueSelect(event) {\r\n        axios.post(REST_API_URL + &#39;/rpc-measurements&#39;, {\r\n            id: &quot;1&quot;,\r\n            jsonrpc: &quot;2.0&quot;,\r\n            method:&quot;getAvgEnergyConsumption&quot;,\r\n            params:[]\r\n        },{\r\n            headers: {\r\n                Authorization: &quot;Bearer &quot; + localStorage.getItem(&#39;userToken&#39;)\r\n            }\r\n        }).then(res =&gt; {\r\n            setDataP(res.data.map((data) =&gt; ({\r\n                time: ((data.time.split(&#39;T&#39;)[1])\r\n                    .split(&#39;+&#39;)[0])\r\n                    .split(&#39;.&#39;)[0],\r\n                value: data.value\r\n            })));\r\n        });\r\n    };\r\n\r\nI have been wasting half a day trying to find some solutions, most of the problems related to the CORS policy error that I found on the internet were solved by either adding the @CrossOrigin annotation to a controller or by adding http.cors() in the security configuration file, the thing is that I am not trying to access an endpoint from a controller I am trying to access an endpoint from a json rpc service in order to use a method from there and I have no idea if I have to set up cross origin for that particular path in a different way compared to a controller (where you just use the annotation, and yes I already tried adding it to the service).\r\n\r\nThe weirdest thing is that I tried accessing the URL in postman with exactly the same body as in the axios request and it worked, but when I tried in the web client the CORS error kept popping up. I even tried creating a Rest Controller and using JsonRpcRestClient to invoke the method but it didn&#39;t work, it freezes my spring app, I don&#39;t even get an error or an exception in the console, it just stops responding.\r\n\r\nSo I wanted to ask if there&#39;s someone who&#39;s been in a similar situation or has some ideas on how to deal with the CORS policy error taking into account that I am trying to access an end point from a Service and not a controller.","title":"Trying to access the end point of a json rpc service from a java spring API by using axios in react js","body":"<p>I'm actually trying to access the method at that endpoint but I keep getting the classic CORS error\n<em><strong>&quot;Access to XMLHttpRequest at 'http://localhost:8080/rpc-measurements' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.&quot;</strong></em></p>\n<pre><code>@JsonRpcService(&quot;rpc-measurements&quot;)\npublic interface JsonRpcAPI {\n\n   public List&lt;Measurements&gt; getMeasurementsByDays(String username, int days);\n   public Float getAvgEnergyConsumption();\n   public String getUsername(String username);\n}\n</code></pre>\n<p>The implementation:</p>\n<pre><code>@Service\n@AutoJsonRpcServiceImpl\npublic class JsonRpcAPIimpl implements JsonRpcAPI {\n\n@Autowired\nprivate MeasurementsRepository measurementsRepository;\n@Autowired\nprivate DeviceRepository deviceRepository;\n@Autowired\nprivate PersonRepository personRepository;\n\n@Override\npublic List&lt;Measurements&gt; getMeasurementsByDays(String username, int days) {\n    Person person = personRepository.findByName(username);\n    List&lt;Device&gt; devices = deviceRepository.findByPersonId(person.getId());\n    List&lt;Measurements&gt; measurements = new ArrayList&lt;&gt;();\n    devices.forEach(x -&gt; {\n          measurements.addAll(measurementsRepository.getEnergyConsumptionForDays(UuidAdapter.getBytesFromUUID(x.getId()), days));\n    });\n    return measurements;\n}\n\n@Override\npublic Float getAvgEnergyConsumption() {\n    return 0.0f;\n}\n\n@Override\npublic String getUsername(String username) {\n    return username;\n}\n}\n</code></pre>\n<p>The security configuration file:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Resource(name = &quot;userService&quot;)\nprivate CustomUserService userService;\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    http.cors().and().csrf().disable()\n            .authorizeRequests()\n            .anyRequest().permitAll()\n            .and()\n            .exceptionHandling().authenticationEntryPoint(unauthorizedEntryPoint).and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n    /*http.csrf().disable().authorizeRequests()\n            .anyRequest().permitAll();*/\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userService).passwordEncoder(passwordEncoder());\n}\n\n@Autowired\nprivate UnauthorizedEntryPoint unauthorizedEntryPoint;\n\n@Override\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Bean\npublic JwtAuthenticationFilter authenticationTokenFilterBean() throws Exception {\n    return new JwtAuthenticationFilter();\n}\n}\n</code></pre>\n<p>And finally the react js function that calls the API:</p>\n<pre><code>function handleValueSelect(event) {\n    axios.post(REST_API_URL + '/rpc-measurements', {\n        id: &quot;1&quot;,\n        jsonrpc: &quot;2.0&quot;,\n        method:&quot;getAvgEnergyConsumption&quot;,\n        params:[]\n    },{\n        headers: {\n            Authorization: &quot;Bearer &quot; + localStorage.getItem('userToken')\n        }\n    }).then(res =&gt; {\n        setDataP(res.data.map((data) =&gt; ({\n            time: ((data.time.split('T')[1])\n                .split('+')[0])\n                .split('.')[0],\n            value: data.value\n        })));\n    });\n};\n</code></pre>\n<p>I have been wasting half a day trying to find some solutions, most of the problems related to the CORS policy error that I found on the internet were solved by either adding the @CrossOrigin annotation to a controller or by adding http.cors() in the security configuration file, the thing is that I am not trying to access an endpoint from a controller I am trying to access an endpoint from a json rpc service in order to use a method from there and I have no idea if I have to set up cross origin for that particular path in a different way compared to a controller (where you just use the annotation, and yes I already tried adding it to the service).</p>\n<p>The weirdest thing is that I tried accessing the URL in postman with exactly the same body as in the axios request and it worked, but when I tried in the web client the CORS error kept popping up. I even tried creating a Rest Controller and using JsonRpcRestClient to invoke the method but it didn't work, it freezes my spring app, I don't even get an error or an exception in the console, it just stops responding.</p>\n<p>So I wanted to ask if there's someone who's been in a similar situation or has some ideas on how to deal with the CORS policy error taking into account that I am trying to access an end point from a Service and not a controller.</p>\n"},{"tags":["java","scala","snowflake-cloud-data-platform","noclassdeffounderror"],"comments":[{"owner":{"account_id":8206798,"reputation":744,"user_id":6176274,"display_name":"Alexey Novakov"},"score":0,"creation_date":1642020273,"post_id":70686126,"comment_id":124964587,"body_markdown":"Welcome to the stackoverflow! Could you share your build.sbt file content? Most probably you need to also add Scala standard library to your CLASSPATH or package Scala into the target jar by using plugin like sbt-assembly.","body":"Welcome to the stackoverflow! Could you share your build.sbt file content? Most probably you need to also add Scala standard library to your CLASSPATH or package Scala into the target jar by using plugin like sbt-assembly."},{"owner":{"account_id":9720570,"reputation":1,"user_id":17916490,"display_name":"Ameya Joshi"},"score":0,"creation_date":1642048004,"post_id":70686126,"comment_id":124970082,"body_markdown":"Hi Alexey, I have added my build.sbt file content in the body above.\nI am new to sbt as well as scala. Can you please suggest what I need to add in build.sbt file ?","body":"Hi Alexey, I have added my build.sbt file content in the body above. I am new to sbt as well as scala. Can you please suggest what I need to add in build.sbt file ?"},{"owner":{"account_id":9720570,"reputation":1,"user_id":17916490,"display_name":"Ameya Joshi"},"score":1,"creation_date":1642591299,"post_id":70686126,"comment_id":125109672,"body_markdown":"I am able to run using plugin sbt-assembly","body":"I am able to run using plugin sbt-assembly"},{"owner":{"account_id":15910634,"reputation":111,"user_id":11480681,"display_name":"Tusharjain93"},"score":0,"creation_date":1651490882,"post_id":70686126,"comment_id":127369338,"body_markdown":"I am trying to run a java code to read table from Snowflake. Using this https://docs.snowflake.com/en/developer-guide/snowpark/java/example.html\n\nI am using snowpark 1.2.0 https://mvnrepository.com/artifact/com.snowflake/snowpark/1.2.0\n\nand getting error\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: scala/concurrent/ExecutionContext\nat com.snowflake.snowpark_java.SessionBuilder.&lt;init&gt;(SessionBuilder.java:19)\nat com.snowflake.snowpark_java.Session.builder(Session.java:52)\nat SnowparkExample.main(SnowparkExample.java:18)\n\nAny help would be appreciated","body":"I am trying to run a java code to read table from Snowflake. Using this <a href=\"https://docs.snowflake.com/en/developer-guide/snowpark/java/example.html\" rel=\"nofollow noreferrer\">docs.snowflake.com/en/developer-guide/snowpark/java/&hellip;</a>  I am using snowpark 1.2.0 <a href=\"https://mvnrepository.com/artifact/com.snowflake/snowpark/1.2.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.snowflake/snowpark/1.2.0</a>  and getting error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: scala/concurrent/ExecutionContext at com.snowflake.snowpark_java.SessionBuilder.&lt;init&gt;(SessionBui&zwnj;&#8203;lder.java:19) at com.snowflake.snowpark_java.Session.builder(Session.java:52) at SnowparkExample.main(SnowparkExample.java:18)  Any help would be appreciated"}],"owner":{"account_id":9720570,"reputation":1,"user_id":17916490,"display_name":"Ameya Joshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642047701,"creation_date":1642009576,"question_id":70686126,"body_markdown":"I have written Scala class which is showing tables from one of the Snowflake database. I have imported com.snowflake.snowpark._ &amp; com.snowflake.snowpark.functions._ libraries.\r\nWhen I do sbt compile &amp; sbt run, I am able to see database tables as output.\r\n\r\n.jar file gets generated in &lt;&gt;project-folder&gt;\\target\\scala-2.12\r\n\r\n**When I try to run this .jar using scala, I get error as java.lang.NoClassDefFoundError: scala/collection/Seq**\r\nbut when I run simple helloworld.jar as &quot;scala helloworld.jar&quot; --&gt; it runs properly &amp; display the output\r\n\r\nHere is my class in scala program:\r\n\r\n    class Weather{\r\n      def disp(){\r\n        // Replace the &lt;placeholders&gt; below.\r\n        val configs = Map (\r\n          &quot;URL&quot; -&gt; &quot;https://&lt;*****&gt;.snowflakecomputing.com:443&quot;,\r\n          &quot;USER&quot; -&gt; &quot;&lt;*****&gt;&quot;,\r\n          &quot;PASSWORD&quot; -&gt; &quot;&lt;******&gt;&quot;,\r\n          &quot;ROLE&quot; -&gt; &quot;&lt;*****&gt;&quot;,\r\n          &quot;WAREHOUSE&quot; -&gt; &quot;&lt;*****&gt;&quot;,\r\n          &quot;DB&quot; -&gt; &quot;SNOWFLAKE_SAMPLE_DATA&quot;,\r\n          &quot;SCHEMA&quot; -&gt; &quot;WEATHER&quot;\r\n        )\r\n        val session = Session.builder.configs(configs).create\r\n        session.sql(&quot;show tables&quot;).show()\r\n    \t}\r\n    }\r\n\r\nI need to use this jar in Snowflake UDF like below:\r\n\r\n    CREATE OR REPLACE FUNCTION Weather_Tables()\r\n    RETURNS NUMBER\r\n    LANGUAGE JAVA\r\n    IMPORTS = (&#39;@snowpark_stage/snowflake_connection_12jan_2.12-1.0.jar&#39;)\r\n    HANDLER = &#39;Weather.disp&#39;;\r\n\r\nmy build.sbt file content:\r\n\r\n    scalaVersion := &quot;2.12.11&quot;\r\n    //scalaVersion := &quot;2.11&quot;\r\n    // That is, to create a valid sbt build, all you&#39;ve got to do is define the\r\n    // version of Scala you&#39;d like your project to use.\r\n    \r\n    // ============================================================================\r\n    \r\n    // Lines like the above defining `scalaVersion` are called &quot;settings&quot;. Settings\r\n    // are key/value pairs. In the case of `scalaVersion`, the key is &quot;scalaVersion&quot;\r\n    // and the value is &quot;2.13.3&quot;\r\n    \r\n    // It&#39;s possible to define many kinds of settings, such as:\r\n    \r\n    name := &quot;snowflake_connection_12jan&quot;\r\n    organization := &quot;ch.epfl.scala&quot;\r\n    version := &quot;1.0&quot;\r\n    \r\n    // Note, it&#39;s not required for you to define these three settings. These are\r\n    // mostly only necessary if you intend to publish your library&#39;s binaries on a\r\n    // place like Sonatype.\r\n    \r\n    \r\n    // Want to use a published library in your project?\r\n    // You can define other libraries as dependencies in your build like this:\r\n    \r\n    libraryDependencies += &quot;org.scala-lang.modules&quot; %% &quot;scala-parser-combinators&quot; % &quot;1.1.2&quot;\r\n    resolvers += &quot;OSGeo Release Repository&quot; at &quot;https://repo.osgeo.org/repository/release/&quot;\r\n    libraryDependencies += &quot;com.snowflake&quot; % &quot;snowpark&quot; % &quot;0.11.0&quot;\r\n    //libraryDependencies += &quot;com.snowflake&quot; % &quot;snowpark&quot; % &quot;0.6.0&quot;\r\n    libraryDependencies += &quot;org.apache.spark&quot; % &quot;spark-core_2.11&quot; % &quot;2.2.0&quot;\r\n    \r\n    // unmanagedClasspath/includeFilter := &quot;lib&quot;\r\n    \r\n    // Here, `libraryDependencies` is a set of dependencies, and by using `+=`,\r\n    // we&#39;re adding the scala-parser-combinators dependency to the set of dependencies\r\n    // that sbt will go and fetch when it starts up.\r\n    // Now, in any Scala file, you can import classes, objects, etc., from\r\n    // scala-parser-combinators with a regular import.\r\n    \r\n    \r\n    Compile/console/scalacOptions += &quot;-Yrepl-class-based&quot;\r\n    Compile/console/scalacOptions += &quot;-Yrepl-outdir&quot;\r\n    Compile/console/scalacOptions += &quot;repl_classes&quot;\r\n\r\nPlease guide me if anyone know how to solve this error.\r\n","title":"Java Stack Trace: java.lang.NoClassDefFoundError: scala/collection/Seq while trying to run jar having class for Snowflake account connection","body":"<p>I have written Scala class which is showing tables from one of the Snowflake database. I have imported com.snowflake.snowpark._ &amp; com.snowflake.snowpark.functions._ libraries.\nWhen I do sbt compile &amp; sbt run, I am able to see database tables as output.</p>\n<p>.jar file gets generated in &lt;&gt;project-folder&gt;\\target\\scala-2.12</p>\n<p><strong>When I try to run this .jar using scala, I get error as java.lang.NoClassDefFoundError: scala/collection/Seq</strong>\nbut when I run simple helloworld.jar as &quot;scala helloworld.jar&quot; --&gt; it runs properly &amp; display the output</p>\n<p>Here is my class in scala program:</p>\n<pre><code>class Weather{\n  def disp(){\n    // Replace the &lt;placeholders&gt; below.\n    val configs = Map (\n      &quot;URL&quot; -&gt; &quot;https://&lt;*****&gt;.snowflakecomputing.com:443&quot;,\n      &quot;USER&quot; -&gt; &quot;&lt;*****&gt;&quot;,\n      &quot;PASSWORD&quot; -&gt; &quot;&lt;******&gt;&quot;,\n      &quot;ROLE&quot; -&gt; &quot;&lt;*****&gt;&quot;,\n      &quot;WAREHOUSE&quot; -&gt; &quot;&lt;*****&gt;&quot;,\n      &quot;DB&quot; -&gt; &quot;SNOWFLAKE_SAMPLE_DATA&quot;,\n      &quot;SCHEMA&quot; -&gt; &quot;WEATHER&quot;\n    )\n    val session = Session.builder.configs(configs).create\n    session.sql(&quot;show tables&quot;).show()\n    }\n}\n</code></pre>\n<p>I need to use this jar in Snowflake UDF like below:</p>\n<pre><code>CREATE OR REPLACE FUNCTION Weather_Tables()\nRETURNS NUMBER\nLANGUAGE JAVA\nIMPORTS = ('@snowpark_stage/snowflake_connection_12jan_2.12-1.0.jar')\nHANDLER = 'Weather.disp';\n</code></pre>\n<p>my build.sbt file content:</p>\n<pre><code>scalaVersion := &quot;2.12.11&quot;\n//scalaVersion := &quot;2.11&quot;\n// That is, to create a valid sbt build, all you've got to do is define the\n// version of Scala you'd like your project to use.\n\n// ============================================================================\n\n// Lines like the above defining `scalaVersion` are called &quot;settings&quot;. Settings\n// are key/value pairs. In the case of `scalaVersion`, the key is &quot;scalaVersion&quot;\n// and the value is &quot;2.13.3&quot;\n\n// It's possible to define many kinds of settings, such as:\n\nname := &quot;snowflake_connection_12jan&quot;\norganization := &quot;ch.epfl.scala&quot;\nversion := &quot;1.0&quot;\n\n// Note, it's not required for you to define these three settings. These are\n// mostly only necessary if you intend to publish your library's binaries on a\n// place like Sonatype.\n\n\n// Want to use a published library in your project?\n// You can define other libraries as dependencies in your build like this:\n\nlibraryDependencies += &quot;org.scala-lang.modules&quot; %% &quot;scala-parser-combinators&quot; % &quot;1.1.2&quot;\nresolvers += &quot;OSGeo Release Repository&quot; at &quot;https://repo.osgeo.org/repository/release/&quot;\nlibraryDependencies += &quot;com.snowflake&quot; % &quot;snowpark&quot; % &quot;0.11.0&quot;\n//libraryDependencies += &quot;com.snowflake&quot; % &quot;snowpark&quot; % &quot;0.6.0&quot;\nlibraryDependencies += &quot;org.apache.spark&quot; % &quot;spark-core_2.11&quot; % &quot;2.2.0&quot;\n\n// unmanagedClasspath/includeFilter := &quot;lib&quot;\n\n// Here, `libraryDependencies` is a set of dependencies, and by using `+=`,\n// we're adding the scala-parser-combinators dependency to the set of dependencies\n// that sbt will go and fetch when it starts up.\n// Now, in any Scala file, you can import classes, objects, etc., from\n// scala-parser-combinators with a regular import.\n\n\nCompile/console/scalacOptions += &quot;-Yrepl-class-based&quot;\nCompile/console/scalacOptions += &quot;-Yrepl-outdir&quot;\nCompile/console/scalacOptions += &quot;repl_classes&quot;\n</code></pre>\n<p>Please guide me if anyone know how to solve this error.</p>\n"},{"tags":["java","arrays","reverse"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642040512,"post_id":70690636,"comment_id":124968924,"body_markdown":"are both the indices included for reversing ?","body":"are both the indices included for reversing ?"},{"owner":{"account_id":22310675,"reputation":349,"user_id":16534694,"display_name":"Ryan Fu"},"score":0,"creation_date":1642040539,"post_id":70690636,"comment_id":124968927,"body_markdown":"I&#39;ve tried debugging, but haven&#39;t really been able to see how this has been happening.","body":"I&#39;ve tried debugging, but haven&#39;t really been able to see how this has been happening."},{"owner":{"account_id":22310675,"reputation":349,"user_id":16534694,"display_name":"Ryan Fu"},"score":0,"creation_date":1642040605,"post_id":70690636,"comment_id":124968936,"body_markdown":"@GurkiratSinghGuliani it&#39;s supposed to reverse everything from index a1-1 to a2-1, inclusive","body":"@GurkiratSinghGuliani it&#39;s supposed to reverse everything from index a1-1 to a2-1, inclusive"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642040726,"post_id":70690636,"comment_id":124968953,"body_markdown":"@Ryan Fu for input array ( 0,1,2,3,4,5) and reverse(arr,2,4)\noutput will be ( 0,1,4,3,2,5) ?","body":"@Ryan Fu for input array ( 0,1,2,3,4,5) and reverse(arr,2,4) output will be ( 0,1,4,3,2,5) ?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1642040756,"post_id":70690636,"comment_id":124968962,"body_markdown":"Don&#39;t mix 1-based index and 0-based index together. This just makes things messy. Write everything in 0-based index then just write a helper function if you really need 1-based index functionality.","body":"Don&#39;t mix 1-based index and 0-based index together. This just makes things messy. Write everything in 0-based index then just write a helper function if you really need 1-based index functionality."},{"owner":{"account_id":22310675,"reputation":349,"user_id":16534694,"display_name":"Ryan Fu"},"score":0,"creation_date":1642041098,"post_id":70690636,"comment_id":124969017,"body_markdown":"Ok, give me some time to rewrite it, I&#39;ll edit the question","body":"Ok, give me some time to rewrite it, I&#39;ll edit the question"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1642041168,"post_id":70690636,"comment_id":124969022,"body_markdown":"You want to reverse from 2 to 6, which is 5 elements, but you created an array of size `a2-a1+1` AFTER `a1--`, which is an array of size 6. That&#39;s where the extra `0` come from.","body":"You want to reverse from 2 to 6, which is 5 elements, but you created an array of size <code>a2-a1+1</code> AFTER <code>a1--</code>, which is an array of size 6. That&#39;s where the extra <code>0</code> come from."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642042787,"post_id":70690636,"comment_id":124969273,"body_markdown":"@RickyMo it actually depends on the last index being inclusive. If it is not inclusive, the temp array should&#39;ve been only 4 elements with two tail elements allocated unnecessarily (which is still bad)","body":"@RickyMo it actually depends on the last index being inclusive. If it is not inclusive, the temp array should&#39;ve been only 4 elements with two tail elements allocated unnecessarily (which is still bad)"}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642041340,"creation_date":1642041340,"answer_id":70690770,"question_id":70690636,"body_markdown":"The 0 value which is coming might be because of accessing an uninitialized value from rArr array. For the purpose of reversing, an extra array is not required. You can simply swap the values from the starting index to the end index. I have tested the following code and it gives correct output \r\n\r\n \r\n\r\n \r\n\r\n     public class Solution2 {\r\n        \r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tint[] cows1 = new int[]{0,1,2,3,4,5,6,7,8,9,10};\r\n            \r\n    \t\tcows1 = reverse(cows1,2,6); \r\n    \t\t// both indices are inclusive \r\n    \t\t        \r\n    \t\tfor (int i : cows1) {\r\n    \t\t    System.out.print(i + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    \t public static int[] reverse(int[] x,int a1, int a2) {\r\n    \t\t    \r\n    \t\t    \r\n    \t\t    for (int i = 0; i &lt; (a2-a1+1)/2; i++) {\r\n    \t\t       swap(x,a1+i,a2-i);\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t    return x;\r\n    \t\t    \r\n    \t\t}\r\n    \tprivate static void swap(int[] x, int i, int j) {\r\n    //\t\tSystem.out.println(&quot;values swappeed are &quot;+ x[i] +  &quot;  &quot;  + x[j]);\r\n    \t\tint temp = x[i];\r\n    \t\tx[i] = x[j];\r\n    \t\tx[j] = temp; \r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\nand the output comes as \r\n\r\n    0 1 6 5 4 3 2 7 8 9 10  ","title":"How to reverse slice of array java","body":"<p>The 0 value which is coming might be because of accessing an uninitialized value from rArr array. For the purpose of reversing, an extra array is not required. You can simply swap the values from the starting index to the end index. I have tested the following code and it gives correct output</p>\n<pre><code> public class Solution2 {\n    \n    public static void main(String args[])\n    {\n        int[] cows1 = new int[]{0,1,2,3,4,5,6,7,8,9,10};\n        \n        cows1 = reverse(cows1,2,6); \n        // both indices are inclusive \n                \n        for (int i : cows1) {\n            System.out.print(i + &quot; &quot;);\n        }\n    }\n     public static int[] reverse(int[] x,int a1, int a2) {\n            \n            \n            for (int i = 0; i &lt; (a2-a1+1)/2; i++) {\n               swap(x,a1+i,a2-i);\n            }\n            \n            return x;\n            \n        }\n    private static void swap(int[] x, int i, int j) {\n//      System.out.println(&quot;values swappeed are &quot;+ x[i] +  &quot;  &quot;  + x[j]);\n        int temp = x[i];\n        x[i] = x[j];\n        x[j] = temp; \n        \n        \n    }\n}\n</code></pre>\n<p>and the output comes as</p>\n<pre><code>0 1 6 5 4 3 2 7 8 9 10  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642047652,"creation_date":1642041920,"answer_id":70690829,"question_id":70690636,"body_markdown":"The problem seems to be the first line of your `reverse` function: `a1--;`  not preserving the original value for your start index.\r\n\r\nThe method call\r\n---------------\r\n\r\nThe purpose of the `reverse` function is to reverse only the portion of the array bound by variable values `a1` and `a2`. On a side note, never use meaningless names like that. Better names for these variables could&#39;ve been `startIndex` and `endIndex` or similar naming (`a1` and `a2` don&#39;t really mean anything).\r\n\r\nFor values (2, 6), the `reverse` function should extract the portion of the array starting at index 2 and ending on index 6. I am assuming the end index is not inclusive, so it should only grab values at index 2, 3, 4, and 5. However, the first thing the method does is decrement the start index, so it actually starts at index 1.\r\n\r\nFrom there, the function successfully reverse the values located at these indices [4,3,2,1]. The question is now, what happens to the value at index 5? Let&#39;s see what this part of the code does `new int[a2-a1+1]`. The value of `a2` is 6 and the **new** value of `a1` is 1 because it was decremented in the first line. That means that your new array is of size [6-1+1] which is 6. That seems to be incorrect. Only 4 values are required to be reversed and the array is one element too big. The last index of this array is defaulted to integer value of `0`.\r\n\r\nThe swap\r\n--------\r\nFirst loop:\r\n\r\n    for (int ind = a1; ind&lt;a2; ind++) { // starts with a1 = 1 and a2 = 6\r\n        rArr[a2-ind-1] = x[ind]; // rArr[4] = x[1]: first iteration is off by 1\r\n    }\r\n\r\nSecond loop:\r\n\r\n    for (int ind = a1; ind&lt;a2; ind++) { // a1 = 1, a2 = 6 (starts at 1 and ends at 5  (rArr doesn&#39;t have an index 5)\r\n        x[ind] = rArr[ind]; // first iteration: x[1] = rArr[1], last iteration x[5] = rArr[5] -&gt; this last index is accessible because array was too big and was initialized to a primitive `int` default value (0).\r\n    }\r\n\r\nThe solution\r\n------------\r\n\r\n - Make sure your start and end indices are preserved.\r\n - Allocate the temp array (if needed) using the original start and end indices for your calculation.\r\n\r\nInside the `reverse()` method, your first line should&#39;ve been:\r\n\r\n    int[] rArr = new int[a2-a1]; // allocates an array of size 4 (6-2)\r\n\r\nFrom here, if the rest of the method is wrong, you will not see a zero anywhere in the reversed array. At worst, you would&#39;ve seen an offset problem if your start index was erroneously calculated. And that, I think, would&#39;ve been easy to spot and fix.\r\n\r\nIf you are new at programming, and even if you are more of an &quot;expert&quot;, you should always work out these problems on paper (or on a board) before you attempt to code and walk through your logic. You will be amazed as to how many logic errors you will catch before you code.","title":"How to reverse slice of array java","body":"<p>The problem seems to be the first line of your <code>reverse</code> function: <code>a1--;</code>  not preserving the original value for your start index.</p>\n<h2>The method call</h2>\n<p>The purpose of the <code>reverse</code> function is to reverse only the portion of the array bound by variable values <code>a1</code> and <code>a2</code>. On a side note, never use meaningless names like that. Better names for these variables could've been <code>startIndex</code> and <code>endIndex</code> or similar naming (<code>a1</code> and <code>a2</code> don't really mean anything).</p>\n<p>For values (2, 6), the <code>reverse</code> function should extract the portion of the array starting at index 2 and ending on index 6. I am assuming the end index is not inclusive, so it should only grab values at index 2, 3, 4, and 5. However, the first thing the method does is decrement the start index, so it actually starts at index 1.</p>\n<p>From there, the function successfully reverse the values located at these indices [4,3,2,1]. The question is now, what happens to the value at index 5? Let's see what this part of the code does <code>new int[a2-a1+1]</code>. The value of <code>a2</code> is 6 and the <strong>new</strong> value of <code>a1</code> is 1 because it was decremented in the first line. That means that your new array is of size [6-1+1] which is 6. That seems to be incorrect. Only 4 values are required to be reversed and the array is one element too big. The last index of this array is defaulted to integer value of <code>0</code>.</p>\n<h2>The swap</h2>\n<p>First loop:</p>\n<pre><code>for (int ind = a1; ind&lt;a2; ind++) { // starts with a1 = 1 and a2 = 6\n    rArr[a2-ind-1] = x[ind]; // rArr[4] = x[1]: first iteration is off by 1\n}\n</code></pre>\n<p>Second loop:</p>\n<pre><code>for (int ind = a1; ind&lt;a2; ind++) { // a1 = 1, a2 = 6 (starts at 1 and ends at 5  (rArr doesn't have an index 5)\n    x[ind] = rArr[ind]; // first iteration: x[1] = rArr[1], last iteration x[5] = rArr[5] -&gt; this last index is accessible because array was too big and was initialized to a primitive `int` default value (0).\n}\n</code></pre>\n<h2>The solution</h2>\n<ul>\n<li>Make sure your start and end indices are preserved.</li>\n<li>Allocate the temp array (if needed) using the original start and end indices for your calculation.</li>\n</ul>\n<p>Inside the <code>reverse()</code> method, your first line should've been:</p>\n<pre><code>int[] rArr = new int[a2-a1]; // allocates an array of size 4 (6-2)\n</code></pre>\n<p>From here, if the rest of the method is wrong, you will not see a zero anywhere in the reversed array. At worst, you would've seen an offset problem if your start index was erroneously calculated. And that, I think, would've been easy to spot and fix.</p>\n<p>If you are new at programming, and even if you are more of an &quot;expert&quot;, you should always work out these problems on paper (or on a board) before you attempt to code and walk through your logic. You will be amazed as to how many logic errors you will catch before you code.</p>\n"}],"owner":{"account_id":22310675,"reputation":349,"user_id":16534694,"display_name":"Ryan Fu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70690770,"answer_count":2,"score":0,"last_activity_date":1642047652,"creation_date":1642039929,"question_id":70690636,"body_markdown":"I&#39;ve been attempting to reverse a slice of a list in java.\r\n\r\nThe equivalent in python (though perhaps not the best way - I don&#39;t care about this, just want to get my point across) would be:\r\n\r\n    myList = [0,1,2,3,4,5,6,7,8,9,10]\r\n    reverseSlice = myList[2:6]\r\n    reverseSlice.reverse()\r\n    myList[2:6] = reverseSlice\r\n\r\nWhen I tried to manually implement this in Java, I tried this:\r\n\r\n     public static int[] reverse(int[] x,int a1, int a2) {\r\n\t\t\r\n\t\ta1--;\r\n\t\t\r\n\t\tint[] rArr = new int[a2-a1+1];\r\n\t\t\r\n\t\tfor (int ind = a1; ind&lt;a2; ind++) {\r\n\t\t\trArr[a2-ind-1] = x[ind];\r\n\t\t}\r\n\t\t\r\n\t\tfor (int ind = a1; ind&lt;a2; ind++) {\r\n\t\t\tx[ind] = rArr[ind];\r\n\t\t}\r\n\t\t\r\n\t\treturn x;\r\n\t\t\r\n\t}\r\n\r\nHowever, when I run this:\r\n\r\n    int[] cows1 = new int[]{0,1,2,3,4,5,6,7,8,9,10};\r\n    \t\t\r\n    cows1 = reverse(cows1,2,6);\r\n    \t\t\r\n    for (int i : cows1) {\r\n    \tSystem.out.print(i + &quot; &quot;);\r\n    }\r\n\r\nI get ```0 4 3 2 1 0 6 7 8 9 10 ```.\r\n\r\nI&#39;m really confused how I got this, as in my function, I don&#39;t introduce new values, so the &quot;0&quot; shouldn&#39;t have appeared.\r\n\r\n**My Question:** Why is my code returning values that are not in the list?","title":"How to reverse slice of array java","body":"<p>I've been attempting to reverse a slice of a list in java.</p>\n<p>The equivalent in python (though perhaps not the best way - I don't care about this, just want to get my point across) would be:</p>\n<pre><code>myList = [0,1,2,3,4,5,6,7,8,9,10]\nreverseSlice = myList[2:6]\nreverseSlice.reverse()\nmyList[2:6] = reverseSlice\n</code></pre>\n<p>When I tried to manually implement this in Java, I tried this:</p>\n<pre><code> public static int[] reverse(int[] x,int a1, int a2) {\n    \n    a1--;\n    \n    int[] rArr = new int[a2-a1+1];\n    \n    for (int ind = a1; ind&lt;a2; ind++) {\n        rArr[a2-ind-1] = x[ind];\n    }\n    \n    for (int ind = a1; ind&lt;a2; ind++) {\n        x[ind] = rArr[ind];\n    }\n    \n    return x;\n    \n}\n</code></pre>\n<p>However, when I run this:</p>\n<pre><code>int[] cows1 = new int[]{0,1,2,3,4,5,6,7,8,9,10};\n        \ncows1 = reverse(cows1,2,6);\n        \nfor (int i : cows1) {\n    System.out.print(i + &quot; &quot;);\n}\n</code></pre>\n<p>I get <code>0 4 3 2 1 0 6 7 8 9 10 </code>.</p>\n<p>I'm really confused how I got this, as in my function, I don't introduce new values, so the &quot;0&quot; shouldn't have appeared.</p>\n<p><strong>My Question:</strong> Why is my code returning values that are not in the list?</p>\n"},{"tags":["java","spring","dependency-injection","javabeans","autowired"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1641964991,"post_id":70676373,"comment_id":124942988,"body_markdown":"Why not make `AlexandriaDownloadSignatureUtilityV1` a `@Component` so that it could have autowired beans itself? Or why not put instantiating the beans in `@Configuration`s within `@Bean` methods?","body":"Why not make <code>AlexandriaDownloadSignatureUtilityV1</code> a <code>@Component</code> so that it could have autowired beans itself? Or why not put instantiating the beans in <code>@Configuration</code>s within <code>@Bean</code> methods?"}],"answers":[{"tags":[],"owner":{"account_id":23857595,"reputation":92,"user_id":17860938,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642047521,"creation_date":1642047521,"answer_id":70691367,"question_id":70676373,"body_markdown":"    @Component\r\n    public class XYZ {\r\n    \r\n    @Autowired\r\n    private Principal principal;\r\n    \r\n    public void main() {\r\n    AlexandriaDownloadSignatureUtilityV1 downloadSignatureUtilV1 =\r\n                    new AlexandriaDownloadSignatureUtilityV1(\r\n                            getMaterialsetNameProvider(principal),\r\n                   \r\n                    );\r\n    }\r\n    }\r\n\r\nAdd @Component at the Top of the class this will create a bean of this object and inject their dependency also","title":"Autowire a bean requiring another bean for its object creation","body":"<pre><code>@Component\npublic class XYZ {\n\n@Autowired\nprivate Principal principal;\n\npublic void main() {\nAlexandriaDownloadSignatureUtilityV1 downloadSignatureUtilV1 =\n                new AlexandriaDownloadSignatureUtilityV1(\n                        getMaterialsetNameProvider(principal),\n               \n                );\n}\n}\n</code></pre>\n<p>Add @Component at the Top of the class this will create a bean of this object and inject their dependency also</p>\n"}],"owner":{"account_id":22688477,"reputation":41,"user_id":16857728,"display_name":"Programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642047521,"creation_date":1641962251,"question_id":70676373,"body_markdown":"I have a class which has following autowiring \r\n```\r\npublic class XYZ {\r\n\r\n@Autowired\r\nprivate Principal principal;\r\n\r\npublic void main() {\r\nAlexandriaDownloadSignatureUtilityV1 downloadSignatureUtilV1 =\r\n                new AlexandriaDownloadSignatureUtilityV1(\r\n                        getMaterialsetNameProvider(principal),\r\n               \r\n                );\r\n}\r\n}\r\n```\r\nI want to autowire AlexandriaDownloadSignatureUtilityV1 dependency, but since it is dependent on `pricipal` bean, can you please tell me how to do so?","title":"Autowire a bean requiring another bean for its object creation","body":"<p>I have a class which has following autowiring</p>\n<pre><code>public class XYZ {\n\n@Autowired\nprivate Principal principal;\n\npublic void main() {\nAlexandriaDownloadSignatureUtilityV1 downloadSignatureUtilV1 =\n                new AlexandriaDownloadSignatureUtilityV1(\n                        getMaterialsetNameProvider(principal),\n               \n                );\n}\n}\n</code></pre>\n<p>I want to autowire AlexandriaDownloadSignatureUtilityV1 dependency, but since it is dependent on <code>pricipal</code> bean, can you please tell me how to do so?</p>\n"},{"tags":["java","spring","spring-mvc","controller","postman"],"comments":[{"owner":{"account_id":6115625,"reputation":746,"user_id":4770761,"accept_rate":86,"display_name":"Boris"},"score":0,"creation_date":1642001937,"post_id":70683517,"comment_id":124957309,"body_markdown":"Have you checked content type header when sending request?","body":"Have you checked content type header when sending request?"},{"owner":{"account_id":23560994,"reputation":27,"user_id":17602358,"display_name":"freedman"},"score":0,"creation_date":1642002567,"post_id":70683517,"comment_id":124957664,"body_markdown":"editted post, pls look","body":"editted post, pls look"},{"owner":{"account_id":6115625,"reputation":746,"user_id":4770761,"accept_rate":86,"display_name":"Boris"},"score":0,"creation_date":1642002690,"post_id":70683517,"comment_id":124957704,"body_markdown":"You can not send Content type set to JSON and expect Multipart. Change content type to Multipart in Postman. Or remove `MultipartFile` attribute from method, if you expect only text. Is your body in Postman set to Raw?","body":"You can not send Content type set to JSON and expect Multipart. Change content type to Multipart in Postman. Or remove <code>MultipartFile</code> attribute from method, if you expect only text. Is your body in Postman set to Raw?"},{"owner":{"account_id":23560994,"reputation":27,"user_id":17602358,"display_name":"freedman"},"score":0,"creation_date":1642003089,"post_id":70683517,"comment_id":124957905,"body_markdown":"so how te set header manually?cause i need to create message and attach uploaded file to it, but i want in response only   json.of the created message, U know if you write a post and attach a file to it","body":"so how te set header manually?cause i need to create message and attach uploaded file to it, but i want in response only   json.of the created message, U know if you write a post and attach a file to it"},{"owner":{"account_id":6115625,"reputation":746,"user_id":4770761,"accept_rate":86,"display_name":"Boris"},"score":0,"creation_date":1642003292,"post_id":70683517,"comment_id":124958019,"body_markdown":"Try selecting Form data in Postman, then set key to `file`. Then select file which you wish to upload. Just one more question before that. You also want to send some text with file?","body":"Try selecting Form data in Postman, then set key to <code>file</code>. Then select file which you wish to upload. Just one more question before that. You also want to send some text with file?"},{"owner":{"account_id":23560994,"reputation":27,"user_id":17602358,"display_name":"freedman"},"score":0,"creation_date":1642003489,"post_id":70683517,"comment_id":124958124,"body_markdown":"Yes, i want to send json raw body with the message inner data(header,tag,message etc) , and i want to upload file(image) with the body-&gt;form data-&gt;file, a have screens in my post","body":"Yes, i want to send json raw body with the message inner data(header,tag,message etc) , and i want to upload file(image) with the body-&gt;form data-&gt;file, a have screens in my post"},{"owner":{"account_id":6115625,"reputation":746,"user_id":4770761,"accept_rate":86,"display_name":"Boris"},"score":0,"creation_date":1642003887,"post_id":70683517,"comment_id":124958307,"body_markdown":"I think you can not do that way. Try sending Form Data. Define key and value for `file`.  Also, change `@RequestBody` from method to `@RequestParam(&quot;data&quot; MessageRequest messageRequest` and in form-data define key `data` and in value put you text.","body":"I think you can not do that way. Try sending Form Data. Define key and value for <code>file</code>.  Also, change <code>@RequestBody</code> from method to <code>@RequestParam(&quot;data&quot; MessageRequest messageRequest</code> and in form-data define key <code>data</code> and in value put you text."}],"answers":[{"tags":[],"owner":{"account_id":13515828,"reputation":39,"user_id":9750424,"display_name":"liuxiuxue"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1642045477,"creation_date":1642045477,"answer_id":70691169,"question_id":70683517,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BfsfL.png\r\n\r\n\r\ntry it,send the file and Entity with form-data","title":"how to solve 415 Unsupported Media Type","body":"<p><a href=\"https://i.stack.imgur.com/BfsfL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BfsfL.png\" alt=\"enter image description here\" /></a></p>\n<p>try it,send the file and Entity with form-data</p>\n"},{"tags":[],"owner":{"account_id":13515828,"reputation":39,"user_id":9750424,"display_name":"liuxiuxue"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642047345,"creation_date":1642047345,"answer_id":70691343,"question_id":70683517,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EI4FQ.png\r\n\r\nthis is the other picture. it is usefull","title":"how to solve 415 Unsupported Media Type","body":"<p><a href=\"https://i.stack.imgur.com/EI4FQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EI4FQ.png\" alt=\"enter image description here\" /></a></p>\n<p>this is the other picture. it is usefull</p>\n"}],"owner":{"account_id":23560994,"reputation":27,"user_id":17602358,"display_name":"freedman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70691169,"answer_count":2,"score":1,"last_activity_date":1642047345,"creation_date":1641998595,"question_id":70683517,"body_markdown":"I want to create the message with the file attacher to it, but i have 415U nsupported Media Type.\r\nMy service:\r\n\r\n    package com.project.webstation.Services;\r\n    \r\n    import com.project.webstation.Exception.*;\r\n    import com.project.webstation.Models.Domain.User;\r\n    import com.project.webstation.Models.Request.MessageRequest;\r\n    import com.project.webstation.Models.Response.MessageResponse;\r\n    import com.project.webstation.Models.Security.SecurityUser;\r\n    import com.project.webstation.Repo.MessageRepo;\r\n    import com.project.webstation.Models.Domain.Message;\r\n    import com.project.webstation.Repo.UserRepo;\r\n    import com.project.webstation.Utils.Filters.MessageFilterProperties;\r\n    import com.project.webstation.Utils.mappers.MessageMap;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import javax.transaction.Transactional;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import java.util.UUID;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import static com.project.webstation.Utils.MethodsConsumer.MethodConsumeUtil.*;\r\n    import static com.project.webstation.Utils.Validators.ValidatorUtil.checkEmailAndIdForMessageToFindTheUser;\r\n    import static com.project.webstation.Utils.Validators.ValidatorUtil.checkIfTheUserHasPermissionOrTheOwnerOfTheMessage;\r\n    import static com.project.webstation.Utils.Validators.ValidatorUtil.*;\r\n    \r\n    \r\n    @Slf4j\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class MessageService {\r\n    \r\n        private final MessageRepo messageRepo;\r\n    \r\n        private final UserRepo userRepo;\r\n    \r\n        private final MessageMap messageMap;\r\n    \r\n    \r\n        @Value(&quot;${upload.path}&quot;)\r\n        private String uploadPath;\r\n    \r\n    \r\n       \r\n    \r\n       \r\n        @Transactional\r\n        public Message saveMessage(MessageRequest messageRequest, SecurityUser user, MultipartFile file) throws IOException {\r\n            log.info(&quot;message save method invoked&quot;);\r\n            provideAllMessageCheckingActions(messageRequest);\r\n            checkEmailAndIdForMessageToFindTheUser(messageRequest);\r\n            User foundUser = userRepo.findByIdOrEmail(messageRequest.getUserId(), messageRequest.getEmail())\r\n                    .orElseThrow(() -&gt; new WebstationException(String.format(Errors.ERROR3.getMessage(),&quot;User&quot;)));\r\n            checkIfTheInputUserIsAuthenticatedUser(user, foundUser);\r\n            Message messageUntilSave = messageMap.messageRequestToMessage(messageRequest);\r\n            messageUntilSave.setAuthor(foundUser);\r\n            saveFile(messageUntilSave,file);\r\n            Message messageSaved = messageRepo.save(messageUntilSave);\r\n    \r\n            return messageSaved;\r\n        }\r\n    \r\n    \r\n        public void saveFile(Message message, MultipartFile file) throws IOException {\r\n    \r\n            if (file != null &amp;&amp; !file.getOriginalFilename().isBlank()) {\r\n                File uploadDir = new File(uploadPath);\r\n                if (!uploadDir.exists()) {\r\n                    uploadDir.mkdir();\r\n                }\r\n                String uuidFile = UUID.randomUUID().toString();\r\n                String resultFilename = uuidFile + &quot;.&quot; + file.getOriginalFilename();\r\n    \r\n                file.transferTo(new File(uploadPath + &quot;/&quot; + resultFilename));\r\n    \r\n                message.setFileName(resultFilename);\r\n            }\r\n        }\r\n    }\r\n\r\nController(Rest api):\r\n\r\n      @PreAuthorize(&quot;hasAuthority(&#39;user:write&#39;)&quot;)\r\n        @ApiOperation(value = &quot;Saving the message to the database with the data from request body&quot;)\r\n        @PostMapping(value = &quot;&quot;,consumes = MediaType.ALL_VALUE)\r\n        public ResponseEntity&lt;MessageSaveResponse&gt; saveMessage(@AuthenticationPrincipal SecurityUser user,\r\n                                                               @RequestBody MessageRequest messageRequest,\r\n                                                               @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n            Message message = messageService.saveMessage(messageRequest, user,file);\r\n            MessageSaveResponse messageResponse = messageMap.messageToMessageSaveResponse(message);\r\n            return new ResponseEntity&lt;&gt;(messageResponse, HttpStatus.CREATED);\r\n        }\r\n\r\nThen i try to send request in postman with the file param an body of the message:\r\n[![param][1]][1]\r\n[![body][2]][2]\r\n\r\nAnd the status is 415 Unsupported Media Type,it works great without the file but i need to attach it to the message\r\n\r\nThanks in advance\r\n\r\n\r\nWhen i try to disable Content-type in header i have 415\r\n\r\n[![Disable content type][3]][3]\r\n \r\nBut when enable content-type which is application/json i have error 500\r\n\r\n[![Enable content-type in headers][4]][4]\r\n\r\n   \r\n\r\n    2022-01-12 17:44:55.943 ERROR 16032 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\r\n    \r\n    org.springframework.web.multipart.MultipartException: Current request is not a multipart request\r\n    \tat org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.4.jar:5.3.4]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.5.jar:5.4.5]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KSSoo.png\r\n  [2]: https://i.stack.imgur.com/VbTYw.png\r\n  [3]: https://i.stack.imgur.com/mHATn.png\r\n  [4]: https://i.stack.imgur.com/qmatU.png","title":"how to solve 415 Unsupported Media Type","body":"<p>I want to create the message with the file attacher to it, but i have 415U nsupported Media Type.\nMy service:</p>\n<pre><code>package com.project.webstation.Services;\n\nimport com.project.webstation.Exception.*;\nimport com.project.webstation.Models.Domain.User;\nimport com.project.webstation.Models.Request.MessageRequest;\nimport com.project.webstation.Models.Response.MessageResponse;\nimport com.project.webstation.Models.Security.SecurityUser;\nimport com.project.webstation.Repo.MessageRepo;\nimport com.project.webstation.Models.Domain.Message;\nimport com.project.webstation.Repo.UserRepo;\nimport com.project.webstation.Utils.Filters.MessageFilterProperties;\nimport com.project.webstation.Utils.mappers.MessageMap;\nimport lombok.AllArgsConstructor;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport javax.transaction.Transactional;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\nimport java.util.stream.Collectors;\n\nimport static com.project.webstation.Utils.MethodsConsumer.MethodConsumeUtil.*;\nimport static com.project.webstation.Utils.Validators.ValidatorUtil.checkEmailAndIdForMessageToFindTheUser;\nimport static com.project.webstation.Utils.Validators.ValidatorUtil.checkIfTheUserHasPermissionOrTheOwnerOfTheMessage;\nimport static com.project.webstation.Utils.Validators.ValidatorUtil.*;\n\n\n@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class MessageService {\n\n    private final MessageRepo messageRepo;\n\n    private final UserRepo userRepo;\n\n    private final MessageMap messageMap;\n\n\n    @Value(&quot;${upload.path}&quot;)\n    private String uploadPath;\n\n\n   \n\n   \n    @Transactional\n    public Message saveMessage(MessageRequest messageRequest, SecurityUser user, MultipartFile file) throws IOException {\n        log.info(&quot;message save method invoked&quot;);\n        provideAllMessageCheckingActions(messageRequest);\n        checkEmailAndIdForMessageToFindTheUser(messageRequest);\n        User foundUser = userRepo.findByIdOrEmail(messageRequest.getUserId(), messageRequest.getEmail())\n                .orElseThrow(() -&gt; new WebstationException(String.format(Errors.ERROR3.getMessage(),&quot;User&quot;)));\n        checkIfTheInputUserIsAuthenticatedUser(user, foundUser);\n        Message messageUntilSave = messageMap.messageRequestToMessage(messageRequest);\n        messageUntilSave.setAuthor(foundUser);\n        saveFile(messageUntilSave,file);\n        Message messageSaved = messageRepo.save(messageUntilSave);\n\n        return messageSaved;\n    }\n\n\n    public void saveFile(Message message, MultipartFile file) throws IOException {\n\n        if (file != null &amp;&amp; !file.getOriginalFilename().isBlank()) {\n            File uploadDir = new File(uploadPath);\n            if (!uploadDir.exists()) {\n                uploadDir.mkdir();\n            }\n            String uuidFile = UUID.randomUUID().toString();\n            String resultFilename = uuidFile + &quot;.&quot; + file.getOriginalFilename();\n\n            file.transferTo(new File(uploadPath + &quot;/&quot; + resultFilename));\n\n            message.setFileName(resultFilename);\n        }\n    }\n}\n</code></pre>\n<p>Controller(Rest api):</p>\n<pre><code>  @PreAuthorize(&quot;hasAuthority('user:write')&quot;)\n    @ApiOperation(value = &quot;Saving the message to the database with the data from request body&quot;)\n    @PostMapping(value = &quot;&quot;,consumes = MediaType.ALL_VALUE)\n    public ResponseEntity&lt;MessageSaveResponse&gt; saveMessage(@AuthenticationPrincipal SecurityUser user,\n                                                           @RequestBody MessageRequest messageRequest,\n                                                           @RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        Message message = messageService.saveMessage(messageRequest, user,file);\n        MessageSaveResponse messageResponse = messageMap.messageToMessageSaveResponse(message);\n        return new ResponseEntity&lt;&gt;(messageResponse, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Then i try to send request in postman with the file param an body of the message:\n<a href=\"https://i.stack.imgur.com/KSSoo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KSSoo.png\" alt=\"param\" /></a>\n<a href=\"https://i.stack.imgur.com/VbTYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VbTYw.png\" alt=\"body\" /></a></p>\n<p>And the status is 415 Unsupported Media Type,it works great without the file but i need to attach it to the message</p>\n<p>Thanks in advance</p>\n<p>When i try to disable Content-type in header i have 415</p>\n<p><a href=\"https://i.stack.imgur.com/mHATn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHATn.png\" alt=\"Disable content type\" /></a></p>\n<p>But when enable content-type which is application/json i have error 500</p>\n<p><a href=\"https://i.stack.imgur.com/qmatU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qmatU.png\" alt=\"Enable content-type in headers\" /></a></p>\n<pre><code>2022-01-12 17:44:55.943 ERROR 16032 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Current request is not a multipart request] with root cause\n\norg.springframework.web.multipart.MultipartException: Current request is not a multipart request\n    at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:196) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.4.jar:5.3.4]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.43.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.5.jar:5.4.5]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.4.jar:5.3.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.43.jar:9.0.43]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["java","eclipse","javafx","fxml","fxmlloader"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1642045327,"post_id":70691117,"comment_id":124969676,"body_markdown":"It would appear that method `getController()` (in class `FXMLLoader`) is returning null. Are you sure that file `AbilityInfo.fxml` contains `fx:controller` attribute? It may help people answer your question if you post contents of file `AbilityInfo.fxml`.","body":"It would appear that method <code>getController()</code> (in class <code>FXMLLoader</code>) is returning null. Are you sure that file <code>AbilityInfo.fxml</code> contains <code>fx:controller</code> attribute? It may help people answer your question if you post contents of file <code>AbilityInfo.fxml</code>."},{"owner":{"account_id":23802768,"reputation":21,"user_id":17812730,"display_name":"William Harrison"},"score":0,"creation_date":1642046141,"post_id":70691117,"comment_id":124969802,"body_markdown":"Oh wow. That&#39;s such a simple fix. That worked perfectly, thank you! I just started using JavaFX so this is all really new to me.","body":"Oh wow. That&#39;s such a simple fix. That worked perfectly, thank you! I just started using JavaFX so this is all really new to me."}],"answers":[{"tags":[],"owner":{"account_id":23802768,"reputation":21,"user_id":17812730,"display_name":"William Harrison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642047003,"creation_date":1642047003,"answer_id":70691312,"question_id":70691117,"body_markdown":"It appears I made a rather simple mistake. My FXML associated with the controller didn&#39;t have a Controller declared. Problem has been resolved!","title":"JavaFX FXMLLoader Call to loaded Controller is NULL","body":"<p>It appears I made a rather simple mistake. My FXML associated with the controller didn't have a Controller declared. Problem has been resolved!</p>\n"}],"owner":{"account_id":23802768,"reputation":21,"user_id":17812730,"display_name":"William Harrison"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70691312,"answer_count":1,"score":0,"last_activity_date":1642047003,"creation_date":1642044846,"question_id":70691117,"body_markdown":"I&#39;m trying to call from one controller to another in JavaFX. I have done this in another part of my code in pretty much exactly the same way and it worked, but for some reason it isn&#39;t working here.\r\n```\r\n\tpublic void showPrimaryAbilityInfo() throws IOException\r\n\t{\t\t\t\t\t\r\n\t\tString abilityName = primaryAbilityButtonText.getText() ;\r\n\t\t\r\n\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AbilityInfo.fxml&quot;)) ;\r\n\t\troot = loader.load() ;\t\t\r\n\t\t\r\n\t\tAbilityInfoController abilityInfoController = loader.getController() ;\r\n\t\tabilityInfoController.setAbilityNameText(abilityName);\r\n\t\t\r\n\t\tStage stage = new Stage() ;\r\n\t\tstage.setScene(new Scene(root)) ;  \r\n\t\tstage.show() ;\r\n\t}\r\n```\r\nI&#39;m getting the FXML resource and loading it, but when I call abilityInfoController.setAbilityNameText(abilityName); it gives me the following error saying abilityInfoController is NULL:\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;application.AbilityInfoController.setAbilityNameText(String)&quot; because &quot;abilityInfoController&quot; is null\r\n\tat PokemonAppFX/application.SearchResultController.showPrimaryAbilityInfo(SearchResultController.java:226)\r\n\t... 57 more\r\n\r\n```","title":"JavaFX FXMLLoader Call to loaded Controller is NULL","body":"<p>I'm trying to call from one controller to another in JavaFX. I have done this in another part of my code in pretty much exactly the same way and it worked, but for some reason it isn't working here.</p>\n<pre><code>    public void showPrimaryAbilityInfo() throws IOException\n    {                   \n        String abilityName = primaryAbilityButtonText.getText() ;\n        \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;AbilityInfo.fxml&quot;)) ;\n        root = loader.load() ;      \n        \n        AbilityInfoController abilityInfoController = loader.getController() ;\n        abilityInfoController.setAbilityNameText(abilityName);\n        \n        Stage stage = new Stage() ;\n        stage.setScene(new Scene(root)) ;  \n        stage.show() ;\n    }\n</code></pre>\n<p>I'm getting the FXML resource and loading it, but when I call abilityInfoController.setAbilityNameText(abilityName); it gives me the following error saying abilityInfoController is NULL:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;application.AbilityInfoController.setAbilityNameText(String)&quot; because &quot;abilityInfoController&quot; is null\n    at PokemonAppFX/application.SearchResultController.showPrimaryAbilityInfo(SearchResultController.java:226)\n    ... 57 more\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":23857595,"reputation":92,"user_id":17860938,"display_name":"Navin Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642046588,"creation_date":1642046588,"answer_id":70691274,"question_id":70689840,"body_markdown":"    array[:ids]\r\n\r\nIf we take the list it converts into comma-separated values enclosed by parenthesis.\r\n\r\n    array[(?, ?)]\r\n\r\nAlternative to this we can use the string value \r\n\r\n    List&lt;Integer&gt; ids = new List&lt;Integer&gt;{1,2,3};\r\n    String idsString = string.Join(&quot;,&quot;, ids);\r\nThis is we get\r\n\r\n    arry[:idsString] =&gt; array[?,?]","title":"How to customize parameters the way parameters list is built in Spring JPA?","body":"<pre><code>array[:ids]\n</code></pre>\n<p>If we take the list it converts into comma-separated values enclosed by parenthesis.</p>\n<pre><code>array[(?, ?)]\n</code></pre>\n<p>Alternative to this we can use the string value</p>\n<pre><code>List&lt;Integer&gt; ids = new List&lt;Integer&gt;{1,2,3};\nString idsString = string.Join(&quot;,&quot;, ids);\n</code></pre>\n<p>This is we get</p>\n<pre><code>arry[:idsString] =&gt; array[?,?]\n</code></pre>\n"}],"owner":{"account_id":1299298,"reputation":4175,"user_id":1249545,"accept_rate":90,"display_name":"dvelopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70691274,"answer_count":1,"score":1,"last_activity_date":1642046588,"creation_date":1642031304,"question_id":70689840,"body_markdown":"I&#39;m trying to invoke DB function with a method in Spring JPA repository like this: \r\n\r\n    @Query(value = &quot;select * test.getVals(:ids)&quot;, nativeQuery = true)\r\n\r\nWhen I invoke it manually, I do: \r\n\r\n    select * from test.getVals(array[2, 14577])\r\nHowever, SQL that is being generated looks differently:\r\n\r\n    select * from test.getVals(?, ?, ?)\r\nThis syntax doesn&#39;t work. \r\nIs there a good way to customize how these parameters are converted into SQL? so that I could have array[?, ?]? \r\n\r\nIf I do:\r\n\r\n    array[:ids]\r\nIt&#39;s converted with () like this:\r\n\r\n    array[(?, ?)]\r\n\r\n","title":"How to customize parameters the way parameters list is built in Spring JPA?","body":"<p>I'm trying to invoke DB function with a method in Spring JPA repository like this:</p>\n<pre><code>@Query(value = &quot;select * test.getVals(:ids)&quot;, nativeQuery = true)\n</code></pre>\n<p>When I invoke it manually, I do:</p>\n<pre><code>select * from test.getVals(array[2, 14577])\n</code></pre>\n<p>However, SQL that is being generated looks differently:</p>\n<pre><code>select * from test.getVals(?, ?, ?)\n</code></pre>\n<p>This syntax doesn't work.\nIs there a good way to customize how these parameters are converted into SQL? so that I could have array[?, ?]?</p>\n<p>If I do:</p>\n<pre><code>array[:ids]\n</code></pre>\n<p>It's converted with () like this:</p>\n<pre><code>array[(?, ?)]\n</code></pre>\n"},{"tags":["java","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641928566,"creation_date":1641928566,"answer_id":70672264,"question_id":70660818,"body_markdown":"Use \r\n```java\r\nstreamBridge.send(&quot;createUser-out-0&quot;, \r\n    MessageBuilder.withPayload(createUserEvent)\r\n        .setHeader(KafkaHeaders.PARTITION_ID, 0)\r\n        .build());\r\n```\r\n","title":"stream bridge add partition number when send to non-partition topic","body":"<p>Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>streamBridge.send(&quot;createUser-out-0&quot;, \n    MessageBuilder.withPayload(createUserEvent)\n        .setHeader(KafkaHeaders.PARTITION_ID, 0)\n        .build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15598640,"reputation":53,"user_id":11253357,"display_name":"Gentle Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642045098,"creation_date":1642045098,"answer_id":70691138,"question_id":70660818,"body_markdown":"After I debug, I found that when use ```StreamBridge``` sent to partition topic first, after that when you use it to send to non-partition topic, it will reuse the previous one, which include the partition handler within it. I copy the code in it and manually remove the partition handler, only for sending msg to non-partition topic.","title":"stream bridge add partition number when send to non-partition topic","body":"<p>After I debug, I found that when use <code>StreamBridge</code> sent to partition topic first, after that when you use it to send to non-partition topic, it will reuse the previous one, which include the partition handler within it. I copy the code in it and manually remove the partition handler, only for sending msg to non-partition topic.</p>\n"}],"owner":{"account_id":15598640,"reputation":53,"user_id":11253357,"display_name":"Gentle Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70691138,"answer_count":2,"score":0,"last_activity_date":1642045156,"creation_date":1641866213,"question_id":70660818,"body_markdown":"I have producer which use ```StreamBridge``` to send msg to a partition topic, after thatc I have a consumer which listen to a partition topic like below, and after some handling it will publish a event to a non-partition topic.\r\n\r\nBut i found that it will automatically add the partition number in the end of my non-partition topic, and the partition number is same as the one which consumer receive.\r\n\r\nAny one know why? Thanks\r\n```\r\n @Bean\r\n    Consumer&lt;Message&lt;HcpEvent&gt;&gt; receiveSuccessFromHcp(){\r\n        return message -&gt; {\r\n            HcpEvent hcpEvent = message.getPayload();\r\n            // some business code\r\n            streamBridge.send(&quot;createUser-out-0&quot;, createUserEvent);\r\n        } ;\r\n    }\r\n```","title":"stream bridge add partition number when send to non-partition topic","body":"<p>I have producer which use <code>StreamBridge</code> to send msg to a partition topic, after thatc I have a consumer which listen to a partition topic like below, and after some handling it will publish a event to a non-partition topic.</p>\n<p>But i found that it will automatically add the partition number in the end of my non-partition topic, and the partition number is same as the one which consumer receive.</p>\n<p>Any one know why? Thanks</p>\n<pre><code> @Bean\n    Consumer&lt;Message&lt;HcpEvent&gt;&gt; receiveSuccessFromHcp(){\n        return message -&gt; {\n            HcpEvent hcpEvent = message.getPayload();\n            // some business code\n            streamBridge.send(&quot;createUser-out-0&quot;, createUserEvent);\n        } ;\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1642045857,"post_id":70691131,"comment_id":124969757,"body_markdown":"Try specifying the path of your **.gradle** folder first.","body":"Try specifying the path of your <b>.gradle</b> folder first."},{"owner":{"account_id":22628685,"reputation":1162,"user_id":16806413,"display_name":"Dennis Ashford"},"score":0,"creation_date":1642077460,"post_id":70691131,"comment_id":124978932,"body_markdown":"Is this within the build.gradle or gradle.properties folder? I am new to building apps, so a little bit more context would really help me. Thanks!","body":"Is this within the build.gradle or gradle.properties folder? I am new to building apps, so a little bit more context would really help me. Thanks!"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1642079026,"post_id":70691131,"comment_id":124979595,"body_markdown":"No, for me it was in Users/**UserID**/. gradle. I am on Windows though so can&#39;t say where&#39;s that folder for you.","body":"No, for me it was in Users/**UserID**/. gradle. I am on Windows though so can&#39;t say where&#39;s that folder for you."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1642079093,"post_id":70691131,"comment_id":124979621,"body_markdown":"Once you find it, you need to paste the path that box with title &quot;Gradle user home&quot;.","body":"Once you find it, you need to paste the path that box with title &quot;Gradle user home&quot;."}],"owner":{"account_id":22628685,"reputation":1162,"user_id":16806413,"display_name":"Dennis Ashford"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642045028,"creation_date":1642045028,"question_id":70691131,"body_markdown":"I need some help here solving an issue similar to this one\r\n\r\nhttps://stackoverflow.com/questions/67631927/error-building-aab-flutter-android-integrity-check-failed-java-security-n\r\n\r\nI cannot seem to specify the Java JDK version in my Android Studio. The option for Gradle projects is simply not there (see image below). Can someone please help me on how I can specify a specific version of Java within Android Studio (needs to be greater than 11).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kqy68.png","title":"Specify Java JDK Version Android Studio","body":"<p>I need some help here solving an issue similar to this one</p>\n<p><a href=\"https://stackoverflow.com/questions/67631927/error-building-aab-flutter-android-integrity-check-failed-java-security-n\">Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available</a></p>\n<p>I cannot seem to specify the Java JDK version in my Android Studio. The option for Gradle projects is simply not there (see image below). Can someone please help me on how I can specify a specific version of Java within Android Studio (needs to be greater than 11).</p>\n<p><a href=\"https://i.stack.imgur.com/kqy68.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kqy68.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sorting","arraylist"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642042667,"post_id":70690881,"comment_id":124969254,"body_markdown":"what is  the structure of your object , it is List&lt;SomeObject&gt; , what is that object ?","body":"what is  the structure of your object , it is List&lt;SomeObject&gt; , what is that object ?"},{"owner":{"account_id":23924919,"reputation":13,"user_id":17920141,"display_name":"jailun"},"score":0,"creation_date":1642042817,"post_id":70690881,"comment_id":124969276,"body_markdown":"its list of String ArrayList&lt;String&gt; playerstats = new ArrayList&lt;String&gt;();","body":"its list of String ArrayList&lt;String&gt; playerstats = new ArrayList&lt;String&gt;();"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642042897,"post_id":70690881,"comment_id":124969288,"body_markdown":"please share your main method and how you are populating the values in the playerstats.","body":"please share your main method and how you are populating the values in the playerstats."},{"owner":{"account_id":23924919,"reputation":13,"user_id":17920141,"display_name":"jailun"},"score":0,"creation_date":1642042975,"post_id":70690881,"comment_id":124969304,"body_markdown":"maybe I should use json,but I dont know how to assign the child of the value","body":"maybe I should use json,but I dont know how to assign the child of the value"},{"owner":{"account_id":23924919,"reputation":13,"user_id":17920141,"display_name":"jailun"},"score":0,"creation_date":1642043400,"post_id":70690881,"comment_id":124969373,"body_markdown":"I get the value from a jsonObject from url string \nplayerstats = rootobj.get(&quot;stats&quot;).getAsJsonObject(); \nLVL= playerstats.get(&quot;lvl&quot;).getAsInt()\nMONEY= playerstats.get(&quot;money&quot;).getAsInt()\nMANA= playerstats.get(&quot;mana&quot;).getAsInt()\n\nthen return it as string &quot;LVL:&quot; + LVL + &quot; MONEY:&quot;+MONEY + &quot; MANA:&quot;+MANA &lt;-- added to arraylist","body":"I get the value from a jsonObject from url string  playerstats = rootobj.get(&quot;stats&quot;).getAsJsonObject();  LVL= playerstats.get(&quot;lvl&quot;).getAsInt() MONEY= playerstats.get(&quot;money&quot;).getAsInt() MANA= playerstats.get(&quot;mana&quot;).getAsInt()  then return it as string &quot;LVL:&quot; + LVL + &quot; MONEY:&quot;+MONEY + &quot; MANA:&quot;+MANA &lt;-- added to arraylist"},{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1642044157,"post_id":70690881,"comment_id":124969516,"body_markdown":"Please provide a [mcve] that demonstrates your issue.  If you have the data as JSON, you should be able to sort the JSON objects by the value of money, then output the sorted list.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates your issue.  If you have the data as JSON, you should be able to sort the JSON objects by the value of money, then output the sorted list."}],"answers":[{"tags":[],"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1642044246,"creation_date":1642043638,"answer_id":70690997,"question_id":70690881,"body_markdown":"Here is my attempt using Streams API. I make a new Comparator to give to sorted method in order to sort the money based on where it appears in the string.\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class SortMoney {\r\n\r\n    public static void main(String[] args) {\r\n\tList&lt;String&gt; playerstats = Arrays.asList(&quot;LVL:100 MONEY:1489 MANA: 42,1&quot;,\r\n\t                                         &quot;LVL:67 MONEY:389 MANA: 33,5&quot;,\r\n\t                                         &quot;LVL:47 MONEY:4229 MANA: 59,7&quot;,\r\n\t                                         &quot;LVL:120 MONEY:1189 MANA: 94,5&quot;,\r\n\t                                         &quot;LVL:150 MONEY:189 MANA: 19,2&quot;);\r\n\r\n\tList&lt;String&gt; sortedPlayerStates = playerstats.stream()\r\n\t                                             .map(data -&gt; data.split(&quot;:&quot;))\r\n\t                                             .sorted((o1, o2) -&gt; {\r\n\t                                                 int a = Integer.parseInt(o1[2].split(&quot; &quot;)[0]);\r\n\t                                                 int b = Integer.parseInt(o2[2].split(&quot; &quot;)[0]);\r\n\t                                                 if (a &gt; b) {\r\n\t\t                                             return -1;\r\n\t                                                 } else if (b &gt; a) {\r\n\t\t                                             return 1;\r\n\t                                                 } else {\r\n\t\t                                             return 0;\r\n\t                                                 }\r\n\r\n\t                                             })\r\n\t                                             .map(data -&gt; String.join(&quot;:&quot;, data))\r\n\t                                             .collect(Collectors.toList());\r\n\r\n\tsortedPlayerStates.forEach(System.out::println);\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput:\r\n[![enter image description here][1]][1]\r\n\r\nLet me know if this is the result you want.\r\n\r\n**Edit:** changed the code to store in variable in case you want to manipulate it later.\r\n\r\n  [1]: https://i.stack.imgur.com/xsoYH.png","title":"java arraylist how to sort Int value that mixed with string","body":"<p>Here is my attempt using Streams API. I make a new Comparator to give to sorted method in order to sort the money based on where it appears in the string.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class SortMoney {\n\n    public static void main(String[] args) {\n    List&lt;String&gt; playerstats = Arrays.asList(&quot;LVL:100 MONEY:1489 MANA: 42,1&quot;,\n                                             &quot;LVL:67 MONEY:389 MANA: 33,5&quot;,\n                                             &quot;LVL:47 MONEY:4229 MANA: 59,7&quot;,\n                                             &quot;LVL:120 MONEY:1189 MANA: 94,5&quot;,\n                                             &quot;LVL:150 MONEY:189 MANA: 19,2&quot;);\n\n    List&lt;String&gt; sortedPlayerStates = playerstats.stream()\n                                                 .map(data -&gt; data.split(&quot;:&quot;))\n                                                 .sorted((o1, o2) -&gt; {\n                                                     int a = Integer.parseInt(o1[2].split(&quot; &quot;)[0]);\n                                                     int b = Integer.parseInt(o2[2].split(&quot; &quot;)[0]);\n                                                     if (a &gt; b) {\n                                                     return -1;\n                                                     } else if (b &gt; a) {\n                                                     return 1;\n                                                     } else {\n                                                     return 0;\n                                                     }\n\n                                                 })\n                                                 .map(data -&gt; String.join(&quot;:&quot;, data))\n                                                 .collect(Collectors.toList());\n\n    sortedPlayerStates.forEach(System.out::println);\n    }\n\n}\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/xsoYH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xsoYH.png\" alt=\"enter image description here\" /></a></p>\n<p>Let me know if this is the result you want.</p>\n<p><strong>Edit:</strong> changed the code to store in variable in case you want to manipulate it later.</p>\n"}],"owner":{"account_id":23924919,"reputation":13,"user_id":17920141,"display_name":"jailun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70690997,"answer_count":1,"score":0,"last_activity_date":1642044246,"creation_date":1642042414,"question_id":70690881,"body_markdown":"my arraylist :\r\n\r\n    &quot;LVL:100 MONEY:1489 MANA: 42,1&quot;,\r\n    &quot;LVL:67 MONEY:389 MANA: 33,5&quot;,\r\n    &quot;LVL:47 MONEY:4229 MANA: 59,7&quot;,\r\n    &quot;LVL:120 MONEY:1189 MANA: 94,5&quot;,\r\n    &quot;LVL:150 MONEY:189 MANA: 19,2&quot;,\r\n\r\nso I want it to sorted by value of MONEY\r\n\r\n    &quot;LVL:47 MONEY:4229 MANA: 59,7&quot;,\r\n    &quot;LVL:100 MONEY:1489 MANA: 42,1&quot;,\r\n    &quot;LVL:120 MONEY:1189 MANA: 94,5&quot;,\r\n    &quot;LVL:67 MONEY:389 MANA: 33,5&quot;,\r\n    &quot;LVL:150 MONEY:189 MANA: 19,2&quot;,\r\n","title":"java arraylist how to sort Int value that mixed with string","body":"<p>my arraylist :</p>\n<pre><code>&quot;LVL:100 MONEY:1489 MANA: 42,1&quot;,\n&quot;LVL:67 MONEY:389 MANA: 33,5&quot;,\n&quot;LVL:47 MONEY:4229 MANA: 59,7&quot;,\n&quot;LVL:120 MONEY:1189 MANA: 94,5&quot;,\n&quot;LVL:150 MONEY:189 MANA: 19,2&quot;,\n</code></pre>\n<p>so I want it to sorted by value of MONEY</p>\n<pre><code>&quot;LVL:47 MONEY:4229 MANA: 59,7&quot;,\n&quot;LVL:100 MONEY:1489 MANA: 42,1&quot;,\n&quot;LVL:120 MONEY:1189 MANA: 94,5&quot;,\n&quot;LVL:67 MONEY:389 MANA: 33,5&quot;,\n&quot;LVL:150 MONEY:189 MANA: 19,2&quot;,\n</code></pre>\n"},{"tags":["java","eclipse","google-app-engine","web","mysql-workbench"],"answers":[{"tags":[],"owner":{"account_id":14437574,"reputation":1039,"user_id":10429189,"display_name":"dishant makwana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642043887,"creation_date":1642043887,"answer_id":70691028,"question_id":70690481,"body_markdown":"you need to use [Cloud SQL proxy][1] to connect to the database from your local machine.\r\n\r\n\r\n  [1]: https://cloud.google.com/sql/docs/mysql/connect-admin-proxy","title":"Using eclipse to call database from Google Cloud SQL","body":"<p>you need to use <a href=\"https://cloud.google.com/sql/docs/mysql/connect-admin-proxy\" rel=\"nofollow noreferrer\">Cloud SQL proxy</a> to connect to the database from your local machine.</p>\n"}],"owner":{"account_id":23924484,"reputation":1,"user_id":17919762,"display_name":"Jia Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642043887,"creation_date":1642038337,"question_id":70690481,"body_markdown":"I m trying to create a dynamic website where I can get data from the database and output it to the user.\r\n\r\nI created the connection between MySQL workbench to Google cloud app engine, and I run on the cloud shell to test the database, it works.\r\nBut when I try to change the URL on eclipse, it just cannot connect to the server, and gives me errors &quot;Failed to load resource: the server responded with a status of 500 ()&quot;.\r\n\r\nthe URL sting are: \r\n\r\n    String url = &quot;jdbc:mysql:///film?cloudSqlInstance=&quot;\r\n        \t\t+ &quot;causal-relic-333309:europe-west6:jiayaodb=&quot;\r\n        \t\t+ &quot;&amp;socketFactory = com.google.cloud.sql.mysql.SocketFactory&quot;\r\n        \t\t+ &quot;&amp;user=root&quot;\r\n        \t\t+ &quot;&amp;password=password&quot;;\r\n\r\n    private Connection openConnection(){\r\n    \t\t// loading jdbc driver for mysql\r\n    \t\ttry{\r\n    \t\t    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t} catch(Exception e) { System.out.println(e); }\r\n    \r\n    \t\t// connecting to database\r\n    \t\ttry{\r\n    \t\t\t// connection string for demos database, username demos, password demos\r\n     \t\t\tconn = DriverManager.getConnection(url);\r\n    \t\t    stmt = conn.createStatement();\r\n    \t\t} catch(SQLException se) { System.out.println(se); }\r\n    \t\treturn conn;\t   \r\n        }\r\n\r\nSo I think is the connection error where I can&#39;t get it to connect to Google Cloud SQL.\r\n\r\n","title":"Using eclipse to call database from Google Cloud SQL","body":"<p>I m trying to create a dynamic website where I can get data from the database and output it to the user.</p>\n<p>I created the connection between MySQL workbench to Google cloud app engine, and I run on the cloud shell to test the database, it works.\nBut when I try to change the URL on eclipse, it just cannot connect to the server, and gives me errors &quot;Failed to load resource: the server responded with a status of 500 ()&quot;.</p>\n<p>the URL sting are:</p>\n<pre><code>String url = &quot;jdbc:mysql:///film?cloudSqlInstance=&quot;\n            + &quot;causal-relic-333309:europe-west6:jiayaodb=&quot;\n            + &quot;&amp;socketFactory = com.google.cloud.sql.mysql.SocketFactory&quot;\n            + &quot;&amp;user=root&quot;\n            + &quot;&amp;password=password&quot;;\n\nprivate Connection openConnection(){\n        // loading jdbc driver for mysql\n        try{\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        } catch(Exception e) { System.out.println(e); }\n\n        // connecting to database\n        try{\n            // connection string for demos database, username demos, password demos\n            conn = DriverManager.getConnection(url);\n            stmt = conn.createStatement();\n        } catch(SQLException se) { System.out.println(se); }\n        return conn;       \n    }\n</code></pre>\n<p>So I think is the connection error where I can't get it to connect to Google Cloud SQL.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1642042731,"post_id":70690897,"comment_id":124969265,"body_markdown":"Unrelated, but some indentation would really make this easier to think about. What&#39;s the specific issue? You have a boolean controlling the loop, and you know the conditions necessary to exit the loop.","body":"Unrelated, but some indentation would really make this easier to think about. What&#39;s the specific issue? You have a boolean controlling the loop, and you know the conditions necessary to exit the loop."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1642042934,"post_id":70690897,"comment_id":124969298,"body_markdown":"`else if (Integer.parseInt(user_respo[0]) &lt;= 0 || Integer.parseInt(user_respo[1]) &lt;= 0)` - Use or not and. Also consider zero as well","body":"<code>else if (Integer.parseInt(user_respo[0]) &lt;= 0 || Integer.parseInt(user_respo[1]) &lt;= 0)</code> - Use or not and. Also consider zero as well"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642043675,"creation_date":1642043675,"answer_id":70691000,"question_id":70690897,"body_markdown":"If you enter only one number (of any kind) then\r\n\r\n    user_respo = sc.nextLine().split(&quot; &quot;);\r\n\r\nwill create an array of size 1, which in turn causes this to error:\r\n\r\n    int col2 = Integer.parseInt(user_respo[1]);\r\n\r\nbecause there is no element `1`; there is only `user_respo[0]`.\r\n\r\nYou should check for the exit condition first and break from the loop if so:\r\n\r\n    while (true) {\r\n        // other code\r\n        user_respo = sc.nextLine().split(&quot; &quot;);\r\n        if (user_respo.startsWith(&quot;-&quot;)) {\r\n            break;\r\n        }\r\n        // other code\r\n    }\r\n\r\n \r\n\r\n\r\n","title":"Bus Seat Reservation. I have no idea how to make the code exit the program when I enter a negative number.(Index 1 out of bounds for length 1)","body":"<p>If you enter only one number (of any kind) then</p>\n<pre><code>user_respo = sc.nextLine().split(&quot; &quot;);\n</code></pre>\n<p>will create an array of size 1, which in turn causes this to error:</p>\n<pre><code>int col2 = Integer.parseInt(user_respo[1]);\n</code></pre>\n<p>because there is no element <code>1</code>; there is only <code>user_respo[0]</code>.</p>\n<p>You should check for the exit condition first and break from the loop if so:</p>\n<pre><code>while (true) {\n    // other code\n    user_respo = sc.nextLine().split(&quot; &quot;);\n    if (user_respo.startsWith(&quot;-&quot;)) {\n        break;\n    }\n    // other code\n}\n</code></pre>\n"}],"owner":{"account_id":23512311,"reputation":1,"user_id":17560740,"display_name":"Talon Musk"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1642047913,"accepted_answer_id":70691000,"answer_count":1,"score":-2,"last_activity_date":1642043675,"creation_date":1642042613,"question_id":70690897,"body_markdown":"Here is my code so far:\r\n\r\n    import java.util.*;\r\n    public class BusReservation {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            boolean response = true;\r\n            String[] user_respo;\r\n            String[] Rows = { &quot;Row 1 &quot;, &quot;Row 2 &quot;, &quot;Row 3 &quot;, &quot;Row 4 &quot;, &quot;Row 5 &quot;, &quot;Row 6 &quot;, &quot;Row 7 &quot;, &quot;Row 8 &quot;, &quot;Row 9 &quot;, &quot;Row 10 &quot;};\r\n            String [][] table = \r\n            {\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n                    {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\r\n            };\r\n            do {\r\n                System.out.println(&quot;Bus Seat Reservation&quot;);\r\n                String[] columns = { &quot; &quot;,&quot;Col 1&quot;,  &quot;Col 2&quot;,  &quot;Col 3&quot;,  &quot;Col 4&quot; };\r\n                for (int i = 0; i &lt; columns.length; i++) {\r\n                    System.out.print(&quot;\\t&quot; + columns[i]);\r\n                }\r\n                System.out.println();\r\n                for (int row = 0; row &lt; table.length; row++) {\r\n                    System.out.print(Rows[row]);\r\n                    for (int col = 0; col &lt; table[row].length; col++) {\r\n                        System.out.print(&quot;\\t&quot; + table[row][col]);\r\n                    }\r\n                    System.out.println();\r\n                }\r\n                System.out.print(&quot;Enter row and column number to reserve separated by space (Enter a negative number to exit): &quot;);\r\n                user_respo = sc.nextLine().split(&quot; &quot;);\r\n                int row1 = Integer.parseInt(user_respo[0]);\r\n                int col2 = Integer.parseInt(user_respo[1]);\r\n                if (Integer.parseInt(user_respo[0]) &gt; 0 &amp;&amp; Integer.parseInt(user_respo[1]) &gt; 0) {\r\n                    table[row1 - 1][col2 - 1] = &quot;   X  &quot;;\r\n                } else if (Integer.parseInt(user_respo[0]) &lt; 0 &amp;&amp; Integer.parseInt(user_respo[1]) &lt; 0) {\r\n                    System.out.println(&quot;Problem Exit!&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Error&quot;);\r\n                }\r\n            } while (response == true);\r\n        }\r\n    \r\n    }\r\n\r\nWhen I input a negative number the error &quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat BusReservation.main(BusReservation.java:42)&quot;\r\nI have no idea how to make it say &quot;Progran Exit!&quot; instead.\r\n","title":"Bus Seat Reservation. I have no idea how to make the code exit the program when I enter a negative number.(Index 1 out of bounds for length 1)","body":"<p>Here is my code so far:</p>\n<pre><code>import java.util.*;\npublic class BusReservation {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        boolean response = true;\n        String[] user_respo;\n        String[] Rows = { &quot;Row 1 &quot;, &quot;Row 2 &quot;, &quot;Row 3 &quot;, &quot;Row 4 &quot;, &quot;Row 5 &quot;, &quot;Row 6 &quot;, &quot;Row 7 &quot;, &quot;Row 8 &quot;, &quot;Row 9 &quot;, &quot;Row 10 &quot;};\n        String [][] table = \n        {\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n                {&quot;  |*&quot;, &quot;   *   &quot;,&quot;   *  &quot;, &quot;   *  &quot;},\n        };\n        do {\n            System.out.println(&quot;Bus Seat Reservation&quot;);\n            String[] columns = { &quot; &quot;,&quot;Col 1&quot;,  &quot;Col 2&quot;,  &quot;Col 3&quot;,  &quot;Col 4&quot; };\n            for (int i = 0; i &lt; columns.length; i++) {\n                System.out.print(&quot;\\t&quot; + columns[i]);\n            }\n            System.out.println();\n            for (int row = 0; row &lt; table.length; row++) {\n                System.out.print(Rows[row]);\n                for (int col = 0; col &lt; table[row].length; col++) {\n                    System.out.print(&quot;\\t&quot; + table[row][col]);\n                }\n                System.out.println();\n            }\n            System.out.print(&quot;Enter row and column number to reserve separated by space (Enter a negative number to exit): &quot;);\n            user_respo = sc.nextLine().split(&quot; &quot;);\n            int row1 = Integer.parseInt(user_respo[0]);\n            int col2 = Integer.parseInt(user_respo[1]);\n            if (Integer.parseInt(user_respo[0]) &gt; 0 &amp;&amp; Integer.parseInt(user_respo[1]) &gt; 0) {\n                table[row1 - 1][col2 - 1] = &quot;   X  &quot;;\n            } else if (Integer.parseInt(user_respo[0]) &lt; 0 &amp;&amp; Integer.parseInt(user_respo[1]) &lt; 0) {\n                System.out.println(&quot;Problem Exit!&quot;);\n            } else {\n                System.out.println(&quot;Error&quot;);\n            }\n        } while (response == true);\n    }\n\n}\n</code></pre>\n<p>When I input a negative number the error &quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\nat BusReservation.main(BusReservation.java:42)&quot;\nI have no idea how to make it say &quot;Progran Exit!&quot; instead.</p>\n"},{"tags":["java","indexoutofboundsexception"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1642043449,"post_id":70686204,"comment_id":124969392,"body_markdown":"*&quot;The wrong is at line..&quot;* This is not an answer as seen below, so much as additional information for the question. Please [edit] the question to add that info, then delete the &#39;answer that is not&#39; below.","body":"<i>&quot;The wrong is at line..&quot;</i> This is not an answer as seen below, so much as additional information for the question. Please <a href=\"https://stackoverflow.com/posts/70686204/edit\">edit</a> the question to add that info, then delete the &#39;answer that is not&#39; below."}],"answers":[{"tags":[],"owner":{"account_id":5908406,"reputation":86,"user_id":4649402,"display_name":"branks"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642009972,"creation_date":1642009972,"answer_id":70686219,"question_id":70686204,"body_markdown":"Length of 1 means there is only an element at index 0 - so you should do something like (i - 1)","title":"How to solve Index 1 out of bounds for length 1","body":"<p>Length of 1 means there is only an element at index 0 - so you should do something like (i - 1)</p>\n"},{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642010325,"creation_date":1642010325,"answer_id":70686280,"question_id":70686204,"body_markdown":"As some of the variables you have used seems unknown here for the other people like me, I think this code snippet is the culprit for your problem:\r\n\r\n    for (int i = 0; i &lt;= rows; i++) {\r\n         System.out.print(sumByRemainder.get(i) + &quot; &quot;);\r\n         for (int j = 1; j &lt;= columns; j++) {\r\n          //... your code\r\n        }\r\n    }\r\n\r\nYou can try the loops limit like this:\r\n\r\n    for (int i = 0; i &lt; rows; i++) {\r\n                System.out.print(sumByRemainder.get(i) + &quot; &quot;);\r\n                for (int j = 1; j &lt; columns; j++) {\r\n                // you code here\r\n          }\r\n    }\r\n\r\nJust give a check in your looping limit for both of the loops.","title":"How to solve Index 1 out of bounds for length 1","body":"<p>As some of the variables you have used seems unknown here for the other people like me, I think this code snippet is the culprit for your problem:</p>\n<pre><code>for (int i = 0; i &lt;= rows; i++) {\n     System.out.print(sumByRemainder.get(i) + &quot; &quot;);\n     for (int j = 1; j &lt;= columns; j++) {\n      //... your code\n    }\n}\n</code></pre>\n<p>You can try the loops limit like this:</p>\n<pre><code>for (int i = 0; i &lt; rows; i++) {\n            System.out.print(sumByRemainder.get(i) + &quot; &quot;);\n            for (int j = 1; j &lt; columns; j++) {\n            // you code here\n      }\n}\n</code></pre>\n<p>Just give a check in your looping limit for both of the loops.</p>\n"}],"owner":{"account_id":23337061,"reputation":133,"user_id":17412555,"display_name":"Richard Walker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5340,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642043360,"creation_date":1642009889,"question_id":70686204,"body_markdown":"I have a method `jsonProductItems()` which return a map with String key and value.\r\n\r\n    public Map&lt;String, String&gt; jsonProductItems() throws IOException {\r\n            List&lt;String&gt; products = new ArrayList&lt;&gt;();\r\n            Map&lt;String, String&gt; productsAndIdentifier = new LinkedHashMap&lt;&gt;();\r\n            for (Item item : example.getItems()) {\r\n                products.add(item.getName());\r\n            }\r\n            for (int i = 0; i &lt; products.size(); i++) {\r\n                productsAndIdentifier.put(indetifier.get(i), products.get(i));\r\n            }\r\n            System.out.println();\r\n            \r\n            return productsAndIdentifier;\r\n        }\r\n\r\nWhen in the same class in other method  I want to do a matrix. When value from matrix is equal with a key from map returned by `jsonProductItems()` method, will print value of this key. But at line `if((&quot;&quot; + sumByRemainder.get(i) + j).equals(entry.getKey()))` have `java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1`. How to solve this problem? And why in this case it appear?\r\n\r\n    for (int i = 0; i &lt;= rows; i++) {\r\n                System.out.print(sumByRemainder.get(i) + &quot; &quot;);\r\n                for (int j = 1; j &lt;= columns; j++) {\r\n    \r\n                    if (i == 0) {\r\n                        System.out.print(&quot; &quot; + j);\r\n                        System.out.print(&quot; &quot;);\r\n                    } else {\r\n                        indetifier.add(&quot;&quot; + sumByRemainder.get(i) + j);\r\n                        for (Map.Entry&lt;String, String&gt; entry : jsonProductItems().entrySet()) {\r\n                            if((&quot;&quot; + sumByRemainder.get(i) + j).equals(entry.getKey())){\r\n                                System.out.println(jsonProductItems().get(entry.getKey()));\r\n                            }else{\r\n                                System.out.print(&quot;&quot; + sumByRemainder.get(i) + j + &quot; &quot;);\r\n                            }\r\n                        }","title":"How to solve Index 1 out of bounds for length 1","body":"<p>I have a method <code>jsonProductItems()</code> which return a map with String key and value.</p>\n<pre><code>public Map&lt;String, String&gt; jsonProductItems() throws IOException {\n        List&lt;String&gt; products = new ArrayList&lt;&gt;();\n        Map&lt;String, String&gt; productsAndIdentifier = new LinkedHashMap&lt;&gt;();\n        for (Item item : example.getItems()) {\n            products.add(item.getName());\n        }\n        for (int i = 0; i &lt; products.size(); i++) {\n            productsAndIdentifier.put(indetifier.get(i), products.get(i));\n        }\n        System.out.println();\n        \n        return productsAndIdentifier;\n    }\n</code></pre>\n<p>When in the same class in other method  I want to do a matrix. When value from matrix is equal with a key from map returned by <code>jsonProductItems()</code> method, will print value of this key. But at line <code>if((&quot;&quot; + sumByRemainder.get(i) + j).equals(entry.getKey()))</code> have <code>java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1</code>. How to solve this problem? And why in this case it appear?</p>\n<pre><code>for (int i = 0; i &lt;= rows; i++) {\n            System.out.print(sumByRemainder.get(i) + &quot; &quot;);\n            for (int j = 1; j &lt;= columns; j++) {\n\n                if (i == 0) {\n                    System.out.print(&quot; &quot; + j);\n                    System.out.print(&quot; &quot;);\n                } else {\n                    indetifier.add(&quot;&quot; + sumByRemainder.get(i) + j);\n                    for (Map.Entry&lt;String, String&gt; entry : jsonProductItems().entrySet()) {\n                        if((&quot;&quot; + sumByRemainder.get(i) + j).equals(entry.getKey())){\n                            System.out.println(jsonProductItems().get(entry.getKey()));\n                        }else{\n                            System.out.print(&quot;&quot; + sumByRemainder.get(i) + j + &quot; &quot;);\n                        }\n                    }\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":3,"creation_date":1642042908,"post_id":70690286,"comment_id":124969293,"body_markdown":"Please don&#39;t make more work for others by vandalizing your posts. By posting on the Stack Exchange (SE) network, you&#39;ve granted a non-revocable right, under the [CC BY-SA license](https://creativecommons.org/licenses/by-sa/4.0), for SE to distribute the content (regardless of your future choices). By SE policy, the non-vandalized version is distributed. Thus, any such destructive edits will be reverted. Please see [How does deleting work?](/help/what-to-do-instead-of-deleting-question) for more information on how deleting content works on this site.","body":"Please don&#39;t make more work for others by vandalizing your posts. By posting on the Stack Exchange (SE) network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0\" rel=\"nofollow noreferrer\">CC BY-SA license</a>, for SE to distribute the content (regardless of your future choices). By SE policy, the non-vandalized version is distributed. Thus, any such destructive edits will be reverted. Please see <a href=\"/help/what-to-do-instead-of-deleting-question\">How does deleting work?</a> for more information on how deleting content works on this site."}],"answers":[{"tags":[],"owner":{"account_id":19785551,"reputation":71,"user_id":14489599,"display_name":"Joao Soares"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642036863,"creation_date":1642036863,"answer_id":70690350,"question_id":70690286,"body_markdown":"&quot;bullet&quot; with lowercase b is an **array of Bullets**, but isShot() expects a **single Bullet object**. And &quot;Bullet&quot; with capital B is not a variable, but a class (I suppose). \r\n\r\nSo, you either need to create another object of Bullet or use one of the Bullet object in your &quot;bullet&quot; ArrayList. ","title":"How do I detect the collision between the bullet and the enemy?","body":"<p>&quot;bullet&quot; with lowercase b is an <strong>array of Bullets</strong>, but isShot() expects a <strong>single Bullet object</strong>. And &quot;Bullet&quot; with capital B is not a variable, but a class (I suppose).</p>\n<p>So, you either need to create another object of Bullet or use one of the Bullet object in your &quot;bullet&quot; ArrayList.</p>\n"},{"tags":[],"owner":{"account_id":5801459,"reputation":762,"user_id":4575505,"accept_rate":100,"display_name":"Thecave3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642038612,"creation_date":1642038612,"answer_id":70690514,"question_id":70690286,"body_markdown":"You are almost there.\r\nI suggest you use more meaningful names for your parameters.\r\nFirst of all, you have to populate the ArrayList `bullet` in your `setup()` or elsewhere you want in your code.\r\n\r\nAfter this, if you want to check that condition using isShot function you should pass to it an instance of an Object, not the class Object itself.\r\n\r\nThis can be easily achieved by including the function in your for loop.\r\n\r\nWhile it is always good to practice, I suggest you to first understand the basics of the language and then move to more complex examples (custom classes, arrays iterations and so on).\r\n\r\n\r\n    void setup()\r\n    {\r\n      size (1000, 1000);\r\n      p1= new Player(500,5, 40);\r\n      e[1]= new Enemy(100,1000,3);\r\n       e[2]= new Enemy(500,800,3);\r\n        e[3]= new Enemy(700,700,3);\r\n        bullet.add(new Bullet(500,500,-5)); // e.g. to populate array\r\n    }\r\n    \r\n    void draw()\r\n    {\r\n      background(255);\r\n      p1.render();\r\n      e[1].render();\r\n      e[1].move();\r\n      e[2].render();\r\n      e[2].move();\r\n      e[3].render();\r\n      e[3].move();\r\n      text(&quot;Score:&quot; + score,50,50);\r\n      \r\n      for (Bullet b: bullet)\r\n      {\r\n        b.render();\r\n        b.move();\r\n    \r\n        if (e[1].isShot(b)) // now you can use b which is an instance of Bullet\r\n        {\r\n         e[1]=null;\r\n        }\r\n      }\r\n","title":"How do I detect the collision between the bullet and the enemy?","body":"<p>You are almost there.\nI suggest you use more meaningful names for your parameters.\nFirst of all, you have to populate the ArrayList <code>bullet</code> in your <code>setup()</code> or elsewhere you want in your code.</p>\n<p>After this, if you want to check that condition using isShot function you should pass to it an instance of an Object, not the class Object itself.</p>\n<p>This can be easily achieved by including the function in your for loop.</p>\n<p>While it is always good to practice, I suggest you to first understand the basics of the language and then move to more complex examples (custom classes, arrays iterations and so on).</p>\n<pre><code>void setup()\n{\n  size (1000, 1000);\n  p1= new Player(500,5, 40);\n  e[1]= new Enemy(100,1000,3);\n   e[2]= new Enemy(500,800,3);\n    e[3]= new Enemy(700,700,3);\n    bullet.add(new Bullet(500,500,-5)); // e.g. to populate array\n}\n\nvoid draw()\n{\n  background(255);\n  p1.render();\n  e[1].render();\n  e[1].move();\n  e[2].render();\n  e[2].move();\n  e[3].render();\n  e[3].move();\n  text(&quot;Score:&quot; + score,50,50);\n  \n  for (Bullet b: bullet)\n  {\n    b.render();\n    b.move();\n\n    if (e[1].isShot(b)) // now you can use b which is an instance of Bullet\n    {\n     e[1]=null;\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":23312591,"reputation":1,"user_id":17391597,"display_name":"a.m123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1642103379,"answer_count":2,"score":0,"last_activity_date":1642042890,"creation_date":1642036153,"question_id":70690286,"body_markdown":"I&#39;m creating a shooter game and im unsure on how to make it detect the fact that the bullet has hit the enemy. This is the boolean that was given\r\n```\r\n boolean isShot(Bullet bullet) //is shot sequence\r\n  {\r\n    if (bullet!=null)\r\n    {\r\n      if (abs(this.x - bullet.x) &lt; 20  &amp;&amp;\r\n        abs(this.y - bullet.y) &lt; 20)\r\n        return true;\r\n    }\r\n    return false;\r\n  }\r\n```\r\nand this is the part where i try make it detect the collision and make the enemy disappear but it keeps giving me errors no matter what i try. \r\n```\r\n import java.util.ArrayList;\r\n\r\nint score;\r\nPlayer p1;\r\nEnemy[] e= new Enemy[4];\r\nArrayList&lt;Bullet&gt; bullet = new ArrayList&lt;Bullet&gt;();\r\n\r\nvoid setup()\r\n{\r\n  size (1000, 1000);\r\n  p1= new Player(500,5, 40);\r\n  e[1]= new Enemy(100,1000,3);\r\n   e[2]= new Enemy(500,800,3);\r\n    e[3]= new Enemy(700,700,3);\r\n //   b1= new Bullet(500,500,-5);\r\n}\r\n\r\nvoid draw()\r\n{\r\n  background(255);\r\n  p1.render();\r\n  e[1].render();\r\n  e[1].move();\r\n  e[2].render();\r\n  e[2].move();\r\n  e[3].render();\r\n  e[3].move();\r\n  text(&quot;Score:&quot; + score,50,50);\r\n  \r\n  for (Bullet b: bullet)\r\n  {\r\n    b.render();\r\n    b.move();\r\n  }\r\n\r\nif (e[1].isShot(Bullet))\r\n{\r\n  e[1]=null;\r\n}\r\n\r\n```\r\nIts at the bottom of this peice of code. When i try put bullet in lowercase it says &quot;the function isShot() expects paramaters like &quot;isShot(Bullet)&quot; but when i capitalise the B in bullet it tells me that bullet isnt a variable.","title":"How do I detect the collision between the bullet and the enemy?","body":"<p>I'm creating a shooter game and im unsure on how to make it detect the fact that the bullet has hit the enemy. This is the boolean that was given</p>\n<pre><code> boolean isShot(Bullet bullet) //is shot sequence\n  {\n    if (bullet!=null)\n    {\n      if (abs(this.x - bullet.x) &lt; 20  &amp;&amp;\n        abs(this.y - bullet.y) &lt; 20)\n        return true;\n    }\n    return false;\n  }\n</code></pre>\n<p>and this is the part where i try make it detect the collision and make the enemy disappear but it keeps giving me errors no matter what i try.</p>\n<pre><code> import java.util.ArrayList;\n\nint score;\nPlayer p1;\nEnemy[] e= new Enemy[4];\nArrayList&lt;Bullet&gt; bullet = new ArrayList&lt;Bullet&gt;();\n\nvoid setup()\n{\n  size (1000, 1000);\n  p1= new Player(500,5, 40);\n  e[1]= new Enemy(100,1000,3);\n   e[2]= new Enemy(500,800,3);\n    e[3]= new Enemy(700,700,3);\n //   b1= new Bullet(500,500,-5);\n}\n\nvoid draw()\n{\n  background(255);\n  p1.render();\n  e[1].render();\n  e[1].move();\n  e[2].render();\n  e[2].move();\n  e[3].render();\n  e[3].move();\n  text(&quot;Score:&quot; + score,50,50);\n  \n  for (Bullet b: bullet)\n  {\n    b.render();\n    b.move();\n  }\n\nif (e[1].isShot(Bullet))\n{\n  e[1]=null;\n}\n\n</code></pre>\n<p>Its at the bottom of this peice of code. When i try put bullet in lowercase it says &quot;the function isShot() expects paramaters like &quot;isShot(Bullet)&quot; but when i capitalise the B in bullet it tells me that bullet isnt a variable.</p>\n"},{"tags":["java","visual-studio-code","jar","vscode-extensions","executable-jar"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641934105,"post_id":70673214,"comment_id":124936892,"body_markdown":"Did you try `enable-preview`?","body":"Did you try <code>enable-preview</code>?"},{"owner":{"account_id":18466322,"reputation":11,"user_id":13452407,"display_name":"pogerx"},"score":0,"creation_date":1641935174,"post_id":70673214,"comment_id":124937231,"body_markdown":"@Thorbj&#248;rnRavnAndersen Thank you I tried it and it works but I tried it in the terminal (CMD) by typing : &quot;java --enable-preview -jar [File_Name].jar&quot;, can I make it works just when I click on the icon (with out terminal)?","body":"@Thorbj&#248;rnRavnAndersen Thank you I tried it and it works but I tried it in the terminal (CMD) by typing : &quot;java --enable-preview -jar [File_Name].jar&quot;, can I make it works just when I click on the icon (with out terminal)?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641935906,"post_id":70673214,"comment_id":124937474,"body_markdown":"Configure Vscode not to use preview features from the jdk and reexport.","body":"Configure Vscode not to use preview features from the jdk and reexport."},{"owner":{"account_id":18466322,"reputation":11,"user_id":13452407,"display_name":"pogerx"},"score":0,"creation_date":1641937927,"post_id":70673214,"comment_id":124938096,"body_markdown":"ok I got you but I can&#39;t find the place in vscode settings that I can use --enable-preview so if you know tell me please,Thanks","body":"ok I got you but I can&#39;t find the place in vscode settings that I can use --enable-preview so if you know tell me please,Thanks"}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641950476,"creation_date":1641950476,"answer_id":70675300,"question_id":70673214,"body_markdown":"Preview features are enabled by default. Configure the `java.configuration.runtimes` preference in your **User Settings.json**:\r\n\r\n    &quot;java.configuration.runtimes&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n        &quot;path&quot;: &quot;/path/to/jdk-17&quot;,\r\n        &quot;default&quot;: true\r\n      },\r\n    ],\r\nThen reload window and try again.\r\n\r\n**Reference:** [Enabling Java preview features][1]\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/wiki/Enabling-Java-preview-features","title":"Exporting jar file from vscode, The jar file does not open","body":"<p>Preview features are enabled by default. Configure the <code>java.configuration.runtimes</code> preference in your <strong>User Settings.json</strong>:</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-17&quot;,\n    &quot;path&quot;: &quot;/path/to/jdk-17&quot;,\n    &quot;default&quot;: true\n  },\n],\n</code></pre>\n<p>Then reload window and try again.</p>\n<p><strong>Reference:</strong> <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Enabling-Java-preview-features\" rel=\"nofollow noreferrer\">Enabling Java preview features</a></p>\n"},{"tags":[],"owner":{"account_id":18466322,"reputation":11,"user_id":13452407,"display_name":"pogerx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641974223,"creation_date":1641974223,"answer_id":70678036,"question_id":70673214,"body_markdown":"The best way I found is by creating a .bat file and write this code in it :\r\n`java --enable-preview -jar &lt;filename&gt;.jar`\r\nnow you can run the .jar file by running the generated .bat file","title":"Exporting jar file from vscode, The jar file does not open","body":"<p>The best way I found is by creating a .bat file and write this code in it :\n<code>java --enable-preview -jar &lt;filename&gt;.jar</code>\nnow you can run the .jar file by running the generated .bat file</p>\n"},{"tags":[],"owner":{"account_id":23243918,"reputation":56,"user_id":17332762,"display_name":"Shi Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642042819,"creation_date":1642042819,"answer_id":70690921,"question_id":70673214,"body_markdown":"As far as I know, the current version of Language Support for Java will not add `--enable-preview` argument when compiling with Java 17, it will happen when you&#39;re using Java 18, so could you provide more information, such as\r\n\r\n - the version of your Language Support for Java\r\n - the argument passed to the compiler (if you just compile the project manually)","title":"Exporting jar file from vscode, The jar file does not open","body":"<p>As far as I know, the current version of Language Support for Java will not add <code>--enable-preview</code> argument when compiling with Java 17, it will happen when you're using Java 18, so could you provide more information, such as</p>\n<ul>\n<li>the version of your Language Support for Java</li>\n<li>the argument passed to the compiler (if you just compile the project manually)</li>\n</ul>\n"}],"owner":{"account_id":18466322,"reputation":11,"user_id":13452407,"display_name":"pogerx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70678036,"answer_count":3,"score":0,"last_activity_date":1642042819,"creation_date":1641933840,"question_id":70673214,"body_markdown":"If I Exported a file jar from IntelliJ and opened it work perfectly but if do this in vscode after exporting the file with no errors I can&#39;t open the file I click on the jar file and nothing happening ,I extract the both files jar the one from IntelliJ and the vscode one ( to look at the files in side jar file ) both had the same files and same MANIFEST.MF file so why the IntelliJ work but vscode one doesn&#39;t ?\r\n\r\nNOTES:\r\n1. java -version: &quot;17.0.1&quot; and javac -version: 17.0.1 (no problem with versions).\r\n2. If I tried to open jar file with terminal not by clicking I got this Error: \r\n\r\n        &quot;Error: LinkageError occurred while loading main class App\r\n        java.lang.UnsupportedClassVersionError: Preview features are not enabled \r\n        for App (class file version 61.65535). Try running with &#39;--enable-preview&#39;&quot;","title":"Exporting jar file from vscode, The jar file does not open","body":"<p>If I Exported a file jar from IntelliJ and opened it work perfectly but if do this in vscode after exporting the file with no errors I can't open the file I click on the jar file and nothing happening ,I extract the both files jar the one from IntelliJ and the vscode one ( to look at the files in side jar file ) both had the same files and same MANIFEST.MF file so why the IntelliJ work but vscode one doesn't ?</p>\n<p>NOTES:</p>\n<ol>\n<li><p>java -version: &quot;17.0.1&quot; and javac -version: 17.0.1 (no problem with versions).</p>\n</li>\n<li><p>If I tried to open jar file with terminal not by clicking I got this Error:</p>\n<pre><code> &quot;Error: LinkageError occurred while loading main class App\n java.lang.UnsupportedClassVersionError: Preview features are not enabled \n for App (class file version 61.65535). Try running with '--enable-preview'&quot;\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","generics","compiler-errors","wildcard"],"comments":[{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1641941734,"post_id":70674128,"comment_id":124939041,"body_markdown":"I wonder if the non-static inner class&#39;s reference to the enclosing class is a factor. https://stackoverflow.com/questions/34621640/when-an-anonymous-class-with-no-references-to-its-enclosing-class-is-returned-fr","body":"I wonder if the non-static inner class&#39;s reference to the enclosing class is a factor. <a href=\"https://stackoverflow.com/questions/34621640/when-an-anonymous-class-with-no-references-to-its-enclosing-class-is-returned-fr\" title=\"when an anonymous class with no references to its enclosing class is returned fr\">stackoverflow.com/questions/34621640/&hellip;</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1641944443,"post_id":70674128,"comment_id":124939655,"body_markdown":"(1) Notice that you declared two *separate* generic types, one for `LinkedList` and other for `Node` and both are named `&lt;T&gt;`. For now I would advice renaming them so we could recognize which is which, maybe something like `LinkedList&lt;T1&gt;` and `Node&lt;T2&gt;`.  (2) Instance of non-static nested class (here Node) has direct access to all members of its instance of outer class which created it so it also need information about its generic type. So its &quot;full type&quot; is like `Outer&lt;T1&gt;.Inner&lt;T2&gt;`.","body":"(1) Notice that you declared two <i>separate</i> generic types, one for <code>LinkedList</code> and other for <code>Node</code> and both are named <code>&lt;T&gt;</code>. For now I would advice renaming them so we could recognize which is which, maybe something like <code>LinkedList&lt;T1&gt;</code> and <code>Node&lt;T2&gt;</code>.  (2) Instance of non-static nested class (here Node) has direct access to all members of its instance of outer class which created it so it also need information about its generic type. So its &quot;full type&quot; is like <code>Outer&lt;T1&gt;.Inner&lt;T2&gt;</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1641944715,"post_id":70674128,"comment_id":124939707,"body_markdown":"So inside `concat` method try to clarify type also for *outer class* of `Node` via `LinkedList&lt;? extends T1&gt;.Node&lt;? extends T1&gt; head = otherList.head;`.","body":"So inside <code>concat</code> method try to clarify type also for <i>outer class</i> of <code>Node</code> via <code>LinkedList&lt;? extends T1&gt;.Node&lt;? extends T1&gt; head = otherList.head;</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642022094,"post_id":70674128,"comment_id":124965174,"body_markdown":"Possibly related: [Is it possible to use parametrize generic inner classes?](https://stackoverflow.com/q/26451400)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/26451400\">Is it possible to use parametrize generic inner classes?</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1642022347,"post_id":70674128,"comment_id":124965248,"body_markdown":"Regarding why making Node `static` solves this problem, it is because `static` nested classes are independent from its *outer* classes so they don&#39;t need that extra information about generic type of outer class `LinkedList`.","body":"Regarding why making Node <code>static</code> solves this problem, it is because <code>static</code> nested classes are independent from its <i>outer</i> classes so they don&#39;t need that extra information about generic type of outer class <code>LinkedList</code>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642042543,"creation_date":1641949204,"answer_id":70675177,"question_id":70674128,"body_markdown":"The problem is that the compiler doesn&#39;t know that the type of `LinkedList&lt;? extends T&gt;` is *the same* type as `Node&lt;? extends T&gt;` - the two wildcard types could be *different* subtypes of `T`, so the compile error is appropriate.\r\n\r\nThe fix is to type the *method*, locking the subtype to *the same* subtype for both:\r\n\r\n    public &lt;U extends T&gt; void concat(LinkedList&lt;U&gt; otherList) {\r\n        // see below\r\n    }\r\n\r\nThis is the same as a wildcard `&lt;? extends T&gt;`, but it&#39;s a constant for the method invocation.\r\n\r\nYou need a little more generics fu inside the method too:\r\n\r\n    public &lt;U extends T&gt;  void concat(LinkedList&lt;U&gt; otherList) {\r\n        // Because you have an inner class, you must use this syntax\r\n        LinkedList&lt;U&gt;.Node&lt;U&gt; otherListHead = otherList.head;\r\n        // Create the local typed Node using the foreign Node&#39;s data\r\n        Node&lt;T&gt; node = new Node&lt;&gt;(otherList.head.item);\r\n        // Add node to this and repeat for all Nodes in the other list \r\n    }\r\n\r\n---\r\n\r\nThe reason it works without special syntax when Node is a static class, ie:\r\n\r\n    public &lt;U extends T&gt;  void concat(LinkedList&lt;U&gt; otherList) {\r\n        Node&lt;U&gt; otherListHead = otherList.head; // doesn&#39;t need LinkedList&lt;U&gt; prefix\r\n        // ...\r\n    }\r\n\r\nis because whereas instances of static classes exist independently, inner classes can&#39;t exist without the enclosing class instance and this is just the syntax that java requires.\r\n\r\nIncidentally, when the Node class is not static, the type `T` of Node is *hiding* the type `T` of LinkedList, so you should delete the type from Node, instead just using the type `T` from LinkedList which the inner class Node acquires from the enclosing LinkedList instance, ie:\r\n\r\n    public static class LinkedList&lt;T&gt; {\r\n        Node head;\r\n\r\n        private class Node { // non static version should not be typed\r\n            T item;  // T comes from the enclosing class instance\r\n            Node next;\r\n\r\n            Node(T item){\r\n                this.item = item;\r\n            }\r\n        }\r\n        // ...\r\n    }\r\n\r\nPerhaps that is what you intended.\r\n","title":"Wild card &lt;? extends T&gt; throws incompatible types error for non-static nested class","body":"<p>The problem is that the compiler doesn't know that the type of <code>LinkedList&lt;? extends T&gt;</code> is <em>the same</em> type as <code>Node&lt;? extends T&gt;</code> - the two wildcard types could be <em>different</em> subtypes of <code>T</code>, so the compile error is appropriate.</p>\n<p>The fix is to type the <em>method</em>, locking the subtype to <em>the same</em> subtype for both:</p>\n<pre><code>public &lt;U extends T&gt; void concat(LinkedList&lt;U&gt; otherList) {\n    // see below\n}\n</code></pre>\n<p>This is the same as a wildcard <code>&lt;? extends T&gt;</code>, but it's a constant for the method invocation.</p>\n<p>You need a little more generics fu inside the method too:</p>\n<pre><code>public &lt;U extends T&gt;  void concat(LinkedList&lt;U&gt; otherList) {\n    // Because you have an inner class, you must use this syntax\n    LinkedList&lt;U&gt;.Node&lt;U&gt; otherListHead = otherList.head;\n    // Create the local typed Node using the foreign Node's data\n    Node&lt;T&gt; node = new Node&lt;&gt;(otherList.head.item);\n    // Add node to this and repeat for all Nodes in the other list \n}\n</code></pre>\n<hr />\n<p>The reason it works without special syntax when Node is a static class, ie:</p>\n<pre><code>public &lt;U extends T&gt;  void concat(LinkedList&lt;U&gt; otherList) {\n    Node&lt;U&gt; otherListHead = otherList.head; // doesn't need LinkedList&lt;U&gt; prefix\n    // ...\n}\n</code></pre>\n<p>is because whereas instances of static classes exist independently, inner classes can't exist without the enclosing class instance and this is just the syntax that java requires.</p>\n<p>Incidentally, when the Node class is not static, the type <code>T</code> of Node is <em>hiding</em> the type <code>T</code> of LinkedList, so you should delete the type from Node, instead just using the type <code>T</code> from LinkedList which the inner class Node acquires from the enclosing LinkedList instance, ie:</p>\n<pre><code>public static class LinkedList&lt;T&gt; {\n    Node head;\n\n    private class Node { // non static version should not be typed\n        T item;  // T comes from the enclosing class instance\n        Node next;\n\n        Node(T item){\n            this.item = item;\n        }\n    }\n    // ...\n}\n</code></pre>\n<p>Perhaps that is what you intended.</p>\n"}],"owner":{"account_id":14627453,"reputation":9827,"user_id":10564382,"display_name":"jonyB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70675177,"answer_count":1,"score":1,"last_activity_date":1642042543,"creation_date":1641939678,"question_id":70674128,"body_markdown":"I&#39;ve started learning generics and I&#39;ve come across a compilation error regarding wildcards that I don&#39;t understand.\r\n\r\nConsider the following partial implementation of a LinkedList:\r\n```\r\npublic class LinkedList&lt;T&gt; {\r\n    Node&lt;T&gt; head;\r\n\r\n    private class Node&lt;T&gt; {\r\n        T item;\r\n        Node&lt;T&gt; next;\r\n\r\n        Node(T item){\r\n            this.item = item;\r\n        }\r\n    }\r\n\r\n    public void concat(LinkedList&lt;T&gt; otherList) {\r\n        Node&lt;T&gt; otherListHead = otherList.head;\r\n        // ... iterating through otherList and adding its members to this list\r\n    }\r\n}\r\n```\r\n\r\nthis compiles well.\r\n\r\nHowever, if I wanted to be able to concatenate any list of wildcards extending T:\r\n\r\n```\r\npublic class LinkedList&lt;T&gt; {\r\n    ...\r\n    public void concat(LinkedList&lt;? extends T&gt; otherList) {\r\n        Node&lt;? extends T&gt; otherListHead = otherList.head;\r\n        // ... iterating through other list and adding its members to this list\r\n    }\r\n}\r\n```\r\nI would get the following compilation error:\r\n```\r\n error: incompatible types: LinkedList&lt;CAP#1&gt;.Node&lt;CAP#1&gt; cannot be converted to LinkedList&lt;T&gt;.Node&lt;? extends T&gt;\r\n        Node&lt;? extends T&gt; otherListHead = otherList.head;\r\n                                                   ^\r\n  where T is a type-variable:\r\n    T extends Object declared in class LinkedList\r\n  where CAP#1 is a fresh type-variable:\r\n    CAP#1 extends T from capture of ? extends T\r\n```\r\n\r\nNow I have two questions:\r\n\r\n 1. After reading about [the get-put principle][1] and about [errors when wrapping wild cards][2] I have a good intuition as to why it doesn&#39;t work, but I&#39;ll still be happy for a specific explanation.\r\n 2. What baffled me most, is that making the nested class **static** removes the compilation error but I don&#39;t understand why though.\r\n```\r\npublic class LinkedList&lt;T&gt; {\r\n    Node&lt;T&gt; head;\r\n\r\n    /*This compiles well. Why?*/\r\n    private static class Node&lt;T&gt; {\r\n        T item;\r\n        Node&lt;T&gt; next;\r\n\r\n        Node(T item){\r\n            this.item = item;\r\n        }\r\n    }\r\n\r\n    public void concat(LinkedList&lt;? extends T&gt; otherList) {\r\n        Node&lt;? extends T&gt; otherListHead = otherList.head;\r\n        // ... iterating through other list and adding its members to this list\r\n    }\r\n}\r\n```\r\n\r\nI would be delighted if anyone could throw some light on this, cheers!\r\n\r\n  [1]: https://stackoverflow.com/questions/1292109/explanation-of-the-get-put-principle\r\n  [2]: http://what-when-how.com/Tutorial/topic-735pjvhv/Beginning-Java-8-Language-Features-115.html","title":"Wild card &lt;? extends T&gt; throws incompatible types error for non-static nested class","body":"<p>I've started learning generics and I've come across a compilation error regarding wildcards that I don't understand.</p>\n<p>Consider the following partial implementation of a LinkedList:</p>\n<pre><code>public class LinkedList&lt;T&gt; {\n    Node&lt;T&gt; head;\n\n    private class Node&lt;T&gt; {\n        T item;\n        Node&lt;T&gt; next;\n\n        Node(T item){\n            this.item = item;\n        }\n    }\n\n    public void concat(LinkedList&lt;T&gt; otherList) {\n        Node&lt;T&gt; otherListHead = otherList.head;\n        // ... iterating through otherList and adding its members to this list\n    }\n}\n</code></pre>\n<p>this compiles well.</p>\n<p>However, if I wanted to be able to concatenate any list of wildcards extending T:</p>\n<pre><code>public class LinkedList&lt;T&gt; {\n    ...\n    public void concat(LinkedList&lt;? extends T&gt; otherList) {\n        Node&lt;? extends T&gt; otherListHead = otherList.head;\n        // ... iterating through other list and adding its members to this list\n    }\n}\n</code></pre>\n<p>I would get the following compilation error:</p>\n<pre><code> error: incompatible types: LinkedList&lt;CAP#1&gt;.Node&lt;CAP#1&gt; cannot be converted to LinkedList&lt;T&gt;.Node&lt;? extends T&gt;\n        Node&lt;? extends T&gt; otherListHead = otherList.head;\n                                                   ^\n  where T is a type-variable:\n    T extends Object declared in class LinkedList\n  where CAP#1 is a fresh type-variable:\n    CAP#1 extends T from capture of ? extends T\n</code></pre>\n<p>Now I have two questions:</p>\n<ol>\n<li>After reading about <a href=\"https://stackoverflow.com/questions/1292109/explanation-of-the-get-put-principle\">the get-put principle</a> and about <a href=\"http://what-when-how.com/Tutorial/topic-735pjvhv/Beginning-Java-8-Language-Features-115.html\" rel=\"nofollow noreferrer\">errors when wrapping wild cards</a> I have a good intuition as to why it doesn't work, but I'll still be happy for a specific explanation.</li>\n<li>What baffled me most, is that making the nested class <strong>static</strong> removes the compilation error but I don't understand why though.</li>\n</ol>\n<pre><code>public class LinkedList&lt;T&gt; {\n    Node&lt;T&gt; head;\n\n    /*This compiles well. Why?*/\n    private static class Node&lt;T&gt; {\n        T item;\n        Node&lt;T&gt; next;\n\n        Node(T item){\n            this.item = item;\n        }\n    }\n\n    public void concat(LinkedList&lt;? extends T&gt; otherList) {\n        Node&lt;? extends T&gt; otherListHead = otherList.head;\n        // ... iterating through other list and adding its members to this list\n    }\n}\n</code></pre>\n<p>I would be delighted if anyone could throw some light on this, cheers!</p>\n"},{"tags":["java","nullpointerexception","tomcat8","guacamole"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642027183,"post_id":70689263,"comment_id":124966699,"body_markdown":"Are you able to show `guacamole.xml`?","body":"Are you able to show <code>guacamole.xml</code>?"},{"owner":{"account_id":7521599,"reputation":356,"user_id":5769953,"display_name":"jitter"},"score":0,"creation_date":1642028970,"post_id":70689263,"comment_id":124967107,"body_markdown":"@OneCricketeer I added the contents of guacamole.xml to the original question above.","body":"@OneCricketeer I added the contents of guacamole.xml to the original question above."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642029176,"post_id":70689263,"comment_id":124967154,"body_markdown":"My only suggestion would be to try and run it as a Docker container. That way, it doesn&#39;t depend on your host&#39;s files, settings, or OS. https://guacamole.apache.org/doc/gug/guacamole-docker.html","body":"My only suggestion would be to try and run it as a Docker container. That way, it doesn&#39;t depend on your host&#39;s files, settings, or OS. <a href=\"https://guacamole.apache.org/doc/gug/guacamole-docker.html\" rel=\"nofollow noreferrer\">guacamole.apache.org/doc/gug/guacamole-docker.html</a>"},{"owner":{"account_id":7521599,"reputation":356,"user_id":5769953,"display_name":"jitter"},"score":0,"creation_date":1642031161,"post_id":70689263,"comment_id":124967524,"body_markdown":"Thank you, I will take a look at that. Installing Docker on raspbian also seems to be non-trivial.","body":"Thank you, I will take a look at that. Installing Docker on raspbian also seems to be non-trivial."}],"owner":{"account_id":7521599,"reputation":356,"user_id":5769953,"display_name":"jitter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1642042399,"creation_date":1642026897,"question_id":70689263,"body_markdown":"I am trying to run the default guacamole package from Raspbian (bullseye), which installs tomcat8, but I am only getting a 404 error when trying to access it via apache. Looking in the error log of the tomcat server (/var/log/tomcat8/catalina.2022-01-12.log) shows the following error message on startup/restart:\r\n\r\n    12-Jan-2022 23:23:49.934 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n     org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/guacamole]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:629)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1839)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:373)\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:191)\r\n    \tat org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1898)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1120)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:769)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5181)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 10 more\r\n    \r\n    12-Jan-2022 23:23:49.959 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor [/etc/tomcat8/Catalina/localhost/guacamole.xml]\r\n     java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/guacamole]]\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:629)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1839)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\nI am not sure what&#39;s actually wrong here, any help would be appreciated.\r\n\r\nguacamole.xml contains the following (requested in the comments):\r\n\r\n    &lt;Context path=&quot;/guacamole&quot; docBase=&quot;/usr/share/guacamole/guacamole&quot;&gt;\r\n     &lt;Resources allowLinking=&quot;true&quot; /&gt;\r\n    &lt;/Context&gt;\r\n\r\n","title":"Getting NullPointerException when trying to start tomcat server for guacamole","body":"<p>I am trying to run the default guacamole package from Raspbian (bullseye), which installs tomcat8, but I am only getting a 404 error when trying to access it via apache. Looking in the error log of the tomcat server (/var/log/tomcat8/catalina.2022-01-12.log) shows the following error message on startup/restart:</p>\n<pre><code>12-Jan-2022 23:23:49.934 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/guacamole]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:629)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1839)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.NullPointerException\n    at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:373)\n    at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:191)\n    at org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1898)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1120)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:769)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5181)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 10 more\n\n12-Jan-2022 23:23:49.959 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor [/etc/tomcat8/Catalina/localhost/guacamole.xml]\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/guacamole]]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:629)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1839)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>I am not sure what's actually wrong here, any help would be appreciated.</p>\n<p>guacamole.xml contains the following (requested in the comments):</p>\n<pre><code>&lt;Context path=&quot;/guacamole&quot; docBase=&quot;/usr/share/guacamole/guacamole&quot;&gt;\n &lt;Resources allowLinking=&quot;true&quot; /&gt;\n&lt;/Context&gt;\n</code></pre>\n"},{"tags":["java","io","printwriter","printstream"],"answers":[{"tags":[],"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642028409,"creation_date":1642027651,"answer_id":70689360,"question_id":70689295,"body_markdown":"`PrintStream` is ancient. Prefer `PrintWriter`. Actually, it&#39;s better to use neither since both classes swallow exceptions silently. \r\n\r\nI suggest using an `OutputStreamWriter` wrapped by a `BufferedWriter`.\r\n\r\n`PrintStream` cannot use a character encoding other than the default charset. If you need to write strings as UTF-8 bytes and the default JVM charset is Windows-1252 (as is the case when running Java on Windows), then `PrintWriter` can do that, and `PrintStream` cannot. That&#39;s the main difference, I think.\r\n\r\n`PrintWriter` doesn&#39;t allow you to write a `byte[]`, while `PrintStream` does. Allowing direct writing of `byte[]` opens up the possibility of making mistakes by mixing character encodings which shouldn&#39;t be mixed.\r\n\r\n`PrintWriter` allows you to write a `char[]` directly while `PrintStream` does not. \r\n\r\n`PrintWriter` allows you to write a slice of a String without allocating a new String.","title":"Why use Printwriter over PrintStream in Java for outputting human readable text","body":"<p><code>PrintStream</code> is ancient. Prefer <code>PrintWriter</code>. Actually, it's better to use neither since both classes swallow exceptions silently.</p>\n<p>I suggest using an <code>OutputStreamWriter</code> wrapped by a <code>BufferedWriter</code>.</p>\n<p><code>PrintStream</code> cannot use a character encoding other than the default charset. If you need to write strings as UTF-8 bytes and the default JVM charset is Windows-1252 (as is the case when running Java on Windows), then <code>PrintWriter</code> can do that, and <code>PrintStream</code> cannot. That's the main difference, I think.</p>\n<p><code>PrintWriter</code> doesn't allow you to write a <code>byte[]</code>, while <code>PrintStream</code> does. Allowing direct writing of <code>byte[]</code> opens up the possibility of making mistakes by mixing character encodings which shouldn't be mixed.</p>\n<p><code>PrintWriter</code> allows you to write a <code>char[]</code> directly while <code>PrintStream</code> does not.</p>\n<p><code>PrintWriter</code> allows you to write a slice of a String without allocating a new String.</p>\n"}],"owner":{"account_id":18317508,"reputation":17,"user_id":14789052,"display_name":"sniperking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70689360,"answer_count":1,"score":1,"last_activity_date":1642042356,"creation_date":1642027115,"question_id":70689295,"body_markdown":"The java documentation says to use Printwriter over Printstream when dealing with text, but why is this so? I know Printwriter deals with character streams and Printstream deals with byte streams but their both bytes at the end of the day. And since Java 1.5 PrintStream has not been limited to using the platform default encoding; there are constructors that accepts a charset name. So what benefit does Printwriter have over Printstream?","title":"Why use Printwriter over PrintStream in Java for outputting human readable text","body":"<p>The java documentation says to use Printwriter over Printstream when dealing with text, but why is this so? I know Printwriter deals with character streams and Printstream deals with byte streams but their both bytes at the end of the day. And since Java 1.5 PrintStream has not been limited to using the platform default encoding; there are constructors that accepts a charset name. So what benefit does Printwriter have over Printstream?</p>\n"},{"tags":["java","swing","joptionpane"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1642039131,"post_id":70690524,"comment_id":124968744,"body_markdown":"Use a JFrame rather than a JOptionPane, then you have full control of it and can add scroll bars or change the width as needed etc. Otherwise, create a component with a scroll bar and add the panel to the JOptionPane","body":"Use a JFrame rather than a JOptionPane, then you have full control of it and can add scroll bars or change the width as needed etc. Otherwise, create a component with a scroll bar and add the panel to the JOptionPane"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1642039485,"post_id":70690524,"comment_id":124968791,"body_markdown":"Use a `JTextArea` as the `message` parameter.  Fill the `JTextArea` with your text, but make sure you use the constructor with the `rows` and `columns` parameters, this will allow you to control the size of the window","body":"Use a <code>JTextArea</code> as the <code>message</code> parameter.  Fill the <code>JTextArea</code> with your text, but make sure you use the constructor with the <code>rows</code> and <code>columns</code> parameters, this will allow you to control the size of the window"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1642039575,"post_id":70690524,"comment_id":124968802,"body_markdown":"For [example](https://stackoverflow.com/questions/16409387/joptionpane-output-text-copy/16409519#16409519) - as an added bonus, you can copy the text &#128521;.  You could also use a `JList` instead, if you wanted something different, for [example](https://stackoverflow.com/questions/14868806/writing-main-method-issue-java-gui-lists/14872022#14872022)","body":"For <a href=\"https://stackoverflow.com/questions/16409387/joptionpane-output-text-copy/16409519#16409519\">example</a> - as an added bonus, you can copy the text .  You could also use a <code>JList</code> instead, if you wanted something different, for <a href=\"https://stackoverflow.com/questions/14868806/writing-main-method-issue-java-gui-lists/14872022#14872022\">example</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1642043657,"post_id":70690524,"comment_id":124969426,"body_markdown":"@sorifiend, An application should only have a single JFrame. If you need a child window then use a JDialog","body":"@sorifiend, An application should only have a single JFrame. If you need a child window then use a JDialog"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1642042008,"creation_date":1642040740,"answer_id":70690707,"question_id":70690524,"body_markdown":"I think people either forget, or don&#39;t know, that you can pass &quot;live components&quot; to the `message` parameter of the `JOptionPane` class, this provides you with no end of possibilities, for example...\r\n\r\n# You could...\r\n\r\nUse a `JTextArea` wrapped in a `JScrollPane`, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.EventQueue;\r\n    import java.text.NumberFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.StringJoiner;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    List&lt;Person&gt; people = new ArrayList&lt;&gt;(100);\r\n                    Random rnd = new Random();\r\n                    for (int index = 0; index &lt; 100; index++ ) {\r\n                        Person person = new Person(index, &quot;Person &quot; + (index + 1), &quot;1234567890&quot;, LocalDate.now(), LocalDate.now(), LocalDate.MAX, rnd.nextDouble() * 10.0);\r\n                        people.add(person);\r\n                    }\r\n\r\n                    StringJoiner joiner = new StringJoiner(&quot;\\n----------------------------------------\\n\\n\\n\\n&quot;, &quot;[\\n&quot;, &quot;\\n]&quot;);\r\n                    for (Person person : people) {\r\n                        joiner.add(person.toString());\r\n                    }\r\n\r\n                    JTextArea ta = new JTextArea(20, 30);\r\n                    ta.setText(joiner.toString());\r\n                    ta.setCaretPosition(0);\r\n                    ta.setEditable(false);\r\n                    JOptionPane.showMessageDialog(null, new JScrollPane(ta));\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Person {\r\n            private int id;\r\n            private String name;\r\n            private String phoneNumber;\r\n            private LocalDate birthDate;\r\n            private LocalDate registrationDate;\r\n            private LocalDate lastUpdate;\r\n            private double finalNote;\r\n\r\n            public Person(int id, String name, String phoneNumber, LocalDate birthDate, LocalDate registrationDate, LocalDate lastUpdate, double finalNote) {\r\n                this.id = id;\r\n                this.name = name;\r\n                this.phoneNumber = phoneNumber;\r\n                this.birthDate = birthDate;\r\n                this.registrationDate = registrationDate;\r\n                this.lastUpdate = lastUpdate;\r\n                this.finalNote = finalNote;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return new StringJoiner(&quot;\\n&quot;)\r\n                        .add(&quot;Person ID: &quot; + getId())\r\n                        .add(&quot;Name: &quot; + getName())\r\n                        .add(&quot;Phone number: &quot; + getPhoneNumber())\r\n                        .add(&quot;Birth date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getBirthDate()))\r\n                        .add(&quot;Registration date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getRegistrationDate()))\r\n                        .add(&quot;Last date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getLastUpdate()))\r\n                        .add(&quot;Final note: &quot; + NumberFormat.getNumberInstance().format(getFinalNote()))\r\n                        .toString();\r\n            }\r\n\r\n            public int getId() {\r\n                return id;\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public String getPhoneNumber() {\r\n                return phoneNumber;\r\n            }\r\n\r\n            public LocalDate getBirthDate() {\r\n                return birthDate;\r\n            }\r\n\r\n            public LocalDate getRegistrationDate() {\r\n                return registrationDate;\r\n            }\r\n\r\n            public LocalDate getLastUpdate() {\r\n                return lastUpdate;\r\n            }\r\n\r\n            public double getFinalNote() {\r\n                return finalNote;\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n# You could...\r\n\r\nUse a `JList`, for example...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.text.NumberFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.StringJoiner;\r\n    import javax.swing.DefaultListCellRenderer;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JScrollPane;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    List&lt;Person&gt; people = new ArrayList&lt;&gt;(100);\r\n                    Random rnd = new Random();\r\n                    for (int index = 0; index &lt; 100; index++) {\r\n                        Person person = new Person(index, &quot;Person &quot; + (index + 1), &quot;1234567890&quot;, LocalDate.now(), LocalDate.now(), LocalDate.MAX, rnd.nextDouble() * 10.0);\r\n                        people.add(person);\r\n                    }\r\n\r\n                    DefaultListModel&lt;Person&gt; model = new DefaultListModel&lt;&gt;();\r\n                    model.addAll(people);\r\n                    JList&lt;Person&gt; list = new JList&lt;&gt;(model);\r\n                    list.setCellRenderer(new PersonListCellRenderer());\r\n                    list.setVisibleRowCount(5);\r\n\r\n                    JOptionPane.showMessageDialog(null, new JScrollPane(list));\r\n                }\r\n            });\r\n        }\r\n\r\n        public class PersonListCellRenderer extends DefaultListCellRenderer {\r\n\r\n            @Override\r\n            public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                if (value instanceof Person) {\r\n                    Person person = (Person) value;\r\n                    StringBuilder sb = new StringBuilder(32);\r\n                    sb.append(&quot;&lt;html&gt;&lt;body&gt;&quot;)\r\n                            .append(&quot;Person ID: &quot;).append(person.getId()).append(&quot;&lt;br&gt;&quot;)\r\n                            .append(&quot;Name: &quot;).append(person.getName()).append(&quot;&lt;br&gt;&quot;)\r\n                            .append(&quot;Phone number: &quot;).append(person.getPhoneNumber()).append(&quot;&lt;br&gt;&quot;)\r\n                            .append(&quot;Birth date: &quot;).append(DateTimeFormatter.ISO_LOCAL_DATE.format(person.getBirthDate())).append(&quot;&lt;br&gt;&quot;)\r\n                            .append(&quot;Registration date: &quot;).append(DateTimeFormatter.ISO_LOCAL_DATE.format(person.getRegistrationDate())).append(&quot;&lt;br&gt;&quot;)\r\n                            .append(&quot;Last update: &quot;).append(DateTimeFormatter.ISO_LOCAL_DATE.format(person.getLastUpdate())).append(&quot;&lt;br&gt;&quot;)\r\n                            .append(&quot;Final note: &quot;).append(person.getId()).append(&quot;&lt;br&gt;&quot;)\r\n                            .append(&quot;&lt;hr&gt;&quot;)\r\n                            .append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\n                    value = sb.toString();\r\n                }\r\n                return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus); //To change body of generated methods, choose Tools | Templates.\r\n            }\r\n\r\n        }\r\n\r\n        public class Person {\r\n\r\n            private int id;\r\n            private String name;\r\n            private String phoneNumber;\r\n            private LocalDate birthDate;\r\n            private LocalDate registrationDate;\r\n            private LocalDate lastUpdate;\r\n            private double finalNote;\r\n\r\n            public Person(int id, String name, String phoneNumber, LocalDate birthDate, LocalDate registrationDate, LocalDate lastUpdate, double finalNote) {\r\n                this.id = id;\r\n                this.name = name;\r\n                this.phoneNumber = phoneNumber;\r\n                this.birthDate = birthDate;\r\n                this.registrationDate = registrationDate;\r\n                this.lastUpdate = lastUpdate;\r\n                this.finalNote = finalNote;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return new StringJoiner(&quot;\\n&quot;)\r\n                        .add(&quot;Person ID: &quot; + getId())\r\n                        .add(&quot;Name: &quot; + getName())\r\n                        .add(&quot;Phone number: &quot; + getPhoneNumber())\r\n                        .add(&quot;Birth date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getBirthDate()))\r\n                        .add(&quot;Registration date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getRegistrationDate()))\r\n                        .add(&quot;Last date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getLastUpdate()))\r\n                        .add(&quot;Final note: &quot; + NumberFormat.getNumberInstance().format(getFinalNote()))\r\n                        .toString();\r\n            }\r\n\r\n            public int getId() {\r\n                return id;\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public String getPhoneNumber() {\r\n                return phoneNumber;\r\n            }\r\n\r\n            public LocalDate getBirthDate() {\r\n                return birthDate;\r\n            }\r\n\r\n            public LocalDate getRegistrationDate() {\r\n                return registrationDate;\r\n            }\r\n\r\n            public LocalDate getLastUpdate() {\r\n                return lastUpdate;\r\n            }\r\n\r\n            public double getFinalNote() {\r\n                return finalNote;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n# You could...\r\n\r\nUse a `JTable`, for example...\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.text.NumberFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.StringJoiner;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.AbstractTableModel;\r\n    import javax.swing.table.TableModel;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    List&lt;Person&gt; people = new ArrayList&lt;&gt;(100);\r\n                    Random rnd = new Random();\r\n                    for (int index = 0; index &lt; 100; index++) {\r\n                        Person person = new Person(index, &quot;Person &quot; + (index + 1), &quot;1234567890&quot;, LocalDate.now(), LocalDate.now(), LocalDate.MAX, rnd.nextDouble() * 10.0);\r\n                        people.add(person);\r\n                    }\r\n\r\n                    TableModel model = new PersonTableModel(people);\r\n                    JTable table = new JTable(model);\r\n                    table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n\r\n                    JOptionPane.showMessageDialog(null, new JScrollPane(table));\r\n                }\r\n            });\r\n        }\r\n\r\n        public class PersonTableModel extends AbstractTableModel {\r\n\r\n            private List&lt;Person&gt; people;\r\n            private String[] columnNames = new String[]{&quot;ID&quot;, &quot;Name&quot;, &quot;Phone number&quot;, &quot;Date of birth&quot;, &quot;Date of registration&quot;, &quot;Last updated&quot;, &quot;Final note&quot;};\r\n\r\n            public PersonTableModel(List&lt;Person&gt; people) {\r\n                this.people = people;\r\n            }\r\n\r\n            @Override\r\n            public int getRowCount() {\r\n                return people.size();\r\n            }\r\n\r\n            @Override\r\n            public int getColumnCount() {\r\n                return columnNames.length;\r\n            }\r\n\r\n            @Override\r\n            public String getColumnName(int column) {\r\n                return columnNames[column];\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return Integer.class;\r\n                    case 1:\r\n                    case 2:\r\n                        return String.class;\r\n                    case 3:\r\n                    case 4:\r\n                    case 5:\r\n                        return LocalDate.class;\r\n                    case 6:\r\n                        return Double.class;\r\n                }\r\n                return String.class;\r\n            }\r\n\r\n            @Override\r\n            public Object getValueAt(int rowIndex, int columnIndex) {\r\n                Person person = people.get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return person.getId();\r\n                    case 1:\r\n                        return person.getName();\r\n                    case 2:\r\n                        return person.getPhoneNumber();\r\n                    case 3:\r\n                        return person.getBirthDate();\r\n                    case 4:\r\n                        return person.getRegistrationDate();\r\n                    case 5:\r\n                        return person.getLastUpdate();\r\n                    case 6:\r\n                        return person.getFinalNote();\r\n                }\r\n                return null;\r\n            }\r\n\r\n        }\r\n\r\n        public class Person {\r\n\r\n            private int id;\r\n            private String name;\r\n            private String phoneNumber;\r\n            private LocalDate birthDate;\r\n            private LocalDate registrationDate;\r\n            private LocalDate lastUpdate;\r\n            private double finalNote;\r\n\r\n            public Person(int id, String name, String phoneNumber, LocalDate birthDate, LocalDate registrationDate, LocalDate lastUpdate, double finalNote) {\r\n                this.id = id;\r\n                this.name = name;\r\n                this.phoneNumber = phoneNumber;\r\n                this.birthDate = birthDate;\r\n                this.registrationDate = registrationDate;\r\n                this.lastUpdate = lastUpdate;\r\n                this.finalNote = finalNote;\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                return new StringJoiner(&quot;\\n&quot;)\r\n                        .add(&quot;Person ID: &quot; + getId())\r\n                        .add(&quot;Name: &quot; + getName())\r\n                        .add(&quot;Phone number: &quot; + getPhoneNumber())\r\n                        .add(&quot;Birth date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getBirthDate()))\r\n                        .add(&quot;Registration date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getRegistrationDate()))\r\n                        .add(&quot;Last date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getLastUpdate()))\r\n                        .add(&quot;Final note: &quot; + NumberFormat.getNumberInstance().format(getFinalNote()))\r\n                        .toString();\r\n            }\r\n\r\n            public int getId() {\r\n                return id;\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public String getPhoneNumber() {\r\n                return phoneNumber;\r\n            }\r\n\r\n            public LocalDate getBirthDate() {\r\n                return birthDate;\r\n            }\r\n\r\n            public LocalDate getRegistrationDate() {\r\n                return registrationDate;\r\n            }\r\n\r\n            public LocalDate getLastUpdate() {\r\n                return lastUpdate;\r\n            }\r\n\r\n            public double getFinalNote() {\r\n                return finalNote;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2TuRg.png\r\n  [2]: https://i.stack.imgur.com/Dn1Of.png\r\n  [3]: https://i.stack.imgur.com/RvHks.png","title":"Can I set the size of the JOptionPane.showMessageDialog&#39;s window?","body":"<p>I think people either forget, or don't know, that you can pass &quot;live components&quot; to the <code>message</code> parameter of the <code>JOptionPane</code> class, this provides you with no end of possibilities, for example...</p>\n<h1>You could...</h1>\n<p>Use a <code>JTextArea</code> wrapped in a <code>JScrollPane</code>, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/2TuRg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2TuRg.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.text.NumberFormat;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.StringJoiner;\nimport javax.swing.JOptionPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                List&lt;Person&gt; people = new ArrayList&lt;&gt;(100);\n                Random rnd = new Random();\n                for (int index = 0; index &lt; 100; index++ ) {\n                    Person person = new Person(index, &quot;Person &quot; + (index + 1), &quot;1234567890&quot;, LocalDate.now(), LocalDate.now(), LocalDate.MAX, rnd.nextDouble() * 10.0);\n                    people.add(person);\n                }\n\n                StringJoiner joiner = new StringJoiner(&quot;\\n----------------------------------------\\n\\n\\n\\n&quot;, &quot;[\\n&quot;, &quot;\\n]&quot;);\n                for (Person person : people) {\n                    joiner.add(person.toString());\n                }\n\n                JTextArea ta = new JTextArea(20, 30);\n                ta.setText(joiner.toString());\n                ta.setCaretPosition(0);\n                ta.setEditable(false);\n                JOptionPane.showMessageDialog(null, new JScrollPane(ta));\n            }\n        });\n    }\n\n    public class Person {\n        private int id;\n        private String name;\n        private String phoneNumber;\n        private LocalDate birthDate;\n        private LocalDate registrationDate;\n        private LocalDate lastUpdate;\n        private double finalNote;\n\n        public Person(int id, String name, String phoneNumber, LocalDate birthDate, LocalDate registrationDate, LocalDate lastUpdate, double finalNote) {\n            this.id = id;\n            this.name = name;\n            this.phoneNumber = phoneNumber;\n            this.birthDate = birthDate;\n            this.registrationDate = registrationDate;\n            this.lastUpdate = lastUpdate;\n            this.finalNote = finalNote;\n        }\n\n        @Override\n        public String toString() {\n            return new StringJoiner(&quot;\\n&quot;)\n                    .add(&quot;Person ID: &quot; + getId())\n                    .add(&quot;Name: &quot; + getName())\n                    .add(&quot;Phone number: &quot; + getPhoneNumber())\n                    .add(&quot;Birth date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getBirthDate()))\n                    .add(&quot;Registration date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getRegistrationDate()))\n                    .add(&quot;Last date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getLastUpdate()))\n                    .add(&quot;Final note: &quot; + NumberFormat.getNumberInstance().format(getFinalNote()))\n                    .toString();\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public String getPhoneNumber() {\n            return phoneNumber;\n        }\n\n        public LocalDate getBirthDate() {\n            return birthDate;\n        }\n\n        public LocalDate getRegistrationDate() {\n            return registrationDate;\n        }\n\n        public LocalDate getLastUpdate() {\n            return lastUpdate;\n        }\n\n        public double getFinalNote() {\n            return finalNote;\n        }\n\n\n    }\n}\n</code></pre>\n<h1>You could...</h1>\n<p>Use a <code>JList</code>, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/Dn1Of.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Dn1Of.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Component;\nimport java.awt.EventQueue;\nimport java.text.NumberFormat;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.StringJoiner;\nimport javax.swing.DefaultListCellRenderer;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JList;\nimport javax.swing.JOptionPane;\nimport javax.swing.JScrollPane;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                List&lt;Person&gt; people = new ArrayList&lt;&gt;(100);\n                Random rnd = new Random();\n                for (int index = 0; index &lt; 100; index++) {\n                    Person person = new Person(index, &quot;Person &quot; + (index + 1), &quot;1234567890&quot;, LocalDate.now(), LocalDate.now(), LocalDate.MAX, rnd.nextDouble() * 10.0);\n                    people.add(person);\n                }\n\n                DefaultListModel&lt;Person&gt; model = new DefaultListModel&lt;&gt;();\n                model.addAll(people);\n                JList&lt;Person&gt; list = new JList&lt;&gt;(model);\n                list.setCellRenderer(new PersonListCellRenderer());\n                list.setVisibleRowCount(5);\n\n                JOptionPane.showMessageDialog(null, new JScrollPane(list));\n            }\n        });\n    }\n\n    public class PersonListCellRenderer extends DefaultListCellRenderer {\n\n        @Override\n        public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            if (value instanceof Person) {\n                Person person = (Person) value;\n                StringBuilder sb = new StringBuilder(32);\n                sb.append(&quot;&lt;html&gt;&lt;body&gt;&quot;)\n                        .append(&quot;Person ID: &quot;).append(person.getId()).append(&quot;&lt;br&gt;&quot;)\n                        .append(&quot;Name: &quot;).append(person.getName()).append(&quot;&lt;br&gt;&quot;)\n                        .append(&quot;Phone number: &quot;).append(person.getPhoneNumber()).append(&quot;&lt;br&gt;&quot;)\n                        .append(&quot;Birth date: &quot;).append(DateTimeFormatter.ISO_LOCAL_DATE.format(person.getBirthDate())).append(&quot;&lt;br&gt;&quot;)\n                        .append(&quot;Registration date: &quot;).append(DateTimeFormatter.ISO_LOCAL_DATE.format(person.getRegistrationDate())).append(&quot;&lt;br&gt;&quot;)\n                        .append(&quot;Last update: &quot;).append(DateTimeFormatter.ISO_LOCAL_DATE.format(person.getLastUpdate())).append(&quot;&lt;br&gt;&quot;)\n                        .append(&quot;Final note: &quot;).append(person.getId()).append(&quot;&lt;br&gt;&quot;)\n                        .append(&quot;&lt;hr&gt;&quot;)\n                        .append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n\n                value = sb.toString();\n            }\n            return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus); //To change body of generated methods, choose Tools | Templates.\n        }\n\n    }\n\n    public class Person {\n\n        private int id;\n        private String name;\n        private String phoneNumber;\n        private LocalDate birthDate;\n        private LocalDate registrationDate;\n        private LocalDate lastUpdate;\n        private double finalNote;\n\n        public Person(int id, String name, String phoneNumber, LocalDate birthDate, LocalDate registrationDate, LocalDate lastUpdate, double finalNote) {\n            this.id = id;\n            this.name = name;\n            this.phoneNumber = phoneNumber;\n            this.birthDate = birthDate;\n            this.registrationDate = registrationDate;\n            this.lastUpdate = lastUpdate;\n            this.finalNote = finalNote;\n        }\n\n        @Override\n        public String toString() {\n            return new StringJoiner(&quot;\\n&quot;)\n                    .add(&quot;Person ID: &quot; + getId())\n                    .add(&quot;Name: &quot; + getName())\n                    .add(&quot;Phone number: &quot; + getPhoneNumber())\n                    .add(&quot;Birth date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getBirthDate()))\n                    .add(&quot;Registration date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getRegistrationDate()))\n                    .add(&quot;Last date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getLastUpdate()))\n                    .add(&quot;Final note: &quot; + NumberFormat.getNumberInstance().format(getFinalNote()))\n                    .toString();\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public String getPhoneNumber() {\n            return phoneNumber;\n        }\n\n        public LocalDate getBirthDate() {\n            return birthDate;\n        }\n\n        public LocalDate getRegistrationDate() {\n            return registrationDate;\n        }\n\n        public LocalDate getLastUpdate() {\n            return lastUpdate;\n        }\n\n        public double getFinalNote() {\n            return finalNote;\n        }\n\n    }\n}\n</code></pre>\n<h1>You could...</h1>\n<p>Use a <code>JTable</code>, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/RvHks.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RvHks.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.text.NumberFormat;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.StringJoiner;\nimport javax.swing.JOptionPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.AbstractTableModel;\nimport javax.swing.table.TableModel;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                List&lt;Person&gt; people = new ArrayList&lt;&gt;(100);\n                Random rnd = new Random();\n                for (int index = 0; index &lt; 100; index++) {\n                    Person person = new Person(index, &quot;Person &quot; + (index + 1), &quot;1234567890&quot;, LocalDate.now(), LocalDate.now(), LocalDate.MAX, rnd.nextDouble() * 10.0);\n                    people.add(person);\n                }\n\n                TableModel model = new PersonTableModel(people);\n                JTable table = new JTable(model);\n                table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n\n                JOptionPane.showMessageDialog(null, new JScrollPane(table));\n            }\n        });\n    }\n\n    public class PersonTableModel extends AbstractTableModel {\n\n        private List&lt;Person&gt; people;\n        private String[] columnNames = new String[]{&quot;ID&quot;, &quot;Name&quot;, &quot;Phone number&quot;, &quot;Date of birth&quot;, &quot;Date of registration&quot;, &quot;Last updated&quot;, &quot;Final note&quot;};\n\n        public PersonTableModel(List&lt;Person&gt; people) {\n            this.people = people;\n        }\n\n        @Override\n        public int getRowCount() {\n            return people.size();\n        }\n\n        @Override\n        public int getColumnCount() {\n            return columnNames.length;\n        }\n\n        @Override\n        public String getColumnName(int column) {\n            return columnNames[column];\n        }\n\n        @Override\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\n            switch (columnIndex) {\n                case 0:\n                    return Integer.class;\n                case 1:\n                case 2:\n                    return String.class;\n                case 3:\n                case 4:\n                case 5:\n                    return LocalDate.class;\n                case 6:\n                    return Double.class;\n            }\n            return String.class;\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) {\n            Person person = people.get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    return person.getId();\n                case 1:\n                    return person.getName();\n                case 2:\n                    return person.getPhoneNumber();\n                case 3:\n                    return person.getBirthDate();\n                case 4:\n                    return person.getRegistrationDate();\n                case 5:\n                    return person.getLastUpdate();\n                case 6:\n                    return person.getFinalNote();\n            }\n            return null;\n        }\n\n    }\n\n    public class Person {\n\n        private int id;\n        private String name;\n        private String phoneNumber;\n        private LocalDate birthDate;\n        private LocalDate registrationDate;\n        private LocalDate lastUpdate;\n        private double finalNote;\n\n        public Person(int id, String name, String phoneNumber, LocalDate birthDate, LocalDate registrationDate, LocalDate lastUpdate, double finalNote) {\n            this.id = id;\n            this.name = name;\n            this.phoneNumber = phoneNumber;\n            this.birthDate = birthDate;\n            this.registrationDate = registrationDate;\n            this.lastUpdate = lastUpdate;\n            this.finalNote = finalNote;\n        }\n\n        @Override\n        public String toString() {\n            return new StringJoiner(&quot;\\n&quot;)\n                    .add(&quot;Person ID: &quot; + getId())\n                    .add(&quot;Name: &quot; + getName())\n                    .add(&quot;Phone number: &quot; + getPhoneNumber())\n                    .add(&quot;Birth date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getBirthDate()))\n                    .add(&quot;Registration date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getRegistrationDate()))\n                    .add(&quot;Last date: &quot; + DateTimeFormatter.ISO_LOCAL_DATE.format(getLastUpdate()))\n                    .add(&quot;Final note: &quot; + NumberFormat.getNumberInstance().format(getFinalNote()))\n                    .toString();\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public String getPhoneNumber() {\n            return phoneNumber;\n        }\n\n        public LocalDate getBirthDate() {\n            return birthDate;\n        }\n\n        public LocalDate getRegistrationDate() {\n            return registrationDate;\n        }\n\n        public LocalDate getLastUpdate() {\n            return lastUpdate;\n        }\n\n        public double getFinalNote() {\n            return finalNote;\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21153579,"reputation":45,"user_id":15553347,"display_name":"AdaoBMF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70690707,"answer_count":1,"score":3,"last_activity_date":1642042008,"creation_date":1642038727,"question_id":70690524,"body_markdown":"I&#39;m working on a simple app that stores some objects (persons) in an Array, I&#39;m trying to use `JOptionPane.showMessageDialog` to list them (`obj.toString`) on the screen.\r\n\r\nThe problem is that after about six objects, the panel gets taller than the screen and it has no sidebar or some way to drag it to change its size. \r\n\r\n[![joptionpane][1]][1]\r\n\r\nIs there a way to implement one of those features or maybe set it to display the objects as a grid, columns or anything else that would fix it?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TFDRw.jpg","title":"Can I set the size of the JOptionPane.showMessageDialog&#39;s window?","body":"<p>I'm working on a simple app that stores some objects (persons) in an Array, I'm trying to use <code>JOptionPane.showMessageDialog</code> to list them (<code>obj.toString</code>) on the screen.</p>\n<p>The problem is that after about six objects, the panel gets taller than the screen and it has no sidebar or some way to drag it to change its size.</p>\n<p><a href=\"https://i.stack.imgur.com/TFDRw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TFDRw.jpg\" alt=\"joptionpane\" /></a></p>\n<p>Is there a way to implement one of those features or maybe set it to display the objects as a grid, columns or anything else that would fix it?</p>\n"},{"tags":["java","android","flutter","android-studio","keystore"],"comments":[{"owner":{"account_id":11404798,"reputation":12520,"user_id":8360561,"accept_rate":58,"display_name":"Agung Laksana"},"score":0,"creation_date":1643876566,"post_id":70689353,"comment_id":125457012,"body_markdown":"do you solve this issue?","body":"do you solve this issue?"},{"owner":{"account_id":22628685,"reputation":1162,"user_id":16806413,"display_name":"Dennis Ashford"},"score":0,"creation_date":1643978166,"post_id":70689353,"comment_id":125488613,"body_markdown":"@Alexa289 unfortunately, no. I had to generate the key-store using the older format that is readable by Java 11. It is frustrating, but it worked for the time being.","body":"@Alexa289 unfortunately, no. I had to generate the key-store using the older format that is readable by Java 11. It is frustrating, but it worked for the time being."}],"answers":[{"tags":[],"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642038957,"creation_date":1642038957,"answer_id":70690547,"question_id":70689353,"body_markdown":"If you created you keystore with Java 17 it will have defaulted to PKCS12 format (even though you gave it the name keystore.jks).\r\n\r\nTry using Java 17&#39;s keytool command to `-importkeystore` with the input being the PKCS12 version and the output being in JKS format (you must specify `-deststoretype JKS`). This may result in a JKS keystore readable by earlier versions of Java.","title":"Java Versions: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>If you created you keystore with Java 17 it will have defaulted to PKCS12 format (even though you gave it the name keystore.jks).</p>\n<p>Try using Java 17's keytool command to <code>-importkeystore</code> with the input being the PKCS12 version and the output being in JKS format (you must specify <code>-deststoretype JKS</code>). This may result in a JKS keystore readable by earlier versions of Java.</p>\n"}],"owner":{"account_id":22628685,"reputation":1162,"user_id":16806413,"display_name":"Dennis Ashford"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2855,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1642041733,"creation_date":1642027580,"question_id":70689353,"body_markdown":"I have read several responses to this error, but I still cannot figure out exactly how to fix it. I have narrowed down the problem to being differing versions of Java, but as someone who is relatively new to Android Studio (and coding in general) I cannot seem to figure out how to fix this. My app is already published, so I need to figure out how to use my current key store file and not generate a new one. \r\n\r\nWhat I need help with is figuring out how to specify the Java JDK version being used in Android Studio. It looks like the key store file was generated using Java 17, but the build is using Java 11, which is not able to read the keystore file. Can someone please help me with this (Mac OS 11.6.1, Android Studio 2020.3.1 Patch 4). Here is what I have below.\r\n\r\nI should also point out that for some reason I am not able to set the JDK version under my preferences like I have seen others been able to do. The option just doesn&#39;t exist for me.\r\n[![enter image description here][1]][1]\r\n\r\n [1]: https://i.stack.imgur.com/AAu9j.png\r\n\r\nI generated the keystore file using the command\r\n\r\n```keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks```\r\n\r\nRunning ```java -version``` gives:\r\n```OpenJDK Runtime Environment (build 17.0.1+12-39)\r\nOpenJDK 64-Bit Server VM (build 17.0.1+12-39, mixed mode, sharing)\r\n\r\nFlutter doctor -v\r\n```[] Flutter (Channel stable, 2.8.1, on macOS 11.6.1 20G224 darwin-x64, locale en-US)\r\n     Flutter version 2.8.1 at /Users/dennisashford/flutter\r\n     Upstream repository https://github.com/flutter/flutter.git\r\n     Framework revision 77d935af4d (4 weeks ago), 2021-12-16 08:37:33 -0800\r\n     Engine revision 890a5fca2e\r\n     Dart version 2.15.1\r\n\r\n[] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n     Android SDK at /Users/dennisashford/Library/Android/sdk\r\n     Platform android-31, build-tools 31.0.0\r\n     Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\r\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7281165)\r\n     All Android licenses accepted.\r\n\r\n[] Xcode - develop for iOS and macOS (Xcode 13.2.1)\r\n     Xcode at /Applications/Xcode.app/Contents/Developer\r\n     CocoaPods version 1.11.2\r\n\r\n[] Chrome - develop for the web\r\n     Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\r\n\r\n[] Android Studio (version 2020.3)\r\n     Android Studio at /Applications/Android Studio.app/Contents\r\n     Flutter plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/9212-flutter\r\n     Dart plugin can be installed from:\r\n      &#128296; https://plugins.jetbrains.com/plugin/6351-dart\r\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7281165)\r\n\r\n[] VS Code (version 1.59.1)\r\n     VS Code at /Users/dennisashford/Downloads/Visual Studio Code.app/Contents\r\n     Flutter extension version 3.25.0\r\n\r\n[] Connected device (3 available)\r\n     Android SDK built for x86 (mobile)  emulator-5554                         android-x86     Android 11 (API 30) (emulator)\r\n     iPhone 12 (mobile)                  CCFE8FB8-8AEB-4D19-9A7B-B5AEE7F5F411  ios             com.apple.CoreSimulator.SimRuntime.iOS-15-2 (simulator)\r\n     Chrome (web)                        chrome                                web-javascript  Google Chrome 97.0.4692.71```\r\n","title":"Java Versions: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I have read several responses to this error, but I still cannot figure out exactly how to fix it. I have narrowed down the problem to being differing versions of Java, but as someone who is relatively new to Android Studio (and coding in general) I cannot seem to figure out how to fix this. My app is already published, so I need to figure out how to use my current key store file and not generate a new one.</p>\n<p>What I need help with is figuring out how to specify the Java JDK version being used in Android Studio. It looks like the key store file was generated using Java 17, but the build is using Java 11, which is not able to read the keystore file. Can someone please help me with this (Mac OS 11.6.1, Android Studio 2020.3.1 Patch 4). Here is what I have below.</p>\n<p>I should also point out that for some reason I am not able to set the JDK version under my preferences like I have seen others been able to do. The option just doesn't exist for me.\n<a href=\"https://i.stack.imgur.com/AAu9j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AAu9j.png\" alt=\"enter image description here\" /></a></p>\n<p>I generated the keystore file using the command</p>\n<p><code>keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks</code></p>\n<p>Running <code>java -version</code> gives:</p>\n<pre><code>OpenJDK 64-Bit Server VM (build 17.0.1+12-39, mixed mode, sharing)\n\nFlutter doctor -v\n```[] Flutter (Channel stable, 2.8.1, on macOS 11.6.1 20G224 darwin-x64, locale en-US)\n     Flutter version 2.8.1 at /Users/dennisashford/flutter\n     Upstream repository https://github.com/flutter/flutter.git\n     Framework revision 77d935af4d (4 weeks ago), 2021-12-16 08:37:33 -0800\n     Engine revision 890a5fca2e\n     Dart version 2.15.1\n\n[] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n     Android SDK at /Users/dennisashford/Library/Android/sdk\n     Platform android-31, build-tools 31.0.0\n     Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7281165)\n     All Android licenses accepted.\n\n[] Xcode - develop for iOS and macOS (Xcode 13.2.1)\n     Xcode at /Applications/Xcode.app/Contents/Developer\n     CocoaPods version 1.11.2\n\n[] Chrome - develop for the web\n     Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[] Android Studio (version 2020.3)\n     Android Studio at /Applications/Android Studio.app/Contents\n     Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n     Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7281165)\n\n[] VS Code (version 1.59.1)\n     VS Code at /Users/dennisashford/Downloads/Visual Studio Code.app/Contents\n     Flutter extension version 3.25.0\n\n[] Connected device (3 available)\n     Android SDK built for x86 (mobile)  emulator-5554                         android-x86     Android 11 (API 30) (emulator)\n     iPhone 12 (mobile)                  CCFE8FB8-8AEB-4D19-9A7B-B5AEE7F5F411  ios             com.apple.CoreSimulator.SimRuntime.iOS-15-2 (simulator)\n     Chrome (web)                        chrome                                web-javascript  Google Chrome 97.0.4692.71```\n</code></pre>\n"},{"tags":["java","jpa","zk"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1642030751,"post_id":70689534,"comment_id":124967460,"body_markdown":"`new` is __guaranteed__ to make a new object. Your theory (that 2 instantiated Place objects are automatically compressed down to a single ref) is not correct. I&#39;m not sure there&#39;s enough detail in this to know what happened. Possibly something as simple as &#39;you forgot to compile before you reran that code&#39;.","body":"<code>new</code> is <b>guaranteed</b> to make a new object. Your theory (that 2 instantiated Place objects are automatically compressed down to a single ref) is not correct. I&#39;m not sure there&#39;s enough detail in this to know what happened. Possibly something as simple as &#39;you forgot to compile before you reran that code&#39;."},{"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"score":0,"creation_date":1642034549,"post_id":70689534,"comment_id":124968024,"body_markdown":"Thanks  rzwitserloot,  unfortunately the issue is not so simple, if I remove the overiding hash and equal in the Place object the issue comes back. thanks anyway for clarifying the fact that the 2 objects instanciated with NEW must be different, I will keep searching for the problem elsewhere then, but i will not leave this &quot;Dirty solution&quot; untill i get why this happens... will post more complete objets and controllers if I am stuck too long. Controler is a ZK MVVM view model, so i will investigate there also...","body":"Thanks  rzwitserloot,  unfortunately the issue is not so simple, if I remove the overiding hash and equal in the Place object the issue comes back. thanks anyway for clarifying the fact that the 2 objects instanciated with NEW must be different, I will keep searching for the problem elsewhere then, but i will not leave this &quot;Dirty solution&quot; untill i get why this happens... will post more complete objets and controllers if I am stuck too long. Controler is a ZK MVVM view model, so i will investigate there also..."},{"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"score":0,"creation_date":1642041503,"post_id":70689534,"comment_id":124969071,"body_markdown":"ok, reason found, this is a ZK dataBinding issue, I replaced the &#39;&#39;&#39;@Bind&#39;&#39;&#39; by a &#39;&#39;&#39;@load&#39;&#39;&#39; on the html (zul) to manually control the update of the Place.City with a OnChange event of the control and it works without having to override the hash and equals in the Domain... Thanks for putting on right track, I was loosing time searching for the issue with java","body":"ok, reason found, this is a ZK dataBinding issue, I replaced the &#39;&#39;&#39;@Bind&#39;&#39;&#39; by a &#39;&#39;&#39;@load&#39;&#39;&#39; on the html (zul) to manually control the update of the Place.City with a OnChange event of the control and it works without having to override the hash and equals in the Domain... Thanks for putting on right track, I was loosing time searching for the issue with java"}],"owner":{"account_id":5627846,"reputation":339,"user_id":4455670,"display_name":"Vinz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642041728,"creation_date":1642028817,"question_id":70689534,"body_markdown":"I have a Booking object that contains two Places objects in that way :\r\n\r\n    @Entity @Table(name = &quot;booking&quot;, schema = &quot;public&quot;)\r\n    public class Booking {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n        @JoinColumn(name = &quot;pickup_place_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Place pickUpPlace;\r\n\r\n        @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\r\n        @JoinColumn(name = &quot;dropoff_place_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Place dropOffPlace;\r\n    }\r\n\r\nFor the Place Object : \r\n\r\n    @Entity @Table(name = &quot;place&quot;, schema = &quot;public&quot;)\r\n    public class Place {\r\n    \r\n        public enum PlaceType{\r\n            PICKUP,\r\n            STOP,\r\n            DROPOFF,\r\n        }\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;place_type&quot;, nullable = false)\r\n        private Place.PlaceType placeType;\r\n    \r\n        @Column(name = &quot;google_place_id&quot;, nullable = true, length = 100)\r\n        private String googlePlaceId;\r\n    \r\n        @JoinColumn(name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private City city;\r\n    \r\n        @Column(name = &quot;lat&quot;, nullable = true)\r\n        private Double lat;\r\n    \r\n        @Column(name = &quot;lon&quot;, nullable = true)\r\n        private Double lon;\r\n    }\r\n\r\nthen in a controller when populating a new booking I instantiate the places like this :\r\n   \r\n    Booking booking = new Booking();\r\n    booking.setPickUpPlace(new Place(city, googlePlaceId , Place.PlaceType.PICKUP));\r\n    booking.setDropOffPlace(new Place(city, googlePlaceId , Place.PlaceType.DROPOFF));\r\n\r\nat a later stage in the controller I happen to update the booking PickUp Place city with :\r\n\r\n    booking.getPickUpPlace().setCity(otherCity);\r\n\r\nand the result was that both the pickupPlace and the dropOffPlace of the booking end up with the otherCity asigned to them.\r\n\r\nThen I started to add logs at several stages in the controller and when logging the objects pickUpPlace and dropOffPlace just after instantiating I got the same result :\r\n\r\n    com.myapp.domain.Place@2af\r\n    com.myapp.domain.Place@2af\r\n\r\nThe same object hash code, which seemed to be normal to me because the objects were not yet persisted to DB yet and therefore without id, and the default HashCode only uses the id and the version number of the saved object...\r\n\r\nJust to be sure the issue was not there I overrode the HashCode (){} and equals(){} of the Place Object with a more complete hash and equal taking into account all the properties of the object... and here, magic, the issue disappeared and the 2 instantiated objects are correctly differentiated and a change in one is not done in the other one anymore.\r\n\r\nSo my issue is solved. Only By luck I would say as the 2 instantiated Place happen to have the PlaceType with a a different value, but what if I had to instantiate 2 objects with same initial values ? (which will happen when I will start to add PlaceType.STOPS to the booking... those will be instantiated with the same initial values)\r\n\r\nI don&#39;t like to solve an issue without understanding where the problem really was...\r\nDoes this mean that in Java when instantiating 2 objects, not yet persisted, with the same properties they in fact point to the same object in memory ? Or is there an architectural problem in my project ?\r\n\r\nThanks in advance to Java Experts for a quick explaination of the observed phenomena for a Java noob...","title":"Java when Instantiating 2 new objects any change to the first is applied to the second","body":"<p>I have a Booking object that contains two Places objects in that way :</p>\n<pre><code>@Entity @Table(name = &quot;booking&quot;, schema = &quot;public&quot;)\npublic class Booking {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    @JoinColumn(name = &quot;pickup_place_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Place pickUpPlace;\n\n    @OneToOne(cascade = CascadeType.ALL,orphanRemoval = true)\n    @JoinColumn(name = &quot;dropoff_place_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Place dropOffPlace;\n}\n</code></pre>\n<p>For the Place Object :</p>\n<pre><code>@Entity @Table(name = &quot;place&quot;, schema = &quot;public&quot;)\npublic class Place {\n\n    public enum PlaceType{\n        PICKUP,\n        STOP,\n        DROPOFF,\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;place_type&quot;, nullable = false)\n    private Place.PlaceType placeType;\n\n    @Column(name = &quot;google_place_id&quot;, nullable = true, length = 100)\n    private String googlePlaceId;\n\n    @JoinColumn(name = &quot;city_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    @ManyToOne(fetch = FetchType.LAZY)\n    private City city;\n\n    @Column(name = &quot;lat&quot;, nullable = true)\n    private Double lat;\n\n    @Column(name = &quot;lon&quot;, nullable = true)\n    private Double lon;\n}\n</code></pre>\n<p>then in a controller when populating a new booking I instantiate the places like this :</p>\n<pre><code>Booking booking = new Booking();\nbooking.setPickUpPlace(new Place(city, googlePlaceId , Place.PlaceType.PICKUP));\nbooking.setDropOffPlace(new Place(city, googlePlaceId , Place.PlaceType.DROPOFF));\n</code></pre>\n<p>at a later stage in the controller I happen to update the booking PickUp Place city with :</p>\n<pre><code>booking.getPickUpPlace().setCity(otherCity);\n</code></pre>\n<p>and the result was that both the pickupPlace and the dropOffPlace of the booking end up with the otherCity asigned to them.</p>\n<p>Then I started to add logs at several stages in the controller and when logging the objects pickUpPlace and dropOffPlace just after instantiating I got the same result :</p>\n<pre><code>com.myapp.domain.Place@2af\ncom.myapp.domain.Place@2af\n</code></pre>\n<p>The same object hash code, which seemed to be normal to me because the objects were not yet persisted to DB yet and therefore without id, and the default HashCode only uses the id and the version number of the saved object...</p>\n<p>Just to be sure the issue was not there I overrode the HashCode (){} and equals(){} of the Place Object with a more complete hash and equal taking into account all the properties of the object... and here, magic, the issue disappeared and the 2 instantiated objects are correctly differentiated and a change in one is not done in the other one anymore.</p>\n<p>So my issue is solved. Only By luck I would say as the 2 instantiated Place happen to have the PlaceType with a a different value, but what if I had to instantiate 2 objects with same initial values ? (which will happen when I will start to add PlaceType.STOPS to the booking... those will be instantiated with the same initial values)</p>\n<p>I don't like to solve an issue without understanding where the problem really was...\nDoes this mean that in Java when instantiating 2 objects, not yet persisted, with the same properties they in fact point to the same object in memory ? Or is there an architectural problem in my project ?</p>\n<p>Thanks in advance to Java Experts for a quick explaination of the observed phenomena for a Java noob...</p>\n"},{"tags":["java","sql","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1642043330,"post_id":70677012,"comment_id":124969356,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization : &quot;It is recommended to use a single mechanism for schema generation.&quot;","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> : &quot;It is recommended to use a single mechanism for schema generation.&quot;"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1642048330,"post_id":70677012,"comment_id":124970139,"body_markdown":"yes,that&#39;s true..then i have to use  Initialize a Database Using Basic SQL Scripts method and also add schema.sql file in which i can create table @xerx593","body":"yes,that&#39;s true..then i have to use  Initialize a Database Using Basic SQL Scripts method and also add schema.sql file in which i can create table @xerx593"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1642041708,"creation_date":1641967498,"question_id":70677012,"body_markdown":"Either I can create table using \r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nor I can insert into table using\r\nspring.datasource.initialization-mode=always\r\n\r\n\r\nHow to perform both operation at same time ? \r\n\r\nIf I do both operation it gives me an exeption as below\r\n\r\n    \r\n**org.springframework.beans.factory.BeanCreationException**: Error creating bean with name &#39;scriptDataSourceInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/C:/Users/JAY%20GURUDEV/eclipse-workspace/bootjpa/target/classes/data.sql]: insert into alien(aid,aname,tech) values(1,&#39;ritu&#39;,&#39;java&#39;); nested exception is java.sql.SQLSyntaxErrorException: Table &#39;mydb.alien&#39; doesn&#39;t exist\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.14.jar:5.3.14]\r\n\t\r\nCaused by: **org.springframework.jdbc.datasource.init.ScriptStatementFailedException**: Failed to execute SQL script statement #1 of URL [file:/C:/Users/JAY%20GURUDEV/eclipse-workspace/bootjpa/target/classes/data.sql]: insert into alien(aid,aname,tech) values(1,&#39;ritu&#39;,&#39;java&#39;); nested exception is java.sql.SQLSyntaxErrorException: Table &#39;mydb.alien&#39; doesn&#39;t exist\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-5.3.14.jar:5.3.14]\r\n\tat \r\nCaused by: **java.sql.SQLSyntaxErrorException**: Table &#39;mydb.alien&#39; doesn&#39;t exist\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n\r\n\r\nI think this exception occurs because table is not created and row is trying  to be inserted from data.sql file\r\n","title":"how to perform create table and insert row at same time in application.properties file","body":"<p>Either I can create table using\nspring.jpa.hibernate.ddl-auto=update</p>\n<p>or I can insert into table using\nspring.datasource.initialization-mode=always</p>\n<p>How to perform both operation at same time ?</p>\n<p>If I do both operation it gives me an exeption as below</p>\n<p><strong>org.springframework.beans.factory.BeanCreationException</strong>: Error creating bean with name 'scriptDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/C:/Users/JAY%20GURUDEV/eclipse-workspace/bootjpa/target/classes/data.sql]: insert into alien(aid,aname,tech) values(1,'ritu','java'); nested exception is java.sql.SQLSyntaxErrorException: Table 'mydb.alien' doesn't exist\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.14.jar:5.3.14]</p>\n<p>Caused by: <strong>org.springframework.jdbc.datasource.init.ScriptStatementFailedException</strong>: Failed to execute SQL script statement #1 of URL [file:/C:/Users/JAY%20GURUDEV/eclipse-workspace/bootjpa/target/classes/data.sql]: insert into alien(aid,aname,tech) values(1,'ritu','java'); nested exception is java.sql.SQLSyntaxErrorException: Table 'mydb.alien' doesn't exist\nat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-5.3.14.jar:5.3.14]\nat\nCaused by: <strong>java.sql.SQLSyntaxErrorException</strong>: Table 'mydb.alien' doesn't exist\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.27.jar:8.0.27]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.27.jar:8.0.27]</p>\n<p>I think this exception occurs because table is not created and row is trying  to be inserted from data.sql file</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19154501,"reputation":623,"user_id":14270725,"display_name":"Gbox4"},"score":0,"creation_date":1642041062,"post_id":70690727,"comment_id":124969010,"body_markdown":"If you&#39;re worried about integer overflow, couldn&#39;t you just use `long` type instead of `int`?","body":"If you&#39;re worried about integer overflow, couldn&#39;t you just use <code>long</code> type instead of <code>int</code>?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1642041213,"post_id":70690727,"comment_id":124969029,"body_markdown":"Or even `BigInteger`? Also, why do you need your own Comparator or use subtraction vs using `Integer.compare`?","body":"Or even <code>BigInteger</code>? Also, why do you need your own Comparator or use subtraction vs using <code>Integer.compare</code>?"},{"owner":{"account_id":17515315,"reputation":11,"user_id":17919874,"display_name":"Jon"},"score":0,"creation_date":1642041440,"post_id":70690727,"comment_id":124969058,"body_markdown":"Yes. ```Integer.compare``` works. Thank you.","body":"Yes. <code>Integer.compare</code> works. Thank you."}],"owner":{"account_id":17515315,"reputation":11,"user_id":17919874,"display_name":"Jon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642040890,"creation_date":1642040890,"question_id":70690727,"body_markdown":"I have a 2-d array of integers which I want to sort by their second index. I am using the following custom comparator :\r\n```\r\nComparator&lt;int[]&gt; cmp = (a,b) -&gt;  {\r\n            if (a[1] == b[1])\r\n                return a[0] - b[0];\r\n            return a[1] - b[1];\r\n        };\r\nArrays.sort(points, cmp);\r\n```\r\nHowever, for large integer values it gives wrong answer due to overflow. Example :\r\n```\r\nint[][] points = {{-2147483646,-2147483645},{2147483646,2147483647}};\r\n```\r\n\r\nIs there a way to handle this efficiently without explicitly handling these overflow cases? For example :\r\n```\r\nComparator&lt;int[]&gt; cmp = (a,b) -&gt;  {\r\n            if (a[1] &lt; 0 &amp;&amp; b[1] &gt; 0)\r\n                return -1;\r\n            if (a[1] &gt; 0 &amp;&amp; b[1] &lt; 0)\r\n                return 1;\r\n            if (a[1] == b[1])\r\n                return a[0] - b[0];\r\n            return a[1] - b[1];\r\n        };\r\n```","title":"Custom sorting a 2-D array of large integers","body":"<p>I have a 2-d array of integers which I want to sort by their second index. I am using the following custom comparator :</p>\n<pre><code>Comparator&lt;int[]&gt; cmp = (a,b) -&gt;  {\n            if (a[1] == b[1])\n                return a[0] - b[0];\n            return a[1] - b[1];\n        };\nArrays.sort(points, cmp);\n</code></pre>\n<p>However, for large integer values it gives wrong answer due to overflow. Example :</p>\n<pre><code>int[][] points = {{-2147483646,-2147483645},{2147483646,2147483647}};\n</code></pre>\n<p>Is there a way to handle this efficiently without explicitly handling these overflow cases? For example :</p>\n<pre><code>Comparator&lt;int[]&gt; cmp = (a,b) -&gt;  {\n            if (a[1] &lt; 0 &amp;&amp; b[1] &gt; 0)\n                return -1;\n            if (a[1] &gt; 0 &amp;&amp; b[1] &lt; 0)\n                return 1;\n            if (a[1] == b[1])\n                return a[0] - b[0];\n            return a[1] - b[1];\n        };\n</code></pre>\n"},{"tags":["java","eclipse","maven","pom.xml"],"comments":[{"owner":{"account_id":395805,"reputation":2805,"user_id":758946,"display_name":"Yhn"},"score":0,"creation_date":1308668485,"post_id":6427212,"comment_id":7541353,"body_markdown":"If I recall correctly; eclipse has a maven console showing errors when things like this happen. Could you check if that console shows anything that could help identifying the cause of this?","body":"If I recall correctly; eclipse has a maven console showing errors when things like this happen. Could you check if that console shows anything that could help identifying the cause of this?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1308668978,"post_id":6427212,"comment_id":7541540,"body_markdown":"Can this project correctly compiled packaged etc. via Console ?","body":"Can this project correctly compiled packaged etc. via Console ?"},{"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1308669472,"post_id":6427212,"comment_id":7541706,"body_markdown":"@Yhn Do you know how I can open that console?","body":"@Yhn Do you know how I can open that console?"},{"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1308669539,"post_id":6427212,"comment_id":7541737,"body_markdown":"@khmarbaise Yes, I can run a `mvn compile`, `mvn package`, etc from the console without any trouble.","body":"@khmarbaise Yes, I can run a <code>mvn compile</code>, <code>mvn package</code>, etc from the console without any trouble."},{"owner":{"account_id":395805,"reputation":2805,"user_id":758946,"display_name":"Yhn"},"score":1,"creation_date":1308669554,"post_id":6427212,"comment_id":7541738,"body_markdown":"@Michael It should be in the normal console window; when clicking the &#39;Open console&#39; button you should be able to select &#39;Maven console&#39;","body":"@Michael It should be in the normal console window; when clicking the &#39;Open console&#39; button you should be able to select &#39;Maven console&#39;"},{"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1308669992,"post_id":6427212,"comment_id":7541884,"body_markdown":"@Yhn Got it.  It just displays the same error (it prints it twice for some reason): `6/21/11 11:25:26 AM EDT: [ERROR] Project read error`","body":"@Yhn Got it.  It just displays the same error (it prints it twice for some reason): <code>6&#47;21&#47;11 11:25:26 AM EDT: [ERROR] Project read error</code>"},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1314016788,"post_id":6427212,"comment_id":8572910,"body_markdown":"I had the same issue with one project and gave up on it. I&#39;m just using mvn eclipse:eclipse now and using the project as a &quot;normal&quot; Eclipse project (no Maven dependency resolution). Seems like some discrepancy between Maven 2 an 3, since the Maven config page in Eclipse says that the embedded Maven 3 is always used for workspace resolution of dependencies. It&#39;s sad that one of the most used dependency management tools still can&#39;t work together perfectly with one of the most used IDEs... All my other project work fine, though. Just this one.","body":"I had the same issue with one project and gave up on it. I&#39;m just using mvn eclipse:eclipse now and using the project as a &quot;normal&quot; Eclipse project (no Maven dependency resolution). Seems like some discrepancy between Maven 2 an 3, since the Maven config page in Eclipse says that the embedded Maven 3 is always used for workspace resolution of dependencies. It&#39;s sad that one of the most used dependency management tools still can&#39;t work together perfectly with one of the most used IDEs... All my other project work fine, though. Just this one."}],"answers":[{"tags":[],"owner":{"account_id":395805,"reputation":2805,"user_id":758946,"display_name":"Yhn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308842274,"creation_date":1308814546,"answer_id":6450783,"question_id":6427212,"body_markdown":"Given the information through the comments:\r\n\r\nmvn compile/mvn package work through console (I&#39;m assuming outside of eclipse). Based on that, the POM file should be correct and dependencies can be resolved.\r\n\r\nHowever; it could be that eclipse&#39;s settings aren&#39;t correct. For example, if eclipse has some own maven properties (instead of the default ~/.m2/settings.xml file); I can imagine it to fail resolving dependencies configured in the settings.xml used by maven itself. The settings for this should be in the Eclipse Preferences @ Maven &gt; User Settings.\r\n\r\nAlso make sure that Eclipse can actually read the file (not locked, correct rights, etc).\r\n\r\nShould this seem to be correct; can you try to run the mvn goal compile from eclipse? You can do this by right-clicking the project and selecting `run as &gt; maven package`. That way it should run maven with the same settings as eclipse is using, and might show any additional errors in it&#39;s configuration.\r\n\r\n--\r\nIn response to additional information:\r\n\r\nBasically it tells you - when using Maven 2 - that it can&#39;t find a dependency resource (in this case bcprov-jdk14) in the given repository (codehaus/mule). When I search that maven module (bcprov-jdk14) I find it in the Maven central repo (through our local nexus) @ [repo1.maven.org/maven2][1]. Maybe that causes the error you&#39;re getting with Maven2?\r\n\r\nAnd as the Maven 3 doc says; for Maven 1.x repo&#39;s; you should proxy them through a repo manager that can serve it to you as a maven 2 repository (I believe we do that here too for some repo&#39;s through Sonatype Nexus OSS)\r\n\r\nps.: Enabling maven dependency management in eclipse should be enough to be able to use maven run targets; if you would want to test it.\r\n\r\n--\r\n\r\nSound like it can be multiple problems... given that the normal maven build works fine, one would think that maven can at least get the artifacts it depends upon and their dependencies... Yet, eclipse doesn&#39;t seem to be able to.\r\n\r\nDouble check if your Eclipse internet connection settings are correct? Since you were talking about a company repo, I&#39;m assuming there will probably also be a proxy (I had to set up my Eclipse to use that one too; though for plugins (see next point)).\r\n\r\nAnother possibility, from experience, can be a rule-based proxy block on *.pom url requests (our proxy here blocks that to force usage of the local repo manager, how evil and annoying that is :(). You might want to try and open the .pom file it tries to download manually in your browser to see if this is the case (I can&#39;t, for example...).\r\n\r\nTo get the repo set up, you would probably have to ask the one responsible for the repository to add it as a maven2 proxy.\r\n\r\nAt the very least, it seems Eclipse is having issues getting the dependency poms (which are needed to build the dependency tree) from the internet. You could always try to ask some ICT crew (if they are capable enough...) about it at your company, maybe they have some useful hints.\r\n\r\n  [1]: http://repo1.maven.org/maven2/org/bouncycastle/bcprov-jdk14/","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>Given the information through the comments:</p>\n\n<p>mvn compile/mvn package work through console (I'm assuming outside of eclipse). Based on that, the POM file should be correct and dependencies can be resolved.</p>\n\n<p>However; it could be that eclipse's settings aren't correct. For example, if eclipse has some own maven properties (instead of the default ~/.m2/settings.xml file); I can imagine it to fail resolving dependencies configured in the settings.xml used by maven itself. The settings for this should be in the Eclipse Preferences @ Maven > User Settings.</p>\n\n<p>Also make sure that Eclipse can actually read the file (not locked, correct rights, etc).</p>\n\n<p>Should this seem to be correct; can you try to run the mvn goal compile from eclipse? You can do this by right-clicking the project and selecting <code>run as &gt; maven package</code>. That way it should run maven with the same settings as eclipse is using, and might show any additional errors in it's configuration.</p>\n\n<p>--\nIn response to additional information:</p>\n\n<p>Basically it tells you - when using Maven 2 - that it can't find a dependency resource (in this case bcprov-jdk14) in the given repository (codehaus/mule). When I search that maven module (bcprov-jdk14) I find it in the Maven central repo (through our local nexus) @ <a href=\"http://repo1.maven.org/maven2/org/bouncycastle/bcprov-jdk14/\" rel=\"nofollow\">repo1.maven.org/maven2</a>. Maybe that causes the error you're getting with Maven2?</p>\n\n<p>And as the Maven 3 doc says; for Maven 1.x repo's; you should proxy them through a repo manager that can serve it to you as a maven 2 repository (I believe we do that here too for some repo's through Sonatype Nexus OSS)</p>\n\n<p>ps.: Enabling maven dependency management in eclipse should be enough to be able to use maven run targets; if you would want to test it.</p>\n\n<p>--</p>\n\n<p>Sound like it can be multiple problems... given that the normal maven build works fine, one would think that maven can at least get the artifacts it depends upon and their dependencies... Yet, eclipse doesn't seem to be able to.</p>\n\n<p>Double check if your Eclipse internet connection settings are correct? Since you were talking about a company repo, I'm assuming there will probably also be a proxy (I had to set up my Eclipse to use that one too; though for plugins (see next point)).</p>\n\n<p>Another possibility, from experience, can be a rule-based proxy block on *.pom url requests (our proxy here blocks that to force usage of the local repo manager, how evil and annoying that is :(). You might want to try and open the .pom file it tries to download manually in your browser to see if this is the case (I can't, for example...).</p>\n\n<p>To get the repo set up, you would probably have to ask the one responsible for the repository to add it as a maven2 proxy.</p>\n\n<p>At the very least, it seems Eclipse is having issues getting the dependency poms (which are needed to build the dependency tree) from the internet. You could always try to ask some ICT crew (if they are capable enough...) about it at your company, maybe they have some useful hints.</p>\n"},{"tags":[],"owner":{"account_id":875671,"reputation":116,"user_id":925367,"display_name":"Glenn"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1371035143,"creation_date":1314970593,"answer_id":7284224,"question_id":6427212,"body_markdown":"I had this problem with some non-maven jars that I needed to include in my maven project. I put the jars in my local repository using this maven command: \r\n\r\n    mvn install:install-file -Dfile=/test/gov.nist.xccdf-1.2.jar -DgroupId=gov.nist -DartifactId=xccdf -Dpackaging=jar -Dversion=1.2\r\n\r\nThen I referred to them as dependencies in my pom.xml:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;gov.nist&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xccdf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\nThis worked fine for a while, but I must have upgraded something in eclipse, and I started getting the error you describe.\r\n\r\n**The fix is to take them out of the local repository, and redo the install-file asking maven to generate a pom for you:**\r\n\r\n    mvn -DgeneratePom=true install:install-file -Dfile=/test/gov.nist.xccdf-1.2.jar -DgroupId=gov.nist -DartifactId=xccdf -Dpackaging=jar -Dversion=1.2\r\n\r\nThe command will cause a pom to be generated in the same directory (within your local repo) where the jar is placed.\r\n\r\nIn recent versions of eclipse maven support, the maven build is still done with maven 2 (if you right-click your pom.xml, choose run as mvn package for example).  The dependency analysis is now done with an embedded maven 3 plugin, which doesn&#39;t like a dependency that has no pom.xml.","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>I had this problem with some non-maven jars that I needed to include in my maven project. I put the jars in my local repository using this maven command: </p>\n\n<pre><code>mvn install:install-file -Dfile=/test/gov.nist.xccdf-1.2.jar -DgroupId=gov.nist -DartifactId=xccdf -Dpackaging=jar -Dversion=1.2\n</code></pre>\n\n<p>Then I referred to them as dependencies in my pom.xml:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;gov.nist&lt;/groupId&gt;\n        &lt;artifactId&gt;xccdf&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>This worked fine for a while, but I must have upgraded something in eclipse, and I started getting the error you describe.</p>\n\n<p><strong>The fix is to take them out of the local repository, and redo the install-file asking maven to generate a pom for you:</strong></p>\n\n<pre><code>mvn -DgeneratePom=true install:install-file -Dfile=/test/gov.nist.xccdf-1.2.jar -DgroupId=gov.nist -DartifactId=xccdf -Dpackaging=jar -Dversion=1.2\n</code></pre>\n\n<p>The command will cause a pom to be generated in the same directory (within your local repo) where the jar is placed.</p>\n\n<p>In recent versions of eclipse maven support, the maven build is still done with maven 2 (if you right-click your pom.xml, choose run as mvn package for example).  The dependency analysis is now done with an embedded maven 3 plugin, which doesn't like a dependency that has no pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":89991,"reputation":476,"user_id":247926,"accept_rate":100,"display_name":"OblongZebra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1333628031,"creation_date":1333628031,"answer_id":10028388,"question_id":6427212,"body_markdown":"I had the same problem. If you made your project a maven project, you should run:\r\n\r\n - Right Mouse Click on project | Maven | Update Dependencies or \r\n - Right Mouse Click on project | Maven | Update Project Configuration\r\n\r\nThat worked for me.","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>I had the same problem. If you made your project a maven project, you should run:</p>\n\n<ul>\n<li>Right Mouse Click on project | Maven | Update Dependencies or </li>\n<li>Right Mouse Click on project | Maven | Update Project Configuration</li>\n</ul>\n\n<p>That worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1749294,"reputation":633,"user_id":1598771,"display_name":"jason zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378746136,"creation_date":1378746136,"answer_id":18703319,"question_id":6427212,"body_markdown":"I had the same problem when I added a new dependency to pom.xml without network connection. After this, I had so many problems such as &quot;Missing artifacts&quot;, &quot;Missing Descriptor&quot;, or &quot;Project Read error&quot;. I solved this\r\n\r\n1. delete the bad dependency just added from local repository.\r\n2. rebuild local index.\r\n3. re-add the dependency","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>I had the same problem when I added a new dependency to pom.xml without network connection. After this, I had so many problems such as \"Missing artifacts\", \"Missing Descriptor\", or \"Project Read error\". I solved this</p>\n\n<ol>\n<li>delete the bad dependency just added from local repository.</li>\n<li>rebuild local index.</li>\n<li>re-add the dependency</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10547869,"reputation":11,"user_id":7771449,"display_name":"traysine zheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490578510,"creation_date":1490578510,"answer_id":43036619,"question_id":6427212,"body_markdown":"\t&lt;properties&gt;\r\n\t\t&lt;!-- ********************** --&gt;\r\n\t\t\r\n\t\t&lt;!-- Plugin&#39;s properties --&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\nthis pom setting worked for me","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<pre><code>&lt;properties&gt;\n    &lt;!-- ********************** --&gt;\n\n    &lt;!-- Plugin's properties --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.7&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>this pom setting worked for me</p>\n"},{"tags":[],"owner":{"account_id":9678084,"reputation":817,"user_id":7180822,"accept_rate":62,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494343461,"creation_date":1494343461,"answer_id":43873864,"question_id":6427212,"body_markdown":"Usually this happens if there is a typo in the pom that Maven cannot understand and then it throws `Project read error`. Like in my case I copied a maven dependency snippet and I by passed the version. Instead of typing the actual version # it was getting it dynamically `${asciidoctorj.version}` and my pom didn&#39;t have this in the properties section. So I got this error. Once I removed that and put a version number it started working. ","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>Usually this happens if there is a typo in the pom that Maven cannot understand and then it throws <code>Project read error</code>. Like in my case I copied a maven dependency snippet and I by passed the version. Instead of typing the actual version # it was getting it dynamically <code>${asciidoctorj.version}</code> and my pom didn't have this in the properties section. So I got this error. Once I removed that and put a version number it started working. </p>\n"},{"tags":[],"owner":{"account_id":8872830,"reputation":1,"user_id":6626045,"display_name":"reid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497439489,"creation_date":1497439489,"answer_id":44543422,"question_id":6427212,"body_markdown":"I had this after copying a local repository folder from another machine. The fix was to go into the repository folder I copied and delete\r\n_remote.repositories along with the &#39;LastUpdated&#39; files then refresh the Maven dependencies in Eclipse (Alt+F5)","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>I had this after copying a local repository folder from another machine. The fix was to go into the repository folder I copied and delete\n_remote.repositories along with the 'LastUpdated' files then refresh the Maven dependencies in Eclipse (Alt+F5)</p>\n"},{"tags":[],"owner":{"account_id":3354060,"reputation":5435,"user_id":2817457,"accept_rate":50,"display_name":"Jianwu Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529675380,"creation_date":1529675380,"answer_id":50989483,"question_id":6427212,"body_markdown":"I faced same situation today. In my case it&#39;s caused by dependency name in wrong case. E.g. \r\n\r\nProject A -&gt; Project B -&gt; Project C\r\nIn project B&#39;s pm file, I mistakenly specified the dependency artifacts name with &quot;c&quot; in stead of &quot;C&quot;. \r\n\r\nAs in mac os, the files system is case insensitive. so I can build it in command line without detecting this mistake. \r\n\r\nIn Eclipse it breaks, but it provides very bad error message. In the error list, it says &quot;dependency problem&quot;, but the name of dependency is empty. It also can&#39;t identify which line in the POM causes the problem.\r\n\r\n\r\nWhen try to open &quot;Effective POM&quot; in POM viewer, it will show project read error. In the pop up error dialog box, it will show:\r\n\r\n    Could not read maven project\r\n    java.nio.channels.OverlappingFileLockException \r\n\r\nAll the messages are useless and misleading. \r\n\r\nI finally detected this problem by submit to Jenkins CI after wasted hours of time.\r\n\r\n","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>I faced same situation today. In my case it's caused by dependency name in wrong case. E.g. </p>\n\n<p>Project A -> Project B -> Project C\nIn project B's pm file, I mistakenly specified the dependency artifacts name with \"c\" in stead of \"C\". </p>\n\n<p>As in mac os, the files system is case insensitive. so I can build it in command line without detecting this mistake. </p>\n\n<p>In Eclipse it breaks, but it provides very bad error message. In the error list, it says \"dependency problem\", but the name of dependency is empty. It also can't identify which line in the POM causes the problem.</p>\n\n<p>When try to open \"Effective POM\" in POM viewer, it will show project read error. In the pop up error dialog box, it will show:</p>\n\n<pre><code>Could not read maven project\njava.nio.channels.OverlappingFileLockException \n</code></pre>\n\n<p>All the messages are useless and misleading. </p>\n\n<p>I finally detected this problem by submit to Jenkins CI after wasted hours of time.</p>\n"},{"tags":[],"owner":{"account_id":3928630,"reputation":421,"user_id":3248078,"display_name":"deepika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591594264,"creation_date":1591594264,"answer_id":62255598,"question_id":6427212,"body_markdown":"I did maven clean install and the errors were gone","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>I did maven clean install and the errors were gone</p>\n"},{"tags":[],"owner":{"account_id":9956945,"reputation":1,"user_id":7367499,"display_name":"Shashank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597108200,"creation_date":1597095635,"answer_id":63348379,"question_id":6427212,"body_markdown":"I faced the same issue of &quot;Project read error&quot; while clicking on &quot;Dependency Hierarchy&quot; tab. In my project I had a parent pom and child pom. \r\nParent pom had a property `&lt;appVersion&gt;4.5&lt;appVersion&gt;` that was being used in child pom \r\n`&lt;version&gt;${appVersion}&lt;version&gt;`. \r\nI selected the main project, right click and choose run as maven clean. The console display showed warning that version is using expression but should be a constant. Replacing `${appVersion}` with constant value of **4.5** fixed the issue.    ","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>I faced the same issue of &quot;Project read error&quot; while clicking on &quot;Dependency Hierarchy&quot; tab. In my project I had a parent pom and child pom.\nParent pom had a property <code>&lt;appVersion&gt;4.5&lt;appVersion&gt;</code> that was being used in child pom\n<code>&lt;version&gt;${appVersion}&lt;version&gt;</code>.\nI selected the main project, right click and choose run as maven clean. The console display showed warning that version is using expression but should be a constant. Replacing <code>${appVersion}</code> with constant value of <strong>4.5</strong> fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":6190922,"reputation":1679,"user_id":4823653,"display_name":"LIU YUE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642040890,"creation_date":1642040890,"answer_id":70690726,"question_id":6427212,"body_markdown":"right click on the project, Maven-&gt;Update Project-&gt;Tick &quot;Force Update of Snapshots/Releases&quot;","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>right click on the project, Maven-&gt;Update Project-&gt;Tick &quot;Force Update of Snapshots/Releases&quot;</p>\n"}],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74089,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":7284224,"answer_count":11,"score":27,"last_activity_date":1642040890,"creation_date":1308667473,"question_id":6427212,"body_markdown":"When I open a POM file and click on the &quot;Dependency Hierarchy&quot; tab at the bottom, it gives me the error, &quot;Project read error&quot;.  It works with other projects in the same workspace, just not with this one.  Any ideas?\r\n\r\n![enter image description here][1]\r\n\r\n**EDIT**\r\n\r\nIn response to @Yhn&#39;s answer.\r\n\r\n1. Running the compile and package phases outside of Eclipse from the command-line work as expected.  It compiles the application and builds the final WAR file.\r\n1. Eclipse is indeed pointing to the default location of the Maven settings.xml file, so it should be aware of the custom repositories that are defined in it (my company has its own Maven repository).\r\n1. I can open and edit the POM file from Eclipse, so it must have read/write permissions to the file.\r\n1. The project is not configured in Eclipse as a Maven project, so I cannot run the package phase from Eclipse (I can only run it from the command-line).\r\n\r\nI wonder if it has anything to do with the fact that I was having trouble building the project with Maven 3 because apparently some of the transitive dependencies are configured for Maven 1, which [Maven 3 does not support][2] (this is my theory anyway, based on some of the error messages).  I can build the project with Maven 2, but I still get messages such as the following:\r\n\r\n    Downloading: http://dist.codehaus.org/mule/dependencies/maven2/org/codehaus/xfie/bcprov-jdk14/133/bcprov-jdk14-133.pom\r\n    [INFO] Unable to find resource &#39;org.codehaus.xfire:bcprov-jdk14:pom:133&#39; in repsitory mule (http://dist.codehaus.org/mule/dependencies/maven2)\r\n\r\nIt must be able to find these dependences however, because it downloaded the JARs just fine and can build the application.  It seems like the problem is that the dependencies don&#39;t have POM files associated with them, which is maybe why they cannot be used with Maven 3.  This might also be why I cannot view the Dependency Hierarchy in Eclipse.\r\n\r\n**EDIT 2**\r\n\r\nI converted the project to a Maven project by going to &quot;Configure &gt; Convert to Maven Project&quot;.  When I open the POM file, I see the error:\r\n\r\n`ArtifactDescriptorException: Failed to read artifact descriptor for woodstox:wst (Click for 140 more)`\r\n\t\r\n(woodstox:wst is another transitive dependency of the project).  An error appears in the &quot;Markers&quot; view for seemingly every depedency and transitive dependency in my project.  However, I can successfully build the project by doing a &quot;Run As &gt; Maven build&quot;. (**Edit:** This might be because this project has no Java source code, but the JARs of the dependencies correctly appear in the final WAR.)  The Dependency Hierarchy still gives the same error--&quot;Project read error&quot;.\r\n\r\n\r\nAbout the &quot;Unable to find resource&quot; messages--but this only appears for a handful of transitive dependencies.  The project has many more transitive dependencies, but these messages do not appear for them.  It seems like, because the dependencies do not have POM files, that Maven tries to search for them every time the project is built.  Is this normal not to have POMs??\r\n\r\nHow might I go about getting a repo manager?  Is this something that would have to be installed on the company&#39;s Maven repository or can you install it on your own workstation?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/PPUMD.png\r\n  [2]: https://cwiki.apache.org/MAVEN/maven-3x-compatibility-notes.html#Maven3.xCompatibilityNotes-LegacystyleRepositories","title":"Error opening Maven POM file dependency hierarchy in Eclipse - &quot;Project read error&quot;","body":"<p>When I open a POM file and click on the \"Dependency Hierarchy\" tab at the bottom, it gives me the error, \"Project read error\".  It works with other projects in the same workspace, just not with this one.  Any ideas?</p>\n\n<p><img src=\"https://i.stack.imgur.com/PPUMD.png\" alt=\"enter image description here\"></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>In response to @Yhn's answer.</p>\n\n<ol>\n<li>Running the compile and package phases outside of Eclipse from the command-line work as expected.  It compiles the application and builds the final WAR file.</li>\n<li>Eclipse is indeed pointing to the default location of the Maven settings.xml file, so it should be aware of the custom repositories that are defined in it (my company has its own Maven repository).</li>\n<li>I can open and edit the POM file from Eclipse, so it must have read/write permissions to the file.</li>\n<li>The project is not configured in Eclipse as a Maven project, so I cannot run the package phase from Eclipse (I can only run it from the command-line).</li>\n</ol>\n\n<p>I wonder if it has anything to do with the fact that I was having trouble building the project with Maven 3 because apparently some of the transitive dependencies are configured for Maven 1, which <a href=\"https://cwiki.apache.org/MAVEN/maven-3x-compatibility-notes.html#Maven3.xCompatibilityNotes-LegacystyleRepositories\" rel=\"noreferrer\">Maven 3 does not support</a> (this is my theory anyway, based on some of the error messages).  I can build the project with Maven 2, but I still get messages such as the following:</p>\n\n<pre><code>Downloading: http://dist.codehaus.org/mule/dependencies/maven2/org/codehaus/xfie/bcprov-jdk14/133/bcprov-jdk14-133.pom\n[INFO] Unable to find resource 'org.codehaus.xfire:bcprov-jdk14:pom:133' in repsitory mule (http://dist.codehaus.org/mule/dependencies/maven2)\n</code></pre>\n\n<p>It must be able to find these dependences however, because it downloaded the JARs just fine and can build the application.  It seems like the problem is that the dependencies don't have POM files associated with them, which is maybe why they cannot be used with Maven 3.  This might also be why I cannot view the Dependency Hierarchy in Eclipse.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>I converted the project to a Maven project by going to \"Configure > Convert to Maven Project\".  When I open the POM file, I see the error:</p>\n\n<p><code>ArtifactDescriptorException: Failed to read artifact descriptor for woodstox:wst (Click for 140 more)</code></p>\n\n<p>(woodstox:wst is another transitive dependency of the project).  An error appears in the \"Markers\" view for seemingly every depedency and transitive dependency in my project.  However, I can successfully build the project by doing a \"Run As > Maven build\". (<strong>Edit:</strong> This might be because this project has no Java source code, but the JARs of the dependencies correctly appear in the final WAR.)  The Dependency Hierarchy still gives the same error--\"Project read error\".</p>\n\n<p>About the \"Unable to find resource\" messages--but this only appears for a handful of transitive dependencies.  The project has many more transitive dependencies, but these messages do not appear for them.  It seems like, because the dependencies do not have POM files, that Maven tries to search for them every time the project is built.  Is this normal not to have POMs??</p>\n\n<p>How might I go about getting a repo manager?  Is this something that would have to be installed on the company's Maven repository or can you install it on your own workstation?</p>\n"},{"tags":["java","validation","conditional-statements"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1642042333,"post_id":70690653,"comment_id":124969192,"body_markdown":"The standard Java `assert` keyword can do it;  for example, `assert count &gt;= 0 : &quot;Count cannot be negative.&quot;;`.  But assert statements are not executed at all unless explicitly enabled in the Java runtimeeither with a command line option, or with a ClassLoader method like [setClassAssertionStatus](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#setClassAssertionStatus(java.lang.String,boolean)).","body":"The standard Java <code>assert</code> keyword can do it;  for example, <code>assert count &gt;= 0 : &quot;Count cannot be negative.&quot;;</code>.  But assert statements are not executed at all unless explicitly enabled in the Java runtimeeither with a command line option, or with a ClassLoader method like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#setClassAssertionStatus(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">setClassAssertionStatus</a>."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1642045282,"post_id":70690653,"comment_id":124969673,"body_markdown":"@VGR Thank you! I do see that, according to the documentation, it throws a very unique type of `Throwable`. Namely, an `AssertionError`. Is there any way to make it throw an `Exception` of some sort? I&#39;ve currently built my solution around `Exception`, and while I could switch over to catching `Throwable`, I&#39;d like to avoid the extra work.","body":"@VGR Thank you! I do see that, according to the documentation, it throws a very unique type of <code>Throwable</code>. Namely, an <code>AssertionError</code>. Is there any way to make it throw an <code>Exception</code> of some sort? I&#39;ve currently built my solution around <code>Exception</code>, and while I could switch over to catching <code>Throwable</code>, I&#39;d like to avoid the extra work."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1642045927,"post_id":70690653,"comment_id":124969771,"body_markdown":"Im not sure I understand your use case.  It is almost never correct to catch `Exception` or `NullPointerException`, since most unchecked exceptions are meant to expose programming mistakes.  The same goes for assertions.  The correct way to avoid those exceptions/errors is to check for invalid conditions before calling the method.","body":"Im not sure I understand your use case.  It is almost never correct to catch <code>Exception</code> or <code>NullPointerException</code>, since most unchecked exceptions are meant to expose programming mistakes.  The same goes for assertions.  The correct way to avoid those exceptions/errors is to check for invalid conditions before calling the method."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":1,"creation_date":1642046360,"post_id":70690653,"comment_id":124969827,"body_markdown":"If you use Guava (Google&#39;s framework library), it provides the `Preconditions` class, which supports many useful static methods, for example `checkState(&lt;boolean condition&gt;, &quot;This value is bad: %s&quot;, theBadValue);`  See https://guava.dev/releases/19.0/api/docs/com/google/common/base/Preconditions.html","body":"If you use Guava (Google&#39;s framework library), it provides the <code>Preconditions</code> class, which supports many useful static methods, for example <code>checkState(&lt;boolean condition&gt;, &quot;This value is bad: %s&quot;, theBadValue);</code>  See <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/base/Preconditions.html\" rel=\"nofollow noreferrer\">guava.dev/releases/19.0/api/docs/com/google/common/base/&hellip;</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1642048707,"post_id":70690653,"comment_id":124970197,"body_markdown":"@VGR I see, in which case, Assertions work perfectly, thank you!","body":"@VGR I see, in which case, Assertions work perfectly, thank you!"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1642048732,"post_id":70690653,"comment_id":124970201,"body_markdown":"@Gene that is great, thank you very much!","body":"@Gene that is great, thank you very much!"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642040094,"creation_date":1642040094,"question_id":70690653,"body_markdown":"`Objects.requireNonNull(...)` is a shorthand version of a whole drawn out if statement with a NullPointerException inside the body. Is there any Java equivalent for conditionals? Something like this - `Objects.requireTrue()` where if it is not true, it throws an exception of some sort?\r\n\r\nThe only alternative I know of is `Assert.assertTrue()`, but I was told to avoid that because assertions can be disabled.\r\n\r\nStrong preference for standard library, but 3rd party is fine too. My real goal is to shorten the process of validating a value using a conditional statement.","title":"Looking for the conditional version (instead of null) of Objects.requireNonNull()","body":"<p><code>Objects.requireNonNull(...)</code> is a shorthand version of a whole drawn out if statement with a NullPointerException inside the body. Is there any Java equivalent for conditionals? Something like this - <code>Objects.requireTrue()</code> where if it is not true, it throws an exception of some sort?</p>\n<p>The only alternative I know of is <code>Assert.assertTrue()</code>, but I was told to avoid that because assertions can be disabled.</p>\n<p>Strong preference for standard library, but 3rd party is fine too. My real goal is to shorten the process of validating a value using a conditional statement.</p>\n"},{"tags":["java","sorting","quicksort"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642039677,"post_id":70690381,"comment_id":124968811,"body_markdown":"I copied your code and for me the  expect output for the same input is different each time i&#39;m running the code. just recheck once","body":"I copied your code and for me the  expect output for the same input is different each time i&#39;m running the code. just recheck once"}],"answers":[{"tags":[],"owner":{"account_id":23557777,"reputation":193,"user_id":17600104,"display_name":"Cookie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642039586,"creation_date":1642039586,"answer_id":70690609,"question_id":70690381,"body_markdown":"First of all in `swap` method you put index of `b` instead of `b` value into `a` position","title":"Why is my quicksort function not running?","body":"<p>First of all in <code>swap</code> method you put index of <code>b</code> instead of <code>b</code> value into <code>a</code> position</p>\n"}],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70690609,"answer_count":1,"score":0,"last_activity_date":1642039586,"creation_date":1642037170,"question_id":70690381,"body_markdown":"I&#39;m attempting to write a quicksort function in java that receives an unsorted array, and returns the same array sorted. This algorithm is supposed to call itself until the entire array is sorted. the base case would be when the subarray range is just 1 element. As long as the subarray isn&#39;t 1, we keep calling quicksort on both ends of the partition\r\n\r\nCurrently, my code returns the following\r\n\r\nExample: \r\n[5,2,3,1]\r\nExpected output:\r\n[1,2,3,5]\r\nOutput: \r\n[3,2,3,5]\r\n\r\nCan someone please help me spot the error? Thank you!\r\n\r\nThis is my code:\r\n\r\n\r\n    \r\n    class Solution {\r\n        \r\n        public int[] sortArray(int[] nums) {\r\n            return quickSort(nums, 0, nums.length-1);\r\n        }\r\n        \r\n        // 1. recursive method\r\n        public int[] quickSort(int[] arr, int start, int end){\r\n    \r\n            // recurse: if array is more than one element, quicksort both left and right partitions\r\n              // get pivot\r\n            if (end-start &gt;= 1) {\r\n            int partition = sort(arr, start, end);\r\n            \r\n            quickSort(arr, start, partition);\r\n            quickSort(arr, partition+1, end);\r\n            }\r\n            \r\n            return arr;\r\n        }\r\n        \r\n        // 2. swap method\r\n        public void swap(int[] arr, int a, int b){\r\n            int temp = arr[a];\r\n            arr[a] = b;\r\n            arr[b] = temp;\r\n        }\r\n        \r\n        // 3. find pivot method\r\n        public int findPivot(int min, int max){\r\n            int random_int = (int)Math.floor(Math.random()*(max-min+1)+min);\r\n            return random_int;\r\n        }\r\n        \r\n        /* 4. sorting method  \r\n                  finds pivot value, places it to the end of the range \r\n                  \r\n                  compares each element in the range to the pivot value and swaps the items \r\n                  with the pivot index if the items are less than the pivot value, then moves pivot index to the right\r\n                  at the end of the loop, all items less than pivot are to the left of the pivot index\r\n                  \r\n                  end of loop: swap pivot index with pivot (currently at the right end of the range)\r\n                  \r\n                  method returns pivot index\r\n                  \r\n                  5.   8.   2.   3\r\n                s/pI             p\r\n        */\r\n        \r\n        public int sort(int[] arr, int start, int end){\r\n           // find pivot value\r\n            int pivot = findPivot(start, end);\r\n            // place pivot at the end of the sorting range\r\n            swap(arr, end, pivot);\r\n            \r\n            // pivot index starts out at the start\r\n            int pivotIndex = start;\r\n            \r\n            // loop through start to (end -1) and make appropriate swaps\r\n            for (int i= start; i&lt;= end-1; i++){\r\n                if (arr[i] &lt; arr[end]) {    // comparing current and pivot (pivot is in start)\r\n                    // swap with pivot index, increase pivot index\r\n                    swap (arr, i, pivotIndex);\r\n                    pivotIndex++;\r\n                }\r\n            }\r\n            // once loop is done, swap pivot index with pivot\r\n            swap(arr, pivotIndex, end);\r\n            return pivotIndex;\r\n        }\r\n    }","title":"Why is my quicksort function not running?","body":"<p>I'm attempting to write a quicksort function in java that receives an unsorted array, and returns the same array sorted. This algorithm is supposed to call itself until the entire array is sorted. the base case would be when the subarray range is just 1 element. As long as the subarray isn't 1, we keep calling quicksort on both ends of the partition</p>\n<p>Currently, my code returns the following</p>\n<p>Example:\n[5,2,3,1]\nExpected output:\n[1,2,3,5]\nOutput:\n[3,2,3,5]</p>\n<p>Can someone please help me spot the error? Thank you!</p>\n<p>This is my code:</p>\n<pre><code>class Solution {\n    \n    public int[] sortArray(int[] nums) {\n        return quickSort(nums, 0, nums.length-1);\n    }\n    \n    // 1. recursive method\n    public int[] quickSort(int[] arr, int start, int end){\n\n        // recurse: if array is more than one element, quicksort both left and right partitions\n          // get pivot\n        if (end-start &gt;= 1) {\n        int partition = sort(arr, start, end);\n        \n        quickSort(arr, start, partition);\n        quickSort(arr, partition+1, end);\n        }\n        \n        return arr;\n    }\n    \n    // 2. swap method\n    public void swap(int[] arr, int a, int b){\n        int temp = arr[a];\n        arr[a] = b;\n        arr[b] = temp;\n    }\n    \n    // 3. find pivot method\n    public int findPivot(int min, int max){\n        int random_int = (int)Math.floor(Math.random()*(max-min+1)+min);\n        return random_int;\n    }\n    \n    /* 4. sorting method  \n              finds pivot value, places it to the end of the range \n              \n              compares each element in the range to the pivot value and swaps the items \n              with the pivot index if the items are less than the pivot value, then moves pivot index to the right\n              at the end of the loop, all items less than pivot are to the left of the pivot index\n              \n              end of loop: swap pivot index with pivot (currently at the right end of the range)\n              \n              method returns pivot index\n              \n              5.   8.   2.   3\n            s/pI             p\n    */\n    \n    public int sort(int[] arr, int start, int end){\n       // find pivot value\n        int pivot = findPivot(start, end);\n        // place pivot at the end of the sorting range\n        swap(arr, end, pivot);\n        \n        // pivot index starts out at the start\n        int pivotIndex = start;\n        \n        // loop through start to (end -1) and make appropriate swaps\n        for (int i= start; i&lt;= end-1; i++){\n            if (arr[i] &lt; arr[end]) {    // comparing current and pivot (pivot is in start)\n                // swap with pivot index, increase pivot index\n                swap (arr, i, pivotIndex);\n                pivotIndex++;\n            }\n        }\n        // once loop is done, swap pivot index with pivot\n        swap(arr, pivotIndex, end);\n        return pivotIndex;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1615983909,"post_id":66671253,"comment_id":117859661,"body_markdown":"You don&#39;t nor should you. If you need the request scoped bean inside an async (background) thread you are doing the wrong things (imho).","body":"You don&#39;t nor should you. If you need the request scoped bean inside an async (background) thread you are doing the wrong things (imho)."},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1616021995,"post_id":66671253,"comment_id":117876818,"body_markdown":"Agree with @M.Deinum, why don&#39;t you retrieve the value from the message bean in the request thread and pass it to your thread instances when you create them.","body":"Agree with @M.Deinum, why don&#39;t you retrieve the value from the message bean in the request thread and pass it to your thread instances when you create them."},{"owner":{"account_id":1756623,"reputation":934,"user_id":1604503,"accept_rate":33,"display_name":"fukit0"},"score":0,"creation_date":1616048477,"post_id":66671253,"comment_id":117882009,"body_markdown":"That is the case I want to know. Is it possible without creating a task instance(imp. callable or ext. runnable)? I am looking for a way to use java&#39;s parallel stream kind of multithreading if possible.","body":"That is the case I want to know. Is it possible without creating a task instance(imp. callable or ext. runnable)? I am looking for a way to use java&#39;s parallel stream kind of multithreading if possible."}],"answers":[{"tags":[],"owner":{"account_id":6678306,"reputation":29,"user_id":5152282,"display_name":"Selva Narayanan A J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642039247,"creation_date":1642039247,"answer_id":70690576,"question_id":66671253,"body_markdown":"You need to implement the Runnable interface with Context Aware like below. . \r\n\r\n    public class ContextAwareRunnable implements Runnable {\r\n    \r\n        final Runnable task;\r\n        private final RequestAttributes context;\r\n    \r\n        ContextAwareRunnable(Runnable task, RequestAttributes context) {\r\n            this.task = task;\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            if (context != null) {\r\n                RequestContextHolder.setRequestAttributes(context, true);\r\n            }\r\n    \r\n            if you have any other Spring/Hystrix managed request object then you should \r\n            wire those as well here. \r\n            \r\n            try {\r\n                task.run();\r\n            } finally {\r\n                RequestContextHolder.resetRequestAttributes();\r\n                close any other object you initialize in the run method. \r\n            }\r\n        }\r\n    }\r\n    enter code here\r\n\r\nIf you are using the Java concurrency package, then you need Context Aware Callable as well like below. . \r\n\r\n    public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\r\n        private final Callable&lt;T&gt; task;\r\n        private final RequestAttributes context;\r\n    \r\n        ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes context) {\r\n            this.task = task;\r\n            this.context = context;\r\n        }\r\n    \r\n    \t@Override\r\n        public T call() throws Exception {\r\n            if (context != null) {\r\n                RequestContextHolder.setRequestAttributes(context,true);\r\n            }\r\n    \r\n    \t\tif you have any other Spring/Hystrix managed request object then you should \r\n            wire those as well here. \r\n                \r\n            try {\r\n                return task.call();\r\n            } finally {\r\n                RequestContextHolder.resetRequestAttributes();\r\n                close any other object you initialize in the call method. \r\n            }\r\n        }\r\n    }\r\n\r\nThen you need a Context Aware Task Executor like below. . \r\n\r\n    public class ContextAwareThreadPoolTaskExecutor extends ThreadPoolTaskExecutor {\r\n        \r\n         @Override\r\n         public void execute(Runnable task) {\r\n             RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes();\r\n\r\n             super.execute(new ContextAwareRunnable(task, requestAttributes));\r\n         }\r\n    \r\n        @Override\r\n        public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n            RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes();\r\n    \r\n            return super.submit(new ContextAwareCallable&lt;&gt;(task, requestAttributes));\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\r\n            RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes();\r\n    \r\n            return super.submitListenable(new ContextAwareCallable&lt;&gt;(task, requestAttributes));\r\n        }\r\n    }\r\n\r\nThen You have define a custom Thread Pool Executor bean like below\r\n\r\n\r\n        @Bean(&quot;contextAwareThreadPoolExecutor&quot;)\r\n        public Executor contextAwareThreadPoolExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ContextAwareThreadPoolTaskExecutor();\r\n    \r\n    \t\t\t\texecutor.setCorePoolSize(5);\r\n            executor.setMaxPoolSize(10);\r\n            executor.setQueueCapacity(25);\r\n            executor.setThreadNamePrefix(&quot;my-context-aware-thread&quot;);\r\n            executor.initialize();\r\n           \r\n    \r\n            return executor;\r\n        }\r\n\r\n\r\nIn your service layer. .\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;contextAwareThreadPoolExecutor&quot;)\r\n    Executor executorService;\r\n    \r\n\r\nThis shd work for you. ","title":"How to make ThreadPoolTaskExecutor access request scoped bean in Spring Boot","body":"<p>You need to implement the Runnable interface with Context Aware like below. .</p>\n<pre><code>public class ContextAwareRunnable implements Runnable {\n\n    final Runnable task;\n    private final RequestAttributes context;\n\n    ContextAwareRunnable(Runnable task, RequestAttributes context) {\n        this.task = task;\n        this.context = context;\n    }\n\n    @Override\n    public void run() {\n        if (context != null) {\n            RequestContextHolder.setRequestAttributes(context, true);\n        }\n\n        if you have any other Spring/Hystrix managed request object then you should \n        wire those as well here. \n        \n        try {\n            task.run();\n        } finally {\n            RequestContextHolder.resetRequestAttributes();\n            close any other object you initialize in the run method. \n        }\n    }\n}\nenter code here\n</code></pre>\n<p>If you are using the Java concurrency package, then you need Context Aware Callable as well like below. .</p>\n<pre><code>public class ContextAwareCallable&lt;T&gt; implements Callable&lt;T&gt; {\n    private final Callable&lt;T&gt; task;\n    private final RequestAttributes context;\n\n    ContextAwareCallable(Callable&lt;T&gt; task, RequestAttributes context) {\n        this.task = task;\n        this.context = context;\n    }\n\n    @Override\n    public T call() throws Exception {\n        if (context != null) {\n            RequestContextHolder.setRequestAttributes(context,true);\n        }\n\n        if you have any other Spring/Hystrix managed request object then you should \n        wire those as well here. \n            \n        try {\n            return task.call();\n        } finally {\n            RequestContextHolder.resetRequestAttributes();\n            close any other object you initialize in the call method. \n        }\n    }\n}\n</code></pre>\n<p>Then you need a Context Aware Task Executor like below. .</p>\n<pre><code>public class ContextAwareThreadPoolTaskExecutor extends ThreadPoolTaskExecutor {\n    \n     @Override\n     public void execute(Runnable task) {\n         RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes();\n\n         super.execute(new ContextAwareRunnable(task, requestAttributes));\n     }\n\n    @Override\n    public &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\n        RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes();\n\n        return super.submit(new ContextAwareCallable&lt;&gt;(task, requestAttributes));\n    }\n\n    @Override\n    public &lt;T&gt; ListenableFuture&lt;T&gt; submitListenable(Callable&lt;T&gt; task) {\n        RequestAttributes requestAttributes = RequestContextHolder.currentRequestAttributes();\n\n        return super.submitListenable(new ContextAwareCallable&lt;&gt;(task, requestAttributes));\n    }\n}\n</code></pre>\n<p>Then You have define a custom Thread Pool Executor bean like below</p>\n<pre><code>    @Bean(&quot;contextAwareThreadPoolExecutor&quot;)\n    public Executor contextAwareThreadPoolExecutor() {\n        ThreadPoolTaskExecutor executor = new ContextAwareThreadPoolTaskExecutor();\n\n                executor.setCorePoolSize(5);\n        executor.setMaxPoolSize(10);\n        executor.setQueueCapacity(25);\n        executor.setThreadNamePrefix(&quot;my-context-aware-thread&quot;);\n        executor.initialize();\n       \n\n        return executor;\n    }\n</code></pre>\n<p>In your service layer. .</p>\n<pre><code>@Autowired\n@Qualifier(&quot;contextAwareThreadPoolExecutor&quot;)\nExecutor executorService;\n</code></pre>\n<p>This shd work for you.</p>\n"}],"owner":{"account_id":1756623,"reputation":934,"user_id":1604503,"accept_rate":33,"display_name":"fukit0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642039247,"creation_date":1615977069,"question_id":66671253,"body_markdown":"I have list of items to be processed seperately. So, I wanted to use Java parallel stream but threads did not able to access my request scoped bean. \r\n\r\nI tried the below implementation:\r\n\r\n```\r\n @Bean(name = &quot;myExecutor&quot;)\r\n    public ThreadPoolTaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(5);\r\n        executor.setMaxPoolSize(10);\r\n        executor.setQueueCapacity(25);\r\n        executor.setThreadNamePrefix(&quot;my-thread&quot;);\r\n        return executor;\r\n    }\r\n```\r\n\r\nIn my service layer, I autowired the executor:\r\n\r\n    @Autowired\r\n    ThreadPoolTaskExecutor taskExecutor;\r\n\r\n```\r\npublic void addOrUpdate(List&lt;ShareholderBalanceCsvItem&gt; itemList) {\r\n        \r\n        // ...\r\n\r\n        itemList.forEach(csvItem -&gt; taskExecutor.submit(() -&gt; {\r\n            log.info(Thread.currentThread().getName() + &quot; ----------------------&quot;);\r\n            \r\n           // ...\r\n           createCertificateShareEntry(processType, csvItem, certificateShareEntryDTO);\r\n           // ...\r\n\r\n        }));\r\n}\r\n```\r\n\r\nI see 4 threads are generated correctly for 4 items in the list[![enter image description here][1]][1]\r\n\r\nIn ```createCertificateShareEntry``` method, I need to access **MessageBean** which is in request scope.\r\n\r\n\r\n```\r\n@Autowired\r\nprivate MessageBean messageBean;\r\n\r\nprivate void createCertificateShareEntry(String processType, ShareholderBalanceCsvItem csvItem, CertificateShareEntryDTO certificateShareEntryDTO) {\r\n\r\n        // ...\r\n            certificateShareEntryDTO.setMessageOid(messageBean.getObjId());\r\n        // ...\r\n}\r\n```\r\n\r\n**MessageBean.java**\r\n```\r\n@Component\r\n@Scope(value = &quot;request&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\npublic class MessageBean {\r\n // ...\r\n} \r\n```\r\n\r\nI get the following exception in the line `messageBean.getObjId()`\r\n\r\n```none\r\nError creating bean with name &#39;scopedTarget.messageBean&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: Cannot ask for request attribute - request is not active anymore!\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:675)\r\n\tat tr.com.mkk.hpks.model.MessageBean$$EnhancerBySpringCGLIB$$1db10d79.getObjId(&lt;generated&gt;)\r\n\tat tr.com.mkk.hpks.service.impl.ShareholderBalanceServiceImpl.createCertificateShareEntry(ShareholderBalanceServiceImpl.java:400)\r\n\tat tr.com.mkk.hpks.service.impl.ShareholderBalanceServiceImpl.lambda$addOrUpdate$4(ShareholderBalanceServiceImpl.java:314)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.IllegalStateException: Cannot ask for request attribute - request is not active anymore!\r\n\tat org.springframework.web.context.request.ServletRequestAttributes.getAttribute(ServletRequestAttributes.java:149)\r\n\tat org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:43)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n\t... 12 common frames omitted\r\n```\r\n \r\n  [1]: https://i.stack.imgur.com/mWLAF.png","title":"How to make ThreadPoolTaskExecutor access request scoped bean in Spring Boot","body":"<p>I have list of items to be processed seperately. So, I wanted to use Java parallel stream but threads did not able to access my request scoped bean.</p>\n<p>I tried the below implementation:</p>\n<pre><code> @Bean(name = &quot;myExecutor&quot;)\n    public ThreadPoolTaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(5);\n        executor.setMaxPoolSize(10);\n        executor.setQueueCapacity(25);\n        executor.setThreadNamePrefix(&quot;my-thread&quot;);\n        return executor;\n    }\n</code></pre>\n<p>In my service layer, I autowired the executor:</p>\n<pre><code>@Autowired\nThreadPoolTaskExecutor taskExecutor;\n</code></pre>\n<pre><code>public void addOrUpdate(List&lt;ShareholderBalanceCsvItem&gt; itemList) {\n        \n        // ...\n\n        itemList.forEach(csvItem -&gt; taskExecutor.submit(() -&gt; {\n            log.info(Thread.currentThread().getName() + &quot; ----------------------&quot;);\n            \n           // ...\n           createCertificateShareEntry(processType, csvItem, certificateShareEntryDTO);\n           // ...\n\n        }));\n}\n</code></pre>\n<p>I see 4 threads are generated correctly for 4 items in the list<a href=\"https://i.stack.imgur.com/mWLAF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mWLAF.png\" alt=\"enter image description here\" /></a></p>\n<p>In <code>createCertificateShareEntry</code> method, I need to access <strong>MessageBean</strong> which is in request scope.</p>\n<pre><code>@Autowired\nprivate MessageBean messageBean;\n\nprivate void createCertificateShareEntry(String processType, ShareholderBalanceCsvItem csvItem, CertificateShareEntryDTO certificateShareEntryDTO) {\n\n        // ...\n            certificateShareEntryDTO.setMessageOid(messageBean.getObjId());\n        // ...\n}\n</code></pre>\n<p><strong>MessageBean.java</strong></p>\n<pre><code>@Component\n@Scope(value = &quot;request&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class MessageBean {\n // ...\n} \n</code></pre>\n<p>I get the following exception in the line <code>messageBean.getObjId()</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>Error creating bean with name 'scopedTarget.messageBean': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: Cannot ask for request attribute - request is not active anymore!\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:675)\n    at tr.com.mkk.hpks.model.MessageBean$$EnhancerBySpringCGLIB$$1db10d79.getObjId(&lt;generated&gt;)\n    at tr.com.mkk.hpks.service.impl.ShareholderBalanceServiceImpl.createCertificateShareEntry(ShareholderBalanceServiceImpl.java:400)\n    at tr.com.mkk.hpks.service.impl.ShareholderBalanceServiceImpl.lambda$addOrUpdate$4(ShareholderBalanceServiceImpl.java:314)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.IllegalStateException: Cannot ask for request attribute - request is not active anymore!\n    at org.springframework.web.context.request.ServletRequestAttributes.getAttribute(ServletRequestAttributes.java:149)\n    at org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:43)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n    ... 12 common frames omitted\n</code></pre>\n"},{"tags":["java","oracle","configuration","database-administration"],"answers":[{"tags":[],"owner":{"account_id":9956609,"reputation":10666,"user_id":7367293,"display_name":"Connor McDonald"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642038205,"creation_date":1642038205,"answer_id":70690467,"question_id":70677351,"body_markdown":"&quot;2000 users&quot; doesn&#39;t really assist when determining connection pool sizes, because 2000 could be:\r\n\r\n- 2000 people that log on a couple of times per day, or\r\n- 2000 people that uses the system every few secconds, or\r\n- 2000 concurrent requests at any given moment across a much larger population\r\n\r\nTypically your choices are for sizing are going to be bound by the db server rather than the user population, eg\r\n\r\nLets say each ORDS request spends 20% of its time on the database, and 80% of its time elsewhere (ie, in the middle tier handling/processing etc).  That means a single database core can support 5 ORDS concurrent requests, because (on average) 5 ORDS requests = 5x20% = 100% of one core.\r\n\r\nIf your database server has (say) 8 cores (and you&#39;re happy to dedicate 4 of them to ORDS) then you&#39;re effectively saying you&#39;re prepared to allow 20 concurrent ORDS requests on your db server at any given moment, and thus you&#39;d limit the connection pool to be at most 20.  \r\n\r\nRemember, this is *concurrent* requests. A connection pool of size 20 (in this example) could serve hundreds or thousands of *users* depending on the usage model.","title":"ords default.xml values change for 2000 users","body":"<p>&quot;2000 users&quot; doesn't really assist when determining connection pool sizes, because 2000 could be:</p>\n<ul>\n<li>2000 people that log on a couple of times per day, or</li>\n<li>2000 people that uses the system every few secconds, or</li>\n<li>2000 concurrent requests at any given moment across a much larger population</li>\n</ul>\n<p>Typically your choices are for sizing are going to be bound by the db server rather than the user population, eg</p>\n<p>Lets say each ORDS request spends 20% of its time on the database, and 80% of its time elsewhere (ie, in the middle tier handling/processing etc).  That means a single database core can support 5 ORDS concurrent requests, because (on average) 5 ORDS requests = 5x20% = 100% of one core.</p>\n<p>If your database server has (say) 8 cores (and you're happy to dedicate 4 of them to ORDS) then you're effectively saying you're prepared to allow 20 concurrent ORDS requests on your db server at any given moment, and thus you'd limit the connection pool to be at most 20.</p>\n<p>Remember, this is <em>concurrent</em> requests. A connection pool of size 20 (in this example) could serve hundreds or thousands of <em>users</em> depending on the usage model.</p>\n"}],"owner":{"account_id":23428401,"reputation":1,"user_id":17487607,"display_name":"M. Fahad Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1642038205,"creation_date":1641969996,"question_id":70677351,"body_markdown":"i want to change ords default.xml values to enhance performance for 2000 users.\r\nkindly guide me which values should change for 2000 users.\r\nmy current ords default.xml values are\r\n\r\n    &lt;entry key=&quot;jdbc.DriverType&quot;&gt;thin&lt;/entry&gt;\r\n    &lt;entry key=&quot;jdbc.InitialLimit&quot;&gt;3&lt;/entry&gt;\r\n    &lt;entry key=&quot;jdbc.MinLimit&quot;&gt;1&lt;/entry&gt;\r\n    &lt;entry key=&quot;jdbc.MaxLimit&quot;&gt;0&lt;/entry&gt;\r\n    &lt;entry key=&quot;jdbc.MaxStatementsLimit&quot;&gt;10&lt;/entry&gt;\r\n    &lt;entry key=&quot;jdbc.InactivityTimeout&quot;&gt;1800&lt;/entry&gt;\r\n    &lt;entry key=&quot;jdbc.statementTimeout&quot;&gt;900&lt;/entry&gt;","title":"ords default.xml values change for 2000 users","body":"<p>i want to change ords default.xml values to enhance performance for 2000 users.\nkindly guide me which values should change for 2000 users.\nmy current ords default.xml values are</p>\n<pre><code>&lt;entry key=&quot;jdbc.DriverType&quot;&gt;thin&lt;/entry&gt;\n&lt;entry key=&quot;jdbc.InitialLimit&quot;&gt;3&lt;/entry&gt;\n&lt;entry key=&quot;jdbc.MinLimit&quot;&gt;1&lt;/entry&gt;\n&lt;entry key=&quot;jdbc.MaxLimit&quot;&gt;0&lt;/entry&gt;\n&lt;entry key=&quot;jdbc.MaxStatementsLimit&quot;&gt;10&lt;/entry&gt;\n&lt;entry key=&quot;jdbc.InactivityTimeout&quot;&gt;1800&lt;/entry&gt;\n&lt;entry key=&quot;jdbc.statementTimeout&quot;&gt;900&lt;/entry&gt;\n</code></pre>\n"},{"tags":["java","web-services","soap","soapheader"],"comments":[{"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"score":0,"creation_date":1337286028,"post_id":10640211,"comment_id":13798521,"body_markdown":"See this link: http://devplace.wordpress.com/2007/09/24/adding-soap-header-in-java/","body":"See this link: <a href=\"http://devplace.wordpress.com/2007/09/24/adding-soap-header-in-java/\" rel=\"nofollow noreferrer\">devplace.wordpress.com/2007/09/24/adding-soap-header-in-java</a>"},{"owner":{"account_id":1339762,"reputation":941,"user_id":1281696,"accept_rate":71,"display_name":"Elvis Oliveira"},"score":0,"creation_date":1337340737,"post_id":10640211,"comment_id":13812402,"body_markdown":"This link show how to add header in the soap envelope for the request, but i need add header in the soap envolope for the response.","body":"This link show how to add header in the soap envelope for the request, but i need add header in the soap envolope for the response."}],"owner":{"account_id":1339762,"reputation":941,"user_id":1281696,"accept_rate":71,"display_name":"Elvis Oliveira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1642038073,"creation_date":1337274322,"question_id":10640211,"body_markdown":"I have a web service client which adds a soap header in the request message. \r\n\r\nIn the web service server side I access this header and validate the message, but I need to send parameters in the soap header of the response message. How can I do that in Java?","title":"Set Header in the web service server side java","body":"<p>I have a web service client which adds a soap header in the request message.</p>\n<p>In the web service server side I access this header and validate the message, but I need to send parameters in the soap header of the response message. How can I do that in Java?</p>\n"},{"tags":["java","jdbc","dao"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1641857770,"post_id":70659986,"comment_id":124912519,"body_markdown":"You could also make the DAOs inherit from a common superclass.","body":"You could also make the DAOs inherit from a common superclass."},{"owner":{"account_id":20833429,"reputation":49,"user_id":15302180,"display_name":"Nooby1"},"score":0,"creation_date":1641860484,"post_id":70659986,"comment_id":124913072,"body_markdown":"My problem conceptualizing how to have a generic insert function with prepared statements for each of the classes.","body":"My problem conceptualizing how to have a generic insert function with prepared statements for each of the classes."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641860669,"post_id":70659986,"comment_id":124913110,"body_markdown":"This question would probably be easier to answer if you include code examples in the question.","body":"This question would probably be easier to answer if you include code examples in the question."},{"owner":{"account_id":20833429,"reputation":49,"user_id":15302180,"display_name":"Nooby1"},"score":0,"creation_date":1641860725,"post_id":70659986,"comment_id":124913124,"body_markdown":"Ok will do now.","body":"Ok will do now."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641862392,"post_id":70659986,"comment_id":124913388,"body_markdown":"sorry, it&#39;s still not clear, because with only one example (which is incomplete and doesn&#39;t compile) we can&#39;t see the redundancy. At first glance, I would say make a `getTableName()` method that is overridden in other DAOs, assuming that everything else is the same. Another possibility is that you could put them all in one table and distinguish the subclasses using a &quot;role&quot; field. Another option is that these different  user  types shouldn&#39;t be subclasses at all, instead having one `User` class with `role` as an `enum`. Can a user ever change roles or have more than one?","body":"sorry, it&#39;s still not clear, because with only one example (which is incomplete and doesn&#39;t compile) we can&#39;t see the redundancy. At first glance, I would say make a <code>getTableName()</code> method that is overridden in other DAOs, assuming that everything else is the same. Another possibility is that you could put them all in one table and distinguish the subclasses using a &quot;role&quot; field. Another option is that these different  user  types shouldn&#39;t be subclasses at all, instead having one <code>User</code> class with <code>role</code> as an <code>enum</code>. Can a user ever change roles or have more than one?"}],"answers":[{"tags":[],"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641871269,"creation_date":1641871269,"answer_id":70661244,"question_id":70659986,"body_markdown":"1) Implement UserDAO class from IUserDAO interface\r\n2) Then override those methods in UserDAO class\r\n3) Then extend the UserDAO class from the subclasses like EmployeeUserDAO ,CustomerUserDAO ,AdminUserDAO\r\n\r\nThen you can use those methods without reimplementing them in subclasses with create objects like follow\r\n\r\n    IUserDAO Employee = new EmployeeUserDAO()\r\n    IUserDAO Customer = new CustomerUserDAO()\r\n    IUserDAO Admin = new AdminUserDAO()","title":"I have Redundant DAO code is there anyway around it?","body":"<ol>\n<li>Implement UserDAO class from IUserDAO interface</li>\n<li>Then override those methods in UserDAO class</li>\n<li>Then extend the UserDAO class from the subclasses like EmployeeUserDAO ,CustomerUserDAO ,AdminUserDAO</li>\n</ol>\n<p>Then you can use those methods without reimplementing them in subclasses with create objects like follow</p>\n<pre><code>IUserDAO Employee = new EmployeeUserDAO()\nIUserDAO Customer = new CustomerUserDAO()\nIUserDAO Admin = new AdminUserDAO()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20833429,"reputation":49,"user_id":15302180,"display_name":"Nooby1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642037999,"creation_date":1642037999,"answer_id":70690444,"question_id":70659986,"body_markdown":"So I realized that a generic DAO was not going to be feasible for the functionality I wanted to add so I created 2 separate interfaces for each of the model classes in my program and implemented them fairly similarly as follows.\r\n\r\n    public interface IUserDAO {\r\n\r\n    boolean insert(User a);\r\n\r\n    boolean update(User a);\r\n\r\n    boolean delete(User a);\r\n\r\n    }\r\n\r\n    \r\n    public interface ICustomerDAO {\r\n\r\n    boolean insert(Customer a);\r\n\r\n    boolean update(Customer a);\r\n\r\n    boolean delete(Customer a);\r\n\r\n    }","title":"I have Redundant DAO code is there anyway around it?","body":"<p>So I realized that a generic DAO was not going to be feasible for the functionality I wanted to add so I created 2 separate interfaces for each of the model classes in my program and implemented them fairly similarly as follows.</p>\n<pre><code>public interface IUserDAO {\n\nboolean insert(User a);\n\nboolean update(User a);\n\nboolean delete(User a);\n\n}\n\n\npublic interface ICustomerDAO {\n\nboolean insert(Customer a);\n\nboolean update(Customer a);\n\nboolean delete(Customer a);\n\n}\n</code></pre>\n"}],"owner":{"account_id":20833429,"reputation":49,"user_id":15302180,"display_name":"Nooby1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1642037999,"creation_date":1641856960,"question_id":70659986,"body_markdown":"I have several classes (Employee,Customer,Admin) which inherit from a User superclass. I am creating a DAO for each of them but the code for insert remove and delete is very redundant, the only thing different about it is the table names. Is there anyway around this? Also, should each class have its own ID field for the database?\r\n\r\nDao interface below and the implementation following, how would I Generalize implementation to take multiple subclasses?\r\n\r\n\r\n    import models.User;\r\n    import java.util.List;\r\n\r\n    public interface IUserDAO {\r\n    \r\n    boolean insertUser(User a);\r\n\r\n    boolean updateUser(User a);\r\n\r\n    boolean deleteUser(User a);\r\n\r\n    boolean verifyUser(User a);\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public boolean insertUser(User t) {\r\n\r\n        boolean updated = false;\r\n\r\n        try {\r\n            Connection myConnect = super.getConnection();\r\n            PreparedStatement ps = myConnect.prepareStatement(\r\n                        &quot;insert into User (UserId, name, userName, password, email) values (?,?,?,?)&quot; );\r\n                ps.setInt(1, t.getUserId());\r\n            ps.setString(2, t.getName());\r\n            ps.setString(3, t.getUserName());\r\n            ps.setString(4, t.getPassword());\r\n            ps.setString(4, t.getEmail());\r\n            updated = true;\r\n\r\n        }catch (SQLException e){\r\n            e.printStackTrace();\r\n            System.out.println(&quot;User insert failed&quot;);\r\n        }\r\n        return updated;\r\n    }\r\n\r\n    @Override\r\n    public boolean updateUser(User a) {\r\n\r\n        boolean updated = false;\r\n\r\n        try{\r\n            Connection myConnect = super.getConnection();\r\n            PreparedStatement ps = myConnect.prepareStatement(&quot;update User set UserId = ?, name = ?,email = ?, userName = ?, password = ?&quot;);\r\n            ps.setInt(1,a.getUserId());\r\n            ps.setString(2, a.getName());\r\n            ps.setString(3, a.getUserName());\r\n            ps.setString(4, a.getPassword());\r\n            ps.setString(5, a.getEmail());\r\n            ps.executeQuery();\r\n            updated = true;\r\n\r\n        }catch(SQLException e){\r\n            e.printStackTrace();\r\n            System.out.println(&quot;User update failed&quot;);\r\n        }\r\n\r\n        return updated;\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean deleteUser(User a) {\r\n        boolean updated = false;\r\n\r\n        try{\r\n            Connection myConnect = super.getConnection();\r\n            PreparedStatement ps = myConnect.prepareStatement(&quot;delete from User where id =?&quot;);\r\n            ps.setInt(1,a.getUserId());\r\n            ps.executeQuery();\r\n            updated = true;\r\n\r\n        }catch(SQLException e){\r\n            e.printStackTrace();\r\n            System.out.println(&quot;User delete failed&quot;);\r\n        }\r\n\r\n        return updated;\r\n    }\r\n","title":"I have Redundant DAO code is there anyway around it?","body":"<p>I have several classes (Employee,Customer,Admin) which inherit from a User superclass. I am creating a DAO for each of them but the code for insert remove and delete is very redundant, the only thing different about it is the table names. Is there anyway around this? Also, should each class have its own ID field for the database?</p>\n<p>Dao interface below and the implementation following, how would I Generalize implementation to take multiple subclasses?</p>\n<pre><code>import models.User;\nimport java.util.List;\n\npublic interface IUserDAO {\n\nboolean insertUser(User a);\n\nboolean updateUser(User a);\n\nboolean deleteUser(User a);\n\nboolean verifyUser(User a);\n\n}\n\n\n\n@Override\npublic boolean insertUser(User t) {\n\n    boolean updated = false;\n\n    try {\n        Connection myConnect = super.getConnection();\n        PreparedStatement ps = myConnect.prepareStatement(\n                    &quot;insert into User (UserId, name, userName, password, email) values (?,?,?,?)&quot; );\n            ps.setInt(1, t.getUserId());\n        ps.setString(2, t.getName());\n        ps.setString(3, t.getUserName());\n        ps.setString(4, t.getPassword());\n        ps.setString(4, t.getEmail());\n        updated = true;\n\n    }catch (SQLException e){\n        e.printStackTrace();\n        System.out.println(&quot;User insert failed&quot;);\n    }\n    return updated;\n}\n\n@Override\npublic boolean updateUser(User a) {\n\n    boolean updated = false;\n\n    try{\n        Connection myConnect = super.getConnection();\n        PreparedStatement ps = myConnect.prepareStatement(&quot;update User set UserId = ?, name = ?,email = ?, userName = ?, password = ?&quot;);\n        ps.setInt(1,a.getUserId());\n        ps.setString(2, a.getName());\n        ps.setString(3, a.getUserName());\n        ps.setString(4, a.getPassword());\n        ps.setString(5, a.getEmail());\n        ps.executeQuery();\n        updated = true;\n\n    }catch(SQLException e){\n        e.printStackTrace();\n        System.out.println(&quot;User update failed&quot;);\n    }\n\n    return updated;\n}\n\n\n@Override\npublic boolean deleteUser(User a) {\n    boolean updated = false;\n\n    try{\n        Connection myConnect = super.getConnection();\n        PreparedStatement ps = myConnect.prepareStatement(&quot;delete from User where id =?&quot;);\n        ps.setInt(1,a.getUserId());\n        ps.executeQuery();\n        updated = true;\n\n    }catch(SQLException e){\n        e.printStackTrace();\n        System.out.println(&quot;User delete failed&quot;);\n    }\n\n    return updated;\n}\n</code></pre>\n"},{"tags":["java","android","onclick","dialog","android-arrayadapter"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1642049060,"post_id":70690402,"comment_id":124970244,"body_markdown":"If this method is in same class you can just call your method with `selectedItem` as argument. i.e whatever you have to do after selection . if not then you can create a [Callback Interface](https://stackoverflow.com/questions/3398363/how-to-define-callbacks-in-android) or you can pass  `AdapterView.OnItemClickListener` as argument to `selectItem()` method .","body":"If this method is in same class you can just call your method with <code>selectedItem</code> as argument. i.e whatever you have to do after selection . if not then you can create a <a href=\"https://stackoverflow.com/questions/3398363/how-to-define-callbacks-in-android\">Callback Interface</a> or you can pass  <code>AdapterView.OnItemClickListener</code> as argument to <code>selectItem()</code> method ."}],"owner":{"account_id":23653020,"reputation":450,"user_id":17681687,"display_name":"JAg&#252;ero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1642037374,"creation_date":1642037374,"question_id":70690402,"body_markdown":"I have an ArrayAdapter inside of a popup dialog like this:\r\n\r\n\r\n    public void selectItem() {\r\n\r\n        AlertDialog dialog;\r\n        AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this);\r\n        View popup = getLayoutInflater().inflate(R.layout.inventory, null);\r\n    \r\n        dialogBuilder.setView(popup);\r\n        dialog = dialogBuilder.create();\r\n        dialog.setCancelable(true);\r\n\r\n        ListView lvInventory = popup.findViewById(R.id.inventory_lv);\r\n    \r\n        ArrayAdapter adapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, game.inventory.getInventory());\r\n        lvInventory.setAdapter(adapter);\r\n        lvInventory.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                selectedItem = game.inventory.getItem(position);\r\n    \r\n            }\r\n        });\r\n            \r\n        dialog.show();\r\n\r\n    }\r\n\r\nI would like to be able to make `selectItem()` of the type `ITEM` (enum) and return the selected item via the function, instead of making a global variable to store it. \r\n\r\n    public ITEM selectItem() {\r\n\r\n        ITEM selectedItem;\r\n\r\n        //create dialog\r\n        //obtain selected item through clicking on ListView popup\r\n\r\n        return selectedItem;\r\n    \r\n    }\r\n\r\nHow can I return this information, if I am obtaining it via onClick() method?\r\nThanks.\r\n","title":"How can I get information from an ArrayAdapter in a Dialog?","body":"<p>I have an ArrayAdapter inside of a popup dialog like this:</p>\n<pre><code>public void selectItem() {\n\n    AlertDialog dialog;\n    AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(this);\n    View popup = getLayoutInflater().inflate(R.layout.inventory, null);\n\n    dialogBuilder.setView(popup);\n    dialog = dialogBuilder.create();\n    dialog.setCancelable(true);\n\n    ListView lvInventory = popup.findViewById(R.id.inventory_lv);\n\n    ArrayAdapter adapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, game.inventory.getInventory());\n    lvInventory.setAdapter(adapter);\n    lvInventory.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            selectedItem = game.inventory.getItem(position);\n\n        }\n    });\n        \n    dialog.show();\n\n}\n</code></pre>\n<p>I would like to be able to make <code>selectItem()</code> of the type <code>ITEM</code> (enum) and return the selected item via the function, instead of making a global variable to store it.</p>\n<pre><code>public ITEM selectItem() {\n\n    ITEM selectedItem;\n\n    //create dialog\n    //obtain selected item through clicking on ListView popup\n\n    return selectedItem;\n\n}\n</code></pre>\n<p>How can I return this information, if I am obtaining it via onClick() method?\nThanks.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8307,"page":1685,"page_size":100}
