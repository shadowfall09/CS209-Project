{"items":[{"tags":["java","sailpoint"],"owner":{"account_id":18429197,"reputation":1,"user_id":13483954,"display_name":"vedant Balachandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690873536,"creation_date":1690873536,"question_id":76809214,"body_markdown":"This is the error I am facing when I am Performing user Provisioning for Active Directory. I have passed in Account Dn, password, First name, and last name. I access Request for an entitlement which belongs ad and the Task results show and throw this exception\r\nAn exception occurred while executing the RPCRequest: Errors returned from \r\nIQService. &quot;Attribute DistinguishedNamedoes does not contain the expected \r\ncharacter.\r\n\r\nI tried returning all values throw a variable. Created a different OU for the same as well and tested for different Identities (Users).","title":"Provisioning in sailpoint iiq","body":"<p>This is the error I am facing when I am Performing user Provisioning for Active Directory. I have passed in Account Dn, password, First name, and last name. I access Request for an entitlement which belongs ad and the Task results show and throw this exception\nAn exception occurred while executing the RPCRequest: Errors returned from\nIQService. &quot;Attribute DistinguishedNamedoes does not contain the expected\ncharacter.</p>\n<p>I tried returning all values throw a variable. Created a different OU for the same as well and tested for different Identities (Users).</p>\n"},{"tags":["java","ruby"],"comments":[{"owner":{"account_id":9930295,"reputation":11613,"user_id":11082165,"display_name":"Brian61354270"},"score":0,"creation_date":1690851105,"post_id":76807862,"comment_id":135407499,"body_markdown":"You forgot to cube and square the relevant numbers. And as you noted, you&#39;re not iterating primes.","body":"You forgot to cube and square the relevant numbers. And as you noted, you&#39;re not iterating primes."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1690860034,"post_id":76807862,"comment_id":135408310,"body_markdown":"I don&#39;t think you understand what the require statement is actually doing in Ruby. Hint: &#39;prime&#39; is a module in the Ruby Standard Library, and it does a lot more than &quot;make all the numbers prime.&quot;","body":"I don&#39;t think you understand what the require statement is actually doing in Ruby. Hint: &#39;prime&#39; is a module in the Ruby Standard Library, and it does a lot more than &quot;make all the numbers prime.&quot;"},{"owner":{"account_id":28131247,"reputation":11,"user_id":22317408,"display_name":"xousious"},"score":0,"creation_date":1690865546,"post_id":76807862,"comment_id":135408807,"body_markdown":"ok but how to implement in java?","body":"ok but how to implement in java?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690872803,"creation_date":1690871223,"answer_id":76808990,"question_id":76807862,"body_markdown":"I believe the error in your code is that you are not using prime values.\r\n\r\nThe _Ruby_ _[Prime](https://ruby-doc.org/stdlib-2.5.1/libdoc/prime/rdoc/Prime.html)_ class is going to be a list of primes.  \r\nYou&#39;re just using a range of values, from _2_ to _2143_.\r\n\r\nYou can mimic the _Prime_ class with a _Java_ class.  \r\nThis will populate a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ with primes, given a supplied _maximum_ value during the object&#39;s instantiation.\r\n\r\n```java\r\nclass Prime {\r\n    List&lt;Integer&gt; list;\r\n\r\n    Prime(int maximum) {\r\n        list = new ArrayList&lt;&gt;();\r\n        boolean prime;\r\n        for (int valueA = 2; valueA &lt;= maximum; valueA++) {\r\n            prime = true;\r\n            for (int valueB = 2; valueB * valueB &lt;= valueA ; valueB++) {\r\n                if (valueA % valueB == 0) {\r\n                    prime = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (prime) list.add(valueA);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage.\r\n\r\n```java\r\nfor (int prime_to_cube : new Prime(2143).list)\r\n```\r\n\r\nAdditionally, you can mimic the _String_ to _Set_ conversion with the following,\r\n\r\n```java\r\n// Check if all digits are unique by converting to a set\r\ns = String.valueOf(combined_val);\r\nif (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10)\r\n```\r\n\r\nHere is a full re-factor, from the _Ruby_ code.\r\n\r\nFor the _prime_to_square_ loop, I had to use a _Prime_ list with a _maximum_ of _100,000_ to get the required results.\r\n\r\n```java\r\nint f() {\r\n    // Determine the max &amp; min numbers that can be made with 10 distinct digits and no leading zeroes\r\n    long max_num = 9_876_543_210L;\r\n    long min_num = 1_023_456_789;\r\n\r\n    // Find the largest prime having a cube &lt;= max_num\r\n    long max_prime_to_cube = 2143;\r\n\r\n    int count = 0;\r\n\r\n    // Cube every prime up to 2143\r\n    long cubed_val, squared_val, combined_val;\r\n    String s;\r\n    for (long prime_to_cube : new Prime(2143).list) {\r\n        if (prime_to_cube &gt; max_prime_to_cube) return count;\r\n        cubed_val = prime_to_cube * prime_to_cube * prime_to_cube;\r\n\r\n        // Try adding the square of every prime until we exceed the maximum valid number\r\n        for(long prime_to_square : new Prime(100_000).list) {\r\n            squared_val = prime_to_square * prime_to_square;\r\n            combined_val = squared_val + cubed_val;\r\n            if (combined_val &lt; min_num) continue;\r\n            if (combined_val &gt; max_num) break;\r\n\r\n            // Check if all digits are unique by converting to a set\r\n            s = String.valueOf(combined_val);\r\n            if (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10) {\r\n                count += 1;\r\n                System.out.printf(\r\n                    &quot;val: %s = %d^2 + %d^3, count:%d%n&quot;,\r\n                    s, prime_to_square, prime_to_cube, count);\r\n            }\r\n        }\r\n    }\r\n    return count;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nval: 1328675409 = 36451^2 + 2^3, count:1\r\nval: 1478325609 = 38449^2 + 2^3, count:2\r\nval: 3085469217 = 55547^2 + 2^3, count:3\r\nval: 3507126849 = 59221^2 + 2^3, count:4\r\n...\r\nval: 9682357410 = 5689^2 + 2129^3, count:1267\r\nval: 9837162450 = 13681^2 + 2129^3, count:1268\r\nval: 9814362750 = 523^2 + 2141^3, count:1269\r\nval: 9815674302 = 1259^2 + 2141^3, count:1270\r\n1270\r\n```","title":"prime numbers in java vs ruby","body":"<p>I believe the error in your code is that you are not using prime values.</p>\n<p>The <em>Ruby</em> <em><a href=\"https://ruby-doc.org/stdlib-2.5.1/libdoc/prime/rdoc/Prime.html\" rel=\"nofollow noreferrer\">Prime</a></em> class is going to be a list of primes.<br />\nYou're just using a range of values, from <em>2</em> to <em>2143</em>.</p>\n<p>You can mimic the <em>Prime</em> class with a <em>Java</em> class.<br />\nThis will populate a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> with primes, given a supplied <em>maximum</em> value during the object's instantiation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Prime {\n    List&lt;Integer&gt; list;\n\n    Prime(int maximum) {\n        list = new ArrayList&lt;&gt;();\n        boolean prime;\n        for (int valueA = 2; valueA &lt;= maximum; valueA++) {\n            prime = true;\n            for (int valueB = 2; valueB * valueB &lt;= valueA ; valueB++) {\n                if (valueA % valueB == 0) {\n                    prime = false;\n                    break;\n                }\n            }\n            if (prime) list.add(valueA);\n        }\n    }\n}\n</code></pre>\n<p>Here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int prime_to_cube : new Prime(2143).list)\n</code></pre>\n<p>Additionally, you can mimic the <em>String</em> to <em>Set</em> conversion with the following,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Check if all digits are unique by converting to a set\ns = String.valueOf(combined_val);\nif (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10)\n</code></pre>\n<p>Here is a full re-factor, from the <em>Ruby</em> code.</p>\n<p>For the <em>prime_to_square</em> loop, I had to use a <em>Prime</em> list with a <em>maximum</em> of <em>100,000</em> to get the required results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int f() {\n    // Determine the max &amp; min numbers that can be made with 10 distinct digits and no leading zeroes\n    long max_num = 9_876_543_210L;\n    long min_num = 1_023_456_789;\n\n    // Find the largest prime having a cube &lt;= max_num\n    long max_prime_to_cube = 2143;\n\n    int count = 0;\n\n    // Cube every prime up to 2143\n    long cubed_val, squared_val, combined_val;\n    String s;\n    for (long prime_to_cube : new Prime(2143).list) {\n        if (prime_to_cube &gt; max_prime_to_cube) return count;\n        cubed_val = prime_to_cube * prime_to_cube * prime_to_cube;\n\n        // Try adding the square of every prime until we exceed the maximum valid number\n        for(long prime_to_square : new Prime(100_000).list) {\n            squared_val = prime_to_square * prime_to_square;\n            combined_val = squared_val + cubed_val;\n            if (combined_val &lt; min_num) continue;\n            if (combined_val &gt; max_num) break;\n\n            // Check if all digits are unique by converting to a set\n            s = String.valueOf(combined_val);\n            if (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10) {\n                count += 1;\n                System.out.printf(\n                    &quot;val: %s = %d^2 + %d^3, count:%d%n&quot;,\n                    s, prime_to_square, prime_to_cube, count);\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>val: 1328675409 = 36451^2 + 2^3, count:1\nval: 1478325609 = 38449^2 + 2^3, count:2\nval: 3085469217 = 55547^2 + 2^3, count:3\nval: 3507126849 = 59221^2 + 2^3, count:4\n...\nval: 9682357410 = 5689^2 + 2129^3, count:1267\nval: 9837162450 = 13681^2 + 2129^3, count:1268\nval: 9814362750 = 523^2 + 2141^3, count:1269\nval: 9815674302 = 1259^2 + 2141^3, count:1270\n1270\n</code></pre>\n"}],"owner":{"account_id":28131247,"reputation":11,"user_id":22317408,"display_name":"xousious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690901271,"answer_count":1,"score":0,"last_activity_date":1690872803,"creation_date":1690850431,"question_id":76807862,"body_markdown":"I tried to convert the Ruby code into Java code from this answer:\r\n\r\n[text](https://stackoverflow.com/questions/76801481/determine-the-number-of-ordered-pairs-of-prime-numbers-p-q-such-that-n-p2)\r\n\r\nMy code is below. As you can see since there is no prime in java (the line `require prime` in Ruby makes all the numbers prime), my program simply returns all numbers. I don&#39;t know how to do this in Java. Help is appreciated.\r\n\r\n\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class sus {\r\n    public static void main(String[] args) {\r\n        long maxNum = 9876543210L;\r\n        int minNum = 1023456789;\r\n        int maxPrimeToCube = 2143;\r\n        int count = 0;\r\n\r\n        for (int primeToCube = 2; primeToCube &lt;= maxPrimeToCube; primeToCube++) {\r\n            int cubedVal = primeToCube * primeToCube * primeToCube;\r\n\r\n            for (int primeToSquare = 2; primeToSquare &lt;= maxPrimeToCube; primeToSquare++) {\r\n                int squaredVal = primeToSquare * primeToSquare;\r\n                int combinedVal = squaredVal + cubedVal;\r\n\r\n                if (combinedVal &lt; minNum) {\r\n                    continue;\r\n                }\r\n\r\n                if (combinedVal &gt; maxNum) {\r\n                    break;\r\n                }\r\n\r\n                String s = String.valueOf(combinedVal);\r\n                Set&lt;Character&gt; uniqueDigits = new HashSet&lt;&gt;();\r\n                for (char digit : s.toCharArray()) {\r\n                    uniqueDigits.add(digit);\r\n                }\r\n\r\n                if (uniqueDigits.size() == 10) {\r\n                    count++;\r\n                    System.out.println(&quot;val: &quot; + s + &quot; = &quot; + primeToSquare + &quot;^2 + &quot; + primeToCube + &quot;^3, count: &quot; + count);\r\n                }\r\n            }\r\n        }\r\n        System.out.println(count);\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\n_________________________________________________________-","title":"prime numbers in java vs ruby","body":"<p>I tried to convert the Ruby code into Java code from this answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/76801481/determine-the-number-of-ordered-pairs-of-prime-numbers-p-q-such-that-n-p2\">text</a></p>\n<p>My code is below. As you can see since there is no prime in java (the line <code>require prime</code> in Ruby makes all the numbers prime), my program simply returns all numbers. I don't know how to do this in Java. Help is appreciated.</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\npublic class sus {\n    public static void main(String[] args) {\n        long maxNum = 9876543210L;\n        int minNum = 1023456789;\n        int maxPrimeToCube = 2143;\n        int count = 0;\n\n        for (int primeToCube = 2; primeToCube &lt;= maxPrimeToCube; primeToCube++) {\n            int cubedVal = primeToCube * primeToCube * primeToCube;\n\n            for (int primeToSquare = 2; primeToSquare &lt;= maxPrimeToCube; primeToSquare++) {\n                int squaredVal = primeToSquare * primeToSquare;\n                int combinedVal = squaredVal + cubedVal;\n\n                if (combinedVal &lt; minNum) {\n                    continue;\n                }\n\n                if (combinedVal &gt; maxNum) {\n                    break;\n                }\n\n                String s = String.valueOf(combinedVal);\n                Set&lt;Character&gt; uniqueDigits = new HashSet&lt;&gt;();\n                for (char digit : s.toCharArray()) {\n                    uniqueDigits.add(digit);\n                }\n\n                if (uniqueDigits.size() == 10) {\n                    count++;\n                    System.out.println(&quot;val: &quot; + s + &quot; = &quot; + primeToSquare + &quot;^2 + &quot; + primeToCube + &quot;^3, count: &quot; + count);\n                }\n            }\n        }\n        System.out.println(count);\n        \n    }\n}\n</code></pre>\n<p>_________________________________________________________-</p>\n"},{"tags":["java","visual-studio-code","package"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1690790930,"post_id":76801716,"comment_id":135396815,"body_markdown":"Please add code always as text not as image","body":"Please add code always as text not as image"},{"owner":{"account_id":27210786,"reputation":1,"user_id":20741647,"display_name":"Rukiye Arıcan"},"score":0,"creation_date":1690791928,"post_id":76801716,"comment_id":135396991,"body_markdown":"i was not trying to show the code, so i didnt","body":"i was not trying to show the code, so i didnt"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690790826,"creation_date":1690790826,"answer_id":76801743,"question_id":76801716,"body_markdown":"Your class is located in the package (folder) `week3.lesson`.\r\n\r\nSo you have to add the package declaration:\r\n\r\n    package week3.lesson\r\n\r\nto the class.\r\n\r\nBTW: Take care of java naming conventions. Class names should start with upper case character and be camelCase not snake_case.\r\nIn your case your class should be named:`DrawCards`\r\n","title":"JAVA - The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<p>Your class is located in the package (folder) <code>week3.lesson</code>.</p>\n<p>So you have to add the package declaration:</p>\n<pre><code>package week3.lesson\n</code></pre>\n<p>to the class.</p>\n<p>BTW: Take care of java naming conventions. Class names should start with upper case character and be camelCase not snake_case.\nIn your case your class should be named:<code>DrawCards</code></p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690872399,"creation_date":1690872399,"answer_id":76809109,"question_id":76801716,"body_markdown":" - Hover the mouse over the red wavy line to view error messages.\r\n\r\n - &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; --&gt; `Java: Clean Java Language Server Workspace` and restart vscode.\r\n\r\n*If you can run the code normally, you can ignore the warning.*","title":"JAVA - The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<ul>\n<li><p>Hover the mouse over the red wavy line to view error messages.</p>\n</li>\n<li><p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> --&gt; <code>Java: Clean Java Language Server Workspace</code> and restart vscode.</p>\n</li>\n</ul>\n<p><em>If you can run the code normally, you can ignore the warning.</em></p>\n"}],"owner":{"account_id":27210786,"reputation":1,"user_id":20741647,"display_name":"Rukiye Arıcan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690872399,"creation_date":1690790474,"question_id":76801716,"body_markdown":"I know this question asked a lot and i read most answer but non of them solved my problem. \r\n\r\nI&#39;m kinda new at java but i&#39;m using vscode over than a year. I never come across this kinda problem on other languages, libraries, frameworks. \r\n\r\nWhen i open vscode, a couple seconds later, all my java source code files turns red and the error is \r\n\r\n`The declared package &lt;package name&gt; does not match the expected package &quot;&quot;`\r\n\r\nbut jokes on me **i dont have any packages on those files**. when i open the source code files, some of them stays same, others turn normal? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI saw the extensions can cause this problem, like Java Language Support - by George Fraser\r\nVS Marketplace Link: https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac\r\n\r\nI uninstall that, only microsoft&#39;s and red hat&#39;s extensions left. I have reloaded window a couple hundred times, close folder ets. I have no idea what is going on, please help. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNwyf.png","title":"JAVA - The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<p>I know this question asked a lot and i read most answer but non of them solved my problem.</p>\n<p>I'm kinda new at java but i'm using vscode over than a year. I never come across this kinda problem on other languages, libraries, frameworks.</p>\n<p>When i open vscode, a couple seconds later, all my java source code files turns red and the error is</p>\n<p><code>The declared package &lt;package name&gt; does not match the expected package &quot;&quot;</code></p>\n<p>but jokes on me <strong>i dont have any packages on those files</strong>. when i open the source code files, some of them stays same, others turn normal?</p>\n<p><a href=\"https://i.stack.imgur.com/rNwyf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNwyf.png\" alt=\"enter image description here\" /></a></p>\n<p>I saw the extensions can cause this problem, like Java Language Support - by George Fraser\nVS Marketplace Link: <a href=\"https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac</a></p>\n<p>I uninstall that, only microsoft's and red hat's extensions left. I have reloaded window a couple hundred times, close folder ets. I have no idea what is going on, please help.</p>\n"},{"tags":["java","neo4j","cypher","jqassistant"],"comments":[{"owner":{"account_id":9963444,"reputation":12317,"user_id":7371893,"display_name":"jose_bacoy"},"score":0,"creation_date":1689684226,"post_id":76709965,"comment_id":135245975,"body_markdown":"please show us your query. thanks.","body":"please show us your query. thanks."},{"owner":{"account_id":3439876,"reputation":1304,"user_id":2882083,"accept_rate":90,"display_name":"Venkat"},"score":0,"creation_date":1689745098,"post_id":76709965,"comment_id":135254822,"body_markdown":"Have added the query which is failing but I do not have control on the query generated as its generated by the jqassistant-maven-plugin.","body":"Have added the query which is failing but I do not have control on the query generated as its generated by the jqassistant-maven-plugin."},{"owner":{"account_id":3479819,"reputation":1186,"user_id":2912200,"display_name":"Dirk Mahler"},"score":0,"creation_date":1689868328,"post_id":76709965,"comment_id":135277468,"body_markdown":"This query doesn&#39;t cause the issue: it doesn&#39;t contain a shortestPath function which is mentioned in the error message. Did you try to use the latest 1.x jQAssistant release, i.e. 1.12.2?","body":"This query doesn&#39;t cause the issue: it doesn&#39;t contain a shortestPath function which is mentioned in the error message. Did you try to use the latest 1.x jQAssistant release, i.e. 1.12.2?"},{"owner":{"account_id":3439876,"reputation":1304,"user_id":2882083,"accept_rate":90,"display_name":"Venkat"},"score":0,"creation_date":1690177551,"post_id":76709965,"comment_id":135311385,"body_markdown":"No not yet. Let me try that out thank you","body":"No not yet. Let me try that out thank you"}],"answers":[{"tags":[],"owner":{"account_id":3439876,"reputation":1304,"user_id":2882083,"accept_rate":90,"display_name":"Venkat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690872391,"creation_date":1690872391,"answer_id":76809108,"question_id":76709965,"body_markdown":"Thanks to @dirk-mahler. I was able to scan multiple projects with the latest version command line jqassistant 1.12.2. I was using an older version of the jqassistant maven plugin 1.10.1 and it was failing with some weird errors.","title":"jQassistant assessment failing with multiple projects","body":"<p>Thanks to @dirk-mahler. I was able to scan multiple projects with the latest version command line jqassistant 1.12.2. I was using an older version of the jqassistant maven plugin 1.10.1 and it was failing with some weird errors.</p>\n"}],"owner":{"account_id":3439876,"reputation":1304,"user_id":2882083,"accept_rate":90,"display_name":"Venkat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76809108,"answer_count":1,"score":0,"last_activity_date":1690872391,"creation_date":1689660942,"question_id":76709965,"body_markdown":"I&#39;m using jqassistant-maven-plugin version 1.10.1 with common Neo4j database and am trying to collate scanning from multiple Spring boot based java applications. I&#39;ve disabled reset database so that I can collate scan information from multiple projects and identify API clients invoking API services from within other apps and see if there is any cyclic dependencies. When I do so the first maven build is working fine. But when I run the second application scan, it fails with the below error:\r\n\r\n&gt;org.neo4j.driver.exceptions.DatabaseException: The shortest path algorithm does not work when the start and end nodes are the same. This can happen if you\r\nperform a shortestPath search after a cartesian product that might have the same start and end nodes for some\r\nof the rows passed to shortestPath. If you would rather not experience this exception, and can accept the\r\npossibility of missing results for those rows, disable this in the Neo4j configuration by setting\r\n`cypher.forbid_shortestpath_common_nodes` to false. If you cannot accept missing results, and really want the\r\nshortestPath between two common nodes, then re-write the query using a standard Cypher variable length pattern\r\nexpression followed by ordering by path length and limiting to one result.\r\n\r\nThe package names of the class are different and there may be couple of classes that might be named similar but the fully qualified names should not create a name collision. Not sure what&#39;s causing this and how to resolve this. Any help would be appreciated.\r\n\r\n**EDIT** The query that&#39;s failing is given below:\r\n\r\n    UNWIND $batch as entry \r\n    CREATE (n:File:Directory:Package:Java) \r\n    SET n=entry[&#39;n&#39;]   \r\n    RETURN collect({oldId:entry[&#39;id&#39;], newId:id(n)}) as nodes&#39;, {batch=[{n={name=controller, file\r\n    Name=/com/mycompany/client/controller, fqn=com.mycompany.client.controller}, id=-9}]}\r\n\r\nUnfortunately I don&#39;t have control on the query generated as its auto generated by the jqassistant-maven-plugin.","title":"jQassistant assessment failing with multiple projects","body":"<p>I'm using jqassistant-maven-plugin version 1.10.1 with common Neo4j database and am trying to collate scanning from multiple Spring boot based java applications. I've disabled reset database so that I can collate scan information from multiple projects and identify API clients invoking API services from within other apps and see if there is any cyclic dependencies. When I do so the first maven build is working fine. But when I run the second application scan, it fails with the below error:</p>\n<blockquote>\n<p>org.neo4j.driver.exceptions.DatabaseException: The shortest path algorithm does not work when the start and end nodes are the same. This can happen if you\nperform a shortestPath search after a cartesian product that might have the same start and end nodes for some\nof the rows passed to shortestPath. If you would rather not experience this exception, and can accept the\npossibility of missing results for those rows, disable this in the Neo4j configuration by setting\n<code>cypher.forbid_shortestpath_common_nodes</code> to false. If you cannot accept missing results, and really want the\nshortestPath between two common nodes, then re-write the query using a standard Cypher variable length pattern\nexpression followed by ordering by path length and limiting to one result.</p>\n</blockquote>\n<p>The package names of the class are different and there may be couple of classes that might be named similar but the fully qualified names should not create a name collision. Not sure what's causing this and how to resolve this. Any help would be appreciated.</p>\n<p><strong>EDIT</strong> The query that's failing is given below:</p>\n<pre><code>UNWIND $batch as entry \nCREATE (n:File:Directory:Package:Java) \nSET n=entry['n']   \nRETURN collect({oldId:entry['id'], newId:id(n)}) as nodes', {batch=[{n={name=controller, file\nName=/com/mycompany/client/controller, fqn=com.mycompany.client.controller}, id=-9}]}\n</code></pre>\n<p>Unfortunately I don't have control on the query generated as its auto generated by the jqassistant-maven-plugin.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1529569,"reputation":32709,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"score":4,"creation_date":1345386792,"post_id":12027141,"comment_id":16051491,"body_markdown":"Just a heads-up—I don&#39;t think that error you&#39;re getting at the bottom has anything to do with your array creation syntax. Do you have a variable named `factors` declared but not initialized?","body":"Just a heads-up—I don&#39;t think that error you&#39;re getting at the bottom has anything to do with your array creation syntax. Do you have a variable named <code>factors</code> declared but not initialized?"}],"answers":[{"tags":[],"owner":{"account_id":439593,"reputation":15022,"user_id":828625,"accept_rate":88,"display_name":"Kazekage Gaara"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1345386060,"creation_date":1345385588,"answer_id":12027151,"question_id":12027141,"body_markdown":"You can use an [`ArrayList`][1] for this purpose.\r\n\r\n    ArrayList&lt;Num&gt; myListOfNum = new ArrayList&lt;Num&gt;();\r\n\r\nand then keep adding the objects of `Num` as and when required.\r\n\r\n    Num num1 = new Num();\r\n    myListOfNum.add(num1);\r\n    Num num2 = new Num();\r\n    myListOfNum.add(num2);\r\n\r\nEDIT:\r\n\r\nAnd to access you can use the `get()` method along with the specific index.\r\n\r\n    Num tempNum = myListOfNum.get(indexGoesHere);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html","title":"create an array of class instances in java","body":"<p>You can use an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow\"><code>ArrayList</code></a> for this purpose.</p>\n\n<pre><code>ArrayList&lt;Num&gt; myListOfNum = new ArrayList&lt;Num&gt;();\n</code></pre>\n\n<p>and then keep adding the objects of <code>Num</code> as and when required.</p>\n\n<pre><code>Num num1 = new Num();\nmyListOfNum.add(num1);\nNum num2 = new Num();\nmyListOfNum.add(num2);\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>And to access you can use the <code>get()</code> method along with the specific index.</p>\n\n<pre><code>Num tempNum = myListOfNum.get(indexGoesHere);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345385811,"creation_date":1345385706,"answer_id":12027171,"question_id":12027141,"body_markdown":"You need to first create the array itself, before you are trying to set the elements in it.\r\n\r\n     Num[] n = new Num[SIZE];\r\n\r\nNote that `Num n[];` is just declaring a variable of type `Num[]` with the identifier `n`.\r\n\r\nNote however, that in java - arrays are of fixed lengths. If you are looking for a variable length array, an array is probably not what you need. @KazekageGaara suggested an alternative - for this purpose.","title":"create an array of class instances in java","body":"<p>You need to first create the array itself, before you are trying to set the elements in it.</p>\n\n<pre><code> Num[] n = new Num[SIZE];\n</code></pre>\n\n<p>Note that <code>Num n[];</code> is just declaring a variable of type <code>Num[]</code> with the identifier <code>n</code>.</p>\n\n<p>Note however, that in java - arrays are of fixed lengths. If you are looking for a variable length array, an array is probably not what you need. @KazekageGaara suggested an alternative - for this purpose.</p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345386542,"creation_date":1345386542,"answer_id":12027276,"question_id":12027141,"body_markdown":"Use the Java Collection\r\n\r\n`List` will be good if **sequence** is more important.\r\n\r\n`Set` if **uniqueness** is important\r\n\r\n`Map` when **key-value pair** is important\r\n\r\n    List&lt;MyClass&gt; arrList = new ArrayList&lt;MyClass&gt;();\r\n    \r\n    arrList.add(mobj1);\r\n    arrList.add(mobj2);\r\n    arrList.add(mobj3);\r\n    \r\n    for(MyClass m : arrList){\r\n    \r\n          // m is the Values of arrList stored in\r\n    \r\n     }","title":"create an array of class instances in java","body":"<p>Use the Java Collection</p>\n\n<p><code>List</code> will be good if <strong>sequence</strong> is more important.</p>\n\n<p><code>Set</code> if <strong>uniqueness</strong> is important</p>\n\n<p><code>Map</code> when <strong>key-value pair</strong> is important</p>\n\n<pre><code>List&lt;MyClass&gt; arrList = new ArrayList&lt;MyClass&gt;();\n\narrList.add(mobj1);\narrList.add(mobj2);\narrList.add(mobj3);\n\nfor(MyClass m : arrList){\n\n      // m is the Values of arrList stored in\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10388358,"reputation":1,"user_id":7660549,"display_name":"Heshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690871965,"creation_date":1690871965,"answer_id":76809053,"question_id":12027141,"body_markdown":"The simple way to do this is by using ArrayList\r\n\r\n    ArrayList&lt;Num&gt; numList = new ArrayList&lt;&gt;();\r\n        // Add elements to the ArrayList\r\n        numList.add(new Num());\r\n        numList.add(new Num());\r\n\r\n","title":"create an array of class instances in java","body":"<p>The simple way to do this is by using ArrayList</p>\n<pre><code>ArrayList&lt;Num&gt; numList = new ArrayList&lt;&gt;();\n    // Add elements to the ArrayList\n    numList.add(new Num());\n    numList.add(new Num());\n</code></pre>\n"}],"owner":{"account_id":1748480,"reputation":25,"user_id":1598136,"display_name":"sebastian-thomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7595,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1690871965,"creation_date":1345385475,"question_id":12027141,"body_markdown":"I am pretty new to java.\r\n\r\nI want to have an array of a class whose length may vary during run time\r\n \r\ncode:\r\n\r\n    class Num\r\n    {\r\n      ......\r\n      ......\r\n    }\r\n    \r\nif Num is my class , how will i create new instances. My current code is pretty similar to:\r\n    \r\n    Num n[ ];\r\n    int length=0;\r\n    .\r\n    .\r\n    .\r\n    n[length++]=new Num();  \r\n\r\nfrom this code I&#39;m getting error :\r\n\r\n    &quot;Uncompilable source code - variable factors might not have been initialized&quot;","title":"create an array of class instances in java","body":"<p>I am pretty new to java.</p>\n\n<p>I want to have an array of a class whose length may vary during run time</p>\n\n<p>code:</p>\n\n<pre><code>class Num\n{\n  ......\n  ......\n}\n</code></pre>\n\n<p>if Num is my class , how will i create new instances. My current code is pretty similar to:</p>\n\n<pre><code>Num n[ ];\nint length=0;\n.\n.\n.\nn[length++]=new Num();  \n</code></pre>\n\n<p>from this code I'm getting error :</p>\n\n<pre><code>\"Uncompilable source code - variable factors might not have been initialized\"\n</code></pre>\n"},{"tags":["java","java-8","lombok","builder"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690863604,"post_id":76808461,"comment_id":135408621,"body_markdown":"Can you show what kind usage are you looking for? *How* do you want the &quot;merged&quot; builder to be used?","body":"Can you show what kind usage are you looking for? <i>How</i> do you want the &quot;merged&quot; builder to be used?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690865853,"post_id":76808461,"comment_id":135408839,"body_markdown":"How does a Lombok generated builder end up with a method name of `simplecustomer` there?","body":"How does a Lombok generated builder end up with a method name of <code>simplecustomer</code> there?"}],"answers":[{"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690864359,"creation_date":1690864359,"answer_id":76808514,"question_id":76808461,"body_markdown":"You can create a custom builder for the **CustomerRequest** class. Then you can directly build the **Customer** object inside the **CustomerRequest** builder, and there&#39;s no need to create a separate list and then pass it to the **CustomerRequest** builder.\r\n\r\n    @Data\r\n    @Builder\r\n    public class CustomerRequest {\r\n        private String cutspec;\r\n        private List&lt;Customer&gt; listOfcustomer;\r\n    \r\n        public static class CustomerRequestBuilder {\r\n            private List&lt;Customer&gt; listOfcustomer = new ArrayList&lt;&gt;();\r\n    \r\n            public CustomerRequestBuilder customer(Customer customer) {\r\n                this.listOfcustomer.add(customer);\r\n                return this;\r\n            }\r\n        }\r\n    }\r\n\r\nAfter that,you can directly create a **CustomerRequest** object with its associated **Customer** objects using the custom builder:\r\n\r\n    Customer customer = Customer.builder()\r\n            .conditionType(&quot;valueCondition&quot;)\r\n            .key(&quot;customerNo&quot;)\r\n            .operator(&quot;=&quot;)\r\n            .value(customerId)\r\n            .build();\r\n    return CustomerRequest.builder()\r\n            .cutspec(&quot;someCutSpec&quot;)\r\n            .customer(customer) \r\n            .build();\r\n\r\n","title":"Create List using Builder Pattern in Java","body":"<p>You can create a custom builder for the <strong>CustomerRequest</strong> class. Then you can directly build the <strong>Customer</strong> object inside the <strong>CustomerRequest</strong> builder, and there's no need to create a separate list and then pass it to the <strong>CustomerRequest</strong> builder.</p>\n<pre><code>@Data\n@Builder\npublic class CustomerRequest {\n    private String cutspec;\n    private List&lt;Customer&gt; listOfcustomer;\n\n    public static class CustomerRequestBuilder {\n        private List&lt;Customer&gt; listOfcustomer = new ArrayList&lt;&gt;();\n\n        public CustomerRequestBuilder customer(Customer customer) {\n            this.listOfcustomer.add(customer);\n            return this;\n        }\n    }\n}\n</code></pre>\n<p>After that,you can directly create a <strong>CustomerRequest</strong> object with its associated <strong>Customer</strong> objects using the custom builder:</p>\n<pre><code>Customer customer = Customer.builder()\n        .conditionType(&quot;valueCondition&quot;)\n        .key(&quot;customerNo&quot;)\n        .operator(&quot;=&quot;)\n        .value(customerId)\n        .build();\nreturn CustomerRequest.builder()\n        .cutspec(&quot;someCutSpec&quot;)\n        .customer(customer) \n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690867989,"creation_date":1690867989,"answer_id":76808758,"question_id":76808461,"body_markdown":"Using Java 9&#39;s List.of()-Method you can do:\r\n\r\n    return CustomerRequest.builder()\r\n        .name(&quot;John&quot;)\r\n        .simplecustomer(List.of(\r\n            Customer.builder().conditionType(&quot;valueCondition&quot;).key(&quot;customerNo&quot;)\r\n                .operator(&quot;=&quot;).value(customerId).build()\r\n        ))\r\n        .build();\r\n\r\nJust be aware that the resulting List is immutable.","title":"Create List using Builder Pattern in Java","body":"<p>Using Java 9's List.of()-Method you can do:</p>\n<pre><code>return CustomerRequest.builder()\n    .name(&quot;John&quot;)\n    .simplecustomer(List.of(\n        Customer.builder().conditionType(&quot;valueCondition&quot;).key(&quot;customerNo&quot;)\n            .operator(&quot;=&quot;).value(customerId).build()\n    ))\n    .build();\n</code></pre>\n<p>Just be aware that the resulting List is immutable.</p>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76808758,"answer_count":2,"score":1,"last_activity_date":1690871512,"creation_date":1690863524,"question_id":76808461,"body_markdown":"I am having a class that takes a string and a List object . I am able to create a List object separately using builder and pass it to another builder to create an object . But it does not looks like a nice way . Is their any way to merge these 2 builders in one builder. \r\n\r\n    @Data\r\n    @Builder\r\n    public class CustomerRequest{\r\n    private String cutspec;\r\n    private List&lt;Customer&gt; listOfcustomer;\r\n    }\r\n\r\nCurrent Implementation\r\n\r\n    Customer customer = Customer.builder().conditionType(&quot;valueCondition&quot;).key(&quot;customerNo&quot;)\r\n\t\t\t\t.operator(&quot;=&quot;).value(customerId).build();\r\n\t\t\r\n\t\tList&lt;Customer&gt; listOfcustomer = new ArrayList&lt;&gt;();\r\n\t\tlistOfcustomer.add(customer);\r\n\r\n\t\treturn CustomerRequest.builder().name(&quot;John&quot;).simplecustomer(listOfcustomer).build();","title":"Create List using Builder Pattern in Java","body":"<p>I am having a class that takes a string and a List object . I am able to create a List object separately using builder and pass it to another builder to create an object . But it does not looks like a nice way . Is their any way to merge these 2 builders in one builder.</p>\n<pre><code>@Data\n@Builder\npublic class CustomerRequest{\nprivate String cutspec;\nprivate List&lt;Customer&gt; listOfcustomer;\n}\n</code></pre>\n<p>Current Implementation</p>\n<pre><code>Customer customer = Customer.builder().conditionType(&quot;valueCondition&quot;).key(&quot;customerNo&quot;)\n            .operator(&quot;=&quot;).value(customerId).build();\n    \n    List&lt;Customer&gt; listOfcustomer = new ArrayList&lt;&gt;();\n    listOfcustomer.add(customer);\n\n    return CustomerRequest.builder().name(&quot;John&quot;).simplecustomer(listOfcustomer).build();\n</code></pre>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1633759932,"post_id":59185158,"comment_id":122850816,"body_markdown":"For your reference https://www.knowledgefactory.net/2021/09/quarkus-how-to-send-email-via-smtp.html","body":"For your reference <a href=\"https://www.knowledgefactory.net/2021/09/quarkus-how-to-send-email-via-smtp.html\" rel=\"nofollow noreferrer\">knowledgefactory.net/2021/09/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":645,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1575890977,"creation_date":1575890977,"answer_id":59247940,"question_id":59185158,"body_markdown":"Did you read this ? \r\n\r\nquarkus.mailer.mock\r\n\r\nEnables the mock mode, not sending emails. The content of the emails is printed on the console. Disabled by default on PROD, enabled by default on DEV and TEST modes.\r\n\r\nHave you tested this by running your app as a standalone jar ? ","title":"Quarkus - no error but no email (with gmail)","body":"<p>Did you read this ? </p>\n\n<p>quarkus.mailer.mock</p>\n\n<p>Enables the mock mode, not sending emails. The content of the emails is printed on the console. Disabled by default on PROD, enabled by default on DEV and TEST modes.</p>\n\n<p>Have you tested this by running your app as a standalone jar ? </p>\n"},{"tags":[],"owner":{"account_id":17607065,"reputation":11,"user_id":12775921,"display_name":"Giba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690871253,"creation_date":1690483606,"answer_id":76782634,"question_id":59185158,"body_markdown":"in .properties, use the parameter\r\n\r\n    quarkus.mailer.mock=false","title":"Quarkus - no error but no email (with gmail)","body":"<p>in .properties, use the parameter</p>\n<pre><code>quarkus.mailer.mock=false\n</code></pre>\n"}],"owner":{"account_id":17239867,"reputation":90,"user_id":12482426,"display_name":"Jean-Phi Baconnais"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2267,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59247940,"answer_count":2,"score":4,"last_activity_date":1690871253,"creation_date":1575496381,"question_id":59185158,"body_markdown":"i&#39;m trying to send email with quarkus with this guide  https://quarkus.io/guides/mailer#gmail-specific-configuration.\r\n\r\nI use this code :\r\n```\r\n@Inject\r\nMailer mailer;\r\n\r\n@GET\r\npublic Response sendMailTest() {\r\n   mailer.send(Mail.withHtml(&quot;&lt;mail gmail&gt;&quot;, &quot;A simple email from quarkus&quot;, &quot;&lt;p&gt;This is my body.&lt;p&gt;&quot;));\r\n   return Response.accepted().build();\r\n}\r\n\r\n```\r\n\r\nwith this parameters :\r\n\r\n```\r\nquarkus.mailer.auth-methods=DIGEST-MD5 CRAM-SHA256 CRAM-SHA1 CRAM-MD5 PLAIN LOGIN\r\nquarkus.mailer.from=&lt;mail gmail&gt;\r\nquarkus.mailer.host=smtp.gmail.com\r\nquarkus.mailer.port=465\r\nquarkus.mailer.ssl=true\r\nquarkus.mailer.username=&lt;mail gmail&gt;\r\nquarkus.mailer.password=&lt;app gmail password&gt;\r\n```\r\n\r\nI haven&#39;t some error but i haven&#39;t some mail. The app password gmail has configured for this usecase ...\r\n\r\nAnybody has any idea ? \r\n\r\nThanks !\r\n","title":"Quarkus - no error but no email (with gmail)","body":"<p>i'm trying to send email with quarkus with this guide  <a href=\"https://quarkus.io/guides/mailer#gmail-specific-configuration\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/mailer#gmail-specific-configuration</a>.</p>\n\n<p>I use this code :</p>\n\n<pre><code>@Inject\nMailer mailer;\n\n@GET\npublic Response sendMailTest() {\n   mailer.send(Mail.withHtml(\"&lt;mail gmail&gt;\", \"A simple email from quarkus\", \"&lt;p&gt;This is my body.&lt;p&gt;\"));\n   return Response.accepted().build();\n}\n\n</code></pre>\n\n<p>with this parameters :</p>\n\n<pre><code>quarkus.mailer.auth-methods=DIGEST-MD5 CRAM-SHA256 CRAM-SHA1 CRAM-MD5 PLAIN LOGIN\nquarkus.mailer.from=&lt;mail gmail&gt;\nquarkus.mailer.host=smtp.gmail.com\nquarkus.mailer.port=465\nquarkus.mailer.ssl=true\nquarkus.mailer.username=&lt;mail gmail&gt;\nquarkus.mailer.password=&lt;app gmail password&gt;\n</code></pre>\n\n<p>I haven't some error but i haven't some mail. The app password gmail has configured for this usecase ...</p>\n\n<p>Anybody has any idea ? </p>\n\n<p>Thanks !</p>\n"},{"tags":["java","android","xml","button"],"comments":[{"owner":{"account_id":259908,"reputation":4688,"user_id":543136,"display_name":"TofferJ"},"score":1,"creation_date":1586211814,"post_id":61069619,"comment_id":108041157,"body_markdown":"If your app is forced closed there&#39;s most likely some helpful information in Logcat. See if you can find a stacktrace and post it here.","body":"If your app is forced closed there&#39;s most likely some helpful information in Logcat. See if you can find a stacktrace and post it here."},{"owner":{"account_id":7247949,"reputation":4924,"user_id":5529263,"display_name":"Boken"},"score":0,"creation_date":1586211863,"post_id":61069619,"comment_id":108041171,"body_markdown":"Please add which button (which XML ID and which Java ID) causing `close my app`. Have you got any exception , error, something in Logcat?","body":"Please add which button (which XML ID and which Java ID) causing <code>close my app</code>. Have you got any exception , error, something in Logcat?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1586336223,"post_id":61069619,"comment_id":108088328,"body_markdown":"the problem is that `ImageButton` (and thus the appcompat version) is a subclass of `ImageView`, not of `Button`. You should either change the cast to that, or just remove it entirely if you&#39;re only using `View` methods.","body":"the problem is that <code>ImageButton</code> (and thus the appcompat version) is a subclass of <code>ImageView</code>, not of <code>Button</code>. You should either change the cast to that, or just remove it entirely if you&#39;re only using <code>View</code> methods."},{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1587944013,"post_id":61069619,"comment_id":108701989,"body_markdown":"Does this answer your question? [class cast exception in android?](https://stackoverflow.com/questions/7711103/class-cast-exception-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7711103/class-cast-exception-in-android\">class cast exception in android?</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1587944180,"post_id":61069619,"comment_id":108702027,"body_markdown":"@cutiko that question is about mistyped class names in XML.  The class name here is correct, but there&#39;s a common misconception about the inheritance involved. See my answer and my comment above for more details.","body":"@cutiko that question is about mistyped class names in XML.  The class name here is correct, but there&#39;s a common misconception about the inheritance involved. See my answer and my comment above for more details."}],"answers":[{"tags":[],"owner":{"account_id":16611951,"reputation":1,"user_id":12004677,"display_name":"Arath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586218651,"creation_date":1586218651,"answer_id":61070899,"question_id":61069619,"body_markdown":"Is the username or password text set up?\r\n\r\nAndroid:text=&quot;&quot; &lt;!-- If you don&#39;t do this, it will be null instead --&gt;\r\n A hint is just a hint, not the actual response. So it gets an error when it looking for something that&#39;s not even set up yet.","title":"java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button","body":"<p>Is the username or password text set up?</p>\n\n<p>Android:text=\"\" \n A hint is just a hint, not the actual response. So it gets an error when it looking for something that's not even set up yet.</p>\n"},{"tags":[],"owner":{"account_id":18031359,"reputation":63,"user_id":13105896,"display_name":"xLogger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586219652,"creation_date":1586219652,"answer_id":61071025,"question_id":61069619,"body_markdown":"Your calling SignUpActivity twice\r\n\r\nPlace the intent \r\n\r\n    Intent signUpPage = new Intent(LoginActivity.this, SignUpActivity.class);\r\n            startActivity(signUpPage);\r\n\r\non onClick method\r\n\r\nand don&#39;t forget to add `android:onClick=&quot;OnCreateAccount&quot;` on your button\r\n","title":"java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button","body":"<p>Your calling SignUpActivity twice</p>\n\n<p>Place the intent </p>\n\n<pre><code>Intent signUpPage = new Intent(LoginActivity.this, SignUpActivity.class);\n        startActivity(signUpPage);\n</code></pre>\n\n<p>on onClick method</p>\n\n<p>and don't forget to add <code>android:onClick=\"OnCreateAccount\"</code> on your button</p>\n"},{"tags":[],"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587943836,"creation_date":1587943836,"answer_id":61449485,"question_id":61069619,"body_markdown":"The problem is that [`ImageButton`][1] (and thus also the [`appcompat` version][2]) is a subclass of `ImageView`, not of `Button`. You should either change the cast to that, or just remove it entirely if you&#39;re only using `View` methods like `setOnClickListener`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/ImageButton\r\n  [2]: https://developer.android.com/reference/androidx/appcompat/widget/AppCompatImageButton","title":"java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button","body":"<p>The problem is that <a href=\"https://developer.android.com/reference/android/widget/ImageButton\" rel=\"nofollow noreferrer\"><code>ImageButton</code></a> (and thus also the <a href=\"https://developer.android.com/reference/androidx/appcompat/widget/AppCompatImageButton\" rel=\"nofollow noreferrer\"><code>appcompat</code> version</a>) is a subclass of <code>ImageView</code>, not of <code>Button</code>. You should either change the cast to that, or just remove it entirely if you're only using <code>View</code> methods like <code>setOnClickListener</code>.</p>\n"},{"tags":[],"owner":{"account_id":14895235,"reputation":1,"user_id":21893107,"display_name":"Anishk Kumar Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690870248,"creation_date":1690103454,"answer_id":76747448,"question_id":61069619,"body_markdown":"You are casting button on imagebutton \r\n\r\nJust follow this simple step\r\n\r\ngo to &#39;SignUpActivity.java&#39; then\r\n\r\n``` \r\npublic ImageButton backToLogin;\r\nbackToLogin = (ImageButton) findViewById(R.id.back_to_login);\r\n```\r\n","title":"java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button","body":"<p>You are casting button on imagebutton</p>\n<p>Just follow this simple step</p>\n<p>go to 'SignUpActivity.java' then</p>\n<pre><code>public ImageButton backToLogin;\nbackToLogin = (ImageButton) findViewById(R.id.back_to_login);\n</code></pre>\n"}],"owner":{"account_id":12345431,"reputation":9,"user_id":9006611,"display_name":"Mordechai Shalev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1690870248,"creation_date":1586210331,"question_id":61069619,"body_markdown":"**Problem:**\r\nI have a java/xml file in android studio. I need to play two buttons; One for &quot;Map page&quot; and second for &quot;Create new account&quot; (Signup activity). The first button work, but the second close my app. What is the problem?\r\n\r\n**What I know:**\r\nif it is empty xml file the button for to go to the xml file work.\r\n\r\n**The errors:**\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.sampleapp, PID: 8062\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sampleapp/com.example.sampleapp.SignUpActivity}: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button\r\n        at com.example.sampleapp.SignUpActivity.onCreate(SignUpActivity.java:33)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n```\r\n**Scripts:**\r\n\r\n*LoginActivity.java:*\r\n```\r\npackage com.example.sampleapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n    public EditText username;\r\n    public EditText password;\r\n    public TextView errorView;\r\n    public Button login;\r\n    public Button createNewAccount;\r\n\r\n    public void initMapPage(){\r\n        Intent mapPage = new Intent(LoginActivity.this, MainActivity.class);\r\n        startActivity(mapPage);\r\n        finish();\r\n    }\r\n\r\n    public void initSignUpPage(){\r\n        Intent signUpPage = new Intent(LoginActivity.this, SignUpActivity.class);\r\n        startActivity(signUpPage);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        username = (EditText) findViewById(R.id.UsernameBox);\r\n        password = (EditText) findViewById(R.id.PasswordBox);\r\n        errorView = (TextView) findViewById(R.id.errorView);\r\n        login = (Button) findViewById(R.id.LoginButton);\r\n        createNewAccount = (Button) findViewById(R.id.SignupButton);\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String errorMsg = &quot;&quot;;\r\n                if (username.getText().toString().equals(&quot;&quot;) || password.getText().toString().equals(&quot;&quot;)) {\r\n                    if (username.getText().toString().equals(&quot;&quot;)) {\r\n                        errorMsg += &quot;Username block is empty\\n&quot;;\r\n                    }\r\n                    if (password.getText().toString().equals(&quot;&quot;)) {\r\n                        errorMsg += &quot;Password block is empty\\n&quot;;\r\n                    }\r\n\r\n                    errorView.setText(errorMsg);\r\n                }\r\n                else {\r\n                    initMapPage();\r\n                }\r\n            }\r\n        });\r\n\r\n        createNewAccount.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                initSignUpPage();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n*activity_login.xml:*\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.LoginActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/WelcomeBox&quot;\r\n        android:layout_width=&quot;210dp&quot;\r\n        android:layout_height=&quot;101dp&quot;\r\n        android:layout_marginTop=&quot;64dp&quot;\r\n        android:text=&quot;Welcome \\nTo Our App!&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/UsernameBox&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_marginTop=&quot;40dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Username&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/WelcomeBox&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/PasswordBox&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/UsernameBox&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/SignupButton&quot;\r\n        android:layout_width=&quot;237dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:text=&quot;Create New Acount&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/LoginButton&quot;\r\n        android:layout_width=&quot;115dp&quot;\r\n        android:layout_height=&quot;63dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:text=&quot;LOGIN&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/errorView&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;60dp&quot;\r\n        android:layout_height=&quot;29dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:text=&quot;OR&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;#D3000000&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/LoginButton&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/errorView&quot;\r\n        android:layout_width=&quot;209dp&quot;\r\n        android:layout_height=&quot;62dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;#FF0000&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/PasswordBox&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n*SignUpActivity.java:*\r\n```\r\npackage com.example.sampleapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n\r\n    public Button backToLogin;\r\n    public Button SignUp;\r\n    public EditText username;\r\n    public EditText password;\r\n    public EditText email;\r\n\r\n\r\n    public void initLoginPage(){\r\n        Intent loginPage = new Intent(SignUpActivity.this, LoginActivity.class);\r\n        startActivity(loginPage);\r\n        finish();\r\n    }\r\n\r\n    @SuppressLint(&quot;WrongViewCast&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n        SignUp = (Button) findViewById(R.id.suButton);\r\n        backToLogin = (Button) findViewById(R.id.back_to_login);\r\n        username = (EditText) findViewById(R.id.UsernameBoxSignUp);\r\n        password = (EditText) findViewById(R.id.PasswordBoxSignUp);\r\n        email = (EditText) findViewById(R.id.EmailBox);\r\n\r\n        backToLogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                initLoginPage();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n*activity_sign_up.xml:*\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SignUpActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/UsernameBoxSignUp&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;54dp&quot;\r\n        android:layout_marginTop=&quot;160dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Username&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/back_to_login&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/PasswordBoxSignUp&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;55dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/EmailBox&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/suButton&quot;\r\n        android:layout_width=&quot;170dp&quot;\r\n        android:layout_height=&quot;53dp&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;36dp&quot;\r\n        android:text=&quot;SignUp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/PasswordBoxSignUp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/EmailBox&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;44dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Email&quot;\r\n        android:inputType=&quot;textEmailAddress&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/UsernameBoxSignUp&quot; /&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/back_to_login&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;54dp&quot;\r\n        android:layout_marginTop=&quot;28dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;?attr/actionModeCloseDrawable&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button","body":"<p><strong>Problem:</strong>\nI have a java/xml file in android studio. I need to play two buttons; One for \"Map page\" and second for \"Create new account\" (Signup activity). The first button work, but the second close my app. What is the problem?</p>\n\n<p><strong>What I know:</strong>\nif it is empty xml file the button for to go to the xml file work.</p>\n\n<p><strong>The errors:</strong></p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.sampleapp, PID: 8062\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sampleapp/com.example.sampleapp.SignUpActivity}: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassCastException: androidx.appcompat.widget.AppCompatImageButton cannot be cast to android.widget.Button\n        at com.example.sampleapp.SignUpActivity.onCreate(SignUpActivity.java:33)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n</code></pre>\n\n<p><strong>Scripts:</strong></p>\n\n<p><em>LoginActivity.java:</em></p>\n\n<pre><code>package com.example.sampleapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class LoginActivity extends AppCompatActivity {\n    public EditText username;\n    public EditText password;\n    public TextView errorView;\n    public Button login;\n    public Button createNewAccount;\n\n    public void initMapPage(){\n        Intent mapPage = new Intent(LoginActivity.this, MainActivity.class);\n        startActivity(mapPage);\n        finish();\n    }\n\n    public void initSignUpPage(){\n        Intent signUpPage = new Intent(LoginActivity.this, SignUpActivity.class);\n        startActivity(signUpPage);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n        username = (EditText) findViewById(R.id.UsernameBox);\n        password = (EditText) findViewById(R.id.PasswordBox);\n        errorView = (TextView) findViewById(R.id.errorView);\n        login = (Button) findViewById(R.id.LoginButton);\n        createNewAccount = (Button) findViewById(R.id.SignupButton);\n\n        login.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String errorMsg = \"\";\n                if (username.getText().toString().equals(\"\") || password.getText().toString().equals(\"\")) {\n                    if (username.getText().toString().equals(\"\")) {\n                        errorMsg += \"Username block is empty\\n\";\n                    }\n                    if (password.getText().toString().equals(\"\")) {\n                        errorMsg += \"Password block is empty\\n\";\n                    }\n\n                    errorView.setText(errorMsg);\n                }\n                else {\n                    initMapPage();\n                }\n            }\n        });\n\n        createNewAccount.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                initSignUpPage();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p><em>activity_login.xml:</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".LoginActivity\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/WelcomeBox\"\n        android:layout_width=\"210dp\"\n        android:layout_height=\"101dp\"\n        android:layout_marginTop=\"64dp\"\n        android:text=\"Welcome \\nTo Our App!\"\n        android:textAlignment=\"center\"\n        android:textColor=\"#000000\"\n        android:textSize=\"30sp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/UsernameBox\"\n        android:layout_width=\"300dp\"\n        android:layout_height=\"55dp\"\n        android:layout_marginTop=\"40dp\"\n        android:ems=\"10\"\n        android:hint=\"Username\"\n        android:inputType=\"textPersonName\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/WelcomeBox\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/PasswordBox\"\n        android:layout_width=\"300dp\"\n        android:layout_height=\"55dp\"\n        android:layout_marginTop=\"24dp\"\n        android:ems=\"10\"\n        android:hint=\"Password\"\n        android:inputType=\"textPassword\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/UsernameBox\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/SignupButton\"\n        android:layout_width=\"237dp\"\n        android:layout_height=\"55dp\"\n        android:layout_marginTop=\"24dp\"\n        android:text=\"Create New Acount\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView4\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/LoginButton\"\n        android:layout_width=\"115dp\"\n        android:layout_height=\"63dp\"\n        android:layout_marginTop=\"12dp\"\n        android:text=\"LOGIN\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/errorView\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView4\"\n        android:layout_width=\"60dp\"\n        android:layout_height=\"29dp\"\n        android:layout_marginTop=\"24dp\"\n        android:text=\"OR\"\n        android:textAlignment=\"center\"\n        android:textColor=\"#D3000000\"\n        android:textSize=\"24sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/LoginButton\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/errorView\"\n        android:layout_width=\"209dp\"\n        android:layout_height=\"62dp\"\n        android:layout_marginTop=\"16dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:textAlignment=\"center\"\n        android:textColor=\"#FF0000\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/PasswordBox\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><em>SignUpActivity.java:</em></p>\n\n<pre><code>package com.example.sampleapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class SignUpActivity extends AppCompatActivity {\n\n    public Button backToLogin;\n    public Button SignUp;\n    public EditText username;\n    public EditText password;\n    public EditText email;\n\n\n    public void initLoginPage(){\n        Intent loginPage = new Intent(SignUpActivity.this, LoginActivity.class);\n        startActivity(loginPage);\n        finish();\n    }\n\n    @SuppressLint(\"WrongViewCast\")\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_up);\n        SignUp = (Button) findViewById(R.id.suButton);\n        backToLogin = (Button) findViewById(R.id.back_to_login);\n        username = (EditText) findViewById(R.id.UsernameBoxSignUp);\n        password = (EditText) findViewById(R.id.PasswordBoxSignUp);\n        email = (EditText) findViewById(R.id.EmailBox);\n\n        backToLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                initLoginPage();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p><em>activity_sign_up.xml:</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".SignUpActivity\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/UsernameBoxSignUp\"\n        android:layout_width=\"300dp\"\n        android:layout_height=\"40dp\"\n        android:layout_marginStart=\"54dp\"\n        android:layout_marginTop=\"160dp\"\n        android:ems=\"10\"\n        android:hint=\"Username\"\n        android:inputType=\"textPersonName\"\n        android:textSize=\"18sp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/back_to_login\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/PasswordBoxSignUp\"\n        android:layout_width=\"300dp\"\n        android:layout_height=\"40dp\"\n        android:layout_marginStart=\"55dp\"\n        android:layout_marginTop=\"20dp\"\n        android:ems=\"10\"\n        android:hint=\"Password\"\n        android:inputType=\"textPassword\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/EmailBox\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/suButton\"\n        android:layout_width=\"170dp\"\n        android:layout_height=\"53dp\"\n        android:layout_marginStart=\"120dp\"\n        android:layout_marginTop=\"36dp\"\n        android:text=\"SignUp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/PasswordBoxSignUp\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/EmailBox\"\n        android:layout_width=\"300dp\"\n        android:layout_height=\"40dp\"\n        android:layout_marginStart=\"44dp\"\n        android:layout_marginTop=\"16dp\"\n        android:ems=\"10\"\n        android:hint=\"Email\"\n        android:inputType=\"textEmailAddress\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/UsernameBoxSignUp\" /&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/back_to_login\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"54dp\"\n        android:layout_marginTop=\"28dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"?attr/actionModeCloseDrawable\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","class-constants"],"comments":[{"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"score":0,"creation_date":1232972035,"post_id":479565,"comment_id":296451,"body_markdown":"There&#39;s some similar discussion here: http://stackoverflow.com/questions/320588/interfaces-with-static-fields-in-java-for-sharing-constants .  I would use a final class with a private constructor so that it cannot be instantiated.","body":"There&#39;s some similar discussion here: <a href=\"http://stackoverflow.com/questions/320588/interfaces-with-static-fields-in-java-for-sharing-constants\" title=\"interfaces with static fields in java for sharing constants\">stackoverflow.com/questions/320588/&hellip;</a> .  I would use a final class with a private constructor so that it cannot be instantiated."},{"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":2,"creation_date":1232972074,"post_id":479565,"comment_id":296453,"body_markdown":"Sorry but &quot;I&#39;m not going to use enums&quot; turns this question into &quot;what&#39;s the best way to do something stupid?&quot;","body":"Sorry but &quot;I&#39;m not going to use enums&quot; turns this question into &quot;what&#39;s the best way to do something stupid?&quot;"},{"owner":{"account_id":10652,"reputation":1293,"user_id":20225,"display_name":"gedevan"},"score":0,"creation_date":1232972583,"post_id":479565,"comment_id":296460,"body_markdown":"What&#39;s the problem with Enum? You can allways use it to collect &#39;some constants which are not related to each other in any way&#39;. Hmm?","body":"What&#39;s the problem with Enum? You can allways use it to collect &#39;some constants which are not related to each other in any way&#39;. Hmm?"},{"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"score":9,"creation_date":1232976164,"post_id":479565,"comment_id":296591,"body_markdown":"Conceptually, an enum is a bad choice if the constants are not related.  An enum represents alternative values of the same type.  These constants aren&#39;t alternatives and they may not even be the same type (some may be strings, some integers, etc.)","body":"Conceptually, an enum is a bad choice if the constants are not related.  An enum represents alternative values of the same type.  These constants aren&#39;t alternatives and they may not even be the same type (some may be strings, some integers, etc.)"},{"owner":{"account_id":10652,"reputation":1293,"user_id":20225,"display_name":"gedevan"},"score":0,"creation_date":1234565384,"post_id":479565,"comment_id":359912,"body_markdown":"I don&#39;t think that enum is a bad choice for public static final String SOME_CONST = &quot;SOME_VALUE&quot; replacement. Even if constants are not related. I do not see problems here.","body":"I don&#39;t think that enum is a bad choice for public static final String SOME_CONST = &quot;SOME_VALUE&quot; replacement. Even if constants are not related. I do not see problems here."}],"answers":[{"tags":[],"owner":{"account_id":22325,"reputation":2510,"user_id":54947,"accept_rate":78,"display_name":"Megacan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232971403,"creation_date":1232971403,"answer_id":479572,"question_id":479565,"body_markdown":"Just use final class.\r\n\r\nIf you want to be able to add other values use an abstract class.\r\n\r\nIt doesn&#39;t make much sense using an interface, an interface is supposed to specify a contract. You just want to declare some constant values.","title":"How do you define a class of constants in Java?","body":"<p>Just use final class.</p>\n\n<p>If you want to be able to add other values use an abstract class.</p>\n\n<p>It doesn't make much sense using an interface, an interface is supposed to specify a contract. You just want to declare some constant values.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1690868215,"creation_date":1232971567,"answer_id":479579,"question_id":479565,"body_markdown":"Aren&#39;t [enums][1] best choice for these kinds of stuff?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/guide/language/enums.html","title":"How do you define a class of constants in Java?","body":"<p>Aren't <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/language/enums.html\" rel=\"nofollow noreferrer\">enums</a> best choice for these kinds of stuff?</p>\n"},{"tags":[],"owner":{"account_id":22216,"reputation":4618,"user_id":54579,"display_name":"user54579"},"down_vote_count":3,"up_vote_count":131,"is_accepted":true,"score":128,"last_activity_date":1656111614,"creation_date":1232971611,"answer_id":479582,"question_id":479565,"body_markdown":"Use a final class, and define a private constructor to hide the public one.  \r\nFor simplicity you may then use a static import to reuse your values in another class\r\n\r\n    public final class MyValues {\r\n\r\n      private MyValues() {\r\n        // No need to instantiate the class, we can hide its constructor\r\n      }\r\n\r\n      public static final String VALUE1 = &quot;foo&quot;;\r\n      public static final String VALUE2 = &quot;bar&quot;;\r\n    }\r\n\r\nin another class :\r\n\r\n    import static MyValues.*\r\n    //...\r\n    \r\n    if (VALUE1.equals(variable)) {\r\n      //...\r\n    }\r\n\r\n","title":"How do you define a class of constants in Java?","body":"<p>Use a final class, and define a private constructor to hide the public one.<br />\nFor simplicity you may then use a static import to reuse your values in another class</p>\n<pre><code>public final class MyValues {\n\n  private MyValues() {\n    // No need to instantiate the class, we can hide its constructor\n  }\n\n  public static final String VALUE1 = &quot;foo&quot;;\n  public static final String VALUE2 = &quot;bar&quot;;\n}\n</code></pre>\n<p>in another class :</p>\n<pre><code>import static MyValues.*\n//...\n\nif (VALUE1.equals(variable)) {\n  //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1232971619,"creation_date":1232971619,"answer_id":479583,"question_id":479565,"body_markdown":"My preferred method is not to do that at all.  The age of constants pretty much died when Java 5 introduced typesafe enums.  And even before then Josh Bloch published a (slightly more wordy) version of that, which worked on Java 1.4 (and earlier).\r\n\r\nUnless you need interoperability with some legacy code there&#39;s really no reason to use named String/integer constants anymore.","title":"How do you define a class of constants in Java?","body":"<p>My preferred method is not to do that at all.  The age of constants pretty much died when Java 5 introduced typesafe enums.  And even before then Josh Bloch published a (slightly more wordy) version of that, which worked on Java 1.4 (and earlier).</p>\n\n<p>Unless you need interoperability with some legacy code there's really no reason to use named String/integer constants anymore.</p>\n"},{"tags":[],"owner":{"account_id":15201,"reputation":10627,"user_id":31884,"accept_rate":89,"display_name":"Simon Groenewolt"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1232971665,"creation_date":1232971665,"answer_id":479586,"question_id":479565,"body_markdown":"Or 4. Put them in the class that contains the logic that uses the constants the most\r\n\r\n... sorry, couldn&#39;t resist ;-)","title":"How do you define a class of constants in Java?","body":"<p>Or 4. Put them in the class that contains the logic that uses the constants the most</p>\n\n<p>... sorry, couldn't resist ;-)</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":6,"up_vote_count":51,"is_accepted":false,"score":45,"last_activity_date":1232972900,"creation_date":1232972900,"answer_id":479632,"question_id":479565,"body_markdown":"Your clarification states: &quot;I&#39;m not going to use enums, I am not enumerating anything, just collecting some constants which are not related to each other in any way.&quot;\r\n\r\nIf the constants aren&#39;t related to each other at all, why do you want to collect them together? Put each constant in the class which it&#39;s most closely related to.","title":"How do you define a class of constants in Java?","body":"<p>Your clarification states: \"I'm not going to use enums, I am not enumerating anything, just collecting some constants which are not related to each other in any way.\"</p>\n\n<p>If the constants aren't related to each other at all, why do you want to collect them together? Put each constant in the class which it's most closely related to.</p>\n"},{"tags":[],"owner":{"account_id":2035,"reputation":16811,"user_id":2797,"accept_rate":82,"display_name":"S&#233;bastien RoccaSerra"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1232973147,"creation_date":1232973147,"answer_id":479641,"question_id":479565,"body_markdown":"As Joshua Bloch notes in Effective Java:\r\n\r\n- Interfaces should only be used to define types,\r\n- abstract classes don&#39;t prevent instanciability (they can be subclassed, and even suggest that they are designed to be subclassed).\r\n\r\nYou can use an Enum if all your constants are related (like planet names), put the constant values in classes they are related to (if you have access to them), or use a non instanciable utility class (define a private default constructor).\r\n\r\n    class SomeConstants\r\n    {\r\n        // Prevents instanciation of myself and my subclasses\r\n        private SomeConstants() {}\r\n        \r\n        public final static String TOTO = &quot;toto&quot;;\r\n        public final static Integer TEN = 10;\r\n        //...\r\n    }\r\n\r\nThen, as already stated, you can use static imports to use your constants.","title":"How do you define a class of constants in Java?","body":"<p>As Joshua Bloch notes in Effective Java:</p>\n\n<ul>\n<li>Interfaces should only be used to define types,</li>\n<li>abstract classes don't prevent instanciability (they can be subclassed, and even suggest that they are designed to be subclassed).</li>\n</ul>\n\n<p>You can use an Enum if all your constants are related (like planet names), put the constant values in classes they are related to (if you have access to them), or use a non instanciable utility class (define a private default constructor).</p>\n\n<pre><code>class SomeConstants\n{\n    // Prevents instanciation of myself and my subclasses\n    private SomeConstants() {}\n\n    public final static String TOTO = \"toto\";\n    public final static Integer TEN = 10;\n    //...\n}\n</code></pre>\n\n<p>Then, as already stated, you can use static imports to use your constants.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1232977649,"creation_date":1232977649,"answer_id":479841,"question_id":479565,"body_markdown":"`enum`s are fine. IIRC, one item in effective Java (2nd Ed) has `enum` constants enumerating standard options implementing a [Java keyword] `interface` for any value.\r\n\r\nMy preference is to use a [Java keyword] `interface` over a `final class` for constants. You implicitly get the `public static final`. Some people will argue that an `interface` allows bad programmers to implement it, but bad programmers are going to write code that sucks no matter what you do.\r\n\r\nWhich looks better?\r\n\r\n    public final class SomeStuff {\r\n         private SomeStuff() {\r\n             throw new Error();\r\n         }\r\n         public static final String SOME_CONST = &quot;Some value or another, I don&#39;t know.&quot;;\r\n    }\r\n\r\nOr:\r\n\r\n    public interface SomeStuff {\r\n         String SOME_CONST = &quot;Some value or another, I don&#39;t know.&quot;;\r\n    }","title":"How do you define a class of constants in Java?","body":"<p><code>enum</code>s are fine. IIRC, one item in effective Java (2nd Ed) has <code>enum</code> constants enumerating standard options implementing a [Java keyword] <code>interface</code> for any value.</p>\n\n<p>My preference is to use a [Java keyword] <code>interface</code> over a <code>final class</code> for constants. You implicitly get the <code>public static final</code>. Some people will argue that an <code>interface</code> allows bad programmers to implement it, but bad programmers are going to write code that sucks no matter what you do.</p>\n\n<p>Which looks better?</p>\n\n<pre><code>public final class SomeStuff {\n     private SomeStuff() {\n         throw new Error();\n     }\n     public static final String SOME_CONST = \"Some value or another, I don't know.\";\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>public interface SomeStuff {\n     String SOME_CONST = \"Some value or another, I don't know.\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19945,"reputation":6738,"user_id":47181,"display_name":"kenj0418"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1575461635,"creation_date":1239124489,"answer_id":726720,"question_id":479565,"body_markdown":"My suggestions (in decreasing order of preference):\r\n\r\n1) **Don&#39;t do it**.  Create the constants in the actual class where they are most relevant.  Having a &#39;bag of constants&#39; class/interface isn&#39;t really following OO best practices.\r\n\r\nI, and everyone else, ignore #1 from time to time.  If you&#39;re going to do that then:\r\n\r\n2) **final class with private constructor** This will at least prevent anyone from abusing your &#39;bag of constants&#39; by extending/implementing it to get easy access to the constants.  (I know you said you wouldn&#39;t do this -- but that doesn&#39;t mean someone coming along after you won&#39;t)\r\n\r\n3) **interface** This will work, but not my preference giving the possible abuse mention in #2.\r\n\r\nIn general, just because these are constants doesn&#39;t mean you shouldn&#39;t still apply normal oo principles to them.  If no one but one class cares about a constant - it should be private and in that class.  If only tests care about a constant - it should be in a test class, not production code.  If a constant is defined in multiple places (not just accidentally the same) - refactor to eliminate duplication.  And so on - treat them like you would a method.","title":"How do you define a class of constants in Java?","body":"<p>My suggestions (in decreasing order of preference):</p>\n\n<p>1) <strong>Don't do it</strong>.  Create the constants in the actual class where they are most relevant.  Having a 'bag of constants' class/interface isn't really following OO best practices.</p>\n\n<p>I, and everyone else, ignore #1 from time to time.  If you're going to do that then:</p>\n\n<p>2) <strong>final class with private constructor</strong> This will at least prevent anyone from abusing your 'bag of constants' by extending/implementing it to get easy access to the constants.  (I know you said you wouldn't do this -- but that doesn't mean someone coming along after you won't)</p>\n\n<p>3) <strong>interface</strong> This will work, but not my preference giving the possible abuse mention in #2.</p>\n\n<p>In general, just because these are constants doesn't mean you shouldn't still apply normal oo principles to them.  If no one but one class cares about a constant - it should be private and in that class.  If only tests care about a constant - it should be in a test class, not production code.  If a constant is defined in multiple places (not just accidentally the same) - refactor to eliminate duplication.  And so on - treat them like you would a method.</p>\n"},{"tags":[],"owner":{"account_id":5894775,"reputation":123,"user_id":4640214,"display_name":"Guizhou Feng"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1441954034,"creation_date":1441953282,"answer_id":32517021,"question_id":479565,"body_markdown":"1. One of the disadvantage of private constructor is the exists of method could never be tested.\r\n\r\n2. Enum by the nature concept good to apply in specific domain type, apply it to decentralized constants looks not good enough\r\n\r\nThe concept of Enum is &quot;Enumerations are sets of closely related items&quot;.\r\n\r\n3. Extend/implement a constant interface is a bad practice, it is hard to think about requirement to extend a immutable constant instead of referring to it directly.\r\n\r\n4. If apply quality tool like SonarSource, there are rules force developer to drop constant interface, this is a awkward thing as a lot of projects enjoy the constant interface and rarely to see &quot;extend&quot; things happen on constant interfaces\r\n","title":"How do you define a class of constants in Java?","body":"<ol>\n<li><p>One of the disadvantage of private constructor is the exists of method could never be tested.</p></li>\n<li><p>Enum by the nature concept good to apply in specific domain type, apply it to decentralized constants looks not good enough</p></li>\n</ol>\n\n<p>The concept of Enum is \"Enumerations are sets of closely related items\".</p>\n\n<ol start=\"3\">\n<li><p>Extend/implement a constant interface is a bad practice, it is hard to think about requirement to extend a immutable constant instead of referring to it directly.</p></li>\n<li><p>If apply quality tool like SonarSource, there are rules force developer to drop constant interface, this is a awkward thing as a lot of projects enjoy the constant interface and rarely to see \"extend\" things happen on constant interfaces</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1736313,"reputation":141,"user_id":1588804,"display_name":"kapitanrum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625817794,"creation_date":1625817794,"answer_id":68313269,"question_id":479565,"body_markdown":"The best approach for me, is `enum`:\r\n```java\r\npublic enum SomeApiConstants {;\r\n\r\n\tpublic static final String SOME_CONST = &quot;SOME_VALUE&quot;;\r\n\r\n\t//may be in hierarchy\r\n\tpublic enum ApiMapping {;\r\n\t\tpublic static final String VERSION = &quot;/version&quot;;\r\n\t\tpublic static final String VERSION_LIST = &quot;/list/{type}&quot;;\r\n\t}\r\n}\r\n```\r\n**Pros:**\r\n- **clean code**\r\n- the private constructor does not need to be defined\r\n- attempt to instantiate is validated in compile time as `java: enum types may not be instantiated`\r\n- prevents to clone and deserialization\r\n","title":"How do you define a class of constants in Java?","body":"<p>The best approach for me, is <code>enum</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum SomeApiConstants {;\n\n    public static final String SOME_CONST = &quot;SOME_VALUE&quot;;\n\n    //may be in hierarchy\n    public enum ApiMapping {;\n        public static final String VERSION = &quot;/version&quot;;\n        public static final String VERSION_LIST = &quot;/list/{type}&quot;;\n    }\n}\n</code></pre>\n<p><strong>Pros:</strong></p>\n<ul>\n<li><strong>clean code</strong></li>\n<li>the private constructor does not need to be defined</li>\n<li>attempt to instantiate is validated in compile time as <code>java: enum types may not be instantiated</code></li>\n<li>prevents to clone and deserialization</li>\n</ul>\n"}],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157458,"favorite_count":0,"down_vote_count":2,"up_vote_count":116,"accepted_answer_id":479582,"answer_count":11,"score":114,"last_activity_date":1690868215,"creation_date":1232971209,"question_id":479565,"body_markdown":"Suppose you need to define a class which all it does is hold constants.\r\n\r\n    public static final String SOME_CONST = &quot;SOME_VALUE&quot;;\r\n\r\nWhat is the preferred way of doing this?\r\n\r\n 1. Interface\r\n 2. Abstract Class\r\n 3. Final Class\r\n\r\nWhich one should I use and why?\r\n\r\n&lt;hr&gt;\r\n*Clarifications to some answers:*\r\n\r\n**Enums** - I&#39;m not going to use enums, I am not enumerating anything, just collecting some constants which are not related to each other in any way.\r\n\r\n**Interface** - I&#39;m not going to set any class as one that implements the interface. Just want to use the interface to call constants like so: `ISomeInterface.SOME_CONST`.","title":"How do you define a class of constants in Java?","body":"<p>Suppose you need to define a class which all it does is hold constants.</p>\n\n<pre><code>public static final String SOME_CONST = \"SOME_VALUE\";\n</code></pre>\n\n<p>What is the preferred way of doing this?</p>\n\n<ol>\n<li>Interface</li>\n<li>Abstract Class</li>\n<li>Final Class</li>\n</ol>\n\n<p>Which one should I use and why?</p>\n\n<p><hr>\n<em>Clarifications to some answers:</em></p>\n\n<p><strong>Enums</strong> - I'm not going to use enums, I am not enumerating anything, just collecting some constants which are not related to each other in any way.</p>\n\n<p><strong>Interface</strong> - I'm not going to set any class as one that implements the interface. Just want to use the interface to call constants like so: <code>ISomeInterface.SOME_CONST</code>.</p>\n"},{"tags":["java","android","gradle","android-studio-3.0","butterknife"],"comments":[{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":1,"creation_date":1684177080,"post_id":76251821,"comment_id":134476229,"body_markdown":"Butterknife is now deprecated. Use  view binding or data binding. It is more efficient and easy to implement. Follow this link- https://developer.android.com/topic/libraries/view-binding","body":"Butterknife is now deprecated. Use  view binding or data binding. It is more efficient and easy to implement. Follow this link- <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684199006,"post_id":76251821,"comment_id":134479220,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":13277875,"reputation":51,"user_id":9586596,"display_name":"Aashis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686249468,"creation_date":1686249468,"answer_id":76434805,"question_id":76251821,"body_markdown":"\r\nIt bugged my head and later I found the solution, it is in gradle use the JDK version 11 instead of 16. I was using JDK16, which causes the error. When I modified to JDK 11, it all started working fine.","title":"butterknife compiler error in android studio","body":"<p>It bugged my head and later I found the solution, it is in gradle use the JDK version 11 instead of 16. I was using JDK16, which causes the error. When I modified to JDK 11, it all started working fine.</p>\n"}],"owner":{"account_id":27291753,"reputation":21,"user_id":20810029,"display_name":"Muteeb Butt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1979,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690868088,"creation_date":1684136152,"question_id":76251821,"body_markdown":"**&quot;Cause: superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x509fdebb) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x509fdebb&quot;**\r\n\r\nI imported a project which was built in jdk 11 enviroment on android studio. I am currently using android studio flaming with jdk 11.\r\n\r\nwhen i researched about this error on internet and it gave me some solutions of making some **module-info.java** file. but i dont how to add this file on my project. also some solutions said to turn to jdk 11 which i did already. but still it didnt work out for me.","title":"butterknife compiler error in android studio","body":"<p><strong>&quot;Cause: superclass access check failed: class butterknife.compiler.ButterKnifeProcessor$RScanner (in unnamed module @0x509fdebb) cannot access class com.sun.tools.javac.tree.TreeScanner (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.tree to unnamed module @0x509fdebb&quot;</strong></p>\n<p>I imported a project which was built in jdk 11 enviroment on android studio. I am currently using android studio flaming with jdk 11.</p>\n<p>when i researched about this error on internet and it gave me some solutions of making some <strong>module-info.java</strong> file. but i dont how to add this file on my project. also some solutions said to turn to jdk 11 which i did already. but still it didnt work out for me.</p>\n"},{"tags":["java","spring","maven","servlets","spring-boot"],"comments":[{"owner":{"account_id":7531626,"reputation":2235,"user_id":5719578,"accept_rate":100,"display_name":"Yohannes Gebremariam"},"score":0,"creation_date":1492294020,"post_id":43431576,"comment_id":73921316,"body_markdown":"You are missing a dependency  for Server Api in your maven build path","body":"You are missing a dependency  for Server Api in your maven build path"},{"owner":{"account_id":10613412,"reputation":1766,"user_id":7816606,"accept_rate":51,"display_name":"Aayushi"},"score":0,"creation_date":1492325050,"post_id":43431576,"comment_id":73926467,"body_markdown":"It&#39;s also giving me an error as &#39;No compiler found&#39;.I tried configuring the build path but error is not getting resolved after that too!What should I do?","body":"It&#39;s also giving me an error as &#39;No compiler found&#39;.I tried configuring the build path but error is not getting resolved after that too!What should I do?"}],"answers":[{"tags":[],"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492326862,"creation_date":1492294968,"answer_id":43431851,"question_id":43431576,"body_markdown":"Can you try adding below. Le us know if it helps!\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso add main() method to your Application class...without it i think your spring application won&#39;t run.\r\n\r\n      public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(Application.class, args);\r\n      }\r\n\r\n","title":"Spring boot NoClassDefFoundError","body":"<p>Can you try adding below. Le us know if it helps!</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Also add main() method to your Application class...without it i think your spring application won't run.</p>\n\n<pre><code>  public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n  }\n</code></pre>\n"}],"owner":{"account_id":10613412,"reputation":1766,"user_id":7816606,"accept_rate":51,"display_name":"Aayushi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690867666,"creation_date":1492292687,"question_id":43431576,"body_markdown":"I am trying to implement a Spring boot application without a main class.Here&#39;s what I have done so far. \r\n\r\n        import org.springframework.boot.builder.SpringApplicationBuilder;\r\n        import org.springframework.boot.web.support.SpringBootServletInitializer;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        \r\n    @SpringBootApplication\r\n        public class Application extends SpringBootServletInitializer{\r\n        \r\n        \t\t@Override\r\n        \t\tpublic SpringApplicationBuilder configure(SpringApplicationBuilder builder){\r\n        \t\t\treturn builder.sources(Application.class);\r\n        \t\t}\r\n        }\r\n\r\nMy controller class looks something like this\r\n\r\n    import java.io.*;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class Controller {\r\n    \t\r\n    \t@RequestMapping(path=&quot;/api&quot;,consumes=MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic String insertData(@RequestBody String rawJsonData,HttpServletRequest request) throws ParseException, IOException{\r\n    \t\tJSONParser jparser=new JSONParser();\r\n    \t\tObject jsonObj=jparser.parse(rawJsonData);\r\n    \t\tJSONObject jObject=(JSONObject)jsonObj;\r\n    \t\t\r\n    \t\tFileWriter filewriter=new FileWriter(new File(&quot;C:\\\\Users\\\\Desktop\\\\Aayushi.txt&quot;));\r\n    \t\tfilewriter.write(jObject.toJSONString());\r\n    \t\treturn rawJsonData;\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nAnd pom.xml has the following dependencies\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;API&lt;/groupId&gt;\r\n      &lt;artifactId&gt;API&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          \t&lt;plugin&gt;\r\n     \t\t &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     \t\t &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      \t\t\t&lt;configuration&gt;\r\n       \t\t\t &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n        \t &lt;/configuration&gt;\r\n        \t &lt;/plugin&gt;\r\n          \r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n       &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n      &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;&lt;!-- Add tomcat only if I want to run directly --&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;start-class&gt;Application&lt;/start-class&gt;\r\n    \t\t &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nBut when I run the above code using mvn spring-boot:run then it gives me the following error.\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building API 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] &gt;&gt;&gt; spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) &gt; test-compile @ API &gt;&gt;&gt;\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ API ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\aayus\\workspace_neon\\API\\src\\main\\resources\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\aayus\\workspace_neon\\API\\src\\main\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ API ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ API ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\aayus\\workspace_neon\\API\\src\\test\\resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ API ---\r\n    [INFO] No sources to compile\r\n    [INFO] \r\n    [INFO] &lt;&lt;&lt; spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) &lt; test-compile @ API &lt;&lt;&lt;\r\n    [INFO] \r\n    [INFO] --- spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) @ API ---\r\n    [WARNING] \r\n    java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n    \tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n    \tat java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n    \tat java.lang.Class.getMethod0(Unknown Source)\r\n    \tat java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n    \tat java.lang.Class.getMethod0(Unknown Source)\r\n    \tat java.lang.Class.getMethod(Unknown Source)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:502)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \t... 9 more\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.456 s\r\n    [INFO] Finished at: 2017-04-16T02:50:22+05:30\r\n    [INFO] Final Memory: 19M/177M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) on project API: An exception occurred while running. javax/servlet/ServletContext: javax.servlet.ServletContext -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nI don&#39;t understand what am I doing wrong in this. Also, my code is not able to process HttpServletRequest as a Http request.Not sure why it is happening.\r\n\r\n","title":"Spring boot NoClassDefFoundError","body":"<p>I am trying to implement a Spring boot application without a main class.Here's what I have done so far. </p>\n\n<pre><code>    import org.springframework.boot.builder.SpringApplicationBuilder;\n    import org.springframework.boot.web.support.SpringBootServletInitializer;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n    public class Application extends SpringBootServletInitializer{\n\n            @Override\n            public SpringApplicationBuilder configure(SpringApplicationBuilder builder){\n                return builder.sources(Application.class);\n            }\n    }\n</code></pre>\n\n<p>My controller class looks something like this</p>\n\n<pre><code>import java.io.*;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Controller {\n\n    @RequestMapping(path=\"/api\",consumes=MediaType.APPLICATION_JSON_VALUE)\n    public String insertData(@RequestBody String rawJsonData,HttpServletRequest request) throws ParseException, IOException{\n        JSONParser jparser=new JSONParser();\n        Object jsonObj=jparser.parse(rawJsonData);\n        JSONObject jObject=(JSONObject)jsonObj;\n\n        FileWriter filewriter=new FileWriter(new File(\"C:\\\\Users\\\\Desktop\\\\Aayushi.txt\"));\n        filewriter.write(jObject.toJSONString());\n        return rawJsonData;\n\n    }\n}\n</code></pre>\n\n<p>And pom.xml has the following dependencies</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;API&lt;/groupId&gt;\n  &lt;artifactId&gt;API&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n        &lt;plugin&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n             &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n         &lt;/configuration&gt;\n         &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n   &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;&lt;!-- Add tomcat only if I want to run directly --&gt;\n\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;start-class&gt;Application&lt;/start-class&gt;\n         &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>But when I run the above code using mvn spring-boot:run then it gives me the following error.</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building API 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) &gt; test-compile @ API &gt;&gt;&gt;\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ API ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\aayus\\workspace_neon\\API\\src\\main\\resources\n[INFO] skip non existing resourceDirectory C:\\Users\\aayus\\workspace_neon\\API\\src\\main\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ API ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ API ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\aayus\\workspace_neon\\API\\src\\test\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ API ---\n[INFO] No sources to compile\n[INFO] \n[INFO] &lt;&lt;&lt; spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) &lt; test-compile @ API &lt;&lt;&lt;\n[INFO] \n[INFO] --- spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) @ API ---\n[WARNING] \njava.lang.NoClassDefFoundError: javax/servlet/ServletContext\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n    at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n    at java.lang.Class.getMethod0(Unknown Source)\n    at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n    at java.lang.Class.getMethod0(Unknown Source)\n    at java.lang.Class.getMethod(Unknown Source)\n    at org.springframework.boot.maven.AbstractRunMojo$LaunchRunner.run(AbstractRunMojo.java:502)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 9 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.456 s\n[INFO] Finished at: 2017-04-16T02:50:22+05:30\n[INFO] Final Memory: 19M/177M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.4.2.RELEASE:run (default-cli) on project API: An exception occurred while running. javax/servlet/ServletContext: javax.servlet.ServletContext -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>I don't understand what am I doing wrong in this. Also, my code is not able to process HttpServletRequest as a Http request.Not sure why it is happening.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1690867550,"creation_date":1313508420,"answer_id":7080742,"question_id":7080715,"body_markdown":"Static initializers are invoked by the class loader, not by any user code.\r\n\r\nYou will not be able to capture those exceptions, and since the classes you need are not able to be loaded, your application will crash.\r\n\r\nMy recommendation would be to do a Configuration singleton class. You could use https://stackoverflow.com/questions/70689/efficient-way-to-implement-singleton-pattern-in-java. Create an `init()` or `load()` method in that class which will be able to throw the exceptions that can be caught in your `createAndShow()` method.","title":"exception in static initializer causes program to hang","body":"<p>Static initializers are invoked by the class loader, not by any user code.</p>\n<p>You will not be able to capture those exceptions, and since the classes you need are not able to be loaded, your application will crash.</p>\n<p>My recommendation would be to do a Configuration singleton class. You could use <a href=\"https://stackoverflow.com/questions/70689/efficient-way-to-implement-singleton-pattern-in-java\">What is an efficient way to implement a singleton pattern in Java?</a>. Create an <code>init()</code> or <code>load()</code> method in that class which will be able to throw the exceptions that can be caught in your <code>createAndShow()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313508506,"creation_date":1313508506,"answer_id":7080758,"question_id":7080715,"body_markdown":"The static initializer block will be called when the class is loaded. If it throws an exception, the class will not be loaded and you will end up with a NoClassDefFoundException.\r\n\r\nYou should simply log errors and move on when you have missing resources. Or, you don&#39;t do the loading in static initializer blocks, but instead do it in a separate class whose sole purpose is to load these resource bundles.","title":"exception in static initializer causes program to hang","body":"<p>The static initializer block will be called when the class is loaded. If it throws an exception, the class will not be loaded and you will end up with a NoClassDefFoundException.</p>\n\n<p>You should simply log errors and move on when you have missing resources. Or, you don't do the loading in static initializer blocks, but instead do it in a separate class whose sole purpose is to load these resource bundles.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313508542,"creation_date":1313508542,"answer_id":7080763,"question_id":7080715,"body_markdown":"Exceptions thrown in static initializer blocks result in the class not being loaded, which means that your calling class that uses the class can&#39;t be loaded either, unless you are using some very careful defensive coding techniques.","title":"exception in static initializer causes program to hang","body":"<p>Exceptions thrown in static initializer blocks result in the class not being loaded, which means that your calling class that uses the class can't be loaded either, unless you are using some very careful defensive coding techniques.</p>\n"}],"owner":{"account_id":40389,"reputation":33700,"user_id":117039,"accept_rate":71,"display_name":"5YrsLaterDBA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7080742,"answer_count":3,"score":1,"last_activity_date":1690867550,"creation_date":1313508292,"question_id":7080715,"body_markdown":"I have a GUI application. In my main class I have a method (called `createAndShow()`) to initialize all my GUI classes. Inside each GUI class, I have `static initializer` to read properties files(resource bundles or configuration files). If a file or entry is missing or value is wrong, I catch the exception and then throws a `MissingResourceException` to upper level on purpose. In my `createAndShow()` method of the main class, I put a try-catch to catch `Exception`. But somehow JVM refuse to get there. Whenever a file is missing, that `MissingResourceException` is thrown and then the application just hang. I expected the `createAndShow()` method will catch that exception and exit gracefully. Is there anything special for exceptions throws from the static initializer?\r\n\r\nI am using XP and java 1.6.","title":"exception in static initializer causes program to hang","body":"<p>I have a GUI application. In my main class I have a method (called <code>createAndShow()</code>) to initialize all my GUI classes. Inside each GUI class, I have <code>static initializer</code> to read properties files(resource bundles or configuration files). If a file or entry is missing or value is wrong, I catch the exception and then throws a <code>MissingResourceException</code> to upper level on purpose. In my <code>createAndShow()</code> method of the main class, I put a try-catch to catch <code>Exception</code>. But somehow JVM refuse to get there. Whenever a file is missing, that <code>MissingResourceException</code> is thrown and then the application just hang. I expected the <code>createAndShow()</code> method will catch that exception and exit gracefully. Is there anything special for exceptions throws from the static initializer?</p>\n\n<p>I am using XP and java 1.6.</p>\n"},{"tags":["java","unit-testing","instancio"],"answers":[{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690866042,"creation_date":1690866042,"answer_id":76808627,"question_id":76805805,"body_markdown":"This error occurs because you are using `supply()` to set the `Lesson.course` field:\r\n\r\n```java\r\n  .supply(field(Lesson::getCourse), () -&gt; Instancio.of(COURSE_TEST_MODEL).create())\r\n```\r\n\r\nEssentially, you are creating a separate instance of `Course` and then passing it to `supply()`. Since the `Course` was created separately, the second call to `Instancio.create()` doesn&#39;t know what values the course contains. As a result, the assignment is not evaluated and the error is thrown.\r\n\r\nThis can be fixed by generating the entire `Lesson` (including `Course`) within a single `Instancio.create()` call:\r\n\r\n```java\r\npublic static final Model&lt;Lesson&gt; LESSON_TEST_MODEL = Instancio.of(Lesson.class)\r\n    .supply(field(Lesson::getId), () -&gt; START_LESSON_ID.getAndSet(START_LESSON_ID.get() + DEFAULT_INCREMENT_STEP))\r\n    // generate Course as part of the Lesson instead of using supply()\r\n    .generate(field(Course::getSubject), gen -&gt; gen.oneOf(&quot;Mathematics&quot;, &quot;History&quot;, &quot;Literature&quot;, &quot;Physics&quot;, &quot;Computer Science&quot;))\r\n    .assign(given(field(Course::getSubject), field(Lesson::getTitle))\r\n            .set(When.is(&quot;Mathematics&quot;), &quot;Math Lesson&quot;)\r\n            .set(When.is(&quot;History&quot;), &quot;History Lesson&quot;)\r\n            .set(When.is(&quot;Literature&quot;), &quot;Literature Lesson&quot;)\r\n            .set(When.is(&quot;Physics&quot;), &quot;Physics Lesson&quot;)\r\n            .set(When.is(&quot;Computer Science&quot;), &quot;Computer Science Lesson&quot;))\r\n    .assign(given(field(Course::getSubject), field(Lesson::getDescription))\r\n            .set(When.is(&quot;Mathematics&quot;), &quot;Lesson on mathematics concepts&quot;)\r\n            .set(When.is(&quot;History&quot;), &quot;Lesson on world history&quot;)\r\n            .set(When.is(&quot;Literature&quot;), &quot;Lesson on classical literature&quot;)\r\n            .set(When.is(&quot;Physics&quot;), &quot;Lesson on fundamental physics&quot;)\r\n            .set(When.is(&quot;Computer Science&quot;), &quot;Lesson on computer programming&quot;))\r\n    .toModel();\r\n```","title":"Instancio assign value based on another class field","body":"<p>This error occurs because you are using <code>supply()</code> to set the <code>Lesson.course</code> field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  .supply(field(Lesson::getCourse), () -&gt; Instancio.of(COURSE_TEST_MODEL).create())\n</code></pre>\n<p>Essentially, you are creating a separate instance of <code>Course</code> and then passing it to <code>supply()</code>. Since the <code>Course</code> was created separately, the second call to <code>Instancio.create()</code> doesn't know what values the course contains. As a result, the assignment is not evaluated and the error is thrown.</p>\n<p>This can be fixed by generating the entire <code>Lesson</code> (including <code>Course</code>) within a single <code>Instancio.create()</code> call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Model&lt;Lesson&gt; LESSON_TEST_MODEL = Instancio.of(Lesson.class)\n    .supply(field(Lesson::getId), () -&gt; START_LESSON_ID.getAndSet(START_LESSON_ID.get() + DEFAULT_INCREMENT_STEP))\n    // generate Course as part of the Lesson instead of using supply()\n    .generate(field(Course::getSubject), gen -&gt; gen.oneOf(&quot;Mathematics&quot;, &quot;History&quot;, &quot;Literature&quot;, &quot;Physics&quot;, &quot;Computer Science&quot;))\n    .assign(given(field(Course::getSubject), field(Lesson::getTitle))\n            .set(When.is(&quot;Mathematics&quot;), &quot;Math Lesson&quot;)\n            .set(When.is(&quot;History&quot;), &quot;History Lesson&quot;)\n            .set(When.is(&quot;Literature&quot;), &quot;Literature Lesson&quot;)\n            .set(When.is(&quot;Physics&quot;), &quot;Physics Lesson&quot;)\n            .set(When.is(&quot;Computer Science&quot;), &quot;Computer Science Lesson&quot;))\n    .assign(given(field(Course::getSubject), field(Lesson::getDescription))\n            .set(When.is(&quot;Mathematics&quot;), &quot;Lesson on mathematics concepts&quot;)\n            .set(When.is(&quot;History&quot;), &quot;Lesson on world history&quot;)\n            .set(When.is(&quot;Literature&quot;), &quot;Lesson on classical literature&quot;)\n            .set(When.is(&quot;Physics&quot;), &quot;Lesson on fundamental physics&quot;)\n            .set(When.is(&quot;Computer Science&quot;), &quot;Lesson on computer programming&quot;))\n    .toModel();\n</code></pre>\n"}],"owner":{"account_id":25486283,"reputation":41,"user_id":19281826,"display_name":"yaroslav96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76808627,"answer_count":1,"score":3,"last_activity_date":1690866106,"creation_date":1690823537,"question_id":76805805,"body_markdown":"I&#39;m going to create a lesson model with fields based on course subject:\r\n\r\nLesson:\r\n\r\n    @Data\r\n    public class Lesson {\r\n        private Long id;\r\n        private Course course;\r\n        private String title;\r\n        private String description;\r\n    }\r\n\r\nCourse:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class Course {\r\n        private Long code;\r\n        private String subject;\r\n        private String description;\r\n        private Set&lt;User&gt; users;\r\n    }\r\n\r\n    public static final Model&lt;Lesson&gt; LESSON_TEST_MODEL = Instancio.of(Lesson.class)\r\n                .supply(field(Lesson::getId), () -&gt; START_LESSON_ID.getAndSet(START_LESSON_ID.get() + DEFAULT_INCREMENT_STEP))\r\n                .supply(field(Lesson::getCourse), () -&gt; Instancio.of(COURSE_TEST_MODEL).create())\r\n                .assign(given(field(Course::getSubject), field(Lesson::getTitle))\r\n                        .set(When.is(&quot;Mathematics&quot;), &quot;Math Lesson&quot;)\r\n                        .set(When.is(&quot;History&quot;), &quot;History Lesson&quot;)\r\n                        .set(When.is(&quot;Literature&quot;), &quot;Literature Lesson&quot;)\r\n                        .set(When.is(&quot;Physics&quot;), &quot;Physics Lesson&quot;)\r\n                        .set(When.is(&quot;Computer Science&quot;), &quot;Computer Science Lesson&quot;))\r\n                .assign(given(field(Course::getSubject), field(Lesson::getDescription))\r\n                        .set(When.is(&quot;Mathematics&quot;), &quot;Lesson on mathematics concepts&quot;)\r\n                        .set(When.is(&quot;History&quot;), &quot;Lesson on world history&quot;)\r\n                        .set(When.is(&quot;Literature&quot;), &quot;Lesson on classical literature&quot;)\r\n                        .set(When.is(&quot;Physics&quot;), &quot;Lesson on fundamental physics&quot;)\r\n                        .set(When.is(&quot;Computer Science&quot;), &quot;Lesson on computer programming&quot;))\r\n                .toModel();\r\n\r\nBut providing this line of code causes an exception:\r\n\r\n```\r\nReason: unresolved assignment expression\r\n\r\nThe following assignments could not be applied:\r\n\r\n -&gt; from [field(Course, &quot;subject&quot;)] to [field(Lesson, &quot;title&quot;)]\r\n -&gt; from [field(Course, &quot;subject&quot;)] to [field(Lesson, &quot;description&quot;)]\r\n\r\nAs a result, the following targets could not be assigned a value:\r\n\r\n -&gt; field Lesson.description (depth=1)\r\n -&gt; field Lesson.title (depth=1)\r\n```\r\n\r\nHow the issue could be resolved?","title":"Instancio assign value based on another class field","body":"<p>I'm going to create a lesson model with fields based on course subject:</p>\n<p>Lesson:</p>\n<pre><code>@Data\npublic class Lesson {\n    private Long id;\n    private Course course;\n    private String title;\n    private String description;\n}\n</code></pre>\n<p>Course:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Course {\n    private Long code;\n    private String subject;\n    private String description;\n    private Set&lt;User&gt; users;\n}\n\npublic static final Model&lt;Lesson&gt; LESSON_TEST_MODEL = Instancio.of(Lesson.class)\n            .supply(field(Lesson::getId), () -&gt; START_LESSON_ID.getAndSet(START_LESSON_ID.get() + DEFAULT_INCREMENT_STEP))\n            .supply(field(Lesson::getCourse), () -&gt; Instancio.of(COURSE_TEST_MODEL).create())\n            .assign(given(field(Course::getSubject), field(Lesson::getTitle))\n                    .set(When.is(&quot;Mathematics&quot;), &quot;Math Lesson&quot;)\n                    .set(When.is(&quot;History&quot;), &quot;History Lesson&quot;)\n                    .set(When.is(&quot;Literature&quot;), &quot;Literature Lesson&quot;)\n                    .set(When.is(&quot;Physics&quot;), &quot;Physics Lesson&quot;)\n                    .set(When.is(&quot;Computer Science&quot;), &quot;Computer Science Lesson&quot;))\n            .assign(given(field(Course::getSubject), field(Lesson::getDescription))\n                    .set(When.is(&quot;Mathematics&quot;), &quot;Lesson on mathematics concepts&quot;)\n                    .set(When.is(&quot;History&quot;), &quot;Lesson on world history&quot;)\n                    .set(When.is(&quot;Literature&quot;), &quot;Lesson on classical literature&quot;)\n                    .set(When.is(&quot;Physics&quot;), &quot;Lesson on fundamental physics&quot;)\n                    .set(When.is(&quot;Computer Science&quot;), &quot;Lesson on computer programming&quot;))\n            .toModel();\n</code></pre>\n<p>But providing this line of code causes an exception:</p>\n<pre><code>Reason: unresolved assignment expression\n\nThe following assignments could not be applied:\n\n -&gt; from [field(Course, &quot;subject&quot;)] to [field(Lesson, &quot;title&quot;)]\n -&gt; from [field(Course, &quot;subject&quot;)] to [field(Lesson, &quot;description&quot;)]\n\nAs a result, the following targets could not be assigned a value:\n\n -&gt; field Lesson.description (depth=1)\n -&gt; field Lesson.title (depth=1)\n</code></pre>\n<p>How the issue could be resolved?</p>\n"},{"tags":["java","hadoop","mapreduce"],"owner":{"account_id":1538703,"reputation":1481,"user_id":1433934,"accept_rate":66,"display_name":"Paul Plato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690865294,"creation_date":1690864865,"question_id":76808557,"body_markdown":"I have a requirement where I programmatically need to access some configuration values I have have previously set on a MapReduce Job. The way that I set the configuration object \r\n\r\n     final Configuration conf = new Configuration();\r\n     conf.set(&quot;x&quot;, y));\r\n     ......\r\n     final Job job = Job.getInstance(conf, getJobName());\r\n\r\n\r\nI am able to access to access these values from the mapper code. However I use the JobClient to get an instance of RunningJob and I try to retrieve these values from\r\nthe configuration object returned by the getConfiguration() method. I do not see the values that I set. \r\n\r\nCould I be doing something wrong?","title":"Missing configuration keys in MapReduce RunningJob interface","body":"<p>I have a requirement where I programmatically need to access some configuration values I have have previously set on a MapReduce Job. The way that I set the configuration object</p>\n<pre><code> final Configuration conf = new Configuration();\n conf.set(&quot;x&quot;, y));\n ......\n final Job job = Job.getInstance(conf, getJobName());\n</code></pre>\n<p>I am able to access to access these values from the mapper code. However I use the JobClient to get an instance of RunningJob and I try to retrieve these values from\nthe configuration object returned by the getConfiguration() method. I do not see the values that I set.</p>\n<p>Could I be doing something wrong?</p>\n"},{"tags":["java","android","kotlin","android-audiomanager"],"owner":{"account_id":29035077,"reputation":1,"user_id":22241178,"display_name":"Victor Poisson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690865026,"creation_date":1689777392,"question_id":76722478,"body_markdown":"My application makes a phone automatically answer incoming calls for a predefined length of time. However, I can&#39;t manage to trigger the speakerphone, which would also activate automatically when these incoming calls are received. Does this feature exist on Android 12 or higher?\r\n\r\npublic void answerIncomingCall(Context context) throws InterruptedException {\r\n        TelecomManager telecomManager = (TelecomManager) context.getSystemService(Context.TELECOM_SERVICE);\r\n        AudioManager audioManager = (AudioManager) context.getSystemService(AUDIO_SERVICE);\r\n\r\n        if (telecomManager != null &amp;&amp; telecomManager.isInCall()) {\r\n\r\n            //wait(1000);\r\n            // Check if the AudioManager is available\r\n            // V&#233;rifier si AudioManager est disponible\r\n            if (audioManager != null) {\r\n                if(!audioManager.isSpeakerphoneOn()) {\r\n                    audioManager.setMode(AudioManager.MODE_IN_CALL);\r\n                    audioManager.setSpeakerphoneOn(true);\r\n                }\r\n                Log.e(&quot;setSpeakerphoneOn&quot;,&quot;is:&quot;+audioManager.isSpeakerphoneOn());\r\n\r\n            }\r\n            telecomManager.acceptRingingCall();\r\n        }\r\n    }\r\n\r\nUnfortunately, the speaker doesn&#39;t activate when a call is received.","title":"How do I trigger the speakerphone automatically on an incoming call? Android 12 or Higher","body":"<p>My application makes a phone automatically answer incoming calls for a predefined length of time. However, I can't manage to trigger the speakerphone, which would also activate automatically when these incoming calls are received. Does this feature exist on Android 12 or higher?</p>\n<p>public void answerIncomingCall(Context context) throws InterruptedException {\nTelecomManager telecomManager = (TelecomManager) context.getSystemService(Context.TELECOM_SERVICE);\nAudioManager audioManager = (AudioManager) context.getSystemService(AUDIO_SERVICE);</p>\n<pre><code>    if (telecomManager != null &amp;&amp; telecomManager.isInCall()) {\n\n        //wait(1000);\n        // Check if the AudioManager is available\n        // Vérifier si AudioManager est disponible\n        if (audioManager != null) {\n            if(!audioManager.isSpeakerphoneOn()) {\n                audioManager.setMode(AudioManager.MODE_IN_CALL);\n                audioManager.setSpeakerphoneOn(true);\n            }\n            Log.e(&quot;setSpeakerphoneOn&quot;,&quot;is:&quot;+audioManager.isSpeakerphoneOn());\n\n        }\n        telecomManager.acceptRingingCall();\n    }\n}\n</code></pre>\n<p>Unfortunately, the speaker doesn't activate when a call is received.</p>\n"},{"tags":["java","package","resolution","production","uat"],"comments":[{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1690866271,"post_id":76806866,"comment_id":135408886,"body_markdown":"Cannot you put both UAT and PROD jar files in your class path with UAT jar ahead of the Prod jar?","body":"Cannot you put both UAT and PROD jar files in your class path with UAT jar ahead of the Prod jar?"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1690866398,"post_id":76806866,"comment_id":135408898,"body_markdown":"That&#39;s why I&#39;m asking this question! Can you share your answer with some details?","body":"That&#39;s why I&#39;m asking this question! Can you share your answer with some details?"},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1690866604,"post_id":76806866,"comment_id":135408922,"body_markdown":"java -cp &quot;......:uat.jar:prod.jar:....&quot; MyMainClass","body":"java -cp &quot;......:uat.jar:prod.jar:....&quot; MyMainClass"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1690866951,"post_id":76806866,"comment_id":135408951,"body_markdown":"But how to resolve the class reference? Are you saying I should specify the same package qualified name for both classes? I can&#39;t create the package twice unless it&#39;s in a separate project and doesn&#39;t look a good idea! I&#39;m not sure if I&#39;m following you correctly!","body":"But how to resolve the class reference? Are you saying I should specify the same package qualified name for both classes? I can&#39;t create the package twice unless it&#39;s in a separate project and doesn&#39;t look a good idea! I&#39;m not sure if I&#39;m following you correctly!"},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1690867434,"post_id":76806866,"comment_id":135409003,"body_markdown":"Java searches for a class in the jar files in the same order as they are specified in the class path. Once it finds one, it will stop. So, it doesn&#39;t matter if a class is defined more than once. Yes, they need to have the same package names. You may also need to have two projects. I have seen this kind of techniques widely used in very large java projects.","body":"Java searches for a class in the jar files in the same order as they are specified in the class path. Once it finds one, it will stop. So, it doesn&#39;t matter if a class is defined more than once. Yes, they need to have the same package names. You may also need to have two projects. I have seen this kind of techniques widely used in very large java projects."},{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1690869244,"post_id":76806866,"comment_id":135409218,"body_markdown":"If your project is small, and you don&#39;t feel like to split it, you can also specify your service &quot;provider&quot; classes in a configure file. You will run the UAT class if it exists. Otherwise, run the production one.","body":"If your project is small, and you don&#39;t feel like to split it, you can also specify your service &quot;provider&quot; classes in a configure file. You will run the UAT class if it exists. Otherwise, run the production one."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1690904212,"post_id":76806866,"comment_id":135416580,"body_markdown":"@CjY sorry, I don&#39;t follow you. Please provide more details. I don&#39;t know how to configure service provided.","body":"@CjY sorry, I don&#39;t follow you. Please provide more details. I don&#39;t know how to configure service provided."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1690904277,"post_id":76806866,"comment_id":135416593,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254751/discussion-between-tarekahf-and-cj-y).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254751/discussion-between-tarekahf-and-cj-y\">continue this discussion in chat</a>."}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690864462,"creation_date":1690834508,"question_id":76806866,"body_markdown":"I come across a situation where I need to put a code block that is needed only for unit tests or QA, and it must not be present for production. This must be implemented so that the code is maintainable and readable. I am thinking about this and below is one approach, but I need help to finalize it...\r\n\r\nDevelop the class `ServiceClient` which needs to invoke a REST Service with SSL. The service needs to initiate `SSLContext` and on the UAT environment, we need to add this code block to be executed only in the test environment:\r\n\r\n```\r\npackage com.uat.environment;\r\npublic class ServiceClient extends com.prod.environment.ServiceClient {\r\n...\r\n...\r\n    static {\r\n        //for localhost testing only\r\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\r\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n                if (hostname.equals(&quot;localhost&quot;)) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n...\r\n...\r\n}\r\n```\r\nNote: replace the keyword above `newJavaKeyword` with `new` as it won&#39;t let me post it using new for some reason.\r\n\r\nThe above code block will disable matching the hostname for localhost with the self-signed certificate owner/issuer `CN=Tom Akehurst` for WireMock.\r\n\r\nThe correct version of the class `ServiceClient` intended for the production environment will be developed in the package `com.prod.environment` as follows without the static code block above:\r\n\r\n```\r\npackage com.prod.environment;\r\npublic class ServiceClient {\r\n...\r\n...\r\n  public void ServiceClient() {\r\n    ...\r\n    ...\r\n  }\r\n...\r\n...\r\n}\r\n```\r\n\r\nThen, will ensure to configure maven `pom.xml` to generate two jar files `service_uat.jar` and `service_prod.jar`. That is, one will have the UAT package, and the other will have the production package. When running the program using `java.exe&#39; I want to configure the `classpath` so that if the UAT jar file is present in the classpath, then when the client code references the class name `ServiceClass` it will pick the UAT version. And, if I don&#39;t add the UAT jar and only add the prod jar to the classpath, then the client code will pick the `ServiceClass` from the prod package.\r\n\r\nThe client code will be something like the following:\r\n\r\n```\r\nimport com.prod.environment.ServiceClass;\r\nimport com.uat.environment.ServiceClass;\r\n\r\npublic static void main() {\r\n  ...\r\n  ServiceClass service = new ServiceClass();\r\n  ...\r\n}\r\n```\r\n\r\nWhat I want to happen is that if the UAT jar is present, it should pick the UAT version, if not, it will pick the prod version.\r\n\r\nI am not sure how to achieve this objective... I think the compiler will report an error if I try to import the same class name from two different packages.\r\n\r\nWhat is the appropriate way to achieve this?\r\n\r\n------------\r\nUpdate:\r\n======\r\n\r\nI am thinking about this ... maybe we can introduce a factory class called `ServiceClientFactory`. This class will be responsible for referencing/creating the correct version of the `ServiceClient` class and triggering the static block. The `ServiceClientFactory` will check if the package `com.uat.environment` is present and then reference the class using `com.uat.environment.ServiceClient`, if not present then reference the prod version `com.prod.environment.ServiceClient`.\r\n\r\nI am nor sure how to do that and appreciate your help.","title":"Develop the same java class in two different packages one for UAT and one for production","body":"<p>I come across a situation where I need to put a code block that is needed only for unit tests or QA, and it must not be present for production. This must be implemented so that the code is maintainable and readable. I am thinking about this and below is one approach, but I need help to finalize it...</p>\n<p>Develop the class <code>ServiceClient</code> which needs to invoke a REST Service with SSL. The service needs to initiate <code>SSLContext</code> and on the UAT environment, we need to add this code block to be executed only in the test environment:</p>\n<pre><code>package com.uat.environment;\npublic class ServiceClient extends com.prod.environment.ServiceClient {\n...\n...\n    static {\n        //for localhost testing only\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n                if (hostname.equals(&quot;localhost&quot;)) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n...\n...\n}\n</code></pre>\n<p>Note: replace the keyword above <code>newJavaKeyword</code> with <code>new</code> as it won't let me post it using new for some reason.</p>\n<p>The above code block will disable matching the hostname for localhost with the self-signed certificate owner/issuer <code>CN=Tom Akehurst</code> for WireMock.</p>\n<p>The correct version of the class <code>ServiceClient</code> intended for the production environment will be developed in the package <code>com.prod.environment</code> as follows without the static code block above:</p>\n<pre><code>package com.prod.environment;\npublic class ServiceClient {\n...\n...\n  public void ServiceClient() {\n    ...\n    ...\n  }\n...\n...\n}\n</code></pre>\n<p>Then, will ensure to configure maven <code>pom.xml</code> to generate two jar files <code>service_uat.jar</code> and <code>service_prod.jar</code>. That is, one will have the UAT package, and the other will have the production package. When running the program using <code>java.exe' I want to configure the </code>classpath<code>so that if the UAT jar file is present in the classpath, then when the client code references the class name</code>ServiceClass<code>it will pick the UAT version. And, if I don't add the UAT jar and only add the prod jar to the classpath, then the client code will pick the</code>ServiceClass` from the prod package.</p>\n<p>The client code will be something like the following:</p>\n<pre><code>import com.prod.environment.ServiceClass;\nimport com.uat.environment.ServiceClass;\n\npublic static void main() {\n  ...\n  ServiceClass service = new ServiceClass();\n  ...\n}\n</code></pre>\n<p>What I want to happen is that if the UAT jar is present, it should pick the UAT version, if not, it will pick the prod version.</p>\n<p>I am not sure how to achieve this objective... I think the compiler will report an error if I try to import the same class name from two different packages.</p>\n<p>What is the appropriate way to achieve this?</p>\n<hr />\n<h1>Update:</h1>\n<p>I am thinking about this ... maybe we can introduce a factory class called <code>ServiceClientFactory</code>. This class will be responsible for referencing/creating the correct version of the <code>ServiceClient</code> class and triggering the static block. The <code>ServiceClientFactory</code> will check if the package <code>com.uat.environment</code> is present and then reference the class using <code>com.uat.environment.ServiceClient</code>, if not present then reference the prod version <code>com.prod.environment.ServiceClient</code>.</p>\n<p>I am nor sure how to do that and appreciate your help.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7644062,"reputation":597,"user_id":5795310,"display_name":"Rosario Vivas"},"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1482354130,"creation_date":1457033072,"answer_id":35781200,"question_id":35780980,"body_markdown":"see [this][1] answer\r\n\r\nif your API level &gt; 13 try this if you are in activity\r\n\r\n    Display display = getWindowManager().getDefaultDisplay();\r\n    Point size = new Point();\r\n    display.getSize(size);\r\n    int width = size.x;\r\n    int height = size.y;\r\n\r\nIf you&#39;re not in an Activity you can get the default Display via WINDOW_SERVICE:\r\n\r\n    WindowManager wm = (WindowManager)    context.getSystemService(Context.WINDOW_SERVICE);\r\n    Display display = wm.getDefaultDisplay();\r\n\r\ngetWidth and getHeight is for API level 13 or less\r\n\r\n**UPDATE**\r\n\r\nFor API 17 and higher method `Display.getRealSize()` returns full size of screen, as mentioned [in documentation][2]:\r\n\r\n&gt; Gets the real size of the display\r\n&gt; without subtracting any window decor or applying any compatibility\r\n&gt; scale factors.\r\n&gt; \r\n&gt; The size is adjusted based on the current rotation of the display.\r\n&gt; \r\n&gt; The real size may be smaller than the physical size of the screen when\r\n&gt; the window manager is emulating a smaller display (using adb shell am\r\n&gt; display-size).\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1016941/5795310\r\n  [2]: https://developer.android.com/reference/android/view/Display.html#getRealSize(android.graphics.Point)","title":"Getting the actual screen height (android)","body":"<p>see <a href=\"https://stackoverflow.com/a/1016941/5795310\">this</a> answer</p>\n\n<p>if your API level > 13 try this if you are in activity</p>\n\n<pre><code>Display display = getWindowManager().getDefaultDisplay();\nPoint size = new Point();\ndisplay.getSize(size);\nint width = size.x;\nint height = size.y;\n</code></pre>\n\n<p>If you're not in an Activity you can get the default Display via WINDOW_SERVICE:</p>\n\n<pre><code>WindowManager wm = (WindowManager)    context.getSystemService(Context.WINDOW_SERVICE);\nDisplay display = wm.getDefaultDisplay();\n</code></pre>\n\n<p>getWidth and getHeight is for API level 13 or less</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>For API 17 and higher method <code>Display.getRealSize()</code> returns full size of screen, as mentioned <a href=\"https://developer.android.com/reference/android/view/Display.html#getRealSize(android.graphics.Point)\" rel=\"noreferrer\">in documentation</a>:</p>\n\n<blockquote>\n  <p>Gets the real size of the display\n  without subtracting any window decor or applying any compatibility\n  scale factors.</p>\n  \n  <p>The size is adjusted based on the current rotation of the display.</p>\n  \n  <p>The real size may be smaller than the physical size of the screen when\n  the window manager is emulating a smaller display (using adb shell am\n  display-size).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9089962,"reputation":3525,"user_id":6766264,"accept_rate":0,"display_name":"Makvin"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1500358306,"creation_date":1500358306,"answer_id":45158798,"question_id":35780980,"body_markdown":"    int width=Resources.getSystem().getDisplayMetrics().widthPixels;\r\n    int height=Resources.getSystem().getDisplayMetrics().heightPixels;","title":"Getting the actual screen height (android)","body":"<pre><code>int width=Resources.getSystem().getDisplayMetrics().widthPixels;\nint height=Resources.getSystem().getDisplayMetrics().heightPixels;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":251953,"reputation":10444,"user_id":529663,"display_name":"lenooh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1500549863,"creation_date":1500549863,"answer_id":45213314,"question_id":35780980,"body_markdown":"I needed to get the **actual** available height, and out of all the options this is the only thing that worked for me.\r\n\r\nCreate a rectangle, and get its dimensions:\r\n\r\n    Rect r = new Rect();\r\n    activityRootView.getWindowVisibleDisplayFrame(r);\r\n    int screenHeight = r.bottom - r.top;\r\n\r\nwhere `activityRootView` is the root view of your layout.\r\n\r\nIf you need to extract the toolbar height:\r\n\r\n    int availableScreenHeight = screenHeight - toolbar.getHeight();\r\n\r\nwhere `toolbar` is your toolbar view.\r\n\r\n`availableScreenHeight` will now be without the statusbar, without the toolbar, and without the navigation bar (if the device is using it).\r\n\r\n \r\n\r\n\r\n","title":"Getting the actual screen height (android)","body":"<p>I needed to get the <strong>actual</strong> available height, and out of all the options this is the only thing that worked for me.</p>\n\n<p>Create a rectangle, and get its dimensions:</p>\n\n<pre><code>Rect r = new Rect();\nactivityRootView.getWindowVisibleDisplayFrame(r);\nint screenHeight = r.bottom - r.top;\n</code></pre>\n\n<p>where <code>activityRootView</code> is the root view of your layout.</p>\n\n<p>If you need to extract the toolbar height:</p>\n\n<pre><code>int availableScreenHeight = screenHeight - toolbar.getHeight();\n</code></pre>\n\n<p>where <code>toolbar</code> is your toolbar view.</p>\n\n<p><code>availableScreenHeight</code> will now be without the statusbar, without the toolbar, and without the navigation bar (if the device is using it).</p>\n"},{"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572856813,"creation_date":1572855071,"answer_id":58689388,"question_id":35780980,"body_markdown":"You can try this:   \r\n\r\n     WindowManager wm = getWindowManager();\r\n     Display d = wm.getDefaultDisplay();\r\n     Point size = new Point();\r\n     d.getSize(size);\r\n     Log.i(&quot;LOG&quot;, &quot;W=&quot; + size.x + &quot; , H=&quot; + size.y);","title":"Getting the actual screen height (android)","body":"<p>You can try this:   </p>\n\n<pre><code> WindowManager wm = getWindowManager();\n Display d = wm.getDefaultDisplay();\n Point size = new Point();\n d.getSize(size);\n Log.i(\"LOG\", \"W=\" + size.x + \" , H=\" + size.y);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24163995,"reputation":29,"user_id":18127135,"display_name":"Mohammad Reza Alizadeh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1645533113,"creation_date":1645533113,"answer_id":71221366,"question_id":35780980,"body_markdown":"you can use this code:\r\n\r\n    val display = windowManager.defaultDisplay\r\n    val size = Point()\r\n    display.getSize(size)\r\n    val width: Int = size.x\r\n    val height: Int = size.y","title":"Getting the actual screen height (android)","body":"<p>you can use this code:</p>\n<pre><code>val display = windowManager.defaultDisplay\nval size = Point()\ndisplay.getSize(size)\nval width: Int = size.x\nval height: Int = size.y\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15250517,"reputation":65,"user_id":11004027,"display_name":"TorryDo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690864358,"creation_date":1690811277,"answer_id":76804273,"question_id":35780980,"body_markdown":"Using this library: [TorryDo/ScreenEasy](https://github.com/TorryDo/ScreenEasy). (I&#39;m the author btw)\r\n\r\n```kotlin\r\nScreenEz.with(context) // call once, see the docs for java support.\r\n\r\nval width = ScreenEz.fullWidth\r\nval height = ScreenEz.fullHeight\r\n...\r\n```\r\n\r\nWith this, you won&#39;t have to worry about handling deprecated codes for different Android Versions.","title":"Getting the actual screen height (android)","body":"<p>Using this library: <a href=\"https://github.com/TorryDo/ScreenEasy\" rel=\"nofollow noreferrer\">TorryDo/ScreenEasy</a>. (I'm the author btw)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ScreenEz.with(context) // call once, see the docs for java support.\n\nval width = ScreenEz.fullWidth\nval height = ScreenEz.fullHeight\n...\n</code></pre>\n<p>With this, you won't have to worry about handling deprecated codes for different Android Versions.</p>\n"}],"owner":{"account_id":7356747,"reputation":343,"user_id":5601246,"accept_rate":82,"display_name":"Taegos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47351,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":35781200,"answer_count":6,"score":16,"last_activity_date":1690864358,"creation_date":1457032363,"question_id":35780980,"body_markdown":"I want to get the actual screen height of the device that runs my app. To achieve this i try the following:\r\n\r\n    DisplayMetrics metrics = new DisplayMetrics();\r\n    getWindowManager().getDefaultDisplay().getMetrics(metrics);\r\n    \r\n    int Height = metrics.heightPixels;\r\n    TextView HeightView = (TextView) findViewById(R.id.screenHeight);\r\n    HeightView.setText(&quot;Screen Height: &quot; + Height);\r\n    \r\n    int Width = metrics.widthPixels;\r\n    TextView WidthView = (TextView) findViewById(R.id.screenWidth);\r\n    WidthView.setText(&quot;Screen Width: &quot; + Width);\r\n\r\nThe device that I run using the emulator has a screen width of 1080 pixels and a screen height of 1920 pixels. The width is displayed correctly (1080 pixels) but the height is according to the app only 1776 pixels. What do I need to make my app display the correct screen height? Is `metrics.heightPixels` a bad way of getting the screen height? ","title":"Getting the actual screen height (android)","body":"<p>I want to get the actual screen height of the device that runs my app. To achieve this i try the following:</p>\n<pre><code>DisplayMetrics metrics = new DisplayMetrics();\ngetWindowManager().getDefaultDisplay().getMetrics(metrics);\n\nint Height = metrics.heightPixels;\nTextView HeightView = (TextView) findViewById(R.id.screenHeight);\nHeightView.setText(&quot;Screen Height: &quot; + Height);\n\nint Width = metrics.widthPixels;\nTextView WidthView = (TextView) findViewById(R.id.screenWidth);\nWidthView.setText(&quot;Screen Width: &quot; + Width);\n</code></pre>\n<p>The device that I run using the emulator has a screen width of 1080 pixels and a screen height of 1920 pixels. The width is displayed correctly (1080 pixels) but the height is according to the app only 1776 pixels. What do I need to make my app display the correct screen height? Is <code>metrics.heightPixels</code> a bad way of getting the screen height?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1690918034,"post_id":76808395,"comment_id":135419159,"body_markdown":"You were looking for instances of the class `JHSDBTest$ObjectHolder` and got the error message &quot;No such type.&quot; Indeed, there is no such class in your example, because your class belongs to the package `chapter9` and therefore its name is `chapter9.JHSDBTest$ObjectHolder`","body":"You were looking for instances of the class <code>JHSDBTest$ObjectHolder</code> and got the error message &quot;No such type.&quot; Indeed, there is no such class in your example, because your class belongs to the package <code>chapter9</code> and therefore its name is <code>chapter9.JHSDBTest$ObjectHolder</code>"},{"owner":{"account_id":29133148,"reputation":1,"user_id":22317923,"display_name":"竹玄羽"},"score":0,"creation_date":1691021153,"post_id":76808395,"comment_id":135435792,"body_markdown":"I followed the steps in the book, but I ignored the package name until I saw your answer. The attempt according to your answer was successful, thank you very much。","body":"I followed the steps in the book, but I ignored the package name until I saw your answer. The attempt according to your answer was successful, thank you very much。"}],"owner":{"account_id":29133148,"reputation":1,"user_id":22317923,"display_name":"竹玄羽"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690862072,"creation_date":1690862072,"question_id":76808395,"body_markdown":"I encountered a problem while learning about the JVM\r\nCode\r\n```java\r\npackage chapter9;\r\n\r\npublic class JHSDBTest {\r\n    static class Test{\r\n        static ObjectHolder staticObj = new ObjectHolder();\r\n        ObjectHolder instanceObj = new ObjectHolder();\r\n\r\n        void foo(){\r\n            ObjectHolder localObj = new ObjectHolder();\r\n            //debug\r\n            System.out.println(&quot;done&quot;);\r\n\r\n        }\r\n    }\r\n    private static class ObjectHolder{}\r\n\r\n    public static void main(String[] args) {\r\n       Test test =  new JHSDBTest.Test();\r\n       test.foo();\r\n    }\r\n}\r\n```\r\nAfter debugging, then use the jhsdb tool operation, follow the steps in the book step by step, but the result is not the same as the book.\r\nThis is what the book says\r\n[enter image description here](https://i.stack.imgur.com/R58iv.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/3s3Ib.png)\r\nThis can not help but make me confused about the storage location of static variables, the book said that after jdk7 was moved out of the permanent generation, jdk8 after the meta-space replaced the permanent generation, but the storage of static variables is not included in the meta-space, so it is stored in the heap. I looked for a lot of posts, and many people said that I was a beginner in the method area, which confused me.\r\n\r\nThis is the result of my tool\r\n[enter image description here](https://i.stack.imgur.com/QeEkm.png)\r\nI am using jdk17, does anyone know why I did not find the expected static variable in the heap? It is worth mentioning that I have VM options configured.\r\nThanks to the big guy for the guidance.","title":"Use JHSDB to see where static variables are located","body":"<p>I encountered a problem while learning about the JVM\nCode</p>\n<pre class=\"lang-java prettyprint-override\"><code>package chapter9;\n\npublic class JHSDBTest {\n    static class Test{\n        static ObjectHolder staticObj = new ObjectHolder();\n        ObjectHolder instanceObj = new ObjectHolder();\n\n        void foo(){\n            ObjectHolder localObj = new ObjectHolder();\n            //debug\n            System.out.println(&quot;done&quot;);\n\n        }\n    }\n    private static class ObjectHolder{}\n\n    public static void main(String[] args) {\n       Test test =  new JHSDBTest.Test();\n       test.foo();\n    }\n}\n</code></pre>\n<p>After debugging, then use the jhsdb tool operation, follow the steps in the book step by step, but the result is not the same as the book.\nThis is what the book says\n<a href=\"https://i.stack.imgur.com/R58iv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/3s3Ib.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis can not help but make me confused about the storage location of static variables, the book said that after jdk7 was moved out of the permanent generation, jdk8 after the meta-space replaced the permanent generation, but the storage of static variables is not included in the meta-space, so it is stored in the heap. I looked for a lot of posts, and many people said that I was a beginner in the method area, which confused me.</p>\n<p>This is the result of my tool\n<a href=\"https://i.stack.imgur.com/QeEkm.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI am using jdk17, does anyone know why I did not find the expected static variable in the heap? It is worth mentioning that I have VM options configured.\nThanks to the big guy for the guidance.</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":5023051,"reputation":3116,"user_id":4035943,"accept_rate":97,"display_name":"αƞjiβ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690860416,"creation_date":1690860416,"question_id":76808325,"body_markdown":"So far I am converting received date time value (e.g. 2023-06-27T16:57:18.894Z) as String using jackson parser. And saving in MongoDB as String all the way. Now I am trying to store it as date time in MongoDB to be able to do time based query.\r\n\r\nI updated by jackson converter field as\r\n\r\n```\r\n@JsonProperty\r\n@JsonFormat (shape = JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-ddThh:mm:ss.SSSZ)\r\nprivate String eventDateTime\r\n````\r\n\r\nMongoDb Entity\r\n````\r\n@Document(&quot;event&quot;)\r\nclass EventEntity {\r\n  private ZonedDateTime eventDateTime;\r\n  ...\r\n}\r\n````\r\nConverting String to ZonedDateTime\r\n````\r\neventEntity.setEventDateTime(ZonedDateTime.parse(event.getEventDateTime(), DateTimeFormatter.ISO_ZONED_DATE_TIME));\r\n````\r\nException\r\n````\r\nCaused by: org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class java.time.ZonedDateTime\r\n````\r\nDo I need to write codec? There should be easy way to convert string time stamp to MongoDB Date type. Any suggestion?\r\n ","title":"Converting String to DateTime format in MongoDB to support time based query","body":"<p>So far I am converting received date time value (e.g. 2023-06-27T16:57:18.894Z) as String using jackson parser. And saving in MongoDB as String all the way. Now I am trying to store it as date time in MongoDB to be able to do time based query.</p>\n<p>I updated by jackson converter field as</p>\n<pre><code>@JsonProperty\n@JsonFormat (shape = JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-ddThh:mm:ss.SSSZ)\nprivate String eventDateTime\n</code></pre>\n<p>MongoDb Entity</p>\n<pre><code>@Document(&quot;event&quot;)\nclass EventEntity {\n  private ZonedDateTime eventDateTime;\n  ...\n}\n</code></pre>\n<p>Converting String to ZonedDateTime</p>\n<pre><code>eventEntity.setEventDateTime(ZonedDateTime.parse(event.getEventDateTime(), DateTimeFormatter.ISO_ZONED_DATE_TIME));\n</code></pre>\n<p>Exception</p>\n<pre><code>Caused by: org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class java.time.ZonedDateTime\n</code></pre>\n<p>Do I need to write codec? There should be easy way to convert string time stamp to MongoDB Date type. Any suggestion?</p>\n"},{"tags":["java","kubernetes","fabric8","fabric8-kubernetes-client"],"answers":[{"tags":[],"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690860216,"creation_date":1690860216,"answer_id":76808317,"question_id":76803983,"body_markdown":"For more fine grained control over informers filtering, you can use the `inform()` method available on Resource DSL:\r\n\r\n```java\r\nSharedIndexInformer&lt;MyResource&gt; informer = client.resources(MyResource.class)\r\n  .inNamespace(&quot;default&quot;)\r\n  .withLabel(&quot;app&quot;, &quot;test-operator&quot;)\r\n  .inform(myEventHandler, 30 * 1000L);\r\n```","title":"How to filter events from fabric8 sharedIndexInformer by labels?","body":"<p>For more fine grained control over informers filtering, you can use the <code>inform()</code> method available on Resource DSL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SharedIndexInformer&lt;MyResource&gt; informer = client.resources(MyResource.class)\n  .inNamespace(&quot;default&quot;)\n  .withLabel(&quot;app&quot;, &quot;test-operator&quot;)\n  .inform(myEventHandler, 30 * 1000L);\n</code></pre>\n"}],"owner":{"account_id":3864235,"reputation":113,"user_id":3201142,"accept_rate":50,"display_name":"xerocool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76808317,"answer_count":1,"score":0,"last_activity_date":1690860216,"creation_date":1690809121,"question_id":76803983,"body_markdown":"I am on fabric8 kubernetes client v6.8.0 and initializing a sharedIndexInformer for a CRD like this:\r\n\r\n    SharedIndexInformer&lt;MyResource&gt; informer =\r\n                    sharedInformerFactory.sharedIndexInformerFor(MyResource.class, 30 * 1000L);\r\n    informer.addEventHandler(myEventHandler);\r\n\r\nI only want to receive events from resources with certain labels.\r\n\r\nThis seemed straightforward in earlier version of the client, with label selection being one of the arguments in `sharedIndexInformerFor`. \r\n\r\n    SharedIndexInformer&lt;MyResource&gt; informer =\r\n                        sharedInformerFactory.sharedIndexInformerFor(\r\n    MyResource.class, \r\n    myLabelSelector,\r\n    30 * 1000L);\r\n\r\nHow to achieve this in v6.8.0+?","title":"How to filter events from fabric8 sharedIndexInformer by labels?","body":"<p>I am on fabric8 kubernetes client v6.8.0 and initializing a sharedIndexInformer for a CRD like this:</p>\n<pre><code>SharedIndexInformer&lt;MyResource&gt; informer =\n                sharedInformerFactory.sharedIndexInformerFor(MyResource.class, 30 * 1000L);\ninformer.addEventHandler(myEventHandler);\n</code></pre>\n<p>I only want to receive events from resources with certain labels.</p>\n<p>This seemed straightforward in earlier version of the client, with label selection being one of the arguments in <code>sharedIndexInformerFor</code>.</p>\n<pre><code>SharedIndexInformer&lt;MyResource&gt; informer =\n                    sharedInformerFactory.sharedIndexInformerFor(\nMyResource.class, \nmyLabelSelector,\n30 * 1000L);\n</code></pre>\n<p>How to achieve this in v6.8.0+?</p>\n"},{"tags":["java","android-studio","annotations"],"answers":[{"tags":[],"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690858341,"creation_date":1571933295,"answer_id":58545230,"question_id":58545040,"body_markdown":"The answer is two-fold. For `@NonNull` and `@Nullable` do the following:\r\n\r\nIf you use androidx you need to add\r\n```\r\nimplementation &#39;androidx.annotation:annotation:1.0.2&#39;\r\n```\r\nor if you use the legacy support library (your imports are for this version)\r\n```\r\nimplementation &#39;com.android.support:support-annotations:28.0.0&#39;\r\n```\r\nto your dependencies in the `build.gradle` file.\r\nThe version numbers might be different for you.\r\n\r\n&gt;**Note** that there is also the `android.annotation.Nullable` class, but it&#39;s internal API of Android-OS (causing [build errors](https://stackoverflow.com/a/54972404/8740349) if used).\r\n\r\nFor `@UnsupportedAppUsage`:\r\nThis annotation denotes that something that is internal to the Android SDK and shouldn&#39;t be used is actually in use. Using this annotation in your code doesn&#39;t make a whole lot of sense. Additionally the annotation is hidden in the SDK and cannot be used by you.\r\n","title":"How do you import the NonNull annotation correctly into android studio?","body":"<p>The answer is two-fold. For <code>@NonNull</code> and <code>@Nullable</code> do the following:</p>\n<p>If you use androidx you need to add</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.0.2'\n</code></pre>\n<p>or if you use the legacy support library (your imports are for this version)</p>\n<pre><code>implementation 'com.android.support:support-annotations:28.0.0'\n</code></pre>\n<p>to your dependencies in the <code>build.gradle</code> file.\nThe version numbers might be different for you.</p>\n<blockquote>\n<p><strong>Note</strong> that there is also the <code>android.annotation.Nullable</code> class, but it's internal API of Android-OS (causing <a href=\"https://stackoverflow.com/a/54972404/8740349\">build errors</a> if used).</p>\n</blockquote>\n<p>For <code>@UnsupportedAppUsage</code>:\nThis annotation denotes that something that is internal to the Android SDK and shouldn't be used is actually in use. Using this annotation in your code doesn't make a whole lot of sense. Additionally the annotation is hidden in the SDK and cannot be used by you.</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598403507,"creation_date":1598403507,"answer_id":63589048,"question_id":58545040,"body_markdown":"In your app/build.gradle file: \r\n\r\n    dependencies {\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    }\r\n\r\nIn your Java class:\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n\r\nThen you use @NonNull in your field/variables like so: \r\n\r\n    @NonNull\r\n    public final JSONObject content;\r\n\r\n\r\n\r\n","title":"How do you import the NonNull annotation correctly into android studio?","body":"<p>In your app/build.gradle file:</p>\n<pre><code>dependencies {\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n}\n</code></pre>\n<p>In your Java class:</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n</code></pre>\n<p>Then you use @NonNull in your field/variables like so:</p>\n<pre><code>@NonNull\npublic final JSONObject content;\n</code></pre>\n"}],"owner":{"account_id":16963127,"reputation":49,"user_id":12269772,"display_name":"EdwardV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6264,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1690858341,"creation_date":1571932595,"question_id":58545040,"body_markdown":"I want to use annotations for NonNull, Nullable and UnsopportedAppUsage in my Handler-file, but the 2nd, 3rd and 4th line gives me an error. How do I fix this?\r\n\r\n    package android.os;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.annotation.Nullable;\r\n    import android.annotation.UnsupportedAppUsage;\r\n    import android.util.Log;\r\n    import android.util.Printer;","title":"How do you import the NonNull annotation correctly into android studio?","body":"<p>I want to use annotations for NonNull, Nullable and UnsopportedAppUsage in my Handler-file, but the 2nd, 3rd and 4th line gives me an error. How do I fix this?</p>\n\n<pre><code>package android.os;\nimport android.support.annotation.NonNull;\nimport android.support.annotation.Nullable;\nimport android.annotation.UnsupportedAppUsage;\nimport android.util.Log;\nimport android.util.Printer;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1661183394,"post_id":73447571,"comment_id":129705819,"body_markdown":"Why webview ? Ok, with webview, if you like, you can scan the local network with Javascript https://stackoverflow.com/questions/15031625/can-i-scan-my-local-network-for-specific-open-ports-quickly . If not you can scan for a HTTP response with any http client for Android OkHttp, Retrofit, etc.","body":"Why webview ? Ok, with webview, if you like, you can scan the local network with Javascript <a href=\"https://stackoverflow.com/questions/15031625/can-i-scan-my-local-network-for-specific-open-ports-quickly\" title=\"can i scan my local network for specific open ports quickly\">stackoverflow.com/questions/15031625/&hellip;</a> . If not you can scan for a HTTP response with any http client for Android OkHttp, Retrofit, etc."}],"answers":[{"tags":[],"owner":{"account_id":4792863,"reputation":116,"user_id":3871526,"display_name":"Ricardo Rodriguez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690855607,"creation_date":1690855607,"answer_id":76808092,"question_id":73447571,"body_markdown":"Since there are no details on your question regarding on which environment you want to do that. I can tell you there is mdns in Android or apple bonjour for ios/macos.\r\nI am sure there something similar in linux or windows.\r\n\r\nhttps://developer.apple.com/bonjour/\r\n\r\nhttps://developer.android.com/training/connect-devices-wirelessly/nsd\r\n\r\nIn android at least it is super easy to implement a network discovery service.\r\n\r\nHope this helps.","title":"Java - How to ping local IPs to find device with web app?","body":"<p>Since there are no details on your question regarding on which environment you want to do that. I can tell you there is mdns in Android or apple bonjour for ios/macos.\nI am sure there something similar in linux or windows.</p>\n<p><a href=\"https://developer.apple.com/bonjour/\" rel=\"nofollow noreferrer\">https://developer.apple.com/bonjour/</a></p>\n<p><a href=\"https://developer.android.com/training/connect-devices-wirelessly/nsd\" rel=\"nofollow noreferrer\">https://developer.android.com/training/connect-devices-wirelessly/nsd</a></p>\n<p>In android at least it is super easy to implement a network discovery service.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690857751,"creation_date":1690857390,"answer_id":76808181,"question_id":73447571,"body_markdown":"Well ... for a start, what you are describing is not an (ICMP) ping.  Which is a good thing because ICMP ping wouldn&#39;t help here.\r\n\r\nWhat you are actually suggesting (I think) is probing for a web server running on 192.168.1.X port 4600.  To do that you simply need to attempt to do an HTTP GET or HEAD request to (I guess) `http://192.168.1.X:4600/wui` for each `X` in 0 through 255 ... or\r\nwhatever range you are scanning.\r\n\r\nThe most likely responses will be as follows:\r\n\r\n  - An HTTP response with a 2xx status code probably means you have found it.\r\n  - An HTTP response with a 4xx or 5xx status code probably means you have found some other random web server on port 4600.  It might also indicate that your device is not working.\r\n  - A Connection Refused exception means that the IP is in use, but nothing is listing on that port.\r\n  - A Connection Timeout exception means that either the IP is not in use or a firewall is blocking that port.\r\n\r\nThat should be sufficient to find your device ... if it is connected and working properly.\r\n\r\nThere are a number of Android libraries for making HTTP requests.  I&#39;ll leave it to you to research that.  You may want to probe the IPs in parallel (e.g. using multiple threads), and/or use a short connection timeout.","title":"Java - How to ping local IPs to find device with web app?","body":"<p>Well ... for a start, what you are describing is not an (ICMP) ping.  Which is a good thing because ICMP ping wouldn't help here.</p>\n<p>What you are actually suggesting (I think) is probing for a web server running on 192.168.1.X port 4600.  To do that you simply need to attempt to do an HTTP GET or HEAD request to (I guess) <code>http://192.168.1.X:4600/wui</code> for each <code>X</code> in 0 through 255 ... or\nwhatever range you are scanning.</p>\n<p>The most likely responses will be as follows:</p>\n<ul>\n<li>An HTTP response with a 2xx status code probably means you have found it.</li>\n<li>An HTTP response with a 4xx or 5xx status code probably means you have found some other random web server on port 4600.  It might also indicate that your device is not working.</li>\n<li>A Connection Refused exception means that the IP is in use, but nothing is listing on that port.</li>\n<li>A Connection Timeout exception means that either the IP is not in use or a firewall is blocking that port.</li>\n</ul>\n<p>That should be sufficient to find your device ... if it is connected and working properly.</p>\n<p>There are a number of Android libraries for making HTTP requests.  I'll leave it to you to research that.  You may want to probe the IPs in parallel (e.g. using multiple threads), and/or use a short connection timeout.</p>\n"}],"owner":{"account_id":19656906,"reputation":3,"user_id":14389335,"display_name":"bnbored"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690857751,"creation_date":1661182124,"question_id":73447571,"body_markdown":"I have a local device (on my wifi network) that can be accessed using a web browser. However, it regularly changes its IP (it is not fixed, and, unfortunately, can&#39;t be).\r\n\r\nHow could I write a java code, for a small android app using a webview, that could scan my network and find the device&#39;s IP, quickly and easily ? Connecting to my router everytime this happens is a real pain...\r\n\r\nI&#39;m trying to find the X in the following URL : 192.168.1.**X**:4600/wui\r\n\r\nAt least, I think the port (4600) and /wui part should help narrowing the search.\r\n\r\nAny ideas ? I am completely lost there, this is way above what I can do with android studio.\r\n\r\nThanks ! :-)","title":"Java - How to ping local IPs to find device with web app?","body":"<p>I have a local device (on my wifi network) that can be accessed using a web browser. However, it regularly changes its IP (it is not fixed, and, unfortunately, can't be).</p>\n<p>How could I write a java code, for a small android app using a webview, that could scan my network and find the device's IP, quickly and easily ? Connecting to my router everytime this happens is a real pain...</p>\n<p>I'm trying to find the X in the following URL : 192.168.1.<strong>X</strong>:4600/wui</p>\n<p>At least, I think the port (4600) and /wui part should help narrowing the search.</p>\n<p>Any ideas ? I am completely lost there, this is way above what I can do with android studio.</p>\n<p>Thanks ! :-)</p>\n"},{"tags":["java","selenium-webdriver","webdrivermanager-java"],"comments":[{"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"score":1,"creation_date":1692707876,"post_id":76805244,"comment_id":135658399,"body_markdown":"The same issue is being tracked here: https://github.com/bonigarcia/webdrivermanager/issues/1086","body":"The same issue is being tracked here: <a href=\"https://github.com/bonigarcia/webdrivermanager/issues/1086\" rel=\"nofollow noreferrer\">github.com/bonigarcia/webdrivermanager/issues/1086</a>"}],"owner":{"account_id":10101958,"reputation":348,"user_id":7465804,"display_name":"Simonas Petkevičius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690857357,"creation_date":1690818813,"question_id":76805244,"body_markdown":"I am unable to quit the Selenium chrome driver with the command `driver.quit()`\r\n\r\nFor some reason, it throws a logging error, although, the logger is defined in the `JdkHttpClient.java` class.\r\n\r\n```\r\nJava.lang.NoSuchFieldError: LOG\r\n\tat org.openqa.selenium.remote.http.jdk.JdkHttpClient$5.close(JdkHttpClient.java:307) ~[selenium-http-jdk-client-4.10.0.jar:na]\r\nJdkHttpClient.java:307\r\n\tat org.openqa.selenium.devtools.Connection.close(Connection.java:190) ~[selenium-remote-driver-4.1.4.jar:na]\r\nConnection.java:190\r\n\tat java.base/java.util.Optional.ifPresent(Unknown Source) ~[na:na]\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.quit(ChromiumDriver.java:292) ~[selenium-chromium-driver-4.1.4.jar:na]\r\nChromiumDriver.java:29\r\n```\r\n\r\nI am running Spring Boot 2.7.14 \r\n\r\nRelevant dependencies\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI have an old htttpclient5 dependency due to the issue named here: [Github issue #1019][1]\r\n\r\nAnybody knows how could I fix it? Thanks!\r\n\r\n\r\n  [1]: https://github.com/bonigarcia/webdrivermanager/issues/1019","title":"Selenium unable to quit chromeDriver","body":"<p>I am unable to quit the Selenium chrome driver with the command <code>driver.quit()</code></p>\n<p>For some reason, it throws a logging error, although, the logger is defined in the <code>JdkHttpClient.java</code> class.</p>\n<pre><code>Java.lang.NoSuchFieldError: LOG\n    at org.openqa.selenium.remote.http.jdk.JdkHttpClient$5.close(JdkHttpClient.java:307) ~[selenium-http-jdk-client-4.10.0.jar:na]\nJdkHttpClient.java:307\n    at org.openqa.selenium.devtools.Connection.close(Connection.java:190) ~[selenium-remote-driver-4.1.4.jar:na]\nConnection.java:190\n    at java.base/java.util.Optional.ifPresent(Unknown Source) ~[na:na]\n    at org.openqa.selenium.chromium.ChromiumDriver.quit(ChromiumDriver.java:292) ~[selenium-chromium-driver-4.1.4.jar:na]\nChromiumDriver.java:29\n</code></pre>\n<p>I am running Spring Boot 2.7.14</p>\n<p>Relevant dependencies</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have an old htttpclient5 dependency due to the issue named here: <a href=\"https://github.com/bonigarcia/webdrivermanager/issues/1019\" rel=\"nofollow noreferrer\">Github issue #1019</a></p>\n<p>Anybody knows how could I fix it? Thanks!</p>\n"},{"tags":["java","spring-boot","rest","spring-security"],"owner":{"account_id":5867615,"reputation":439,"user_id":4621020,"display_name":"oznomal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690855403,"creation_date":1583891247,"question_id":60628192,"body_markdown":"Everything I have practiced in a professional setting has always involved having an ID that is associated with an entity, whether it be the actual user id or the id of the resource, and sometimes both get passed into the endpoint as either a request parameter or path variable. A lot of the time this seemed to be counterproductive because the user would need to already be authenticated through the spring security filter and have the proper role prior to even getting inside the endpoint. Then once inside the endpoint, we would do another check to make sure that the id that was passed as a request param or path variable, matched the one that was on the authenticated user ... the whole thing would have resembled something like this: \r\n```\r\n    @PostMapping(&quot;/do-something&quot;)\r\n    @Secured(RoleType.Names.SOME_ROLE)\r\n    public ResponseEntity addNewClient(@RequestParam final String id)\r\n    {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        MyCustomPrincipal loggedInUser = (MyCustomPrincipal) authentication.getPrincipal();\r\n\r\n        final String authenticatedId = loggedInUser.getUser().getId();\r\n\r\n        if(!authenticatedId.equals(id))\r\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n\r\n        // Make some service call and do/get something for the id provided\r\n\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```\r\n\r\nHowever, I am now working on a project of my own and have configured things where my custom principal which implements UserDetails can be passed in as such and I am really trying to figure out what would even be the purpose of having to force my endpoints to include the id as a request param or path variable in situations where I am needing the id of the authenticated user like above. Is there something that I am missing out on or is it not best practice to just pull that info off of the authenticated user? I believe it would make my endpoints and code look a lot cleaner but I don&#39;t want to go against best practices.\r\n\r\n```\r\n    @PostMapping(&quot;/do-something&quot;)\r\n    @Secured(RoleType.Names.SOME_ROLE)\r\n    public ResponseEntity addNewClient(@AuthenticationPrincipal MyCustomPrincipal principal)\r\n    {\r\n        final String id = principal.getUser().getId();\r\n        \r\n        // Make some service call and do/get something for the id provided\r\n\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```","title":"Using information from AuthenticatedPrincipal instead of request parameters or path variables in REST API","body":"<p>Everything I have practiced in a professional setting has always involved having an ID that is associated with an entity, whether it be the actual user id or the id of the resource, and sometimes both get passed into the endpoint as either a request parameter or path variable. A lot of the time this seemed to be counterproductive because the user would need to already be authenticated through the spring security filter and have the proper role prior to even getting inside the endpoint. Then once inside the endpoint, we would do another check to make sure that the id that was passed as a request param or path variable, matched the one that was on the authenticated user ... the whole thing would have resembled something like this: </p>\n\n<pre><code>    @PostMapping(\"/do-something\")\n    @Secured(RoleType.Names.SOME_ROLE)\n    public ResponseEntity addNewClient(@RequestParam final String id)\n    {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        MyCustomPrincipal loggedInUser = (MyCustomPrincipal) authentication.getPrincipal();\n\n        final String authenticatedId = loggedInUser.getUser().getId();\n\n        if(!authenticatedId.equals(id))\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n\n        // Make some service call and do/get something for the id provided\n\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n\n<p>However, I am now working on a project of my own and have configured things where my custom principal which implements UserDetails can be passed in as such and I am really trying to figure out what would even be the purpose of having to force my endpoints to include the id as a request param or path variable in situations where I am needing the id of the authenticated user like above. Is there something that I am missing out on or is it not best practice to just pull that info off of the authenticated user? I believe it would make my endpoints and code look a lot cleaner but I don't want to go against best practices.</p>\n\n<pre><code>    @PostMapping(\"/do-something\")\n    @Secured(RoleType.Names.SOME_ROLE)\n    public ResponseEntity addNewClient(@AuthenticationPrincipal MyCustomPrincipal principal)\n    {\n        final String id = principal.getUser().getId();\n\n        // Make some service call and do/get something for the id provided\n\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n"},{"tags":["java","arrays","object","generics","type-erasure"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690800981,"post_id":76802911,"comment_id":135398682,"body_markdown":"You re-define the generic type `T` on the method. Use `public T[] getArray() { ... }` instead. --- `... new T[size];` due to type erasure, this cannot work.  --- In general, mixing generics with arrays is a recipe for trouble. Not only are generics erased, while arrays are retained, generics are also invariant while arrays are covariant.","body":"You re-define the generic type <code>T</code> on the method. Use <code>public T[] getArray() { ... }</code> instead. --- <code>... new T[size];</code> due to type erasure, this cannot work.  --- In general, mixing generics with arrays is a recipe for trouble. Not only are generics erased, while arrays are retained, generics are also invariant while arrays are covariant."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1690832756,"post_id":76802911,"comment_id":135405262,"body_markdown":"ou&#39;re asking two different questions: Q1: Why does `public &lt;T&gt; T[] getArray()` give an error (e.g. `error: generic array creation`)?  Q2: why can&#39;t you create generic arrays in Java?  As the Baeldung article says, Java arrays do runtime type checking; Java generics don&#39;t.  Generics do compile time checking: they exhibit [type erasure](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html), and incur no runtime overhead.  Consequently, adding type erasure to Java arrays would BREAK &quot;backward-compatibility&quot;.","body":"ou&#39;re asking two different questions: Q1: Why does <code>public &lt;T&gt; T[] getArray()</code> give an error (e.g. <code>error: generic array creation</code>)?  Q2: why can&#39;t you create generic arrays in Java?  As the Baeldung article says, Java arrays do runtime type checking; Java generics don&#39;t.  Generics do compile time checking: they exhibit <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>, and incur no runtime overhead.  Consequently, adding type erasure to Java arrays would BREAK &quot;backward-compatibility&quot;."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1690853321,"post_id":76802911,"comment_id":135407737,"body_markdown":"Thanks for pointing it out. This is the point which I want to understand with an example. I mean what problem can occur by making the generic array assignment in the example I have provided? I need to understand the difference between runtime checking and compile time checking and why arrays need to do runtime checking?","body":"Thanks for pointing it out. This is the point which I want to understand with an example. I mean what problem can occur by making the generic array assignment in the example I have provided? I need to understand the difference between runtime checking and compile time checking and why arrays need to do runtime checking?"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1690853399,"post_id":76802911,"comment_id":135407741,"body_markdown":"@tgdavies the answer you provided gives a method to create a generic type of array. Its of great help but does not entirely address what I want to ask. Thanks!","body":"@tgdavies the answer you provided gives a method to create a generic type of array. Its of great help but does not entirely address what I want to ask. Thanks!"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690855318,"answer_count":0,"score":0,"last_activity_date":1690855325,"creation_date":1690800749,"question_id":76802911,"body_markdown":"While going through some questions on **Generics**, I came accross the question-\r\n&gt;Why can&#39;t we have Generic Arrays in Java?\r\n\r\nNext, I explored and came accross following article- https://www.baeldung.com/java-generic-array  \r\nNow, its mentioned in the article-\r\n&gt;An important difference between arrays and generics is how they enforce type checking. Specifically, arrays store and check type information at runtime. Generics, however, check for type errors at compile-time and don&#39;t have type information at runtime.  \r\n\r\nI am not able to properly understand why we can&#39;t specify generics for array.\r\nNow, I wrote a small program on my own-\r\n```\r\npackage Generics;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class TypeErasure {\r\n    private static class GenericClass&lt;T&gt; {\r\n        T[] arr; // no error\r\n\r\n        GenericClass(T[] arr) {\r\n            this.arr = arr; // no error\r\n        }\r\n\r\n        void display() {\r\n            System.out.println(Arrays.toString(arr));\r\n        }\r\n\r\n        // https://www.geeksforgeeks.org/generics-in-java/\r\n        public T[] getArray(int size) {\r\n            // T[] genericArray = new T[size]; //compile time error\r\n            // return genericArray;\r\n            return null;\r\n        }\r\n\r\n        public T[] getArray() {\r\n            return arr; // error- Type mismatch: cannot convert from T[] to T[]\r\n            // return null;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        GenericClass&lt;Integer&gt; gc = new GenericClass&lt;&gt;(new Integer[] { 1, 2, 3 });\r\n        gc.display();\r\n        gc.getArray(5);\r\n        gc.getArray();\r\n    }\r\n}\r\n```\r\nFollowing is the de-compiled .class file-\r\n```\r\npackage Generics;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class TypeErasure {\r\n    public TypeErasure() {\r\n    }\r\n\r\n    public static void main(String[] var0) {\r\n        GenericClass var1 = new GenericClass(new Integer[]{1, 2, 3});\r\n        var1.display();\r\n        var1.getArray(5);\r\n        var1.getArray();\r\n    }\r\n\r\n    private static class GenericClass&lt;T&gt; {\r\n        T[] arr;\r\n\r\n        GenericClass(T[] var1) {\r\n            this.arr = var1;\r\n        }\r\n\r\n        void display() {\r\n            System.out.println(Arrays.toString(this.arr));\r\n        }\r\n\r\n        public T[] getArray(int var1) {\r\n            return null;\r\n        }\r\n\r\n        public T[] getArray() {\r\n            return this.arr;\r\n        }\r\n    }\r\n}\r\n```\r\nMy question-    \r\nwhat problem can occur by making the generic array assignment in the example I have provided? I need to understand the difference between runtime checking and compile time checking and why arrays need to do runtime checking?\r\n\r\n\r\nCan somebody help me understand why the code commented out in **getArray()** method gives compile time error?\r\n","title":"How is the array created at runtime: Generics and Type Erasure","body":"<p>While going through some questions on <strong>Generics</strong>, I came accross the question-</p>\n<blockquote>\n<p>Why can't we have Generic Arrays in Java?</p>\n</blockquote>\n<p>Next, I explored and came accross following article- <a href=\"https://www.baeldung.com/java-generic-array\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-generic-array</a><br />\nNow, its mentioned in the article-</p>\n<blockquote>\n<p>An important difference between arrays and generics is how they enforce type checking. Specifically, arrays store and check type information at runtime. Generics, however, check for type errors at compile-time and don't have type information at runtime.</p>\n</blockquote>\n<p>I am not able to properly understand why we can't specify generics for array.\nNow, I wrote a small program on my own-</p>\n<pre><code>package Generics;\n\nimport java.util.Arrays;\n\npublic class TypeErasure {\n    private static class GenericClass&lt;T&gt; {\n        T[] arr; // no error\n\n        GenericClass(T[] arr) {\n            this.arr = arr; // no error\n        }\n\n        void display() {\n            System.out.println(Arrays.toString(arr));\n        }\n\n        // https://www.geeksforgeeks.org/generics-in-java/\n        public T[] getArray(int size) {\n            // T[] genericArray = new T[size]; //compile time error\n            // return genericArray;\n            return null;\n        }\n\n        public T[] getArray() {\n            return arr; // error- Type mismatch: cannot convert from T[] to T[]\n            // return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        GenericClass&lt;Integer&gt; gc = new GenericClass&lt;&gt;(new Integer[] { 1, 2, 3 });\n        gc.display();\n        gc.getArray(5);\n        gc.getArray();\n    }\n}\n</code></pre>\n<p>Following is the de-compiled .class file-</p>\n<pre><code>package Generics;\n\nimport java.util.Arrays;\n\npublic class TypeErasure {\n    public TypeErasure() {\n    }\n\n    public static void main(String[] var0) {\n        GenericClass var1 = new GenericClass(new Integer[]{1, 2, 3});\n        var1.display();\n        var1.getArray(5);\n        var1.getArray();\n    }\n\n    private static class GenericClass&lt;T&gt; {\n        T[] arr;\n\n        GenericClass(T[] var1) {\n            this.arr = var1;\n        }\n\n        void display() {\n            System.out.println(Arrays.toString(this.arr));\n        }\n\n        public T[] getArray(int var1) {\n            return null;\n        }\n\n        public T[] getArray() {\n            return this.arr;\n        }\n    }\n}\n</code></pre>\n<p>My question-<br />\nwhat problem can occur by making the generic array assignment in the example I have provided? I need to understand the difference between runtime checking and compile time checking and why arrays need to do runtime checking?</p>\n<p>Can somebody help me understand why the code commented out in <strong>getArray()</strong> method gives compile time error?</p>\n"},{"tags":["java","android","appwrite"],"answers":[{"tags":[],"owner":{"account_id":11039332,"reputation":582,"user_id":8107901,"display_name":"Steven Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690855117,"creation_date":1690855117,"answer_id":76808071,"question_id":76598773,"body_markdown":"I don&#39;t think you&#39;ll be able to use `android:autoVerify=&quot;true&quot;` because you can&#39;t verify cloud.appwrite.io since you don&#39;t own the domain.\r\n\r\nAlso, you should use your domain for deep linking so that you can verify it.","title":"Android Intent-Filter for https Appwrite Cloud","body":"<p>I don't think you'll be able to use <code>android:autoVerify=&quot;true&quot;</code> because you can't verify cloud.appwrite.io since you don't own the domain.</p>\n<p>Also, you should use your domain for deep linking so that you can verify it.</p>\n"}],"owner":{"account_id":25073153,"reputation":1,"user_id":22025417,"display_name":"retr12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690855117,"creation_date":1688299232,"question_id":76598773,"body_markdown":"My app didn&#39;t open Activity when I open link from appwrite cloud. Google Chrome open this link and I don&#39;t know why. Maybe trouble in ```android:pathPattern```?\r\nWhy it&#39;s don&#39;t be able to open Link? \r\n\r\nLink example: https://cloud.appwrite.io/?membershipId=64a14b25edd52bb71c5b&amp;userId=649f12deb0f48214eacc&amp;secret=c84c3a175c5f176038072dcf7b0388c159dc9a5b7c3605d52780ff2acbeb65d9bb2cd23da337b53e0357bf93c01aec61354a06ec7a531a52e5d3bc8c07338a37fdf9e923fb0f58d0dc3851f0e87d46fa55606034938a77e4acc198a5394b2502bd925e921793dfd166c4040bc0bbddce7f4814bf12b24a97134d2ae7e040ff93&amp;teamId=64985d8f02dee0a84ed7\r\n\r\nMy app manifest \r\n```\r\n&lt;activity\r\n            android:name=&quot;.FriendsActivity&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter tools:ignore=&quot;AppLinkUrlError&quot;&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;\r\n                    tools:ignore=&quot;AppLinkUrlError&quot; /&gt;\r\n                &lt;data android:host=&quot;cloud.appwrite.io&quot; android:pathPattern=&quot;/?&quot; android:scheme=&quot;http&quot;/&gt;\r\n                &lt;data android:host=&quot;cloud.appwrite.io&quot; android:pathPattern=&quot;/?&quot; android:scheme=&quot;https&quot;/&gt;\r\n                &lt;data android:host=&quot;cloud.appwrite.io&quot; android:pathPattern=&quot;/?&quot; android:scheme=&quot;android-app&quot;/&gt;\r\n                &lt;data android:scheme=&quot;http&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\nI&#39;m tried to use other host and ```android:autoVerify=&quot;true&quot;```, but this don&#39;t help.","title":"Android Intent-Filter for https Appwrite Cloud","body":"<p>My app didn't open Activity when I open link from appwrite cloud. Google Chrome open this link and I don't know why. Maybe trouble in <code>android:pathPattern</code>?\nWhy it's don't be able to open Link?</p>\n<p>Link example: <a href=\"https://cloud.appwrite.io/?membershipId=64a14b25edd52bb71c5b&amp;userId=649f12deb0f48214eacc&amp;secret=c84c3a175c5f176038072dcf7b0388c159dc9a5b7c3605d52780ff2acbeb65d9bb2cd23da337b53e0357bf93c01aec61354a06ec7a531a52e5d3bc8c07338a37fdf9e923fb0f58d0dc3851f0e87d46fa55606034938a77e4acc198a5394b2502bd925e921793dfd166c4040bc0bbddce7f4814bf12b24a97134d2ae7e040ff93&amp;teamId=64985d8f02dee0a84ed7\" rel=\"nofollow noreferrer\">https://cloud.appwrite.io/?membershipId=64a14b25edd52bb71c5b&amp;userId=649f12deb0f48214eacc&amp;secret=c84c3a175c5f176038072dcf7b0388c159dc9a5b7c3605d52780ff2acbeb65d9bb2cd23da337b53e0357bf93c01aec61354a06ec7a531a52e5d3bc8c07338a37fdf9e923fb0f58d0dc3851f0e87d46fa55606034938a77e4acc198a5394b2502bd925e921793dfd166c4040bc0bbddce7f4814bf12b24a97134d2ae7e040ff93&amp;teamId=64985d8f02dee0a84ed7</a></p>\n<p>My app manifest</p>\n<pre><code>&lt;activity\n            android:name=&quot;.FriendsActivity&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter tools:ignore=&quot;AppLinkUrlError&quot;&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;\n                    tools:ignore=&quot;AppLinkUrlError&quot; /&gt;\n                &lt;data android:host=&quot;cloud.appwrite.io&quot; android:pathPattern=&quot;/?&quot; android:scheme=&quot;http&quot;/&gt;\n                &lt;data android:host=&quot;cloud.appwrite.io&quot; android:pathPattern=&quot;/?&quot; android:scheme=&quot;https&quot;/&gt;\n                &lt;data android:host=&quot;cloud.appwrite.io&quot; android:pathPattern=&quot;/?&quot; android:scheme=&quot;android-app&quot;/&gt;\n                &lt;data android:scheme=&quot;http&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>I'm tried to use other host and <code>android:autoVerify=&quot;true&quot;</code>, but this don't help.</p>\n"},{"tags":["java","maven","spring-mvc","tomcat","servlets"],"comments":[{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1691445715,"post_id":76807951,"comment_id":135490150,"body_markdown":"With scope=provided, it&#39;s normal that the servlet jar doesn&#39;t appear in your WEB-INF/lib. It&#39;s expected to be part of your server environment - Tomcat - rather than your app.","body":"With scope=provided, it&#39;s normal that the servlet jar doesn&#39;t appear in your WEB-INF/lib. It&#39;s expected to be part of your server environment - Tomcat - rather than your app."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1691446076,"post_id":76807951,"comment_id":135490196,"body_markdown":"I&#39;d normally say this looks like a case of mismatched dependency and Tomcat versions (see, for instance, https://stackoverflow.com/q/54122724/796761). But It looks like Tomcat 9 is what you&#39;re running, which does support Servlet 4 that you&#39;ve specified, which does have the method specified.","body":"I&#39;d normally say this looks like a case of mismatched dependency and Tomcat versions (see, for instance, <a href=\"https://stackoverflow.com/q/54122724/796761\">stackoverflow.com/q/54122724/796761</a>). But It looks like Tomcat 9 is what you&#39;re running, which does support Servlet 4 that you&#39;ve specified, which does have the method specified."}],"answers":[{"tags":[],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690855075,"creation_date":1690855075,"answer_id":76808068,"question_id":76807951,"body_markdown":"Please try changing \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nsee [Maven Dependency Scope](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope)\r\n\r\nIf you want to deploy with a Servlet container, and the container already provides an appropriate version of the Servlet API, you can use `&lt;scope&gt;provided&lt;/scope&gt;`; if you don&#39;t want to rely on an external Servlet container, you&#39;d better delete `&lt;scope&gt; provided&lt;/scope&gt;`.\r\n\r\nThis is my understanding, I hope it can help you.\r\n\r\n","title":"Java.lang.NoSuchMethodError in Spring MVC","body":"<p>Please try changing</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>see <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope\" rel=\"nofollow noreferrer\">Maven Dependency Scope</a></p>\n<p>If you want to deploy with a Servlet container, and the container already provides an appropriate version of the Servlet API, you can use <code>&lt;scope&gt;provided&lt;/scope&gt;</code>; if you don't want to rely on an external Servlet container, you'd better delete <code>&lt;scope&gt; provided&lt;/scope&gt;</code>.</p>\n<p>This is my understanding, I hope it can help you.</p>\n"}],"owner":{"account_id":23417072,"reputation":11,"user_id":17477870,"display_name":"平芜尽处外"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690855075,"creation_date":1690852404,"question_id":76807951,"body_markdown":"I had some problems when I first wrote the Spring MVC project\r\n[![enter image description here](https://i.stack.imgur.com/cS4Sl.png)](https://i.stack.imgur.com/cS4Sl.png)\r\nMy pom.xml\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springmvc01-base&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;springmvc01-base Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- SpringMVC --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- 日志 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Spring5和Thymeleaf整合包 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.12.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;springmvc01-base&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nI&#39;ve added servlets in my dependencies and built successfully with Maven\r\n[![enter image description here](https://i.stack.imgur.com/aSFGE.png)](https://i.stack.imgur.com/aSFGE.png)\r\n\r\nHowever, servlet-api does not appear in the target/project/WEB-INF/lib directory\r\n[![enter image description here](https://i.stack.imgur.com/JQhe4.png)](https://i.stack.imgur.com/JQhe4.png)\r\n\r\nCan you help me?\r\n\r\nI tried clear and package maven and it didn&#39;t work","title":"Java.lang.NoSuchMethodError in Spring MVC","body":"<p>I had some problems when I first wrote the Spring MVC project\n<a href=\"https://i.stack.imgur.com/cS4Sl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cS4Sl.png\" alt=\"enter image description here\" /></a>\nMy pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;springmvc01-base&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;springmvc01-base Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- SpringMVC --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- 日志 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Spring5和Thymeleaf整合包 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n            &lt;version&gt;3.0.12.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;springmvc01-base&lt;/finalName&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I've added servlets in my dependencies and built successfully with Maven\n<a href=\"https://i.stack.imgur.com/aSFGE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSFGE.png\" alt=\"enter image description here\" /></a></p>\n<p>However, servlet-api does not appear in the target/project/WEB-INF/lib directory\n<a href=\"https://i.stack.imgur.com/JQhe4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JQhe4.png\" alt=\"enter image description here\" /></a></p>\n<p>Can you help me?</p>\n<p>I tried clear and package maven and it didn't work</p>\n"},{"tags":["java","postgresql","maven","enterprisedb","pljava"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683805741,"post_id":76226822,"comment_id":134424566,"body_markdown":"Documentation says &quot;No version of Java before 9 is supported. The PL/Java code makes use of Java features first appearing in Java 9.&quot;. Why do you believe this should work with Java 8?","body":"Documentation says &quot;No version of Java before 9 is supported. The PL/Java code makes use of Java features first appearing in Java 9.&quot;. Why do you believe this should work with Java 8?"},{"owner":{"account_id":3334528,"reputation":131,"user_id":2802517,"display_name":"Maverick"},"score":0,"creation_date":1683810694,"post_id":76226822,"comment_id":134425733,"body_markdown":"@aled https://github.com/tada/pljava/releases java 8 to 9 was done in pl java 1.6.0 below that it was supported with java8","body":"@aled <a href=\"https://github.com/tada/pljava/releases\" rel=\"nofollow noreferrer\">github.com/tada/pljava/releases</a> java 8 to 9 was done in pl java 1.6.0 below that it was supported with java8"}],"answers":[{"tags":[],"owner":{"account_id":5060604,"reputation":604,"user_id":4062350,"accept_rate":20,"display_name":"Chapman Flack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690854243,"creation_date":1690854243,"answer_id":76808028,"question_id":76226822,"body_markdown":"The error messages show failure at link time to find certain symbols inside PostgreSQL, `_errstart` and `_errfinish`. Those are important.\r\n\r\nThe question title mentions EnterpriseDB, which might be a clue. There was another issue reported not long ago where they had made some internal change in their version of PostgreSQL, making it impossible for PL/Java to link to the expected PostgreSQL API. I do not have details of anything they might have done involving `_errstart` and `_errfinish`, but it is hard to think of many other explanations for just those two symbols being unlinkable. If you were missing the PostgreSQL development files, there would be more than just two things missing.","title":"Trying to build PLJAVA 1.5.6 on java 8 + enterprisedb 15.2 fails","body":"<p>The error messages show failure at link time to find certain symbols inside PostgreSQL, <code>_errstart</code> and <code>_errfinish</code>. Those are important.</p>\n<p>The question title mentions EnterpriseDB, which might be a clue. There was another issue reported not long ago where they had made some internal change in their version of PostgreSQL, making it impossible for PL/Java to link to the expected PostgreSQL API. I do not have details of anything they might have done involving <code>_errstart</code> and <code>_errfinish</code>, but it is hard to think of many other explanations for just those two symbols being unlinkable. If you were missing the PostgreSQL development files, there would be more than just two things missing.</p>\n"}],"owner":{"account_id":3334528,"reputation":131,"user_id":2802517,"display_name":"Maverick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690854243,"creation_date":1683802252,"question_id":76226822,"body_markdown":"Modified the Changes for PLJAVA 1.5.6 since we cannot update the java version to 9 . but now linker is failing while i do the mvn clean install . doing the mvn command from microsoft visual studio command prompt as suggested in installation side\r\n\r\n\r\n```\r\n[INFO] Timestamp.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] Timestamp.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] TupleTable.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] TupleTable.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] JNICalls.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] JNICalls.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] PgObject.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] PgObject.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] PgSavepoint.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] PgSavepoint.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] Portal.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] Portal.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] ExecutionPlan.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] ExecutionPlan.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] Function.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] Function.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] InstallHelper.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] InstallHelper.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] Invocation.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] Invocation.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] AclId.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] AclId.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] Backend.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] Backend.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] Composite.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] Composite.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] Exception.obj : error LNK2001: unresolved external symbol _errstart\r\n[ERROR] Exception.obj : error LNK2001: unresolved external symbol _errstart\r\n[INFO] Type.obj : error LNK2019: unresolved external symbol _errfinish referenced in function _Type_fromJavaType\r\n[ERROR] Type.obj : error LNK2019: unresolved external symbol _errfinish referenced in function _Type_fromJavaType\r\n```\r\n\r\n\r\nTried installing but kept on failing no luck so far","title":"Trying to build PLJAVA 1.5.6 on java 8 + enterprisedb 15.2 fails","body":"<p>Modified the Changes for PLJAVA 1.5.6 since we cannot update the java version to 9 . but now linker is failing while i do the mvn clean install . doing the mvn command from microsoft visual studio command prompt as suggested in installation side</p>\n<pre><code>[INFO] Timestamp.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] Timestamp.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] TupleTable.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] TupleTable.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] JNICalls.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] JNICalls.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] PgObject.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] PgObject.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] PgSavepoint.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] PgSavepoint.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] Portal.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] Portal.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] ExecutionPlan.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] ExecutionPlan.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] Function.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] Function.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] InstallHelper.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] InstallHelper.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] Invocation.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] Invocation.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] AclId.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] AclId.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] Backend.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] Backend.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] Composite.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] Composite.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] Exception.obj : error LNK2001: unresolved external symbol _errstart\n[ERROR] Exception.obj : error LNK2001: unresolved external symbol _errstart\n[INFO] Type.obj : error LNK2019: unresolved external symbol _errfinish referenced in function _Type_fromJavaType\n[ERROR] Type.obj : error LNK2019: unresolved external symbol _errfinish referenced in function _Type_fromJavaType\n</code></pre>\n<p>Tried installing but kept on failing no luck so far</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":10943752,"reputation":190,"user_id":8042594,"display_name":"Molina12"},"score":0,"creation_date":1690822227,"post_id":76804960,"comment_id":135403325,"body_markdown":"Yes, thank you. Making the generic attribute protected worked just fine.","body":"Yes, thank you. Making the generic attribute protected worked just fine."}],"owner":{"account_id":10943752,"reputation":190,"user_id":8042594,"display_name":"Molina12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690844393,"answer_count":0,"score":0,"last_activity_date":1690853027,"creation_date":1690816392,"question_id":76804960,"body_markdown":"Say we have the following classes:\r\n\r\n\r\n```\r\nclass ParentPayload {\r\n private String generic;\r\n public ParentPayload() {}\r\n\r\n}\r\n```\r\nand \r\n\r\n\r\n```\r\nclass ChildPayload extends Parent {\r\n private String childSpecific;\r\n public ChildPayload() {\r\n  super();\r\n }\r\n\r\n}\r\n```\r\n\r\nThen I have a lambda:\r\n\r\n\r\n```\r\npublic class Lambda  implements RequestHandler&lt;ChildPayload, Void&gt; {\r\n public Void handleRequest(final ChildPayload payload) {\r\n  //the payload does not include the generic attribute, only childSpecific\r\n }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried using param constructors, but Lambda only uses the empty constructor.\r\nI was expecting that Lambda would cast the request correctly to include the generic parameter as well as childSpecific","title":"Extending base class for payload class in AWS Lambda","body":"<p>Say we have the following classes:</p>\n<pre><code>class ParentPayload {\n private String generic;\n public ParentPayload() {}\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>class ChildPayload extends Parent {\n private String childSpecific;\n public ChildPayload() {\n  super();\n }\n\n}\n</code></pre>\n<p>Then I have a lambda:</p>\n<pre><code>public class Lambda  implements RequestHandler&lt;ChildPayload, Void&gt; {\n public Void handleRequest(final ChildPayload payload) {\n  //the payload does not include the generic attribute, only childSpecific\n }\n}\n</code></pre>\n<p>I tried using param constructors, but Lambda only uses the empty constructor.\nI was expecting that Lambda would cast the request correctly to include the generic parameter as well as childSpecific</p>\n"},{"tags":["java","exception","junit","mockito"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1690849203,"post_id":76807771,"comment_id":135407309,"body_markdown":"It sounds like a strange problem. Doesn&#39;t the test only care that an exception was thrown or not thrown? Which is what `assertThrows` does. You want your test to assert that an exception was thrown, caught and not rethrown?","body":"It sounds like a strange problem. Doesn&#39;t the test only care that an exception was thrown or not thrown? Which is what <code>assertThrows</code> does. You want your test to assert that an exception was thrown, caught and not rethrown?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1690849322,"post_id":76807771,"comment_id":135407324,"body_markdown":"Can&#39;t you do `verify(mockOptionalService, times(1)).blink()` in combination with `doThrow`? That would imply not just that *if* it&#39;s called, it should throw, but also that it must be called (and thus throw). The exception or lack of exception in the test is the indication whether or not it was caught.","body":"Can&#39;t you do <code>verify(mockOptionalService, times(1)).blink()</code> in combination with <code>doThrow</code>? That would imply not just that <i>if</i> it&#39;s called, it should throw, but also that it must be called (and thus throw). The exception or lack of exception in the test is the indication whether or not it was caught."},{"owner":{"account_id":7436532,"reputation":753,"user_id":5655772,"accept_rate":15,"display_name":"Alexander"},"score":0,"creation_date":1690849711,"post_id":76807771,"comment_id":135407362,"body_markdown":"&quot;You want your test to assert that an exception was thrown, caught and not rethrown?&quot; - yes, pretty much. The overall purpose of this test is to verify that this particular execution path does not break the code. I know I can verify unused doReturn (or verify that they were called once) - but is it possible to verify unused doThrow?","body":"&quot;You want your test to assert that an exception was thrown, caught and not rethrown?&quot; - yes, pretty much. The overall purpose of this test is to verify that this particular execution path does not break the code. I know I can verify unused doReturn (or verify that they were called once) - but is it possible to verify unused doThrow?"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690849204,"creation_date":1690849204,"answer_id":76807805,"question_id":76807771,"body_markdown":"I don&#39;t think that you can check that the exception is actually thrown, but you can verify that the method you stubbed to throw an exception was actually called. See the example below, where we control whether the method is called, and a test fails when it doesn&#39;t get called:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.jupiter.MockitoExtension;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static org.mockito.Mockito.doThrow;\r\nimport static org.mockito.Mockito.verify;\r\n\r\nclass ToTest {\r\n    private final InjectedClass injectedClass;\r\n\r\n    ToTest(InjectedClass injectedClass) {\r\n        this.injectedClass = injectedClass;\r\n    }\r\n\r\n    public void doIt(boolean callMethod) {\r\n        try {\r\n            if (callMethod) {\r\n                injectedClass.mightThrow();\r\n            }\r\n        } catch (IOException e) {\r\n            // ignore (this seems like a bad idea...\r\n        }\r\n    }\r\n}\r\n\r\ninterface InjectedClass {\r\n    void mightThrow() throws IOException;\r\n}\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class AppTest {\r\n    @Mock\r\n    InjectedClass injectedClass;\r\n    @InjectMocks\r\n    ToTest toTest;\r\n\r\n    @Test\r\n    public void passingTest() throws IOException {\r\n        doThrow(IOException.class).when(injectedClass).mightThrow();\r\n        toTest.doIt(true);\r\n        verify(injectedClass).mightThrow();\r\n    }\r\n\r\n    @Test\r\n    public void failingTest() throws IOException {\r\n        doThrow(IOException.class).when(injectedClass).mightThrow();\r\n        toTest.doIt(false);\r\n        verify(injectedClass).mightThrow();\r\n    }\r\n}\r\n```","title":"How to verify that exception was thrown by a mock when it was caught within the code under test?","body":"<p>I don't think that you can check that the exception is actually thrown, but you can verify that the method you stubbed to throw an exception was actually called. See the example below, where we control whether the method is called, and a test fails when it doesn't get called:</p>\n<pre><code>package org.example;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.io.IOException;\n\nimport static org.mockito.Mockito.doThrow;\nimport static org.mockito.Mockito.verify;\n\nclass ToTest {\n    private final InjectedClass injectedClass;\n\n    ToTest(InjectedClass injectedClass) {\n        this.injectedClass = injectedClass;\n    }\n\n    public void doIt(boolean callMethod) {\n        try {\n            if (callMethod) {\n                injectedClass.mightThrow();\n            }\n        } catch (IOException e) {\n            // ignore (this seems like a bad idea...\n        }\n    }\n}\n\ninterface InjectedClass {\n    void mightThrow() throws IOException;\n}\n\n@ExtendWith(MockitoExtension.class)\npublic class AppTest {\n    @Mock\n    InjectedClass injectedClass;\n    @InjectMocks\n    ToTest toTest;\n\n    @Test\n    public void passingTest() throws IOException {\n        doThrow(IOException.class).when(injectedClass).mightThrow();\n        toTest.doIt(true);\n        verify(injectedClass).mightThrow();\n    }\n\n    @Test\n    public void failingTest() throws IOException {\n        doThrow(IOException.class).when(injectedClass).mightThrow();\n        toTest.doIt(false);\n        verify(injectedClass).mightThrow();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690850877,"creation_date":1690850877,"answer_id":76807881,"question_id":76807771,"body_markdown":"I prefer tddavies&#39; answer (just verify that the mock was called - because you know that calling it means it throws). But here&#39;s another solution which perhaps makes what you&#39;re trying to assert a bit more explicit.\r\n\r\n`doAnswer` is the more general purpose Mockito primitive, which can either return a value or throw. In there you can just maintain a counter.\r\n\r\n    AtomicInteger blinkIOExceptions = new AtomicInteger();\r\n    doAnswer(invocation -&gt; {\r\n        blinkIOExceptions.incrementAndGet();\r\n        throw new IOException();\r\n    }).when(mockOptionalService).blink();\r\n    \r\n    assertEquals(1, blinkIOExceptions.get());","title":"How to verify that exception was thrown by a mock when it was caught within the code under test?","body":"<p>I prefer tddavies' answer (just verify that the mock was called - because you know that calling it means it throws). But here's another solution which perhaps makes what you're trying to assert a bit more explicit.</p>\n<p><code>doAnswer</code> is the more general purpose Mockito primitive, which can either return a value or throw. In there you can just maintain a counter.</p>\n<pre><code>AtomicInteger blinkIOExceptions = new AtomicInteger();\ndoAnswer(invocation -&gt; {\n    blinkIOExceptions.incrementAndGet();\n    throw new IOException();\n}).when(mockOptionalService).blink();\n\nassertEquals(1, blinkIOExceptions.get());\n</code></pre>\n"}],"owner":{"account_id":7436532,"reputation":753,"user_id":5655772,"accept_rate":15,"display_name":"Alexander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690850877,"creation_date":1690848346,"question_id":76807771,"body_markdown":"In Java/Junit/Mockito, it is fairly easy to simulate an exception (doThrow() etc.), and fairly easy to verify when an exception is thrown and not caught (assertThrows() etc.). But what if exception was successfully simulated using doThrow, but then subsequently caught in the main code - how the test can know that it was ever thrown?\r\n\r\nConsider following code snippet:\r\n\r\n    public void doFullOpeartion() {\r\n    \r\n        try {\r\n            optionalService.blink();\r\n        }\r\n        catch (IOException exception) {\r\n            // No operation needed\r\n        }\r\n\r\nAnd the following test code:\r\n\r\n    doThrow(IOException.class).when(mockOptionalService).blink();\r\n    \r\n    classUnderTest.doFullOperation();\r\n    \r\n    // ??? - how do we know that IOException was thrown\r\n\r\nIf in the catch block in the main code we had some code that could be verified, the problem becomes moot. But what if we don&#39;t?","title":"How to verify that exception was thrown by a mock when it was caught within the code under test?","body":"<p>In Java/Junit/Mockito, it is fairly easy to simulate an exception (doThrow() etc.), and fairly easy to verify when an exception is thrown and not caught (assertThrows() etc.). But what if exception was successfully simulated using doThrow, but then subsequently caught in the main code - how the test can know that it was ever thrown?</p>\n<p>Consider following code snippet:</p>\n<pre><code>public void doFullOpeartion() {\n\n    try {\n        optionalService.blink();\n    }\n    catch (IOException exception) {\n        // No operation needed\n    }\n</code></pre>\n<p>And the following test code:</p>\n<pre><code>doThrow(IOException.class).when(mockOptionalService).blink();\n\nclassUnderTest.doFullOperation();\n\n// ??? - how do we know that IOException was thrown\n</code></pre>\n<p>If in the catch block in the main code we had some code that could be verified, the problem becomes moot. But what if we don't?</p>\n"},{"tags":["java","spring-boot","azure-web-app-service","azure-appservice"],"comments":[{"owner":{"account_id":525114,"reputation":782,"user_id":1409545,"accept_rate":31,"display_name":"thebernardlim"},"score":0,"creation_date":1676277029,"post_id":75432566,"comment_id":133097509,"body_markdown":"Just checking the basics before we go further, is the app running? What is the current status of the app?","body":"Just checking the basics before we go further, is the app running? What is the current status of the app?"},{"owner":{"account_id":27771267,"reputation":21,"user_id":21201509,"display_name":"Karan V"},"score":0,"creation_date":1676329112,"post_id":75432566,"comment_id":133112084,"body_markdown":"yes app is running on local, it is also successfully getting deployed, I can see spring logs on azure as well but when I am opening the URL its showing 404.","body":"yes app is running on local, it is also successfully getting deployed, I can see spring logs on azure as well but when I am opening the URL its showing 404."},{"owner":{"account_id":18910990,"reputation":163,"user_id":13797046,"display_name":"Wesley Masunika"},"score":0,"creation_date":1678347287,"post_id":75432566,"comment_id":133515461,"body_markdown":"Did manage to get a work around for this? Been at it for 2 weeks now... Could use the solution rn.","body":"Did manage to get a work around for this? Been at it for 2 weeks now... Could use the solution rn."}],"answers":[{"tags":[],"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676284771,"creation_date":1676284771,"answer_id":75434788,"question_id":75432566,"body_markdown":"- Here I deployed a spring boot app in azure app service using the following app service configuration \r\n\r\n**Runtime Stack** -  JAVA17\r\n\r\n**Java web server stack** - Java SE (Embedded web server)\r\n\r\n**Operating System** - Windows\r\n\r\n- I deployed my spring boot app using IntelliJ extension for azure as it is my IDE\r\n\r\nMy spring boot controller:\r\n\r\n```\r\npackage com.example.demo;  \r\n  \r\nimport org.springframework.web.bind.annotation.GetMapping;  \r\nimport org.springframework.web.bind.annotation.RestController;  \r\n  \r\n@RestController  \r\npublic class Controller {  \r\n  \r\n    @GetMapping(&quot;/Hello&quot;)  \r\n    public String api ()  \r\n    {  \r\n        return &quot;Hello World&quot;;  \r\n\t  }  \r\n}\r\n```\r\noutput after deployment :\r\n\r\n![enter image description here](https://i.stack.imgur.com/bJtuw.png)","title":"Azure app service giving 404 for spring boot application","body":"<ul>\n<li>Here I deployed a spring boot app in azure app service using the following app service configuration</li>\n</ul>\n<p><strong>Runtime Stack</strong> -  JAVA17</p>\n<p><strong>Java web server stack</strong> - Java SE (Embedded web server)</p>\n<p><strong>Operating System</strong> - Windows</p>\n<ul>\n<li>I deployed my spring boot app using IntelliJ extension for azure as it is my IDE</li>\n</ul>\n<p>My spring boot controller:</p>\n<pre><code>package com.example.demo;  \n  \nimport org.springframework.web.bind.annotation.GetMapping;  \nimport org.springframework.web.bind.annotation.RestController;  \n  \n@RestController  \npublic class Controller {  \n  \n    @GetMapping(&quot;/Hello&quot;)  \n    public String api ()  \n    {  \n        return &quot;Hello World&quot;;  \n      }  \n}\n</code></pre>\n<p>output after deployment :</p>\n<p><img src=\"https://i.stack.imgur.com/bJtuw.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":18910990,"reputation":163,"user_id":13797046,"display_name":"Wesley Masunika"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678385892,"creation_date":1678385892,"answer_id":75688580,"question_id":75432566,"body_markdown":"After weeks of struggling, googling for solutions and coming up with nothing. \r\n\r\nThe solution was deploying my Java Springboot api in ***Azure Spring App***.\r\n\r\nI still dont know the reason why my app was refusing to run in Azure Web App. Even when the logs stated that the application was successfully.\r\n\r\nUnfortunately ***Azure Spring App*** are quite pricey to run :(.","title":"Azure app service giving 404 for spring boot application","body":"<p>After weeks of struggling, googling for solutions and coming up with nothing.</p>\n<p>The solution was deploying my Java Springboot api in <em><strong>Azure Spring App</strong></em>.</p>\n<p>I still dont know the reason why my app was refusing to run in Azure Web App. Even when the logs stated that the application was successfully.</p>\n<p>Unfortunately <em><strong>Azure Spring App</strong></em> are quite pricey to run :(.</p>\n"},{"tags":[],"owner":{"account_id":1656681,"reputation":879,"user_id":1526050,"display_name":"bpossolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678842447,"creation_date":1678842447,"answer_id":75739689,"question_id":75432566,"body_markdown":"It appears the ApplicationInsights Java Agent that is attached to the jvm is causing the problem.  \r\nI don&#39;t know exactly why but I&#39;m guessing the default agent jar that is used is not compiled to work with Java 17.\r\n\r\nIf you have application insights on, try turning them off.\r\nOr, you can set the agent jar version (ApplicationInsightsAgent_EXTENSION_VERSION azure web service config prop) to the latest one (`3.4.10`) and that seems to fix it as well.\r\n\r\nSee discussion and my reply here:\r\nhttps://github.com/spring-projects/spring-boot/issues/33974#issuecomment-1468484374","title":"Azure app service giving 404 for spring boot application","body":"<p>It appears the ApplicationInsights Java Agent that is attached to the jvm is causing the problem.<br />\nI don't know exactly why but I'm guessing the default agent jar that is used is not compiled to work with Java 17.</p>\n<p>If you have application insights on, try turning them off.\nOr, you can set the agent jar version (ApplicationInsightsAgent_EXTENSION_VERSION azure web service config prop) to the latest one (<code>3.4.10</code>) and that seems to fix it as well.</p>\n<p>See discussion and my reply here:\n<a href=\"https://github.com/spring-projects/spring-boot/issues/33974#issuecomment-1468484374\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/33974#issuecomment-1468484374</a></p>\n"},{"tags":[],"owner":{"account_id":8681662,"reputation":11,"user_id":6497316,"display_name":"SamP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690850185,"creation_date":1690849173,"answer_id":76807803,"question_id":75432566,"body_markdown":"bpossolo&#39;s answer pointed me to a solution that worked in my case.\r\nThe tomcat version (Tomcat 8.5) that I configured in my Azure web app did not match the embedded Tomcat (Tomcat 10.0) that came with the Spring Web version (3.1.2) that I used.\r\n\r\nI no longer got the 404 after I switched the java web server configuration in Azure from Tomcat 8.5 to Tomcat 10.0.\r\n\r\n [Here&#39;s a screenshot of where you can find this in the configuration incase anyone needs it.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tDtc5.png","title":"Azure app service giving 404 for spring boot application","body":"<p>bpossolo's answer pointed me to a solution that worked in my case.\nThe tomcat version (Tomcat 8.5) that I configured in my Azure web app did not match the embedded Tomcat (Tomcat 10.0) that came with the Spring Web version (3.1.2) that I used.</p>\n<p>I no longer got the 404 after I switched the java web server configuration in Azure from Tomcat 8.5 to Tomcat 10.0.</p>\n<p><a href=\"https://i.stack.imgur.com/tDtc5.png\" rel=\"nofollow noreferrer\">Here's a screenshot of where you can find this in the configuration incase anyone needs it.</a></p>\n"}],"owner":{"account_id":27771267,"reputation":21,"user_id":21201509,"display_name":"Karan V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1690850185,"creation_date":1676270181,"question_id":75432566,"body_markdown":"I have create a web app in Azure app service, when i am tying to access the public url it is giving me 404, even after deploying spring boot application it is giving same response, application is successfully running but not able to access the [404 Error Screen](https://i.stack.imgur.com/9OhYe.png).\r\nI have followed below link:\r\n\r\nhttps://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-windows-development-environment-azure-portal\r\n\r\n\r\n\r\nI have tried all find possible solutions on the internet but no where it is clear.","title":"Azure app service giving 404 for spring boot application","body":"<p>I have create a web app in Azure app service, when i am tying to access the public url it is giving me 404, even after deploying spring boot application it is giving same response, application is successfully running but not able to access the <a href=\"https://i.stack.imgur.com/9OhYe.png\" rel=\"nofollow noreferrer\">404 Error Screen</a>.\nI have followed below link:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-windows-development-environment-azure-portal\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-windows-development-environment-azure-portal</a></p>\n<p>I have tried all find possible solutions on the internet but no where it is clear.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","jpa-2.1"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690659481,"post_id":76795182,"comment_id":135385449,"body_markdown":"Please [edit] the post and add the stack trace.","body":"Please <a href=\"https://stackoverflow.com/posts/76795182/edit\">edit</a> the post and add the stack trace."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1690659570,"post_id":76795182,"comment_id":135385456,"body_markdown":"did you look in the log files?","body":"did you look in the log files?"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1690859974,"post_id":76795182,"comment_id":135408307,"body_markdown":"did you create the RestController for the `Vacation` Entity you wanted?","body":"did you create the RestController for the <code>Vacation</code> Entity you wanted?"}],"owner":{"account_id":21054824,"reputation":11,"user_id":15474342,"display_name":"archercomprehensive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690847818,"creation_date":1690659435,"question_id":76795182,"body_markdown":"Hello I am a beginner at Spring Boot and have been trying to work through a 500 error when trying to access an endpoint. I do have data in an mysql database that I am trying to fetch. \r\n\r\nHere is an example of the Entity I am trying to get. \r\n\r\n    package com.example.demo.Entities;\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.Date;\r\n    import java.util.Set;\r\n    import org.hibernate.annotations.CreationTimestamp;\r\n    import org.hibernate.annotations.UpdateTimestamp;\r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;vacations&quot;)\r\n    public class Vacation {        \r\n        @Id    \r\n        @GeneratedValue(strategy=GenerationType.AUTO)    \r\n        @Column(name=&quot;vacation_id&quot;)    \r\n        private Long id;    \r\n\r\n        @Column(name = &quot;vacation_title&quot;)    \r\n        private String vacation_title;    \r\n\r\n        @Column(name  = &quot;description&quot;)    \r\n        private String description;    \r\n\r\n        @Column(name = &quot;travel_price&quot;)    \r\n        private BigDecimal travel_price;    \r\n\r\n        @Column(name = &quot;image_url&quot;)    \r\n        private String image_URL;    \r\n\r\n        @Column(name = &quot;create_date&quot;)    \r\n        @CreationTimestamp    \r\n        private Date create_date;    \r\n\r\n        @Column(name = &quot;last_update&quot;)    \r\n        @UpdateTimestamp    \r\n        private Date last_update;        \r\n\r\n        @OneToMany    \r\n        private Set&lt;Excursion&gt; excursions;        \r\n\r\n        public Vacation() {}\r\n        }\r\n\r\nHere is the the JpaRepository:\r\n\r\n    package com.example.demo.DAO;\r\n    import com.example.demo.Entities.Vacation;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n\r\n    @Repository\r\n    @CrossOrigin(&quot;http://localhost:4200&quot;)\r\n    public interface VacationRepository extends JpaRepository&lt;Vacation, Long&gt; {    }\r\n\r\nI can run localhost:8080/api and that will work just fine showing verything past /api but when I do api/vacations it return an error 500. Any help with this problem would be appreciated.","title":"Internal Server Error 500 status code while trying to access endpoint","body":"<p>Hello I am a beginner at Spring Boot and have been trying to work through a 500 error when trying to access an endpoint. I do have data in an mysql database that I am trying to fetch.</p>\n<p>Here is an example of the Entity I am trying to get.</p>\n<pre><code>package com.example.demo.Entities;\n\nimport java.math.BigDecimal;\nimport java.util.Date;\nimport java.util.Set;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;vacations&quot;)\npublic class Vacation {        \n    @Id    \n    @GeneratedValue(strategy=GenerationType.AUTO)    \n    @Column(name=&quot;vacation_id&quot;)    \n    private Long id;    \n\n    @Column(name = &quot;vacation_title&quot;)    \n    private String vacation_title;    \n\n    @Column(name  = &quot;description&quot;)    \n    private String description;    \n\n    @Column(name = &quot;travel_price&quot;)    \n    private BigDecimal travel_price;    \n\n    @Column(name = &quot;image_url&quot;)    \n    private String image_URL;    \n\n    @Column(name = &quot;create_date&quot;)    \n    @CreationTimestamp    \n    private Date create_date;    \n\n    @Column(name = &quot;last_update&quot;)    \n    @UpdateTimestamp    \n    private Date last_update;        \n\n    @OneToMany    \n    private Set&lt;Excursion&gt; excursions;        \n\n    public Vacation() {}\n    }\n</code></pre>\n<p>Here is the the JpaRepository:</p>\n<pre><code>package com.example.demo.DAO;\nimport com.example.demo.Entities.Vacation;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.web.bind.annotation.CrossOrigin;\n\n@Repository\n@CrossOrigin(&quot;http://localhost:4200&quot;)\npublic interface VacationRepository extends JpaRepository&lt;Vacation, Long&gt; {    }\n</code></pre>\n<p>I can run localhost:8080/api and that will work just fine showing verything past /api but when I do api/vacations it return an error 500. Any help with this problem would be appreciated.</p>\n"},{"tags":["java","url","jsoup","http-status-code-403"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690806171,"post_id":76803571,"comment_id":135399752,"body_markdown":"If all you need is a HTTP status code, you don&#39;t need something as advanced as JSoup. Just use `URL.openConnection()`.","body":"If all you need is a HTTP status code, you don&#39;t need something as advanced as JSoup. Just use <code>URL.openConnection()</code>."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690806243,"post_id":76803571,"comment_id":135399764,"body_markdown":"Of course, there&#39;s no such thing as &quot;http status code of the website&quot;. For each request, you can get a different status code. The request you are currently making gives you status code 403, which is a perfectly valid answer to the question.","body":"Of course, there&#39;s no such thing as &quot;http status code of the website&quot;. For each request, you can get a different status code. The request you are currently making gives you status code 403, which is a perfectly valid answer to the question."},{"owner":{"account_id":29128622,"reputation":1,"user_id":22314423,"display_name":"Hari"},"score":0,"creation_date":1690806352,"post_id":76803571,"comment_id":135399792,"body_markdown":"URL.openConnection() also resulted in 403 forbidden status and that&#39;s the reason I tried with JSoup","body":"URL.openConnection() also resulted in 403 forbidden status and that&#39;s the reason I tried with JSoup"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690806471,"post_id":76803571,"comment_id":135399822,"body_markdown":"Right, so you made the same request with a different library, and expected a different result. May I suggest changing the actual request instead?","body":"Right, so you made the same request with a different library, and expected a different result. May I suggest changing the actual request instead?"},{"owner":{"account_id":29128622,"reputation":1,"user_id":22314423,"display_name":"Hari"},"score":0,"creation_date":1690806843,"post_id":76803571,"comment_id":135399913,"body_markdown":"Request URL:\nhttps://in.bookmyshow.com/\nRequest Method:\nGET\nStatus Code:\n200 (from service worker)\nReferrer Policy:\nstrict-origin-when-cross-origin","body":"Request URL: <a href=\"https://in.bookmyshow.com/\" rel=\"nofollow noreferrer\">in.bookmyshow.com</a> Request Method: GET Status Code: 200 (from service worker) Referrer Policy: strict-origin-when-cross-origin"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690806918,"post_id":76803571,"comment_id":135399933,"body_markdown":"FWIW, I can reproduce getting a 403 when making that request from Java, while getting 200 when making that request from a browser. So now it&#39;s your job to find out how those requests are different. If you know the owner of the site, they might be able to help you with that. If not, inspect the request in your browser and reproduce it as closely as possible.","body":"FWIW, I can reproduce getting a 403 when making that request from Java, while getting 200 when making that request from a browser. So now it&#39;s your job to find out how those requests are different. If you know the owner of the site, they might be able to help you with that. If not, inspect the request in your browser and reproduce it as closely as possible."}],"owner":{"account_id":29128622,"reputation":1,"user_id":22314423,"display_name":"Hari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690847751,"creation_date":1690806063,"question_id":76803571,"body_markdown":"I need to fetch the HTTP status code of this website &quot;https://in.bookmyshow.com/&quot;. So I tried using Jsoup to fetch the status of this particular website but the site denies the request hence ending up with 403 forbidden error. It would be great if someone can provide a solution to fetch the status code programatically.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String url = &quot;https://in.bookmyshow.com/&quot;;\r\n\r\n    try {\r\n        // Fetch the HTML content using Jsoup\r\n        Connection.Response response = Jsoup.connect(url).execute();\r\n        int statusCode = response.statusCode();\r\n        System.out.println(&quot;HTTP Status Code: &quot; + statusCode);\r\n\r\n        // If you need to parse the HTML content further using Jsoup, you can do it like this:\r\n        Document document = response.parse();\r\n        // ... Add your parsing logic here ...\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nNote: Adding User Agent also doesn&#39;t work in this case\r\n","title":"403 – forbidden exception while using the Jsoup","body":"<p>I need to fetch the HTTP status code of this website &quot;https://in.bookmyshow.com/&quot;. So I tried using Jsoup to fetch the status of this particular website but the site denies the request hence ending up with 403 forbidden error. It would be great if someone can provide a solution to fetch the status code programatically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String url = &quot;https://in.bookmyshow.com/&quot;;\n\n    try {\n        // Fetch the HTML content using Jsoup\n        Connection.Response response = Jsoup.connect(url).execute();\n        int statusCode = response.statusCode();\n        System.out.println(&quot;HTTP Status Code: &quot; + statusCode);\n\n        // If you need to parse the HTML content further using Jsoup, you can do it like this:\n        Document document = response.parse();\n        // ... Add your parsing logic here ...\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Note: Adding User Agent also doesn't work in this case</p>\n"},{"tags":["java","android","opengl-es","overlay","blur"],"comments":[{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":1,"creation_date":1690548901,"post_id":76787958,"comment_id":135373135,"body_markdown":"There&#39;s no OpenGL on android. Only [tag:opengl-es].","body":"There&#39;s no OpenGL on android. Only <a href=\"https://stackoverflow.com/questions/tagged/opengl-es\">opengl-es</a>."},{"owner":{"account_id":29071007,"reputation":11,"user_id":22269367,"display_name":"dasphalone"},"score":0,"creation_date":1690549204,"post_id":76787958,"comment_id":135373197,"body_markdown":"Sorry for misspelling, I meant opengl-es of course. I&#39;m fixing tag.","body":"Sorry for misspelling, I meant opengl-es of course. I&#39;m fixing tag."},{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1690550446,"post_id":76787958,"comment_id":135373460,"body_markdown":"As far as I know you&#39;re out of luck. Unless you use window blurring api that you linked (which allows system window manager to take care of it) there just isn&#39;t a way to do a real blur without seeing what&#39;s behind your window and apps do not have that privilege.","body":"As far as I know you&#39;re out of luck. Unless you use window blurring api that you linked (which allows system window manager to take care of it) there just isn&#39;t a way to do a real blur without seeing what&#39;s behind your window and apps do not have that privilege."}],"answers":[{"tags":[],"owner":{"account_id":935970,"reputation":11809,"user_id":964887,"accept_rate":90,"display_name":"just_user"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690552816,"creation_date":1690552816,"answer_id":76788512,"question_id":76787958,"body_markdown":"As far as I&#39;m aware blurring of a view is not supported natively by any android version pre 12.  I believe blurring like that is more of an iOS feature. But by that being said you could fake it like some libraries do.\r\n\r\nTo do it yourself without a library you might be more successful to get it working like you want. Start by taking a screenshot of what is currently on the screen before showing the dialog. Convert the screenshot to a bitmap and blur it. \r\nAdd the bitmap to an `ImageView` which covers the entire screen. Show the `ImageView` and show the dialog and you should have a similar effect. \r\n\r\nThings to consider, if you want it to look native you shouldn&#39;t blur the status bar on the top or the navigation bar on the bottom. If you want to have the blur look gradually animated use the alpha on the image view and animate it from 0 to 1 using a `ValueAnimator`. If you want everything on the screen to be blurred, you could potentially request the app to be full screen when you show the blurred image, but I think that could be a bit glitchy. \r\n\r\nAnother thing to consider with using blur on an image which is the same size of the image that you will display is that gaussian blur will create weird artefacts around the image which doesn&#39;t look perfect. You can get around that by having an image larger than what you will display and then crop it after blurring. But since you take a screenshot you don&#39;t have anything extra to play with.\r\n\r\nAndroid isn&#39;t exactly known to handle blur well, so don&#39;t expect it to be butter smooth on every device. Personally, I agree that it looks cool, but I would probably decide to live without it. ;) ","title":"How to blur content behind of an overlay using java?","body":"<p>As far as I'm aware blurring of a view is not supported natively by any android version pre 12.  I believe blurring like that is more of an iOS feature. But by that being said you could fake it like some libraries do.</p>\n<p>To do it yourself without a library you might be more successful to get it working like you want. Start by taking a screenshot of what is currently on the screen before showing the dialog. Convert the screenshot to a bitmap and blur it.\nAdd the bitmap to an <code>ImageView</code> which covers the entire screen. Show the <code>ImageView</code> and show the dialog and you should have a similar effect.</p>\n<p>Things to consider, if you want it to look native you shouldn't blur the status bar on the top or the navigation bar on the bottom. If you want to have the blur look gradually animated use the alpha on the image view and animate it from 0 to 1 using a <code>ValueAnimator</code>. If you want everything on the screen to be blurred, you could potentially request the app to be full screen when you show the blurred image, but I think that could be a bit glitchy.</p>\n<p>Another thing to consider with using blur on an image which is the same size of the image that you will display is that gaussian blur will create weird artefacts around the image which doesn't look perfect. You can get around that by having an image larger than what you will display and then crop it after blurring. But since you take a screenshot you don't have anything extra to play with.</p>\n<p>Android isn't exactly known to handle blur well, so don't expect it to be butter smooth on every device. Personally, I agree that it looks cool, but I would probably decide to live without it. ;)</p>\n"}],"owner":{"account_id":29071007,"reputation":11,"user_id":22269367,"display_name":"dasphalone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690847654,"creation_date":1690548464,"question_id":76787958,"body_markdown":"I have an layout that I can expose above other applications using Context.LAYOUT_INFLATER_SERVICE. But no matter how much I searched, I couldn&#39;t find a way to blur the content under this view to the user. \r\n\r\nHere&#39;s what I wanted (I want to blur the behind content that I marked with red):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe code i use to display the layout:\r\n\r\n\r\n    \r\n```\r\npublic class OverlayManager2 {\r\n    private final Context context;\r\n    private final View mView;\r\n    private final WindowManager.LayoutParams mParams;\r\n    private final WindowManager mWindowManager;\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @SuppressLint(&quot;InflateParams&quot;)\r\n    public OverlayManager2(Context context) {\r\n        this.context = context;\r\n\r\n        mParams = new WindowManager.LayoutParams(\r\n                WindowManager.LayoutParams.MATCH_PARENT,\r\n                WindowManager.LayoutParams.MATCH_PARENT,\r\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\r\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\r\n                PixelFormat.TRANSLUCENT\r\n        );\r\n\r\n        LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\r\n        mView = layoutInflater.inflate(R.layout.pin_activity, null);\r\n\r\n        mParams.gravity = Gravity.CENTER;\r\n        mWindowManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\r\n    }\r\n\r\n\r\n\r\n    public void open() {\r\n        try {\r\n            if (mView.getWindowToken() == null) {\r\n                if (mView.getParent() == null) {\r\n                    mWindowManager.addView(mView, mParams);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nSome libraries I tried just blur a bitmap/image or content of a view object but they doesn&#39;t do exactly what i want to do or i failed (you can take a look if you want):\r\n\r\n[https://github.com/CameraKit/blurkit-android][2]\r\n\r\n[https://github.com/Dimezis/BlurView][3]\r\n\r\n[https://github.com/wasabeef/Blurry][4]\r\n\r\nI saw that someone suggested to do this using opengl-es, but I couldn&#39;t find anything on how to do it.\r\nI&#39;m ready to merge my project with flutter if flutter can do that.\r\n\r\nNOTE: I&#39;m targetting SDK 29 (Android 10) so I can&#39;t use this: https://source.android.com/docs/core/display/window-blurs\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJPWN.png\r\n  [2]: https://github.com/CameraKit/blurkit-android\r\n  [3]: https://github.com/Dimezis/BlurView\r\n  [4]: https://github.com/wasabeef/Blurry","title":"How to blur content behind of an overlay using java?","body":"<p>I have an layout that I can expose above other applications using Context.LAYOUT_INFLATER_SERVICE. But no matter how much I searched, I couldn't find a way to blur the content under this view to the user.</p>\n<p>Here's what I wanted (I want to blur the behind content that I marked with red):</p>\n<p><a href=\"https://i.stack.imgur.com/sJPWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJPWN.png\" alt=\"enter image description here\" /></a></p>\n<p>The code i use to display the layout:</p>\n<pre><code>public class OverlayManager2 {\n    private final Context context;\n    private final View mView;\n    private final WindowManager.LayoutParams mParams;\n    private final WindowManager mWindowManager;\n\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @SuppressLint(&quot;InflateParams&quot;)\n    public OverlayManager2(Context context) {\n        this.context = context;\n\n        mParams = new WindowManager.LayoutParams(\n                WindowManager.LayoutParams.MATCH_PARENT,\n                WindowManager.LayoutParams.MATCH_PARENT,\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n                WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\n                PixelFormat.TRANSLUCENT\n        );\n\n        LayoutInflater layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n        mView = layoutInflater.inflate(R.layout.pin_activity, null);\n\n        mParams.gravity = Gravity.CENTER;\n        mWindowManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\n    }\n\n\n\n    public void open() {\n        try {\n            if (mView.getWindowToken() == null) {\n                if (mView.getParent() == null) {\n                    mWindowManager.addView(mView, mParams);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Some libraries I tried just blur a bitmap/image or content of a view object but they doesn't do exactly what i want to do or i failed (you can take a look if you want):</p>\n<p><a href=\"https://github.com/CameraKit/blurkit-android\" rel=\"nofollow noreferrer\">https://github.com/CameraKit/blurkit-android</a></p>\n<p><a href=\"https://github.com/Dimezis/BlurView\" rel=\"nofollow noreferrer\">https://github.com/Dimezis/BlurView</a></p>\n<p><a href=\"https://github.com/wasabeef/Blurry\" rel=\"nofollow noreferrer\">https://github.com/wasabeef/Blurry</a></p>\n<p>I saw that someone suggested to do this using opengl-es, but I couldn't find anything on how to do it.\nI'm ready to merge my project with flutter if flutter can do that.</p>\n<p>NOTE: I'm targetting SDK 29 (Android 10) so I can't use this: <a href=\"https://source.android.com/docs/core/display/window-blurs\" rel=\"nofollow noreferrer\">https://source.android.com/docs/core/display/window-blurs</a></p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1690863632,"post_id":76807691,"comment_id":135408626,"body_markdown":"If I understood properly you have missed `@JoinColumn` annotation over `private Transaction transaction` field.","body":"If I understood properly you have missed <code>@JoinColumn</code> annotation over <code>private Transaction transaction</code> field."},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1690866517,"post_id":76807691,"comment_id":135408912,"body_markdown":"That was exactly the problem I had. I just hopped someone else will spot it too so I can accept the answer. Can you please post your comment as an answer so I can accept it.","body":"That was exactly the problem I had. I just hopped someone else will spot it too so I can accept the answer. Can you please post your comment as an answer so I can accept it."}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690846818,"creation_date":1690846818,"question_id":76807691,"body_markdown":"We are in the process of implementing an application accessing a third party database model we don&#39;t have control over. We use Apache Camel JPA for database operations. These are two of our entities related in an OneToMany/ManyToOne relationship to each other. One `transaction` can have multiple `transaction_document` entries (OneToMany) and multiple `transaction_document` entries can only belong to one `transaction`(ManyToOne) \r\n\r\n    @Entity\r\n    @Table(name=&quot;transaction&quot;)\r\n    @Data\r\n    public class Transaction {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;transaction_id_generator&quot;)\r\n        @SequenceGenerator(name = &quot;transaction_id_generator&quot;, sequenceName = &quot;transaction_seq&quot;, allocationSize = 1)\r\n        private long transactionId;\r\n        .....\r\n        @OneToMany(mappedBy = &quot;transaction&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Collection&lt;TransactionDocument&gt; transactionDocuments = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;transaction_document&quot;)\r\n    @Data\r\n    public class TransactionDocument {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;transaction_document_id_generator&quot;)\r\n        @SequenceGenerator(name = &quot;transaction_document_id_generator&quot;, sequenceName = &quot;transaction_document_transaction_document_id_seq&quot;, allocationSize = 1)\r\n        private Long transactionDocumentId;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private Transaction transaction;\r\n        ....\r\n    }\r\n\r\nAnd the two related tables have this structure:\r\n\r\n    CREATE TABLE IF NOT EXISTS transaction(\r\n        transaction_id BIGSERIAL,\r\n        ....\r\n    );\r\n    \r\n    CREATE TABLE IF NOT EXISTS transaction_document (\r\n        transaction_document_id BIGSERIAL,\r\n        transaction_id BIGINT,\r\n        ....,\r\n        CONSTRAINT transaction_document_fk FOREIGN KEY (transaction_id) REFERENCES transaction(transaction_id)\r\n    );\r\n\r\nThe issue is that when building up a test Camel route to verify the `transaction` entity is save correctly in the database `from(&quot;driect:start&quot;).to(jpa:my.path.to.Transaction&quot;)` I am getting an SQL exception complaining that column `transaction_transaction_id` does not exist. I believed what makes JPA (backed by hibernate) to look for this column name comes from `mappedBy = &quot;transaction&quot;` in our `OneToMany` annotation. Changing the name of the `transaction_document` column from `transaction_id` to `transaction_transaction_id` fixes the problem but we cannot do this because it will impact our third party software running against this data.\r\n\r\nAny idea about how to deal with this","title":"Is there a way to control join column name in OneToMany / ManyToOne bidirectional relationship","body":"<p>We are in the process of implementing an application accessing a third party database model we don't have control over. We use Apache Camel JPA for database operations. These are two of our entities related in an OneToMany/ManyToOne relationship to each other. One <code>transaction</code> can have multiple <code>transaction_document</code> entries (OneToMany) and multiple <code>transaction_document</code> entries can only belong to one <code>transaction</code>(ManyToOne)</p>\n<pre><code>@Entity\n@Table(name=&quot;transaction&quot;)\n@Data\npublic class Transaction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;transaction_id_generator&quot;)\n    @SequenceGenerator(name = &quot;transaction_id_generator&quot;, sequenceName = &quot;transaction_seq&quot;, allocationSize = 1)\n    private long transactionId;\n    .....\n    @OneToMany(mappedBy = &quot;transaction&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Collection&lt;TransactionDocument&gt; transactionDocuments = new ArrayList&lt;&gt;();\n}\n\n@Entity\n@Table(name = &quot;transaction_document&quot;)\n@Data\npublic class TransactionDocument {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;transaction_document_id_generator&quot;)\n    @SequenceGenerator(name = &quot;transaction_document_id_generator&quot;, sequenceName = &quot;transaction_document_transaction_document_id_seq&quot;, allocationSize = 1)\n    private Long transactionDocumentId;\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Transaction transaction;\n    ....\n}\n</code></pre>\n<p>And the two related tables have this structure:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS transaction(\n    transaction_id BIGSERIAL,\n    ....\n);\n\nCREATE TABLE IF NOT EXISTS transaction_document (\n    transaction_document_id BIGSERIAL,\n    transaction_id BIGINT,\n    ....,\n    CONSTRAINT transaction_document_fk FOREIGN KEY (transaction_id) REFERENCES transaction(transaction_id)\n);\n</code></pre>\n<p>The issue is that when building up a test Camel route to verify the <code>transaction</code> entity is save correctly in the database <code>from(&quot;driect:start&quot;).to(jpa:my.path.to.Transaction&quot;)</code> I am getting an SQL exception complaining that column <code>transaction_transaction_id</code> does not exist. I believed what makes JPA (backed by hibernate) to look for this column name comes from <code>mappedBy = &quot;transaction&quot;</code> in our <code>OneToMany</code> annotation. Changing the name of the <code>transaction_document</code> column from <code>transaction_id</code> to <code>transaction_transaction_id</code> fixes the problem but we cannot do this because it will impact our third party software running against this data.</p>\n<p>Any idea about how to deal with this</p>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":3825012,"reputation":1457,"user_id":3172024,"display_name":"Naren"},"score":0,"creation_date":1407481490,"post_id":25072146,"comment_id":39240018,"body_markdown":"Post the Original XML which you want to parse.. Not the Edited one","body":"Post the Original XML which you want to parse.. Not the Edited one"}],"answers":[{"tags":[],"owner":{"account_id":2970442,"reputation":139,"user_id":2522601,"display_name":"dave"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1454608328,"creation_date":1454608328,"answer_id":35208120,"question_id":25072146,"body_markdown":"To me it looks like you have an encoding problem with this line.\r\n\r\n    &amp;lt;&lt; inside &amp;amp;&amp; the description tag &amp;lt;&lt;\r\n\r\nshould either be \r\n\r\n`&amp;lt;&amp;lt; inside &amp;amp;&amp;amp; the description tag &amp;lt;&amp;lt;`\r\n\r\nor it should be\r\n\r\n    &amp;lt; inside &amp;amp; the description tag &amp;lt;","title":"org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup","body":"<p>To me it looks like you have an encoding problem with this line.</p>\n\n<pre><code>&amp;lt;&lt; inside &amp;amp;&amp; the description tag &amp;lt;&lt;\n</code></pre>\n\n<p>should either be </p>\n\n<p><code>&amp;lt;&amp;lt; inside &amp;amp;&amp;amp; the description tag &amp;lt;&amp;lt;</code></p>\n\n<p>or it should be</p>\n\n<pre><code>&amp;lt; inside &amp;amp; the description tag &amp;lt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23525213,"reputation":1,"user_id":17571858,"display_name":"Vinciorsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690846782,"creation_date":1638454202,"answer_id":70200996,"question_id":25072146,"body_markdown":"    I used XML Comment markup for JS to make it work in XML\r\n    &lt;script&gt;\r\n      &lt;!-- \r\n         \r\n         [Place your Javascript here]\r\n      \r\n      --&gt;\r\n    &lt;/script&gt;","title":"org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup","body":"<pre><code>I used XML Comment markup for JS to make it work in XML\n&lt;script&gt;\n  &lt;!-- \n     \n     [Place your Javascript here]\n  \n  --&gt;\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":2885133,"reputation":83,"user_id":2475232,"accept_rate":75,"display_name":"jhed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30538,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1690846782,"creation_date":1406861467,"question_id":25072146,"body_markdown":"I&#39;m doing it in Java XML Parser, then I got this error when parsing an xml file...\r\n\r\n&gt;[Fatal Error] jira.xml:192:64: The content of elements must consist of well-formed character data or markup.\r\n&gt;org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup.\r\n&gt;at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(Unknown\r\n&gt; Source)\r\n&gt;at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(Unknown\r\n&gt;Source)\r\n&gt;at javax.xml.parsers.DocumentBuilder.parse(Unknown Source)\r\n&gt;     \tat com.icomteq.ReadXMLFile.main(ReadXMLFile.java:20)\r\n\r\n\r\nAny clue what could be the problem? Thank you.\r\n\r\n\r\n**Here is the code used** -&gt;\r\nhttp://s29.postimg.org/tjbzvsn3b/xmlreader.jpg\r\n\r\n\r\n**Here is my jira.xml** -&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;DATA_RECORD&gt;\r\n\t&lt;DESCRIPTION&gt;\r\n    &amp;lt;&lt; inside &amp;amp;&amp; the description tag &amp;lt;&lt;\r\n\t&lt;/DESCRIPTION&gt;\r\n    &lt;/DATA_RECORD&gt;\r\n\r\n\r\n**Temporary solution** -&gt;\r\nI figured out that XML Norms `&lt;` should not be in the xml, so I will use `contents.toString().replaceAll(&quot;&amp;lt;&lt;&quot;, &quot;&amp;lt;&quot;).replaceAll(&quot;&amp;amp;&amp;&quot;, &quot;&amp;amp;&quot;)`","title":"org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup","body":"<p>I'm doing it in Java XML Parser, then I got this error when parsing an xml file...</p>\n\n<blockquote>\n  <p>[Fatal Error] jira.xml:192:64: The content of elements must consist of well-formed character data or markup.\n  org.xml.sax.SAXParseException: The content of elements must consist of well-formed character data or markup.\n  at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(Unknown\n  Source)\n  at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(Unknown\n  Source)\n  at javax.xml.parsers.DocumentBuilder.parse(Unknown Source)\n        at com.icomteq.ReadXMLFile.main(ReadXMLFile.java:20)</p>\n</blockquote>\n\n<p>Any clue what could be the problem? Thank you.</p>\n\n<p><strong>Here is the code used</strong> ->\n<a href=\"http://s29.postimg.org/tjbzvsn3b/xmlreader.jpg\" rel=\"noreferrer\">http://s29.postimg.org/tjbzvsn3b/xmlreader.jpg</a></p>\n\n<p><strong>Here is my jira.xml</strong> -></p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;DATA_RECORD&gt;\n&lt;DESCRIPTION&gt;\n&amp;lt;&lt; inside &amp;amp;&amp; the description tag &amp;lt;&lt;\n&lt;/DESCRIPTION&gt;\n&lt;/DATA_RECORD&gt;\n</code></pre>\n\n<p><strong>Temporary solution</strong> ->\nI figured out that XML Norms <code>&lt;</code> should not be in the xml, so I will use <code>contents.toString().replaceAll(\"&amp;lt;&lt;\", \"&amp;lt;\").replaceAll(\"&amp;amp;&amp;\", \"&amp;amp;\")</code></p>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-boot-security"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690845671,"creation_date":1690816520,"answer_id":76804971,"question_id":76802744,"body_markdown":"The documentation for CSRF in Spring security is now a bit spread and it is not so trivial to find [the right section for SPAs][1]. Just apply what is explained there and you should be good.\r\n\r\nAnd, by the way, if you [use my starter][2], activating CSRF protection with `http-only=false` is just a matter of setting a property:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;!-- For a reactive application, use spring-boot-starter-webflux instead --&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```yaml\r\ncognito-issuer: https://cognito-idp.us-west-2.amazonaws.com/us-west-2_RzhmgLwjl\r\ncognito-client-id: change-me\r\ncognito-secret: change-me\r\n\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          cognito:\r\n            issuer-uri: ${cognito-issuer}\r\n        registration:\r\n          cognito-authorization-code:\r\n            authorization-grant-type: authorization_code\r\n            client-id: ${cognito-client-id}\r\n            client-secret: ${cognito-secret}\r\n            provider: cognito\r\n            scope: openid,profile,email,offline_access\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      oidc:\r\n        ops:\r\n        - iss: ${cognito-issuer}\r\n          username-claim: username\r\n          authorities:\r\n          - path: cognito:groups\r\n        client:\r\n          csrf: cookie-accessible-from-js\r\n          security-matchers:\r\n          - /**\r\n          permit-all:\r\n          - /login/**\r\n          - /oauth2/**\r\n          - /\r\n          # Auth0 and Cognito do not follow strictly the OpenID RP-Initiated Logout spec and need specific configuration\r\n          oauth2-logout:\r\n            cognito-authorization-code:\r\n              uri: https://spring-addons.auth.us-west-2.amazoncognito.com/logout\r\n              client-id-request-param: client_id\r\n              post-logout-uri-request-param: logout_uri\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-integration-javascript-spa\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"Springboot OAuth2 CSRF enabled XSRF token not matching","body":"<p>The documentation for CSRF in Spring security is now a bit spread and it is not so trivial to find <a href=\"https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html#csrf-integration-javascript-spa\" rel=\"nofollow noreferrer\">the right section for SPAs</a>. Just apply what is explained there and you should be good.</p>\n<p>And, by the way, if you <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">use my starter</a>, activating CSRF protection with <code>http-only=false</code> is just a matter of setting a property:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;!-- For a reactive application, use spring-boot-starter-webflux instead --&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n    &lt;version&gt;7.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>cognito-issuer: https://cognito-idp.us-west-2.amazonaws.com/us-west-2_RzhmgLwjl\ncognito-client-id: change-me\ncognito-secret: change-me\n\nspring:\n  security:\n    oauth2:\n      client:\n        provider:\n          cognito:\n            issuer-uri: ${cognito-issuer}\n        registration:\n          cognito-authorization-code:\n            authorization-grant-type: authorization_code\n            client-id: ${cognito-client-id}\n            client-secret: ${cognito-secret}\n            provider: cognito\n            scope: openid,profile,email,offline_access\ncom:\n  c4-soft:\n    springaddons:\n      oidc:\n        ops:\n        - iss: ${cognito-issuer}\n          username-claim: username\n          authorities:\n          - path: cognito:groups\n        client:\n          csrf: cookie-accessible-from-js\n          security-matchers:\n          - /**\n          permit-all:\n          - /login/**\n          - /oauth2/**\n          - /\n          # Auth0 and Cognito do not follow strictly the OpenID RP-Initiated Logout spec and need specific configuration\n          oauth2-logout:\n            cognito-authorization-code:\n              uri: https://spring-addons.auth.us-west-2.amazoncognito.com/logout\n              client-id-request-param: client_id\n              post-logout-uri-request-param: logout_uri\n</code></pre>\n"}],"owner":{"account_id":4829496,"reputation":679,"user_id":4781155,"accept_rate":40,"display_name":"mark ortiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690845671,"creation_date":1690799449,"question_id":76802744,"body_markdown":"I have this demo springboot app and my goal is to understand more about oauth2, I was able to make it work using github auth I configured like this\r\n\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          github:\r\n            clientId: ***\r\n            clientSecret: ***\r\n```\r\n\r\nThis is my gradle dependencies\r\n\r\n```groovy\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n```\r\n\r\nthis is my security filter chain\r\n\r\n```java\r\n@Slf4j\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class OAuth2LoginSecurityConfig {\r\n\r\n\t@Autowired\r\n\tprivate CustomOAuth2AuthenticationFailureHandler failureHandler;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\tCookieCsrfTokenRepository cRepo = CookieCsrfTokenRepository.withHttpOnlyFalse();\r\n\t\thttp\r\n\t\t\t.addFilterBefore(new PrintCsrfTokenFilter(cRepo), CsrfFilter.class)\r\n\t\t\t.csrf(csrf -&gt;  csrf.csrfTokenRepository(cRepo))\r\n\t\t\t.authorizeHttpRequests(authorize -&gt; authorize\r\n\t\t\t\t.requestMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/webjars/**&quot;,&quot;/index.html&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t)\r\n\t\t\t.logout((logout) -&gt; logout.logoutSuccessUrl(&quot;/&quot;).permitAll())\r\n\t\t\t.oauth2Login(t -&gt; t.failureHandler((request, response, exception) -&gt; {\r\n\t\t\t\tlog.error(exception.getMessage());\r\n\t\t\t\trequest.getSession().setAttribute(&quot;error.message&quot;, exception.getMessage());\r\n\t\t\t\tfailureHandler.onAuthenticationFailure(request, response, exception);\r\n\t\t\t}));\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\nThis is my debug filter class\r\n\r\n```java\r\n@Slf4j\r\npublic final class PrintCsrfTokenFilter extends OncePerRequestFilter {\r\n\r\n    private CsrfTokenRepository tokenRepository;\r\n\r\n    public PrintCsrfTokenFilter(CsrfTokenRepository csrfTokenRepository) {\r\n        Assert.notNull(csrfTokenRepository, &quot;csrfTokenRepository cannot be null&quot;);\r\n        this.tokenRepository = csrfTokenRepository;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        DeferredCsrfToken deferredCsrfToken = this.tokenRepository.loadDeferredToken(request, response);\r\n        CsrfToken csrfToken = deferredCsrfToken.get();\r\n        String actualToken = this.resolveCsrfTokenValue(request, csrfToken);\r\n        log.info(&quot;csrfToken: {} , actualToken: {}&quot;, csrfToken.getToken(), actualToken);\r\n\r\n        String xcsrfToken = request.getHeader(&quot;X-XSRF-TOKEN&quot;);\r\n        log.info(&quot;xcsrfToken Token: &quot; + xcsrfToken);\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private String resolveCsrfTokenValue(HttpServletRequest request, CsrfToken csrfToken) {\r\n        Assert.notNull(request, &quot;request cannot be null&quot;);\r\n        Assert.notNull(csrfToken, &quot;csrfToken cannot be null&quot;);\r\n        String actualToken = request.getHeader(csrfToken.getHeaderName());\r\n        log.info(&quot;header {}: {} &quot;, csrfToken.getHeaderName(), actualToken);\r\n        if (actualToken == null) {\r\n            actualToken = request.getParameter(csrfToken.getParameterName());\r\n            log.info(&quot;param {}: {} &quot;, csrfToken.getParameterName(), actualToken);\r\n        }\r\n        return actualToken;\r\n    }\r\n}\r\n```\r\n\r\nheres my front end side\r\n```html\r\n&lt;body&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n// Declare logout function in the global scope\r\nwindow.logout = function() {\r\n    $.post(&quot;/logout&quot;, function() {\r\n        $(&quot;#user&quot;).html(&#39;&#39;);\r\n        $(&quot;.unauthenticated&quot;).show();\r\n        $(&quot;.authenticated&quot;).hide();\r\n    })\r\n    return true;\r\n}\r\n\r\n$.ajaxSetup({\r\n  beforeSend : function(xhr, settings) {\r\n    if (settings.type == &#39;POST&#39; || settings.type == &#39;PUT&#39;\r\n        || settings.type == &#39;DELETE&#39;) {\r\n      if (!(/^http:.*/.test(settings.url) || /^https:.*/\r\n        .test(settings.url))) {\r\n        // Only send the token to relative URLs i.e. locally.\r\n        xhr.setRequestHeader(&quot;X-XSRF-TOKEN&quot;,\r\n          Cookies.get(&#39;XSRF-TOKEN&#39;));\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\n$(document).ready(function() {\r\n    $.get(&quot;/user&quot;, function(data, status, xhr) {\r\n        if (xhr.status == 200 &amp;&amp; data.name != null &amp;&amp; data.name != &quot;&quot;) {\r\n            $(&quot;#user&quot;).html(data.name);\r\n            $(&quot;.unauthenticated&quot;).hide();\r\n            $(&quot;.authenticated&quot;).show();\r\n        } else {\r\n            $(&quot;.authenticated&quot;).hide();\r\n            $(&quot;.unauthenticated&quot;).show();\r\n        }\r\n    }).fail(function() {\r\n        $(&quot;.authenticated&quot;).hide();\r\n        $(&quot;.unauthenticated&quot;).show();\r\n    });\r\n});\r\n\r\n&lt;/script&gt;\r\n\r\n\r\n\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;h1&gt;Demo&lt;/h1&gt;\r\n    &lt;div class=&quot;container unauthenticated&quot;&gt;\r\n        With GitHub: &lt;a href=&quot;/oauth2/authorization/github&quot;&gt;click here&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;container authenticated&quot;&gt;\r\n        Logged in as: &lt;span id=&quot;user&quot;&gt;&lt;/span&gt;\r\n        &lt;div&gt;\r\n            &lt;button onClick=&quot;logout()&quot; class=&quot;btn btn-primary&quot;&gt;Logout&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nI can see that the `actualToken` and the `csrfToken.getToken()` is the same when I try to debug with breakpoint but I still get this failures when I try to logout\r\n\r\n```shell\r\n2023-07-31T18:17:31.904+08:00  INFO 10277 --- [nio-8080-exec-9] c.mark.oauth2.Demo.PrintCsrfTokenFilter  : csrfToken: afc6a080-363c-4d9f-87e2-187314baf11a , actualToken: afc6a080-363c-4d9f-87e2-187314baf11a\r\n2023-07-31T18:17:31.905+08:00 DEBUG 10277 --- [nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for http://localhost:8080/logout\r\n```\r\n\r\nThis is how it looks like from the browser,\r\n\\[![browser logout case](https://i.stack.imgur.com/HEygr.png)(https://i.stack.imgur.com/HEygr.png)\r\n[![request headers](https://i.stack.imgur.com/QH70o.png)](https://i.stack.imgur.com/QH70o.png)\r\n\r\nI wanted to know if I am missing how I should implement OAuth2. \r\nAny Answers will be appreciated, I will keep this post updated for everyones learning and reference. \r\n\r\nI tried to logout from the browser but its not working because even though the csrf token is the same it keeps on saying `Invalid CSRF token found`, I am expecting it to work as I have understood it but clearly somethings missing. ","title":"Springboot OAuth2 CSRF enabled XSRF token not matching","body":"<p>I have this demo springboot app and my goal is to understand more about oauth2, I was able to make it work using github auth I configured like this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          github:\n            clientId: ***\n            clientSecret: ***\n</code></pre>\n<p>This is my gradle dependencies</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\nimplementation 'org.springframework.boot:spring-boot-starter-web'\n</code></pre>\n<p>this is my security filter chain</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\n@EnableWebSecurity\npublic class OAuth2LoginSecurityConfig {\n\n    @Autowired\n    private CustomOAuth2AuthenticationFailureHandler failureHandler;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        CookieCsrfTokenRepository cRepo = CookieCsrfTokenRepository.withHttpOnlyFalse();\n        http\n            .addFilterBefore(new PrintCsrfTokenFilter(cRepo), CsrfFilter.class)\n            .csrf(csrf -&gt;  csrf.csrfTokenRepository(cRepo))\n            .authorizeHttpRequests(authorize -&gt; authorize\n                .requestMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/webjars/**&quot;,&quot;/index.html&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .logout((logout) -&gt; logout.logoutSuccessUrl(&quot;/&quot;).permitAll())\n            .oauth2Login(t -&gt; t.failureHandler((request, response, exception) -&gt; {\n                log.error(exception.getMessage());\n                request.getSession().setAttribute(&quot;error.message&quot;, exception.getMessage());\n                failureHandler.onAuthenticationFailure(request, response, exception);\n            }));\n        return http.build();\n    }\n}\n</code></pre>\n<p>This is my debug filter class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic final class PrintCsrfTokenFilter extends OncePerRequestFilter {\n\n    private CsrfTokenRepository tokenRepository;\n\n    public PrintCsrfTokenFilter(CsrfTokenRepository csrfTokenRepository) {\n        Assert.notNull(csrfTokenRepository, &quot;csrfTokenRepository cannot be null&quot;);\n        this.tokenRepository = csrfTokenRepository;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        DeferredCsrfToken deferredCsrfToken = this.tokenRepository.loadDeferredToken(request, response);\n        CsrfToken csrfToken = deferredCsrfToken.get();\n        String actualToken = this.resolveCsrfTokenValue(request, csrfToken);\n        log.info(&quot;csrfToken: {} , actualToken: {}&quot;, csrfToken.getToken(), actualToken);\n\n        String xcsrfToken = request.getHeader(&quot;X-XSRF-TOKEN&quot;);\n        log.info(&quot;xcsrfToken Token: &quot; + xcsrfToken);\n\n        filterChain.doFilter(request, response);\n    }\n\n    private String resolveCsrfTokenValue(HttpServletRequest request, CsrfToken csrfToken) {\n        Assert.notNull(request, &quot;request cannot be null&quot;);\n        Assert.notNull(csrfToken, &quot;csrfToken cannot be null&quot;);\n        String actualToken = request.getHeader(csrfToken.getHeaderName());\n        log.info(&quot;header {}: {} &quot;, csrfToken.getHeaderName(), actualToken);\n        if (actualToken == null) {\n            actualToken = request.getParameter(csrfToken.getParameterName());\n            log.info(&quot;param {}: {} &quot;, csrfToken.getParameterName(), actualToken);\n        }\n        return actualToken;\n    }\n}\n</code></pre>\n<p>heres my front end side</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n// Declare logout function in the global scope\nwindow.logout = function() {\n    $.post(&quot;/logout&quot;, function() {\n        $(&quot;#user&quot;).html('');\n        $(&quot;.unauthenticated&quot;).show();\n        $(&quot;.authenticated&quot;).hide();\n    })\n    return true;\n}\n\n$.ajaxSetup({\n  beforeSend : function(xhr, settings) {\n    if (settings.type == 'POST' || settings.type == 'PUT'\n        || settings.type == 'DELETE') {\n      if (!(/^http:.*/.test(settings.url) || /^https:.*/\n        .test(settings.url))) {\n        // Only send the token to relative URLs i.e. locally.\n        xhr.setRequestHeader(&quot;X-XSRF-TOKEN&quot;,\n          Cookies.get('XSRF-TOKEN'));\n      }\n    }\n  }\n});\n\n$(document).ready(function() {\n    $.get(&quot;/user&quot;, function(data, status, xhr) {\n        if (xhr.status == 200 &amp;&amp; data.name != null &amp;&amp; data.name != &quot;&quot;) {\n            $(&quot;#user&quot;).html(data.name);\n            $(&quot;.unauthenticated&quot;).hide();\n            $(&quot;.authenticated&quot;).show();\n        } else {\n            $(&quot;.authenticated&quot;).hide();\n            $(&quot;.unauthenticated&quot;).show();\n        }\n    }).fail(function() {\n        $(&quot;.authenticated&quot;).hide();\n        $(&quot;.unauthenticated&quot;).show();\n    });\n});\n\n&lt;/script&gt;\n\n\n\n&lt;div class=&quot;container&quot;&gt;\n    &lt;h1&gt;Demo&lt;/h1&gt;\n    &lt;div class=&quot;container unauthenticated&quot;&gt;\n        With GitHub: &lt;a href=&quot;/oauth2/authorization/github&quot;&gt;click here&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;container authenticated&quot;&gt;\n        Logged in as: &lt;span id=&quot;user&quot;&gt;&lt;/span&gt;\n        &lt;div&gt;\n            &lt;button onClick=&quot;logout()&quot; class=&quot;btn btn-primary&quot;&gt;Logout&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n<p>I can see that the <code>actualToken</code> and the <code>csrfToken.getToken()</code> is the same when I try to debug with breakpoint but I still get this failures when I try to logout</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-07-31T18:17:31.904+08:00  INFO 10277 --- [nio-8080-exec-9] c.mark.oauth2.Demo.PrintCsrfTokenFilter  : csrfToken: afc6a080-363c-4d9f-87e2-187314baf11a , actualToken: afc6a080-363c-4d9f-87e2-187314baf11a\n2023-07-31T18:17:31.905+08:00 DEBUG 10277 --- [nio-8080-exec-9] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for http://localhost:8080/logout\n</code></pre>\n<p>This is how it looks like from the browser,\n[<img src=\"https://i.stack.imgur.com/HEygr.png\" alt=\"browser logout case\" />(<a href=\"https://i.stack.imgur.com/HEygr.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/HEygr.png</a>)\n<a href=\"https://i.stack.imgur.com/QH70o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QH70o.png\" alt=\"request headers\" /></a></p>\n<p>I wanted to know if I am missing how I should implement OAuth2.\nAny Answers will be appreciated, I will keep this post updated for everyones learning and reference.</p>\n<p>I tried to logout from the browser but its not working because even though the csrf token is the same it keeps on saying <code>Invalid CSRF token found</code>, I am expecting it to work as I have understood it but clearly somethings missing.</p>\n"},{"tags":["java","spring-boot","java-8","completable-future"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690845637,"creation_date":1620896144,"answer_id":67516506,"question_id":67516480,"body_markdown":"No.  \r\n\r\n1.  A `CompletableFuture` is a mechanism for delivering a result from one thread to another.  It doesn&#39;t have any functionality for computing things or repeating things.\r\n\r\n2.  A `CompletableFuture` returns one value only.  Once it has been &quot;completed&quot;, the value cannot be changed.  You can call `complete` multiple times with different values, but they will be ignored according to the [javadoc][1].\r\n\r\nOf course, you could write some code that repeatedly queries the database, and only calls `complete(...)` when the database cell becomes true.  For example:\r\n\r\n    // Do this twice a minute until it succeeds.\r\n    if (jdbcTemplate.queryForObject()) {\r\n        future.complete(Boolean.TRUE);\r\n        // stop repeating ...\r\n    }\r\n\r\nThe idea is to call `complete` just once to deliver a result ... and then terminate the loop or whatever that is repeating the query. \r\n\r\nBut that&#39;s not *using* `CompletableFuture` to do the repeated queries.\r\n\r\nNote: you should also consider cases such as the query taking too long, or failing with an exception.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#complete(T)","title":"Can I repeat method using CompletableFuture until value is true","body":"<p>No.</p>\n<ol>\n<li><p>A <code>CompletableFuture</code> is a mechanism for delivering a result from one thread to another.  It doesn't have any functionality for computing things or repeating things.</p>\n</li>\n<li><p>A <code>CompletableFuture</code> returns one value only.  Once it has been &quot;completed&quot;, the value cannot be changed.  You can call <code>complete</code> multiple times with different values, but they will be ignored according to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/CompletableFuture.html#complete(T)\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n</li>\n</ol>\n<p>Of course, you could write some code that repeatedly queries the database, and only calls <code>complete(...)</code> when the database cell becomes true.  For example:</p>\n<pre><code>// Do this twice a minute until it succeeds.\nif (jdbcTemplate.queryForObject()) {\n    future.complete(Boolean.TRUE);\n    // stop repeating ...\n}\n</code></pre>\n<p>The idea is to call <code>complete</code> just once to deliver a result ... and then terminate the loop or whatever that is repeating the query.</p>\n<p>But that's not <em>using</em> <code>CompletableFuture</code> to do the repeated queries.</p>\n<p>Note: you should also consider cases such as the query taking too long, or failing with an exception.</p>\n"},{"tags":[],"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620903897,"creation_date":1620903496,"answer_id":67518054,"question_id":67516480,"body_markdown":"you can use this working example:\r\n\r\n        CompletableFuture&lt;Object&gt; future = new CompletableFuture&lt;&gt;();\r\n\r\n\r\n        Timer timer = new Timer();\r\n        timer.schedule(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Object o = &quot;jdbcTemplate.queryForObject()&quot;;\r\n                    if (o != null) {\r\n                        future.complete(o);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    future.completeExceptionally(ex);\r\n                }\r\n            }\r\n        }, 0, 1000*2*60);\r\n        System.out.println(&quot;checking database periodically ran&quot;);\r\n        future.thenAccept(o -&gt; {\r\n            System.out.println(o);\r\n            timer.cancel();\r\n        }).join();","title":"Can I repeat method using CompletableFuture until value is true","body":"<p>you can use this working example:</p>\n<pre><code>    CompletableFuture&lt;Object&gt; future = new CompletableFuture&lt;&gt;();\n\n\n    Timer timer = new Timer();\n    timer.schedule(new TimerTask() {\n        @Override\n        public void run() {\n            try {\n                Object o = &quot;jdbcTemplate.queryForObject()&quot;;\n                if (o != null) {\n                    future.complete(o);\n                }\n            } catch (Exception ex) {\n                future.completeExceptionally(ex);\n            }\n        }\n    }, 0, 1000*2*60);\n    System.out.println(&quot;checking database periodically ran&quot;);\n    future.thenAccept(o -&gt; {\n        System.out.println(o);\n        timer.cancel();\n    }).join();\n</code></pre>\n"}],"owner":{"account_id":16761201,"reputation":425,"user_id":12469177,"display_name":"bohdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67516506,"answer_count":2,"score":3,"last_activity_date":1690845637,"creation_date":1620895996,"question_id":67516480,"body_markdown":"I have a Java method that gets a value from a database table cell.\r\nLet&#39;s name it `jdbcTemplate.queryForObject()`\r\n\r\nI want to run this method once per 2 minutes until the value of the cell becomes `true`.\r\n\r\nIs it possible to achieve this using CompletableFuture?\r\n","title":"Can I repeat method using CompletableFuture until value is true","body":"<p>I have a Java method that gets a value from a database table cell.\nLet's name it <code>jdbcTemplate.queryForObject()</code></p>\n<p>I want to run this method once per 2 minutes until the value of the cell becomes <code>true</code>.</p>\n<p>Is it possible to achieve this using CompletableFuture?</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1377961898,"creation_date":1377932931,"answer_id":18545557,"question_id":18545470,"body_markdown":"If you want a window to always be at the front of screen, you simply have to call `Window.setAlwaysOnTop(true)`. Since Window is an ancestor superclass of `JFrame` and `JDialog`, it will work for your purposes.\r\n\r\nWith this method, the window will always be visible, even if the user switches to another app. However, the window will only keep in focus if you make it a modal `JDialog` and the user activates the app (i.e. you can&#39;t make the window seize focus from another app and then never let it go.). I imagine this by design. It would be really frustrating if a user&#39;s entire operating system was made inaccessible by a rogue Java JDialog that could not be closed, although it does mean that you can&#39;t have a &quot;Take a Rest , its long Enough&quot; message that truly forces the user to take a break.","title":"how to display any message upfront exclusive of any software or application running on System","body":"<p>If you want a window to always be at the front of screen, you simply have to call <code>Window.setAlwaysOnTop(true)</code>. Since Window is an ancestor superclass of <code>JFrame</code> and <code>JDialog</code>, it will work for your purposes.</p>\n\n<p>With this method, the window will always be visible, even if the user switches to another app. However, the window will only keep in focus if you make it a modal <code>JDialog</code> and the user activates the app (i.e. you can't make the window seize focus from another app and then never let it go.). I imagine this by design. It would be really frustrating if a user's entire operating system was made inaccessible by a rogue Java JDialog that could not be closed, although it does mean that you can't have a \"Take a Rest , its long Enough\" message that truly forces the user to take a break.</p>\n"}],"owner":{"account_id":265510,"reputation":8275,"user_id":552521,"accept_rate":78,"display_name":"Abhishek Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18545557,"answer_count":1,"score":1,"last_activity_date":1690844757,"creation_date":1377932263,"question_id":18545470,"body_markdown":"I want to make a software which prompts message on front of the screen like any subliminal Software does and then by counter I will just ignore it in sometime. I am making an application in Java Swing , I would like to know how to prompt any message over any application running.\r\n\r\nLike I want to show &quot;Take a Rest , its long Enough&quot; , to the front of the screen ignoring any software running to the front.","title":"how to display any message upfront exclusive of any software or application running on System","body":"<p>I want to make a software which prompts message on front of the screen like any subliminal Software does and then by counter I will just ignore it in sometime. I am making an application in Java Swing , I would like to know how to prompt any message over any application running.</p>\n\n<p>Like I want to show \"Take a Rest , its long Enough\" , to the front of the screen ignoring any software running to the front.</p>\n"},{"tags":["java","swing","user-interface","intellij-idea"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1690824594,"post_id":76805885,"comment_id":135403736,"body_markdown":"Your question needs a lot more contextual information including your current code, where you&#39;re trying to add this method, just everything. Having said that, I urge you not to rely on YouTube videos to learn programming as their quality is usually terrible, and this often leads to much frustration.","body":"Your question needs a lot more contextual information including your current code, where you&#39;re trying to add this method, just everything. Having said that, I urge you not to rely on YouTube videos to learn programming as their quality is usually terrible, and this often leads to much frustration."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690825730,"post_id":76805885,"comment_id":135403941,"body_markdown":"@HovercraftFullOfEels The issue description is enough to understand the problem and find the known bug in IntelliJ IDEA: https://youtrack.jetbrains.com/issue/IDEA-326683/Write-access-is-allowed-inside-write-action-only-at-com.intellij.uiDesigner.actions.CreateListenerAction.","body":"@HovercraftFullOfEels The issue description is enough to understand the problem and find the known bug in IntelliJ IDEA: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-326683/Write-access-is-allowed-inside-write-action-only-at-com.intellij.uiDesigner.actions.CreateListenerAction\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-326683/&hellip;</a>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690844617,"post_id":76805885,"comment_id":135406865,"body_markdown":"I just want to point out that the OP never mentions what version of IntelliJ they are using, so now we&#39;re making assumptions. I also don&#39;t think posting on SO should be the first thing people do - again, no evidence to contrary, but if you found it easy to find the bug report, it raises questions about the effort that the OP went to to find an answer to their problem. So, yes, I agree with hovercraft, there is a lot of details missing - just saying","body":"I just want to point out that the OP never mentions what version of IntelliJ they are using, so now we&#39;re making assumptions. I also don&#39;t think posting on SO should be the first thing people do - again, no evidence to contrary, but if you found it easy to find the bug report, it raises questions about the effort that the OP went to to find an answer to their problem. So, yes, I agree with hovercraft, there is a lot of details missing - just saying"},{"owner":{"account_id":29130753,"reputation":31,"user_id":22316077,"display_name":"anceldev"},"score":0,"creation_date":1690896354,"post_id":76805885,"comment_id":135414749,"body_markdown":"Thanks for your feedback, it&#39;s my first post. I&#39;ll keep it on mind the next time.","body":"Thanks for your feedback, it&#39;s my first post. I&#39;ll keep it on mind the next time."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690824977,"creation_date":1690824977,"answer_id":76805947,"question_id":76805885,"body_markdown":"It&#39;s a [known bug](https://youtrack.jetbrains.com/issue/IDEA-326683/Write-access-is-allowed-inside-write-action-only-at-com.intellij.uiDesigner.actions.CreateListenerAction) in IntelliJ IDEA 2023.2 release.\r\n\r\nAs a workaround, please use the [previous IDE version](https://www.jetbrains.com/idea/download/other.html) (2023.1.5) until this issue is resolved.","title":"Can&#39;t generate action listener in IntelliJ IDEA GUI Designer","body":"<p>It's a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-326683/Write-access-is-allowed-inside-write-action-only-at-com.intellij.uiDesigner.actions.CreateListenerAction\" rel=\"nofollow noreferrer\">known bug</a> in IntelliJ IDEA 2023.2 release.</p>\n<p>As a workaround, please use the <a href=\"https://www.jetbrains.com/idea/download/other.html\" rel=\"nofollow noreferrer\">previous IDE version</a> (2023.1.5) until this issue is resolved.</p>\n"}],"owner":{"account_id":29130753,"reputation":31,"user_id":22316077,"display_name":"anceldev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":76805947,"answer_count":1,"score":1,"last_activity_date":1690844598,"creation_date":1690824356,"question_id":76805885,"body_markdown":"I&#39;m trying to generate an action listener on the GUI form with IntelliJ IDEA, but there is one window that doesn&#39;t appear for me.\r\n\r\nI&#39;ve tried to reinstall the app but it doesn&#39;t work. This is the window that doesn&#39;t appear. I took this screenshot from a YouTube video.\r\n\r\n![enter image description here](https://i.stack.imgur.com/3xbmA.png)","title":"Can&#39;t generate action listener in IntelliJ IDEA GUI Designer","body":"<p>I'm trying to generate an action listener on the GUI form with IntelliJ IDEA, but there is one window that doesn't appear for me.</p>\n<p>I've tried to reinstall the app but it doesn't work. This is the window that doesn't appear. I took this screenshot from a YouTube video.</p>\n<p><img src=\"https://i.stack.imgur.com/3xbmA.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":16007025,"reputation":133,"user_id":11552297,"display_name":"Julia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690843794,"creation_date":1690840568,"question_id":76807353,"body_markdown":"I am facing an issue while insert json object to mongo collection.\r\nUsing, mongodbdriver-sync 4.6.0, mongo-driver-core 4.6.0, bson 4.9.1\r\n```lang-java\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class DataModel {\r\n  @JsonProperty(&quot;messageId&quot;)\r\n  private String messageId;\r\n\r\n  @JsonProperty(&quot;messageBody&quot;)\r\n  private String messageBody;\r\n\r\n  @JsonProperty(&quot;status&quot;)\r\n  private String status;\r\n}\r\n```\r\n\r\ncompling is good and i can connect to mongoDB but it throws exception, `...CodecConfigurationException: Unable to get value for property &#39;message&#39; in DataModel.`\r\n\r\nIt seems it&#39;s throwing an error due to the missing `message` which is  optional property. How to fix this issue? I need to handle many optional properties.\r\n```lang-java\r\nCodecRegistry myRegistry = fromRegistries(\r\nMongoClientSettings.getDefaultCodecRegistry(),\r\n fromProviders( \r\n  PojoCodecProvider.builder().register(DataModel.class).build()\r\n )\r\n);\r\n\r\nMongoCollection&lt;IndexDataModel&gt; collection = mongoDatabase.getCollection(&quot;collectioname&quot;, DataModel.class).withCodecRegistry(myRegistry);\r\n\r\nInsertOneResult result = collection.insertOne(dataModel);\r\n```\r\n","title":"insert json object with codecRegistry in Mongo","body":"<p>I am facing an issue while insert json object to mongo collection.\nUsing, mongodbdriver-sync 4.6.0, mongo-driver-core 4.6.0, bson 4.9.1</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class DataModel {\n  @JsonProperty(&quot;messageId&quot;)\n  private String messageId;\n\n  @JsonProperty(&quot;messageBody&quot;)\n  private String messageBody;\n\n  @JsonProperty(&quot;status&quot;)\n  private String status;\n}\n</code></pre>\n<p>compling is good and i can connect to mongoDB but it throws exception, <code>...CodecConfigurationException: Unable to get value for property 'message' in DataModel.</code></p>\n<p>It seems it's throwing an error due to the missing <code>message</code> which is  optional property. How to fix this issue? I need to handle many optional properties.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CodecRegistry myRegistry = fromRegistries(\nMongoClientSettings.getDefaultCodecRegistry(),\n fromProviders( \n  PojoCodecProvider.builder().register(DataModel.class).build()\n )\n);\n\nMongoCollection&lt;IndexDataModel&gt; collection = mongoDatabase.getCollection(&quot;collectioname&quot;, DataModel.class).withCodecRegistry(myRegistry);\n\nInsertOneResult result = collection.insertOne(dataModel);\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","controller","spring-validation"],"comments":[{"owner":{"account_id":28850828,"reputation":512,"user_id":22096771,"display_name":"Bademeister"},"score":0,"creation_date":1690845707,"post_id":76807530,"comment_id":135406988,"body_markdown":"You have written so much! Who is going to read it? Please reduce your question to the essentials and show the important part of your source code.","body":"You have written so much! Who is going to read it? Please reduce your question to the essentials and show the important part of your source code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690902575,"post_id":76807530,"comment_id":135416223,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29132137,"reputation":11,"user_id":22317138,"display_name":"sternbergm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690843682,"creation_date":1690843682,"question_id":76807530,"body_markdown":"I have a controller with a post method that takes in some headers as string as well as a request body as an object.\r\n\r\nI want to use spring validation for all of it. I currently have my headers validation inline, and my request object has validation annotations all throughout its objects and fields. I am currently using a globalExceptionHandler to catch the different exceptions such as MethodArgumentNotValid and ConstraintsViolation. \r\n\r\nThe validation works perfectly, but I need to put some order to it, I would prefer to have:\r\n\r\n1.headers validation\r\n2.general request validation (not null and not blank)\r\n3.detailed request validation (patterns and sizes)\r\n\r\nI&#39;ve seen people use the groups field in the validation annotation to group their validations, and they create their sequences using the @GroupSequence annotation on an interface of their choice. I want to implement something of this sort, but it only seems to work when you use a ValidatorFactory and validator.validate, not with the exceptions.\r\n\r\n\r\n\r\nAny help would be appreciated.\r\n\r\nI can take the tedious route and order all of my messages by priority and just sort through them, but I want this solution to be scalable to multiple projects with different sets of errors. \r\n\r\nI currently have the @Validated and @GroupSequence({Controller.class, headers.class, request1.class, request2.class}) on my controller class, then inline I have @NotBlank for my headers and @Valid for my object. then inside my object I have @valid for my cascading objects and an assortment of different validations all throughout. the validations work, just not in the order specified in the group sequence. I can still get to the last group of validations with an error on the first layer.\r\n\r\nusing hibernate.validator version 5.2.4.final. ","title":"Ordering Spring validations using groups and exceptions","body":"<p>I have a controller with a post method that takes in some headers as string as well as a request body as an object.</p>\n<p>I want to use spring validation for all of it. I currently have my headers validation inline, and my request object has validation annotations all throughout its objects and fields. I am currently using a globalExceptionHandler to catch the different exceptions such as MethodArgumentNotValid and ConstraintsViolation.</p>\n<p>The validation works perfectly, but I need to put some order to it, I would prefer to have:</p>\n<p>1.headers validation\n2.general request validation (not null and not blank)\n3.detailed request validation (patterns and sizes)</p>\n<p>I've seen people use the groups field in the validation annotation to group their validations, and they create their sequences using the @GroupSequence annotation on an interface of their choice. I want to implement something of this sort, but it only seems to work when you use a ValidatorFactory and validator.validate, not with the exceptions.</p>\n<p>Any help would be appreciated.</p>\n<p>I can take the tedious route and order all of my messages by priority and just sort through them, but I want this solution to be scalable to multiple projects with different sets of errors.</p>\n<p>I currently have the @Validated and @GroupSequence({Controller.class, headers.class, request1.class, request2.class}) on my controller class, then inline I have @NotBlank for my headers and @Valid for my object. then inside my object I have @valid for my cascading objects and an assortment of different validations all throughout. the validations work, just not in the order specified in the group sequence. I can still get to the last group of validations with an error on the first layer.</p>\n<p>using hibernate.validator version 5.2.4.final.</p>\n"},{"tags":["java","image","colors","pixel"],"answers":[{"tags":[],"owner":{"account_id":4098145,"reputation":471,"user_id":3364361,"display_name":"Black Shadow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394746717,"creation_date":1394746717,"answer_id":22391511,"question_id":22391353,"body_markdown":"    byte[] pixels\r\nnot\r\n\r\n    int[] pixels\r\n\r\ntry this : https://stackoverflow.com/questions/6524196/java-get-pixel-array-from-image","title":"Get color of each pixel of an image using BufferedImages","body":"<pre><code>byte[] pixels\n</code></pre>\n\n<p>not</p>\n\n<pre><code>int[] pixels\n</code></pre>\n\n<p>try this : <a href=\"https://stackoverflow.com/questions/6524196/java-get-pixel-array-from-image\">Java - get pixel array from image</a></p>\n"},{"tags":[],"owner":{"account_id":4098145,"reputation":471,"user_id":3364361,"display_name":"Black Shadow"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1690842626,"creation_date":1394748037,"answer_id":22391906,"question_id":22391353,"body_markdown":"    import java.io.*;\r\n    import java.awt.*;\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.image.BufferedImage;\r\n\r\n    public class GetPixelColor {\r\n        public static void main(String args[]) throws IOException {\r\n            File file = new File(&quot;your_file.jpg&quot;);\r\n            BufferedImage image = ImageIO.read(file);\r\n            // Getting pixel color by position x and y \r\n            int clr = image.getRGB(x, y);\r\n            int red =   (clr &amp; 0x00ff0000) &gt;&gt; 16;\r\n            int green = (clr &amp; 0x0000ff00) &gt;&gt; 8;\r\n            int blue =   clr &amp; 0x000000ff;\r\n            System.out.println(&quot;Red Color value = &quot; + red);\r\n            System.out.println(&quot;Green Color value = &quot; + green);\r\n            System.out.println(&quot;Blue Color value = &quot; + blue);\r\n        }\r\n    }\r\n\r\nOf course, you have to add a `for` loop for all pixels.","title":"Get color of each pixel of an image using BufferedImages","body":"<pre><code>import java.io.*;\nimport java.awt.*;\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\n\npublic class GetPixelColor {\n    public static void main(String args[]) throws IOException {\n        File file = new File(&quot;your_file.jpg&quot;);\n        BufferedImage image = ImageIO.read(file);\n        // Getting pixel color by position x and y \n        int clr = image.getRGB(x, y);\n        int red =   (clr &amp; 0x00ff0000) &gt;&gt; 16;\n        int green = (clr &amp; 0x0000ff00) &gt;&gt; 8;\n        int blue =   clr &amp; 0x000000ff;\n        System.out.println(&quot;Red Color value = &quot; + red);\n        System.out.println(&quot;Green Color value = &quot; + green);\n        System.out.println(&quot;Blue Color value = &quot; + blue);\n    }\n}\n</code></pre>\n<p>Of course, you have to add a <code>for</code> loop for all pixels.</p>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1394748234,"creation_date":1394748234,"answer_id":22391951,"question_id":22391353,"body_markdown":"The problem (also with the answer that was linked from the first answer) is that you hardly ever know what exact type your buffered image will be after reading it with ImageIO. It could contain a `DataBufferByte` or a `DataBufferInt`. You may deduce it in some cases via `BufferedImage#getType()`, but in the worst case, it has type `TYPE_CUSTOM`, and then you can only fall back to some `instanceof` tests.\r\n\r\nHowever, you can convert your image into a BufferedImage that is guaranteed to have a `DataBufferInt` with ARGB values - namely with something like\r\n\r\n\r\n    public static BufferedImage convertToARGB(BufferedImage image)\r\n    {\r\n        BufferedImage newImage = new BufferedImage(\r\n            image.getWidth(), image.getHeight(),\r\n            BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g = newImage.createGraphics();\r\n        g.drawImage(image, 0, 0, null);\r\n        g.dispose();\r\n        return newImage;\r\n    }\r\n\r\nOtherwise, you can call `image.getRGB(x,y)`, which may perform the required conversions on the fly.\r\n\r\nBTW: Note that obtaining the data buffer of a BufferedImage may degrade painting performance, because the image can no longer be &quot;managed&quot; and kept in VRAM internally.\r\n","title":"Get color of each pixel of an image using BufferedImages","body":"<p>The problem (also with the answer that was linked from the first answer) is that you hardly ever know what exact type your buffered image will be after reading it with ImageIO. It could contain a <code>DataBufferByte</code> or a <code>DataBufferInt</code>. You may deduce it in some cases via <code>BufferedImage#getType()</code>, but in the worst case, it has type <code>TYPE_CUSTOM</code>, and then you can only fall back to some <code>instanceof</code> tests.</p>\n\n<p>However, you can convert your image into a BufferedImage that is guaranteed to have a <code>DataBufferInt</code> with ARGB values - namely with something like</p>\n\n<pre><code>public static BufferedImage convertToARGB(BufferedImage image)\n{\n    BufferedImage newImage = new BufferedImage(\n        image.getWidth(), image.getHeight(),\n        BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g = newImage.createGraphics();\n    g.drawImage(image, 0, 0, null);\n    g.dispose();\n    return newImage;\n}\n</code></pre>\n\n<p>Otherwise, you can call <code>image.getRGB(x,y)</code>, which may perform the required conversions on the fly.</p>\n\n<p>BTW: Note that obtaining the data buffer of a BufferedImage may degrade painting performance, because the image can no longer be \"managed\" and kept in VRAM internally.</p>\n"},{"tags":[],"owner":{"account_id":2846002,"reputation":3976,"user_id":2444386,"accept_rate":67,"display_name":"Daniel Barral"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469718240,"creation_date":1469718240,"answer_id":38640150,"question_id":22391353,"body_markdown":"    import java.awt.Color;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class ImageUtil {\r\n    \r\n        public static Color[][] loadPixelsFromImage(File file) throws IOException {\r\n    \r\n            BufferedImage image = ImageIO.read(file);\r\n            Color[][] colors = new Color[image.getWidth()][image.getHeight()];\r\n    \r\n            for (int x = 0; x &lt; image.getWidth(); x++) {\r\n                for (int y = 0; y &lt; image.getHeight(); y++) {\r\n                    colors[x][y] = new Color(image.getRGB(x, y));\r\n                }\r\n            }\r\n    \r\n            return colors;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            Color[][] colors = loadPixelsFromImage(new File(&quot;image.png&quot;));\r\n            System.out.println(&quot;Color[0][0] = &quot; + colors[0][0]);\r\n        }\r\n    }","title":"Get color of each pixel of an image using BufferedImages","body":"<pre><code>import java.awt.Color;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\npublic class ImageUtil {\n\n    public static Color[][] loadPixelsFromImage(File file) throws IOException {\n\n        BufferedImage image = ImageIO.read(file);\n        Color[][] colors = new Color[image.getWidth()][image.getHeight()];\n\n        for (int x = 0; x &lt; image.getWidth(); x++) {\n            for (int y = 0; y &lt; image.getHeight(); y++) {\n                colors[x][y] = new Color(image.getRGB(x, y));\n            }\n        }\n\n        return colors;\n    }\n\n    public static void main(String[] args) throws IOException {\n        Color[][] colors = loadPixelsFromImage(new File(\"image.png\"));\n        System.out.println(\"Color[0][0] = \" + colors[0][0]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13076666,"reputation":1177,"user_id":9448540,"display_name":"curiouscupcake"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1546787573,"creation_date":1546786840,"answer_id":54062774,"question_id":22391353,"body_markdown":"    import javax.imageio.ImageIO;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            BufferedImage bufferedImage = ImageIO.read(new File(&quot;norris.jpg&quot;));\r\n            int height = bufferedImage.getHeight(), width = bufferedImage.getWidth();\r\n            for (int y = 0; y &lt; height; y++) {\r\n                for (int x = 0; x &lt; width; x++) {\r\n                    int RGBA = bufferedImage.getRGB(x, y);\r\n                    int alpha = (RGBA &gt;&gt; 24) &amp; 255;\r\n                    int red = (RGBA &gt;&gt; 16) &amp; 255;\r\n                    int green = (RGBA &gt;&gt; 8) &amp; 255;\r\n                    int blue = RGBA &amp; 255;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAssume the buffered image represents an image with 8-bit RGBA color components packed into integer pixels, I search for &quot;RGBA color space&quot; on wikipedia and found following:\r\n\r\n&gt; In the byte-order scheme, &quot;RGBA&quot; is understood to mean a byte R,\r\n&gt; followed by a byte G, followed by a byte B, and followed by a byte A.\r\n&gt; This scheme is commonly used for describing file formats or network\r\n&gt; protocols, which are both byte-oriented.\r\n\r\nWith simple Bitwise and Bitshift you can get the value of each color and the alpha value of the pixel.\r\n\r\nVery interesting is also the other order scheme of RGBA:\r\n\r\n&gt; In the word-order scheme, &quot;RGBA&quot; is understood to represent a complete\r\n&gt; 32-bit word, where R is more significant than G, which is more\r\n&gt; significant than B, which is more significant than A. This scheme can\r\n&gt; be used to describe the memory layout on a particular system. Its\r\n&gt; meaning varies depending on the endianness of the system.\r\n\r\n","title":"Get color of each pixel of an image using BufferedImages","body":"<pre><code>import javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        BufferedImage bufferedImage = ImageIO.read(new File(\"norris.jpg\"));\n        int height = bufferedImage.getHeight(), width = bufferedImage.getWidth();\n        for (int y = 0; y &lt; height; y++) {\n            for (int x = 0; x &lt; width; x++) {\n                int RGBA = bufferedImage.getRGB(x, y);\n                int alpha = (RGBA &gt;&gt; 24) &amp; 255;\n                int red = (RGBA &gt;&gt; 16) &amp; 255;\n                int green = (RGBA &gt;&gt; 8) &amp; 255;\n                int blue = RGBA &amp; 255;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Assume the buffered image represents an image with 8-bit RGBA color components packed into integer pixels, I search for \"RGBA color space\" on wikipedia and found following:</p>\n\n<blockquote>\n  <p>In the byte-order scheme, \"RGBA\" is understood to mean a byte R,\n  followed by a byte G, followed by a byte B, and followed by a byte A.\n  This scheme is commonly used for describing file formats or network\n  protocols, which are both byte-oriented.</p>\n</blockquote>\n\n<p>With simple Bitwise and Bitshift you can get the value of each color and the alpha value of the pixel.</p>\n\n<p>Very interesting is also the other order scheme of RGBA:</p>\n\n<blockquote>\n  <p>In the word-order scheme, \"RGBA\" is understood to represent a complete\n  32-bit word, where R is more significant than G, which is more\n  significant than B, which is more significant than A. This scheme can\n  be used to describe the memory layout on a particular system. Its\n  meaning varies depending on the endianness of the system.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2686339,"reputation":366,"user_id":2320681,"accept_rate":89,"display_name":"Shuba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548954286,"creation_date":1548954286,"answer_id":54465757,"question_id":22391353,"body_markdown":"I know this has already been answered, but the answers given are a bit convoluted and could use improvement.\r\nThe simple idea is to just loop through every (x,y) pixel in the image, and get the color of that pixel.\r\n\r\n    BufferedImage image = MyImageLoader.getSomeImage();\r\n    for ( int x = 0; x &lt; image.getWidth(); x++ ) {\r\n        for( int y = 0; y &lt; image.getHeight(); y++ ) {\r\n            Color pixel = new Color( image.getRGB( x, y ) );\r\n            // Do something with pixel color here :)\r\n        }\r\n    }\r\n\r\nYou could then perhaps wrap this method in a class, and implement Java&#39;s Iterable API.\r\n\r\n    class IterableImage implements Iterable&lt;Color&gt; {\r\n        \r\n        private BufferedImage image;\r\n\r\n        public IterableImage( BufferedImage image ) {\r\n            this.image = image;\r\n        }\r\n\r\n        @Override\r\n\t    public Iterator&lt;Color&gt; iterator() {\r\n\t\t    return new Itr();\r\n\t    }\r\n\r\n        private final class Itr implements Iterator&lt;Color&gt; {\r\n\r\n            private int x = 0, y = 0;\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return x &lt; image.getWidth &amp;&amp; y &lt; image.getHeight();\r\n            }\r\n\r\n            @Override\r\n            public Color next() {\r\n                x += 1;\r\n                if ( x &gt;= image.getWidth() ) {\r\n                    x = 0;\r\n                    y += 1;\r\n                }\r\n                return new Color( image.getRGB( x, y ) );\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nThe usage of which might look something like the following\r\n\r\n    BufferedImage image = MyImageLoader.getSomeImage();\r\n    for ( Color color : new IterableImage( image ) ) {\r\n        // Do something with color here :)\r\n    }","title":"Get color of each pixel of an image using BufferedImages","body":"<p>I know this has already been answered, but the answers given are a bit convoluted and could use improvement.\nThe simple idea is to just loop through every (x,y) pixel in the image, and get the color of that pixel.</p>\n\n<pre><code>BufferedImage image = MyImageLoader.getSomeImage();\nfor ( int x = 0; x &lt; image.getWidth(); x++ ) {\n    for( int y = 0; y &lt; image.getHeight(); y++ ) {\n        Color pixel = new Color( image.getRGB( x, y ) );\n        // Do something with pixel color here :)\n    }\n}\n</code></pre>\n\n<p>You could then perhaps wrap this method in a class, and implement Java's Iterable API.</p>\n\n<pre><code>class IterableImage implements Iterable&lt;Color&gt; {\n\n    private BufferedImage image;\n\n    public IterableImage( BufferedImage image ) {\n        this.image = image;\n    }\n\n    @Override\n    public Iterator&lt;Color&gt; iterator() {\n        return new Itr();\n    }\n\n    private final class Itr implements Iterator&lt;Color&gt; {\n\n        private int x = 0, y = 0;\n\n        @Override\n        public boolean hasNext() {\n            return x &lt; image.getWidth &amp;&amp; y &lt; image.getHeight();\n        }\n\n        @Override\n        public Color next() {\n            x += 1;\n            if ( x &gt;= image.getWidth() ) {\n                x = 0;\n                y += 1;\n            }\n            return new Color( image.getRGB( x, y ) );\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>The usage of which might look something like the following</p>\n\n<pre><code>BufferedImage image = MyImageLoader.getSomeImage();\nfor ( Color color : new IterableImage( image ) ) {\n    // Do something with color here :)\n}\n</code></pre>\n"}],"owner":{"account_id":2802714,"reputation":3861,"user_id":2410644,"accept_rate":35,"display_name":"user2410644"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87107,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":6,"score":27,"last_activity_date":1690842626,"creation_date":1394746199,"question_id":22391353,"body_markdown":"I am trying to get every single color of every single pixel of an image.\r\nMy idea was following:\r\n\r\n    int[] pixels;\r\n    BufferedImage image;\r\n\r\n    image = ImageIO.read(this.getClass.getResources(&quot;image.png&quot;);\r\n    int[] pixels = ((DataBufferInt)image.getRaster().getDataBuffer()).getData();\r\n\r\nIs that right? I can&#39;t even check what the &quot;pixels&quot; array contains, because i get following error:\r\n\r\n    java.awt.image.DataBufferByte cannot be cast to java.awt.image.DataBufferInt\r\n\r\nI just would like to receive the color of every pixel in an array, how do i achieve that?","title":"Get color of each pixel of an image using BufferedImages","body":"<p>I am trying to get every single color of every single pixel of an image.\nMy idea was following:</p>\n\n<pre><code>int[] pixels;\nBufferedImage image;\n\nimage = ImageIO.read(this.getClass.getResources(\"image.png\");\nint[] pixels = ((DataBufferInt)image.getRaster().getDataBuffer()).getData();\n</code></pre>\n\n<p>Is that right? I can't even check what the \"pixels\" array contains, because i get following error:</p>\n\n<pre><code>java.awt.image.DataBufferByte cannot be cast to java.awt.image.DataBufferInt\n</code></pre>\n\n<p>I just would like to receive the color of every pixel in an array, how do i achieve that?</p>\n"},{"tags":["java","mysql","testing","h2"],"answers":[{"tags":[],"owner":{"account_id":71894,"reputation":4566,"user_id":207776,"accept_rate":78,"display_name":"asela38"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1519894714,"creation_date":1519894714,"answer_id":49046022,"question_id":49041723,"body_markdown":"Got a workaround with ***Reflection*** for the problem. Access H2 Functions map and remove DATEDIFF from there. Then add the replacement function. \r\n\r\n    package com.asela.util;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.sql.Date;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    \r\n    import org.h2.expression.Function;\r\n    \r\n    public class H2Function {\r\n    \r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tpublic static int removeDateDifference() {\r\n    \t\ttry {\r\n    \t\t\t  Field field = Function.class.getDeclaredField(&quot;FUNCTIONS&quot;);\r\n    \t\t\t  field.setAccessible(true);\r\n    \t\t\t  ((Map)field.get(null)).remove(&quot;DATEDIFF&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(&quot;failed to remove date-difference&quot;);\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    \t\r\n    \tpublic static long dateDifference(Date date1, Date date2) {\r\n    \t\tObjects.nonNull(date1);\r\n    \t\tObjects.nonNull(date2);\r\n    \t\treturn ChronoUnit.DAYS.between(date1.toLocalDate(), date2.toLocalDate());\r\n    \t}\r\n    }\r\n\r\nThen in schema\r\n\r\n    CREATE ALIAS IF NOT EXISTS REMOVE_DATE_DIFF FOR &quot;com.asela.util.H2Function.removeDateDifference&quot;;\r\n    CALL REMOVE_DATE_DIFF();\r\n    DROP ALIAS IF EXISTS DATEDIFF;\r\n    CREATE ALIAS DATEDIFF FOR &quot;com.asela.util.H2Function.dateDifference&quot;;\r\n","title":"Mysql SQL query DATEDIFF failed in H2 where mode was MYSQL","body":"<p>Got a workaround with <strong><em>Reflection</em></strong> for the problem. Access H2 Functions map and remove DATEDIFF from there. Then add the replacement function. </p>\n\n<pre><code>package com.asela.util;\n\nimport java.lang.reflect.Field;\nimport java.sql.Date;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Map;\nimport java.util.Objects;\n\nimport org.h2.expression.Function;\n\npublic class H2Function {\n\n    @SuppressWarnings(\"rawtypes\")\n    public static int removeDateDifference() {\n        try {\n              Field field = Function.class.getDeclaredField(\"FUNCTIONS\");\n              field.setAccessible(true);\n              ((Map)field.get(null)).remove(\"DATEDIFF\");\n        } catch (Exception e) {\n            throw new RuntimeException(\"failed to remove date-difference\");\n        }\n        return 0;\n    }\n\n    public static long dateDifference(Date date1, Date date2) {\n        Objects.nonNull(date1);\n        Objects.nonNull(date2);\n        return ChronoUnit.DAYS.between(date1.toLocalDate(), date2.toLocalDate());\n    }\n}\n</code></pre>\n\n<p>Then in schema</p>\n\n<pre><code>CREATE ALIAS IF NOT EXISTS REMOVE_DATE_DIFF FOR \"com.asela.util.H2Function.removeDateDifference\";\nCALL REMOVE_DATE_DIFF();\nDROP ALIAS IF EXISTS DATEDIFF;\nCREATE ALIAS DATEDIFF FOR \"com.asela.util.H2Function.dateDifference\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9966188,"reputation":13,"user_id":7373831,"display_name":"Junyoung Oh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690842007,"creation_date":1690842007,"answer_id":76807441,"question_id":49041723,"body_markdown":"asela38&#39;s answer works for me.\r\nBut some things about h2 package should change in my environment(springboot).\r\n\r\nVery thanks to asela38 and Leo Lin :)\r\n\r\n1. remove runtime scope from pom.xml\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt; &lt;-- remove\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n2. h2 package directory changed\r\n```\r\nimport org.h2.expression.function.Function; &lt;--- change\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.sql.Date;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\npublic class H2Function {\r\n    public static Long dateDiff(Date date1, Date date2) {\r\n        if (Objects.isNull(date1) || Objects.isNull(date2)) {\r\n            return null;\r\n        }\r\n        return ChronoUnit.DAYS.between(date1.toLocalDate(), date2.toLocalDate());\r\n    }\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public static int removeDateDiff() {\r\n        try {\r\n            Field field = Function.class.getDeclaredField(&quot;FUNCTIONS_BY_NAME&quot;);\r\n            field.setAccessible(true);\r\n            ((Map)field.get(null)).remove(&quot;DATEDIFF&quot;);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;failed to remove DATEDIFF&quot;);\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n```\r\n","title":"Mysql SQL query DATEDIFF failed in H2 where mode was MYSQL","body":"<p>asela38's answer works for me.\nBut some things about h2 package should change in my environment(springboot).</p>\n<p>Very thanks to asela38 and Leo Lin :)</p>\n<ol>\n<li>remove runtime scope from pom.xml</li>\n</ol>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt; &lt;-- remove\n        &lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>h2 package directory changed</li>\n</ol>\n<pre><code>import org.h2.expression.function.Function; &lt;--- change\n\nimport java.lang.reflect.Field;\nimport java.sql.Date;\nimport java.time.temporal.ChronoUnit;\nimport java.util.Map;\nimport java.util.Objects;\n\npublic class H2Function {\n    public static Long dateDiff(Date date1, Date date2) {\n        if (Objects.isNull(date1) || Objects.isNull(date2)) {\n            return null;\n        }\n        return ChronoUnit.DAYS.between(date1.toLocalDate(), date2.toLocalDate());\n    }\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    public static int removeDateDiff() {\n        try {\n            Field field = Function.class.getDeclaredField(&quot;FUNCTIONS_BY_NAME&quot;);\n            field.setAccessible(true);\n            ((Map)field.get(null)).remove(&quot;DATEDIFF&quot;);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;failed to remove DATEDIFF&quot;);\n        }\n        return 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":71894,"reputation":4566,"user_id":207776,"accept_rate":78,"display_name":"asela38"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49046022,"answer_count":2,"score":2,"last_activity_date":1690842007,"creation_date":1519871378,"question_id":49041723,"body_markdown":"***Background:*** In one of my projects I am doing [component testing][1] on Spring Batch using JUnit. Here application DB is MYSQL. In Junit test execution I let the data-source switch between \r\n\r\n - MYSQL and    \r\n - H2(jdbc:h2:mem:MYTESTDB;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MYSQL) \r\n\r\nbased on configuration. \r\nUse MYSQL as the data source for debugging purpose and H2 to run the test in isolation in build servers.\r\n\r\nEverything works fine until in application logic I had to use a query with DATEDIFF. \r\n\r\n***Issue:*** Query fails with \r\n\r\n&gt; org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement\r\n\r\n***Reason:*** Even through [H2 run on MySQL mode][2] it uses H2 Functions and those functions are different\r\n\r\n    MYSQL DATEDIFF definition is DATEDIFF(expr1,expr2)\r\n     e.g. SELECT DATEDIFF(&#39;2010-11-30 23:59:59&#39;,&#39;2010-12-31&#39;) \r\n          ==&gt; 1\r\n\r\n    H2 DATEDIFF definision is DATEDIFF(unitstring, expr1, expr2)\r\n     unitstring =  { YEAR | YY | MONTH | MM | WEEK | DAY | DD | DAY_OF_YEAR\r\n     | DOY | HOUR | HH | MINUTE | MI | SECOND | SS | MILLISECOND | MS }\r\n     e.g. SELECT DATEDIFF(dd, &#39;2010-11-30 23:59:59&#39;,&#39;2010-12-31&#39;) \r\n          ==&gt; 1\r\n\r\n***Solutions tried and failed:*** I tried to write a custom function \r\n\r\n     package com.asela.util;                                                                                                                                \r\n                                                                                                                                                                                             \r\n     import java.lang.reflect.Field;                                                                                                                                                         \r\n     import java.sql.Date;                                                                                                                                                                   \r\n     import java.time.temporal.ChronoUnit;                                                                                                                                                   \r\n     import java.util.Map;                                                                                                                                                                   \r\n     import java.util.Objects;                                                                                                                                                               \r\n                                                                                                                                                                                             \r\n     import org.h2.expression.Function;                                                                                                                                                      \r\n                                                                                                                                                                                             \r\n     public class H2Function {                                                                                                                                                               \r\n     \tpublic static long dateDifference(Date date1, Date date2) {                                                                                                                          \r\n     \t\tObjects.nonNull(date1);                                                                                                                                                          \r\n     \t\tObjects.nonNull(date2);                                                                                                                                                          \r\n     \t\treturn ChronoUnit.DAYS.between(date1.toLocalDate(), date2.toLocalDate());                                                                                                        \r\n     \t}                                                                                                                                                                                    \r\n     } \r\n\r\nAnd set it with H2 \r\n \r\n    DROP ALIAS IF EXISTS DATEDIFF;\r\n    CREATE ALIAS DATEDIFF FOR &quot;com.asela.util.H2Function.dateDifference&quot;;\r\n\r\nAbove was not able to replace existing DATEDIFF still fails with\r\n\r\n  &gt; org.h2.jdbc.JdbcSQLException: Function alias &quot;DATEDIFF&quot; already exists; SQL statement:\r\n\r\n*Any other approach I can try to make this work?*\r\n\r\n\r\n  [1]: https://martinfowler.com/bliki/ComponentTest.html\r\n  [2]: http://www.h2database.com/html/features.html#compatibility","title":"Mysql SQL query DATEDIFF failed in H2 where mode was MYSQL","body":"<p><strong><em>Background:</em></strong> In one of my projects I am doing <a href=\"https://martinfowler.com/bliki/ComponentTest.html\" rel=\"nofollow noreferrer\">component testing</a> on Spring Batch using JUnit. Here application DB is MYSQL. In Junit test execution I let the data-source switch between </p>\n\n<ul>\n<li>MYSQL and    </li>\n<li>H2(jdbc:h2:mem:MYTESTDB;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MYSQL) </li>\n</ul>\n\n<p>based on configuration. \nUse MYSQL as the data source for debugging purpose and H2 to run the test in isolation in build servers.</p>\n\n<p>Everything works fine until in application logic I had to use a query with DATEDIFF. </p>\n\n<p><strong><em>Issue:</em></strong> Query fails with </p>\n\n<blockquote>\n  <p>org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement</p>\n</blockquote>\n\n<p><strong><em>Reason:</em></strong> Even through <a href=\"http://www.h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">H2 run on MySQL mode</a> it uses H2 Functions and those functions are different</p>\n\n<pre><code>MYSQL DATEDIFF definition is DATEDIFF(expr1,expr2)\n e.g. SELECT DATEDIFF('2010-11-30 23:59:59','2010-12-31') \n      ==&gt; 1\n\nH2 DATEDIFF definision is DATEDIFF(unitstring, expr1, expr2)\n unitstring =  { YEAR | YY | MONTH | MM | WEEK | DAY | DD | DAY_OF_YEAR\n | DOY | HOUR | HH | MINUTE | MI | SECOND | SS | MILLISECOND | MS }\n e.g. SELECT DATEDIFF(dd, '2010-11-30 23:59:59','2010-12-31') \n      ==&gt; 1\n</code></pre>\n\n<p><strong><em>Solutions tried and failed:</em></strong> I tried to write a custom function </p>\n\n<pre><code> package com.asela.util;                                                                                                                                \n\n import java.lang.reflect.Field;                                                                                                                                                         \n import java.sql.Date;                                                                                                                                                                   \n import java.time.temporal.ChronoUnit;                                                                                                                                                   \n import java.util.Map;                                                                                                                                                                   \n import java.util.Objects;                                                                                                                                                               \n\n import org.h2.expression.Function;                                                                                                                                                      \n\n public class H2Function {                                                                                                                                                               \n    public static long dateDifference(Date date1, Date date2) {                                                                                                                          \n        Objects.nonNull(date1);                                                                                                                                                          \n        Objects.nonNull(date2);                                                                                                                                                          \n        return ChronoUnit.DAYS.between(date1.toLocalDate(), date2.toLocalDate());                                                                                                        \n    }                                                                                                                                                                                    \n } \n</code></pre>\n\n<p>And set it with H2 </p>\n\n<pre><code>DROP ALIAS IF EXISTS DATEDIFF;\nCREATE ALIAS DATEDIFF FOR \"com.asela.util.H2Function.dateDifference\";\n</code></pre>\n\n<p>Above was not able to replace existing DATEDIFF still fails with</p>\n\n<blockquote>\n  <p>org.h2.jdbc.JdbcSQLException: Function alias \"DATEDIFF\" already exists; SQL statement:</p>\n</blockquote>\n\n<p><em>Any other approach I can try to make this work?</em></p>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1690841090,"post_id":76807260,"comment_id":135406538,"body_markdown":"What is the problem you’re facing?","body":"What is the problem you’re facing?"},{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":0,"creation_date":1690841273,"post_id":76807260,"comment_id":135406562,"body_markdown":"Java could not find the org.springframework.boot.web.client during compilation. I just solved it adding &quot;requires spring.boot;&quot; to module-info.","body":"Java could not find the org.springframework.boot.web.client during compilation. I just solved it adding &quot;requires spring.boot;&quot; to module-info."}],"answers":[{"tags":[],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690841330,"creation_date":1690841330,"answer_id":76807406,"question_id":76807260,"body_markdown":"I solved it changing the module-info.java as following:\r\n\r\n    module lendyourstocks.remote.main {\r\n        requires spring.boot;\r\n    }","title":"What dependency do I need to use RestTemplateBuilder with SpringBoot 3 and a Multimodule(J9) project?","body":"<p>I solved it changing the module-info.java as following:</p>\n<pre><code>module lendyourstocks.remote.main {\n    requires spring.boot;\n}\n</code></pre>\n"}],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690841330,"creation_date":1690839205,"question_id":76807260,"body_markdown":"I am building a multimodule (Java 9 feature) application using SpringBoot 3 and I cannot add the correct dependency to RestTemplateBuilder. \r\n\r\nMy build.gradle (main project) is this:\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    \tid &#39;org.springframework.boot&#39; version &#39;3.2.0-SNAPSHOT&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n    }\r\n    \r\n    group = &#39;com.mrv&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    \r\n    java {\r\n    \tsourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    bootJar {\r\n    \tmainClass = &#39;com.mrv.lendyourstocks.LendyourstocksApplication&#39;\r\n    }\r\n    \r\n    bootRun {\r\n    \tmainClass = &#39;com.mrv.lendyourstocks.LendyourstocksApplication&#39;\r\n    }\r\n    \r\n    allprojects {\r\n    \tapply plugin: &#39;java&#39;\r\n    \tapply plugin: &#39;org.springframework.boot&#39;\r\n    \tapply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    \trepositories {\r\n    \t\tmavenCentral()\r\n    \t\tmaven { url &#39;https://repo.spring.io/milestone&#39; }\r\n    \t\tmaven { url &#39;https://repo.spring.io/snapshot&#39; }\r\n    \t}\r\n    \r\n    \tdependencies {\r\n    \t\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \t\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \t\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \t\tannotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    \t\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \t\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \t}\r\n    \r\n    \ttasks.named(&#39;test&#39;) {\r\n    \t\tuseJUnitPlatform()\r\n    \t}\r\n    \r\n    \tjava {\r\n    \t\tmodularity.inferModulePath = true\r\n    \t}\r\n    }\r\n    \r\n    def modules= [\r\n    \t\t&quot;remote&quot;,\r\n    \t\t&quot;core&quot;,\r\n    \t\t&quot;api&quot;\r\n    ]\r\n    \r\n    dependencies {\r\n    \tmodules.collect { implementation project(it)}\r\n    }\r\n\r\n\r\nMy build gradle, inside the module remote:\r\n\r\n    bootRun {\r\n        enabled = false\r\n    }\r\n    \r\n    bootJar {\r\n        enabled = false\r\n    }\r\n    \r\n    jar {\r\n        enabled = true\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework:spring-web&#39;\r\n    }\r\n\r\nAnd finally, module-info.java:\r\n\r\n    module lendyourstocks.remote.main {\r\n        requires spring.boot.starter.web;\r\n        requires spring.web;    \r\n    }\r\n\r\nWith single module projects I am able to access it just adding the Spring Web Starter dependency. So I think I am missing something inside the module-info.java file.","title":"What dependency do I need to use RestTemplateBuilder with SpringBoot 3 and a Multimodule(J9) project?","body":"<p>I am building a multimodule (Java 9 feature) application using SpringBoot 3 and I cannot add the correct dependency to RestTemplateBuilder.</p>\n<p>My build.gradle (main project) is this:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0-SNAPSHOT'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'com.mrv'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nbootJar {\n    mainClass = 'com.mrv.lendyourstocks.LendyourstocksApplication'\n}\n\nbootRun {\n    mainClass = 'com.mrv.lendyourstocks.LendyourstocksApplication'\n}\n\nallprojects {\n    apply plugin: 'java'\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'io.spring.dependency-management'\n\n    repositories {\n        mavenCentral()\n        maven { url 'https://repo.spring.io/milestone' }\n        maven { url 'https://repo.spring.io/snapshot' }\n    }\n\n    dependencies {\n        implementation 'org.springframework.boot:spring-boot-starter'\n        compileOnly 'org.projectlombok:lombok'\n        developmentOnly 'org.springframework.boot:spring-boot-devtools'\n        annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n        annotationProcessor 'org.projectlombok:lombok'\n        testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    }\n\n    tasks.named('test') {\n        useJUnitPlatform()\n    }\n\n    java {\n        modularity.inferModulePath = true\n    }\n}\n\ndef modules= [\n        &quot;remote&quot;,\n        &quot;core&quot;,\n        &quot;api&quot;\n]\n\ndependencies {\n    modules.collect { implementation project(it)}\n}\n</code></pre>\n<p>My build gradle, inside the module remote:</p>\n<pre><code>bootRun {\n    enabled = false\n}\n\nbootJar {\n    enabled = false\n}\n\njar {\n    enabled = true\n}\n\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework:spring-web'\n}\n</code></pre>\n<p>And finally, module-info.java:</p>\n<pre><code>module lendyourstocks.remote.main {\n    requires spring.boot.starter.web;\n    requires spring.web;    \n}\n</code></pre>\n<p>With single module projects I am able to access it just adding the Spring Web Starter dependency. So I think I am missing something inside the module-info.java file.</p>\n"},{"tags":["java","adobe","acrobat"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1690844948,"post_id":76807270,"comment_id":135406909,"body_markdown":"I suspect that you are confusing Java with JavaScript. They are two completely different and incompatible languages. Try searching for JavaScript and Adobe Forms.","body":"I suspect that you are confusing Java with JavaScript. They are two completely different and incompatible languages. Try searching for JavaScript and Adobe Forms."}],"owner":{"account_id":29130991,"reputation":1,"user_id":22316257,"display_name":"Andylit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690839454,"creation_date":1690839454,"question_id":76807270,"body_markdown":"I am a complete novice with java. Searching for examples and/or meaningful instructions is non-productive. I do fairly well with Excel expressions but this apparently does not cross over. \r\n\r\nTrying to automate an invoice within a pdf using Acrobat X (PC version, not cloud). I have a group of radio buttons with different numeric values. User can choose only one. I want the value in the button to appear in a separate text field. \r\n\r\nThe end product will have several groups as described above with the text fields then used in a simple sum equation to generate a combined total.\r\n\r\nQuite frankly I have not &quot;tried&quot; anything. Searched for examples or instructions to no avail. I don&#39;t even know of the actions should originate from the radio buttons or the text field.\r\n\r\nDon&#39;t know if the actions belong in the Simplified Field Notation box or in the Custom Calculation Script.\r\n\r\nI&#39;ve been digging through the 700 page &quot;manual&quot; for the use of java in Acrobat forms and am just plain stumped.","title":"Acrobat X Forms: Trying to populate text box with value from radio button","body":"<p>I am a complete novice with java. Searching for examples and/or meaningful instructions is non-productive. I do fairly well with Excel expressions but this apparently does not cross over.</p>\n<p>Trying to automate an invoice within a pdf using Acrobat X (PC version, not cloud). I have a group of radio buttons with different numeric values. User can choose only one. I want the value in the button to appear in a separate text field.</p>\n<p>The end product will have several groups as described above with the text fields then used in a simple sum equation to generate a combined total.</p>\n<p>Quite frankly I have not &quot;tried&quot; anything. Searched for examples or instructions to no avail. I don't even know of the actions should originate from the radio buttons or the text field.</p>\n<p>Don't know if the actions belong in the Simplified Field Notation box or in the Custom Calculation Script.</p>\n<p>I've been digging through the 700 page &quot;manual&quot; for the use of java in Acrobat forms and am just plain stumped.</p>\n"},{"tags":["java","database","transactions","redis"],"answers":[{"tags":[],"owner":{"account_id":5667237,"reputation":5519,"user_id":4483094,"accept_rate":67,"display_name":"Karthikeyan Gopall"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1474353046,"creation_date":1474353046,"answer_id":39587161,"question_id":39585903,"body_markdown":"Redis transactions are different. It guarantees two things.\r\n\r\n 1. All or none of the commands are executed\r\n 2. sequential and uninterrupted commands\r\n\r\nHaving said that, if you have the control over your code and know when the system failure would happen (some sort of catching the exception) you can achieve your requirement in this way.\r\n\r\n 1. MULTI -&gt; Start transaction\r\n 2. LPUSH queue1 1 -&gt; pushing in queue 1\r\n 3. LPUSH queue2 1 -&gt; pushing in queue 2\r\n 4. EXEC/DISCARD\r\n\r\nIn the 4th step do EXEC if there is no error, if you encounter an error or exception and you wanna rollback do DISCARD. \r\n\r\nHope it makes sense. ","title":"How to implement transaction with rollback in Redis","body":"<p>Redis transactions are different. It guarantees two things.</p>\n\n<ol>\n<li>All or none of the commands are executed</li>\n<li>sequential and uninterrupted commands</li>\n</ol>\n\n<p>Having said that, if you have the control over your code and know when the system failure would happen (some sort of catching the exception) you can achieve your requirement in this way.</p>\n\n<ol>\n<li>MULTI -> Start transaction</li>\n<li>LPUSH queue1 1 -> pushing in queue 1</li>\n<li>LPUSH queue2 1 -> pushing in queue 2</li>\n<li>EXEC/DISCARD</li>\n</ol>\n\n<p>In the 4th step do EXEC if there is no error, if you encounter an error or exception and you wanna rollback do DISCARD. </p>\n\n<p>Hope it makes sense. </p>\n"},{"tags":[],"owner":{"account_id":43132,"reputation":15112,"user_id":125913,"display_name":"The Real Bill"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1474378916,"creation_date":1474378916,"answer_id":39595766,"question_id":39585903,"body_markdown":"If you need transaction rollback, I recommend using something other than Redis. Redis transactions are not the same as for other datastores.  Even Multi/Exec doesn&#39;t work for what you want - first because there is no rollback. If you want rollback you will have to pull down both lists so you can restore - and hope that between our error condition and the &quot;rollback&quot; no other client also modified either of the lists. Doing this in a sane and reliable way is not trivial, nor simple. It would also probably not be a good question for SO as it would be very broad, and not Redis specific.\r\n\r\nNow as to why EXEC doesn&#39;t do what one might think. In your proposed scenario MULTI/EXEC *only* handles the cases of:\r\n\r\n 1. You set up WATCHes to ensure no other changes happened\r\n 2. Your client dies before issuing EXEC\r\n 3. Redis is out of memory\r\n\r\nIt is entirely possible to get errors as a result of issuing the EXEC command. When you issue EXEC, Redis will execute **all** commands in the queue and return a list of errors. It will not provide the case of the add-to-list-1 working and add-to-list-2 failing. You would still have your two lists out of sync. When you issue, say an LPUSH after issuing MULTI, you will always get back an `OK` unless you:\r\n\r\n - a) previously added a watch and something in that list changed or  \r\n - b) Redis returns an OOM condition in response to a queued push command\r\n\r\nDISCARD does not work like some might think. DISCARD is used **instead of** EXEC, not as a rollback mechanism. Once you issue EXEC your transaction is completed. Redis does not have any rollback mechanism at all - that isn&#39;t what Redis&#39; transaction are about.\r\n\r\nThe key to understanding what Redis calls transactions is to realize they are essentially a command queue at the client connection level. They are not a database state machine.","title":"How to implement transaction with rollback in Redis","body":"<p>If you need transaction rollback, I recommend using something other than Redis. Redis transactions are not the same as for other datastores.  Even Multi/Exec doesn't work for what you want - first because there is no rollback. If you want rollback you will have to pull down both lists so you can restore - and hope that between our error condition and the \"rollback\" no other client also modified either of the lists. Doing this in a sane and reliable way is not trivial, nor simple. It would also probably not be a good question for SO as it would be very broad, and not Redis specific.</p>\n\n<p>Now as to why EXEC doesn't do what one might think. In your proposed scenario MULTI/EXEC <em>only</em> handles the cases of:</p>\n\n<ol>\n<li>You set up WATCHes to ensure no other changes happened</li>\n<li>Your client dies before issuing EXEC</li>\n<li>Redis is out of memory</li>\n</ol>\n\n<p>It is entirely possible to get errors as a result of issuing the EXEC command. When you issue EXEC, Redis will execute <strong>all</strong> commands in the queue and return a list of errors. It will not provide the case of the add-to-list-1 working and add-to-list-2 failing. You would still have your two lists out of sync. When you issue, say an LPUSH after issuing MULTI, you will always get back an <code>OK</code> unless you:</p>\n\n<ul>\n<li>a) previously added a watch and something in that list changed or  </li>\n<li>b) Redis returns an OOM condition in response to a queued push command</li>\n</ul>\n\n<p>DISCARD does not work like some might think. DISCARD is used <strong>instead of</strong> EXEC, not as a rollback mechanism. Once you issue EXEC your transaction is completed. Redis does not have any rollback mechanism at all - that isn't what Redis' transaction are about.</p>\n\n<p>The key to understanding what Redis calls transactions is to realize they are essentially a command queue at the client connection level. They are not a database state machine.</p>\n"},{"tags":[],"owner":{"account_id":3650558,"reputation":8277,"user_id":3042856,"accept_rate":94,"display_name":"Damaged Organic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690838381,"creation_date":1690836187,"answer_id":76807035,"question_id":39585903,"body_markdown":"There is a way, how clever/wrong it is, is up to you to decide.\r\n\r\nAs other colleagues have noticed, Redis transactions guarantee atomicity, but not at all consistency. Also, everything between `MULTI/EXEC|DISCARD` block is sent as a single command, so if you&#39;re using any kind of higher-level Redis client library, you practically have no control of what&#39;s going on along the way.\r\n\r\nIf there&#39;s a real need to tamper with intermediary results or perform conditionals based on them or else - the default choice would be to write some Lua scripts. Inside the script you can basically do anything, limited only by Lua capabilities itself and some Redis environment specifics.\r\n\r\nScripts inside the transaction would be executed one by one, and you cannot stop it. However, you can **skip** specific scripts or even parts of them.\r\n\r\nIn order to do that, each transaction scripts batch must be provided with a unique ID (UUID or whatever), passed as an argument (let&#39;s call it `trx_id`):\r\n\r\n    --[[\r\n      Minor advice: define keys/args tables with local aliases upfront,\r\n      makes things a lot easier while working with the script itself.\r\n    --]]\r\n    \r\n    local keys = {\r\n      ...\r\n    }\r\n    \r\n    local args = {\r\n      ...\r\n      trx_id = ARGV[13]\r\n    }\r\n\r\nNow, if some condition is unmet and you want to stop the subsequent scripts execution, set a unique lock with the `trx_id` end exit:\r\n\r\n    --[[\r\n      Minor advice: using hash tag in lock key name will make it drop into the same hash\r\n      slot thus playing nice in the clustering mode (refer to the docs for more info).\r\n    --]]\r\n    \r\n    local placeholder = 1\r\n    \r\n    if (true) then\r\n      if args.trx_id then redis.call(&#39;SET&#39;, &#39;{halt_mark}:&#39; .. args.trx_id, placeholder, &#39;PX&#39;, 1000, &#39;NX&#39;) end\r\n      error(...)\r\n    end\r\n\r\nWithout mentioning some sophisticated edge cases, this will set up a lock. Now, you have an anchor which can be used by subsequent scripts in the batch given that they&#39;ve been provided with the same `trx_id`:\r\n\r\n    --[[\r\n      Minor advice: args must be always checked for existence, because Redis\r\n      will silently allow to call a script with less arguments than expected.\r\n    --]]\r\n    \r\n    local keys = {\r\n      ...\r\n    }\r\n    \r\n    local args = {\r\n      ...\r\n      trx_id = ARGV[42]\r\n    }\r\n    \r\n    if args.trx_id and not redis.call(&#39;SET&#39;, &#39;{halt_mark}:&#39; .. args.trx_id, 1, &#39;PX&#39;, 3000, &#39;NX&#39;) then\r\n      error(...)\r\n    end\r\n\r\nThis simple condition will try to obtain the lock and fail if it&#39;s already taken, meaning that one of the previous operations decided that it would be enough.\r\n\r\nIn the essence, it allows you to **skip** next scripts in a transaction based on the &quot;halt mark&quot; which is set when you need to kill the transaction mid-way.\r\n\r\nDon&#39;t forget to release the lock at the end of an each script in the chain, if everything went well:\r\n\r\n    if args.trx_id then redis.call(&#39;DEL&#39;, &#39;{halt_mark}:&#39; .. args.trx_id) end\r\n\r\nAs I&#39;ve meant from the beginning, this is not a recommended way / best practice in any case, but it will **mimic** the relational DB style transactions in terms of consistency (especially if provided with tailored rollback actions on errors) when there&#39;s no other way.","title":"How to implement transaction with rollback in Redis","body":"<p>There is a way, how clever/wrong it is, is up to you to decide.</p>\n<p>As other colleagues have noticed, Redis transactions guarantee atomicity, but not at all consistency. Also, everything between <code>MULTI/EXEC|DISCARD</code> block is sent as a single command, so if you're using any kind of higher-level Redis client library, you practically have no control of what's going on along the way.</p>\n<p>If there's a real need to tamper with intermediary results or perform conditionals based on them or else - the default choice would be to write some Lua scripts. Inside the script you can basically do anything, limited only by Lua capabilities itself and some Redis environment specifics.</p>\n<p>Scripts inside the transaction would be executed one by one, and you cannot stop it. However, you can <strong>skip</strong> specific scripts or even parts of them.</p>\n<p>In order to do that, each transaction scripts batch must be provided with a unique ID (UUID or whatever), passed as an argument (let's call it <code>trx_id</code>):</p>\n<pre><code>--[[\n  Minor advice: define keys/args tables with local aliases upfront,\n  makes things a lot easier while working with the script itself.\n--]]\n\nlocal keys = {\n  ...\n}\n\nlocal args = {\n  ...\n  trx_id = ARGV[13]\n}\n</code></pre>\n<p>Now, if some condition is unmet and you want to stop the subsequent scripts execution, set a unique lock with the <code>trx_id</code> end exit:</p>\n<pre><code>--[[\n  Minor advice: using hash tag in lock key name will make it drop into the same hash\n  slot thus playing nice in the clustering mode (refer to the docs for more info).\n--]]\n\nlocal placeholder = 1\n\nif (true) then\n  if args.trx_id then redis.call('SET', '{halt_mark}:' .. args.trx_id, placeholder, 'PX', 1000, 'NX') end\n  error(...)\nend\n</code></pre>\n<p>Without mentioning some sophisticated edge cases, this will set up a lock. Now, you have an anchor which can be used by subsequent scripts in the batch given that they've been provided with the same <code>trx_id</code>:</p>\n<pre><code>--[[\n  Minor advice: args must be always checked for existence, because Redis\n  will silently allow to call a script with less arguments than expected.\n--]]\n\nlocal keys = {\n  ...\n}\n\nlocal args = {\n  ...\n  trx_id = ARGV[42]\n}\n\nif args.trx_id and not redis.call('SET', '{halt_mark}:' .. args.trx_id, 1, 'PX', 3000, 'NX') then\n  error(...)\nend\n</code></pre>\n<p>This simple condition will try to obtain the lock and fail if it's already taken, meaning that one of the previous operations decided that it would be enough.</p>\n<p>In the essence, it allows you to <strong>skip</strong> next scripts in a transaction based on the &quot;halt mark&quot; which is set when you need to kill the transaction mid-way.</p>\n<p>Don't forget to release the lock at the end of an each script in the chain, if everything went well:</p>\n<pre><code>if args.trx_id then redis.call('DEL', '{halt_mark}:' .. args.trx_id) end\n</code></pre>\n<p>As I've meant from the beginning, this is not a recommended way / best practice in any case, but it will <strong>mimic</strong> the relational DB style transactions in terms of consistency (especially if provided with tailored rollback actions on errors) when there's no other way.</p>\n"}],"owner":{"account_id":7521615,"reputation":153,"user_id":5713255,"display_name":"Tommy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8348,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1690838381,"creation_date":1474347008,"question_id":39585903,"body_markdown":"My program needs to add data to two lists in Redis as a transaction. Data should be consistent in both lists. If there is an exception or system failure and thus program only added data to one list, system should be able to recover and rollback. But based on Redis doc, it doesn&#39;t support rollback. How can I implement this? The language I use is Java.","title":"How to implement transaction with rollback in Redis","body":"<p>My program needs to add data to two lists in Redis as a transaction. Data should be consistent in both lists. If there is an exception or system failure and thus program only added data to one list, system should be able to recover and rollback. But based on Redis doc, it doesn't support rollback. How can I implement this? The language I use is Java.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5609143,"reputation":385,"user_id":4442612,"display_name":"vijaydeep"},"score":0,"creation_date":1690837178,"post_id":76806873,"comment_id":135406008,"body_markdown":"Please share your code snippet as well.","body":"Please share your code snippet as well."},{"owner":{"account_id":3020485,"reputation":310,"user_id":2561658,"accept_rate":33,"display_name":"John M"},"score":0,"creation_date":1690838375,"post_id":76806873,"comment_id":135406165,"body_markdown":"I&#39;ve pushed the current WIP to github. \nhttps://github.com/pmeyerin/ProtocolSNPluginLib/tree/psn-7/autoregister","body":"I&#39;ve pushed the current WIP to github.  <a href=\"https://github.com/pmeyerin/ProtocolSNPluginLib/tree/psn-7/autoregister\" rel=\"nofollow noreferrer\">github.com/pmeyerin/ProtocolSNPluginLib/tree/psn-7/autoregis&zwnj;&#8203;ter</a>"}],"owner":{"account_id":3020485,"reputation":310,"user_id":2561658,"accept_rate":33,"display_name":"John M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690843097,"answer_count":0,"score":0,"last_activity_date":1690837144,"creation_date":1690834558,"question_id":76806873,"body_markdown":"I&#39;m building a microservice ecosystem as part of learning Spring Boot and I have some behavior that I expect to be shared across all the services in this ecosystem. I want this library to include some Spring behavior (e.g. event management, reading configs).\r\n\r\n\r\n\r\nMy initial problem was an `Unable to find a @SpringBootConfiguration`, caused by there not being a main class (as expected, it&#39;s a library). \r\n\r\nI&#39;ve tried adding that annotation to my test class, adding it to a newly made class at a highest level of my package structure, and (as indicated in [this Spring guide][1]) adding an internal class to my test class with the @SpringBootApplication annotation. In each case it clears up the error above, but fails to inject my beans.\r\n\r\nIn fact, when I cloned the repository for that Spring guide and added a second bean it was also no longer able to run the tests.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/multi-module/","title":"Spring boot shared library","body":"<p>I'm building a microservice ecosystem as part of learning Spring Boot and I have some behavior that I expect to be shared across all the services in this ecosystem. I want this library to include some Spring behavior (e.g. event management, reading configs).</p>\n<p>My initial problem was an <code>Unable to find a @SpringBootConfiguration</code>, caused by there not being a main class (as expected, it's a library).</p>\n<p>I've tried adding that annotation to my test class, adding it to a newly made class at a highest level of my package structure, and (as indicated in <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">this Spring guide</a>) adding an internal class to my test class with the @SpringBootApplication annotation. In each case it clears up the error above, but fails to inject my beans.</p>\n<p>In fact, when I cloned the repository for that Spring guide and added a second bean it was also no longer able to run the tests.</p>\n"},{"tags":["java","eclipse","maven","dependencies"],"comments":[{"owner":{"account_id":1178010,"reputation":7642,"user_id":1153530,"accept_rate":80,"display_name":"Behe"},"score":0,"creation_date":1390238650,"post_id":21239573,"comment_id":31995802,"body_markdown":"Please note: maven-eclipse-plugin (eclipse:eclipse) and m2e are not compatible.","body":"Please note: maven-eclipse-plugin (eclipse:eclipse) and m2e are not compatible."}],"answers":[{"tags":[],"owner":{"account_id":3578251,"reputation":977,"user_id":2987010,"display_name":"gowtham"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390236495,"creation_date":1390236495,"answer_id":21239613,"question_id":21239573,"body_markdown":"Simple run your project online i.e `mvn clean install` . It fetches all the latest dependencies that you mention in your pom.xml and built the project","title":"Maven dependency update on commandline","body":"<p>Simple run your project online i.e <code>mvn clean install</code> . It fetches all the latest dependencies that you mention in your pom.xml and built the project</p>\n"},{"tags":[],"owner":{"account_id":2234629,"reputation":2522,"user_id":1971372,"display_name":"Ben Dale"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1390236618,"creation_date":1390236618,"answer_id":21239652,"question_id":21239573,"body_markdown":"    mvn clean install -U\r\n\r\n`-U` means force update of dependencies.\r\n\r\nAlso, if you want to import the project into eclipse, I first run:\r\n\r\n    mvn eclipse:eclipse\r\n\r\nthen run\r\n\r\n    mvn eclipse:clean\r\n\r\nSeems to work for me, but that&#39;s just my pennies worth.","title":"Maven dependency update on commandline","body":"<pre><code>mvn clean install -U\n</code></pre>\n\n<p><code>-U</code> means force update of dependencies.</p>\n\n<p>Also, if you want to import the project into eclipse, I first run:</p>\n\n<pre><code>mvn eclipse:eclipse\n</code></pre>\n\n<p>then run</p>\n\n<pre><code>mvn eclipse:clean\n</code></pre>\n\n<p>Seems to work for me, but that's just my pennies worth.</p>\n"},{"tags":[],"owner":{"account_id":2324982,"reputation":890,"user_id":2039709,"display_name":"user2039709"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1585665520,"creation_date":1399041227,"answer_id":23430661,"question_id":21239573,"body_markdown":"If you just want to re-load/update dependencies (I assume, with constantly changing you mean either SNAPSHOTS or local dependencies you update yourself), you can use\r\n\r\n    mvn dependency:resolve","title":"Maven dependency update on commandline","body":"<p>If you just want to re-load/update dependencies (I assume, with constantly changing you mean either SNAPSHOTS or local dependencies you update yourself), you can use</p>\n\n<pre><code>mvn dependency:resolve\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16588648,"reputation":1,"user_id":11987345,"display_name":"narendra kumar"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1566976065,"creation_date":1566972680,"answer_id":57686053,"question_id":21239573,"body_markdown":"    mvn -Dschemaname=public liquibase:update","title":"Maven dependency update on commandline","body":"<pre><code>mvn -Dschemaname=public liquibase:update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616804507,"creation_date":1616804507,"answer_id":66825871,"question_id":21239573,"body_markdown":"    mvn clean install -U \r\n\r\nalso make sure if you have your dependencies behind a VPN, you are connected to that VPN ","title":"Maven dependency update on commandline","body":"<pre><code>mvn clean install -U \n</code></pre>\n<p>also make sure if you have your dependencies behind a VPN, you are connected to that VPN</p>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635420249,"creation_date":1635420249,"answer_id":69753230,"question_id":21239573,"body_markdown":"I recently stumbled upon an error in IntelliJ IDEA. Which arise, when I checkout in git an older branch which is uses older dependency versions in the pom.xml.\r\n\r\nMy codebase is getting littered with `java: package com.foo.bar does not exist` and\r\n\r\n    java: cannot find symbol\r\n      symbol:   class Baz\r\n      location: class com.foo.bar\r\n\r\nerror messages.\r\n\r\nThe solution is to reload the project in the maven tab.\r\n\r\nI tried to automate that, but it seems that it is due to the fact, that IntelliJ is not noticing, that these files need to be indexed.\r\n\r\nHope that this helps someone. And if someone got to know how to update that over the console or as an pre-run task, please let me know.","title":"Maven dependency update on commandline","body":"<p>I recently stumbled upon an error in IntelliJ IDEA. Which arise, when I checkout in git an older branch which is uses older dependency versions in the pom.xml.</p>\n<p>My codebase is getting littered with <code>java: package com.foo.bar does not exist</code> and</p>\n<pre><code>java: cannot find symbol\n  symbol:   class Baz\n  location: class com.foo.bar\n</code></pre>\n<p>error messages.</p>\n<p>The solution is to reload the project in the maven tab.</p>\n<p>I tried to automate that, but it seems that it is due to the fact, that IntelliJ is not noticing, that these files need to be indexed.</p>\n<p>Hope that this helps someone. And if someone got to know how to update that over the console or as an pre-run task, please let me know.</p>\n"},{"tags":[],"owner":{"account_id":7158503,"reputation":1,"user_id":5469974,"display_name":"Dmitry Illy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690837065,"creation_date":1690837065,"answer_id":76807102,"question_id":21239573,"body_markdown":"for updating dependencies ignoring ssl errors i run:\r\n\r\n    mvn dependency:resolve -U -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true","title":"Maven dependency update on commandline","body":"<p>for updating dependencies ignoring ssl errors i run:</p>\n<pre><code>mvn dependency:resolve -U -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true\n</code></pre>\n"}],"owner":{"account_id":317442,"reputation":7093,"user_id":634135,"accept_rate":61,"display_name":"cobie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227864,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":7,"score":66,"last_activity_date":1690837065,"creation_date":1390236394,"question_id":21239573,"body_markdown":"I have a maven project that was built on the commandline for eclipse and one of the dependencies is constantly changing. How do I update this dependency on the commandline as I have heard that it is a bad idea to mix m2e plugin and commandline. Furthermore, I tried running `mvn eclipse:eclipse` on the command line and it messes up the project in eclipse removing the dependencies folder.","title":"Maven dependency update on commandline","body":"<p>I have a maven project that was built on the commandline for eclipse and one of the dependencies is constantly changing. How do I update this dependency on the commandline as I have heard that it is a bad idea to mix m2e plugin and commandline. Furthermore, I tried running <code>mvn eclipse:eclipse</code> on the command line and it messes up the project in eclipse removing the dependencies folder.</p>\n"},{"tags":["java","generics","nested-generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1689736457,"post_id":76717666,"comment_id":135254128,"body_markdown":"See the duplicate. `List&lt;Object&gt;` is the `Dog` here, and `List&lt;?&gt;` is the `Animal`. You probably want to use `List&lt;? extends List&lt;?&gt;&gt;` as the type of `b`.","body":"See the duplicate. <code>List&lt;Object&gt;</code> is the <code>Dog</code> here, and <code>List&lt;?&gt;</code> is the <code>Animal</code>. You probably want to use <code>List&lt;? extends List&lt;?&gt;&gt;</code> as the type of <code>b</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1689739085,"post_id":76717666,"comment_id":135254326,"body_markdown":"Suppose you did `b.add(0, new ArrayList&lt;Integer&gt;())` and then `a.get(0).add(&quot;uh oh&quot;)`. Now you have heap pollution.","body":"Suppose you did <code>b.add(0, new ArrayList&lt;Integer&gt;())</code> and then <code>a.get(0).add(&quot;uh oh&quot;)</code>. Now you have heap pollution."},{"owner":{"account_id":1258740,"reputation":493,"user_id":1217630,"accept_rate":81,"display_name":"freddy"},"score":0,"creation_date":1689748136,"post_id":76717666,"comment_id":135255238,"body_markdown":"@Sweeper `List&lt;?&gt;` can be any `List`, which means `List&lt;?&gt;` can be `List&lt;Object&gt;`. Is this same problem? I am not sure about that. I think wildcard should be treated differently. Am I wrong? please let me know..","body":"@Sweeper <code>List&lt;?&gt;</code> can be any <code>List</code>, which means <code>List&lt;?&gt;</code> can be <code>List&lt;Object&gt;</code>. Is this same problem? I am not sure about that. I think wildcard should be treated differently. Am I wrong? please let me know.."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689748637,"post_id":76717666,"comment_id":135255328,"body_markdown":"`Animal` can be any subclass of `Animal`, which can be `Dog`. The subtyping relationships are basically the same.","body":"<code>Animal</code> can be any subclass of <code>Animal</code>, which can be <code>Dog</code>. The subtyping relationships are basically the same."},{"owner":{"account_id":1258740,"reputation":493,"user_id":1217630,"accept_rate":81,"display_name":"freddy"},"score":0,"creation_date":1689749255,"post_id":76717666,"comment_id":135255442,"body_markdown":"@Sweeper Can you let me know which type can be assigned to variable `b` in the example? Based on your explanation, I think there is no type that can be assigned to `b` except itself. Am I right?","body":"@Sweeper Can you let me know which type can be assigned to variable <code>b</code> in the example? Based on your explanation, I think there is no type that can be assigned to <code>b</code> except itself. Am I right?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689749354,"post_id":76717666,"comment_id":135255456,"body_markdown":"Well the type argument has to be `List&lt;?&gt;`, but you can do `ArrayList&lt;List&lt;*&gt;&gt;` for example.","body":"Well the type argument has to be <code>List&lt;?&gt;</code>, but you can do <code>ArrayList&lt;List&lt;*&gt;&gt;</code> for example."},{"owner":{"account_id":1258740,"reputation":493,"user_id":1217630,"accept_rate":81,"display_name":"freddy"},"score":0,"creation_date":1689750485,"post_id":76717666,"comment_id":135255638,"body_markdown":"@Sweeper `List&lt;List&lt;?&gt;&gt; b = new ArrayList&lt;&gt;(); List&lt;Object&gt; c = new ArrayList&lt;&gt;(); List&lt;String&gt; d = new ArrayList&lt;&gt;(); b.add(c); b.add(d);` works but `b = a` does not work, which confuses me a lot. Although after I define `List&lt;List&lt;? extends Object&gt;&gt; b`, `c` and `d` still can be added to `b` but not `b=a`. Hmm.... I have to think about it more... thank you for your answers","body":"@Sweeper <code>List&lt;List&lt;?&gt;&gt; b = new ArrayList&lt;&gt;(); List&lt;Object&gt; c = new ArrayList&lt;&gt;(); List&lt;String&gt; d = new ArrayList&lt;&gt;(); b.add(c); b.add(d);</code> works but <code>b = a</code> does not work, which confuses me a lot. Although after I define <code>List&lt;List&lt;? extends Object&gt;&gt; b</code>, <code>c</code> and <code>d</code> still can be added to <code>b</code> but not <code>b=a</code>. Hmm.... I have to think about it more... thank you for your answers"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690350425,"post_id":76717666,"comment_id":135339245,"body_markdown":"See @Sweeper &#39;s first comment: `List&lt;Object&gt;` is the `Dog` and `List&lt;?&gt;` is the `Animal`. `Dog` can be assigned to `Animal`, but that doesn&#39;t mean that a `List&lt;Dog&gt;` can be assigned to  a `List&lt;Animal&gt;`. A `List&lt;List&lt;Object&gt;&gt;` can&#39;t be assigned to a `List&lt;List&lt;?&gt;&gt;` for exactly the same reason.","body":"See @Sweeper &#39;s first comment: <code>List&lt;Object&gt;</code> is the <code>Dog</code> and <code>List&lt;?&gt;</code> is the <code>Animal</code>. <code>Dog</code> can be assigned to <code>Animal</code>, but that doesn&#39;t mean that a <code>List&lt;Dog&gt;</code> can be assigned to  a <code>List&lt;Animal&gt;</code>. A <code>List&lt;List&lt;Object&gt;&gt;</code> can&#39;t be assigned to a <code>List&lt;List&lt;?&gt;&gt;</code> for exactly the same reason."}],"owner":{"account_id":1258740,"reputation":493,"user_id":1217630,"accept_rate":81,"display_name":"freddy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690837017,"creation_date":1689735054,"question_id":76717666,"body_markdown":"    List&lt;Object&gt; a = null;\r\n    List&lt;?&gt; b = null;\r\n    b = a; // Can be assigned\r\n    \r\n    List&lt;List&lt;Object&gt;&gt; a = null;\r\n    List&lt;List&lt;?&gt;&gt; b = null;\r\n    b = a; // Cannot be assigned\r\n\r\nCould you explain why Java does not allow the second case?\r\nWhat are the side-effects of the case and underlying philosophy?\r\n\r\nI have seen https://stackoverflow.com/q/2745265 but this question is different because there is the inheritance relationship between `Dog` and `Animal` but here is **no** relationship between the wildcard type `?` and `Object`. Wildcard type represents &#39;some unknown type,&#39; which means `List&lt;?&gt;` can be `List&lt;Object&gt;` in the runtime: Intuitively speaking, here `List&lt;?&gt;` is a candidate `Dog` (**Not `Animal`**), there `List&lt;Object&gt;` is a `Dog`. \r\n\r\n`List&lt;String&gt;` cannot be assigned to `List&lt;Object&gt;`, which is the same case of the previous question and explained there why it is not allowed. However, `List&lt;String&gt;` can be assigned to `List&lt;?&gt;`, which is the case I am asking and different from the previous case. Since the assignment is allowed, I expected `List&lt;List&lt;Object&gt;&gt;` can be assigned to `List&lt;List&lt;?&gt;&gt;`.","title":"Java type compatibility between generics with nested template types","body":"<pre><code>List&lt;Object&gt; a = null;\nList&lt;?&gt; b = null;\nb = a; // Can be assigned\n\nList&lt;List&lt;Object&gt;&gt; a = null;\nList&lt;List&lt;?&gt;&gt; b = null;\nb = a; // Cannot be assigned\n</code></pre>\n<p>Could you explain why Java does not allow the second case?\nWhat are the side-effects of the case and underlying philosophy?</p>\n<p>I have seen <a href=\"https://stackoverflow.com/q/2745265\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a> but this question is different because there is the inheritance relationship between <code>Dog</code> and <code>Animal</code> but here is <strong>no</strong> relationship between the wildcard type <code>?</code> and <code>Object</code>. Wildcard type represents 'some unknown type,' which means <code>List&lt;?&gt;</code> can be <code>List&lt;Object&gt;</code> in the runtime: Intuitively speaking, here <code>List&lt;?&gt;</code> is a candidate <code>Dog</code> (<strong>Not <code>Animal</code></strong>), there <code>List&lt;Object&gt;</code> is a <code>Dog</code>.</p>\n<p><code>List&lt;String&gt;</code> cannot be assigned to <code>List&lt;Object&gt;</code>, which is the same case of the previous question and explained there why it is not allowed. However, <code>List&lt;String&gt;</code> can be assigned to <code>List&lt;?&gt;</code>, which is the case I am asking and different from the previous case. Since the assignment is allowed, I expected <code>List&lt;List&lt;Object&gt;&gt;</code> can be assigned to <code>List&lt;List&lt;?&gt;&gt;</code>.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1690816373,"post_id":76804870,"comment_id":135402151,"body_markdown":"Does this help? https://stackoverflow.com/questions/37781970/disconnected-from-the-target-vm-address-127-0-0-162535-transport-socket","body":"Does this help? <a href=\"https://stackoverflow.com/questions/37781970/disconnected-from-the-target-vm-address-127-0-0-162535-transport-socket\" title=\"disconnected from the target vm address 127 0 0 162535 transport socket\">stackoverflow.com/questions/37781970/&hellip;</a>"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690816837,"post_id":76804870,"comment_id":135402258,"body_markdown":"This is not an error, refer to https://www.jetbrains.com/help/idea/debugging-your-first-java-application.html. Don&#39;t forget to place a breakpoint.","body":"This is not an error, refer to <a href=\"https://www.jetbrains.com/help/idea/debugging-your-first-java-application.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. Don&#39;t forget to place a breakpoint."},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1690818359,"post_id":76804870,"comment_id":135402601,"body_markdown":"@CrazyCoder Where should I place a breakpoint?","body":"@CrazyCoder Where should I place a breakpoint?"},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1690818527,"post_id":76804870,"comment_id":135402630,"body_markdown":"@RobertBain I looked at that thread before posting. The suggestions doesn&#39;t resolve my issue.","body":"@RobertBain I looked at that thread before posting. The suggestions doesn&#39;t resolve my issue."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690818629,"post_id":76804870,"comment_id":135402649,"body_markdown":"Place a breakpoint where you want your code to stop. The message you get is just the app execution finished. What do you expect to see instead?","body":"Place a breakpoint where you want your code to stop. The message you get is just the app execution finished. What do you expect to see instead?"},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1690819885,"post_id":76804870,"comment_id":135402897,"body_markdown":"@CrazyCoder Yes. I did that. Its in the original post. The code doesn&#39;t reach the breakpoint. Even the breakpoint is at line number 1, the error is the same.","body":"@CrazyCoder Yes. I did that. Its in the original post. The code doesn&#39;t reach the breakpoint. Even the breakpoint is at line number 1, the error is the same."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690820109,"post_id":76804870,"comment_id":135402937,"body_markdown":"What code do you run? This test, or some other configuration? Provide [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"What code do you run? This test, or some other configuration? Provide <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1690820596,"post_id":76804870,"comment_id":135403026,"body_markdown":"@CrazyCoder The code is the same code I am trying to run. The files that are associated with this is test data, that includes the following : saveAsDraftPortfolio.xlsx, For security reasons, I can not include the actual test data in this post.","body":"@CrazyCoder The code is the same code I am trying to run. The files that are associated with this is test data, that includes the following : saveAsDraftPortfolio.xlsx, For security reasons, I can not include the actual test data in this post."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690820633,"post_id":76804870,"comment_id":135403035,"body_markdown":"Post the full command line that is executed by the IDE.","body":"Post the full command line that is executed by the IDE."},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1690820743,"post_id":76804870,"comment_id":135403051,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254733/discussion-between-bubbles-and-crazycoder).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254733/discussion-between-bubbles-and-crazycoder\">continue this discussion in chat</a>."},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1690821276,"post_id":76804870,"comment_id":135403155,"body_markdown":"Posted in the chat","body":"Posted in the chat"},{"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"score":0,"creation_date":1690834138,"post_id":76804870,"comment_id":135405514,"body_markdown":"I just send this code to another friend. He is not able to execute on the same environment as well. Getting the same error message. There is something wrong in the code itself.","body":"I just send this code to another friend. He is not able to execute on the same environment as well. Getting the same error message. There is something wrong in the code itself."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690834238,"post_id":76804870,"comment_id":135405528,"body_markdown":"As explained, this is not an error message, it&#39;s just a status message that the process has finished and the debugger is disconnected from the process. It does not explain anything.","body":"As explained, this is not an error message, it&#39;s just a status message that the process has finished and the debugger is disconnected from the process. It does not explain anything."}],"answers":[{"tags":[],"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690836511,"creation_date":1690836511,"answer_id":76807063,"question_id":76804870,"body_markdown":"After debugging deeper into the code, I have found out there was an issue in my test data file. The code was completely fine. The test data, however, had a clause \r\n\r\n    where if \r\n    first 5 columns are not testid, test case, test description, environment and case priority \r\n       then \r\n    runs ignoreCase method  \r\n\r\nwhich basically ignores the testcases. In our case, it is what it was doing as I added &quot;invalid&quot; column (6th) in the 2nd column. I believe the framework I am working on is quite old and needs to handle this type of scenarios better way. I will add supportive code to make sure this doesn&#39;t happen in the future. \r\n","title":"IntelliJ compiler not executing, showing error","body":"<p>After debugging deeper into the code, I have found out there was an issue in my test data file. The code was completely fine. The test data, however, had a clause</p>\n<pre><code>where if \nfirst 5 columns are not testid, test case, test description, environment and case priority \n   then \nruns ignoreCase method  \n</code></pre>\n<p>which basically ignores the testcases. In our case, it is what it was doing as I added &quot;invalid&quot; column (6th) in the 2nd column. I believe the framework I am working on is quite old and needs to handle this type of scenarios better way. I will add supportive code to make sure this doesn't happen in the future.</p>\n"}],"owner":{"account_id":10034342,"reputation":81,"user_id":7419627,"accept_rate":57,"display_name":"Bubbles"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690836511,"creation_date":1690815616,"question_id":76804870,"body_markdown":"I have the following code running in my machine and every time I run the code, the compiler does not execute and exit without running the code. The code is running in IntelliJ and its Java language. Test data is in the excel sheet and in .ftl file with schema validator. \r\n\r\n     @Test(timeOut = Cons.TESTCASE_TIMEOUT, groups = {Group.FULL_REGRESSION}, dataProvider = &quot;getDataFromDirectExcel&quot;)\r\n    public void saveAsDraftPortfolio(Scenario scenario) {\r\n\r\n        String bodyTemplate = scenario.getParam(&quot;postBodyPDOP&quot;);\r\n        String portfolioId = scenario.getParam(&quot;portfolioId&quot;);\r\n        String folderID = scenario.getParam(&quot;folderId&quot;);\r\n\r\n            for (int i = 1; i &lt;= 4; i++) {\r\n\r\n                String api = scenario.getParam(&quot;api&quot; + i);\r\n                scenario.setParam(&quot;api&quot; + i, api);\r\n                if ((api == null) || (StringUtils.isBlank(api))) {\r\n                    return;\r\n                }\r\n\r\n                if (StringUtils.isBlank(portfolioId) || &quot;null&quot;.equals(portfolioId)) {\r\n                    portfolioId = null;\r\n                }\r\n\r\n                Map&lt;String, Object&gt; templateArgs = new HashMap&lt;&gt;();\r\n                templateArgs.put(&quot;portfolioId&quot;, portfolioId);\r\n                String portfolioBody = TemplateUtil.getInstance().loadTemplate(PORTFOLIO_EDIT_BODY_PATH + bodyTemplate, templateArgs);\r\n\r\n                // Call createDraftPortfolio API\r\n                ValidatableResponse response = Api.of(api, scenario).set(scenario.params)\r\n                        .body(portfolioBody)\r\n                        .call();\r\n\r\n                // Extract and validate the response\r\n                int statusCode = response.extract().statusCode();\r\n                String responseBodyStr = response.extract().response().getBody().asString();\r\n\r\n                //Check that the status code was 200\r\n                Assert.assertEquals(statusCode, 200, &quot;The API call to create a portfolio did not return HTTP 200.&quot;);\r\n\r\n                //Schema validator\r\n                String schemaFile = scenario.getParam(&quot;expectedSchemaFile&quot;);\r\n                if (StringUtils.isNotBlank(schemaFile)) {\r\n                    new SchemaValidator(schemaFilePath, schemaFile).checkSchema(response);\r\n                }\r\n\r\n                // Parse the response body\r\n                String message = JsonPath.with(responseBodyStr).get(&quot;message&quot;);\r\n                newPortfolioId = JsonPath.with(responseBodyStr).get(&quot;id&quot;);\r\n                String expectedFolderId = JsonPath.with(responseBodyStr).get(&quot;folderId&quot;);\r\n\r\n                // Store newPortfolioId in the scenario object\r\n                scenario.setParam(&quot;newPortfolioId&quot;, newPortfolioId);\r\n\r\n                // Check that the response\r\n                String expectedResult = scenario.getParam(&quot;expectedResult&quot;);\r\n\r\n                Assert.assertEquals(message, expectedResult, unexpectedErrorMsg);\r\n                Assert.assertEquals(folderID, expectedFolderId, &quot;folderIDs are different. Test failed.&quot;);\r\n\r\n                Assert.assertTrue(newPortfolioId != null &amp;&amp; !newPortfolioId.isEmpty(), &quot;The new portfolio ID is null or empty.&quot;);\r\n\r\n            }\r\n\r\nThe debug shows the following error :\r\n\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:60245&#39;, transport: &#39;socket&#39;\r\n\r\nAny idea why this is happening? I have cloned the repo again but didnt work. The weird part of this is that all other test cases are running correctly. Only this one is not executing. ","title":"IntelliJ compiler not executing, showing error","body":"<p>I have the following code running in my machine and every time I run the code, the compiler does not execute and exit without running the code. The code is running in IntelliJ and its Java language. Test data is in the excel sheet and in .ftl file with schema validator.</p>\n<pre><code> @Test(timeOut = Cons.TESTCASE_TIMEOUT, groups = {Group.FULL_REGRESSION}, dataProvider = &quot;getDataFromDirectExcel&quot;)\npublic void saveAsDraftPortfolio(Scenario scenario) {\n\n    String bodyTemplate = scenario.getParam(&quot;postBodyPDOP&quot;);\n    String portfolioId = scenario.getParam(&quot;portfolioId&quot;);\n    String folderID = scenario.getParam(&quot;folderId&quot;);\n\n        for (int i = 1; i &lt;= 4; i++) {\n\n            String api = scenario.getParam(&quot;api&quot; + i);\n            scenario.setParam(&quot;api&quot; + i, api);\n            if ((api == null) || (StringUtils.isBlank(api))) {\n                return;\n            }\n\n            if (StringUtils.isBlank(portfolioId) || &quot;null&quot;.equals(portfolioId)) {\n                portfolioId = null;\n            }\n\n            Map&lt;String, Object&gt; templateArgs = new HashMap&lt;&gt;();\n            templateArgs.put(&quot;portfolioId&quot;, portfolioId);\n            String portfolioBody = TemplateUtil.getInstance().loadTemplate(PORTFOLIO_EDIT_BODY_PATH + bodyTemplate, templateArgs);\n\n            // Call createDraftPortfolio API\n            ValidatableResponse response = Api.of(api, scenario).set(scenario.params)\n                    .body(portfolioBody)\n                    .call();\n\n            // Extract and validate the response\n            int statusCode = response.extract().statusCode();\n            String responseBodyStr = response.extract().response().getBody().asString();\n\n            //Check that the status code was 200\n            Assert.assertEquals(statusCode, 200, &quot;The API call to create a portfolio did not return HTTP 200.&quot;);\n\n            //Schema validator\n            String schemaFile = scenario.getParam(&quot;expectedSchemaFile&quot;);\n            if (StringUtils.isNotBlank(schemaFile)) {\n                new SchemaValidator(schemaFilePath, schemaFile).checkSchema(response);\n            }\n\n            // Parse the response body\n            String message = JsonPath.with(responseBodyStr).get(&quot;message&quot;);\n            newPortfolioId = JsonPath.with(responseBodyStr).get(&quot;id&quot;);\n            String expectedFolderId = JsonPath.with(responseBodyStr).get(&quot;folderId&quot;);\n\n            // Store newPortfolioId in the scenario object\n            scenario.setParam(&quot;newPortfolioId&quot;, newPortfolioId);\n\n            // Check that the response\n            String expectedResult = scenario.getParam(&quot;expectedResult&quot;);\n\n            Assert.assertEquals(message, expectedResult, unexpectedErrorMsg);\n            Assert.assertEquals(folderID, expectedFolderId, &quot;folderIDs are different. Test failed.&quot;);\n\n            Assert.assertTrue(newPortfolioId != null &amp;&amp; !newPortfolioId.isEmpty(), &quot;The new portfolio ID is null or empty.&quot;);\n\n        }\n</code></pre>\n<p>The debug shows the following error :</p>\n<pre><code>Disconnected from the target VM, address: '127.0.0.1:60245', transport: 'socket'\n</code></pre>\n<p>Any idea why this is happening? I have cloned the repo again but didnt work. The weird part of this is that all other test cases are running correctly. Only this one is not executing.</p>\n"},{"tags":["java","mysql","spring","model-view-controller","phpmyadmin"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690819144,"post_id":76805217,"comment_id":135402747,"body_markdown":"Welcome at stackoverflow. Please add logging output from the spring application.","body":"Welcome at stackoverflow. Please add logging output from the spring application."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690819937,"post_id":76805217,"comment_id":135402906,"body_markdown":"But you haven&#39;t shown any code *doing* anything with your entity...","body":"But you haven&#39;t shown any code <i>doing</i> anything with your entity..."},{"owner":{"account_id":25505810,"reputation":29,"user_id":20370750,"display_name":"dddryinside"},"score":0,"creation_date":1690821736,"post_id":76805217,"comment_id":135403240,"body_markdown":"So far, there is no code that does anything with the entity...","body":"So far, there is no code that does anything with the entity..."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690824654,"post_id":76805217,"comment_id":135403755,"body_markdown":"Your configuration looks good. But I wonder about the logging output! The line `HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl` is the 100% proof that your connection established successfully. *But* Since hibernate is a direct dependency of data-jpa (as you can see here https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.1.2 ) I miss the log what dialect is used! I think it is a dependency problem. Please post all dependencies used in the `pom.xml`.","body":"Your configuration looks good. But I wonder about the logging output! The line <code>HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl</code> is the 100% proof that your connection established successfully. <i>But</i> Since hibernate is a direct dependency of data-jpa (as you can see here <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.1.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.boot/&hellip;</a> ) I miss the log what dialect is used! I think it is a dependency problem. Please post all dependencies used in the <code>pom.xml</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690825618,"post_id":76805217,"comment_id":135403927,"body_markdown":"I&#39;d try to create and save an entity","body":"I&#39;d try to create and save an entity"},{"owner":{"account_id":25505810,"reputation":29,"user_id":20370750,"display_name":"dddryinside"},"score":0,"creation_date":1690834494,"post_id":76805217,"comment_id":135405577,"body_markdown":"@Grim, I have added full pom.xml file","body":"@Grim, I have added full pom.xml file"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690835899,"creation_date":1690835899,"answer_id":76807010,"question_id":76805217,"body_markdown":"Your are using spring-boot 3.1.2, it mean you should replace your \r\n\r\n    import javax.persistence.*;\r\n \r\nwith\r\n\r\n    import jakarta.persistence.*;\r\n\r\n\r\nAbout your maven dependency you should to remove this one\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nbecause you use \r\n\r\n    spring-boot-starter-data-jpa\r\n\r\nit has dependencies on Hibernate. Hibernate then has a dependency on the jakarta.persistence API which makes its classes available to your application&#39;s code.\r\n\r\nAbout your problem, you don&#39;t see the tables after application start. \r\nJust try to replace an application properties param \r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\nAnd after first run of application \r\n\r\nreplace with `update`\r\n\r\n\r\n\r\n","title":"Table not created in MySql DB after starting Spring Boot application","body":"<p>Your are using spring-boot 3.1.2, it mean you should replace your</p>\n<pre><code>import javax.persistence.*;\n</code></pre>\n<p>with</p>\n<pre><code>import jakarta.persistence.*;\n</code></pre>\n<p>About your maven dependency you should to remove this one</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>because you use</p>\n<pre><code>spring-boot-starter-data-jpa\n</code></pre>\n<p>it has dependencies on Hibernate. Hibernate then has a dependency on the jakarta.persistence API which makes its classes available to your application's code.</p>\n<p>About your problem, you don't see the tables after application start.\nJust try to replace an application properties param</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>And after first run of application</p>\n<p>replace with <code>update</code></p>\n"}],"owner":{"account_id":25505810,"reputation":29,"user_id":20370750,"display_name":"dddryinside"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76807010,"answer_count":1,"score":1,"last_activity_date":1690835899,"creation_date":1690818593,"question_id":76805217,"body_markdown":"The project uses a database MySql, Open Server. Here is my application.properties file:\r\n``` \r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:8888/citatnik_bd\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n#spring.jpa.show-sql: true\r\n```\r\nHere is my entity:\r\n``` \r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name=&quot;Quotes&quot;)\r\npublic class Quotes {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long ID;\r\n\r\n    private String ru, by, ua, en;\r\n\r\n    public Long GetID() { return ID; }\r\n    public void SetID(Long ID) { this.ID = ID; }\r\n\r\n    public String GetBy() { return by; }\r\n    public void SetBy(String by) { this.by = by; }\r\n\r\n    public String GetRu() { return ru; }\r\n    public void SetRu(String ru) { this.ru = ru; }\r\n\r\n    public String GetUa() { return ua; }\r\n    public void SetUa(String ua) { this.ua = ua; }\r\n\r\n    public String GetEn() { return en; }\r\n    public void SetEn(String en) { this.by = en; }\r\n}\r\n```\r\nBy the way, everything is fine in the pom.xml file, all the necessary dependencies are registered:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.Citatnik&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Citatnik&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Citatnik&lt;/name&gt;\r\n\t&lt;description&gt;Citatnik project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is logging out from Spring application:\r\n```\r\n :: Spring Boot ::                (v3.1.2)\r\n\r\n2023-07-31T19:01:34.457+03:00  INFO 3336 --- [  restartedMain] c.Citatnik.Citatnik.CitatnikApplication  : Starting CitatnikApplication using Java 17.0.6 with PID 3336 (C:\\Users\\dddry\\OneDrive\\Рабочий стол\\Цитатник\\Citatnik\\target\\classes started by dddry in C:\\Users\\dddry\\OneDrive\\Рабочий стол\\Цитатник\\Citatnik)\r\n2023-07-31T19:01:34.461+03:00  INFO 3336 --- [  restartedMain] c.Citatnik.Citatnik.CitatnikApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-07-31T19:01:34.539+03:00  INFO 3336 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-07-31T19:01:34.539+03:00  INFO 3336 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-07-31T19:01:35.213+03:00  INFO 3336 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-07-31T19:01:35.232+03:00  INFO 3336 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.\r\n2023-07-31T19:01:35.866+03:00  INFO 3336 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-07-31T19:01:35.876+03:00  INFO 3336 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-07-31T19:01:35.876+03:00  INFO 3336 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n2023-07-31T19:01:35.945+03:00  INFO 3336 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-07-31T19:01:35.946+03:00  INFO 3336 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1405 ms\r\n2023-07-31T19:01:36.094+03:00  INFO 3336 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-07-31T19:01:36.148+03:00  INFO 3336 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n2023-07-31T19:01:36.149+03:00  INFO 3336 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-07-31T19:01:36.272+03:00  INFO 3336 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-07-31T19:01:36.396+03:00  INFO 3336 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-07-31T19:01:36.409+03:00  INFO 3336 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-07-31T19:01:36.664+03:00  INFO 3336 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41c02a96\r\n2023-07-31T19:01:36.666+03:00  INFO 3336 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-07-31T19:01:36.824+03:00  INFO 3336 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-07-31T19:01:37.044+03:00  INFO 3336 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-07-31T19:01:37.048+03:00  INFO 3336 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-07-31T19:01:37.094+03:00  WARN 3336 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-07-31T19:01:37.542+03:00  INFO 3336 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-07-31T19:01:37.574+03:00  INFO 3336 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-07-31T19:01:37.585+03:00  INFO 3336 --- [  restartedMain] c.Citatnik.Citatnik.CitatnikApplication  : Started CitatnikApplication in 3.679 seconds (process running for 4.084)\r\n```\r\n\r\nI checked the port, database name, username and password - everything is correct. However, when I run the application and go to phpMyAdmin, I see a message that no tables were found in the database. What could be the issue here?","title":"Table not created in MySql DB after starting Spring Boot application","body":"<p>The project uses a database MySql, Open Server. Here is my application.properties file:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:8888/citatnik_bd\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jpa.show-sql: true\n</code></pre>\n<p>Here is my entity:</p>\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Table(name=&quot;Quotes&quot;)\npublic class Quotes {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long ID;\n\n    private String ru, by, ua, en;\n\n    public Long GetID() { return ID; }\n    public void SetID(Long ID) { this.ID = ID; }\n\n    public String GetBy() { return by; }\n    public void SetBy(String by) { this.by = by; }\n\n    public String GetRu() { return ru; }\n    public void SetRu(String ru) { this.ru = ru; }\n\n    public String GetUa() { return ua; }\n    public void SetUa(String ua) { this.ua = ua; }\n\n    public String GetEn() { return en; }\n    public void SetEn(String en) { this.by = en; }\n}\n</code></pre>\n<p>By the way, everything is fine in the pom.xml file, all the necessary dependencies are registered:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.Citatnik&lt;/groupId&gt;\n    &lt;artifactId&gt;Citatnik&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Citatnik&lt;/name&gt;\n    &lt;description&gt;Citatnik project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is logging out from Spring application:</p>\n<pre><code> :: Spring Boot ::                (v3.1.2)\n\n2023-07-31T19:01:34.457+03:00  INFO 3336 --- [  restartedMain] c.Citatnik.Citatnik.CitatnikApplication  : Starting CitatnikApplication using Java 17.0.6 with PID 3336 (C:\\Users\\dddry\\OneDrive\\Рабочий стол\\Цитатник\\Citatnik\\target\\classes started by dddry in C:\\Users\\dddry\\OneDrive\\Рабочий стол\\Цитатник\\Citatnik)\n2023-07-31T19:01:34.461+03:00  INFO 3336 --- [  restartedMain] c.Citatnik.Citatnik.CitatnikApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-07-31T19:01:34.539+03:00  INFO 3336 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-07-31T19:01:34.539+03:00  INFO 3336 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-07-31T19:01:35.213+03:00  INFO 3336 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-07-31T19:01:35.232+03:00  INFO 3336 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.\n2023-07-31T19:01:35.866+03:00  INFO 3336 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-07-31T19:01:35.876+03:00  INFO 3336 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-07-31T19:01:35.876+03:00  INFO 3336 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\n2023-07-31T19:01:35.945+03:00  INFO 3336 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-07-31T19:01:35.946+03:00  INFO 3336 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1405 ms\n2023-07-31T19:01:36.094+03:00  INFO 3336 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-07-31T19:01:36.148+03:00  INFO 3336 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-07-31T19:01:36.149+03:00  INFO 3336 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-07-31T19:01:36.272+03:00  INFO 3336 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-07-31T19:01:36.396+03:00  INFO 3336 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-07-31T19:01:36.409+03:00  INFO 3336 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-07-31T19:01:36.664+03:00  INFO 3336 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@41c02a96\n2023-07-31T19:01:36.666+03:00  INFO 3336 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-07-31T19:01:36.824+03:00  INFO 3336 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-07-31T19:01:37.044+03:00  INFO 3336 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-07-31T19:01:37.048+03:00  INFO 3336 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-07-31T19:01:37.094+03:00  WARN 3336 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-07-31T19:01:37.542+03:00  INFO 3336 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-07-31T19:01:37.574+03:00  INFO 3336 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-07-31T19:01:37.585+03:00  INFO 3336 --- [  restartedMain] c.Citatnik.Citatnik.CitatnikApplication  : Started CitatnikApplication in 3.679 seconds (process running for 4.084)\n</code></pre>\n<p>I checked the port, database name, username and password - everything is correct. However, when I run the application and go to phpMyAdmin, I see a message that no tables were found in the database. What could be the issue here?</p>\n"},{"tags":["java","android","wakelock","onkeydown"],"owner":{"account_id":19960781,"reputation":27,"user_id":14628419,"display_name":"deadpython"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690835355,"creation_date":1690835014,"question_id":76806922,"body_markdown":"I am writing a simple program in Java that is supposed to detect volume key presses even if the phone screen turns off. When the volume up key is pressed it prints the number of times it has been pressed. This works as intended while the screen is on but when I turn off the phone it no longer prints anything. I have tried using a partial wake lock to allow my app to continue running even after the device has been turned off but this doesn&#39;t solve my problem.\r\nI do also have the WAKE_LOCK permission added in my android manifest\r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.PowerManager;\r\nimport android.os.PowerManager.WakeLock;\r\nimport android.view.KeyEvent;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private WakeLock wakeLock;\r\n    private int counter = 0;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //partial wake lock\r\n        PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\r\n        this.wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                &quot;MyApp::MyWakelockTag&quot;);\r\n        if (this.wakeLock != null &amp;&amp; !this.wakeLock.isHeld())\r\n            this.wakeLock.acquire();\r\n    }\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event)\r\n    {\r\n        //I no longer see an output after turning the screen off\r\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP)\r\n        {\r\n            counter++;\r\n            System.out.println(counter);\r\n        }\r\n        else if (keyCode == KeyEvent.KEYCODE_VOLUME_DOWN)\r\n        {\r\n            //here I just want to kill my application\r\n            wakeLock.release();\r\n            android.os.Process.killProcess(android.os.Process.myPid());\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n```","title":"Android receive onKeyDown event even if screen is off","body":"<p>I am writing a simple program in Java that is supposed to detect volume key presses even if the phone screen turns off. When the volume up key is pressed it prints the number of times it has been pressed. This works as intended while the screen is on but when I turn off the phone it no longer prints anything. I have tried using a partial wake lock to allow my app to continue running even after the device has been turned off but this doesn't solve my problem.\nI do also have the WAKE_LOCK permission added in my android manifest</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.os.PowerManager;\nimport android.os.PowerManager.WakeLock;\nimport android.view.KeyEvent;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    private WakeLock wakeLock;\n    private int counter = 0;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //partial wake lock\n        PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\n        this.wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n                &quot;MyApp::MyWakelockTag&quot;);\n        if (this.wakeLock != null &amp;&amp; !this.wakeLock.isHeld())\n            this.wakeLock.acquire();\n    }\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event)\n    {\n        //I no longer see an output after turning the screen off\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP)\n        {\n            counter++;\n            System.out.println(counter);\n        }\n        else if (keyCode == KeyEvent.KEYCODE_VOLUME_DOWN)\n        {\n            //here I just want to kill my application\n            wakeLock.release();\n            android.os.Process.killProcess(android.os.Process.myPid());\n        }\n        return true;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"answers":[{"tags":[],"owner":{"account_id":53593,"reputation":11553,"user_id":160256,"display_name":"Keegan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690835284,"creation_date":1690835284,"answer_id":76806950,"question_id":66427118,"body_markdown":"Are you using [Groovy-Eclipse](https://github.com/groovy/groovy-eclipse)? If so, version 5.0.0 has [a fix](https://github.com/groovy/groovy-eclipse/commit/22608ca086906bab06c9409d2d8af4dca3ff9466) for GMavenPlus support that I believe should avoid this.","title":"No marketplace entries found to handle gmavenplus-plugin","body":"<p>Are you using <a href=\"https://github.com/groovy/groovy-eclipse\" rel=\"nofollow noreferrer\">Groovy-Eclipse</a>? If so, version 5.0.0 has <a href=\"https://github.com/groovy/groovy-eclipse/commit/22608ca086906bab06c9409d2d8af4dca3ff9466\" rel=\"nofollow noreferrer\">a fix</a> for GMavenPlus support that I believe should avoid this.</p>\n"}],"owner":{"account_id":13941320,"reputation":1230,"user_id":10067128,"display_name":"User_67128"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690835284,"creation_date":1614621186,"question_id":66427118,"body_markdown":"I&#39;m getting an error message while trying to import an existing maven project into eclipse \r\n\r\n&quot;`No marketplace entries found to handle gmavenplus-plugin:1.6.1:addTestSources in eclipse`&quot;\r\n\r\nAny suggestions how can I get rid of this problem. Thanks.\r\n\r\n","title":"No marketplace entries found to handle gmavenplus-plugin","body":"<p>I'm getting an error message while trying to import an existing maven project into eclipse</p>\n<p>&quot;<code>No marketplace entries found to handle gmavenplus-plugin:1.6.1:addTestSources in eclipse</code>&quot;</p>\n<p>Any suggestions how can I get rid of this problem. Thanks.</p>\n"},{"tags":["java","spotify"],"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690834978,"creation_date":1690833698,"question_id":76806803,"body_markdown":"I want to get a playlist by id using the Client Credentials Flow.\r\nEven though I can get the `accessToken` and set it properly into the Spotify API object, it&#39;s invalid somehow (even after just creating it).\r\nIn the Spotify API connection class:\r\n\r\n```\r\nprivate static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\r\n            .setClientId(clientId)\r\n            .setClientSecret(clientSecret)\r\n            .build();\r\n\r\n    public static void clientCredentials_Async() {\r\n        try {\r\n            final ClientCredentialsRequest clientCredentialsRequest = spotifyApi.clientCredentials()\r\n                    .build();\r\n\r\n            final CompletableFuture&lt;ClientCredentials&gt; clientCredentialsFuture = clientCredentialsRequest.executeAsync();\r\n\r\n            final ClientCredentials clientCredentials = clientCredentialsFuture.join();\r\n\r\n            spotifyApi.setAccessToken(clientCredentials.getAccessToken());\r\n            System.out.println(clientCredentials.getAccessToken());\r\n\r\n            System.out.println(&quot;Expires in: &quot; + clientCredentials.getExpiresIn());\r\n```\r\n\r\nuntil here the code works normally, but when I try to get a playlist by its id (the playlist is not private or has any typo in the id) in:\r\n\r\n```\r\n private static final String playlistId = &quot;5GOQSS6SUFDD6SyMfVRMA5&quot;;\r\n   private static final SpotifyApi spotifyApi = SpotifyApiConnection.getSpotifyApi();\r\n   private static final GetPlaylistRequest getPlaylistRequest = spotifyApi.getPlaylist(playlistId)\r\n           .build();\r\n\r\n\r\n   public static void getPlaylist_Async() {\r\n       try {\r\n           final CompletableFuture&lt;Playlist&gt; playlistFuture = getPlaylistRequest.executeAsync();\r\n\r\n           final Playlist playlist = playlistFuture.join();\r\n\r\n           System.out.println(&quot;Name: &quot; + playlist.getName());\r\n       } catch (CompletionException e) {\r\n           System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\r\n       } catch (CancellationException e) {\r\n           System.out.println(&quot;Async operation cancelled.&quot;);\r\n       }\r\n   }\r\n\r\n   public static void main(String[] args) throws InterruptedException {\r\n       SpotifyApiConnection.clientCredentials_Async(); // Fetch the access token\r\n       getPlaylist_Async();\r\n   }\r\n}\r\n```\r\n\r\nI get this output: \r\n\r\n&gt; BQAwiNqNEe1lz_wkBFNBEydg4telS29eViMt9KQR-yxZA_cbuqaEEdcTymrVAP-injggJP-3QoUEUBByY6AnJkRQUcmDK-sGKr9IcLlK4e9p-KvwDbA //the access token isn&#39;t null as you can see   \r\n&gt; Expires in: 3600  \r\n&gt; Error: Invalid access token  \r\n\r\nI&#39;m using this wrapper to access the API https://github.com/spotify-web-api-java/spotify-web-api-java","title":"Spotify API invalid token access","body":"<p>I want to get a playlist by id using the Client Credentials Flow.\nEven though I can get the <code>accessToken</code> and set it properly into the Spotify API object, it's invalid somehow (even after just creating it).\nIn the Spotify API connection class:</p>\n<pre><code>private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\n            .setClientId(clientId)\n            .setClientSecret(clientSecret)\n            .build();\n\n    public static void clientCredentials_Async() {\n        try {\n            final ClientCredentialsRequest clientCredentialsRequest = spotifyApi.clientCredentials()\n                    .build();\n\n            final CompletableFuture&lt;ClientCredentials&gt; clientCredentialsFuture = clientCredentialsRequest.executeAsync();\n\n            final ClientCredentials clientCredentials = clientCredentialsFuture.join();\n\n            spotifyApi.setAccessToken(clientCredentials.getAccessToken());\n            System.out.println(clientCredentials.getAccessToken());\n\n            System.out.println(&quot;Expires in: &quot; + clientCredentials.getExpiresIn());\n</code></pre>\n<p>until here the code works normally, but when I try to get a playlist by its id (the playlist is not private or has any typo in the id) in:</p>\n<pre><code> private static final String playlistId = &quot;5GOQSS6SUFDD6SyMfVRMA5&quot;;\n   private static final SpotifyApi spotifyApi = SpotifyApiConnection.getSpotifyApi();\n   private static final GetPlaylistRequest getPlaylistRequest = spotifyApi.getPlaylist(playlistId)\n           .build();\n\n\n   public static void getPlaylist_Async() {\n       try {\n           final CompletableFuture&lt;Playlist&gt; playlistFuture = getPlaylistRequest.executeAsync();\n\n           final Playlist playlist = playlistFuture.join();\n\n           System.out.println(&quot;Name: &quot; + playlist.getName());\n       } catch (CompletionException e) {\n           System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\n       } catch (CancellationException e) {\n           System.out.println(&quot;Async operation cancelled.&quot;);\n       }\n   }\n\n   public static void main(String[] args) throws InterruptedException {\n       SpotifyApiConnection.clientCredentials_Async(); // Fetch the access token\n       getPlaylist_Async();\n   }\n}\n</code></pre>\n<p>I get this output:</p>\n<blockquote>\n<p>BQAwiNqNEe1lz_wkBFNBEydg4telS29eViMt9KQR-yxZA_cbuqaEEdcTymrVAP-injggJP-3QoUEUBByY6AnJkRQUcmDK-sGKr9IcLlK4e9p-KvwDbA //the access token isn't null as you can see<br />\nExpires in: 3600<br />\nError: Invalid access token</p>\n</blockquote>\n<p>I'm using this wrapper to access the API <a href=\"https://github.com/spotify-web-api-java/spotify-web-api-java\" rel=\"nofollow noreferrer\">https://github.com/spotify-web-api-java/spotify-web-api-java</a></p>\n"},{"tags":["java","ssh","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611823023,"creation_date":1611822002,"answer_id":65933365,"question_id":65931923,"body_markdown":"Your `ssh` uses keyboard interactive authentication.  The password authentication does not seem to work on your server. So you need to do the same with JSch.\r\n\r\nSee the [official `UserAuthKI` example](http://www.jcraft.com/jsch/examples/UserAuthKI.java.html).\r\n\r\nBasically you need to implement the [`UIKeyboardInteractive` interface](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/UIKeyboardInteractive.html) (together with the [`UserInfo` interface](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/UserInfo.html)) and associate the implementation with the session using the [`Session.setUserInfo`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/Session.html#setUserInfo-com.jcraft.jsch.UserInfo-).\r\n\r\nIf the authentication is prompting for a single &quot;password&quot; only, implement the [`UIKeyboardInteractive.promptKeyboardInteractive` method](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/UIKeyboardInteractive.html#promptKeyboardInteractive-java.lang.String-java.lang.String-java.lang.String-java.lang.String:A-boolean:A-) to return a single element array with the password.\r\n\r\n---\r\n\r\n*Obligatory warning: Do not use `StrictHostKeyChecking=no` to blindly accept all host keys. That is a security flaw. You lose a protection against [MITM attacks](https://en.wikipedia.org/wiki/Man-in-the-middle_attack). For the correct (and secure) approach, see: https://stackoverflow.com/q/32852906/850848*","title":"SSH password authentication in Java using jcraft JSch fails with &quot;Auth fail&quot; but command-line &quot;ssh&quot; works","body":"<p>Your <code>ssh</code> uses keyboard interactive authentication.  The password authentication does not seem to work on your server. So you need to do the same with JSch.</p>\n<p>See the <a href=\"http://www.jcraft.com/jsch/examples/UserAuthKI.java.html\" rel=\"nofollow noreferrer\">official <code>UserAuthKI</code> example</a>.</p>\n<p>Basically you need to implement the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/UIKeyboardInteractive.html\" rel=\"nofollow noreferrer\"><code>UIKeyboardInteractive</code> interface</a> (together with the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/UserInfo.html\" rel=\"nofollow noreferrer\"><code>UserInfo</code> interface</a>) and associate the implementation with the session using the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/Session.html#setUserInfo-com.jcraft.jsch.UserInfo-\" rel=\"nofollow noreferrer\"><code>Session.setUserInfo</code></a>.</p>\n<p>If the authentication is prompting for a single &quot;password&quot; only, implement the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/UIKeyboardInteractive.html#promptKeyboardInteractive-java.lang.String-java.lang.String-java.lang.String-java.lang.String:A-boolean:A-\" rel=\"nofollow noreferrer\"><code>UIKeyboardInteractive.promptKeyboardInteractive</code> method</a> to return a single element array with the password.</p>\n<hr />\n<p><em>Obligatory warning: Do not use <code>StrictHostKeyChecking=no</code> to blindly accept all host keys. That is a security flaw. You lose a protection against <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">MITM attacks</a>. For the correct (and secure) approach, see: <a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a></em></p>\n"},{"tags":[],"owner":{"account_id":25601864,"reputation":1,"user_id":19376718,"display_name":"Sans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655743971,"creation_date":1655743971,"answer_id":72690454,"question_id":65931923,"body_markdown":"Sorry I know that this is old, but I banged my head at finding this answer for a while and it would have been nice if I saw it in this solution set.\r\n\r\nI believe you can somewhat accomplish the Keyboard Interactive by setting it in the Session configuration.\r\n\r\nSession session = jsch.getSession(username, host, port);\r\nsession.setConfig(&quot;PreferredAuthentications&quot;, &quot;password,**keyboard-interactive&quot;**);\r\n\r\nI connect to a number of hosts and some of them are configured to not allow &quot;password&quot; authentication but still accept &quot;keyboard-interactive&quot;. So by adding that as one of the PreferredAuthentications I was able to resolve my problem. I hope this helps someone else.","title":"SSH password authentication in Java using jcraft JSch fails with &quot;Auth fail&quot; but command-line &quot;ssh&quot; works","body":"<p>Sorry I know that this is old, but I banged my head at finding this answer for a while and it would have been nice if I saw it in this solution set.</p>\n<p>I believe you can somewhat accomplish the Keyboard Interactive by setting it in the Session configuration.</p>\n<p>Session session = jsch.getSession(username, host, port);\nsession.setConfig(&quot;PreferredAuthentications&quot;, &quot;password,<strong>keyboard-interactive&quot;</strong>);</p>\n<p>I connect to a number of hosts and some of them are configured to not allow &quot;password&quot; authentication but still accept &quot;keyboard-interactive&quot;. So by adding that as one of the PreferredAuthentications I was able to resolve my problem. I hope this helps someone else.</p>\n"}],"owner":{"account_id":20567383,"reputation":13,"user_id":15096392,"display_name":"Rohit Thadani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65933365,"answer_count":2,"score":1,"last_activity_date":1690834752,"creation_date":1611814577,"question_id":65931923,"body_markdown":"My system&#39;s OS is Ubuntu 18. I am trying to connect SFTP through Java jcraft JSch but facing this exception:\r\n\r\n&gt; com.jcraft.jsch.JSchException: Auth fail\r\n\r\nBelow are working:\r\n\r\n1. From terminal using `sftp` works fine with username and password, no issues.\r\n2. From FileZilla also it is working fine.\r\n\r\nMaven Dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1.54&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n``` java\r\nString username = &quot;xx_xxxxx&quot;;\r\nString password = &quot;xxxxxxx&quot;;\r\nString host = &quot;xxxxx-xx.xxxx.org&quot;;\r\nJSch jsch = new JSch();\r\nSession jschSession = jsch.getSession(username, host, 22);\r\njava.util.Properties config = new java.util.Properties();\r\nconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\nconfig.put(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\r\n\r\nSystem.out.println(jschSession.getHost());\r\njschSession.setConfig(config);\r\njschSession.setPassword(password);\r\njschSession.connect(10000);\r\nreturn (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\r\n```\r\n\r\nOutput:\r\n\r\n``` none\r\ncom.jcraft.jsch.JSchException: Auth fail\r\n\tat com.jcraft.jsch.Session.connect(Session.java:473)\r\n\tat in.serosoft.academia.server.common.FTPDemo.setupJsch(FTPDemo.java:118)\r\n\tat in.serosoft.academia.server.common.FTPDemo.uploadSftpFromPath(FTPDemo.java:125)\r\n\tat in.serosoft.academia.server.common.FTPDemo.main(FTPDemo.java:187)\r\njava.lang.NullPointerException\r\n\tat in.serosoft.academia.server.common.FTPDemo.uploadSftpFromPath(FTPDemo.java:131)\r\n\tat in.serosoft.academia.server.common.FTPDemo.main(FTPDemo.java:187)\r\n```\r\n\r\nTerminal command `sftp -vvv` output:\r\n\r\n```none\r\nOpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\r\ndebug2: resolving &quot;xxxxx-xx.xxxx.xxx&quot; port 22\r\ndebug2: ssh_connect_direct: needpriv 0\r\ndebug1: Connecting to xxxxx-xx.xxxx.xxx [xxx.xx.xx.xxx] port 22.\r\ndebug1: Connection established.\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_rsa type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_rsa-cert type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_dsa type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_dsa-cert type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ecdsa type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ecdsa-cert type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ed25519 type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ed25519-cert type -1\r\ndebug1: Local version string SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3\r\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_7.4\r\ndebug1: match: OpenSSH_7.4 pat OpenSSH* compat 0x04000000\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: Authenticating to xxxxx-xx.xxxx.xxx:22 as &#39;yy_yyyyy&#39;\r\ndebug3: hostkeys_foreach: reading file &quot;/home/xxxx-xxxxx/.ssh/known_hosts&quot;\r\ndebug3: record_hostkey: found key type RSA in file /home/xxxx-xxxxx/.ssh/known_hosts:3\r\ndebug3: load_hostkeys: loaded 1 keys from xxxxx-xx.xxxx.xxx\r\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\ndebug3: send packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT sent\r\ndebug3: receive packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT received\r\ndebug2: local client KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,ext-info-c\r\ndebug2: host key algorithms: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com,zlib\r\ndebug2: compression stoc: none,zlib@openssh.com,zlib\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug2: peer server KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\r\ndebug2: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\ndebug2: ciphers ctos: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\r\ndebug2: ciphers stoc: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com\r\ndebug2: compression stoc: none,zlib@openssh.com\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug1: kex: algorithm: curve25519-sha256\r\ndebug1: kex: host key algorithm: rsa-sha2-512\r\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\r\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\r\ndebug3: send packet: type 30\r\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\ndebug3: receive packet: type 31\r\ndebug1: Server host key: ssh-rsa SHA256:62WxJjKHYP7fMeSKiEUFjEjKbYU6XWTLBJ1NJiAp0T4\r\ndebug3: hostkeys_foreach: reading file &quot;/home/xxxx-xxxxx/.ssh/known_hosts&quot;\r\ndebug3: record_hostkey: found key type RSA in file /home/xxxx-xxxxx/.ssh/known_hosts:3\r\ndebug3: load_hostkeys: loaded 1 keys from xxxxx-xx.xxxx.xxx\r\ndebug3: hostkeys_foreach: reading file &quot;/home/xxxx-xxxxx/.ssh/known_hosts&quot;\r\ndebug3: record_hostkey: found key type RSA in file /home/xxxx-xxxxx/.ssh/known_hosts:4\r\ndebug3: load_hostkeys: loaded 1 keys from xxx.xx.xx.xxx\r\ndebug1: Host &#39;xxxxx-xx.xxxx.xxx&#39; is known and matches the RSA host key.\r\ndebug1: Found key in /home/xxxx-xxxxx/.ssh/known_hosts:3\r\ndebug3: send packet: type 21\r\ndebug2: set_newkeys: mode 1\r\ndebug1: rekey after 4294967296 blocks\r\ndebug1: SSH2_MSG_NEWKEYS sent\r\ndebug1: expecting SSH2_MSG_NEWKEYS\r\ndebug3: receive packet: type 21\r\ndebug1: SSH2_MSG_NEWKEYS received\r\ndebug2: set_newkeys: mode 0\r\ndebug1: rekey after 4294967296 blocks\r\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_rsa ((nil))\r\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_dsa ((nil))\r\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_ecdsa ((nil))\r\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_ed25519 ((nil))\r\ndebug3: send packet: type 5\r\ndebug3: receive packet: type 7\r\ndebug1: SSH2_MSG_EXT_INFO received\r\ndebug1: kex_input_ext_info: server-sig-algs=&lt;rsa-sha2-256,rsa-sha2-512&gt;\r\ndebug3: receive packet: type 6\r\ndebug2: service_accept: ssh-userauth\r\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 53\r\ndebug3: input_userauth_banner\r\nUse of this computer system is restricted to OCLC authorized users, who must\r\ncomply with the Acceptable Use Policy.  Use and activity may be monitored or\r\nrecorded and may be subject to auditing.\r\n Unauthorized access is strictly prohibited.\r\ndebug3: receive packet: type 51\r\ndebug1: Authentications that can continue: publickey,keyboard-interactive\r\ndebug3: start over, passed a different list publickey,keyboard-interactive\r\ndebug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,password\r\ndebug3: authmethod_lookup publickey\r\ndebug3: remaining preferred: keyboard-interactive,password\r\ndebug3: authmethod_is_enabled publickey\r\ndebug1: Next authentication method: publickey\r\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_rsa\r\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_rsa: No such file or directory\r\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_dsa\r\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_dsa: No such file or directory\r\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_ecdsa\r\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_ecdsa: No such file or directory\r\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_ed25519\r\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_ed25519: No such file or directory\r\ndebug2: we did not send a packet, disable method\r\ndebug3: authmethod_lookup keyboard-interactive\r\ndebug3: remaining preferred: password\r\ndebug3: authmethod_is_enabled keyboard-interactive\r\ndebug1: Next authentication method: keyboard-interactive\r\ndebug2: userauth_kbdint\r\ndebug3: send packet: type 50\r\ndebug2: we sent a keyboard-interactive packet, wait for reply\r\ndebug3: receive packet: type 60\r\ndebug2: input_userauth_info_req\r\ndebug2: input_userauth_info_req: num_prompts 1\r\nPassword: \r\ndebug3: send packet: type 61\r\nConnection closed by xxx.xx.xx.xxx port 22\r\nConnection closed\r\n```\r\n    \r\n`sftp -o &quot;PreferredAuthentications password&quot; -vvv username@host` Output:\r\n\r\n```none \r\nOpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\r\ndebug2: resolving &quot;xxxx-xx.xxxx.xxx&quot; port 22\r\ndebug2: ssh_connect_direct: needpriv 0\r\ndebug1: Connecting to xxxx-xx.xxxx.xxx [113.29.23.198] port 22.\r\ndebug1: Connection established.\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_rsa type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_rsa-cert type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_dsa type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_dsa-cert type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ecdsa type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ecdsa-cert type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ed25519 type -1\r\ndebug1: key_load_public: No such file or directory\r\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ed25519-cert type -1\r\ndebug1: Local version string SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3\r\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_7.4\r\ndebug1: match: OpenSSH_7.4 pat OpenSSH* compat 0x04000000\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: Authenticating to xxxx-xx.xxxx.xxx:22 as &#39;yy_yyyyy&#39;\r\ndebug3: hostkeys_foreach: reading file &quot;/home/zzzzz-zzzzzz/.ssh/known_hosts&quot;\r\ndebug3: record_hostkey: found key type RSA in file /home/zzzzz-zzzzzz/.ssh/known_hosts:3\r\ndebug3: load_hostkeys: loaded 1 keys from xxxx-xx.xxxx.xxx\r\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\ndebug3: send packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT sent\r\ndebug3: receive packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT received\r\ndebug2: local client KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,ext-info-c\r\ndebug2: host key algorithms: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com,zlib\r\ndebug2: compression stoc: none,zlib@openssh.com,zlib\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug2: peer server KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\r\ndebug2: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\ndebug2: ciphers ctos: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\r\ndebug2: ciphers stoc: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com\r\ndebug2: compression stoc: none,zlib@openssh.com\r\ndebug2: languages ctos: \r\ndebug2: languages stoc: \r\ndebug2: first_kex_follows 0 \r\ndebug2: reserved 0 \r\ndebug1: kex: algorithm: curve25519-sha256\r\ndebug1: kex: host key algorithm: rsa-sha2-512\r\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\r\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\r\ndebug3: send packet: type 30\r\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\ndebug3: receive packet: type 31\r\ndebug1: Server host key: ssh-rsa SHA256:62WxJjKHYP7fMeSKiEUFjEjKbYU6XWTLBJ1NJiAp0T4\r\ndebug3: hostkeys_foreach: reading file &quot;/home/zzzzz-zzzzzz/.ssh/known_hosts&quot;\r\ndebug3: record_hostkey: found key type RSA in file /home/zzzzz-zzzzzz/.ssh/known_hosts:3\r\ndebug3: load_hostkeys: loaded 1 keys from xxxx-xx.xxxx.xxx\r\ndebug3: hostkeys_foreach: reading file &quot;/home/zzzzz-zzzzzz/.ssh/known_hosts&quot;\r\ndebug3: record_hostkey: found key type RSA in file /home/zzzzz-zzzzzz/.ssh/known_hosts:4\r\ndebug3: load_hostkeys: loaded 1 keys from 113.29.23.198\r\ndebug1: Host &#39;xxxx-xx.xxxx.xxx&#39; is known and matches the RSA host key.\r\ndebug1: Found key in /home/zzzzz-zzzzzz/.ssh/known_hosts:3\r\ndebug3: send packet: type 21\r\ndebug2: set_newkeys: mode 1\r\ndebug1: rekey after 4294967296 blocks\r\ndebug1: SSH2_MSG_NEWKEYS sent\r\ndebug1: expecting SSH2_MSG_NEWKEYS\r\ndebug3: receive packet: type 21\r\ndebug1: SSH2_MSG_NEWKEYS received\r\ndebug2: set_newkeys: mode 0\r\ndebug1: rekey after 4294967296 blocks\r\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_rsa ((nil))\r\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_dsa ((nil))\r\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_ecdsa ((nil))\r\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_ed25519 ((nil))\r\ndebug3: send packet: type 5\r\ndebug3: receive packet: type 7\r\ndebug1: SSH2_MSG_EXT_INFO received\r\ndebug1: kex_input_ext_info: server-sig-algs=&lt;rsa-sha2-256,rsa-sha2-512&gt;\r\ndebug3: receive packet: type 6\r\ndebug2: service_accept: ssh-userauth\r\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 53\r\ndebug3: input_userauth_banner\r\nUse of this computer system is restricted to OCLC authorized users, who must\r\ncomply with the Acceptable Use Policy.  Use and activity may be monitored or\r\nrecorded and may be subject to auditing.\r\n Unauthorized access is strictly prohibited.\r\ndebug3: receive packet: type 51\r\ndebug1: Authentications that can continue: publickey,keyboard-interactive\r\ndebug3: start over, passed a different list publickey,keyboard-interactive\r\ndebug3: preferred password\r\ndebug1: No more authentication methods to try.\r\nxx_xxxxx@xxxxx-xx.xxxx.org: Permission denied (publickey,keyboard-interactive).\r\nConnection closed\r\n```\r\n\r\n\r\n","title":"SSH password authentication in Java using jcraft JSch fails with &quot;Auth fail&quot; but command-line &quot;ssh&quot; works","body":"<p>My system's OS is Ubuntu 18. I am trying to connect SFTP through Java jcraft JSch but facing this exception:</p>\n<blockquote>\n<p>com.jcraft.jsch.JSchException: Auth fail</p>\n</blockquote>\n<p>Below are working:</p>\n<ol>\n<li>From terminal using <code>sftp</code> works fine with username and password, no issues.</li>\n<li>From FileZilla also it is working fine.</li>\n</ol>\n<p>Maven Dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n    &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n    &lt;version&gt;0.1.54&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String username = &quot;xx_xxxxx&quot;;\nString password = &quot;xxxxxxx&quot;;\nString host = &quot;xxxxx-xx.xxxx.org&quot;;\nJSch jsch = new JSch();\nSession jschSession = jsch.getSession(username, host, 22);\njava.util.Properties config = new java.util.Properties();\nconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\nconfig.put(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\n\nSystem.out.println(jschSession.getHost());\njschSession.setConfig(config);\njschSession.setPassword(password);\njschSession.connect(10000);\nreturn (ChannelSftp) jschSession.openChannel(&quot;sftp&quot;);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.jcraft.jsch.JSchException: Auth fail\n    at com.jcraft.jsch.Session.connect(Session.java:473)\n    at in.serosoft.academia.server.common.FTPDemo.setupJsch(FTPDemo.java:118)\n    at in.serosoft.academia.server.common.FTPDemo.uploadSftpFromPath(FTPDemo.java:125)\n    at in.serosoft.academia.server.common.FTPDemo.main(FTPDemo.java:187)\njava.lang.NullPointerException\n    at in.serosoft.academia.server.common.FTPDemo.uploadSftpFromPath(FTPDemo.java:131)\n    at in.serosoft.academia.server.common.FTPDemo.main(FTPDemo.java:187)\n</code></pre>\n<p>Terminal command <code>sftp -vvv</code> output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\ndebug2: resolving &quot;xxxxx-xx.xxxx.xxx&quot; port 22\ndebug2: ssh_connect_direct: needpriv 0\ndebug1: Connecting to xxxxx-xx.xxxx.xxx [xxx.xx.xx.xxx] port 22.\ndebug1: Connection established.\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_rsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_rsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_dsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_dsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ecdsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ecdsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ed25519 type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/xxxx-xxxxx/.ssh/id_ed25519-cert type -1\ndebug1: Local version string SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_7.4\ndebug1: match: OpenSSH_7.4 pat OpenSSH* compat 0x04000000\ndebug2: fd 3 setting O_NONBLOCK\ndebug1: Authenticating to xxxxx-xx.xxxx.xxx:22 as 'yy_yyyyy'\ndebug3: hostkeys_foreach: reading file &quot;/home/xxxx-xxxxx/.ssh/known_hosts&quot;\ndebug3: record_hostkey: found key type RSA in file /home/xxxx-xxxxx/.ssh/known_hosts:3\ndebug3: load_hostkeys: loaded 1 keys from xxxxx-xx.xxxx.xxx\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\ndebug3: send packet: type 20\ndebug1: SSH2_MSG_KEXINIT sent\ndebug3: receive packet: type 20\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: local client KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,ext-info-c\ndebug2: host key algorithms: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com,zlib\ndebug2: compression stoc: none,zlib@openssh.com,zlib\ndebug2: languages ctos: \ndebug2: languages stoc: \ndebug2: first_kex_follows 0 \ndebug2: reserved 0 \ndebug2: peer server KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\ndebug2: ciphers ctos: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\ndebug2: ciphers stoc: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com\ndebug2: compression stoc: none,zlib@openssh.com\ndebug2: languages ctos: \ndebug2: languages stoc: \ndebug2: first_kex_follows 0 \ndebug2: reserved 0 \ndebug1: kex: algorithm: curve25519-sha256\ndebug1: kex: host key algorithm: rsa-sha2-512\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\ndebug3: send packet: type 30\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\ndebug3: receive packet: type 31\ndebug1: Server host key: ssh-rsa SHA256:62WxJjKHYP7fMeSKiEUFjEjKbYU6XWTLBJ1NJiAp0T4\ndebug3: hostkeys_foreach: reading file &quot;/home/xxxx-xxxxx/.ssh/known_hosts&quot;\ndebug3: record_hostkey: found key type RSA in file /home/xxxx-xxxxx/.ssh/known_hosts:3\ndebug3: load_hostkeys: loaded 1 keys from xxxxx-xx.xxxx.xxx\ndebug3: hostkeys_foreach: reading file &quot;/home/xxxx-xxxxx/.ssh/known_hosts&quot;\ndebug3: record_hostkey: found key type RSA in file /home/xxxx-xxxxx/.ssh/known_hosts:4\ndebug3: load_hostkeys: loaded 1 keys from xxx.xx.xx.xxx\ndebug1: Host 'xxxxx-xx.xxxx.xxx' is known and matches the RSA host key.\ndebug1: Found key in /home/xxxx-xxxxx/.ssh/known_hosts:3\ndebug3: send packet: type 21\ndebug2: set_newkeys: mode 1\ndebug1: rekey after 4294967296 blocks\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug3: receive packet: type 21\ndebug1: SSH2_MSG_NEWKEYS received\ndebug2: set_newkeys: mode 0\ndebug1: rekey after 4294967296 blocks\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_rsa ((nil))\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_dsa ((nil))\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_ecdsa ((nil))\ndebug2: key: /home/xxxx-xxxxx/.ssh/id_ed25519 ((nil))\ndebug3: send packet: type 5\ndebug3: receive packet: type 7\ndebug1: SSH2_MSG_EXT_INFO received\ndebug1: kex_input_ext_info: server-sig-algs=&lt;rsa-sha2-256,rsa-sha2-512&gt;\ndebug3: receive packet: type 6\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug3: send packet: type 50\ndebug3: receive packet: type 53\ndebug3: input_userauth_banner\nUse of this computer system is restricted to OCLC authorized users, who must\ncomply with the Acceptable Use Policy.  Use and activity may be monitored or\nrecorded and may be subject to auditing.\n Unauthorized access is strictly prohibited.\ndebug3: receive packet: type 51\ndebug1: Authentications that can continue: publickey,keyboard-interactive\ndebug3: start over, passed a different list publickey,keyboard-interactive\ndebug3: preferred gssapi-keyex,gssapi-with-mic,publickey,keyboard-interactive,password\ndebug3: authmethod_lookup publickey\ndebug3: remaining preferred: keyboard-interactive,password\ndebug3: authmethod_is_enabled publickey\ndebug1: Next authentication method: publickey\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_rsa\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_rsa: No such file or directory\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_dsa\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_dsa: No such file or directory\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_ecdsa\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_ecdsa: No such file or directory\ndebug1: Trying private key: /home/xxxx-xxxxx/.ssh/id_ed25519\ndebug3: no such identity: /home/xxxx-xxxxx/.ssh/id_ed25519: No such file or directory\ndebug2: we did not send a packet, disable method\ndebug3: authmethod_lookup keyboard-interactive\ndebug3: remaining preferred: password\ndebug3: authmethod_is_enabled keyboard-interactive\ndebug1: Next authentication method: keyboard-interactive\ndebug2: userauth_kbdint\ndebug3: send packet: type 50\ndebug2: we sent a keyboard-interactive packet, wait for reply\ndebug3: receive packet: type 60\ndebug2: input_userauth_info_req\ndebug2: input_userauth_info_req: num_prompts 1\nPassword: \ndebug3: send packet: type 61\nConnection closed by xxx.xx.xx.xxx port 22\nConnection closed\n</code></pre>\n<p><code>sftp -o &quot;PreferredAuthentications password&quot; -vvv username@host</code> Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\ndebug2: resolving &quot;xxxx-xx.xxxx.xxx&quot; port 22\ndebug2: ssh_connect_direct: needpriv 0\ndebug1: Connecting to xxxx-xx.xxxx.xxx [113.29.23.198] port 22.\ndebug1: Connection established.\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_rsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_rsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_dsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_dsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ecdsa type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ecdsa-cert type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ed25519 type -1\ndebug1: key_load_public: No such file or directory\ndebug1: identity file /home/zzzzz-zzzzzz/.ssh/id_ed25519-cert type -1\ndebug1: Local version string SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_7.4\ndebug1: match: OpenSSH_7.4 pat OpenSSH* compat 0x04000000\ndebug2: fd 3 setting O_NONBLOCK\ndebug1: Authenticating to xxxx-xx.xxxx.xxx:22 as 'yy_yyyyy'\ndebug3: hostkeys_foreach: reading file &quot;/home/zzzzz-zzzzzz/.ssh/known_hosts&quot;\ndebug3: record_hostkey: found key type RSA in file /home/zzzzz-zzzzzz/.ssh/known_hosts:3\ndebug3: load_hostkeys: loaded 1 keys from xxxx-xx.xxxx.xxx\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\ndebug3: send packet: type 20\ndebug1: SSH2_MSG_KEXINIT sent\ndebug3: receive packet: type 20\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: local client KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,ext-info-c\ndebug2: host key algorithms: ssh-rsa-cert-v01@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa,ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,ssh-ed25519\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com,zlib\ndebug2: compression stoc: none,zlib@openssh.com,zlib\ndebug2: languages ctos: \ndebug2: languages stoc: \ndebug2: first_kex_follows 0 \ndebug2: reserved 0 \ndebug2: peer server KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\ndebug2: host key algorithms: ssh-rsa,rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\ndebug2: ciphers ctos: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\ndebug2: ciphers stoc: aes128-ctr,aes192-ctr,aes256-ctr,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com\ndebug2: compression stoc: none,zlib@openssh.com\ndebug2: languages ctos: \ndebug2: languages stoc: \ndebug2: first_kex_follows 0 \ndebug2: reserved 0 \ndebug1: kex: algorithm: curve25519-sha256\ndebug1: kex: host key algorithm: rsa-sha2-512\ndebug1: kex: server-&gt;client cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\ndebug1: kex: client-&gt;server cipher: aes128-ctr MAC: umac-64-etm@openssh.com compression: none\ndebug3: send packet: type 30\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\ndebug3: receive packet: type 31\ndebug1: Server host key: ssh-rsa SHA256:62WxJjKHYP7fMeSKiEUFjEjKbYU6XWTLBJ1NJiAp0T4\ndebug3: hostkeys_foreach: reading file &quot;/home/zzzzz-zzzzzz/.ssh/known_hosts&quot;\ndebug3: record_hostkey: found key type RSA in file /home/zzzzz-zzzzzz/.ssh/known_hosts:3\ndebug3: load_hostkeys: loaded 1 keys from xxxx-xx.xxxx.xxx\ndebug3: hostkeys_foreach: reading file &quot;/home/zzzzz-zzzzzz/.ssh/known_hosts&quot;\ndebug3: record_hostkey: found key type RSA in file /home/zzzzz-zzzzzz/.ssh/known_hosts:4\ndebug3: load_hostkeys: loaded 1 keys from 113.29.23.198\ndebug1: Host 'xxxx-xx.xxxx.xxx' is known and matches the RSA host key.\ndebug1: Found key in /home/zzzzz-zzzzzz/.ssh/known_hosts:3\ndebug3: send packet: type 21\ndebug2: set_newkeys: mode 1\ndebug1: rekey after 4294967296 blocks\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug3: receive packet: type 21\ndebug1: SSH2_MSG_NEWKEYS received\ndebug2: set_newkeys: mode 0\ndebug1: rekey after 4294967296 blocks\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_rsa ((nil))\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_dsa ((nil))\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_ecdsa ((nil))\ndebug2: key: /home/zzzzz-zzzzzz/.ssh/id_ed25519 ((nil))\ndebug3: send packet: type 5\ndebug3: receive packet: type 7\ndebug1: SSH2_MSG_EXT_INFO received\ndebug1: kex_input_ext_info: server-sig-algs=&lt;rsa-sha2-256,rsa-sha2-512&gt;\ndebug3: receive packet: type 6\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug3: send packet: type 50\ndebug3: receive packet: type 53\ndebug3: input_userauth_banner\nUse of this computer system is restricted to OCLC authorized users, who must\ncomply with the Acceptable Use Policy.  Use and activity may be monitored or\nrecorded and may be subject to auditing.\n Unauthorized access is strictly prohibited.\ndebug3: receive packet: type 51\ndebug1: Authentications that can continue: publickey,keyboard-interactive\ndebug3: start over, passed a different list publickey,keyboard-interactive\ndebug3: preferred password\ndebug1: No more authentication methods to try.\nxx_xxxxx@xxxxx-xx.xxxx.org: Permission denied (publickey,keyboard-interactive).\nConnection closed\n</code></pre>\n"},{"tags":["java","remote-server"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1690830260,"post_id":76806503,"comment_id":135404832,"body_markdown":"Welcome to Stack Overflow! Maybe you should [read this](https://stackoverflow.com/help/how-to-ask), and then edit your question.","body":"Welcome to Stack Overflow! Maybe you should <a href=\"https://stackoverflow.com/help/how-to-ask\">read this</a>, and then edit your question."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1690830289,"post_id":76806503,"comment_id":135404837,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask) and DO NOT post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs. Code or sample data in images can&#39;t be copied  in order to search about a problem or reproduce it. Read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> and DO NOT post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs. Code or sample data in images can&#39;t be copied  in order to search about a problem or reproduce it. Read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"score":0,"creation_date":1690833929,"post_id":76806503,"comment_id":135405486,"body_markdown":"Looking at your code your trying to connect to an http port (80), you should most likely be using port 22 assuming the FTP Server is listening on port 22.  You would have to reach out to the admin if you don&#39;t have the sftp server details.","body":"Looking at your code your trying to connect to an http port (80), you should most likely be using port 22 assuming the FTP Server is listening on port 22.  You would have to reach out to the admin if you don&#39;t have the sftp server details."}],"answers":[{"tags":[],"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690834206,"creation_date":1690834206,"answer_id":76806842,"question_id":76806503,"body_markdown":"Added my comment as an answer.  \r\n\r\nLooking at your code your trying to connect to an http port (80), you should most likely be using port 22 (default ssh port) assuming the FTP Server is listening on port 22. Some sites change this for security reasons.  \r\n\r\nYou would have to reach out to the admin if you don&#39;t have the sftp server details.","title":"com.jcraft.jsch.JSchException: connection is closed by foreign host","body":"<p>Added my comment as an answer.</p>\n<p>Looking at your code your trying to connect to an http port (80), you should most likely be using port 22 (default ssh port) assuming the FTP Server is listening on port 22. Some sites change this for security reasons.</p>\n<p>You would have to reach out to the admin if you don't have the sftp server details.</p>\n"}],"owner":{"account_id":23092887,"reputation":1,"user_id":17203484,"display_name":"Abdelilah El-Hadad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690834206,"creation_date":1690830161,"question_id":76806503,"body_markdown":"After running my java program, I become the error above. What did I wrong?\r\n\r\n[enter image description here](https://i.stack.imgur.com/shR9e.png)\r\n\r\nAfter running my java program, I want be able to connect to the given windows remote server and send a data file there. ","title":"com.jcraft.jsch.JSchException: connection is closed by foreign host","body":"<p>After running my java program, I become the error above. What did I wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/shR9e.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>After running my java program, I want be able to connect to the given windows remote server and send a data file there.</p>\n"},{"tags":["java","android","libgdx","tiled","tmx"],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690834129,"creation_date":1690825146,"answer_id":76805963,"question_id":76799588,"body_markdown":"You can use the map renderers with this method. Assuming you run from left to right, then repeat the first part of the map at the end.\r\ni.e. adjust your tile map as follows where &lt;C Map&gt; is what you start with.\r\n```\r\n&lt;A Repeated end of map&gt;&lt;B First part of map&gt;&lt;C Rest of map&gt;&lt;D Repeated First part of map&gt;\r\n```\r\nThen instead of running off the end of the map after C, you run into the repeated section D (which must be large enough to cover the screen). As soon as you get there  both character position and map renderer position jump to B and there won&#39;t be any change because its an exact copy.\r\n&lt;A Repeated end of map&gt; is required because otherwise there will be a gap at the left. (Or you could start the character after a screens width of map).","title":"Is there a way to make a TiledMap in LibGDX repeat infinitely for an endless runner game?","body":"<p>You can use the map renderers with this method. Assuming you run from left to right, then repeat the first part of the map at the end.\ni.e. adjust your tile map as follows where  is what you start with.</p>\n<pre><code>&lt;A Repeated end of map&gt;&lt;B First part of map&gt;&lt;C Rest of map&gt;&lt;D Repeated First part of map&gt;\n</code></pre>\n<p>Then instead of running off the end of the map after C, you run into the repeated section D (which must be large enough to cover the screen). As soon as you get there  both character position and map renderer position jump to B and there won't be any change because its an exact copy.\n is required because otherwise there will be a gap at the left. (Or you could start the character after a screens width of map).</p>\n"}],"owner":{"account_id":11139575,"reputation":3,"user_id":22311011,"display_name":"anti_monitor_android"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76805963,"answer_count":1,"score":0,"last_activity_date":1690834129,"creation_date":1690750247,"question_id":76799588,"body_markdown":"I used the tiled map editor to make a Tiled map for an android game I&#39;m making in libGDX and I wanted to make it scroll infinitely as the game is an endless runner. However, I have not figured out how to get the map to repeat for an infinite map effect.\r\n\r\n\r\n\r\nI tried to make the character teleport  when they reach a certain point but that has a rather jarring effectso I&#39;m looking to see if there is a more elegant way to go about this.","title":"Is there a way to make a TiledMap in LibGDX repeat infinitely for an endless runner game?","body":"<p>I used the tiled map editor to make a Tiled map for an android game I'm making in libGDX and I wanted to make it scroll infinitely as the game is an endless runner. However, I have not figured out how to get the map to repeat for an infinite map effect.</p>\n<p>I tried to make the character teleport  when they reach a certain point but that has a rather jarring effectso I'm looking to see if there is a more elegant way to go about this.</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":107811,"reputation":147,"user_id":286485,"accept_rate":50,"display_name":"Orlando"},"score":0,"creation_date":1690588852,"post_id":76791549,"comment_id":135379325,"body_markdown":"Just for context..  \n\n&gt;&gt; file libfingerprints.dylib \nlibfingerprints.dylib: Mach-O 64-bit dynamically linked shared library arm64\n\n\n\n&gt;&gt; otool -L libfingerprints.dylib \nlibfingerprints.dylib:\n\t@rpath/libfingerprints.dylib (compatibility version 0.0.0, current version 0.0.0)\n\t/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 1500.65.0)\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.100.3)\n\n\n &gt;&gt; uname -m\narm64","body":"Just for context..    &gt;&gt; file libfingerprints.dylib  libfingerprints.dylib: Mach-O 64-bit dynamically linked shared library arm64    &gt;&gt; otool -L libfingerprints.dylib  libfingerprints.dylib: \t@rpath/libfingerprints.dylib (compatibility version 0.0.0, current version 0.0.0) \t/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 1500.65.0) \t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.100.3)    &gt;&gt; uname -m arm64"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1690590252,"post_id":76791549,"comment_id":135379428,"body_markdown":"Looking at the source code, there are several cases in which `null` is returned, which result in an exception. You could step through the code with a debugger to find out which case you&#39;re in. That particular exception seems to be thrown from: `ClassLoader::loadLibrary(Class&lt;?&gt;,File)`","body":"Looking at the source code, there are several cases in which <code>null</code> is returned, which result in an exception. You could step through the code with a debugger to find out which case you&#39;re in. That particular exception seems to be thrown from: <code>ClassLoader::loadLibrary(Class&lt;?&gt;,File)</code>"},{"owner":{"account_id":107811,"reputation":147,"user_id":286485,"accept_rate":50,"display_name":"Orlando"},"score":0,"creation_date":1690592316,"post_id":76791549,"comment_id":135379554,"body_markdown":"I&#39;ve only been able to follow it to  return load(this, name, isBuiltin, isJNI, loadLibraryOnlyIfPresent) in NativeLibraryImpl.  It&#39;s just returning null... I don&#39;t know how to step into there or tell what (if anything) is going on in the c++ side of the universe.","body":"I&#39;ve only been able to follow it to  return load(this, name, isBuiltin, isJNI, loadLibraryOnlyIfPresent) in NativeLibraryImpl.  It&#39;s just returning null... I don&#39;t know how to step into there or tell what (if anything) is going on in the c++ side of the universe."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1690593577,"post_id":76791549,"comment_id":135379634,"body_markdown":"Which version of Java are you using? The latest version of `load` returns a boolean.","body":"Which version of Java are you using? The latest version of <code>load</code> returns a boolean."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1690594464,"post_id":76791549,"comment_id":135379694,"body_markdown":"Also, I&#39;m not very familiar with Mac, but this might be a result of an OS dependent library loading error, which is translated into the exception you&#39;re seeing. You could try creating a simple C program that tries to `dlopen` the library, and see if that works. Running with `-Xlog:os -Xlog:library` might also show something useful.","body":"Also, I&#39;m not very familiar with Mac, but this might be a result of an OS dependent library loading error, which is translated into the exception you&#39;re seeing. You could try creating a simple C program that tries to <code>dlopen</code> the library, and see if that works. Running with <code>-Xlog:os -Xlog:library</code> might also show something useful."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690608776,"post_id":76791549,"comment_id":135380373,"body_markdown":"@JornVernee `System.load()` returns `void`, and it hasn&#39;t changed in 25 years. What do you mean by &#39;the latest version&#39;?","body":"@JornVernee <code>System.load()</code> returns <code>void</code>, and it hasn&#39;t changed in 25 years. What do you mean by &#39;the latest version&#39;?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1690610801,"post_id":76791549,"comment_id":135380486,"body_markdown":"@user207421 I&#39;m talking about `load` inside [`jdk.internal.loader.NativeLibraries`](https://github.com/openjdk/jdk/blob/ad34be1f329edc8e7155983835cc70d733c014b8/src/java.base/share/classes/jdk/internal/loader/NativeLibraries.java#L542). The one the OP says is returning `null`. The latest version is returning `boolean`.","body":"@user207421 I&#39;m talking about <code>load</code> inside <a href=\"https://github.com/openjdk/jdk/blob/ad34be1f329edc8e7155983835cc70d733c014b8/src/java.base/share/classes/jdk/internal/loader/NativeLibraries.java#L542\" rel=\"nofollow noreferrer\"><code>jdk.internal.loader.NativeLibraries</code></a>. The one the OP says is returning <code>null</code>. The latest version is returning <code>boolean</code>."},{"owner":{"account_id":107811,"reputation":147,"user_id":286485,"accept_rate":50,"display_name":"Orlando"},"score":0,"creation_date":1690640232,"post_id":76791549,"comment_id":135383372,"body_markdown":"@JornVernee Thank you for the response.. you are correct, I mispoke - the load in NativeLibraries IS returning false.. NativeLibrary just takes that and return null.  If it helps, here&#39;s the version of Java I&#39;m using: openjdk version &quot;17.0.4.1&quot; 2022-08-12 LTS\nOpenJDK Runtime Environment Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS, mixed mode, sharing)","body":"@JornVernee Thank you for the response.. you are correct, I mispoke - the load in NativeLibraries IS returning false.. NativeLibrary just takes that and return null.  If it helps, here&#39;s the version of Java I&#39;m using: openjdk version &quot;17.0.4.1&quot; 2022-08-12 LTS OpenJDK Runtime Environment Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS) OpenJDK 64-Bit Server VM Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS, mixed mode, sharing)"},{"owner":{"account_id":107811,"reputation":147,"user_id":286485,"accept_rate":50,"display_name":"Orlando"},"score":0,"creation_date":1690640291,"post_id":76791549,"comment_id":135383378,"body_markdown":"I will try your C program suggestion, and report back. Thank you for your help.","body":"I will try your C program suggestion, and report back. Thank you for your help."},{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1691177758,"post_id":76791549,"comment_id":135461996,"body_markdown":"I&#39;ve accidentally installed the intel version of java, and because I have rosetta installed, it works, but exhibits a similar issue in being unable to load arm64 binaries. Check if the other library is also only compiled for arm64, and also check that the java version is arm64","body":"I&#39;ve accidentally installed the intel version of java, and because I have rosetta installed, it works, but exhibits a similar issue in being unable to load arm64 binaries. Check if the other library is also only compiled for arm64, and also check that the java version is arm64"}],"answers":[{"tags":[],"owner":{"account_id":107811,"reputation":147,"user_id":286485,"accept_rate":50,"display_name":"Orlando"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690833195,"creation_date":1690833195,"answer_id":76806754,"question_id":76791549,"body_markdown":"Posting an unsatisfying answer, but sometimes you have to move on in life.\r\n\r\nFor reasons I don&#39;t understand, the issue resolved itself after uninstalling Correto Java 17 and installing OpenJDK 17 via Homebrew.  This is puzzling because our production instance uses Correto, and another developer who has no issues with this is using Correto (albeit on an Intel based Mac).  Maybe this is an issue with Correto on a Mac Arm or maybe just the act of reinstalling fixed things on it&#39;s own.\r\n\r\n","title":"UnsatisfiedLinkError: Can&#39;t load library","body":"<p>Posting an unsatisfying answer, but sometimes you have to move on in life.</p>\n<p>For reasons I don't understand, the issue resolved itself after uninstalling Correto Java 17 and installing OpenJDK 17 via Homebrew.  This is puzzling because our production instance uses Correto, and another developer who has no issues with this is using Correto (albeit on an Intel based Mac).  Maybe this is an issue with Correto on a Mac Arm or maybe just the act of reinstalling fixed things on it's own.</p>\n"}],"owner":{"account_id":107811,"reputation":147,"user_id":286485,"accept_rate":50,"display_name":"Orlando"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690833195,"creation_date":1690588509,"question_id":76791549,"body_markdown":"My Mac ARM Laptop is failing to load the second library below:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            System.load(&quot;/Users/orlando/libbinaryen.dylib&quot;);\r\n            System.load(&quot;/Users/orlando/libfingerprints.dylib&quot;);\r\n        }\r\n    }\r\n\r\n    &gt;&gt; Hello world!\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /Users/orlando/libfingerprints.dylib\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n    \tat java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n    \tat java.base/java.lang.System.load(System.java:1953)\r\n    \tat Main.main(Main.java:9)\r\n\r\nI&#39;ve tried both a library I&#39;ve built and a library someone else built on their ARM Mac that works on their machine (and someone else&#39;s). Nobody can figure out why this is happening.\r\n\r\nWe&#39;ve confirmed file permissions, file location, processor type, etc.  We&#39;ve also tried various debugging / output attempts like\r\n\r\n    java -Djava.library.path=/Users/orlando/Git/lib -verbose:jni -classpath /Users/orlando/Git/HelloWorld/out/production/HelloWorld Main\r\n\r\n    :\r\n    [0.119s][debug][jni,resolve] [Dynamic-linking native method java.lang.Throwable.fillInStackTrace ... JNI]\r\n    Exception in thread &quot;main&quot; [0.119s][debug][jni,resolve] [Dynamic-linking native method java.lang.System.identityHashCode ... JNI]\r\n    java.lang.UnsatisfiedLinkError: Can&#39;t load library: /Users/orlando/libfingerprints.dylib\r\n    [0.120s][debug][jni,resolve] [Dynamic-linking native method java.lang.StackTraceElement.initStackTraceElements ... JNI]\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n    \tat java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n    \tat java.base/java.lang.System.load(System.java:1953)\r\n    \tat Main.main(Main.java:9)\r\n\r\n\r\nCan anyone suggest anything off the beaten path I can try or verify?\r\n\r\nThanks in advance...\r\n\r\nExtra information:\r\n```\r\n&gt;&gt; file libfingerprints.dylib\r\nlibfingerprints.dylib: Mach-O 64-bit dynamically linked shared library arm64\r\n\r\n&gt;&gt; otool -L libfingerprints.dylib\r\nlibfingerprints.dylib:\r\n  @rpath/libfingerprints.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n  /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 1500.65.0)\r\n  /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.100.3)\r\n\r\n&gt;&gt; uname -m arm64\r\n\r\n&gt;&gt; java --version\r\nopenjdk version &quot;17.0.4.1&quot; 2022-08-12 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS, mixed mode, sharing)\r\n```\r\n","title":"UnsatisfiedLinkError: Can&#39;t load library","body":"<p>My Mac ARM Laptop is failing to load the second library below:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        System.load(&quot;/Users/orlando/libbinaryen.dylib&quot;);\n        System.load(&quot;/Users/orlando/libfingerprints.dylib&quot;);\n    }\n}\n\n&gt;&gt; Hello world!\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /Users/orlando/libfingerprints.dylib\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n    at Main.main(Main.java:9)\n</code></pre>\n<p>I've tried both a library I've built and a library someone else built on their ARM Mac that works on their machine (and someone else's). Nobody can figure out why this is happening.</p>\n<p>We've confirmed file permissions, file location, processor type, etc.  We've also tried various debugging / output attempts like</p>\n<pre><code>java -Djava.library.path=/Users/orlando/Git/lib -verbose:jni -classpath /Users/orlando/Git/HelloWorld/out/production/HelloWorld Main\n\n:\n[0.119s][debug][jni,resolve] [Dynamic-linking native method java.lang.Throwable.fillInStackTrace ... JNI]\nException in thread &quot;main&quot; [0.119s][debug][jni,resolve] [Dynamic-linking native method java.lang.System.identityHashCode ... JNI]\njava.lang.UnsatisfiedLinkError: Can't load library: /Users/orlando/libfingerprints.dylib\n[0.120s][debug][jni,resolve] [Dynamic-linking native method java.lang.StackTraceElement.initStackTraceElements ... JNI]\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n    at Main.main(Main.java:9)\n</code></pre>\n<p>Can anyone suggest anything off the beaten path I can try or verify?</p>\n<p>Thanks in advance...</p>\n<p>Extra information:</p>\n<pre><code>&gt;&gt; file libfingerprints.dylib\nlibfingerprints.dylib: Mach-O 64-bit dynamically linked shared library arm64\n\n&gt;&gt; otool -L libfingerprints.dylib\nlibfingerprints.dylib:\n  @rpath/libfingerprints.dylib (compatibility version 0.0.0, current version 0.0.0)\n  /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 1500.65.0)\n  /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.100.3)\n\n&gt;&gt; uname -m arm64\n\n&gt;&gt; java --version\nopenjdk version &quot;17.0.4.1&quot; 2022-08-12 LTS\nOpenJDK Runtime Environment Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.4.9.1 (build 17.0.4.1+9-LTS, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","maven","upgrade","checker-framework"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690835777,"post_id":76806664,"comment_id":135405781,"body_markdown":"The first thing I see is you are using very old version... on central there are versions like 3.36+ I would suggest to check the manual and upgrade... at first...","body":"The first thing I see is you are using very old version... on central there are versions like 3.36+ I would suggest to check the manual and upgrade... at first..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690835985,"post_id":76806664,"comment_id":135405812,"body_markdown":"Check this: https://checkerframework.org/manual/#maven","body":"Check this: <a href=\"https://checkerframework.org/manual/#maven\" rel=\"nofollow noreferrer\">checkerframework.org/manual/#maven</a>"},{"owner":{"account_id":7792679,"reputation":71,"user_id":5895035,"display_name":"Rosen Hristov"},"score":0,"creation_date":1690870341,"post_id":76806664,"comment_id":135409383,"body_markdown":"@khmarbaise\nI do not know what do you mean, that&#39;s what I see on Central: 3.36.0 seems to be the latest one:\nVersion\t\tRepository\tUsages\tDate\n3.36.x  3.36.0\tCentral\t         0             Jul 04, 2023\n3.35.x  3.35.0\tCentral\t         0             Jun 01, 2023\n3.34.x  3.34.0\tCentral\t         0             May 02, 2023","body":"@khmarbaise I do not know what do you mean, that&#39;s what I see on Central: 3.36.0 seems to be the latest one: Version\t\tRepository\tUsages\tDate 3.36.x  3.36.0\tCentral\t         0             Jul 04, 2023 3.35.x  3.35.0\tCentral\t         0             Jun 01, 2023 3.34.x  3.34.0\tCentral\t         0             May 02, 2023"},{"owner":{"account_id":7792679,"reputation":71,"user_id":5895035,"display_name":"Rosen Hristov"},"score":0,"creation_date":1690870678,"post_id":76806664,"comment_id":135409441,"body_markdown":"@khmarbaise Yea=s, I read this page, I made the setting in my POM based on this page, including the settings for the maven-dependency-plugin but I forgot to mention it in the dsescription of the issue.","body":"@khmarbaise Yea=s, I read this page, I made the setting in my POM based on this page, including the settings for the maven-dependency-plugin but I forgot to mention it in the dsescription of the issue."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1691089449,"post_id":76806664,"comment_id":135448224,"body_markdown":"But the dependency has a very old dependency... that looks wrong...","body":"But the dependency has a very old dependency... that looks wrong..."}],"owner":{"account_id":7792679,"reputation":71,"user_id":5895035,"display_name":"Rosen Hristov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690832951,"creation_date":1690832172,"question_id":76806664,"body_markdown":"I am trying to upgrade a Java project from Java 1.8 to Java 17, it is built with Maven 3.9.3 and has Checker framework as a dependency. When it was used with Java 1.8 on3e of the dependencies included was jdk8, that I removed since currently I am upgrading the project to Java 17:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.checkerframework&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jdk8&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.9.10&lt;/version&gt;\r\n\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nRead the Checker framework documentation and added the POM settings for versions of Java above 8:\r\n\r\n```\r\n&lt;profiles&gt;\r\n &lt;profile&gt;\r\n      &lt;id&gt;checkerframework-jdk9orlater&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;jdk&gt;[9,)&lt;/jdk&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;fork&gt;true&lt;/fork&gt;\r\n              &lt;compilerArgs combine.children=&quot;append&quot;&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n              &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;properties&gt;\r\n        &lt;!-- Needed for animal-sniffer-maven-plugin version 1.19 which is broken (version 1.20 is fixed). --&gt;\r\n        &lt;animal.sniffer.skip&gt;true&lt;/animal.sniffer.skip&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n```\r\n\r\nAlso made all the dependency versions related to this framework to be equal (3.36.0).\r\n\r\nMy Maven version is:\r\n\r\n```\r\nmvn -v\r\n\r\nApache Maven 3.9.3 (21122926829f1ead511c958d89bd2f672198ae9f)\r\nMaven home: C:\\apache-maven-3.9.3\r\nJava version: 17.0.8, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-17\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n```\r\n\r\n```\r\njava --version\r\n\r\njava 17.0.8 2023-07-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.8+9-LTS-211)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)\r\n```\r\n\r\nJAVA_HOME:\r\n\r\n[![JAVA_HOME][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rvpZv.png\r\n\r\nIf I try to build (mvn clean install) with the previous version of Checker Framework used (1.9.10), the build fails due to:\r\n\r\n```\r\nCompilation failure\r\n[ERROR] error: SourceChecker.typeProcessingStart: unexpected Throwable (RuntimeException);\r\nmessage: Could not determine version from property java.version=17.0.8;\r\ninvoke the compiler with -AprintErrorStack to see the stack trace\r\n```\r\n\r\nIf I change the Checker framework versions everywhere to the latest 3.36.0, I get:\r\n\r\n```\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project. Compilation failure\r\n\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1310)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n```\r\n\r\nIt seems to be a Mojo Exception, so something wrong with the maven-compiler-plugin settings:\r\n\r\nIt used to be with souurce and target java version set to 1.8 but I changed it to 17. Anyway compilation is unsuccessful:\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.10.1&lt;/version&gt;\t \r\n  &lt;configuration&gt;\r\n    &lt;source&gt;17&lt;/source&gt;\r\n\t&lt;target&gt;17&lt;/target&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI tried to delete .m2 folder and rerun ```mvn clean install``, cleaned IntelliJ cache and it did not help. In IntelliJ&#39;s Project Structure the version is set to 17. In my POM it is also 17:\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nSo, everything seems to be correct. Anyway it does not build successfully. Could you, please, try to help me? I searched a lot in internet but none of the given solutions worked for me.","title":"Maven build fails during Java 8 to 17 upgrade: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile)","body":"<p>I am trying to upgrade a Java project from Java 1.8 to Java 17, it is built with Maven 3.9.3 and has Checker framework as a dependency. When it was used with Java 1.8 on3e of the dependencies included was jdk8, that I removed since currently I am upgrading the project to Java 17:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.checkerframework&lt;/groupId&gt;\n    &lt;artifactId&gt;jdk8&lt;/artifactId&gt;\n    &lt;version&gt;1.9.10&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Read the Checker framework documentation and added the POM settings for versions of Java above 8:</p>\n<pre><code>&lt;profiles&gt;\n &lt;profile&gt;\n      &lt;id&gt;checkerframework-jdk9orlater&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;jdk&gt;[9,)&lt;/jdk&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;fork&gt;true&lt;/fork&gt;\n              &lt;compilerArgs combine.children=&quot;append&quot;&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n              &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      &lt;properties&gt;\n        &lt;!-- Needed for animal-sniffer-maven-plugin version 1.19 which is broken (version 1.20 is fixed). --&gt;\n        &lt;animal.sniffer.skip&gt;true&lt;/animal.sniffer.skip&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n</code></pre>\n<p>Also made all the dependency versions related to this framework to be equal (3.36.0).</p>\n<p>My Maven version is:</p>\n<pre><code>mvn -v\n\nApache Maven 3.9.3 (21122926829f1ead511c958d89bd2f672198ae9f)\nMaven home: C:\\apache-maven-3.9.3\nJava version: 17.0.8, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-17\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<pre><code>java --version\n\njava 17.0.8 2023-07-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.8+9-LTS-211)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)\n</code></pre>\n<p>JAVA_HOME:</p>\n<p><a href=\"https://i.stack.imgur.com/rvpZv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rvpZv.png\" alt=\"JAVA_HOME\" /></a></p>\n<p>If I try to build (mvn clean install) with the previous version of Checker Framework used (1.9.10), the build fails due to:</p>\n<pre><code>Compilation failure\n[ERROR] error: SourceChecker.typeProcessingStart: unexpected Throwable (RuntimeException);\nmessage: Could not determine version from property java.version=17.0.8;\ninvoke the compiler with -AprintErrorStack to see the stack trace\n</code></pre>\n<p>If I change the Checker framework versions everywhere to the latest 3.36.0, I get:</p>\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project. Compilation failure\n\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1310)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n</code></pre>\n<p>It seems to be a Mojo Exception, so something wrong with the maven-compiler-plugin settings:</p>\n<p>It used to be with souurce and target java version set to 1.8 but I changed it to 17. Anyway compilation is unsuccessful:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.10.1&lt;/version&gt;  \n  &lt;configuration&gt;\n    &lt;source&gt;17&lt;/source&gt;\n    &lt;target&gt;17&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I tried to delete .m2 folder and rerun ```mvn clean install``, cleaned IntelliJ cache and it did not help. In IntelliJ's Project Structure the version is set to 17. In my POM it is also 17:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>So, everything seems to be correct. Anyway it does not build successfully. Could you, please, try to help me? I searched a lot in internet but none of the given solutions worked for me.</p>\n"},{"tags":["java","android","performance"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":2,"creation_date":1690650816,"post_id":76794651,"comment_id":135384554,"body_markdown":"Could be a problem that you let the UI thread sleep...","body":"Could be a problem that you let the UI thread sleep..."},{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1690651817,"post_id":76794651,"comment_id":135384673,"body_markdown":"Never ever call Thread.sleep on the ui thread. You just freeze the whole app.","body":"Never ever call Thread.sleep on the ui thread. You just freeze the whole app."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690651763,"creation_date":1690651763,"answer_id":76794747,"question_id":76794651,"body_markdown":"This code is bad in a few ways, and shows you don&#39;t fully understand what you&#39;re doing.  From your wording it seems like maybe you think the UI thread is something there can be multiple of (there can&#39;t there is only 1 and it&#39;s the same as the main thread).  I&#39;ll show you a few issues:\r\n\r\n                Crash.this.runOnUiThread(new Runnable() {\r\nThis is on an onClick listener.  That&#39;s already only running on the UI thread.  So all this does is delay the execution.  It isn&#39;t necessary or helpful.\r\n\r\n                            try {\r\n                                Thread.sleep(500);\r\n                            } catch (InterruptedException ex) {\r\n                                Thread.currentThread().interrupt();\r\n                            }\r\nThis is done on the UI thread.  NEVER SLEEP ON THE UI THREAD.  If you need a delay on the UI thread, you post a message to the handler, or use a timer of some sort.  Never sleep.  Also the catch here is pointless-  the current thread is already interrupted.  What&#39;s the point in interrupting it again?\r\n\r\n\r\nUnrelated to performance-  you&#39;re also setting the onClick of the stop button in the onClick of the start button.  That&#39;s pointless.  Set it globally, and prevent the clicking of the stop button by either visibility (setting it gone or invisible) or by enablement (disabling it).    You can also improve the readability and maintainability of your code by breaking up those long onClicks into named functions that do particular things. \r\n\r\n\r\n\r\n\r\n\r\n","title":"Why is this code so slow with no heavy operations?","body":"<p>This code is bad in a few ways, and shows you don't fully understand what you're doing.  From your wording it seems like maybe you think the UI thread is something there can be multiple of (there can't there is only 1 and it's the same as the main thread).  I'll show you a few issues:</p>\n<pre><code>            Crash.this.runOnUiThread(new Runnable() {\n</code></pre>\n<p>This is on an onClick listener.  That's already only running on the UI thread.  So all this does is delay the execution.  It isn't necessary or helpful.</p>\n<pre><code>                        try {\n                            Thread.sleep(500);\n                        } catch (InterruptedException ex) {\n                            Thread.currentThread().interrupt();\n                        }\n</code></pre>\n<p>This is done on the UI thread.  NEVER SLEEP ON THE UI THREAD.  If you need a delay on the UI thread, you post a message to the handler, or use a timer of some sort.  Never sleep.  Also the catch here is pointless-  the current thread is already interrupted.  What's the point in interrupting it again?</p>\n<p>Unrelated to performance-  you're also setting the onClick of the stop button in the onClick of the start button.  That's pointless.  Set it globally, and prevent the clicking of the stop button by either visibility (setting it gone or invisible) or by enablement (disabling it).    You can also improve the readability and maintainability of your code by breaking up those long onClicks into named functions that do particular things.</p>\n"}],"owner":{"account_id":21272415,"reputation":1,"user_id":20266598,"display_name":"Jonasoos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690832911,"creation_date":1690650483,"question_id":76794651,"body_markdown":"The buttons are not instantly dis-/reappearing and the code is very slow although i have no heavy operation running (skipping frames). I should use Threads but i do not understand how i should split my code in threads as i cant use normal thread to change the UI. For that there is the UIthread. But then i have to put the whole code into the UIthread as i have nothing else in my class and the same error would happen. Is `Thread.sleep()` even used on UIthread?\r\n\r\nHow the user experience is:\r\nStart button pressed. 20 sec pause. textview displays `number` and the start button disappears and the stop button appears.\r\n\r\nHow it should be:\r\nFirst should the start button disappear after pressing and the stop button appearing. After that the textview should display x and update it so that it grows 0.1 each iteration until it reaches a random int or the user presses the stop button which change gamefalse[] to true which in turn stopps the while loop.\r\n\r\n\r\nI redid my code but it still is lagging\r\n\r\n&gt; Skipped 5885 frames! \r\n\r\n```\r\n final boolean[] gamefalse = {false};\r\n        int einsatz = 50;\r\n        final float[] x = {1};\r\n        start.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                start.setVisibility(View.GONE);\r\n                stop.setVisibility(View.VISIBLE);\r\n                SecureRandom random = new SecureRandom();\r\n                int number = random.nextInt(101);\r\n                int j = 1;\r\n\r\n                while (j &lt; number &amp;&amp; !gamefalse[0]) {\r\n                    j++;\r\n                    x[0] += 0.1;\r\n                    textView.setText(String.valueOf(x[0]));\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                    System.out.println(&quot;iteration&quot;);\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        float finalX = x[0];\r\n        stop.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gamefalse[0] = true;\r\n                stop.setVisibility(View.GONE);\r\n                start.setVisibility(View.VISIBLE);\r\n                int gewinn = (int) finalX * einsatz;\r\n\r\n\r\n                mDatabaseReference.child(&quot;user&quot;).child(String.valueOf(encodeUserEmail(email))).child(&quot;stand&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot snapshot) {\r\n                        Long b = snapshot.getValue(Long.class);\r\n                        mDatabaseReference.child(&quot;user&quot;).child(String.valueOf(encodeUserEmail(email))).child(&quot;stand&quot;).setValue(b + gewinn);\r\n                        mDatabaseReference.child(&quot;user&quot;).child(String.valueOf(encodeUserEmail(email))).child(&quot;stand&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(DataSnapshot snapshot) {\r\n                                Long b = snapshot.getValue(Long.class);\r\n                                String c = b + &quot; &quot;;\r\n                                System.out.println(c);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(DatabaseError error) {\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError error) {\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\n","title":"Why is this code so slow with no heavy operations?","body":"<p>The buttons are not instantly dis-/reappearing and the code is very slow although i have no heavy operation running (skipping frames). I should use Threads but i do not understand how i should split my code in threads as i cant use normal thread to change the UI. For that there is the UIthread. But then i have to put the whole code into the UIthread as i have nothing else in my class and the same error would happen. Is <code>Thread.sleep()</code> even used on UIthread?</p>\n<p>How the user experience is:\nStart button pressed. 20 sec pause. textview displays <code>number</code> and the start button disappears and the stop button appears.</p>\n<p>How it should be:\nFirst should the start button disappear after pressing and the stop button appearing. After that the textview should display x and update it so that it grows 0.1 each iteration until it reaches a random int or the user presses the stop button which change gamefalse[] to true which in turn stopps the while loop.</p>\n<p>I redid my code but it still is lagging</p>\n<blockquote>\n<p>Skipped 5885 frames!</p>\n</blockquote>\n<pre><code> final boolean[] gamefalse = {false};\n        int einsatz = 50;\n        final float[] x = {1};\n        start.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                start.setVisibility(View.GONE);\n                stop.setVisibility(View.VISIBLE);\n                SecureRandom random = new SecureRandom();\n                int number = random.nextInt(101);\n                int j = 1;\n\n                while (j &lt; number &amp;&amp; !gamefalse[0]) {\n                    j++;\n                    x[0] += 0.1;\n                    textView.setText(String.valueOf(x[0]));\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                    System.out.println(&quot;iteration&quot;);\n\n                }\n            }\n        });\n\n\n        float finalX = x[0];\n        stop.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                gamefalse[0] = true;\n                stop.setVisibility(View.GONE);\n                start.setVisibility(View.VISIBLE);\n                int gewinn = (int) finalX * einsatz;\n\n\n                mDatabaseReference.child(&quot;user&quot;).child(String.valueOf(encodeUserEmail(email))).child(&quot;stand&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot snapshot) {\n                        Long b = snapshot.getValue(Long.class);\n                        mDatabaseReference.child(&quot;user&quot;).child(String.valueOf(encodeUserEmail(email))).child(&quot;stand&quot;).setValue(b + gewinn);\n                        mDatabaseReference.child(&quot;user&quot;).child(String.valueOf(encodeUserEmail(email))).child(&quot;stand&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(DataSnapshot snapshot) {\n                                Long b = snapshot.getValue(Long.class);\n                                String c = b + &quot; &quot;;\n                                System.out.println(c);\n                            }\n\n                            @Override\n                            public void onCancelled(DatabaseError error) {\n                            }\n                        });\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError error) {\n                    }\n                });\n            }\n        });\n    }\n\n</code></pre>\n"},{"tags":["java","owl-api","reasoning","hermit"],"comments":[{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1690526429,"post_id":76779956,"comment_id":135368822,"body_markdown":"OWL API does not include a reasoner. In the  ode example above, ReasonerFactory is a  class in a reasoner compatibile with OWL API. HermiT is one such reasoner and has a class named like that, but we&#39;d need the import statements to be sure.","body":"OWL API does not include a reasoner. In the  ode example above, ReasonerFactory is a  class in a reasoner compatibile with OWL API. HermiT is one such reasoner and has a class named like that, but we&#39;d need the import statements to be sure."},{"owner":{"account_id":29103094,"reputation":3,"user_id":22294500,"display_name":"Eleni T"},"score":0,"creation_date":1690541835,"post_id":76779956,"comment_id":135371818,"body_markdown":"thank you @Ignazio, I have imported the following: import org.semanticweb.owlapi.reasoner.InferenceDepth;\nimport org.semanticweb.owlapi.reasoner.InferenceType;\nimport org.semanticweb.owlapi.reasoner.OWLReasoner;\nimport org.semanticweb.owlapi.reasoner.OWLReasonerFactory; import org.semanticweb.HermiT.Configuration;\nimport org.semanticweb.HermiT.Reasoner;","body":"thank you @Ignazio, I have imported the following: import org.semanticweb.owlapi.reasoner.InferenceDepth; import org.semanticweb.owlapi.reasoner.InferenceType; import org.semanticweb.owlapi.reasoner.OWLReasoner; import org.semanticweb.owlapi.reasoner.OWLReasonerFactory; import org.semanticweb.HermiT.Configuration; import org.semanticweb.HermiT.Reasoner;"},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":1,"creation_date":1690542530,"post_id":76779956,"comment_id":135371931,"body_markdown":"That confirms you are using HermiT. Please add the following to the question so it&#39;s possible to give it an answer: full class you&#39;re using, OWL API version and HermiT version. If you can share the ontology you&#39;re using, that would also help. If not, please provide an ontology that replicates the problem (i.e., an ontology with two individuals that shows the extra triples being generated.)","body":"That confirms you are using HermiT. Please add the following to the question so it&#39;s possible to give it an answer: full class you&#39;re using, OWL API version and HermiT version. If you can share the ontology you&#39;re using, that would also help. If not, please provide an ontology that replicates the problem (i.e., an ontology with two individuals that shows the extra triples being generated.)"},{"owner":{"account_id":29103094,"reputation":3,"user_id":22294500,"display_name":"Eleni T"},"score":0,"creation_date":1690555738,"post_id":76779956,"comment_id":135374764,"body_markdown":"Thank you @Ignazio, I edited the question.","body":"Thank you @Ignazio, I edited the question."},{"owner":{"account_id":29103094,"reputation":3,"user_id":22294500,"display_name":"Eleni T"},"score":0,"creation_date":1690805048,"post_id":76779956,"comment_id":135399485,"body_markdown":"Hi @Ignazio  is there some obvious mistake that I miss? Many thanks.","body":"Hi @Ignazio  is there some obvious mistake that I miss? Many thanks."},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1690815267,"post_id":76779956,"comment_id":135401890,"body_markdown":"Nothing obvious, I need to run your code to figure it out.","body":"Nothing obvious, I need to run your code to figure it out."}],"answers":[{"tags":[],"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690832612,"creation_date":1690832612,"answer_id":76806702,"question_id":76779956,"body_markdown":"Two items: I recommend updating the versions you&#39;re using because they are old, and it seems there is an issue in your input ontology.\r\n\r\nSuggested version updates: use OWLAPI 5.1.20 and HermiT 1.4.5.519 (they don&#39;t directly affect this issue but they&#39;re more recent versions than the ones you&#39;re using.\r\n\r\nExample Maven config:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.20&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.semanticweb.hermit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.5.519&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nRegarding your input ontology, if I feed it as is in the code you show (after amending to remove ONTAPI references, which are not relevant to the problem and in which I&#39;m not an expert), I have the following code replicating the problem:\r\n\r\n    package teststack;\r\n    \r\n    import java.io.*;\r\n    \r\n    import org.semanticweb.HermiT.ReasonerFactory;\r\n    import org.semanticweb.owlapi.apibinding.OWLManager;\r\n    import org.semanticweb.owlapi.formats.NTriplesDocumentFormat;\r\n    import org.semanticweb.owlapi.io.StringDocumentSource;\r\n    import org.semanticweb.owlapi.model.*;\r\n    import org.semanticweb.owlapi.reasoner.*;\r\n    import org.semanticweb.owlapi.util.*;\r\n    \r\n    public class Check {\r\n    \tstatic OWLOntologyManager manager = OWLManager.createOWLOntologyManager();\r\n    \tstatic OWLDataFactory data_factory = manager.getOWLDataFactory();\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t\t\tthrows OWLOntologyCreationException, OWLOntologyStorageException, IOException {\r\n    \t\tString notWorking=&quot;&lt;urn:test:onto&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Ontology&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#r&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#r&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#A&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#A&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#B&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#B&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#q&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\\n&quot;\r\n    \t\t\t\t+ &quot;&lt;urn:test:onto#q&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\\n&quot;;\r\n    \t\tOWLOntology o = manager.loadOntologyFromOntologyDocument(new StringDocumentSource(\r\n    \t\t\t\tnotWorking,\r\n    \t\t\t\tIRI.create(&quot;urn:test:onto&quot;), new NTriplesDocumentFormat(), null));\r\n    \t\tmaterialization(o, new File(&quot;result.txt&quot;));\r\n    \t}\r\n    \r\n    \tpublic static OWLOntology materialization(OWLOntology ontology, File inferredOntologyFile)\r\n    \t\t\tthrows OWLOntologyStorageException, IOException, OWLOntologyCreationException {\r\n    \t\tOutputStream outputStream = new FileOutputStream(inferredOntologyFile);\r\n    \r\n    \t\tOWLReasonerFactory reasoner_factory = new ReasonerFactory();\r\n    \t\tOWLReasoner reasoner = reasoner_factory.createReasoner(ontology);\r\n    \r\n    \t\tif (reasoner.isConsistent() == false) {\r\n    \t\t\tSystem.out.println(&quot;INCONSISTENT ONTOLOGY!&quot;);\r\n    \t\t}\r\n    \r\n    \t\tInferredOntologyGenerator inference = new InferredOntologyGenerator(reasoner);\r\n    \r\n    \t\tinference.fillOntology(data_factory, ontology);\r\n    \r\n    \t\tmanager.saveOntology(ontology, new NTriplesDocumentFormat(), outputStream);\r\n    \r\n    \t\treturn ontology;\r\n    \r\n    \t}\r\n    }\r\n\r\nNote: I&#39;ve removed all axioms relating individuals with topObjectProperty from this ontology. These axioms are replicated by the code.\r\n\r\nHowever, removing the type assertions that state the properties are subproperties of topObjectProperties, the problem goes away. As the declarations are redundant, it looks like them being in the ontology tricks the reasoner into generating those axioms. Such unnecessary declarations should be ignored, so this might be a bug. However, workaround for you is to filter out any declaration axioms where the type is topObjectProperty from your input file.\r\n\r\n    &lt;urn:test:onto&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Ontology&gt; .\r\n    &lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\r\n    &lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n    &lt;urn:test:onto#r&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\r\n    &lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\r\n    &lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n    &lt;urn:test:onto#A&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n    &lt;urn:test:onto#A&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\r\n    &lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\r\n    &lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n    &lt;urn:test:onto#B&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n    &lt;urn:test:onto#B&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\r\n    &lt;urn:test:onto#q&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\r\n","title":"OWL API, Hermit materialization","body":"<p>Two items: I recommend updating the versions you're using because they are old, and it seems there is an issue in your input ontology.</p>\n<p>Suggested version updates: use OWLAPI 5.1.20 and HermiT 1.4.5.519 (they don't directly affect this issue but they're more recent versions than the ones you're using.</p>\n<p>Example Maven config:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n        &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\n        &lt;version&gt;5.1.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n        &lt;artifactId&gt;org.semanticweb.hermit&lt;/artifactId&gt;\n        &lt;version&gt;1.4.5.519&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\n                &lt;artifactId&gt;owlapi-distribution&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Regarding your input ontology, if I feed it as is in the code you show (after amending to remove ONTAPI references, which are not relevant to the problem and in which I'm not an expert), I have the following code replicating the problem:</p>\n<pre><code>package teststack;\n\nimport java.io.*;\n\nimport org.semanticweb.HermiT.ReasonerFactory;\nimport org.semanticweb.owlapi.apibinding.OWLManager;\nimport org.semanticweb.owlapi.formats.NTriplesDocumentFormat;\nimport org.semanticweb.owlapi.io.StringDocumentSource;\nimport org.semanticweb.owlapi.model.*;\nimport org.semanticweb.owlapi.reasoner.*;\nimport org.semanticweb.owlapi.util.*;\n\npublic class Check {\n    static OWLOntologyManager manager = OWLManager.createOWLOntologyManager();\n    static OWLDataFactory data_factory = manager.getOWLDataFactory();\n\n    public static void main(String[] args)\n            throws OWLOntologyCreationException, OWLOntologyStorageException, IOException {\n        String notWorking=&quot;&lt;urn:test:onto&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Ontology&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#r&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#r&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#A&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#A&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#B&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#B&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#q&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\\n&quot;\n                + &quot;&lt;urn:test:onto#q&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\\n&quot;;\n        OWLOntology o = manager.loadOntologyFromOntologyDocument(new StringDocumentSource(\n                notWorking,\n                IRI.create(&quot;urn:test:onto&quot;), new NTriplesDocumentFormat(), null));\n        materialization(o, new File(&quot;result.txt&quot;));\n    }\n\n    public static OWLOntology materialization(OWLOntology ontology, File inferredOntologyFile)\n            throws OWLOntologyStorageException, IOException, OWLOntologyCreationException {\n        OutputStream outputStream = new FileOutputStream(inferredOntologyFile);\n\n        OWLReasonerFactory reasoner_factory = new ReasonerFactory();\n        OWLReasoner reasoner = reasoner_factory.createReasoner(ontology);\n\n        if (reasoner.isConsistent() == false) {\n            System.out.println(&quot;INCONSISTENT ONTOLOGY!&quot;);\n        }\n\n        InferredOntologyGenerator inference = new InferredOntologyGenerator(reasoner);\n\n        inference.fillOntology(data_factory, ontology);\n\n        manager.saveOntology(ontology, new NTriplesDocumentFormat(), outputStream);\n\n        return ontology;\n\n    }\n}\n</code></pre>\n<p>Note: I've removed all axioms relating individuals with topObjectProperty from this ontology. These axioms are replicated by the code.</p>\n<p>However, removing the type assertions that state the properties are subproperties of topObjectProperties, the problem goes away. As the declarations are redundant, it looks like them being in the ontology tricks the reasoner into generating those axioms. Such unnecessary declarations should be ignored, so this might be a bug. However, workaround for you is to filter out any declaration axioms where the type is topObjectProperty from your input file.</p>\n<pre><code>&lt;urn:test:onto&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Ontology&gt; .\n&lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\n&lt;urn:test:onto#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;urn:test:onto#r&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\n&lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\n&lt;urn:test:onto#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;urn:test:onto#A&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;urn:test:onto#A&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\n&lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\n&lt;urn:test:onto#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;urn:test:onto#B&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;urn:test:onto#B&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\n&lt;urn:test:onto#q&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\n</code></pre>\n"}],"owner":{"account_id":29103094,"reputation":3,"user_id":22294500,"display_name":"Eleni T"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76806702,"answer_count":1,"score":0,"last_activity_date":1690832612,"creation_date":1690462520,"question_id":76779956,"body_markdown":"I have two questions: \r\n1. What is the reasoner of OWL API? Is it Hermit? \r\nSo when I have:\r\n```\r\nOWLReasonerFactory reasoner_factory = new ReasonerFactory();\r\nOWLReasoner reasoner = reasoner_factory.createReasoner(ontology);\r\n```\r\n\r\nWhich reasoner is called?\r\n\r\n2. When I perform materialization I also get for any individuals a, b appearing the the ABox the assertion: `owl:topObjectProperty(a,b)`, which is true, but also redundant, and explodes the size of the KB. \r\n\r\nSo how can I prevent this from happening?\r\n\r\nThe method I used is as follows:\r\n```\r\npublic static Ontology materialization(Ontology ontology, File inferredOntologyFile) throws OWLOntologyStorageException, IOException, OWLOntologyCreationException {\r\n\t\t   Configuration config=new Configuration();\r\n\t\t   OntologyManager manager=  OntManagers.createManager(); \r\n\t\t   Ontology inf_ontology = manager.loadOntologyFromOntologyDocument(inferredOntologyFile);\r\n\t\t\tOutputStream outputStream=new FileOutputStream(inferredOntologyFile);\r\n   \r\n\t\t   OWLDataFactory data_factory = ontology.getOWLOntologyManager().getOWLDataFactory();\r\n\r\n\t        OWLReasonerFactory reasoner_factory = new ReasonerFactory();\r\n\t\t\tOWLReasoner reasoner = reasoner_factory.createReasoner(ontology);\r\n\t\t\r\n\t\t\tif (reasoner.isConsistent() == false) {\r\n\t\t\t\tSystem.out.println(&quot;INCONSISTENT ONTOLOGY!&quot;);\r\n\t\t\t}\r\n\r\n\t\t\tInferredOntologyGenerator inference = new  InferredOntologyGenerator(reasoner);\r\n\t\t\t\r\n\t\t\tinference.fillOntology(data_factory, ontology);\r\n\r\n\t\t\tmanager.saveOntology(ontology, new NTriplesDocumentFormat(), outputStream);\r\n\r\n\t\t\treturn ontology;\r\n\t\t\t\r\n\t}\r\n```\r\nowlapi-distribution version: 5.1.14\r\nHermit version: 1.3.8.510\r\n\r\nAlso a very simple test ontology after materialization is here:\r\nhttps://drive.google.com/file/d/1EKm8uD1zuMfIjstCAZMperZFFv4-kCtD/view?usp=sharing \r\n \r\nor you can see it below:\r\n```\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Ontology&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#r&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#r&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#A&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#A&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#B&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#B&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\r\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ReflexiveProperty&gt; .\r\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#SymmetricProperty&gt; .\r\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/2002/07/owl#inverseOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\r\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#q&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\r\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#q&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\r\n```\r\n","title":"OWL API, Hermit materialization","body":"<p>I have two questions:</p>\n<ol>\n<li>What is the reasoner of OWL API? Is it Hermit?\nSo when I have:</li>\n</ol>\n<pre><code>OWLReasonerFactory reasoner_factory = new ReasonerFactory();\nOWLReasoner reasoner = reasoner_factory.createReasoner(ontology);\n</code></pre>\n<p>Which reasoner is called?</p>\n<ol start=\"2\">\n<li>When I perform materialization I also get for any individuals a, b appearing the the ABox the assertion: <code>owl:topObjectProperty(a,b)</code>, which is true, but also redundant, and explodes the size of the KB.</li>\n</ol>\n<p>So how can I prevent this from happening?</p>\n<p>The method I used is as follows:</p>\n<pre><code>public static Ontology materialization(Ontology ontology, File inferredOntologyFile) throws OWLOntologyStorageException, IOException, OWLOntologyCreationException {\n           Configuration config=new Configuration();\n           OntologyManager manager=  OntManagers.createManager(); \n           Ontology inf_ontology = manager.loadOntologyFromOntologyDocument(inferredOntologyFile);\n            OutputStream outputStream=new FileOutputStream(inferredOntologyFile);\n   \n           OWLDataFactory data_factory = ontology.getOWLOntologyManager().getOWLDataFactory();\n\n            OWLReasonerFactory reasoner_factory = new ReasonerFactory();\n            OWLReasoner reasoner = reasoner_factory.createReasoner(ontology);\n        \n            if (reasoner.isConsistent() == false) {\n                System.out.println(&quot;INCONSISTENT ONTOLOGY!&quot;);\n            }\n\n            InferredOntologyGenerator inference = new  InferredOntologyGenerator(reasoner);\n            \n            inference.fillOntology(data_factory, ontology);\n\n            manager.saveOntology(ontology, new NTriplesDocumentFormat(), outputStream);\n\n            return ontology;\n            \n    }\n</code></pre>\n<p>owlapi-distribution version: 5.1.14\nHermit version: 1.3.8.510</p>\n<p>Also a very simple test ontology after materialization is here:\n<a href=\"https://drive.google.com/file/d/1EKm8uD1zuMfIjstCAZMperZFFv4-kCtD/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1EKm8uD1zuMfIjstCAZMperZFFv4-kCtD/view?usp=sharing</a></p>\n<p>or you can see it below:</p>\n<pre><code>&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Ontology&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#r&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#r&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#A&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#A&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#c&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#a&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#NamedIndividual&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#b&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#B&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subClassOf&gt; &lt;http://www.w3.org/2002/07/owl#Thing&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#B&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#Class&gt; .\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ReflexiveProperty&gt; .\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#SymmetricProperty&gt; .\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/2002/07/owl#inverseOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\n&lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#q&gt; &lt;http://www.w3.org/2000/01/rdf-schema#subPropertyOf&gt; &lt;http://www.w3.org/2002/07/owl#topObjectProperty&gt; .\n&lt;http://www.semanticweb.org/savtr/ontologies/2023/6/untitled-ontology-9#q&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2002/07/owl#ObjectProperty&gt; .\n</code></pre>\n"},{"tags":["java","scala","intellij-idea","sbt"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690828142,"post_id":76806237,"comment_id":135404396,"body_markdown":"It should work in the order the jars appear in the classpath, but the classpath order can be different in SBT and IntelliJ IDEA due to bugs or other reasons specific to the way the IDE introspects the dependencies.","body":"It should work in the order the jars appear in the classpath, but the classpath order can be different in SBT and IntelliJ IDEA due to bugs or other reasons specific to the way the IDE introspects the dependencies."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":4,"creation_date":1690828483,"post_id":76806237,"comment_id":135404472,"body_markdown":"This is unspecified AFAIK: you should not rely on classpath order. If you have multiple versions of the same class in the classpath, you&#39;re gonna have trouble. At runtime, from one machine to another, there won&#39;t be any guarantee the order is the same. Get rid of the classes you don&#39;t want in the first place (exclusion from SBT, shading, whatever technique fits you best).","body":"This is unspecified AFAIK: you should not rely on classpath order. If you have multiple versions of the same class in the classpath, you&#39;re gonna have trouble. At runtime, from one machine to another, there won&#39;t be any guarantee the order is the same. Get rid of the classes you don&#39;t want in the first place (exclusion from SBT, shading, whatever technique fits you best)."}],"owner":{"account_id":35769,"reputation":2058,"user_id":101562,"accept_rate":77,"display_name":"Jon Strayer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690832068,"creation_date":1690827785,"question_id":76806237,"body_markdown":"Is there anything that specifies in what order the Scala compiler searches through jar files?\r\n\r\nI ran into a situation where one project I&#39;m working on included three libraries that all included different versions of the same classes.  SBT and Intellij got different results so I believe they are searching the jars in different orders.  Does anyone know what order either of them uses?\r\n\r\nI tried a google search, but that didn&#39;t help.","title":"Scala compiler jar search order","body":"<p>Is there anything that specifies in what order the Scala compiler searches through jar files?</p>\n<p>I ran into a situation where one project I'm working on included three libraries that all included different versions of the same classes.  SBT and Intellij got different results so I believe they are searching the jars in different orders.  Does anyone know what order either of them uses?</p>\n<p>I tried a google search, but that didn't help.</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690752106,"post_id":76799025,"comment_id":135393365,"body_markdown":"How you construct `mDTO2`, `mDTO3`, and `mDTO4`? Are they related in any way?","body":"How you construct <code>mDTO2</code>, <code>mDTO3</code>, and <code>mDTO4</code>? Are they related in any way?"},{"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"score":0,"creation_date":1690759945,"post_id":76799025,"comment_id":135393952,"body_markdown":"The DTO can be a simple object built using ‘new’ operator or using ‘lombok’ builders. I’m building them and returning so that the next flatMap can consume it. I’m lokkingIf there is a better way to share the object across multiple invocations which can also be shared for the error method that is what i’m looking @IgorArtamonov","body":"The DTO can be a simple object built using ‘new’ operator or using ‘lombok’ builders. I’m building them and returning so that the next flatMap can consume it. I’m lokkingIf there is a better way to share the object across multiple invocations which can also be shared for the error method that is what i’m looking @IgorArtamonov"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690763176,"post_id":76799025,"comment_id":135394134,"body_markdown":"I mean, is it different DTOs? Because guess by the variable names it&#39;s different types, and none of them is used after the modification. Like why you call `mDTO3.setApi3Response(api_3_Res)` if `mDTO3` instance is never used after that?","body":"I mean, is it different DTOs? Because guess by the variable names it&#39;s different types, and none of them is used after the modification. Like why you call <code>mDTO3.setApi3Response(api_3_Res)</code> if <code>mDTO3</code> instance is never used after that?"},{"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"score":0,"creation_date":1690771726,"post_id":76799025,"comment_id":135394743,"body_markdown":"Is myDTO1 thread safe in reactor context? Based on what I understood it is not. So creating myDTO in each flatMap operations. @IgorArtamonov","body":"Is myDTO1 thread safe in reactor context? Based on what I understood it is not. So creating myDTO in each flatMap operations. @IgorArtamonov"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690774464,"post_id":76799025,"comment_id":135394928,"body_markdown":"Ah, so, it&#39;s the same DTO then? That was my question, if those DTOs are related or not. The code is incomplete and it&#39;s hard to understand what you&#39;re trying to achieve.","body":"Ah, so, it&#39;s the same DTO then? That was my question, if those DTOs are related or not. The code is incomplete and it&#39;s hard to understand what you&#39;re trying to achieve."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690774616,"post_id":76799025,"comment_id":135394936,"body_markdown":"In this particular case, for the code sample, it doesn&#39;t matter since it&#39;s a very simple logic. But in general you&#39;re right that it&#39;s safer to create a new copy with new values on the each step","body":"In this particular case, for the code sample, it doesn&#39;t matter since it&#39;s a very simple logic. But in general you&#39;re right that it&#39;s safer to create a new copy with new values on the each step"},{"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"score":0,"creation_date":1690776666,"post_id":76799025,"comment_id":135395054,"body_markdown":"@IgorArtamonov the question itself is how to maintain that state?","body":"@IgorArtamonov the question itself is how to maintain that state?"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690814025,"post_id":76799025,"comment_id":135401579,"body_markdown":"You can that as you said, using Lombok or `new`. If you make sure you have no shared state _between steps_ you&#39;re good.","body":"You can that as you said, using Lombok or <code>new</code>. If you make sure you have no shared state <i>between steps</i> you&#39;re good."},{"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"score":0,"creation_date":1690815206,"post_id":76799025,"comment_id":135401869,"body_markdown":"@IgorArtamonov Updated question for more easy understanding","body":"@IgorArtamonov Updated question for more easy understanding"}],"answers":[{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690831696,"creation_date":1690831696,"answer_id":76806634,"question_id":76799025,"body_markdown":"When you need to pass a mutable state between steps it&#39;s better to create a new instance (i.e, have an immutable object) and return a new copy on each step. That ensures you don&#39;t get into a conflicting state when some of the steps repeated or executed in parallel. So you everything correctly by creating a new instance each time. In your case, though, it&#39;s not really necessary because you a simple step-by-step flow with simple Monos.\r\n\r\nThe second, regarding the error handling, is more complex. From my experience, with Reactor it&#39;s very easy to make a mistake and overlook some places to handle an error. \r\n\r\nIn general, I would suggest two approaches. First, you can always create own `Exception` class that would wrap your DTO and original exception:\r\n\r\n    class DtoException extends RuntimeException {\r\n         final DTO dto;\r\n         public DtoException(DTO dto, Throwable cause) {\r\n             this.dto = dtop;\r\n             super(cause);\r\n         }\r\n    }\r\n\r\n    // and then\r\n    \r\n    api.getSomething(dto.getField()).onErrorMap(t -&gt; new DtoException(dto, t))\r\n\r\nAnd then handle it somewhere downstream with `onErrorResume`.\r\n\r\nOr you can write a function to save the state and use it directly:\r\n\r\n    Function&lt;Mono&lt;T&gt;, Mono&lt;T&gt;&gt; saveFailed(dto) {\r\n       return { flow -&gt;\r\n          flow.onErrorResume( t -&gt; { \r\n              dto.save();\r\n              Mono.error(t)\r\n          }\r\n       }\r\n    }\r\n\r\n    // and then:\r\n    \r\n    api.getSomething(dto.getField()).transform(saveFailed(dto))\r\n\r\nThe code above can be replaced with just `Function&lt;Throwable, Mono&lt;DTO&gt;&gt;` and passing it directly to `onErrorResume`, if that&#39;s more readable in your case.\r\n\r\n ","title":"Maintain state object in reactive flow / are the method level objects thread safe when using project reactor Mono or flux","body":"<p>When you need to pass a mutable state between steps it's better to create a new instance (i.e, have an immutable object) and return a new copy on each step. That ensures you don't get into a conflicting state when some of the steps repeated or executed in parallel. So you everything correctly by creating a new instance each time. In your case, though, it's not really necessary because you a simple step-by-step flow with simple Monos.</p>\n<p>The second, regarding the error handling, is more complex. From my experience, with Reactor it's very easy to make a mistake and overlook some places to handle an error.</p>\n<p>In general, I would suggest two approaches. First, you can always create own <code>Exception</code> class that would wrap your DTO and original exception:</p>\n<pre><code>class DtoException extends RuntimeException {\n     final DTO dto;\n     public DtoException(DTO dto, Throwable cause) {\n         this.dto = dtop;\n         super(cause);\n     }\n}\n\n// and then\n\napi.getSomething(dto.getField()).onErrorMap(t -&gt; new DtoException(dto, t))\n</code></pre>\n<p>And then handle it somewhere downstream with <code>onErrorResume</code>.</p>\n<p>Or you can write a function to save the state and use it directly:</p>\n<pre><code>Function&lt;Mono&lt;T&gt;, Mono&lt;T&gt;&gt; saveFailed(dto) {\n   return { flow -&gt;\n      flow.onErrorResume( t -&gt; { \n          dto.save();\n          Mono.error(t)\n      }\n   }\n}\n\n// and then:\n\napi.getSomething(dto.getField()).transform(saveFailed(dto))\n</code></pre>\n<p>The code above can be replaced with just <code>Function&lt;Throwable, Mono&lt;DTO&gt;&gt;</code> and passing it directly to <code>onErrorResume</code>, if that's more readable in your case.</p>\n"}],"owner":{"account_id":3397610,"reputation":1553,"user_id":2850801,"accept_rate":39,"display_name":"Venu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690831696,"creation_date":1690739687,"question_id":76799025,"body_markdown":"I am developing a reactive flow sequence of calls to various API and want to maintain a state object. Is there a way to achieve it using https://projectreactor.io/ ? Below is what I did and what I want to accomplish\r\n\r\n    public Mono&lt;MyDTO&gt; test(AnotherDTO req) {\r\n            MyDTO mDTO1 = new MyDTO(req); // ---&gt; line_1\r\n            // ... some code to update myDTO1 based on req object\r\n            return api_1.get(mDTO1.getName()).flatMap(api_1_Res -&gt; { // ---&gt; 1\r\n                mDTO1.setApi1Response(api_1_Res);\r\n                return Mono.just(mDTO1);\r\n            }).flatMap(monoResp -&gt; {\r\n                // ... some code to get a value from monoResp\r\n                String var = monoResp.getApi1Response().getSomeValue();\r\n                return api_2.get(var).flatMap(api_2_Res -&gt; {\r\n                    monoResp.setApi2Response(api_2_Res);\r\n                    return Mono.just(monoResp);\r\n                });\r\n            }).flatMap(monoResp -&gt; {\r\n                // ... some code to get a value from monoResp\r\n                String var1 = monoResp.getApi1Response().getSomeValue2();\r\n                String var2 = monoResp.getApi2Response().getSomeInt();\r\n                return api_3.get(var1, var2).flatMap(api_3_Res -&gt; {\r\n                    monoResp.setApi3Response(api_3_Res);\r\n                    return Mono.just(monoResp);\r\n                });\r\n            }).flatMap(monoResp -&gt; {\r\n                saveIntoDB(monoResp);\r\n            }).onErrorResume(errRes -&gt; {\r\n                log.error(&quot;exception {}&quot;, errRes.getMessage());\r\n                return Mono.empty();\r\n            });\r\n        }\r\n\r\nQuestions:\r\n\r\n 1. How to maintain the state object so that if an error occurs at any of flatMap actions (1,2,3) the myDTO can contain the state till previous flatMap actions and get an access at onErrorResume?\r\n\r\nOld question:\r\nCan I use the above approach to maintain the state of myDTO\r\nIf an error occurs, how can I get the state of myDTO till the point where the error occurred? like if error occurs at api_2, get the myDTO till api_1 response so that I can save it in DB on error.","title":"Maintain state object in reactive flow / are the method level objects thread safe when using project reactor Mono or flux","body":"<p>I am developing a reactive flow sequence of calls to various API and want to maintain a state object. Is there a way to achieve it using <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">https://projectreactor.io/</a> ? Below is what I did and what I want to accomplish</p>\n<pre><code>public Mono&lt;MyDTO&gt; test(AnotherDTO req) {\n        MyDTO mDTO1 = new MyDTO(req); // ---&gt; line_1\n        // ... some code to update myDTO1 based on req object\n        return api_1.get(mDTO1.getName()).flatMap(api_1_Res -&gt; { // ---&gt; 1\n            mDTO1.setApi1Response(api_1_Res);\n            return Mono.just(mDTO1);\n        }).flatMap(monoResp -&gt; {\n            // ... some code to get a value from monoResp\n            String var = monoResp.getApi1Response().getSomeValue();\n            return api_2.get(var).flatMap(api_2_Res -&gt; {\n                monoResp.setApi2Response(api_2_Res);\n                return Mono.just(monoResp);\n            });\n        }).flatMap(monoResp -&gt; {\n            // ... some code to get a value from monoResp\n            String var1 = monoResp.getApi1Response().getSomeValue2();\n            String var2 = monoResp.getApi2Response().getSomeInt();\n            return api_3.get(var1, var2).flatMap(api_3_Res -&gt; {\n                monoResp.setApi3Response(api_3_Res);\n                return Mono.just(monoResp);\n            });\n        }).flatMap(monoResp -&gt; {\n            saveIntoDB(monoResp);\n        }).onErrorResume(errRes -&gt; {\n            log.error(&quot;exception {}&quot;, errRes.getMessage());\n            return Mono.empty();\n        });\n    }\n</code></pre>\n<p>Questions:</p>\n<ol>\n<li>How to maintain the state object so that if an error occurs at any of flatMap actions (1,2,3) the myDTO can contain the state till previous flatMap actions and get an access at onErrorResume?</li>\n</ol>\n<p>Old question:\nCan I use the above approach to maintain the state of myDTO\nIf an error occurs, how can I get the state of myDTO till the point where the error occurred? like if error occurs at api_2, get the myDTO till api_1 response so that I can save it in DB on error.</p>\n"},{"tags":["java","garbage-collection","heap-memory","oom"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1690834666,"post_id":76806348,"comment_id":135405601,"body_markdown":"Not all OOMs are caused by the shortage of free memory, check that code for example: `int[] a = new int[Integer.MAX_VALUE];`. Another possible case is when JVM understands that it is theoretically not possible to store an object in heap, for example for you sizing (`-Xmx2400m`) `new int[Integer.MAX_VALUE - 2]` will trigger OOM as well.","body":"Not all OOMs are caused by the shortage of free memory, check that code for example: <code>int[] a = new int[Integer.MAX_VALUE];</code>. Another possible case is when JVM understands that it is theoretically not possible to store an object in heap, for example for you sizing (<code>-Xmx2400m</code>) <code>new int[Integer.MAX_VALUE - 2]</code> will trigger OOM as well."},{"owner":{"account_id":7646809,"reputation":13,"user_id":5797176,"display_name":"user5797176"},"score":0,"creation_date":1690844773,"post_id":76806348,"comment_id":135406889,"body_markdown":"understand, I don&#39;t think we have any such data that can result in this, but I will double check","body":"understand, I don&#39;t think we have any such data that can result in this, but I will double check"}],"answers":[{"tags":[],"owner":{"account_id":5633827,"reputation":36,"user_id":4459920,"display_name":"Josef Ludv&#237;ček"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690829662,"creation_date":1690829662,"answer_id":76806448,"question_id":76806348,"body_markdown":"Im guessing you did configure also resoucce limits (memory) on the pod right?\r\n\r\nOOM usually happens when jvm (actually any process in the container) allocates more memory then is allowed.\r\n\r\nOlder but related thread https://stackoverflow.com/a/53278161/4459920\r\n - if you can, fiddle just with maxrampercentage and resource limits","title":"Heapdump file generated is very small in size when the pod goes Heap Out of Memory (OOM)","body":"<p>Im guessing you did configure also resoucce limits (memory) on the pod right?</p>\n<p>OOM usually happens when jvm (actually any process in the container) allocates more memory then is allowed.</p>\n<p>Older but related thread <a href=\"https://stackoverflow.com/a/53278161/4459920\">https://stackoverflow.com/a/53278161/4459920</a></p>\n<ul>\n<li>if you can, fiddle just with maxrampercentage and resource limits</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5633827,"reputation":36,"user_id":4459920,"display_name":"Josef Ludv&#237;ček"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690831627,"creation_date":1690831627,"answer_id":76806627,"question_id":76806348,"body_markdown":"Just to doublecheck - what does your kubectl describe pod say? \r\n\r\nIs the exit reason is OOMKilled (k8s killed the pod for using more than memory limit) or something else? \r\nFor me the source of java memory issues in k8s is usually misconfiguration of jvm flags and k8s resouce limits which results to OOMKilled. Usually the problem was somewhere else then too much heap used.\r\n\r\nIf you&#39;re actually hitting out of memory error in JVM heap and your kill options take place, then Im sorry for spam.","title":"Heapdump file generated is very small in size when the pod goes Heap Out of Memory (OOM)","body":"<p>Just to doublecheck - what does your kubectl describe pod say?</p>\n<p>Is the exit reason is OOMKilled (k8s killed the pod for using more than memory limit) or something else?\nFor me the source of java memory issues in k8s is usually misconfiguration of jvm flags and k8s resouce limits which results to OOMKilled. Usually the problem was somewhere else then too much heap used.</p>\n<p>If you're actually hitting out of memory error in JVM heap and your kill options take place, then Im sorry for spam.</p>\n"}],"owner":{"account_id":7646809,"reputation":13,"user_id":5797176,"display_name":"user5797176"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690831627,"creation_date":1690828728,"question_id":76806348,"body_markdown":"We have a kubernetes pod going out of memory very frequently, but the heapdump file that gets generated during OOM is only 200 MB while Xmx and Xms are defined at 2400 MB. So it looks like GC is able to clean the objects and bring down the heap when OOM is signalled. If that is the case I am not able to understand why jvm still goes and kills the pod even though heap usage went down after GC (as per the heap dump).\r\n\r\nHere are the jvm parameters:\r\n\r\n-XX:HeapDumpPath=xxx\r\n-Xmx2400m\r\n-Xms2400m\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n-XX:+UseG1GC -XX:CICompilerCount=4 -XX:MaxGCPauseMillis=1000 -XX:+DisableExplicitGC -XX:ParallelGCThreads=4\r\n-XX:OnOutOfMemoryError=kill -9 %p\r\n\r\n\r\n\r\nI expected that the pod does not get killed since GC is probably able to clean the heap objects","title":"Heapdump file generated is very small in size when the pod goes Heap Out of Memory (OOM)","body":"<p>We have a kubernetes pod going out of memory very frequently, but the heapdump file that gets generated during OOM is only 200 MB while Xmx and Xms are defined at 2400 MB. So it looks like GC is able to clean the objects and bring down the heap when OOM is signalled. If that is the case I am not able to understand why jvm still goes and kills the pod even though heap usage went down after GC (as per the heap dump).</p>\n<p>Here are the jvm parameters:</p>\n<p>-XX:HeapDumpPath=xxx\n-Xmx2400m\n-Xms2400m\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+UseG1GC -XX:CICompilerCount=4 -XX:MaxGCPauseMillis=1000 -XX:+DisableExplicitGC -XX:ParallelGCThreads=4\n-XX:OnOutOfMemoryError=kill -9 %p</p>\n<p>I expected that the pod does not get killed since GC is probably able to clean the heap objects</p>\n"},{"tags":["java","spring-boot","rest","spring-webflux","reactive-programming"],"answers":[{"tags":[],"owner":{"account_id":3145385,"reputation":883,"user_id":2659962,"display_name":"Akhilesh Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690826439,"creation_date":1690824589,"answer_id":76805915,"question_id":76805689,"body_markdown":"The issue is that the Flips are subscribing to the `Sinks.Many` Flux inside the aggregate method which is not the expected behavior since you are using `subscribeOn(Schedulers.boundedElastic())` again inside aggregate method this may be causing your `Flux` to complete and cancel your Sinks. `subscribeOn` call should ideally be at the initialization phase only and not during each call to the aggregate method. you can try below one , \r\n\r\n```\r\n@Service\r\npublic class MyAggregationService {\r\n\r\n    @Autowired\r\n    private PricingClient pricingClient;\r\n    @Autowired\r\n    private TrackClient trackClient;\r\n    @Autowired\r\n    private ShipmentsClient shipmentsClient;\r\n\r\n    private final Sinks.Many&lt;List&lt;String&gt;&gt; pricingSink = Sinks.many().replay().all();\r\n    private final Sinks.Many&lt;List&lt;String&gt;&gt; trackSink = Sinks.many().replay().all();\r\n    private final Sinks.Many&lt;List&lt;String&gt;&gt; shipmentsSink = Sinks.many().replay().all();\r\n\r\n    private final Flux&lt;List&lt;Mono&lt;Map&lt;String, Optional&lt;Float&gt;&gt;&gt;&gt;&gt; pricingFlux;\r\n    private final Flux&lt;List&lt;Mono&lt;Map&lt;String, Optional&lt;String&gt;&gt;&gt;&gt;&gt; trackFlux;\r\n    private final Flux&lt;List&lt;Mono&lt;Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; shipmentsFlux;\r\n\r\n    public MyAggregationService() {\r\n        pricingFlux = pricingSink.asFlux()\r\n                .flatMapIterable(Function.identity())\r\n                .buffer(5)\r\n                .map(pricingList -&gt; pricingClient.getPricing(pricingList));\r\n\r\n        trackFlux = trackSink.asFlux()\r\n                .flatMapIterable(Function.identity())\r\n                .buffer(5)\r\n                .map(trackList -&gt; trackClient.getTrack(trackList));\r\n\r\n        shipmentsFlux = shipmentsSink.asFlux()\r\n                .flatMapIterable(Function.identity())\r\n                .buffer(5)\r\n                .map(shipmentsList -&gt; shipmentsClient.getShipment(shipmentsList));\r\n    }\r\n\r\n    public Flux&lt;AggregateResult&gt; aggregate(Optional&lt;List&lt;String&gt;&gt; pricing,\r\n                                           Optional&lt;List&lt;String&gt;&gt; track,\r\n                                           Optional&lt;List&lt;String&gt;&gt; shipments) {\r\n\r\n        pricing.filter(not(List::isEmpty)).ifPresent(l -&gt; pricingSink.tryEmitNext(l));\r\n        track.filter(not(List::isEmpty)).ifPresent(l -&gt; trackSink.tryEmitNext(l));\r\n        shipments.filter(not(List::isEmpty)).ifPresent(l -&gt; shipmentsSink.tryEmitNext(l));\r\n\r\n        return Flux.zip(pricingFlux, trackFlux, shipmentsFlux)\r\n                .flatMap(tuple -&gt; Mono.zip(tuple.getT1(), tuple.getT2(), tuple.getT3())\r\n                        .map(t -&gt; new AggregateResult(t.getT1(), t.getT2(), t.getT3())));\r\n    }\r\n}\r\n\r\n```\r\n\r\n`setUp` method directly subscribes to the Sinks. Many Flux and buffers incoming elements into a list of size 5 before making a call to each service. The aggregate method will only push the new parameters into each Sink and will not subscribe to them again. Also,`buffer(5)` method used here will only emit items when it accumulates 5 items in the buffer. If system can tolerate some delay, you can consider using the `bufferTimeout(5, Duration.of(5, SECONDS))` to emit items even if they do not reach 5 items in the buffer within the provided duration. `Mono.zip` in aggregate will combine the most recent published elements from each Mono. it might not behave as you expect if calls to these methods do not always complete in the same order. \r\n\r\nThis will fix the issue with the cancellation of the sinks after one call, since the sinks are now subscribed only once and the subscription is not cancelled after the first call. ","title":"Buffered and Reactive aggregation service","body":"<p>The issue is that the Flips are subscribing to the <code>Sinks.Many</code> Flux inside the aggregate method which is not the expected behavior since you are using <code>subscribeOn(Schedulers.boundedElastic())</code> again inside aggregate method this may be causing your <code>Flux</code> to complete and cancel your Sinks. <code>subscribeOn</code> call should ideally be at the initialization phase only and not during each call to the aggregate method. you can try below one ,</p>\n<pre><code>@Service\npublic class MyAggregationService {\n\n    @Autowired\n    private PricingClient pricingClient;\n    @Autowired\n    private TrackClient trackClient;\n    @Autowired\n    private ShipmentsClient shipmentsClient;\n\n    private final Sinks.Many&lt;List&lt;String&gt;&gt; pricingSink = Sinks.many().replay().all();\n    private final Sinks.Many&lt;List&lt;String&gt;&gt; trackSink = Sinks.many().replay().all();\n    private final Sinks.Many&lt;List&lt;String&gt;&gt; shipmentsSink = Sinks.many().replay().all();\n\n    private final Flux&lt;List&lt;Mono&lt;Map&lt;String, Optional&lt;Float&gt;&gt;&gt;&gt;&gt; pricingFlux;\n    private final Flux&lt;List&lt;Mono&lt;Map&lt;String, Optional&lt;String&gt;&gt;&gt;&gt;&gt; trackFlux;\n    private final Flux&lt;List&lt;Mono&lt;Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; shipmentsFlux;\n\n    public MyAggregationService() {\n        pricingFlux = pricingSink.asFlux()\n                .flatMapIterable(Function.identity())\n                .buffer(5)\n                .map(pricingList -&gt; pricingClient.getPricing(pricingList));\n\n        trackFlux = trackSink.asFlux()\n                .flatMapIterable(Function.identity())\n                .buffer(5)\n                .map(trackList -&gt; trackClient.getTrack(trackList));\n\n        shipmentsFlux = shipmentsSink.asFlux()\n                .flatMapIterable(Function.identity())\n                .buffer(5)\n                .map(shipmentsList -&gt; shipmentsClient.getShipment(shipmentsList));\n    }\n\n    public Flux&lt;AggregateResult&gt; aggregate(Optional&lt;List&lt;String&gt;&gt; pricing,\n                                           Optional&lt;List&lt;String&gt;&gt; track,\n                                           Optional&lt;List&lt;String&gt;&gt; shipments) {\n\n        pricing.filter(not(List::isEmpty)).ifPresent(l -&gt; pricingSink.tryEmitNext(l));\n        track.filter(not(List::isEmpty)).ifPresent(l -&gt; trackSink.tryEmitNext(l));\n        shipments.filter(not(List::isEmpty)).ifPresent(l -&gt; shipmentsSink.tryEmitNext(l));\n\n        return Flux.zip(pricingFlux, trackFlux, shipmentsFlux)\n                .flatMap(tuple -&gt; Mono.zip(tuple.getT1(), tuple.getT2(), tuple.getT3())\n                        .map(t -&gt; new AggregateResult(t.getT1(), t.getT2(), t.getT3())));\n    }\n}\n\n</code></pre>\n<p><code>setUp</code> method directly subscribes to the Sinks. Many Flux and buffers incoming elements into a list of size 5 before making a call to each service. The aggregate method will only push the new parameters into each Sink and will not subscribe to them again. Also,<code>buffer(5)</code> method used here will only emit items when it accumulates 5 items in the buffer. If system can tolerate some delay, you can consider using the <code>bufferTimeout(5, Duration.of(5, SECONDS))</code> to emit items even if they do not reach 5 items in the buffer within the provided duration. <code>Mono.zip</code> in aggregate will combine the most recent published elements from each Mono. it might not behave as you expect if calls to these methods do not always complete in the same order.</p>\n<p>This will fix the issue with the cancellation of the sinks after one call, since the sinks are now subscribed only once and the subscription is not cancelled after the first call.</p>\n"}],"owner":{"account_id":3103750,"reputation":151,"user_id":2627156,"accept_rate":46,"display_name":"user2627156"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690830910,"creation_date":1690822474,"question_id":76805689,"body_markdown":"I am working on a buffered aggregation service.\r\nThe aggregation service calls 3 different services (let&#39;s call then s1, s2 and s3) and returns aggregated result.\r\nThe aggregation service is itself called by client passing parameters that will be used to call s1, s2 and s3.\r\nTo avoid overwhelming s1, s2 and s3 with calls , we buffer the calls. \r\nWe accumulate the parameters for each service till we reach 5 params at least. Once we accumulate 5 params for a service we emit the call and get the result. The aggregated result will be returned only if the 3 services were called and returned a result.\r\n\r\nHere is my reactive implementation :\r\n\r\n    @Service\r\n    public class MyAggregationService {\r\n    \r\n        @Autowired\r\n        private PricingClient pricingClient;\r\n        @Autowired\r\n        private TrackClient trackClient;\r\n        @Autowired\r\n        private ShipmentsClient shipmentsClient;\r\n    \r\n        private final Many&lt;List&lt;String&gt;&gt; pricingSink;\r\n        private final Many&lt;List&lt;String&gt;&gt; trackSink;\r\n        private final Many&lt;List&lt;String&gt;&gt; shipmentsSink;\r\n        Flux&lt;Mono&lt;Map&lt;String, Optional&lt;Float&gt;&gt;&gt;&gt; pricingMonoFlux;\r\n        Flux&lt;Mono&lt;Map&lt;String, Optional&lt;String&gt;&gt;&gt;&gt; trackMonoFlux;\r\n        Flux&lt;Mono&lt;Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; shipmentsMonoFlux;\r\n    \r\n        public MyAggregationService() {\r\n            pricingSink = Sinks.many().multicast().onBackpressureBuffer();\r\n            trackSink = Sinks.many().multicast().onBackpressureBuffer();\r\n            shipmentsSink = Sinks.many().multicast().onBackpressureBuffer();\r\n    \r\n        }\r\n    \r\n        @PostConstruct\r\n        public void setUp() {\r\n            pricingMonoFlux = pricingSink.asFlux().log().flatMapIterable(Function.identity())\r\n                    .bufferTimeout(5, Duration.of(5, SECONDS))\r\n                    .publishOn(Schedulers.boundedElastic())\r\n                    .map(pricingClient::getPricing)\r\n                    .subscribeOn(Schedulers.boundedElastic());\r\n    \r\n            trackMonoFlux = trackSink.asFlux().log().flatMapIterable(Function.identity())\r\n                    .bufferTimeout(5, Duration.of(5, SECONDS))\r\n                    .publishOn(Schedulers.boundedElastic())\r\n                    .map(trackClient::getTrack)\r\n                    .subscribeOn(Schedulers.boundedElastic());\r\n    \r\n            shipmentsMonoFlux = shipmentsSink.asFlux().log().flatMapIterable(Function.identity())\r\n                    .bufferTimeout(5, Duration.of(5, SECONDS))\r\n                    .publishOn(Schedulers.boundedElastic())\r\n                    .map(shipmentsClient::getShipment)\r\n                    .subscribeOn(Schedulers.boundedElastic());\r\n        }\r\n    \r\n        public Mono&lt;AggregateResult&gt; aggregate(Optional&lt;List&lt;String&gt;&gt; pricing,\r\n                                               Optional&lt;List&lt;String&gt;&gt; track,\r\n                                               Optional&lt;List&lt;String&gt;&gt; shipments) {\r\n    \r\n    \r\n            pricing.filter(not(List::isEmpty)).ifPresent(l -&gt; pricingSink.tryEmitNext(l));\r\n            track.filter(not(List::isEmpty)).ifPresent(l -&gt; trackSink.tryEmitNext(l));\r\n            shipments.filter(not(List::isEmpty)).ifPresent(l -&gt; shipmentsSink.tryEmitNext(l));\r\n    \r\n            pricingMonoFlux.subscribeOn(Schedulers.boundedElastic());\r\n            shipmentsMonoFlux.subscribeOn(Schedulers.boundedElastic());\r\n            trackMonoFlux.subscribeOn(Schedulers.boundedElastic());\r\n    \r\n    \r\n            var zipped = Flux.zip(pricingMonoFlux, trackMonoFlux, shipmentsMonoFlux);\r\n            Mono&lt;AggregateResult&gt; next = zipped\r\n                    .flatMap(t -&gt; getZip(t))\r\n                    .map(t -&gt; new AggregateResult(t.getT1(), t.getT2(), t.getT3()))\r\n                    .next();\r\n            return next;\r\n        }\r\n    \r\n        private static Mono&lt;Tuple3&lt;Map&lt;String, Optional&lt;Float&gt;&gt;, Map&lt;String, Optional&lt;String&gt;&gt;, Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; getZip(Tuple3&lt;Mono&lt;Map&lt;String, Optional&lt;Float&gt;&gt;&gt;, Mono&lt;Map&lt;String, Optional&lt;String&gt;&gt;&gt;, Mono&lt;Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; t) {\r\n            return Mono.zip(t.getT1(), t.getT2(), t.getT3());\r\n        }\r\n\r\n}\r\n\r\n\r\nI used 3 sinks (one for the params of each service) and used the buffer function.\r\nThe issue here is the sinks get canceled after one call.\r\n\r\nWhat can be the solution here?\r\n\r\n","title":"Buffered and Reactive aggregation service","body":"<p>I am working on a buffered aggregation service.\nThe aggregation service calls 3 different services (let's call then s1, s2 and s3) and returns aggregated result.\nThe aggregation service is itself called by client passing parameters that will be used to call s1, s2 and s3.\nTo avoid overwhelming s1, s2 and s3 with calls , we buffer the calls.\nWe accumulate the parameters for each service till we reach 5 params at least. Once we accumulate 5 params for a service we emit the call and get the result. The aggregated result will be returned only if the 3 services were called and returned a result.</p>\n<p>Here is my reactive implementation :</p>\n<pre><code>@Service\npublic class MyAggregationService {\n\n    @Autowired\n    private PricingClient pricingClient;\n    @Autowired\n    private TrackClient trackClient;\n    @Autowired\n    private ShipmentsClient shipmentsClient;\n\n    private final Many&lt;List&lt;String&gt;&gt; pricingSink;\n    private final Many&lt;List&lt;String&gt;&gt; trackSink;\n    private final Many&lt;List&lt;String&gt;&gt; shipmentsSink;\n    Flux&lt;Mono&lt;Map&lt;String, Optional&lt;Float&gt;&gt;&gt;&gt; pricingMonoFlux;\n    Flux&lt;Mono&lt;Map&lt;String, Optional&lt;String&gt;&gt;&gt;&gt; trackMonoFlux;\n    Flux&lt;Mono&lt;Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; shipmentsMonoFlux;\n\n    public MyAggregationService() {\n        pricingSink = Sinks.many().multicast().onBackpressureBuffer();\n        trackSink = Sinks.many().multicast().onBackpressureBuffer();\n        shipmentsSink = Sinks.many().multicast().onBackpressureBuffer();\n\n    }\n\n    @PostConstruct\n    public void setUp() {\n        pricingMonoFlux = pricingSink.asFlux().log().flatMapIterable(Function.identity())\n                .bufferTimeout(5, Duration.of(5, SECONDS))\n                .publishOn(Schedulers.boundedElastic())\n                .map(pricingClient::getPricing)\n                .subscribeOn(Schedulers.boundedElastic());\n\n        trackMonoFlux = trackSink.asFlux().log().flatMapIterable(Function.identity())\n                .bufferTimeout(5, Duration.of(5, SECONDS))\n                .publishOn(Schedulers.boundedElastic())\n                .map(trackClient::getTrack)\n                .subscribeOn(Schedulers.boundedElastic());\n\n        shipmentsMonoFlux = shipmentsSink.asFlux().log().flatMapIterable(Function.identity())\n                .bufferTimeout(5, Duration.of(5, SECONDS))\n                .publishOn(Schedulers.boundedElastic())\n                .map(shipmentsClient::getShipment)\n                .subscribeOn(Schedulers.boundedElastic());\n    }\n\n    public Mono&lt;AggregateResult&gt; aggregate(Optional&lt;List&lt;String&gt;&gt; pricing,\n                                           Optional&lt;List&lt;String&gt;&gt; track,\n                                           Optional&lt;List&lt;String&gt;&gt; shipments) {\n\n\n        pricing.filter(not(List::isEmpty)).ifPresent(l -&gt; pricingSink.tryEmitNext(l));\n        track.filter(not(List::isEmpty)).ifPresent(l -&gt; trackSink.tryEmitNext(l));\n        shipments.filter(not(List::isEmpty)).ifPresent(l -&gt; shipmentsSink.tryEmitNext(l));\n\n        pricingMonoFlux.subscribeOn(Schedulers.boundedElastic());\n        shipmentsMonoFlux.subscribeOn(Schedulers.boundedElastic());\n        trackMonoFlux.subscribeOn(Schedulers.boundedElastic());\n\n\n        var zipped = Flux.zip(pricingMonoFlux, trackMonoFlux, shipmentsMonoFlux);\n        Mono&lt;AggregateResult&gt; next = zipped\n                .flatMap(t -&gt; getZip(t))\n                .map(t -&gt; new AggregateResult(t.getT1(), t.getT2(), t.getT3()))\n                .next();\n        return next;\n    }\n\n    private static Mono&lt;Tuple3&lt;Map&lt;String, Optional&lt;Float&gt;&gt;, Map&lt;String, Optional&lt;String&gt;&gt;, Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; getZip(Tuple3&lt;Mono&lt;Map&lt;String, Optional&lt;Float&gt;&gt;&gt;, Mono&lt;Map&lt;String, Optional&lt;String&gt;&gt;&gt;, Mono&lt;Map&lt;String, Optional&lt;List&lt;String&gt;&gt;&gt;&gt;&gt; t) {\n        return Mono.zip(t.getT1(), t.getT2(), t.getT3());\n    }\n</code></pre>\n<p>}</p>\n<p>I used 3 sinks (one for the params of each service) and used the buffer function.\nThe issue here is the sinks get canceled after one call.</p>\n<p>What can be the solution here?</p>\n"},{"tags":["java","spring","spring-boot","mongotemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690829081,"post_id":76806107,"comment_id":135404611,"body_markdown":"You are doing something wrong. You want to add beans to the context very very early without any beans being available (as you are still operating on the `BeanRegistry` not on bean instances). At that point Spring Boot hasn&#39;t even read or applied the configuration nor has created any beans. What you should do is make a lazy reference to the `MongoTemplate`. Instead of using `registerSingleton` you should be building `BeanDefinition` s with the wiring information, Spring will later on do the actual wiring and instantitation.","body":"You are doing something wrong. You want to add beans to the context very very early without any beans being available (as you are still operating on the <code>BeanRegistry</code> not on bean instances). At that point Spring Boot hasn&#39;t even read or applied the configuration nor has created any beans. What you should do is make a lazy reference to the <code>MongoTemplate</code>. Instead of using <code>registerSingleton</code> you should be building <code>BeanDefinition</code> s with the wiring information, Spring will later on do the actual wiring and instantitation."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690830763,"creation_date":1690830763,"answer_id":76806567,"question_id":76806107,"body_markdown":"You should be registering `BeanDefinition` instances and not actual beans. The `BeanDefinitionRegistryPostProcessor` operates very very early in the process, no configuration has been applied yet nor have any beans been constructed. Trying to access beans in that phase will not work. \r\n\r\nWhich is the same reason autowiring won&#39;t work in these kind of classes. What you should do instead is register `BeanDefinition` instances and let Spring do the heave lifting of constructing it and managing its lifecycle. \r\n\r\n```java\r\npublic void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n    Reflections reflections = new Reflections(&quot;phoenixit.proto&quot;);\r\n    Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\r\n    \r\n\r\n    lockableEntities.forEach(clazz -&gt; {\r\n        var lockRepositoryDefinition = BeanDefinitionBuilder.rootBeanDefinition(CommonGenericLockRepositoryImpl.class).addConstructorArgReference(&quot;mongoTemplate&quot;).addConstructorArgValue(clazzz).getBeanDefinition();\r\n    var name = createBeanName(clazz.getSimpleName()) + &quot;Generic&quot;;\r\n  registry.registerBeanDefinition(name, lockRepositoryDefinition);\r\n\r\n   var mongoLockServiceDef = BeanDefinitionBuilder.rootBeanDefinition(MongoLockService.class)\r\n.addConstructorArgReference(name).getBeanDefinition();\r\n    var name2 = createBeanName(clazz.getSimpleName());\r\n    registry.registerBeanDefinition(name, mongoLockServiceDef);\r\n    });\r\n}\r\n```\r\n\r\nSomething along those line. \r\n\r\nAnother option is to write an `ApplicationContextInitializer` and use a more functional approach. \r\n\r\n```java\r\npublic class MyApplicationContextInitializer implements ApplicationContextInitializer&lt;GenericApplicationContext&gt; {\r\n\r\n  public void initialize(GenericApplicationContext ctx) {\r\n    Reflections reflections = new Reflections(&quot;phoenixit.proto&quot;);\r\n    Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\r\n\r\n    lockableEntities.forEach(clazz -&gt; {\r\n      var name = createBeanName(clazz.getSimpleName());\r\n      ctx.registerBean(name + &quot;Generic&quot;, CommonGenericLockRepository.class, () -&gt; {\r\n        MongoTemplate mongo = ctx.getBean(MongoTemplate.class);\r\n        return new CommonGenericLockRepositoryImpl.class(mongo, class);\r\n      });\r\n\r\n      ctx.registerBean(name, MongoLockService.class, () -&gt; {\r\n        CommonGenericLockRepository repo = ctx.getBean(name + &quot;Generic&quot;, CommonGenericLockRepository.class);\r\n        return new MongoLockService(repo);\r\n      });\r\n \r\n    });\r\n  }\r\n}\r\n```\r\nYou now also need a `spring.factories` in `META-INF/spring` of your project which registers this `MyApplicationContextInitializer`.\r\n\r\n```\r\norg.springframework.context.ApplicationContextInitializer=&lt;your.package.here&gt;.MyApplicationContextInitializer\r\n```","title":"Spring MongoTemplate changes connect settings after accessing it on bootstrap","body":"<p>You should be registering <code>BeanDefinition</code> instances and not actual beans. The <code>BeanDefinitionRegistryPostProcessor</code> operates very very early in the process, no configuration has been applied yet nor have any beans been constructed. Trying to access beans in that phase will not work.</p>\n<p>Which is the same reason autowiring won't work in these kind of classes. What you should do instead is register <code>BeanDefinition</code> instances and let Spring do the heave lifting of constructing it and managing its lifecycle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n    Reflections reflections = new Reflections(&quot;phoenixit.proto&quot;);\n    Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\n    \n\n    lockableEntities.forEach(clazz -&gt; {\n        var lockRepositoryDefinition = BeanDefinitionBuilder.rootBeanDefinition(CommonGenericLockRepositoryImpl.class).addConstructorArgReference(&quot;mongoTemplate&quot;).addConstructorArgValue(clazzz).getBeanDefinition();\n    var name = createBeanName(clazz.getSimpleName()) + &quot;Generic&quot;;\n  registry.registerBeanDefinition(name, lockRepositoryDefinition);\n\n   var mongoLockServiceDef = BeanDefinitionBuilder.rootBeanDefinition(MongoLockService.class)\n.addConstructorArgReference(name).getBeanDefinition();\n    var name2 = createBeanName(clazz.getSimpleName());\n    registry.registerBeanDefinition(name, mongoLockServiceDef);\n    });\n}\n</code></pre>\n<p>Something along those line.</p>\n<p>Another option is to write an <code>ApplicationContextInitializer</code> and use a more functional approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyApplicationContextInitializer implements ApplicationContextInitializer&lt;GenericApplicationContext&gt; {\n\n  public void initialize(GenericApplicationContext ctx) {\n    Reflections reflections = new Reflections(&quot;phoenixit.proto&quot;);\n    Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\n\n    lockableEntities.forEach(clazz -&gt; {\n      var name = createBeanName(clazz.getSimpleName());\n      ctx.registerBean(name + &quot;Generic&quot;, CommonGenericLockRepository.class, () -&gt; {\n        MongoTemplate mongo = ctx.getBean(MongoTemplate.class);\n        return new CommonGenericLockRepositoryImpl.class(mongo, class);\n      });\n\n      ctx.registerBean(name, MongoLockService.class, () -&gt; {\n        CommonGenericLockRepository repo = ctx.getBean(name + &quot;Generic&quot;, CommonGenericLockRepository.class);\n        return new MongoLockService(repo);\n      });\n \n    });\n  }\n}\n</code></pre>\n<p>You now also need a <code>spring.factories</code> in <code>META-INF/spring</code> of your project which registers this <code>MyApplicationContextInitializer</code>.</p>\n<pre><code>org.springframework.context.ApplicationContextInitializer=&lt;your.package.here&gt;.MyApplicationContextInitializer\n</code></pre>\n"}],"owner":{"account_id":19620770,"reputation":25,"user_id":16595083,"display_name":"iamzexy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76806567,"answer_count":1,"score":0,"last_activity_date":1690830763,"creation_date":1690826585,"question_id":76806107,"body_markdown":"I need to add multiple beans in Spring context manually on bootstrap. Those beans require MongoTemplate bean to work. Also, this code is in starter. First, I&#39;ve used an approach with BeanDefinitionRegistryPostProcessor, where I try to get MT bean from beanFactory, but soon I&#39;ve discovered, that this MT has default settings, such as localhost:27017 and so.\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        Reflections reflections = new Reflections();\r\n        Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\r\n        MongoTemplate mongoTemplate = beanFactory.getBean(MongoTemplate.class);\r\n\r\n        lockableEntities.forEach(clazz -&gt; {\r\n            CommonGenericLockRepositoryImpl repository = new CommonGenericLockRepositoryImpl(mongoTemplate, clazz);\r\n            MongoLockService mongoLockService = new MongoLockServiceImpl(repository);\r\n            beanFactory.registerSingleton(createBeanName(clazz.getSimpleName()), mongoLockService);\r\n        });\r\n    }\r\n\r\n Then I&#39;ve tried to @Autowire MT into RegistryBPP, but it was null.\r\n\r\n    private final MongoTemplate mongoTemplate;\r\n\r\n    @Override\r\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n    }\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        Reflections reflections = new Reflections(&quot;phoenixit.proto&quot;);\r\n        Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\r\n        MongoTemplate mongoTemplate = beanFactory.getBean(MongoTemplate.class);\r\n\r\n        lockableEntities.forEach(clazz -&gt; {\r\n            CommonGenericLockRepositoryImpl repository = new CommonGenericLockRepositoryImpl(mongoTemplate, clazz);\r\n            MongoLockService mongoLockService = new MongoLockServiceImpl(repository);\r\n            beanFactory.registerSingleton(createBeanName(clazz.getSimpleName()), mongoLockService);\r\n        });\r\n    }\r\n\r\n\r\n Finally, I used @Autowire on method parameter in @Configuration class, which again resulted in default MT configuration\r\n```\r\n@AutoConfiguration\r\npublic class MongoLockConfig {\r\n\r\n@Bean\r\n    public MongoLockBeanDefinitionRegistryPostProcessor mongoLockBeanDefinitionRegistryPostProcessor(@Autowired MongoTemplate mongoTemplate) {\r\n        return new MongoLockBeanDefinitionRegistryPostProcessor(mongoTemplate);\r\n    }\r\n}\r\n```\r\n\r\nAfter that, I removed every piece of code that accessed MT bean, and restarted the project. And now my properties from .yml file was used. I&#39;ve tried @DependsOn and @ConditionalOnBean, but it seems to me that if I want to use MongoTemplate bean earlier, that it is configured by itself, Spring just configures it ignoring .yml properties.\r\n\r\nIs it bugged, or I&#39;m doing something wrong? Maybe you can suggest another approach of adding beans?","title":"Spring MongoTemplate changes connect settings after accessing it on bootstrap","body":"<p>I need to add multiple beans in Spring context manually on bootstrap. Those beans require MongoTemplate bean to work. Also, this code is in starter. First, I've used an approach with BeanDefinitionRegistryPostProcessor, where I try to get MT bean from beanFactory, but soon I've discovered, that this MT has default settings, such as localhost:27017 and so.</p>\n<pre><code>@Override\npublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    Reflections reflections = new Reflections();\n    Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\n    MongoTemplate mongoTemplate = beanFactory.getBean(MongoTemplate.class);\n\n    lockableEntities.forEach(clazz -&gt; {\n        CommonGenericLockRepositoryImpl repository = new CommonGenericLockRepositoryImpl(mongoTemplate, clazz);\n        MongoLockService mongoLockService = new MongoLockServiceImpl(repository);\n        beanFactory.registerSingleton(createBeanName(clazz.getSimpleName()), mongoLockService);\n    });\n}\n</code></pre>\n<p>Then I've tried to @Autowire MT into RegistryBPP, but it was null.</p>\n<pre><code>private final MongoTemplate mongoTemplate;\n\n@Override\npublic void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n}\n\n@Override\npublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    Reflections reflections = new Reflections(&quot;phoenixit.proto&quot;);\n    Set&lt;Class&lt;? extends LockableObject&gt;&gt; lockableEntities = reflections.getSubTypesOf(LockableObject.class);\n    MongoTemplate mongoTemplate = beanFactory.getBean(MongoTemplate.class);\n\n    lockableEntities.forEach(clazz -&gt; {\n        CommonGenericLockRepositoryImpl repository = new CommonGenericLockRepositoryImpl(mongoTemplate, clazz);\n        MongoLockService mongoLockService = new MongoLockServiceImpl(repository);\n        beanFactory.registerSingleton(createBeanName(clazz.getSimpleName()), mongoLockService);\n    });\n}\n</code></pre>\n<p>Finally, I used @Autowire on method parameter in @Configuration class, which again resulted in default MT configuration</p>\n<pre><code>@AutoConfiguration\npublic class MongoLockConfig {\n\n@Bean\n    public MongoLockBeanDefinitionRegistryPostProcessor mongoLockBeanDefinitionRegistryPostProcessor(@Autowired MongoTemplate mongoTemplate) {\n        return new MongoLockBeanDefinitionRegistryPostProcessor(mongoTemplate);\n    }\n}\n</code></pre>\n<p>After that, I removed every piece of code that accessed MT bean, and restarted the project. And now my properties from .yml file was used. I've tried @DependsOn and @ConditionalOnBean, but it seems to me that if I want to use MongoTemplate bean earlier, that it is configured by itself, Spring just configures it ignoring .yml properties.</p>\n<p>Is it bugged, or I'm doing something wrong? Maybe you can suggest another approach of adding beans?</p>\n"},{"tags":["java","spring","jpa","junit","h2"],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690830302,"creation_date":1690808794,"answer_id":76803942,"question_id":76803555,"body_markdown":"According to the [documentation][1], for settings the SCHEMA you need to execute the command `SET SCHEMA &lt;name&gt;`. In your example, it will look like this:\r\n\r\n- `jdbc:h2:mem:db;SET SCHEMA working;DB_CLOSE_DELAY=-1`\r\n\r\nBut H2 knows nothing about the schema `working`. It only knows about the default schema `PUBLIC`. To help it, you need to create this schema the way you tried. And the full URL will look like this:\r\n\r\n- `jdbc:h2:mem:db;INIT=create schema if not exists working\\;SET SCHEMA working;DB_CLOSE_DELAY=-1`\r\n\r\nNote that the backslash `\\` is required.\r\n\r\nBut if you don&#39;t need any schema, you won&#39;t be able to use it. You can just name the database `working` like this:\r\n\r\n- `spring.flyway.url=jdbc:h2:mem:working;DB_CLOSE_DELAY=-1`\r\n\r\n\r\n  [1]: https://www.h2database.com/html/commands.html?highlight=schema&amp;search=schema#set_schema","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;WORKING&quot; not found; SQL statement","body":"<p>According to the <a href=\"https://www.h2database.com/html/commands.html?highlight=schema&amp;search=schema#set_schema\" rel=\"nofollow noreferrer\">documentation</a>, for settings the SCHEMA you need to execute the command <code>SET SCHEMA &lt;name&gt;</code>. In your example, it will look like this:</p>\n<ul>\n<li><code>jdbc:h2:mem:db;SET SCHEMA working;DB_CLOSE_DELAY=-1</code></li>\n</ul>\n<p>But H2 knows nothing about the schema <code>working</code>. It only knows about the default schema <code>PUBLIC</code>. To help it, you need to create this schema the way you tried. And the full URL will look like this:</p>\n<ul>\n<li><code>jdbc:h2:mem:db;INIT=create schema if not exists working\\;SET SCHEMA working;DB_CLOSE_DELAY=-1</code></li>\n</ul>\n<p>Note that the backslash <code>\\</code> is required.</p>\n<p>But if you don't need any schema, you won't be able to use it. You can just name the database <code>working</code> like this:</p>\n<ul>\n<li><code>spring.flyway.url=jdbc:h2:mem:working;DB_CLOSE_DELAY=-1</code></li>\n</ul>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690830302,"creation_date":1690805955,"question_id":76803555,"body_markdown":"I&#39;m trying to test my app using h2 in memory database first time in my life and I faced with some problem. When I try to start test it shows me such error:\r\n\r\n```\r\norg.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;WORKING&quot; not found; SQL statement\r\n```\r\n\r\nI tried to find the answer on the internet and found that instead of this recording:\r\n```\r\njdbc:h2:file:jdbc:h2:mem:db;SCHEMA=working;DB_CLOSE_DELAY=-1\r\n```\r\n\r\nI can use this:\r\n```\r\nspring.flyway.url=jdbc:h2:mem:db;INIT=CREATE SCHEMA IF NOT EXISTS working;DB_CLOSE_DELAY=-1\r\n```\r\n\r\nBut it didn&#39;t fix this error.\r\n\r\nHere&#39;s my application.properties config for tests:\r\n\r\n```toml\r\n#Hibernate\r\nspring.datasource.url=${spring.flyway.url}\r\nspring.datasource.username=${spring.flyway.user}\r\nspring.datasource.password=${spring.flyway.password}\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nlogging.level.org.hibernate.SQL=debug\r\nlogging.level.org.hibernate.type.descriptor.sql=debug\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.devtools.restart.enabled = false\r\n\r\n#flyway\r\nspring.flyway.url=jdbc:h2:mem:db;SCHEMA=working;DB_CLOSE_DELAY=-1\r\nspring.flyway.user=sa\r\nspring.flyway.password=sa\r\n#spring.flyway.schemas=working\r\nspring.flyway.enabled=true\r\n```\r\n\r\nHere&#39;s my test:\r\n\r\n**UserServiceTest.java**\r\n```java\r\n@DataJpaTest\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class UserServiceTest {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private UserRepo userRepo;\r\n\r\n    @AfterEach\r\n    public void deleteDb() {\r\n        List&lt;UserEntity&gt; users = userRepo.findAll();\r\n        userRepo.deleteAll(users);\r\n    }\r\n\r\n    @Test\r\n    @Order(1)\r\n    public void testUserAdding() {\r\n        List&lt;UserAddModel&gt; addModels = getUserAddModels();\r\n        addModels.forEach(m -&gt; isUserGetModelValid(m, userService.addUser(m)));\r\n        addModels = getInvalidUserAddModels();\r\n        addModels.forEach(m -&gt; isUserGetModelValid(m, userService.addUser(m)));\r\n    }\r\n\r\n\r\n    private List&lt;UserAddModel&gt; getUserAddModels() {\r\n        return new ArrayList&lt;&gt;(List.of(\r\n                new UserAddModel(\r\n                        &quot;Alla&quot;,\r\n                        &quot;Pugacheva&quot;,\r\n                        null,\r\n                        &quot;+19772395747&quot;,\r\n                        null,\r\n                        &quot;AbobaAbobaAboba&quot;\r\n                ),\r\n                new UserAddModel(\r\n                        &quot;Andrey&quot;,\r\n                        &quot;Magnolin&quot;,\r\n                        &quot;FiftithEnumed&quot;,\r\n                        &quot;+19164167722&quot;,\r\n                        null,\r\n                        &quot;Fi123sdamJfw+&quot;\r\n                ),\r\n                new UserAddModel(\r\n                        &quot;Andy&quot;,\r\n                        &quot;Balk&quot;,\r\n                        &quot;Isuch&quot;,\r\n                        &quot;+112486759123&quot;,\r\n                        &quot;IBiB@Basas&quot;,\r\n                        &quot;IBiB@Basas&quot;\r\n                )\r\n        ));\r\n\r\n    }\r\n\r\n    private void isUserGetModelValid(UserAddModel userAddModel, UserGetModel userGetModel) {\r\n        Assertions.assertAll(\r\n                () -&gt; Assertions.assertNotNull(userGetModel.getId()),\r\n                () -&gt; Assertions.assertEquals(userAddModel.getFirstName(), userGetModel.getFirstName()),\r\n                () -&gt; Assertions.assertEquals(userAddModel.getLastName(), userGetModel.getLastName()),\r\n                () -&gt; Assertions.assertEquals(userAddModel.getPatronymic(), userGetModel.getPatronymic()),\r\n                () -&gt; Assertions.assertEquals(userAddModel.getEmail(), userGetModel.getEmail()),\r\n                () -&gt; Assertions.assertEquals(userAddModel.getPhoneNumber(), userGetModel.getPhoneNumber())\r\n        );\r\n    }\r\n\r\n    private List&lt;UserAddModel&gt; getInvalidUserAddModels() {\r\n        return new ArrayList&lt;&gt;(List.of(\r\n                new UserAddModel(\r\n                  &quot;FFRoasd*!TИffВ]\\\\\\&quot;!@}#{$yfdf4?/\\\\\\\\f\\\\\\\\%^}12н4#)([&quot;,\r\n                  &quot;Zsda_q*!fjIJF]\\\\\\&quot;!@}#{$yfdf4?/\\\\\\\\f\\\\\\\\%^}12н4#)([&quot;,\r\n                  &quot;ZHansda-*!ffjja@]\\\\\\&quot;!@}#{$yfdf4?/\\\\\\\\f\\\\\\\\%^}12н4#)([&quot;,\r\n                        &quot;ff@.google.com&quot;,\r\n                        &quot;HAHAH +15026812036749(643)40-2-75 go0odLuck&quot;,\r\n                        &quot;Э?&quot;\r\n                ),\r\n                new UserAddModel(\r\n                        &quot;Alla&quot;,\r\n                        &quot;Pugacheva&quot;,\r\n                        null,\r\n                        &quot;sb@.google.com&quot;,\r\n                        null,\r\n                        &quot;AbobaAbobaAboba&quot;\r\n                ),\r\n                new UserAddModel(\r\n                        &quot;Andrei&quot;,\r\n                        &quot;Balk&quot;,\r\n                        &quot;Iv&quot;,\r\n                        &quot;+112486759123&quot;,\r\n                        &quot;outlook.com&quot;,\r\n                        &quot;IlkbB@Ilkbib&quot;\r\n                ),\r\n                new UserAddModel(\r\n                        &quot;Andy&quot;,\r\n                        &quot;Balcony&quot;,\r\n                        &quot;IVconf&quot;,\r\n                        &quot;+112486759123&quot;,\r\n                        &quot;mmm@google.com&quot;,\r\n                        &quot;AAA?&quot;\r\n                )\r\n            )\r\n        );\r\n    }\r\n\r\n    @Nested\r\n    private class UserNestedTests {\r\n\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my migration sql file\r\n\r\n```sql\r\nCREATE TABLE IF NOT EXISTS users (\r\n    id BIGINT NOT NULL,\r\n    first_name varchar(512) NOT NULL,\r\n    last_name varchar(512) NOT NULL,\r\n    patronymic varchar(512),\r\n    phone_number varchar(20) NOT NULL UNIQUE,\r\n    email varchar(64) UNIQUE,\r\n    password varchar(64) NOT NULL,\r\n    state varchar(64) NOT NULL,\r\n    primary key(id)\r\n);\r\n```\r\n\r\nHere&#39;s my **UserEntity.java** class\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;, schema = &quot;working&quot;)\r\n@Getter @Setter\r\npublic class UserEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String patronymic;\r\n    @Column(unique = true)\r\n    private String phoneNumber;\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String password;\r\n    private String state;\r\n\r\n    public UserEntity() {\r\n    }\r\n\r\n    public UserEntity(String firstName, String lastName, String patronymic, String phoneNumber, String email) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.patronymic = patronymic;\r\n        this.phoneNumber = phoneNumber;\r\n        this.email = email;\r\n    }\r\n\r\n    public static UserEntity toModel(UserAddModel userAddModel) {\r\n        UserEntity user = new UserEntity();\r\n        ModelMapper mapper = new ModelMapper();\r\n        mapper.map(userAddModel, user);\r\n        user.state = StateConstantsConfig.STUDENT;\r\n        return user;\r\n    }\r\n}\r\n```\r\n\r\nSo what can be the problem? If you know, please, tell me. I&#39;d really appreciate it!","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;WORKING&quot; not found; SQL statement","body":"<p>I'm trying to test my app using h2 in memory database first time in my life and I faced with some problem. When I try to start test it shows me such error:</p>\n<pre><code>org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema &quot;WORKING&quot; not found; SQL statement\n</code></pre>\n<p>I tried to find the answer on the internet and found that instead of this recording:</p>\n<pre><code>jdbc:h2:file:jdbc:h2:mem:db;SCHEMA=working;DB_CLOSE_DELAY=-1\n</code></pre>\n<p>I can use this:</p>\n<pre><code>spring.flyway.url=jdbc:h2:mem:db;INIT=CREATE SCHEMA IF NOT EXISTS working;DB_CLOSE_DELAY=-1\n</code></pre>\n<p>But it didn't fix this error.</p>\n<p>Here's my application.properties config for tests:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>#Hibernate\nspring.datasource.url=${spring.flyway.url}\nspring.datasource.username=${spring.flyway.user}\nspring.datasource.password=${spring.flyway.password}\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.driver-class-name=org.h2.Driver\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=debug\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.devtools.restart.enabled = false\n\n#flyway\nspring.flyway.url=jdbc:h2:mem:db;SCHEMA=working;DB_CLOSE_DELAY=-1\nspring.flyway.user=sa\nspring.flyway.password=sa\n#spring.flyway.schemas=working\nspring.flyway.enabled=true\n</code></pre>\n<p>Here's my test:</p>\n<p><strong>UserServiceTest.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class UserServiceTest {\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private UserRepo userRepo;\n\n    @AfterEach\n    public void deleteDb() {\n        List&lt;UserEntity&gt; users = userRepo.findAll();\n        userRepo.deleteAll(users);\n    }\n\n    @Test\n    @Order(1)\n    public void testUserAdding() {\n        List&lt;UserAddModel&gt; addModels = getUserAddModels();\n        addModels.forEach(m -&gt; isUserGetModelValid(m, userService.addUser(m)));\n        addModels = getInvalidUserAddModels();\n        addModels.forEach(m -&gt; isUserGetModelValid(m, userService.addUser(m)));\n    }\n\n\n    private List&lt;UserAddModel&gt; getUserAddModels() {\n        return new ArrayList&lt;&gt;(List.of(\n                new UserAddModel(\n                        &quot;Alla&quot;,\n                        &quot;Pugacheva&quot;,\n                        null,\n                        &quot;+19772395747&quot;,\n                        null,\n                        &quot;AbobaAbobaAboba&quot;\n                ),\n                new UserAddModel(\n                        &quot;Andrey&quot;,\n                        &quot;Magnolin&quot;,\n                        &quot;FiftithEnumed&quot;,\n                        &quot;+19164167722&quot;,\n                        null,\n                        &quot;Fi123sdamJfw+&quot;\n                ),\n                new UserAddModel(\n                        &quot;Andy&quot;,\n                        &quot;Balk&quot;,\n                        &quot;Isuch&quot;,\n                        &quot;+112486759123&quot;,\n                        &quot;IBiB@Basas&quot;,\n                        &quot;IBiB@Basas&quot;\n                )\n        ));\n\n    }\n\n    private void isUserGetModelValid(UserAddModel userAddModel, UserGetModel userGetModel) {\n        Assertions.assertAll(\n                () -&gt; Assertions.assertNotNull(userGetModel.getId()),\n                () -&gt; Assertions.assertEquals(userAddModel.getFirstName(), userGetModel.getFirstName()),\n                () -&gt; Assertions.assertEquals(userAddModel.getLastName(), userGetModel.getLastName()),\n                () -&gt; Assertions.assertEquals(userAddModel.getPatronymic(), userGetModel.getPatronymic()),\n                () -&gt; Assertions.assertEquals(userAddModel.getEmail(), userGetModel.getEmail()),\n                () -&gt; Assertions.assertEquals(userAddModel.getPhoneNumber(), userGetModel.getPhoneNumber())\n        );\n    }\n\n    private List&lt;UserAddModel&gt; getInvalidUserAddModels() {\n        return new ArrayList&lt;&gt;(List.of(\n                new UserAddModel(\n                  &quot;FFRoasd*!TИffВ]\\\\\\&quot;!@}#{$yfdf4?/\\\\\\\\f\\\\\\\\%^}12н4#)([&quot;,\n                  &quot;Zsda_q*!fjIJF]\\\\\\&quot;!@}#{$yfdf4?/\\\\\\\\f\\\\\\\\%^}12н4#)([&quot;,\n                  &quot;ZHansda-*!ffjja@]\\\\\\&quot;!@}#{$yfdf4?/\\\\\\\\f\\\\\\\\%^}12н4#)([&quot;,\n                        &quot;ff@.google.com&quot;,\n                        &quot;HAHAH +15026812036749(643)40-2-75 go0odLuck&quot;,\n                        &quot;Э?&quot;\n                ),\n                new UserAddModel(\n                        &quot;Alla&quot;,\n                        &quot;Pugacheva&quot;,\n                        null,\n                        &quot;sb@.google.com&quot;,\n                        null,\n                        &quot;AbobaAbobaAboba&quot;\n                ),\n                new UserAddModel(\n                        &quot;Andrei&quot;,\n                        &quot;Balk&quot;,\n                        &quot;Iv&quot;,\n                        &quot;+112486759123&quot;,\n                        &quot;outlook.com&quot;,\n                        &quot;IlkbB@Ilkbib&quot;\n                ),\n                new UserAddModel(\n                        &quot;Andy&quot;,\n                        &quot;Balcony&quot;,\n                        &quot;IVconf&quot;,\n                        &quot;+112486759123&quot;,\n                        &quot;mmm@google.com&quot;,\n                        &quot;AAA?&quot;\n                )\n            )\n        );\n    }\n\n    @Nested\n    private class UserNestedTests {\n\n    }\n}\n</code></pre>\n<p>Here's my migration sql file</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE IF NOT EXISTS users (\n    id BIGINT NOT NULL,\n    first_name varchar(512) NOT NULL,\n    last_name varchar(512) NOT NULL,\n    patronymic varchar(512),\n    phone_number varchar(20) NOT NULL UNIQUE,\n    email varchar(64) UNIQUE,\n    password varchar(64) NOT NULL,\n    state varchar(64) NOT NULL,\n    primary key(id)\n);\n</code></pre>\n<p>Here's my <strong>UserEntity.java</strong> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;, schema = &quot;working&quot;)\n@Getter @Setter\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String patronymic;\n    @Column(unique = true)\n    private String phoneNumber;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String state;\n\n    public UserEntity() {\n    }\n\n    public UserEntity(String firstName, String lastName, String patronymic, String phoneNumber, String email) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.patronymic = patronymic;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n    }\n\n    public static UserEntity toModel(UserAddModel userAddModel) {\n        UserEntity user = new UserEntity();\n        ModelMapper mapper = new ModelMapper();\n        mapper.map(userAddModel, user);\n        user.state = StateConstantsConfig.STUDENT;\n        return user;\n    }\n}\n</code></pre>\n<p>So what can be the problem? If you know, please, tell me. I'd really appreciate it!</p>\n"},{"tags":["java","oop","variables","static"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":1,"creation_date":1499884645,"post_id":45065243,"comment_id":77103752,"body_markdown":"Pass the class in a constructor, create a setter in the original class?","body":"Pass the class in a constructor, create a setter in the original class?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1499884830,"post_id":45065243,"comment_id":77103851,"body_markdown":"Welcome to Stack Overflow! Please take the [tour](http://stackoverflow.com/tour), have a look around, and read through the [help center](http://stackoverflow.com/help), in particular [How do I ask a good question?](http://stackoverflow.com/help/how-to-ask) and [What topics can I ask about here?](http://stackoverflow.com/help/on-topic).","body":"Welcome to Stack Overflow! Please take the <a href=\"http://stackoverflow.com/tour\">tour</a>, have a look around, and read through the <a href=\"http://stackoverflow.com/help\">help center</a>, in particular <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>."}],"answers":[{"tags":[],"owner":{"account_id":11297017,"reputation":154,"user_id":8284228,"display_name":"ja08prat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499884967,"creation_date":1499884967,"answer_id":45065353,"question_id":45065243,"body_markdown":"The best advice I could give is to make it part of the constructor in the other classes (every class except the one where you initialize it to null) and pass it every time you use the &quot;menu&quot;","title":"How to initialize object from a different class and maintain state","body":"<p>The best advice I could give is to make it part of the constructor in the other classes (every class except the one where you initialize it to null) and pass it every time you use the \"menu\"</p>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499886014,"creation_date":1499885107,"answer_id":45065386,"question_id":45065243,"body_markdown":"&gt; The menu is not on the same &quot;main&quot; class because i&#39;m traying to make it reusable using heritage and polimorfism for it.\r\n\r\nPlease keep in mind that inheritance is not a good way to &quot;reuse code&quot;.\r\nInheritance must qualify for an *is a* relationship. Reuse of code is better accomplished by *composition*.\r\n\r\n","title":"How to initialize object from a different class and maintain state","body":"<blockquote>\n  <p>The menu is not on the same \"main\" class because i'm traying to make it reusable using heritage and polimorfism for it.</p>\n</blockquote>\n\n<p>Please keep in mind that inheritance is not a good way to \"reuse code\".\nInheritance must qualify for an <em>is a</em> relationship. Reuse of code is better accomplished by <em>composition</em>.</p>\n"}],"owner":{"account_id":10587066,"reputation":11,"user_id":7799040,"display_name":"Pablo Hernandez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690829258,"creation_date":1499884535,"question_id":45065243,"body_markdown":"I&#39;m quite new on Java and I need some help please.\r\n\r\nThe thing is I have a main class with a null variable object on it (required to be null at start) and a menu with different options to change this variable status. \r\n\r\nEach option is controlled by a different class which changes the status of this variable. \r\n\r\nHow could I initialize this variable from the #1 option class and maintain the status of this variable through options without declaring this variable static?\r\n\r\nExecuting menu option #2 requires variable to be initialized.\r\n\r\nThe menu is not on the same &quot;main&quot; class because I&#39;m trying to make it reusable using heritage and polymorphism for it.\r\n\r\n```\r\nClass Problem { //main class\r\n    private Control control;\r\n}\r\n\r\nClass Option1{\r\n    //initialize the variable control = new Control();\r\n}\r\n```\r\nThanks a lot!","title":"How to initialize object from a different class and maintain state","body":"<p>I'm quite new on Java and I need some help please.</p>\n<p>The thing is I have a main class with a null variable object on it (required to be null at start) and a menu with different options to change this variable status.</p>\n<p>Each option is controlled by a different class which changes the status of this variable.</p>\n<p>How could I initialize this variable from the #1 option class and maintain the status of this variable through options without declaring this variable static?</p>\n<p>Executing menu option #2 requires variable to be initialized.</p>\n<p>The menu is not on the same &quot;main&quot; class because I'm trying to make it reusable using heritage and polymorphism for it.</p>\n<pre><code>Class Problem { //main class\n    private Control control;\n}\n\nClass Option1{\n    //initialize the variable control = new Control();\n}\n</code></pre>\n<p>Thanks a lot!</p>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1690825486,"post_id":76805972,"comment_id":135403905,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690825535,"post_id":76805972,"comment_id":135403911,"body_markdown":"You should put needed information in the question rather than links. Also those links show an empty file to me. Please read [How to Ask](https://stackoverflow.com/help/how-to-ask) and \nprovide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"You should put needed information in the question rather than links. Also those links show an empty file to me. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> and  provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"score":0,"creation_date":1690826525,"post_id":76805972,"comment_id":135404071,"body_markdown":"I did not uploaded any images and also I tried to provide minimal reproducible example, but still I thought, whole file will be better. Instead of saying how to ask, if you would be great, you can help me with issue!","body":"I did not uploaded any images and also I tried to provide minimal reproducible example, but still I thought, whole file will be better. Instead of saying how to ask, if you would be great, you can help me with issue!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690828632,"post_id":76805972,"comment_id":135404507,"body_markdown":"Whatever those &quot;pastes.dev&quot; links are, they don&#39;t work for me, or apparently for anyone else.  If they don&#39;t work, we can&#39;t answer.  You need to figure out how to copy and paste the text into the question.","body":"Whatever those &quot;pastes.dev&quot; links are, they don&#39;t work for me, or apparently for anyone else.  If they don&#39;t work, we can&#39;t answer.  You need to figure out how to copy and paste the text into the question."},{"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"score":0,"creation_date":1690829148,"post_id":76805972,"comment_id":135404626,"body_markdown":"Thats what I needed to hear, thanks. Fixed, now code is in question","body":"Thats what I needed to hear, thanks. Fixed, now code is in question"}],"owner":{"account_id":26209095,"reputation":1,"user_id":19888256,"display_name":"Jakush"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690829124,"creation_date":1690825282,"question_id":76805972,"body_markdown":"I&#39;m not able to use maven-publish plugin, it says there isn&#39;t maven-publish plugin even when it is there, this is my build.gradle file\r\n\r\n    plugins {\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;8.1.1&#39;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;java&#39;\r\n    }\r\n\r\n    artifact = &#39;databaseapi&#39;\r\n    group = &#39;net.jakush&#39;\r\n    version = &#39;1.0-SNAPSHOT&#39;\r\n\r\n    publishing {\r\n    publications {\r\n        maven(MavenPublication) {\r\n            groupId = group\r\n            artifactId = artifact\r\n            version = &#39;1.0-SNAPSHOT&#39;\r\n\r\n            from components.java\r\n            }\r\n        }\r\n    }\r\n\r\n    repositories {\r\n    mavenCentral()\r\n    maven {\r\n        name = &quot;papermc-repo&quot;\r\n        url = &quot;https://repo.papermc.io/repository/maven-public/&quot;\r\n    }\r\n    maven {\r\n        name = &quot;sonatype&quot;\r\n        url = &quot;https://oss.sonatype.org/content/groups/public/&quot;\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n    compileOnly &quot;io.papermc.paper:paper-api:1.20.1-R0.1-SNAPSHOT&quot;\r\n    implementation &quot;com.zaxxer:HikariCP:5.0.1&quot;\r\n    }\r\n\r\n    def targetJavaVersion = 17 \r\n    java {\r\n        def javaVersion = JavaVersion.toVersion(targetJavaVersion)\r\n        sourceCompatibility = javaVersion\r\n        targetCompatibility = javaVersion\r\n        if (JavaVersion.current() &lt; javaVersion) {\r\n            toolchain.languageVersion = JavaLanguageVersion.of(targetJavaVersion)\r\n        }\r\n    }\r\n\r\n    tasks.withType(JavaCompile).configureEach {\r\n        if (targetJavaVersion &gt;= 10 || JavaVersion.current().isJava10Compatible()) {\r\n        options.release = targetJavaVersion\r\n        }\r\n    }\r\n\r\n    processResources {\r\n        def props = [version: version]\r\n        inputs.properties props\r\n        filteringCharset &#39;UTF-8&#39;\r\n        filesMatching(&#39;plugin.yml&#39;) {\r\n            expand props\r\n        }\r\n    }\r\n\r\n\r\n \r\nand this is error jitpack shows:\r\n ⚠️   WARNING:\r\n Gradle &#39;publishToMavenLocal&#39; task not found. Please add the &#39;maven-publish&#39; or &#39;maven&#39; plugin.\r\n See the documentation and examples: https://docs.jitpack.io\r\n\r\nI was trying everything google found for me, but nothing worked.","title":"Maven publish is not found on jitpack","body":"<p>I'm not able to use maven-publish plugin, it says there isn't maven-publish plugin even when it is there, this is my build.gradle file</p>\n<pre><code>plugins {\nid 'com.github.johnrengelman.shadow' version '8.1.1'\nid 'maven-publish'\nid 'java'\n}\n\nartifact = 'databaseapi'\ngroup = 'net.jakush'\nversion = '1.0-SNAPSHOT'\n\npublishing {\npublications {\n    maven(MavenPublication) {\n        groupId = group\n        artifactId = artifact\n        version = '1.0-SNAPSHOT'\n\n        from components.java\n        }\n    }\n}\n\nrepositories {\nmavenCentral()\nmaven {\n    name = &quot;papermc-repo&quot;\n    url = &quot;https://repo.papermc.io/repository/maven-public/&quot;\n}\nmaven {\n    name = &quot;sonatype&quot;\n    url = &quot;https://oss.sonatype.org/content/groups/public/&quot;\n    }\n}\n\ndependencies {\ncompileOnly &quot;io.papermc.paper:paper-api:1.20.1-R0.1-SNAPSHOT&quot;\nimplementation &quot;com.zaxxer:HikariCP:5.0.1&quot;\n}\n\ndef targetJavaVersion = 17 \njava {\n    def javaVersion = JavaVersion.toVersion(targetJavaVersion)\n    sourceCompatibility = javaVersion\n    targetCompatibility = javaVersion\n    if (JavaVersion.current() &lt; javaVersion) {\n        toolchain.languageVersion = JavaLanguageVersion.of(targetJavaVersion)\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    if (targetJavaVersion &gt;= 10 || JavaVersion.current().isJava10Compatible()) {\n    options.release = targetJavaVersion\n    }\n}\n\nprocessResources {\n    def props = [version: version]\n    inputs.properties props\n    filteringCharset 'UTF-8'\n    filesMatching('plugin.yml') {\n        expand props\n    }\n}\n</code></pre>\n<p>and this is error jitpack shows:\n⚠️   WARNING:\nGradle 'publishToMavenLocal' task not found. Please add the 'maven-publish' or 'maven' plugin.\nSee the documentation and examples: <a href=\"https://docs.jitpack.io\" rel=\"nofollow noreferrer\">https://docs.jitpack.io</a></p>\n<p>I was trying everything google found for me, but nothing worked.</p>\n"},{"tags":["java","spring-boot","keycloak","saml-2.0","spring-saml"],"comments":[{"owner":{"account_id":16036243,"reputation":154,"user_id":11573887,"display_name":"Henry Xiloj Herrera"},"score":0,"creation_date":1692496652,"post_id":72730175,"comment_id":135630880,"body_markdown":"Here GitHub example integration Spring boot 2 SAML2 keycloak 18 : \nhttps://github.com/HenryXiloj/spring-boot-security-saml2.0-keycloak","body":"Here GitHub example integration Spring boot 2 SAML2 keycloak 18 :  <a href=\"https://github.com/HenryXiloj/spring-boot-security-saml2.0-keycloak\" rel=\"nofollow noreferrer\">github.com/HenryXiloj/spring-boot-security-saml2.0-keycloak</a>"}],"answers":[{"tags":[],"owner":{"account_id":26026892,"reputation":1,"user_id":19733687,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660122150,"creation_date":1660122150,"answer_id":73303492,"question_id":72730175,"body_markdown":"You should set correct name of your Client ID in keycloak server`s client settings. \r\nClient ID must be same as issuer in SAML request. Spring-security-saml uses [&#39;{baseUrl}/saml2/service-provider-metadata/{registrationId}&#39;][1] pattern, in your case it should looks like &#39;http://localhost:8080/saml2/service-provider-metadata/saml&#39;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/saml2.html","title":"SAML 2.0 + Keycloak + Spring-Boot","body":"<p>You should set correct name of your Client ID in keycloak server`s client settings.\nClient ID must be same as issuer in SAML request. Spring-security-saml uses <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/saml2.html\" rel=\"nofollow noreferrer\">'{baseUrl}/saml2/service-provider-metadata/{registrationId}'</a> pattern, in your case it should looks like 'http://localhost:8080/saml2/service-provider-metadata/saml'</p>\n"}],"owner":{"account_id":19132793,"reputation":193,"user_id":13974329,"display_name":"marco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690828813,"creation_date":1655987321,"question_id":72730175,"body_markdown":"We&#39;re trying to set up a Keycloak locally with docker to be able to login to our application with SAML 2.0.\r\n\r\nVersions used: \r\n- Keyloak 18.0.0\r\n- Spring Boot 2.6.3\r\n\r\nThe access to an endpoint forwards to Keycloak, but we always face the same error (which is available in the keycloak-console):\r\n```WARN  [org.keycloak.events] (executor-thread-15) type=LOGIN_ERROR, realmId=my-app, clientId=null, userId=null, ipAddress=172.18.0.1, error=client_not_found, reason=Cannot_match_source_hash```\r\n\r\nWebSecurityConfig:\r\n```\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.saml2.provider.service.metadata.OpenSamlMetadataResolver;\r\nimport org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository;\r\nimport org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter;\r\nimport org.springframework.security.saml2.provider.service.web.DefaultRelyingPartyRegistrationResolver;\r\nimport org.springframework.security.saml2.provider.service.web.RelyingPartyRegistrationResolver;\r\nimport org.springframework.security.saml2.provider.service.web.Saml2MetadataFilter;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\n\r\n@Configuration\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final RelyingPartyRegistrationRepository relyingPartyRegistrationRepository;\r\n\r\n    public WebSecurityConfig(RelyingPartyRegistrationRepository relyingPartyRegistrationRepository) {\r\n        this.relyingPartyRegistrationRepository = relyingPartyRegistrationRepository;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        RelyingPartyRegistrationResolver defaultRelyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(relyingPartyRegistrationRepository);\r\n        Saml2MetadataFilter filter = new Saml2MetadataFilter(defaultRelyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\r\n\r\n        http\r\n                .saml2Login(withDefaults())\r\n                .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class)\r\n                .antMatcher(&quot;/**&quot;)\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;).authenticated();\r\n    }\r\n}\r\n```\r\n\r\nRelevant dependencies in pom.xml:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\napplication.yml (relevant parts):\r\n```\r\nspring:\r\n  security:\r\n    saml2:\r\n      relyingparty:\r\n        registration:\r\n          saml:\r\n            identityprovider:\r\n              entity-id: http://localhost:8080/realms/my-app\r\n              verification:\r\n                  - certificate-location: &quot;classpath:saml-certificate/keycloak.cert&quot;\r\n              singlesignon:\r\n                url: http://localhost:8080/auth/realms/my-app/protocol/saml\r\n                sign-request: false\r\n```\r\n\r\nI can also provide relevant parts of our Keycloak configuration, but as the export is quite big I&#39;d need to know which parts are relevant.\r\n\r\nIs there something missing in the application.yml or do we need another approach to configure it?\r\n","title":"SAML 2.0 + Keycloak + Spring-Boot","body":"<p>We're trying to set up a Keycloak locally with docker to be able to login to our application with SAML 2.0.</p>\n<p>Versions used:</p>\n<ul>\n<li>Keyloak 18.0.0</li>\n<li>Spring Boot 2.6.3</li>\n</ul>\n<p>The access to an endpoint forwards to Keycloak, but we always face the same error (which is available in the keycloak-console):\n<code>WARN  [org.keycloak.events] (executor-thread-15) type=LOGIN_ERROR, realmId=my-app, clientId=null, userId=null, ipAddress=172.18.0.1, error=client_not_found, reason=Cannot_match_source_hash</code></p>\n<p>WebSecurityConfig:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.saml2.provider.service.metadata.OpenSamlMetadataResolver;\nimport org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository;\nimport org.springframework.security.saml2.provider.service.servlet.filter.Saml2WebSsoAuthenticationFilter;\nimport org.springframework.security.saml2.provider.service.web.DefaultRelyingPartyRegistrationResolver;\nimport org.springframework.security.saml2.provider.service.web.RelyingPartyRegistrationResolver;\nimport org.springframework.security.saml2.provider.service.web.Saml2MetadataFilter;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final RelyingPartyRegistrationRepository relyingPartyRegistrationRepository;\n\n    public WebSecurityConfig(RelyingPartyRegistrationRepository relyingPartyRegistrationRepository) {\n        this.relyingPartyRegistrationRepository = relyingPartyRegistrationRepository;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        RelyingPartyRegistrationResolver defaultRelyingPartyRegistrationResolver = new DefaultRelyingPartyRegistrationResolver(relyingPartyRegistrationRepository);\n        Saml2MetadataFilter filter = new Saml2MetadataFilter(defaultRelyingPartyRegistrationResolver, new OpenSamlMetadataResolver());\n\n        http\n                .saml2Login(withDefaults())\n                .addFilterBefore(filter, Saml2WebSsoAuthenticationFilter.class)\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(&quot;/**&quot;).authenticated();\n    }\n}\n</code></pre>\n<p>Relevant dependencies in pom.xml:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>application.yml (relevant parts):</p>\n<pre><code>spring:\n  security:\n    saml2:\n      relyingparty:\n        registration:\n          saml:\n            identityprovider:\n              entity-id: http://localhost:8080/realms/my-app\n              verification:\n                  - certificate-location: &quot;classpath:saml-certificate/keycloak.cert&quot;\n              singlesignon:\n                url: http://localhost:8080/auth/realms/my-app/protocol/saml\n                sign-request: false\n</code></pre>\n<p>I can also provide relevant parts of our Keycloak configuration, but as the export is quite big I'd need to know which parts are relevant.</p>\n<p>Is there something missing in the application.yml or do we need another approach to configure it?</p>\n"},{"tags":["java","javafx","stage","javafx-11"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690349311,"post_id":76765313,"comment_id":135339121,"body_markdown":"Firstly, if `cancel` is a `Button&#39;s` `onAction` method, it should have `private void cancel(ActionEvent actionEvent)`. Secondly, my guess is that you are looking for the following. https://stackoverflow.com/a/41838183/2423906","body":"Firstly, if <code>cancel</code> is a <code>Button&#39;s</code> <code>onAction</code> method, it should have <code>private void cancel(ActionEvent actionEvent)</code>. Secondly, my guess is that you are looking for the following. <a href=\"https://stackoverflow.com/a/41838183/2423906\">stackoverflow.com/a/41838183/2423906</a>"}],"answers":[{"tags":[],"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690308265,"creation_date":1690308265,"answer_id":76765423,"question_id":76765313,"body_markdown":"You are not binding the controller on the running stage, thus the instance you are placing the parent stage, is not the one linked with the actual rendered window.\r\nIn case you want to set it programmatically check this [answer][1].\r\n\r\nSample :\r\n\r\n      FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;SignInUI.fxml&quot;));\r\n      fxmlLoader.setController(new SignInUIController());\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13617007/is-using-fxroot-a-requirement-to-setting-a-controller-programmatically","title":"How to access the stage in another class?","body":"<p>You are not binding the controller on the running stage, thus the instance you are placing the parent stage, is not the one linked with the actual rendered window.\nIn case you want to set it programmatically check this <a href=\"https://stackoverflow.com/questions/13617007/is-using-fxroot-a-requirement-to-setting-a-controller-programmatically\">answer</a>.</p>\n<p>Sample :</p>\n<pre><code>  FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;SignInUI.fxml&quot;));\n  fxmlLoader.setController(new SignInUIController());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26991848,"reputation":62,"user_id":20554626,"display_name":"sammy medawar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690828354,"creation_date":1690828354,"answer_id":76806316,"question_id":76765313,"body_markdown":"There&#39;s probably a better way of doing this, but here&#39;s a quick, alternative fix.\r\n\r\nTry instantiating your controller using the .getController() class of the FXMLLoader object. Also you can try getting the Window of the scene you have created and cast that to a stage. I made sure to call the setStage method only after setting the scene so that the Scene&#39;s Window isn&#39;t null.\r\n\r\n    Stage signIn = new Stage();\r\n    FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;SignInUI.fxml&quot;));\r\n    SignInUIController signInUIController = fxmlLoader.getController();\r\n    Scene sceneSignIn = new Scene(fxmlLoader.load());\r\n    signIn.setTitle(&quot;Sign In&quot;);\r\n    Image icon = new Image(&quot;calculator.jpg&quot;);\r\n    signIn.getIcons().add(icon);\r\n    signIn.setScene(sceneSignIn);\r\n    signInUIController.setStage(sceneSignIn.getWindow());\r\n    signIn.show();\r\n\r\nAnd then in the setStage function of your controller, try setting the parameter to Window instead of Stage:\r\n\r\n    public void setStage(Window _window){\r\n        // set the stage variable in your class to the casted window\r\n        this.primaryStage = (Stage) _window; \r\n    }","title":"How to access the stage in another class?","body":"<p>There's probably a better way of doing this, but here's a quick, alternative fix.</p>\n<p>Try instantiating your controller using the .getController() class of the FXMLLoader object. Also you can try getting the Window of the scene you have created and cast that to a stage. I made sure to call the setStage method only after setting the scene so that the Scene's Window isn't null.</p>\n<pre><code>Stage signIn = new Stage();\nFXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;SignInUI.fxml&quot;));\nSignInUIController signInUIController = fxmlLoader.getController();\nScene sceneSignIn = new Scene(fxmlLoader.load());\nsignIn.setTitle(&quot;Sign In&quot;);\nImage icon = new Image(&quot;calculator.jpg&quot;);\nsignIn.getIcons().add(icon);\nsignIn.setScene(sceneSignIn);\nsignInUIController.setStage(sceneSignIn.getWindow());\nsignIn.show();\n</code></pre>\n<p>And then in the setStage function of your controller, try setting the parameter to Window instead of Stage:</p>\n<pre><code>public void setStage(Window _window){\n    // set the stage variable in your class to the casted window\n    this.primaryStage = (Stage) _window; \n}\n</code></pre>\n"}],"owner":{"account_id":25955725,"reputation":35,"user_id":19673127,"display_name":"Cao Dingjie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76806316,"answer_count":2,"score":3,"last_activity_date":1690828354,"creation_date":1690307097,"question_id":76765313,"body_markdown":"I use FXMLLOADER to load a fxml file `SignInUI.fxml` in `LogUIController`. The code is here:\r\n\r\n    Stage signIn = new Stage();\r\n    FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;SignInUI.fxml&quot;));\r\n    SignInUIController signInUIController = new SignInUIController();\r\n    signInUIController.setStage(signIn);\r\n    Scene sceneSignIn = new Scene(fxmlLoader.load());\r\n    signIn.setTitle(&quot;Sign In&quot;);\r\n    Image icon = new Image(&quot;calculator.jpg&quot;);\r\n    signIn.getIcons().add(icon);\r\n    signIn.setScene(sceneSignIn);\r\n    signIn.show();\r\nI wrote a method called `setStage` in `SignInUIController`, which can assign the instance variable  `stage`:\r\n\r\n    public Stage stage;\r\n\r\n    public void setStage(Stage stage) {\r\n        this.stage = stage;\r\n    }\r\n\r\nI tried to build a `SignInUIController` instance in `LogUIController` and call the `setStage` method. Lastly, the `cancel` method in `SignInUIController` tied to a button and use the instance variable `stage` to close the stage:\r\n\r\n    @FXML\r\n    private void cancel() throws IOException {\r\n        stage.close();\r\n    }\r\n\r\nBut every time, it has an error:`Cannot invoke &quot;javafx.stage.Stage.close()&quot; because &quot;this.stage&quot; is null`. I do not know why, and how to fix this?","title":"How to access the stage in another class?","body":"<p>I use FXMLLOADER to load a fxml file <code>SignInUI.fxml</code> in <code>LogUIController</code>. The code is here:</p>\n<pre><code>Stage signIn = new Stage();\nFXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;SignInUI.fxml&quot;));\nSignInUIController signInUIController = new SignInUIController();\nsignInUIController.setStage(signIn);\nScene sceneSignIn = new Scene(fxmlLoader.load());\nsignIn.setTitle(&quot;Sign In&quot;);\nImage icon = new Image(&quot;calculator.jpg&quot;);\nsignIn.getIcons().add(icon);\nsignIn.setScene(sceneSignIn);\nsignIn.show();\n</code></pre>\n<p>I wrote a method called <code>setStage</code> in <code>SignInUIController</code>, which can assign the instance variable  <code>stage</code>:</p>\n<pre><code>public Stage stage;\n\npublic void setStage(Stage stage) {\n    this.stage = stage;\n}\n</code></pre>\n<p>I tried to build a <code>SignInUIController</code> instance in <code>LogUIController</code> and call the <code>setStage</code> method. Lastly, the <code>cancel</code> method in <code>SignInUIController</code> tied to a button and use the instance variable <code>stage</code> to close the stage:</p>\n<pre><code>@FXML\nprivate void cancel() throws IOException {\n    stage.close();\n}\n</code></pre>\n<p>But every time, it has an error:<code>Cannot invoke &quot;javafx.stage.Stage.close()&quot; because &quot;this.stage&quot; is null</code>. I do not know why, and how to fix this?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690827071,"post_id":76805070,"comment_id":135404168,"body_markdown":"Remove the `spring-boot-maven-plugin` from the common project, that is just a regular project and shouldn&#39;t be build with the `spring-boot-maven-plugin`.","body":"Remove the <code>spring-boot-maven-plugin</code> from the common project, that is just a regular project and shouldn&#39;t be build with the <code>spring-boot-maven-plugin</code>."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1690827918,"post_id":76805070,"comment_id":135404348,"body_markdown":"Even though I&#39;m using the Spring Boot starter as a parent? What should I be using in its place in the `&lt;build&gt;` block? I removed the spring-boot-maven-plugin as suggested, but now it fails to install. `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-install-plugin:2.5.2:install (default-install) on project prometheus-common: Failed to install artifact com.beast-code.devops:prometheus-common:jar:1.0.0: ...`","body":"Even though I&#39;m using the Spring Boot starter as a parent? What should I be using in its place in the <code>&lt;build&gt;</code> block? I removed the spring-boot-maven-plugin as suggested, but now it fails to install. <code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-install-plugin:2.5.2:install (default-install) on project prometheus-common: Failed to install artifact com.beast-code.devops:prometheus-common:jar:1.0.0: ...</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690828821,"post_id":76805070,"comment_id":135404551,"body_markdown":"Please don&#39;t add information in comments that is totally unreadable. You shouldn&#39;t need to add anything as it it should just build a jar. The fact that you use Spring Boot Starter as a parent doesn&#39;t mean you must use the plugin, you should only use the `spring-boot-maven-plugin` if you want to have an executable fatjar or war, if not don&#39;t use it. Running `mvn install` or `./mvnw install` should build the jar and put in in your `.m2` directory. If you get an error please add the full exception to your question.","body":"Please don&#39;t add information in comments that is totally unreadable. You shouldn&#39;t need to add anything as it it should just build a jar. The fact that you use Spring Boot Starter as a parent doesn&#39;t mean you must use the plugin, you should only use the <code>spring-boot-maven-plugin</code> if you want to have an executable fatjar or war, if not don&#39;t use it. Running <code>mvn install</code> or <code>.&#47;mvnw install</code> should build the jar and put in in your <code>.m2</code> directory. If you get an error please add the full exception to your question."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1690833335,"post_id":76805070,"comment_id":135405366,"body_markdown":"??? What was unreadable? Looks good to me.\nIn any case, it fails to compile. What should I used to replace the spring boot maven plugin?","body":"??? What was unreadable? Looks good to me. In any case, it fails to compile. What should I used to replace the spring boot maven plugin?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690869046,"post_id":76805070,"comment_id":135409190,"body_markdown":"The error message as there is more hence it is cut off and unreadable. As stated you don&#39;t need to replace it with anything, the regular jar plugin will kick in to make the jar.","body":"The error message as there is more hence it is cut off and unreadable. As stated you don&#39;t need to replace it with anything, the regular jar plugin will kick in to make the jar."}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690828020,"creation_date":1690817336,"question_id":76805070,"body_markdown":"I have an existing application that I&#39;m trying to break apart to separate some common code that will be used by another new application. All of this code is using Java 11 and also utilizes Spring Boot. Maven is used to manage building the applications.\r\n\r\nI created a new Maven project and moved the common code into it. It builds and installs its jar file into my local maven (.m2) repo. I then removed the common code from the existing app and added the common jar as a dependency. For some reason it fails to compile with errors like:\r\n\r\n\t[ERROR] /C:/Users/jgagnon/workspace/prometheus-metrics-and-rules/src/main/java/com/beastcode/devops/prometheus/types/ReferenceTreeAggregation.java:[6,45] cannot find symbol\r\n\t  symbol:   class ExpressionToken\r\n\t  location: package com.beastcode.devops.prometheus.types\r\n\r\nHere is the pom.xml for the common project:\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t  \r\n\t  &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t  &lt;/parent&gt;\r\n\t  \r\n\t  &lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;prometheus-common&lt;/artifactId&gt;\r\n\t  &lt;version&gt;1.0.0&lt;/version&gt;\r\n\t  \r\n\t  &lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\r\n\t\t&lt;slf4j.version&gt;1.7.36&lt;/slf4j.version&gt;\r\n\t\t&lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\r\n\r\n\t\t&lt;json-path.version&gt;2.7.0&lt;/json-path.version&gt;\r\n\t\t&lt;j2html.version&gt;1.6.0&lt;/j2html.version&gt;\r\n\t  &lt;/properties&gt;\r\n\t  \r\n\t  ...\r\n\r\n\t  &lt;dependencies&gt;\r\n\t    ...\r\n\t  &lt;/dependencies&gt;\r\n\t  \r\n\t  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t  &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t  &lt;!-- Set layout to NONE, as there is no main class. --&gt;\r\n\t\t\t  &lt;layout&gt;NONE&lt;/layout&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t  &lt;/build&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\nHere is the pom.xml for the existing project that has a dependency on the common project:\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t  \r\n\t  &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.14&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t  &lt;/parent&gt;\r\n\t  \r\n\t  &lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;prometheus-metrics-ref&lt;/artifactId&gt;\r\n\t  &lt;version&gt;1.1.5&lt;/version&gt;\r\n\t  \r\n\t  &lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\r\n\t\t&lt;slf4j.version&gt;1.7.36&lt;/slf4j.version&gt;\r\n\t\t&lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\r\n\t\t\r\n\t\t&lt;prometheus-common.version&gt;1.0.0&lt;/prometheus-common.version&gt;\r\n\t  &lt;/properties&gt;\r\n\t  \r\n\t  ...\r\n\t  \r\n\t  &lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t  \r\n\t\t  &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;prometheus-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${prometheus-common.version}&lt;/version&gt;\r\n\t\t  &lt;/dependency&gt;\r\n\r\n\t\t&lt;/dependencies&gt;\r\n\t  &lt;/dependencyManagement&gt;\r\n\t  \r\n\t  &lt;dependencies&gt;\r\n\t\t\r\n\t    ...\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;prometheus-common&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t  &lt;/dependencies&gt;\r\n\t  \r\n\t  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t  &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t  &lt;/build&gt;\r\n\t  \r\n\t&lt;/project&gt;\r\n\r\nI&#39;ve run the `mvn clean compile` command with the `-X` flag to show debug output. It looks to me that it&#39;s recognizing the dependency on the common jar file, but during compilation cannot find what it needs.\r\n\r\nOne thing to note is that there is common Java package naming between the new common project and the existing project that is trying to use the new project. For example, the existing app has a `com.beastcode.devops.prometheus.types` package that contains classes used by the app. The common project has the same path, containing the common classes that the existing app and a future app will both use. There is no overlap as far as the classes themselves, just the same package &quot;path&quot;. Could this be responsible for the build failure?\r\n\r\nI don&#39;t think so, as I tried an experiment where I changed the package name in the common project. When I ran  the build, it still couldn&#39;t find the classes.\r\n","title":"Why is this Maven build failing to compile?","body":"<p>I have an existing application that I'm trying to break apart to separate some common code that will be used by another new application. All of this code is using Java 11 and also utilizes Spring Boot. Maven is used to manage building the applications.</p>\n<p>I created a new Maven project and moved the common code into it. It builds and installs its jar file into my local maven (.m2) repo. I then removed the common code from the existing app and added the common jar as a dependency. For some reason it fails to compile with errors like:</p>\n<pre><code>[ERROR] /C:/Users/jgagnon/workspace/prometheus-metrics-and-rules/src/main/java/com/beastcode/devops/prometheus/types/ReferenceTreeAggregation.java:[6,45] cannot find symbol\n  symbol:   class ExpressionToken\n  location: package com.beastcode.devops.prometheus.types\n</code></pre>\n<p>Here is the pom.xml for the common project:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.14&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  \n  &lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\n  &lt;artifactId&gt;prometheus-common&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  \n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    \n    &lt;slf4j.version&gt;1.7.36&lt;/slf4j.version&gt;\n    &lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\n\n    &lt;json-path.version&gt;2.7.0&lt;/json-path.version&gt;\n    &lt;j2html.version&gt;1.6.0&lt;/j2html.version&gt;\n  &lt;/properties&gt;\n  \n  ...\n\n  &lt;dependencies&gt;\n    ...\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;!-- Set layout to NONE, as there is no main class. --&gt;\n          &lt;layout&gt;NONE&lt;/layout&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is the pom.xml for the existing project that has a dependency on the common project:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.14&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  \n  &lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\n  &lt;artifactId&gt;prometheus-metrics-ref&lt;/artifactId&gt;\n  &lt;version&gt;1.1.5&lt;/version&gt;\n  \n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    \n    &lt;slf4j.version&gt;1.7.36&lt;/slf4j.version&gt;\n    &lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\n    \n    &lt;prometheus-common.version&gt;1.0.0&lt;/prometheus-common.version&gt;\n  &lt;/properties&gt;\n  \n  ...\n  \n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      \n      &lt;dependency&gt;\n        &lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\n        &lt;artifactId&gt;prometheus-common&lt;/artifactId&gt;\n        &lt;version&gt;${prometheus-common.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  \n  &lt;dependencies&gt;\n    \n    ...\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;com.beast-code.devops&lt;/groupId&gt;\n      &lt;artifactId&gt;prometheus-common&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<p>I've run the <code>mvn clean compile</code> command with the <code>-X</code> flag to show debug output. It looks to me that it's recognizing the dependency on the common jar file, but during compilation cannot find what it needs.</p>\n<p>One thing to note is that there is common Java package naming between the new common project and the existing project that is trying to use the new project. For example, the existing app has a <code>com.beastcode.devops.prometheus.types</code> package that contains classes used by the app. The common project has the same path, containing the common classes that the existing app and a future app will both use. There is no overlap as far as the classes themselves, just the same package &quot;path&quot;. Could this be responsible for the build failure?</p>\n<p>I don't think so, as I tried an experiment where I changed the package name in the common project. When I ran  the build, it still couldn't find the classes.</p>\n"},{"tags":["java","spring-boot","docker","maven","java-17"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1690747181,"post_id":76799414,"comment_id":135392889,"body_markdown":"Have you checked that the lib jar has been written to the maven repo in the Docker container?","body":"Have you checked that the lib jar has been written to the maven repo in the Docker container?"},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1690748196,"post_id":76799414,"comment_id":135392982,"body_markdown":"@Gavin Yeah, the lib jar is installed in ~/.m2/repository.","body":"@Gavin Yeah, the lib jar is installed in ~/.m2/repository."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1690790111,"post_id":76799414,"comment_id":135396684,"body_markdown":"it gives compilation error on AuthenticationAspect.java:[3,38], can you check those lines, which will indicate the error, it can be related to some keyword or annotation problem.","body":"it gives compilation error on AuthenticationAspect.java:[3,38], can you check those lines, which will indicate the error, it can be related to some keyword or annotation problem."},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1690824343,"post_id":76799414,"comment_id":135403695,"body_markdown":"@muhammedozbilici It is the import of a class from the library. Everything is spelled correctly. It runs in my IDE, but building directly with Maven causes the error.\n\n`import gov.nasa.drf.lib.accesscontrol.Authenticator;`","body":"@muhammedozbilici It is the import of a class from the library. Everything is spelled correctly. It runs in my IDE, but building directly with Maven causes the error.  <code>import gov.nasa.drf.lib.accesscontrol.Authenticator;</code>"}],"answers":[{"tags":[],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690827553,"creation_date":1690827553,"answer_id":76806210,"question_id":76799414,"body_markdown":"Okay, a bit embarrassing, but the problem as just that my jar did not have the correct class files in it. I needed to rebuild the lib jar to include the correct classes.","title":"&quot;Cannot find symbol&quot; from local repository dependency with Java, Maven","body":"<p>Okay, a bit embarrassing, but the problem as just that my jar did not have the correct class files in it. I needed to rebuild the lib jar to include the correct classes.</p>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690827553,"creation_date":1690746934,"question_id":76799414,"body_markdown":"I am using Maven to build my Springboot app. I have a local repository with a single jar that I am importing. I am able to install the jar with with the Maven install plugin, but the `mvn compile` step fails with `Cannot find symbol` where the symbol is a class from this jar. It fails on the import statement. I do not see any issues in my IDE.\r\n\r\nMy build instructions:\r\n```\r\nmvn clean\r\nmvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar -DgroupId=gov.nasa.drf -DartifactId=lib -Dversion=1.0 -Dpackaging=jar\r\nmvn compile\r\nmvn package\r\n```\r\n\r\nThe error message:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project auth: Compilation failure\r\n[ERROR] /buildDir/src/main/java/gov/nasa/drf/auth/accesscontrol/AuthenticationAspect.java:[3,38] cannot find symbol\r\n[ERROR]   symbol:   class Authenticator\r\n[ERROR]   location: package gov.nasa.drf.lib.accesscontrol\r\n```\r\n\r\nFor deployment (and consistency) I am running the build commands in Docker. My dockerfile:\r\n```\r\nFROM maven:3-openjdk-17 AS build\r\n\r\nCOPY ./src /buildDir/src\r\nCOPY ./repo /buildDir/repo\r\nCOPY pom.xml /buildDir/pom.xml\r\n\r\nWORKDIR /buildDir\r\nRUN mvn clean\r\nRUN mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar -DgroupId=&quot;gov.nasa.drf&quot; -DartifactId=&quot;lib&quot; -Dversion=&quot;1.0&quot; -Dpackaging=jar\r\n\r\nRUN mvn compile\r\nRUN mvn package\r\n\r\nFROM openjdk:17-oracle\r\nRUN mkdir -p /api/target\r\nRUN mkdir -p /api/src/main\r\nRUN mkdir /api/keys\r\nRUN mkdir /api/logs\r\nCOPY src/main/resources /api/src/main/resources\r\nCOPY --from=build /buildDir/target /api/target\r\nCOPY pom.xml /api/pom.xml\r\nWORKDIR /api\r\nEXPOSE 8082\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/api/target/auth-2.0.jar&quot;]\r\n```\r\n\r\nMy pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;auth&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.version&gt;6.1.0.RELEASE&lt;/spring.version&gt;\r\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\r\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;data-local&lt;/id&gt;\r\n            &lt;name&gt;data&lt;/name&gt;\r\n            &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;gov.nasa.drf.auth.App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;both&lt;/parallel&gt;\r\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outxml&gt;true&lt;/outxml&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;aspectLibraries&gt;\r\n                        &lt;aspectLibrary&gt;\r\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                        &lt;/aspectLibrary&gt;\r\n                    &lt;/aspectLibraries&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lib&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0-rc2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"&quot;Cannot find symbol&quot; from local repository dependency with Java, Maven","body":"<p>I am using Maven to build my Springboot app. I have a local repository with a single jar that I am importing. I am able to install the jar with with the Maven install plugin, but the <code>mvn compile</code> step fails with <code>Cannot find symbol</code> where the symbol is a class from this jar. It fails on the import statement. I do not see any issues in my IDE.</p>\n<p>My build instructions:</p>\n<pre><code>mvn clean\nmvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar -DgroupId=gov.nasa.drf -DartifactId=lib -Dversion=1.0 -Dpackaging=jar\nmvn compile\nmvn package\n</code></pre>\n<p>The error message:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project auth: Compilation failure\n[ERROR] /buildDir/src/main/java/gov/nasa/drf/auth/accesscontrol/AuthenticationAspect.java:[3,38] cannot find symbol\n[ERROR]   symbol:   class Authenticator\n[ERROR]   location: package gov.nasa.drf.lib.accesscontrol\n</code></pre>\n<p>For deployment (and consistency) I am running the build commands in Docker. My dockerfile:</p>\n<pre><code>FROM maven:3-openjdk-17 AS build\n\nCOPY ./src /buildDir/src\nCOPY ./repo /buildDir/repo\nCOPY pom.xml /buildDir/pom.xml\n\nWORKDIR /buildDir\nRUN mvn clean\nRUN mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar -DgroupId=&quot;gov.nasa.drf&quot; -DartifactId=&quot;lib&quot; -Dversion=&quot;1.0&quot; -Dpackaging=jar\n\nRUN mvn compile\nRUN mvn package\n\nFROM openjdk:17-oracle\nRUN mkdir -p /api/target\nRUN mkdir -p /api/src/main\nRUN mkdir /api/keys\nRUN mkdir /api/logs\nCOPY src/main/resources /api/src/main/resources\nCOPY --from=build /buildDir/target /api/target\nCOPY pom.xml /api/pom.xml\nWORKDIR /api\nEXPOSE 8082\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/api/target/auth-2.0.jar&quot;]\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\n    &lt;artifactId&gt;auth&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;spring.version&gt;6.1.0.RELEASE&lt;/spring.version&gt;\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;data-local&lt;/id&gt;\n            &lt;name&gt;data&lt;/name&gt;\n            &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;gov.nasa.drf.auth.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;both&lt;/parallel&gt;\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.14.0&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;outxml&gt;true&lt;/outxml&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\n            &lt;artifactId&gt;lib&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0-rc2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":8743780,"reputation":966,"user_id":6540008,"accept_rate":43,"display_name":"Ali Akbarpour"},"score":0,"creation_date":1517231700,"post_id":48501265,"comment_id":83997534,"body_markdown":"try like this https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","body":"try like this <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a>"}],"answers":[{"tags":[],"owner":{"account_id":911459,"reputation":2140,"user_id":945214,"display_name":"gargkshitiz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517231647,"creation_date":1517231647,"answer_id":48502143,"question_id":48501265,"body_markdown":"It seems that GlobalExceptionHandlerController is NOT visible to spring. See how are doing it for service classes. If GlobalExceptionHandlerController is under a package which is getting scanned alright, then you could try this code instead:\r\n\r\n\t@Provider\r\n\tpublic class ErrorResponseHandler implements ExceptionMapper&lt;Throwable&gt;{\r\n\r\n\t\tprivate static final Logger logger = LoggerFactory.getLogger(ErrorResponseHandler.class);\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Response toResponse(Throwable error) {\r\n\t\t\tif (error instanceof ResourceNotFoundException) {\r\n\t\t\t\t....\r\n\t\t\t\t....              \r\n\t\t\t} \r\n\t\t\telse if (error instanceof JsonProcessingException) {\r\n\t\t\t\tlogger.error(&quot;Could not interpret incoming request&quot;, error);\r\n\t\t\t\treturn Response.status(Response.Status.BAD_REQUEST).entity(error.getMessage()).build();\r\n\t\t\t} \r\n\t\t\telse{\r\n\t\t\t\treturn response;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}","title":"Exception Handler in Spring boot not working?","body":"<p>It seems that GlobalExceptionHandlerController is NOT visible to spring. See how are doing it for service classes. If GlobalExceptionHandlerController is under a package which is getting scanned alright, then you could try this code instead:</p>\n\n<pre><code>@Provider\npublic class ErrorResponseHandler implements ExceptionMapper&lt;Throwable&gt;{\n\n    private static final Logger logger = LoggerFactory.getLogger(ErrorResponseHandler.class);\n\n    @Override\n    public Response toResponse(Throwable error) {\n        if (error instanceof ResourceNotFoundException) {\n            ....\n            ....              \n        } \n        else if (error instanceof JsonProcessingException) {\n            logger.error(\"Could not interpret incoming request\", error);\n            return Response.status(Response.Status.BAD_REQUEST).entity(error.getMessage()).build();\n        } \n        else{\n            return response;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2676911,"reputation":86,"user_id":2313100,"display_name":"Thanus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1517871323,"creation_date":1517871323,"answer_id":48632829,"question_id":48501265,"body_markdown":"As already mentioned, `@ControllerAdvice` cannot be used for Jersey. You can use `ExceptionMapper` with the annotation `@Provider` that maps Java exceptions to Jersey response.\r\n\r\n**The ExceptionHandler:**\r\n\r\n    @Provider\r\n    public class GlobalExceptionHandlerController implements ExceptionMapper&lt;ResourceNotFoundException&gt; {\r\n      @Override\r\n      public Response toResponse(ResourceNotFoundException e) {\r\n        ExceptionResponse response = new ExceptionResponse();\r\n        response.setErrorCode(&quot;resource not found&quot;);\r\n        response.setErrorMessage(e.getMessage());\r\n\r\n        return Response.status(404).entity(response)\r\n        .type(&quot;application/json&quot;).build();\r\n      }\r\n    }\r\n\r\nDon&#39;t forget to register this GlobalExceptionHandlerController just like your CustomerEndpoint:\r\n\r\n    @Configuration\r\n    public class JerseyConfig extends ResourceConfig {\r\n      public JerseyConfig() {\r\n        register(GlobalExceptionHandlerController.class);\r\n        register(CustomerEndpoint.class); // your existing controller\r\n      }\r\n    }\r\n\r\n","title":"Exception Handler in Spring boot not working?","body":"<p>As already mentioned, <code>@ControllerAdvice</code> cannot be used for Jersey. You can use <code>ExceptionMapper</code> with the annotation <code>@Provider</code> that maps Java exceptions to Jersey response.</p>\n\n<p><strong>The ExceptionHandler:</strong></p>\n\n<pre><code>@Provider\npublic class GlobalExceptionHandlerController implements ExceptionMapper&lt;ResourceNotFoundException&gt; {\n  @Override\n  public Response toResponse(ResourceNotFoundException e) {\n    ExceptionResponse response = new ExceptionResponse();\n    response.setErrorCode(\"resource not found\");\n    response.setErrorMessage(e.getMessage());\n\n    return Response.status(404).entity(response)\n    .type(\"application/json\").build();\n  }\n}\n</code></pre>\n\n<p>Don't forget to register this GlobalExceptionHandlerController just like your CustomerEndpoint:</p>\n\n<pre><code>@Configuration\npublic class JerseyConfig extends ResourceConfig {\n  public JerseyConfig() {\n    register(GlobalExceptionHandlerController.class);\n    register(CustomerEndpoint.class); // your existing controller\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7214284,"reputation":1,"user_id":5507321,"display_name":"sahil karneri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690827432,"creation_date":1690827391,"answer_id":76806187,"question_id":48501265,"body_markdown":"use @RestControllerAdvice as your response is in ResponseEntity\r\n\r\n\r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandlerController extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(ResourceNotFoundException.class)\r\n    public ResponseEntity&lt;ExceptionResponse&gt; resourceNotFound(ResourceNotFoundException ex) {\r\n        ExceptionResponse response = new ExceptionResponse();\r\n        response.setErrorCode(&quot;resource not found&quot;);\r\n        response.setErrorMessage(ex.getMessage());\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\r\n        }\r\n       }\r\n\r\n    ","title":"Exception Handler in Spring boot not working?","body":"<p>use @RestControllerAdvice as your response is in ResponseEntity</p>\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandlerController extends ResponseEntityExceptionHandler {\n\n@ExceptionHandler(ResourceNotFoundException.class)\npublic ResponseEntity&lt;ExceptionResponse&gt; resourceNotFound(ResourceNotFoundException ex) {\n    ExceptionResponse response = new ExceptionResponse();\n    response.setErrorCode(&quot;resource not found&quot;);\n    response.setErrorMessage(ex.getMessage());\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\n    }\n   }\n</code></pre>\n"}],"owner":{"account_id":10403392,"reputation":402,"user_id":7670995,"accept_rate":69,"display_name":"hema chandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15623,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48632829,"answer_count":3,"score":3,"last_activity_date":1690827432,"creation_date":1517228817,"question_id":48501265,"body_markdown":"I am implementing global error handling in my project using Spring boot. I am throwing a &quot;ResourceNotFoundException&quot; when my &quot;Customer&quot; object is &quot;null&quot;. But the Spring exception handler is not catching it. \r\n\r\n**My RestController class:** \r\n\r\n    @RestController\r\n    @Path(&quot;/customer&quot;)\r\n    public class CustomerEndpoint {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(CustomerEndpoint.class);\r\n    \r\n        @Autowired\r\n        private ICustomerService customerService;\r\n    \r\n       \r\n        @GET\r\n        @Path(&quot;/{id}&quot;)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Response getCustomerById(@PathParam(&quot;id&quot;) Integer id) throws ResourceNotFoundException {\r\n        CustomerVO article = customerService.getCustomerById(id);\r\n        if (article == null) {\r\n                throw new ResourceNotFoundException(customerId, &quot;Customer not found&quot;);\r\n            }\r\n            return Response.ok(article).build();\r\n        }\r\n    }\r\n\r\n**My ExceptionHandler:** \r\n\r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandlerController extends ResponseEntityExceptionHandler {\r\n    \r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        public ResponseEntity&lt;ExceptionResponse&gt; resourceNotFound(ResourceNotFoundException ex) {\r\n            ExceptionResponse response = new ExceptionResponse();\r\n            response.setErrorCode(&quot;resource not found&quot;);\r\n            response.setErrorMessage(ex.getMessage());\r\n            return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\r\n        }\r\n       }\r\n**ExceptionResponse:**\r\n\r\n        public class ExceptionResponse {\r\n    \r\n        private String errorCode;\r\n        private String errorMessage;\r\n    \r\n        public ExceptionResponse() {\r\n        }\r\n    \r\n        public String getErrorCode() {\r\n            return errorCode;\r\n        }\r\n    \r\n        public void setErrorCode(String errorCode) {\r\n            this.errorCode = errorCode;\r\n        }\r\n    \r\n        public String getErrorMessage() {\r\n            return errorMessage;\r\n        }\r\n    \r\n        public void setErrorMessage(String errorMessage) {\r\n            this.errorMessage = errorMessage;\r\n        }\r\n    }\r\n**ResourceNotFoundException class:**\r\n\r\n        public class ResourceNotFoundException extends RuntimeException{\r\n    \r\n        private long resourceId;\r\n        private String message;\r\n       \r\n        public ResourceNotFoundException(long resourceId, String message) {\r\n            super(message);\r\n            this.resourceId = resourceId;\r\n            this.message = message;\r\n        }\r\n        public ResourceNotFoundException(String message) {\r\n            super(message);\r\n            this.message = message;\r\n        }\r\n    \r\n        @Override\r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n\r\nPlease observe the RestController class. When I get a request for a customer with an id , if the customer is not present it throws ResourceNotFound exception. By default this needs to be catched by the ExceptionHandler. But instead of this I am getting the stackTrace like following. Please help me in catching this exception globally.\r\n\r\n    \r\n    com.finsol.qunatotrade.exception.ResourceNotFoundException: Customer not found\r\n    \tat com.finsol.qunatotrade.service.CustomerService.getCustomerById(CustomerService.java:50) ~[classes/:na]\r\n    \tat com.finsol.qunatotrade.service.CustomerService$$FastClassBySpringCGLIB$$5c04d986.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat com.finsol.qunatotrade.service.CustomerService$$EnhancerBySpringCGLIB$$ddc81d1f.getCustomerById(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.finsol.qunatotrade.api.endpoint.CustomerEndpoint.getCustomerById(CustomerEndpoint.java:50) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]\r\n    \tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271) ~[jersey-common-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267) ~[jersey-common-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:315) ~[jersey-common-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:297) ~[jersey-common-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:267) ~[jersey-common-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317) ~[jersey-common-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154) ~[jersey-server-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473) ~[jersey-container-servlet-core-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427) ~[jersey-container-servlet-core-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388) ~[jersey-container-servlet-core-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341) ~[jersey-container-servlet-core-2.25.1.jar:na]\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228) ~[jersey-container-servlet-core-2.25.1.jar:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat com.finsol.qunatotrade.api.filter.CORSFilter.doFilter(CORSFilter.java:34) ~[classes/:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.23.jar:8.5.23]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]\r\n    \r\n    2018-01-29 17:37:20.264 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing servlet &#39;dispatcherServlet&#39;\r\n    2018-01-29 17:37:20.265  INFO 2304 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2018-01-29 17:37:20.266  INFO 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2018-01-29 17:37:20.266 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Using MultipartResolver [org.springframework.web.multipart.support.StandardServletMultipartResolver@13ba49b5]\r\n    2018-01-29 17:37:20.274 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate LocaleResolver with name &#39;localeResolver&#39;: using default [org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@18ee3eeb]\r\n    2018-01-29 17:37:20.280 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate ThemeResolver with name &#39;themeResolver&#39;: using default [org.springframework.web.servlet.theme.FixedThemeResolver@583d7e84]\r\n    2018-01-29 17:37:20.289 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate RequestToViewNameTranslator with name &#39;viewNameTranslator&#39;: using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6611f464]\r\n    2018-01-29 17:37:20.303 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate FlashMapManager with name &#39;flashMapManager&#39;: using default [org.springframework.web.servlet.support.SessionFlashMapManager@29de5bb4]\r\n    2018-01-29 17:37:20.303 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Published WebApplicationContext of servlet &#39;dispatcherServlet&#39; as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.dispatcherServlet]\r\n    2018-01-29 17:37:20.303  INFO 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 37 ms\r\n    2018-01-29 17:37:20.303 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Servlet &#39;dispatcherServlet&#39; configured successfully\r\n    2018-01-29 17:37:20.305 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name &#39;dispatcherServlet&#39; processing GET request for [/error]\r\n    2018-01-29 17:37:20.310 DEBUG 2304 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /error\r\n    2018-01-29 17:37:20.330 DEBUG 2304 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Returning handler method [public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)]\r\n    2018-01-29 17:37:20.331 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Last-Modified value for [/error] is: -1\r\n    2018-01-29 17:37:20.451 DEBUG 2304 --- [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Written [{timestamp=Mon Jan 29 17:37:20 IST 2018, status=500, error=Internal Server Error, exception=com.finsol.qunatotrade.exception.ResourceNotFoundException, message=Customer not found, path=/qtregistration/customer/1}] as &quot;application/json&quot; using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@6344227]\r\n    2018-01-29 17:37:20.452 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Null ModelAndView returned to DispatcherServlet with name &#39;dispatcherServlet&#39;: assuming HandlerAdapter completed request handling\r\n    2018-01-29 17:37:20.452 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Successfully completed request\r\n\r\n   \r\n\r\n    enter code here\r\n","title":"Exception Handler in Spring boot not working?","body":"<p>I am implementing global error handling in my project using Spring boot. I am throwing a \"ResourceNotFoundException\" when my \"Customer\" object is \"null\". But the Spring exception handler is not catching it. </p>\n\n<p><strong>My RestController class:</strong> </p>\n\n<pre><code>@RestController\n@Path(\"/customer\")\npublic class CustomerEndpoint {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomerEndpoint.class);\n\n    @Autowired\n    private ICustomerService customerService;\n\n\n    @GET\n    @Path(\"/{id}\")\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getCustomerById(@PathParam(\"id\") Integer id) throws ResourceNotFoundException {\n    CustomerVO article = customerService.getCustomerById(id);\n    if (article == null) {\n            throw new ResourceNotFoundException(customerId, \"Customer not found\");\n        }\n        return Response.ok(article).build();\n    }\n}\n</code></pre>\n\n<p><strong>My ExceptionHandler:</strong> </p>\n\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandlerController extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ExceptionResponse&gt; resourceNotFound(ResourceNotFoundException ex) {\n        ExceptionResponse response = new ExceptionResponse();\n        response.setErrorCode(\"resource not found\");\n        response.setErrorMessage(ex.getMessage());\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\n    }\n   }\n</code></pre>\n\n<p><strong>ExceptionResponse:</strong></p>\n\n<pre><code>    public class ExceptionResponse {\n\n    private String errorCode;\n    private String errorMessage;\n\n    public ExceptionResponse() {\n    }\n\n    public String getErrorCode() {\n        return errorCode;\n    }\n\n    public void setErrorCode(String errorCode) {\n        this.errorCode = errorCode;\n    }\n\n    public String getErrorMessage() {\n        return errorMessage;\n    }\n\n    public void setErrorMessage(String errorMessage) {\n        this.errorMessage = errorMessage;\n    }\n}\n</code></pre>\n\n<p><strong>ResourceNotFoundException class:</strong></p>\n\n<pre><code>    public class ResourceNotFoundException extends RuntimeException{\n\n    private long resourceId;\n    private String message;\n\n    public ResourceNotFoundException(long resourceId, String message) {\n        super(message);\n        this.resourceId = resourceId;\n        this.message = message;\n    }\n    public ResourceNotFoundException(String message) {\n        super(message);\n        this.message = message;\n    }\n\n    @Override\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n\n<p>Please observe the RestController class. When I get a request for a customer with an id , if the customer is not present it throws ResourceNotFound exception. By default this needs to be catched by the ExceptionHandler. But instead of this I am getting the stackTrace like following. Please help me in catching this exception globally.</p>\n\n<pre><code>com.finsol.qunatotrade.exception.ResourceNotFoundException: Customer not found\n    at com.finsol.qunatotrade.service.CustomerService.getCustomerById(CustomerService.java:50) ~[classes/:na]\n    at com.finsol.qunatotrade.service.CustomerService$$FastClassBySpringCGLIB$$5c04d986.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) ~[spring-aop-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at com.finsol.qunatotrade.service.CustomerService$$EnhancerBySpringCGLIB$$ddc81d1f.getCustomerById(&lt;generated&gt;) ~[classes/:na]\n    at com.finsol.qunatotrade.api.endpoint.CustomerEndpoint.getCustomerById(CustomerEndpoint.java:50) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:326) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271) ~[jersey-common-2.25.1.jar:na]\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267) ~[jersey-common-2.25.1.jar:na]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315) ~[jersey-common-2.25.1.jar:na]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297) ~[jersey-common-2.25.1.jar:na]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:267) ~[jersey-common-2.25.1.jar:na]\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317) ~[jersey-common-2.25.1.jar:na]\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:305) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1154) ~[jersey-server-2.25.1.jar:na]\n    at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:473) ~[jersey-container-servlet-core-2.25.1.jar:na]\n    at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:427) ~[jersey-container-servlet-core-2.25.1.jar:na]\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:388) ~[jersey-container-servlet-core-2.25.1.jar:na]\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:341) ~[jersey-container-servlet-core-2.25.1.jar:na]\n    at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:228) ~[jersey-container-servlet-core-2.25.1.jar:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at com.finsol.qunatotrade.api.filter.CORSFilter.doFilter(CORSFilter.java:34) ~[classes/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.23.jar:8.5.23]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]\n\n2018-01-29 17:37:20.264 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing servlet 'dispatcherServlet'\n2018-01-29 17:37:20.265  INFO 2304 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2018-01-29 17:37:20.266  INFO 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2018-01-29 17:37:20.266 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Using MultipartResolver [org.springframework.web.multipart.support.StandardServletMultipartResolver@13ba49b5]\n2018-01-29 17:37:20.274 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate LocaleResolver with name 'localeResolver': using default [org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@18ee3eeb]\n2018-01-29 17:37:20.280 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@583d7e84]\n2018-01-29 17:37:20.289 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6611f464]\n2018-01-29 17:37:20.303 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@29de5bb4]\n2018-01-29 17:37:20.303 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Published WebApplicationContext of servlet 'dispatcherServlet' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.dispatcherServlet]\n2018-01-29 17:37:20.303  INFO 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 37 ms\n2018-01-29 17:37:20.303 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Servlet 'dispatcherServlet' configured successfully\n2018-01-29 17:37:20.305 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : DispatcherServlet with name 'dispatcherServlet' processing GET request for [/error]\n2018-01-29 17:37:20.310 DEBUG 2304 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Looking up handler method for path /error\n2018-01-29 17:37:20.330 DEBUG 2304 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Returning handler method [public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)]\n2018-01-29 17:37:20.331 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Last-Modified value for [/error] is: -1\n2018-01-29 17:37:20.451 DEBUG 2304 --- [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Written [{timestamp=Mon Jan 29 17:37:20 IST 2018, status=500, error=Internal Server Error, exception=com.finsol.qunatotrade.exception.ResourceNotFoundException, message=Customer not found, path=/qtregistration/customer/1}] as \"application/json\" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@6344227]\n2018-01-29 17:37:20.452 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Null ModelAndView returned to DispatcherServlet with name 'dispatcherServlet': assuming HandlerAdapter completed request handling\n2018-01-29 17:37:20.452 DEBUG 2304 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Successfully completed request\n\n\n\nenter code here\n</code></pre>\n"},{"tags":["java","quarkus"],"owner":{"account_id":29130970,"reputation":1,"user_id":22316240,"display_name":"maxcao13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690826544,"creation_date":1690826544,"question_id":76806102,"body_markdown":"When trying to connect to my S3Client which is launched by the `quarkus.s3.devservices.enabled=true` property, I run into a ConnectionRefused exception during my containerized QuarkusIntegrationTests. I have a `Recordings` class which injects the S3 client like so\r\n```java\r\n@Path(&quot;&quot;)\r\npublic class Recordings {\r\n    @Inject S3Client storage;\r\n```\r\nand onStart, attempts to check if a bucket exists, and if not creates it:\r\n```java\r\n@ConfigProperty(name = &quot;storage.buckets.archives.name&quot;) String archiveBucket;\r\n\r\n    void onStart(@Observes StartupEvent evt) {\r\n        boolean exists = false;\r\n        try {\r\n            exists =\r\n                    HttpStatusCodeIdentifier.isSuccessCode(\r\n                            storage.headBucket(\r\n                                            HeadBucketRequest.builder()\r\n                                                    .bucket(archiveBucket)\r\n                                                    .build())\r\n                                    .sdkHttpResponse()\r\n                                    .statusCode());\r\n        } catch (Exception e) {\r\n            logger.info(e);\r\n        }\r\n        if (!exists) {\r\n            try {\r\n                storage.createBucket(CreateBucketRequest.builder().bucket(archiveBucket).build());\r\n            } catch (Exception e) {\r\n                logger.error(e);\r\n            }\r\n        }\r\n    }\r\n```\r\nThe problem, is that these requests cannot go through during a `@QuarkusIntegrationTest` annotated test whenever I use the `Recordings` class. The connections are fine with `@QuarkusTest` annotated tests.\r\n\r\nIs there a solution/workaround to this, or something fundamental that I am missing? Some configuration I am missing perhaps? Thanks!\r\n\r\n**Connection Exception**\r\n```java\r\n2023-06-27 20:37:50,623 DEBUG [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (executor-thread-1) Restarting handler chain for exception exception: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connection refused\r\n\tat software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111)\r\n\tat software.amazon.awssdk.core.exception.SdkClientException.create(SdkClientException.java:47)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.utils.RetryableStageHelper.setLastException(RetryableStageHelper.java:223)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:83)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.s3.DefaultS3Client.listObjectsV2(DefaultS3Client.java:6538)\r\n\tat software.amazon.awssdk.services.s3.S3ClientProducer_ProducerMethod_client_c3e44358d8bba829ee2f6ae63d6f9ef0b4609f3a_ClientProxy.listObjectsV2(Unknown Source)\r\n```\r\n**Relevant application.properties**\r\n```properties\r\nstorage.buckets.archives.name=archivedrecordings\r\nquarkus.s3.devservices.enabled=true\r\nquarkus.s3.devservices.buckets=archivedrecordings\r\n\r\nquarkus.aws.devservices.localstack.image-name=localstack/localstack:2.1.0\r\nquarkus.aws.devservices.localstack.container-properties.START_WEB=0\r\nquarkus.aws.devservices.localstack.container-properties.SERVICES=s3\r\nquarkus.aws.devservices.localstack.container-properties.EAGER_SERVICE_LOADING=1\r\nquarkus.aws.devservices.localstack.container-properties.SKIP_SSL_CERT_DOWNLOAD=1\r\nquarkus.aws.devservices.localstack.container-properties.SKIP_INFRA_DOWNLOADS=1\r\nquarkus.aws.devservices.localstack.container-properties.DISABLE_EVENTS=1\r\n```\r\nI run with with podman instead of docker.\r\n\r\nI haven&#39;t tried to manually setup my own S3 instance as a TestContainer but I imagine it would work. The problem that I am confused about is that according to https://quarkus.io/guides/getting-started-testing#launching-containers, DevServices containers should &quot;just work&quot; because of Quarkus magic, but I am sure I am missing something...","title":"Connection refused to injected S3Client devservice within @QuarkusIntegrationTest annotated test","body":"<p>When trying to connect to my S3Client which is launched by the <code>quarkus.s3.devservices.enabled=true</code> property, I run into a ConnectionRefused exception during my containerized QuarkusIntegrationTests. I have a <code>Recordings</code> class which injects the S3 client like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;&quot;)\npublic class Recordings {\n    @Inject S3Client storage;\n</code></pre>\n<p>and onStart, attempts to check if a bucket exists, and if not creates it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigProperty(name = &quot;storage.buckets.archives.name&quot;) String archiveBucket;\n\n    void onStart(@Observes StartupEvent evt) {\n        boolean exists = false;\n        try {\n            exists =\n                    HttpStatusCodeIdentifier.isSuccessCode(\n                            storage.headBucket(\n                                            HeadBucketRequest.builder()\n                                                    .bucket(archiveBucket)\n                                                    .build())\n                                    .sdkHttpResponse()\n                                    .statusCode());\n        } catch (Exception e) {\n            logger.info(e);\n        }\n        if (!exists) {\n            try {\n                storage.createBucket(CreateBucketRequest.builder().bucket(archiveBucket).build());\n            } catch (Exception e) {\n                logger.error(e);\n            }\n        }\n    }\n</code></pre>\n<p>The problem, is that these requests cannot go through during a <code>@QuarkusIntegrationTest</code> annotated test whenever I use the <code>Recordings</code> class. The connections are fine with <code>@QuarkusTest</code> annotated tests.</p>\n<p>Is there a solution/workaround to this, or something fundamental that I am missing? Some configuration I am missing perhaps? Thanks!</p>\n<p><strong>Connection Exception</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-06-27 20:37:50,623 DEBUG [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (executor-thread-1) Restarting handler chain for exception exception: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connection refused\n    at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111)\n    at software.amazon.awssdk.core.exception.SdkClientException.create(SdkClientException.java:47)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.utils.RetryableStageHelper.setLastException(RetryableStageHelper.java:223)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:83)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\n    at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\n    at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\n    at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\n    at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\n    at software.amazon.awssdk.services.s3.DefaultS3Client.listObjectsV2(DefaultS3Client.java:6538)\n    at software.amazon.awssdk.services.s3.S3ClientProducer_ProducerMethod_client_c3e44358d8bba829ee2f6ae63d6f9ef0b4609f3a_ClientProxy.listObjectsV2(Unknown Source)\n</code></pre>\n<p><strong>Relevant application.properties</strong></p>\n<pre><code>storage.buckets.archives.name=archivedrecordings\nquarkus.s3.devservices.enabled=true\nquarkus.s3.devservices.buckets=archivedrecordings\n\nquarkus.aws.devservices.localstack.image-name=localstack/localstack:2.1.0\nquarkus.aws.devservices.localstack.container-properties.START_WEB=0\nquarkus.aws.devservices.localstack.container-properties.SERVICES=s3\nquarkus.aws.devservices.localstack.container-properties.EAGER_SERVICE_LOADING=1\nquarkus.aws.devservices.localstack.container-properties.SKIP_SSL_CERT_DOWNLOAD=1\nquarkus.aws.devservices.localstack.container-properties.SKIP_INFRA_DOWNLOADS=1\nquarkus.aws.devservices.localstack.container-properties.DISABLE_EVENTS=1\n</code></pre>\n<p>I run with with podman instead of docker.</p>\n<p>I haven't tried to manually setup my own S3 instance as a TestContainer but I imagine it would work. The problem that I am confused about is that according to <a href=\"https://quarkus.io/guides/getting-started-testing#launching-containers\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#launching-containers</a>, DevServices containers should &quot;just work&quot; because of Quarkus magic, but I am sure I am missing something...</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1690819400,"post_id":76805290,"comment_id":135402796,"body_markdown":"https://docs.oracle.com/javase/tutorial/essential/concurrency/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1690820357,"post_id":76805290,"comment_id":135402985,"body_markdown":"Your question could be answered on any of several levels: How do I write thread-safe Java code? What OS features does Java use to ensure thread safety? What hardware features does the OS use? How does the hardware actually work? Any of those (except maybe the first one) _might_ be considered off-topic for this site. If you want answers to _all_ of those questions, then this probably will end up being closed as &quot;too broad/needs focus.&quot;","body":"Your question could be answered on any of several levels: How do I write thread-safe Java code? What OS features does Java use to ensure thread safety? What hardware features does the OS use? How does the hardware actually work? Any of those (except maybe the first one) <i>might</i> be considered off-topic for this site. If you want answers to <i>all</i> of those questions, then this probably will end up being closed as &quot;too broad/needs focus.&quot;"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1690821015,"post_id":76805290,"comment_id":135403108,"body_markdown":"From the perspective of writing multithreaded Java code, the important thing to understand is the Java Memory Model, and in particular the concept of _happens-before_.","body":"From the perspective of writing multithreaded Java code, the important thing to understand is the Java Memory Model, and in particular the concept of <i>happens-before</i>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690825597,"creation_date":1690825597,"answer_id":76806006,"question_id":76805290,"body_markdown":"The point of a JVM is: It doesn&#39;t matter _how_ it works, just _that_ it works. Specifically, that the JVM guarantees no two threads can both enter a `synchronized (x) {}` block where `x` is a reference to the same java object.\r\n\r\nThere are various ways that hardware handles this.\r\n\r\nOne is CAS operations (Compare-And-Set). A CAS operation works like this:\r\n\r\nGiven `CAS(memLoc, 5, 20)`;\r\n\r\n* Read the value at memory address x. __IF__ it is &#39;5&#39;, update it to &#39;20&#39; and return true. Otherwise, do not change it, and return false.\r\n\r\nVarious CPUs natively support CAS operations. At the CPU level, the CAS operation is conveyed to the thing that actually locally controls that memory (i.e. if there is a separate memory controller, the CAS instruction is sent to it, too), which in the end is a small but crucial single-system bottleneck (no risk of 2 cores simultaneously doing the thing, because it&#39;s not a CPU core that does this, it&#39;s the memory controller).\r\n\r\nIf CAS is available, stuff like this is simple. For example, we can give all objects a separate 64-bit field value, and we have a single 64-bit &#39;thread ID&#39; counter. Then we modify a few basics in the JVM:\r\n\r\n* Whenever a new thread is made, we have a loop that works like this:\r\n\r\n```\r\nint threadId = -1;\r\nwhile (true) {\r\n  int currentThreadId = read(globalThreadIdCounterMemLoc);\r\n  threadId = currentThreadId + 1;\r\n  if (CAS(globalThreadIdCounterMemLoc, currentThreadId, threadId)) break;\r\n}\r\n\r\nreturn createNewThreadWithId(threadId);\r\n```\r\n\r\nThis ensures every thread has a guaranteed unique ID. Once all threads have a unique ID:\r\n\r\n* Add a threadOwner field to all objects.\r\n* Implement synchronized as something like:\r\n\r\n```\r\n// an owner id of -1 means: Unowned.\r\npublic void jvmSynchronizedImpl(Thread owner, Object lockObj) {\r\n  while (true) {\r\n    boolean lockAcquired = CAS(lockObj.threadOwner, -1, owner.threadID);\r\n    if (lockAcquired) return true;\r\n  }\r\n}\r\n```\r\n\r\nObviously it doesn&#39;t work that simply - waiting to acquire a lock does not &#39;busy-wait&#39; (where the CPU fans start blasting and your power usage goes way up because the CPU is actively and continuously checking the value; if the lock isn&#39;t available, the system waits).\r\n\r\nEven if CAS is not available, CPU cores have LOCK instructions. For example, the x86/x64 architecture has a &#39;lock&#39; modifier; it modifies any opcode that read-modify-writes memory. Such as an INC instruction (which needs to read a value from a location, increment it by 1, and write it back). If the opcode has a lock flag on it, the CPU ensures exclusive ownership of the relevant data. We just kicked the can down the road:\r\n\r\n* How does a JVM implement locking? By relying on the CPU to do it.\r\n\r\nWhich just means we now ask: ... so, how does a CPU do it?\r\n\r\nAnd the exact same rule applies: It does it. The docs spell out precisely what is guaranteed and what isn&#39;t - the CPU you buy today might implement the &#39;deal&#39; as spelled out in the specs completely differently from another.\r\n\r\nBut, generally, with similar CAS-like mechanics on a shared register that all CPU cores can see. Or, it just locks a bus (and how does _that_ work - oof, it&#39;s turtles all the way down: The bus has some specification that guarantees that if you do X and Y, then you get synchronicity guarantees, and does not spell out _how_ it does that).\r\n\r\nNB: CAS is sometimes called test-and-set. You might want to [read the wikipedia page on test-and-set](https://en.wikipedia.org/wiki/Test-and-set), which also covers hardware implementations. As I showed at the top, CAS is a really useful in-between: It&#39;s easy to understand, generally easy to implement by the &#39;lowest level thing in the hardware&#39;, and it is easy to convey (just 3 values: Location, Expected Value, and New Value - with a single bit to be returned by the operation). With CAS in your arsenal, writing more complicated synchronicity systems is easy (such as java&#39;s `synchronized`, but also things like `AtomicInteger`&#39;s `incrementAndGet()` which is considerably faster than using `synchronized` to get a consistent multi-core capable atomic incrementer). Hence why CAS is usually the solution used when all you can really do is ask the underlying whatever-it-may-be to provide you with the tools you need to make synchronicity promises. Hence, java code asks the JVM for CAS. The JVM asks the OS. The OS asks the CPU. The CPU asks the memory controller. The memory controller can actually natively implement the construct.\r\n\r\n__Important footnote__: As I said at the top, this is just __one__ way that a JVM _could_ implement this stuff. You cannot rely on a JVM actually doing it this way, it might use completely different systems instead. &quot;I want to know how it works&quot; is not a particularly useful way to try to wrap your head around concurrency, because any single answer is by definition non-general (does not apply to all JVMs and all situations). The Java Memory Model section of the JVM spells out all the guarantees you do get, and if you write code that relies solely on those guarantees, your code is correct. If you rely on things you have reliably observed but which the JMM doesn&#39;t guarantee, you have a very very nasty thing: A bug in your code, that you cannot possibly test for. Your code will work fine today, and tomorrow, but next week it starts failing. Or it works for you but fails on tuesdays. Or it works for you but not for your important customer. And so on.\r\n","title":"How does thread locking work -on a high level- in the context of multiple core?","body":"<p>The point of a JVM is: It doesn't matter <em>how</em> it works, just <em>that</em> it works. Specifically, that the JVM guarantees no two threads can both enter a <code>synchronized (x) {}</code> block where <code>x</code> is a reference to the same java object.</p>\n<p>There are various ways that hardware handles this.</p>\n<p>One is CAS operations (Compare-And-Set). A CAS operation works like this:</p>\n<p>Given <code>CAS(memLoc, 5, 20)</code>;</p>\n<ul>\n<li>Read the value at memory address x. <strong>IF</strong> it is '5', update it to '20' and return true. Otherwise, do not change it, and return false.</li>\n</ul>\n<p>Various CPUs natively support CAS operations. At the CPU level, the CAS operation is conveyed to the thing that actually locally controls that memory (i.e. if there is a separate memory controller, the CAS instruction is sent to it, too), which in the end is a small but crucial single-system bottleneck (no risk of 2 cores simultaneously doing the thing, because it's not a CPU core that does this, it's the memory controller).</p>\n<p>If CAS is available, stuff like this is simple. For example, we can give all objects a separate 64-bit field value, and we have a single 64-bit 'thread ID' counter. Then we modify a few basics in the JVM:</p>\n<ul>\n<li>Whenever a new thread is made, we have a loop that works like this:</li>\n</ul>\n<pre><code>int threadId = -1;\nwhile (true) {\n  int currentThreadId = read(globalThreadIdCounterMemLoc);\n  threadId = currentThreadId + 1;\n  if (CAS(globalThreadIdCounterMemLoc, currentThreadId, threadId)) break;\n}\n\nreturn createNewThreadWithId(threadId);\n</code></pre>\n<p>This ensures every thread has a guaranteed unique ID. Once all threads have a unique ID:</p>\n<ul>\n<li>Add a threadOwner field to all objects.</li>\n<li>Implement synchronized as something like:</li>\n</ul>\n<pre><code>// an owner id of -1 means: Unowned.\npublic void jvmSynchronizedImpl(Thread owner, Object lockObj) {\n  while (true) {\n    boolean lockAcquired = CAS(lockObj.threadOwner, -1, owner.threadID);\n    if (lockAcquired) return true;\n  }\n}\n</code></pre>\n<p>Obviously it doesn't work that simply - waiting to acquire a lock does not 'busy-wait' (where the CPU fans start blasting and your power usage goes way up because the CPU is actively and continuously checking the value; if the lock isn't available, the system waits).</p>\n<p>Even if CAS is not available, CPU cores have LOCK instructions. For example, the x86/x64 architecture has a 'lock' modifier; it modifies any opcode that read-modify-writes memory. Such as an INC instruction (which needs to read a value from a location, increment it by 1, and write it back). If the opcode has a lock flag on it, the CPU ensures exclusive ownership of the relevant data. We just kicked the can down the road:</p>\n<ul>\n<li>How does a JVM implement locking? By relying on the CPU to do it.</li>\n</ul>\n<p>Which just means we now ask: ... so, how does a CPU do it?</p>\n<p>And the exact same rule applies: It does it. The docs spell out precisely what is guaranteed and what isn't - the CPU you buy today might implement the 'deal' as spelled out in the specs completely differently from another.</p>\n<p>But, generally, with similar CAS-like mechanics on a shared register that all CPU cores can see. Or, it just locks a bus (and how does <em>that</em> work - oof, it's turtles all the way down: The bus has some specification that guarantees that if you do X and Y, then you get synchronicity guarantees, and does not spell out <em>how</em> it does that).</p>\n<p>NB: CAS is sometimes called test-and-set. You might want to <a href=\"https://en.wikipedia.org/wiki/Test-and-set\" rel=\"nofollow noreferrer\">read the wikipedia page on test-and-set</a>, which also covers hardware implementations. As I showed at the top, CAS is a really useful in-between: It's easy to understand, generally easy to implement by the 'lowest level thing in the hardware', and it is easy to convey (just 3 values: Location, Expected Value, and New Value - with a single bit to be returned by the operation). With CAS in your arsenal, writing more complicated synchronicity systems is easy (such as java's <code>synchronized</code>, but also things like <code>AtomicInteger</code>'s <code>incrementAndGet()</code> which is considerably faster than using <code>synchronized</code> to get a consistent multi-core capable atomic incrementer). Hence why CAS is usually the solution used when all you can really do is ask the underlying whatever-it-may-be to provide you with the tools you need to make synchronicity promises. Hence, java code asks the JVM for CAS. The JVM asks the OS. The OS asks the CPU. The CPU asks the memory controller. The memory controller can actually natively implement the construct.</p>\n<p><strong>Important footnote</strong>: As I said at the top, this is just <strong>one</strong> way that a JVM <em>could</em> implement this stuff. You cannot rely on a JVM actually doing it this way, it might use completely different systems instead. &quot;I want to know how it works&quot; is not a particularly useful way to try to wrap your head around concurrency, because any single answer is by definition non-general (does not apply to all JVMs and all situations). The Java Memory Model section of the JVM spells out all the guarantees you do get, and if you write code that relies solely on those guarantees, your code is correct. If you rely on things you have reliably observed but which the JMM doesn't guarantee, you have a very very nasty thing: A bug in your code, that you cannot possibly test for. Your code will work fine today, and tomorrow, but next week it starts failing. Or it works for you but fails on tuesdays. Or it works for you but not for your important customer. And so on.</p>\n"}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690897706,"answer_count":1,"score":0,"last_activity_date":1690825597,"creation_date":1690819104,"question_id":76805290,"body_markdown":"I am trying to understand multi-threading, and thread safety. Java obviously has keywords such as Synchronized to achieve that. \r\n\r\nHowever, consider this scenario.\r\n\r\nLet&#39;s say our CPU has multiple cores, so can we can execute more than one instruction at a time. So, if the instruction to obtain lock in executed -in parallel, simultaneously- on multiple cores for multiple threads, how will that work -at a high level-?\r\n","title":"How does thread locking work -on a high level- in the context of multiple core?","body":"<p>I am trying to understand multi-threading, and thread safety. Java obviously has keywords such as Synchronized to achieve that.</p>\n<p>However, consider this scenario.</p>\n<p>Let's say our CPU has multiple cores, so can we can execute more than one instruction at a time. So, if the instruction to obtain lock in executed -in parallel, simultaneously- on multiple cores for multiple threads, how will that work -at a high level-?</p>\n"},{"tags":["java","ant","findbugs"],"answers":[{"tags":[],"owner":{"account_id":61460,"reputation":76806,"user_id":183172,"display_name":"martin clayton"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690825314,"creation_date":1285867703,"answer_id":3833200,"question_id":3832592,"body_markdown":"For the floating point warning, you should bear in mind that floats are an **inexact** type.  A standard reference oft given for this (which is worth reading once perhaps) is:\r\n\r\n_[What Every Computer Scientist Should Know About Floating-Point Arithmetic][1]_ by David Goldberg.\r\n\r\nBecause floats are not exact values - even if they _look_ the same when rounded up to a few decimals - they can differ very slightly, and fail to match.\r\n\r\nThe [Comparable interface][2] expects a certain behaviour by its implementor; the warning is telling you you are not adhering to that, and offering suggested actions.\r\n\r\n\r\n  [1]: https://www.itu.dk/~sestoft/bachelor/IEEE754_article.pdf\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html","title":"Test for floating point equality. (FE_FLOATING_POINT_EQUALITY)","body":"<p>For the floating point warning, you should bear in mind that floats are an <strong>inexact</strong> type.  A standard reference oft given for this (which is worth reading once perhaps) is:</p>\n<p><em><a href=\"https://www.itu.dk/%7Esestoft/bachelor/IEEE754_article.pdf\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></em> by David Goldberg.</p>\n<p>Because floats are not exact values - even if they <em>look</em> the same when rounded up to a few decimals - they can differ very slightly, and fail to match.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable interface</a> expects a certain behaviour by its implementor; the warning is telling you you are not adhering to that, and offering suggested actions.</p>\n"},{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":2,"up_vote_count":21,"is_accepted":true,"score":19,"last_activity_date":1286129570,"creation_date":1286129570,"answer_id":3850944,"question_id":3832592,"body_markdown":"Problem 1:\r\n\r\nFor the FE_FLOATING_POINT_EQUALITY issue, you should not be comparing two float values directly with the `==` operator, since due to tiny rounding errors, the values might be semantically &quot;equal&quot; for your application even if the condition `value1 == value2` does not hold true.\r\n\r\nIn order to fix this, modify your code as follows:\r\n\r\n    private boolean equals(final Quantity other) {\r\n        return (Math.abs(this.mAmount - convertedAmount(other)) &lt; EPSILON);\r\n    }\r\n\r\nWhere EPSILON is a constant that you should define in your code, and represents small differences that are acceptable to your application, e.g. .0000001.\r\n\r\nProblem 2:\r\n\r\nFor the EQ_COMPARETO_USE_OBJECT_EQUALS issue: It is strongly recommended that wherever `x.compareTo(y)` returns zero, `x.equals(y)` should be `true`. In your code you have implemented `compareTo`, but you have not overriden `equals`, so you are inheriting the implementation of `equals` from `Object`, and the above condition is not met.\r\n\r\nIn order to fix this, override `equals` (and perhaps `hashCode`) in your class, so that when `x.compareTo(y)` returns 0, then `x.equals(y)` will return `true`.\r\n","title":"Test for floating point equality. (FE_FLOATING_POINT_EQUALITY)","body":"<p>Problem 1:</p>\n\n<p>For the FE_FLOATING_POINT_EQUALITY issue, you should not be comparing two float values directly with the <code>==</code> operator, since due to tiny rounding errors, the values might be semantically \"equal\" for your application even if the condition <code>value1 == value2</code> does not hold true.</p>\n\n<p>In order to fix this, modify your code as follows:</p>\n\n<pre><code>private boolean equals(final Quantity other) {\n    return (Math.abs(this.mAmount - convertedAmount(other)) &lt; EPSILON);\n}\n</code></pre>\n\n<p>Where EPSILON is a constant that you should define in your code, and represents small differences that are acceptable to your application, e.g. .0000001.</p>\n\n<p>Problem 2:</p>\n\n<p>For the EQ_COMPARETO_USE_OBJECT_EQUALS issue: It is strongly recommended that wherever <code>x.compareTo(y)</code> returns zero, <code>x.equals(y)</code> should be <code>true</code>. In your code you have implemented <code>compareTo</code>, but you have not overriden <code>equals</code>, so you are inheriting the implementation of <code>equals</code> from <code>Object</code>, and the above condition is not met.</p>\n\n<p>In order to fix this, override <code>equals</code> (and perhaps <code>hashCode</code>) in your class, so that when <code>x.compareTo(y)</code> returns 0, then <code>x.equals(y)</code> will return <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1448631721,"creation_date":1429624401,"answer_id":29774250,"question_id":3832592,"body_markdown":"I do not agree with the answers above.\r\nEquals and compareTo are the wrong place to introduce epsilons in floating point comparisons.\r\n\r\nFloating point values can be compared exactly by equals and compareTo, just using the &quot;==&quot; operator.  \r\nIf your application, uses floats that are a **result of calculation**, need to compare these values with  the epsilon approach, it should do that only in that place where this is needed. E.g in a mathematical line intersection method.  \r\nBut not in equals and compareTo.\r\n\r\nThis warning is very misleading. It means comparing two floats where at leats one is a result of an calculation might give unexpected result.\r\nHowever, often such floats, to compare, are not a result of a calculation, like\r\n\r\n    static final double INVALID_VALUE = -99.0;\r\n    if (f == INVALID_VALUE)\r\nwhere f is initialized with INVALID_VALUE, will in java always work perfectly.\r\nBut findbugs and sonarcube will still complain.\r\n\r\nSo just add an ignore filter to findbugs, asuming you have two classes MyPoint2D and Myrectangle2D\r\n\r\n    &lt;Match&gt;\r\n    \t\t&lt;OR&gt;\r\n    \t\t\t&lt;Class name=&quot;~.*\\.MyPoint2D&quot; /&gt;\r\n    \t\t\t&lt;Class name=&quot;~.*\\.MyRectangle2D&quot; /&gt;\r\n    \t\t&lt;/OR&gt;\r\n    \t\t&lt;Bug code=&quot;FE&quot; /&gt;\r\n    \t\t&lt;Justification author=&quot;My Name&quot; /&gt;\r\n    \t\t&lt;Justification\r\n    \t\t\ttext=&quot;Floating point equals works (here).&quot; /&gt;\r\n    \t&lt;/Match&gt;","title":"Test for floating point equality. (FE_FLOATING_POINT_EQUALITY)","body":"<p>I do not agree with the answers above.\nEquals and compareTo are the wrong place to introduce epsilons in floating point comparisons.</p>\n\n<p>Floating point values can be compared exactly by equals and compareTo, just using the \"==\" operator.<br>\nIf your application, uses floats that are a <strong>result of calculation</strong>, need to compare these values with  the epsilon approach, it should do that only in that place where this is needed. E.g in a mathematical line intersection method.<br>\nBut not in equals and compareTo.</p>\n\n<p>This warning is very misleading. It means comparing two floats where at leats one is a result of an calculation might give unexpected result.\nHowever, often such floats, to compare, are not a result of a calculation, like</p>\n\n<pre><code>static final double INVALID_VALUE = -99.0;\nif (f == INVALID_VALUE)\n</code></pre>\n\n<p>where f is initialized with INVALID_VALUE, will in java always work perfectly.\nBut findbugs and sonarcube will still complain.</p>\n\n<p>So just add an ignore filter to findbugs, asuming you have two classes MyPoint2D and Myrectangle2D</p>\n\n<pre><code>&lt;Match&gt;\n        &lt;OR&gt;\n            &lt;Class name=\"~.*\\.MyPoint2D\" /&gt;\n            &lt;Class name=\"~.*\\.MyRectangle2D\" /&gt;\n        &lt;/OR&gt;\n        &lt;Bug code=\"FE\" /&gt;\n        &lt;Justification author=\"My Name\" /&gt;\n        &lt;Justification\n            text=\"Floating point equals works (here).\" /&gt;\n    &lt;/Match&gt;\n</code></pre>\n"}],"owner":{"account_id":155255,"reputation":9075,"user_id":2186261,"accept_rate":55,"display_name":"taraloca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35349,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":3850944,"answer_count":3,"score":23,"last_activity_date":1690825314,"creation_date":1285863213,"question_id":3832592,"body_markdown":"I am using a findbugs in an ANT script and I can&#39;t figure out how to fix two of my errors.  I have read the documentation, but don&#39;t understand.  Here are my errors and the code that goes with them:\r\n\r\nError 1: Test for floating point equality. (FE_FLOATING_POINT_EQUALITY)\r\n\r\n    private boolean equals(final Quantity other) {\r\n        return this.mAmount == convertedAmount(other);\r\n    }\r\n\r\nError 2:  EQ_COMPARETO_USE_OBJECT_EQUALS\r\n\r\n    public final int compareTo(final Object other) {\r\n        return this.description().compareTo(((Decision) other).description());\r\n    }\r\n\r\nI&#39;ve read the documentation for the ComparesTo issue that states \r\n\r\n&gt; It is strongly recommended, but not strictly required that (x.compareTo(y)==0) == (x.equals(y)). Generally speaking, any class that implements the Comparable interface and violates this condition should clearly indicate this fact. The recommended language is &quot;Note: this class has a natural ordering that is inconsistent with equals.&quot;\r\n\r\nand also the docs regarding the floating point equality\r\n\r\n&gt; This operation compares two floating point values for equality. Because floating point calculations may involve rounding, calculated float and double values may not be accurate. For values that must be precise, such as monetary values, consider using a fixed-precision type such as BigDecimal. For values that need not be precise, consider comparing for equality within some range, for example: if ( Math.abs(x - y) &lt; .0000001 ). See the Java Language Specification, section 4.2.4. \r\n\r\nI don&#39;t get it though.  Can anyone please help?","title":"Test for floating point equality. (FE_FLOATING_POINT_EQUALITY)","body":"<p>I am using a findbugs in an ANT script and I can't figure out how to fix two of my errors.  I have read the documentation, but don't understand.  Here are my errors and the code that goes with them:</p>\n\n<p>Error 1: Test for floating point equality. (FE_FLOATING_POINT_EQUALITY)</p>\n\n<pre><code>private boolean equals(final Quantity other) {\n    return this.mAmount == convertedAmount(other);\n}\n</code></pre>\n\n<p>Error 2:  EQ_COMPARETO_USE_OBJECT_EQUALS</p>\n\n<pre><code>public final int compareTo(final Object other) {\n    return this.description().compareTo(((Decision) other).description());\n}\n</code></pre>\n\n<p>I've read the documentation for the ComparesTo issue that states </p>\n\n<blockquote>\n  <p>It is strongly recommended, but not strictly required that (x.compareTo(y)==0) == (x.equals(y)). Generally speaking, any class that implements the Comparable interface and violates this condition should clearly indicate this fact. The recommended language is \"Note: this class has a natural ordering that is inconsistent with equals.\"</p>\n</blockquote>\n\n<p>and also the docs regarding the floating point equality</p>\n\n<blockquote>\n  <p>This operation compares two floating point values for equality. Because floating point calculations may involve rounding, calculated float and double values may not be accurate. For values that must be precise, such as monetary values, consider using a fixed-precision type such as BigDecimal. For values that need not be precise, consider comparing for equality within some range, for example: if ( Math.abs(x - y) &lt; .0000001 ). See the Java Language Specification, section 4.2.4. </p>\n</blockquote>\n\n<p>I don't get it though.  Can anyone please help?</p>\n"},{"tags":["java","prometheus","spring-boot-actuator","druid"],"owner":{"account_id":29127150,"reputation":1,"user_id":22313229,"display_name":"Данил Матросов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690824876,"creation_date":1690805810,"question_id":76803535,"body_markdown":"I have such problem: i need to use tags of Counter\r\n\r\nHere Im adding tags to counter:\r\n\r\n```\r\nCounter.Builder counterBuilder = Counter.builder(&quot;kafka_messages_total&quot;);\r\n\r\n    public void addMoreInfo(Map&lt;String, String&gt; messageInfo) {\r\n            messageInfo.forEach((key, value) -&gt;\r\n                    counterBuilder.tag(key, value)\r\n            );\r\n            counterBuilder\r\n                    .register(meterRegistry)\r\n                    .increment();\r\n        }\r\n```\r\n\r\noutput from terminal (actuator/prometheus):\r\nkafka_messages_total{product_fabric_code=&quot;A&quot;, scenario_code=&quot;B&quot;}\r\n\r\nI want to filter graph by this tags. I&#39;ve tried to create variables in grafana but nothing works.\r\nIf you need additional information tell me.","title":"How to use tags of counter in Grafana?","body":"<p>I have such problem: i need to use tags of Counter</p>\n<p>Here Im adding tags to counter:</p>\n<pre><code>Counter.Builder counterBuilder = Counter.builder(&quot;kafka_messages_total&quot;);\n\n    public void addMoreInfo(Map&lt;String, String&gt; messageInfo) {\n            messageInfo.forEach((key, value) -&gt;\n                    counterBuilder.tag(key, value)\n            );\n            counterBuilder\n                    .register(meterRegistry)\n                    .increment();\n        }\n</code></pre>\n<p>output from terminal (actuator/prometheus):\nkafka_messages_total{product_fabric_code=&quot;A&quot;, scenario_code=&quot;B&quot;}</p>\n<p>I want to filter graph by this tags. I've tried to create variables in grafana but nothing works.\nIf you need additional information tell me.</p>\n"},{"tags":["java","android","regex","stream","inputstream"],"comments":[{"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":1,"creation_date":1499945970,"post_id":45079436,"comment_id":77131283,"body_markdown":"https://github.com/rwitzel/streamflyer","body":"<a href=\"https://github.com/rwitzel/streamflyer\" rel=\"nofollow noreferrer\">github.com/rwitzel/streamflyer</a>"},{"owner":{"account_id":2342562,"reputation":1082,"user_id":2053532,"accept_rate":17,"display_name":"Anton Kizema"},"score":0,"creation_date":1499948462,"post_id":45079436,"comment_id":77133156,"body_markdown":"My inputStream is a stream consisted of bytes, lib would not wotk. Maybe there are other solutions?","body":"My inputStream is a stream consisted of bytes, lib would not wotk. Maybe there are other solutions?"}],"answers":[{"tags":[],"owner":{"account_id":2342562,"reputation":1082,"user_id":2053532,"accept_rate":17,"display_name":"Anton Kizema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1581528545,"creation_date":1500018290,"answer_id":45097470,"question_id":45079436,"body_markdown":"Managed to get it working with github.com/rwitzel/streamflyer library.\r\nif app.gradle we have:\r\n\r\n    compile &#39;com.github.rwitzel.streamflyer:streamflyer-core:1.2.0&#39;;\r\n\r\nExample:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.charset.Charset;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.commons.io.input.ReaderInputStream;\r\n    \r\n    import com.github.rwitzel.streamflyer.core.ModifyingReader;\r\n    import com.github.rwitzel.streamflyer.regex.RegexModifier;\r\n    \r\n    public class InputStreamModifiedWithRegex {\r\n    \tprivate static final Charset ENCODE_CHARSET = Charset.forName(&quot;UTF-8&quot;);\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tInputStream input = IOUtils.toInputStream(&quot;AB CD EF&quot;);\r\n    \t\tInputStream updatedInput = applyRegex(input, &quot;[A-C]&quot;, &quot;Z&quot;);\r\n    \t\tSystem.out.println(IOUtils.toString(updatedInput, ENCODE_CHARSET));\r\n    \t}\r\n    \r\n    \tprivate static InputStream applyRegex(InputStream inputStream, String pattern, String changeString)\r\n    \t\t\tthrows UnsupportedEncodingException {\r\n    \t\tReader originalReader = new InputStreamReader(inputStream, ENCODE_CHARSET);\r\n    \t\tReader modifyingReader = new ModifyingReader(originalReader, new RegexModifier(pattern, 0, changeString));\r\n    \t\tinputStream = new ReaderInputStream(modifyingReader, ENCODE_CHARSET);\r\n    \r\n    \t\treturn inputStream;\r\n    \t}\r\n    }","title":"Change InputStream by applying regex on it","body":"<p>Managed to get it working with github.com/rwitzel/streamflyer library.\nif app.gradle we have:</p>\n\n<pre><code>compile 'com.github.rwitzel.streamflyer:streamflyer-core:1.2.0';\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.charset.Charset;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.io.input.ReaderInputStream;\n\nimport com.github.rwitzel.streamflyer.core.ModifyingReader;\nimport com.github.rwitzel.streamflyer.regex.RegexModifier;\n\npublic class InputStreamModifiedWithRegex {\n    private static final Charset ENCODE_CHARSET = Charset.forName(\"UTF-8\");\n\n    public static void main(String[] args) throws IOException {\n        InputStream input = IOUtils.toInputStream(\"AB CD EF\");\n        InputStream updatedInput = applyRegex(input, \"[A-C]\", \"Z\");\n        System.out.println(IOUtils.toString(updatedInput, ENCODE_CHARSET));\n    }\n\n    private static InputStream applyRegex(InputStream inputStream, String pattern, String changeString)\n            throws UnsupportedEncodingException {\n        Reader originalReader = new InputStreamReader(inputStream, ENCODE_CHARSET);\n        Reader modifyingReader = new ModifyingReader(originalReader, new RegexModifier(pattern, 0, changeString));\n        inputStream = new ReaderInputStream(modifyingReader, ENCODE_CHARSET);\n\n        return inputStream;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2342562,"reputation":1082,"user_id":2053532,"accept_rate":17,"display_name":"Anton Kizema"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":45097470,"answer_count":1,"score":0,"last_activity_date":1690823823,"creation_date":1499945700,"question_id":45079436,"body_markdown":"I have an InputStream downloaded from the internet. And I need to apply regex on it - so that all occurrences of that regex would be changed to string, which is provided.\r\nI need an InputStream as a return value since it should be forwarded to an API.\r\n\r\nBasically, such signature would be the best:\r\n\r\n    InputStream applyRegex(InputStream stream, Pattern pattern, String changeString){\r\n        ...\r\n    }\r\n\r\nI have very basic knowledge of working with streams, please give an answer in method form, if it is possible.\r\n\r\nBy the way, input stream I receive has size 0, until I call method read(byte[])","title":"Change InputStream by applying regex on it","body":"<p>I have an InputStream downloaded from the internet. And I need to apply regex on it - so that all occurrences of that regex would be changed to string, which is provided.\nI need an InputStream as a return value since it should be forwarded to an API.</p>\n<p>Basically, such signature would be the best:</p>\n<pre><code>InputStream applyRegex(InputStream stream, Pattern pattern, String changeString){\n    ...\n}\n</code></pre>\n<p>I have very basic knowledge of working with streams, please give an answer in method form, if it is possible.</p>\n<p>By the way, input stream I receive has size 0, until I call method read(byte[])</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1690823662,"creation_date":1472976656,"answer_id":39314867,"question_id":39314176,"body_markdown":"As you have observed, Spring Boot will automatically register any bean that is a `Filter` with the servlet container. One option is to not expose your `Filter` as a bean and only register it with Spring Security.\r\n\r\nIf you want to be able to autowire dependencies into your `Filter` then it has to be a bean. That means you need to tell Spring Boot not to register it as a `Filter`. As [described in the documentation](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-disable-registration-of-a-servlet-or-filter), you do that using a `FilterRegistrationBean`:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean registration(MyFilter filter) {\r\n        FilterRegistrationBean registration = new FilterRegistrationBean(filter);\r\n        registration.setEnabled(false);\r\n        return registration;\r\n    }\r\n\r\n","title":"Filter invoke twice when register as Spring bean","body":"<p>As you have observed, Spring Boot will automatically register any bean that is a <code>Filter</code> with the servlet container. One option is to not expose your <code>Filter</code> as a bean and only register it with Spring Security.</p>\n<p>If you want to be able to autowire dependencies into your <code>Filter</code> then it has to be a bean. That means you need to tell Spring Boot not to register it as a <code>Filter</code>. As <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-disable-registration-of-a-servlet-or-filter\" rel=\"nofollow noreferrer\">described in the documentation</a>, you do that using a <code>FilterRegistrationBean</code>:</p>\n<pre><code>@Bean\npublic FilterRegistrationBean registration(MyFilter filter) {\n    FilterRegistrationBean registration = new FilterRegistrationBean(filter);\n    registration.setEnabled(false);\n    return registration;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18016916,"reputation":1,"user_id":13095208,"display_name":"Rezo Kobaidze"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655551711,"creation_date":1655399415,"answer_id":72649547,"question_id":39314176,"body_markdown":"Removing `@Component` from the filter class helped me.\r\n\r\n```java\r\npublic class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n}\r\n```","title":"Filter invoke twice when register as Spring bean","body":"<p>Removing <code>@Component</code> from the filter class helped me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthTokenFilter extends OncePerRequestFilter {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6413483,"reputation":1053,"user_id":4972367,"display_name":"Hardik Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669900849,"creation_date":1669900849,"answer_id":74642554,"question_id":39314176,"body_markdown":"If you are on Spring 6.0.2 or plus version and if using `OncePerRequestFilter`, \r\nOverriding `shouldNotFilter` method as follows will work.\r\n\r\n        @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) {\r\n            return request.getServletPath().contains(&quot;/api/path/which/needs/to/exclude&quot;);\r\n        }","title":"Filter invoke twice when register as Spring bean","body":"<p>If you are on Spring 6.0.2 or plus version and if using <code>OncePerRequestFilter</code>,\nOverriding <code>shouldNotFilter</code> method as follows will work.</p>\n<pre><code>    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        return request.getServletPath().contains(&quot;/api/path/which/needs/to/exclude&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10904,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":39314867,"answer_count":3,"score":12,"last_activity_date":1690823662,"creation_date":1472970692,"question_id":39314176,"body_markdown":"I want to use `@Autowire` with a `Filter`. So I define my filter in the `SecurityConfig` as below: \r\n\r\n\r\n        @Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \t\thttp.addFilterBefore(getA(), BasicAuthenticationFilter.class);\r\n    \t    http.csrf().disable();\r\n    \t}\r\n    \r\n        @Bean\r\n    \tpublic A getA(){\r\n    \t    return new A();\r\n    \t}\r\n\r\nThis filter `A` extends Spring&#39;s `GenericFilterBean`.\r\n\r\nI get below output when I invoke the controller, which shows the filter hits twice.\r\n\t\r\n    filter A before\r\n    filter A before\r\n    mycontroller invoke\r\n    filter A after\r\n    filter A after\r\n\r\nMy observation is, this extra invocation invoke with Spring container because if filter is not register as bean, it only get hits once. What is the reason and how can I fix it?","title":"Filter invoke twice when register as Spring bean","body":"<p>I want to use <code>@Autowire</code> with a <code>Filter</code>. So I define my filter in the <code>SecurityConfig</code> as below: </p>\n\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(getA(), BasicAuthenticationFilter.class);\n        http.csrf().disable();\n    }\n\n    @Bean\n    public A getA(){\n        return new A();\n    }\n</code></pre>\n\n<p>This filter <code>A</code> extends Spring's <code>GenericFilterBean</code>.</p>\n\n<p>I get below output when I invoke the controller, which shows the filter hits twice.</p>\n\n<pre><code>filter A before\nfilter A before\nmycontroller invoke\nfilter A after\nfilter A after\n</code></pre>\n\n<p>My observation is, this extra invocation invoke with Spring container because if filter is not register as bean, it only get hits once. What is the reason and how can I fix it?</p>\n"},{"tags":["java","sql","mybatis"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1494840915,"post_id":43975823,"comment_id":74981456,"body_markdown":"The `param` variable in your example is unused. What is the `whereCondition` string you pass to `sqlSession.selectList()`?","body":"The <code>param</code> variable in your example is unused. What is the <code>whereCondition</code> string you pass to <code>sqlSession.selectList()</code>?"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1494841137,"post_id":43975823,"comment_id":74981618,"body_markdown":"I think you&#39;re not using the API correctly. Have a look at the examples in this question: [Passing multiple arguments into a SELECT without using a complex object](http://stackoverflow.com/questions/9308210/passing-multiple-arguments-into-a-select-without-using-a-complex-object), which uses one field/value per map element in the WHERE condition.","body":"I think you&#39;re not using the API correctly. Have a look at the examples in this question: <a href=\"http://stackoverflow.com/questions/9308210/passing-multiple-arguments-into-a-select-without-using-a-complex-object\">Passing multiple arguments into a SELECT without using a complex object</a>, which uses one field/value per map element in the WHERE condition."},{"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"score":0,"creation_date":1494841536,"post_id":43975823,"comment_id":74981889,"body_markdown":"@MickMnemonic But i need to replace all where condition","body":"@MickMnemonic But i need to replace all where condition"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1494842364,"post_id":43975823,"comment_id":74982406,"body_markdown":"I think the syntax for that is different in the XML. Did you have a look at the docs for [Dynamic SQL](http://www.mybatis.org/mybatis-3/dynamic-sql.html)?","body":"I think the syntax for that is different in the XML. Did you have a look at the docs for <a href=\"http://www.mybatis.org/mybatis-3/dynamic-sql.html\" rel=\"nofollow noreferrer\">Dynamic SQL</a>?"}],"answers":[{"tags":[],"owner":{"account_id":7890476,"reputation":12318,"user_id":5960800,"accept_rate":67,"display_name":"Blank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1494851437,"creation_date":1494850971,"answer_id":43979454,"question_id":43975823,"body_markdown":"Try to use `${...}` to refer parameter `whereCondition`:\r\n\r\n    &lt;select id=&quot;findMyTableByWhereCondition&quot; parameterType=&quot;map&quot; resultMap=&quot;mytable&quot;&gt;\r\n       SELECT *\r\n       FROM mytable m \r\n       &lt;where&gt;${whereCondition}&lt;/where&gt;\r\n    &lt;/select&gt;\r\n\r\nDocument wrote:\r\n&gt; By default, using the #{} syntax will cause MyBatis to generate PreparedStatement properties and set the values safely against the PreparedStatement parameters (e.g. ?). While this is safer, faster and almost always preferred, sometimes you just want to directly inject an unmodified string into the SQL Statement. For example, for ORDER BY, you might use something like this:  \r\n`ORDER BY ${columnName}`   \r\nHere MyBatis won&#39;t modify or escape the string.\r\n\r\n\r\n***Note:*** Use `$` will cause  SQL Injection attack, you&#39;d better read [Dynamic SQL][1] from official doc and try to construct sql like that.\r\n\r\n\r\n  [1]: http://www.mybatis.org/mybatis-3/dynamic-sql.html","title":"MyBatis: dynamic where condition","body":"<p>Try to use <code>${...}</code> to refer parameter <code>whereCondition</code>:</p>\n\n<pre><code>&lt;select id=\"findMyTableByWhereCondition\" parameterType=\"map\" resultMap=\"mytable\"&gt;\n   SELECT *\n   FROM mytable m \n   &lt;where&gt;${whereCondition}&lt;/where&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Document wrote:</p>\n\n<blockquote>\n  <p>By default, using the #{} syntax will cause MyBatis to generate PreparedStatement properties and set the values safely against the PreparedStatement parameters (e.g. ?). While this is safer, faster and almost always preferred, sometimes you just want to directly inject an unmodified string into the SQL Statement. For example, for ORDER BY, you might use something like this:<br>\n  <code>ORDER BY ${columnName}</code><br>\n  Here MyBatis won't modify or escape the string.</p>\n</blockquote>\n\n<p><strong><em>Note:</em></strong> Use <code>$</code> will cause  SQL Injection attack, you'd better read <a href=\"http://www.mybatis.org/mybatis-3/dynamic-sql.html\" rel=\"nofollow noreferrer\">Dynamic SQL</a> from official doc and try to construct sql like that.</p>\n"},{"tags":[],"owner":{"account_id":29102099,"reputation":1,"user_id":22293714,"display_name":"user22293714"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690823352,"creation_date":1690451469,"answer_id":76778523,"question_id":43975823,"body_markdown":"Please go through this link https://mybatis.org/mybatis-dynamic-sql/docs/conditions.html\r\n\r\n    List&lt;Animal&gt; search(String searchName){\r\n            SelectStatementProvider selectStatement=select(id,animalName,bodyWeight,brainWeight)\r\n            .from(animalData)\r\n            .where(animalName,isLike(searchName).map(this::appendWildCards))\r\n            .orderBy(id)\r\n            .build()\r\n            .render(RenderingStrategies.MYBATIS3);\r\n    }\r\n            \r\n    String appendWildCards(String in) {\r\n        return &quot;%&quot; + in + &quot;%&quot;;\r\n    }","title":"MyBatis: dynamic where condition","body":"<p>Please go through this link <a href=\"https://mybatis.org/mybatis-dynamic-sql/docs/conditions.html\" rel=\"nofollow noreferrer\">https://mybatis.org/mybatis-dynamic-sql/docs/conditions.html</a></p>\n<pre><code>List&lt;Animal&gt; search(String searchName){\n        SelectStatementProvider selectStatement=select(id,animalName,bodyWeight,brainWeight)\n        .from(animalData)\n        .where(animalName,isLike(searchName).map(this::appendWildCards))\n        .orderBy(id)\n        .build()\n        .render(RenderingStrategies.MYBATIS3);\n}\n        \nString appendWildCards(String in) {\n    return &quot;%&quot; + in + &quot;%&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29102099,"reputation":1,"user_id":22293714,"display_name":"user22293714"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690457838,"creation_date":1690457838,"answer_id":76779344,"question_id":43975823,"body_markdown":"for SQL server &quot;... LIKE &#39;%&#39; + #{param} + &#39;%&#39; ...&quot;\r\n\r\nfor ORACLE &quot;... LIKE &#39;%&#39; || #{param} || &#39;%&#39; ...&quot;\r\n\r\nref : https://mybatis.org/mybatis-3/java-api.html","title":"MyBatis: dynamic where condition","body":"<p>for SQL server &quot;... LIKE '%' + #{param} + '%' ...&quot;</p>\n<p>for ORACLE &quot;... LIKE '%' || #{param} || '%' ...&quot;</p>\n<p>ref : <a href=\"https://mybatis.org/mybatis-3/java-api.html\" rel=\"nofollow noreferrer\">https://mybatis.org/mybatis-3/java-api.html</a></p>\n"}],"owner":{"account_id":2363845,"reputation":2893,"user_id":2069976,"accept_rate":51,"display_name":"Skizzo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43979454,"answer_count":3,"score":2,"last_activity_date":1690823352,"creation_date":1494840458,"question_id":43975823,"body_markdown":"I&#39;m new to myBatis and I need to put where statement inside my query. \r\n\r\nMy mapper is defined in this way:\r\n    \r\n    &lt;select id=&quot;findMyTableByWhereCondition&quot; parameterType=&quot;map&quot; resultMap=&quot;mytable&quot;&gt;\r\n       SELECT *\r\n       FROM mytable m \r\n       &lt;where&gt;#{whereCondition}&lt;/where&gt;\r\n    &lt;/select&gt;\r\n\r\nMy Dao:\r\n\r\n    public List&lt;MyTalbe&gt; findMyTableByWhereCondition(String whereCondition) {\r\n    \t\tMap&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n    \t\tparam.put(&quot;whereCondition&quot;, &quot;m.name = &#39;Test&#39; and m.surname= &#39;Test&#39;&quot;);\r\n    \t\treturn sqlSession.selectList(&quot;findMyTableByWhereCondition&quot;, param );\r\n    \t}\r\n\r\nWhen I try to execute this query, i get &quot;Invalid relational operator&quot;. What is the best practice to handle this kind of query? I need to replace it over the &quot;where&quot; because this might change too often and it may even be very complex.\r\n\r\nThanks in advance","title":"MyBatis: dynamic where condition","body":"<p>I'm new to myBatis and I need to put where statement inside my query.</p>\n<p>My mapper is defined in this way:</p>\n<pre><code>&lt;select id=&quot;findMyTableByWhereCondition&quot; parameterType=&quot;map&quot; resultMap=&quot;mytable&quot;&gt;\n   SELECT *\n   FROM mytable m \n   &lt;where&gt;#{whereCondition}&lt;/where&gt;\n&lt;/select&gt;\n</code></pre>\n<p>My Dao:</p>\n<pre><code>public List&lt;MyTalbe&gt; findMyTableByWhereCondition(String whereCondition) {\n        Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\n        param.put(&quot;whereCondition&quot;, &quot;m.name = 'Test' and m.surname= 'Test'&quot;);\n        return sqlSession.selectList(&quot;findMyTableByWhereCondition&quot;, param );\n    }\n</code></pre>\n<p>When I try to execute this query, i get &quot;Invalid relational operator&quot;. What is the best practice to handle this kind of query? I need to replace it over the &quot;where&quot; because this might change too often and it may even be very complex.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1690822374,"post_id":76805587,"comment_id":135403349,"body_markdown":"Please do provide a complete compilable code!","body":"Please do provide a complete compilable code!"},{"owner":{"account_id":29130388,"reputation":1,"user_id":22315813,"display_name":"Влад КК"},"score":0,"creation_date":1690823338,"post_id":76805587,"comment_id":135403534,"body_markdown":"can i send link on my app at github? It will be not work if i sent full code because i work in android studio. https://github.com/Xinox1231/TicTacToe","body":"can i send link on my app at github? It will be not work if i sent full code because i work in android studio. <a href=\"https://github.com/Xinox1231/TicTacToe\" rel=\"nofollow noreferrer\">github.com/Xinox1231/TicTacToe</a>"}],"owner":{"account_id":29130388,"reputation":1,"user_id":22315813,"display_name":"Влад КК"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690823350,"creation_date":1690821670,"question_id":76805587,"body_markdown":"The problem is that the bot puts the zeros one after the other, and does not choose the best option for it. He has a chance not to lose, but he stubbornly ignores my next victory. It may seem silly, but I haven&#39;t been able to solve this problem for 4 days. Stackoverflow is probably the last chance for me to solve this problem.\r\nI have 2 main classes: GameLogic and TicTacToeBoard. In Tic Tac Toe Board, the logic of the bot&#39;s move is executed. The field is represented by a two-dimensional array. Player 1 is a human, 2 is a bot. \r\nI update the field using the update Game Board and setCell methods. the check Res method checks the state of the game.\r\n\r\n\r\nHere are the main parts of the code I use. sry it a lot\r\n\r\n\r\n\r\n```\r\nclass GameLogic{\r\nprivate int[][] gameBoard;\r\nprivate int player = 1;\r\n//1st element —&gt; row, 2nd element —&gt; col, 3rd —&gt; line type\r\nprivate int[] wintype = {-1, -1, -1};\r\n\r\npublic boolean updateGameBoard(int row, int col, boolean show){ //works if cell is empty\r\n        if(gameBoard[row-1][col-1] == 0){ //if cell is empty\r\n            gameBoard[row-1][col-1] = player; //a cell number is assigned\r\n            if(player == 1 &amp;&amp; show){ //if human\r\n                playerTurn.setText(playerNames[1] + &quot;&#39;s turn&quot;);\r\n            }\r\n            else if(player == 2 &amp;&amp; show){ //if bot\r\n                playerTurn.setText(playerNames[0] + &quot;&#39;s turn&quot;);\r\n            }\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\npublic String checkRes(){\r\n        boolean isWinner = false;\r\n        for(int r=0; r&lt;3; r++){\r\n            if(gameBoard[r][0] == gameBoard[r][1] &amp;&amp; gameBoard[r][0] == gameBoard[r][2] &amp;&amp; gameBoard[r][0] != 0){\r\n                wintype = new int[]{r, 0, 1};\r\n                isWinner = true;\r\n            }\r\n        }\r\n        for(int c=0; c&lt;3; c++){\r\n            if(gameBoard[0][c] == gameBoard[1][c] &amp;&amp; gameBoard[2][c] == gameBoard[0][c] &amp;&amp; gameBoard[0][c] != 0){\r\n                wintype = new int[]{0, c ,2};\r\n                isWinner = true;\r\n            }\r\n        }\r\n        if(gameBoard[0][0] == gameBoard[1][1] &amp;&amp; gameBoard[0][0] == gameBoard[2][2] &amp;&amp; gameBoard[0][0] != 0){\r\n            wintype = new int[]{0, 2 ,3};\r\n            isWinner = true;\r\n        }\r\n        else if(gameBoard[2][0] == gameBoard[1][1] &amp;&amp; gameBoard[2][0] == gameBoard[0][2] &amp;&amp; gameBoard[2][0] != 0){\r\n            wintype = new int[]{2, 2 ,4};\r\n            isWinner = true;\r\n        }\r\n        int boardFilled = 0;\r\n        for(int r=0; r&lt;3; r++){\r\n            for(int c=0; c&lt;3; c++){\r\n                if(gameBoard[r][c] != 0){\r\n                    boardFilled++;\r\n                }\r\n            }\r\n        }\r\n        if(isWinner){\r\n            return &quot;Won&quot;;\r\n        }\r\n        else if(boardFilled == 9){\r\n            return &quot;Tie&quot;;\r\n        }else{\r\n            return &quot;Continue&quot;;\r\n        }\r\n    }\r\n    public void showWin(){\r\n        playAgainBTN.setVisibility(View.VISIBLE);\r\n        homeBTN.setVisibility(View.VISIBLE);\r\n        playerTurn.setText((playerNames[player-1] + &quot; Won!&quot;));\r\n\r\n    }\r\n    public void showTie(){\r\n        playAgainBTN.setVisibility(View.VISIBLE);\r\n        homeBTN.setVisibility(View.VISIBLE);\r\n        playerTurn.setText(&quot;Tie game!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass TicTacToeBoard{\r\n   private final GameLogic game;\r\n   private boolean winningLine = false;\r\npublic boolean onTouchEvent(MotionEvent event) { //the code for processing the course of the game tic-tac-toe\r\n        float x = event.getX();\r\n        float y = event.getY();\r\n\r\n        int action = event.getAction();\r\n\r\n        if (action == MotionEvent.ACTION_DOWN &amp;&amp; game.getPlayer() == 1) {\r\n            int row = (int) Math.ceil(y / cellSize);\r\n            int col = (int) Math.ceil(x / cellSize);\r\n\r\n            if (!winningLine) {\r\n                if (game.updateGameBoard(row, col, true)) { //if there is an empty space, it assigns a value to this cell\r\n                    invalidate();\r\n                    if(game.checkRes().equals(&quot;Won&quot;)) {\r\n                        winningLine = true;\r\n                        game.showWin();\r\n                    }\r\n                    if(game.checkRes().equals(&quot;Tie&quot;)){\r\n                        game.showTie();\r\n                    }\r\n                    game.setPlayer(2);\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        else if (game.getPlayer() == 2) {\r\n            hardDifficult();\r\n        }\r\n        return false;\r\n    }\r\nprivate void hardDifficult(){\r\n        int[] bestMove = findBestMove();\r\n        num1 = bestMove[0];\r\n        num2 = bestMove[1];\r\n        if(!winningLine){\r\n            if(game.updateGameBoard(bestMove[0] + 1, bestMove[1] + 1, true)){\r\n                invalidate();\r\n                if(game.checkRes().equals(&quot;Won&quot;)){\r\n                    winningLine = true;\r\n                    game.showWin();\r\n\r\n                }\r\n                if(game.checkRes().equals(&quot;Tie&quot;)){\r\n                    game.showTie();\r\n                }\r\n                game.setPlayer(1);\r\n            }\r\n        }\r\n    }\r\n    private int[] findBestMove() {\r\n        int bestScore = Integer.MIN_VALUE;\r\n        int[] bestMove = new int[2];\r\n        for (int r = 0; r &lt; 3; r++) {\r\n            for (int c = 0; c &lt; 3; c++) {\r\n                if (game.updateGameBoard(r + 1, c + 1,false)){\r\n                    int score = minimax(0, false);\r\n                    game.setCell(r,c,0);\r\n                    if (score &gt; bestScore) {\r\n                        bestScore = score;\r\n                        bestMove[0] = r;\r\n                        bestMove[1] = c;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return bestMove;\r\n    }\r\n\r\n    private int minimax(int depth, boolean isMaximizing) {\r\n        if (game.checkRes().equals(&quot;Won&quot;)) {\r\n            showInfo[0] = evaluateScore();\r\n            return evaluateScore();\r\n        }\r\n\r\n        if (isMaximizing) {\r\n            int bestScore = Integer.MIN_VALUE;\r\n            for (int r = 0; r &lt; 3; r++) {\r\n                for (int c = 0; c &lt; 3; c++) {\r\n                    if (game.updateGameBoard(r + 1, c + 1, false)){\r\n                        int score = minimax(depth+1, false);\r\n                        game.setCell(r,c,0);\r\n                        bestScore = Math.max(score, bestScore);\r\n                    }\r\n                }\r\n            }\r\n            return bestScore;\r\n        } else {\r\n            int bestScore = Integer.MAX_VALUE;\r\n            for (int r = 0; r &lt; 3; r++) {\r\n                for (int c = 0; c &lt; 3; c++) {\r\n                    if (game.updateGameBoard(r + 1, c + 1, false)){\r\n                        int score = minimax(depth+1, true);\r\n                        game.setCell(r,c,0);\r\n                        bestScore = Math.min(score, bestScore);\r\n                    }\r\n                }\r\n            }\r\n            return bestScore;\r\n        }\r\n    }\r\n\r\n    private int evaluateScore() {\r\n\r\n        if (game.checkRes().equals(&quot;Won&quot;) &amp;&amp; game.getPlayer() == 2) {\r\n// AI won\r\n            return 10;\r\n        } else if (game.checkRes().equals(&quot;Won&quot;) &amp;&amp; game.getPlayer() == 1) {\r\n// Player won\r\n            return -10;\r\n        } else if (game.checkRes().equals(&quot;Tie&quot;)) {\r\n// Game tied\r\n            return 0;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n```\r\nI tried to use chatGPT many times, fixed his code, but it still does not work. I checked guides and rewrite their code but it still does not work..\r\n\r\n","title":"The minimax algorithm for tic-tac-toe does not work correctly","body":"<p>The problem is that the bot puts the zeros one after the other, and does not choose the best option for it. He has a chance not to lose, but he stubbornly ignores my next victory. It may seem silly, but I haven't been able to solve this problem for 4 days. Stackoverflow is probably the last chance for me to solve this problem.\nI have 2 main classes: GameLogic and TicTacToeBoard. In Tic Tac Toe Board, the logic of the bot's move is executed. The field is represented by a two-dimensional array. Player 1 is a human, 2 is a bot.\nI update the field using the update Game Board and setCell methods. the check Res method checks the state of the game.</p>\n<p>Here are the main parts of the code I use. sry it a lot</p>\n<pre><code>class GameLogic{\nprivate int[][] gameBoard;\nprivate int player = 1;\n//1st element —&gt; row, 2nd element —&gt; col, 3rd —&gt; line type\nprivate int[] wintype = {-1, -1, -1};\n\npublic boolean updateGameBoard(int row, int col, boolean show){ //works if cell is empty\n        if(gameBoard[row-1][col-1] == 0){ //if cell is empty\n            gameBoard[row-1][col-1] = player; //a cell number is assigned\n            if(player == 1 &amp;&amp; show){ //if human\n                playerTurn.setText(playerNames[1] + &quot;'s turn&quot;);\n            }\n            else if(player == 2 &amp;&amp; show){ //if bot\n                playerTurn.setText(playerNames[0] + &quot;'s turn&quot;);\n            }\n            return true;\n        }else{\n            return false;\n        }\n    }\npublic String checkRes(){\n        boolean isWinner = false;\n        for(int r=0; r&lt;3; r++){\n            if(gameBoard[r][0] == gameBoard[r][1] &amp;&amp; gameBoard[r][0] == gameBoard[r][2] &amp;&amp; gameBoard[r][0] != 0){\n                wintype = new int[]{r, 0, 1};\n                isWinner = true;\n            }\n        }\n        for(int c=0; c&lt;3; c++){\n            if(gameBoard[0][c] == gameBoard[1][c] &amp;&amp; gameBoard[2][c] == gameBoard[0][c] &amp;&amp; gameBoard[0][c] != 0){\n                wintype = new int[]{0, c ,2};\n                isWinner = true;\n            }\n        }\n        if(gameBoard[0][0] == gameBoard[1][1] &amp;&amp; gameBoard[0][0] == gameBoard[2][2] &amp;&amp; gameBoard[0][0] != 0){\n            wintype = new int[]{0, 2 ,3};\n            isWinner = true;\n        }\n        else if(gameBoard[2][0] == gameBoard[1][1] &amp;&amp; gameBoard[2][0] == gameBoard[0][2] &amp;&amp; gameBoard[2][0] != 0){\n            wintype = new int[]{2, 2 ,4};\n            isWinner = true;\n        }\n        int boardFilled = 0;\n        for(int r=0; r&lt;3; r++){\n            for(int c=0; c&lt;3; c++){\n                if(gameBoard[r][c] != 0){\n                    boardFilled++;\n                }\n            }\n        }\n        if(isWinner){\n            return &quot;Won&quot;;\n        }\n        else if(boardFilled == 9){\n            return &quot;Tie&quot;;\n        }else{\n            return &quot;Continue&quot;;\n        }\n    }\n    public void showWin(){\n        playAgainBTN.setVisibility(View.VISIBLE);\n        homeBTN.setVisibility(View.VISIBLE);\n        playerTurn.setText((playerNames[player-1] + &quot; Won!&quot;));\n\n    }\n    public void showTie(){\n        playAgainBTN.setVisibility(View.VISIBLE);\n        homeBTN.setVisibility(View.VISIBLE);\n        playerTurn.setText(&quot;Tie game!&quot;);\n    }\n}\n</code></pre>\n<pre><code>class TicTacToeBoard{\n   private final GameLogic game;\n   private boolean winningLine = false;\npublic boolean onTouchEvent(MotionEvent event) { //the code for processing the course of the game tic-tac-toe\n        float x = event.getX();\n        float y = event.getY();\n\n        int action = event.getAction();\n\n        if (action == MotionEvent.ACTION_DOWN &amp;&amp; game.getPlayer() == 1) {\n            int row = (int) Math.ceil(y / cellSize);\n            int col = (int) Math.ceil(x / cellSize);\n\n            if (!winningLine) {\n                if (game.updateGameBoard(row, col, true)) { //if there is an empty space, it assigns a value to this cell\n                    invalidate();\n                    if(game.checkRes().equals(&quot;Won&quot;)) {\n                        winningLine = true;\n                        game.showWin();\n                    }\n                    if(game.checkRes().equals(&quot;Tie&quot;)){\n                        game.showTie();\n                    }\n                    game.setPlayer(2);\n                }\n            }\n            return true;\n        }\n\n        else if (game.getPlayer() == 2) {\n            hardDifficult();\n        }\n        return false;\n    }\nprivate void hardDifficult(){\n        int[] bestMove = findBestMove();\n        num1 = bestMove[0];\n        num2 = bestMove[1];\n        if(!winningLine){\n            if(game.updateGameBoard(bestMove[0] + 1, bestMove[1] + 1, true)){\n                invalidate();\n                if(game.checkRes().equals(&quot;Won&quot;)){\n                    winningLine = true;\n                    game.showWin();\n\n                }\n                if(game.checkRes().equals(&quot;Tie&quot;)){\n                    game.showTie();\n                }\n                game.setPlayer(1);\n            }\n        }\n    }\n    private int[] findBestMove() {\n        int bestScore = Integer.MIN_VALUE;\n        int[] bestMove = new int[2];\n        for (int r = 0; r &lt; 3; r++) {\n            for (int c = 0; c &lt; 3; c++) {\n                if (game.updateGameBoard(r + 1, c + 1,false)){\n                    int score = minimax(0, false);\n                    game.setCell(r,c,0);\n                    if (score &gt; bestScore) {\n                        bestScore = score;\n                        bestMove[0] = r;\n                        bestMove[1] = c;\n                    }\n                }\n            }\n        }\n        return bestMove;\n    }\n\n    private int minimax(int depth, boolean isMaximizing) {\n        if (game.checkRes().equals(&quot;Won&quot;)) {\n            showInfo[0] = evaluateScore();\n            return evaluateScore();\n        }\n\n        if (isMaximizing) {\n            int bestScore = Integer.MIN_VALUE;\n            for (int r = 0; r &lt; 3; r++) {\n                for (int c = 0; c &lt; 3; c++) {\n                    if (game.updateGameBoard(r + 1, c + 1, false)){\n                        int score = minimax(depth+1, false);\n                        game.setCell(r,c,0);\n                        bestScore = Math.max(score, bestScore);\n                    }\n                }\n            }\n            return bestScore;\n        } else {\n            int bestScore = Integer.MAX_VALUE;\n            for (int r = 0; r &lt; 3; r++) {\n                for (int c = 0; c &lt; 3; c++) {\n                    if (game.updateGameBoard(r + 1, c + 1, false)){\n                        int score = minimax(depth+1, true);\n                        game.setCell(r,c,0);\n                        bestScore = Math.min(score, bestScore);\n                    }\n                }\n            }\n            return bestScore;\n        }\n    }\n\n    private int evaluateScore() {\n\n        if (game.checkRes().equals(&quot;Won&quot;) &amp;&amp; game.getPlayer() == 2) {\n// AI won\n            return 10;\n        } else if (game.checkRes().equals(&quot;Won&quot;) &amp;&amp; game.getPlayer() == 1) {\n// Player won\n            return -10;\n        } else if (game.checkRes().equals(&quot;Tie&quot;)) {\n// Game tied\n            return 0;\n        }\n\n        return 0;\n    }\n</code></pre>\n<p>I tried to use chatGPT many times, fixed his code, but it still does not work. I checked guides and rewrite their code but it still does not work..</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7916758,"reputation":2239,"user_id":5978955,"display_name":"JArgente"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1624962624,"creation_date":1624962624,"answer_id":68176989,"question_id":68176862,"body_markdown":"You have to put the @Valid annotation just before the request body parameter, in your put endpoint you have put it before the id and because of that the validation is not working","title":"Is Validation not applicable for put request in spring boot?","body":"<p>You have to put the @Valid annotation just before the request body parameter, in your put endpoint you have put it before the id and because of that the validation is not working</p>\n"},{"tags":[],"owner":{"account_id":23879611,"reputation":1,"user_id":17880467,"display_name":"Abdi Omar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690823220,"creation_date":1690387555,"answer_id":76773169,"question_id":68176862,"body_markdown":"If you are using a `dto` package like me, you will also get these errors. So in your `dto` request you have to add the `Java` bean validations like below. So that you will validate the `requestData` of your `dto`. You can also delete the validation for the one of the entity:\r\n\r\n    package com.microspring.departementservice.dto;\r\n\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Table;\r\n    import jakarta.validation.constraints.NotEmpty;\r\n    import jakarta.validation.constraints.Size;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Builder\r\n    public class DepartementRequest {\r\n        @NotEmpty\r\n        @Size(min = 2, message = &quot; department name should have at least 2 characters&quot;)\r\n        private String departmentName;\r\n        @NotEmpty\r\n        @Size(min = 2, message = &quot; department address should have at least 2 characters&quot;)\r\n        private String departmentAddress;\r\n        @NotEmpty\r\n        @Size(min = 2, message = &quot; department code should have at least 2 characters&quot;)\r\n        private String departmentCode;\r\n    }\r\n\r\n\r\nIt worked for me and also add the valid annotation in your controller.\r\n","title":"Is Validation not applicable for put request in spring boot?","body":"<p>If you are using a <code>dto</code> package like me, you will also get these errors. So in your <code>dto</code> request you have to add the <code>Java</code> bean validations like below. So that you will validate the <code>requestData</code> of your <code>dto</code>. You can also delete the validation for the one of the entity:</p>\n<pre><code>package com.microspring.departementservice.dto;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.Size;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class DepartementRequest {\n    @NotEmpty\n    @Size(min = 2, message = &quot; department name should have at least 2 characters&quot;)\n    private String departmentName;\n    @NotEmpty\n    @Size(min = 2, message = &quot; department address should have at least 2 characters&quot;)\n    private String departmentAddress;\n    @NotEmpty\n    @Size(min = 2, message = &quot; department code should have at least 2 characters&quot;)\n    private String departmentCode;\n}\n</code></pre>\n<p>It worked for me and also add the valid annotation in your controller.</p>\n"}],"owner":{"account_id":19295721,"reputation":23,"user_id":14104719,"display_name":"Deepak Viswanadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68176989,"answer_count":2,"score":-1,"last_activity_date":1690823220,"creation_date":1624962131,"question_id":68176862,"body_markdown":"I am new to spring boot and was developing a simple crud application. I have created a student model with few validations to few fields to test if validation is working or not. While creating a new student using a `post` request to `/students`, the validation is working. Now I want the same validations to be applicable while updating the student as well since the fields need to be consistent for either creating/updating. I have configured a `put` request to `/students/{id}`to update the student basing on the id. But the validations are not working and if I change the `put` to `post`, instead of getting json response as `{message:&quot;name should have atleast 4 characters&quot;}`, I am getting an exception.. as \r\n\r\n`\r\n{\r\n    &quot;timestamp&quot;: &quot;2021-06-29T10:06:52.866+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat com.sun.proxy.$Proxy93.save(Unknown Source)\\r\\n\\tat com.demo.service.Studentservice.updateStudent(Studentservice.java:42)\\r\\n\\tat com.demo.controller.StudentController.updateStudent(StudentController.java:47)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:684)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)\\r\\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 66 more\\r\\nCaused by: javax.validation.ConstraintViolationException: Validation failed for classes [com.demo.model.Student] during persist time for groups [javax.validation.groups.Default, ]\\nList of constraint violations:[\\n\\tConstraintViolationImpl{interpolatedMessage=&#39;name should have min of 4 characters&#39;, propertyPath=name, rootBeanClass=class com.demo.model.Student, messageTemplate=&#39;name should have min of 4 characters&#39;}\\n]\\r\\n\\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140)\\r\\n\\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:214)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:100)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\\r\\n\\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\t... 67 more\\r\\n&quot;,\r\n    &quot;message&quot;: &quot;Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction&quot;,\r\n    &quot;path&quot;: &quot;/students/3&quot;\r\n}`in my postman...\r\n\r\nHere is the structure of the code:\r\n\r\n`Student.java`\r\n\r\n```\r\npackage com.demo.model;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.*;\r\n\r\n@Entity\r\n@Table(name=&quot;Students&quot;)\r\npublic class Student {\r\n    @Id\r\n    private int id;\r\n\r\n    @Size(min=4,message = &quot;name should have min of 4 characters&quot;)\r\n    @NotEmpty(message=&quot;name should not be null&quot;)\r\n    private String name;\r\n    private int age;\r\n    @Email\r\n    private String email;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n}\r\n\r\n```\r\n\r\n`StudentRepository.java`\r\n\r\n```\r\npackage com.demo.repository;\r\n\r\nimport com.demo.model.Student;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface StudentRepository extends CrudRepository&lt;Student,Integer&gt; {\r\n}\r\n\r\n```\r\n\r\n`Studentservice.java`\r\n\r\n```\r\npackage com.demo.service;\r\nimport com.demo.errors.StudentNotFoundException;\r\nimport com.demo.model.Student;\r\nimport com.demo.repository.StudentRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.*;\r\n\r\n@Service\r\npublic class Studentservice {\r\n    @Autowired\r\n    StudentRepository studentRepository;\r\n\r\n    //getting all students\r\n    public List&lt;Student&gt; getStudents(){\r\n        ArrayList&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n        studentRepository.findAll().forEach(students::add);\r\n        return students;\r\n    }\r\n\r\n   //find student\r\n   public Student getStudent(int id){\r\n        return studentRepository.findById(id).orElseThrow(() -&gt; new StudentNotFoundException(id));\r\n   }\r\n\r\n   //create a student\r\n    public Student createStudent(Student student){\r\n       return studentRepository.save(student);\r\n    }\r\n\r\n    //delete a student\r\n    public void deleteStudent(int id){\r\n        getStudent(id);\r\n        studentRepository.deleteById(id);\r\n    }\r\n\r\n    //update student\r\n    public void updateStudent(int id,Student student ){\r\n        if(getStudent(id)!=null){\r\n            studentRepository.save(student);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n`StudentController.java`\r\n\r\n```\r\npackage com.demo.controller;\r\n\r\nimport com.demo.model.Student;\r\nimport com.demo.service.Studentservice;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.*;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport java.util.*;\r\n\r\n@RestController\r\npublic class StudentController {\r\n\r\n    @Autowired\r\n    Studentservice studentservice;\r\n\r\n    //get students\r\n    @GetMapping(&quot;/students&quot;)\r\n    private List&lt;Student&gt; fetchStudents(){\r\n        return studentservice.getStudents();\r\n    }\r\n\r\n    //get student\r\n    @GetMapping(&quot;/students/{id}&quot;)\r\n    private ResponseEntity&lt;Object&gt; fetchStudent(@PathVariable(&quot;id&quot;) int id){\r\n        Student found= studentservice.getStudent(id);\r\n        return new ResponseEntity&lt;Object&gt;(found,HttpStatus.OK);\r\n    }\r\n\r\n    //create student\r\n    @PostMapping(&quot;/students&quot;)\r\n    private ResponseEntity&lt;Object&gt; createStudent(@Valid @RequestBody Student student) {\r\n        Student s = studentservice.createStudent(student);\r\n        return new ResponseEntity&lt;Object&gt;(s, HttpStatus.CREATED);\r\n    }\r\n    //delete student\r\n    @DeleteMapping(&quot;/students/{id}&quot;)\r\n    private ResponseEntity&lt;Object&gt; deleteStudent(@PathVariable(&quot;id&quot;) int id){\r\n        studentservice.deleteStudent(id);\r\n        return new ResponseEntity&lt;Object&gt;(&quot;deleted student&quot;,HttpStatus.OK);\r\n    }\r\n\r\n    //update student\r\n    @PutMapping(&quot;/students/{id}&quot;)\r\n    private ResponseEntity&lt;Object&gt; updateStudent(@Valid @PathVariable(&quot;id&quot;) int id, @RequestBody Student student){\r\n        studentservice.updateStudent(id,student);\r\n        return new ResponseEntity&lt;Object&gt;(&quot;updated succesfully&quot;,HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\n`StudentNotFoundException.java`\r\n\r\n```\r\npackage com.demo.errors;\r\n\r\npublic class StudentNotFoundException extends RuntimeException{\r\n    public StudentNotFoundException(int id){\r\n        super(&quot;Student not found at:&quot;+ id);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n`InputValidationHandler.java`\r\n\r\n```\r\npackage com.demo.errors;\r\n\r\nimport org.springframework.http.*;\r\nimport org.springframework.validation.FieldError;\r\nimport org.springframework.web.bind.MethodArgumentNotValidException;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.context.request.WebRequest;\r\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\nimport java.util.*;\r\n\r\n@ControllerAdvice\r\npublic class InputValidationHandler extends ResponseEntityExceptionHandler {\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        Map&lt;String,String&gt;errors=new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getAllErrors().forEach((error)-&gt;{\r\n            String fieldName=((FieldError) error).getField();\r\n            String message=error.getDefaultMessage();\r\n            errors.put(fieldName,message);\r\n        });\r\n        return new ResponseEntity&lt;Object&gt;(errors,HttpStatus.BAD_REQUEST);\r\n    }\r\n}\r\n\r\n```\r\n","title":"Is Validation not applicable for put request in spring boot?","body":"<p>I am new to spring boot and was developing a simple crud application. I have created a student model with few validations to few fields to test if validation is working or not. While creating a new student using a <code>post</code> request to <code>/students</code>, the validation is working. Now I want the same validations to be applicable while updating the student as well since the fields need to be consistent for either creating/updating. I have configured a <code>put</code> request to <code>/students/{id}</code>to update the student basing on the id. But the validations are not working and if I change the <code>put</code> to <code>post</code>, instead of getting json response as <code>{message:&quot;name should have atleast 4 characters&quot;}</code>, I am getting an exception.. as</p>\n<p><code> { &quot;timestamp&quot;: &quot;2021-06-29T10:06:52.866+00:00&quot;, &quot;status&quot;: 500, &quot;error&quot;: &quot;Internal Server Error&quot;, &quot;trace&quot;: &quot;org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\\r\\n\\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat com.sun.proxy.$Proxy93.save(Unknown Source)\\r\\n\\tat com.demo.service.Studentservice.updateStudent(Studentservice.java:42)\\r\\n\\tat com.demo.controller.StudentController.updateStudent(StudentController.java:47)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\r\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\r\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:684)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\\r\\n\\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:834)\\r\\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\\r\\n\\tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:81)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)\\r\\n\\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\\r\\n\\t... 66 more\\r\\nCaused by: javax.validation.ConstraintViolationException: Validation failed for classes [com.demo.model.Student] during persist time for groups [javax.validation.groups.Default, ]\\nList of constraint violations:[\\n\\tConstraintViolationImpl{interpolatedMessage='name should have min of 4 characters', propertyPath=name, rootBeanClass=class com.demo.model.Student, messageTemplate='name should have min of 4 characters'}\\n]\\r\\n\\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140)\\r\\n\\tat org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:214)\\r\\n\\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:100)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\\r\\n\\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\\r\\n\\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\\r\\n\\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\\r\\n\\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\\r\\n\\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\\r\\n\\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\\r\\n\\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\\r\\n\\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\\r\\n\\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\\r\\n\\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\\r\\n\\t... 67 more\\r\\n&quot;, &quot;message&quot;: &quot;Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction&quot;, &quot;path&quot;: &quot;/students/3&quot; }</code>in my postman...</p>\n<p>Here is the structure of the code:</p>\n<p><code>Student.java</code></p>\n<pre><code>package com.demo.model;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.*;\n\n@Entity\n@Table(name=&quot;Students&quot;)\npublic class Student {\n    @Id\n    private int id;\n\n    @Size(min=4,message = &quot;name should have min of 4 characters&quot;)\n    @NotEmpty(message=&quot;name should not be null&quot;)\n    private String name;\n    private int age;\n    @Email\n    private String email;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n\n</code></pre>\n<p><code>StudentRepository.java</code></p>\n<pre><code>package com.demo.repository;\n\nimport com.demo.model.Student;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends CrudRepository&lt;Student,Integer&gt; {\n}\n\n</code></pre>\n<p><code>Studentservice.java</code></p>\n<pre><code>package com.demo.service;\nimport com.demo.errors.StudentNotFoundException;\nimport com.demo.model.Student;\nimport com.demo.repository.StudentRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.*;\n\n@Service\npublic class Studentservice {\n    @Autowired\n    StudentRepository studentRepository;\n\n    //getting all students\n    public List&lt;Student&gt; getStudents(){\n        ArrayList&lt;Student&gt; students = new ArrayList&lt;&gt;();\n        studentRepository.findAll().forEach(students::add);\n        return students;\n    }\n\n   //find student\n   public Student getStudent(int id){\n        return studentRepository.findById(id).orElseThrow(() -&gt; new StudentNotFoundException(id));\n   }\n\n   //create a student\n    public Student createStudent(Student student){\n       return studentRepository.save(student);\n    }\n\n    //delete a student\n    public void deleteStudent(int id){\n        getStudent(id);\n        studentRepository.deleteById(id);\n    }\n\n    //update student\n    public void updateStudent(int id,Student student ){\n        if(getStudent(id)!=null){\n            studentRepository.save(student);\n        }\n    }\n}\n</code></pre>\n<p><code>StudentController.java</code></p>\n<pre><code>package com.demo.controller;\n\nimport com.demo.model.Student;\nimport com.demo.service.Studentservice;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.*;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.*;\n\n@RestController\npublic class StudentController {\n\n    @Autowired\n    Studentservice studentservice;\n\n    //get students\n    @GetMapping(&quot;/students&quot;)\n    private List&lt;Student&gt; fetchStudents(){\n        return studentservice.getStudents();\n    }\n\n    //get student\n    @GetMapping(&quot;/students/{id}&quot;)\n    private ResponseEntity&lt;Object&gt; fetchStudent(@PathVariable(&quot;id&quot;) int id){\n        Student found= studentservice.getStudent(id);\n        return new ResponseEntity&lt;Object&gt;(found,HttpStatus.OK);\n    }\n\n    //create student\n    @PostMapping(&quot;/students&quot;)\n    private ResponseEntity&lt;Object&gt; createStudent(@Valid @RequestBody Student student) {\n        Student s = studentservice.createStudent(student);\n        return new ResponseEntity&lt;Object&gt;(s, HttpStatus.CREATED);\n    }\n    //delete student\n    @DeleteMapping(&quot;/students/{id}&quot;)\n    private ResponseEntity&lt;Object&gt; deleteStudent(@PathVariable(&quot;id&quot;) int id){\n        studentservice.deleteStudent(id);\n        return new ResponseEntity&lt;Object&gt;(&quot;deleted student&quot;,HttpStatus.OK);\n    }\n\n    //update student\n    @PutMapping(&quot;/students/{id}&quot;)\n    private ResponseEntity&lt;Object&gt; updateStudent(@Valid @PathVariable(&quot;id&quot;) int id, @RequestBody Student student){\n        studentservice.updateStudent(id,student);\n        return new ResponseEntity&lt;Object&gt;(&quot;updated succesfully&quot;,HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p><code>StudentNotFoundException.java</code></p>\n<pre><code>package com.demo.errors;\n\npublic class StudentNotFoundException extends RuntimeException{\n    public StudentNotFoundException(int id){\n        super(&quot;Student not found at:&quot;+ id);\n    }\n\n}\n\n</code></pre>\n<p><code>InputValidationHandler.java</code></p>\n<pre><code>package com.demo.errors;\n\nimport org.springframework.http.*;\nimport org.springframework.validation.FieldError;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\nimport java.util.*;\n\n@ControllerAdvice\npublic class InputValidationHandler extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        Map&lt;String,String&gt;errors=new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error)-&gt;{\n            String fieldName=((FieldError) error).getField();\n            String message=error.getDefaultMessage();\n            errors.put(fieldName,message);\n        });\n        return new ResponseEntity&lt;Object&gt;(errors,HttpStatus.BAD_REQUEST);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","swagger","jax-rs","openapi"],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690823114,"creation_date":1690817408,"answer_id":76805087,"question_id":76804907,"body_markdown":"See this answer here\r\n\r\nhttps://stackoverflow.com/questions/35475484/how-to-generate-swagger-spec-from-from-jax-rs-annotated-interface\r\n\r\nWhich links to here\r\n\r\nhttps://github.com/swagger-api/swagger-core/wiki/Swagger-Core-Jersey-2.X-Project-Setup-1.5 \r\n\r\nSo basically there is no way to automatically generate it. You have to put annotations on everything. \r\n\r\nI would LOVE to be wrong about that, because it sucks having to add all these annotations to old code. I&#39;d never get anyone&#39;s buy in do that.\r\n\r\nI created https://github.com/kongchen/swagger-maven-plugin/issues/894 with a new feature request. ","title":"Given an *existing* Jersey Jax-RS application, is there a way to generate OpenAPI 3.x JSON/Yaml?","body":"<p>See this answer here</p>\n<p><a href=\"https://stackoverflow.com/questions/35475484/how-to-generate-swagger-spec-from-from-jax-rs-annotated-interface\">How to generate swagger spec from from JAX RS annotated interface?</a></p>\n<p>Which links to here</p>\n<p><a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-Core-Jersey-2.X-Project-Setup-1.5\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-Core-Jersey-2.X-Project-Setup-1.5</a></p>\n<p>So basically there is no way to automatically generate it. You have to put annotations on everything.</p>\n<p>I would LOVE to be wrong about that, because it sucks having to add all these annotations to old code. I'd never get anyone's buy in do that.</p>\n<p>I created <a href=\"https://github.com/kongchen/swagger-maven-plugin/issues/894\" rel=\"nofollow noreferrer\">https://github.com/kongchen/swagger-maven-plugin/issues/894</a> with a new feature request.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690823219,"creation_date":1690815961,"question_id":76804907,"body_markdown":"I have an existing Java application that previously has never used Swagger, OpenAPI, etc to create a API specification. So they have the `javax.ws.rs.*` annotations that specify the API contract for the application.\r\n\r\nI&#39;d like to generate a swagger or openapi specification JSON/YAML file for each project using maven.\r\n\r\nDoes anyone know how to accomplish this?\r\n\r\nIs there maybe some Maven plugin you can use to do something like: \r\n\r\n`mvn someplugin:generateOpenApiJsonUsingOnlyJaxRsAnnotations`\r\n\r\nAnd the output would be `target/generated-resources/openapi.json`.\r\n\r\nI know there is the `swagger-maven-plugin` plugin... but isn&#39;t that the reverse direction? Meaning it takes in a OpenAPI json/yaml and produces java classes? \r\n\r\nIs there some way to go the other direction at compile time where you take the Jax-RS annotations and produce a openapi json/yaml?\r\n\r\nMost importantly, when I say &quot;Existing Jax-RS&quot; application... that means I cannot go in and add a bunch of swagger `@Api` annotations all over the place. It would be the preference not to have to change the server side of the equation in order to generate the Api client from these Jax-RS service applications.","title":"Given an *existing* Jersey Jax-RS application, is there a way to generate OpenAPI 3.x JSON/Yaml?","body":"<p>I have an existing Java application that previously has never used Swagger, OpenAPI, etc to create a API specification. So they have the <code>javax.ws.rs.*</code> annotations that specify the API contract for the application.</p>\n<p>I'd like to generate a swagger or openapi specification JSON/YAML file for each project using maven.</p>\n<p>Does anyone know how to accomplish this?</p>\n<p>Is there maybe some Maven plugin you can use to do something like:</p>\n<p><code>mvn someplugin:generateOpenApiJsonUsingOnlyJaxRsAnnotations</code></p>\n<p>And the output would be <code>target/generated-resources/openapi.json</code>.</p>\n<p>I know there is the <code>swagger-maven-plugin</code> plugin... but isn't that the reverse direction? Meaning it takes in a OpenAPI json/yaml and produces java classes?</p>\n<p>Is there some way to go the other direction at compile time where you take the Jax-RS annotations and produce a openapi json/yaml?</p>\n<p>Most importantly, when I say &quot;Existing Jax-RS&quot; application... that means I cannot go in and add a bunch of swagger <code>@Api</code> annotations all over the place. It would be the preference not to have to change the server side of the equation in order to generate the Api client from these Jax-RS service applications.</p>\n"},{"tags":["java","hash","double-hashing"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1415763747,"post_id":26878669,"comment_id":42314622,"body_markdown":"Is this Java-specific?","body":"Is this Java-specific?"}],"answers":[{"tags":[],"owner":{"account_id":4874176,"reputation":994,"user_id":3929782,"accept_rate":15,"display_name":"T.D. Smith"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1415762571,"creation_date":1415762571,"answer_id":26878705,"question_id":26878669,"body_markdown":"This is implementation specific, but typically you&#39;d use a linked list or other flexible data structure to managed colliding data.\r\n\r\nFrom the java.util.HashMap javadoc:\r\n\r\n&gt;   It uses a hash-bucket approach; that is, hash collisions are handled\r\n   by linking the new node off of the pre-existing node (or list of\r\n  nodes).  In this manner, techniques such as linear probing (which\r\n  can cause primary clustering) and rehashing (which does not fit very\r\n   well with Java&#39;s method of precomputing hash codes) are avoided.\r\n Under ideal circumstances (no collisions), HashMap offers O(1)\r\n performance on most operations (&lt;code&gt;containsValue()&lt;/code&gt; is,\r\n of course, O(n)).  In the worst case (all keys map to the same\r\nhash code -- very unlikely), most operations are O(n).","title":"double hashing with collision on first and second hash functions-java","body":"<p>This is implementation specific, but typically you'd use a linked list or other flexible data structure to managed colliding data.</p>\n\n<p>From the java.util.HashMap javadoc:</p>\n\n<blockquote>\n  <p>It uses a hash-bucket approach; that is, hash collisions are handled\n     by linking the new node off of the pre-existing node (or list of\n    nodes).  In this manner, techniques such as linear probing (which\n    can cause primary clustering) and rehashing (which does not fit very\n     well with Java's method of precomputing hash codes) are avoided.\n   Under ideal circumstances (no collisions), HashMap offers O(1)\n   performance on most operations (<code>containsValue()</code> is,\n   of course, O(n)).  In the worst case (all keys map to the same\n  hash code -- very unlikely), most operations are O(n).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4194351,"reputation":129,"user_id":3436096,"accept_rate":75,"display_name":"user3436096"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417426332,"creation_date":1417426332,"answer_id":27225336,"question_id":26878669,"body_markdown":"It is not the way we calculate the second hash function, since for every probe(unavailability of slot) you need to have a new hash function and it is not feasible.\r\n\r\nGeneric Second Hash function would be of type,\r\n\r\nH1(x) - first hash function,\r\nH2(x) - second hash function\r\n\r\nFirst time we try for following slot - H1(x),\r\n\r\nnext probe would be - H1(x)+H2(x),\r\n \r\nnext probe H1(x)+2*H2(x)   ........  H1(x)+n*H2(x)\r\n","title":"double hashing with collision on first and second hash functions-java","body":"<p>It is not the way we calculate the second hash function, since for every probe(unavailability of slot) you need to have a new hash function and it is not feasible.</p>\n\n<p>Generic Second Hash function would be of type,</p>\n\n<p>H1(x) - first hash function,\nH2(x) - second hash function</p>\n\n<p>First time we try for following slot - H1(x),</p>\n\n<p>next probe would be - H1(x)+H2(x),</p>\n\n<p>next probe H1(x)+2*H2(x)   ........  H1(x)+n*H2(x)</p>\n"},{"tags":[],"owner":{"account_id":21803300,"reputation":1,"user_id":16101825,"display_name":"Abhigyan Shanker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690823072,"creation_date":1690368152,"answer_id":76770429,"question_id":26878669,"body_markdown":"The second hash function does not calculate the new index on its own, rather, we use a combination of both the functions using a collision number `-- i`.\r\nSay you have `H1(k)` and `H2(k)` then the combination would be\r\n    \r\n    H = (H1(k) + i*H2(k))%n\r\n\r\nAnd we keep incrementing `i`.","title":"double hashing with collision on first and second hash functions-java","body":"<p>The second hash function does not calculate the new index on its own, rather, we use a combination of both the functions using a collision number <code>-- i</code>.\nSay you have <code>H1(k)</code> and <code>H2(k)</code> then the combination would be</p>\n<pre><code>H = (H1(k) + i*H2(k))%n\n</code></pre>\n<p>And we keep incrementing <code>i</code>.</p>\n"}],"owner":{"display_name":"user4060080"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690823072,"creation_date":1415762357,"question_id":26878669,"body_markdown":"For double hashing, if there is a collision with the first hash function, you&#39;d use the second hash function, but what if there is still a collision? For example, let&#39;s say a hash table is size 15 and the hash function is `(key + 3) % 15` and the second hash function is `((key % 8) / 3) + 2`. Let&#39;s say &quot;insert 59&quot; goes to index 2 by the first hash function but there already is a key there. The second hash function would bring it to 3 but let&#39;s say there already is a value there too. Where would 59 be inserted on the hash table and why? Thanks\r\n\r\nI specifically want to use double hashing, not chained hashing or linear probing.","title":"double hashing with collision on first and second hash functions-java","body":"<p>For double hashing, if there is a collision with the first hash function, you'd use the second hash function, but what if there is still a collision? For example, let's say a hash table is size 15 and the hash function is <code>(key + 3) % 15</code> and the second hash function is <code>((key % 8) / 3) + 2</code>. Let's say \"insert 59\" goes to index 2 by the first hash function but there already is a key there. The second hash function would bring it to 3 but let's say there already is a value there too. Where would 59 be inserted on the hash table and why? Thanks</p>\n\n<p>I specifically want to use double hashing, not chained hashing or linear probing.</p>\n"},{"tags":["python","java","dictionary","hash"],"answers":[{"tags":[],"owner":{"account_id":23594,"reputation":2562,"user_id":59210,"display_name":"Tabitha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623338915,"creation_date":1255038376,"answer_id":1540683,"question_id":1540673,"body_markdown":"As far as I&#39;m aware (I don&#39;t actually use java) dictionaries are just another name for a hashmap/hashtable.\r\n\r\nGrabbing code from [http://www.fluffycat.com/Java/HashMaps/][1] it seems they are used in a very similar manner, with a bit of extra java boiler-plate.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20190311045206/http://www.fluffycat.com/Java/HashMaps/","title":"Java Equivalent to Python Dictionaries","body":"<p>As far as I'm aware (I don't actually use java) dictionaries are just another name for a hashmap/hashtable.</p>\n<p>Grabbing code from <a href=\"https://web.archive.org/web/20190311045206/http://www.fluffycat.com/Java/HashMaps/\" rel=\"nofollow noreferrer\">http://www.fluffycat.com/Java/HashMaps/</a> it seems they are used in a very similar manner, with a bit of extra java boiler-plate.</p>\n"},{"tags":[],"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"down_vote_count":3,"up_vote_count":143,"is_accepted":true,"score":140,"last_activity_date":1255038598,"creation_date":1255038598,"answer_id":1540699,"question_id":1540673,"body_markdown":"Python&#39;s `dict` class is an implementation of what the Python documentation informally calls &quot;[mapping types][1]&quot;.  Internally, `dict` is implemented using a hashtable.\r\n\r\nJava&#39;s [`HashMap`][2] class is an implementation of the [`Map`][3] interface.  Internally, `HashMap` is implemented using a hashtable.\r\n\r\nThere are a few minor differences in syntax, and I believe the implementations are tuned slightly differently, but overall they are completely interchangeable.\r\n\r\n\r\n  [1]: http://docs.python.org/library/stdtypes.html#mapping-types-dict\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Map.html","title":"Java Equivalent to Python Dictionaries","body":"<p>Python's <code>dict</code> class is an implementation of what the Python documentation informally calls \"<a href=\"http://docs.python.org/library/stdtypes.html#mapping-types-dict\" rel=\"noreferrer\">mapping types</a>\".  Internally, <code>dict</code> is implemented using a hashtable.</p>\n\n<p>Java's <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\"><code>HashMap</code></a> class is an implementation of the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> interface.  Internally, <code>HashMap</code> is implemented using a hashtable.</p>\n\n<p>There are a few minor differences in syntax, and I believe the implementations are tuned slightly differently, but overall they are completely interchangeable.</p>\n"},{"tags":[],"owner":{"account_id":61543,"reputation":6291,"user_id":183362,"accept_rate":79,"display_name":"Tim Clemons"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1255040195,"creation_date":1255040195,"answer_id":1540813,"question_id":1540673,"body_markdown":"One difference between the two is that `dict` has stricter requirements as to what data types can act as a key.  Java will allow any object to work as a key -- although you should take care to ensure that the object&#39;s `hashCode()` method returns a unique value that reflects its internal state.  Python requires keys to fit its definition of [hashable](http://docs.python.org/3.1/glossary.html#term-hashable), which specifies that the object&#39;s hash code should never change over its lifetime.","title":"Java Equivalent to Python Dictionaries","body":"<p>One difference between the two is that <code>dict</code> has stricter requirements as to what data types can act as a key.  Java will allow any object to work as a key -- although you should take care to ensure that the object's <code>hashCode()</code> method returns a unique value that reflects its internal state.  Python requires keys to fit its definition of <a href=\"http://docs.python.org/3.1/glossary.html#term-hashable\" rel=\"noreferrer\">hashable</a>, which specifies that the object's hash code should never change over its lifetime.</p>\n"},{"tags":[],"owner":{"account_id":9170326,"reputation":529,"user_id":6818121,"display_name":"Hary Bakta"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1635804231,"creation_date":1473564370,"answer_id":39432556,"question_id":1540673,"body_markdown":"The idea of dictionary and Map is similar. Both contain elements like\r\n```bash\r\nkey1:value1, key2:value2 ... and so on\r\n```\r\nIn Java, `Map` is implemented different ways like `HashMap`, or `TreeMap` etc. `put(), get()` operations are similar\r\n\r\n    import java.util.HashMap;\r\n\r\n    Map map = new HashMap();\r\n    // Put elements to the map\r\n    map.put(&quot;Ram&quot;, new Double(3434.34));\r\n    map.put(&quot;Krishna&quot;, new Double(123.22));\r\n    map.put(&quot;Hary&quot;, new Double(1378.00));\r\n    //to get elements\r\n    map.get(&quot;Krishna&quot;); // =123.22\r\n    map.get(&quot;Hary&quot;); // = 1378.00 \r\n\r\nSee documentation of HashMap in java8 https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html","title":"Java Equivalent to Python Dictionaries","body":"<p>The idea of dictionary and Map is similar. Both contain elements like</p>\n<pre class=\"lang-sh prettyprint-override\"><code>key1:value1, key2:value2 ... and so on\n</code></pre>\n<p>In Java, <code>Map</code> is implemented different ways like <code>HashMap</code>, or <code>TreeMap</code> etc. <code>put(), get()</code> operations are similar</p>\n<pre><code>import java.util.HashMap;\n\nMap map = new HashMap();\n// Put elements to the map\nmap.put(&quot;Ram&quot;, new Double(3434.34));\nmap.put(&quot;Krishna&quot;, new Double(123.22));\nmap.put(&quot;Hary&quot;, new Double(1378.00));\n//to get elements\nmap.get(&quot;Krishna&quot;); // =123.22\nmap.get(&quot;Hary&quot;); // = 1378.00 \n</code></pre>\n<p>See documentation of HashMap in java8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html</a></p>\n"}],"owner":{"account_id":62267,"reputation":2719,"user_id":185114,"accept_rate":78,"display_name":"slimbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101025,"favorite_count":0,"down_vote_count":1,"up_vote_count":121,"accepted_answer_id":1540699,"answer_count":4,"score":120,"last_activity_date":1690823032,"creation_date":1255038274,"question_id":1540673,"body_markdown":"I am a long time user of Python and really like the way that the dictionaries are used. They are very intuitive and easy to use. Is there a good Java equivalent to python&#39;s dictionaries? I have heard of people using hashmaps and hashtables. Could someone explain the similarities and differences of using hashtables and hashmaps versus python&#39;s dictionaries?\r\n\r\n","title":"Java Equivalent to Python Dictionaries","body":"<p>I am a long time user of Python and really like the way that the dictionaries are used. They are very intuitive and easy to use. Is there a good Java equivalent to python's dictionaries? I have heard of people using hashmaps and hashtables. Could someone explain the similarities and differences of using hashtables and hashmaps versus python's dictionaries?</p>\n"},{"tags":["java","neo4j","neo4j-plugin"],"comments":[{"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1690565837,"post_id":76788604,"comment_id":135376586,"body_markdown":"Does the example plugin (which is pretty old) work as-is? If so, see what you are doing differently.","body":"Does the example plugin (which is pretty old) work as-is? If so, see what you are doing differently."},{"owner":{"account_id":12623112,"reputation":1,"user_id":9177885,"display_name":"matej"},"score":0,"creation_date":1690574247,"post_id":76788604,"comment_id":135377871,"body_markdown":"@cybersam I have tried using @Context annotation with the `org.neo4j.logging.Log` which should inject the logger provided by the database, did not work, perhaps ther is something with compiling/building .jar? I am using build dependencies provided here from official Neo4j template","body":"@cybersam I have tried using @Context annotation with the <code>org.neo4j.logging.Log</code> which should inject the logger provided by the database, did not work, perhaps ther is something with compiling/building .jar? I am using build dependencies provided here from official Neo4j template"},{"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1690574964,"post_id":76788604,"comment_id":135377965,"body_markdown":"The [Context](https://neo4j.com/docs/java-reference/current/extending-neo4j/procedures/#injectable-resources) annotation is only documented to work with [user-defined procedures](https://neo4j.com/docs/java-reference/current/extending-neo4j/procedures/) that are explicitly invoked via Cypher. Your plugin does not define a procedure.","body":"The <a href=\"https://neo4j.com/docs/java-reference/current/extending-neo4j/procedures/#injectable-resources\" rel=\"nofollow noreferrer\">Context</a> annotation is only documented to work with <a href=\"https://neo4j.com/docs/java-reference/current/extending-neo4j/procedures/\" rel=\"nofollow noreferrer\">user-defined procedures</a> that are explicitly invoked via Cypher. Your plugin does not define a procedure."},{"owner":{"account_id":12623112,"reputation":1,"user_id":9177885,"display_name":"matej"},"score":0,"creation_date":1690578673,"post_id":76788604,"comment_id":135378459,"body_markdown":"I have annotated LifecycleManagment class with `@ServiceProvider` and now I am getting prints on the docker log with stdout and it is initializing the plugin, I am also getting comitted transaction in the callback. I am still trying to figure out how to correctly wire through logger @cybersam","body":"I have annotated LifecycleManagment class with <code>@ServiceProvider</code> and now I am getting prints on the docker log with stdout and it is initializing the plugin, I am also getting comitted transaction in the callback. I am still trying to figure out how to correctly wire through logger @cybersam"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1690637418,"post_id":76788604,"comment_id":135383069,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"score":0,"creation_date":1690819683,"post_id":76788604,"comment_id":135402856,"body_markdown":"@matej See my answer for a workaround to implementing the logging yourself.","body":"@matej See my answer for a workaround to implementing the logging yourself."}],"answers":[{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690820374,"creation_date":1690819658,"answer_id":76805362,"question_id":76788604,"body_markdown":"As a workaround, your plugin can invoke the extended APOC [apoc.log](https://neo4j.com/labs/apoc/5/overview/apoc.log/) procedures (e.g., [apoc.log.info](https://neo4j.com/labs/apoc/5/overview/apoc.log/apoc.log.info/)) to log to `neo4j.log` on the server.\r\n\r\nAlso, instead of writing your own commit-triggered plugin, you may want to use [APOC&#39;s trigger procedures](https://neo4j.com/docs/apoc/current/background-operations/triggers/) instead.","title":"Neo4j event handling plugin + logging","body":"<p>As a workaround, your plugin can invoke the extended APOC <a href=\"https://neo4j.com/labs/apoc/5/overview/apoc.log/\" rel=\"nofollow noreferrer\">apoc.log</a> procedures (e.g., <a href=\"https://neo4j.com/labs/apoc/5/overview/apoc.log/apoc.log.info/\" rel=\"nofollow noreferrer\">apoc.log.info</a>) to log to <code>neo4j.log</code> on the server.</p>\n<p>Also, instead of writing your own commit-triggered plugin, you may want to use <a href=\"https://neo4j.com/docs/apoc/current/background-operations/triggers/\" rel=\"nofollow noreferrer\">APOC's trigger procedures</a> instead.</p>\n"},{"tags":[],"owner":{"account_id":1575719,"reputation":19504,"user_id":2662355,"display_name":"Christophe Willemsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690822083,"creation_date":1690822083,"answer_id":76805643,"question_id":76788604,"body_markdown":"You need to get the logger from the `Dependencies` , you can check an example here \r\n\r\nhttps://github.com/ikwattro/neo4j-transaction-event-listener-extension/blob/master/src/main/java/com/ikwattro/neo4j/tx/MyExtensionFactory.java#L31","title":"Neo4j event handling plugin + logging","body":"<p>You need to get the logger from the <code>Dependencies</code> , you can check an example here</p>\n<p><a href=\"https://github.com/ikwattro/neo4j-transaction-event-listener-extension/blob/master/src/main/java/com/ikwattro/neo4j/tx/MyExtensionFactory.java#L31\" rel=\"nofollow noreferrer\">https://github.com/ikwattro/neo4j-transaction-event-listener-extension/blob/master/src/main/java/com/ikwattro/neo4j/tx/MyExtensionFactory.java#L31</a></p>\n"}],"owner":{"account_id":12623112,"reputation":1,"user_id":9177885,"display_name":"matej"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690822083,"creation_date":1690553465,"question_id":76788604,"body_markdown":"I am new to neo4j and I want to develop a plugin that registers changes in database to a log, for now i only want log transaction data. I am using maven with java 17 to build the jar and Docker to deploy neo4j with the latest image (5.10.0). \r\n\r\nThe plugin looks like this:\r\n\r\nClass to handle logging events:\r\n```\r\npublic class Neo4jTriggersPlugin implements TransactionEventListener&lt;Object&gt; {\r\n    private final Log log;\r\n\r\n\r\n    public Neo4jTriggersPlugin(DatabaseManagementService dbms, LogService lgsvc) {\r\n        this.log = lgsvc.getUserLog(Neo4jTriggersPlugin.class);\r\n    }\r\n\r\n    @Override\r\n    public Object beforeCommit(TransactionData transactionData, Transaction transaction, GraphDatabaseService graphDatabaseService) throws Exception {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void afterCommit(TransactionData transactionData, Object o, GraphDatabaseService graphDatabaseService) {\r\n        log.info(&quot;Transaction committed&quot; + transactionData.toString());\r\n    }\r\n\r\n    @Override\r\n    public void afterRollback(TransactionData transactionData, Object o, GraphDatabaseService graphDatabaseService) {\r\n    }\r\n\r\n```\r\n\r\n\r\n```\r\npublic class LifecycleManagement extends ExtensionFactory&lt;LifecycleManagement.Dependencies&gt; {\r\n    private Log logger;\r\n    @Override\r\n    public Lifecycle newInstance(ExtensionContext extensionContext, final Dependencies dependencies) {\r\n        return new LifecycleAdapter() {\r\n            LogService logService = dependencies.log();\r\n            private Neo4jTriggersPlugin triggersPlugin;\r\n\r\n            @Override\r\n            public void start() {\r\n                System.out.println(&quot;STARTING trigger watcher&quot;);\r\n                triggersPlugin = new Neo4jTriggersPlugin(dependencies.getGraphDatabaseService(), logService);\r\n                dependencies.getGraphDatabaseService().registerTransactionEventListener(&quot;neo4j&quot;, triggersPlugin);\r\n            }\r\n\r\n            @Override\r\n            public void shutdown() {\r\n                System.out.println(&quot;STOPPING trigger watcher&quot;);\r\n                dependencies.getGraphDatabaseService().unregisterTransactionEventListener(&quot;neo4j&quot;,triggersPlugin);\r\n            }\r\n        };\r\n    }\r\n\r\n    interface Dependencies {\r\n        DatabaseManagementService getGraphDatabaseService();\r\n        LogService log();\r\n    }\r\n\r\n    public LifecycleManagement(Log log) {\r\n        super(ExtensionType.DATABASE, &quot;registerTransactionEventHandler&quot;);\r\n        this.logger = null;\r\n    }\r\n```\r\nI found example [here](https://github.com/maxdemarzi/neo_listens).\r\nI went through neo4j documentation about logging, procedures, extensions etc.\r\n\r\nAfter I compile and build the .jar of the above plugin, I copy it into `var/lib/neo4j/plugins/` directory and restart the container. Then I run some cypher queries and I do not see any info written in a log. Also I have mounted the /logs and /data/database as volumes. \r\n\r\nI would appreciate if someone could explain how this is done corretly or point me to a good source of information. Thanks.","title":"Neo4j event handling plugin + logging","body":"<p>I am new to neo4j and I want to develop a plugin that registers changes in database to a log, for now i only want log transaction data. I am using maven with java 17 to build the jar and Docker to deploy neo4j with the latest image (5.10.0).</p>\n<p>The plugin looks like this:</p>\n<p>Class to handle logging events:</p>\n<pre><code>public class Neo4jTriggersPlugin implements TransactionEventListener&lt;Object&gt; {\n    private final Log log;\n\n\n    public Neo4jTriggersPlugin(DatabaseManagementService dbms, LogService lgsvc) {\n        this.log = lgsvc.getUserLog(Neo4jTriggersPlugin.class);\n    }\n\n    @Override\n    public Object beforeCommit(TransactionData transactionData, Transaction transaction, GraphDatabaseService graphDatabaseService) throws Exception {\n        return null;\n    }\n\n    @Override\n    public void afterCommit(TransactionData transactionData, Object o, GraphDatabaseService graphDatabaseService) {\n        log.info(&quot;Transaction committed&quot; + transactionData.toString());\n    }\n\n    @Override\n    public void afterRollback(TransactionData transactionData, Object o, GraphDatabaseService graphDatabaseService) {\n    }\n\n</code></pre>\n<pre><code>public class LifecycleManagement extends ExtensionFactory&lt;LifecycleManagement.Dependencies&gt; {\n    private Log logger;\n    @Override\n    public Lifecycle newInstance(ExtensionContext extensionContext, final Dependencies dependencies) {\n        return new LifecycleAdapter() {\n            LogService logService = dependencies.log();\n            private Neo4jTriggersPlugin triggersPlugin;\n\n            @Override\n            public void start() {\n                System.out.println(&quot;STARTING trigger watcher&quot;);\n                triggersPlugin = new Neo4jTriggersPlugin(dependencies.getGraphDatabaseService(), logService);\n                dependencies.getGraphDatabaseService().registerTransactionEventListener(&quot;neo4j&quot;, triggersPlugin);\n            }\n\n            @Override\n            public void shutdown() {\n                System.out.println(&quot;STOPPING trigger watcher&quot;);\n                dependencies.getGraphDatabaseService().unregisterTransactionEventListener(&quot;neo4j&quot;,triggersPlugin);\n            }\n        };\n    }\n\n    interface Dependencies {\n        DatabaseManagementService getGraphDatabaseService();\n        LogService log();\n    }\n\n    public LifecycleManagement(Log log) {\n        super(ExtensionType.DATABASE, &quot;registerTransactionEventHandler&quot;);\n        this.logger = null;\n    }\n</code></pre>\n<p>I found example <a href=\"https://github.com/maxdemarzi/neo_listens\" rel=\"nofollow noreferrer\">here</a>.\nI went through neo4j documentation about logging, procedures, extensions etc.</p>\n<p>After I compile and build the .jar of the above plugin, I copy it into <code>var/lib/neo4j/plugins/</code> directory and restart the container. Then I run some cypher queries and I do not see any info written in a log. Also I have mounted the /logs and /data/database as volumes.</p>\n<p>I would appreciate if someone could explain how this is done corretly or point me to a good source of information. Thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-el"],"answers":[{"tags":[],"owner":{"account_id":11165107,"reputation":453,"user_id":8194026,"display_name":"John Mitchell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690822055,"creation_date":1690822055,"answer_id":76805637,"question_id":76805482,"body_markdown":"You can register your helper as a rootObject to the Expression.\r\nThen your &quot;getVar()&quot; method is made available to the evaluator.\r\n\r\n&gt; **Expression.getValue(Object rootObject, Class&lt;T&gt; desiredResultType)**\r\n&gt; \r\n&gt; Evaluate the expression in the default context against the specified\r\n&gt; root object.\r\n\r\nSource: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/expression/Expression.html\r\n\r\ni.e.\r\n\r\n    public void someMethod() {\r\n      ExpressionParser parser = new SpelExpressionParser();\r\n      Expression exp = parser.parseExpression(&quot;#environment[new String(&#39;myapp.&#39;) + getVar() + new String(&#39;.name&#39;)]&quot;);\r\n      String name = exp.getValue(helper, String.class);\r\n    }\r\n\r\n\r\nThere&#39;s more information on this stuff here:\r\n\r\n[6.5.5 Methods][1]\r\n\r\nLook at how &quot;societyContext&quot; is used as a root object there, it provides access to it&#39;s method &quot;isMember&quot;. *(Search through the page for the 10 occurrences of isMember for examples/insight)*\r\n\r\n[Society.java][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.x/reference/expressions.html#:~:text=multi%2Ddimensional%20array.-,6.5.5%C2%A0Methods,-Methods%20are%20invoked\r\n  [2]: https://docs.spring.io/spring-framework/docs/3.0.x/reference/expressions.html#:~:text=.country%20%3D%20country%3B%0A%09%7D%0A%0A%09%0A%09%0A%7D-,Society.java,-package%20org.spring","title":"Trouble using Spring EL with default variable to fetch from value from properties","body":"<p>You can register your helper as a rootObject to the Expression.\nThen your &quot;getVar()&quot; method is made available to the evaluator.</p>\n<blockquote>\n<p><strong>Expression.getValue(Object rootObject, Class desiredResultType)</strong></p>\n<p>Evaluate the expression in the default context against the specified\nroot object.</p>\n</blockquote>\n<p>Source: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/expression/Expression.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/expression/Expression.html</a></p>\n<p>i.e.</p>\n<pre><code>public void someMethod() {\n  ExpressionParser parser = new SpelExpressionParser();\n  Expression exp = parser.parseExpression(&quot;#environment[new String('myapp.') + getVar() + new String('.name')]&quot;);\n  String name = exp.getValue(helper, String.class);\n}\n</code></pre>\n<p>There's more information on this stuff here:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/reference/expressions.html#:%7E:text=multi%2Ddimensional%20array.-,6.5.5%C2%A0Methods,-Methods%20are%20invoked\" rel=\"nofollow noreferrer\">6.5.5 Methods</a></p>\n<p>Look at how &quot;societyContext&quot; is used as a root object there, it provides access to it's method &quot;isMember&quot;. <em>(Search through the page for the 10 occurrences of isMember for examples/insight)</em></p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/reference/expressions.html#:%7E:text=.country%20%3D%20country%3B%0A%09%7D%0A%0A%09%0A%09%0A%7D-,Society.java,-package%20org.spring\" rel=\"nofollow noreferrer\">Society.java</a></p>\n"}],"owner":{"account_id":5212539,"reputation":79,"user_id":4168454,"display_name":"ShrewdCleric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690822055,"creation_date":1690820608,"question_id":76805482,"body_markdown":"I am trying to use SpEL to resolve a variable from my application.yml file, but I am running into some issues.\r\n\r\nMy application.yml file looks like this:\r\n```\r\nmyapp:\r\n  componentOne:\r\n    name: &quot;helloWorld&quot;\r\n```\r\n\r\nA separate .yml file looks like this:\r\n\r\n```\r\nother:\r\n  config: &quot;componentOne&quot;\r\n```\r\n\r\nI am trying to use Spring ```SpelExpressionParser``` as follows:\r\n```\r\npublic MyClass {\r\n  @Autowired\r\n  Helper helper;\r\n\r\n  public StringValueResolver stringResolver;\r\n\r\n  public void someMethod() {\r\n    ExpressionParser parser = new SpelExpressionParser();\r\n    Expression exp = parser.parseExpression(&quot;#environment[&#39;myapp.&#39; + helper.getVar() + &#39;.name&#39;]&quot;);\r\n    String name = exp.getValue(String.class);\r\n  }\r\n}\r\n```\r\nOR\r\n```\r\npublic void someMethod() {\r\n  ExpressionParser parser = new SpelExpressionParser();\r\n  Expression exp = parser.parseExpression(&quot;#environment[&#39;myapp.&#39; + stringResolver.resolveStringValue(helper.getVar()) + &#39;.name&#39;]&quot;);\r\n  String name = exp.getValue(String.class);\r\n}\r\n```\r\n\r\n`helper.getVar()` outputs *${other.config}* and `stringResolver.resolveStringValue(helper.getVar())` outputs *componentOne* both as expected\r\n\r\nI get the following error for the above code blocks respectively:\r\n```\r\nEL1007E: Property or field &#39;helper&#39; cannot be found on null\r\n```\r\nOR\r\n```\r\nEL1007E: Property or field &#39;stringResolver&#39; cannot be found on null\r\n```\r\n\r\n\r\nI know Spring can resolve my variable because when I test a SpEL expression using any annotation, for example ``` @Value ```, the variable is resolved properly. All examples below work and I end up with *helloWorld* from the application.yml file:\r\n\r\n```\r\n@Value(&quot;#{environment[&#39;myapp.&#39; + &#39;${other.config}&#39; + &#39;.name&#39;]}&quot;)\r\n@Value(&quot;#{environment[&#39;myapp.componentOne.name&#39;]}&quot;)\r\n@MyCustomAnno(&quot;#{environment[&#39;myapp.&#39; + &#39;${other.config}&#39; + &#39;.name&#39;]}&quot;)\r\n@MyCustomAnno(&quot;#{environment[&#39;myapp.componentOne.name&#39;]}&quot;)\r\n```\r\n\r\nI can&#39;t use ${other.config} because that is provided to the `Helper` class and is used here so I need to use the `helper.getVar()` method, and the .yml files can look different depending on the module. E.g.:\r\n\r\n```\r\nother:\r\n  config: &quot;componentTwo&quot;\r\n```\r\n```\r\nmyapp:\r\n  componentTwo:\r\n    name: &quot;foobar&quot;\r\n```\r\n\r\n","title":"Trouble using Spring EL with default variable to fetch from value from properties","body":"<p>I am trying to use SpEL to resolve a variable from my application.yml file, but I am running into some issues.</p>\n<p>My application.yml file looks like this:</p>\n<pre><code>myapp:\n  componentOne:\n    name: &quot;helloWorld&quot;\n</code></pre>\n<p>A separate .yml file looks like this:</p>\n<pre><code>other:\n  config: &quot;componentOne&quot;\n</code></pre>\n<p>I am trying to use Spring <code>SpelExpressionParser</code> as follows:</p>\n<pre><code>public MyClass {\n  @Autowired\n  Helper helper;\n\n  public StringValueResolver stringResolver;\n\n  public void someMethod() {\n    ExpressionParser parser = new SpelExpressionParser();\n    Expression exp = parser.parseExpression(&quot;#environment['myapp.' + helper.getVar() + '.name']&quot;);\n    String name = exp.getValue(String.class);\n  }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>public void someMethod() {\n  ExpressionParser parser = new SpelExpressionParser();\n  Expression exp = parser.parseExpression(&quot;#environment['myapp.' + stringResolver.resolveStringValue(helper.getVar()) + '.name']&quot;);\n  String name = exp.getValue(String.class);\n}\n</code></pre>\n<p><code>helper.getVar()</code> outputs <em>${other.config}</em> and <code>stringResolver.resolveStringValue(helper.getVar())</code> outputs <em>componentOne</em> both as expected</p>\n<p>I get the following error for the above code blocks respectively:</p>\n<pre><code>EL1007E: Property or field 'helper' cannot be found on null\n</code></pre>\n<p>OR</p>\n<pre><code>EL1007E: Property or field 'stringResolver' cannot be found on null\n</code></pre>\n<p>I know Spring can resolve my variable because when I test a SpEL expression using any annotation, for example <code>@Value</code>, the variable is resolved properly. All examples below work and I end up with <em>helloWorld</em> from the application.yml file:</p>\n<pre><code>@Value(&quot;#{environment['myapp.' + '${other.config}' + '.name']}&quot;)\n@Value(&quot;#{environment['myapp.componentOne.name']}&quot;)\n@MyCustomAnno(&quot;#{environment['myapp.' + '${other.config}' + '.name']}&quot;)\n@MyCustomAnno(&quot;#{environment['myapp.componentOne.name']}&quot;)\n</code></pre>\n<p>I can't use ${other.config} because that is provided to the <code>Helper</code> class and is used here so I need to use the <code>helper.getVar()</code> method, and the .yml files can look different depending on the module. E.g.:</p>\n<pre><code>other:\n  config: &quot;componentTwo&quot;\n</code></pre>\n<pre><code>myapp:\n  componentTwo:\n    name: &quot;foobar&quot;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"score":1,"creation_date":1690710332,"post_id":76797140,"comment_id":135388904,"body_markdown":"which error do you have? can you add stacktrace or something?","body":"which error do you have? can you add stacktrace or something?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1690710807,"post_id":76797140,"comment_id":135388955,"body_markdown":"To be honest, the code you provided doesn&#39;t seem outdated at all.","body":"To be honest, the code you provided doesn&#39;t seem outdated at all."},{"owner":{"account_id":29121401,"reputation":31,"user_id":22308749,"display_name":"Yordan Yordanov"},"score":0,"creation_date":1690716708,"post_id":76797140,"comment_id":135389497,"body_markdown":"it is in red and says it is deprecated and marker for removal for(.authorizeHttpRequests(),.and(),.sessionManagement())","body":"it is in red and says it is deprecated and marker for removal for(.authorizeHttpRequests(),.and(),.sessionManagement())"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690718484,"post_id":76797140,"comment_id":135389655,"body_markdown":"amigoscodes spring security implementation is very insecure and very bad and should be taken down. He is implementing JWTs as sessions which is very insecure. He has not read a single line of the spring security documentation and that tutorial is just bringing problems teaching people very bad practices.","body":"amigoscodes spring security implementation is very insecure and very bad and should be taken down. He is implementing JWTs as sessions which is very insecure. He has not read a single line of the spring security documentation and that tutorial is just bringing problems teaching people very bad practices."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690718873,"post_id":76797140,"comment_id":135389688,"body_markdown":"if you want to learn spring security i suggest you read the documentation and start out by implementing formlogin using session cookies. Read https://docs.spring.io/spring-security/reference/servlet/architecture.html and https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html and then implement https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","body":"if you want to learn spring security i suggest you read the documentation and start out by implementing formlogin using session cookies. Read <a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/&hellip;</a> and <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a> and then implement <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691758329,"post_id":76797140,"comment_id":135538762,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":29121401,"reputation":31,"user_id":22308749,"display_name":"Yordan Yordanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690821943,"creation_date":1690821867,"answer_id":76805612,"question_id":76797140,"body_markdown":"this is how it should be because of functionals are deprecated\r\n\r\n     @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .csrf(AbstractHttpConfigurer::disable)\r\n        .authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/api/v1/auth/**&quot;,&quot;/swagger-ui/**&quot;,&quot;/v3/api-docs/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n        )\r\n        .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n        .authenticationProvider(authenticationProvider);\r\n        http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }","title":"Security Configuration Spring Boot 6.1 error","body":"<p>this is how it should be because of functionals are deprecated</p>\n<pre><code> @Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\nhttp\n    .csrf(AbstractHttpConfigurer::disable)\n    .authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/api/v1/auth/**&quot;,&quot;/swagger-ui/**&quot;,&quot;/v3/api-docs/**&quot;).permitAll()\n            .anyRequest()\n            .authenticated()\n    )\n    .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n    .authenticationProvider(authenticationProvider);\n    http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":29121401,"reputation":31,"user_id":22308749,"display_name":"Yordan Yordanov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76805612,"answer_count":1,"score":-1,"last_activity_date":1690821943,"creation_date":1690709218,"question_id":76797140,"body_markdown":"I am watching Amigoscode in Youtube and follow his tutorial about how to setup spring boot security but it is a little outdated and most things are deprecated can someone help me set up SecurityCongifuration this is my code(also i cant find many information in internet how to solve it):\r\n\r\n```\r\n @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n\r\n    }\r\n```\r\nthis is the code he provides in the tutorial.\r\n","title":"Security Configuration Spring Boot 6.1 error","body":"<p>I am watching Amigoscode in Youtube and follow his tutorial about how to setup spring boot security but it is a little outdated and most things are deprecated can someone help me set up SecurityCongifuration this is my code(also i cant find many information in internet how to solve it):</p>\n<pre><code> @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n\n    }\n</code></pre>\n<p>this is the code he provides in the tutorial.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":7,"creation_date":1411293442,"post_id":25957879,"comment_id":40640746,"body_markdown":"`@Order(Ordered.LOWEST_PRECEDENCE + 100)` will not work because `Ordered.LOWEST_PRECEDENCE = Integer.Max` and  Integer.Max + 100 = some negative number, this would mean a very high precedence","body":"<code>@Order(Ordered.LOWEST_PRECEDENCE + 100)</code> will not work because <code>Ordered.LOWEST_PRECEDENCE = Integer.Max</code> and  Integer.Max + 100 = some negative number, this would mean a very high precedence"},{"owner":{"account_id":2005107,"reputation":6449,"user_id":1795220,"accept_rate":41,"display_name":"igo"},"score":0,"creation_date":1411294500,"post_id":25957879,"comment_id":40641017,"body_markdown":"@Ralph - I also tried event `@Order(Ordered.LOWEST_PRECEDENCE)` with no success.","body":"@Ralph - I also tried event <code>@Order(Ordered.LOWEST_PRECEDENCE)</code> with no success."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1412159312,"post_id":25957879,"comment_id":40971755,"body_markdown":"What version of Spring Boot? Did you try 1.1.7?","body":"What version of Spring Boot? Did you try 1.1.7?"},{"owner":{"account_id":2005107,"reputation":6449,"user_id":1795220,"accept_rate":41,"display_name":"igo"},"score":0,"creation_date":1412186681,"post_id":25957879,"comment_id":40987621,"body_markdown":"@DaveSyer, I tried, no difference","body":"@DaveSyer, I tried, no difference"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":2,"creation_date":1460738979,"post_id":25957879,"comment_id":60898599,"body_markdown":"Possible duplicate of [How to define Servlet filter order of execution in Spring Boot application](http://stackoverflow.com/questions/22453707/how-to-define-servlet-filter-order-of-execution-in-spring-boot-application)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/22453707/how-to-define-servlet-filter-order-of-execution-in-spring-boot-application\">How to define Servlet filter order of execution in Spring Boot application</a>"}],"answers":[{"tags":[],"owner":{"account_id":2005107,"reputation":6449,"user_id":1795220,"accept_rate":41,"display_name":"igo"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1690820769,"creation_date":1412186977,"answer_id":26147788,"question_id":25957879,"body_markdown":"Guys from Spring helped again. See the following:\r\n\r\n* [Make it easier to order a filter after Spring Security&#39;s filter #1640](https://github.com/spring-projects/spring-boot/issues/1640)\r\n* [SEC-2730: Provide an order higher than LOWEST_PRECEDENCE for springSecurityFilterChain that&#39;s created by WebSecurityConfiguration #2955](https://jira.spring.io/browse/SEC-2730)\r\n\r\nFrom the former:\r\n\r\n&gt; `Spring Security` doesn&#39;t set an order on the `Filter` bean that it\r\n&gt; creates. This means that, when Boot is creating a\r\n&gt; `FilterRegistrationBean` for it, it gets the default order which is\r\n&gt; `LOWEST_PRECEDENCE`.\r\n&gt; \r\n&gt; If you want your own `Filter` to go after `Spring Security`&#39;s you can\r\n&gt; create your own registration for `Spring Security`&#39;s filter and specify\r\n&gt; the order.\r\n\r\nSo the answer to my question is:\r\n\r\n\t@Bean\r\n\tpublic FilterRegistrationBean securityFilterChain(@Qualifier(AbstractSecurityWebApplicationInitializer.DEFAULT_FILTER_NAME) Filter securityFilter) {\r\n\t\tFilterRegistrationBean registration = new FilterRegistrationBean(securityFilter);\r\n\t\tregistration.setOrder(Integer.MAX_VALUE - 1);\r\n\t\tregistration.setName(AbstractSecurityWebApplicationInitializer.DEFAULT_FILTER_NAME);\r\n\t\treturn registration;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic FilterRegistrationBean userInsertingMdcFilterRegistrationBean() {\r\n\t\tFilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n\t\tUserInsertingMdcFilter userFilter = new UserInsertingMdcFilter();\r\n\t\tregistrationBean.setFilter(userFilter);\r\n\t\tregistrationBean.setOrder(Integer.MAX_VALUE);\r\n\t\treturn registrationBean;\r\n\t}","title":"Filter order in spring-boot","body":"<p>Guys from Spring helped again. See the following:</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/1640\" rel=\"nofollow noreferrer\">Make it easier to order a filter after Spring Security's filter #1640</a></li>\n<li><a href=\"https://jira.spring.io/browse/SEC-2730\" rel=\"nofollow noreferrer\">SEC-2730: Provide an order higher than LOWEST_PRECEDENCE for springSecurityFilterChain that's created by WebSecurityConfiguration #2955</a></li>\n</ul>\n<p>From the former:</p>\n<blockquote>\n<p><code>Spring Security</code> doesn't set an order on the <code>Filter</code> bean that it\ncreates. This means that, when Boot is creating a\n<code>FilterRegistrationBean</code> for it, it gets the default order which is\n<code>LOWEST_PRECEDENCE</code>.</p>\n<p>If you want your own <code>Filter</code> to go after <code>Spring Security</code>'s you can\ncreate your own registration for <code>Spring Security</code>'s filter and specify\nthe order.</p>\n</blockquote>\n<p>So the answer to my question is:</p>\n<pre><code>@Bean\npublic FilterRegistrationBean securityFilterChain(@Qualifier(AbstractSecurityWebApplicationInitializer.DEFAULT_FILTER_NAME) Filter securityFilter) {\n    FilterRegistrationBean registration = new FilterRegistrationBean(securityFilter);\n    registration.setOrder(Integer.MAX_VALUE - 1);\n    registration.setName(AbstractSecurityWebApplicationInitializer.DEFAULT_FILTER_NAME);\n    return registration;\n}\n\n@Bean\npublic FilterRegistrationBean userInsertingMdcFilterRegistrationBean() {\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n    UserInsertingMdcFilter userFilter = new UserInsertingMdcFilter();\n    registrationBean.setFilter(userFilter);\n    registrationBean.setOrder(Integer.MAX_VALUE);\n    return registrationBean;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986201,"reputation":2750,"user_id":1781357,"accept_rate":45,"display_name":"Mikhail"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1460739293,"creation_date":1456990778,"answer_id":35765960,"question_id":25957879,"body_markdown":"This was fixed in Spring Boot 1.2. The security chain now defaults to order `0`.\r\n\r\nIt can also be set via properties:\r\n\r\n    security.filter-order=0 # Security filter chain order.\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/1640","title":"Filter order in spring-boot","body":"<p>This was fixed in Spring Boot 1.2. The security chain now defaults to order <code>0</code>.</p>\n\n<p>It can also be set via properties:</p>\n\n<pre><code>security.filter-order=0 # Security filter chain order.\n</code></pre>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/1640\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/1640</a></p>\n"},{"tags":[],"owner":{"account_id":5372553,"reputation":3631,"user_id":4280615,"accept_rate":73,"display_name":"Nate Vaughan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1690821546,"creation_date":1576379783,"answer_id":59340951,"question_id":25957879,"body_markdown":"Here&#39;s an answer compatible with `Spring Boot` **2** / `Spring Security` **5** that will allow you to insert your filter in an arbitrary place in the filter chain.\r\n\r\nMy use case was a custom logging `javax.servlet.Filter` that I wanted to execute  before any `Spring Security` filters; however the below steps should allow you to put a filter anywhere in your existing Spring filter chain:\r\n\r\n# Step 1: Find out the order of Spring filters in your existing setup. \r\n\r\nConnect your favorite remote debugger to your application, and set a breakpoint in the `doFilter(ServletRequest request, ServletResponse response)` method of `org.springframework.security.web.FilterChainProxy`.\r\n\r\nAs of `Spring Security` **5.1.6**, that is line 311. In your debugger, find out the existing filters by inspecting `this.additionalFilters`. In my application, the order was something like:\r\n\r\n```\r\n0: WebAsyncManagerIntegrationFilter\r\n1: SecurityContextPersistenceFilter\r\n2: HeaderWriterFilter\r\n...\r\n```\r\n\r\n# Step 2: Insert your filter in the desired place using Spring&#39;s WebSecurityConfigurerAdapter and HttpSecurity\r\n\r\nYou likely already have a `WebSecurityConfigurerAdapter` with a `@Override configure(HttpSecurity http)` method. `HttpSecurity` exposes `addFilterBefore` and `addFilterAfter` methods to allow you to place your filter relative to an existing class in the chain. Your filter (instance) is the first argument of these methods, and the class of the filter you&#39;d like to insert before or after is the second argument.\r\n\r\nIn my case, I wanted my custom logging filter to be first in the chain (my code snippet is Kotlin, I&#39;ll leave the Java implementation to you):\r\n\r\n```kotlin\r\noverride fun configure(http: HttpSecurity) {\r\n\thttp\r\n\t\t.addFilterBefore(MyCustomLoggingFilter(), WebAsyncManagerIntegrationFilter::class.java)\r\n\t\t.authorizeRequests()\r\n\t\t.antMatchers(\r\n\t\t...\r\n\t\t)\r\n}\r\n```\r\n\r\n# Step 3: Profit!\r\n\r\nUse the debugging method described in Step 1 above to verify that your filter is where you intended in the filter chain.\r\n\r\nHope this helps someone else out there.","title":"Filter order in spring-boot","body":"<p>Here's an answer compatible with <code>Spring Boot</code> <strong>2</strong> / <code>Spring Security</code> <strong>5</strong> that will allow you to insert your filter in an arbitrary place in the filter chain.</p>\n<p>My use case was a custom logging <code>javax.servlet.Filter</code> that I wanted to execute  before any <code>Spring Security</code> filters; however the below steps should allow you to put a filter anywhere in your existing Spring filter chain:</p>\n<h1>Step 1: Find out the order of Spring filters in your existing setup.</h1>\n<p>Connect your favorite remote debugger to your application, and set a breakpoint in the <code>doFilter(ServletRequest request, ServletResponse response)</code> method of <code>org.springframework.security.web.FilterChainProxy</code>.</p>\n<p>As of <code>Spring Security</code> <strong>5.1.6</strong>, that is line 311. In your debugger, find out the existing filters by inspecting <code>this.additionalFilters</code>. In my application, the order was something like:</p>\n<pre><code>0: WebAsyncManagerIntegrationFilter\n1: SecurityContextPersistenceFilter\n2: HeaderWriterFilter\n...\n</code></pre>\n<h1>Step 2: Insert your filter in the desired place using Spring's WebSecurityConfigurerAdapter and HttpSecurity</h1>\n<p>You likely already have a <code>WebSecurityConfigurerAdapter</code> with a <code>@Override configure(HttpSecurity http)</code> method. <code>HttpSecurity</code> exposes <code>addFilterBefore</code> and <code>addFilterAfter</code> methods to allow you to place your filter relative to an existing class in the chain. Your filter (instance) is the first argument of these methods, and the class of the filter you'd like to insert before or after is the second argument.</p>\n<p>In my case, I wanted my custom logging filter to be first in the chain (my code snippet is Kotlin, I'll leave the Java implementation to you):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun configure(http: HttpSecurity) {\n    http\n        .addFilterBefore(MyCustomLoggingFilter(), WebAsyncManagerIntegrationFilter::class.java)\n        .authorizeRequests()\n        .antMatchers(\n        ...\n        )\n}\n</code></pre>\n<h1>Step 3: Profit!</h1>\n<p>Use the debugging method described in Step 1 above to verify that your filter is where you intended in the filter chain.</p>\n<p>Hope this helps someone else out there.</p>\n"},{"tags":[],"owner":{"account_id":7836959,"reputation":1401,"user_id":5924630,"display_name":"Yasammez"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613387859,"creation_date":1613387859,"answer_id":66207061,"question_id":25957879,"body_markdown":"Note that the Spring Security filter chain is **not** all there is when it comes to filters. In fact, there is a complete (non-security) filter chain at work, with one of the filters being an instance of `DelegatingFilterProxy` which (nomen est omen) delegates to another filter called `FilterChainProxy` which manages its own sublist of filters, all geared towards security related topics. This pattern has the advantage that all security filters are in one place and ordered correctly with respect to each other. This however doesn&#39;t help you at all if you need a filter to be executed either *before* or *after* **all** security filters. While it is true that you can configure this using the `HttpSecurity` object by selecting either the first or last filter in that list, it is logically weird, since chances are your filter has nothing at all to do with security. If you set a breakpoint in `DelegatingFilterProxy::doFilter(ServletRequest, ServletResponse, FilterChain)` you will see the entire filter chain of the application. You can even drill into the `FilterChainProxy` to find all the spring security filters if you want to. Then you can open the relevant classes one by one to find out their configured orders. Once you know, where your filter ought to be, you can annotate it.\r\n\r\nIf for example you need to configure a logging filter and you want to log all security failures (needs to go before `FilterChainProxy`) but also want a useful tracing ID (needs to go after `LazyTracingFilter` which has a configured default order of `TraceHttpAutoConfiguration.TRACING_FILTER_ORDER = Ordered.HIGHEST_PRECEDENCE + 5`) you can annotate your filter with `@Order(Ordered.HIGHEST_PRECEDENCE + 6)`.","title":"Filter order in spring-boot","body":"<p>Note that the Spring Security filter chain is <strong>not</strong> all there is when it comes to filters. In fact, there is a complete (non-security) filter chain at work, with one of the filters being an instance of <code>DelegatingFilterProxy</code> which (nomen est omen) delegates to another filter called <code>FilterChainProxy</code> which manages its own sublist of filters, all geared towards security related topics. This pattern has the advantage that all security filters are in one place and ordered correctly with respect to each other. This however doesn't help you at all if you need a filter to be executed either <em>before</em> or <em>after</em> <strong>all</strong> security filters. While it is true that you can configure this using the <code>HttpSecurity</code> object by selecting either the first or last filter in that list, it is logically weird, since chances are your filter has nothing at all to do with security. If you set a breakpoint in <code>DelegatingFilterProxy::doFilter(ServletRequest, ServletResponse, FilterChain)</code> you will see the entire filter chain of the application. You can even drill into the <code>FilterChainProxy</code> to find all the spring security filters if you want to. Then you can open the relevant classes one by one to find out their configured orders. Once you know, where your filter ought to be, you can annotate it.</p>\n<p>If for example you need to configure a logging filter and you want to log all security failures (needs to go before <code>FilterChainProxy</code>) but also want a useful tracing ID (needs to go after <code>LazyTracingFilter</code> which has a configured default order of <code>TraceHttpAutoConfiguration.TRACING_FILTER_ORDER = Ordered.HIGHEST_PRECEDENCE + 5</code>) you can annotate your filter with <code>@Order(Ordered.HIGHEST_PRECEDENCE + 6)</code>.</p>\n"},{"tags":[],"owner":{"account_id":6319460,"reputation":576,"user_id":4908145,"display_name":"hexsmith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620975994,"creation_date":1620975994,"answer_id":67530303,"question_id":25957879,"body_markdown":"in your first case ,it is a error config,and spring&#39;s docs has special reminder : \r\n\r\n&gt; You cannot configure the order of a Filter by annotating its bean method with @Order.\r\n\r\n and you can find from this: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-embedded-container-servlets-filters-listeners-beans","title":"Filter order in spring-boot","body":"<p>in your first case ,it is a error config,and spring's docs has special reminder :</p>\n<blockquote>\n<p>You cannot configure the order of a Filter by annotating its bean method with @Order.</p>\n</blockquote>\n<p>and you can find from this: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-embedded-container-servlets-filters-listeners-beans\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-embedded-container-servlets-filters-listeners-beans</a></p>\n"},{"tags":[],"owner":{"account_id":22359857,"reputation":41,"user_id":17539030,"display_name":"Mike Liu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640859350,"creation_date":1640859350,"answer_id":70530232,"question_id":25957879,"body_markdown":"add \r\n\r\n&gt; logging.level.web=debug\r\n\r\nin your **application.properties**, you can see details of the registered filters, including their order and URL patterns when springboot onstartup.","title":"Filter order in spring-boot","body":"<p>add</p>\n<blockquote>\n<p>logging.level.web=debug</p>\n</blockquote>\n<p>in your <strong>application.properties</strong>, you can see details of the registered filters, including their order and URL patterns when springboot onstartup.</p>\n"}],"owner":{"account_id":2005107,"reputation":6449,"user_id":1795220,"accept_rate":41,"display_name":"igo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137433,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":26147788,"answer_count":6,"score":81,"last_activity_date":1690821546,"creation_date":1411292468,"question_id":25957879,"body_markdown":"How can I specify order of my Filter in spring-boot? I need to insert my MDC filter after Spring Security filter. I tried almost everything but my filter was always first. This didn&#39;t work:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t@Bean\r\n\t@Order(Ordered.LOWEST_PRECEDENCE)\r\n\tpublic UserInsertingMdcFilter userInsertingMdcFilter() {\r\n\t\treturn new UserInsertingMdcFilter();\r\n\t}\r\n\r\nThis didn&#39;t work too:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t@Bean\r\n\tpublic FilterRegistrationBean userInsertingMdcFilterRegistrationBean() {\r\n\t\tFilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n\t\tUserInsertingMdcFilter userFilter = new UserInsertingMdcFilter();\r\n\t\tregistrationBean.setFilter(userFilter);\r\n\t\tregistrationBean.setOrder(Integer.MAX_VALUE);\r\n\t\treturn registrationBean;\r\n\t}\r\n","title":"Filter order in spring-boot","body":"<p>How can I specify order of my Filter in spring-boot? I need to insert my MDC filter after Spring Security filter. I tried almost everything but my filter was always first. This didn't work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(Ordered.LOWEST_PRECEDENCE)\npublic UserInsertingMdcFilter userInsertingMdcFilter() {\n    return new UserInsertingMdcFilter();\n}\n</code></pre>\n\n<p>This didn't work too:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean userInsertingMdcFilterRegistrationBean() {\n    FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n    UserInsertingMdcFilter userFilter = new UserInsertingMdcFilter();\n    registrationBean.setFilter(userFilter);\n    registrationBean.setOrder(Integer.MAX_VALUE);\n    return registrationBean;\n}\n</code></pre>\n"},{"tags":["java","python","project-management","static-typing"],"comments":[{"owner":{"account_id":40342,"reputation":220547,"user_id":116908,"accept_rate":100,"display_name":"Carl Norum"},"score":3,"creation_date":1283979985,"post_id":3671827,"comment_id":3865406,"body_markdown":"This is the kind of question that always confuses me.  How can the typing system affect maintainability?  There are two possibilities - either you can trust the people checking into your source base or you can&#39;t.  In the former case, you don&#39;t have any problems, regardless of what language, system, frameworks, etc. you are using.  If you can&#39;t trust them, there is no hope for you regardless of what language, system, frameworks, etc. you are using.  I certainly don&#39;t see how as small a piece of the pie as the typing system can make any difference as to the overall maintainability of a project.","body":"This is the kind of question that always confuses me.  How can the typing system affect maintainability?  There are two possibilities - either you can trust the people checking into your source base or you can&#39;t.  In the former case, you don&#39;t have any problems, regardless of what language, system, frameworks, etc. you are using.  If you can&#39;t trust them, there is no hope for you regardless of what language, system, frameworks, etc. you are using.  I certainly don&#39;t see how as small a piece of the pie as the typing system can make any difference as to the overall maintainability of a project."},{"owner":{"account_id":167009,"reputation":49757,"user_id":391531,"accept_rate":89,"display_name":"nmichaels"},"score":3,"creation_date":1283980023,"post_id":3671827,"comment_id":3865411,"body_markdown":"This looks like a good candidate for CW.","body":"This looks like a good candidate for CW."},{"owner":{"account_id":29834,"reputation":1930,"user_id":80890,"accept_rate":92,"display_name":"THEn"},"score":0,"creation_date":1283983230,"post_id":3671827,"comment_id":3865812,"body_markdown":"I am no expert on Python nor Java, for me maintainability is mostly depends on on design.","body":"I am no expert on Python nor Java, for me maintainability is mostly depends on on design."},{"owner":{"account_id":29634,"reputation":12494,"user_id":80243,"accept_rate":46,"display_name":"L̲̳o̲̳̳n̲̳̳g̲̳̳p̲̳o̲̳̳k̲̳̳e̲̳̳"},"score":2,"creation_date":1283985524,"post_id":3671827,"comment_id":3866031,"body_markdown":"@THEn: Good luck trying to maintain some Visual Basic or Perl or shell script... I guess this is why you said _mostly_.","body":"@THEn: Good luck trying to maintain some Visual Basic or Perl or shell script... I guess this is why you said <i>mostly</i>."},{"owner":{"account_id":29834,"reputation":1930,"user_id":80890,"accept_rate":92,"display_name":"THEn"},"score":0,"creation_date":1283988850,"post_id":3671827,"comment_id":3866360,"body_markdown":"@Longpoke: You got me. :) That is actually what I do. Even worse I have to add VBA... :)","body":"@Longpoke: You got me. :) That is actually what I do. Even worse I have to add VBA... :)"},{"owner":{"account_id":443137,"reputation":7845,"user_id":834176,"accept_rate":90,"display_name":"Keith Pinson"},"score":0,"creation_date":1393275135,"post_id":3671827,"comment_id":33341443,"body_markdown":"@CarlNorum it may be possible to make an argument of static types as a medium for communication. I&#39;m not arguing that, but I think it is not necessary to assume that the maintainability question must be centered on *safety*. Perhaps there are clarity benefits of static typing...?","body":"@CarlNorum it may be possible to make an argument of static types as a medium for communication. I&#39;m not arguing that, but I think it is not necessary to assume that the maintainability question must be centered on <i>safety</i>. Perhaps there are clarity benefits of static typing...?"},{"owner":{"account_id":443137,"reputation":7845,"user_id":834176,"accept_rate":90,"display_name":"Keith Pinson"},"score":0,"creation_date":1393275338,"post_id":3671827,"comment_id":33341569,"body_markdown":"I have not read it yet, but [this paper](http://pleiad.dcc.uchile.cl/papers/2012/kleinschmagerAl-icpc2012.pdf) may be of interest.","body":"I have not read it yet, but <a href=\"http://pleiad.dcc.uchile.cl/papers/2012/kleinschmagerAl-icpc2012.pdf\" rel=\"nofollow noreferrer\">this paper</a> may be of interest."}],"answers":[{"tags":[],"owner":{"account_id":61611,"reputation":66480,"user_id":183528,"accept_rate":95,"display_name":"rook"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1690819482,"creation_date":1283980276,"answer_id":3671941,"question_id":3671827,"body_markdown":"Strongly typed languages tend to produce fewer bugs overall, and type hints where added to python 3.11 - similar to typescript.\r\n\r\nWeakly typed languages are fine for rapid development, and often times being able to rapidly experiment with a new features is more important. \r\n\r\nThere isn&#39;t one solution here - pick the tool that is right for the job. ","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>Strongly typed languages tend to produce fewer bugs overall, and type hints where added to python 3.11 - similar to typescript.</p>\n<p>Weakly typed languages are fine for rapid development, and often times being able to rapidly experiment with a new features is more important.</p>\n<p>There isn't one solution here - pick the tool that is right for the job.</p>\n"},{"tags":[],"owner":{"account_id":167009,"reputation":49757,"user_id":391531,"accept_rate":89,"display_name":"nmichaels"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1283980389,"creation_date":1283980389,"answer_id":3671950,"question_id":3671827,"body_markdown":"I&#39;ve used Python for many projects, from a few hundred lines to several thousand lines. Dynamic typing is a great time saver and it makes OO concepts like polymorphism way easier to use. The type system does not make projects unmaintainable. If you have trouble imagining that, try writing a few things in Python and see how they go.\r\n","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>I've used Python for many projects, from a few hundred lines to several thousand lines. Dynamic typing is a great time saver and it makes OO concepts like polymorphism way easier to use. The type system does not make projects unmaintainable. If you have trouble imagining that, try writing a few things in Python and see how they go.</p>\n"},{"tags":[],"owner":{"account_id":188222,"reputation":9617,"user_id":426834,"display_name":"zellus"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1283981650,"creation_date":1283980758,"answer_id":3671994,"question_id":3671827,"body_markdown":"A large code base in python without good test coverage might be an issue. But thats just one part of the image. It&#39;s all about people and suitable approaches to do the job.\r\n\r\n\r\nWithout \r\n\r\n - Source Control\r\n - Bug Tracking\r\n - Unit Tests\r\n - Committed Team\r\n\r\nyou might fail with any kind of language.\r\n\r\n","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>A large code base in python without good test coverage might be an issue. But thats just one part of the image. It's all about people and suitable approaches to do the job.</p>\n\n<p>Without </p>\n\n<ul>\n<li>Source Control</li>\n<li>Bug Tracking</li>\n<li>Unit Tests</li>\n<li>Committed Team</li>\n</ul>\n\n<p>you might fail with any kind of language.</p>\n"},{"tags":[],"owner":{"account_id":81187,"reputation":18262,"user_id":229075,"accept_rate":71,"display_name":"Wai Yip Tung"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1283985354,"creation_date":1283982933,"answer_id":3672201,"question_id":3671827,"body_markdown":"I work on a large scale commercial product done in Python. I give a very rough estimate of 5000 files x 500 lines each. That&#39;s about 2.5 millions lines of Python. Mind you the complexity of this project is probably equivalent to 10 mil+ lines of code in other languages. I&#39;ve not heard from a single engineer/architecture/manager who complain about Python code being unmaintainable. From what I&#39;ve seen from our bug tracker, I do not see any systemic problem that could be avoided by static type checking. In fact there is very few bugs spawn from incorrect use of object type at all.\r\n\r\nI think this is a very good academic subject to empirically study why static class based language does not seems to be as critical as one might think.\r\n\r\nAnd about extensibility. We just added a database 2 on top of the database 1 in our product, both of them non-SQL. There is no issue related to type checking. First of all we have designed an API flexible enough to anticipate different underlying implementation. I think dynamic language is a helps rather than hindrance in this regard. When we went on to testing and bug fixing phrase, we were working on the kind of bugs people working on any language would have to face. For example, memory usage issues, consistence and referential integrity issues, error handling issues. I don&#39;t see static type checking have much help on  any of these challenges. On the other hand we have benefited greatly from dynamic language by being able to inject code mid-flight or after simple patching. And we are able to test our hypothesis and demonstrate our fixes quickly.\r\n\r\nIt is safe to say most of our 100+ engineers are happy and productive using Python. It is probably unthinkable for us to build the same product using a static typed language in the same amount of time with the same quality.","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>I work on a large scale commercial product done in Python. I give a very rough estimate of 5000 files x 500 lines each. That's about 2.5 millions lines of Python. Mind you the complexity of this project is probably equivalent to 10 mil+ lines of code in other languages. I've not heard from a single engineer/architecture/manager who complain about Python code being unmaintainable. From what I've seen from our bug tracker, I do not see any systemic problem that could be avoided by static type checking. In fact there is very few bugs spawn from incorrect use of object type at all.</p>\n\n<p>I think this is a very good academic subject to empirically study why static class based language does not seems to be as critical as one might think.</p>\n\n<p>And about extensibility. We just added a database 2 on top of the database 1 in our product, both of them non-SQL. There is no issue related to type checking. First of all we have designed an API flexible enough to anticipate different underlying implementation. I think dynamic language is a helps rather than hindrance in this regard. When we went on to testing and bug fixing phrase, we were working on the kind of bugs people working on any language would have to face. For example, memory usage issues, consistence and referential integrity issues, error handling issues. I don't see static type checking have much help on  any of these challenges. On the other hand we have benefited greatly from dynamic language by being able to inject code mid-flight or after simple patching. And we are able to test our hypothesis and demonstrate our fixes quickly.</p>\n\n<p>It is safe to say most of our 100+ engineers are happy and productive using Python. It is probably unthinkable for us to build the same product using a static typed language in the same amount of time with the same quality.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1283989580,"creation_date":1283989580,"answer_id":3672764,"question_id":3671827,"body_markdown":"I remember the days before and after the innovation of IntelliJ IDEA. There are huge differences. Before, static typing was only for compilation, development basically treats source code as text files. After, source code is structured information, many development tasks are must easier, thanks to static typing.\r\n\r\nHowever, it&#39;s not like the old days were living hell. We took it as is, do whatever necessary, use the tools available to date, get the system built, satisfaction. There weren&#39;t too many unhappy memories. That&#39;s probably what dynamic typing programmers feel now. It&#39;s not that bad.\r\n\r\nOf course, I&#39;ll never go back to the old days. If I&#39;m forbidden to use such an IDE, I guess I&#39;ll give us programming all together. ","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>I remember the days before and after the innovation of IntelliJ IDEA. There are huge differences. Before, static typing was only for compilation, development basically treats source code as text files. After, source code is structured information, many development tasks are must easier, thanks to static typing.</p>\n\n<p>However, it's not like the old days were living hell. We took it as is, do whatever necessary, use the tools available to date, get the system built, satisfaction. There weren't too many unhappy memories. That's probably what dynamic typing programmers feel now. It's not that bad.</p>\n\n<p>Of course, I'll never go back to the old days. If I'm forbidden to use such an IDE, I guess I'll give us programming all together. </p>\n"},{"tags":[],"owner":{"account_id":202835,"reputation":69210,"user_id":450128,"accept_rate":62,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327799063,"creation_date":1327799063,"answer_id":9050068,"question_id":3671827,"body_markdown":"In my experience, maintainability depends on low coupling, good documentation, good development process, and excellent testing. Static typing has very little to do with any of this.\r\n\r\nThe errors that Java will catch at compile time are only a small subset of the errors that can occur. They&#39;re also almost always the most trivial to detect by testing; there&#39;s no way you can miss calling a method on an object of the wrong class if you&#39;re testing that your code produces the right answer! In that respect you could argue that Python actually is *better* for ensuring quality; by *forcing* you to test at least a bit to ensure your code is free of simple typos, it ensures that you actually *do* test at least a bit.\r\n\r\nIn fact Java is not even a very good example of a language with strong static checks for catching lots of bugs. Try programming in Haskell or Mercury to see what I mean, or better yet try programming in Scala and interfacing with Java libraries; the difference in how much &quot;correctness&quot; the compiler is able to guarantee for you is striking when you compare the normal idiomatic Scala code using Scala libraries to the code that has to deal with Java libraries (I have actually done this, since I program a bit in Scala on Android).\r\n\r\nYour ability to write good maintainable code in large code-bases worked on by many developers over long periods of time, despite the shortcomings of Java&#39;s static error detection compared to languages like Scala, depends on **exactly the same techniques** Python programmers use to do the same thing in their large code-bases, despite the shortcomings of Python&#39;s static error detection compared to Java.","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>In my experience, maintainability depends on low coupling, good documentation, good development process, and excellent testing. Static typing has very little to do with any of this.</p>\n\n<p>The errors that Java will catch at compile time are only a small subset of the errors that can occur. They're also almost always the most trivial to detect by testing; there's no way you can miss calling a method on an object of the wrong class if you're testing that your code produces the right answer! In that respect you could argue that Python actually is <em>better</em> for ensuring quality; by <em>forcing</em> you to test at least a bit to ensure your code is free of simple typos, it ensures that you actually <em>do</em> test at least a bit.</p>\n\n<p>In fact Java is not even a very good example of a language with strong static checks for catching lots of bugs. Try programming in Haskell or Mercury to see what I mean, or better yet try programming in Scala and interfacing with Java libraries; the difference in how much \"correctness\" the compiler is able to guarantee for you is striking when you compare the normal idiomatic Scala code using Scala libraries to the code that has to deal with Java libraries (I have actually done this, since I program a bit in Scala on Android).</p>\n\n<p>Your ability to write good maintainable code in large code-bases worked on by many developers over long periods of time, despite the shortcomings of Java's static error detection compared to languages like Scala, depends on <strong>exactly the same techniques</strong> Python programmers use to do the same thing in their large code-bases, despite the shortcomings of Python's static error detection compared to Java.</p>\n"},{"tags":[],"owner":{"account_id":1070984,"reputation":61,"user_id":1070273,"display_name":"TerrestrialIntelligence"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1543516605,"creation_date":1413381926,"answer_id":26384589,"question_id":3671827,"body_markdown":"Try tracing back the source of an apparently malformed object in a large, dynamically-typed framework with lots of IoC or other design patterns where the object cannot be traced directly up the stack.\r\n\r\nNow try doing this in a statically-typed language.\r\n\r\nUnless the type of the object is documented close to the use-site (e.g. via type annotations, a-la Python&#39;s typesafe library) or somewhere on the stack, deducing where it came from can be virtually impossible. I speak from experience, having tried to debug parts of the BuildBot framework. It involved an immense amount of raw text searching through the framework, even using fancy IDEs such as PyDev, Komodo and Wingware.\r\n\r\nI do not doubt that it is possible to impose some type constraints on dynamic languages, but the lack of any standardisation on this seems to be an impediment to anyone trying to debug part of a large, existent framework.\r\n\r\nEDIT: since 2014, Guido added PEP484, MyPy and the typing module. This has made my experience much, much better in terms of maintaining large projects.","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>Try tracing back the source of an apparently malformed object in a large, dynamically-typed framework with lots of IoC or other design patterns where the object cannot be traced directly up the stack.</p>\n\n<p>Now try doing this in a statically-typed language.</p>\n\n<p>Unless the type of the object is documented close to the use-site (e.g. via type annotations, a-la Python's typesafe library) or somewhere on the stack, deducing where it came from can be virtually impossible. I speak from experience, having tried to debug parts of the BuildBot framework. It involved an immense amount of raw text searching through the framework, even using fancy IDEs such as PyDev, Komodo and Wingware.</p>\n\n<p>I do not doubt that it is possible to impose some type constraints on dynamic languages, but the lack of any standardisation on this seems to be an impediment to anyone trying to debug part of a large, existent framework.</p>\n\n<p>EDIT: since 2014, Guido added PEP484, MyPy and the typing module. This has made my experience much, much better in terms of maintaining large projects.</p>\n"},{"tags":[],"owner":{"account_id":14480439,"reputation":13,"user_id":10497888,"display_name":"Charlie Huang"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1571850043,"creation_date":1571850043,"answer_id":58527749,"question_id":3671827,"body_markdown":"I am working in a big data start-up company which use python as main language. My projects is about 30k lines of python. from my experience, if your team adopts a good programming practice, fox example, adding type hints and extensively unit testing, it maybe not so affect maintainability. since Pycharm can automatically detect type some type errors if there are type hints.\r\n\r\nthe real issues are:\r\n1. performance, this may not related to maintainability, but it is an issue.\r\n2. not every python code base you handled are well written. since python is easy to learn and code. some people who do not have some basic CS training would develop a python project which is impossible to maintain. i worked a python project which has a lot files that has several thousand lines each without type hints. and that guy do not know about OOP. he basically write python in a way like writing C. he just utilize some python language features but completely imperative programming. Good written python projects really rely on well trained engineers. if you can not hire good-enough engineer, it would better to rely on tools itself.\r\n3. in a python big data company, product managers and some non-technical people do not care data type in consistence. those people would design a data product which are not type-safe. for example, in a Json if a field which is usually a str, but when it is empty, some people would make it null. this would fail at Runtime.","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>I am working in a big data start-up company which use python as main language. My projects is about 30k lines of python. from my experience, if your team adopts a good programming practice, fox example, adding type hints and extensively unit testing, it maybe not so affect maintainability. since Pycharm can automatically detect type some type errors if there are type hints.</p>\n\n<p>the real issues are:\n1. performance, this may not related to maintainability, but it is an issue.\n2. not every python code base you handled are well written. since python is easy to learn and code. some people who do not have some basic CS training would develop a python project which is impossible to maintain. i worked a python project which has a lot files that has several thousand lines each without type hints. and that guy do not know about OOP. he basically write python in a way like writing C. he just utilize some python language features but completely imperative programming. Good written python projects really rely on well trained engineers. if you can not hire good-enough engineer, it would better to rely on tools itself.\n3. in a python big data company, product managers and some non-technical people do not care data type in consistence. those people would design a data product which are not type-safe. for example, in a Json if a field which is usually a str, but when it is empty, some people would make it null. this would fail at Runtime.</p>\n"}],"owner":{"account_id":141196,"reputation":24515,"user_id":348056,"accept_rate":86,"display_name":"JnBrymn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4097,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"closed_date":1571857066,"accepted_answer_id":3672201,"answer_count":8,"score":19,"last_activity_date":1690819482,"creation_date":1283979298,"question_id":3671827,"body_markdown":"After reading [this very informative (albeit somewhat argumentative) question][1] I would like to know your experience with programming large projects with Python.  Do things become un manageable as the project becomes larger?  This concern is one thing that keeps me attached to Java.  I would therefore be particularly interested in *informed* comparisons of maintainability and extensibility of Java and Python for large projects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3621297/how-to-deal-with-python-static-typing-closed","title":"How does Python&#39;s lack of static typing affect maintainability and extensibility in larger projects?","body":"<p>After reading <a href=\"https://stackoverflow.com/questions/3621297/how-to-deal-with-python-static-typing-closed\">this very informative (albeit somewhat argumentative) question</a> I would like to know your experience with programming large projects with Python.  Do things become un manageable as the project becomes larger?  This concern is one thing that keeps me attached to Java.  I would therefore be particularly interested in <em>informed</em> comparisons of maintainability and extensibility of Java and Python for large projects.</p>\n"},{"tags":["javascript","java","ios","react-native"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690820835,"post_id":76805060,"comment_id":135403063,"body_markdown":"Did you try to add **package usage permission**?","body":"Did you try to add <b>package usage permission</b>?"}],"owner":{"account_id":29129729,"reputation":1,"user_id":22315297,"display_name":"Gabo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690819337,"creation_date":1690817256,"question_id":76805060,"body_markdown":"I am using Native Modules from React Native\r\n\r\nI&#39;m trying to fetch the apps along with the usage time using the UsageStatsManager, if I just fetch the package name and the usage time it works, but if I try to fetch the package name, the usage time and its respective icon , it returns me only the system apps\r\n\r\nI already tried to add the permission\r\n\r\n    \\&lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot; /\\&gt;\r\n\r\nbut it does not work\r\n\r\nHow can I make the UsageStatsManager not limit only to system apps ??","title":"UsageStatsManager doesn&#39;t fetch the icons","body":"<p>I am using Native Modules from React Native</p>\n<p>I'm trying to fetch the apps along with the usage time using the UsageStatsManager, if I just fetch the package name and the usage time it works, but if I try to fetch the package name, the usage time and its respective icon , it returns me only the system apps</p>\n<p>I already tried to add the permission</p>\n<pre><code>\\&lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot; /\\&gt;\n</code></pre>\n<p>but it does not work</p>\n<p>How can I make the UsageStatsManager not limit only to system apps ??</p>\n"},{"tags":["java","dropwizard","health-check","aws-elb"],"owner":{"account_id":3135892,"reputation":1501,"user_id":2652405,"accept_rate":38,"display_name":"AppleBud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690819281,"creation_date":1690819281,"question_id":76805311,"body_markdown":"I have a use case where I want to override the default behavior of ELB healthchecker. It currently succeeds in all scenarios but I want to check if the DB has no available connections or an external client is not responding, the healthcheck should fail.\r\n\r\nis there a way I can do that in dropwizard by creating a custom resource or by some other configuration ?","title":"How can I override GET/ok ELB-HealthChecker/2.0 in dropwizard?","body":"<p>I have a use case where I want to override the default behavior of ELB healthchecker. It currently succeeds in all scenarios but I want to check if the DB has no available connections or an external client is not responding, the healthcheck should fail.</p>\n<p>is there a way I can do that in dropwizard by creating a custom resource or by some other configuration ?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690816753,"post_id":76804857,"comment_id":135402240,"body_markdown":"You don&#39;t say what database you&#39;re using","body":"You don&#39;t say what database you&#39;re using"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1690817845,"post_id":76804857,"comment_id":135402486,"body_markdown":"Create will only create tables - but in your case, they are already there. If this is a Dev environment, you probably should look at clearing the data out and recreating tables as your past iterations of the app may not play nice with the new ones (drop and create). Your JPA provider may have its own non-JPA  settings to extend existing tables ( https://stackoverflow.com/a/12528659/496099 or https://stackoverflow.com/a/306825/496099 )","body":"Create will only create tables - but in your case, they are already there. If this is a Dev environment, you probably should look at clearing the data out and recreating tables as your past iterations of the app may not play nice with the new ones (drop and create). Your JPA provider may have its own non-JPA  settings to extend existing tables ( <a href=\"https://stackoverflow.com/a/12528659/496099\">stackoverflow.com/a/12528659/496099</a> or <a href=\"https://stackoverflow.com/a/306825/496099\">stackoverflow.com/a/306825/496099</a> )"},{"owner":{"account_id":29129707,"reputation":1,"user_id":22315277,"display_name":"crispy"},"score":0,"creation_date":1690818695,"post_id":76804857,"comment_id":135402662,"body_markdown":"my bad, I am using Apache Derby. Though I found a fix by changing the value of a property in my persistence.xml. The property is called javax.persistence.schema-generation.database.action and I changed the value from &quot;create&quot; to &quot;drop-and-create&quot;. This dropped the tables thus I lost all of my data but the new columns seem to be working.","body":"my bad, I am using Apache Derby. Though I found a fix by changing the value of a property in my persistence.xml. The property is called javax.persistence.schema-generation.database.action and I changed the value from &quot;create&quot; to &quot;drop-and-create&quot;. This dropped the tables thus I lost all of my data but the new columns seem to be working."}],"answers":[{"tags":[],"owner":{"account_id":29129707,"reputation":1,"user_id":22315277,"display_name":"crispy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690819038,"creation_date":1690819021,"answer_id":76805276,"question_id":76804857,"body_markdown":"I figured out a way to add the new columns. By modifying the value of my schema generation property in my persistence.xml from &quot;create&quot; to &quot;drop-and-create&quot; as shown below\r\n\r\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n\r\nOne issue with it is it drops the entire database so all data within the database will be lost. Though my project is not for production so I am able to afford the cost of losing my data to create additional columns for my tables. I hope this helps","title":"How to add a new column to an existing database table while using javax.persistence.schema-generation.database.action","body":"<p>I figured out a way to add the new columns. By modifying the value of my schema generation property in my persistence.xml from &quot;create&quot; to &quot;drop-and-create&quot; as shown below</p>\n<pre><code>&lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\n</code></pre>\n<p>One issue with it is it drops the entire database so all data within the database will be lost. Though my project is not for production so I am able to afford the cost of losing my data to create additional columns for my tables. I hope this helps</p>\n"}],"owner":{"account_id":29129707,"reputation":1,"user_id":22315277,"display_name":"crispy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690819038,"creation_date":1690815541,"question_id":76804857,"body_markdown":"I am developing a three-tier Java enterprise application in NetBeans, the architecture includes a model for tables, a facade for table interactions, JavaBeans as controllers, and XHTML web pages for display.\r\n\r\nI have a &quot;Booking&quot; table generated from an entity class with primary key ID, status, and date. I need to add new columns (FOOD, SEATS, and RATING), but doing so led to the following error when navigating to a webpage that calls objects from the table.\r\n\r\n`Internal Exception: java.sql.SQLSyntaxErrorException: Column &#39;FOOD&#39; is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE  statement then &#39;FOOD&#39; is not a column in the target table.\r\nError Code: 30000`\r\n\r\nBased on the error message I am getting, I&#39;d assume the issue is Java is not creating the new columns on the existing Booking table. How can I solve this?\r\n\r\nI found this [question](https://stackoverflow.com/questions/5622300/how-do-i-add-a-column-to-a-jpa-entity-and-still-keep-my-data) which is similar to my issue. However I am using javax persistence and not eclipse. How can I add another column to my table without dropping it entirely?\r\n\r\nI have the following line in my persistence.xml, however the new column is still not generated\r\n`&lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;`\r\n\r\nI have also tried labelling the column names on my variable declaration in my model as shown below though it does not seem to do anything as the columns were not generated in the first place.\r\n\r\n```\r\npublic class Booking implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n    \r\n    \r\n    @Temporal(TemporalType.DATE)\r\n    private Date bookingDate;\r\n    \r\n    private String status;\r\n    @Column(name = &quot;FOOD&quot;)\r\n    private String food;\r\n    @Column(name = &quot;SEATS&quot;)\r\n    private Long seats;\r\n    @Column(name = &quot;RATING&quot;)\r\n    private Long rating;\r\n    @Column(name = &quot;REVIEW&quot;)\r\n    private String review;\r\n    \r\n    private Long assignedKitchenStaffId;\r\n    private Long customerId;\r\n\r\n    @JoinColumn(name = &quot;ASSIGNEDKITCHENSTAFF_ID&quot;)\r\n    @ManyToOne\r\n    private User assignedKitchenStaff;\r\n    \r\n    @JoinColumn(name = &quot;CUSTOMER_ID&quot;)\r\n    @ManyToOne\r\n    private User customer;\r\n    \r\n```\r\n","title":"How to add a new column to an existing database table while using javax.persistence.schema-generation.database.action","body":"<p>I am developing a three-tier Java enterprise application in NetBeans, the architecture includes a model for tables, a facade for table interactions, JavaBeans as controllers, and XHTML web pages for display.</p>\n<p>I have a &quot;Booking&quot; table generated from an entity class with primary key ID, status, and date. I need to add new columns (FOOD, SEATS, and RATING), but doing so led to the following error when navigating to a webpage that calls objects from the table.</p>\n<p><code>Internal Exception: java.sql.SQLSyntaxErrorException: Column 'FOOD' is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE  statement then 'FOOD' is not a column in the target table. Error Code: 30000</code></p>\n<p>Based on the error message I am getting, I'd assume the issue is Java is not creating the new columns on the existing Booking table. How can I solve this?</p>\n<p>I found this <a href=\"https://stackoverflow.com/questions/5622300/how-do-i-add-a-column-to-a-jpa-entity-and-still-keep-my-data\">question</a> which is similar to my issue. However I am using javax persistence and not eclipse. How can I add another column to my table without dropping it entirely?</p>\n<p>I have the following line in my persistence.xml, however the new column is still not generated\n<code>&lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;</code></p>\n<p>I have also tried labelling the column names on my variable declaration in my model as shown below though it does not seem to do anything as the columns were not generated in the first place.</p>\n<pre><code>public class Booking implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n    \n    \n    @Temporal(TemporalType.DATE)\n    private Date bookingDate;\n    \n    private String status;\n    @Column(name = &quot;FOOD&quot;)\n    private String food;\n    @Column(name = &quot;SEATS&quot;)\n    private Long seats;\n    @Column(name = &quot;RATING&quot;)\n    private Long rating;\n    @Column(name = &quot;REVIEW&quot;)\n    private String review;\n    \n    private Long assignedKitchenStaffId;\n    private Long customerId;\n\n    @JoinColumn(name = &quot;ASSIGNEDKITCHENSTAFF_ID&quot;)\n    @ManyToOne\n    private User assignedKitchenStaff;\n    \n    @JoinColumn(name = &quot;CUSTOMER_ID&quot;)\n    @ManyToOne\n    private User customer;\n    \n</code></pre>\n"},{"tags":["java","debugging","legacy-code"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690802366,"post_id":76802465,"comment_id":135398964,"body_markdown":"Java was designed from the ground up to be debuggable. Set a break point at the top, start your program in debug made and step though/down into you code and see where it goes,","body":"Java was designed from the ground up to be debuggable. Set a break point at the top, start your program in debug made and step though/down into you code and see where it goes,"}],"owner":{"account_id":22847439,"reputation":155,"user_id":16993589,"display_name":"Marcus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690818792,"creation_date":1690797194,"question_id":76802465,"body_markdown":"When working on a big java application with many jar and legacy code you don&#39;t know, what are the techniques to identify witch code match a given functionality ?\r\n\r\nFor example, imagine that clicking a button in your application runs some java code but you don&#39;t know which jar and class are involved. The functionality is fast and you don&#39;t have enough time to press the button and break with a debugger to discover the involved code.\r\n\r\nIf it would be a C++ feature I would probably use Visual Studio diagnostic tools to identify quickly the involved code thanks to the profiling feature.\r\nAre there any similar debugging technics in Java ?\r\n\r\nedit: In my case, the application I&#39;m working on involve many technologies. The core platform is a native application. A JVM runs &quot;in process&quot; and more functional features are implemented with Java. There are about hundred jar so setting some breakpoints here and there when you have very few hints about where the feature start and ends is really hard and time consuming.","title":"Debugging techniques: How to identify involved code in an application functionality?","body":"<p>When working on a big java application with many jar and legacy code you don't know, what are the techniques to identify witch code match a given functionality ?</p>\n<p>For example, imagine that clicking a button in your application runs some java code but you don't know which jar and class are involved. The functionality is fast and you don't have enough time to press the button and break with a debugger to discover the involved code.</p>\n<p>If it would be a C++ feature I would probably use Visual Studio diagnostic tools to identify quickly the involved code thanks to the profiling feature.\nAre there any similar debugging technics in Java ?</p>\n<p>edit: In my case, the application I'm working on involve many technologies. The core platform is a native application. A JVM runs &quot;in process&quot; and more functional features are implemented with Java. There are about hundred jar so setting some breakpoints here and there when you have very few hints about where the feature start and ends is really hard and time consuming.</p>\n"},{"tags":["java","hibernate","postgresql","jpa","hstore"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1404247867,"creation_date":1404247867,"answer_id":24519068,"question_id":24517120,"body_markdown":"Hibernate offers a common query abstraction across many DBs so a non-SQL syntax is hard to be abstracted out.\r\n\r\nI would go for a native query to fetch the ids and use those to get Hibernate entities if you really need those anyway.\r\n\r\nIf you are only interested in projections than a native query is your best choice. ","title":"Is there a way to query a PostgreSQL hstore with Hibernate/JPQL?","body":"<p>Hibernate offers a common query abstraction across many DBs so a non-SQL syntax is hard to be abstracted out.</p>\n\n<p>I would go for a native query to fetch the ids and use those to get Hibernate entities if you really need those anyway.</p>\n\n<p>If you are only interested in projections than a native query is your best choice. </p>\n"},{"tags":[],"owner":{"account_id":3645671,"reputation":1586,"user_id":3038736,"display_name":"sagneta"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1454079207,"creation_date":1454079207,"answer_id":35087385,"question_id":24517120,"body_markdown":"You can also simply create a Hibernate org.hibernate.usertype.UserType. You extend that class; an example from our own implementation:\r\n\r\n\r\n\r\n    public class HstoreUserType implements UserType {\r\n\r\n    /**\r\n     * PostgreSQL {@code hstore} field separator token.\r\n     */\r\n    private static final String HSTORE_SEPARATOR_TOKEN = &quot;=&gt;&quot;;\r\n\r\n    /**\r\n     * {@link Pattern} used to find and split {@code hstore} entries.\r\n     */\r\n    private static final Pattern HSTORE_ENTRY_PATTERN = Pattern.compile(String.format(&quot;\\&quot;(.*)\\&quot;%s\\&quot;(.*)\\&quot;&quot;, HSTORE_SEPARATOR_TOKEN));\r\n\r\n    /**\r\n     * The PostgreSQL value for the {@code hstore} data type.\r\n     */\r\n    public static final int HSTORE_TYPE = 1111;\r\n\r\n    @Override\r\n    public int[] sqlTypes() {\r\n        return new int[] { HSTORE_TYPE };\r\n    }\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    @Override\r\n    public Class returnedClass() {\r\n        return Map.class;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(final Object x, final Object y) throws HibernateException {\r\n        return x.equals(y);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode(final Object x) throws HibernateException {\r\n        return x.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public Object nullSafeGet(final ResultSet rs, final String[] names,\r\n            final SessionImplementor session, final Object owner)\r\n            throws HibernateException, SQLException {\r\n        return convertToEntityAttribute(rs.getString(names[0]));\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Override\r\n    public void nullSafeSet(final PreparedStatement st, final Object value, final int index,\r\n            final SessionImplementor session) throws HibernateException, SQLException {\r\n        st.setObject(index, convertToDatabaseColumn((Map&lt;String,Object&gt;)value), HSTORE_TYPE);\r\n\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Override\r\n    public Object deepCopy(final Object value) throws HibernateException {\r\n        return new HashMap&lt;String,Object&gt;(((Map&lt;String,Object&gt;)value));\r\n    }\r\n\r\n    @Override\r\n    public boolean isMutable() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Serializable disassemble(final Object value) throws HibernateException {\r\n        return (Serializable) value;\r\n    }\r\n\r\n    @Override\r\n    public Object assemble(final Serializable cached, final Object owner)\r\n            throws HibernateException {\r\n        return cached;\r\n    }\r\n\r\n    @Override\r\n    public Object replace(final Object original, final Object target, final Object owner)\r\n            throws HibernateException {\r\n        return original;\r\n    }\r\n\r\n\r\n    private String convertToDatabaseColumn(final Map&lt;String, Object&gt; attribute) {\r\n        final StringBuilder builder = new StringBuilder();\r\n        for (final Map.Entry&lt;String, Object&gt; entry : attribute.entrySet()) {\r\n            if(builder.length() &gt; 1) {\r\n                builder.append(&quot;, &quot;);\r\n            }\r\n            builder.append(&quot;\\&quot;&quot;);\r\n            builder.append(entry.getKey());\r\n            builder.append(&quot;\\&quot;&quot;);\r\n            builder.append(HSTORE_SEPARATOR_TOKEN);\r\n            builder.append(&quot;\\&quot;&quot;);\r\n            builder.append(entry.getValue().toString());\r\n            builder.append(&quot;\\&quot;&quot;);\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; convertToEntityAttribute(final String dbData) {\r\n        final Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n        if (dbData != null) {\r\n            final StringTokenizer tokenizer = new StringTokenizer(dbData, &quot;,&quot;);\r\n            while(tokenizer.hasMoreTokens()) {\r\n                final Matcher matcher = HSTORE_ENTRY_PATTERN.matcher(tokenizer.nextToken().trim());\r\n                if(matcher.find()) {\r\n                    data.put(matcher.group(1), matcher.group(2));\r\n                }\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nNow you may use it within in Entity bean like so:\r\n\r\n    @Entity\r\n    @Table(name=&quot;YourEntityBeanTable&quot;)\r\n    @TypeDefs({\r\n        @TypeDef(name = &quot;hstore&quot;,  typeClass = HstoreUserType.class)\r\n    })\r\n    \r\n    public class YourEntityBean {\r\n    \r\n    .....\r\n    \r\n        @Type(type = &quot;hstore&quot;)    \r\n        @Column(name= &quot;an_hstore_column&quot;, columnDefinition = &quot;hstore&quot;)\r\n        private Map&lt;String, String&gt; anHStoreColumn = new HashMap&lt;&gt;();\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Is there a way to query a PostgreSQL hstore with Hibernate/JPQL?","body":"<p>You can also simply create a Hibernate org.hibernate.usertype.UserType. You extend that class; an example from our own implementation:</p>\n\n<pre><code>public class HstoreUserType implements UserType {\n\n/**\n * PostgreSQL {@code hstore} field separator token.\n */\nprivate static final String HSTORE_SEPARATOR_TOKEN = \"=&gt;\";\n\n/**\n * {@link Pattern} used to find and split {@code hstore} entries.\n */\nprivate static final Pattern HSTORE_ENTRY_PATTERN = Pattern.compile(String.format(\"\\\"(.*)\\\"%s\\\"(.*)\\\"\", HSTORE_SEPARATOR_TOKEN));\n\n/**\n * The PostgreSQL value for the {@code hstore} data type.\n */\npublic static final int HSTORE_TYPE = 1111;\n\n@Override\npublic int[] sqlTypes() {\n    return new int[] { HSTORE_TYPE };\n}\n\n@SuppressWarnings(\"rawtypes\")\n@Override\npublic Class returnedClass() {\n    return Map.class;\n}\n\n@Override\npublic boolean equals(final Object x, final Object y) throws HibernateException {\n    return x.equals(y);\n}\n\n@Override\npublic int hashCode(final Object x) throws HibernateException {\n    return x.hashCode();\n}\n\n@Override\npublic Object nullSafeGet(final ResultSet rs, final String[] names,\n        final SessionImplementor session, final Object owner)\n        throws HibernateException, SQLException {\n    return convertToEntityAttribute(rs.getString(names[0]));\n}\n\n@SuppressWarnings(\"unchecked\")\n@Override\npublic void nullSafeSet(final PreparedStatement st, final Object value, final int index,\n        final SessionImplementor session) throws HibernateException, SQLException {\n    st.setObject(index, convertToDatabaseColumn((Map&lt;String,Object&gt;)value), HSTORE_TYPE);\n\n}\n\n@SuppressWarnings(\"unchecked\")\n@Override\npublic Object deepCopy(final Object value) throws HibernateException {\n    return new HashMap&lt;String,Object&gt;(((Map&lt;String,Object&gt;)value));\n}\n\n@Override\npublic boolean isMutable() {\n    return true;\n}\n\n@Override\npublic Serializable disassemble(final Object value) throws HibernateException {\n    return (Serializable) value;\n}\n\n@Override\npublic Object assemble(final Serializable cached, final Object owner)\n        throws HibernateException {\n    return cached;\n}\n\n@Override\npublic Object replace(final Object original, final Object target, final Object owner)\n        throws HibernateException {\n    return original;\n}\n\n\nprivate String convertToDatabaseColumn(final Map&lt;String, Object&gt; attribute) {\n    final StringBuilder builder = new StringBuilder();\n    for (final Map.Entry&lt;String, Object&gt; entry : attribute.entrySet()) {\n        if(builder.length() &gt; 1) {\n            builder.append(\", \");\n        }\n        builder.append(\"\\\"\");\n        builder.append(entry.getKey());\n        builder.append(\"\\\"\");\n        builder.append(HSTORE_SEPARATOR_TOKEN);\n        builder.append(\"\\\"\");\n        builder.append(entry.getValue().toString());\n        builder.append(\"\\\"\");\n    }\n    return builder.toString();\n}\n\nprivate Map&lt;String, Object&gt; convertToEntityAttribute(final String dbData) {\n    final Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n    if (dbData != null) {\n        final StringTokenizer tokenizer = new StringTokenizer(dbData, \",\");\n        while(tokenizer.hasMoreTokens()) {\n            final Matcher matcher = HSTORE_ENTRY_PATTERN.matcher(tokenizer.nextToken().trim());\n            if(matcher.find()) {\n                data.put(matcher.group(1), matcher.group(2));\n            }\n        }\n    }\n    return data;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now you may use it within in Entity bean like so:</p>\n\n<pre><code>@Entity\n@Table(name=\"YourEntityBeanTable\")\n@TypeDefs({\n    @TypeDef(name = \"hstore\",  typeClass = HstoreUserType.class)\n})\n\npublic class YourEntityBean {\n\n.....\n\n    @Type(type = \"hstore\")    \n    @Column(name= \"an_hstore_column\", columnDefinition = \"hstore\")\n    private Map&lt;String, String&gt; anHStoreColumn = new HashMap&lt;&gt;();\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":2534457,"reputation":1847,"user_id":2201958,"accept_rate":77,"display_name":"achingfingers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4246,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":24519068,"answer_count":2,"score":7,"last_activity_date":1690818754,"creation_date":1404239813,"question_id":24517120,"body_markdown":"Assuming I have a Hibernate/JPA Entity like the following:\r\n\r\n    @Entity\r\n    public class FooEntity {\r\n    \r\n      ...\r\n\r\n      @Type(type = &quot;hstore&quot;)\r\n      HashMap&lt;String, String&gt; tags;\r\n    }\r\n\r\n... and the `hstore` Type is a simple UserType implementation from [this][1] resource.\r\n\r\nIs there a way to access the hstore in a JPQL query similar to this Pseudocode:\r\n\r\n    SELECT f FROM FooEntity f WHERE f.tags CONTAINS KEY(:key)\r\n\r\n\r\n  [1]: https://github.com/jamesward/spring_hibernate_hstore_demo/blob/master/src/main/java/net/backtothefront/HstoreUserType.java","title":"Is there a way to query a PostgreSQL hstore with Hibernate/JPQL?","body":"<p>Assuming I have a Hibernate/JPA Entity like the following:</p>\n\n<pre><code>@Entity\npublic class FooEntity {\n\n  ...\n\n  @Type(type = \"hstore\")\n  HashMap&lt;String, String&gt; tags;\n}\n</code></pre>\n\n<p>... and the <code>hstore</code> Type is a simple UserType implementation from <a href=\"https://github.com/jamesward/spring_hibernate_hstore_demo/blob/master/src/main/java/net/backtothefront/HstoreUserType.java\" rel=\"noreferrer\">this</a> resource.</p>\n\n<p>Is there a way to access the hstore in a JPQL query similar to this Pseudocode:</p>\n\n<pre><code>SELECT f FROM FooEntity f WHERE f.tags CONTAINS KEY(:key)\n</code></pre>\n"},{"tags":["java","mysql","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":1,"creation_date":1529934681,"post_id":51024908,"comment_id":89042625,"body_markdown":"Take a look at this: https://stackoverflow.com/questions/3572626/calling-stored-procedure-from-java-jpa","body":"Take a look at this: <a href=\"https://stackoverflow.com/questions/3572626/calling-stored-procedure-from-java-jpa\" title=\"calling stored procedure from java jpa\">stackoverflow.com/questions/3572626/&hellip;</a>"},{"owner":{"account_id":12709012,"reputation":1676,"user_id":9233226,"display_name":"Nitin Wahale"},"score":0,"creation_date":1529991183,"post_id":51024908,"comment_id":89062769,"body_markdown":"I dont need any resultset ..I got exception..&#39;ResultSet is from UPDATE. No Data&#39;","body":"I dont need any resultset ..I got exception..&#39;ResultSet is from UPDATE. No Data&#39;"}],"answers":[{"tags":[],"owner":{"account_id":2628226,"reputation":851,"user_id":2274814,"display_name":"Jan Larsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529937463,"creation_date":1529934753,"answer_id":51025161,"question_id":51024908,"body_markdown":"You need to use `createStoredProcedureQuery(String procedureName)` method\r\n\r\n    Query q1 = entityManager.createStoredProcedureQuery(...);\r\n    q1.execute();","title":"How execute stored procedure in spring boot which not return resultset?","body":"<p>You need to use <code>createStoredProcedureQuery(String procedureName)</code> method</p>\n\n<pre><code>Query q1 = entityManager.createStoredProcedureQuery(...);\nq1.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12709012,"reputation":1676,"user_id":9233226,"display_name":"Nitin Wahale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1537525143,"creation_date":1530003485,"answer_id":51038816,"question_id":51024908,"body_markdown":"**Solved**\r\nI have used **.executeUpdate();** for not return any result set. hope its helpful to all\r\n\r\n        Object q1 = entityManager.createNativeQuery(&quot;call rrear_etl_processing.Sp_UpdateOATSROE( ?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12, ?13, ?14, ?15, ?16, ?17, ?18, ?19, ?20, ?21, ?22, ?23, ?24, ?25, ?26, ?27, ?28, ?29, ?30, ?31, ?32, ?33, ?34, ?35, ?36, ?37, ?38, ?39, ?40, ?41, ?42, ?43, ?44, ?45, ?46, ?47, ?48, ?49, ?50, ?51, ?52, ?53, ?54, ?55, ?56, ?57, ?58, ?59, ?60, ?61, ?62, ?63, ?64, ?65, ?66, ?67, ?68, ?69, ?70, ?71, ?72, ?73, ?74, ?75, ?76, ?77, ?78, ?79, ?80, ?81, ?82, ?83, ?84, ?85, ?86, ?87, ?88, ?89, ?90, ?91, ?92, ?93, ?94, ?95, ?96, ?97, ?98, ?99, ?100, ?101, ?102, ?103, ?104, ?105, ?106, ?107, ?108, ?109, ?110, ?111, ?112, ?113 ,?114, ?115, ?116, ?117)&quot;)\r\n        \t\t\t\t\t.setParameter(1,P_RowID)\r\n        \t\t\t\t\t.setParameter(2,P_Exception_CD)\r\n        \t\t\t\t\t.setParameter(3,P_Exception_Description)\r\n        \t\t\t\t\t.setParameter(4,P_ORDER_EVENT_TYPE)\r\n        \t\t\t\t\t.setParameter(5,P_OrderDatetime)\r\n                              *\r\n                              *\r\n                        .setParameter(115,P_MPID_OATS_Exc_ID )\r\n    \t\t\t\t\t.setParameter(116,P_Report_Header_ID)\r\n    \t\t\t\t\t.setParameter(117,P_Updated_By)\r\n                        .executeUpdate();","title":"How execute stored procedure in spring boot which not return resultset?","body":"<p><strong>Solved</strong>\nI have used <strong>.executeUpdate();</strong> for not return any result set. hope its helpful to all</p>\n\n<pre><code>    Object q1 = entityManager.createNativeQuery(\"call rrear_etl_processing.Sp_UpdateOATSROE( ?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12, ?13, ?14, ?15, ?16, ?17, ?18, ?19, ?20, ?21, ?22, ?23, ?24, ?25, ?26, ?27, ?28, ?29, ?30, ?31, ?32, ?33, ?34, ?35, ?36, ?37, ?38, ?39, ?40, ?41, ?42, ?43, ?44, ?45, ?46, ?47, ?48, ?49, ?50, ?51, ?52, ?53, ?54, ?55, ?56, ?57, ?58, ?59, ?60, ?61, ?62, ?63, ?64, ?65, ?66, ?67, ?68, ?69, ?70, ?71, ?72, ?73, ?74, ?75, ?76, ?77, ?78, ?79, ?80, ?81, ?82, ?83, ?84, ?85, ?86, ?87, ?88, ?89, ?90, ?91, ?92, ?93, ?94, ?95, ?96, ?97, ?98, ?99, ?100, ?101, ?102, ?103, ?104, ?105, ?106, ?107, ?108, ?109, ?110, ?111, ?112, ?113 ,?114, ?115, ?116, ?117)\")\n                        .setParameter(1,P_RowID)\n                        .setParameter(2,P_Exception_CD)\n                        .setParameter(3,P_Exception_Description)\n                        .setParameter(4,P_ORDER_EVENT_TYPE)\n                        .setParameter(5,P_OrderDatetime)\n                          *\n                          *\n                    .setParameter(115,P_MPID_OATS_Exc_ID )\n                    .setParameter(116,P_Report_Header_ID)\n                    .setParameter(117,P_Updated_By)\n                    .executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":12709012,"reputation":1676,"user_id":9233226,"display_name":"Nitin Wahale"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51038816,"answer_count":2,"score":1,"last_activity_date":1690818650,"creation_date":1529934032,"question_id":51024908,"body_markdown":"I want to execute stored procedure which does not return any dataset. I have used this stored procedure for updating records.\r\n\r\nMy code is \r\n\r\n     Query q1 = entityManager.createNativeQuery(&quot;call rrear_etl_processing.Sp_UpdateOATSROE( ?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12, ?13, ?14, ?15, ?16, ?17, ?18, ?19, ?20, ?21, ?22, ?23, ?24, ?25, ?26, ?27, ?28, ?29, ?30, ?31, ?32, ?33, ?34, ?35, ?36, ?37, ?38, ?39, ?40, ?41, ?42, ?43, ?44, ?45, ?46, ?47, ?48, ?49, ?50, ?51, ?52, ?53, ?54, ?55, ?56, ?57, ?58, ?59, ?60, ?61, ?62, ?63, ?64, ?65, ?66, ?67, ?68, ?69, ?70, ?71, ?72, ?73, ?74, ?75, ?76, ?77, ?78, ?79, ?80, ?81, ?82, ?83, ?84, ?85, ?86, ?87, ?88, ?89, ?90, ?91, ?92, ?93, ?94, ?95, ?96, ?97, ?98, ?99, ?100, ?101, ?102, ?103, ?104, ?105, ?106, ?107, ?108, ?109, ?110, ?111, ?112, ?113 ,?114, ?115, ?116, ?117)&quot;)\r\n         .setParameter(1,P_RowID)\t\r\n            .setParameter(2,P_Exception_CD)\t\r\n            .setParameter(3,P_Exception_Description)\r\n            .setParameter(4,P_ORDER_EVENT_TYPE)\r\n            .setParameter(5,P_OrderDatetime)\r\n    **remaining parameters\r\n    List result = q1.getResultList();\r\n","title":"How execute stored procedure in spring boot which not return resultset?","body":"<p>I want to execute stored procedure which does not return any dataset. I have used this stored procedure for updating records.</p>\n<p>My code is</p>\n<pre><code> Query q1 = entityManager.createNativeQuery(&quot;call rrear_etl_processing.Sp_UpdateOATSROE( ?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11, ?12, ?13, ?14, ?15, ?16, ?17, ?18, ?19, ?20, ?21, ?22, ?23, ?24, ?25, ?26, ?27, ?28, ?29, ?30, ?31, ?32, ?33, ?34, ?35, ?36, ?37, ?38, ?39, ?40, ?41, ?42, ?43, ?44, ?45, ?46, ?47, ?48, ?49, ?50, ?51, ?52, ?53, ?54, ?55, ?56, ?57, ?58, ?59, ?60, ?61, ?62, ?63, ?64, ?65, ?66, ?67, ?68, ?69, ?70, ?71, ?72, ?73, ?74, ?75, ?76, ?77, ?78, ?79, ?80, ?81, ?82, ?83, ?84, ?85, ?86, ?87, ?88, ?89, ?90, ?91, ?92, ?93, ?94, ?95, ?96, ?97, ?98, ?99, ?100, ?101, ?102, ?103, ?104, ?105, ?106, ?107, ?108, ?109, ?110, ?111, ?112, ?113 ,?114, ?115, ?116, ?117)&quot;)\n     .setParameter(1,P_RowID)   \n        .setParameter(2,P_Exception_CD) \n        .setParameter(3,P_Exception_Description)\n        .setParameter(4,P_ORDER_EVENT_TYPE)\n        .setParameter(5,P_OrderDatetime)\n**remaining parameters\nList result = q1.getResultList();\n</code></pre>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690818633,"creation_date":1690818633,"answer_id":76805222,"question_id":76804634,"body_markdown":"You cannot do this - Queries on Entity instances are for fetching the state of those entities as they are in the database, not for manipulating your java view of that data. If you only want the Active bookings for a seat, query for the active bookings. A better translation of your query might be:\r\n\r\n    &quot;select s, b from Seat s left join s.bookings b on b.status=&#39;ACTIVE&#39; where s.id = :seatId&quot;\r\n\r\nIf your JPA provider doesn&#39;t like the join on clause, just move it to the where clause:\r\n\r\n    &quot;select s, b from Seat s left join s.bookings b where s.id = :seatId and (b is null or b.status=&#39;ACTIVE&#39;)&quot;\r\n\r\nNote that this will return the same seat multiple times. It will be up to you to collect the seat and bookings instances and build them into a DTO if you need it.","title":"Left join fetch with condition (Spring Data JPA)","body":"<p>You cannot do this - Queries on Entity instances are for fetching the state of those entities as they are in the database, not for manipulating your java view of that data. If you only want the Active bookings for a seat, query for the active bookings. A better translation of your query might be:</p>\n<pre><code>&quot;select s, b from Seat s left join s.bookings b on b.status='ACTIVE' where s.id = :seatId&quot;\n</code></pre>\n<p>If your JPA provider doesn't like the join on clause, just move it to the where clause:</p>\n<pre><code>&quot;select s, b from Seat s left join s.bookings b where s.id = :seatId and (b is null or b.status='ACTIVE')&quot;\n</code></pre>\n<p>Note that this will return the same seat multiple times. It will be up to you to collect the seat and bookings instances and build them into a DTO if you need it.</p>\n"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690818633,"creation_date":1690814044,"question_id":76804634,"body_markdown":"I have Seat and Booking JPA entities in one-many relation. I want to fetch Seat by id with Bookings with status &quot;ACTIVE&quot;. If Seat doesn&#39;t have any Bookings with this status, Seat with empty Bookings list should be returned.\r\n\r\nThe following query works in SQL console:\r\n\r\n    select * from seats s left join bookings b on b.seat_id=s.id and b.status=&#39;ACTIVE&#39; where s.id=1\r\n\r\nI translated it to Spring Data JPA query:\r\n\r\n    @Query(&quot;select s from Seat s left join fetch s.bookings b on b.seat.id=s.id and b.status=&#39;ACTIVE&#39; where s.id = :seatId&quot;)\r\nBut i got such error:\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: with-clause not allowed on fetched associations; use filters\r\n\r\n","title":"Left join fetch with condition (Spring Data JPA)","body":"<p>I have Seat and Booking JPA entities in one-many relation. I want to fetch Seat by id with Bookings with status &quot;ACTIVE&quot;. If Seat doesn't have any Bookings with this status, Seat with empty Bookings list should be returned.</p>\n<p>The following query works in SQL console:</p>\n<pre><code>select * from seats s left join bookings b on b.seat_id=s.id and b.status='ACTIVE' where s.id=1\n</code></pre>\n<p>I translated it to Spring Data JPA query:</p>\n<pre><code>@Query(&quot;select s from Seat s left join fetch s.bookings b on b.seat.id=s.id and b.status='ACTIVE' where s.id = :seatId&quot;)\n</code></pre>\n<p>But i got such error:</p>\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: with-clause not allowed on fetched associations; use filters\n</code></pre>\n"},{"tags":["java","http-headers","junit5","equals","hashcode"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690797623,"post_id":76802449,"comment_id":135398081,"body_markdown":"Does the class BasicHeader override equals? [From what I could find it doesn&#39;t seem to override equals](https://github.com/apache/httpcomponents-core/blob/master/httpcore5/src/main/java/org/apache/hc/core5/http/message/BasicHeader.java)","body":"Does the class BasicHeader override equals? <a href=\"https://github.com/apache/httpcomponents-core/blob/master/httpcore5/src/main/java/org/apache/hc/core5/http/message/BasicHeader.java\" rel=\"nofollow noreferrer\">From what I could find it doesn&#39;t seem to override equals</a>"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690797700,"creation_date":1690797700,"answer_id":76802533,"question_id":76802449,"body_markdown":"The `BasicHeader` class does not override the **equals** method, so it uses the default implementation of the equals method from the Object class. \r\n\r\nThe default implementation of the equals method checks if two objects are the same **instance**, meaning that they have the same **memory address**. \r\n\r\nInstead you can make assertion element by element, example:\r\n\r\n    BasicHeader header1 = new BasicHeader(&quot;name&quot;, &quot;value&quot;, true);\r\n    BasicHeader header2 = new BasicHeader(&quot;name&quot;, &quot;value&quot;, true);\r\n    \r\n    assertEquals(header1.getName(), header2.getName());\r\n    assertEquals(header1.getValue(), header2.getValue());\r\n    assertEquals(header1.isSensitive(), header2.isSensitive());\r\n\r\nNote: there are other ways.\r\n","title":"Why are 2 org.apache.hc.core5.http.Header not equal when created with the same content?","body":"<p>The <code>BasicHeader</code> class does not override the <strong>equals</strong> method, so it uses the default implementation of the equals method from the Object class.</p>\n<p>The default implementation of the equals method checks if two objects are the same <strong>instance</strong>, meaning that they have the same <strong>memory address</strong>.</p>\n<p>Instead you can make assertion element by element, example:</p>\n<pre><code>BasicHeader header1 = new BasicHeader(&quot;name&quot;, &quot;value&quot;, true);\nBasicHeader header2 = new BasicHeader(&quot;name&quot;, &quot;value&quot;, true);\n\nassertEquals(header1.getName(), header2.getName());\nassertEquals(header1.getValue(), header2.getValue());\nassertEquals(header1.isSensitive(), header2.isSensitive());\n</code></pre>\n<p>Note: there are other ways.</p>\n"}],"owner":{"account_id":8914491,"reputation":309,"user_id":6653532,"accept_rate":44,"display_name":"Martin WasGehtSieDasAn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76802533,"answer_count":1,"score":1,"last_activity_date":1690818499,"creation_date":1690797071,"question_id":76802449,"body_markdown":"Why does \r\n\r\n    import org.apache.hc.core5.http.Header;\r\n\r\n    Assertions.assertEquals(new BasicHeader(&quot;name&quot;, &quot;value&quot;, true), new BasicHeader(&quot;name&quot;, &quot;value&quot;, true));\r\n\r\nor\r\n\r\n    Assertions.assertEquals(new BasicHeader(&quot;name&quot;, &quot;value&quot;, false), new BasicHeader(&quot;name&quot;, &quot;value&quot;, false));\r\n\r\nfail the assertion?\r\n\r\nIt probably has somethin to do with different hashcodes being generated, but I fail to see - if it should be the reason - why it is like it is.","title":"Why are 2 org.apache.hc.core5.http.Header not equal when created with the same content?","body":"<p>Why does</p>\n<pre><code>import org.apache.hc.core5.http.Header;\n\nAssertions.assertEquals(new BasicHeader(&quot;name&quot;, &quot;value&quot;, true), new BasicHeader(&quot;name&quot;, &quot;value&quot;, true));\n</code></pre>\n<p>or</p>\n<pre><code>Assertions.assertEquals(new BasicHeader(&quot;name&quot;, &quot;value&quot;, false), new BasicHeader(&quot;name&quot;, &quot;value&quot;, false));\n</code></pre>\n<p>fail the assertion?</p>\n<p>It probably has somethin to do with different hashcodes being generated, but I fail to see - if it should be the reason - why it is like it is.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9717,"page":275,"page_size":100}
