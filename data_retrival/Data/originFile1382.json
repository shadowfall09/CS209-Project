{"items":[{"tags":["java","rendering","game-engine","game-development"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1651511576,"post_id":72089850,"comment_id":127376825,"body_markdown":"It seems your problem arises from bad update of graphics component. Probably this one can help you: https://stackoverflow.com/questions/35979697/java-basic-2d-game-animation-stutter","body":"It seems your problem arises from bad update of graphics component. Probably this one can help you: <a href=\"https://stackoverflow.com/questions/35979697/java-basic-2d-game-animation-stutter\" title=\"java basic 2d game animation stutter\">stackoverflow.com/questions/35979697/&hellip;</a>"},{"owner":{"account_id":16704040,"reputation":11,"user_id":12072945,"display_name":"Gokegian Games"},"score":0,"creation_date":1651525608,"post_id":72089850,"comment_id":127381177,"body_markdown":"@AlexSveshnikov goodness, I even looked at that one too and at a glance thought it wouldn&#39;t work for my code since I was running threads and not a timer, but I switched it over to more closely resemble the timer example and now it&#39;s working, you&#39;re a scholar and a saint, thank you lol","body":"@AlexSveshnikov goodness, I even looked at that one too and at a glance thought it wouldn&#39;t work for my code since I was running threads and not a timer, but I switched it over to more closely resemble the timer example and now it&#39;s working, you&#39;re a scholar and a saint, thank you lol"}],"owner":{"account_id":16704040,"reputation":11,"user_id":12072945,"display_name":"Gokegian Games"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651510713,"creation_date":1651510323,"question_id":72089850,"body_markdown":"So I&#39;ve been trying to figure out what&#39;s wrong with my code, but I&#39;ve had basically no luck when it comes to finding what&#39;s wrong. I&#39;ve seen plenty of folks who had similar issues but none of the fixes that were suggested helped with my problem.\r\n\r\nI&#39;ve made a [video][1] showcasing my problem, but I&#39;ll give an explanation here too: whenever I move on the screen, the tiles in my game engine don&#39;t sync up with each other in terms of positioning, and it seems to be only on the rendering end. When I do any sort of checks to see if the distance between two tiles changes, I don&#39;t get any sort of errors. I get these gaps between the tiles specifically when I&#39;m moving up or left, and they instead merge slightly when I move down or right, as if some of the tiles are updating faster than the others.\r\n\r\nI don&#39;t want to just start dumping my couple thousand lines of code here since that won&#39;t really help anyone, but I&#39;m also not well versed in the game development world, so I&#39;m not entirely sure what pieces of code are super relevant here. If there&#39;s anything that y&#39;all would like to see, let me know and I&#39;ll happily provide it.\r\n\r\nThe main method and postInit looks like this:\r\n\r\n    public static void main (String[] args)\r\n\t{\r\n\t\tEventQueue.invokeLater(() -&gt;{\r\n\t\t\tex = new ShootyGame();\r\n\t\t\tex.dispose();\r\n\t\t\tex.setLayout(null);\r\n\t\t\tex.setUndecorated(Settings.isFullscreen);\r\n\t\t\tex.setVisible(true);\r\n\t\t\tex.setCursor(ex.getToolkit().createCustomCursor(\r\n\t\t\t\t\tnew BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB), new Point(), null));\t//hides the system cursor\r\n\t\t\tex.createBufferStrategy(2);\r\n\t\t\tpostInit();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate static void postInit()\r\n\t{\r\n\t\t//add a window listener to the main JFrame\r\n\t\tex.addWindowListener(new WindowAdapter()\r\n\t\t{\r\n\t\t\t/**\r\n\t\t\t * Autosaves when the window is closed, then kills the game.\r\n\t\t\t */\r\n\t\t\t@Override\r\n\t\t\tpublic void windowClosing(WindowEvent e)\r\n\t\t\t{\r\n\t\t\t\t//TODO autosaving\r\n\t\t\t\tkill();\r\n\t\t\t}\r\n\t\t});\r\n\t\trender.start();  //these are just the two threads being started\r\n\t\trun.start();\r\n\t}\r\n\r\nMy two threads, which basically just run the step and render methods in my game class:\r\n\r\n    private static class Running extends Thread\r\n\t{\r\n\t\tboolean stop = false;\r\n\t\tint fps = TickManager.fromFPS(Settings.FPS);\r\n\t\t\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\twhile (!stop)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tRunning.sleep(fps);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(InterruptedException e)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.err.println(&quot;B&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tgame.step();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static class Render extends Thread\r\n\t{\r\n\t\tboolean stop = false;\r\n\t\tint fps = TickManager.fromFPS(Settings.FPS);\r\n\t\t\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\twhile (!stop)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tRunning.sleep(fps);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(InterruptedException e)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.err.println(&quot;A&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tgame.render();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe run method in my Game class just calls the current character&#39;s step method (it&#39;ll call more later), which is what&#39;s directly used to move the Camera class&#39; x and y position. The character step looks like this:\r\n\r\n    public void step()\r\n\t{\r\n\t\tthis.calculateMove(); //gets info on which keys are being pressed, adds or subtracts an integer from dx and dy (which are also ints) based on which are being pressed\r\n\t\t\r\n\t\tGame.cam.update(-this.dx, -this.dy); //sends the opposite movement to the camera\r\n\t\t\r\n\t\t//change the position of the player character by the appropriate x and y amounts\r\n\t\tthis.changeX(this.dx);\r\n\t\tthis.changeY(this.dy);\r\n\t\t\r\n\t\tthis.reset(); //just sets dx and dy back to 0 after moving\r\n\t}\r\n\r\nAnd now to the rendering stuff here&#39;s the entire camera class since it&#39;s probably the most relevant class:\r\n\r\n\tpublic class Camera\r\n\t{\r\n\t\tprivate int x;\r\n\t\tprivate int y;\r\n\t\t\r\n\t\tpublic Camera(int x, int y)\r\n\t\t{\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void update(int dx, int dy)\r\n\t\t{\r\n\t\t\tmoveX(dx);\r\n\t\t\tmoveY(dy);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void moveX(int dx)\r\n\t\t{\r\n\t\t\tthis.x += dx;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void moveY(int dy)\r\n\t\t{\r\n\t\t\tthis.y += dy;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Gets the top left corner of the camera&#39;s x position.\r\n\t\t * @return\t\tThe x position of the top left corner of the camera\r\n\t\t */\r\n\t\tpublic int getCamX()\r\n\t\t{\r\n\t\t\treturn this.x;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * Gets the top left corner of the camera&#39;s y position.\r\n\t\t * @return\t\tThe y position of the top left corner of the camera\r\n\t\t */\r\n\t\tpublic int getCamY()\r\n\t\t{\r\n\t\t\treturn this.y;\r\n\t\t}\r\n\t}\r\n\r\nAnd finally, the relevant code for the actual painting of the tiles:\r\n\r\n    public void render() //this is the part that the render thread calls initially\r\n\t{\r\n\t\tToolkit.getDefaultToolkit().sync();\r\n\t\trepaint();\r\n\t}\r\n\r\n\tpublic void paint(Graphics g) //the paint method, mostly handled in doDrawing\r\n\t{\r\n\t\tsuper.paint(g);\r\n\t\t\r\n\t\tdoDrawing(g);\r\n\t}\r\n\r\n    private void doDrawing(Graphics g)\r\n\t{\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\t\r\n\t\t//stuff that happens if the game isn&#39;t paused\r\n\t\tif(!GameStates.isPaused)\r\n\t\t{\r\n\t\t\tcurrentMap.drawMap(g2d, this);\r\n\t\t\tcurrentChar.draw(g2d, this);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void drawMap(Graphics2D g2d, ImageObserver observer)\r\n\t{\r\n\t\t//for each tile in the map, call its draw method\r\n\t\tfor(int i = 0; i &lt; this.tileArray.length; i++)\r\n\t\t{\r\n\t\t\tfor(int j = 0; j &lt; this.tileArray[0].length; j++)\r\n\t\t\t{\r\n\t\t\t\tthis.tileArray[i][j].draw(g2d, observer);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void draw(Graphics2D g2d, ImageObserver observer, BufferedImage image)\r\n\t{\r\n\t\t\tg2d.drawImage(image, this.getX() + Game.cam.getCamX(), this.getY() + Game.cam.getCamY() observer);\r\n\t}\r\n\r\nSorry for the long winded post, I&#39;ve just tried everything I can think of (and that my Googling abilities can help me think of) and I&#39;m throwing this out as a last-ditch effort before I just move to an actual game engine. I wanted to make my own engine from scratch for the sake of getting more experience in Java, but if I can&#39;t figure this out I&#39;d rather just move to a proper engine and actually make a game. Any help is massively appreciated :)\r\n\r\nEDIT: capitalization\r\n\r\n  [1]: https://www.youtube.com/watch?v=CynN3dWxaf0","title":"Custom Java game engine is rendering spaces between tiles when the character moves","body":"<p>So I've been trying to figure out what's wrong with my code, but I've had basically no luck when it comes to finding what's wrong. I've seen plenty of folks who had similar issues but none of the fixes that were suggested helped with my problem.</p>\n<p>I've made a <a href=\"https://www.youtube.com/watch?v=CynN3dWxaf0\" rel=\"nofollow noreferrer\">video</a> showcasing my problem, but I'll give an explanation here too: whenever I move on the screen, the tiles in my game engine don't sync up with each other in terms of positioning, and it seems to be only on the rendering end. When I do any sort of checks to see if the distance between two tiles changes, I don't get any sort of errors. I get these gaps between the tiles specifically when I'm moving up or left, and they instead merge slightly when I move down or right, as if some of the tiles are updating faster than the others.</p>\n<p>I don't want to just start dumping my couple thousand lines of code here since that won't really help anyone, but I'm also not well versed in the game development world, so I'm not entirely sure what pieces of code are super relevant here. If there's anything that y'all would like to see, let me know and I'll happily provide it.</p>\n<p>The main method and postInit looks like this:</p>\n<pre><code>public static void main (String[] args)\n{\n    EventQueue.invokeLater(() -&gt;{\n        ex = new ShootyGame();\n        ex.dispose();\n        ex.setLayout(null);\n        ex.setUndecorated(Settings.isFullscreen);\n        ex.setVisible(true);\n        ex.setCursor(ex.getToolkit().createCustomCursor(\n                new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB), new Point(), null));  //hides the system cursor\n        ex.createBufferStrategy(2);\n        postInit();\n    });\n}\n\nprivate static void postInit()\n{\n    //add a window listener to the main JFrame\n    ex.addWindowListener(new WindowAdapter()\n    {\n        /**\n         * Autosaves when the window is closed, then kills the game.\n         */\n        @Override\n        public void windowClosing(WindowEvent e)\n        {\n            //TODO autosaving\n            kill();\n        }\n    });\n    render.start();  //these are just the two threads being started\n    run.start();\n}\n</code></pre>\n<p>My two threads, which basically just run the step and render methods in my game class:</p>\n<pre><code>private static class Running extends Thread\n{\n    boolean stop = false;\n    int fps = TickManager.fromFPS(Settings.FPS);\n    \n    public void run()\n    {\n        while (!stop)\n        {\n            try\n            {\n                Running.sleep(fps);\n            }\n            catch(InterruptedException e)\n            {\n                System.err.println(&quot;B&quot;);\n            }\n            game.step();\n        }\n    }\n}\n\nprivate static class Render extends Thread\n{\n    boolean stop = false;\n    int fps = TickManager.fromFPS(Settings.FPS);\n    \n    public void run()\n    {\n        while (!stop)\n        {\n            try\n            {\n                Running.sleep(fps);\n            }\n            catch(InterruptedException e)\n            {\n                System.err.println(&quot;A&quot;);\n            }\n            game.render();\n        }\n    }\n}\n</code></pre>\n<p>The run method in my Game class just calls the current character's step method (it'll call more later), which is what's directly used to move the Camera class' x and y position. The character step looks like this:</p>\n<pre><code>public void step()\n{\n    this.calculateMove(); //gets info on which keys are being pressed, adds or subtracts an integer from dx and dy (which are also ints) based on which are being pressed\n    \n    Game.cam.update(-this.dx, -this.dy); //sends the opposite movement to the camera\n    \n    //change the position of the player character by the appropriate x and y amounts\n    this.changeX(this.dx);\n    this.changeY(this.dy);\n    \n    this.reset(); //just sets dx and dy back to 0 after moving\n}\n</code></pre>\n<p>And now to the rendering stuff here's the entire camera class since it's probably the most relevant class:</p>\n<pre><code>public class Camera\n{\n    private int x;\n    private int y;\n    \n    public Camera(int x, int y)\n    {\n        this.x = x;\n        this.y = y;\n    }\n    \n    public void update(int dx, int dy)\n    {\n        moveX(dx);\n        moveY(dy);\n    }\n    \n    public void moveX(int dx)\n    {\n        this.x += dx;\n    }\n    \n    public void moveY(int dy)\n    {\n        this.y += dy;\n    }\n    \n    /**\n     * Gets the top left corner of the camera's x position.\n     * @return      The x position of the top left corner of the camera\n     */\n    public int getCamX()\n    {\n        return this.x;\n    }\n    \n    /**\n     * Gets the top left corner of the camera's y position.\n     * @return      The y position of the top left corner of the camera\n     */\n    public int getCamY()\n    {\n        return this.y;\n    }\n}\n</code></pre>\n<p>And finally, the relevant code for the actual painting of the tiles:</p>\n<pre><code>public void render() //this is the part that the render thread calls initially\n{\n    Toolkit.getDefaultToolkit().sync();\n    repaint();\n}\n\npublic void paint(Graphics g) //the paint method, mostly handled in doDrawing\n{\n    super.paint(g);\n    \n    doDrawing(g);\n}\n\nprivate void doDrawing(Graphics g)\n{\n    Graphics2D g2d = (Graphics2D) g;\n    \n    //stuff that happens if the game isn't paused\n    if(!GameStates.isPaused)\n    {\n        currentMap.drawMap(g2d, this);\n        currentChar.draw(g2d, this);\n    }\n}\n\npublic void drawMap(Graphics2D g2d, ImageObserver observer)\n{\n    //for each tile in the map, call its draw method\n    for(int i = 0; i &lt; this.tileArray.length; i++)\n    {\n        for(int j = 0; j &lt; this.tileArray[0].length; j++)\n        {\n            this.tileArray[i][j].draw(g2d, observer);\n        }\n    }\n}\n\npublic void draw(Graphics2D g2d, ImageObserver observer, BufferedImage image)\n{\n        g2d.drawImage(image, this.getX() + Game.cam.getCamX(), this.getY() + Game.cam.getCamY() observer);\n}\n</code></pre>\n<p>Sorry for the long winded post, I've just tried everything I can think of (and that my Googling abilities can help me think of) and I'm throwing this out as a last-ditch effort before I just move to an actual game engine. I wanted to make my own engine from scratch for the sake of getting more experience in Java, but if I can't figure this out I'd rather just move to a proper engine and actually make a game. Any help is massively appreciated :)</p>\n<p>EDIT: capitalization</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1649363509,"post_id":71788510,"comment_id":126863509,"body_markdown":"That seems to be an issue of the Win10 vs Win11 default theme. What is about adjust the scaling https://support.microsoft.com/en-us/windows/view-display-settings-in-windows-37f0e05e-98a9-474c-317a-e85422daa8bb ?","body":"That seems to be an issue of the Win10 vs Win11 default theme. What is about adjust the scaling <a href=\"https://support.microsoft.com/en-us/windows/view-display-settings-in-windows-37f0e05e-98a9-474c-317a-e85422daa8bb\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/windows/&hellip;</a> ?"},{"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"score":0,"creation_date":1650992376,"post_id":71788510,"comment_id":127253618,"body_markdown":"Scaling affects all apps, not just ours.\nIt&#39;s definitely an issue with the default Java Look and Feel.  The controls that still look good are the ones where we explicitly set a font.  All the default L&amp;F fonts seem to be set smaller than they are in Win 10.","body":"Scaling affects all apps, not just ours. It&#39;s definitely an issue with the default Java Look and Feel.  The controls that still look good are the ones where we explicitly set a font.  All the default L&amp;F fonts seem to be set smaller than they are in Win 10."}],"answers":[{"tags":[],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651509946,"creation_date":1651509946,"answer_id":72089786,"question_id":71788510,"body_markdown":"Since we don&#39;t have time to figure out a change for the L&amp;F, we just added a little hack to force a different default Font.  We added the following as the first thing in our main().\r\n\r\n    javax.swing.plaf.FontUIResource f = new FontUIResource(new Font(FONT_NAME, Font.PLAIN, size));\r\n\tjava.util.Enumeration&lt;Object&gt; keys = UIManager.getDefaults().keys();\r\n\r\n\twhile (keys.hasMoreElements()) {\r\n\t\tObject key = keys.nextElement();\r\n\t\tObject value = UIManager.get(key);\r\n\t\tif (value instanceof javax.swing.plaf.FontUIResource) {\r\n\t\t\tUIManager.put(key, f);\r\n\t\t}\r\n\t}\r\n\r\nNow all the controls that we were NOT forcing the font on, look good and aren&#39;t stupidly small.","title":"Java font size changes from win 10 to win 11","body":"<p>Since we don't have time to figure out a change for the L&amp;F, we just added a little hack to force a different default Font.  We added the following as the first thing in our main().</p>\n<pre><code>javax.swing.plaf.FontUIResource f = new FontUIResource(new Font(FONT_NAME, Font.PLAIN, size));\njava.util.Enumeration&lt;Object&gt; keys = UIManager.getDefaults().keys();\n\nwhile (keys.hasMoreElements()) {\n    Object key = keys.nextElement();\n    Object value = UIManager.get(key);\n    if (value instanceof javax.swing.plaf.FontUIResource) {\n        UIManager.put(key, f);\n    }\n}\n</code></pre>\n<p>Now all the controls that we were NOT forcing the font on, look good and aren't stupidly small.</p>\n"}],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651509946,"creation_date":1649363070,"question_id":71788510,"body_markdown":"We have a large Java application that looks fine with Win 10. \r\nWhen we test it on Win 11, about 1/2 the controls have a much smaller font than the others.\r\n\r\nThis is using the same version of the Open JDK Java 11 VM on both machines.\r\n\r\nMy searches haven&#39;t found anything, but it seems odd that it would only be our Java app with this issue.\r\n\r\nAt one time I did have a tool that let me just click on a java application window/control and see all the information about it (colors, font size, etc..).  That was years ago, and I can&#39;t seem to find one that does that now.  \r\n\r\nAny ideas on why some fonts would change size on Win 11?","title":"Java font size changes from win 10 to win 11","body":"<p>We have a large Java application that looks fine with Win 10.\nWhen we test it on Win 11, about 1/2 the controls have a much smaller font than the others.</p>\n<p>This is using the same version of the Open JDK Java 11 VM on both machines.</p>\n<p>My searches haven't found anything, but it seems odd that it would only be our Java app with this issue.</p>\n<p>At one time I did have a tool that let me just click on a java application window/control and see all the information about it (colors, font size, etc..).  That was years ago, and I can't seem to find one that does that now.</p>\n<p>Any ideas on why some fonts would change size on Win 11?</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1495436128,"post_id":44106280,"comment_id":75232671,"body_markdown":"Your project structure is not clear, it would be better if you could post a snapshot of your project folder structure.","body":"Your project structure is not clear, it would be better if you could post a snapshot of your project folder structure."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1495436159,"post_id":44106280,"comment_id":75232684,"body_markdown":"@NagarjunaReddy Which version of `cucumber-java`, `junit`, `cucumber-junit` &amp; `selenium-java` are you using? I am not sure if we can place `features/login` feature file within `src/test/resources`. Thanks","body":"@NagarjunaReddy Which version of <code>cucumber-java</code>, <code>junit</code>, <code>cucumber-junit</code> &amp; <code>selenium-java</code> are you using? I am not sure if we can place <code>features&#47;login</code> feature file within <code>src&#47;test&#47;resources</code>. Thanks"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1495436384,"post_id":44106280,"comment_id":75232785,"body_markdown":"@kushal. added project structure","body":"@kushal. added project structure"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1495436499,"post_id":44106280,"comment_id":75232839,"body_markdown":"@Dev `cucumber-java: 1.2.5 \njunit: 4.12\ncucumber-junit: 1.2.5\nselenium-java:  3.4.0`\nAdded the versions","body":"@Dev <code>cucumber-java: 1.2.5  junit: 4.12 cucumber-junit: 1.2.5 selenium-java:  3.4.0</code> Added the versions"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1495436741,"post_id":44106280,"comment_id":75232947,"body_markdown":"@NagarjunaReddy Can you consider showing us your runner class? Thanks","body":"@NagarjunaReddy Can you consider showing us your runner class? Thanks"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1495436809,"post_id":44106280,"comment_id":75232981,"body_markdown":"@Dev `package helpers;\n\nimport org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n//features= &quot;src/test/resources/features/navigation&quot;,\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n\t\tfeatures = {&quot;classpath:features&quot;},\n\t\tplugin = {&quot;pretty&quot;, &quot;html:target/cucumber-html-report&quot;},\n\t\ttags = {&quot;@OnlyOneTime&quot;},\n//\t\tdryRun = true,\n\t\tmonochrome = true\n\t\t)\npublic class RunCukesTest{\n\n}`\nIn case if you want to download the project, available in the above link","body":"@Dev <code>package helpers;  import org.junit.runner.RunWith;  import cucumber.api.CucumberOptions; import cucumber.api.junit.Cucumber; &#47;&#47;features= &quot;src&#47;test&#47;resources&#47;features&#47;navigation&quot;,  @RunWith(Cucumber.class) @CucumberOptions( \t\tfeatures = {&quot;classpath:features&quot;}, \t\tplugin = {&quot;pretty&quot;, &quot;html:target&#47;cucumber-html-report&quot;}, \t\ttags = {&quot;@OnlyOneTime&quot;}, &#47;&#47;\t\tdryRun = true, \t\tmonochrome = true \t\t) public class RunCukesTest{  }</code> In case if you want to download the project, available in the above link"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1495437646,"post_id":44106280,"comment_id":75233407,"body_markdown":"@NagarjunaReddy You have provided a tag as `tags = {&quot;@OnlyOneTime&quot;},`. Can you consider showing us the implementation of the tag? Thanks","body":"@NagarjunaReddy You have provided a tag as <code>tags = {&quot;@OnlyOneTime&quot;},</code>. Can you consider showing us the implementation of the tag? Thanks"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1495437677,"post_id":44106280,"comment_id":75233422,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/144809/discussion-between-nagarjuna-reddy-and-dev).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/144809/discussion-between-nagarjuna-reddy-and-dev\">continue this discussion in chat</a>."},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1495440693,"post_id":44106280,"comment_id":75235125,"body_markdown":"glue={&quot;stepDefinitions&quot;} should work","body":"glue={&quot;stepDefinitions&quot;} should work"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1495441268,"post_id":44106280,"comment_id":75235444,"body_markdown":"@kushal. this doesn&#39;t work. if i try to run from feature file, that gives the error **Launch configuration Login.feature references non-existing project s360UIAutomation.**","body":"@kushal. this doesn&#39;t work. if i try to run from feature file, that gives the error <b>Launch configuration Login.feature references non-existing project s360UIAutomation.</b>"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1495464298,"post_id":44106280,"comment_id":75250968,"body_markdown":"hi @NagarjunaReddy :  I downloaded your project as it is from the GDrive and it works well on my machine; if I run it is a Cucumber feature, but if I provide `glue={&quot;stepDefinitions&quot;}` and try running it from runner then NullPointerException is thrown","body":"hi @NagarjunaReddy :  I downloaded your project as it is from the GDrive and it works well on my machine; if I run it is a Cucumber feature, but if I provide <code>glue={&quot;stepDefinitions&quot;}</code> and try running it from runner then NullPointerException is thrown"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1495464838,"post_id":44106280,"comment_id":75251348,"body_markdown":"Problem is coming from not able to finding hooks","body":"Problem is coming from not able to finding hooks"},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1495464943,"post_id":44106280,"comment_id":75251421,"body_markdown":"@kushal.i find debugging little complicated in cucumber compared to selenium+testng. How to debug this","body":"@kushal.i find debugging little complicated in cucumber compared to selenium+testng. How to debug this"},{"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"score":0,"creation_date":1495465324,"post_id":44106280,"comment_id":75251729,"body_markdown":"Moving previous comment to answer.","body":"Moving previous comment to answer."},{"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"score":0,"creation_date":1495465392,"post_id":44106280,"comment_id":75251784,"body_markdown":"Is it not mandatory to provide the glue path","body":"Is it not mandatory to provide the glue path"}],"answers":[{"tags":[],"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495503353,"creation_date":1495437294,"answer_id":44106734,"question_id":44106280,"body_markdown":" I figured out your issue, As per your runner class, the glue path is not set.  please set glue path.`glue={&quot;stepDefinitions&quot;}`\r\n\r\n    package helpers; \r\n    import org.junit.runner.RunWith; \r\n    import cucumber.api.CucumberOptions; \r\n    import cucumber.api.junit.Cucumber; \r\n    //features= &quot;src/test/resources/features&quot;@RunWith(Cucumber.class) @CucumberOptions( \r\n    features = {&quot;classpath:features&quot;}, glue={&quot;stepDefinitions&quot;},plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-html-report&quot;}, tags = {&quot;@OnlyOneTime&quot;}, // dryRun = true, monochrome = true ) \r\n    public class RunCukesTest{ }","title":"Cucumber cannot find StepDefinitions while running the code but manually using the option &quot;Find Step&quot; can find step definition","body":"<p>I figured out your issue, As per your runner class, the glue path is not set.  please set glue path.<code>glue={\"stepDefinitions\"}</code></p>\n\n<pre><code>package helpers; \nimport org.junit.runner.RunWith; \nimport cucumber.api.CucumberOptions; \nimport cucumber.api.junit.Cucumber; \n//features= \"src/test/resources/features\"@RunWith(Cucumber.class) @CucumberOptions( \nfeatures = {\"classpath:features\"}, glue={\"stepDefinitions\"},plugin = {\"pretty\", \"html:target/cucumber-html-report\"}, tags = {\"@OnlyOneTime\"}, // dryRun = true, monochrome = true ) \npublic class RunCukesTest{ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495465921,"creation_date":1495465921,"answer_id":44116470,"question_id":44106280,"body_markdown":"Running it as a Cucumber feature, it works well, but if I provide glue={&quot;stepDefinitions&quot;} and try running it from runner then NullPointerException is thrown,\r\n  \t \t\r\nThis problem is arising from hooks not being found. But If I move @Before and @After to the SDLogin classs, then It works well.","title":"Cucumber cannot find StepDefinitions while running the code but manually using the option &quot;Find Step&quot; can find step definition","body":"<p>Running it as a Cucumber feature, it works well, but if I provide glue={\"stepDefinitions\"} and try running it from runner then NullPointerException is thrown,</p>\n\n<p>This problem is arising from hooks not being found. But If I move @Before and @After to the SDLogin classs, then It works well.</p>\n"},{"tags":[],"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1495627171,"creation_date":1495627171,"answer_id":44157804,"question_id":44106280,"body_markdown":"Glue code is supposed to have path to hooks and step definitions\r\n\r\nSo modified as `glue={&quot;helpers&quot;,&quot;stepDefinitions&quot;}` instead of \r\n`glue={&quot;helpers&quot;,&quot;classpath/stepDefinitions&quot;, &quot;classpath/stepDefinitions.LogIn&quot;,&quot;classpath/stepDefinitions.Publish&quot;}`\r\n\r\nPlease refer to this link [Similar issue on github][1]\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/issues/1127#issuecomment-303486249","title":"Cucumber cannot find StepDefinitions while running the code but manually using the option &quot;Find Step&quot; can find step definition","body":"<p>Glue code is supposed to have path to hooks and step definitions</p>\n\n<p>So modified as <code>glue={\"helpers\",\"stepDefinitions\"}</code> instead of \n<code>glue={\"helpers\",\"classpath/stepDefinitions\", \"classpath/stepDefinitions.LogIn\",\"classpath/stepDefinitions.Publish\"}</code></p>\n\n<p>Please refer to this link <a href=\"https://github.com/cucumber/cucumber-jvm/issues/1127#issuecomment-303486249\" rel=\"nofollow noreferrer\">Similar issue on github</a></p>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651509238,"creation_date":1651509238,"answer_id":72089662,"question_id":44106280,"body_markdown":"In my case ,\r\nfeature files are in src/test/resources/Features/login.feature\r\nStep definitions are in com.steps.definitions\r\n\r\nSo giving like below solved the issue.\r\n\r\n \r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;src/test/resources/Features/login.feature&quot;}, glue={&quot;com.steps.definitions&quot;},plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-html-report&quot;})\r\n    public class TestRunner {\r\n    }\r\n\r\nHere is the folder/package structure.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CgQN3.png","title":"Cucumber cannot find StepDefinitions while running the code but manually using the option &quot;Find Step&quot; can find step definition","body":"<p>In my case ,\nfeature files are in src/test/resources/Features/login.feature\nStep definitions are in com.steps.definitions</p>\n<p>So giving like below solved the issue.</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;src/test/resources/Features/login.feature&quot;}, glue={&quot;com.steps.definitions&quot;},plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-html-report&quot;})\npublic class TestRunner {\n}\n</code></pre>\n<p>Here is the folder/package structure.\n<a href=\"https://i.stack.imgur.com/CgQN3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CgQN3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1184027,"reputation":759,"user_id":1158354,"accept_rate":68,"display_name":"Nagarjuna Reddy"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13792,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44157804,"answer_count":4,"score":2,"last_activity_date":1651509238,"creation_date":1495435748,"question_id":44106280,"body_markdown":"In the project Structure defined like below,\r\n\r\n - src/main/java\r\n -- Config (RunCukesTest.java)\r\n -- StepDefinitions\r\n - src/test/resources\r\n -- features/login[![enter image description here][1]][1]\r\n\r\n\r\n\r\nWhen I run from `RunCukesTest.java using RunAs --&gt; JUnit Test,` Step Definitions cannot be found by runner\r\n\r\nWhen I click find Step, opens the right file. Couldn&#39;t understand where the issue is because the code was running few days back. File is downloaded from here \r\n\r\n[https://drive.google.com/open?id=0B4SgyzyvwKhiVTRmRDZuNXNTSjA][2]\r\n\r\n\r\n\r\nRunner class code\r\n\r\n    package helpers;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    //features= &quot;src/test/resources/features/navigation&quot;,\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n    \t\tfeatures = {&quot;classpath:features&quot;},\r\n    \t\tplugin = {&quot;pretty&quot;, &quot;html:target/cucumber-html-report&quot;},\r\n    \t\ttags = {&quot;@OnlyOneTime&quot;},\r\n    //\t\tdryRun = true,\r\n    \t\tmonochrome = true\r\n    \t\t)\r\n    public class RunCukesTest{\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EmA3S.png\r\n  [2]: https://drive.google.com/open?id=0B4SgyzyvwKhiVTRmRDZuNXNTSjA","title":"Cucumber cannot find StepDefinitions while running the code but manually using the option &quot;Find Step&quot; can find step definition","body":"<p>In the project Structure defined like below,</p>\n\n<ul>\n<li>src/main/java\n-- Config (RunCukesTest.java)\n-- StepDefinitions</li>\n<li>src/test/resources\n-- features/login<a href=\"https://i.stack.imgur.com/EmA3S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EmA3S.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>When I run from <code>RunCukesTest.java using RunAs --&gt; JUnit Test,</code> Step Definitions cannot be found by runner</p>\n\n<p>When I click find Step, opens the right file. Couldn't understand where the issue is because the code was running few days back. File is downloaded from here </p>\n\n<p><a href=\"https://drive.google.com/open?id=0B4SgyzyvwKhiVTRmRDZuNXNTSjA\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0B4SgyzyvwKhiVTRmRDZuNXNTSjA</a></p>\n\n<p>Runner class code</p>\n\n<pre><code>package helpers;\n\nimport org.junit.runner.RunWith;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n//features= \"src/test/resources/features/navigation\",\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {\"classpath:features\"},\n        plugin = {\"pretty\", \"html:target/cucumber-html-report\"},\n        tags = {\"@OnlyOneTime\"},\n//      dryRun = true,\n        monochrome = true\n        )\npublic class RunCukesTest{\n\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1523089517,"post_id":49705397,"comment_id":86424065,"body_markdown":"Show your code man what you have tried so far ?","body":"Show your code man what you have tried so far ?"},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1523089587,"post_id":49705397,"comment_id":86424084,"body_markdown":"http://what-when-how.com/hibernate/transactions-and-concurrency-hibernate/","body":"<a href=\"http://what-when-how.com/hibernate/transactions-and-concurrency-hibernate/\" rel=\"nofollow noreferrer\">what-when-how.com/hibernate/&hellip;</a>"},{"owner":{"account_id":3345512,"reputation":1064,"user_id":2810746,"accept_rate":67,"display_name":"Max"},"score":0,"creation_date":1523090191,"post_id":49705397,"comment_id":86424264,"body_markdown":"@SudhirOjha this is just a plan, if this plan is possible, it would be fast and accurate. Otherwise my 2nd plan is to 1) fetch everything in java memory, 2) mimic the changes, 3) count seats by person, 4) commit or rollback.","body":"@SudhirOjha this is just a plan, if this plan is possible, it would be fast and accurate. Otherwise my 2nd plan is to 1) fetch everything in java memory, 2) mimic the changes, 3) count seats by person, 4) commit or rollback."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1523090197,"post_id":49705397,"comment_id":86424266,"body_markdown":"That&#39;s what flush() is for. But Hibernate should flush automatically before executing a query anyway.","body":"That&#39;s what flush() is for. But Hibernate should flush automatically before executing a query anyway."},{"owner":{"account_id":3345512,"reputation":1064,"user_id":2810746,"accept_rate":67,"display_name":"Max"},"score":0,"creation_date":1523090232,"post_id":49705397,"comment_id":86424278,"body_markdown":"@AK.Sharma. Which bit should I read then? I&#39;m aware of e.g. http://lh4.ggpht.com/_NNjxeW9ewEc/TLSH3VuCK6I/AAAAAAAAKhk/dUGy9o0D-7Y/s1600-h/tmp9D85_thumb3.png","body":"@AK.Sharma. Which bit should I read then? I&#39;m aware of e.g. <a href=\"http://lh4.ggpht.com/_NNjxeW9ewEc/TLSH3VuCK6I/AAAAAAAAKhk/dUGy9o0D-7Y/s1600-h/tmp9D85_thumb3.png\" rel=\"nofollow noreferrer\">lh4.ggpht.com/_NNjxeW9ewEc/TLSH3VuCK6I/AAAAAAAAKhk/dUGy9o0D-&zwnj;&#8203;7Y/&hellip;</a>"},{"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"score":0,"creation_date":1523090316,"post_id":49705397,"comment_id":86424305,"body_markdown":"@Max wouldn&#39;t be better to create a store procedure for that and run it in Hibernate as transactional?","body":"@Max wouldn&#39;t be better to create a store procedure for that and run it in Hibernate as transactional?"},{"owner":{"account_id":3345512,"reputation":1064,"user_id":2810746,"accept_rate":67,"display_name":"Max"},"score":0,"creation_date":1523090578,"post_id":49705397,"comment_id":86424371,"body_markdown":"@JBNizet I have just read the below based on what you said, looks like this may just work! I&#39;ll give it a go  https://stackoverflow.com/a/26976077/2810746","body":"@JBNizet I have just read the below based on what you said, looks like this may just work! I&#39;ll give it a go  <a href=\"https://stackoverflow.com/a/26976077/2810746\">stackoverflow.com/a/26976077/2810746</a>"},{"owner":{"account_id":3345512,"reputation":1064,"user_id":2810746,"accept_rate":67,"display_name":"Max"},"score":0,"creation_date":1523091385,"post_id":49705397,"comment_id":86424563,"body_markdown":"@AR1 our application needs to maintain the logic so that it&#39;s as database agnostic as possible. We want to be able to use a different database by only just change the connection details and the database driver.","body":"@AR1 our application needs to maintain the logic so that it&#39;s as database agnostic as possible. We want to be able to use a different database by only just change the connection details and the database driver."},{"owner":{"account_id":3028916,"reputation":35508,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"score":0,"creation_date":1523092318,"post_id":49705397,"comment_id":86424774,"body_markdown":"Leaving aside whether it is possible or not (certainly possible), the method in java that would traverse this data structure  in memory and  check how much PERSON has SEATs without writing to the database and then querying the database would be very easy to implement and probably 100-500 times faster.","body":"Leaving aside whether it is possible or not (certainly possible), the method in java that would traverse this data structure  in memory and  check how much PERSON has SEATs without writing to the database and then querying the database would be very easy to implement and probably 100-500 times faster."},{"owner":{"account_id":3345512,"reputation":1064,"user_id":2810746,"accept_rate":67,"display_name":"Max"},"score":0,"creation_date":1523094030,"post_id":49705397,"comment_id":86425199,"body_markdown":"@krokodilko The example I put here is a simplified version. There are multiple areas of the application can cause the change of the data structure, and some of them are batch procedures e.g. adding some joins (person_car and car_seat) and remove some other joins in one go. I want to avoid implementing the validation for each scenario. Ultimately what matters to me is getting a list of PERSONs that exceeds the count, regardless where in the system changes these several tables.","body":"@krokodilko The example I put here is a simplified version. There are multiple areas of the application can cause the change of the data structure, and some of them are batch procedures e.g. adding some joins (person_car and car_seat) and remove some other joins in one go. I want to avoid implementing the validation for each scenario. Ultimately what matters to me is getting a list of PERSONs that exceeds the count, regardless where in the system changes these several tables."},{"owner":{"account_id":3028916,"reputation":35508,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"score":0,"creation_date":1523094980,"post_id":49705397,"comment_id":86425453,"body_markdown":"One more question - Can two or more database sessions simultaneously change the SEATS number for the same PERSON, and each session must see changes made in other sessions to be able to verify the total SEAT number? If so, then this is impossible, the session can not see uncommited changes from other sessions. You can do it only in one session (the session only sees your uncommited changes, does not see changes from other sessions).","body":"One more question - Can two or more database sessions simultaneously change the SEATS number for the same PERSON, and each session must see changes made in other sessions to be able to verify the total SEAT number? If so, then this is impossible, the session can not see uncommited changes from other sessions. You can do it only in one session (the session only sees your uncommited changes, does not see changes from other sessions)."},{"owner":{"account_id":3345512,"reputation":1064,"user_id":2810746,"accept_rate":67,"display_name":"Max"},"score":0,"creation_date":1523099937,"post_id":49705397,"comment_id":86426773,"body_markdown":"@krokodilko Good point! Luckily we don&#39;t need to deal with multiple databases for this, otherwise we&#39;ll have to handle it in java memory.","body":"@krokodilko Good point! Luckily we don&#39;t need to deal with multiple databases for this, otherwise we&#39;ll have to handle it in java memory."},{"owner":{"account_id":3028916,"reputation":35508,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"score":0,"creation_date":1523102143,"post_id":49705397,"comment_id":86427370,"body_markdown":"Then, you&#39;ve already got the answer form @JB Nizet: `yes, it&#39;s possible, use the flush().  But Hibernate should flush automatically before executing a query anyway.`","body":"Then, you&#39;ve already got the answer form @JB Nizet: <code>yes, it&#39;s possible, use the flush().  But Hibernate should flush automatically before executing a query anyway.</code>"}],"answers":[{"tags":[],"owner":{"account_id":5609102,"reputation":11,"user_id":4442583,"display_name":"Dusan Markovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651509119,"creation_date":1651506998,"answer_id":72089274,"question_id":49705397,"body_markdown":"Yes, there is session.flush() function, which could be used for that purpose.","title":"Java Hibernate - is it possible to save the result to the database without commit, so that I can use sql / hql to verify data and rollback if needed?","body":"<p>Yes, there is session.flush() function, which could be used for that purpose.</p>\n"}],"owner":{"account_id":3345512,"reputation":1064,"user_id":2810746,"accept_rate":67,"display_name":"Max"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651509119,"creation_date":1523089405,"question_id":49705397,"body_markdown":"I&#39;m using Java with Hibernate. I want to:\r\n\r\n 1. Save my data to the database\r\n 2. Run sql to verify the result\r\n 3. If the result is valid, then commit, otherwise rollback\r\n\r\nSo, is it possible to save the result to the database without commit, so that I can use sql / hql to verify data and rollback if needed?\r\n\r\n----\r\n\r\nMy actual scenario is quite complicated, the simplified version is:\r\n\r\n - **PERSON** joins **PERSON_CAR** joins **CAR** joins **CAR_SEAT** joins **SEAT**\r\n - Make changes and commit everything\r\n - If any **PERSON** has more than 10 **SEAT**s, I want to show errors\r\n\r\nIf I could save everything to the database first, then I can write SQL with GROUP BY and HAVING statement to aggregate the data and only return the ones that exceed.","title":"Java Hibernate - is it possible to save the result to the database without commit, so that I can use sql / hql to verify data and rollback if needed?","body":"<p>I'm using Java with Hibernate. I want to:</p>\n\n<ol>\n<li>Save my data to the database</li>\n<li>Run sql to verify the result</li>\n<li>If the result is valid, then commit, otherwise rollback</li>\n</ol>\n\n<p>So, is it possible to save the result to the database without commit, so that I can use sql / hql to verify data and rollback if needed?</p>\n\n<hr>\n\n<p>My actual scenario is quite complicated, the simplified version is:</p>\n\n<ul>\n<li><strong>PERSON</strong> joins <strong>PERSON_CAR</strong> joins <strong>CAR</strong> joins <strong>CAR_SEAT</strong> joins <strong>SEAT</strong></li>\n<li>Make changes and commit everything</li>\n<li>If any <strong>PERSON</strong> has more than 10 <strong>SEAT</strong>s, I want to show errors</li>\n</ul>\n\n<p>If I could save everything to the database first, then I can write SQL with GROUP BY and HAVING statement to aggregate the data and only return the ones that exceed.</p>\n"},{"tags":["java","nashorn"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651511511,"post_id":72089437,"comment_id":127376806,"body_markdown":"Itâ€™s surprising that you got so far with JDK&#160;15, as the Nashorn engine has been removed in this version. In earlier Java versions, you have to declare `class JsObjTest` as `public` to make your code work. But youâ€™re still riding a dead horseâ€¦","body":"Itâ€™s surprising that you got so far with JDK 15, as the Nashorn engine has been removed in this version. In earlier Java versions, you have to declare <code>class JsObjTest</code> as <code>public</code> to make your code work. But youâ€™re still riding a dead horseâ€¦"},{"owner":{"account_id":18070897,"reputation":1,"user_id":13135589,"display_name":"DmitriyD"},"score":0,"creation_date":1651512923,"post_id":72089437,"comment_id":127377284,"body_markdown":"Yes, In JDK 15 nashorn was removed from JDK, but It available in standalone packages. I included it into classpath: \n```bash\njava -cp .:nashorn-core-15.3.jar:asm-7.3.1.jar:asm-util-7.3.1.jar...\n```","body":"Yes, In JDK 15 nashorn was removed from JDK, but It available in standalone packages. I included it into classpath:  <code>bash java -cp .:nashorn-core-15.3.jar:asm-7.3.1.jar:asm-util-7.3.1.jar... </code>"},{"owner":{"account_id":18070897,"reputation":1,"user_id":13135589,"display_name":"DmitriyD"},"score":0,"creation_date":1651513262,"post_id":72089437,"comment_id":127377412,"body_markdown":"Holger, you are was right. It&#39;s works, if move JsObjTest class into separate file as public","body":"Holger, you are was right. It&#39;s works, if move JsObjTest class into separate file as public"}],"owner":{"account_id":18070897,"reputation":1,"user_id":13135589,"display_name":"DmitriyD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651507941,"creation_date":1651507941,"question_id":72089437,"body_markdown":"This is my example:\r\n```java\r\npackage mypkg;\r\nimport javax.script.*;\r\npublic class Main {\r\n  public static void main(String[] args) throws Exception {\r\n    System.out.println(&quot;Start&quot;);\r\n    Main app = new Main();\r\n    app.test();\r\n  }\r\n\r\n  public void test() throws Exception {\r\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n        engine.put(&quot;manager&quot;, new JsObjTest());\r\n        engine.put(&quot;clazz&quot;, JsObjTest.class);\r\n        engine.eval(&quot;load(&#39;nashorn:mozilla_compat.js&#39;);&quot;);\r\n        engine.eval(&quot;print(manager.getVal());&quot;);\r\n  }\r\n}\r\n\r\nclass JsObjTest {\r\n  public String getVal() {\r\n    return &quot;Demo&quot;;\r\n  }\r\n}\r\n```\r\nI&#39;ve got an error, when I call public method:\r\n```\r\njava -cp .:nashorn-core-15.3.jar:asm-7.3.1.jar:asm-util-7.3.1.jar mypkg.Main\r\nStart\r\nException in thread &quot;main&quot; javax.script.ScriptException: TypeError: manager.getVal is not a function in &lt;eval&gt; at line number 1\r\n\tat org.openjdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:463)\r\n```\r\n\r\nWhat I must to do, to resolve this problem? Thanks","title":"Java 15, Nashorn 15.3: Can&#39;t access to java object public methods or properties","body":"<p>This is my example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mypkg;\nimport javax.script.*;\npublic class Main {\n  public static void main(String[] args) throws Exception {\n    System.out.println(&quot;Start&quot;);\n    Main app = new Main();\n    app.test();\n  }\n\n  public void test() throws Exception {\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\n        engine.put(&quot;manager&quot;, new JsObjTest());\n        engine.put(&quot;clazz&quot;, JsObjTest.class);\n        engine.eval(&quot;load('nashorn:mozilla_compat.js');&quot;);\n        engine.eval(&quot;print(manager.getVal());&quot;);\n  }\n}\n\nclass JsObjTest {\n  public String getVal() {\n    return &quot;Demo&quot;;\n  }\n}\n</code></pre>\n<p>I've got an error, when I call public method:</p>\n<pre><code>java -cp .:nashorn-core-15.3.jar:asm-7.3.1.jar:asm-util-7.3.1.jar mypkg.Main\nStart\nException in thread &quot;main&quot; javax.script.ScriptException: TypeError: manager.getVal is not a function in &lt;eval&gt; at line number 1\n    at org.openjdk.nashorn.api.scripting.NashornScriptEngine.throwAsScriptException(NashornScriptEngine.java:463)\n</code></pre>\n<p>What I must to do, to resolve this problem? Thanks</p>\n"},{"tags":["java","swing","user-interface","intellij-idea","jlayeredpane"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1651506735,"post_id":72089196,"comment_id":127375172,"body_markdown":"I always found swing to be frustrating in terms of making games. My recommendation is that you check out JOGL","body":"I always found swing to be frustrating in terms of making games. My recommendation is that you check out JOGL"},{"owner":{"account_id":14448709,"reputation":37,"user_id":10436981,"display_name":"Milica P"},"score":0,"creation_date":1651506868,"post_id":72089196,"comment_id":127375229,"body_markdown":"I have to use swing for this work, it&#39;s not really meant to be a good game but OOP practice","body":"I have to use swing for this work, it&#39;s not really meant to be a good game but OOP practice"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1651567679,"post_id":72089196,"comment_id":127388418,"body_markdown":"Not sure if you need a `JLayeredPane`. Make the &quot;grid&quot; class extend `javax.swing.JPanel` and override the `paintComponent` method to draw the &quot;grid&quot; either with a piece on it or without a piece on it. Of-course this assumes that the user cannot move the piece via [drag-and-drop](https://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html).","body":"Not sure if you need a <code>JLayeredPane</code>. Make the &quot;grid&quot; class extend <code>javax.swing.JPanel</code> and override the <code>paintComponent</code> method to draw the &quot;grid&quot; either with a piece on it or without a piece on it. Of-course this assumes that the user cannot move the piece via <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html\" rel=\"nofollow noreferrer\">drag-and-drop</a>."}],"owner":{"account_id":14448709,"reputation":37,"user_id":10436981,"display_name":"Milica P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651507867,"creation_date":1651506552,"question_id":72089196,"body_markdown":"Trying to make a board game for my Java homework, however I&#39;m having trouble getting the contents of my JLayeredPane to appear - only the border appears. Also, everything appears fine when I use a default layout, but those ignore layers and squish em into squares. It doesn&#39;t appear that setting x and y in grid.setBounds() does anything either - so I&#39;ve just left them as 0 for now.\r\nThe variable names are a bit funky - `grid` is just one square of the grid, and boardGUI is the whole board/collection of grids. I&#39;m trying to place a piece (done using a label) on top of grid. \r\n\r\nI&#39;ll be showing this with almost pseudo-code so my point is slightly easier/quicker to get across.\r\nYes, I&#39;ve looked through the oracle swing tutorial on this.\r\n\r\nI&#39;ll show of this in pseudocode with some explainations - this is homework so I don&#39;t want to show anything that isn&#39;t a basic/common part of drawing GUIs, hope you understand. I believe these are the main things I need to set in order to have my JlayeredPane appear:\r\n\r\n```\r\nsetSquare(boardArray){\r\n    JLayeredPane grid = new JLayeredPane();\r\n    grid.setBorder(new LineBorder(new Color(0,70,0)));\r\n    grid.setPreferredSize(new Dimension(width, width));//width is set to 50\r\n    grid.setMinimumSize(new Dimension(width, width));\r\n    grid.setMaximumSize(new Dimension(width, width));\r\n    grid.setBounds(0, 0, width, width);\r\n\r\n    for every item in the array{\r\n        if theres a black piece in the array:\r\n            drawPiece(grid, blackFill, whiteBorder);\r\n        else if theres a white piece in the array:\r\n            drawPiece(grid, whiteFill, blackBorder);\r\n    }\r\n\r\n    grid.setVisible(true);\r\n    boardGUI.add(grid);\r\n}\r\n\r\ndrawPiece(JLayeredPane grid, Color fill, Color border){\r\n    piece = new CircleLabel(size, fill, border); //custom method that creates a label shaped like a circle - it inherits from JLabel\r\n    piece.setVisible(true);\r\n    piece.setLayer(piece, JLayeredPane.PALETTE_LAYER);\r\n    grid.add(piece, JLayeredPane.PALETTE_LAYER);\r\n}\r\n\r\n```\r\n\r\nThis is using the code above: \r\n\r\n[![This is using the code above][1]][1]\r\n\r\nThis is what appears if I use GridLayout and don&#39;t do the last 5 lines shown.\r\n[![This is what appears if I use GridLayout and don&#39;t do the last 5 lines shown.][2]][2]\r\n\r\nAlso, it compiles with no errors or warnings.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BKOWQ.png\r\n  [2]: https://i.stack.imgur.com/H7iZJ.png","title":"Trying to make a JLayeredPane and it&#39;s contents visible with no luck, no sure whats wrong","body":"<p>Trying to make a board game for my Java homework, however I'm having trouble getting the contents of my JLayeredPane to appear - only the border appears. Also, everything appears fine when I use a default layout, but those ignore layers and squish em into squares. It doesn't appear that setting x and y in grid.setBounds() does anything either - so I've just left them as 0 for now.\nThe variable names are a bit funky - <code>grid</code> is just one square of the grid, and boardGUI is the whole board/collection of grids. I'm trying to place a piece (done using a label) on top of grid.</p>\n<p>I'll be showing this with almost pseudo-code so my point is slightly easier/quicker to get across.\nYes, I've looked through the oracle swing tutorial on this.</p>\n<p>I'll show of this in pseudocode with some explainations - this is homework so I don't want to show anything that isn't a basic/common part of drawing GUIs, hope you understand. I believe these are the main things I need to set in order to have my JlayeredPane appear:</p>\n<pre><code>setSquare(boardArray){\n    JLayeredPane grid = new JLayeredPane();\n    grid.setBorder(new LineBorder(new Color(0,70,0)));\n    grid.setPreferredSize(new Dimension(width, width));//width is set to 50\n    grid.setMinimumSize(new Dimension(width, width));\n    grid.setMaximumSize(new Dimension(width, width));\n    grid.setBounds(0, 0, width, width);\n\n    for every item in the array{\n        if theres a black piece in the array:\n            drawPiece(grid, blackFill, whiteBorder);\n        else if theres a white piece in the array:\n            drawPiece(grid, whiteFill, blackBorder);\n    }\n\n    grid.setVisible(true);\n    boardGUI.add(grid);\n}\n\ndrawPiece(JLayeredPane grid, Color fill, Color border){\n    piece = new CircleLabel(size, fill, border); //custom method that creates a label shaped like a circle - it inherits from JLabel\n    piece.setVisible(true);\n    piece.setLayer(piece, JLayeredPane.PALETTE_LAYER);\n    grid.add(piece, JLayeredPane.PALETTE_LAYER);\n}\n\n</code></pre>\n<p>This is using the code above:</p>\n<p><a href=\"https://i.stack.imgur.com/BKOWQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKOWQ.png\" alt=\"This is using the code above\" /></a></p>\n<p>This is what appears if I use GridLayout and don't do the last 5 lines shown.\n<a href=\"https://i.stack.imgur.com/H7iZJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H7iZJ.png\" alt=\"This is what appears if I use GridLayout and don't do the last 5 lines shown.\" /></a></p>\n<p>Also, it compiles with no errors or warnings.</p>\n"},{"tags":["java","itext7"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651507549,"creation_date":1651507549,"answer_id":72089374,"question_id":72089205,"body_markdown":"To apply changes to a signed PDF and keep the signatures cryptographically valid, you have to create an incremental update. In iText lingo that means using _append mode_. In iText 7 you use append mode by specifying stamping properties accordingly:\r\n\r\n```lang-java\r\nPdfDocument pdf2 = new PdfDocument(pdfReader, pdfWritter, new StampingProperties().useAppendMode());\r\n```\r\n\r\nBeware, you only are allowed to apply a small set of changes to a signed PDF, read [this answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16711745/1729265","title":"itext 7: Problem save digitally signed document (java)","body":"<p>To apply changes to a signed PDF and keep the signatures cryptographically valid, you have to create an incremental update. In iText lingo that means using <em>append mode</em>. In iText 7 you use append mode by specifying stamping properties accordingly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PdfDocument pdf2 = new PdfDocument(pdfReader, pdfWritter, new StampingProperties().useAppendMode());\n</code></pre>\n<p>Beware, you only are allowed to apply a small set of changes to a signed PDF, read <a href=\"https://stackoverflow.com/a/16711745/1729265\">this answer</a>.</p>\n"}],"owner":{"account_id":13892596,"reputation":13,"user_id":10109727,"display_name":"Majes7ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72089374,"answer_count":1,"score":1,"last_activity_date":1651507549,"creation_date":1651506605,"question_id":72089205,"body_markdown":"I have a document that is digitally signed, and when creating a new document from the first, it loses the signature, here I show the code:\r\n\r\n   \r\n        String src = &quot;C:\\\\sign\\\\testpdf\\\\signed_document.pdf&quot;;\r\n        String dest = &quot;C:\\\\sign\\\\testpdf\\\\modified_document.pdf&quot;;\r\n        PdfReader pdfReader = new PdfReader(src);\r\n        PdfWriter pdfWritter = new PdfWriter(dest);\r\n        PdfDocument pdf2 = new PdfDocument(pdfReader, pdfWritter);\r\n        pdf2.close();\r\n     \r\n\r\nIs there a way to keep the new document signed? thanks!\r\n\r\nEDIT: The signature appears on the new document but as &quot;unknown&quot;. That is,the name of the person who signed does not appear\r\n","title":"itext 7: Problem save digitally signed document (java)","body":"<p>I have a document that is digitally signed, and when creating a new document from the first, it loses the signature, here I show the code:</p>\n<pre><code>    String src = &quot;C:\\\\sign\\\\testpdf\\\\signed_document.pdf&quot;;\n    String dest = &quot;C:\\\\sign\\\\testpdf\\\\modified_document.pdf&quot;;\n    PdfReader pdfReader = new PdfReader(src);\n    PdfWriter pdfWritter = new PdfWriter(dest);\n    PdfDocument pdf2 = new PdfDocument(pdfReader, pdfWritter);\n    pdf2.close();\n \n</code></pre>\n<p>Is there a way to keep the new document signed? thanks!</p>\n<p>EDIT: The signature appears on the new document but as &quot;unknown&quot;. That is,the name of the person who signed does not appear</p>\n"},{"tags":["java","android","kotlin","calendarview"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1651507260,"post_id":72089238,"comment_id":127375396,"body_markdown":"Would be good to see example datesâ€¦","body":"Would be good to see example datesâ€¦"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651507536,"creation_date":1651507536,"answer_id":72089371,"question_id":72089238,"body_markdown":"CalendarView unfortunately uses 0-based months (January is 0) and LocalDateTime uses 1-based months (January is 1). You need to use `LocalDateTime.of(year, month + 1, dayOfMonth, 0, 0)`.","title":"LocaleDateTime.dayOfWeek return me wrong value","body":"<p>CalendarView unfortunately uses 0-based months (January is 0) and LocalDateTime uses 1-based months (January is 1). You need to use <code>LocalDateTime.of(year, month + 1, dayOfMonth, 0, 0)</code>.</p>\n"}],"owner":{"account_id":18029676,"reputation":105,"user_id":13104668,"display_name":"Mr the cat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72089371,"answer_count":1,"score":0,"last_activity_date":1651507536,"creation_date":1651506780,"question_id":72089238,"body_markdown":"I have a calendarView, here&#39;s my code\r\n\r\n```\r\nbinding.calendarView.setOnDateChangeListener(CalendarView.OnDateChangeListener { view, year, month, dayOfMonth -&gt;\r\n            Toast.makeText(applicationContext, &quot;$dayOfMonth/$month/$year&quot;, Toast.LENGTH_LONG).show()\r\n            var selectedDate = LocalDateTime.of(year, month, dayOfMonth, 0, 0)\r\n            val weekdayValue = selectedDate.dayOfWeek.value\r\n            val weekdayName = selectedDate.dayOfWeek.name\r\n        })\r\n```\r\n\r\nWhen I tap on Monday, `weekdayValue` = 5 and `weekdayName` = &quot;Friday&quot;.\r\nWhen I tap on Wednesday, `weekdayValue` = 7 and `weekdayName` = &quot;Sunday&quot;.\r\n\r\nThe first day of week in my calendarView is 2, so Monday.\r\nThe Toast show me the good values.\r\n\r\nWhat is the problem ?\r\n","title":"LocaleDateTime.dayOfWeek return me wrong value","body":"<p>I have a calendarView, here's my code</p>\n<pre><code>binding.calendarView.setOnDateChangeListener(CalendarView.OnDateChangeListener { view, year, month, dayOfMonth -&gt;\n            Toast.makeText(applicationContext, &quot;$dayOfMonth/$month/$year&quot;, Toast.LENGTH_LONG).show()\n            var selectedDate = LocalDateTime.of(year, month, dayOfMonth, 0, 0)\n            val weekdayValue = selectedDate.dayOfWeek.value\n            val weekdayName = selectedDate.dayOfWeek.name\n        })\n</code></pre>\n<p>When I tap on Monday, <code>weekdayValue</code> = 5 and <code>weekdayName</code> = &quot;Friday&quot;.\nWhen I tap on Wednesday, <code>weekdayValue</code> = 7 and <code>weekdayName</code> = &quot;Sunday&quot;.</p>\n<p>The first day of week in my calendarView is 2, so Monday.\nThe Toast show me the good values.</p>\n<p>What is the problem ?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":3652559,"reputation":895,"user_id":3044307,"accept_rate":25,"display_name":"Taj Ahmed"},"score":0,"creation_date":1454908368,"post_id":35262529,"comment_id":58237265,"body_markdown":"I would say it is necessary, because what if you suddenly change your `doSomething()` to not call `getFoo()` anymore or just comment it?. How would you get to know about that if you haven&#39;t verified the method invocation.","body":"I would say it is necessary, because what if you suddenly change your <code>doSomething()</code> to not call <code>getFoo()</code> anymore or just comment it?. How would you get to know about that if you haven&#39;t verified the method invocation."},{"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"score":1,"creation_date":1454909098,"post_id":35262529,"comment_id":58237499,"body_markdown":"@TajAhmed Isn&#39;t there a way to make the test fail if the mocked method isn&#39;t called without doing `verify()`?","body":"@TajAhmed Isn&#39;t there a way to make the test fail if the mocked method isn&#39;t called without doing <code>verify()</code>?"},{"owner":{"account_id":3652559,"reputation":895,"user_id":3044307,"accept_rate":25,"display_name":"Taj Ahmed"},"score":1,"creation_date":1454909482,"post_id":35262529,"comment_id":58237619,"body_markdown":"It is kind of possible when you are using the output of mocked method in you testing class method. Then you can just verify that mocked data is prepared by asserting the return value.Doing this may/may not be possible depending on whether your tesing method is returing any value or not. So i would recommend using verify which gives assurity of method getting called.","body":"It is kind of possible when you are using the output of mocked method in you testing class method. Then you can just verify that mocked data is prepared by asserting the return value.Doing this may/may not be possible depending on whether your tesing method is returing any value or not. So i would recommend using verify which gives assurity of method getting called."},{"owner":{"account_id":6575531,"reputation":1123,"user_id":5081731,"accept_rate":80,"display_name":"aro_tech"},"score":0,"creation_date":1454920465,"post_id":35262529,"comment_id":58242025,"body_markdown":"I think you should use the term &quot;stubbed&quot; instead of &quot;mocked&quot; for `Mockito.when` ( see http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#2 ).","body":"I think you should use the term &quot;stubbed&quot; instead of &quot;mocked&quot; for <code>Mockito.when</code> ( see <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#2\" rel=\"nofollow noreferrer\">docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#2</a> )."}],"answers":[{"tags":[],"owner":{"account_id":6575531,"reputation":1123,"user_id":5081731,"accept_rate":80,"display_name":"aro_tech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454922140,"creation_date":1454922140,"answer_id":35265684,"question_id":35262529,"body_markdown":"In the specific example you give (which is not really a complete example, but it&#39;s good enough to make your question clear), I see no reason to verify the call which is stubbed. \r\n\r\nI think it&#39;s good design to *verify* calls which are intended to have side effects and to *stub* calls (using `when`) which are intended to provide data. Doing both makes the design less clear and the test a little less readable, in most cases. \r\n\r\nIf a call which provides data and has no side effects receives as an argument values which are generated or modified by the method under test (for example, a key synthesized to retrieve a value), then verification *might* be useful (even when the arguments are simple enough that you do not need `ArgumentCaptor`). You can stub with specific arguments or custom matchers, which is probably good enough to test such a case (for example `when(fs.getFoo(&quot;generatedKey1234&quot;)).thenReturn(&quot;foo1234&quot;)`), but checking the argument(s) in `verify` could enhance the readability of the test - so it&#39;s a judgment call.","title":"Is it unnecessary to verify the same methods as the methods being mocked in Mockito?","body":"<p>In the specific example you give (which is not really a complete example, but it's good enough to make your question clear), I see no reason to verify the call which is stubbed. </p>\n\n<p>I think it's good design to <em>verify</em> calls which are intended to have side effects and to <em>stub</em> calls (using <code>when</code>) which are intended to provide data. Doing both makes the design less clear and the test a little less readable, in most cases. </p>\n\n<p>If a call which provides data and has no side effects receives as an argument values which are generated or modified by the method under test (for example, a key synthesized to retrieve a value), then verification <em>might</em> be useful (even when the arguments are simple enough that you do not need <code>ArgumentCaptor</code>). You can stub with specific arguments or custom matchers, which is probably good enough to test such a case (for example <code>when(fs.getFoo(\"generatedKey1234\")).thenReturn(\"foo1234\")</code>), but checking the argument(s) in <code>verify</code> could enhance the readability of the test - so it's a judgment call.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1651507325,"creation_date":1455048694,"answer_id":35301264,"question_id":35262529,"body_markdown":"The Mockito documentation repeatedly says it is often redundant. This appears verbatim both in [`verify(T)`&#39;s Javadoc][2] as multiple single-line comments in the code block in [Mockito&#39;s main class Javadoc section 2](http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#2):\r\n\r\n&gt; Although it is possible to verify a stubbed invocation, usually it&#39;s just redundant.\r\n&gt; If your code cares what `get(0)` returns, then something else breaks (often even before `verify()` gets executed).\r\n&gt; If your code doesn&#39;t care what `get(0)` returns, then it should not be stubbed. Not convinced? See [here][3].\r\n\r\nNote that the originally linked article, &quot;[Asking and Telling][3]&quot;, was written by Mockito originator Szczepan Faber and can be considered an authoritative document in Mockito&#39;s design. To excerpt from that post:\r\n\r\n&gt; Do I really have to repeat the same expression? After all, stubbed interactions are **verified implicitly**. The execution flow of my own code does it **completely for free**. [Aaron Jensen][4] also noticed that:\r\n&gt;\r\n&gt;&gt;If youâ€™re verifying you donâ€™t need to stub unless of course that method returns something that is critical to the flow of your test (or code), in which case you donâ€™t really need to verify, because the flow would have verified.\r\n&gt;\r\n&gt;Just to recap: **there is no repeated code**.\r\n&gt;\r\n&gt;But what if an interesting interaction **shares the characteristic of both asking and telling?** Do I have to repeat interactions in stub() and verify()? Will I end up with duplicated code? Not really. In practice: **If I stub** then it is verified for free, so **I donâ€™t verify**. **If I verify** then I donâ€™t care about the return value, so **I donâ€™t stub**. Either way, [**I donâ€™t repeat myself**][5]. In theory though, I can imagine a rare case where I do verify a stubbed interaction, for example to make sure the stubbed interaction happened exactly n times. But this is a different aspect of behavior and apparently an interesting one. Therefore I want to be explicit and I am perfectly happy to sacrifice one extra line of codeâ€¦\r\n\r\nRecent versions of Mockito (released since this Q&amp;A was posted) have added some additional features that [allow][6] or [default to][7] stricter mocking styles. Despite this, the prevailing expectation is to avoid brittleness by only verifying what you can&#39;t confirm through assertions or successful test completion.\r\n\r\nOverall, Mockito&#39;s design is to allow tests to be as flexible as possible,  coding not to the implementation but instead to the spec of the method you&#39;re testing. Though you&#39;ll occasionally see a method call as part of a function&#39;s spec (&quot;Submits an RPC to the server&quot; or &quot;Calls the passed LoginCallback immediately&quot;), it&#39;s much more likely that you&#39;ll want to validate the postconditions that you can infer from the stubs: Checking that `getFoo` was called isn&#39;t really a part of the spec as long as you stubbed `getFoo` to return &quot;foo&quot; and the data store contains a single object with its corresponding property set to &quot;foo&quot;.\r\n\r\n---\r\n\r\nIn short, it is considered good Mockito style to explicitly verify only the interactions that can&#39;t be implied from well-crafted stubs and postcondition assertions. They may be good calls for otherwise-unmeasurable side effectsâ€”logging code, thread executors, ArgumentCaptors, multiple method calls, callback functionsâ€”but generally should not be applied to stubbed interactions.\r\n\r\n[1]: http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#verify(T)\r\n[2]: http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#2\r\n[3]: https://szczepiq.wordpress.com/2008/04/26/asking-and-telling/\r\n[4]: http://codebetter.com/blogs/aaron.jensen/archive/2008/04/03/separate-stub-and-verify-duplicate-code-necessarily.aspx\r\n[5]: http://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself\r\n[6]: http://blog.mockito.org/2017/01/clean-tests-produce-clean-code-strict.html\r\n[7]: http://blog.mockito.org/2018/07/new-mockito-api-lenient.html","title":"Is it unnecessary to verify the same methods as the methods being mocked in Mockito?","body":"<p>The Mockito documentation repeatedly says it is often redundant. This appears verbatim both in <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#2\" rel=\"nofollow noreferrer\"><code>verify(T)</code>'s Javadoc</a> as multiple single-line comments in the code block in <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#2\" rel=\"nofollow noreferrer\">Mockito's main class Javadoc section 2</a>:</p>\n<blockquote>\n<p>Although it is possible to verify a stubbed invocation, usually it's just redundant.\nIf your code cares what <code>get(0)</code> returns, then something else breaks (often even before <code>verify()</code> gets executed).\nIf your code doesn't care what <code>get(0)</code> returns, then it should not be stubbed. Not convinced? See <a href=\"https://szczepiq.wordpress.com/2008/04/26/asking-and-telling/\" rel=\"nofollow noreferrer\">here</a>.</p>\n</blockquote>\n<p>Note that the originally linked article, &quot;<a href=\"https://szczepiq.wordpress.com/2008/04/26/asking-and-telling/\" rel=\"nofollow noreferrer\">Asking and Telling</a>&quot;, was written by Mockito originator Szczepan Faber and can be considered an authoritative document in Mockito's design. To excerpt from that post:</p>\n<blockquote>\n<p>Do I really have to repeat the same expression? After all, stubbed interactions are <strong>verified implicitly</strong>. The execution flow of my own code does it <strong>completely for free</strong>. <a href=\"http://codebetter.com/blogs/aaron.jensen/archive/2008/04/03/separate-stub-and-verify-duplicate-code-necessarily.aspx\" rel=\"nofollow noreferrer\">Aaron Jensen</a> also noticed that:</p>\n<blockquote>\n<p>If youâ€™re verifying you donâ€™t need to stub unless of course that method returns something that is critical to the flow of your test (or code), in which case you donâ€™t really need to verify, because the flow would have verified.</p>\n</blockquote>\n<p>Just to recap: <strong>there is no repeated code</strong>.</p>\n<p>But what if an interesting interaction <strong>shares the characteristic of both asking and telling?</strong> Do I have to repeat interactions in stub() and verify()? Will I end up with duplicated code? Not really. In practice: <strong>If I stub</strong> then it is verified for free, so <strong>I donâ€™t verify</strong>. <strong>If I verify</strong> then I donâ€™t care about the return value, so <strong>I donâ€™t stub</strong>. Either way, <a href=\"http://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\"><strong>I donâ€™t repeat myself</strong></a>. In theory though, I can imagine a rare case where I do verify a stubbed interaction, for example to make sure the stubbed interaction happened exactly n times. But this is a different aspect of behavior and apparently an interesting one. Therefore I want to be explicit and I am perfectly happy to sacrifice one extra line of codeâ€¦</p>\n</blockquote>\n<p>Recent versions of Mockito (released since this Q&amp;A was posted) have added some additional features that <a href=\"http://blog.mockito.org/2017/01/clean-tests-produce-clean-code-strict.html\" rel=\"nofollow noreferrer\">allow</a> or <a href=\"http://blog.mockito.org/2018/07/new-mockito-api-lenient.html\" rel=\"nofollow noreferrer\">default to</a> stricter mocking styles. Despite this, the prevailing expectation is to avoid brittleness by only verifying what you can't confirm through assertions or successful test completion.</p>\n<p>Overall, Mockito's design is to allow tests to be as flexible as possible,  coding not to the implementation but instead to the spec of the method you're testing. Though you'll occasionally see a method call as part of a function's spec (&quot;Submits an RPC to the server&quot; or &quot;Calls the passed LoginCallback immediately&quot;), it's much more likely that you'll want to validate the postconditions that you can infer from the stubs: Checking that <code>getFoo</code> was called isn't really a part of the spec as long as you stubbed <code>getFoo</code> to return &quot;foo&quot; and the data store contains a single object with its corresponding property set to &quot;foo&quot;.</p>\n<hr />\n<p>In short, it is considered good Mockito style to explicitly verify only the interactions that can't be implied from well-crafted stubs and postcondition assertions. They may be good calls for otherwise-unmeasurable side effectsâ€”logging code, thread executors, ArgumentCaptors, multiple method calls, callback functionsâ€”but generally should not be applied to stubbed interactions.</p>\n"}],"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2665,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":35301264,"answer_count":2,"score":12,"last_activity_date":1651507325,"creation_date":1454907102,"question_id":35262529,"body_markdown":"I often see the same methods being verified as the methods being mocked in `Mockito` (example below). Is there any added benefit to call `Mockito.verify()` in these cases?\r\n\r\n    //mock method\r\n    FooService fs = mock(FooService.class);\r\n    when(fs.getFoo()).thenReturn(&quot;foo&quot;);\r\n    \r\n    //method under test\r\n    fs.doSomething();\r\n    \r\n    //verify method\r\n    verify(fs).getFoo();\r\n\r\n\r\nThe method should fail if `fs.getFoo()` is not called. So why call `verify`? I see the benefit if you need to use `ArgumentCaptor` in the verify to assert the parameters; besides the ArgumentCaptor case, is it just unnecessary? ","title":"Is it unnecessary to verify the same methods as the methods being mocked in Mockito?","body":"<p>I often see the same methods being verified as the methods being mocked in <code>Mockito</code> (example below). Is there any added benefit to call <code>Mockito.verify()</code> in these cases?</p>\n\n<pre><code>//mock method\nFooService fs = mock(FooService.class);\nwhen(fs.getFoo()).thenReturn(\"foo\");\n\n//method under test\nfs.doSomething();\n\n//verify method\nverify(fs).getFoo();\n</code></pre>\n\n<p>The method should fail if <code>fs.getFoo()</code> is not called. So why call <code>verify</code>? I see the benefit if you need to use <code>ArgumentCaptor</code> in the verify to assert the parameters; besides the ArgumentCaptor case, is it just unnecessary? </p>\n"},{"tags":["javascript","java","arrays"],"answers":[{"tags":[],"owner":{"account_id":5223638,"reputation":448,"user_id":4176286,"display_name":"free6om"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458795049,"creation_date":1458795049,"answer_id":36193470,"question_id":36192893,"body_markdown":"&gt; How can I know if the result after eval() which is of type Object is an array?\r\n\r\nUse `instanceof`:  \r\n\r\n    if(result instanceof Object[]){\r\n        //your code\r\n    }\r\n\r\n&gt;And if so, how can I cast it?\r\n\r\n    if(result instanceof Object[]){\r\n        Object[] array = (Object[])result;\r\n        for(Object o : array) {\r\n        //your code\r\n        }\r\n    }    ","title":"Get array as result of ScriptEngine.eval()","body":"<blockquote>\n  <p>How can I know if the result after eval() which is of type Object is an array?</p>\n</blockquote>\n\n<p>Use <code>instanceof</code>:  </p>\n\n<pre><code>if(result instanceof Object[]){\n    //your code\n}\n</code></pre>\n\n<blockquote>\n  <p>And if so, how can I cast it?</p>\n</blockquote>\n\n<pre><code>if(result instanceof Object[]){\n    Object[] array = (Object[])result;\n    for(Object o : array) {\n    //your code\n    }\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11587486,"reputation":41,"user_id":8489104,"display_name":"RedRam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503178345,"creation_date":1503178345,"answer_id":45776478,"question_id":36192893,"body_markdown":"As you noticed, it&#39;s not java array but a javascript array, if you print the class of the return object, you probably will find it&#39;s &quot;ScriptObjectMirror&quot;. I have a work around for this which is toString the array in another your script variable, then get the value of that (see below example). I believe there is a better way to resolve this array issue, waiting the good answer too.\r\n\r\n    engine.eval(&quot;var fruits = [\\&quot;Banana\\&quot;, \\&quot;Orange\\&quot;, \\&quot;Apple\\&quot;, \\&quot;Mango\\&quot;]; var d = fruits.toString();&quot;);\r\n    System.out.println(engine.get(&quot;fruits&quot;).getClass());\r\n    System.out.println(engine.get(&quot;d&quot;).getClass());\r\n    System.out.println(engine.get(&quot;d&quot;));","title":"Get array as result of ScriptEngine.eval()","body":"<p>As you noticed, it's not java array but a javascript array, if you print the class of the return object, you probably will find it's \"ScriptObjectMirror\". I have a work around for this which is toString the array in another your script variable, then get the value of that (see below example). I believe there is a better way to resolve this array issue, waiting the good answer too.</p>\n\n<pre><code>engine.eval(\"var fruits = [\\\"Banana\\\", \\\"Orange\\\", \\\"Apple\\\", \\\"Mango\\\"]; var d = fruits.toString();\");\nSystem.out.println(engine.get(\"fruits\").getClass());\nSystem.out.println(engine.get(\"d\").getClass());\nSystem.out.println(engine.get(\"d\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047736,"reputation":2932,"user_id":1827453,"accept_rate":69,"display_name":"Panu Haaramo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509371327,"creation_date":1509370958,"answer_id":47016777,"question_id":36192893,"body_markdown":"In my case modifying the script to make it return list does the trick:\r\n\r\n    private String arrayToList() {\r\n    \tif (javascript.startsWith(&quot;[&quot;) &amp;&amp; javascript.endsWith(&quot;]&quot;))\r\n    \t\tjavascript = &quot;java.util.Arrays.asList(&quot; + javascript + &quot;)&quot;;\r\n    \treturn javascript;\r\n    }\r\n\r\nBut of course it handles only the case where array results from using brackets, for example:\r\n\r\n    [&quot;entry1&quot;, &quot;entry2&quot;, settings.getMainUserEmail(), loginEmail]\r\n\r\nAnyway the bottom line is that you need to return a `List` instead of array. Then you can also use `instanceof`.","title":"Get array as result of ScriptEngine.eval()","body":"<p>In my case modifying the script to make it return list does the trick:</p>\n\n<pre><code>private String arrayToList() {\n    if (javascript.startsWith(\"[\") &amp;&amp; javascript.endsWith(\"]\"))\n        javascript = \"java.util.Arrays.asList(\" + javascript + \")\";\n    return javascript;\n}\n</code></pre>\n\n<p>But of course it handles only the case where array results from using brackets, for example:</p>\n\n<pre><code>[\"entry1\", \"entry2\", settings.getMainUserEmail(), loginEmail]\n</code></pre>\n\n<p>Anyway the bottom line is that you need to return a <code>List</code> instead of array. Then you can also use <code>instanceof</code>.</p>\n"},{"tags":[],"owner":{"account_id":6114182,"reputation":271,"user_id":4769751,"display_name":"Oleksandr Potomkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651507069,"creation_date":1651507069,"answer_id":72089290,"question_id":36192893,"body_markdown":"\r\n\tfinal ScriptEngineManager scriptEngineManager = new ScriptEngineManager();\r\n\tScriptEngine scriptEngine = scriptEngineManager.getEngineByName(&quot;JavaScript&quot;);\r\n\tscriptEngine.eval(&quot;count = [&#39;one&#39;, &#39;two&#39;, &#39;three&#39;];&quot;);\r\n\tscriptEngine.eval(&quot;className = count.constructor.name;&quot;);\r\n\r\n\tfinal String className =  (String) scriptEngine.get(&quot;className&quot;);\r\n\r\n\tswitch(className) {\r\n\t\r\n\tcase &quot;Array&quot;:\r\n\t\tscriptEngine.eval(&quot;json= JSON.stringify(count);&quot;);\r\n\t\tfinal String json =  (String) scriptEngine.get(&quot;json&quot;);\r\n\r\n\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n\t\tfinal String[] readValue = mapper.readValue(json, String[].class);\r\n\t\tbreak;\r\n\r\n\tcase &quot;Number&quot;:\r\n        ...\r\n\t}\r\n\r\n","title":"Get array as result of ScriptEngine.eval()","body":"<pre><code>final ScriptEngineManager scriptEngineManager = new ScriptEngineManager();\nScriptEngine scriptEngine = scriptEngineManager.getEngineByName(&quot;JavaScript&quot;);\nscriptEngine.eval(&quot;count = ['one', 'two', 'three'];&quot;);\nscriptEngine.eval(&quot;className = count.constructor.name;&quot;);\n\nfinal String className =  (String) scriptEngine.get(&quot;className&quot;);\n\nswitch(className) {\n\ncase &quot;Array&quot;:\n    scriptEngine.eval(&quot;json= JSON.stringify(count);&quot;);\n    final String json =  (String) scriptEngine.get(&quot;json&quot;);\n\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n    final String[] readValue = mapper.readValue(json, String[].class);\n    break;\n\ncase &quot;Number&quot;:\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":2438576,"reputation":53,"user_id":2851556,"display_name":"mcmacker4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1691,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1651507069,"creation_date":1458790972,"question_id":36192893,"body_markdown":"I&#39;m trying to use javax.script.ScriptEngine to `eval()` some JS scripts.\r\nHow can I know if the result after `eval()` which is of type `Object` is an array? And if so, how can I cast it?\r\n\r\nRight now, to know if the object is of type Number or of type String i use `instanceof`. And when the result of the script is an array, if I print with `System.out.println()` the object returned it simply prints `[object Array]`.","title":"Get array as result of ScriptEngine.eval()","body":"<p>I'm trying to use javax.script.ScriptEngine to <code>eval()</code> some JS scripts.\nHow can I know if the result after <code>eval()</code> which is of type <code>Object</code> is an array? And if so, how can I cast it?</p>\n\n<p>Right now, to know if the object is of type Number or of type String i use <code>instanceof</code>. And when the result of the script is an array, if I print with <code>System.out.println()</code> the object returned it simply prints <code>[object Array]</code>.</p>\n"},{"tags":["java","json","jackson","jackson-databind","jackson2"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1651502714,"post_id":72088329,"comment_id":127373589,"body_markdown":"You can serialize the object to an intermediate JSON object buffer (`ObjectNode` in Jackson if I&#39;m not mistaken), and manipulate its contents. Or, if not buffering, it&#39;s also possible to intercept the output stream and write directly to the stream (not sure how easy it is in Jackson, but definitely possible). Or, if I understand what Jackson mixins are, Jackson mixins can also help you.","body":"You can serialize the object to an intermediate JSON object buffer (<code>ObjectNode</code> in Jackson if I&#39;m not mistaken), and manipulate its contents. Or, if not buffering, it&#39;s also possible to intercept the output stream and write directly to the stream (not sure how easy it is in Jackson, but definitely possible). Or, if I understand what Jackson mixins are, Jackson mixins can also help you."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1651514453,"post_id":72088329,"comment_id":127377821,"body_markdown":"@terrorrussia-keeps-killing Thanks a lot for your response. I have posted my code sample here: https://stackoverflow.com/q/72089765/7584240 with this code I am getting the above mentioned error, can you please once have a look and provide some response?","body":"@terrorrussia-keeps-killing Thanks a lot for your response. I have posted my code sample here: <a href=\"https://stackoverflow.com/q/72089765/7584240\">stackoverflow.com/q/72089765/7584240</a> with this code I am getting the above mentioned error, can you please once have a look and provide some response?"}],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651506918,"creation_date":1651505738,"answer_id":72089045,"question_id":72088329,"body_markdown":"You can try like  below in the controller level, (it would be better to manipulate the response by using the Interceptor or Filter)\r\n\r\n\r\n       @GetMapping\r\n\t   public ObjectNode test() throws JsonProcessingException {\r\n\r\n\t\tCustomClass customClass = new CustomClass();\r\n\t\tcustomClass.setAge(30);\r\n\t\tcustomClass.setName(&quot;Batman&quot;);\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tString jsonStr = mapper.writeValueAsString(customClass);\r\n\t\tObjectNode nodes = mapper.readValue(jsonStr, ObjectNode.class);\r\n\t\tnodes.put(&quot;job&quot;, &quot;HR &quot;);\r\n\t\tnodes.put(&quot;company&quot;, &quot;New &quot;);\r\n\r\n\t\treturn nodes;\r\n\t}\r\n\r\n**Response:**\r\n\r\n    {\r\n    name: &quot;Batman&quot;,\r\n    age: 30,\r\n    job: &quot;HR &quot;,\r\n    company: &quot;New &quot;\r\n    }\r\n\r\n**Your new test driver is below,**\r\n   \r\n\r\n     public static void main(String[] args) throws JsonProcessingException {\r\n        \t\tCustomClass customClass = new CustomClass();\r\n        \t\tcustomClass.setAge(30);\r\n        \t\tcustomClass.setName(&quot;Batman&quot;);\r\n        \r\n        \t\tObjectMapper mapper = new ObjectMapper();\r\n        \t\tString jsonStr = mapper.writeValueAsString(customClass);\r\n        \t\tObjectNode nodes = mapper.readValue(jsonStr, ObjectNode.class);\r\n        \t\tnodes.put(&quot;job&quot;, &quot;HR &quot;);\r\n        \t\tnodes.put(&quot;company&quot;, &quot;New &quot;);\r\n        \t\tSystem.out.println(nodes);\r\n        \r\n        \t}\r\n\r\n**Output:** `{&quot;name&quot;:&quot;Batman&quot;,&quot;age&quot;:30,&quot;job&quot;:&quot;HR &quot;,&quot;company&quot;:&quot;New &quot;}`\r\n\r\n\r\n----------\r\n\r\n\r\n**Updated** \r\n\r\n&gt; but I get the error: Type id handling not implemented for type\r\n&gt; package.ClassName (by serializer of type\r\n&gt; package.CustomModule$CustomClassSerializer)\r\n\r\nWrite new object fields &quot;job&quot; and  &quot;company&quot; to your custom class serializer.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tobjectMapper.registerModule(new CustomModule());\r\n    \t\tCustomClass cc = new CustomClass();\r\n    \t\tcc.setAge(30);\r\n    \t\tcc.setName(&quot;Batman&quot;);\r\n    \t\tStringWriter sw = new StringWriter();\r\n    \t\tobjectMapper.writeValue(sw, cc);\r\n    \t\tSystem.out.println(sw.toString());\r\n    \t}\r\n    \r\n    \tpublic static class CustomModule extends SimpleModule {\r\n    \t\tpublic CustomModule() {\r\n    \t\t\taddSerializer(CustomClass.class, new CustomClassSerializer());\r\n    \t\t}\r\n    \r\n    \t\tprivate static class CustomClassSerializer extends JsonSerializer {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n    \t\t\t\t// Validate.isInstanceOf(CustomClass.class, value);\r\n    \t\t\t\tjgen.writeStartObject();\r\n    \t\t\t\tJavaType javaType = provider.constructType(CustomClass.class);\r\n    \t\t\t\tBeanDescription beanDesc = provider.getConfig().introspect(javaType);\r\n    \t\t\t\tJsonSerializer&lt;Object&gt; serializer = BeanSerializerFactory.instance.findBeanSerializer(provider,\r\n    \t\t\t\t\t\tjavaType, beanDesc);\r\n    \t\t\t\t// this is basically your &#39;writeAllFields()&#39;-method:\r\n    \t\t\t\tserializer.unwrappingSerializer(null).serialize(value, jgen, provider);\r\n    \t\t\t\tjgen.writeObjectField(&quot;job&quot;, &quot;HR &quot;);\r\n    \t\t\t\tjgen.writeObjectField(&quot;company&quot;, &quot;New &quot;);\r\n    \t\t\t\tjgen.writeEndObject();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:** `{&quot;name&quot;:&quot;Batman&quot;,&quot;age&quot;:30,&quot;job&quot;:&quot;HR &quot;,&quot;company&quot;:&quot;New &quot;}`","title":"Jackson How to add additional properties during searlization without making changes to default POJO?","body":"<p>You can try like  below in the controller level, (it would be better to manipulate the response by using the Interceptor or Filter)</p>\n<pre><code>   @GetMapping\n   public ObjectNode test() throws JsonProcessingException {\n\n    CustomClass customClass = new CustomClass();\n    customClass.setAge(30);\n    customClass.setName(&quot;Batman&quot;);\n\n    ObjectMapper mapper = new ObjectMapper();\n    String jsonStr = mapper.writeValueAsString(customClass);\n    ObjectNode nodes = mapper.readValue(jsonStr, ObjectNode.class);\n    nodes.put(&quot;job&quot;, &quot;HR &quot;);\n    nodes.put(&quot;company&quot;, &quot;New &quot;);\n\n    return nodes;\n}\n</code></pre>\n<p><strong>Response:</strong></p>\n<pre><code>{\nname: &quot;Batman&quot;,\nage: 30,\njob: &quot;HR &quot;,\ncompany: &quot;New &quot;\n}\n</code></pre>\n<p><strong>Your new test driver is below,</strong></p>\n<pre><code> public static void main(String[] args) throws JsonProcessingException {\n            CustomClass customClass = new CustomClass();\n            customClass.setAge(30);\n            customClass.setName(&quot;Batman&quot;);\n    \n            ObjectMapper mapper = new ObjectMapper();\n            String jsonStr = mapper.writeValueAsString(customClass);\n            ObjectNode nodes = mapper.readValue(jsonStr, ObjectNode.class);\n            nodes.put(&quot;job&quot;, &quot;HR &quot;);\n            nodes.put(&quot;company&quot;, &quot;New &quot;);\n            System.out.println(nodes);\n    \n        }\n</code></pre>\n<p><strong>Output:</strong> <code>{&quot;name&quot;:&quot;Batman&quot;,&quot;age&quot;:30,&quot;job&quot;:&quot;HR &quot;,&quot;company&quot;:&quot;New &quot;}</code></p>\n<hr />\n<p><strong>Updated</strong></p>\n<blockquote>\n<p>but I get the error: Type id handling not implemented for type\npackage.ClassName (by serializer of type\npackage.CustomModule$CustomClassSerializer)</p>\n</blockquote>\n<p>Write new object fields &quot;job&quot; and  &quot;company&quot; to your custom class serializer.</p>\n<pre><code>public class Test {\n    public static void main(String args[]) throws Exception {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new CustomModule());\n        CustomClass cc = new CustomClass();\n        cc.setAge(30);\n        cc.setName(&quot;Batman&quot;);\n        StringWriter sw = new StringWriter();\n        objectMapper.writeValue(sw, cc);\n        System.out.println(sw.toString());\n    }\n\n    public static class CustomModule extends SimpleModule {\n        public CustomModule() {\n            addSerializer(CustomClass.class, new CustomClassSerializer());\n        }\n\n        private static class CustomClassSerializer extends JsonSerializer {\n            @Override\n            public void serialize(Object value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n                // Validate.isInstanceOf(CustomClass.class, value);\n                jgen.writeStartObject();\n                JavaType javaType = provider.constructType(CustomClass.class);\n                BeanDescription beanDesc = provider.getConfig().introspect(javaType);\n                JsonSerializer&lt;Object&gt; serializer = BeanSerializerFactory.instance.findBeanSerializer(provider,\n                        javaType, beanDesc);\n                // this is basically your 'writeAllFields()'-method:\n                serializer.unwrappingSerializer(null).serialize(value, jgen, provider);\n                jgen.writeObjectField(&quot;job&quot;, &quot;HR &quot;);\n                jgen.writeObjectField(&quot;company&quot;, &quot;New &quot;);\n                jgen.writeEndObject();\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong> <code>{&quot;name&quot;:&quot;Batman&quot;,&quot;age&quot;:30,&quot;job&quot;:&quot;HR &quot;,&quot;company&quot;:&quot;New &quot;}</code></p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72089045,"answer_count":1,"score":1,"last_activity_date":1651506918,"creation_date":1651502381,"question_id":72088329,"body_markdown":"I am using `Jackson-ObjectMapper` to create the JSON data according to my POJO. I would like to add some additional properties to my JSON without modifying the POJO. \r\n\r\nSince the POJO has been added as a dependency in my project I cannot modify it but I need some additional fields in JSON. Is there a way to add new key-value pair to JSON without making modifications to Java POJO? I am currently using Jackson 2.13.2 latest version dependencies: `jackson-core, jackson-databind, jackson-annotations, jackson-datatype-jdk8`\r\n\r\nFollowing is the Java code:\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\npublic class Test {\r\n    public static void main(String args[]) throws Exception{\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        CustomClass cc = new CustomClass();\r\n        cc.setName(&quot;Batman&quot;);\r\n        cc.setAge(30);\r\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(cc));\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class CustomClass {\r\n        private String name;\r\n        private int age;\r\n    }\r\n}\r\n```\r\n\r\nThis is providing me with the JSON:\r\n```\r\n{\r\n  &quot;name&quot; : &quot;Batman&quot;,\r\n  &quot;age&quot; : 30\r\n}\r\n```\r\n\r\nI would like to obtain the JSON that looks something like this, but do not want to add new fields job and company to my `CustomClass` POJO.\r\n```\r\n{\r\n  &quot;name&quot; : &quot;Batman&quot;,\r\n  &quot;age&quot; : 30,\r\n  &quot;job&quot; : &quot;HR&quot;,\r\n  &quot;company&quot;: &quot;New&quot;\r\n}\r\n```\r\n\r\nI tried to do something like this: https://www.jdoodle.com/a/z99 but I get the error: `Type id handling not implemented for type package.ClassName (by serializer of type package.CustomModule$CustomClassSerializer)`","title":"Jackson How to add additional properties during searlization without making changes to default POJO?","body":"<p>I am using <code>Jackson-ObjectMapper</code> to create the JSON data according to my POJO. I would like to add some additional properties to my JSON without modifying the POJO.</p>\n<p>Since the POJO has been added as a dependency in my project I cannot modify it but I need some additional fields in JSON. Is there a way to add new key-value pair to JSON without making modifications to Java POJO? I am currently using Jackson 2.13.2 latest version dependencies: <code>jackson-core, jackson-databind, jackson-annotations, jackson-datatype-jdk8</code></p>\n<p>Following is the Java code:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Getter;\nimport lombok.Setter;\n\npublic class Test {\n    public static void main(String args[]) throws Exception{\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        CustomClass cc = new CustomClass();\n        cc.setName(&quot;Batman&quot;);\n        cc.setAge(30);\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(cc));\n    }\n\n    @Getter\n    @Setter\n    public static class CustomClass {\n        private String name;\n        private int age;\n    }\n}\n</code></pre>\n<p>This is providing me with the JSON:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;Batman&quot;,\n  &quot;age&quot; : 30\n}\n</code></pre>\n<p>I would like to obtain the JSON that looks something like this, but do not want to add new fields job and company to my <code>CustomClass</code> POJO.</p>\n<pre><code>{\n  &quot;name&quot; : &quot;Batman&quot;,\n  &quot;age&quot; : 30,\n  &quot;job&quot; : &quot;HR&quot;,\n  &quot;company&quot;: &quot;New&quot;\n}\n</code></pre>\n<p>I tried to do something like this: <a href=\"https://www.jdoodle.com/a/z99\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/a/z99</a> but I get the error: <code>Type id handling not implemented for type package.ClassName (by serializer of type package.CustomModule$CustomClassSerializer)</code></p>\n"},{"tags":["java","spring","spire.doc","spire"],"answers":[{"tags":[],"owner":{"account_id":72546,"reputation":13553,"user_id":209427,"accept_rate":76,"display_name":"Matyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651506792,"creation_date":1651503134,"answer_id":72088471,"question_id":68334963,"body_markdown":"Tested below with `e-iceblue:spire.pdf.free:4.4.1` and `e-iceblue:spire.pdf.free:5.1.0`\r\n\r\nIssues we had\r\n1. `Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.spire.doc.packages...`\r\n1. `com.spire.ms.System.Exception: No &#39;Arial&#39; font found!`\r\n\r\nAlthough we did not figure out what the core reason is we figured it out how to get things working. \r\n\r\nchange | impact \r\n--- | --- \r\nUsed JDK instead of JRE | fixed classloading issues (your issue outlined above did not appear)\r\nUsed debian instead of alpine (as base) | unknown\r\nInstalled msttcorefonts | no missing Arial issue\r\n\r\nKnowing that this is not a lightweCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.spire.doc.packages...\r\n com.spire.ms.System.Exception: No &#39;Arial&#39; font found!ight docker image anymore, but it works we used the following Dockerfile.\r\n\r\n```Dockerfile\r\nFROM openjdk:11-jdk\r\nRUN echo &quot;update packages&quot; &amp;&amp; apt update &amp;&amp; \\\r\n  echo &quot;install ms fonts&quot; &amp;&amp; \\\r\n    sed -i&#39;.bak&#39; &#39;s/$/ contrib/&#39; /etc/apt/sources.list &amp;&amp; \\\r\n    apt update &amp;&amp; \\\r\n    apt install -y ttf-mscorefonts-installer fontconfig &amp;&amp; \\\r\n    fc-cache -f -v\r\n\r\n// add other application files\r\n```\r\n\r\nI hope it helps, good luck\r\n\r\nm","title":"Spire Doc Free 3.9.0 not running in headless server","body":"<p>Tested below with <code>e-iceblue:spire.pdf.free:4.4.1</code> and <code>e-iceblue:spire.pdf.free:5.1.0</code></p>\n<p>Issues we had</p>\n<ol>\n<li><code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.spire.doc.packages...</code></li>\n<li><code>com.spire.ms.System.Exception: No 'Arial' font found!</code></li>\n</ol>\n<p>Although we did not figure out what the core reason is we figured it out how to get things working.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>change</th>\n<th>impact</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Used JDK instead of JRE</td>\n<td>fixed classloading issues (your issue outlined above did not appear)</td>\n</tr>\n<tr>\n<td>Used debian instead of alpine (as base)</td>\n<td>unknown</td>\n</tr>\n<tr>\n<td>Installed msttcorefonts</td>\n<td>no missing Arial issue</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Knowing that this is not a lightweCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.spire.doc.packages...\ncom.spire.ms.System.Exception: No 'Arial' font found!ight docker image anymore, but it works we used the following Dockerfile.</p>\n<pre><code>FROM openjdk:11-jdk\nRUN echo &quot;update packages&quot; &amp;&amp; apt update &amp;&amp; \\\n  echo &quot;install ms fonts&quot; &amp;&amp; \\\n    sed -i'.bak' 's/$/ contrib/' /etc/apt/sources.list &amp;&amp; \\\n    apt update &amp;&amp; \\\n    apt install -y ttf-mscorefonts-installer fontconfig &amp;&amp; \\\n    fc-cache -f -v\n\n// add other application files\n</code></pre>\n<p>I hope it helps, good luck</p>\n<p>m</p>\n"}],"owner":{"account_id":17063568,"reputation":23,"user_id":12346381,"display_name":"deon lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651506792,"creation_date":1625995877,"question_id":68334963,"body_markdown":"    Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.spire.doc.packages.sprDGC\r\n            at com.spire.doc.formatting.CharacterFormat.spr  (Unknown Source)\r\n            at com.spire.doc.formatting.CharacterFormat.spr  (Unknown Source)\r\n            at com.spire.doc.documents.Paragraph.spr  (Unknown Source)\r\n            at com.spire.doc.documents.Paragraph.spr  (Unknown Source)\r\n            at com.spire.doc.documents.Paragraph.applyStyle(Unknown Source)\r\n            at com.spire.doc.documents.Paragraph.&lt;init&gt;(Unknown Source)\r\n            at com.spire.doc.Body.addParagraph(Unknown Source)\r\n            at com.spire.doc.Section.addParagraph(Unknown Source)\r\n            at com.qalara.customerorders.service.impl.ProformaInvoiceDocImpl.lambda$proformaInvoiceDoc$5(ProformaInvoiceDocImpl.java:250)\r\n            at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118)\r\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\r\n            at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1705)\r\n            at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:241)\r\n            at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2267)\r\n            at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:230)\r\n            at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\r\n            at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55)\r\n            at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150)\r\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\r\n            at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73)\r\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\r\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\r\n            at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)\r\n            at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)\r\n            at rx.internal.reactivestreams.SingleAsPublisher$SingleAsPublisherSubscriber.onSuccess(SingleAsPublisher.java:86)\r\n            at rx.internal.operators.OnSubscribeSingle$1.onCompleted(OnSubscribeSingle.java:55)\r\n            at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onCompleted(OnSubscribeDoOnEach.java:70)\r\n            at rx.internal.operators.OnSubscribeMap$MapSubscriber.onCompleted(OnSubscribeMap.java:97)\r\n            at rx.internal.operators.OnSubscribeSwitchIfEmpty$ParentSubscriber.onCompleted(OnSubscribeSwitchIfEmpty.java:82)\r\n            at rx.observers.Subscribers$5.onCompleted(Subscribers.java:225)\r\n            at rx.internal.operators.OnSubscribeMap$MapSubscriber.onCompleted(OnSubscribeMap.java:97)\r\n            at rx.internal.operators.OnSubscribeFilter$FilterSubscriber.onCompleted(OnSubscribeFilter.java:99)\r\n            at rx.observers.Subscribers$5.onCompleted(Subscribers.java:225)\r\n            at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onCompleted(OnSubscribeDoOnEach.java:70)\r\n            at rx.internal.producers.SingleProducer.request(SingleProducer.java:75)\r\n            at rx.internal.producers.ProducerArbiter.setProducer(ProducerArbiter.java:126)\r\n            at rx.internal.operators.OnSubscribeSwitchIfEmpty$ParentSubscriber.setProducer(OnSubscribeSwitchIfEmpty.java:76)\r\n            at rx.Subscriber.setProducer(Subscriber.java:205)\r\n            at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\r\n            at rx.internal.operators.OnSubscribeFilter$FilterSubscriber.setProducer(OnSubscribeFilter.java:104)\r\n            at rx.Subscriber.setProducer(Subscriber.java:205)\r\n            at rx.Subscriber.setProducer(Subscriber.java:205)\r\n            at rx.subjects.AsyncSubject.onCompleted(AsyncSubject.java:103)\r\n            at com.couchbase.client.core.endpoint.AbstractGenericHandler.completeResponse(AbstractGenericHandler.java:508)\r\n            at com.couchbase.client.core.endpoint.AbstractGenericHandler.access$000(AbstractGenericHandler.java:86)\r\n            at com.couchbase.client.core.endpoint.AbstractGenericHandler$1.call(AbstractGenericHandler.java:526)\r\n            at org.springframework.cloud.sleuth.instrument.rxjava.SleuthRxJavaSchedulersHook$TraceAction.call(SleuthRxJavaSchedulersHook.java:149)\r\n            at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\r\n            ... 7 more \r\n\r\n\r\n&gt; Section section = document.addSection();\r\n&gt; \r\n&gt; Paragraph para1 = section.addParagraph();\r\n&gt; \r\n&gt; para1.appendText(&quot;Proforma Invioce&quot;);\r\n\r\nThere error is caused at this line &quot;Paragraph para1 = section.addParagraph();&quot;\r\n\r\nCode is written in spring boot . In local its working fine.\r\n\r\nWhy am I getting this error when I deploy the code to the server ?","title":"Spire Doc Free 3.9.0 not running in headless server","body":"<pre><code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.spire.doc.packages.sprDGC\n        at com.spire.doc.formatting.CharacterFormat.spr  (Unknown Source)\n        at com.spire.doc.formatting.CharacterFormat.spr  (Unknown Source)\n        at com.spire.doc.documents.Paragraph.spr  (Unknown Source)\n        at com.spire.doc.documents.Paragraph.spr  (Unknown Source)\n        at com.spire.doc.documents.Paragraph.applyStyle(Unknown Source)\n        at com.spire.doc.documents.Paragraph.&lt;init&gt;(Unknown Source)\n        at com.spire.doc.Body.addParagraph(Unknown Source)\n        at com.spire.doc.Section.addParagraph(Unknown Source)\n        at com.qalara.customerorders.service.impl.ProformaInvoiceDocImpl.lambda$proformaInvoiceDoc$5(ProformaInvoiceDocImpl.java:250)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118)\n        at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1705)\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:241)\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2267)\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:230)\n        at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:150)\n        at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:73)\n        at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\n        at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:90)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:76)\n        at rx.internal.reactivestreams.SingleAsPublisher$SingleAsPublisherSubscriber.onSuccess(SingleAsPublisher.java:86)\n        at rx.internal.operators.OnSubscribeSingle$1.onCompleted(OnSubscribeSingle.java:55)\n        at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onCompleted(OnSubscribeDoOnEach.java:70)\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onCompleted(OnSubscribeMap.java:97)\n        at rx.internal.operators.OnSubscribeSwitchIfEmpty$ParentSubscriber.onCompleted(OnSubscribeSwitchIfEmpty.java:82)\n        at rx.observers.Subscribers$5.onCompleted(Subscribers.java:225)\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.onCompleted(OnSubscribeMap.java:97)\n        at rx.internal.operators.OnSubscribeFilter$FilterSubscriber.onCompleted(OnSubscribeFilter.java:99)\n        at rx.observers.Subscribers$5.onCompleted(Subscribers.java:225)\n        at rx.internal.operators.OnSubscribeDoOnEach$DoOnEachSubscriber.onCompleted(OnSubscribeDoOnEach.java:70)\n        at rx.internal.producers.SingleProducer.request(SingleProducer.java:75)\n        at rx.internal.producers.ProducerArbiter.setProducer(ProducerArbiter.java:126)\n        at rx.internal.operators.OnSubscribeSwitchIfEmpty$ParentSubscriber.setProducer(OnSubscribeSwitchIfEmpty.java:76)\n        at rx.Subscriber.setProducer(Subscriber.java:205)\n        at rx.internal.operators.OnSubscribeMap$MapSubscriber.setProducer(OnSubscribeMap.java:102)\n        at rx.internal.operators.OnSubscribeFilter$FilterSubscriber.setProducer(OnSubscribeFilter.java:104)\n        at rx.Subscriber.setProducer(Subscriber.java:205)\n        at rx.Subscriber.setProducer(Subscriber.java:205)\n        at rx.subjects.AsyncSubject.onCompleted(AsyncSubject.java:103)\n        at com.couchbase.client.core.endpoint.AbstractGenericHandler.completeResponse(AbstractGenericHandler.java:508)\n        at com.couchbase.client.core.endpoint.AbstractGenericHandler.access$000(AbstractGenericHandler.java:86)\n        at com.couchbase.client.core.endpoint.AbstractGenericHandler$1.call(AbstractGenericHandler.java:526)\n        at org.springframework.cloud.sleuth.instrument.rxjava.SleuthRxJavaSchedulersHook$TraceAction.call(SleuthRxJavaSchedulersHook.java:149)\n        at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\n        ... 7 more \n</code></pre>\n<blockquote>\n<p>Section section = document.addSection();</p>\n<p>Paragraph para1 = section.addParagraph();</p>\n<p>para1.appendText(&quot;Proforma Invioce&quot;);</p>\n</blockquote>\n<p>There error is caused at this line &quot;Paragraph para1 = section.addParagraph();&quot;</p>\n<p>Code is written in spring boot . In local its working fine.</p>\n<p>Why am I getting this error when I deploy the code to the server ?</p>\n"},{"tags":["java","lambda","language-lawyer","javac","method-reference"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1558783274,"post_id":56304315,"comment_id":99219433,"body_markdown":"Which version of javac are you using?","body":"Which version of javac are you using?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":4,"creation_date":1558783328,"post_id":56304315,"comment_id":99219442,"body_markdown":"Version please, it fails to compile for me in both ways. Java-8","body":"Version please, it fails to compile for me in both ways. Java-8"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1558783420,"post_id":56304315,"comment_id":99219464,"body_markdown":"javac 1.8.0_172 and javac 10.0.2. I know Java 10 is not recent, but I have it installed, so..","body":"javac 1.8.0_172 and javac 10.0.2. I know Java 10 is not recent, but I have it installed, so.."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1558783555,"post_id":56304315,"comment_id":99219490,"body_markdown":"Which Java implementation do you use? Where did you get it from, Oracle?","body":"Which Java implementation do you use? Where did you get it from, Oracle?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1558783770,"post_id":56304315,"comment_id":99219528,"body_markdown":"java version &quot;1.8.0_172&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_172-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)","body":"java version &quot;1.8.0_172&quot; Java(TM) SE Runtime Environment (build 1.8.0_172-b11) Java HotSpot(TM) 64-Bit Server VM (build 25.172-b11, mixed mode)"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1558786073,"post_id":56304315,"comment_id":99220015,"body_markdown":"are you compiling this with eclipse by any chance?","body":"are you compiling this with eclipse by any chance?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1558787384,"post_id":56304315,"comment_id":99220282,"body_markdown":"The second code works fine one [ideone](https://ideone.com/k4unBs).","body":"The second code works fine one <a href=\"https://ideone.com/k4unBs\" rel=\"nofollow noreferrer\">ideone</a>."}],"answers":[{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1558811802,"creation_date":1558785304,"answer_id":56304604,"question_id":56304315,"body_markdown":"This is a known [limitation][1] of the compiler&#39;s type inference system, it doesn&#39;t work with chained method invocations like in your first code snippet.\r\n\r\nPossible workarounds? Use an explicitly typed lambda expression:\r\n\r\n    Optional.empty()\r\n            .map((Function&lt;Object, Class&lt;?&gt;&gt;) o -&gt; getStringClass(o))\r\n            .orElse(String.class);\r\n\r\nor an exact method reference (as you&#39;ve already tried):\r\n\r\n    Optional.empty().map(GenericTest::getStringClass).orElse(String.class);\r\n\r\nor add a type witness:\r\n\r\n    Optional.empty().&lt;Class&lt;?&gt;&gt;map(o -&gt; getStringClass(o)).orElse(String.class);\r\n\r\n[Related post][2] with a similar issue.\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8143620\r\n  [2]: https://stackoverflow.com/questions/33016329/cannot-use-java-8-method-with-lambda-arguments-without-specifying-type-arguments","title":"Why does it matter if I use a method reference or a lambda here?","body":"<p>This is a known <a href=\"https://bugs.openjdk.java.net/browse/JDK-8143620\" rel=\"noreferrer\">limitation</a> of the compiler's type inference system, it doesn't work with chained method invocations like in your first code snippet.</p>\n\n<p>Possible workarounds? Use an explicitly typed lambda expression:</p>\n\n<pre><code>Optional.empty()\n        .map((Function&lt;Object, Class&lt;?&gt;&gt;) o -&gt; getStringClass(o))\n        .orElse(String.class);\n</code></pre>\n\n<p>or an exact method reference (as you've already tried):</p>\n\n<pre><code>Optional.empty().map(GenericTest::getStringClass).orElse(String.class);\n</code></pre>\n\n<p>or add a type witness:</p>\n\n<pre><code>Optional.empty().&lt;Class&lt;?&gt;&gt;map(o -&gt; getStringClass(o)).orElse(String.class);\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/33016329/cannot-use-java-8-method-with-lambda-arguments-without-specifying-type-arguments\">Related post</a> with a similar issue.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1558786635,"creation_date":1558786635,"answer_id":56304745,"question_id":56304315,"body_markdown":"Method chaining strikes again. You can read [here][1] of _why_ the designers of this feature found it complicated to implement (it has to do with the fact that lambda&#39;s/method references are _poly expressions_ - their types are context dependent). Such a feature would require some extra burden on the compiler - and while your example would be a fairly trivial example to solve, `javac` has to care about a lot more than triviality; thus this is not yet implemented, even in java-12. \r\n\r\nThe easiest solution IMO, since this has to do with method chaining (and in your case this is possible), is not to chain:\r\n\r\n    Optional&lt;Class&lt;?&gt;&gt; first = Optional.empty().map(o -&gt; getStringClass(o));\r\n    Class&lt;?&gt; second = first.orElse(String.class);\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~dlsmith/jsr335-0.6.1/D.html","title":"Why does it matter if I use a method reference or a lambda here?","body":"<p>Method chaining strikes again. You can read <a href=\"http://cr.openjdk.java.net/~dlsmith/jsr335-0.6.1/D.html\" rel=\"noreferrer\">here</a> of <em>why</em> the designers of this feature found it complicated to implement (it has to do with the fact that lambda's/method references are <em>poly expressions</em> - their types are context dependent). Such a feature would require some extra burden on the compiler - and while your example would be a fairly trivial example to solve, <code>javac</code> has to care about a lot more than triviality; thus this is not yet implemented, even in java-12. </p>\n\n<p>The easiest solution IMO, since this has to do with method chaining (and in your case this is possible), is not to chain:</p>\n\n<pre><code>Optional&lt;Class&lt;?&gt;&gt; first = Optional.empty().map(o -&gt; getStringClass(o));\nClass&lt;?&gt; second = first.orElse(String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21769217,"reputation":130,"user_id":16072563,"display_name":"Equinox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651449693,"creation_date":1651449693,"answer_id":72081249,"question_id":56304315,"body_markdown":"As others have said it&#39;s a limitation with how type infereance works. There is some detail as to why here: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.2\r\n\r\nBasically, when you use the lambda there is no type on the argument you&#39;re passing here:\r\n```java\r\nOptional.empty().map(o -&gt; getStringClass(o)).orElse(String.class);\r\n```\r\nSince there is no type argument (and no ability to provide one) this will be an error. However with method refrences it&#39;s able to infer the type from the method parameters so it will work just fine.\r\n","title":"Why does it matter if I use a method reference or a lambda here?","body":"<p>As others have said it's a limitation with how type infereance works. There is some detail as to why here: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13.2</a></p>\n<p>Basically, when you use the lambda there is no type on the argument you're passing here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.empty().map(o -&gt; getStringClass(o)).orElse(String.class);\n</code></pre>\n<p>Since there is no type argument (and no ability to provide one) this will be an error. However with method refrences it's able to infer the type from the method parameters so it will work just fine.</p>\n"}],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1651506258,"creation_date":1558783139,"question_id":56304315,"body_markdown":"When I try to compile this code\r\n\r\n    import java.util.Optional;\r\n    \r\n    public class GenericTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tOptional.empty().map(o -&gt; getStringClass(o)).orElse(String.class);\r\n    \t}\r\n    \t\r\n    \tstatic Class&lt;?&gt; getStringClass(Object arg) {\r\n    \t\treturn String.class;\r\n    \t}\r\n    \r\n    }\r\n\r\njavac will fail with the following error:\r\n\r\n&lt;pre&gt;GenericTest.java:6: error: method orElse in class Optional&lt;T&gt; cannot be applied to given types;\r\n                Optional.empty().map(o -&gt; getStringClass(o)).orElse(String.class);\r\n                                                            ^\r\n  required: Class&amp;lt;CAP#1&amp;gt;\r\n  found: Class&amp;lt;String&amp;gt;\r\n  reason: argument mismatch; Class&amp;lt;String&amp;gt; cannot be converted to Class&amp;lt;CAP#1&amp;gt;\r\n  where T is a type-variable:\r\n    T extends Object declared in class Optional\r\n  where CAP#1 is a fresh type-variable:\r\n    CAP#1 extends Object from capture of ?\r\n1 error&lt;/pre&gt;\r\n\r\nBut if I use a method reference instead, javac will compile the code just fine:\r\n\r\n    import java.util.Optional;\r\n    \r\n    public class GenericTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tOptional.empty().map(GenericTest::getStringClass).orElse(String.class);\r\n    \t}\r\n    \t\r\n    \tstatic Class&lt;?&gt; getStringClass(Object arg) {\r\n    \t\treturn String.class;\r\n    \t}\r\n    \r\n    }\r\n\r\nWhy does it make a difference if I use a method reference or a lambda expression?\r\n\r\nAccording to my understanding, both the method reference and the lambda have the type `Function&lt;Object,Class&lt;?&gt;&gt;`, so I don&#39;t see the difference here.  \r\nThe eclipse java compiler (ecj) won&#39;t compile both versions by the way.\r\n","title":"Why does it matter if I use a method reference or a lambda here?","body":"<p>When I try to compile this code</p>\n\n<pre><code>import java.util.Optional;\n\npublic class GenericTest {\n\n    public static void main(String[] args) {\n        Optional.empty().map(o -&gt; getStringClass(o)).orElse(String.class);\n    }\n\n    static Class&lt;?&gt; getStringClass(Object arg) {\n        return String.class;\n    }\n\n}\n</code></pre>\n\n<p>javac will fail with the following error:</p>\n\n<pre>GenericTest.java:6: error: method orElse in class Optional cannot be applied to given types;\n                Optional.empty().map(o -> getStringClass(o)).orElse(String.class);\n                                                            ^\n  required: Class&lt;CAP#1&gt;\n  found: Class&lt;String&gt;\n  reason: argument mismatch; Class&lt;String&gt; cannot be converted to Class&lt;CAP#1&gt;\n  where T is a type-variable:\n    T extends Object declared in class Optional\n  where CAP#1 is a fresh type-variable:\n    CAP#1 extends Object from capture of ?\n1 error</pre>\n\n<p>But if I use a method reference instead, javac will compile the code just fine:</p>\n\n<pre><code>import java.util.Optional;\n\npublic class GenericTest {\n\n    public static void main(String[] args) {\n        Optional.empty().map(GenericTest::getStringClass).orElse(String.class);\n    }\n\n    static Class&lt;?&gt; getStringClass(Object arg) {\n        return String.class;\n    }\n\n}\n</code></pre>\n\n<p>Why does it make a difference if I use a method reference or a lambda expression?</p>\n\n<p>According to my understanding, both the method reference and the lambda have the type <code>Function&lt;Object,Class&lt;?&gt;&gt;</code>, so I don't see the difference here.<br>\nThe eclipse java compiler (ecj) won't compile both versions by the way.</p>\n"},{"tags":["java","websphere","openjpa","websphere-9"],"answers":[{"tags":[],"owner":{"account_id":7622201,"reputation":91,"user_id":5779943,"display_name":"Cindy High"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651506176,"creation_date":1651506176,"answer_id":72089123,"question_id":72086233,"body_markdown":"This is a known difference between OpenJPA and EclipseLink that is covered by the WebSphere migration tools. The help for this migration issue includes:\r\n\r\n&quot;OpenJPA and EclipseLink create different tables to generate values for  attributes that have either the @GeneratedValue or the @GeneratedValue(strategy=GenerationType.AUTO) annotation. If your application contains entities with attributes that were generated by OpenJPA, persisting new entities using EclipseLink causes an error because EclipseLink attempts to generate these values from the EclipseLink table.\r\n\r\nThis problem is resolved by configuring the entity to use the OpenJPA sequence table to generate the values of the attribute. By doing so, EclipseLink uses the last value listed in the OpenJPA table to generate the attribute value.&quot;\r\n\r\nThe migration tools can be downloaded from: https://ibm.biz/wamtdownloads.\r\nI encourage you to first use the binary scanner to quickly scan your application archive and see the full rule help and information on any other potential issues. In this case, there is a code quick fix in the Eclipse tools that will assist you in making the code changes to move to EclipseLink.\r\n\r\nThe migration tools can be used for moving between traditional WebSphere versions, from traditional WebSphere to Liberty, between Liberty Java EE levels, and moving between Java SE versions.\r\n\r\nBy the way, you can configure WebSphere v9 to use JPA 2.0 if you prefer:  https://www.ibm.com/docs/en/was/9.0.5?topic=applications-identifying-modifying-jpa-specification-level  ","title":"How to avoid Openjpa set null value in autogenerated field?","body":"<p>This is a known difference between OpenJPA and EclipseLink that is covered by the WebSphere migration tools. The help for this migration issue includes:</p>\n<p>&quot;OpenJPA and EclipseLink create different tables to generate values for  attributes that have either the @GeneratedValue or the @GeneratedValue(strategy=GenerationType.AUTO) annotation. If your application contains entities with attributes that were generated by OpenJPA, persisting new entities using EclipseLink causes an error because EclipseLink attempts to generate these values from the EclipseLink table.</p>\n<p>This problem is resolved by configuring the entity to use the OpenJPA sequence table to generate the values of the attribute. By doing so, EclipseLink uses the last value listed in the OpenJPA table to generate the attribute value.&quot;</p>\n<p>The migration tools can be downloaded from: <a href=\"https://ibm.biz/wamtdownloads\" rel=\"nofollow noreferrer\">https://ibm.biz/wamtdownloads</a>.\nI encourage you to first use the binary scanner to quickly scan your application archive and see the full rule help and information on any other potential issues. In this case, there is a code quick fix in the Eclipse tools that will assist you in making the code changes to move to EclipseLink.</p>\n<p>The migration tools can be used for moving between traditional WebSphere versions, from traditional WebSphere to Liberty, between Liberty Java EE levels, and moving between Java SE versions.</p>\n<p>By the way, you can configure WebSphere v9 to use JPA 2.0 if you prefer:  <a href=\"https://www.ibm.com/docs/en/was/9.0.5?topic=applications-identifying-modifying-jpa-specification-level\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was/9.0.5?topic=applications-identifying-modifying-jpa-specification-level</a></p>\n"}],"owner":{"account_id":12929058,"reputation":505,"user_id":9348676,"display_name":"SumiSujith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651506176,"creation_date":1651492101,"question_id":72086233,"body_markdown":"I am trying to migrate one application from websphere 8 to websphere 9. And the open jpa is updated  from 2.0 to 2.1. \r\nAfter migrating I got error while saving.\r\nThe autogenerated Id field is set to null and throws database exception.\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;TestID&quot;)\r\n    private Long testID\r\n\r\nthe error is given below \r\n\r\n    INSERT NTO TEST(Test_ID,Test_Value)\r\n    values(?,?) [params=(null) null DB2 SQL Error:SQLCODE=-798, SQLSTATE= 428C9\r\n\r\n\r\n","title":"How to avoid Openjpa set null value in autogenerated field?","body":"<p>I am trying to migrate one application from websphere 8 to websphere 9. And the open jpa is updated  from 2.0 to 2.1.\nAfter migrating I got error while saving.\nThe autogenerated Id field is set to null and throws database exception.</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;TestID&quot;)\nprivate Long testID\n</code></pre>\n<p>the error is given below</p>\n<pre><code>INSERT NTO TEST(Test_ID,Test_Value)\nvalues(?,?) [params=(null) null DB2 SQL Error:SQLCODE=-798, SQLSTATE= 428C9\n</code></pre>\n"},{"tags":["java","jsp","variables","declaration"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1651415643,"post_id":72075552,"comment_id":127355027,"body_markdown":"Try using   myC.myV = &quot;b&quot;;","body":"Try using   myC.myV = &quot;b&quot;;"},{"owner":{"account_id":25163028,"reputation":1,"user_id":19006938,"display_name":"user19006938"},"score":0,"creation_date":1651505949,"post_id":72075552,"comment_id":127374881,"body_markdown":"thanks, but actually it&#39;s a typo, i should edit that and i still have the problem.","body":"thanks, but actually it&#39;s a typo, i should edit that and i still have the problem."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1651506221,"post_id":72075552,"comment_id":127375000,"body_markdown":"Your code worked for me.  How did you test? I used &lt;%=myC.myV%&gt;","body":"Your code worked for me.  How did you test? I used &lt;%=myC.myV%&gt;"}],"owner":{"account_id":25163028,"reputation":1,"user_id":19006938,"display_name":"user19006938"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651505975,"creation_date":1651397606,"question_id":72075552,"body_markdown":"Is that possible to change a variable&#39;s value from declaration jsp in scriptlet?\r\nfor example my code here doesn&#39;t change myV to b. Thanks.\r\n\r\n    &lt;%!\r\n    public static class myC{\r\n    public static String myV=&quot;a&quot;;\r\n    }\r\n    %&gt;\r\n    &lt;%\r\n    myC.myV=&quot;b&quot;;\r\n    %&gt;\r\n\r\n","title":"change values of declaration variables in jsp scriptlet","body":"<p>Is that possible to change a variable's value from declaration jsp in scriptlet?\nfor example my code here doesn't change myV to b. Thanks.</p>\n<pre><code>&lt;%!\npublic static class myC{\npublic static String myV=&quot;a&quot;;\n}\n%&gt;\n&lt;%\nmyC.myV=&quot;b&quot;;\n%&gt;\n</code></pre>\n"},{"tags":["java","jsonpath"],"comments":[{"owner":{"account_id":309588,"reputation":1743,"user_id":622121,"accept_rate":100,"display_name":"Kenji Noguchi"},"score":1,"creation_date":1491015172,"post_id":43125927,"comment_id":73381204,"body_markdown":"Looks like I have to wrap the resulting object in another JsonPath , and apply the length().  JsonPath appears to be pretty weak","body":"Looks like I have to wrap the resulting object in another JsonPath , and apply the length().  JsonPath appears to be pretty weak"},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":2,"creation_date":1491055524,"post_id":43125927,"comment_id":73390764,"body_markdown":"This is a weird thing that always seemed as a result of wrong design concept to me. Quite annoying.","body":"This is a weird thing that always seemed as a result of wrong design concept to me. Quite annoying."},{"owner":{"account_id":309588,"reputation":1743,"user_id":622121,"accept_rate":100,"display_name":"Kenji Noguchi"},"score":0,"creation_date":1491098346,"post_id":43125927,"comment_id":73402386,"body_markdown":"Indeed the API seems to have some design flaw.  I started looking into [jq for Java](https://github.com/bskaggs/jjq).  It&#39;s a JNA wrapper for libjq.  If I can make it work with Jackson JSON object, I will switch to jjq","body":"Indeed the API seems to have some design flaw.  I started looking into <a href=\"https://github.com/bskaggs/jjq\" rel=\"nofollow noreferrer\">jq for Java</a>.  It&#39;s a JNA wrapper for libjq.  If I can make it work with Jackson JSON object, I will switch to jjq"},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":0,"creation_date":1491112237,"post_id":43125927,"comment_id":73404609,"body_markdown":"What if you just filter the nodes and evaluate the expression to `JSONArray` so that just take it length? It does not seem to be very declarative, but it does not require &quot;heavy weapons&quot; like what JNA is.","body":"What if you just filter the nodes and evaluate the expression to <code>JSONArray</code> so that just take it length? It does not seem to be very declarative, but it does not require &quot;heavy weapons&quot; like what JNA is."},{"owner":{"account_id":309588,"reputation":1743,"user_id":622121,"accept_rate":100,"display_name":"Kenji Noguchi"},"score":0,"creation_date":1587847593,"post_id":43125927,"comment_id":108672442,"body_markdown":"I ditched the JsonPath.  I&#39;ve been using [jackson-jq](https://github.com/eiiches/jackson-jq).  It&#39;s mostly compatible with jq.  `jjq` is still a viable option if you need the genuine jq.","body":"I ditched the JsonPath.  I&#39;ve been using <a href=\"https://github.com/eiiches/jackson-jq\" rel=\"nofollow noreferrer\">jackson-jq</a>.  It&#39;s mostly compatible with jq.  <code>jjq</code> is still a viable option if you need the genuine jq."}],"answers":[{"tags":[],"owner":{"account_id":4526826,"reputation":4997,"user_id":3678363,"display_name":"Reyan Chougle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651505354,"creation_date":1651505354,"answer_id":72088966,"question_id":43125927,"body_markdown":"Very late for the answer but I came across this scenario recently and managed to get the number of object inside the array using below JsonPath query as per the JSON provided in question:\r\n\r\n    $.length($.store.book[?(@.category == &quot;fiction&quot;)].length())","title":"How to count JSON Objects in array filtered by attribute of the object by JSONPath","body":"<p>Very late for the answer but I came across this scenario recently and managed to get the number of object inside the array using below JsonPath query as per the JSON provided in question:</p>\n<pre><code>$.length($.store.book[?(@.category == &quot;fiction&quot;)].length())\n</code></pre>\n"}],"owner":{"account_id":309588,"reputation":1743,"user_id":622121,"accept_rate":100,"display_name":"Kenji Noguchi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2743,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72088966,"answer_count":1,"score":4,"last_activity_date":1651505354,"creation_date":1490899181,"question_id":43125927,"body_markdown":"I&#39;m writing a JSONPath expression that counts objects in an array while filtering by one of the field of the object.\r\n\r\nInput JSON taken from http://jsonpath.herokuapp.com/\r\n\r\n    {\r\n        &quot;store&quot;: {\r\n            &quot;book&quot;: [\r\n                {\r\n                    &quot;category&quot;: &quot;reference&quot;,\r\n                    &quot;author&quot;: &quot;Nigel Rees&quot;,\r\n                    &quot;title&quot;: &quot;Sayings of the Century&quot;,\r\n                    &quot;price&quot;: 8.95\r\n                },\r\n                {\r\n                    &quot;category&quot;: &quot;fiction&quot;,\r\n                    &quot;author&quot;: &quot;Evelyn Waugh&quot;,\r\n                    &quot;title&quot;: &quot;Sword of Honour&quot;,\r\n                    &quot;price&quot;: 12.99\r\n                },\r\n                {\r\n                    &quot;category&quot;: &quot;fiction&quot;,\r\n                    &quot;author&quot;: &quot;Herman Melville&quot;,\r\n                    &quot;title&quot;: &quot;Moby Dick&quot;,\r\n                    &quot;isbn&quot;: &quot;0-553-21311-3&quot;,\r\n                    &quot;price&quot;: 8.99\r\n                },\r\n                {\r\n                    &quot;category&quot;: &quot;fiction&quot;,\r\n                    &quot;author&quot;: &quot;J. R. R. Tolkien&quot;,\r\n                    &quot;title&quot;: &quot;The Lord of the Rings&quot;,\r\n                    &quot;isbn&quot;: &quot;0-395-19395-8&quot;,\r\n                    &quot;price&quot;: 22.99\r\n                }\r\n            ],\r\n            &quot;bicycle&quot;: {\r\n                &quot;color&quot;: &quot;red&quot;,\r\n                &quot;price&quot;: 19.95\r\n            }\r\n        },\r\n        &quot;expensive&quot;: 10\r\n    }\r\n            \r\n\r\nAnd my expression that extracts object where &quot;category&quot; is &quot;fiction&quot;.\r\n\r\n    $.store.book[?(@.category == &quot;fiction&quot;)]\r\n\r\nThe output is as expected.\r\n\r\n    [\r\n       {\r\n          &quot;category&quot; : &quot;fiction&quot;,\r\n          &quot;author&quot; : &quot;Evelyn Waugh&quot;,\r\n          &quot;title&quot; : &quot;Sword of Honour&quot;,\r\n          &quot;price&quot; : 12.99\r\n       },\r\n       {\r\n          &quot;category&quot; : &quot;fiction&quot;,\r\n          &quot;author&quot; : &quot;Herman Melville&quot;,\r\n          &quot;title&quot; : &quot;Moby Dick&quot;,\r\n          &quot;isbn&quot; : &quot;0-553-21311-3&quot;,\r\n          &quot;price&quot; : 8.99\r\n       },\r\n       {\r\n          &quot;category&quot; : &quot;fiction&quot;,\r\n          &quot;author&quot; : &quot;J. R. R. Tolkien&quot;,\r\n          &quot;title&quot; : &quot;The Lord of the Rings&quot;,\r\n          &quot;isbn&quot; : &quot;0-395-19395-8&quot;,\r\n          &quot;price&quot; : 22.99\r\n       }\r\n    ]\r\n\r\nSo far so good.  What I would like to achieve is to count the number of objects in the array.  In this case 3.  I tried this expression:\r\n\r\n    $.store.book[?(@.category == &quot;fiction&quot;)].length()\r\n\r\nThe output is not what I expected.\r\n\r\n    [\r\n       4,\r\n       5,\r\n       5\r\n    ]\r\n\r\nThe below didn&#39;t work either\r\n\r\n    $.store[?(@.book[*].category == &quot;fiction&quot;)].length()\r\n\r\nHow do I count the number of elements in the array?   If I use `jq` it could be written as\r\n\r\n    [.store.book[] | select (.category == &quot;fiction&quot;)] | length\r\n\r\n\r\n","title":"How to count JSON Objects in array filtered by attribute of the object by JSONPath","body":"<p>I'm writing a JSONPath expression that counts objects in an array while filtering by one of the field of the object.</p>\n\n<p>Input JSON taken from <a href=\"http://jsonpath.herokuapp.com/\" rel=\"nofollow noreferrer\">http://jsonpath.herokuapp.com/</a></p>\n\n<pre><code>{\n    \"store\": {\n        \"book\": [\n            {\n                \"category\": \"reference\",\n                \"author\": \"Nigel Rees\",\n                \"title\": \"Sayings of the Century\",\n                \"price\": 8.95\n            },\n            {\n                \"category\": \"fiction\",\n                \"author\": \"Evelyn Waugh\",\n                \"title\": \"Sword of Honour\",\n                \"price\": 12.99\n            },\n            {\n                \"category\": \"fiction\",\n                \"author\": \"Herman Melville\",\n                \"title\": \"Moby Dick\",\n                \"isbn\": \"0-553-21311-3\",\n                \"price\": 8.99\n            },\n            {\n                \"category\": \"fiction\",\n                \"author\": \"J. R. R. Tolkien\",\n                \"title\": \"The Lord of the Rings\",\n                \"isbn\": \"0-395-19395-8\",\n                \"price\": 22.99\n            }\n        ],\n        \"bicycle\": {\n            \"color\": \"red\",\n            \"price\": 19.95\n        }\n    },\n    \"expensive\": 10\n}\n</code></pre>\n\n<p>And my expression that extracts object where \"category\" is \"fiction\".</p>\n\n<pre><code>$.store.book[?(@.category == \"fiction\")]\n</code></pre>\n\n<p>The output is as expected.</p>\n\n<pre><code>[\n   {\n      \"category\" : \"fiction\",\n      \"author\" : \"Evelyn Waugh\",\n      \"title\" : \"Sword of Honour\",\n      \"price\" : 12.99\n   },\n   {\n      \"category\" : \"fiction\",\n      \"author\" : \"Herman Melville\",\n      \"title\" : \"Moby Dick\",\n      \"isbn\" : \"0-553-21311-3\",\n      \"price\" : 8.99\n   },\n   {\n      \"category\" : \"fiction\",\n      \"author\" : \"J. R. R. Tolkien\",\n      \"title\" : \"The Lord of the Rings\",\n      \"isbn\" : \"0-395-19395-8\",\n      \"price\" : 22.99\n   }\n]\n</code></pre>\n\n<p>So far so good.  What I would like to achieve is to count the number of objects in the array.  In this case 3.  I tried this expression:</p>\n\n<pre><code>$.store.book[?(@.category == \"fiction\")].length()\n</code></pre>\n\n<p>The output is not what I expected.</p>\n\n<pre><code>[\n   4,\n   5,\n   5\n]\n</code></pre>\n\n<p>The below didn't work either</p>\n\n<pre><code>$.store[?(@.book[*].category == \"fiction\")].length()\n</code></pre>\n\n<p>How do I count the number of elements in the array?   If I use <code>jq</code> it could be written as</p>\n\n<pre><code>[.store.book[] | select (.category == \"fiction\")] | length\n</code></pre>\n"},{"tags":["java","nullpointerexception","jvm"],"comments":[{"owner":{"account_id":23490171,"reputation":1,"user_id":17541296,"display_name":"Timo Heinrich"},"score":1,"creation_date":1651506660,"post_id":72088895,"comment_id":127375149,"body_markdown":"https://stackoverflow.com/a/9455073/17541296 The Answer to your question is described really well here.","body":"<a href=\"https://stackoverflow.com/a/9455073/17541296\">stackoverflow.com/a/9455073/17541296</a> The Answer to your question is described really well here."},{"owner":{"account_id":25174082,"reputation":11,"user_id":19016541,"display_name":"Jeriy"},"score":0,"creation_date":1651507108,"post_id":72088895,"comment_id":127375329,"body_markdown":"Thanks @TimoHeinrich, it was helpful and explanation was well clear. May I know how to mark down this question as closed? Sorry, I&#39;m new to stackoverflow.","body":"Thanks @TimoHeinrich, it was helpful and explanation was well clear. May I know how to mark down this question as closed? Sorry, I&#39;m new to stackoverflow."}],"answers":[{"tags":[],"owner":{"account_id":15675369,"reputation":45,"user_id":11310742,"display_name":"saltycoder815"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651505344,"creation_date":1651505344,"answer_id":72088962,"question_id":72088895,"body_markdown":"System.out is the default outputstream which is normally the terminal. If it is declared as you have written, then the init is done by the JVM","title":"Why &quot;out&quot; static field in System.out.println() doesn&#39;t throw null exception even though it is assigned null as final value in declaration?","body":"<p>System.out is the default outputstream which is normally the terminal. If it is declared as you have written, then the init is done by the JVM</p>\n"}],"owner":{"account_id":25174082,"reputation":11,"user_id":19016541,"display_name":"Jeriy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1651516382,"answer_count":1,"score":1,"last_activity_date":1651505344,"creation_date":1651505107,"question_id":72088895,"body_markdown":"I&#39;m confused with the &#39;out&#39; static field inside &#39;System&#39; class, not throwing any nullpointer exception, even though it is assigned &#39;null&#39; as final value in its declaration.\r\n\r\nThe statement is - &quot;System.out.println();&quot; - to understand this entire statement&#39;s implementation, I traced back to its implementation, using Eclipse IDE by pressing ctrl on the statement and clicking &#39;Open Declaration&#39; option. \r\n\r\nThis how the &#39;out&#39; static field is declared inside &#39;System&#39; class.\r\n\r\n    public static final PrintStream out = null;\r\n\r\nTo check with this kind of implementation, I tried a very basic code, and the IDE did throw a NullPointerException.\r\n\r\nThe code I have tried is below\r\n\r\n        public class examplo1 {\r\n\tpublic static final TryingAnother sameTry = null;\r\n\tpublic static void main(String[] args) {\r\n\t\tsameTry.addO();\r\n\t\tSystem.out.println();\r\n\t}}\r\n\r\nTryingAnother class code below\r\n\r\n        public class TryingAnother {\r\n\tint a = 25;\r\n\t\r\n\tpublic void addO()\r\n\t{\r\n\t\ta = a + 25;\r\n\t\tSystem.out.println(a);\r\n\t}}\r\n\r\nThanks in advance for the answers!","title":"Why &quot;out&quot; static field in System.out.println() doesn&#39;t throw null exception even though it is assigned null as final value in declaration?","body":"<p>I'm confused with the 'out' static field inside 'System' class, not throwing any nullpointer exception, even though it is assigned 'null' as final value in its declaration.</p>\n<p>The statement is - &quot;System.out.println();&quot; - to understand this entire statement's implementation, I traced back to its implementation, using Eclipse IDE by pressing ctrl on the statement and clicking 'Open Declaration' option.</p>\n<p>This how the 'out' static field is declared inside 'System' class.</p>\n<pre><code>public static final PrintStream out = null;\n</code></pre>\n<p>To check with this kind of implementation, I tried a very basic code, and the IDE did throw a NullPointerException.</p>\n<p>The code I have tried is below</p>\n<pre><code>    public class examplo1 {\npublic static final TryingAnother sameTry = null;\npublic static void main(String[] args) {\n    sameTry.addO();\n    System.out.println();\n}}\n</code></pre>\n<p>TryingAnother class code below</p>\n<pre><code>    public class TryingAnother {\nint a = 25;\n\npublic void addO()\n{\n    a = a + 25;\n    System.out.println(a);\n}}\n</code></pre>\n<p>Thanks in advance for the answers!</p>\n"},{"tags":["java","cross-platform","jna"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1467213985,"post_id":38103714,"comment_id":63641568,"body_markdown":"see [http://stackoverflow.com/questions/54686](http://stackoverflow.com/questions/54686/how-to-get-a-list-of-current-open-windows-process-with-java)","body":"see <a href=\"http://stackoverflow.com/questions/54686/how-to-get-a-list-of-current-open-windows-process-with-java\">http://stackoverflow.com/questions/54686</a>"},{"owner":{"account_id":1121835,"reputation":133,"user_id":1110016,"accept_rate":11,"display_name":"SylvainR"},"score":0,"creation_date":1467214338,"post_id":38103714,"comment_id":63641830,"body_markdown":"I have already parsed this article, and the use of JNA is mentionned only in the case of Windows environment. Does it mean there is no mean - with JNA - to do what i want in a cross-platform way ? And worst : does it mean there is no way to do it at all this on UX platforms ?","body":"I have already parsed this article, and the use of JNA is mentionned only in the case of Windows environment. Does it mean there is no mean - with JNA - to do what i want in a cross-platform way ? And worst : does it mean there is no way to do it at all this on UX platforms ?"},{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1467222878,"post_id":38103714,"comment_id":63647265,"body_markdown":"Process control and monitoring is unique to any given platform, so you&#39;ll have to write platform-specific code to do so (at least with JNA).  You may be able to find a library that _uses_ JNA to present a _somewhat_ common API for process control, but the specifics of process control vary widely by platform.","body":"Process control and monitoring is unique to any given platform, so you&#39;ll have to write platform-specific code to do so (at least with JNA).  You may be able to find a library that <i>uses</i> JNA to present a <i>somewhat</i> common API for process control, but the specifics of process control vary widely by platform."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651505272,"creation_date":1467265080,"answer_id":38114727,"question_id":38103714,"body_markdown":"The other [post linked in the comments][1] lists the command line `ps` (for *nix) and `taskinfo` (for Windows) as the easiest approach. It doesn&#39;t use JNA but it gets you the answer reasonably reliably with little fuss.\r\n\r\nI am the lead developer of the [OSHI project][2] which does exactly what you ask for Windows and macOS using JNA, and Linux using plain Java (one JNA function to follow a dynamic link), and four Unix flavors (AIX, Solaris, FreeBSD and OpenBSD) using the procfs.  Source code is on that site for you to peruse at your leisure, or you can simply use that project as a dependency; you can find the `getProcesses()` methods in the platform-specific implementations of the `OperatingSystem` interface.\r\n\r\nThe short answer is that while you can use JNA it&#39;s not mandatory.  In OSHI I use JNA&#39;s [Platform][3] class to determine which system you&#39;re running on (although even that is simply parsing the results of `System.getProperty(&quot;os.name&quot;)`) and based on which platform you are on, you branch off into platform-specific code.\r\n\r\nFor Linux, you simply read the `/proc` directory; every numeric file in that directory represents a process and has stats in the directory tree.  This doesn&#39;t use JNA, but fit&#39;s much faster than trying to parse the C source code of the `ps` command which essentially leads to the same underlying information.\r\n\r\nFor Unix, parsing `ps` is an option.  The `-o` flag lets you specify the fields you want to include.\r\n\r\nFor Windows you can use the Windows [Process and Thread Functions][4] (most of which are implemented in JNA already) or using the [PSAPI functions][5] via JNA [as shown here][6], but the information returned is limited and requires a lot of jumping through hoops to get at details, some of which require elevated permissions.  It&#39;s possible to query WMI via a COM interface in JNA to get all the info in one query.  OSHI uses the registry to get most information from the same location WMI eventually would call.\r\n\r\nFor macOS X you use the `proc_listpids()` function to get the process IDs and feed that to `proc_pidinfo()`.  These are in the System framework so JNA is used to implement the C calls in Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54686/how-to-get-a-list-of-current-open-windows-process-with-java?lq=1\r\n  [2]: https://github.com/oshi/oshi\r\n  [3]: https://github.com/java-native-access/jna/blob/master/src/com/sun/jna/Platform.java\r\n  [4]: https://msdn.microsoft.com/en-us/library/ms684320(v=VS.85).aspx\r\n  [5]: https://msdn.microsoft.com/en-us/library/windows/desktop/ms684894(v=vs.85).aspx\r\n  [6]: https://stackoverflow.com/questions/16667557/get-running-processes-using-jna?rq=1","title":"Howto get list of running processes in Java using JNA in a cross-platform environment?","body":"<p>The other <a href=\"https://stackoverflow.com/questions/54686/how-to-get-a-list-of-current-open-windows-process-with-java?lq=1\">post linked in the comments</a> lists the command line <code>ps</code> (for *nix) and <code>taskinfo</code> (for Windows) as the easiest approach. It doesn't use JNA but it gets you the answer reasonably reliably with little fuss.</p>\n<p>I am the lead developer of the <a href=\"https://github.com/oshi/oshi\" rel=\"nofollow noreferrer\">OSHI project</a> which does exactly what you ask for Windows and macOS using JNA, and Linux using plain Java (one JNA function to follow a dynamic link), and four Unix flavors (AIX, Solaris, FreeBSD and OpenBSD) using the procfs.  Source code is on that site for you to peruse at your leisure, or you can simply use that project as a dependency; you can find the <code>getProcesses()</code> methods in the platform-specific implementations of the <code>OperatingSystem</code> interface.</p>\n<p>The short answer is that while you can use JNA it's not mandatory.  In OSHI I use JNA's <a href=\"https://github.com/java-native-access/jna/blob/master/src/com/sun/jna/Platform.java\" rel=\"nofollow noreferrer\">Platform</a> class to determine which system you're running on (although even that is simply parsing the results of <code>System.getProperty(&quot;os.name&quot;)</code>) and based on which platform you are on, you branch off into platform-specific code.</p>\n<p>For Linux, you simply read the <code>/proc</code> directory; every numeric file in that directory represents a process and has stats in the directory tree.  This doesn't use JNA, but fit's much faster than trying to parse the C source code of the <code>ps</code> command which essentially leads to the same underlying information.</p>\n<p>For Unix, parsing <code>ps</code> is an option.  The <code>-o</code> flag lets you specify the fields you want to include.</p>\n<p>For Windows you can use the Windows <a href=\"https://msdn.microsoft.com/en-us/library/ms684320(v=VS.85).aspx\" rel=\"nofollow noreferrer\">Process and Thread Functions</a> (most of which are implemented in JNA already) or using the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms684894(v=vs.85).aspx\" rel=\"nofollow noreferrer\">PSAPI functions</a> via JNA <a href=\"https://stackoverflow.com/questions/16667557/get-running-processes-using-jna?rq=1\">as shown here</a>, but the information returned is limited and requires a lot of jumping through hoops to get at details, some of which require elevated permissions.  It's possible to query WMI via a COM interface in JNA to get all the info in one query.  OSHI uses the registry to get most information from the same location WMI eventually would call.</p>\n<p>For macOS X you use the <code>proc_listpids()</code> function to get the process IDs and feed that to <code>proc_pidinfo()</code>.  These are in the System framework so JNA is used to implement the C calls in Java.</p>\n"}],"owner":{"account_id":1121835,"reputation":133,"user_id":1110016,"accept_rate":11,"display_name":"SylvainR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1799,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651505272,"creation_date":1467213391,"question_id":38103714,"body_markdown":"I need to monitor servers in *a cross-platform environment* : Windows, Unix (Aix, Solaris) and Linux. It means : get processes, find some files, ...\r\n\r\nSo i am focusing on **JNA (Java Native Access)** in order to deal with this. With the hope of being able to have one code to &quot;rule them all&quot;.\r\n\r\n*Please, note that i am not a C developer.*\r\n\r\nSo i don&#39;t know &quot;C standard Library&quot; or POSIX library for instance.\r\n\r\n*My questions* :\r\n\r\nhow could i discover list of running processes in a cross-platform way ? Is JNA likely to do this ? Which function(s) to invoke, from which library (if not C standard library) ?\r\n\r\nThanks a lot for your advises and feedback.\r\n","title":"Howto get list of running processes in Java using JNA in a cross-platform environment?","body":"<p>I need to monitor servers in <em>a cross-platform environment</em> : Windows, Unix (Aix, Solaris) and Linux. It means : get processes, find some files, ...</p>\n\n<p>So i am focusing on <strong>JNA (Java Native Access)</strong> in order to deal with this. With the hope of being able to have one code to \"rule them all\".</p>\n\n<p><em>Please, note that i am not a C developer.</em></p>\n\n<p>So i don't know \"C standard Library\" or POSIX library for instance.</p>\n\n<p><em>My questions</em> :</p>\n\n<p>how could i discover list of running processes in a cross-platform way ? Is JNA likely to do this ? Which function(s) to invoke, from which library (if not C standard library) ?</p>\n\n<p>Thanks a lot for your advises and feedback.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1651502827,"post_id":72088361,"comment_id":127373629,"body_markdown":"Do you run into any problems or are you just asking for a review?","body":"Do you run into any problems or are you just asking for a review?"},{"owner":{"account_id":13533859,"reputation":117,"user_id":10192738,"display_name":"Kaido"},"score":0,"creation_date":1651503064,"post_id":72088361,"comment_id":127373724,"body_markdown":"@Thomas i edited my question, it&#39;s not working as i wish. Thank You.","body":"@Thomas i edited my question, it&#39;s not working as i wish. Thank You."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1651503142,"post_id":72088361,"comment_id":127373752,"body_markdown":"I&#39;m not that a big expert on `Scanner` since I don&#39;t really use it but I&#39;d just use `nextLine()` to get the input and then use `String.matches()` to check the input against a regex. Something like `String userInput; while(true) { userInput = sc.nextLine(); if( userInput.matches(regex) { break; } else {/*print message*/}`","body":"I&#39;m not that a big expert on <code>Scanner</code> since I don&#39;t really use it but I&#39;d just use <code>nextLine()</code> to get the input and then use <code>String.matches()</code> to check the input against a regex. Something like <code>String userInput; while(true) { userInput = sc.nextLine(); if( userInput.matches(regex) { break; } else {&#47;*print message*&#47;}</code>"},{"owner":{"account_id":13533859,"reputation":117,"user_id":10192738,"display_name":"Kaido"},"score":0,"creation_date":1651503242,"post_id":72088361,"comment_id":127373795,"body_markdown":"@Thomas in that case what regex would you use? :)","body":"@Thomas in that case what regex would you use? :)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1651503287,"post_id":72088361,"comment_id":127373813,"body_markdown":"The regex would still be the same as the rules wouldn&#39;t change, would they? :)","body":"The regex would still be the same as the rules wouldn&#39;t change, would they? :)"}],"answers":[{"tags":[],"owner":{"account_id":24286318,"reputation":673,"user_id":18232031,"display_name":"Arslan Sohail Bano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651504729,"creation_date":1651503802,"answer_id":72088607,"question_id":72088361,"body_markdown":"Whitespace is the issue here, by default `Scanner` is splitting on whitespace which returns 2 values instead of one, change the default delimiter using `sc.useDelimiter(&quot;\\n&quot;);` and it should work.\r\n\r\nHere is the full code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n\tsc.useDelimiter(&quot;\\\\n&quot;);\r\n\tSystem.out.println(&quot;Enter Coordinates: &quot;);\r\n\t\twhile (!sc.hasNext(&quot;[1-3]\\\\s[1-3]&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Please enter right coordinates!&quot;);\r\n\t\t\tsc.next();\r\n\t\t}\r\n\tString userInput = sc.nextLine();\r\n\tString[] stringCords = userInput.split(&quot; &quot;, 2); \r\n  }\r\n}\r\n```","title":"Regex to validate two digits with a space in between","body":"<p>Whitespace is the issue here, by default <code>Scanner</code> is splitting on whitespace which returns 2 values instead of one, change the default delimiter using <code>sc.useDelimiter(&quot;\\n&quot;);</code> and it should work.</p>\n<p>Here is the full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass Main {\n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    sc.useDelimiter(&quot;\\\\n&quot;);\n    System.out.println(&quot;Enter Coordinates: &quot;);\n        while (!sc.hasNext(&quot;[1-3]\\\\s[1-3]&quot;)) {\n            System.out.println(&quot;Please enter right coordinates!&quot;);\n            sc.next();\n        }\n    String userInput = sc.nextLine();\n    String[] stringCords = userInput.split(&quot; &quot;, 2); \n  }\n}\n</code></pre>\n"}],"owner":{"account_id":13533859,"reputation":117,"user_id":10192738,"display_name":"Kaido"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72088607,"answer_count":1,"score":0,"last_activity_date":1651504759,"creation_date":1651502545,"question_id":72088361,"body_markdown":"I want to validate the user input which should consist of two digits between 1 and 3 separated by a space. So far, the example `2 2` is matched.\r\n\r\nIs my regex or the use I&#39;m doing of it with `!sc.hasNext()` wrong to begin with?\r\n\r\n```\r\nScanner sc = new Scanner(System.in);\r\nSystem.out.println(&quot;Enter Coordinates: &quot;);\r\n  while (!sc.hasNext(&quot;[1-3]\\\\s[1-3]&quot;)) {\r\n      System.out.println(&quot;Please enter right coordinates!&quot;);\r\n      sc.next();\r\n  }\r\nString userInput = sc.nextLine();\r\nString[] stringCords = userInput.split(&quot; &quot;, 2);\r\nfor (int i = 0; i &lt; stringCords.length; i++) {\r\n     System.out.print(&quot;[&quot; + stringCords[i] + &quot;]&quot; + &quot; &quot;);\r\n}\r\nint ycord = Integer.parseInt(stringCords[0]);\r\nint xcord = Integer.parseInt(stringCords[1]);\r\n```\r\n\r\nFor example, if I enter `1 1` I get this. Instead, I would like to validate it as correct and go on without being stuck in the loop.\r\n\r\n```\r\n1 1\r\nPlease enter right coordinates!\r\nPlease enter right coordinates!\r\n```","title":"Regex to validate two digits with a space in between","body":"<p>I want to validate the user input which should consist of two digits between 1 and 3 separated by a space. So far, the example <code>2 2</code> is matched.</p>\n<p>Is my regex or the use I'm doing of it with <code>!sc.hasNext()</code> wrong to begin with?</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(&quot;Enter Coordinates: &quot;);\n  while (!sc.hasNext(&quot;[1-3]\\\\s[1-3]&quot;)) {\n      System.out.println(&quot;Please enter right coordinates!&quot;);\n      sc.next();\n  }\nString userInput = sc.nextLine();\nString[] stringCords = userInput.split(&quot; &quot;, 2);\nfor (int i = 0; i &lt; stringCords.length; i++) {\n     System.out.print(&quot;[&quot; + stringCords[i] + &quot;]&quot; + &quot; &quot;);\n}\nint ycord = Integer.parseInt(stringCords[0]);\nint xcord = Integer.parseInt(stringCords[1]);\n</code></pre>\n<p>For example, if I enter <code>1 1</code> I get this. Instead, I would like to validate it as correct and go on without being stuck in the loop.</p>\n<pre><code>1 1\nPlease enter right coordinates!\nPlease enter right coordinates!\n</code></pre>\n"},{"tags":["java","linux","bash","shell","command-line"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1651501149,"post_id":72088002,"comment_id":127373016,"body_markdown":"I&#39;d suggest that you put a breakpoint in `exec(String command, String[] envp, File dir)` and see what the tokenizer is doing to your string.","body":"I&#39;d suggest that you put a breakpoint in <code>exec(String command, String[] envp, File dir)</code> and see what the tokenizer is doing to your string."},{"owner":{"account_id":14234283,"reputation":145,"user_id":10282530,"display_name":"catmandx"},"score":0,"creation_date":1651501624,"post_id":72088002,"comment_id":127373217,"body_markdown":"I will do some debug later, right now I haven&#39;t set up a debug environment yet. @tgdavies","body":"I will do some debug later, right now I haven&#39;t set up a debug environment yet. @tgdavies"},{"owner":{"account_id":14234283,"reputation":145,"user_id":10282530,"display_name":"catmandx"},"score":0,"creation_date":1651501723,"post_id":72088002,"comment_id":127373253,"body_markdown":"@user16320675 If I do that, then &quot;bash -c &#39;ls &gt; abc&#39;&quot; will be broken into several args in the main args parameter. I have to use quote so that ```String cmd = args[0];``` have the value of &quot;String cmd = args[0];&quot; (without the quotes)","body":"@user16320675 If I do that, then &quot;bash -c &#39;ls &gt; abc&#39;&quot; will be broken into several args in the main args parameter. I have to use quote so that <code>String cmd = args[0];</code> have the value of &quot;String cmd = args[0];&quot; (without the quotes)"},{"owner":{"account_id":14234283,"reputation":145,"user_id":10282530,"display_name":"catmandx"},"score":0,"creation_date":1651502300,"post_id":72088002,"comment_id":127373450,"body_markdown":"@user16320675 I will try the overload you suggested tomorrow, I will update the results here, thank you!","body":"@user16320675 I will try the overload you suggested tomorrow, I will update the results here, thank you!"},{"owner":{"account_id":14234283,"reputation":145,"user_id":10282530,"display_name":"catmandx"},"score":0,"creation_date":1651502350,"post_id":72088002,"comment_id":127373470,"body_markdown":"Worth mentioning is that this works: ```$ java runtime &quot;bash -c &#39;ls&#39;&quot;\nbash -c &#39;ls&#39;\nOut: Main.class\nOut: Main.java\nOut: runtime.class\nOut: runtime.java```","body":"Worth mentioning is that this works: <code>$ java runtime &quot;bash -c &#39;ls&#39;&quot; bash -c &#39;ls&#39; Out: Main.class Out: Main.java Out: runtime.class Out: runtime.java</code>"},{"owner":{"account_id":14234283,"reputation":145,"user_id":10282530,"display_name":"catmandx"},"score":0,"creation_date":1651502504,"post_id":72088002,"comment_id":127373521,"body_markdown":"The thing you said about it must be broken in bash makes sense, thank you again!! But why doesn&#39;t this works: ```java runtime &quot;bash -c &#39;id;ls&#39;&quot;``` ?","body":"The thing you said about it must be broken in bash makes sense, thank you again!! But why doesn&#39;t this works: <code>java runtime &quot;bash -c &#39;id;ls&#39;&quot;</code> ?"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1651502628,"post_id":72088002,"comment_id":127373563,"body_markdown":"Switch from `args[0]` to just passing all of `args`, and change `java runtime &#39;bash -c &quot;whatever&quot;&#39;` to `java runtime bash -c &quot;whatever&quot;` and you&#39;re in a much better place.","body":"Switch from <code>args[0]</code> to just passing all of <code>args</code>, and change <code>java runtime &#39;bash -c &quot;whatever&quot;&#39;</code> to <code>java runtime bash -c &quot;whatever&quot;</code> and you&#39;re in a much better place."},{"owner":{"account_id":14234283,"reputation":145,"user_id":10282530,"display_name":"catmandx"},"score":0,"creation_date":1651503337,"post_id":72088002,"comment_id":127373837,"body_markdown":"Thanks everyone, I understand how and why my scripts doesn&#39;t work now!","body":"Thanks everyone, I understand how and why my scripts doesn&#39;t work now!"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651504720,"creation_date":1651504720,"answer_id":72088809,"question_id":72088002,"body_markdown":"Because of shell parsing.\r\n\r\nThese are all concepts that __the OS just does not have__:\r\n\r\n* The concept of &#39;every space separates one argument from another (and the command from the list of arguments&#39;). The concept that a single string can possibly run anything, in fact; at the OS level that&#39;s just not what the &#39;run this thing&#39; API looks like. When you type commands on the command prompt, your shell app is &#39;interpreting&#39; these strings into a command execution request.\r\n* The concept of figuring out that `bash` means `/bin/bash`, i.e. `$PATH` resolution.\r\n* The concept that `*.txt` is supposed to refer to all files that ends in `.txt`.\r\n* The concept that `$FOO` should be replaced with the value of the environment variable &#39;FOO&#39;\r\n* The concept that `;` separates 2 commands, and it&#39;s supposed to run both.\r\n* The concept that single and double quotes escape things. &quot;Escape things&quot; implies that things can cause interpretation to happen. The OS interprets __nothing__, therefore there&#39;s nothing to escape. Obvious, then, that the OS doesn&#39;t know what `&#39;` is, or `&quot;`.\r\n* That `&gt;foo` means: Please set the standard output of the spawned process such that it sends it all to file &#39;foo&#39;.\r\n* In windows shells, that `@` in front of the command means &#39;do not echo the command itself&#39;. This and many other things are shellisms: `/bin/bash` does that, maybe `/bin/zsh` does something else. Windows&#39;s built in shell thing definitely is quite different from bash!\r\n\r\nInstead, an OS simply wants you to provide it a full path to an executable along with a list of strings, and pick targets for standard in, standard out, and standard err. It does __no processing on any of that__, just starts the process you named, and passes it the strings verbatim.\r\n\r\nYou&#39;re sort of half there, as you already figured out that e.g. `ls &gt;foo` cannot work if you execute it on its own, but it can work if you tell bash to execute it. As ALL of that stuff in the above list? Your shell does that.\r\n\r\nIt gets more complicated: Turning `*.txt` into `foo.txt bar.txt` is a task of bash and friends, e.g. if you attempted to run: `ls &#39;*.txt&#39;` it does not work. But on windows, it&#39;s __not__ the shell&#39;s job; the shell just passes it verbatim to `dir`, and it is the command&#39;s job to undo it. What a mess, right? Executing things is hard!\r\n\r\nSo, what&#39;s wrong here? Two things:\r\n\r\n* Space splitting isn&#39;t working out.\r\n* Quote application isn&#39;t being done.\r\n\r\nWhen you write:\r\n\r\n```\r\nbash -c &#39;ls &gt;foo&#39;\r\n```\r\n\r\nin a bash shell, bash has to first split this up, into a command, and a list of arguments. Bash does so as follows:\r\n\r\n* Command: `bash`\r\n* arg1: `-c`\r\n* arg2: `ls &gt;foo`\r\n\r\nIt knows that `ls &gt;foo` isn&#39;t 2 arguments because, effectively, &quot;space&quot; is the bash operator for: &quot;... and here is the next argument&quot;, and with quotes (either single or double), the space becomes a literal space instead of the &#39;... move to next argument ...&#39; operator.\r\n\r\nIn your code, you ask bash to run java, and then java to run bash. So, bash first does:\r\n\r\n* cmd: `java`\r\n* arg1: `bash -c &#39;ls &gt;foo&#39;`\r\n\r\nWith the same logic at work. Your java app then takes that entire string (that&#39;s `args[0]`: `&quot;bash -c &#39;ls &gt;foo&#39;&quot;`), and you then feed it to a method you should never use: `Runtime.exec()`. Always use ProcessBuilder, and always use the list-based form of it.\r\n\r\nGiven that you&#39;re using the bad method, you&#39;re now asking __java__ to do this splitting thing. After all, if you just tell the OS verbatim, please run `&quot;bash -c &#39;ls &gt;foo&#39;&quot;`, the OS dutifully reports: &quot;I&#39;m sorry, but file `./bash -c ;ls &gt;foo&#39;` does not exist&quot;, because __it does not processing at all__&quot;. This is unwieldy so java&#39;s `exec()` method is a disaster you should never use: Because people are confused about this, it tries to do some extremely basic processing, except every OS and shell is different, java does not know this, so it does a really bad job at it.\r\n\r\nHence, __do not use it__.\r\n\r\nIn this case, java doesn&#39;t realize that those quotes mean it shouldn&#39;t split, so java tells the OS:\r\n\r\nPlease run:\r\n\r\n* cmd: `/bin/bash` (java DOES do path lookup; but you should avoid this, do not use relative path names, you should always write them out in full)\r\n* arg1: `-c`\r\n* arg2: `&#39;ls`\r\n* arg3: `&gt;foo&#39;`\r\n\r\nand now you understand why this is just going completely wrong.\r\n\r\nInstead, you want java to tell the OS:\r\n\r\n* cmd: `/bin/bash`\r\n* arg1: `-c`\r\n* arg2: `ls &gt;foo`\r\n\r\nNote: `ls &gt;foo` needs to be one argument, and NOTHING in the argument should be containing quotes, anywhere. The reason you write:\r\n\r\n```\r\n/bin/bash -c &#39;ls &gt;foo&#39;\r\n```\r\n\r\nIn bash, is because you [A] want bash not to treat that space between `ls` and `&gt;foo` as an arg separator (you want `ls &gt;foo` to travel to `/bin/bash` as one argument), and [B] that you want `&gt;foo` to just be sent to the bash you&#39;re spawning and not to be treated as &#39;please redirect the output to file foo&#39; at the current shell level.\r\n\r\nRuntime.exec isn&#39;t a shell, so the quotes stuff? Runtime.exec has no idea.\r\n\r\nThis means more generally your plan of &quot;I shall write an app where the entire argument you pass to it is just run&quot; is oversimplified and can never work unless you write an entire quotes and escaper analyser for it.\r\n\r\nAn easy way out is to take the input, write it out to a shell script on disk, set the exec flag on it, and always run `/bin/bash -c /path/to/script-you-just-wrote`, sidestepping any need to attempt to parse anything in java: Let bash do it.\r\n\r\nThe ONE weird bizarro thing I cannot explain, is that literally passing `&#39;ls&#39;` to `/bin/bash -c`, with quotes intact, DOES work and runs ls as normal, but `&#39;ls *&#39;` does not, perhaps because now bash thinks you want executable file `/bin/ls *` which obviously does not exist (a star cannot be in a file name, or at least, that&#39;s not the ls executable, and it&#39;s not an alias for the ls built-in). At any rate, you want to pass `ls` without the quotes.\r\n\r\nLet&#39;s try it!\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class runtime {\r\n    public static void main(String args[]) throws Exception{\r\n        ProcessBuilder pb = new ProcessBuilder();\r\n        pb.command(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;echo 1234&quot;);\r\n//        pb.command(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;&#39;echo 1234&#39;&quot;);\r\n        Process p = pb.start();\r\n        OutputStream os = p.getOutputStream();\r\n        InputStream in = p.getInputStream();\r\n        DataInputStream dis = new DataInputStream(in);\r\n        String disr = dis.readLine();\r\n        while ( disr != null ) {\r\n                System.out.println(&quot;Out: &quot; + disr);\r\n                disr = dis.readLine();\r\n        }\r\n        int errCode = p.waitFor();\r\n        System.out.println(&quot;Process exit code: &quot; + errCode);\r\n    }\r\n}\r\n```\r\n\r\nThe above works fine. Replace the `.command` line with the commented out  variant and you&#39;ll notice it does not work at all, and you get an error. On my mac I get a &#39;127&#39; error; perhaps this is bash reporting back: I could not find the command you were attempting to execute. 0 is what you&#39;re looking for when you invoke waitFor: That&#39;s the code for &#39;no errors&#39;.\r\n","title":"Java Runtime.exec() works for some command but not others","body":"<p>Because of shell parsing.</p>\n<p>These are all concepts that <strong>the OS just does not have</strong>:</p>\n<ul>\n<li>The concept of 'every space separates one argument from another (and the command from the list of arguments'). The concept that a single string can possibly run anything, in fact; at the OS level that's just not what the 'run this thing' API looks like. When you type commands on the command prompt, your shell app is 'interpreting' these strings into a command execution request.</li>\n<li>The concept of figuring out that <code>bash</code> means <code>/bin/bash</code>, i.e. <code>$PATH</code> resolution.</li>\n<li>The concept that <code>*.txt</code> is supposed to refer to all files that ends in <code>.txt</code>.</li>\n<li>The concept that <code>$FOO</code> should be replaced with the value of the environment variable 'FOO'</li>\n<li>The concept that <code>;</code> separates 2 commands, and it's supposed to run both.</li>\n<li>The concept that single and double quotes escape things. &quot;Escape things&quot; implies that things can cause interpretation to happen. The OS interprets <strong>nothing</strong>, therefore there's nothing to escape. Obvious, then, that the OS doesn't know what <code>'</code> is, or <code>&quot;</code>.</li>\n<li>That <code>&gt;foo</code> means: Please set the standard output of the spawned process such that it sends it all to file 'foo'.</li>\n<li>In windows shells, that <code>@</code> in front of the command means 'do not echo the command itself'. This and many other things are shellisms: <code>/bin/bash</code> does that, maybe <code>/bin/zsh</code> does something else. Windows's built in shell thing definitely is quite different from bash!</li>\n</ul>\n<p>Instead, an OS simply wants you to provide it a full path to an executable along with a list of strings, and pick targets for standard in, standard out, and standard err. It does <strong>no processing on any of that</strong>, just starts the process you named, and passes it the strings verbatim.</p>\n<p>You're sort of half there, as you already figured out that e.g. <code>ls &gt;foo</code> cannot work if you execute it on its own, but it can work if you tell bash to execute it. As ALL of that stuff in the above list? Your shell does that.</p>\n<p>It gets more complicated: Turning <code>*.txt</code> into <code>foo.txt bar.txt</code> is a task of bash and friends, e.g. if you attempted to run: <code>ls '*.txt'</code> it does not work. But on windows, it's <strong>not</strong> the shell's job; the shell just passes it verbatim to <code>dir</code>, and it is the command's job to undo it. What a mess, right? Executing things is hard!</p>\n<p>So, what's wrong here? Two things:</p>\n<ul>\n<li>Space splitting isn't working out.</li>\n<li>Quote application isn't being done.</li>\n</ul>\n<p>When you write:</p>\n<pre><code>bash -c 'ls &gt;foo'\n</code></pre>\n<p>in a bash shell, bash has to first split this up, into a command, and a list of arguments. Bash does so as follows:</p>\n<ul>\n<li>Command: <code>bash</code></li>\n<li>arg1: <code>-c</code></li>\n<li>arg2: <code>ls &gt;foo</code></li>\n</ul>\n<p>It knows that <code>ls &gt;foo</code> isn't 2 arguments because, effectively, &quot;space&quot; is the bash operator for: &quot;... and here is the next argument&quot;, and with quotes (either single or double), the space becomes a literal space instead of the '... move to next argument ...' operator.</p>\n<p>In your code, you ask bash to run java, and then java to run bash. So, bash first does:</p>\n<ul>\n<li>cmd: <code>java</code></li>\n<li>arg1: <code>bash -c 'ls &gt;foo'</code></li>\n</ul>\n<p>With the same logic at work. Your java app then takes that entire string (that's <code>args[0]</code>: <code>&quot;bash -c 'ls &gt;foo'&quot;</code>), and you then feed it to a method you should never use: <code>Runtime.exec()</code>. Always use ProcessBuilder, and always use the list-based form of it.</p>\n<p>Given that you're using the bad method, you're now asking <strong>java</strong> to do this splitting thing. After all, if you just tell the OS verbatim, please run <code>&quot;bash -c 'ls &gt;foo'&quot;</code>, the OS dutifully reports: &quot;I'm sorry, but file <code>./bash -c ;ls &gt;foo'</code> does not exist&quot;, because <strong>it does not processing at all</strong>&quot;. This is unwieldy so java's <code>exec()</code> method is a disaster you should never use: Because people are confused about this, it tries to do some extremely basic processing, except every OS and shell is different, java does not know this, so it does a really bad job at it.</p>\n<p>Hence, <strong>do not use it</strong>.</p>\n<p>In this case, java doesn't realize that those quotes mean it shouldn't split, so java tells the OS:</p>\n<p>Please run:</p>\n<ul>\n<li>cmd: <code>/bin/bash</code> (java DOES do path lookup; but you should avoid this, do not use relative path names, you should always write them out in full)</li>\n<li>arg1: <code>-c</code></li>\n<li>arg2: <code>'ls</code></li>\n<li>arg3: <code>&gt;foo'</code></li>\n</ul>\n<p>and now you understand why this is just going completely wrong.</p>\n<p>Instead, you want java to tell the OS:</p>\n<ul>\n<li>cmd: <code>/bin/bash</code></li>\n<li>arg1: <code>-c</code></li>\n<li>arg2: <code>ls &gt;foo</code></li>\n</ul>\n<p>Note: <code>ls &gt;foo</code> needs to be one argument, and NOTHING in the argument should be containing quotes, anywhere. The reason you write:</p>\n<pre><code>/bin/bash -c 'ls &gt;foo'\n</code></pre>\n<p>In bash, is because you [A] want bash not to treat that space between <code>ls</code> and <code>&gt;foo</code> as an arg separator (you want <code>ls &gt;foo</code> to travel to <code>/bin/bash</code> as one argument), and [B] that you want <code>&gt;foo</code> to just be sent to the bash you're spawning and not to be treated as 'please redirect the output to file foo' at the current shell level.</p>\n<p>Runtime.exec isn't a shell, so the quotes stuff? Runtime.exec has no idea.</p>\n<p>This means more generally your plan of &quot;I shall write an app where the entire argument you pass to it is just run&quot; is oversimplified and can never work unless you write an entire quotes and escaper analyser for it.</p>\n<p>An easy way out is to take the input, write it out to a shell script on disk, set the exec flag on it, and always run <code>/bin/bash -c /path/to/script-you-just-wrote</code>, sidestepping any need to attempt to parse anything in java: Let bash do it.</p>\n<p>The ONE weird bizarro thing I cannot explain, is that literally passing <code>'ls'</code> to <code>/bin/bash -c</code>, with quotes intact, DOES work and runs ls as normal, but <code>'ls *'</code> does not, perhaps because now bash thinks you want executable file <code>/bin/ls *</code> which obviously does not exist (a star cannot be in a file name, or at least, that's not the ls executable, and it's not an alias for the ls built-in). At any rate, you want to pass <code>ls</code> without the quotes.</p>\n<p>Let's try it!</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\n\npublic class runtime {\n    public static void main(String args[]) throws Exception{\n        ProcessBuilder pb = new ProcessBuilder();\n        pb.command(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;echo 1234&quot;);\n//        pb.command(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;'echo 1234'&quot;);\n        Process p = pb.start();\n        OutputStream os = p.getOutputStream();\n        InputStream in = p.getInputStream();\n        DataInputStream dis = new DataInputStream(in);\n        String disr = dis.readLine();\n        while ( disr != null ) {\n                System.out.println(&quot;Out: &quot; + disr);\n                disr = dis.readLine();\n        }\n        int errCode = p.waitFor();\n        System.out.println(&quot;Process exit code: &quot; + errCode);\n    }\n}\n</code></pre>\n<p>The above works fine. Replace the <code>.command</code> line with the commented out  variant and you'll notice it does not work at all, and you get an error. On my mac I get a '127' error; perhaps this is bash reporting back: I could not find the command you were attempting to execute. 0 is what you're looking for when you invoke waitFor: That's the code for 'no errors'.</p>\n"}],"owner":{"account_id":14234283,"reputation":145,"user_id":10282530,"display_name":"catmandx"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1651509414,"accepted_answer_id":72088809,"answer_count":1,"score":1,"last_activity_date":1651504720,"creation_date":1651500809,"question_id":72088002,"body_markdown":"I am doing an exercise related to Runtime.exec(), I understand that Runtime.exec is not a shell interpreter, that&#39;s why I execute &quot;bash -c &#39;command&#39;&quot; instead, but for some reason, I can execute commands like ls ```bash -c &#39;ls&#39;``` but not echo or redirection or multiple commands. These does not work:\r\n```\r\nbash -c &#39;echo 1234&#39;\r\nbash -c &#39;ls &gt; abc&#39;\r\nbash -c &#39;ls;id&#39;\r\nbash -c &#39;ls -al&#39;\r\n```\r\n\r\nHere is my java code:\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class runtime {\r\n    public static void main(String args[]) throws Exception{\r\n        String cmd = args[0];\r\n        System.out.println(cmd);\r\n        Process p = Runtime.getRuntime().exec(cmd);\r\n        OutputStream os = p.getOutputStream();\r\n        InputStream in = p.getInputStream();\r\n        DataInputStream dis = new DataInputStream(in);\r\n        String disr = dis.readLine();\r\n        while ( disr != null ) {\r\n                System.out.println(&quot;Out: &quot; + disr);\r\n                disr = dis.readLine();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI run the above commands with the syntax:\r\n```java runtime &quot;bash -c &#39;command&#39;&quot;```\r\n \r\nThis works:\r\n```\r\n$ java runtime &quot;bash -c &#39;ls&#39;&quot;\r\nbash -c &#39;ls&#39;\r\nOut: Main.class\r\nOut: Main.java\r\nOut: runtime.class\r\nOut: runtime.java\r\n```\r\n\r\nI am using openjdk 11.0.15 on Ubuntu 20.04 and zsh.\r\nCan anyone tell me why Runtime doesn&#39;t work in this case? Thank you!\r\n","title":"Java Runtime.exec() works for some command but not others","body":"<p>I am doing an exercise related to Runtime.exec(), I understand that Runtime.exec is not a shell interpreter, that's why I execute &quot;bash -c 'command'&quot; instead, but for some reason, I can execute commands like ls <code>bash -c 'ls'</code> but not echo or redirection or multiple commands. These does not work:</p>\n<pre><code>bash -c 'echo 1234'\nbash -c 'ls &gt; abc'\nbash -c 'ls;id'\nbash -c 'ls -al'\n</code></pre>\n<p>Here is my java code:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class runtime {\n    public static void main(String args[]) throws Exception{\n        String cmd = args[0];\n        System.out.println(cmd);\n        Process p = Runtime.getRuntime().exec(cmd);\n        OutputStream os = p.getOutputStream();\n        InputStream in = p.getInputStream();\n        DataInputStream dis = new DataInputStream(in);\n        String disr = dis.readLine();\n        while ( disr != null ) {\n                System.out.println(&quot;Out: &quot; + disr);\n                disr = dis.readLine();\n        }\n    }\n}\n</code></pre>\n<p>I run the above commands with the syntax:\n<code>java runtime &quot;bash -c 'command'&quot;</code></p>\n<p>This works:</p>\n<pre><code>$ java runtime &quot;bash -c 'ls'&quot;\nbash -c 'ls'\nOut: Main.class\nOut: Main.java\nOut: runtime.class\nOut: runtime.java\n</code></pre>\n<p>I am using openjdk 11.0.15 on Ubuntu 20.04 and zsh.\nCan anyone tell me why Runtime doesn't work in this case? Thank you!</p>\n"},{"tags":["java","sql","sql-server","database","merge-statement"],"comments":[{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":0,"creation_date":1651504512,"post_id":72088672,"comment_id":127374244,"body_markdown":"Have you looked into replication?","body":"Have you looked into replication?"},{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":0,"creation_date":1651505045,"post_id":72088672,"comment_id":127374467,"body_markdown":"An SQL statement can only access multiple database server instances using a linked server. If you are not willing to do that (and accept the risks), then MERGE will not help you directly. And asking for tool recommendations is off-topic, but SSIS IS the tool specifically designed for ETL (T = Transformation).","body":"An SQL statement can only access multiple database server instances using a linked server. If you are not willing to do that (and accept the risks), then MERGE will not help you directly. And asking for tool recommendations is off-topic, but SSIS IS the tool specifically designed for ETL (T = Transformation)."},{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":0,"creation_date":1651505127,"post_id":72088672,"comment_id":127374508,"body_markdown":"And none of this will be simple or easy with the restrictions you have in place. Replication might be a starting point.","body":"And none of this will be simple or easy with the restrictions you have in place. Replication might be a starting point."}],"owner":{"account_id":21151226,"reputation":1,"user_id":15551486,"display_name":"jplefebvre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651504121,"creation_date":1651504121,"question_id":72088672,"body_markdown":"I&#39;m facing a challenge and I was hoping to get some advices from this community.\r\n\r\nI have 2 SQL Server databases on 2 different servers. One with a LOT of data and one that will be used for reporting. The DB used for reporting does not need every tables and column, only a certain subset of data (like 10%). I also need to transform the data since in the big database, the data can be nested in XML and we want to extract this into clean columns in the reporting DB.\r\n\r\nFor internal reasons, my team want to avoid using an SSIS package for that. \r\nSo, to accomplish this goal, I need to use SQL statements that will be executed through Java code.\r\n\r\nI looked at the MERGE statement that seems to do what I need, but I don&#39;t get how I can use this between two databases on different servers. Is that even possible ?\r\n\r\nIs there any libraries / frameworks that could do that kind of operations (insert/update/delete) between 2 databases ?\r\n\r\nAny help or advices would be greatly appreciated. \r\n","title":"SQL Server - Using MERGE statement between 2 Databases on 2 different servers","body":"<p>I'm facing a challenge and I was hoping to get some advices from this community.</p>\n<p>I have 2 SQL Server databases on 2 different servers. One with a LOT of data and one that will be used for reporting. The DB used for reporting does not need every tables and column, only a certain subset of data (like 10%). I also need to transform the data since in the big database, the data can be nested in XML and we want to extract this into clean columns in the reporting DB.</p>\n<p>For internal reasons, my team want to avoid using an SSIS package for that.\nSo, to accomplish this goal, I need to use SQL statements that will be executed through Java code.</p>\n<p>I looked at the MERGE statement that seems to do what I need, but I don't get how I can use this between two databases on different servers. Is that even possible ?</p>\n<p>Is there any libraries / frameworks that could do that kind of operations (insert/update/delete) between 2 databases ?</p>\n<p>Any help or advices would be greatly appreciated.</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1651558872,"post_id":72088661,"comment_id":127386139,"body_markdown":"See [Date](https://www.mongodb.com/docs/manual/reference/bson-types/#date): *BSON Date is a 64-bit integer that represents the number of milliseconds since the Unix epoch (Jan 1, 1970). This results in a representable date range of about 290 million years into the past and future.* So, looks like there is an issue with your BsonDateAdapter","body":"See <a href=\"https://www.mongodb.com/docs/manual/reference/bson-types/#date\" rel=\"nofollow noreferrer\">Date</a>: <i>BSON Date is a 64-bit integer that represents the number of milliseconds since the Unix epoch (Jan 1, 1970). This results in a representable date range of about 290 million years into the past and future.</i> So, looks like there is an issue with your BsonDateAdapter"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1651559374,"post_id":72088661,"comment_id":127386257,"body_markdown":"Do you run it on Windows? Look like Windows has (or had) some problems with dates before 1970, see https://jira.mongodb.org/browse/SERVER-12816","body":"Do you run it on Windows? Look like Windows has (or had) some problems with dates before 1970, see <a href=\"https://jira.mongodb.org/browse/SERVER-12816\" rel=\"nofollow noreferrer\">jira.mongodb.org/browse/SERVER-12816</a>"},{"owner":{"account_id":4196154,"reputation":815,"user_id":4339010,"display_name":"DFW"},"score":0,"creation_date":1651582411,"post_id":72088661,"comment_id":127393244,"body_markdown":"I agree, Mongo stores them as a 64 bit integer from 1970. But that doesn&#39;t answer why I have 2 scenarios in the same Mongo document with different formats. This is the first time I&#39;ve ever seen the $numberLong format, all of the prior ones were plain string inside the $date. Also, this representation is something I see prior to my BsonDateAdapter being called. I can code for both formats but I&#39;m trying to understand why I would need to.","body":"I agree, Mongo stores them as a 64 bit integer from 1970. But that doesn&#39;t answer why I have 2 scenarios in the same Mongo document with different formats. This is the first time I&#39;ve ever seen the $numberLong format, all of the prior ones were plain string inside the $date. Also, this representation is something I see prior to my BsonDateAdapter being called. I can code for both formats but I&#39;m trying to understand why I would need to."},{"owner":{"account_id":4196154,"reputation":815,"user_id":4339010,"display_name":"DFW"},"score":0,"creation_date":1651582454,"post_id":72088661,"comment_id":127393259,"body_markdown":"It happens regardless of the environment it&#39;s running on. The Mongo server is not Windows, and the code is either a ubuntu server or my local windows development machine.","body":"It happens regardless of the environment it&#39;s running on. The Mongo server is not Windows, and the code is either a ubuntu server or my local windows development machine."}],"owner":{"account_id":4196154,"reputation":815,"user_id":4339010,"display_name":"DFW"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651504069,"creation_date":1651504069,"question_id":72088661,"body_markdown":"Does Mongo store underlying dates in different formats depending on the Date? I&#39;ve got 2 Date fields that in Robo3T come back as a Date object. However, when running an aggregation query where I had to write a BsonDateAdapter to handle the Document, I can see one has been stored as a $numberLong.\r\n\r\n\t&quot;dateOne&quot;: {\r\n\t\t&quot;$date&quot;: &quot;2021-09-01T04:00:00Z&quot;\r\n\t},\r\n\t&quot;dateTwo&quot;: {\r\n\t\t&quot;$date&quot;: {\r\n\t\t\t&quot;$numberLong&quot;: &quot;-86400000&quot;\r\n\t\t}\r\n\t},\r\n\r\ndateTwo evaluates to 1969-12-31 00:00:00.000Z so I was wondering if it&#39;s before 1970 it does that? Or is it because someone manually updated this date incorrectly? And actually I see that Mongo stores all Dates as a 64bit integer from 1970, so maybe it&#39;s the mongo shell and how it returns data.\r\n\r\nThis was my original code in my BsonDateTypeAdapter, and I&#39;ve added to it to handle the $numberLong format, but I&#39;m still trying to understand why:\r\n\r\n    @Override\r\n    public Date read(final JsonReader in) throws IOException {\r\n        if (in.peek() == JsonToken.BEGIN_OBJECT) {\r\n            in.beginObject();\r\n            String token = in.nextName();\r\n            assert &quot;$date&quot;.equals(token);\r\n            String date = in.nextString();\r\n            in.endObject();\r\n            return DateFunctions.convertStringToDate(date);\r\n        } else  {\r\n            in.skipValue();\r\n        }\r\n        return null;\r\n    }","title":"Mongo Format for Storing dates (or response format)","body":"<p>Does Mongo store underlying dates in different formats depending on the Date? I've got 2 Date fields that in Robo3T come back as a Date object. However, when running an aggregation query where I had to write a BsonDateAdapter to handle the Document, I can see one has been stored as a $numberLong.</p>\n<pre><code>&quot;dateOne&quot;: {\n    &quot;$date&quot;: &quot;2021-09-01T04:00:00Z&quot;\n},\n&quot;dateTwo&quot;: {\n    &quot;$date&quot;: {\n        &quot;$numberLong&quot;: &quot;-86400000&quot;\n    }\n},\n</code></pre>\n<p>dateTwo evaluates to 1969-12-31 00:00:00.000Z so I was wondering if it's before 1970 it does that? Or is it because someone manually updated this date incorrectly? And actually I see that Mongo stores all Dates as a 64bit integer from 1970, so maybe it's the mongo shell and how it returns data.</p>\n<p>This was my original code in my BsonDateTypeAdapter, and I've added to it to handle the $numberLong format, but I'm still trying to understand why:</p>\n<pre><code>@Override\npublic Date read(final JsonReader in) throws IOException {\n    if (in.peek() == JsonToken.BEGIN_OBJECT) {\n        in.beginObject();\n        String token = in.nextName();\n        assert &quot;$date&quot;.equals(token);\n        String date = in.nextString();\n        in.endObject();\n        return DateFunctions.convertStringToDate(date);\n    } else  {\n        in.skipValue();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","testing","mockito","unirest"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1552990049,"post_id":55238227,"comment_id":97209613,"body_markdown":"To mock `static` methods you&#39;d need `PowerMockito`","body":"To mock <code>static</code> methods you&#39;d need <code>PowerMockito</code>"}],"answers":[{"tags":[],"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1552990108,"creation_date":1552990108,"answer_id":55238359,"question_id":55238227,"body_markdown":"Sample Snippet with   PowerMockRunner, PowerMockito and Mockito\r\n\r\n \r\n\r\n    @RunWith(PowerMockRunner.class)\r\n        @PrepareForTest({ Unirest.class})\r\n        public class TestApp{\r\n    \r\n          @Before\r\n          public void setup() {\r\n            PowerMockito.mockStatic(Unirest.class);\r\n          }\r\n    \r\n          @Test\r\n          public void shouldTestgetActivites() throws UnirestException {\r\n            when(Unirest.get(Client.DEFAULT_BASE_URL)).thenReturn(getRequest);\r\n            when(getRequest.asJson()).thenReturn(httpResponse);\r\n            when(httpResponse.getStatus()).thenReturn(Integer.valueOf(200));\r\n    \r\n            assertThat(something).isEqualTo(true);\r\n          }\r\n    \r\n        }","title":"Mocking Unirest with mockito","body":"<p>Sample Snippet with   PowerMockRunner, PowerMockito and Mockito</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n    @PrepareForTest({ Unirest.class})\n    public class TestApp{\n\n      @Before\n      public void setup() {\n        PowerMockito.mockStatic(Unirest.class);\n      }\n\n      @Test\n      public void shouldTestgetActivites() throws UnirestException {\n        when(Unirest.get(Client.DEFAULT_BASE_URL)).thenReturn(getRequest);\n        when(getRequest.asJson()).thenReturn(httpResponse);\n        when(httpResponse.getStatus()).thenReturn(Integer.valueOf(200));\n\n        assertThat(something).isEqualTo(true);\n      }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10037631,"reputation":1115,"user_id":7421645,"display_name":"James"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552990929,"creation_date":1552990929,"answer_id":55238641,"question_id":55238227,"body_markdown":"Instead of directly calling a static member, you could wrap the call in a wrapper class that can supply an HttpResponse based on some arguments. This is an interface that can easily be mocked in Mockito.\r\n\r\n \r\n    \r\n    /**\r\n     * This is a wrapper around a Unirest API.\r\n     */\r\n    class UnirestWrapper {\r\n\r\n        private HttpResponse&lt;JsonNode&gt; getResponse(String accept, String url) {\r\n            try {\r\n                return Unirest\r\n                    .get(url)\r\n                    .header(&quot;accept&quot;, accept)\r\n                    .asJson();\r\n            } catch (UnirestException e) {\r\n                System.out.println(&quot;Server is unreachable&quot;);\r\n            }\r\n            // Or create a NULL HttpResponse instance.\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private final UnirestWrapper unirestWrapper;\r\n\r\n    ThisClassConstructor(UnirestWrapper unirestWrapper) {\r\n        this.unirestWrapper = unirestWrapper;\r\n    }\r\n\r\n    /**\r\n     * This method lists the ID of the activity when requested.\r\n     *\r\n     * @return the list of all activities\r\n     */\r\n    public JSONArray getActivites() {\r\n        HttpResponse&lt;JsonNode&gt; jsonResponse = this.unirestWrapper.getResponse(&quot;http://111.111.111.111:8080/activity&quot;, &quot;application/json&quot;);\r\n\r\n        if (jsonResponse == null) {\r\n            return null;\r\n        }\r\n\r\n        JSONArray listOfActivities = jsonResponse.getBody().getArray();\r\n        return listOfActivities;\r\n    }\r\n\r\nOr you could use power mocks...","title":"Mocking Unirest with mockito","body":"<p>Instead of directly calling a static member, you could wrap the call in a wrapper class that can supply an HttpResponse based on some arguments. This is an interface that can easily be mocked in Mockito.</p>\n\n<pre><code>/**\n * This is a wrapper around a Unirest API.\n */\nclass UnirestWrapper {\n\n    private HttpResponse&lt;JsonNode&gt; getResponse(String accept, String url) {\n        try {\n            return Unirest\n                .get(url)\n                .header(\"accept\", accept)\n                .asJson();\n        } catch (UnirestException e) {\n            System.out.println(\"Server is unreachable\");\n        }\n        // Or create a NULL HttpResponse instance.\n        return null;\n    }\n}\n\nprivate final UnirestWrapper unirestWrapper;\n\nThisClassConstructor(UnirestWrapper unirestWrapper) {\n    this.unirestWrapper = unirestWrapper;\n}\n\n/**\n * This method lists the ID of the activity when requested.\n *\n * @return the list of all activities\n */\npublic JSONArray getActivites() {\n    HttpResponse&lt;JsonNode&gt; jsonResponse = this.unirestWrapper.getResponse(\"http://111.111.111.111:8080/activity\", \"application/json\");\n\n    if (jsonResponse == null) {\n        return null;\n    }\n\n    JSONArray listOfActivities = jsonResponse.getBody().getArray();\n    return listOfActivities;\n}\n</code></pre>\n\n<p>Or you could use power mocks...</p>\n"},{"tags":[],"owner":{"account_id":106263,"reputation":3151,"user_id":283136,"accept_rate":38,"display_name":"timomeinen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616757017,"creation_date":1616757017,"answer_id":66815774,"question_id":55238227,"body_markdown":"In the meantime the orignal authors provide mocking support with [unirest-mocks][1]:\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.konghq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;unirest-mocks&lt;/artifactId&gt;\r\n        &lt;version&gt;LATEST&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsage:\r\n\r\n    class MyTest {\r\n        @Test\r\n        void expectGet(){\r\n            MockClient mock = MockClient.register();\r\n    \r\n            mock.expect(HttpMethod.GET, &quot;http://zombo.com&quot;)\r\n                            .thenReturn(&quot;You can do anything!&quot;);\r\n            \r\n            assertEquals(\r\n                &quot;You can do anything!&quot;, \r\n                Unirest.get(&quot;http://zombo.com&quot;).asString().getBody()\r\n            );\r\n            \r\n            //Optional: Verify all expectations were fulfilled\r\n            mock.verifyAll();\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/Kong/unirest-java/tree/main/unirest-mocks","title":"Mocking Unirest with mockito","body":"<p>In the meantime the orignal authors provide mocking support with <a href=\"https://github.com/Kong/unirest-java/tree/main/unirest-mocks\" rel=\"nofollow noreferrer\">unirest-mocks</a>:</p>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.konghq&lt;/groupId&gt;\n    &lt;artifactId&gt;unirest-mocks&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Usage:</p>\n<pre><code>class MyTest {\n    @Test\n    void expectGet(){\n        MockClient mock = MockClient.register();\n\n        mock.expect(HttpMethod.GET, &quot;http://zombo.com&quot;)\n                        .thenReturn(&quot;You can do anything!&quot;);\n        \n        assertEquals(\n            &quot;You can do anything!&quot;, \n            Unirest.get(&quot;http://zombo.com&quot;).asString().getBody()\n        );\n        \n        //Optional: Verify all expectations were fulfilled\n        mock.verifyAll();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17876940,"reputation":231,"user_id":12986722,"display_name":"Thiago Gregorio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636214041,"creation_date":1636213965,"answer_id":69865547,"question_id":55238227,"body_markdown":"You can mock the `HttpResponse` with `Mockito.mock(HttpResponse.class)` and put to when get the body of this response to get your json. For example:\r\n\r\n\r\n\r\n    HttpResponse response = Mockito.mock(HttpResponse.class);    \r\n    when(response.getBody()).thenReturn(readFileContent(&quot;my_response.json&quot;));\r\n\r\n\r\nthis &#39;readFileContent&#39; is just a method to read a file where I put my response. You can put your json to compare there","title":"Mocking Unirest with mockito","body":"<p>You can mock the <code>HttpResponse</code> with <code>Mockito.mock(HttpResponse.class)</code> and put to when get the body of this response to get your json. For example:</p>\n<pre><code>HttpResponse response = Mockito.mock(HttpResponse.class);    \nwhen(response.getBody()).thenReturn(readFileContent(&quot;my_response.json&quot;));\n</code></pre>\n<p>this 'readFileContent' is just a method to read a file where I put my response. You can put your json to compare there</p>\n"},{"tags":[],"owner":{"account_id":3889192,"reputation":81,"user_id":3219857,"display_name":"Rita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651504044,"creation_date":1651504044,"answer_id":72088656,"question_id":55238227,"body_markdown":"I solved similar task by using JUnit5 and Mockito.\r\nClass under test:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Profile(&quot;someProfile&quot;)\r\n    @Slf4j\r\n    public class SomeService {\r\n        \r\n        @Value(&quot;${value1}&quot;)\r\n        private final String value1;\r\n    \r\n        @Value(&quot;${value2}&quot;)\r\n        private final String value2;\r\n    \r\n        private final ObjectMapper mapper;\r\n        private final CommonUtil commonUtil;\r\n    \r\n        public boolean methodUnderTest(String inputValue) {\r\n            HttpResponse&lt;String&gt; result;\r\n            //some logic \r\n            try {\r\n                result = Unirest.get(&quot;url&quot;)\r\n                        .header(header, value)\r\n                        .routeParam(&quot;param&quot;, paramValue)\r\n                        .asString();\r\n                if (result.getStatus() != 200) {\r\n                    throw new MyException(&quot;Message&quot;);\r\n                }\r\n                //some logic\r\n            } catch (Exception e) {\r\n                log.error(&quot;Log error&quot;, e);\r\n                //some logic\r\n            }\r\n        }\r\n    }\r\n\r\nAnd test:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class SomeServiceTest {\r\n        @Mock\r\n        private CommonUtil commonUtil;\r\n        @Mock\r\n        private ObjectMapper mapper;\r\n        @Mock\r\n        HttpResponse httpResponse;\r\n        @Mock\r\n        GetRequest request;\r\n    \r\n        private SomeService serviceUnderTest;\r\n    \r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            this.serviceUnderTest = new SomeService(&quot;url&quot;, &quot;valu1&quot;, mapper, commonUtil);\r\n        }\r\n    \r\n        @Test\r\n        void methodUnderTest_whenSmth_ThenSmth() throws UnirestException {\r\n            try (MockedStatic&lt;Unirest&gt; unirest = Mockito.mockStatic(Unirest.class)) {\r\n                unirest.when(() -&gt; Unirest.get(anyString()))\r\n                        .thenReturn(request);\r\n    \r\n                Mockito.when(commonUtil.encodeValue(Mockito.anyString())).thenReturn(&quot;123&quot;);\r\n    \r\n                Mockito.when(request.header(anyString(), anyString())).thenReturn(request);\r\n                Mockito.when(request.routeParam(anyString(), anyString())).thenReturn(request);\r\n                Mockito.when(request.asString()).thenReturn(httpResponse);\r\n    \r\n    \r\n                Mockito.when(httpResponse.getStatus()).thenReturn(200);\r\n                Mockito.when(httpResponse.getBody()).thenReturn(&quot;true&quot;);\r\n                assertTrue(serviceUnderTest.methodUnderTest(&quot;123&quot;));\r\n            }\r\n        }\r\n     }   ","title":"Mocking Unirest with mockito","body":"<p>I solved similar task by using JUnit5 and Mockito.\nClass under test:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Profile(&quot;someProfile&quot;)\n@Slf4j\npublic class SomeService {\n    \n    @Value(&quot;${value1}&quot;)\n    private final String value1;\n\n    @Value(&quot;${value2}&quot;)\n    private final String value2;\n\n    private final ObjectMapper mapper;\n    private final CommonUtil commonUtil;\n\n    public boolean methodUnderTest(String inputValue) {\n        HttpResponse&lt;String&gt; result;\n        //some logic \n        try {\n            result = Unirest.get(&quot;url&quot;)\n                    .header(header, value)\n                    .routeParam(&quot;param&quot;, paramValue)\n                    .asString();\n            if (result.getStatus() != 200) {\n                throw new MyException(&quot;Message&quot;);\n            }\n            //some logic\n        } catch (Exception e) {\n            log.error(&quot;Log error&quot;, e);\n            //some logic\n        }\n    }\n}\n</code></pre>\n<p>And test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass SomeServiceTest {\n    @Mock\n    private CommonUtil commonUtil;\n    @Mock\n    private ObjectMapper mapper;\n    @Mock\n    HttpResponse httpResponse;\n    @Mock\n    GetRequest request;\n\n    private SomeService serviceUnderTest;\n\n\n    @BeforeEach\n    void setUp() {\n        this.serviceUnderTest = new SomeService(&quot;url&quot;, &quot;valu1&quot;, mapper, commonUtil);\n    }\n\n    @Test\n    void methodUnderTest_whenSmth_ThenSmth() throws UnirestException {\n        try (MockedStatic&lt;Unirest&gt; unirest = Mockito.mockStatic(Unirest.class)) {\n            unirest.when(() -&gt; Unirest.get(anyString()))\n                    .thenReturn(request);\n\n            Mockito.when(commonUtil.encodeValue(Mockito.anyString())).thenReturn(&quot;123&quot;);\n\n            Mockito.when(request.header(anyString(), anyString())).thenReturn(request);\n            Mockito.when(request.routeParam(anyString(), anyString())).thenReturn(request);\n            Mockito.when(request.asString()).thenReturn(httpResponse);\n\n\n            Mockito.when(httpResponse.getStatus()).thenReturn(200);\n            Mockito.when(httpResponse.getBody()).thenReturn(&quot;true&quot;);\n            assertTrue(serviceUnderTest.methodUnderTest(&quot;123&quot;));\n        }\n    }\n }   \n</code></pre>\n"}],"owner":{"account_id":9991505,"reputation":89,"user_id":7390623,"display_name":"Bar Lerer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7190,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55238359,"answer_count":5,"score":3,"last_activity_date":1651504044,"creation_date":1552989697,"question_id":55238227,"body_markdown":"I am in my starting programming phase and I wanted to ask about mocking Objects with Mockito, more specifically is the Unirest response.\r\nLet&#39;s say I have a database, and I dont what to bother it every time I do testing, and I want to use Mockito for that, but the problem is I am not sure how to create the fake &quot;httpResponse&quot; object that will come back.\r\nTo give some context, I have attached my code:\r\n\r\n        /**\r\n     * This method lists the ID of the activity when requested.\r\n     *\r\n     * @return the list of all activities\r\n     */\r\n    public  JSONArray getActivites() {\r\n        HttpResponse&lt;JsonNode&gt; jsonResponse = null;\r\n        try {\r\n            jsonResponse = Unirest\r\n                    .get(&quot;http://111.111.111.111:8080/activity&quot;)\r\n                    .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n                    .asJson();\r\n        } catch (UnirestException e) {\r\n            System.out.println(&quot;Server is unreachable&quot;);\r\n        }\r\n\r\n        JSONArray listOfActivities = jsonResponse.getBody().getArray();\r\n        return listOfActivities;\r\n    }\r\n\r\nSo what I had in mind, is to mock Unirest, and then when a .get method gets invoked, I would return a fake HttpResponse&lt;JsonNode&gt;, problem is, I am not sure how to, I have looked online and couldn&#39;t really make much sense of it.\r\nIs it possible to do it 1 time with the actual Database, and then &quot;Extract&quot; the information and to use that every time for testing?","title":"Mocking Unirest with mockito","body":"<p>I am in my starting programming phase and I wanted to ask about mocking Objects with Mockito, more specifically is the Unirest response.\nLet's say I have a database, and I dont what to bother it every time I do testing, and I want to use Mockito for that, but the problem is I am not sure how to create the fake \"httpResponse\" object that will come back.\nTo give some context, I have attached my code:</p>\n\n<pre><code>    /**\n * This method lists the ID of the activity when requested.\n *\n * @return the list of all activities\n */\npublic  JSONArray getActivites() {\n    HttpResponse&lt;JsonNode&gt; jsonResponse = null;\n    try {\n        jsonResponse = Unirest\n                .get(\"http://111.111.111.111:8080/activity\")\n                .header(\"accept\", \"application/json\")\n                .asJson();\n    } catch (UnirestException e) {\n        System.out.println(\"Server is unreachable\");\n    }\n\n    JSONArray listOfActivities = jsonResponse.getBody().getArray();\n    return listOfActivities;\n}\n</code></pre>\n\n<p>So what I had in mind, is to mock Unirest, and then when a .get method gets invoked, I would return a fake HttpResponse, problem is, I am not sure how to, I have looked online and couldn't really make much sense of it.\nIs it possible to do it 1 time with the actual Database, and then \"Extract\" the information and to use that every time for testing?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1650145465,"post_id":71897664,"comment_id":127048810,"body_markdown":"You need a JDA instance and then use this https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/JDA.html#openPrivateChannelById(java.lang.String)","body":"You need a JDA instance and then use this <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/JDA.html#openPrivateChannelById(java.lang.String)\" rel=\"nofollow noreferrer\">ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/&hellip;</a>"},{"owner":{"account_id":22773748,"reputation":1,"user_id":16930750,"display_name":"flsky"},"score":0,"creation_date":1650170573,"post_id":71897664,"comment_id":127051479,"body_markdown":"@Minn thank you so much I was stuck for 5 hours on this","body":"@Minn thank you so much I was stuck for 5 hours on this"}],"answers":[{"tags":[],"owner":{"account_id":23541516,"reputation":15,"user_id":17585650,"display_name":"Yashwardhan Bisht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651503919,"creation_date":1651503919,"answer_id":72088636,"question_id":71897664,"body_markdown":"You can use `event.getJDA().getUserById()` like\r\n\r\n    User user = event.getJDA().getUserById(id);\r\n    user.openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(&quot;hlo&quot;)).queue();\r\n\r\nAlso, keep in mind that this would not work if you and your bot do not have a common server or if you have DMs by server members disabled.","title":"How to Direct Message a specific person with a Discord Bot","body":"<p>You can use <code>event.getJDA().getUserById()</code> like</p>\n<pre><code>User user = event.getJDA().getUserById(id);\nuser.openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(&quot;hlo&quot;)).queue();\n</code></pre>\n<p>Also, keep in mind that this would not work if you and your bot do not have a common server or if you have DMs by server members disabled.</p>\n"}],"owner":{"account_id":22773748,"reputation":1,"user_id":16930750,"display_name":"flsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651503919,"creation_date":1650145215,"question_id":71897664,"body_markdown":"I have tried to DM myself using the code:\r\n\r\n    User me = new UserById(myId);\r\n    me.openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(&quot;hello&quot;)).queue();\r\n\r\nThis results in an error message:\r\n\r\n    [JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\n    java.lang.UnsupportedOperationException: This User instance only wraps an ID. Other operations are unsupported\r\n    \tat net.dv8tion.jda.internal.entities.UserById.unsupported(UserById.java:78)\r\n    \tat net.dv8tion.jda.internal.entities.UserById.openPrivateChannel(UserById.java:132)\r\n    \tat Commands.onGuildMessageReceived(Commands.java:23)\r\n    \tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:466)\r\n    \tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n    \tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:160)\r\n    \tat net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:97)\r\n    \tat net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:952)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:839)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:817)\r\n    \tat net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:990)\r\n    \tat com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n    \tat com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n    \tat com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n\r\nI have looked everywhere, but can&#39;t find an answer.\r\n","title":"How to Direct Message a specific person with a Discord Bot","body":"<p>I have tried to DM myself using the code:</p>\n<pre><code>User me = new UserById(myId);\nme.openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(&quot;hello&quot;)).queue();\n</code></pre>\n<p>This results in an error message:</p>\n<pre><code>[JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\njava.lang.UnsupportedOperationException: This User instance only wraps an ID. Other operations are unsupported\n    at net.dv8tion.jda.internal.entities.UserById.unsupported(UserById.java:78)\n    at net.dv8tion.jda.internal.entities.UserById.openPrivateChannel(UserById.java:132)\n    at Commands.onGuildMessageReceived(Commands.java:23)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:466)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:160)\n    at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:97)\n    at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:952)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:839)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:817)\n    at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:990)\n    at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n    at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n    at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n    at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n    at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n    at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n    at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n<p>I have looked everywhere, but can't find an answer.</p>\n"},{"tags":["java","eclipse","jsp","liferay","liferay-6"],"answers":[{"tags":[],"owner":{"account_id":2399553,"reputation":1117,"user_id":2097577,"display_name":"Marco Mercuri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1412152337,"creation_date":1412152337,"answer_id":26137242,"question_id":26125014,"body_markdown":"Class SearchContainer is a *generic class* (http://cdn.docs.liferay.com/portal/6.1/javadocs/com/liferay/portal/kernel/dao/search/SearchContainer.html), and as all generic class produce that warning when you try to instantiate without pass a type argument.\r\n\r\nFor more details:\r\n\r\n - http://docs.oracle.com/javase/tutorial/java/generics/types.html\r\n - https://stackoverflow.com/questions/14207005/why-warning-arraylist-is-a-raw-type-references-to-generic-type-arrayliste-sh\r\n\r\nBut SearchContainer is instantiated via tablib, so i think eclipse &quot;see through&quot; the taglib and produce the warning. The problem probably will be in that generated code and  I really guess that this problem has no a pratical solution (hook/ext the taglib code? really?)\r\n\r\nSorry for this (un)answer !","title":"How to solve warning when using liferay-ui:search-container in JSP?","body":"<p>Class SearchContainer is a <em>generic class</em> (<a href=\"http://cdn.docs.liferay.com/portal/6.1/javadocs/com/liferay/portal/kernel/dao/search/SearchContainer.html\" rel=\"nofollow noreferrer\">http://cdn.docs.liferay.com/portal/6.1/javadocs/com/liferay/portal/kernel/dao/search/SearchContainer.html</a>), and as all generic class produce that warning when you try to instantiate without pass a type argument.</p>\n\n<p>For more details:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/java/generics/types.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14207005/why-warning-arraylist-is-a-raw-type-references-to-generic-type-arrayliste-sh\">Warning ArrayList is a raw type. References to generic type ArrayList&lt;E&gt; should be parameterized</a></li>\n</ul>\n\n<p>But SearchContainer is instantiated via tablib, so i think eclipse \"see through\" the taglib and produce the warning. The problem probably will be in that generated code and  I really guess that this problem has no a pratical solution (hook/ext the taglib code? really?)</p>\n\n<p>Sorry for this (un)answer !</p>\n"},{"tags":[],"owner":{"account_id":23292604,"reputation":1,"user_id":17374441,"display_name":"Kamal Sarda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651503876,"creation_date":1651479812,"answer_id":72084086,"question_id":26125014,"body_markdown":"I think you should use your total attribute in liferay-ui-search-container tag. Instead of using in search-container-result.\r\n\r\n```    &lt;%\r\n    List&lt;User&gt; users = UserLocalServiceUtil.search(...);\r\n%&gt;\r\n\r\n&lt;liferay-ui:search-container total=&quot;&lt;%= users.size() %&gt;&quot;&gt;\r\n\r\n    &lt;liferay-ui:search-container-results\r\n        results=&quot;&lt;%= users %&gt;&quot;\r\n    /&gt;\r\n\r\n    &lt;liferay-ui:search-container-row \r\n            className=&quot;com.liferay.portal.model.User&quot;\r\n            keyProperty=&quot;userId&quot;\r\n            modelVar=&quot;userVar&quot;&gt;\r\n\r\n        &lt;liferay-ui:search-container-column-text\r\n                name=&quot;name&quot;\r\n                value=&quot;&lt;%= userVar.getFullName() %&gt;&quot; /&gt;\r\n\r\n    &lt;/liferay-ui:search-container-row&gt;\r\n\r\n    &lt;liferay-ui:search-iterator /&gt;\r\n \r\n\r\n&lt;/liferay-ui:search-container&gt;\r\n```","title":"How to solve warning when using liferay-ui:search-container in JSP?","body":"<p>I think you should use your total attribute in liferay-ui-search-container tag. Instead of using in search-container-result.</p>\n<pre><code>    List&lt;User&gt; users = UserLocalServiceUtil.search(...);\n%&gt;\n\n&lt;liferay-ui:search-container total=&quot;&lt;%= users.size() %&gt;&quot;&gt;\n\n    &lt;liferay-ui:search-container-results\n        results=&quot;&lt;%= users %&gt;&quot;\n    /&gt;\n\n    &lt;liferay-ui:search-container-row \n            className=&quot;com.liferay.portal.model.User&quot;\n            keyProperty=&quot;userId&quot;\n            modelVar=&quot;userVar&quot;&gt;\n\n        &lt;liferay-ui:search-container-column-text\n                name=&quot;name&quot;\n                value=&quot;&lt;%= userVar.getFullName() %&gt;&quot; /&gt;\n\n    &lt;/liferay-ui:search-container-row&gt;\n\n    &lt;liferay-ui:search-iterator /&gt;\n \n\n&lt;/liferay-ui:search-container&gt;\n</code></pre>\n"}],"owner":{"account_id":4920689,"reputation":6202,"user_id":3963330,"accept_rate":73,"display_name":"Tob&#237;as"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26137242,"answer_count":2,"score":1,"last_activity_date":1651503876,"creation_date":1412092252,"question_id":26125014,"body_markdown":"I&#39;m developing a portlet in Liferay 6.1 using `Liferay MVC famework`. When I use \r\n\r\n\r\n    &lt;liferay-ui:search-container /&gt;  \r\n\r\n\r\nEclipse allways shows me the following warning message\r\n\r\n&gt; SearchContainer is a raw type. References to generic type\r\n&gt; `SearhcContainer&lt;R&gt;` should be parameterized\r\n\r\n**JSP code fragment:**\r\n\r\n    &lt;%\r\n        List&lt;User&gt; users = UserLocalServiceUtil.search(...);\r\n    %&gt;\r\n\r\n    &lt;liferay-ui:search-container&gt;\r\n    \r\n        &lt;liferay-ui:search-container-results\r\n            results=&quot;&lt;%= users %&gt;&quot;\r\n            total=&quot;&lt;%= users.size() %&gt;&quot;\r\n        /&gt;\r\n    \t\r\n        &lt;liferay-ui:search-container-row \r\n                className=&quot;com.liferay.portal.model.User&quot;\r\n                keyProperty=&quot;userId&quot;\r\n                modelVar=&quot;userVar&quot;&gt;\r\n\r\n            &lt;liferay-ui:search-container-column-text\r\n                    name=&quot;name&quot;\r\n                    value=&quot;&lt;%= userVar.getFullName() %&gt;&quot; /&gt;\r\n\r\n        &lt;/liferay-ui:search-container-row&gt;\r\n    \t\r\n        &lt;liferay-ui:search-iterator /&gt;\r\n    \t\r\n    &lt;/liferay-ui:search-container&gt;\r\n\r\n\r\n\r\nI have searched many examples. I&#39;ve imported them into my workspace. And they also show me the same Warning message when `search-container` tag is used. \r\n\r\nAn example is this portlet: [Event listing portlet][1] &lt;br /&gt;\r\nin [/docroot/html/eventlisting/view.jsp][2] Eclipse shows me the same warning.\r\n\r\nI&#39;ve not found any solution searching nor in google neither in stackoverflow. I have found many references to warnings in jsp, but no when the warning occurs when using some tag. \r\n\r\nIf it&#39;s possible, I don&#39;t want to disable JSP Validation or use some `@SuppressWarnings`. \r\n\r\nI would really like to know if there is a correct way to avoid this warning in JSP when I use this taglib. \r\n\r\nI&#39;m working with &lt;br/&gt;\r\n- Liferay 6.1.1 CE GA2 &lt;br/&gt;\r\n- Eclipse Luna Release 4.4.0\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://github.com/liferay/liferay-docs/tree/master/devGuide/code/devGuide-sdk/portlets/event-listing-portlet\r\n  [2]: https://github.com/liferay/liferay-docs/blob/master/devGuide/code/devGuide-sdk/portlets/event-listing-portlet/docroot/html/eventlisting/view.jsp","title":"How to solve warning when using liferay-ui:search-container in JSP?","body":"<p>I'm developing a portlet in Liferay 6.1 using <code>Liferay MVC famework</code>. When I use </p>\n\n<pre><code>&lt;liferay-ui:search-container /&gt;  \n</code></pre>\n\n<p>Eclipse allways shows me the following warning message</p>\n\n<blockquote>\n  <p>SearchContainer is a raw type. References to generic type\n  <code>SearhcContainer&lt;R&gt;</code> should be parameterized</p>\n</blockquote>\n\n<p><strong>JSP code fragment:</strong></p>\n\n<pre><code>&lt;%\n    List&lt;User&gt; users = UserLocalServiceUtil.search(...);\n%&gt;\n\n&lt;liferay-ui:search-container&gt;\n\n    &lt;liferay-ui:search-container-results\n        results=\"&lt;%= users %&gt;\"\n        total=\"&lt;%= users.size() %&gt;\"\n    /&gt;\n\n    &lt;liferay-ui:search-container-row \n            className=\"com.liferay.portal.model.User\"\n            keyProperty=\"userId\"\n            modelVar=\"userVar\"&gt;\n\n        &lt;liferay-ui:search-container-column-text\n                name=\"name\"\n                value=\"&lt;%= userVar.getFullName() %&gt;\" /&gt;\n\n    &lt;/liferay-ui:search-container-row&gt;\n\n    &lt;liferay-ui:search-iterator /&gt;\n\n&lt;/liferay-ui:search-container&gt;\n</code></pre>\n\n<p>I have searched many examples. I've imported them into my workspace. And they also show me the same Warning message when <code>search-container</code> tag is used. </p>\n\n<p>An example is this portlet: <a href=\"https://github.com/liferay/liferay-docs/tree/master/devGuide/code/devGuide-sdk/portlets/event-listing-portlet\" rel=\"nofollow\">Event listing portlet</a> <br />\nin <a href=\"https://github.com/liferay/liferay-docs/blob/master/devGuide/code/devGuide-sdk/portlets/event-listing-portlet/docroot/html/eventlisting/view.jsp\" rel=\"nofollow\">/docroot/html/eventlisting/view.jsp</a> Eclipse shows me the same warning.</p>\n\n<p>I've not found any solution searching nor in google neither in stackoverflow. I have found many references to warnings in jsp, but no when the warning occurs when using some tag. </p>\n\n<p>If it's possible, I don't want to disable JSP Validation or use some <code>@SuppressWarnings</code>. </p>\n\n<p>I would really like to know if there is a correct way to avoid this warning in JSP when I use this taglib. </p>\n\n<p>I'm working with <br/>\n- Liferay 6.1.1 CE GA2 <br/>\n- Eclipse Luna Release 4.4.0</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","jar"],"answers":[{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1535314804,"creation_date":1535314804,"answer_id":52029954,"question_id":52029771,"body_markdown":"There will not be a jar created if you are just running this in your IDE. In order to do that, you need to run the gradle build (in your case) either from your IDE or the command line to get it to build it into a jar.\r\n\r\nFrom the command line, go to your project directory and type this:\r\n\r\n    ./gradlew build\r\n\r\nThis executes the gradle wrapper, which should download everything you need to run the build, and then executes the build.\r\n\r\nYou will then find your jar in `build/lib`","title":"Spring boot where is my jar file","body":"<p>There will not be a jar created if you are just running this in your IDE. In order to do that, you need to run the gradle build (in your case) either from your IDE or the command line to get it to build it into a jar.</p>\n\n<p>From the command line, go to your project directory and type this:</p>\n\n<pre><code>./gradlew build\n</code></pre>\n\n<p>This executes the gradle wrapper, which should download everything you need to run the build, and then executes the build.</p>\n\n<p>You will then find your jar in <code>build/lib</code></p>\n"},{"tags":[],"owner":{"account_id":482463,"reputation":6669,"user_id":896886,"accept_rate":41,"display_name":"Andrew Koper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651503751,"creation_date":1651503751,"answer_id":72088599,"question_id":52029771,"body_markdown":"`build/libs`  (if you&#39;ve ran build to build the jar file)","title":"Spring boot where is my jar file","body":"<p><code>build/libs</code>  (if you've ran build to build the jar file)</p>\n"}],"owner":{"account_id":2746706,"reputation":4430,"user_id":2366975,"accept_rate":60,"display_name":"user2366975"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7065,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":52029954,"answer_count":2,"score":11,"last_activity_date":1651503751,"creation_date":1535313145,"question_id":52029771,"body_markdown":"Spring boot makes it really easy to setup a simple app.\r\nBut it takes me longer to actually get a jar file which I can upload to a remote server.\r\nI am using IntelliJ, no command line, and I use gradle. The application is running somehow out of Intellij. But where are the created files? Where is my jar from Bootjar?\r\n \r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.0.0.RELEASE&quot;)\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    bootJar {\r\n        baseName = &#39;gs-spring-boot&#39;\r\n        version =  &#39;0.1.0&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    dependencies {\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \r\n        compile(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    \r\n        testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    \r\n        // add spring data repos\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \r\n        compile(&quot;org.postgresql:postgresql:42.2.4&quot;)\r\n    \r\n        // REST interface\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-data-rest&quot;)\r\n    \r\n        // Security\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    }\r\n \r\nUpdate: Added a picture of the project structure:\r\n\r\n[![enter image description here][1]][1]   \r\n\r\nUpdate 2: Folder structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CXfFU.png\r\n  [2]: https://i.stack.imgur.com/aYOYU.png","title":"Spring boot where is my jar file","body":"<p>Spring boot makes it really easy to setup a simple app.\nBut it takes me longer to actually get a jar file which I can upload to a remote server.\nI am using IntelliJ, no command line, and I use gradle. The application is running somehow out of Intellij. But where are the created files? Where is my jar from Bootjar?</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.0.RELEASE\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\nbootJar {\n    baseName = 'gs-spring-boot'\n    version =  '0.1.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n\n    compile(\"org.springframework.boot:spring-boot-starter-actuator\")\n\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n\n    // add spring data repos\n    compile(\"org.springframework.boot:spring-boot-starter-data-jpa\")\n\n    compile(\"org.postgresql:postgresql:42.2.4\")\n\n    // REST interface\n    compile(\"org.springframework.boot:spring-boot-starter-data-rest\")\n\n    // Security\n    compile(\"org.springframework.boot:spring-boot-starter-security\")\n}\n</code></pre>\n\n<p>Update: Added a picture of the project structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CXfFU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CXfFU.png\" alt=\"enter image description here\"></a>   </p>\n\n<p>Update 2: Folder structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aYOYU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aYOYU.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","junit","rest-assured"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1651497656,"post_id":72085661,"comment_id":127371659,"body_markdown":"The error is really straight-forward and 100% telling you what went wrong.","body":"The error is really straight-forward and 100% telling you what went wrong."},{"owner":{"account_id":25063189,"reputation":43,"user_id":18917817,"display_name":"Olivera Arsovska"},"score":0,"creation_date":1651500762,"post_id":72085661,"comment_id":127372889,"body_markdown":"where to add this charset=utf-8 in the assert ?\nwhen i try to type\nAssert.assertEquals(response.header(&quot;Content-Type&quot;),(&quot;application/json&quot;;&quot;charset=utf-8&quot;));\nit says that i have error in the code. could you help ?","body":"where to add this charset=utf-8 in the assert ? when i try to type Assert.assertEquals(response.header(&quot;Content-Type&quot;),(&quot;applic&zwnj;&#8203;ation/json&quot;;&quot;charset&zwnj;&#8203;=utf-8&quot;)); it says that i have error in the code. could you help ?"}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651503531,"creation_date":1651503531,"answer_id":72088561,"question_id":72085661,"body_markdown":"The problem is Rest-Assured automatically add `charset=utf-8`, that may be returned back in response.\r\n\r\nYou can assert them as follow:\r\n\r\n```\r\nAssert.assertEquals(response.header(&quot;Content-Type&quot;),(&quot;application/json; charset=utf-8&quot;));\r\n```\r\n\r\nor to disable automatic `charset=utf-8` in request header:\r\n\r\n```\r\nRestAssured.config = RestAssured.config(config().encoderConfig(encoderConfig().appendDefaultContentCharsetToContentTypeIfUndefined(false));\r\n```","title":"I&#39;m receiving an java.lang.AssertionError in a test using REST Assured","body":"<p>The problem is Rest-Assured automatically add <code>charset=utf-8</code>, that may be returned back in response.</p>\n<p>You can assert them as follow:</p>\n<pre><code>Assert.assertEquals(response.header(&quot;Content-Type&quot;),(&quot;application/json; charset=utf-8&quot;));\n</code></pre>\n<p>or to disable automatic <code>charset=utf-8</code> in request header:</p>\n<pre><code>RestAssured.config = RestAssured.config(config().encoderConfig(encoderConfig().appendDefaultContentCharsetToContentTypeIfUndefined(false));\n</code></pre>\n"}],"owner":{"account_id":25063189,"reputation":43,"user_id":18917817,"display_name":"Olivera Arsovska"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72088561,"answer_count":1,"score":-1,"last_activity_date":1651503531,"creation_date":1651488749,"question_id":72085661,"body_markdown":"This is the first time for me using Gson and REST Assured, and I am really struggling to be honest.\r\nI need to verify that the content type is JSON and it is, but the test fails with the following message that you will see below.\r\nI am not writing all the imports that I have, if it is needed please tell me and I will provide them.\r\n\r\nThis is the code that I have written:\r\n\r\n```java\r\npackage Gson;\r\n    \r\npublic class TestBase {\r\n    \r\n    public RequestSpecification httpRequest;\r\n    public Response response;\r\n    public JsonPath jsonPathEvaluator;\r\n    \r\n    \r\n    @BeforeMethod\r\n    public void before_method(){\r\n       RestAssured.baseURI = &quot;https://reqres.in/&quot;;\r\n       httpRequest = RestAssured.given();\r\n    }\r\n\r\n    @Test\r\n    public void test1(){\r\n        Reqres reqres = new Reqres(&quot;Olivera&quot;,&quot;tester&quot;);    \r\n        httpRequest.header(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        httpRequest.body(new Gson().toJson(reqres));\r\n        response = httpRequest.post(&quot;/api/users&quot;);\r\n    \r\n        jsonPathEvaluator = response.jsonPath();\r\n        Assert.assertEquals(response.statusCode(), 201);\r\n        Assert.assertEquals(response.header(&quot;Content-Type&quot;),(&quot;application/json&quot;));\r\n        Assert.assertEquals(jsonPathEvaluator.get(&quot;name&quot;).toString(),&quot;Olivera&quot;);\r\n    \r\n    }\r\n    \r\n}\r\n```\r\n\r\nAnd this is the response I get:\r\n\r\n```\r\n    java.lang.AssertionError: \r\n    Expected :application/json\r\n    Actual   :application/json; charset=utf-8\r\n```\r\n\r\nHow can I fix this?","title":"I&#39;m receiving an java.lang.AssertionError in a test using REST Assured","body":"<p>This is the first time for me using Gson and REST Assured, and I am really struggling to be honest.\nI need to verify that the content type is JSON and it is, but the test fails with the following message that you will see below.\nI am not writing all the imports that I have, if it is needed please tell me and I will provide them.</p>\n<p>This is the code that I have written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Gson;\n    \npublic class TestBase {\n    \n    public RequestSpecification httpRequest;\n    public Response response;\n    public JsonPath jsonPathEvaluator;\n    \n    \n    @BeforeMethod\n    public void before_method(){\n       RestAssured.baseURI = &quot;https://reqres.in/&quot;;\n       httpRequest = RestAssured.given();\n    }\n\n    @Test\n    public void test1(){\n        Reqres reqres = new Reqres(&quot;Olivera&quot;,&quot;tester&quot;);    \n        httpRequest.header(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        httpRequest.body(new Gson().toJson(reqres));\n        response = httpRequest.post(&quot;/api/users&quot;);\n    \n        jsonPathEvaluator = response.jsonPath();\n        Assert.assertEquals(response.statusCode(), 201);\n        Assert.assertEquals(response.header(&quot;Content-Type&quot;),(&quot;application/json&quot;));\n        Assert.assertEquals(jsonPathEvaluator.get(&quot;name&quot;).toString(),&quot;Olivera&quot;);\n    \n    }\n    \n}\n</code></pre>\n<p>And this is the response I get:</p>\n<pre><code>    java.lang.AssertionError: \n    Expected :application/json\n    Actual   :application/json; charset=utf-8\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","intellij-idea","generator"],"comments":[{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1673926124,"post_id":71956708,"comment_id":132600632,"body_markdown":"Did you work this out?","body":"Did you work this out?"}],"answers":[{"tags":[],"owner":{"account_id":12468013,"reputation":14,"user_id":9077192,"display_name":"Ionut Adrian Ene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650554657,"creation_date":1650554204,"answer_id":71956889,"question_id":71956708,"body_markdown":"Would you like to generate a new java project from the Intellij?\r\nAssuming that you just installed Java, you have the 2022.1 version and on this one is enough to add new project and select java from the current menu\r\n[enter image description here][1]\r\n\r\n*i would put a comment but i don`t have enough reputation for a simple comment :)* \r\n  [1]: https://i.stack.imgur.com/B2UDF.png","title":"Intellij Not finding Java as a generator. I only have java fx","body":"<p>Would you like to generate a new java project from the Intellij?\nAssuming that you just installed Java, you have the 2022.1 version and on this one is enough to add new project and select java from the current menu\n[enter image description here][1]</p>\n<p><em>i would put a comment but i don`t have enough reputation for a simple comment :)</em>\n[1]: <a href=\"https://i.stack.imgur.com/B2UDF.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/B2UDF.png</a></p>\n"}],"owner":{"account_id":25038177,"reputation":33,"user_id":18895347,"display_name":"Elie Emmanuel Kiti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2497,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71956889,"answer_count":1,"score":3,"last_activity_date":1651503153,"creation_date":1650553437,"question_id":71956708,"body_markdown":"After following all the instruction. I have java and IntelliJ in my computer. I&#39;ve restarted my computer, deleted and reinstalled IntelliJ, still nothing. Furthermore, I can&#39;t see java in the generator&#39;s section.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BwFGm.png","title":"Intellij Not finding Java as a generator. I only have java fx","body":"<p>After following all the instruction. I have java and IntelliJ in my computer. I've restarted my computer, deleted and reinstalled IntelliJ, still nothing. Furthermore, I can't see java in the generator's section.</p>\n"},{"tags":["java","operators"],"comments":[{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1416488423,"post_id":27034711,"comment_id":42599793,"body_markdown":"This is NOT a duplicate of the suggested question. The suggested duplicate is about how Strings should be compared and what&#39;s the difference between == and equals there. This question is about the different behavior of == between Strings and elementary data types. This deserves an answer.","body":"This is NOT a duplicate of the suggested question. The suggested duplicate is about how Strings should be compared and what&#39;s the difference between == and equals there. This question is about the different behavior of == between Strings and elementary data types. This deserves an answer."},{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1416490977,"post_id":27034711,"comment_id":42601319,"body_markdown":"Please take more than 31 seconds (!) to take a decision like this. This is not a race and quick action is not the same thing as good action, especially if your action prevents others from answering the question. Now is there a way to undo the damage?","body":"Please take more than 31 seconds (!) to take a decision like this. This is not a race and quick action is not the same thing as good action, especially if your action prevents others from answering the question. Now is there a way to undo the damage?"},{"owner":{"account_id":85265,"reputation":39793,"user_id":237838,"accept_rate":86,"display_name":"Andrew Barber"},"score":0,"creation_date":1416693623,"post_id":27034711,"comment_id":42675238,"body_markdown":"@mastov The first step is to assume the best, when explaining why you think someone else made a mistake. Just be a little more gentle about it ;) That said; I think you are right here, and it took me *less than 31 seconds* to reach that conclusion. Finally; this might actually be a dupe of something else...","body":"@mastov The first step is to assume the best, when explaining why you think someone else made a mistake. Just be a little more gentle about it ;) That said; I think you are right here, and it took me <i>less than 31 seconds</i> to reach that conclusion. Finally; this might actually be a dupe of something else..."},{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1416752356,"post_id":27034711,"comment_id":42686855,"body_markdown":"@AndrewBarber: You are right. It just bothered me that there was talk about some kind of record for the quickest marking as duplicate, when at the same time the marking had been done wrong. And yes, this is probably a duplicate of something else, but the point is in referencing the right duplicate (so the poster actually receives a reference to an answer).","body":"@AndrewBarber: You are right. It just bothered me that there was talk about some kind of record for the quickest marking as duplicate, when at the same time the marking had been done wrong. And yes, this is probably a duplicate of something else, but the point is in referencing the right duplicate (so the poster actually receives a reference to an answer)."},{"owner":{"account_id":5359864,"reputation":2962,"user_id":4271479,"display_name":"mastov"},"score":0,"creation_date":1416752455,"post_id":27034711,"comment_id":42686879,"body_markdown":"@AndrewBarber: Btw. the original comments about the &quot;record&quot; that I&#39;m talking about seem to have been deleted.","body":"@AndrewBarber: Btw. the original comments about the &quot;record&quot; that I&#39;m talking about seem to have been deleted."},{"owner":{"account_id":85265,"reputation":39793,"user_id":237838,"accept_rate":86,"display_name":"Andrew Barber"},"score":0,"creation_date":1416761330,"post_id":27034711,"comment_id":42689515,"body_markdown":"@mastov yup, I deleted them. Only left yours so you would get the notice of my reply.","body":"@mastov yup, I deleted them. Only left yours so you would get the notice of my reply."}],"answers":[{"tags":[],"owner":{"account_id":85265,"reputation":39793,"user_id":237838,"accept_rate":86,"display_name":"Andrew Barber"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416693963,"creation_date":1416693963,"answer_id":27083079,"question_id":27034711,"body_markdown":"You are right when comparing strings, but that is because strings are Reference types. `==` test for the same reference, not on the value, on Reference types.\r\n\r\nBut types like `int`, `boolean`, `long`, `char` are primitive, or &quot;value&quot; types, not reference types. That is; the variable is indicating the actual *value*; not the reference to where the value is stored.\r\n\r\nNote that there are versions of the above that *are* reference types; the versions with capitals: `Int`, `Boolean`, `Long`, `Char`. These represent &#39;boxed&#39; versions of the primitives above, and `==` compares references with them.","title":"Why does == work for int, double etc, but not String in java","body":"<p>You are right when comparing strings, but that is because strings are Reference types. <code>==</code> test for the same reference, not on the value, on Reference types.</p>\n\n<p>But types like <code>int</code>, <code>boolean</code>, <code>long</code>, <code>char</code> are primitive, or \"value\" types, not reference types. That is; the variable is indicating the actual <em>value</em>; not the reference to where the value is stored.</p>\n\n<p>Note that there are versions of the above that <em>are</em> reference types; the versions with capitals: <code>Int</code>, <code>Boolean</code>, <code>Long</code>, <code>Char</code>. These represent 'boxed' versions of the primitives above, and <code>==</code> compares references with them.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416698809,"creation_date":1416698417,"answer_id":27083672,"question_id":27034711,"body_markdown":"&gt; I don&#39;t understand why the operator &quot;==&quot; will not work for comparing string, but will for comparing int, double, float, etc. from what i understand, &quot;==&quot; determines if two entities are pointing to the same object.\r\n\r\nThe root of your misunderstanding is that the primitive values like `1` and `false` and `3.14159` are NOT objects.  They are values that DO NOT have an object identity.\r\n\r\nIn Java there are two kinds of type:\r\n\r\n  - Primitive data types ... for which `==` compares the values\r\n  - Reference types ... for which `==` compares the object identity\r\n\r\n&gt; a and b are have different reference in memory but this statement returns true.\r\n\r\nNow you are confusing something else.  `a` and `b` are actually variables.  And yes, behind the scenes variables do have corresponding memory addresses.\r\n\r\nHowever ... `a == b` DOES NOT compare the *addresses* the variables.  It compares the *content* of the variables.  And the content of the variables are primitive values that don&#39;t have an address.\r\n\r\n&gt; i thought &quot;==&quot; compares reference?\r\n\r\nFor reference types (objects and arrays), the `==` operator compares references.  \r\n\r\nFor primitive types, the `==` operator compares the actual values.  \r\n\r\nThink about it.  You want `42` to be equal to `42` ... no matter how the numbers were generated.\r\n\r\nAnd just to get back to `String`.  Despite being &quot;built in&quot; to the Java language, the `String` type is a reference type (the class `java.lang.String`) and `==` compares it using reference type semantics; i.e. by comparing identity.  This is a cause of considerable confusion for new Java programmers (hence the knee-jerk closure), but it is a perfectly logical if you understand the bigger picture.\r\n\r\n-----------------\r\n\r\nNow, things do get more complex when we throw the wrapper types and boxing / unboxing into the mix.  But that is beyond the scope of your question.","title":"Why does == work for int, double etc, but not String in java","body":"<blockquote>\n  <p>I don't understand why the operator \"==\" will not work for comparing string, but will for comparing int, double, float, etc. from what i understand, \"==\" determines if two entities are pointing to the same object.</p>\n</blockquote>\n\n<p>The root of your misunderstanding is that the primitive values like <code>1</code> and <code>false</code> and <code>3.14159</code> are NOT objects.  They are values that DO NOT have an object identity.</p>\n\n<p>In Java there are two kinds of type:</p>\n\n<ul>\n<li>Primitive data types ... for which <code>==</code> compares the values</li>\n<li>Reference types ... for which <code>==</code> compares the object identity</li>\n</ul>\n\n<blockquote>\n  <p>a and b are have different reference in memory but this statement returns true.</p>\n</blockquote>\n\n<p>Now you are confusing something else.  <code>a</code> and <code>b</code> are actually variables.  And yes, behind the scenes variables do have corresponding memory addresses.</p>\n\n<p>However ... <code>a == b</code> DOES NOT compare the <em>addresses</em> the variables.  It compares the <em>content</em> of the variables.  And the content of the variables are primitive values that don't have an address.</p>\n\n<blockquote>\n  <p>i thought \"==\" compares reference?</p>\n</blockquote>\n\n<p>For reference types (objects and arrays), the <code>==</code> operator compares references.  </p>\n\n<p>For primitive types, the <code>==</code> operator compares the actual values.  </p>\n\n<p>Think about it.  You want <code>42</code> to be equal to <code>42</code> ... no matter how the numbers were generated.</p>\n\n<p>And just to get back to <code>String</code>.  Despite being \"built in\" to the Java language, the <code>String</code> type is a reference type (the class <code>java.lang.String</code>) and <code>==</code> compares it using reference type semantics; i.e. by comparing identity.  This is a cause of considerable confusion for new Java programmers (hence the knee-jerk closure), but it is a perfectly logical if you understand the bigger picture.</p>\n\n<hr>\n\n<p>Now, things do get more complex when we throw the wrapper types and boxing / unboxing into the mix.  But that is beyond the scope of your question.</p>\n"}],"owner":{"account_id":5131017,"reputation":29,"user_id":4111216,"display_name":"john"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1651503047,"creation_date":1416471257,"question_id":27034711,"body_markdown":"I don&#39;t understand why the operator `==` won&#39;t work when comparing string, but it will work when comparing int, double, float, etc.\r\n\r\nFrom what I understand, `==` determines if two entities are pointing to the same object.  \r\nIn the following code, `a == b` returns `true`. Why?  \r\n\r\n```java\r\nint a = 10;\r\nint b = 10;\r\n\r\nif (a == b) {\r\n  // â€¦\r\n}\r\n```\r\n\r\n","title":"Why does == work for int, double etc, but not String in java","body":"<p>I don't understand why the operator <code>==</code> won't work when comparing string, but it will work when comparing int, double, float, etc.</p>\n<p>From what I understand, <code>==</code> determines if two entities are pointing to the same object.<br />\nIn the following code, <code>a == b</code> returns <code>true</code>. Why?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a = 10;\nint b = 10;\n\nif (a == b) {\n  // â€¦\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1651502489,"post_id":72088319,"comment_id":127373515,"body_markdown":"I&#39;m going to ask the obvious: What&#39;s the problem with using an explicit loop (rather than an implicit one that a standard library function will use under the hood)?","body":"I&#39;m going to ask the obvious: What&#39;s the problem with using an explicit loop (rather than an implicit one that a standard library function will use under the hood)?"}],"answers":[{"tags":[],"owner":{"account_id":7520522,"reputation":538,"user_id":5712576,"display_name":"Kays Kadhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651503021,"creation_date":1651502617,"answer_id":72088373,"question_id":72088319,"body_markdown":"Why not simply use a for loop? \r\n\r\n    for (int j = 0; j &lt; arr.length; j++) {\r\n        arr[j] = i;\r\n        i--;\r\n    }\r\n\r\nYou can also use the Arrays.setAll function \r\n\r\n    Arrays.setAll(arr, (index) -&gt; i - index);\r\n\r\n\r\nBy the way, Arrays.fill will fill the all array with the given value, so that&#39;s why you&#39;re getting `[23, 23, 23, 23, 23, 23, 23, 23]`.\r\n\r\n","title":"Fill an array with descending values","body":"<p>Why not simply use a for loop?</p>\n<pre><code>for (int j = 0; j &lt; arr.length; j++) {\n    arr[j] = i;\n    i--;\n}\n</code></pre>\n<p>You can also use the Arrays.setAll function</p>\n<pre><code>Arrays.setAll(arr, (index) -&gt; i - index);\n</code></pre>\n<p>By the way, Arrays.fill will fill the all array with the given value, so that's why you're getting <code>[23, 23, 23, 23, 23, 23, 23, 23]</code>.</p>\n"},{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651502700,"creation_date":1651502700,"answer_id":72088384,"question_id":72088319,"body_markdown":"You could use Streams :\r\n\r\n    IntStream.iterate(23, i -&gt; i - 1)\r\n                .limit(8)\r\n                .toArray();","title":"Fill an array with descending values","body":"<p>You could use Streams :</p>\n<pre><code>IntStream.iterate(23, i -&gt; i - 1)\n            .limit(8)\n            .toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17791442,"reputation":180,"user_id":12920349,"display_name":"Jamil Matheny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651502733,"creation_date":1651502733,"answer_id":72088389,"question_id":72088319,"body_markdown":"You&#39;ll need to write a for loop in descending order to complete and display the array.","title":"Fill an array with descending values","body":"<p>You'll need to write a for loop in descending order to complete and display the array.</p>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72088373,"answer_count":3,"score":-1,"last_activity_date":1651503021,"creation_date":1651502331,"question_id":72088319,"body_markdown":"Trying to find the easiest way to fill an array with some values starting at 23 in descending order. I have the code below but not getting the result i am looking for:\r\n\r\n    int[] arr = new int[8];\r\n    int i = 24;\r\n    Arrays.fill(arr, --i);\r\n    System.out.println(Arrays.toString(arr));\r\n\r\noutput now\r\n\r\n    [23, 23, 23, 23, 23, 23, 23, 23]\r\nexpected\r\n\r\n    [23, 22, 21, 20, 19, 18, 17, 16]\r\n\r\nHow to fill an array easily and get the expected output, if possible without a for/while loop?","title":"Fill an array with descending values","body":"<p>Trying to find the easiest way to fill an array with some values starting at 23 in descending order. I have the code below but not getting the result i am looking for:</p>\n<pre><code>int[] arr = new int[8];\nint i = 24;\nArrays.fill(arr, --i);\nSystem.out.println(Arrays.toString(arr));\n</code></pre>\n<p>output now</p>\n<pre><code>[23, 23, 23, 23, 23, 23, 23, 23]\n</code></pre>\n<p>expected</p>\n<pre><code>[23, 22, 21, 20, 19, 18, 17, 16]\n</code></pre>\n<p>How to fill an array easily and get the expected output, if possible without a for/while loop?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1435817673,"post_id":31176767,"comment_id":50360315,"body_markdown":"Well what have you tried so far? You can use the servlet container configuration (web.xml) to specify which servlet should be invoked for which URL, and then if you just extend `HttpServlet` you can override whichever methods you want.","body":"Well what have you tried so far? You can use the servlet container configuration (web.xml) to specify which servlet should be invoked for which URL, and then if you just extend <code>HttpServlet</code> you can override whichever methods you want."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1435817969,"post_id":31176767,"comment_id":50360458,"body_markdown":"Well did you look at any documentation to find out? (Delete and put, yes - for patch you&#39;d need to override `service`, and intercept patch calls there, delegating back to the normal implementation if it isn&#39;t patch.)","body":"Well did you look at any documentation to find out? (Delete and put, yes - for patch you&#39;d need to override <code>service</code>, and intercept patch calls there, delegating back to the normal implementation if it isn&#39;t patch.)"},{"owner":{"account_id":3232199,"reputation":7162,"user_id":2727195,"accept_rate":78,"display_name":"user2727195"},"score":0,"creation_date":1435818031,"post_id":31176767,"comment_id":50360484,"body_markdown":"I&#39;m kinda lost here, google search is giving me all sorts of links, will appreciate the direct link to documentation","body":"I&#39;m kinda lost here, google search is giving me all sorts of links, will appreciate the direct link to documentation"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1435818103,"post_id":31176767,"comment_id":50360529,"body_markdown":"A search for &quot;httpservlet documentation&quot; gets straight to useful links... http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServlet.html for example, depending on which version of things you&#39;re using... (If you look at the docs for the container you&#39;re using, that will probably have the right version.)","body":"A search for &quot;httpservlet documentation&quot; gets straight to useful links... <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServlet.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/servlet/http/&hellip;</a> for example, depending on which version of things you&#39;re using... (If you look at the docs for the container you&#39;re using, that will probably have the right version.)"},{"owner":{"account_id":3232199,"reputation":7162,"user_id":2727195,"accept_rate":78,"display_name":"user2727195"},"score":0,"creation_date":1435818262,"post_id":31176767,"comment_id":50360605,"body_markdown":"thanks, this is enlightenment, it seems like servlet basically takes care of all the REST related needs, can you please tell me then why people use Spring framework that bloats the code with it&#39;s own annotations etc. (except MVC thing which is clear to me)","body":"thanks, this is enlightenment, it seems like servlet basically takes care of all the REST related needs, can you please tell me then why people use Spring framework that bloats the code with it&#39;s own annotations etc. (except MVC thing which is clear to me)"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1435818358,"post_id":31176767,"comment_id":50360643,"body_markdown":"I don&#39;t think you&#39;re really in a position to judge how useful Spring is right now. I haven&#39;t used it for a long time myself, and not for this sort of thing, but you should probably read the documentation to say what the authors think the benefits are. There&#39;s a lot more to REST than just getting the request to the right method of the right servlet though...","body":"I don&#39;t think you&#39;re really in a position to judge how useful Spring is right now. I haven&#39;t used it for a long time myself, and not for this sort of thing, but you should probably read the documentation to say what the authors think the benefits are. There&#39;s a lot more to REST than just getting the request to the right method of the right servlet though..."}],"answers":[{"tags":[],"owner":{"account_id":401234,"reputation":3433,"user_id":767676,"accept_rate":80,"display_name":"Acapulco"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651502649,"creation_date":1435817862,"answer_id":31176851,"question_id":31176767,"body_markdown":"I believe what you want are [Servlet mappings][1]. You can also find [a bit more info here][2]\r\n\r\nBut basically this is the way you tell the webserver (e.g. Tomcat) what servlet to use to answer requests sent to a given url pattern. Thus you map the pattern with the servlet you want to use to serve it.\r\n\r\nYou can also find more info on the [inner workings here][3].\r\n\r\nEdit: If you want to handle all verbs you can use a service. From the first link:\r\n\r\n&gt; You may have seen other servlet examples implement the doPost() and/or doGet() methods. These methods reply only to POST or GET requests; if you want to handle all request types from a single method, your servlet can simply implement the service() method. (However, if you choose to implement the service() method, you cannot implement the doPost() or doGet() methods, unless you call super.service() at the beginning of the service() method.) The HTTP servlet specification describes other methods used to handle other request types, but all of these methods are collectively referred to as service methods.\r\n&gt; \r\n&gt; All the service methods take the same parameter arguments. An\r\n&gt; HttpServletRequest provides information about the request, and your\r\n&gt; servlet uses an HttpServletResponse to reply to the HTTP client. The\r\n&gt; service method looks like the following:\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; public void service(HttpServletRequest req,\r\n&gt;        HttpServletResponse res) throws IOException { ... }\r\n\r\n  \r\n\r\n[1]: https://docs.oracle.com/cd/E13222_01/wls/docs92/webapp/configureservlet.html\r\n  [2]: http://javapapers.com/servlet/what-is-servlet-mapping/\r\n  [3]: https://stackoverflow.com/a/15386616/767676","title":"servlet route with GET, POST, PUT and DELETE","body":"<p>I believe what you want are <a href=\"https://docs.oracle.com/cd/E13222_01/wls/docs92/webapp/configureservlet.html\" rel=\"nofollow noreferrer\">Servlet mappings</a>. You can also find <a href=\"http://javapapers.com/servlet/what-is-servlet-mapping/\" rel=\"nofollow noreferrer\">a bit more info here</a></p>\n<p>But basically this is the way you tell the webserver (e.g. Tomcat) what servlet to use to answer requests sent to a given url pattern. Thus you map the pattern with the servlet you want to use to serve it.</p>\n<p>You can also find more info on the <a href=\"https://stackoverflow.com/a/15386616/767676\">inner workings here</a>.</p>\n<p>Edit: If you want to handle all verbs you can use a service. From the first link:</p>\n<blockquote>\n<p>You may have seen other servlet examples implement the doPost() and/or doGet() methods. These methods reply only to POST or GET requests; if you want to handle all request types from a single method, your servlet can simply implement the service() method. (However, if you choose to implement the service() method, you cannot implement the doPost() or doGet() methods, unless you call super.service() at the beginning of the service() method.) The HTTP servlet specification describes other methods used to handle other request types, but all of these methods are collectively referred to as service methods.</p>\n<p>All the service methods take the same parameter arguments. An\nHttpServletRequest provides information about the request, and your\nservlet uses an HttpServletResponse to reply to the HTTP client. The\nservice method looks like the following:</p>\n<p>public void service(HttpServletRequest req,\nHttpServletResponse res) throws IOException { ... }</p>\n</blockquote>\n"}],"owner":{"account_id":3232199,"reputation":7162,"user_id":2727195,"accept_rate":78,"display_name":"user2727195"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4905,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":31176851,"answer_count":1,"score":0,"last_activity_date":1651502649,"creation_date":1435817497,"question_id":31176767,"body_markdown":"I&#39;m new to Java server-side programming, my question is basically to get to a starting point using Servlets (low level without using spring mvc etc.) and then build my way up from there, coming from node.js background where a route definition would start with a function (`app.get(request, response) {}`, `app.post(request, response) {}` etc.), and the function would receive `request` and `response` in parameters for one of http methods (GET, POST, PUT, DELETE).\r\n\r\nIf someone can please help on the starting point of how do I define methods against a route (let&#39;s say `/users`) inside a servlet class that&#39;d map to http methods while providing request and response in it&#39;s parameters.\r\n\r\nMy attempt\r\n\r\n    public class FirstServlet extends HttpServlet {\r\n      \r\n      public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n        throws ServletException , IOException {\r\n    \r\n    }","title":"servlet route with GET, POST, PUT and DELETE","body":"<p>I'm new to Java server-side programming, my question is basically to get to a starting point using Servlets (low level without using spring mvc etc.) and then build my way up from there, coming from node.js background where a route definition would start with a function (<code>app.get(request, response) {}</code>, <code>app.post(request, response) {}</code> etc.), and the function would receive <code>request</code> and <code>response</code> in parameters for one of http methods (GET, POST, PUT, DELETE).</p>\n\n<p>If someone can please help on the starting point of how do I define methods against a route (let's say <code>/users</code>) inside a servlet class that'd map to http methods while providing request and response in it's parameters.</p>\n\n<p>My attempt</p>\n\n<pre><code>public class FirstServlet extends HttpServlet {\n\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException , IOException {\n\n}\n</code></pre>\n"},{"tags":["java","kotlin","timestamp","datetime-format"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":3,"creation_date":1651309145,"post_id":72067032,"comment_id":127337571,"body_markdown":"*&quot;I donâ€™t recognize the format&quot;* [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).","body":"<i>&quot;I donâ€™t recognize the format&quot;</i> <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>."}],"answers":[{"tags":[],"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651311293,"creation_date":1651311293,"answer_id":72067287,"question_id":72067032,"body_markdown":"You can use `DateTimeFormatter` with `ISO_OFFSET_DATE_TIME` for this\r\n\r\nIn Java\r\n\r\n    OffsetDateTime offsetDateTime = Instant.ofEpochMilli(timeInMillis).atOffset(ZoneOffset.ofHoursMinutes(hours, minutes));\r\n    String formatted = offsetDateTime.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n\r\nIn Kotlin\r\n\r\n   \r\n\r\n    val offSetDateTime = Instant.ofEpochMilli(timeInMillis).atOffset(oneOffset.ofHoursMinutes(hours, minutes))\r\n    val formatted = current.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)\r\n    \r\n    \r\nOutput - `&#39;2011-12-03T10:15:30+01:00&#39;`","title":"timestamp UTC+0 in java or kotlin","body":"<p>You can use <code>DateTimeFormatter</code> with <code>ISO_OFFSET_DATE_TIME</code> for this</p>\n<p>In Java</p>\n<pre><code>OffsetDateTime offsetDateTime = Instant.ofEpochMilli(timeInMillis).atOffset(ZoneOffset.ofHoursMinutes(hours, minutes));\nString formatted = offsetDateTime.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n</code></pre>\n<p>In Kotlin</p>\n<pre><code>val offSetDateTime = Instant.ofEpochMilli(timeInMillis).atOffset(oneOffset.ofHoursMinutes(hours, minutes))\nval formatted = current.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)\n</code></pre>\n<p>Output - <code>'2011-12-03T10:15:30+01:00'</code></p>\n"}],"owner":{"account_id":12803131,"reputation":1,"user_id":9263789,"display_name":"ykes60513"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651502614,"creation_date":1651308876,"question_id":72067032,"body_markdown":"Could someone know how to generate a timestamp format like this\r\n\r\n    â€œtimestampâ€ : â€œ2022-04-30T08:40:02.640+00:00â€\r\n\r\nI donâ€™t recognize the format and donâ€™t know how to generate it win kotlin, and it should be UTC+0.\r\nThere are so many way to generate time, datetime and timestampâ€¦Iâ€™m confused.","title":"timestamp UTC+0 in java or kotlin","body":"<p>Could someone know how to generate a timestamp format like this</p>\n<pre><code>â€œtimestampâ€ : â€œ2022-04-30T08:40:02.640+00:00â€\n</code></pre>\n<p>I donâ€™t recognize the format and donâ€™t know how to generate it win kotlin, and it should be UTC+0.\nThere are so many way to generate time, datetime and timestampâ€¦Iâ€™m confused.</p>\n"},{"tags":["java","oracle","jdbc","c3p0"],"comments":[{"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"score":0,"creation_date":1651514027,"post_id":72088166,"comment_id":127377668,"body_markdown":"It looks like the attempt to connect to the DB (within the Oracle driver, not c3p0) is hanging indefinitely. On AWS, this happens easily if there is a security group misconfiguration, if the connection is not properly authorized.","body":"It looks like the attempt to connect to the DB (within the Oracle driver, not c3p0) is hanging indefinitely. On AWS, this happens easily if there is a security group misconfiguration, if the connection is not properly authorized."},{"owner":{"account_id":25173906,"reputation":1,"user_id":19016389,"display_name":"Robin Robin"},"score":0,"creation_date":1651596829,"post_id":72088166,"comment_id":127399145,"body_markdown":"So, this is an ec2 instance, which hosts multiple services (container).  Only this service has suddenly stopped working. That should eliminate security group aspect. @SteveWaldman","body":"So, this is an ec2 instance, which hosts multiple services (container).  Only this service has suddenly stopped working. That should eliminate security group aspect. @SteveWaldman"}],"owner":{"account_id":25173906,"reputation":1,"user_id":19016389,"display_name":"Robin Robin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651502134,"creation_date":1651501615,"question_id":72088166,"body_markdown":"I have a Java based service (deployed as a container in AWS) which loads some data as part of cache hydration at startup. I am using *c3p0* for connection pooling and recently in our QA env, this service started hanging up at startup (there is no code or library change). I restored the QA tag to prod tag to make sure, container image is the same as the working prod container, however, it still did not work.\r\n\r\nI recall a similar issue for other service a couple of years back and I was able to fix that with adding an entropy related JVM flag (`-Djava.security.egd=file:/dev/./urandom`), however, even that approach is not working fine.\r\n\r\nDB \r\n\r\n - Oracle 19.8.0.0\r\n\r\nLib specs: \r\n\r\n - c3p0-0.9.1.2.jar\r\n - ojdbc8-19.3.0.0.jar\r\n - orai18n-12.2.0.1.jar\r\n\r\nPlease see java thread stack:\r\n```\r\nC3p0 pool initialization threads hung up Thread 96: (state = IN_NATIVE)\r\n\r\n\tsun.nio.ch.Net.connect0(boolean, java.io.FileDescriptor, java.net.InetAddress, int) @bci=0 (Interpreted frame)  \r\n\tsun.nio.ch.Net.connect(java.net.ProtocolFamily, java.io.FileDescriptor, java.net.InetAddress, int) @bci=25, line=482 (Interpreted frame)  \r\n\tsun.nio.ch.Net.connect(java.io.FileDescriptor, java.net.InetAddress, int) @bci=6, line=474 (Interpreted frame)  \r\n\tsun.nio.ch.SocketChannelImpl.connect(java.net.SocketAddress) @bci=225, line=647 (Interpreted frame)  \r\n\tjava.nio.channels.SocketChannel.open(java.net.SocketAddress) @bci=6, line=189 (Interpreted frame)  \r\n\toracle.net.nt.TimeoutSocketChannel.connect(java.net.SocketAddress, int) @bci=8, line=99 (Interpreted frame)  \r\n\toracle.net.nt.TimeoutSocketChannel.(java.net.SocketAddress, int, oracle.net.nt.NetStatImpl) @bci=33, line=77 (Interpreted frame)  \r\n\toracle.net.nt.TcpNTAdapter.connect() @bci=210, line=192 (Interpreted frame)  \r\n\toracle.net.nt.ConnOption.connect(java.util.Properties) @bci=69, line=174 (Interpreted frame)  \r\n\toracle.net.nt.ConnStrategy.execute(boolean) @bci=380, line=510 (Interpreted frame)  \r\n\toracle.net.resolver.AddrResolution.resolveAndExecute(java.lang.String, boolean) @bci=311, line=548 (Interpreted frame)  \r\n\toracle.net.ns.NSProtocol.establishConnection(java.lang.String, boolean) @bci=10, line=682 (Interpreted frame)  \r\n\toracle.net.ns.NSProtocol.connect(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) @bci=387, line=309 (Interpreted frame)  \r\n\toracle.jdbc.driver.T4CConnection.connect(java.lang.String, org.ietf.jgss.GSSCredential) @bci=1422, line=1596 (Interpreted frame)  \r\n\toracle.jdbc.driver.T4CConnection.logon(org.ietf.jgss.GSSCredential) @bci=51, line=588 (Interpreted frame)  \r\n\toracle.jdbc.driver.PhysicalConnection.connect(org.ietf.jgss.GSSCredential) @bci=45, line=793 (Interpreted frame)  \r\n\toracle.jdbc.driver.T4CDriverExtension.getConnection(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) @bci=15, line=57 (Interpreted frame)  \r\n\toracle.jdbc.driver.OracleDriver.connect(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) @bci=477, line=747 (Interpreted frame)  \r\n\toracle.jdbc.driver.OracleDriver.connect(java.lang.String, java.util.Properties) @bci=4, line=562 (Interpreted frame)  \r\n\tcom.mchange.v2.c3p0.DriverManagerDataSource.getConnection(java.lang.String, java.lang.String) @bci=18, line=134 (Interpreted frame)  \r\n\tcom.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(java.lang.String, java.lang.String, com.mchange.v2.c3p0.ConnectionCustomizer, java.lang.String) @bci=25, line=182 (Interpreted frame)  \r\n\tcom.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(java.lang.String, java.lang.String) @bci=5, line=171 (Interpreted frame)  \r\n\tcom.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource() @bci=50, line=137 (Interpreted frame)  \r\n\tcom.mchange.v2.resourcepool.BasicResourcePool.doAcquire() @bci=25, line=1014 (Interpreted frame)  \r\n\tcom.mchange.v2.resourcepool.BasicResourcePool.access$800(com.mchange.v2.resourcepool.BasicResourcePool) @bci=1, line=32 (Interpreted frame)  \r\n\tcom.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run() @bci=31, line=1810 (Interpreted frame)  \r\n\tcom.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run() @bci=121, line=547 (Interpreted frame)  \r\n```\r\n\r\n\r\nApplication layer timeout as it is not able to get connection from pool.\r\n\r\nTIA.","title":"C3P0 pool connection acquisition hangs","body":"<p>I have a Java based service (deployed as a container in AWS) which loads some data as part of cache hydration at startup. I am using <em>c3p0</em> for connection pooling and recently in our QA env, this service started hanging up at startup (there is no code or library change). I restored the QA tag to prod tag to make sure, container image is the same as the working prod container, however, it still did not work.</p>\n<p>I recall a similar issue for other service a couple of years back and I was able to fix that with adding an entropy related JVM flag (<code>-Djava.security.egd=file:/dev/./urandom</code>), however, even that approach is not working fine.</p>\n<p>DB</p>\n<ul>\n<li>Oracle 19.8.0.0</li>\n</ul>\n<p>Lib specs:</p>\n<ul>\n<li>c3p0-0.9.1.2.jar</li>\n<li>ojdbc8-19.3.0.0.jar</li>\n<li>orai18n-12.2.0.1.jar</li>\n</ul>\n<p>Please see java thread stack:</p>\n<pre><code>C3p0 pool initialization threads hung up Thread 96: (state = IN_NATIVE)\n\n    sun.nio.ch.Net.connect0(boolean, java.io.FileDescriptor, java.net.InetAddress, int) @bci=0 (Interpreted frame)  \n    sun.nio.ch.Net.connect(java.net.ProtocolFamily, java.io.FileDescriptor, java.net.InetAddress, int) @bci=25, line=482 (Interpreted frame)  \n    sun.nio.ch.Net.connect(java.io.FileDescriptor, java.net.InetAddress, int) @bci=6, line=474 (Interpreted frame)  \n    sun.nio.ch.SocketChannelImpl.connect(java.net.SocketAddress) @bci=225, line=647 (Interpreted frame)  \n    java.nio.channels.SocketChannel.open(java.net.SocketAddress) @bci=6, line=189 (Interpreted frame)  \n    oracle.net.nt.TimeoutSocketChannel.connect(java.net.SocketAddress, int) @bci=8, line=99 (Interpreted frame)  \n    oracle.net.nt.TimeoutSocketChannel.(java.net.SocketAddress, int, oracle.net.nt.NetStatImpl) @bci=33, line=77 (Interpreted frame)  \n    oracle.net.nt.TcpNTAdapter.connect() @bci=210, line=192 (Interpreted frame)  \n    oracle.net.nt.ConnOption.connect(java.util.Properties) @bci=69, line=174 (Interpreted frame)  \n    oracle.net.nt.ConnStrategy.execute(boolean) @bci=380, line=510 (Interpreted frame)  \n    oracle.net.resolver.AddrResolution.resolveAndExecute(java.lang.String, boolean) @bci=311, line=548 (Interpreted frame)  \n    oracle.net.ns.NSProtocol.establishConnection(java.lang.String, boolean) @bci=10, line=682 (Interpreted frame)  \n    oracle.net.ns.NSProtocol.connect(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) @bci=387, line=309 (Interpreted frame)  \n    oracle.jdbc.driver.T4CConnection.connect(java.lang.String, org.ietf.jgss.GSSCredential) @bci=1422, line=1596 (Interpreted frame)  \n    oracle.jdbc.driver.T4CConnection.logon(org.ietf.jgss.GSSCredential) @bci=51, line=588 (Interpreted frame)  \n    oracle.jdbc.driver.PhysicalConnection.connect(org.ietf.jgss.GSSCredential) @bci=45, line=793 (Interpreted frame)  \n    oracle.jdbc.driver.T4CDriverExtension.getConnection(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) @bci=15, line=57 (Interpreted frame)  \n    oracle.jdbc.driver.OracleDriver.connect(java.lang.String, java.util.Properties, org.ietf.jgss.GSSCredential) @bci=477, line=747 (Interpreted frame)  \n    oracle.jdbc.driver.OracleDriver.connect(java.lang.String, java.util.Properties) @bci=4, line=562 (Interpreted frame)  \n    com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(java.lang.String, java.lang.String) @bci=18, line=134 (Interpreted frame)  \n    com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(java.lang.String, java.lang.String, com.mchange.v2.c3p0.ConnectionCustomizer, java.lang.String) @bci=25, line=182 (Interpreted frame)  \n    com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(java.lang.String, java.lang.String) @bci=5, line=171 (Interpreted frame)  \n    com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource() @bci=50, line=137 (Interpreted frame)  \n    com.mchange.v2.resourcepool.BasicResourcePool.doAcquire() @bci=25, line=1014 (Interpreted frame)  \n    com.mchange.v2.resourcepool.BasicResourcePool.access$800(com.mchange.v2.resourcepool.BasicResourcePool) @bci=1, line=32 (Interpreted frame)  \n    com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run() @bci=31, line=1810 (Interpreted frame)  \n    com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run() @bci=121, line=547 (Interpreted frame)  \n</code></pre>\n<p>Application layer timeout as it is not able to get connection from pool.</p>\n<p>TIA.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1435148057,"post_id":3564663,"comment_id":50077070,"body_markdown":"possible duplicate of [Relation between package and a sub package in Java](http://stackoverflow.com/questions/7847568/relation-between-package-and-a-sub-package-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7847568/relation-between-package-and-a-sub-package-in-java\">Relation between package and a sub package in Java</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user400055"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342496445,"creation_date":1282730247,"answer_id":3564677,"question_id":3564663,"body_markdown":"Simply import it: \r\n\r\n    import A.sup;","title":"parent package class accessible from child packge class in java?","body":"<p>Simply import it: </p>\n\n<pre><code>import A.sup;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1282730414,"creation_date":1282730414,"answer_id":3564695,"question_id":3564663,"body_markdown":"&gt; In java parent package class\r\n&gt; accessible from child packge class?\r\n&gt; please explain me any one?\r\n\r\nNot the way you&#39;re thinking.  The directories are hierarchical, but the packages are just distinguishing names.  \r\n\r\nIf a child needs a parent package, or any other outside its hierarchy, it simply needs to import it.\r\n\r\nThat&#39;s why `import foo.*` doesn&#39;t give you access to all sub-package names - packages aren&#39;t hierarchical the way directories are.","title":"parent package class accessible from child packge class in java?","body":"<blockquote>\n  <p>In java parent package class\n  accessible from child packge class?\n  please explain me any one?</p>\n</blockquote>\n\n<p>Not the way you're thinking.  The directories are hierarchical, but the packages are just distinguishing names.  </p>\n\n<p>If a child needs a parent package, or any other outside its hierarchy, it simply needs to import it.</p>\n\n<p>That's why <code>import foo.*</code> doesn't give you access to all sub-package names - packages aren't hierarchical the way directories are.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1563061619,"creation_date":1282730504,"answer_id":3564703,"question_id":3564663,"body_markdown":"Java does not recognize the notion of a subpackage&lt;sup&gt;1&lt;/sup&gt;.  As far as Java is concerned packages `a` and `a.b` and `a.b.c` are unrelated.  They are just names.\r\n\r\nSo, if you want to access `a.b.SomeClass` from `a.b.c.SomeOtherClass`, you must either use a fully qualified class name, or add an `import` to `SomeOtherClass`\r\n\r\n&lt;sup&gt;1 - From Java 9 onwards you can use modules to implement abstraction boundaries that are larger than a single package.   This doesn&#39;t address *this* question which is about *package-private* access, but it could be viewed as an alternative to *package-private*.&lt;/sup&gt;\r\n\r\n--------------\r\n\r\nAs for your example that doesn&#39;t compile, I think we need a proper MCVE to understand that.  My guess is that you have gotten the file organization for your source tree wrong ... \r\n\r\nIt is also possible that the problem is that the visibility of the class you are trying to import is wrong (package private), but that wouldn&#39;t cause the compiler to say that the *package* doesn&#39;t exist, like you said it does.","title":"parent package class accessible from child packge class in java?","body":"<p>Java does not recognize the notion of a subpackage<sup>1</sup>.  As far as Java is concerned packages <code>a</code> and <code>a.b</code> and <code>a.b.c</code> are unrelated.  They are just names.</p>\n\n<p>So, if you want to access <code>a.b.SomeClass</code> from <code>a.b.c.SomeOtherClass</code>, you must either use a fully qualified class name, or add an <code>import</code> to <code>SomeOtherClass</code></p>\n\n<p><sup>1 - From Java 9 onwards you can use modules to implement abstraction boundaries that are larger than a single package.   This doesn't address <em>this</em> question which is about <em>package-private</em> access, but it could be viewed as an alternative to <em>package-private</em>.</sup></p>\n\n<hr>\n\n<p>As for your example that doesn't compile, I think we need a proper MCVE to understand that.  My guess is that you have gotten the file organization for your source tree wrong ... </p>\n\n<p>It is also possible that the problem is that the visibility of the class you are trying to import is wrong (package private), but that wouldn't cause the compiler to say that the <em>package</em> doesn't exist, like you said it does.</p>\n"},{"tags":[],"owner":{"account_id":97390,"reputation":12553,"user_id":264181,"display_name":"diyism"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320305155,"creation_date":1320303843,"answer_id":7991269,"question_id":3564663,"body_markdown":"In object of a.b.c.SomeOtherClass:\r\n\r\n    List&lt;String&gt; tmp=new ArrayList&lt;String&gt;(Arrays.asList(this.getClass().getPackage().getName().split(&quot;\\\\.&quot;)));\r\n    tmp.remove(tmp.size()-1);\r\n    String parent_package_name=tmp.toString().replace(&quot;, &quot;, &quot;.&quot;).replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;);\r\n    Class cls=Class.forName(parent_package_name+&quot;.SomeClass&quot;);","title":"parent package class accessible from child packge class in java?","body":"<p>In object of a.b.c.SomeOtherClass:</p>\n\n<pre><code>List&lt;String&gt; tmp=new ArrayList&lt;String&gt;(Arrays.asList(this.getClass().getPackage().getName().split(\"\\\\.\")));\ntmp.remove(tmp.size()-1);\nString parent_package_name=tmp.toString().replace(\", \", \".\").replaceAll(\"[\\\\[\\\\]]\", \"\");\nClass cls=Class.forName(parent_package_name+\".SomeClass\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11152308,"reputation":1,"user_id":8185134,"display_name":"S K"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1498400842,"creation_date":1497905180,"answer_id":44639688,"question_id":3564663,"body_markdown":"default class can be only used within package **except** subpackage","title":"parent package class accessible from child packge class in java?","body":"<p>default class can be only used within package <strong>except</strong> subpackage</p>\n"},{"tags":[],"owner":{"account_id":2803864,"reputation":990,"user_id":2411506,"display_name":"DanielCuadra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550100245,"creation_date":1550100245,"answer_id":54680990,"question_id":3564663,"body_markdown":"All answers seem to miss OP&#39;s point on **package class** as everyone seem to suggest importing the class as a workaround.\r\n\r\n**The answer is:** package-level classes (i.e., without explicit access level modifier), are visible ONLY for the EXACT same package.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n&gt; If a class has no modifier (the default, also known as package-private), it is visible only within its own package\r\n\r\nThis effectively means that neither parent/child/external packages can view the class.\r\n","title":"parent package class accessible from child packge class in java?","body":"<p>All answers seem to miss OP's point on <strong>package class</strong> as everyone seem to suggest importing the class as a workaround.</p>\n\n<p><strong>The answer is:</strong> package-level classes (i.e., without explicit access level modifier), are visible ONLY for the EXACT same package.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html</a></p>\n\n<blockquote>\n  <p>If a class has no modifier (the default, also known as package-private), it is visible only within its own package</p>\n</blockquote>\n\n<p>This effectively means that neither parent/child/external packages can view the class.</p>\n"},{"tags":[],"owner":{"account_id":16652014,"reputation":1,"user_id":12034596,"display_name":"asish Magham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651501905,"creation_date":1651501905,"answer_id":72088238,"question_id":3564663,"body_markdown":"Yes I have encountered the same error whenever I tried to access a class in the same package of the source file or the parent package of the source file it is generating a compiled time error , so by trial and error method I came to the conclusion that the packages are not built in a way to support main methods in the classes and they are not built in a way to support importing their parent packages or child packages","title":"parent package class accessible from child packge class in java?","body":"<p>Yes I have encountered the same error whenever I tried to access a class in the same package of the source file or the parent package of the source file it is generating a compiled time error , so by trial and error method I came to the conclusion that the packages are not built in a way to support main methods in the classes and they are not built in a way to support importing their parent packages or child packages</p>\n"}],"owner":{"account_id":643209,"reputation":3263,"user_id":426008,"accept_rate":0,"display_name":"Vinoth Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22834,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":7,"score":13,"last_activity_date":1651501905,"creation_date":1282730149,"question_id":3564663,"body_markdown":"In java parent package class accessible from child packge class? please explain me any one?\r\n\r\nexample\r\npackage A.A1.A2 contains class sub\r\npackage A contains class sup\r\n\r\nIs there anyway to access sup from sub?\r\n\r\npls explain.\r\n\r\ni tried import it won&#39;t work\r\nExample:\r\nbefore the program Directory Structure is \r\npackage1 contains package1.java --&gt; package2 --&gt; package3 contains PCheck.java\r\n\r\n    //package1.java\r\n    package package1;\r\n    public class package1{\r\n        public static void main(String[] args) {\r\n            \r\n        }\r\n    }\r\n    class phelo{\r\n        phelo(){\r\n            int a;\r\n            System.out.println(&quot;hai fun freom package 1&quot;);\r\n        }\r\n    }\r\n    \r\n    //PCheck.java;\r\n    package package1.package2.package3;\r\n    import package1.*;   //to import package1.java\r\n    public class PCheck {\r\n        public static void main(String[] args) {\r\n            phelo obj=new phelo();\r\n        }\r\n    }\r\n    class helo{\r\n        helo(){\r\n            int a;\r\n            System.out.println(&quot;hai fun from package 3&quot;);\r\n        }\r\n    }\r\n\r\noutput:\r\ncompile time error:package package1.package2.package3 doesnot exist;\r\n\r\nfor import class from different directory we use import statements but here we need access parent package from subpackage.i tried import  it won&#39;t work  pls explain with an example.","title":"parent package class accessible from child packge class in java?","body":"<p>In java parent package class accessible from child packge class? please explain me any one?</p>\n\n<p>example\npackage A.A1.A2 contains class sub\npackage A contains class sup</p>\n\n<p>Is there anyway to access sup from sub?</p>\n\n<p>pls explain.</p>\n\n<p>i tried import it won't work\nExample:\nbefore the program Directory Structure is \npackage1 contains package1.java --> package2 --> package3 contains PCheck.java</p>\n\n<pre><code>//package1.java\npackage package1;\npublic class package1{\n    public static void main(String[] args) {\n\n    }\n}\nclass phelo{\n    phelo(){\n        int a;\n        System.out.println(\"hai fun freom package 1\");\n    }\n}\n\n//PCheck.java;\npackage package1.package2.package3;\nimport package1.*;   //to import package1.java\npublic class PCheck {\n    public static void main(String[] args) {\n        phelo obj=new phelo();\n    }\n}\nclass helo{\n    helo(){\n        int a;\n        System.out.println(\"hai fun from package 3\");\n    }\n}\n</code></pre>\n\n<p>output:\ncompile time error:package package1.package2.package3 doesnot exist;</p>\n\n<p>for import class from different directory we use import statements but here we need access parent package from subpackage.i tried import  it won't work  pls explain with an example.</p>\n"},{"tags":["java","spring","zip","fileoutputstream","zipoutputstream"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651500040,"post_id":72087779,"comment_id":127372601,"body_markdown":"ZipOutputStream is a `Stream` object.  Assuming you have sufficient memory in your computer, can you simply hold the files you want to unzip as streams?","body":"ZipOutputStream is a <code>Stream</code> object.  Assuming you have sufficient memory in your computer, can you simply hold the files you want to unzip as streams?"},{"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"score":0,"creation_date":1651500266,"post_id":72087779,"comment_id":127372690,"body_markdown":"Yes I&#39;m trying to implement it with ZipOutPutStream but I couldn&#39;t manage despite many tries. Can someone give me a pseudocode or something like that?","body":"Yes I&#39;m trying to implement it with ZipOutPutStream but I couldn&#39;t manage despite many tries. Can someone give me a pseudocode or something like that?"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651500496,"post_id":72087779,"comment_id":127372785,"body_markdown":"Can you give us any context?  &quot;It doesn&#39;t work&quot; is not a meaningful problem statement, and &quot;I don&#39;t want to use files&quot; seems like an arbitrary requirement.","body":"Can you give us any context?  &quot;It doesn&#39;t work&quot; is not a meaningful problem statement, and &quot;I don&#39;t want to use files&quot; seems like an arbitrary requirement."},{"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"score":0,"creation_date":1651500579,"post_id":72087779,"comment_id":127372827,"body_markdown":"If I create new files, I cannot deploy app, because in java we cannot change resources in jar. I edited the post.","body":"If I create new files, I cannot deploy app, because in java we cannot change resources in jar. I edited the post."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651500699,"post_id":72087779,"comment_id":127372865,"body_markdown":"Are you saying that whatever store you&#39;re deploying to does not allow the creation of new files?  That seems like a pretty severe restriction.","body":"Are you saying that whatever store you&#39;re deploying to does not allow the creation of new files?  That seems like a pretty severe restriction."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651500766,"post_id":72087779,"comment_id":127372890,"body_markdown":"Which store are you deploying to? Google Play?","body":"Which store are you deploying to? Google Play?"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651500935,"post_id":72087779,"comment_id":127372937,"body_markdown":"Where do you plan on storing the unzipped files?","body":"Where do you plan on storing the unzipped files?"},{"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"score":0,"creation_date":1651501036,"post_id":72087779,"comment_id":127372972,"body_markdown":"I don&#39;t know yet. I should thrieve to create solution that is fast and efficient. I don&#39;t want to create new files. Instead of this, I want to read sample directory, change some values while reading and add it to outputstream which will be downloaded.","body":"I don&#39;t know yet. I should thrieve to create solution that is fast and efficient. I don&#39;t want to create new files. Instead of this, I want to read sample directory, change some values while reading and add it to outputstream which will be downloaded."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651501153,"post_id":72087779,"comment_id":127373019,"body_markdown":"What is the exact wording of the error message you are getting?","body":"What is the exact wording of the error message you are getting?"},{"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"score":0,"creation_date":1651501181,"post_id":72087779,"comment_id":127373032,"body_markdown":"sample directory will be in jar resources. No errors, it downloads generate.zip file but it&#39;s not real zip, its txt and files aren&#39;t added.","body":"sample directory will be in jar resources. No errors, it downloads generate.zip file but it&#39;s not real zip, its txt and files aren&#39;t added."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1651501320,"post_id":72087779,"comment_id":127373085,"body_markdown":"Have you written the result you&#39;ve created to a local file to make sure you&#39;re actually getting a zip file?  According to your problem description, the problem is not zipping files; it is downloading the unzipped files without corrupting.  So you problem may not actually be creating the zip files, and you can stop focusing on that if you can prove they really are zip files before you download them.","body":"Have you written the result you&#39;ve created to a local file to make sure you&#39;re actually getting a zip file?  According to your problem description, the problem is not zipping files; it is downloading the unzipped files without corrupting.  So you problem may not actually be creating the zip files, and you can stop focusing on that if you can prove they really are zip files before you download them."}],"owner":{"account_id":24121050,"reputation":1,"user_id":18090219,"display_name":"Nikusha Ozashvili"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651501475,"creation_date":1651499825,"question_id":72087779,"body_markdown":"I have a sample directory called `&#39;sample-directory&#39;`(in resources) with files and directories in it.\r\n\r\nthis is my endpoint: \r\n\r\n    public void downloadZipFile(@RequestBody final Parameters parameter, final HttpServletResponse response) throws FileReadingException, IOException, URISyntaxException {\r\n        response.setContentType(MediaType.APPLICATION_OCTET_STREAM_VALUE);\r\n        response.setHeader(CONTENT_DISPOSITION, HEADER_VALUE_STR);\r\n        response.setStatus(HttpServletResponse.SC_OK);\r\n        this.generateZipService.generateZipFile(parameter, response);\r\n    }\r\n\r\nIn my this.generateZipService.generateZipFile(parameter, resposne) method, I want to read all files from `&#39;sample-directory&#39;`, change some files here and download a zip file from this directory(includng all directories and files in it, including changes). \r\n\r\nCan someone suggest me or give direction how can I do this?\r\n\r\nI want to do it without creating new files or directories.\r\n\r\nlike this: \r\n\r\n    for all files {\r\n       if(currentFile is &quot;TEST1.xml&quot;) {\r\n                change first Line here;\r\n       }\r\n       if(currentFile is &quot;TEST2.xml&quot;) {\r\n                change second Line here;\r\n       }\r\n    }\r\n    Then zip full directory and download.\r\nAlso I don&#39;t want to use `/src/main/resources` or paths like that.\r\ninstead I&#39;m using `getClass().getClassLoader().getResource(&quot;folderDirectlyInsideResources/otherPackages/file.txt&quot;);`\r\n\r\nI have started implementing this by:\r\n\r\n    FileOutputStream fout = new FileOutputStream(&quot;src/main/resources/generate.zip&quot;);\r\n    ZipOutputStream zout = new ZipOutputStream(fout);\r\n    \r\n    File folder = new File(&quot;src/main/resources/docker-compose-zip&quot;);\r\n    File[] listOfFiles = folder.listFiles();\r\n    \r\n    for (File file : listOfFiles) {\r\n        ZipEntry ze = new ZipEntry(file.getName());\r\n        zout.putNextEntry(ze);\r\n        zout.closeEntry();\r\n    }\r\n    zout.close();\r\n\r\nbut it downloads generate.zip file which is not zip(it is .txt format maybe). But I&#39;m using `MediaType.APPLICATION_OCTET_STREAM_VALUE`","title":"Make zip from directory and download it In Spring without creating new files or directories","body":"<p>I have a sample directory called <code>'sample-directory'</code>(in resources) with files and directories in it.</p>\n<p>this is my endpoint:</p>\n<pre><code>public void downloadZipFile(@RequestBody final Parameters parameter, final HttpServletResponse response) throws FileReadingException, IOException, URISyntaxException {\n    response.setContentType(MediaType.APPLICATION_OCTET_STREAM_VALUE);\n    response.setHeader(CONTENT_DISPOSITION, HEADER_VALUE_STR);\n    response.setStatus(HttpServletResponse.SC_OK);\n    this.generateZipService.generateZipFile(parameter, response);\n}\n</code></pre>\n<p>In my this.generateZipService.generateZipFile(parameter, resposne) method, I want to read all files from <code>'sample-directory'</code>, change some files here and download a zip file from this directory(includng all directories and files in it, including changes).</p>\n<p>Can someone suggest me or give direction how can I do this?</p>\n<p>I want to do it without creating new files or directories.</p>\n<p>like this:</p>\n<pre><code>for all files {\n   if(currentFile is &quot;TEST1.xml&quot;) {\n            change first Line here;\n   }\n   if(currentFile is &quot;TEST2.xml&quot;) {\n            change second Line here;\n   }\n}\nThen zip full directory and download.\n</code></pre>\n<p>Also I don't want to use <code>/src/main/resources</code> or paths like that.\ninstead I'm using <code>getClass().getClassLoader().getResource(&quot;folderDirectlyInsideResources/otherPackages/file.txt&quot;);</code></p>\n<p>I have started implementing this by:</p>\n<pre><code>FileOutputStream fout = new FileOutputStream(&quot;src/main/resources/generate.zip&quot;);\nZipOutputStream zout = new ZipOutputStream(fout);\n\nFile folder = new File(&quot;src/main/resources/docker-compose-zip&quot;);\nFile[] listOfFiles = folder.listFiles();\n\nfor (File file : listOfFiles) {\n    ZipEntry ze = new ZipEntry(file.getName());\n    zout.putNextEntry(ze);\n    zout.closeEntry();\n}\nzout.close();\n</code></pre>\n<p>but it downloads generate.zip file which is not zip(it is .txt format maybe). But I'm using <code>MediaType.APPLICATION_OCTET_STREAM_VALUE</code></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651488900,"creation_date":1651488900,"answer_id":72085679,"question_id":72084154,"body_markdown":"If the task is successful doesn&#39;t mean that the username already exists. It means that the Firebase servers didn&#39;t reject your read operation. So if the task is successful you can read/add the desired data, otherwise, an exception will be thrown. So your code should look like this:\r\n\r\n    if(task.isSuccessful()) {\r\n        for (DocumentSnapshot document : task.getResult()) {\r\n            if (document.exists()) {\r\n                String userName = document.getString(&quot;username&quot;);\r\n                Log.d(&quot;TAG&quot;, &quot;username already exists.&quot;);\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, &quot;username doesn&#39;t exist.&quot;);\r\n\r\n                User newUser = new User(user, pass, mail);\r\n                CollectionReference dbUser = db.collection(&quot;User&quot;);\r\n                dbUser.add(newUser);\r\n                Intent intent = new Intent(Signup.this, StartScreen.class);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    } else {\r\n        Log.d(&quot;TAG&quot;, task.getException().getMessage());\r\n    }","title":"Firestore query on android studio not working as expected","body":"<p>If the task is successful doesn't mean that the username already exists. It means that the Firebase servers didn't reject your read operation. So if the task is successful you can read/add the desired data, otherwise, an exception will be thrown. So your code should look like this:</p>\n<pre><code>if(task.isSuccessful()) {\n    for (DocumentSnapshot document : task.getResult()) {\n        if (document.exists()) {\n            String userName = document.getString(&quot;username&quot;);\n            Log.d(&quot;TAG&quot;, &quot;username already exists.&quot;);\n        } else {\n            Log.d(&quot;TAG&quot;, &quot;username doesn't exist.&quot;);\n\n            User newUser = new User(user, pass, mail);\n            CollectionReference dbUser = db.collection(&quot;User&quot;);\n            dbUser.add(newUser);\n            Intent intent = new Intent(Signup.this, StartScreen.class);\n            startActivity(intent);\n        }\n    }\n} else {\n    Log.d(&quot;TAG&quot;, task.getException().getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":22621594,"reputation":35,"user_id":16800259,"display_name":"Umair Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72085679,"answer_count":1,"score":2,"last_activity_date":1651501442,"creation_date":1651480267,"question_id":72084154,"body_markdown":"    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    db.collection(&quot;User&quot;)\r\n        .whereEqualTo(&quot;username&quot;, user)\r\n        .get()\r\n        .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if(task.isSuccessful()) {\r\n                    Toast.makeText(Signup.this, &quot;Username already exists please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    User newUser = new User(user, pass, mail);\r\n                    CollectionReference dbUser = db.collection(&quot;User&quot;);\r\n                    dbUser.add(newUser);\r\n                    Intent intent = new Intent(Signup.this, StartScreen.class);\r\n                    startActivity(intent);\r\n            }\r\n        }\r\n    });\r\n\r\nIn the above code no matter what I change the value of the user to be it is going into the task.isSuccessful() if statement. The only two username values under that collection are &quot;testuser&quot; and &quot;umair&quot;. \r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\nI have not used Firebase before so it very well could be an obvious error I am glazing over.\r\n\r\n  [1]: https://i.stack.imgur.com/SC7NC.png\r\n  [2]: https://i.stack.imgur.com/ZBxDg.png","title":"Firestore query on android studio not working as expected","body":"<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\ndb.collection(&quot;User&quot;)\n    .whereEqualTo(&quot;username&quot;, user)\n    .get()\n    .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if(task.isSuccessful()) {\n                Toast.makeText(Signup.this, &quot;Username already exists please try again&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n                User newUser = new User(user, pass, mail);\n                CollectionReference dbUser = db.collection(&quot;User&quot;);\n                dbUser.add(newUser);\n                Intent intent = new Intent(Signup.this, StartScreen.class);\n                startActivity(intent);\n        }\n    }\n});\n</code></pre>\n<p>In the above code no matter what I change the value of the user to be it is going into the task.isSuccessful() if statement. The only two username values under that collection are &quot;testuser&quot; and &quot;umair&quot;.</p>\n<p><img src=\"https://i.stack.imgur.com/SC7NC.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/ZBxDg.png\" alt=\"enter image description here\" /></p>\n<p>I have not used Firebase before so it very well could be an obvious error I am glazing over.</p>\n"},{"tags":["java","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651501187,"creation_date":1651498726,"answer_id":72087571,"question_id":72087225,"body_markdown":"You&#39;ll have to use reflection in this case.\r\nThis is kind of how JUnit works internally:\r\n\r\nSince this sounds as a homework/assigment for educational purposes (If you&#39;re developing a &quot;real&quot; application - then just use JUnit or TestNG and don&#39;t write anything like this by yourself :) ), I won&#39;t provide a full solution however this is what you should do:\r\n\r\n1. For each class identified by a className you should get a java.lang.Class that describes this class name. You can use `Class.forName(...)`\r\n2. Then you should get all the methods of that class (by reflection) and for each method run the following:\r\n\r\n2.1 Check whether the method is marked with an annotation `@MyTest`. If it doesn&#39;t - don&#39;t handle it\r\n\r\n2.2 Also check whether the method name starts with `test` (String has `startsWith` method)\r\n\r\n2.3 If you found out that the test class contains test methods, then:\r\n\r\n2.3.1 Create an instance of the Test Class (probably you can assume that it has no-ops constructor, then use `newInstance()`)\r\n\r\n2.3.2 Run the method (again by reflection). Check the result / surround the execution call with try/catch block to intercept errors.\r\n\r\n2.3.3 Print the Result as specified in the assignment :)\r\n","title":"Running only the tests with @MyTest inside java application","body":"<p>You'll have to use reflection in this case.\nThis is kind of how JUnit works internally:</p>\n<p>Since this sounds as a homework/assigment for educational purposes (If you're developing a &quot;real&quot; application - then just use JUnit or TestNG and don't write anything like this by yourself :) ), I won't provide a full solution however this is what you should do:</p>\n<ol>\n<li>For each class identified by a className you should get a java.lang.Class that describes this class name. You can use <code>Class.forName(...)</code></li>\n<li>Then you should get all the methods of that class (by reflection) and for each method run the following:</li>\n</ol>\n<p>2.1 Check whether the method is marked with an annotation <code>@MyTest</code>. If it doesn't - don't handle it</p>\n<p>2.2 Also check whether the method name starts with <code>test</code> (String has <code>startsWith</code> method)</p>\n<p>2.3 If you found out that the test class contains test methods, then:</p>\n<p>2.3.1 Create an instance of the Test Class (probably you can assume that it has no-ops constructor, then use <code>newInstance()</code>)</p>\n<p>2.3.2 Run the method (again by reflection). Check the result / surround the execution call with try/catch block to intercept errors.</p>\n<p>2.3.3 Print the Result as specified in the assignment :)</p>\n"}],"owner":{"account_id":24256547,"reputation":51,"user_id":18206822,"display_name":"lopaxxxkzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72087571,"answer_count":1,"score":-1,"last_activity_date":1651501187,"creation_date":1651497038,"question_id":72087225,"body_markdown":"I have a TestRunner class:\r\n\r\n    public class TestRunner {\r\n    \r\n        private String result = &quot;&quot;;\r\n    \r\n        public void runTests(List&lt;String&gt; testClassNames) {\r\n            for (String testClassName : testClassNames) {\r\n    \r\n            }\r\n        }\r\n    \r\n        public String getResult() {\r\n            return result;\r\n        }\r\n    }\r\n\r\nThen I have two test classes and I should run only the tests with @MyTest from both classes. getResult() should essentialy return &quot;exampleTest() - OK&quot; or &quot;exampleTest() - FAILED&quot;, depending on if the test passes. Test class looks like this:\r\n\r\n    public class ExampleTests1 {\r\n    \r\n        @MyTest (expected = IllegalStateException.class)\r\n        public void test1() {\r\n            throw new IllegalStateException();\r\n        }\r\n    \r\n        @MyTest (expected = IllegalStateException.class)\r\n        public void test2() {\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nI tried to do it with JUnitCore and Result, but couldn&#39;t find a way to get the test method name to add to the result. Is there another way?","title":"Running only the tests with @MyTest inside java application","body":"<p>I have a TestRunner class:</p>\n<pre><code>public class TestRunner {\n\n    private String result = &quot;&quot;;\n\n    public void runTests(List&lt;String&gt; testClassNames) {\n        for (String testClassName : testClassNames) {\n\n        }\n    }\n\n    public String getResult() {\n        return result;\n    }\n}\n</code></pre>\n<p>Then I have two test classes and I should run only the tests with @MyTest from both classes. getResult() should essentialy return &quot;exampleTest() - OK&quot; or &quot;exampleTest() - FAILED&quot;, depending on if the test passes. Test class looks like this:</p>\n<pre><code>public class ExampleTests1 {\n\n    @MyTest (expected = IllegalStateException.class)\n    public void test1() {\n        throw new IllegalStateException();\n    }\n\n    @MyTest (expected = IllegalStateException.class)\n    public void test2() {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>I tried to do it with JUnitCore and Result, but couldn't find a way to get the test method name to add to the result. Is there another way?</p>\n"},{"tags":["java","multithreading","parallel-processing","java-threads"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1651466187,"post_id":72082291,"comment_id":127363566,"body_markdown":"It looks like your workers are all doing exactly the same work, not different parts of the work.","body":"It looks like your workers are all doing exactly the same work, not different parts of the work."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1651511247,"post_id":72082291,"comment_id":127376714,"body_markdown":"IMHO your approach is completely broken. I&#39;m not sure if `Worker.generatePasswordCaracters()` even stops. Have you tried to create all passwords with 3 characters? Then, if it stops: you create one last password using `Worker.generatePasswordCaracters()` and try to decrypt the zip file **once** with this last password. Not exactly what I understand as &quot;brute-forcing zip file decryption&quot;. Then: are you sure that creating the passwords is the bottleneck? I would expect the file decryption to be the bottleneck - and it doesn&#39;t improve the overall speed if you optimize the wrong code path.","body":"IMHO your approach is completely broken. I&#39;m not sure if <code>Worker.generatePasswordCaracters()</code> even stops. Have you tried to create all passwords with 3 characters? Then, if it stops: you create one last password using <code>Worker.generatePasswordCaracters()</code> and try to decrypt the zip file <b>once</b> with this last password. Not exactly what I understand as &quot;brute-forcing zip file decryption&quot;. Then: are you sure that creating the passwords is the bottleneck? I would expect the file decryption to be the bottleneck - and it doesn&#39;t improve the overall speed if you optimize the wrong code path."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1651511375,"post_id":72082291,"comment_id":127376763,"body_markdown":"Lastly: `Worker` uses a bunch of static fields. If you want multiple thread to create passwords then you **must** synchronize the access to those static fields - which means that your threads will be blocking each other all the time.","body":"Lastly: <code>Worker</code> uses a bunch of static fields. If you want multiple thread to create passwords then you <b>must</b> synchronize the access to those static fields - which means that your threads will be blocking each other all the time."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1651511497,"post_id":72082291,"comment_id":127376798,"body_markdown":"My approach would be to create a synchronized method `createNextPassword()` that creates the next possible password and use several threads that each one repeatedly calls `createNextPassword()` to fetch a password and then tries to decrypt the zip file.","body":"My approach would be to create a synchronized method <code>createNextPassword()</code> that creates the next possible password and use several threads that each one repeatedly calls <code>createNextPassword()</code> to fetch a password and then tries to decrypt the zip file."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651500974,"creation_date":1651465918,"answer_id":72082331,"question_id":72082291,"body_markdown":"This &quot;parallel&quot; code is being executed sequentially.\r\n\r\nMain thread blocked at each step of iteration, wait for every worker to do its job. Javadoc says [`join()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#join()):\r\n\r\n&gt; Waits for this thread to die.\r\n\r\nSo actually although this you&#39;ve created multiple threads your code will be even slower than sequential execution because threads are not cheap.\r\n\r\nChoose either: don&#39;t control the execution of your threads, or perform these tasks in a single thread.\r\n\r\n**Sidenote:** implementing `Runnable` is more flexible than extending `Thread`. Because you can start a thread only once, but the same runnable task could be reused as many times as needed.\r\n\r\nAnd if your goal to parallelize a single task, you might take a look at [ForkJoin framework](https://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html), which will allow splitting the task in to multiple. For that `Worker` class should extend either `RecursiveTask` or `RecursiveAction` and override method `compute()`.","title":"Why is this code with parallel programming slow?","body":"<p>This &quot;parallel&quot; code is being executed sequentially.</p>\n<p>Main thread blocked at each step of iteration, wait for every worker to do its job. Javadoc says <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#join()\" rel=\"nofollow noreferrer\"><code>join()</code></a>:</p>\n<blockquote>\n<p>Waits for this thread to die.</p>\n</blockquote>\n<p>So actually although this you've created multiple threads your code will be even slower than sequential execution because threads are not cheap.</p>\n<p>Choose either: don't control the execution of your threads, or perform these tasks in a single thread.</p>\n<p><strong>Sidenote:</strong> implementing <code>Runnable</code> is more flexible than extending <code>Thread</code>. Because you can start a thread only once, but the same runnable task could be reused as many times as needed.</p>\n<p>And if your goal to parallelize a single task, you might take a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html\" rel=\"nofollow noreferrer\">ForkJoin framework</a>, which will allow splitting the task in to multiple. For that <code>Worker</code> class should extend either <code>RecursiveTask</code> or <code>RecursiveAction</code> and override method <code>compute()</code>.</p>\n"}],"owner":{"account_id":25044718,"reputation":1,"user_id":18901255,"display_name":"panaxin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651501044,"creation_date":1651465497,"question_id":72082291,"body_markdown":"I&#39;m studying about parallel programming and testing this brute force code, to crack a password with 7 positions without and with parallelism, but when applying parallel programming, the code is running slower than before. Does anyone know why? How can I use parallel programming in this code to make it faster? thanks.\r\n\r\n    public class Worker extends Thread{\r\n\r\n    private static final int[] valuesCaracter = {48, 48, 48, 48, 48, 48, 48};\r\n    private static final int arraySize = valuesCaracter.length;\r\n    private static char[] symbols = new char[arraySize];\r\n    private static String password = null;\r\n\r\n    @Override\r\n    public void run() {\r\n        generatePasswordCaracters();\r\n    }\r\n\r\n    public static int ajustaValor(int valueASCII) {\r\n        return switch (valueASCII) {\r\n            case 58 -&gt; 65;\r\n            case 91 -&gt; 97;\r\n            default -&gt; valueASCII;\r\n        };\r\n    }\r\n\r\n    public static String generatePasswordCaracters() {\r\n\r\n        for (int i = 0; i &lt; arraySize; i++) {\r\n            while (valuesCaracter[i] &lt;= 122) {\r\n\r\n                \r\n\r\n                for (int j = 0; j &lt; symbols.length; j++) {\r\n                    symbols[j] = (char) valuesCaracter[j];\r\n\r\n                }\r\n\r\n                password = new String(symbols);\r\n\r\n                System.out.println(password);\r\n\r\n                valuesCaracter[6]++;\r\n\r\n                for(int k = arraySize - 1; k &gt;= 1; k--) {\r\n                    if (valuesCaracter[k] &gt; 122) {\r\n                        valuesCaracter[k - 1]++;\r\n                        valuesCaracter[k] = 48;\r\n                    }  else {\r\n                        valuesCaracter[k] = ajustaValor(valuesCaracter[k]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return password;\r\n    }\r\n}\r\n_________\r\n\r\n    import net.lingala.zip4j.ZipFile;\r\n    import net.lingala.zip4j.model.FileHeader;\r\n    import java.io.File;\r\n    import java.util.List;\r\n    \r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Worker[] Workers =\r\n                    {new Worker(),\r\n                    new Worker(),\r\n                    new Worker(),\r\n                    new Worker(),\r\n                    new Worker(),\r\n                    new Worker()};\r\n    \r\n            for (Worker workerStart : Workers) {\r\n                workerStart.start();\r\n            }\r\n    \r\n            try {\r\n                for (Worker workerJoin : Workers) {\r\n                    workerJoin.join();\r\n                }\r\n            }catch (InterruptedException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n    \r\n            try {\r\n                ZipFile zipFile = new ZipFile(new File(&quot;C:\\\\vsCodeProjects-Java\\\\BruteForce\\\\src\\\\file.zip&quot;));\r\n                if (zipFile.isEncrypted()) {\r\n    \r\n                    zipFile.setPassword(Worker.generatePasswordCaracters().toCharArray());\r\n                }\r\n                List&lt;FileHeader&gt; fileHeaderList = zipFile.getFileHeaders();\r\n    \r\n                for (FileHeader o : fileHeaderList) {\r\n    \r\n                    zipFile.extractFile(o, &quot;C:\\\\vsCodeProjects-Java\\\\BruteForce\\\\src&quot;);\r\n                    System.out.println(&quot;This is the password&quot;);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Wrong password&quot;);\r\n            }\r\n        }\r\n    }","title":"Why is this code with parallel programming slow?","body":"<p>I'm studying about parallel programming and testing this brute force code, to crack a password with 7 positions without and with parallelism, but when applying parallel programming, the code is running slower than before. Does anyone know why? How can I use parallel programming in this code to make it faster? thanks.</p>\n<pre><code>public class Worker extends Thread{\n\nprivate static final int[] valuesCaracter = {48, 48, 48, 48, 48, 48, 48};\nprivate static final int arraySize = valuesCaracter.length;\nprivate static char[] symbols = new char[arraySize];\nprivate static String password = null;\n\n@Override\npublic void run() {\n    generatePasswordCaracters();\n}\n\npublic static int ajustaValor(int valueASCII) {\n    return switch (valueASCII) {\n        case 58 -&gt; 65;\n        case 91 -&gt; 97;\n        default -&gt; valueASCII;\n    };\n}\n\npublic static String generatePasswordCaracters() {\n\n    for (int i = 0; i &lt; arraySize; i++) {\n        while (valuesCaracter[i] &lt;= 122) {\n\n            \n\n            for (int j = 0; j &lt; symbols.length; j++) {\n                symbols[j] = (char) valuesCaracter[j];\n\n            }\n\n            password = new String(symbols);\n\n            System.out.println(password);\n\n            valuesCaracter[6]++;\n\n            for(int k = arraySize - 1; k &gt;= 1; k--) {\n                if (valuesCaracter[k] &gt; 122) {\n                    valuesCaracter[k - 1]++;\n                    valuesCaracter[k] = 48;\n                }  else {\n                    valuesCaracter[k] = ajustaValor(valuesCaracter[k]);\n                }\n            }\n        }\n    }\n    return password;\n}\n</code></pre>\n<p>}</p>\n<hr />\n<pre><code>import net.lingala.zip4j.ZipFile;\nimport net.lingala.zip4j.model.FileHeader;\nimport java.io.File;\nimport java.util.List;\n\npublic class App {\n\n    public static void main(String[] args) {\n\n        Worker[] Workers =\n                {new Worker(),\n                new Worker(),\n                new Worker(),\n                new Worker(),\n                new Worker(),\n                new Worker()};\n\n        for (Worker workerStart : Workers) {\n            workerStart.start();\n        }\n\n        try {\n            for (Worker workerJoin : Workers) {\n                workerJoin.join();\n            }\n        }catch (InterruptedException e) {\n            System.out.println(e.getMessage());\n        }\n\n        try {\n            ZipFile zipFile = new ZipFile(new File(&quot;C:\\\\vsCodeProjects-Java\\\\BruteForce\\\\src\\\\file.zip&quot;));\n            if (zipFile.isEncrypted()) {\n\n                zipFile.setPassword(Worker.generatePasswordCaracters().toCharArray());\n            }\n            List&lt;FileHeader&gt; fileHeaderList = zipFile.getFileHeaders();\n\n            for (FileHeader o : fileHeaderList) {\n\n                zipFile.extractFile(o, &quot;C:\\\\vsCodeProjects-Java\\\\BruteForce\\\\src&quot;);\n                System.out.println(&quot;This is the password&quot;);\n            }\n\n        } catch (Exception e) {\n            System.out.println(&quot;Wrong password&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","matrix","methods"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1651501846,"post_id":72087961,"comment_id":127373295,"body_markdown":"Well, Java is an object-oriented language. Why don&#39;t you create a class which represents the thing you are modeling? For instance, `class Article { int articleNumber; int itemsInStock; int articlePrice; }`. Or is this a homework question requiring you to use a matrix?","body":"Well, Java is an object-oriented language. Why don&#39;t you create a class which represents the thing you are modeling? For instance, <code>class Article { int articleNumber; int itemsInStock; int articlePrice; }</code>. Or is this a homework question requiring you to use a matrix?"},{"owner":{"account_id":23346777,"reputation":21,"user_id":17420945,"display_name":"Anton"},"score":0,"creation_date":1651502148,"post_id":72087961,"comment_id":127373392,"body_markdown":"@MCEmperor This is for a homework yes! Otherwise I would use some kind of arraylist etc.","body":"@MCEmperor This is for a homework yes! Otherwise I would use some kind of arraylist etc."},{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1651502281,"post_id":72087961,"comment_id":127373441,"body_markdown":"Check this link out: [https://stackoverflow.com/questions/6539571/how-to-resize-multidimensional-2d-array-in-c]","body":"Check this link out: [<a href=\"https://stackoverflow.com/questions/6539571/how-to-resize-multidimensional-2d-array-in-c]\" title=\"how to resize multidimensional 2d array in c%5d\">stackoverflow.com/questions/6539571/&hellip;</a>"}],"owner":{"account_id":23346777,"reputation":21,"user_id":17420945,"display_name":"Anton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651500968,"creation_date":1651500643,"question_id":72087961,"body_markdown":"I&#39;m having a problem working with matrices. I have a matrix which will hold 3 columns of data and as a starting point 10 rows of data. Each row is an article in a &quot;cash register software&quot; and each column is in order: `{article number, items in stock, article price}`. \r\n\r\nAs I mentioned, the int[][]articles has to start with the size of [10][3], but have the ability to expand with the help of a method &quot;checkFull&quot;. The user will be asked how many articles he/she wants to add and the value will be saved into the variable &quot;noOfArticles&quot;. The checkFull() method has to check if the value of articles fits into the article[][] matrix or if it has to create another matrix with the right amount of slots, copy the values from articles[][] and return the new matrix. \r\n\r\nThe following code is my shot at the problem, does anyone got any ideas how to get this method working properly?\r\n```\r\npublic static int[][] checkFull(int[][]articles, int noOfArticles) {\r\n    int index = 0;\r\n    int i = 0; \r\n\r\n    while (i &lt; articles.length)\r\n    {\r\n      if (articles[i][0] == 0)\r\n      {\r\n        index = i;\r\n        break;\r\n      }\r\n      i++;\r\n    }\r\n\r\n    if ((articles.length - index) &lt; noOfArticles)\r\n    {\r\n      newmat = new int[noOfArticles + articles.length][3];\r\n\r\n      for (i = 0; i &lt; articles.length; i++)\r\n      {\r\n        for (int j = 0; j &lt; articles[i].length; j++)\r\n        {\r\n          int[][]newmat[i][j] = articles[i][j];\r\n        }\r\n      }\r\n      return newmat;\r\n    }\r\n    \r\n    else\r\n    {\r\n      return articles;\r\n    }\r\n  }\r\n```\r\n","title":"How do I create a bigger matrix from another?","body":"<p>I'm having a problem working with matrices. I have a matrix which will hold 3 columns of data and as a starting point 10 rows of data. Each row is an article in a &quot;cash register software&quot; and each column is in order: <code>{article number, items in stock, article price}</code>.</p>\n<p>As I mentioned, the int[][]articles has to start with the size of [10][3], but have the ability to expand with the help of a method &quot;checkFull&quot;. The user will be asked how many articles he/she wants to add and the value will be saved into the variable &quot;noOfArticles&quot;. The checkFull() method has to check if the value of articles fits into the article[][] matrix or if it has to create another matrix with the right amount of slots, copy the values from articles[][] and return the new matrix.</p>\n<p>The following code is my shot at the problem, does anyone got any ideas how to get this method working properly?</p>\n<pre><code>public static int[][] checkFull(int[][]articles, int noOfArticles) {\n    int index = 0;\n    int i = 0; \n\n    while (i &lt; articles.length)\n    {\n      if (articles[i][0] == 0)\n      {\n        index = i;\n        break;\n      }\n      i++;\n    }\n\n    if ((articles.length - index) &lt; noOfArticles)\n    {\n      newmat = new int[noOfArticles + articles.length][3];\n\n      for (i = 0; i &lt; articles.length; i++)\n      {\n        for (int j = 0; j &lt; articles[i].length; j++)\n        {\n          int[][]newmat[i][j] = articles[i][j];\n        }\n      }\n      return newmat;\n    }\n    \n    else\n    {\n      return articles;\n    }\n  }\n</code></pre>\n"},{"tags":["java","sockets","client-server","ipc","serversocket"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1651522776,"post_id":72087922,"comment_id":127380290,"body_markdown":"None of this make any sense to me. There are *no* files involved at all, at least as far as the programmer is concerned. There is no difficulty at all with both the server and the client of a socket pair writing at the same time. In fact both the client and the server may both be reading and writing at the same time, so there are 2 read and 2 writes occurring simultaneously, providing the platform supports the appropriate concurrency features.","body":"None of this make any sense to me. There are <i>no</i> files involved at all, at least as far as the programmer is concerned. There is no difficulty at all with both the server and the client of a socket pair writing at the same time. In fact both the client and the server may both be reading and writing at the same time, so there are 2 read and 2 writes occurring simultaneously, providing the platform supports the appropriate concurrency features."}],"owner":{"account_id":19778087,"reputation":83,"user_id":14483632,"display_name":"brzi_gonzales"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651500442,"creation_date":1651500442,"question_id":72087922,"body_markdown":"When establishing a socket in order to achieve client/server communication socket is initialized at the client and at the server side. The way I understand this is that they have 1 FIFO bidirectional file. Now as far as I understood sockets, it means 1 input stream and 1 output stream of a single file, meaning if **client** is **writing** to its ***serverSocket.outputStream*** let&#39;s say, does it mean that **server** can&#39;t at the same time **write** to ***clientSocket.outputStream***. Is ***serverSocket.outputStream*** and ***clientSocket.outputStream*** the same FIFO file or is it constructing 2 FIFO files, 1 for client and 1 for server meaning that ***clientSocket.outputStream*** and ***clientSocket.inputStream*** refer to **different FIFO files**. It came to be confusing since both streams refer to the same socket within a program and than I intuitively think it needs to be the same file, meaning that there is **possibly** a **conflict** if ***clientSocket.outputStream*** **and** ***serverSocket.outputStream*** **write** to this file at the **same time**.\r\nCould please someone help and clarify this? I wasn&#39;t able to understand it. Am I missing understanding of some underlaying important concept and if so which one?","title":"Socket programming - does client&#39;s input/output stream differ from server&#39;s input/output stream?","body":"<p>When establishing a socket in order to achieve client/server communication socket is initialized at the client and at the server side. The way I understand this is that they have 1 FIFO bidirectional file. Now as far as I understood sockets, it means 1 input stream and 1 output stream of a single file, meaning if <strong>client</strong> is <strong>writing</strong> to its <em><strong>serverSocket.outputStream</strong></em> let's say, does it mean that <strong>server</strong> can't at the same time <strong>write</strong> to <em><strong>clientSocket.outputStream</strong></em>. Is <em><strong>serverSocket.outputStream</strong></em> and <em><strong>clientSocket.outputStream</strong></em> the same FIFO file or is it constructing 2 FIFO files, 1 for client and 1 for server meaning that <em><strong>clientSocket.outputStream</strong></em> and <em><strong>clientSocket.inputStream</strong></em> refer to <strong>different FIFO files</strong>. It came to be confusing since both streams refer to the same socket within a program and than I intuitively think it needs to be the same file, meaning that there is <strong>possibly</strong> a <strong>conflict</strong> if <em><strong>clientSocket.outputStream</strong></em> <strong>and</strong> <em><strong>serverSocket.outputStream</strong></em> <strong>write</strong> to this file at the <strong>same time</strong>.\nCould please someone help and clarify this? I wasn't able to understand it. Am I missing understanding of some underlaying important concept and if so which one?</p>\n"},{"tags":["java","list","collections","java-8"],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651497742,"creation_date":1651497350,"answer_id":72087287,"question_id":72086954,"body_markdown":"You may try to stream both entry sets, then flatten them to one stream and group by key mapping values to proper string (meanwhile you can filter by your keys)\r\n\r\n    Stream.of(steps1.entrySet(), steps2.entrySet())\r\n                .flatMap(Set::stream)\r\n                .filter(e -&gt; oldKeys.contains(e.getKey()))\r\n                .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(v -&gt; String.valueOf(v.getValue()), Collectors.joining(&quot;,&quot;))));\r\n\r\nHowever I&#39;m always a big fan of writing readable code not fancy one. The example above is quite clear but if it would be too hard to understand you should definitely forgot about &quot;Java 8 style&quot; and write simple loop ","title":"Converting list of Map&lt;String, Object&gt; to Map&lt;String,String&gt;","body":"<p>You may try to stream both entry sets, then flatten them to one stream and group by key mapping values to proper string (meanwhile you can filter by your keys)</p>\n<pre><code>Stream.of(steps1.entrySet(), steps2.entrySet())\n            .flatMap(Set::stream)\n            .filter(e -&gt; oldKeys.contains(e.getKey()))\n            .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(v -&gt; String.valueOf(v.getValue()), Collectors.joining(&quot;,&quot;))));\n</code></pre>\n<p>However I'm always a big fan of writing readable code not fancy one. The example above is quite clear but if it would be too hard to understand you should definitely forgot about &quot;Java 8 style&quot; and write simple loop</p>\n"},{"tags":[],"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651500419,"creation_date":1651500419,"answer_id":72087913,"question_id":72086954,"body_markdown":"Same approach as m.antkowitz but just treating the input as a list of maps as mentioned in the question:\r\n\r\n    var result = steps.stream()\r\n                .flatMap(map -&gt; map.entrySet()\r\n                        .stream()\r\n                        .filter(entry -&gt; oldKeys.contains(entry.getKey())))\r\n                .collect(toList()).stream()\r\n                .collect(Collectors.groupingBy(Map.Entry::getKey,\r\n                        Collectors.mapping(e -&gt; e.getValue().toString(),\r\n                                Collectors.joining(&quot;,&quot;))));\r\n\r\nAs mentioned, it is a case where streams may not be ideal. Static imports would tidy this up a bit, but even so, it is not a piece of code that I would want to return to and try to understand later on.\r\n\r\nNot being facetious, but another option is to use Kotlin, which has a richer set of collection functions particularly around grouping and aggregating. I haven&#39;t repeated the exercise in Kotlin but my gut feeling is that something far more readable would be possible.","title":"Converting list of Map&lt;String, Object&gt; to Map&lt;String,String&gt;","body":"<p>Same approach as m.antkowitz but just treating the input as a list of maps as mentioned in the question:</p>\n<pre><code>var result = steps.stream()\n            .flatMap(map -&gt; map.entrySet()\n                    .stream()\n                    .filter(entry -&gt; oldKeys.contains(entry.getKey())))\n            .collect(toList()).stream()\n            .collect(Collectors.groupingBy(Map.Entry::getKey,\n                    Collectors.mapping(e -&gt; e.getValue().toString(),\n                            Collectors.joining(&quot;,&quot;))));\n</code></pre>\n<p>As mentioned, it is a case where streams may not be ideal. Static imports would tidy this up a bit, but even so, it is not a piece of code that I would want to return to and try to understand later on.</p>\n<p>Not being facetious, but another option is to use Kotlin, which has a richer set of collection functions particularly around grouping and aggregating. I haven't repeated the exercise in Kotlin but my gut feeling is that something far more readable would be possible.</p>\n"}],"owner":{"account_id":1763375,"reputation":581,"user_id":1609846,"accept_rate":36,"display_name":"SudeepShakya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1651500419,"creation_date":1651495690,"question_id":72086954,"body_markdown":"I have a list of map.\r\n\r\n    Map&lt;String, Object&gt; steps1 = new HashMap&lt;&gt;();\r\n\tsteps1.put(&quot;key11&quot;, &quot;value11&quot;);\r\n\tsteps1.put(&quot;key12&quot;, &quot;value12&quot;);\r\n    steps1.put(&quot;key21&quot;,&quot;hye&quot;);\r\n\r\n\tMap&lt;String, Object&gt; steps2 = new HashMap&lt;&gt;();\r\n\tsteps2.put(&quot;key21&quot;, &quot;value21&quot;);\r\n\tsteps2.put(&quot;key22&quot;, &quot;value22&quot;);\r\n\tsteps2.put(&quot;key11&quot;,&quot;hello&quot;);\r\n\r\n\tList&lt;Map&lt;String, Object&gt;&gt; steps = new ArrayList&lt;&gt;();\r\n\tsteps.add(steps1);\r\n\tsteps.add(steps2);\r\n\r\nAnd a list of keys.\r\n\r\n    List&lt;String&gt; oldKeys = Arrays.asList(&quot;key21&quot;,&quot;key11&quot;);\r\n\r\nI want to convert the list of map to `Map&lt;String,String&gt;`, where the values would be comma separated values.\r\n\r\nThe final result would be :\r\n\r\n`[key11=&quot;value11,hello&quot;, key21=&quot;hye,value21&quot;]`\r\n\r\nI can do it by looping and a bit verbose code but want to do it using Java 8 style.","title":"Converting list of Map&lt;String, Object&gt; to Map&lt;String,String&gt;","body":"<p>I have a list of map.</p>\n<pre><code>Map&lt;String, Object&gt; steps1 = new HashMap&lt;&gt;();\nsteps1.put(&quot;key11&quot;, &quot;value11&quot;);\nsteps1.put(&quot;key12&quot;, &quot;value12&quot;);\nsteps1.put(&quot;key21&quot;,&quot;hye&quot;);\n\nMap&lt;String, Object&gt; steps2 = new HashMap&lt;&gt;();\nsteps2.put(&quot;key21&quot;, &quot;value21&quot;);\nsteps2.put(&quot;key22&quot;, &quot;value22&quot;);\nsteps2.put(&quot;key11&quot;,&quot;hello&quot;);\n\nList&lt;Map&lt;String, Object&gt;&gt; steps = new ArrayList&lt;&gt;();\nsteps.add(steps1);\nsteps.add(steps2);\n</code></pre>\n<p>And a list of keys.</p>\n<pre><code>List&lt;String&gt; oldKeys = Arrays.asList(&quot;key21&quot;,&quot;key11&quot;);\n</code></pre>\n<p>I want to convert the list of map to <code>Map&lt;String,String&gt;</code>, where the values would be comma separated values.</p>\n<p>The final result would be :</p>\n<p><code>[key11=&quot;value11,hello&quot;, key21=&quot;hye,value21&quot;]</code></p>\n<p>I can do it by looping and a bit verbose code but want to do it using Java 8 style.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651514959,"post_id":72086900,"comment_id":127377991,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651500387,"creation_date":1651500387,"answer_id":72087905,"question_id":72086900,"body_markdown":"Break the problem into chunks.  The first problem is reading the file:\r\n\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(&quot;path/to/file&quot;))) {\r\n\t\tparseData(reader); //method to do the work.\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nThen you need to decide what kind of record it is:\r\n\r\n    public void parseData(BufferedReader input) throws IOException {\r\n\t\tfor (String line = input.readLine(); line != null; line = input.readLine()) {\r\n\t\t\tif (line.startsWith(&quot;1&quot;)) {\r\n\t\t\t\tparseType1(line);\r\n\t\t\t} else if (line.startsWith(&quot;2&quot;)) {\r\n\t\t\t\tparseType2(line);\r\n\t\t\t} else if (line.startsWith(&quot;5&quot;)) {\r\n\t\t\t\tparseType5(line);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Exception(&quot;Unknown record type: &quot; + line.charAt(0));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThen you&#39;ll need to create the various parseTypeX method to handle turning the text into usable chunks and then into classes.\r\n\r\n    public Type1Record parseType1(String data) {\r\n\t\t//create a Type1Record\r\n        Type1Record record = new Type1Record();\r\n        //split the string something like \r\n        String [] fields = data.split(&quot;\\\\s+&quot;);\r\n        //Assign those chunks to the record\r\n        record.setId(fields[0]);\r\n        record.setFirstName(fields[1]);\r\n        record.setLastName(fields[2]);\r\n        record.setTotal(fields[3]); //if you want this to be a real number, you&#39;ll need to remove the $       \r\n\t}\r\n\r\nRepeat the process with the other record types. You&#39;ll likely need to group records together, but that should be easy enough.","title":"Move from string to array but after that select by the first character (Record Type 1, 2, 5)","body":"<p>Break the problem into chunks.  The first problem is reading the file:</p>\n<pre><code>try (BufferedReader reader = new BufferedReader(new FileReader(&quot;path/to/file&quot;))) {\n    parseData(reader); //method to do the work.\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Then you need to decide what kind of record it is:</p>\n<pre><code>public void parseData(BufferedReader input) throws IOException {\n    for (String line = input.readLine(); line != null; line = input.readLine()) {\n        if (line.startsWith(&quot;1&quot;)) {\n            parseType1(line);\n        } else if (line.startsWith(&quot;2&quot;)) {\n            parseType2(line);\n        } else if (line.startsWith(&quot;5&quot;)) {\n            parseType5(line);\n        } else {\n            throw new Exception(&quot;Unknown record type: &quot; + line.charAt(0));\n        }\n    }\n}\n</code></pre>\n<p>Then you'll need to create the various parseTypeX method to handle turning the text into usable chunks and then into classes.</p>\n<pre><code>public Type1Record parseType1(String data) {\n    //create a Type1Record\n    Type1Record record = new Type1Record();\n    //split the string something like \n    String [] fields = data.split(&quot;\\\\s+&quot;);\n    //Assign those chunks to the record\n    record.setId(fields[0]);\n    record.setFirstName(fields[1]);\n    record.setLastName(fields[2]);\n    record.setTotal(fields[3]); //if you want this to be a real number, you'll need to remove the $       \n}\n</code></pre>\n<p>Repeat the process with the other record types. You'll likely need to group records together, but that should be easy enough.</p>\n"}],"owner":{"account_id":25172961,"reputation":1,"user_id":19015555,"display_name":"Gilberto Aristizabal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651500387,"creation_date":1651495471,"question_id":72086900,"body_markdown":"I need your help, I am new in Java\r\n\r\nI need to read a flat file with 5 different of records\r\nthe way to differentiate each record is the first characters, after that I have the idea to move to an 5 different array to play with with the data inside.\r\n\r\nexample\r\n```none\r\n120220502Name Last Name1298843984    $1.50\r\n120220501other client  8989899889   $23.89\r\n2Toronto372 Yorkland drive        1 year Ontario\r\n512345678Transfer             Stove          Pay\r\n522457839Pending              Microwave      Interactive\r\n```\r\n\r\nany help will quite appreciated\r\n","title":"Move from string to array but after that select by the first character (Record Type 1, 2, 5)","body":"<p>I need your help, I am new in Java</p>\n<p>I need to read a flat file with 5 different of records\nthe way to differentiate each record is the first characters, after that I have the idea to move to an 5 different array to play with with the data inside.</p>\n<p>example</p>\n<pre class=\"lang-none prettyprint-override\"><code>120220502Name Last Name1298843984    $1.50\n120220501other client  8989899889   $23.89\n2Toronto372 Yorkland drive        1 year Ontario\n512345678Transfer             Stove          Pay\n522457839Pending              Microwave      Interactive\n</code></pre>\n<p>any help will quite appreciated</p>\n"},{"tags":["java","eclipse-plugin","swt","jface","tableviewer"],"comments":[{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1651491529,"post_id":72085507,"comment_id":127369527,"body_markdown":"Could you guide me little more? How to do that in ContentProvider?\nI am writting my own contentprovider which is implementing ILazyContentProvider.","body":"Could you guide me little more? How to do that in ContentProvider? I am writting my own contentprovider which is implementing ILazyContentProvider."},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1651497767,"post_id":72085507,"comment_id":127371704,"body_markdown":"I just want to search for a String, Could you guide me more how can I do that in this Content Provider which I added in my question.","body":"I just want to search for a String, Could you guide me more how can I do that in this Content Provider which I added in my question."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651500022,"creation_date":1651500022,"answer_id":72087831,"question_id":72085507,"body_markdown":"TableViewer does not support filtering when `SWT.VIRTUAL` is used. Instead you must do the filtering in the content provider.\r\n\r\nThe content provider will need to maintain a filtered list of elements. For example:\r\n```java\r\npublic class LazyContentProvider implements ILazyContentProvider\r\n{\r\n  private TableViewer viewer;\r\n  private List&lt;String&gt; allElements;\r\n  private List&lt;String&gt; filteredElements;\r\n\r\n\r\n  public LazyContentProvider()\r\n  {\r\n    //\r\n  }\r\n\r\n\r\n  @Override\r\n  public void dispose()\r\n  {\r\n    //\r\n  }\r\n\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  @Override\r\n  public void inputChanged(final Viewer viewer, final Object oldInput, final Object newInput)\r\n  {\r\n    this.viewer = (TableViewer)viewer;\r\n\r\n    allElements = (List&lt;String&gt;)newInput;\r\n\r\n    filteredElements = allElements;\r\n  }\r\n\r\n\r\n  @Override\r\n  public void updateElement(final int index)\r\n  {\r\n    viewer.replace(filteredElements.get(index), index);\r\n  }\r\n\r\n\r\n  public void filter(final String searchText)\r\n  {\r\n    filteredElements = allElements.stream().filter(element -&gt; element.contains(searchText)).toList();\r\n\r\n    viewer.setItemCount(filteredElements.size());\r\n\r\n    viewer.refresh();\r\n  }\r\n}\r\n```\r\nHere I have added a `filteredElements` list that contains just the current filtered elements, this is used in `updateElement`.\r\n\r\nI added a `filter` method which updates the filtered elements list. It also tells the table viewer about the new item count and refreshes the table.\r\n\r\nThe `.toList()` method in the filter stream requires Java 16, for older versions of Java use `.collect(Collectors.toList())`.","title":"How to filter the inputs in Table with SWT.Virtual?","body":"<p>TableViewer does not support filtering when <code>SWT.VIRTUAL</code> is used. Instead you must do the filtering in the content provider.</p>\n<p>The content provider will need to maintain a filtered list of elements. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LazyContentProvider implements ILazyContentProvider\n{\n  private TableViewer viewer;\n  private List&lt;String&gt; allElements;\n  private List&lt;String&gt; filteredElements;\n\n\n  public LazyContentProvider()\n  {\n    //\n  }\n\n\n  @Override\n  public void dispose()\n  {\n    //\n  }\n\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  @Override\n  public void inputChanged(final Viewer viewer, final Object oldInput, final Object newInput)\n  {\n    this.viewer = (TableViewer)viewer;\n\n    allElements = (List&lt;String&gt;)newInput;\n\n    filteredElements = allElements;\n  }\n\n\n  @Override\n  public void updateElement(final int index)\n  {\n    viewer.replace(filteredElements.get(index), index);\n  }\n\n\n  public void filter(final String searchText)\n  {\n    filteredElements = allElements.stream().filter(element -&gt; element.contains(searchText)).toList();\n\n    viewer.setItemCount(filteredElements.size());\n\n    viewer.refresh();\n  }\n}\n</code></pre>\n<p>Here I have added a <code>filteredElements</code> list that contains just the current filtered elements, this is used in <code>updateElement</code>.</p>\n<p>I added a <code>filter</code> method which updates the filtered elements list. It also tells the table viewer about the new item count and refreshes the table.</p>\n<p>The <code>.toList()</code> method in the filter stream requires Java 16, for older versions of Java use <code>.collect(Collectors.toList())</code>.</p>\n"}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72087831,"answer_count":1,"score":0,"last_activity_date":1651500022,"creation_date":1651487827,"question_id":72085507,"body_markdown":"In my project, I have a `TableViewer` which needs to show around 3000 items and also filter them. Without `SWT.VIRTUAL` the table takes multiple seconds to display. &lt;br/&gt;\r\nSo, I implemented `ILazyContentProvider` and not using &quot;ArrayContentProvider&quot; but now I am facing issues in filtering the elements of `TableViewer`.\r\n\r\nI am writing the below code for filtering but the `select` method is not running at all.\r\n\r\n       private static class DefaultFilterextends ViewerFilter {\r\n        \r\n                private String searchText;\r\n        \r\n                public void setSearchText(final String searchText) {\r\n                    this.searchText = searchText;\r\n                }\r\n        \r\n                @Override\r\n                public boolean select(Viewer viewer, Object parentElement, Object element) {\r\n                    if (this.searchText == null) {\r\n                        return true;\r\n                    }\r\n                    return (element.toString().contains(searchText) || element.toString().equals(searchText));\r\n                }\r\n        }\r\n\r\nThe below ContentProvider, I am writting\r\n\r\n      private class LazyContentProvider implements ILazyContentProvider {\r\n\r\n            private TableViewer viewer;\r\n            private List&lt;String&gt; elements;\r\n\r\n            public LazyContentProvider(TableViewer viewer) {\r\n                this.viewer = viewer;\r\n            }\r\n\r\n            @Override\r\n            public void dispose() {\r\n            }\r\n\r\n            @Override\r\n            public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\r\n                this.elements = (List&lt;String&gt;) newInput;\r\n            }\r\n\r\n            @Override\r\n            public void updateElement(int index) {\r\n                viewer.replace(elements.get(index), index);\r\n            }\r\n\r\n        }\r\n\r\nCan someone please guide me how can I do the filteration of elements in TableViewer with SWT.VIRTUAL?","title":"How to filter the inputs in Table with SWT.Virtual?","body":"<p>In my project, I have a <code>TableViewer</code> which needs to show around 3000 items and also filter them. Without <code>SWT.VIRTUAL</code> the table takes multiple seconds to display. <br/>\nSo, I implemented <code>ILazyContentProvider</code> and not using &quot;ArrayContentProvider&quot; but now I am facing issues in filtering the elements of <code>TableViewer</code>.</p>\n<p>I am writing the below code for filtering but the <code>select</code> method is not running at all.</p>\n<pre><code>   private static class DefaultFilterextends ViewerFilter {\n    \n            private String searchText;\n    \n            public void setSearchText(final String searchText) {\n                this.searchText = searchText;\n            }\n    \n            @Override\n            public boolean select(Viewer viewer, Object parentElement, Object element) {\n                if (this.searchText == null) {\n                    return true;\n                }\n                return (element.toString().contains(searchText) || element.toString().equals(searchText));\n            }\n    }\n</code></pre>\n<p>The below ContentProvider, I am writting</p>\n<pre><code>  private class LazyContentProvider implements ILazyContentProvider {\n\n        private TableViewer viewer;\n        private List&lt;String&gt; elements;\n\n        public LazyContentProvider(TableViewer viewer) {\n            this.viewer = viewer;\n        }\n\n        @Override\n        public void dispose() {\n        }\n\n        @Override\n        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\n            this.elements = (List&lt;String&gt;) newInput;\n        }\n\n        @Override\n        public void updateElement(int index) {\n            viewer.replace(elements.get(index), index);\n        }\n\n    }\n</code></pre>\n<p>Can someone please guide me how can I do the filteration of elements in TableViewer with SWT.VIRTUAL?</p>\n"},{"tags":["java","multithreading","interrupt-handling","interrupted-exception","interruption"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1651179977,"post_id":72049564,"comment_id":127309388,"body_markdown":"https://stackoverflow.com/a/2523785/1527544","body":"<a href=\"https://stackoverflow.com/a/2523785/1527544\">stackoverflow.com/a/2523785/1527544</a>"},{"owner":{"account_id":6493905,"reputation":531,"user_id":5027073,"accept_rate":57,"display_name":"Unknown"},"score":0,"creation_date":1651208400,"post_id":72049564,"comment_id":127313943,"body_markdown":"Hi @Antoniossss , Thanks for comment, but Yeah I went through SO post already and various such posts. But couldn&#39;t come to a conclusion. Hence I posted my question in SO.","body":"Hi @Antoniossss , Thanks for comment, but Yeah I went through SO post already and various such posts. But couldn&#39;t come to a conclusion. Hence I posted my question in SO."},{"owner":{"account_id":6493905,"reputation":531,"user_id":5027073,"accept_rate":57,"display_name":"Unknown"},"score":0,"creation_date":1651208462,"post_id":72049564,"comment_id":127313950,"body_markdown":"@Antoniossss Could you please help me with above situation?","body":"@Antoniossss Could you please help me with above situation?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1651223210,"post_id":72049564,"comment_id":127317889,"body_markdown":"In your case I would just refactor to `catch(Excepion e) {return response}` and eventually log the cause.","body":"In your case I would just refactor to <code>catch(Excepion e) {return response}</code> and eventually log the cause."},{"owner":{"account_id":6493905,"reputation":531,"user_id":5027073,"accept_rate":57,"display_name":"Unknown"},"score":0,"creation_date":1651231273,"post_id":72049564,"comment_id":127320456,"body_markdown":"@Antoniossss, That means Restoring the Interruption status is not required in the above case right? My understanding is also same. But Just wanted to double confirm.","body":"@Antoniossss, That means Restoring the Interruption status is not required in the above case right? My understanding is also same. But Just wanted to double confirm."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1651231318,"post_id":72049564,"comment_id":127320475,"body_markdown":"I can only say that this is what I would do which may or may not be right.","body":"I can only say that this is what I would do which may or may not be right."}],"answers":[{"tags":[],"owner":{"account_id":25173674,"reputation":26,"user_id":19016184,"display_name":"user19016184"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651499665,"creation_date":1651499665,"answer_id":72087755,"question_id":72049564,"body_markdown":"In your program there you probably don&#39;t need to handle `InterruptedException` indeed.\r\n\r\nBut in a general case swallowing `InterruptedException` is a bad idea.  \r\nThe main reason is that `Thread.interrupt()` (which causes `InterruptedException`) is the only way to interrupt many blocking operations provided by Java&#39;s standard library.\r\n\r\nFor instance, the proper handling of `InterruptedException` is typically required when we want to gracefully shutdown our application (i.e. when we want to close files, network connections and other resources before shutdown).  \r\n\r\nSome information about this can be found in [`Thread.interrupt()` javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()).  \r\n\r\nAlso I would recommend [this SO answer](https://stackoverflow.com/a/3976527) and related chapters in &quot;Java Concurrency In Practice&quot;, mentioned there.","title":"Restoring Interruption flag status in Java","body":"<p>In your program there you probably don't need to handle <code>InterruptedException</code> indeed.</p>\n<p>But in a general case swallowing <code>InterruptedException</code> is a bad idea.<br />\nThe main reason is that <code>Thread.interrupt()</code> (which causes <code>InterruptedException</code>) is the only way to interrupt many blocking operations provided by Java's standard library.</p>\n<p>For instance, the proper handling of <code>InterruptedException</code> is typically required when we want to gracefully shutdown our application (i.e. when we want to close files, network connections and other resources before shutdown).</p>\n<p>Some information about this can be found in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#interrupt()\" rel=\"nofollow noreferrer\"><code>Thread.interrupt()</code> javadocs</a>.</p>\n<p>Also I would recommend <a href=\"https://stackoverflow.com/a/3976527\">this SO answer</a> and related chapters in &quot;Java Concurrency In Practice&quot;, mentioned there.</p>\n"}],"owner":{"account_id":6493905,"reputation":531,"user_id":5027073,"accept_rate":57,"display_name":"Unknown"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72087755,"answer_count":1,"score":0,"last_activity_date":1651499665,"creation_date":1651176111,"question_id":72049564,"body_markdown":"Good Day!\r\n\r\nI have been going through the Java Docs &amp; some online resources on properly handling the `InterruptedException` due to bug reported by SonarQube. But not sure if I 100% understood if `Interruption flag` status always has to be restored whenever InterruptedException occurs inside a place where we can&#39;t throw exception for Ex: Runnable implementation. \r\n\r\nLets consider below replicated demo example code, where the main method is responsible for initiating some async method.The async method makes the Http GET request and processes(*by taking `runnable` as argument to the addListener method*) the response asynchronously.\r\n[![enter image description here][1]][1]\r\n\r\n**Note :** Now my query is Do I have to restore `Interruption status` flag at line#35. Why asking this is because,\r\n\r\n 1. This is my complete program, and nowhere am interrupting the task-thread which processes the actual GET request&#39;s response. But Interruption can happen due  to various factors which I understand. But **my requirement is very simple to always return back some default response no matter what exception I get**, even if it is `InterruptedException`. So, even without restoring the flag, my intention/requirement gets fulfilled i.e to complete the `CompletableFuture` with some default response. \r\n 2. And nowhere in my code I am going check for `Thread.interrupted()` OR `Thread.currentThread().isInterrupted()` because I don&#39;t want to handle this as my requirement already got fulfilled by returning back default response.\r\n 3. After capturing the InterruptedException and completing the Future with some default response, am not processing anything further within this thread(Runnable).\r\n 4. After executing the InterruptedException  catch block, next my Main Thread will start executing with the received default response. And my Main Thread OR Parent Thread doesn&#39;t want to know OR doesn&#39;t care about if InterruptedException ever occurred-or-not. All it cares about is some valid response.\r\n\r\n\r\n\r\n&gt; Incase if I still want to restore the Interruption flag status, could\r\n&gt; someone please explain why to restore the same, and how can my code go\r\n&gt; wrong if I don&#39;t restore it?\r\n\r\n. Because, as I said in above 4 points my requirement gets fulfilled even without restoring the flag.\r\n\r\nAny enlightment/clarification on this topic for the above exact scenario is highly appreciatable.\r\n\r\nThanks in Advance :)\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3WgOj.png","title":"Restoring Interruption flag status in Java","body":"<p>Good Day!</p>\n<p>I have been going through the Java Docs &amp; some online resources on properly handling the <code>InterruptedException</code> due to bug reported by SonarQube. But not sure if I 100% understood if <code>Interruption flag</code> status always has to be restored whenever InterruptedException occurs inside a place where we can't throw exception for Ex: Runnable implementation.</p>\n<p>Lets consider below replicated demo example code, where the main method is responsible for initiating some async method.The async method makes the Http GET request and processes(<em>by taking <code>runnable</code> as argument to the addListener method</em>) the response asynchronously.\n<a href=\"https://i.stack.imgur.com/3WgOj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3WgOj.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note :</strong> Now my query is Do I have to restore <code>Interruption status</code> flag at line#35. Why asking this is because,</p>\n<ol>\n<li>This is my complete program, and nowhere am interrupting the task-thread which processes the actual GET request's response. But Interruption can happen due  to various factors which I understand. But <strong>my requirement is very simple to always return back some default response no matter what exception I get</strong>, even if it is <code>InterruptedException</code>. So, even without restoring the flag, my intention/requirement gets fulfilled i.e to complete the <code>CompletableFuture</code> with some default response.</li>\n<li>And nowhere in my code I am going check for <code>Thread.interrupted()</code> OR <code>Thread.currentThread().isInterrupted()</code> because I don't want to handle this as my requirement already got fulfilled by returning back default response.</li>\n<li>After capturing the InterruptedException and completing the Future with some default response, am not processing anything further within this thread(Runnable).</li>\n<li>After executing the InterruptedException  catch block, next my Main Thread will start executing with the received default response. And my Main Thread OR Parent Thread doesn't want to know OR doesn't care about if InterruptedException ever occurred-or-not. All it cares about is some valid response.</li>\n</ol>\n<blockquote>\n<p>Incase if I still want to restore the Interruption flag status, could\nsomeone please explain why to restore the same, and how can my code go\nwrong if I don't restore it?</p>\n</blockquote>\n<p>. Because, as I said in above 4 points my requirement gets fulfilled even without restoring the flag.</p>\n<p>Any enlightment/clarification on this topic for the above exact scenario is highly appreciatable.</p>\n<p>Thanks in Advance :)</p>\n"},{"tags":["java","ms-word","apache-poi","background-image"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1644263760,"post_id":71024250,"comment_id":125554617,"body_markdown":"Please provide minimal, reproducible code. For example, where is this method `getDocument()` declared? What does it do? That doesn&#39;t look like Apache POI to me.","body":"Please provide minimal, reproducible code. For example, where is this method <code>getDocument()</code> declared? What does it do? That doesn&#39;t look like Apache POI to me."},{"owner":{"account_id":24184753,"reputation":13,"user_id":18144844,"display_name":"matthiasWurzer"},"score":0,"creation_date":1644268139,"post_id":71024250,"comment_id":125556164,"body_markdown":"//Blank Document\n        XWPFDocument doc = new XWPFDocument();\n\n        //Write the Document in file system\n        FileOutputStream out = new FileOutputStream(new File(&quot;test.docx&quot;));\n\n        File backgroundImage = new File(&quot;img.png&quot;);\n\n        doc.getDocument().addNewBackground().addNewDrawing(backgroundImage)","body":"//Blank Document         XWPFDocument doc = new XWPFDocument();          //Write the Document in file system         FileOutputStream out = new FileOutputStream(new File(&quot;test.docx&quot;));          File backgroundImage = new File(&quot;img.png&quot;);          doc.getDocument().addNewBackground().addNewDrawing(backgroun&zwnj;&#8203;dImage)"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644268263,"post_id":71024250,"comment_id":125556222,"body_markdown":"Don&#39;t add that as a comment. Update your post with that info.","body":"Don&#39;t add that as a comment. Update your post with that info."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1644301530,"post_id":71024250,"comment_id":125563173,"body_markdown":"What exactly is the goal? How would you do that using the Microsoft Word GUI? Maybe you confound page background and watermark?","body":"What exactly is the goal? How would you do that using the Microsoft Word GUI? Maybe you confound page background and watermark?"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644380982,"creation_date":1644314392,"answer_id":71031876,"question_id":71024250,"body_markdown":"Your question seems to be about [add, change, or delete the background color in Word](https://support.microsoft.com/en-us/office/add-change-or-delete-the-background-color-in-word-db481e61-7af6-4063-bbcd-b276054a5515).\r\n\r\nThis consists of two settings. \r\n\r\nFirst, display-background-shape must be enabled in document settings .\r\n\r\nSecond, the document must have set background having a color. This might be white but must be set.\r\n\r\nThen optional a picture reference can be set. That picture then gets used as background tile. Microsoft Word itself still uses VML to set the picture reference to background. This is much simpler than using a drawing. Although using a drawing in `CTBackground` is possible according Office Open XML specifications, I&#39;ve never seen this in practical usage until now.\r\n\r\nNothing of that is supported by the high level class layer of `apache poi`. But it can be solved using the low level `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` classes.\r\n\r\nOne more challenge is to get the `XWPFSettings`. There is not a getter method. So we need using reflection to get it from `XWPFDocument`. Same for to get `CTSettings` from `XWPFSettings` then.\r\n\r\nFollowing complete example shows how to set background color and/or background tile picture. The code is tested and works using current `apache po 5.2.0` and `poi-ooxml-full-5.2.0.jar`.\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    \r\n    public class CreateWordPageBackground {\r\n    \t\r\n     static XWPFSettings getSettings(XWPFDocument document) throws Exception {\r\n      java.lang.reflect.Field settings = XWPFDocument.class.getDeclaredField(&quot;settings&quot;);\r\n      settings.setAccessible(true);\r\n      return (XWPFSettings)settings.get(document);\r\n     }\r\n     \r\n     static void setDisplayBackgroundShape(XWPFSettings settings, boolean booleanOnOff) throws Exception {\r\n      java.lang.reflect.Field _ctSettings = XWPFSettings.class.getDeclaredField(&quot;ctSettings&quot;);\r\n      _ctSettings.setAccessible(true);\r\n      CTSettings ctSettings = (CTSettings )_ctSettings.get(settings);\r\n      CTOnOff onOff = CTOnOff.Factory.newInstance();\r\n      onOff.setVal(booleanOnOff);\r\n      ctSettings.setDisplayBackgroundShape(onOff);\r\n     }\r\n    \r\n     static void setBackgroundPictureId(CTBackground background, String rId) throws Exception {\r\n      String vmlBackgroundXML = &quot;&quot; \r\n       + &quot;&lt;v:background xmlns:v=\\&quot;urn:schemas-microsoft-com:vml\\&quot; xmlns:o=\\&quot;urn:schemas-microsoft-com:office:office\\&quot; &quot;\r\n       + &quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\r\n       + &quot;id=\\&quot;_x0000_s1025\\&quot; o:bwmode=\\&quot;white\\&quot; o:targetscreensize=\\&quot;1024,768\\&quot;&gt;&quot;\r\n       + &quot;&lt;v:fill r:id=\\&quot;&quot; + rId + &quot;\\&quot; recolor=\\&quot;t\\&quot; type=\\&quot;frame\\&quot;/&gt;&quot;\r\n       + &quot;&lt;/v:background&gt;&quot;\r\n      ;\r\n      org.apache.xmlbeans.XmlObject vmlBackgroundXmlObject = org.apache.xmlbeans.XmlObject.Factory.parse(vmlBackgroundXML);\r\n      background.set(vmlBackgroundXmlObject);\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n      \r\n      // we need document settings to set display-background-shape\r\n      XWPFSettings settings = getSettings(document);\r\n      setDisplayBackgroundShape(settings, true);\r\n      \r\n      // set a background color\r\n      CTBackground background = document.getDocument().addNewBackground();\r\n      background.setColor(&quot;FF0000&quot;);\r\n    \r\n      // crate a picture reference in document\r\n      InputStream is = new FileInputStream(&quot;./logo.png&quot;);\r\n      String rId = document.addPictureData(is, Document.PICTURE_TYPE_PNG);\r\n      // set a background picture\r\n      setBackgroundPictureId(background, rId);\r\n      background.setColor(&quot;FFFFFF&quot;);\r\n       \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run = paragraph.createRun();\r\n      run.setText(&quot;Text in Body ...&quot;);\r\n    \r\n      paragraph = document.createParagraph();\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreateWordPageBackground.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n     }\r\n    }\r\n\r\nBoth, background color as well as background tile picture, only gets visible in Microsoft Word GUI. It not gets printed.\r\n\r\nIf the need is a printed page background, then this will be resolved by a shape in the page header, also known as watermark. But this is another question then.\r\n\r\n","title":"How can I set the complete page background for a Word page with Apache POI?","body":"<p>Your question seems to be about <a href=\"https://support.microsoft.com/en-us/office/add-change-or-delete-the-background-color-in-word-db481e61-7af6-4063-bbcd-b276054a5515\" rel=\"nofollow noreferrer\">add, change, or delete the background color in Word</a>.</p>\n<p>This consists of two settings.</p>\n<p>First, display-background-shape must be enabled in document settings .</p>\n<p>Second, the document must have set background having a color. This might be white but must be set.</p>\n<p>Then optional a picture reference can be set. That picture then gets used as background tile. Microsoft Word itself still uses VML to set the picture reference to background. This is much simpler than using a drawing. Although using a drawing in <code>CTBackground</code> is possible according Office Open XML specifications, I've never seen this in practical usage until now.</p>\n<p>Nothing of that is supported by the high level class layer of <code>apache poi</code>. But it can be solved using the low level <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> classes.</p>\n<p>One more challenge is to get the <code>XWPFSettings</code>. There is not a getter method. So we need using reflection to get it from <code>XWPFDocument</code>. Same for to get <code>CTSettings</code> from <code>XWPFSettings</code> then.</p>\n<p>Following complete example shows how to set background color and/or background tile picture. The code is tested and works using current <code>apache po 5.2.0</code> and <code>poi-ooxml-full-5.2.0.jar</code>.</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\n\npublic class CreateWordPageBackground {\n    \n static XWPFSettings getSettings(XWPFDocument document) throws Exception {\n  java.lang.reflect.Field settings = XWPFDocument.class.getDeclaredField(&quot;settings&quot;);\n  settings.setAccessible(true);\n  return (XWPFSettings)settings.get(document);\n }\n \n static void setDisplayBackgroundShape(XWPFSettings settings, boolean booleanOnOff) throws Exception {\n  java.lang.reflect.Field _ctSettings = XWPFSettings.class.getDeclaredField(&quot;ctSettings&quot;);\n  _ctSettings.setAccessible(true);\n  CTSettings ctSettings = (CTSettings )_ctSettings.get(settings);\n  CTOnOff onOff = CTOnOff.Factory.newInstance();\n  onOff.setVal(booleanOnOff);\n  ctSettings.setDisplayBackgroundShape(onOff);\n }\n\n static void setBackgroundPictureId(CTBackground background, String rId) throws Exception {\n  String vmlBackgroundXML = &quot;&quot; \n   + &quot;&lt;v:background xmlns:v=\\&quot;urn:schemas-microsoft-com:vml\\&quot; xmlns:o=\\&quot;urn:schemas-microsoft-com:office:office\\&quot; &quot;\n   + &quot;xmlns:r=\\&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships\\&quot; &quot;\n   + &quot;id=\\&quot;_x0000_s1025\\&quot; o:bwmode=\\&quot;white\\&quot; o:targetscreensize=\\&quot;1024,768\\&quot;&gt;&quot;\n   + &quot;&lt;v:fill r:id=\\&quot;&quot; + rId + &quot;\\&quot; recolor=\\&quot;t\\&quot; type=\\&quot;frame\\&quot;/&gt;&quot;\n   + &quot;&lt;/v:background&gt;&quot;\n  ;\n  org.apache.xmlbeans.XmlObject vmlBackgroundXmlObject = org.apache.xmlbeans.XmlObject.Factory.parse(vmlBackgroundXML);\n  background.set(vmlBackgroundXmlObject);\n }\n \n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument();\n  \n  // we need document settings to set display-background-shape\n  XWPFSettings settings = getSettings(document);\n  setDisplayBackgroundShape(settings, true);\n  \n  // set a background color\n  CTBackground background = document.getDocument().addNewBackground();\n  background.setColor(&quot;FF0000&quot;);\n\n  // crate a picture reference in document\n  InputStream is = new FileInputStream(&quot;./logo.png&quot;);\n  String rId = document.addPictureData(is, Document.PICTURE_TYPE_PNG);\n  // set a background picture\n  setBackgroundPictureId(background, rId);\n  background.setColor(&quot;FFFFFF&quot;);\n   \n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run = paragraph.createRun();\n  run.setText(&quot;Text in Body ...&quot;);\n\n  paragraph = document.createParagraph();\n\n  FileOutputStream out = new FileOutputStream(&quot;./CreateWordPageBackground.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n }\n}\n</code></pre>\n<p>Both, background color as well as background tile picture, only gets visible in Microsoft Word GUI. It not gets printed.</p>\n<p>If the need is a printed page background, then this will be resolved by a shape in the page header, also known as watermark. But this is another question then.</p>\n"}],"owner":{"account_id":24184753,"reputation":13,"user_id":18144844,"display_name":"matthiasWurzer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71031876,"answer_count":1,"score":0,"last_activity_date":1651499498,"creation_date":1644261857,"question_id":71024250,"body_markdown":"I have already searched all day today, but without success. First I created a new Word document and tried to set the background with\r\n\r\n     //Blank Document\r\n        XWPFDocument doc = new XWPFDocument();\r\n\r\n        //Write the Document in file system\r\n        FileOutputStream out = new FileOutputStream(new File(&quot;test.docx&quot;));\r\n\r\n        File backgroundImage = new File(&quot;img.png&quot;);\r\n\r\n    doc.getDocument().addNewBackground().addNewDrawing().save(backgroundImage);\r\n\r\n`backgroundImage` is the picture I want to set. \r\n","title":"How can I set the complete page background for a Word page with Apache POI?","body":"<p>I have already searched all day today, but without success. First I created a new Word document and tried to set the background with</p>\n<pre><code> //Blank Document\n    XWPFDocument doc = new XWPFDocument();\n\n    //Write the Document in file system\n    FileOutputStream out = new FileOutputStream(new File(&quot;test.docx&quot;));\n\n    File backgroundImage = new File(&quot;img.png&quot;);\n\ndoc.getDocument().addNewBackground().addNewDrawing().save(backgroundImage);\n</code></pre>\n<p><code>backgroundImage</code> is the picture I want to set.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":21136172,"reputation":636,"user_id":15539586,"display_name":"Abdallah Abdel Aziz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651499447,"creation_date":1651499447,"answer_id":72087716,"question_id":72087308,"body_markdown":"An easy way to do it without threading is to create another timeline just the way you did the `timeline`, where you can `setScene` for your `primaryStage`, like that: \r\n\r\n    Timeline finishTimeline = new Timeline(\r\n                new KeyFrame(\r\n                    Duration.millis(1),\r\n                    event -&gt; {\r\n                        StackPane s = new StackPane();\r\n                        s.getChildren().add(new Label(&quot;your label here&quot;));\r\n                        Scene scene = new Scene(s, 200, 200);\r\n                        primaryStage.setScene(scene);\r\n                    }\r\n                )\r\n            );\r\n\r\nnote that you should play this finishTimeline when you finish the first timeline, so you can use a `SequentialTransition` to play both in a sequential order:\r\n\r\n    SequentialTransition st = new SequentialTransition(timeline, finishTimeline);\r\n    st.play();\r\nNow modify your code to be 100% precise.","title":"How do I get a javafx scene to change on a 15 second timer?","body":"<p>An easy way to do it without threading is to create another timeline just the way you did the <code>timeline</code>, where you can <code>setScene</code> for your <code>primaryStage</code>, like that:</p>\n<pre><code>Timeline finishTimeline = new Timeline(\n            new KeyFrame(\n                Duration.millis(1),\n                event -&gt; {\n                    StackPane s = new StackPane();\n                    s.getChildren().add(new Label(&quot;your label here&quot;));\n                    Scene scene = new Scene(s, 200, 200);\n                    primaryStage.setScene(scene);\n                }\n            )\n        );\n</code></pre>\n<p>note that you should play this finishTimeline when you finish the first timeline, so you can use a <code>SequentialTransition</code> to play both in a sequential order:</p>\n<pre><code>SequentialTransition st = new SequentialTransition(timeline, finishTimeline);\nst.play();\n</code></pre>\n<p>Now modify your code to be 100% precise.</p>\n"}],"owner":{"account_id":25173311,"reputation":5,"user_id":19015871,"display_name":"AGSOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72087716,"answer_count":1,"score":-3,"last_activity_date":1651499447,"creation_date":1651497475,"question_id":72087308,"body_markdown":"In my current code every time I add something like Platform.runLater it will crash due to the fact that you cannot have a Thread.sleep in the main scene. This is the last instance of my working code, any help is appreciated.\r\n\r\n    import javafx.application.Platform;\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.PauseTransition;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.scene.layout.FlowPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.Scene;\r\n    import java.util.Random;\r\n    \r\n    public class Testing2 extends Application {\r\n        private static final double MAX_X = 1000;\r\n        private static final double MAX_Y = 750;\r\n    \r\n        private static String Converted = null;\r\n        private int MIN_X2 = 20;\r\n        private int MIN_Y2 = 20;\r\n        private int MAX_X2 = 950;\r\n        private int MAX_Y2 = 700;\r\n        private int clickCount = 0;\r\n        private Random random;\r\n        Random generator = new Random();\r\n        public int Seconds = 15;\r\n        Scene scene, scene2;\r\n        Stage window;\r\n    \r\n        private final Text text2 = new Text(&quot;All Done!&quot;);\r\n    \r\n        public void changeScene(Stage stage) {\r\n        \tStackPane root2 = new StackPane();\r\n        \troot2.getChildren().add(text2);\r\n        \tScene scene2 = new Scene(root2, 200, 200);\r\n        \tstage.setScene(scene2);\r\n        }\r\n    \r\n        public void init() {\r\n            random = new Random();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n        \twindow = primaryStage;\r\n            Circle circle = new Circle(MAX_X / 2, MAX_Y / 2, 15);//(StartX, StartY, Size)\r\n            Text clickCountText = new Text(&quot;Clicks: &quot; + clickCount);\r\n            Text Space = new Text(&quot;           &quot;);\r\n            Text label = new Text(&quot;&quot;);\r\n    \r\n            circle.setOnMouseClicked((event) -&gt; {\r\n    \r\n                circle.setCenterX(random.nextInt(MAX_X2 - MIN_X2) + MIN_X2);\r\n                circle.setCenterY(random.nextInt(MAX_Y2 - MIN_Y2) + MIN_Y2);\r\n                circle.getCenterX();\r\n                clickCount ++;\r\n                clickCountText.setText(&quot;Clicks: &quot;+ clickCount);\r\n    \r\n    \r\n    \r\n            });\r\n    \r\n    \r\n            Group layout = new Group(\r\n                    circle,\r\n                    new FlowPane(clickCountText, Space, label)\r\n            );\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    //create 2 strings, convert the number to a string, concat 3 strings and assign to variable, put variable in setText\r\n    \r\n            PauseTransition pause = new PauseTransition(Duration.seconds(1));\r\n    \r\n            pause.setOnFinished(event -&gt; {\r\n            \tString String1 = &quot;There are &quot;;\r\n            \tString String2 = &quot; Seconds Left&quot;;\r\n    \r\n            \tfor(int n=15; n&gt;=0; n--){\r\n            \t\tConverted = Integer.toString(Seconds);\r\n            \tString String3 = String1 + Seconds + String2;\r\n    \r\n            }}\r\n            );\r\n    \t\tfinal IntegerProperty i = new SimpleIntegerProperty(16);\r\n    \t\tTimeline timeline = new Timeline(\r\n    \t\t    new KeyFrame(\r\n    \t\t        Duration.seconds(1),\r\n    \t\t        event -&gt; {\r\n    \t\t            i.set(i.get() - 1);\r\n    \t\t            label.setText(&quot;You have: &quot; + i.get() + &quot; seconds remaining!&quot;);\r\n    \t\t        }\r\n    \t\t    )\r\n    \t\t);\r\n    \r\n    \t\ttimeline.setCycleCount(16);\r\n    \t\ttimeline.play();\r\n    \r\n    \r\n            pause.play();\r\n            primaryStage.setScene(new Scene(layout, MAX_X, MAX_Y, Color.WHITE));\r\n            primaryStage.setResizable(false);\r\n            primaryStage.show();\r\n        }\r\n    \r\n    public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\nThe program is supposed to generate a circle, and when it gets clicked it moves the circle to a random location on screen. Every time one is clicked it increases the click count by one. Once the timer hits 0 I want the scene to change to a screen that says the text, &quot;You got __ clicks in 15 seconds! Good job!&quot;. I&#39;m running this through eclipse so you can just paste it in and try it out.","title":"How do I get a javafx scene to change on a 15 second timer?","body":"<p>In my current code every time I add something like Platform.runLater it will crash due to the fact that you cannot have a Thread.sleep in the main scene. This is the last instance of my working code, any help is appreciated.</p>\n<pre><code>import javafx.application.Platform;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.PauseTransition;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.scene.layout.FlowPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport java.util.Random;\n\npublic class Testing2 extends Application {\n    private static final double MAX_X = 1000;\n    private static final double MAX_Y = 750;\n\n    private static String Converted = null;\n    private int MIN_X2 = 20;\n    private int MIN_Y2 = 20;\n    private int MAX_X2 = 950;\n    private int MAX_Y2 = 700;\n    private int clickCount = 0;\n    private Random random;\n    Random generator = new Random();\n    public int Seconds = 15;\n    Scene scene, scene2;\n    Stage window;\n\n    private final Text text2 = new Text(&quot;All Done!&quot;);\n\n    public void changeScene(Stage stage) {\n        StackPane root2 = new StackPane();\n        root2.getChildren().add(text2);\n        Scene scene2 = new Scene(root2, 200, 200);\n        stage.setScene(scene2);\n    }\n\n    public void init() {\n        random = new Random();\n    }\n\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        window = primaryStage;\n        Circle circle = new Circle(MAX_X / 2, MAX_Y / 2, 15);//(StartX, StartY, Size)\n        Text clickCountText = new Text(&quot;Clicks: &quot; + clickCount);\n        Text Space = new Text(&quot;           &quot;);\n        Text label = new Text(&quot;&quot;);\n\n        circle.setOnMouseClicked((event) -&gt; {\n\n            circle.setCenterX(random.nextInt(MAX_X2 - MIN_X2) + MIN_X2);\n            circle.setCenterY(random.nextInt(MAX_Y2 - MIN_Y2) + MIN_Y2);\n            circle.getCenterX();\n            clickCount ++;\n            clickCountText.setText(&quot;Clicks: &quot;+ clickCount);\n\n\n\n        });\n\n\n        Group layout = new Group(\n                circle,\n                new FlowPane(clickCountText, Space, label)\n        );\n\n\n\n\n\n//create 2 strings, convert the number to a string, concat 3 strings and assign to variable, put variable in setText\n\n        PauseTransition pause = new PauseTransition(Duration.seconds(1));\n\n        pause.setOnFinished(event -&gt; {\n            String String1 = &quot;There are &quot;;\n            String String2 = &quot; Seconds Left&quot;;\n\n            for(int n=15; n&gt;=0; n--){\n                Converted = Integer.toString(Seconds);\n            String String3 = String1 + Seconds + String2;\n\n        }}\n        );\n        final IntegerProperty i = new SimpleIntegerProperty(16);\n        Timeline timeline = new Timeline(\n            new KeyFrame(\n                Duration.seconds(1),\n                event -&gt; {\n                    i.set(i.get() - 1);\n                    label.setText(&quot;You have: &quot; + i.get() + &quot; seconds remaining!&quot;);\n                }\n            )\n        );\n\n        timeline.setCycleCount(16);\n        timeline.play();\n\n\n        pause.play();\n        primaryStage.setScene(new Scene(layout, MAX_X, MAX_Y, Color.WHITE));\n        primaryStage.setResizable(false);\n        primaryStage.show();\n    }\n\npublic static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The program is supposed to generate a circle, and when it gets clicked it moves the circle to a random location on screen. Every time one is clicked it increases the click count by one. Once the timer hits 0 I want the scene to change to a screen that says the text, &quot;You got __ clicks in 15 seconds! Good job!&quot;. I'm running this through eclipse so you can just paste it in and try it out.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1651499682,"post_id":72087714,"comment_id":127372468,"body_markdown":"I suggest not making `StudentSubject` a managed JPA entity.  Instead, just define the POJO, and then use a native query which matches.","body":"I suggest not making <code>StudentSubject</code> a managed JPA entity.  Instead, just define the POJO, and then use a native query which matches."},{"owner":{"account_id":23513682,"reputation":5,"user_id":17561910,"display_name":"Japerre"},"score":0,"creation_date":1651500317,"post_id":72087714,"comment_id":127372711,"body_markdown":"I don&#39;t understand. Could you elaborate? What do you mean by managed JPA entity? And native query which matches?","body":"I don&#39;t understand. Could you elaborate? What do you mean by managed JPA entity? And native query which matches?"}],"owner":{"account_id":23513682,"reputation":5,"user_id":17561910,"display_name":"Japerre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651499446,"creation_date":1651499446,"question_id":72087714,"body_markdown":"I&#39;m using a seperate class StudentSubject to map a many to many relationship because i use additional columns for the mapping(boolean favorite and int amountOfStars).\r\n\r\nI have a repository for StudentSubject class:\r\n\r\n```\r\n@Repository\r\npublic interface StudentSubjectRepository extends JpaRepository&lt;StudentSubject, Long&gt; {\r\n\r\n    public List&lt;Subject&gt; findAllByStudentStudentIdAndFavoriteTrue(Long studentId);\r\n}\r\n```\r\n\r\nI&#39;m trying to retrieve a list of Subject objects instead of StudentSubject objects. How can this be done? \r\n\r\nStudentSubject class:\r\n\r\n````\r\npublic class StudentSubject {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_subject_sequence&quot;,\r\n            sequenceName = &quot;student_subject_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_subject_sequence&quot;\r\n    )\r\n    private Long id;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;STUDENT_ID&quot;)\r\n    private Student student;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;SUBJECT_ID&quot;)\r\n    private Subject subject;\r\n\r\n    private int amountOfStars;\r\n\r\n    private boolean favorite;\r\n\r\n}\r\n````\r\n\r\nsubject class:\r\n````\r\npublic class Subject {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;subject_sequence&quot;,\r\n            sequenceName = &quot;subject_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;subject_sequence&quot;\r\n    )\r\n    private Long subjectId;\r\n    private String title;\r\n    private String description;\r\n    private int amountOfStudents;\r\n\r\n    @ManyToMany(\r\n            cascade = {CascadeType.PERSIST, CascadeType.REFRESH}\r\n    )\r\n    @JoinTable(\r\n            name = &quot;subject_promotor&quot;,\r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;subject_id&quot;,\r\n                    referencedColumnName = &quot;subjectId&quot;\r\n            ),\r\n            inverseJoinColumns = @JoinColumn(\r\n                    name = &quot;promotor_id&quot;,\r\n                    referencedColumnName = &quot;promotorId&quot;\r\n            )\r\n    )\r\n    private List&lt;Promotor&gt; promotorList;\r\n\r\n\r\n    @ManyToMany(\r\n            cascade = {CascadeType.PERSIST, CascadeType.REFRESH}\r\n    )\r\n    @JoinTable(\r\n            name = &quot;subject_topic&quot;,\r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;subject_id&quot;,\r\n                    referencedColumnName = &quot;subjectId&quot;\r\n            ),\r\n            inverseJoinColumns = @JoinColumn(\r\n                    name = &quot;topic_id&quot;,\r\n                    referencedColumnName = &quot;topicId&quot;\r\n            )\r\n    )\r\n    private List&lt;Topic&gt; topicList;\r\n\r\n\r\n    @ManyToMany(\r\n            cascade = {CascadeType.PERSIST, CascadeType.REFRESH}\r\n    )\r\n    @JoinTable(\r\n            name = &quot;subject_targetAudience&quot;,\r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;subject_id&quot;,\r\n                    referencedColumnName = &quot;subjectId&quot;\r\n            ),\r\n            inverseJoinColumns = @JoinColumn(\r\n                    name = &quot;targetAudience_id&quot;,\r\n                    referencedColumnName = &quot;targetAudienceId&quot;\r\n            )\r\n    )\r\n    private List&lt;TargetAudience&gt; targetAudienceList;\r\n\r\n    private Boolean approved;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name=&quot;employer_id&quot;, referencedColumnName = &quot;employerId&quot;)\r\n    private Employer employer;\r\n}\r\n````\r\n\r\nstudent class:\r\n```\r\npublic class Student {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Long studentId;\r\n\r\n    @OneToOne(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER,\r\n            optional = false\r\n    )\r\n    @JoinColumn(\r\n            name = &quot;user_id&quot;,\r\n            referencedColumnName = &quot;userId&quot;\r\n    )\r\n    private User user;\r\n\r\n    @OneToOne(\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.EAGER,\r\n            optional = true\r\n    )\r\n    @JoinColumn(\r\n            name = &quot;target_audience&quot;,\r\n            referencedColumnName = &quot;TargetAudienceId&quot;\r\n    )\r\n    private TargetAudience targetAudience;\r\n\r\n\r\n\r\n```\r\n\r\n","title":"spring data jpa query to retrieve List of objects that are not of the type of the actual repository","body":"<p>I'm using a seperate class StudentSubject to map a many to many relationship because i use additional columns for the mapping(boolean favorite and int amountOfStars).</p>\n<p>I have a repository for StudentSubject class:</p>\n<pre><code>@Repository\npublic interface StudentSubjectRepository extends JpaRepository&lt;StudentSubject, Long&gt; {\n\n    public List&lt;Subject&gt; findAllByStudentStudentIdAndFavoriteTrue(Long studentId);\n}\n</code></pre>\n<p>I'm trying to retrieve a list of Subject objects instead of StudentSubject objects. How can this be done?</p>\n<p>StudentSubject class:</p>\n<pre><code>public class StudentSubject {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_subject_sequence&quot;,\n            sequenceName = &quot;student_subject_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_subject_sequence&quot;\n    )\n    private Long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;STUDENT_ID&quot;)\n    private Student student;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;SUBJECT_ID&quot;)\n    private Subject subject;\n\n    private int amountOfStars;\n\n    private boolean favorite;\n\n}\n</code></pre>\n<p>subject class:</p>\n<pre><code>public class Subject {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;subject_sequence&quot;,\n            sequenceName = &quot;subject_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;subject_sequence&quot;\n    )\n    private Long subjectId;\n    private String title;\n    private String description;\n    private int amountOfStudents;\n\n    @ManyToMany(\n            cascade = {CascadeType.PERSIST, CascadeType.REFRESH}\n    )\n    @JoinTable(\n            name = &quot;subject_promotor&quot;,\n            joinColumns = @JoinColumn(\n                    name = &quot;subject_id&quot;,\n                    referencedColumnName = &quot;subjectId&quot;\n            ),\n            inverseJoinColumns = @JoinColumn(\n                    name = &quot;promotor_id&quot;,\n                    referencedColumnName = &quot;promotorId&quot;\n            )\n    )\n    private List&lt;Promotor&gt; promotorList;\n\n\n    @ManyToMany(\n            cascade = {CascadeType.PERSIST, CascadeType.REFRESH}\n    )\n    @JoinTable(\n            name = &quot;subject_topic&quot;,\n            joinColumns = @JoinColumn(\n                    name = &quot;subject_id&quot;,\n                    referencedColumnName = &quot;subjectId&quot;\n            ),\n            inverseJoinColumns = @JoinColumn(\n                    name = &quot;topic_id&quot;,\n                    referencedColumnName = &quot;topicId&quot;\n            )\n    )\n    private List&lt;Topic&gt; topicList;\n\n\n    @ManyToMany(\n            cascade = {CascadeType.PERSIST, CascadeType.REFRESH}\n    )\n    @JoinTable(\n            name = &quot;subject_targetAudience&quot;,\n            joinColumns = @JoinColumn(\n                    name = &quot;subject_id&quot;,\n                    referencedColumnName = &quot;subjectId&quot;\n            ),\n            inverseJoinColumns = @JoinColumn(\n                    name = &quot;targetAudience_id&quot;,\n                    referencedColumnName = &quot;targetAudienceId&quot;\n            )\n    )\n    private List&lt;TargetAudience&gt; targetAudienceList;\n\n    private Boolean approved;\n\n    @ManyToOne()\n    @JoinColumn(name=&quot;employer_id&quot;, referencedColumnName = &quot;employerId&quot;)\n    private Employer employer;\n}\n</code></pre>\n<p>student class:</p>\n<pre><code>public class Student {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_sequence&quot;\n    )\n    private Long studentId;\n\n    @OneToOne(\n            cascade = CascadeType.ALL,\n            fetch = FetchType.EAGER,\n            optional = false\n    )\n    @JoinColumn(\n            name = &quot;user_id&quot;,\n            referencedColumnName = &quot;userId&quot;\n    )\n    private User user;\n\n    @OneToOne(\n            cascade = CascadeType.ALL,\n            fetch = FetchType.EAGER,\n            optional = true\n    )\n    @JoinColumn(\n            name = &quot;target_audience&quot;,\n            referencedColumnName = &quot;TargetAudienceId&quot;\n    )\n    private TargetAudience targetAudience;\n\n\n\n</code></pre>\n"},{"tags":["java","amazon-web-services","gremlin","amazon-neptune"],"comments":[{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1651499718,"post_id":71993211,"comment_id":127372486,"body_markdown":"Just to clarify, are you saying the exact same code, including the cluster creation steps above, works sometimes but not always, or that it never works?","body":"Just to clarify, are you saying the exact same code, including the cluster creation steps above, works sometimes but not always, or that it never works?"},{"owner":{"account_id":25080372,"reputation":1,"user_id":18933202,"display_name":"mossOnTheWall"},"score":0,"creation_date":1651589712,"post_id":71993211,"comment_id":127396273,"body_markdown":"It works but not always. Unable to identify the bottleneck.","body":"It works but not always. Unable to identify the bottleneck."},{"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"score":0,"creation_date":1652794669,"post_id":71993211,"comment_id":127688952,"body_markdown":"Were you able to gain any further insight as to what was going on?","body":"Were you able to gain any further insight as to what was going on?"}],"owner":{"account_id":25080372,"reputation":1,"user_id":18933202,"display_name":"mossOnTheWall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651499408,"creation_date":1650843750,"question_id":71993211,"body_markdown":"We have a AWS Neptune db.r4.large instance which with 2vCPUs can run 4 threads and hence 4 queries maximum at a time. We use the Gremlin Java client to connect to AWS Neptune. We are seeing regular persistent `java.util.concurrent.TimeoutException` exceptions while querying data. \r\n\r\nReading up on this AWS doc: https://docs.aws.amazon.com/neptune/latest/userguide/best-practices-gremlin-java-exceptions.html \r\nIt looks to be a case of client side throttling since we do not see any utilization of the Neptune queue with `MainRequestQueuePendingRequests = 0`. We did as recommended in the post (code below). With `maxConnectionPoolSize = maxSimultaneousUsagePerConnection = maxInProcessPerConnection` all set to 64, we have `maxParallelQueries = 4096`. Given our db instance and query latency, this seems like an overkill but we hoped we would at least shift some of these errors on to AWS Neptune to see the queue being utilized and see some throttling exceptions. However, all the requests that reach Neptune are processed correctly. The problem remains that almost half the requests never reach AWS Neptune and error out on the client side. \r\n\r\nOther relevant metrics are the maxWaitForConnection = 16s (default) and the\r\navg(aws.neptune.gremlin_web_socket_open_connections) = ~10 (pretty steady). Anyone has any suggestions how we could resolve these exceptions?\r\n\r\n\r\n    @Bean(&quot;gremlinClusterRW&quot;, destroyMethod = &quot;close&quot;)\r\n    fun gremlinClusterRW(): Cluster {\r\n        return Cluster.build()\r\n            .addContactPoint(endpointRW)\r\n            .port(port)\r\n            .channelizer(SigV4WebSocketChannelizer::class.java)\r\n            .maxConnectionPoolSize(64)\r\n            .maxInProcessPerConnection(64)\r\n            .maxSimultaneousUsagePerConnection(64)\r\n            .enableSsl(true)\r\n            .create()\r\n    }\r\n\r\n\r\nException Stacktrace:\r\n```\r\norg.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public void com.listeners.a.b(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.Long, a&gt;)&#39; threw exception; nested exception is java.lang.IllegalStateException: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists; nested exception is java.lang.IllegalStateException: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2114)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2106)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2001)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1928)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1814)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1531)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1178)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1075)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.IllegalStateException: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\r\n\tat \r\n...\r\n(redacted)\r\n...\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor251.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:48)\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:330)\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:86)\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:51)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2069)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2051)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1988)\r\n\t... 8 common frames omitted\r\nCaused by: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\r\n\tat org.apache.tinkerpop.gremlin.driver.remote.DriverRemoteConnection.submitAsync(DriverRemoteConnection.java:227)\r\n\tat org.apache.tinkerpop.gremlin.process.remote.traversal.step.map.RemoteStep.promise(RemoteStep.java:89)\r\n\t... 36 common frames omitted\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\r\n\tat org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.submitAsync(Client.java:573)\r\n\tat org.apache.tinkerpop.gremlin.driver.remote.DriverRemoteConnection.submitAsync(DriverRemoteConnection.java:225)\r\n\t... 37 common frames omitted\r\nCaused by: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\r\n\tat org.apache.tinkerpop.gremlin.driver.Client.submitAsync(Client.java:371)\r\n\tat org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.submitAsync(Client.java:591)\r\n\tat org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.submitAsync(Client.java:571)\r\n\t... 38 common frames omitted\r\nCaused by: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\r\n\tat org.apache.tinkerpop.gremlin.driver.Client$ClusteredClient.chooseConnection(Client.java:495)\r\n\tat org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.chooseConnection(Client.java:630)\r\n\tat org.apache.tinkerpop.gremlin.driver.Client.submitAsync(Client.java:366)\r\n\t... 40 common frames omitted\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C7k3T.png","title":"Gremlin Java client throws a java.util.concurrent.TimeoutException","body":"<p>We have a AWS Neptune db.r4.large instance which with 2vCPUs can run 4 threads and hence 4 queries maximum at a time. We use the Gremlin Java client to connect to AWS Neptune. We are seeing regular persistent <code>java.util.concurrent.TimeoutException</code> exceptions while querying data.</p>\n<p>Reading up on this AWS doc: <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/best-practices-gremlin-java-exceptions.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/neptune/latest/userguide/best-practices-gremlin-java-exceptions.html</a>\nIt looks to be a case of client side throttling since we do not see any utilization of the Neptune queue with <code>MainRequestQueuePendingRequests = 0</code>. We did as recommended in the post (code below). With <code>maxConnectionPoolSize = maxSimultaneousUsagePerConnection = maxInProcessPerConnection</code> all set to 64, we have <code>maxParallelQueries = 4096</code>. Given our db instance and query latency, this seems like an overkill but we hoped we would at least shift some of these errors on to AWS Neptune to see the queue being utilized and see some throttling exceptions. However, all the requests that reach Neptune are processed correctly. The problem remains that almost half the requests never reach AWS Neptune and error out on the client side.</p>\n<p>Other relevant metrics are the maxWaitForConnection = 16s (default) and the\navg(aws.neptune.gremlin_web_socket_open_connections) = ~10 (pretty steady). Anyone has any suggestions how we could resolve these exceptions?</p>\n<pre><code>@Bean(&quot;gremlinClusterRW&quot;, destroyMethod = &quot;close&quot;)\nfun gremlinClusterRW(): Cluster {\n    return Cluster.build()\n        .addContactPoint(endpointRW)\n        .port(port)\n        .channelizer(SigV4WebSocketChannelizer::class.java)\n        .maxConnectionPoolSize(64)\n        .maxInProcessPerConnection(64)\n        .maxSimultaneousUsagePerConnection(64)\n        .enableSsl(true)\n        .create()\n}\n</code></pre>\n<p>Exception Stacktrace:</p>\n<pre><code>org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public void com.listeners.a.b(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.Long, a&gt;)' threw exception; nested exception is java.lang.IllegalStateException: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists; nested exception is java.lang.IllegalStateException: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2114)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2106)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2001)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1928)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1814)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1531)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1178)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1075)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalStateException: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\n    at \n...\n(redacted)\n...\n    at jdk.internal.reflect.GeneratedMethodAccessor251.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:48)\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:330)\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:86)\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:51)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2069)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2051)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1988)\n    ... 8 common frames omitted\nCaused by: org.apache.tinkerpop.gremlin.process.remote.RemoteConnectionException: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\n    at org.apache.tinkerpop.gremlin.driver.remote.DriverRemoteConnection.submitAsync(DriverRemoteConnection.java:227)\n    at org.apache.tinkerpop.gremlin.process.remote.traversal.step.map.RemoteStep.promise(RemoteStep.java:89)\n    ... 36 common frames omitted\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\n    at org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.submitAsync(Client.java:573)\n    at org.apache.tinkerpop.gremlin.driver.remote.DriverRemoteConnection.submitAsync(DriverRemoteConnection.java:225)\n    ... 37 common frames omitted\nCaused by: java.lang.RuntimeException: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\n    at org.apache.tinkerpop.gremlin.driver.Client.submitAsync(Client.java:371)\n    at org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.submitAsync(Client.java:591)\n    at org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.submitAsync(Client.java:571)\n    ... 38 common frames omitted\nCaused by: java.util.concurrent.TimeoutException: Timed out while waiting for an available host - check the client configuration and connectivity to the server if this message persists\n    at org.apache.tinkerpop.gremlin.driver.Client$ClusteredClient.chooseConnection(Client.java:495)\n    at org.apache.tinkerpop.gremlin.driver.Client$AliasClusteredClient.chooseConnection(Client.java:630)\n    at org.apache.tinkerpop.gremlin.driver.Client.submitAsync(Client.java:366)\n    ... 40 common frames omitted\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1488017264,"creation_date":1487968753,"answer_id":42447875,"question_id":42446506,"body_markdown":"I would suggest creating a POJO class just to store the results of that query:\r\n\r\n    package com.mypackage;\r\n\r\n    public class CustomerAmountResult{\r\n    \r\n        private String surname;\r\n        private BigDecimal amountSum;\r\n    \r\n        public CustomerAmountResult(String surname, BigDecimal amountSum){\r\n           this.surname = surname;\r\n           this.amountSum = amountSum;\r\n        }\r\n        \r\n        // getters / setters\r\n    }\r\n\r\nThen change your query to the following:\r\n\r\n    @Query(&quot;select NEW com.mypackage.CustomerAmountResult(\r\n                o.customer.surname, sum(o.amount)) \r\n            from Order as o\r\n            group by o.customer.surname&quot;) \r\n    List&lt;CustomerAmountResult&gt; findCustomersBySumOfAmount();\r\n\r\nThanks to that you will not need to parse the result set manually.","title":"Failed to convert from type [java.lang.Object[]] to type","body":"<p>I would suggest creating a POJO class just to store the results of that query:</p>\n\n<pre><code>package com.mypackage;\n\npublic class CustomerAmountResult{\n\n    private String surname;\n    private BigDecimal amountSum;\n\n    public CustomerAmountResult(String surname, BigDecimal amountSum){\n       this.surname = surname;\n       this.amountSum = amountSum;\n    }\n\n    // getters / setters\n}\n</code></pre>\n\n<p>Then change your query to the following:</p>\n\n<pre><code>@Query(\"select NEW com.mypackage.CustomerAmountResult(\n            o.customer.surname, sum(o.amount)) \n        from Order as o\n        group by o.customer.surname\") \nList&lt;CustomerAmountResult&gt; findCustomersBySumOfAmount();\n</code></pre>\n\n<p>Thanks to that you will not need to parse the result set manually.</p>\n"},{"tags":[],"owner":{"account_id":2555788,"reputation":794,"user_id":2217804,"accept_rate":75,"display_name":"raminr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487977289,"creation_date":1487976255,"answer_id":42449536,"question_id":42446506,"body_markdown":"Your query `select o.customer.surname, sum(o.amount) as s from Order as o group by o.customer` doesn&#39;t return `Customer`. The Customer entity expects the result set to at least look like:\r\n\r\n    |   id   | name   | surname |\r\n    -----------------------------\r\n    |   1    | john   | smith   |\r\n    |   2    | james  | white   |\r\n    |   3    | sara   | black   | \r\n\r\nThat&#39;s how the Result Set gets mapped into Customer entity. If you want to stick to your query, then change the return type to `List&lt;Object[]&gt;`, and run through the list and extract the data that you want.\r\n\r\n","title":"Failed to convert from type [java.lang.Object[]] to type","body":"<p>Your query <code>select o.customer.surname, sum(o.amount) as s from Order as o group by o.customer</code> doesn't return <code>Customer</code>. The Customer entity expects the result set to at least look like:</p>\n\n<pre><code>|   id   | name   | surname |\n-----------------------------\n|   1    | john   | smith   |\n|   2    | james  | white   |\n|   3    | sara   | black   | \n</code></pre>\n\n<p>That's how the Result Set gets mapped into Customer entity. If you want to stick to your query, then change the return type to <code>List&lt;Object[]&gt;</code>, and run through the list and extract the data that you want.</p>\n"},{"tags":[],"owner":{"account_id":10474554,"reputation":147,"user_id":9671040,"display_name":"demaroar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1577736782,"creation_date":1577736156,"answer_id":59536258,"question_id":42446506,"body_markdown":"I already had this error message. In my case, I was doing something like the code below:\r\n\r\n    @Repository\r\n    public interface RepositoryA extends CrudRepository&lt;EntityA, Long&gt; {\r\n\t\r\n\t  @Query(nativeQuery = true, value = &quot; ...SQL_1... &quot;)\r\n\t  List&lt;EntityA&gt; getListOfEntityA(...PARAMS_1...);\r\n    \r\n      @Query(nativeQuery = true, value = &quot; ...SQL_2... &quot;)\r\n\t  List&lt;EntityB&gt; getListOfEntityB(...PARAMS_2...);\r\n\t\r\n    }\r\n\r\nI was parameterizing the repository interface with an &quot;EntityA&quot; and had an other method returning other type parametrized with an &quot;EntityB&quot;.\r\n\r\nIn your case you are parameterizing the JpaRepository with &quot;Order&quot; and then using a method that returns a list of &quot;Customer&quot;s... Maybe this is causing this exception.","title":"Failed to convert from type [java.lang.Object[]] to type","body":"<p>I already had this error message. In my case, I was doing something like the code below:</p>\n\n<pre><code>@Repository\npublic interface RepositoryA extends CrudRepository&lt;EntityA, Long&gt; {\n\n  @Query(nativeQuery = true, value = \" ...SQL_1... \")\n  List&lt;EntityA&gt; getListOfEntityA(...PARAMS_1...);\n\n  @Query(nativeQuery = true, value = \" ...SQL_2... \")\n  List&lt;EntityB&gt; getListOfEntityB(...PARAMS_2...);\n\n}\n</code></pre>\n\n<p>I was parameterizing the repository interface with an \"EntityA\" and had an other method returning other type parametrized with an \"EntityB\".</p>\n\n<p>In your case you are parameterizing the JpaRepository with \"Order\" and then using a method that returns a list of \"Customer\"s... Maybe this is causing this exception.</p>\n"},{"tags":[],"owner":{"account_id":15662734,"reputation":41,"user_id":11301303,"display_name":"Raks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651499290,"creation_date":1614350714,"answer_id":66387854,"question_id":42446506,"body_markdown":"I have also had a similar scenario, but in my case, there wasn&#39;t any need for mapping(Orders into customers).\r\n\r\nIf you have all the fields in the same Domain POJO(here it was CustomerDAO), No need to create a new POJO or change the return type to Object. All you need is a parameterized Constructor(with the same fields which you are fetching in the JPQL query) in your Domain POJO. \r\n\r\nAn Example\r\n\r\n ```\r\npackage com.mypackage.domain\r\n\r\n@Entity\r\n@Table(name = &quot;TABLENAME&quot;)\r\npublic class UserDO {\r\n\r\n@Column(name = &quot;FIRST_NAME&quot;)\r\nprivate String firstName;\r\n\r\n@Column(name = &quot;LAST_NAME&quot;)\r\nprivate String lastName;\r\n\r\n@Column(name = &quot;DOB&quot;)\r\nprivate String dob;\r\n\r\npublic UserDO(){\r\n}\r\n\r\npublic UserDO(String firstName, String lastName){\r\nthis.firstName = firstName;\r\nthis.lastName = lastName;\r\n}\r\n\r\n\r\n}\r\n```\r\n\r\nAnd your repo should contain a method like this \r\n```\r\n@Query(&quot;Select NEW com.mypackage.domain.UserDO(user.firstName, user.lastName) from UserDO as user where user.lastName =?1&quot;)\r\nUserDO findByLastName(String lastName);\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Failed to convert from type [java.lang.Object[]] to type","body":"<p>I have also had a similar scenario, but in my case, there wasn't any need for mapping(Orders into customers).</p>\n<p>If you have all the fields in the same Domain POJO(here it was CustomerDAO), No need to create a new POJO or change the return type to Object. All you need is a parameterized Constructor(with the same fields which you are fetching in the JPQL query) in your Domain POJO.</p>\n<p>An Example</p>\n<pre><code>package com.mypackage.domain\n\n@Entity\n@Table(name = &quot;TABLENAME&quot;)\npublic class UserDO {\n\n@Column(name = &quot;FIRST_NAME&quot;)\nprivate String firstName;\n\n@Column(name = &quot;LAST_NAME&quot;)\nprivate String lastName;\n\n@Column(name = &quot;DOB&quot;)\nprivate String dob;\n\npublic UserDO(){\n}\n\npublic UserDO(String firstName, String lastName){\nthis.firstName = firstName;\nthis.lastName = lastName;\n}\n\n\n}\n</code></pre>\n<p>And your repo should contain a method like this</p>\n<pre><code>@Query(&quot;Select NEW com.mypackage.domain.UserDO(user.firstName, user.lastName) from UserDO as user where user.lastName =?1&quot;)\nUserDO findByLastName(String lastName);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8176960,"reputation":109,"user_id":6155408,"display_name":"Kiran Kawade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651469834,"creation_date":1651469834,"answer_id":72082696,"question_id":42446506,"body_markdown":"I was also facing this issue since long.\r\n\r\n&gt; Another way to fix this one by below\r\n\r\n       \r\n    @Query(&quot;select entity from com.package.info.EntityName entity where entity.ClientID=:ClientID&quot;) \r\n    List&lt;EntityName&gt; findByClientID(@Param(&quot;clientID&quot;) Long clientID);\r\n\r\n","title":"Failed to convert from type [java.lang.Object[]] to type","body":"<p>I was also facing this issue since long.</p>\n<blockquote>\n<p>Another way to fix this one by below</p>\n</blockquote>\n<pre><code>@Query(&quot;select entity from com.package.info.EntityName entity where entity.ClientID=:ClientID&quot;) \nList&lt;EntityName&gt; findByClientID(@Param(&quot;clientID&quot;) Long clientID);\n</code></pre>\n"}],"owner":{"account_id":9810545,"reputation":538,"user_id":7268884,"accept_rate":100,"display_name":"twistezo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43546,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42447875,"answer_count":5,"score":5,"last_activity_date":1651499290,"creation_date":1487963487,"question_id":42446506,"body_markdown":"I have spring web app (JPA/Hibernate + MySQL).\r\nI have two DAO classes.\r\n\r\n**CustomerDAO**\r\n\r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n    \r\n      @Id\r\n      @Column(name = &quot;customer_id&quot;)\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;name&quot;, length = 50)\r\n      private String name;\r\n    \r\n      @Column(name = &quot;surname&quot;, length = 50)\r\n      private String surname;\r\n    \r\n      @OneToMany(mappedBy = &quot;customer&quot;)\r\n      private Set&lt;Order&gt; orders = new HashSet&lt;&gt;();\r\n    }\r\n\r\n**OrderDAO**\r\n\r\n    @Entity\r\n    @Table(name = &quot;orders&quot;)\r\n    public class Order {\r\n    \r\n      @Id\r\n      @Column(name = &quot;order_id&quot;)\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;date&quot;)\r\n      private Date date;\r\n    \r\n      @Digits(integer = 5, fraction = 2)\r\n      @Column(name = &quot;amount&quot;)\r\n      private BigDecimal amount;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;customer_id&quot;)\r\n      private Customer customer;\r\n    \r\n      @OneToMany(mappedBy = &quot;order&quot;)\r\n      private Set&lt;OrderDetail&gt; ordersDetails = new HashSet&lt;&gt;();\r\n\r\nAnd i have a class for retrieving data from DB:\r\n\r\n    @Repository\r\n    public interface OrderDAO extends JpaRepository&lt;Order, Long&gt; {\r\n    \r\n        @Query(&quot;select o.customer.surname, sum(o.amount) as s from Order as o group by o.customer&quot;)\r\n        List&lt;Customer&gt; findCustomersBySumOfAmount();\r\n    \r\n    }\r\n\r\nIt is giving me result like this:\r\n\r\n    +---------+---------------+\r\n    | surname | sum of amount | \r\n    +---------+---------------+\r\n    |Bielecki | 141.49        | \r\n    |Bielen   | 130.34        |\r\n    ......\r\n\r\nNow i want &#39;unbox&#39; data from DB with this method `List&lt;Customer&gt; findCustomersBySumOfAmount()`\r\n\r\nI have method for this in my spring controller class:\r\n\r\n     List&lt;Customer&gt; findCustomersBySumOfAmount = orderService.findCustomersBySumOfAmount();\r\n     model.addAttribute(&quot;findCustomersBySumOfAmount&quot;, findCustomersBySumOfAmount);\r\n\r\n     for(Customer c : findCustomersBySumOfAmount) {\r\n         String s = c.getSurname();\r\n         System.out.println(c);\r\n     }\r\n\r\nAnd i have error:\r\n\r\n    \r\n\r\n&gt; Failed to convert from type [java.lang.Object[]] to type\r\n&gt; [com.twistezo.models.Customer] for value &#39;{Bielecki, 141.49}&#39;; nested\r\n&gt; exception is\r\n&gt; org.springframework.core.convert.ConverterNotFoundException: No\r\n&gt; converter found capable of converting from type [java.lang.String] to\r\n&gt; type [com.twistezo.models.Customer]\r\n\r\nI suppose it&#39;s because I&#39;m getting `List&lt;Object[]&gt;`. I know that I can iterate between this `List&lt;Object[]&gt;` of my data but maybe there is some simpler way to retrieve data directly to `&lt;Customer&gt;` ? I&#39;m new in this stuff. Since now I used methods like `List&lt;Customer&gt; findAll()` without @Query annotation and i&#39;m looking for similar &quot;unboxing&quot;.\r\n\r\nI was trying do something like this (add Customer.class in query) without effect: \r\n\r\n`@Query(&quot;select o.customer.surname, sum(o.amount) as s from Order as o group by o.customer&quot;, Customer.class)\r\n List&lt;Customer&gt; findCustomersBySumOfAmount();`","title":"Failed to convert from type [java.lang.Object[]] to type","body":"<p>I have spring web app (JPA/Hibernate + MySQL).\nI have two DAO classes.</p>\n\n<p><strong>CustomerDAO</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"customers\")\npublic class Customer {\n\n  @Id\n  @Column(name = \"customer_id\")\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Long id;\n\n  @Column(name = \"name\", length = 50)\n  private String name;\n\n  @Column(name = \"surname\", length = 50)\n  private String surname;\n\n  @OneToMany(mappedBy = \"customer\")\n  private Set&lt;Order&gt; orders = new HashSet&lt;&gt;();\n}\n</code></pre>\n\n<p><strong>OrderDAO</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"orders\")\npublic class Order {\n\n  @Id\n  @Column(name = \"order_id\")\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Long id;\n\n  @Column(name = \"date\")\n  private Date date;\n\n  @Digits(integer = 5, fraction = 2)\n  @Column(name = \"amount\")\n  private BigDecimal amount;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"customer_id\")\n  private Customer customer;\n\n  @OneToMany(mappedBy = \"order\")\n  private Set&lt;OrderDetail&gt; ordersDetails = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>And i have a class for retrieving data from DB:</p>\n\n<pre><code>@Repository\npublic interface OrderDAO extends JpaRepository&lt;Order, Long&gt; {\n\n    @Query(\"select o.customer.surname, sum(o.amount) as s from Order as o group by o.customer\")\n    List&lt;Customer&gt; findCustomersBySumOfAmount();\n\n}\n</code></pre>\n\n<p>It is giving me result like this:</p>\n\n<pre><code>+---------+---------------+\n| surname | sum of amount | \n+---------+---------------+\n|Bielecki | 141.49        | \n|Bielen   | 130.34        |\n......\n</code></pre>\n\n<p>Now i want 'unbox' data from DB with this method <code>List&lt;Customer&gt; findCustomersBySumOfAmount()</code></p>\n\n<p>I have method for this in my spring controller class:</p>\n\n<pre><code> List&lt;Customer&gt; findCustomersBySumOfAmount = orderService.findCustomersBySumOfAmount();\n model.addAttribute(\"findCustomersBySumOfAmount\", findCustomersBySumOfAmount);\n\n for(Customer c : findCustomersBySumOfAmount) {\n     String s = c.getSurname();\n     System.out.println(c);\n }\n</code></pre>\n\n<p>And i have error:</p>\n\n<blockquote>\n  <p>Failed to convert from type [java.lang.Object[]] to type\n  [com.twistezo.models.Customer] for value '{Bielecki, 141.49}'; nested\n  exception is\n  org.springframework.core.convert.ConverterNotFoundException: No\n  converter found capable of converting from type [java.lang.String] to\n  type [com.twistezo.models.Customer]</p>\n</blockquote>\n\n<p>I suppose it's because I'm getting <code>List&lt;Object[]&gt;</code>. I know that I can iterate between this <code>List&lt;Object[]&gt;</code> of my data but maybe there is some simpler way to retrieve data directly to <code>&lt;Customer&gt;</code> ? I'm new in this stuff. Since now I used methods like <code>List&lt;Customer&gt; findAll()</code> without @Query annotation and i'm looking for similar \"unboxing\".</p>\n\n<p>I was trying do something like this (add Customer.class in query) without effect: </p>\n\n<p><code>@Query(\"select o.customer.surname, sum(o.amount) as s from Order as o group by o.customer\", Customer.class)\n List&lt;Customer&gt; findCustomersBySumOfAmount();</code></p>\n"},{"tags":["java","methods","interface","return"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1651497675,"post_id":72087309,"comment_id":127371667,"body_markdown":"*&quot;when you can only create methods for an interface inside a class that implements it&quot;* what do you mean by this? You clearly can define a method that returns a `List` in a class that doesn&#39;t implement `List`. Why would this be different?","body":"<i>&quot;when you can only create methods for an interface inside a class that implements it&quot;</i> what do you mean by this? You clearly can define a method that returns a <code>List</code> in a class that doesn&#39;t implement <code>List</code>. Why would this be different?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1651497756,"post_id":72087309,"comment_id":127371697,"body_markdown":"&quot;No classes implement the interface `Iterator&lt;T&gt;`&quot; You do realise you can create new classes that *do* implement the interface, right? (Unless this is schoolwork...)","body":"&quot;No classes implement the interface <code>Iterator&lt;T&gt;</code>&quot; You do realise you can create new classes that <i>do</i> implement the interface, right? (Unless this is schoolwork...)"},{"owner":{"account_id":25135825,"reputation":45,"user_id":18982610,"display_name":"cactus020"},"score":0,"creation_date":1651513791,"post_id":72087309,"comment_id":127377594,"body_markdown":"Unfortunately it is.","body":"Unfortunately it is."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651497987,"creation_date":1651497987,"answer_id":72087403,"question_id":72087309,"body_markdown":"Simple. By __making__ a class that implements it. Note that you have a type that you came up with on your own and you named it `Iterator`. Given that `java.util.Iterator` exists, this is a _really_ bad idea. You should pick another name.\r\n\r\n```\r\npublic class ABC&lt;K&gt; implements EFG&lt;K&gt; {\r\n  // Let&#39;s say this contains the items that can be iterated over.\r\n  private List&lt;K&gt; list = new ArrayList&lt;K&gt;();\r\n\r\n  class MyIterator implements my.pkg.Iterator&lt;K&gt; {\r\n    private int position = 0;\r\n    @Override public boolean isValid() {\r\n      return position &gt; -1 &amp;&amp; position &lt; list.size();\r\n    }\r\n\r\n    @Override public K next() {\r\n      if (!isValid()) throw new NoSuchElementException();\r\n      return list.get(position++);\r\n    }\r\n\r\n    @Override public K prev() {\r\n      if (!isValid()) throw new NoSuchElementException();\r\n      return list.get(position--);\r\n    }\r\n  }\r\n\r\n  public Iterator&lt;K&gt; minIt() {\r\n    return new MyIterator&lt;K&gt;();\r\n  }\r\n}\r\n```\r\n\r\nNote that classes that you put in classes can only be constructed in instance contexts within that class: They have a &#39;secret&#39; field of your outer&#39;s type. Hence why the code in MyIterator __can__ access the `list` field of your outer class.\r\n\r\nJava has &#39;anonymous inner class literal&#39; syntax which lets you shorten this: Instead of explicitly declaring `class MyIterator`, you can also write:\r\n\r\n```\r\npublic Iterator&lt;K&gt; minIt() {\r\n  return new your.pkg.Iterator&lt;K&gt;() {\r\n    private int position = 0;\r\n    @Override public boolean isValid() {\r\n      // same code goes here as the previous snippet\r\n    }\r\n  };\r\n}\r\n```\r\n\r\nThis anonymous inner class form is a lot more common. It&#39;s just syntax sugar - a shorter way to write the same thing.\r\n","title":"Interface methods in a class that does not implement it?","body":"<p>Simple. By <strong>making</strong> a class that implements it. Note that you have a type that you came up with on your own and you named it <code>Iterator</code>. Given that <code>java.util.Iterator</code> exists, this is a <em>really</em> bad idea. You should pick another name.</p>\n<pre><code>public class ABC&lt;K&gt; implements EFG&lt;K&gt; {\n  // Let's say this contains the items that can be iterated over.\n  private List&lt;K&gt; list = new ArrayList&lt;K&gt;();\n\n  class MyIterator implements my.pkg.Iterator&lt;K&gt; {\n    private int position = 0;\n    @Override public boolean isValid() {\n      return position &gt; -1 &amp;&amp; position &lt; list.size();\n    }\n\n    @Override public K next() {\n      if (!isValid()) throw new NoSuchElementException();\n      return list.get(position++);\n    }\n\n    @Override public K prev() {\n      if (!isValid()) throw new NoSuchElementException();\n      return list.get(position--);\n    }\n  }\n\n  public Iterator&lt;K&gt; minIt() {\n    return new MyIterator&lt;K&gt;();\n  }\n}\n</code></pre>\n<p>Note that classes that you put in classes can only be constructed in instance contexts within that class: They have a 'secret' field of your outer's type. Hence why the code in MyIterator <strong>can</strong> access the <code>list</code> field of your outer class.</p>\n<p>Java has 'anonymous inner class literal' syntax which lets you shorten this: Instead of explicitly declaring <code>class MyIterator</code>, you can also write:</p>\n<pre><code>public Iterator&lt;K&gt; minIt() {\n  return new your.pkg.Iterator&lt;K&gt;() {\n    private int position = 0;\n    @Override public boolean isValid() {\n      // same code goes here as the previous snippet\n    }\n  };\n}\n</code></pre>\n<p>This anonymous inner class form is a lot more common. It's just syntax sugar - a shorter way to write the same thing.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651499123,"creation_date":1651498727,"answer_id":72087572,"question_id":72087309,"body_markdown":"You can use an [Anonymous Class][1] that implements the interface: \r\n\r\nFor instance:   \r\n\r\n    interface Foo&lt;T&gt; {\r\n        T foo();\r\n    }\r\n    class Bar&lt;T&gt;  {\r\n       T t;\r\n       public Foo&lt;T&gt; bar() {\r\n           return new Foo&lt;T&gt;() { // &lt;-- Anonymous class implementing `Foo`\r\n                public T foo() {\r\n                    return t;\r\n                }\r\n           };\r\n       }\r\n    }\r\n\r\nExecution: \r\n\r\n\r\n    Bar&lt;String&gt; b = new Bar&lt;&gt;();\r\n    b.t = &quot;hello&quot;; // with a setter in real life\r\n    Foo&lt;String&gt; f = b.bar();\r\n    f.foo(); // will return &quot;hello&quot;\r\n\r\nThe other option which I think would be the most common is to use a method that returns the interface, for instance the list interface has an [`iterator()`][2] method even though it itself doesn&#39;t implements the `Iterator` interface. \r\n\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    Iterator&lt;String&gt; stringIterator = list.iterator();\r\n\r\n\r\n[Here&#39;s the implementation][3] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#iterator()\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractList.java#L300-L302","title":"Interface methods in a class that does not implement it?","body":"<p>You can use an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">Anonymous Class</a> that implements the interface:</p>\n<p>For instance:</p>\n<pre><code>interface Foo&lt;T&gt; {\n    T foo();\n}\nclass Bar&lt;T&gt;  {\n   T t;\n   public Foo&lt;T&gt; bar() {\n       return new Foo&lt;T&gt;() { // &lt;-- Anonymous class implementing `Foo`\n            public T foo() {\n                return t;\n            }\n       };\n   }\n}\n</code></pre>\n<p>Execution:</p>\n<pre><code>Bar&lt;String&gt; b = new Bar&lt;&gt;();\nb.t = &quot;hello&quot;; // with a setter in real life\nFoo&lt;String&gt; f = b.bar();\nf.foo(); // will return &quot;hello&quot;\n</code></pre>\n<p>The other option which I think would be the most common is to use a method that returns the interface, for instance the list interface has an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#iterator()\" rel=\"nofollow noreferrer\"><code>iterator()</code></a> method even though it itself doesn't implements the <code>Iterator</code> interface.</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nIterator&lt;String&gt; stringIterator = list.iterator();\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/AbstractList.java#L300-L302\" rel=\"nofollow noreferrer\">Here's the implementation</a></p>\n"}],"owner":{"account_id":25135825,"reputation":45,"user_id":18982610,"display_name":"cactus020"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72087572,"answer_count":2,"score":0,"last_activity_date":1651499123,"creation_date":1651497483,"question_id":72087309,"body_markdown":"\r\n    public interface Iterator&lt;T&gt; {\r\n    \r\n    \t// Returns true if the iterator is valid (points to an element), false otherwise.\r\n    \tboolean isValid();\r\n    \r\n    \t// Returns the current element and moves forward. This method can only be called if the iterator is valid. If the iterator points to the last element, it becomes invalid after the call.\r\n    \tT next();\r\n    \r\n    \t// Returns the current element and moves backwards. This method can only be called if the iterator is valid. If the iterator points to the first element, it becomes invalid after the call.\r\n    \tT prev();\r\n    }\r\nIn a class that does not implement interface Iterator, how is it possible to create a method that returns `Iterator&lt;K&gt;`, when you can only create methods for an interface inside a class that implements it?\r\n\r\n    public class ABC&lt;K&gt; implements EFG&lt;K&gt;{\r\n    public Iterator&lt;K&gt; minIt() {\r\n       //method body\r\n       //return Iterator&lt;K&gt; variable \r\n    }\r\n    }\r\n\r\nThe class `ABC` containing the method `minIt()`   does not implement `Iterator&lt;T&gt;`\r\n\r\n(No classes implement the interface `Iterator &lt;T&gt;` )\r\n","title":"Interface methods in a class that does not implement it?","body":"<pre><code>public interface Iterator&lt;T&gt; {\n\n    // Returns true if the iterator is valid (points to an element), false otherwise.\n    boolean isValid();\n\n    // Returns the current element and moves forward. This method can only be called if the iterator is valid. If the iterator points to the last element, it becomes invalid after the call.\n    T next();\n\n    // Returns the current element and moves backwards. This method can only be called if the iterator is valid. If the iterator points to the first element, it becomes invalid after the call.\n    T prev();\n}\n</code></pre>\n<p>In a class that does not implement interface Iterator, how is it possible to create a method that returns <code>Iterator&lt;K&gt;</code>, when you can only create methods for an interface inside a class that implements it?</p>\n<pre><code>public class ABC&lt;K&gt; implements EFG&lt;K&gt;{\npublic Iterator&lt;K&gt; minIt() {\n   //method body\n   //return Iterator&lt;K&gt; variable \n}\n}\n</code></pre>\n<p>The class <code>ABC</code> containing the method <code>minIt()</code>   does not implement <code>Iterator&lt;T&gt;</code></p>\n<p>(No classes implement the interface <code>Iterator &lt;T&gt;</code> )</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3223770,"reputation":6761,"user_id":2720553,"accept_rate":86,"display_name":"Rohit Arya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1459409559,"creation_date":1459408533,"answer_id":36326572,"question_id":36326516,"body_markdown":"Because while calling this constructor:\r\n\r\n    CustomListAdapterfriend(Context context, List&lt;HashMap&lt;String, Object&gt;&gt; models)\r\n\r\nYou are providing `getApplicationContext()`. Try to provide `context` of the `activity`.\r\n\r\nEdit 1:\r\n\r\nFollowing the comments:\r\n\r\n    CustomListAdapterfriend adapter = new CustomListAdapterfriend(Friendsprofile.this, usersList); lv.setAdapter(adapter);\r\n","title":"ClassCastException: android.app.Application cannot be cast to android.app.Activity","body":"<p>Because while calling this constructor:</p>\n\n<pre><code>CustomListAdapterfriend(Context context, List&lt;HashMap&lt;String, Object&gt;&gt; models)\n</code></pre>\n\n<p>You are providing <code>getApplicationContext()</code>. Try to provide <code>context</code> of the <code>activity</code>.</p>\n\n<p>Edit 1:</p>\n\n<p>Following the comments:</p>\n\n<pre><code>CustomListAdapterfriend adapter = new CustomListAdapterfriend(Friendsprofile.this, usersList); lv.setAdapter(adapter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6106588,"reputation":1763,"user_id":4782937,"accept_rate":75,"display_name":"nvi9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459408867,"creation_date":1459408867,"answer_id":36326696,"question_id":36326516,"body_markdown":"Modify the constructor of your adapter class from\n\n    public CustomListAdapterfriend(Context context, List&lt;HashMap&lt;String, Object&gt;&gt; models)\n\nto \n\n    public CustomListAdapterfriend(Activity context, List&lt;HashMap&lt;String, Object&gt;&gt; models)\n\nSo whenever you call the constructor, the IDE will notify you to provide an Activity as a parameter, so the cast in your adapter won&#39;t fail.","title":"ClassCastException: android.app.Application cannot be cast to android.app.Activity","body":"<p>Modify the constructor of your adapter class from</p>\n\n<pre><code>public CustomListAdapterfriend(Context context, List&lt;HashMap&lt;String, Object&gt;&gt; models)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>public CustomListAdapterfriend(Activity context, List&lt;HashMap&lt;String, Object&gt;&gt; models)\n</code></pre>\n\n<p>So whenever you call the constructor, the IDE will notify you to provide an Activity as a parameter, so the cast in your adapter won't fail.</p>\n"},{"tags":[],"owner":{"account_id":19459061,"reputation":21,"user_id":14233718,"display_name":"Bipin R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651498697,"creation_date":1651498697,"answer_id":72087568,"question_id":36326516,"body_markdown":"While using in fragments try `requireActivity()` instead of `getApplicationContext()`\r\n\r\n```CustomListAdapterfriend(requireActivity(), List&lt;HashMap&lt;String, Object&gt;&gt; models)```","title":"ClassCastException: android.app.Application cannot be cast to android.app.Activity","body":"<p>While using in fragments try <code>requireActivity()</code> instead of <code>getApplicationContext()</code></p>\n<p><code>CustomListAdapterfriend(requireActivity(), List&lt;HashMap&lt;String, Object&gt;&gt; models)</code></p>\n"}],"owner":{"account_id":6775718,"reputation":11,"user_id":5217537,"accept_rate":40,"display_name":"Anish Yesudasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11021,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":36326572,"answer_count":3,"score":-1,"last_activity_date":1651498697,"creation_date":1459408373,"question_id":36326516,"body_markdown":"I have an activity class along with customlistadapter inside **customlist adapter**.  \r\n I have a thread `runouithread` which give me error msg when i wrap it with `((Activity) context).runOnUiThread(new Runnable()`.  \r\nit throws the error msg at runtime has `ClassCastException: android.app.Application cannot be cast to android.app.Activity`.  \r\n So please some one help me.\r\n\r\n\r\n    public class CustomListAdapterfriend extends BaseAdapter  {\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; models; \r\n       Context context;\r\n    LayoutInflater inflater;\r\n   \r\n    URL urll;\r\n    HttpURLConnection connection;\r\n\r\n\t  InputStream input;\r\n    \r\n\t  ViewHolder viewHolder;\r\n    //UI for Locations\r\n    ImageView pic,image,delam;\r\n    TextView name,timestamp,msg,url,idas,idas2,emasr,cn;\r\n    ArrayList&lt;String&gt; listItems;\r\n    ListView lv;\r\n\tpublic int count1 = 0;\r\n\t ProgressDialog pDialog;\r\n\t//String session_email=&quot;&quot;,session_type=&quot;&quot;,share_app,share_via;\r\n    private String stringVal;\r\n\tprivate int mCounter1=1;\r\n\tprivate int counter=0;\r\n\tpublic int temp=0;\r\n    String con, pros;\r\n\tprivate int[] counters;\r\n\tint pos;\r\n\tint width,height;\r\n\tint position2;\r\n\t String id,emm;\r\n\tTransformation transformation;\r\n\t//ImageButton sharingButton;\r\n\tString pacm,session_email,session_ph,session_type,session_loc,connter;\r\n\tArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList,usersList1;\r\n\tJSONParser jParser = new JSONParser();\r\n\tint i ;\r\n\t\r\n\t  \r\n\t\r\n\tJSONParser jsonParser = new JSONParser();\r\n\tstatic String IP = IpAddress.Ip;\r\n\tprivate String imagePath = IP+&quot;/social/upload/&quot;;\r\n\t//url to create new product\r\n\tpublic static String add_wish = IP+&quot;/studio/add_wishlist.php&quot;;\r\n\tprivate static String url_all_properties5 = IP+&quot;/social/get_all_agen_like.php&quot;;\r\n\tprivate static String url_all_properties1 = IP+&quot;/social/get_lik_coun.php&quot;;\r\n\tprivate static String url_all_properties6 = IP+&quot;/social/get_all_agen_like3.php&quot;;\r\n\tprivate static String url_all_properties7 = IP+&quot;/social/get_all_dele_like.php&quot;;\r\n\tprivate static String url_all_properties8 = IP+&quot;/social/get_all_dele_uplike.php&quot;;\r\n\t  boolean isSelected;\r\n\t  int a,a1,b,b1;\r\n\t \r\n\t\t//private static final String TAG_SUCCESS1 = &quot;mass&quot;;\r\n\t\tprivate static final String TAG_USER = &quot;users&quot;;\r\n\r\n\t\tprivate static final String TAG_PRO = &quot;properties&quot;;\r\n\t\t//private static final String TAG_PRO1 = &quot;properties1&quot;;\r\n\t\t// products JSONArray\r\n\t\tJSONArray users = null;\r\n\t\t//JSONArray users1 = null;\r\n\t\t View view;\r\n\r\n\t\t// JSON Node names\r\n\t\tprivate static final String TAG_SUCCESS = &quot;success&quot;;\r\n\t SharedPreferences sPref;\r\n\t// int position;\r\n\t \r\n\t \r\n    public CustomListAdapterfriend(Context context, List&lt;HashMap&lt;String, Object&gt;&gt; models) {\r\n        this.context = context;\r\n        this. models = models;\r\n        inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        this.counters = new int[30];\r\n       \r\n        //this.session_email = sPref.getString(&quot;SESSION_UID&quot;,&quot;&quot;);\r\n\r\n    }\r\n    \r\n    public class ViewHolder {\r\n\r\n    \t   public TextView countt,idas5,emasr,cn;\r\n    \t   \r\n    \t  // public String id,emm;\r\n    \t    \r\n    \t   public  ImageView like;\r\n    \t   public ImageView share;\r\n\t\t/*public void runOnUiThread(Runnable runnable) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}*/\r\n\t\t\r\n    \t\t\r\n\r\n    \t}\r\n\r\n    public void clear(){\r\n        if(models!=null)\r\n            models.clear();\r\n    }\r\n    \r\n    @Override\r\n    public int getCount() {\r\n        return models.size();\r\n    }\r\n    \r\n    public HashMap&lt;String, Object&gt; getItem(int position) {\r\n        return models.get(position);\r\n        \r\n    }\r\n    \r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n    \r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        // TODO Auto-generated method stub\r\n        return position;\r\n    } \r\n\r\n    @Override\r\n    public int getViewTypeCount() {\r\n        // TODO Auto-generated method stub\r\n        return 1;\r\n    }\r\n    \r\n    @Override\r\n    public View getView( final int position, final View convertView,  ViewGroup parent) {\r\n        \t//  view = null;\r\n    \t  view = convertView;\r\n    \t  \r\n    \t  StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n\t        StrictMode.setThreadPolicy(policy); \r\n        \t\r\n        \t  sPref= context.getSharedPreferences(&quot;REAL&quot;, Context.MODE_PRIVATE);\r\n  \t        \r\n  \t        session_email = sPref.getString(&quot;SESSION_UID&quot;,&quot;&quot;);\r\n  \t        session_ph = sPref.getString(&quot;SESSION_PH&quot;,&quot;&quot;);\r\n  \t        session_type = sPref.getString(&quot;SESSION_TYPE&quot;, &quot;&quot;);\r\n  \t        session_loc = sPref.getString(&quot;SESSION_LOC&quot;, &quot;&quot;);\r\n  \t      //  lv=(ListView)view.findViewById(R.id.list);\r\n            pos = getItemViewType(position);\r\n          //  long posn = getItemId(position);\r\n         // final int paps= (int)posn ;\r\n        \tif (view == null) {\r\n                viewHolder = new ViewHolder();\r\n                view = inflater.inflate(R.layout.fragment_home2, parent, false);\r\n                //your code\r\n\r\n                \r\n                \r\n                \r\n                //add below code after (end of) your code\r\n                viewHolder.idas5 = (TextView) view.findViewById(R.id.hpid);\r\n                viewHolder. emasr= (TextView) view.findViewById(R.id.ema);\r\n                viewHolder.like=(ImageView)view.findViewById(R.id.likem);\r\n                \r\n                viewHolder.share=(ImageView)view.findViewById(R.id.sharemsp);\r\n                \r\n                viewHolder.cn = (TextView) view.findViewById(R.id.count);\r\n             \r\n                \r\n                viewHolder.share.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                \r\n                    \t int position = (Integer) v.getTag();\r\n                    \t\r\n                    \t  \r\n                    \t  \r\n                    \t  HashMap&lt;String, Object&gt; item = models.get(position);\r\n                    \t  String imagePath = (String)item.get(&quot;IMAGE&quot;).toString();\r\n                    \t  \r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\turll = new URL(imagePath);\r\n\t\t\t\t\t\t} catch (MalformedURLException e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n                    \t  \r\n                    \t  \r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconnection = (HttpURLConnection) urll.openConnection();\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\r\n                    \t  connection.setDoInput(true);\r\n\r\n                    \t  try {\r\n\t\t\t\t\t\t\tconnection.connect();\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tinput = connection.getInputStream();\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n                    \t  \r\n                    \t  Bitmap immutableBpm = BitmapFactory.decodeStream(input);\r\n                    \t  \r\n                    \t  if(immutableBpm !=null)\r\n                    \t  {\r\n\r\n                    \t  Bitmap mutableBitmap = immutableBpm.copy(Bitmap.Config.ARGB_8888, true);\r\n                    \t  \r\n                    \t  \r\n                    \t  \r\n                    \t  View view  = new View(context);\r\n\r\n                    \t  view.draw(new Canvas(mutableBitmap));\r\n\r\n                    \t  String path = Images.Media.insertImage(context.getContentResolver(), mutableBitmap, &quot;Nur&quot;, null);\r\n                    \t  Uri uri = Uri.parse(path);\r\n\r\n                    \t  \r\n                    \t /* image = (ImageView) view.findViewById(R.id.feedImage1);\r\n                    \t  Drawable mDrawable = image.getDrawable();\r\n                    \t  Bitmap mBitmap = ((BitmapDrawable)mDrawable).getBitmap();\r\n                    \t  Intent share = new Intent(Intent.ACTION_SEND);\r\n                    \t  share.setType(&quot;image/*&quot;);\r\n                    \t  String path = Images.Media.insertImage(getContentResolver(), mBitmap, &quot;Image Description&quot;, null);\r\n\r\n                    \t  Uri uri = Uri.parse(path);*/\r\n                    \t  Intent share = new Intent(Intent.ACTION_SEND);\r\n                    \t  share.setType(&quot;image/*&quot;);\r\n                    \t  share.putExtra(Intent.EXTRA_STREAM, uri);\r\n                     \t \r\n                    \t  context.startActivity(Intent.createChooser(share, &quot;Share Image!&quot;));\r\n                    \t  }\r\n                    \t  else\r\n                    \t  {\r\n                    \t\t  \r\n                    \t\t  Toast.makeText(context, &quot;No image to share&quot;, Toast.LENGTH_LONG).show();\r\n                    \t\t  \r\n                    \t  }\r\n                    \t  \r\n                    }\r\n\r\n\t\t\t\t\t\r\n                });\r\n                \r\n                \r\n               // viewHolder.share.setOnItemClickListener(this);\r\n                \r\n                \r\n                viewHolder.like.setBackgroundResource(R.drawable.like1);\r\n                \r\n                viewHolder.like.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int position = (Integer) v.getTag();\r\n                       // viewHolder.countt = (TextView) v.findViewById(R.id.count);\r\n                        HashMap&lt;String, Object&gt; item = models.get(position);\r\n                        \r\n                        viewHolder.idas5.setText((CharSequence) item.get(&quot;UIDAS&quot;));\r\n                        \r\n                        // id=(String) viewHolder.idas5.getText();\r\n                         viewHolder.emasr.setText((CharSequence) item.get(&quot;EMAILM&quot;));\r\n                        \r\n                         \tid=(String) viewHolder.idas5.getText();\r\n                        \r\n                         \temm=(String) viewHolder.emasr.getText();\r\n                         \t\r\n                         \t\r\n                         \t\r\n                         \t new LoadAllProducts().execute(); \r\n                         \t \r\n                         \t\r\n\t                          new LoadAllProducts22().execute(); \r\n\t                          \r\n\t                                                   \r\n\t                          notifyDataSetChanged();\r\n                         \t\r\n\t                         \r\n\t                          \r\n\t                          \r\n                        /*if( viewHolder.like.isSelected()){\r\n                        \t viewHolder.like.setSelected(false);\r\n                        \t//viewHolder.like.setBackgroundResource(R.drawable.like2);\r\n                                             \t \r\n                        \t new LoadAllProducts7().execute(); \r\n\t\t\t\t\t\t\t new LoadAllProducts22().execute();\r\n\t\t\t\t\t\t\t notifyDataSetChanged();\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t else if(!viewHolder.like.isSelected()){\r\n\t\t\t\t\t\t\t viewHolder.like.setSelected(true);\r\n\t\t\t\t\t        \t//ctv.setBackgroundColor (Color.parseColor(&quot;#d2d0d0&quot;));\r\n\t\t\t\t\t\t\t// viewHolder.like.setBackgroundResource(R.drawable.like1);\r\n\t\t\t\t\t\t\t  \r\n\t\t                        new LoadAllProducts().execute(); \r\n\t\t                          new LoadAllProducts22().execute(); \r\n\t\t                          notifyDataSetChanged();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t }*/\r\n                        \r\n                                                   \r\n                    }\r\n                });\r\n                view.setTag(viewHolder);\r\n                \r\n            } else {\r\n               viewHolder = (ViewHolder) view.getTag();\r\n            }\r\n\t\t\t\r\n    \t \r\n        \tviewHolder.like.setTag(position);  \r\n        \t viewHolder.share.setTag(position);\r\n        \t \r\n        \t \r\n        \t \r\n        \t \r\n\t\t\t\t  \r\n         final HashMap&lt;String, Object&gt; item = getItem(position);\r\n       /*         name.setText(((String)item.get(R.id.name)));\r\n         * \r\n        * \r\n        */        \r\n         new LoadAllProducts78().execute(); \r\n        \r\n        \r\n       //  boolean  isSelected = (Boolean) item.get(&quot;selected&quot;);\r\n         \r\n        \r\n         \r\n         \r\n         \r\n           /*if (viewHolder.like.isSelected()) {\r\n        \t \r\n        \t viewHolder.like.setSelected(false);\r\n        \t viewHolder.like.setBackgroundResource(R.drawable.like2);\r\n             \r\n              \r\n            \r\n          \r\n             \r\n           } else if (!viewHolder.like.isSelected()){\r\n        \t \r\n        \t viewHolder.like.setSelected(true);\r\n\t        \t//ctv.setBackgroundColor (Color.parseColor(&quot;#d2d0d0&quot;));\r\n\t\t\t viewHolder.like.setBackgroundResource(R.drawable.like1);\r\n            \r\n\t\t\t\r\n\t\t\t             \r\n           }  */\r\n\r\n         \r\n         \r\n         \r\n         pic = (ImageView) view.findViewById(R.id.profilePic);\r\n         name = (TextView) view.findViewById(R.id.name);\r\n         idas = (TextView) view.findViewById(R.id.hpid);\r\n         \r\n         idas2 = (TextView) view.findViewById(R.id.hpid2);\r\n         timestamp = (TextView) view.findViewById(R.id.timestamp);\r\n         msg = (TextView) view.findViewById(R.id.txtStatusMsg);\r\n         url = (TextView) view.findViewById(R.id.txtUrl);\r\n         image = (ImageView) view.findViewById(R.id.feedImage1);\r\n        \r\n        \r\n         \r\n         idas.setText((CharSequence) item.get(&quot;UIDAS&quot;));\r\n        \r\n         viewHolder.cn.setText((CharSequence) item.get(&quot;COUN&quot;));\r\n        // listItems.add(idas.getText().toString());\r\n         name.setText((CharSequence) item.get(&quot;NAME&quot;));\r\n         timestamp.setText((CharSequence) item.get(&quot;TIME&quot;));\r\n         msg.setText((CharSequence) item.get(&quot;MSG&quot;));\r\n         url.setText((CharSequence) item.get(&quot;URL&quot;));\r\n         \r\n         \r\n         \r\n         \r\n        \r\n       \r\n        \r\n         \r\n         \r\n         //countt.setText((CharSequence) item.get(&quot;COUN&quot;));\r\n         //count.setText(&quot;&quot; + count1);\r\n         \r\n        \r\n         int w = image.getWidth();\r\n         int h = image.getHeight();\r\n         \r\n         if (w &gt; 1000)\r\n         {\r\n        \t  a=w-1000;\r\n        \t  b=w-a;\r\n         }\r\n         \r\n         else\r\n         {\r\n        \t b=w;\r\n         }\r\n        \r\n         \r\n         if (h &gt; 1000)\r\n         {\r\n        \t  a1=h-1000;\r\n        \t  b1=h-a1;\r\n         }\r\n         \r\n         else\r\n         {\r\n        \t b1=h;\r\n         }\r\n         \r\n        \tPicasso.with(context)\r\n         \t//.load(&quot;PIC&quot;)\r\n         .load((String)item.get(&quot;PIC&quot;))\r\n            .placeholder(R.drawable.profile_dummy)\r\n            //.error(R.drawable.ic_whats_hot)\r\n            .resize(50, 50)\r\n          // .centerCrop()\r\n           // .fit()\r\n            .into(pic);\r\n        \t\r\n        \t\r\n        \t\r\n            /*Display display =  getActivity().getWindowManager().\r\n                getDefaultDisplay();                                                                                                                \r\n        \tPoint size = new Point();\r\n        \tdisplay.getSize(size); \r\n        \tint width = size.x;*/\r\n        \t\r\n        \t\r\n         \r\n         Picasso.with(context)\r\n         .load((String)item.get(&quot;IMAGE&quot;))\r\n         \r\n      \t//.load(&quot;IMAGE&quot;)\r\n        // .placeholder(R.drawable.ic_pages)\r\n         //.error(R.drawable.ic_home)\r\n          .resize(1000,image.getHeight())\r\n            .onlyScaleDown()\r\n           //.centerCrop()\r\n          // .fit().centerInside()\r\n         .into(image);\r\n        \r\n         \r\n         \r\n         \r\n         \r\n       \t\t\t\t \r\n     \r\n\t\t  \r\n\t\t\t\r\n            return view;\r\n            }\r\n\r\n\t       protected ContentResolver getContentResolver() {\r\n\t     \t// TODO Auto-generated method stub\r\n\t\t   return null;\r\n        \t}\r\n\r\n\t\r\n              class LoadAllProducts extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n\t\t\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void onPreExecute() {\r\n\t\t\tsuper.onPreExecute();\r\n\t\t\t\r\n\t\t\t/*pDialog = new ProgressDialog(context);\r\n\t\t\tpDialog.setMessage(&quot;Loading.. Please wait...&quot;);\r\n\t\t\tpDialog.setIndeterminate(false);\r\n\t\t\tpDialog.setCancelable(false);\r\n\t\t\tpDialog.show();*/\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*Runnable progressRunnable = new Runnable() {\r\n\r\n\t\t        @Override\r\n\t\t        public void run() {\r\n\t\t        \tpDialog.cancel();\r\n\t\t        }\r\n\t\t    };\r\n\t\t\t\r\n\t\t    Handler pdCanceller = new Handler();\r\n\t\t    pdCanceller.postDelayed(progressRunnable, 3000);*/\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * getting All products from url\r\n\t\t * */\r\n\t\tprotected String doInBackground(String... args) {\r\n\t\t\t// Building Parameters\r\n\t      //  session_email = sPref.getString(&quot;SESSION_UID&quot;,&quot;&quot;);\r\n\r\n\t\t\tusersList = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n\t\t\t//usersList1 = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n\t\t\t\r\n\t\t\t\r\n            // id=(String) viewHolder.idas5.getText();\r\n            \r\n\t\t\t((Activity) context).runOnUiThread(new Runnable() {\r\n\t\t\t     @Override\r\n\t\t\t     public void run() {\r\n\t\t\t\r\n\t\t\t    try {\r\n\t\t\tList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n\t\t\t\r\n\r\n\t\t\t\t\r\n\t\t\t\tparams.add(new BasicNameValuePair(&quot;email&quot;, session_email));\r\n\t\t\t\tparams.add(new BasicNameValuePair(&quot;loc&quot;, &quot;liked&quot;));\r\n\t\t\t\tparams.add(new BasicNameValuePair(&quot;con&quot;, &quot;1&quot;));\r\n\t\t\t\tparams.add(new BasicNameValuePair(&quot;idtes&quot;, id));\r\n\t\t\t\tparams.add(new BasicNameValuePair(&quot;emas&quot;, emm));\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tJSONObject json = jParser.makeHttpRequest(url_all_properties5,                &quot;GET&quot;, params);\r\n\t\t\t\t\r\n\t\t\t\t if (json != null) {\r\n\t\t\t\t\r\n\t\t\t\t// Check your log cat for JSON reponse\r\n\t\t\t\tLog.d(&quot;All start: &quot;, json.toString());\r\n\t\t\t\t// Checking for SUCCESS TAG\r\n\t\t\t\t\r\n\t\t\t\tint success = json.getInt(TAG_SUCCESS);\r\n\t\t\t\t\r\n\r\n\t\t\t\r\n\t\t\t\tif (success== 1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tLog.d(&quot;Inside success...&quot;, json.toString());\r\n\t\t\t\t\tconnter = json.getString(&quot;loca&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tIntent intent = ((Activity) context).getIntent();\r\n\t\t\t\t\t intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n\t\t\t\t\t sPref.edit().putString(&quot;SESSION_UID&quot;, session_email).commit();\r\n\t\t\t\t\t\tsPref.edit().putString(&quot;SESSION_TYPE&quot;, session_type).commit();\r\n\t\t\t\t\t\tsPref.edit().putString(&quot;SESSION_PH&quot;, session_ph).commit();\r\n\t\t\t\t\t\tsPref.edit().putString(&quot;SESSION_LOC&quot;, session_loc).commit();\r\n\t\t\t\t\t\t((Activity) context).finish();\r\n\t\t\t\t\t\t((Activity) context).overridePendingTransition(0, 0);\r\n\t\t\t\t\t\t((Activity) context).startActivity(intent);\r\n\t\t\t\t\t ((Activity) context).overridePendingTransition(0, 0);\r\n\t\t\t\t\t    \t\r\n\r\n\t\t\t\t\t//Toast.makeText(context, &quot;Already liked&quot;, Toast.LENGTH_LONG).show();\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t} \r\n\t\t\t\t\r\n\t\t\t\telse if (success== 5){\r\n\t\t\t\t\t// no products found\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tToast.makeText(context, &quot;Already liked&quot;, Toast.LENGTH_LONG).show();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t \r\n\t\t\t\t\r\n\t\t\t\t } else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t\t}\r\n\t\t\t    } catch (JSONException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t     }\r\n\t\t\t});\t\r\n\r\n\t\t\t\t\t\t\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t\r\n\t\t/**\r\n\t\t * After completing background task Dismiss the progress dialog\r\n\t\t * **/\r\n\t\tprotected void onPostExecute(String file_url) {\r\n\t\t\t// dismiss the dialog after getting all products\r\n\t\t\t//pDialog.dismiss();\r\n\t\t\t// updating UI from Background Thread\r\n\t\t\t\r\n\t\t\t\r\n\t\t//\tpDialog.dismiss();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n             class LoadAllProducts78 extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void onPreExecute() {\r\n\t\tsuper.onPreExecute();\r\n\t\t\r\n\t\t/*pDialog = new ProgressDialog(Friendsprofile.this);\r\n\t\tpDialog.setMessage(&quot;Loading.. Please wait...&quot;);\r\n\t\tpDialog.setIndeterminate(false);\r\n\t\tpDialog.setCancelable(false);\r\n\t\tpDialog.show();\r\n\t\t*/\r\n\t\t\r\n\t\t\r\n\t\t/*Runnable progressRunnable = new Runnable() {\r\n\r\n\t        @Override\r\n\t        public void run() {\r\n\t        \tpDialog.cancel();\r\n\t        }\r\n\t    };\r\n\t\t\r\n\t    Handler pdCanceller = new Handler();\r\n\t    pdCanceller.postDelayed(progressRunnable, 3000);*/\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * getting All products from url\r\n\t * */\r\n\tprotected String doInBackground(String... args) {\r\n\t\t// Building Parameters\r\n      //  session_email = sPref.getString(&quot;SESSION_UID&quot;,&quot;&quot;);\r\n\r\n\t\t//usersList = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n\t\t//usersList1 = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n\t\t\r\n\t\t\r\n        // id=(String) viewHolder.idas5.getText();\r\n        \r\n\t\t((Activity) context).runOnUiThread(new Runnable() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// TODO Auto-generated method stub\t\r\n\t\t\r\n\t\t\t\ttry {\r\n\t\t\r\n\t\t\r\n\t\tList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n\t\t\r\n\r\n\t\t\t\r\n\t\t\tparams.add(new BasicNameValuePair(&quot;email&quot;, session_email));\r\n\t\t\t\r\n\t\t\tparams.add(new BasicNameValuePair(&quot;emas&quot;, emm));\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tJSONObject json = jParser.makeHttpRequest(url_all_properties6, &quot;POST&quot;, params);\r\n\t\t\t\r\n\t\t\t if (json != null) {\r\n\t\t\t\r\n\t\t\t// Check your log cat for JSON reponse\r\n\t\t\tLog.d(&quot;All bastart: &quot;, json.toString());\r\n\t\t\t// Checking for SUCCESS TAG\r\n\t\t\t\r\n\t\t\tint success = json.getInt(TAG_SUCCESS);\r\n\t\t\t\r\n\r\n\t\t\r\n\t\t\tif (success== 1) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tviewHolder.like.setBackgroundResource(R.drawable.like1);\r\n\t\t\t\tviewHolder.like.setSelected(true);\r\n\t\t\t\t\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\telse if(success == 2) {\r\n\t\t\t\t\r\n\t\t\t\tviewHolder.like.setBackgroundResource(R.drawable.like2);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t } else {\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t \r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t} catch (JSONException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\r\n\t   }\r\n       });\r\n\t\t\t\t\r\n\r\n\t\t\t\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n\t\r\n\t/**\r\n\t * After completing background task Dismiss the progress dialog\r\n\t * **/\r\n\tprotected void onPostExecute(String file_url) {\r\n\t\t// dismiss the dialog after getting all products\r\n\t\t//pDialog.dismiss();\r\n\t\t// updating UI from Background Thread\r\n\t\t\r\n\t\t\r\n\t\t//pDialog.dismiss();\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\t\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n         class LoadAllProducts22 extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void onPreExecute() {\r\n\t\tsuper.onPreExecute();\r\n\t\t/*\r\n\t\tpDialog = new ProgressDialog(context);\r\n\t\tpDialog.setMessage(&quot;Loading.. Please wait...&quot;);\r\n\t\tpDialog.setIndeterminate(false);\r\n\t\tpDialog.setCancelable(false);\r\n\t\tpDialog.show();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tRunnable progressRunnable = new Runnable() {\r\n\r\n\t        @Override\r\n\t        public void run() {\r\n\t        \tpDialog.cancel();\r\n\t        }\r\n\t    };\r\n\t\t\r\n\t    Handler pdCanceller = new Handler();\r\n\t    pdCanceller.postDelayed(progressRunnable, 3000);*/\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * getting All products from url\r\n\t * */\r\n\tprotected String doInBackground(String... args) {\r\n\t\t// Building Parameters\r\n      //  session_email = sPref.getString(&quot;SESSION_UID&quot;,&quot;&quot;);\r\n\r\n\t\t\t\r\n\t\t\t\t\t\r\n\t\tList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n\t\t\r\n\r\n\t\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\tJSONObject json = jParser.makeHttpRequest(url_all_properties1, &quot;GET&quot;, params);\r\n\t\t\t\r\n\t\t\t if (json != null) {\r\n\t\t\t\r\n\t\t\t// Check your log cat for JSON reponse\r\n\t\t\tLog.d(&quot;All Productgetting start: &quot;, json.toString());\r\n\t\t\t// Checking for SUCCESS TAG\r\n\t\t\ttry {\r\n\t\t\tint success = json.getInt(TAG_SUCCESS);\r\n\t\t\t\r\n\r\n\t\t\r\n\t\t\tif (success== 1) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\t// no products found\r\n\t\t\t\t// Launch Add New product Activity\r\n\t\t\t\t/*Intent i = new Intent(getApplicationContext(),\tMainActivity.class);\r\n\t\t\t\t// Closing all previous activities\r\n\t\t\t\ti.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\t\t\t\tstartActivity(i);*/\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\t } catch (JSONException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t } else {\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t \r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n\t\r\n\r\n\t/**\r\n\t * After completing background task Dismiss the progress dialog\r\n\t * **/\r\n\tprotected void onPostExecute(String file_url) {\r\n\t\t// dismiss the dialog after getting all products\r\n\t\t//pDialog.dismiss();\r\n\t\t// updating UI from Background Thread\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\t\r\n\r\n         }\r\n\r\n\r\n\r\n\r\n            class LoadAllProducts7 extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void onPreExecute() {\r\n\t\tsuper.onPreExecute();\r\n\t\t/*\r\n\t\tpDialog = new ProgressDialog(context);\r\n\t\tpDialog.setMessage(&quot;Loading.. Please wait...&quot;);\r\n\t\tpDialog.setIndeterminate(false);\r\n\t\tpDialog.setCancelable(false);\r\n\t\tpDialog.show();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tRunnable progressRunnable = new Runnable() {\r\n\r\n\t        @Override\r\n\t        public void run() {\r\n\t        \tpDialog.cancel();\r\n\t        }\r\n\t    };\r\n\t\t\r\n\t    Handler pdCanceller = new Handler();\r\n\t    pdCanceller.postDelayed(progressRunnable, 3000);*/\r\n\t\t\r\n\t}\r\n\r\n\t/**\r\n\t * getting All products from url\r\n\t * */\r\n\tprotected String doInBackground(String... args) {\r\n\t\t// Building Parameters\r\n      //  session_email = sPref.getString(&quot;SESSION_UID&quot;,&quot;&quot;);\r\n\r\n\t\tusersList = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n\t\t//usersList1 = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n\t\t\r\n\t\t\r\n        // id=(String) viewHolder.idas5.getText();\r\n        \r\n       \t\t\r\n\t\t\r\n\t\t\r\n\t\tList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n\t\t\r\n\r\n\t\t\t\r\n\t\t\tparams.add(new BasicNameValuePair(&quot;email&quot;, session_email));\r\n\t\t\tparams.add(new BasicNameValuePair(&quot;loc&quot;, &quot;liked&quot;));\r\n\t\t\tparams.add(new BasicNameValuePair(&quot;con&quot;, &quot;1&quot;));\r\n\t\t\tparams.add(new BasicNameValuePair(&quot;idtes&quot;, id));\r\n\t\t\tparams.add(new BasicNameValuePair(&quot;emas&quot;, emm));\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tJSONObject json = jParser.makeHttpRequest(url_all_properties7, &quot;GET&quot;, params);\r\n\t\t\t\r\n\t\t\t if (json != null) {\r\n\t\t\t\r\n\t\t\t// Check your log cat for JSON reponse\r\n\t\t\tLog.d(&quot;All start: &quot;, json.toString());\r\n\t\t\t// Checking for SUCCESS TAG\r\n\t\t\ttry {\r\n\t\t\tint success = json.getInt(TAG_SUCCESS);\r\n\t\t\t\r\n\r\n\t\t\r\n\t\t\tif (success== 1) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t // new LoadAllProducts22().execute();\r\n\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t// products found\r\n\t\t\t\t// Getting Array of Products\r\n\t\t\t\t\r\n\t\t\t\t/*users = json.getJSONArray(TAG_PRO);\r\n\t\t\t\t\r\n\t\t\t\t//users1 = json.getJSONArray(TAG_PRO1);\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t// looping through All Products\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tfor (int i = 0; i &lt; users.length(); i++) {\r\n\t\t\t\t\tJSONObject c = users.getJSONObject(i);\r\n\t\t\t\t\t//ImageView imageView = (ImageView) findViewById(R.id.profilePic);\r\n\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Storing each json item in variable\r\n\t\t\t\t\t//String scpass = countt.getText().toString();\r\n\t\t\t\t\tString uid = c.getString(&quot;uid1&quot;); //from php blue\r\n\t\t\t\t\t\r\n                    \r\n\r\n\t\t\t\t\t// creating new HashMap\r\n\t\t\t\t\tHashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\r\n\t\t\t\t\t// adding each child node to HashMap key =&gt; value\r\n\t\t\t\t\tmap.put(&quot;UIDAS&quot;, uid); //from \r\n\t\t\t\t\tmap.put(&quot;PIC&quot;, pic);\r\n\t\t\t\t\t\r\n\t\t\t\t\tusersList.add(map);\r\n\t\t\t\t\t//usersList1.add(map);\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t// creating new HashMap\r\n\t\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t\t\t}*/\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\t// no products found\r\n\t\t\t\t// Launch Add New product Activity\r\n\t\t\t\t/*Intent i = new Intent(getApplicationContext(),\tMainActivity.class);\r\n\t\t\t\t// Closing all previous activities\r\n\t\t\t\ti.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\t\t\t\tstartActivity(i);*/\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\t } catch (JSONException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t } else {\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t \r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n\t\r\n\t/**\r\n\t * After completing background task Dismiss the progress dialog\r\n\t * **/\r\n\tprotected void onPostExecute(String file_url) {\r\n\t\t// dismiss the dialog after getting all products\r\n\t\t//pDialog.dismiss();\r\n\t\t// updating UI from Background Thread\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\t\r\n\r\n          }\r\n\r\n\r\n\r\n\r\n            ","title":"ClassCastException: android.app.Application cannot be cast to android.app.Activity","body":"<p>I have an activity class along with customlistadapter inside <strong>customlist adapter</strong>.<br>\n I have a thread <code>runouithread</code> which give me error msg when i wrap it with <code>((Activity) context).runOnUiThread(new Runnable()</code>.<br>\nit throws the error msg at runtime has <code>ClassCastException: android.app.Application cannot be cast to android.app.Activity</code>.<br>\n So please some one help me.</p>\n\n<pre><code>public class CustomListAdapterfriend extends BaseAdapter  {\nList&lt;HashMap&lt;String, Object&gt;&gt; models; \n   Context context;\nLayoutInflater inflater;\n\nURL urll;\nHttpURLConnection connection;\n\n  InputStream input;\n\n  ViewHolder viewHolder;\n//UI for Locations\nImageView pic,image,delam;\nTextView name,timestamp,msg,url,idas,idas2,emasr,cn;\nArrayList&lt;String&gt; listItems;\nListView lv;\npublic int count1 = 0;\n ProgressDialog pDialog;\n//String session_email=\"\",session_type=\"\",share_app,share_via;\nprivate String stringVal;\nprivate int mCounter1=1;\nprivate int counter=0;\npublic int temp=0;\nString con, pros;\nprivate int[] counters;\nint pos;\nint width,height;\nint position2;\n String id,emm;\nTransformation transformation;\n//ImageButton sharingButton;\nString pacm,session_email,session_ph,session_type,session_loc,connter;\nArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList,usersList1;\nJSONParser jParser = new JSONParser();\nint i ;\n\n\n\nJSONParser jsonParser = new JSONParser();\nstatic String IP = IpAddress.Ip;\nprivate String imagePath = IP+\"/social/upload/\";\n//url to create new product\npublic static String add_wish = IP+\"/studio/add_wishlist.php\";\nprivate static String url_all_properties5 = IP+\"/social/get_all_agen_like.php\";\nprivate static String url_all_properties1 = IP+\"/social/get_lik_coun.php\";\nprivate static String url_all_properties6 = IP+\"/social/get_all_agen_like3.php\";\nprivate static String url_all_properties7 = IP+\"/social/get_all_dele_like.php\";\nprivate static String url_all_properties8 = IP+\"/social/get_all_dele_uplike.php\";\n  boolean isSelected;\n  int a,a1,b,b1;\n\n    //private static final String TAG_SUCCESS1 = \"mass\";\n    private static final String TAG_USER = \"users\";\n\n    private static final String TAG_PRO = \"properties\";\n    //private static final String TAG_PRO1 = \"properties1\";\n    // products JSONArray\n    JSONArray users = null;\n    //JSONArray users1 = null;\n     View view;\n\n    // JSON Node names\n    private static final String TAG_SUCCESS = \"success\";\n SharedPreferences sPref;\n// int position;\n\n\npublic CustomListAdapterfriend(Context context, List&lt;HashMap&lt;String, Object&gt;&gt; models) {\n    this.context = context;\n    this. models = models;\n    inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    this.counters = new int[30];\n\n    //this.session_email = sPref.getString(\"SESSION_UID\",\"\");\n\n}\n\npublic class ViewHolder {\n\n       public TextView countt,idas5,emasr,cn;\n\n      // public String id,emm;\n\n       public  ImageView like;\n       public ImageView share;\n    /*public void runOnUiThread(Runnable runnable) {\n        // TODO Auto-generated method stub\n\n    }*/\n\n\n\n    }\n\npublic void clear(){\n    if(models!=null)\n        models.clear();\n}\n\n@Override\npublic int getCount() {\n    return models.size();\n}\n\npublic HashMap&lt;String, Object&gt; getItem(int position) {\n    return models.get(position);\n\n}\n\n@Override\npublic long getItemId(int position) {\n    return position;\n}\n\n@Override\npublic int getItemViewType(int position) {\n    // TODO Auto-generated method stub\n    return position;\n} \n\n@Override\npublic int getViewTypeCount() {\n    // TODO Auto-generated method stub\n    return 1;\n}\n\n@Override\npublic View getView( final int position, final View convertView,  ViewGroup parent) {\n        //  view = null;\n      view = convertView;\n\n      StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(policy); \n\n          sPref= context.getSharedPreferences(\"REAL\", Context.MODE_PRIVATE);\n\n        session_email = sPref.getString(\"SESSION_UID\",\"\");\n        session_ph = sPref.getString(\"SESSION_PH\",\"\");\n        session_type = sPref.getString(\"SESSION_TYPE\", \"\");\n        session_loc = sPref.getString(\"SESSION_LOC\", \"\");\n      //  lv=(ListView)view.findViewById(R.id.list);\n        pos = getItemViewType(position);\n      //  long posn = getItemId(position);\n     // final int paps= (int)posn ;\n        if (view == null) {\n            viewHolder = new ViewHolder();\n            view = inflater.inflate(R.layout.fragment_home2, parent, false);\n            //your code\n\n\n\n\n            //add below code after (end of) your code\n            viewHolder.idas5 = (TextView) view.findViewById(R.id.hpid);\n            viewHolder. emasr= (TextView) view.findViewById(R.id.ema);\n            viewHolder.like=(ImageView)view.findViewById(R.id.likem);\n\n            viewHolder.share=(ImageView)view.findViewById(R.id.sharemsp);\n\n            viewHolder.cn = (TextView) view.findViewById(R.id.count);\n\n\n            viewHolder.share.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n\n                     int position = (Integer) v.getTag();\n\n\n\n                      HashMap&lt;String, Object&gt; item = models.get(position);\n                      String imagePath = (String)item.get(\"IMAGE\").toString();\n\n                    try {\n                        urll = new URL(imagePath);\n                    } catch (MalformedURLException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n\n\n                    try {\n                        connection = (HttpURLConnection) urll.openConnection();\n                    } catch (IOException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n\n                      connection.setDoInput(true);\n\n                      try {\n                        connection.connect();\n                    } catch (IOException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n\n                    try {\n                        input = connection.getInputStream();\n                    } catch (IOException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n\n                      Bitmap immutableBpm = BitmapFactory.decodeStream(input);\n\n                      if(immutableBpm !=null)\n                      {\n\n                      Bitmap mutableBitmap = immutableBpm.copy(Bitmap.Config.ARGB_8888, true);\n\n\n\n                      View view  = new View(context);\n\n                      view.draw(new Canvas(mutableBitmap));\n\n                      String path = Images.Media.insertImage(context.getContentResolver(), mutableBitmap, \"Nur\", null);\n                      Uri uri = Uri.parse(path);\n\n\n                     /* image = (ImageView) view.findViewById(R.id.feedImage1);\n                      Drawable mDrawable = image.getDrawable();\n                      Bitmap mBitmap = ((BitmapDrawable)mDrawable).getBitmap();\n                      Intent share = new Intent(Intent.ACTION_SEND);\n                      share.setType(\"image/*\");\n                      String path = Images.Media.insertImage(getContentResolver(), mBitmap, \"Image Description\", null);\n\n                      Uri uri = Uri.parse(path);*/\n                      Intent share = new Intent(Intent.ACTION_SEND);\n                      share.setType(\"image/*\");\n                      share.putExtra(Intent.EXTRA_STREAM, uri);\n\n                      context.startActivity(Intent.createChooser(share, \"Share Image!\"));\n                      }\n                      else\n                      {\n\n                          Toast.makeText(context, \"No image to share\", Toast.LENGTH_LONG).show();\n\n                      }\n\n                }\n\n\n            });\n\n\n           // viewHolder.share.setOnItemClickListener(this);\n\n\n            viewHolder.like.setBackgroundResource(R.drawable.like1);\n\n            viewHolder.like.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    int position = (Integer) v.getTag();\n                   // viewHolder.countt = (TextView) v.findViewById(R.id.count);\n                    HashMap&lt;String, Object&gt; item = models.get(position);\n\n                    viewHolder.idas5.setText((CharSequence) item.get(\"UIDAS\"));\n\n                    // id=(String) viewHolder.idas5.getText();\n                     viewHolder.emasr.setText((CharSequence) item.get(\"EMAILM\"));\n\n                        id=(String) viewHolder.idas5.getText();\n\n                        emm=(String) viewHolder.emasr.getText();\n\n\n\n                         new LoadAllProducts().execute(); \n\n\n                          new LoadAllProducts22().execute(); \n\n\n                          notifyDataSetChanged();\n\n\n\n\n                    /*if( viewHolder.like.isSelected()){\n                         viewHolder.like.setSelected(false);\n                        //viewHolder.like.setBackgroundResource(R.drawable.like2);\n\n                         new LoadAllProducts7().execute(); \n                         new LoadAllProducts22().execute();\n                         notifyDataSetChanged();\n                     }\n\n\n                     else if(!viewHolder.like.isSelected()){\n                         viewHolder.like.setSelected(true);\n                            //ctv.setBackgroundColor (Color.parseColor(\"#d2d0d0\"));\n                        // viewHolder.like.setBackgroundResource(R.drawable.like1);\n\n                            new LoadAllProducts().execute(); \n                              new LoadAllProducts22().execute(); \n                              notifyDataSetChanged();\n\n                     }*/\n\n\n                }\n            });\n            view.setTag(viewHolder);\n\n        } else {\n           viewHolder = (ViewHolder) view.getTag();\n        }\n\n\n        viewHolder.like.setTag(position);  \n         viewHolder.share.setTag(position);\n\n\n\n\n\n     final HashMap&lt;String, Object&gt; item = getItem(position);\n   /*         name.setText(((String)item.get(R.id.name)));\n     * \n    * \n    */        \n     new LoadAllProducts78().execute(); \n\n\n   //  boolean  isSelected = (Boolean) item.get(\"selected\");\n\n\n\n\n\n       /*if (viewHolder.like.isSelected()) {\n\n         viewHolder.like.setSelected(false);\n         viewHolder.like.setBackgroundResource(R.drawable.like2);\n\n\n\n\n\n       } else if (!viewHolder.like.isSelected()){\n\n         viewHolder.like.setSelected(true);\n            //ctv.setBackgroundColor (Color.parseColor(\"#d2d0d0\"));\n         viewHolder.like.setBackgroundResource(R.drawable.like1);\n\n\n\n       }  */\n\n\n\n\n     pic = (ImageView) view.findViewById(R.id.profilePic);\n     name = (TextView) view.findViewById(R.id.name);\n     idas = (TextView) view.findViewById(R.id.hpid);\n\n     idas2 = (TextView) view.findViewById(R.id.hpid2);\n     timestamp = (TextView) view.findViewById(R.id.timestamp);\n     msg = (TextView) view.findViewById(R.id.txtStatusMsg);\n     url = (TextView) view.findViewById(R.id.txtUrl);\n     image = (ImageView) view.findViewById(R.id.feedImage1);\n\n\n\n     idas.setText((CharSequence) item.get(\"UIDAS\"));\n\n     viewHolder.cn.setText((CharSequence) item.get(\"COUN\"));\n    // listItems.add(idas.getText().toString());\n     name.setText((CharSequence) item.get(\"NAME\"));\n     timestamp.setText((CharSequence) item.get(\"TIME\"));\n     msg.setText((CharSequence) item.get(\"MSG\"));\n     url.setText((CharSequence) item.get(\"URL\"));\n\n\n\n\n\n\n\n\n\n     //countt.setText((CharSequence) item.get(\"COUN\"));\n     //count.setText(\"\" + count1);\n\n\n     int w = image.getWidth();\n     int h = image.getHeight();\n\n     if (w &gt; 1000)\n     {\n          a=w-1000;\n          b=w-a;\n     }\n\n     else\n     {\n         b=w;\n     }\n\n\n     if (h &gt; 1000)\n     {\n          a1=h-1000;\n          b1=h-a1;\n     }\n\n     else\n     {\n         b1=h;\n     }\n\n        Picasso.with(context)\n        //.load(\"PIC\")\n     .load((String)item.get(\"PIC\"))\n        .placeholder(R.drawable.profile_dummy)\n        //.error(R.drawable.ic_whats_hot)\n        .resize(50, 50)\n      // .centerCrop()\n       // .fit()\n        .into(pic);\n\n\n\n        /*Display display =  getActivity().getWindowManager().\n            getDefaultDisplay();                                                                                                                \n        Point size = new Point();\n        display.getSize(size); \n        int width = size.x;*/\n\n\n\n     Picasso.with(context)\n     .load((String)item.get(\"IMAGE\"))\n\n    //.load(\"IMAGE\")\n    // .placeholder(R.drawable.ic_pages)\n     //.error(R.drawable.ic_home)\n      .resize(1000,image.getHeight())\n        .onlyScaleDown()\n       //.centerCrop()\n      // .fit().centerInside()\n     .into(image);\n\n\n\n\n\n\n\n\n\n        return view;\n        }\n\n       protected ContentResolver getContentResolver() {\n        // TODO Auto-generated method stub\n       return null;\n        }\n\n\n          class LoadAllProducts extends AsyncTask&lt;String, String, String&gt; {\n\n\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n\n        /*pDialog = new ProgressDialog(context);\n        pDialog.setMessage(\"Loading.. Please wait...\");\n        pDialog.setIndeterminate(false);\n        pDialog.setCancelable(false);\n        pDialog.show();*/\n\n\n\n        /*Runnable progressRunnable = new Runnable() {\n\n            @Override\n            public void run() {\n                pDialog.cancel();\n            }\n        };\n\n        Handler pdCanceller = new Handler();\n        pdCanceller.postDelayed(progressRunnable, 3000);*/\n\n    }\n\n    /**\n     * getting All products from url\n     * */\n    protected String doInBackground(String... args) {\n        // Building Parameters\n      //  session_email = sPref.getString(\"SESSION_UID\",\"\");\n\n        usersList = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n        //usersList1 = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n\n\n        // id=(String) viewHolder.idas5.getText();\n\n        ((Activity) context).runOnUiThread(new Runnable() {\n             @Override\n             public void run() {\n\n            try {\n        List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n\n\n\n            params.add(new BasicNameValuePair(\"email\", session_email));\n            params.add(new BasicNameValuePair(\"loc\", \"liked\"));\n            params.add(new BasicNameValuePair(\"con\", \"1\"));\n            params.add(new BasicNameValuePair(\"idtes\", id));\n            params.add(new BasicNameValuePair(\"emas\", emm));\n\n\n            JSONObject json = jParser.makeHttpRequest(url_all_properties5,                \"GET\", params);\n\n             if (json != null) {\n\n            // Check your log cat for JSON reponse\n            Log.d(\"All start: \", json.toString());\n            // Checking for SUCCESS TAG\n\n            int success = json.getInt(TAG_SUCCESS);\n\n\n\n            if (success== 1) {\n\n\n\n                Log.d(\"Inside success...\", json.toString());\n                connter = json.getString(\"loca\");\n\n\n                Intent intent = ((Activity) context).getIntent();\n                 intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n                 sPref.edit().putString(\"SESSION_UID\", session_email).commit();\n                    sPref.edit().putString(\"SESSION_TYPE\", session_type).commit();\n                    sPref.edit().putString(\"SESSION_PH\", session_ph).commit();\n                    sPref.edit().putString(\"SESSION_LOC\", session_loc).commit();\n                    ((Activity) context).finish();\n                    ((Activity) context).overridePendingTransition(0, 0);\n                    ((Activity) context).startActivity(intent);\n                 ((Activity) context).overridePendingTransition(0, 0);\n\n\n                //Toast.makeText(context, \"Already liked\", Toast.LENGTH_LONG).show();\n\n\n\n            } \n\n            else if (success== 5){\n                // no products found\n\n\n                Toast.makeText(context, \"Already liked\", Toast.LENGTH_LONG).show();\n\n\n            }\n\n\n             } else {\n\n\n\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n             }\n        }); \n\n\n        return null;\n    }\n\n\n    /**\n     * After completing background task Dismiss the progress dialog\n     * **/\n    protected void onPostExecute(String file_url) {\n        // dismiss the dialog after getting all products\n        //pDialog.dismiss();\n        // updating UI from Background Thread\n\n\n    //  pDialog.dismiss();\n\n    }\n\n\n\n\n\n}\n\n\n\n\n\n\n\n         class LoadAllProducts78 extends AsyncTask&lt;String, String, String&gt; {\n\n\n\n@Override\nprotected void onPreExecute() {\n    super.onPreExecute();\n\n    /*pDialog = new ProgressDialog(Friendsprofile.this);\n    pDialog.setMessage(\"Loading.. Please wait...\");\n    pDialog.setIndeterminate(false);\n    pDialog.setCancelable(false);\n    pDialog.show();\n    */\n\n\n    /*Runnable progressRunnable = new Runnable() {\n\n        @Override\n        public void run() {\n            pDialog.cancel();\n        }\n    };\n\n    Handler pdCanceller = new Handler();\n    pdCanceller.postDelayed(progressRunnable, 3000);*/\n\n}\n\n/**\n * getting All products from url\n * */\nprotected String doInBackground(String... args) {\n    // Building Parameters\n  //  session_email = sPref.getString(\"SESSION_UID\",\"\");\n\n    //usersList = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n    //usersList1 = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n\n\n    // id=(String) viewHolder.idas5.getText();\n\n    ((Activity) context).runOnUiThread(new Runnable() {\n\n        @Override\n        public void run() {\n            // TODO Auto-generated method stub  \n\n            try {\n\n\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n\n\n\n        params.add(new BasicNameValuePair(\"email\", session_email));\n\n        params.add(new BasicNameValuePair(\"emas\", emm));\n\n\n        JSONObject json = jParser.makeHttpRequest(url_all_properties6, \"POST\", params);\n\n         if (json != null) {\n\n        // Check your log cat for JSON reponse\n        Log.d(\"All bastart: \", json.toString());\n        // Checking for SUCCESS TAG\n\n        int success = json.getInt(TAG_SUCCESS);\n\n\n\n        if (success== 1) {\n\n\n            viewHolder.like.setBackgroundResource(R.drawable.like1);\n            viewHolder.like.setSelected(true);\n\n\n\n\n        } \n\n        else if(success == 2) {\n\n            viewHolder.like.setBackgroundResource(R.drawable.like2);\n        }\n\n\n         } else {\n\n\n\n            }\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n   }\n   });\n\n\n\n    return null;\n}\n\n\n/**\n * After completing background task Dismiss the progress dialog\n * **/\nprotected void onPostExecute(String file_url) {\n    // dismiss the dialog after getting all products\n    //pDialog.dismiss();\n    // updating UI from Background Thread\n\n\n    //pDialog.dismiss();\n\n}\n\n\n\n\n\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n     class LoadAllProducts22 extends AsyncTask&lt;String, String, String&gt; {\n\n\n\n@Override\nprotected void onPreExecute() {\n    super.onPreExecute();\n    /*\n    pDialog = new ProgressDialog(context);\n    pDialog.setMessage(\"Loading.. Please wait...\");\n    pDialog.setIndeterminate(false);\n    pDialog.setCancelable(false);\n    pDialog.show();\n\n\n\n    Runnable progressRunnable = new Runnable() {\n\n        @Override\n        public void run() {\n            pDialog.cancel();\n        }\n    };\n\n    Handler pdCanceller = new Handler();\n    pdCanceller.postDelayed(progressRunnable, 3000);*/\n\n}\n\n/**\n * getting All products from url\n * */\nprotected String doInBackground(String... args) {\n    // Building Parameters\n  //  session_email = sPref.getString(\"SESSION_UID\",\"\");\n\n\n\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n\n\n\n\n\n        JSONObject json = jParser.makeHttpRequest(url_all_properties1, \"GET\", params);\n\n         if (json != null) {\n\n        // Check your log cat for JSON reponse\n        Log.d(\"All Productgetting start: \", json.toString());\n        // Checking for SUCCESS TAG\n        try {\n        int success = json.getInt(TAG_SUCCESS);\n\n\n\n        if (success== 1) {\n\n\n\n        } \n\n        else {\n            // no products found\n            // Launch Add New product Activity\n            /*Intent i = new Intent(getApplicationContext(),    MainActivity.class);\n            // Closing all previous activities\n            i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            startActivity(i);*/\n        }\n\n         } catch (JSONException e) {\n                e.printStackTrace();\n            }\n         } else {\n\n\n\n            }\n\n\n\n\n\n    return null;\n}\n\n\n\n/**\n * After completing background task Dismiss the progress dialog\n * **/\nprotected void onPostExecute(String file_url) {\n    // dismiss the dialog after getting all products\n    //pDialog.dismiss();\n    // updating UI from Background Thread\n\n\n\n\n}\n\n\n\n\n\n     }\n\n\n\n\n        class LoadAllProducts7 extends AsyncTask&lt;String, String, String&gt; {\n\n\n\n@Override\nprotected void onPreExecute() {\n    super.onPreExecute();\n    /*\n    pDialog = new ProgressDialog(context);\n    pDialog.setMessage(\"Loading.. Please wait...\");\n    pDialog.setIndeterminate(false);\n    pDialog.setCancelable(false);\n    pDialog.show();\n\n\n\n    Runnable progressRunnable = new Runnable() {\n\n        @Override\n        public void run() {\n            pDialog.cancel();\n        }\n    };\n\n    Handler pdCanceller = new Handler();\n    pdCanceller.postDelayed(progressRunnable, 3000);*/\n\n}\n\n/**\n * getting All products from url\n * */\nprotected String doInBackground(String... args) {\n    // Building Parameters\n  //  session_email = sPref.getString(\"SESSION_UID\",\"\");\n\n    usersList = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n    //usersList1 = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n\n\n    // id=(String) viewHolder.idas5.getText();\n\n\n\n\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n\n\n\n        params.add(new BasicNameValuePair(\"email\", session_email));\n        params.add(new BasicNameValuePair(\"loc\", \"liked\"));\n        params.add(new BasicNameValuePair(\"con\", \"1\"));\n        params.add(new BasicNameValuePair(\"idtes\", id));\n        params.add(new BasicNameValuePair(\"emas\", emm));\n\n\n        JSONObject json = jParser.makeHttpRequest(url_all_properties7, \"GET\", params);\n\n         if (json != null) {\n\n        // Check your log cat for JSON reponse\n        Log.d(\"All start: \", json.toString());\n        // Checking for SUCCESS TAG\n        try {\n        int success = json.getInt(TAG_SUCCESS);\n\n\n\n        if (success== 1) {\n\n\n\n\n             // new LoadAllProducts22().execute();\n\n\n\n            // products found\n            // Getting Array of Products\n\n            /*users = json.getJSONArray(TAG_PRO);\n\n            //users1 = json.getJSONArray(TAG_PRO1);\n\n\n            // looping through All Products\n\n\n            for (int i = 0; i &lt; users.length(); i++) {\n                JSONObject c = users.getJSONObject(i);\n                //ImageView imageView = (ImageView) findViewById(R.id.profilePic);\n\n\n\n                // Storing each json item in variable\n                //String scpass = countt.getText().toString();\n                String uid = c.getString(\"uid1\"); //from php blue\n\n\n\n                // creating new HashMap\n                HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n                // adding each child node to HashMap key =&gt; value\n                map.put(\"UIDAS\", uid); //from \n                map.put(\"PIC\", pic);\n\n                usersList.add(map);\n                //usersList1.add(map);\n\n\n                // creating new HashMap\n\n\n            }*/\n\n\n        } \n\n        else {\n            // no products found\n            // Launch Add New product Activity\n            /*Intent i = new Intent(getApplicationContext(),    MainActivity.class);\n            // Closing all previous activities\n            i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            startActivity(i);*/\n        }\n\n         } catch (JSONException e) {\n                e.printStackTrace();\n            }\n         } else {\n\n\n\n            }\n\n\n\n\n\n    return null;\n}\n\n\n/**\n * After completing background task Dismiss the progress dialog\n * **/\nprotected void onPostExecute(String file_url) {\n    // dismiss the dialog after getting all products\n    //pDialog.dismiss();\n    // updating UI from Background Thread\n\n\n\n\n}\n\n\n\n\n\n      }\n</code></pre>\n"},{"tags":["java","spring","rest","spring-boot","jersey"],"answers":[{"tags":[],"owner":{"account_id":2279106,"reputation":9588,"user_id":2004685,"accept_rate":69,"display_name":"user2004685"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454609850,"creation_date":1454609850,"answer_id":35208592,"question_id":35208439,"body_markdown":"You won&#39;t be allowed to create two beans for your Resource Class. You can achieve what you are trying to achieve using a single Resource Class as well.\r\n\r\nHere is an example:\r\n\r\n    @Path(&quot;rest&quot;)\r\n    public class SampleResourceClass {\r\n    \r\n      @Path(&quot;/public/pings&quot;)\r\n      @GET\r\n      public Responce getPings(){\r\n        /* Code Here */\r\n      }\r\n    \r\n      @Path(&quot;/private/accounts&quot;)\r\n      @GET\r\n      public Response getAccounts(){\r\n        /* Code Here */\r\n      }\r\n    }","title":"Use different paths for public and private resources Jersey + Spring boot","body":"<p>You won't be allowed to create two beans for your Resource Class. You can achieve what you are trying to achieve using a single Resource Class as well.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>@Path(\"rest\")\npublic class SampleResourceClass {\n\n  @Path(\"/public/pings\")\n  @GET\n  public Responce getPings(){\n    /* Code Here */\n  }\n\n  @Path(\"/private/accounts\")\n  @GET\n  public Response getAccounts(){\n    /* Code Here */\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":557859,"reputation":5979,"user_id":920457,"accept_rate":100,"display_name":"francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455826326,"creation_date":1455826326,"answer_id":35491493,"question_id":35208439,"body_markdown":"The error you are seeing is not related to your security config, you may want to take a look at this ticket, https://github.com/spring-projects/spring-boot/issues/3260\r\n\r\nIf you want to permit all traffic to endpoints past `/public` you can add the `RequestMatcher` to the Spring Security ignore list.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n        \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n\r\n            web.ignoring().antMatchers(&quot;/rest/public/**&quot;);\r\n         }\r\n\r\n         protected void configure(HttpSecurity http) throws Exception {\r\n\r\n              http.authorizeRequests().antMatcher(&quot;/rest/private/**&quot;)\r\n              .anyRequest().authenticated().and()\r\n              .httpBasic().and()\r\n              .csrf().disable()\r\n         }\r\n\r\n    }\r\n\r\n\r\n\r\nhttp://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc\r\n","title":"Use different paths for public and private resources Jersey + Spring boot","body":"<p>The error you are seeing is not related to your security config, you may want to take a look at this ticket, <a href=\"https://github.com/spring-projects/spring-boot/issues/3260\" rel=\"nofollow\">https://github.com/spring-projects/spring-boot/issues/3260</a></p>\n\n<p>If you want to permit all traffic to endpoints past <code>/public</code> you can add the <code>RequestMatcher</code> to the Spring Security ignore list.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n\n        web.ignoring().antMatchers(\"/rest/public/**\");\n     }\n\n     protected void configure(HttpSecurity http) throws Exception {\n\n          http.authorizeRequests().antMatcher(\"/rest/private/**\")\n          .anyRequest().authenticated().and()\n          .httpBasic().and()\n          .csrf().disable()\n     }\n\n}\n</code></pre>\n\n<p><a href=\"http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc\" rel=\"nofollow\">http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#jc</a></p>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1651498408,"creation_date":1455852294,"answer_id":35496771,"question_id":35208439,"body_markdown":"In a servlet container, the Jersey runtime, runs as either a servlet or as a servlet filter. How spring boot configures servlets and filters is through `ServletRegistrationBean`s and `FilterRegistrationBeans`, respectively. To get an idea of how that configuration works behind scenes, you can look at the source code for the [`JerseyAutoConfiguration`][1]\r\n\r\nIn the `JerseyAutoConfiguration`, you can see that a `ResourceConfig` is injected, and that is the `ResourceConfig` used to create the Jersey servlet or Jersey filter (depending on your choice of configuration). So the reason for the error is that you can&#39;t have ambiguous beans, which you have two `ResourceConfig` beans. So Spring doesn&#39;t know which one to inject.\r\n\r\nWhat you _can_ do though, is use two different servlets for each `ResourceConfig`. The problem is that Spring Boot only hooks you up with one servlet for Jersey, so you need to configure the other one yourself. There are two options:\r\n\r\n1. Use the Spring Boot auto-configuration for one of the Jersey applications, and add another `ServletRegistrationBean` for your other one. The one thing to note is that the `ResourceConfig` for your created `ServletRegistrationBean` should not be a Spring component (i.e. no `@Component` or `@Configuration`), or else you will still face the same error.\r\n\r\n        public class PublicConfig extends ResourceConfig {\r\n            public PublicConfig() {\r\n                register(PingResource.class);\r\n            }\r\n        }\r\n        ...\r\n        // in your Spring Boot configuration class\r\n        @Bean\r\n\t    public ServletRegistrationBean publicJersey() {\r\n\t\t    ServletRegistrationBean publicJersey \r\n\t\t\t    \t= new ServletRegistrationBean(new ServletContainer(new PublicConfig()));\r\n\t\t    publicJersey.addUrlMappings(&quot;/rest/public/*&quot;);\r\n\t\t    publicJersey.setName(&quot;PublicJersey&quot;);\r\n\t\t    publicJersey.setLoadOnStartup(0);\r\n\t\t    return publicJersey;\r\n\t    }\r\n\r\n2. Don&#39;t use the Spring Boot configuration at all. Just create two `ServletRegistrationBean`s. In this case, none of your `ResourceConfig` classes should be Spring beans. \r\n\r\n\t    @Bean\r\n\t    public ServletRegistrationBean publicJersey() {\r\n\t\t    ServletRegistrationBean publicJersey \r\n\t\t\t\t    = new ServletRegistrationBean(new ServletContainer(new PublicConfig()));\r\n\t\t    publicJersey.addUrlMappings(&quot;/rest/public/*&quot;);\r\n\t\t    publicJersey.setName(&quot;PublicJersey&quot;);\r\n\t\t    publicJersey.setLoadOnStartup(0);\r\n\t\t    return publicJersey;\r\n\t    }\r\n\t\r\n\t    @Bean\r\n\t    public ServletRegistrationBean privateJersey() {\r\n\t\t    ServletRegistrationBean privateJersey \r\n\t\t\t\t   = new ServletRegistrationBean(new ServletContainer(new PrivateConfig()));\r\n\t\t    privateJersey.addUrlMappings(&quot;/rest/private/*&quot;);\r\n\t\t    privateJersey.setName(&quot;PrivateJersey&quot;);\r\n\t\t    privateJersey.setLoadOnStartup(1);\r\n\t\t    return privateJersey;\r\n\t    }\r\n\r\nPersonally, I prefer the second option, as it is easier to reason about the configurations when they are all in one place.\r\n\r\nAnother thing to note is that the two Jersey applications will be completely independent, meaning you will need to register providers (like filters) for both applications\r\n\r\n[1]: https://github.com/spring-projects/spring-boot/blob/7ed64f0677709e460fbcbc19539487d8f7e59965/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jersey/JerseyAutoConfiguration.java#L145","title":"Use different paths for public and private resources Jersey + Spring boot","body":"<p>In a servlet container, the Jersey runtime, runs as either a servlet or as a servlet filter. How spring boot configures servlets and filters is through <code>ServletRegistrationBean</code>s and <code>FilterRegistrationBeans</code>, respectively. To get an idea of how that configuration works behind scenes, you can look at the source code for the <a href=\"https://github.com/spring-projects/spring-boot/blob/7ed64f0677709e460fbcbc19539487d8f7e59965/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jersey/JerseyAutoConfiguration.java#L145\" rel=\"nofollow noreferrer\"><code>JerseyAutoConfiguration</code></a></p>\n<p>In the <code>JerseyAutoConfiguration</code>, you can see that a <code>ResourceConfig</code> is injected, and that is the <code>ResourceConfig</code> used to create the Jersey servlet or Jersey filter (depending on your choice of configuration). So the reason for the error is that you can't have ambiguous beans, which you have two <code>ResourceConfig</code> beans. So Spring doesn't know which one to inject.</p>\n<p>What you <em>can</em> do though, is use two different servlets for each <code>ResourceConfig</code>. The problem is that Spring Boot only hooks you up with one servlet for Jersey, so you need to configure the other one yourself. There are two options:</p>\n<ol>\n<li><p>Use the Spring Boot auto-configuration for one of the Jersey applications, and add another <code>ServletRegistrationBean</code> for your other one. The one thing to note is that the <code>ResourceConfig</code> for your created <code>ServletRegistrationBean</code> should not be a Spring component (i.e. no <code>@Component</code> or <code>@Configuration</code>), or else you will still face the same error.</p>\n<pre><code> public class PublicConfig extends ResourceConfig {\n     public PublicConfig() {\n         register(PingResource.class);\n     }\n }\n ...\n // in your Spring Boot configuration class\n @Bean\n public ServletRegistrationBean publicJersey() {\n     ServletRegistrationBean publicJersey \n             = new ServletRegistrationBean(new ServletContainer(new PublicConfig()));\n     publicJersey.addUrlMappings(&quot;/rest/public/*&quot;);\n     publicJersey.setName(&quot;PublicJersey&quot;);\n     publicJersey.setLoadOnStartup(0);\n     return publicJersey;\n }\n</code></pre>\n</li>\n<li><p>Don't use the Spring Boot configuration at all. Just create two <code>ServletRegistrationBean</code>s. In this case, none of your <code>ResourceConfig</code> classes should be Spring beans.</p>\n<pre><code> @Bean\n public ServletRegistrationBean publicJersey() {\n     ServletRegistrationBean publicJersey \n             = new ServletRegistrationBean(new ServletContainer(new PublicConfig()));\n     publicJersey.addUrlMappings(&quot;/rest/public/*&quot;);\n     publicJersey.setName(&quot;PublicJersey&quot;);\n     publicJersey.setLoadOnStartup(0);\n     return publicJersey;\n }\n\n @Bean\n public ServletRegistrationBean privateJersey() {\n     ServletRegistrationBean privateJersey \n            = new ServletRegistrationBean(new ServletContainer(new PrivateConfig()));\n     privateJersey.addUrlMappings(&quot;/rest/private/*&quot;);\n     privateJersey.setName(&quot;PrivateJersey&quot;);\n     privateJersey.setLoadOnStartup(1);\n     return privateJersey;\n }\n</code></pre>\n</li>\n</ol>\n<p>Personally, I prefer the second option, as it is easier to reason about the configurations when they are all in one place.</p>\n<p>Another thing to note is that the two Jersey applications will be completely independent, meaning you will need to register providers (like filters) for both applications</p>\n"}],"owner":{"account_id":6064783,"reputation":1354,"user_id":4735477,"accept_rate":65,"display_name":"Alejandro Agapito Bautista"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5591,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1651498408,"creation_date":1454609359,"question_id":35208439,"body_markdown":"I&#39;m using Spring boot + Jersey + Spring security, I want to have public and private endpoints, I want an schema as follow:\r\n\r\n - **/rest** -- My root context \r\n - **/public** -- I want to place my public endpoints in this context, It must be inside of the root context like `/rest/public/pings`\r\n - **/private** -- I want to place my private endpoints in this context, It must be inside of the root context like `/rest/private/accounts`\r\n\r\nI have my configuration as follow:\r\n\r\n**Jersey** configuration:\r\n\r\n    @Configuration\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class RestConfig extends ResourceConfig {\r\n    \tpublic RestConfig() {\r\n    \t\tregister(SampleResource.class);\r\n    \t}\r\n    }\r\n\r\n**Spring security** configuration:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    ........\r\n    \r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/rest/public/**&quot;).permitAll();\r\n    \t\thttp.antMatcher(&quot;/rest/**&quot;).authorizeRequests().anyRequest().fullyAuthenticated().and().httpBasic();\r\n    \t\thttp.csrf().disable();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe question is how can I register two application paths inside of my /rest context, one for /public and the other one for /private ?\r\n\r\nNOTE: I tried to create another ResourceConfig as follow:\r\n\r\n    @Configuration\r\n    @ApplicationPath(&quot;/rest/public&quot;)\r\n    public class RestPublicConfig extends ResourceConfig{\r\n    \tpublic RestPublicConfig() {\r\n    \t\tregister(PingResource.class);\r\n    \t}\r\n    }\r\n\r\nBut I&#39;m getting the next error:\r\n\r\n     No qualifying bean of type [org.glassfish.jersey.server.ResourceConfig] is defined: expected single matching bean but found 2: restConfig,restPublicConfig\r\n\r\n\r\nThanks for your help :)\r\n\r\n","title":"Use different paths for public and private resources Jersey + Spring boot","body":"<p>I'm using Spring boot + Jersey + Spring security, I want to have public and private endpoints, I want an schema as follow:</p>\n\n<ul>\n<li><strong>/rest</strong> -- My root context </li>\n<li><strong>/public</strong> -- I want to place my public endpoints in this context, It must be inside of the root context like <code>/rest/public/pings</code></li>\n<li><strong>/private</strong> -- I want to place my private endpoints in this context, It must be inside of the root context like <code>/rest/private/accounts</code></li>\n</ul>\n\n<p>I have my configuration as follow:</p>\n\n<p><strong>Jersey</strong> configuration:</p>\n\n<pre><code>@Configuration\n@ApplicationPath(\"/rest\")\npublic class RestConfig extends ResourceConfig {\n    public RestConfig() {\n        register(SampleResource.class);\n    }\n}\n</code></pre>\n\n<p><strong>Spring security</strong> configuration:</p>\n\n<pre><code>@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n........\n\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().antMatchers(\"/rest/public/**\").permitAll();\n        http.antMatcher(\"/rest/**\").authorizeRequests().anyRequest().fullyAuthenticated().and().httpBasic();\n        http.csrf().disable();\n    }\n\n}\n</code></pre>\n\n<p>The question is how can I register two application paths inside of my /rest context, one for /public and the other one for /private ?</p>\n\n<p>NOTE: I tried to create another ResourceConfig as follow:</p>\n\n<pre><code>@Configuration\n@ApplicationPath(\"/rest/public\")\npublic class RestPublicConfig extends ResourceConfig{\n    public RestPublicConfig() {\n        register(PingResource.class);\n    }\n}\n</code></pre>\n\n<p>But I'm getting the next error:</p>\n\n<pre><code> No qualifying bean of type [org.glassfish.jersey.server.ResourceConfig] is defined: expected single matching bean but found 2: restConfig,restPublicConfig\n</code></pre>\n\n<p>Thanks for your help :)</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":17554312,"reputation":51,"user_id":12734089,"display_name":"Skilled_Teaser"},"score":0,"creation_date":1651440514,"post_id":72080242,"comment_id":127360429,"body_markdown":"Try `@Repository` annotation in UserDAO interface and `@Service` in your service class","body":"Try <code>@Repository</code> annotation in UserDAO interface and <code>@Service</code> in your service class"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651494725,"creation_date":1651494725,"answer_id":72086756,"question_id":72080242,"body_markdown":"Try to use the annotations on the getter, not the fields.","title":"Why JpaRepository&lt;User, Long&gt; returns null value","body":"<p>Try to use the annotations on the getter, not the fields.</p>\n"},{"tags":[],"owner":{"account_id":25171650,"reputation":18,"user_id":19014404,"display_name":"EffectiveIvana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651497839,"creation_date":1651497839,"answer_id":72087366,"question_id":72080242,"body_markdown":"You need to follow JavaBean specification for entity(you need to have default contrucor and getters and setters in User and Role)","title":"Why JpaRepository&lt;User, Long&gt; returns null value","body":"<p>You need to follow JavaBean specification for entity(you need to have default contrucor and getters and setters in User and Role)</p>\n"}],"owner":{"account_id":21170558,"reputation":53,"user_id":15602766,"display_name":"kqlqk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72087366,"answer_count":2,"score":0,"last_activity_date":1651497839,"creation_date":1651437438,"question_id":72080242,"body_markdown":"I have a Spring Boot project, in which I have problem with `JpaRepository&lt;User,Long&gt;`.\r\n\r\nI defined following interface\r\n```\r\npublic interface UserDAO extends JpaRepository&lt;User, Long&gt; {\r\n    User findByEmail(String email);\r\n}\r\n```\r\nwhich was implemented in `UserServiceImpl`\r\n```\r\n@Override\r\npublic User findByEmail(String email) {\r\n    return userDAO.findByEmail(email);\r\n}\r\n```\r\nand I need it in `UserDetailsServiceImpl` but next line\r\n```\r\nUser user = userDAO.findByEmail(email);\r\n```\r\nreturns null.\r\n\r\nMy model classes:\r\n\r\nUser\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;login&quot;)\r\n    private String login;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;user_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles;\r\n\r\n    @Transient\r\n    private String confirmPassword;\r\n    //getters-setters\r\n\r\n}\r\n```\r\n\r\nRole\r\n```\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users;\r\n\r\n```\r\nWhat can I do?","title":"Why JpaRepository&lt;User, Long&gt; returns null value","body":"<p>I have a Spring Boot project, in which I have problem with <code>JpaRepository&lt;User,Long&gt;</code>.</p>\n<p>I defined following interface</p>\n<pre><code>public interface UserDAO extends JpaRepository&lt;User, Long&gt; {\n    User findByEmail(String email);\n}\n</code></pre>\n<p>which was implemented in <code>UserServiceImpl</code></p>\n<pre><code>@Override\npublic User findByEmail(String email) {\n    return userDAO.findByEmail(email);\n}\n</code></pre>\n<p>and I need it in <code>UserDetailsServiceImpl</code> but next line</p>\n<pre><code>User user = userDAO.findByEmail(email);\n</code></pre>\n<p>returns null.</p>\n<p>My model classes:</p>\n<p>User</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;login&quot;)\n    private String login;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @ManyToMany\n    @JoinTable(name = &quot;user_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles;\n\n    @Transient\n    private String confirmPassword;\n    //getters-setters\n\n}\n</code></pre>\n<p>Role</p>\n<pre><code>@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    private Set&lt;User&gt; users;\n\n</code></pre>\n<p>What can I do?</p>\n"},{"tags":["java","algorithm","tree","insert","binary-search-tree"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1651333170,"post_id":72069468,"comment_id":127342296,"body_markdown":"Can you show your BTNode class? and how BSTClass, Test and BTNode are organized?","body":"Can you show your BTNode class? and how BSTClass, Test and BTNode are organized?"}],"answers":[{"tags":[],"owner":{"account_id":7478323,"reputation":175,"user_id":5683970,"display_name":"Jordi Alvarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651497838,"creation_date":1651497838,"answer_id":72087365,"question_id":72069468,"body_markdown":"Looking at the code you post and the error, as n and p are instances of BTNode, it seems that the class BTNode has no attribute named key, or that attribute is not visible/accessible from class BST.\r\n\r\nCan you review that or provide also the source code of BTNode?\r\n","title":"Binary Search Tree Insert cannot find symbol Error","body":"<p>Looking at the code you post and the error, as n and p are instances of BTNode, it seems that the class BTNode has no attribute named key, or that attribute is not visible/accessible from class BST.</p>\n<p>Can you review that or provide also the source code of BTNode?</p>\n"}],"owner":{"account_id":19820425,"reputation":11,"user_id":14517133,"display_name":"Mong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651497838,"creation_date":1651329848,"question_id":72069468,"body_markdown":"I am making a program that inserts characters to a binary tree. I used other source codes as reference but I keep encountering the error that it cannot find symbol &#39;key&#39; even if it exists. I am also not quite sure with the algorithm of my program so if you have any suggestions it would be greatly appreciated. \r\n\r\n**Error:**\r\n``` \r\n.\\BST.java:28: error: cannot find symbol\r\n\t\t\tif (key &lt; n.key) //** error\r\n\t\t\t           ^\r\n  symbol:   variable key\r\n  location: variable n of type BTNode&lt;T&gt;\r\n  where T is a type-variable:\r\n    T extends Object declared in class BST\r\n.\\BST.java:40: error: cannot find symbol\r\n\t\tif (key &lt; p.key) //** error\r\n\t\t           ^\r\n  symbol:   variable key\r\n  location: variable p of type BTNode&lt;T&gt;\r\n  where T is a type-variable:\r\n    T extends Object declared in class BST\r\n``` \r\n\r\n**Here is my Main Class**\r\n```\r\npublic class Test \r\n{\r\n\tpublic static void main(String args[]) \r\n\t{\r\n\t\tBST&lt;Character&gt; bst = new BST&lt;&gt;(); // instantiate BST object\r\n\t\t\r\n\t\t// insert values to bst\r\n\t\tbst.insert(&#39;A&#39;);\r\n\t\tbst.insert(&#39;B&#39;);\r\n\t\tbst.insert(&#39;C&#39;);\r\n\t\tbst.insert(&#39;D&#39;);\r\n\t\tbst.insert(&#39;E&#39;);\r\n\t\tbst.insert(&#39;F&#39;);\r\n\t\t\r\n\t\t// print bst\r\n\t\tbst.toString();\r\n\t}\r\n}\r\n```\r\n\r\n**and my BST class**\r\n```\r\npublic class BST&lt;T&gt; extends BT&lt;T&gt;\r\n{\r\n\tpublic void insert(char key) \r\n\t{\r\n\t\tint level = 0;\r\n\t\t\r\n\t\tif (root == null)\r\n\t\t{\r\n\t\t\troot = new BTNode(key);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tBTNode&lt;T&gt; n = root;\r\n\t\tBTNode&lt;T&gt; p = null;\r\n\t\t\r\n\t\twhile (n != null) \r\n\t\t{\r\n\t\t\tp = n;\r\n\t\t\t\r\n\t\t\tif (key &lt; n.key) //** error\r\n\t\t\t{\r\n\t\t\t\tn = n.left;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tn = n.right;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlevel++;\r\n\t\t}\r\n\t\t\r\n\t\tif (key &lt; p.key) //** error\r\n\t\t{\r\n\t\t\tp.left = new BTNode(key);\r\n\t\t\theight = level + 1;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tp.right = new BTNode(key);\r\n\t\t\theight = level + 1;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nHope you can help me out with this. Thanks!\r\n","title":"Binary Search Tree Insert cannot find symbol Error","body":"<p>I am making a program that inserts characters to a binary tree. I used other source codes as reference but I keep encountering the error that it cannot find symbol 'key' even if it exists. I am also not quite sure with the algorithm of my program so if you have any suggestions it would be greatly appreciated.</p>\n<p><strong>Error:</strong></p>\n<pre><code>.\\BST.java:28: error: cannot find symbol\n            if (key &lt; n.key) //** error\n                       ^\n  symbol:   variable key\n  location: variable n of type BTNode&lt;T&gt;\n  where T is a type-variable:\n    T extends Object declared in class BST\n.\\BST.java:40: error: cannot find symbol\n        if (key &lt; p.key) //** error\n                   ^\n  symbol:   variable key\n  location: variable p of type BTNode&lt;T&gt;\n  where T is a type-variable:\n    T extends Object declared in class BST\n</code></pre>\n<p><strong>Here is my Main Class</strong></p>\n<pre><code>public class Test \n{\n    public static void main(String args[]) \n    {\n        BST&lt;Character&gt; bst = new BST&lt;&gt;(); // instantiate BST object\n        \n        // insert values to bst\n        bst.insert('A');\n        bst.insert('B');\n        bst.insert('C');\n        bst.insert('D');\n        bst.insert('E');\n        bst.insert('F');\n        \n        // print bst\n        bst.toString();\n    }\n}\n</code></pre>\n<p><strong>and my BST class</strong></p>\n<pre><code>public class BST&lt;T&gt; extends BT&lt;T&gt;\n{\n    public void insert(char key) \n    {\n        int level = 0;\n        \n        if (root == null)\n        {\n            root = new BTNode(key);\n            return;\n        }\n        \n        BTNode&lt;T&gt; n = root;\n        BTNode&lt;T&gt; p = null;\n        \n        while (n != null) \n        {\n            p = n;\n            \n            if (key &lt; n.key) //** error\n            {\n                n = n.left;\n            }\n            else\n            {\n                n = n.right;\n            }\n            \n            level++;\n        }\n        \n        if (key &lt; p.key) //** error\n        {\n            p.left = new BTNode(key);\n            height = level + 1;\n        }\n        else\n        {\n            p.right = new BTNode(key);\n            height = level + 1;\n        }\n    }\n}\n</code></pre>\n<p>Hope you can help me out with this. Thanks!</p>\n"},{"tags":["java","compiler-errors","linked-list"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1651497421,"post_id":72087241,"comment_id":127371571,"body_markdown":"Please be a tiny bit more specific than &quot; it always send &quot;end file parsing error&quot;&quot;. [Edit] your question to include the full error message that you get. Also: correcting your indentation (or better yet: letting your IDE do that) would make the code more readable and will *likely* also make the problem more obvious (which I suspect is unmatched braces).","body":"Please be a tiny bit more specific than &quot; it always send &quot;end file parsing error&quot;&quot;. <a href=\"https://stackoverflow.com/posts/72087241/edit\">Edit</a> your question to include the full error message that you get. Also: correcting your indentation (or better yet: letting your IDE do that) would make the code more readable and will <i>likely</i> also make the problem more obvious (which I suspect is unmatched braces)."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1651497565,"post_id":72087241,"comment_id":127371624,"body_markdown":"Please properly format and indent your code. The most likely cause for the error is that your curly braces are not properly paired, but in the code&#39;s current form it&#39;s very difficult to check if that&#39;s the case.","body":"Please properly format and indent your code. The most likely cause for the error is that your curly braces are not properly paired, but in the code&#39;s current form it&#39;s very difficult to check if that&#39;s the case."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651497547,"creation_date":1651497547,"answer_id":72087319,"question_id":72087241,"body_markdown":"You&#39;ve got syntax errors in your code. I hope you have an IDE that has formatting and error reporting abilities. If not, address that first.\r\n\r\nThis error occurs when your code has more opening braces than closing ones, for example. Assuming you copy/pasted correctly: Your `LinkedList` class is missing its closing brace.","title":"End file parsing (Java)","body":"<p>You've got syntax errors in your code. I hope you have an IDE that has formatting and error reporting abilities. If not, address that first.</p>\n<p>This error occurs when your code has more opening braces than closing ones, for example. Assuming you copy/pasted correctly: Your <code>LinkedList</code> class is missing its closing brace.</p>\n"}],"owner":{"account_id":21344783,"reputation":35,"user_id":15714952,"display_name":"AlksAndTrsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651497755,"creation_date":1651497117,"question_id":72087241,"body_markdown":"I&#39;m wondering where the error is in this situation.\r\n\r\nAs you can see below there are several classes that have been implemented but when I started to run it always send &quot;end file parsing error&quot;\r\n\r\n    class Provider {\r\n        int ID;\r\n        String name;\r\n        String typeOfItems;\r\n        public Provider(int i, String n, String items) {\r\n            ID = i;\r\n            name = n;\r\n            typeOfItems = items;\r\n        }\r\n        public void printProvider() {\r\n            System.out.print(&quot;The provider ID is &quot; + ID\r\n                  + &quot;the cliend name is&quot; + name + &quot;the type of items he is selling is &quot;\r\n                  + typeOfItems);\r\n        }\r\n    }\r\n    class LinkedList {\r\n        Node head;\r\n        class Node {\r\n            Provider data;\r\n            Node next;\r\n            Node(Provider d) {\r\n                data = d;\r\n                next = null;\r\n            }\r\n        }\r\n    \r\n        public void push(Provider new_data) {\r\n    \r\n            Node new_node = new Node(new_data);\r\n    \r\n            new_node.next = head;\r\n    \r\n            head = new_node;\r\n        }\r\n        /* Inserts a new node after the given prev_node. */\r\n        public void insertAfter(Node prev_node, Provider new_data) {\r\n            /* 1. Check if the given Node is null */\r\n            if (prev_node == null) {\r\n                System.out.println(&quot;The given previous node cannot be null&quot;);\r\n                return;\r\n            }\r\n    \r\n            Node new_node = new Node(new_data);\r\n    \r\n            new_node.next = prev_node.next;\r\n    \r\n            prev_node.next = new_node;\r\n        }\r\n    \r\n        /* Appends a new node at the end. This method is\r\n        defined inside LinkedList class shown above */\r\n        public void append(Provider new_data) {\r\n    \r\n            Node new_node = new Node(new_data);\r\n    \r\n            new_node.next = null;\r\n    \r\n            Node last = head;\r\n            while (last.next != null)\r\n                last = last.next;\r\n            last.next = new_node;\r\n            return;\r\n        }\r\n        public void printList() {\r\n            Node tnode = head;\r\n            while (tnode != null) {\r\n                tnode.data.printProvider();\r\n                tnode = tnode.next;\r\n            }\r\n        }\r\n        void deleteNode(int id) {\r\n    \r\n            Node temp = head, prev = null;\r\n    \r\n            if (temp != null &amp;&amp; temp.data.ID == id) {\r\n                head = temp.next;\r\n                return;\r\n            }\r\n            while (temp != null) {\r\n                prev = temp;\r\n                temp = temp.next;\r\n            }\r\n    \r\n            if (temp == null)\r\n                return;\r\n            prev.next = temp.next;\r\n        }\r\n    \r\n        public class Main {\r\n            public static void main(String[] args) {\r\n    \r\n                LinkedList providerList = new LinkedList();\r\n    \r\n                Provider P1 = new Provider(1, &quot;Rabeb&quot;, &quot;Books&quot;);\r\n            }\r\n        }","title":"End file parsing (Java)","body":"<p>I'm wondering where the error is in this situation.</p>\n<p>As you can see below there are several classes that have been implemented but when I started to run it always send &quot;end file parsing error&quot;</p>\n<pre><code>class Provider {\n    int ID;\n    String name;\n    String typeOfItems;\n    public Provider(int i, String n, String items) {\n        ID = i;\n        name = n;\n        typeOfItems = items;\n    }\n    public void printProvider() {\n        System.out.print(&quot;The provider ID is &quot; + ID\n              + &quot;the cliend name is&quot; + name + &quot;the type of items he is selling is &quot;\n              + typeOfItems);\n    }\n}\nclass LinkedList {\n    Node head;\n    class Node {\n        Provider data;\n        Node next;\n        Node(Provider d) {\n            data = d;\n            next = null;\n        }\n    }\n\n    public void push(Provider new_data) {\n\n        Node new_node = new Node(new_data);\n\n        new_node.next = head;\n\n        head = new_node;\n    }\n    /* Inserts a new node after the given prev_node. */\n    public void insertAfter(Node prev_node, Provider new_data) {\n        /* 1. Check if the given Node is null */\n        if (prev_node == null) {\n            System.out.println(&quot;The given previous node cannot be null&quot;);\n            return;\n        }\n\n        Node new_node = new Node(new_data);\n\n        new_node.next = prev_node.next;\n\n        prev_node.next = new_node;\n    }\n\n    /* Appends a new node at the end. This method is\n    defined inside LinkedList class shown above */\n    public void append(Provider new_data) {\n\n        Node new_node = new Node(new_data);\n\n        new_node.next = null;\n\n        Node last = head;\n        while (last.next != null)\n            last = last.next;\n        last.next = new_node;\n        return;\n    }\n    public void printList() {\n        Node tnode = head;\n        while (tnode != null) {\n            tnode.data.printProvider();\n            tnode = tnode.next;\n        }\n    }\n    void deleteNode(int id) {\n\n        Node temp = head, prev = null;\n\n        if (temp != null &amp;&amp; temp.data.ID == id) {\n            head = temp.next;\n            return;\n        }\n        while (temp != null) {\n            prev = temp;\n            temp = temp.next;\n        }\n\n        if (temp == null)\n            return;\n        prev.next = temp.next;\n    }\n\n    public class Main {\n        public static void main(String[] args) {\n\n            LinkedList providerList = new LinkedList();\n\n            Provider P1 = new Provider(1, &quot;Rabeb&quot;, &quot;Books&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1651504117,"post_id":72084399,"comment_id":127374117,"body_markdown":"I recommend you donâ€™t use `SimpleDateFormat`. That class is notoriously troublesome and long outdated. Instead use classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you donâ€™t use <code>SimpleDateFormat</code>. That class is notoriously troublesome and long outdated. Instead use classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":12006145,"reputation":19,"user_id":8784444,"display_name":"B. Johansson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651483792,"creation_date":1651483792,"answer_id":72084786,"question_id":72084399,"body_markdown":"You need to specify the `TimeZone` your `SimpleDateFormat` object uses with `setTimeZone(TimeZone.UTC)`.","title":"Get absolute time using result of System.currentTimeMillis in android","body":"<p>You need to specify the <code>TimeZone</code> your <code>SimpleDateFormat</code> object uses with <code>setTimeZone(TimeZone.UTC)</code>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651497573,"creation_date":1651494448,"answer_id":72086705,"question_id":72084399,"body_markdown":"# tl;dr\r\n\r\nYou seem to not care about fractional second, so use a count of whole seconds since the epoch reference of 1970-01-01T00:00Z.\r\n\r\n    Instant\r\n    .now()\r\n    .getEpochSecond()\r\n\r\nGenerate text. \r\n\r\n    Instant\r\n    .ofEpochSecond(\r\n        mySavedCountOfSecondsFromEpoch\r\n    )  // Returns an `Instant`.\r\n    .atOffset( \r\n        ZoneOffset.UTC \r\n    ) // Returns an `OffsetDateTime`.\r\n    .format(\r\n        DateTimeFormatter\r\n        .ofPattern( &quot;uuuuMMddHHmmss&quot; )\r\n    )  // Returns a `String`. \r\n\r\n&gt;20220501123456\r\n\r\n# Avoid legacy classes\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes. \r\n\r\nAndroid 26+ includes an implementation. For earlier Android, the latest tooling brings most of the functionality via â€œAPI desugaringâ€. \r\n\r\n# `Instant`\r\n\r\nThe call to `System.currentTimeMillis()` can be replaced with `Instant.now().toEpochMilli()`. \r\n\r\nParse the count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC. \r\n\r\n    Instant instant = Instant.ofEpochMilli( myMillis ) ;\r\n\r\n# `OffsetDateTime`\r\n\r\nFor more flexible generating of text, convert from the basic building-block `Instant` class to `OffsetDateTime`. \r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n\r\n# `DateTimeFormatter`\r\n\r\nDefine a formatting pattern. \r\n\r\nBe aware that your desired format involves data loss, by lopping off the fractional second. \r\n\r\nNo need for the locale you passed. In your desired format nothing needs localization. \r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuuMMddHHmmss&quot; ) ;\r\n\r\nGenerate text. \r\n\r\n    String output = odt.format( f ) ;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"Get absolute time using result of System.currentTimeMillis in android","body":"<h1>tl;dr</h1>\n<p>You seem to not care about fractional second, so use a count of whole seconds since the epoch reference of 1970-01-01T00:00Z.</p>\n<pre><code>Instant\n.now()\n.getEpochSecond()\n</code></pre>\n<p>Generate text.</p>\n<pre><code>Instant\n.ofEpochSecond(\n    mySavedCountOfSecondsFromEpoch\n)  // Returns an `Instant`.\n.atOffset( \n    ZoneOffset.UTC \n) // Returns an `OffsetDateTime`.\n.format(\n    DateTimeFormatter\n    .ofPattern( &quot;uuuuMMddHHmmss&quot; )\n)  // Returns a `String`. \n</code></pre>\n<blockquote>\n<p>20220501123456</p>\n</blockquote>\n<h1>Avoid legacy classes</h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes.</p>\n<p>Android 26+ includes an implementation. For earlier Android, the latest tooling brings most of the functionality via â€œAPI desugaringâ€.</p>\n<h1><code>Instant</code></h1>\n<p>The call to <code>System.currentTimeMillis()</code> can be replaced with <code>Instant.now().toEpochMilli()</code>.</p>\n<p>Parse the count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC.</p>\n<pre><code>Instant instant = Instant.ofEpochMilli( myMillis ) ;\n</code></pre>\n<h1><code>OffsetDateTime</code></h1>\n<p>For more flexible generating of text, convert from the basic building-block <code>Instant</code> class to <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\n</code></pre>\n<h1><code>DateTimeFormatter</code></h1>\n<p>Define a formatting pattern.</p>\n<p>Be aware that your desired format involves data loss, by lopping off the fractional second.</p>\n<p>No need for the locale you passed. In your desired format nothing needs localization.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;uuuuMMddHHmmss&quot; ) ;\n</code></pre>\n<p>Generate text.</p>\n<pre><code>String output = odt.format( f ) ;\n</code></pre>\n"}],"owner":{"account_id":21778386,"reputation":3,"user_id":16080413,"display_name":"DevJaewoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086705,"answer_count":2,"score":0,"last_activity_date":1651497573,"creation_date":1651481654,"question_id":72084399,"body_markdown":"I defined BuildConfig field to use as app version.\r\n```groovy\r\nbuildConfigField &quot;long&quot;, &quot;BUILDTIME&quot;, System.currentTimeMillis() + &quot;L&quot;\r\n```\r\n\r\nAnd I can get that value properly in my MainActivity.\r\n```kotlin\r\nbinding.buttonTest.text = &quot;Build Version is: &quot; + SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.KOREA)\r\n                               .format(BuildConfig.BUILDTIME)\r\n```\r\n\r\nBut when testing my app on test phone and AVD which has different time zone,  \r\nthe string that SimpleDateFormat returns are not same.  \r\n\r\n-- RESULT --  \r\nTest phone: Build Version is: 20220502172527  \r\nAVD: Build Version is: 20220502082738\r\n\r\nI think it&#39;s because SimpleDateFormat gives relative time, not absolute time.  \r\nHow can I get absolute time in android with result of System.currentTimeMillis()?  \r\nThanks.\r\n\r\nNote: I don&#39;t want to use Date(), because all of it&#39;s get methods are deprecated.","title":"Get absolute time using result of System.currentTimeMillis in android","body":"<p>I defined BuildConfig field to use as app version.</p>\n<pre><code>buildConfigField &quot;long&quot;, &quot;BUILDTIME&quot;, System.currentTimeMillis() + &quot;L&quot;\n</code></pre>\n<p>And I can get that value properly in my MainActivity.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>binding.buttonTest.text = &quot;Build Version is: &quot; + SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.KOREA)\n                               .format(BuildConfig.BUILDTIME)\n</code></pre>\n<p>But when testing my app on test phone and AVD which has different time zone,<br />\nthe string that SimpleDateFormat returns are not same.</p>\n<p>-- RESULT --<br />\nTest phone: Build Version is: 20220502172527<br />\nAVD: Build Version is: 20220502082738</p>\n<p>I think it's because SimpleDateFormat gives relative time, not absolute time.<br />\nHow can I get absolute time in android with result of System.currentTimeMillis()?<br />\nThanks.</p>\n<p>Note: I don't want to use Date(), because all of it's get methods are deprecated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651496662,"creation_date":1651493243,"answer_id":72086463,"question_id":72086415,"body_markdown":"You should use `nextLine()` rather than `next()` for the behavior you&#39;re trying to achieve.\r\n\r\nAs the [documentation][1] states: \r\n&gt; A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace.\r\n\r\n&gt;`next()`: Finds and returns the next complete token from this scanner.\r\n\r\n&gt;`nextLine()`: Advances this scanner past the current line and returns the input that was skipped.\r\n\r\nThe `next()` method interrupts its read once it encounters a white space, for example: a tab (\\t), a line feed (\\n), a carriage return (\\r) or a proper space (there are also other characters which fall into the [white space][2] definition). When you keep typing a space or a new line at the beginning of your input while your `Scanner` is expecting something with a `next()` call, your `Scanner` instance will simply ignore it as &quot;nothing&quot; has been typed yet (nothing but a separator, which is not included in the returned value).\r\n\r\nOn the other hand, when you&#39;re invoking the `nextLine()` method, this one returns the current line, or the rest of the current line depending on where the internal `Scanner`s cursor was left, excluding any line separator at the end. So, every time you&#39;re typing enter when a `nextLine()` is expecting an input, this will return an empty `String` as opposed to the `next()` method, which would block until some proper input and a separator have been entered.\r\n\r\nHere is the tweaked version of your code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    String name = &quot;&quot;;\r\n    while (name.isBlank()) {\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        name = scan.nextLine();\r\n    }\r\n    System.out.println(&quot;Hello &quot; + name + &quot;!&quot;);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n  [2]: https://en.wikipedia.org/wiki/Whitespace_character","title":"While loop is not working as expected. Everything seems to be correct. How do I fix this problem?","body":"<p>You should use <code>nextLine()</code> rather than <code>next()</code> for the behavior you're trying to achieve.</p>\n<p>As the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<blockquote>\n<p>A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace.</p>\n</blockquote>\n<blockquote>\n<p><code>next()</code>: Finds and returns the next complete token from this scanner.</p>\n</blockquote>\n<blockquote>\n<p><code>nextLine()</code>: Advances this scanner past the current line and returns the input that was skipped.</p>\n</blockquote>\n<p>The <code>next()</code> method interrupts its read once it encounters a white space, for example: a tab (\\t), a line feed (\\n), a carriage return (\\r) or a proper space (there are also other characters which fall into the <a href=\"https://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">white space</a> definition). When you keep typing a space or a new line at the beginning of your input while your <code>Scanner</code> is expecting something with a <code>next()</code> call, your <code>Scanner</code> instance will simply ignore it as &quot;nothing&quot; has been typed yet (nothing but a separator, which is not included in the returned value).</p>\n<p>On the other hand, when you're invoking the <code>nextLine()</code> method, this one returns the current line, or the rest of the current line depending on where the internal <code>Scanner</code>s cursor was left, excluding any line separator at the end. So, every time you're typing enter when a <code>nextLine()</code> is expecting an input, this will return an empty <code>String</code> as opposed to the <code>next()</code> method, which would block until some proper input and a separator have been entered.</p>\n<p>Here is the tweaked version of your code:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    String name = &quot;&quot;;\n    while (name.isBlank()) {\n        System.out.print(&quot;Enter your name: &quot;);\n        name = scan.nextLine();\n    }\n    System.out.println(&quot;Hello &quot; + name + &quot;!&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21626683,"reputation":1061,"user_id":15950932,"display_name":"Ankit Kumar Maurya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651496840,"creation_date":1651496840,"answer_id":72087186,"question_id":72086415,"body_markdown":"In your code you have used ```next()``` method to take the user input. Actually ```next()``` is used when you do not want the input string to be empty. So, if you are pressing enter before entering something non-empty, ```next()``` is expecting any non-empty string(waiting for the non-empty string) and neglecting all the whitespace characters entered before. \r\n\r\nFor your case you want to prompt after every enter if the ```name``` is empty. In this case you need to use ```nextLine()``` method instead, it will move to the next statement if the user presses enter. And then the condition inside while loop is checked.\r\n\r\nNote: ```next()``` only accepts single word while ```nextLine()``` accepts multiple words.\r\n\r\nThe correct code is what @Dan has provided in his answer.","title":"While loop is not working as expected. Everything seems to be correct. How do I fix this problem?","body":"<p>In your code you have used <code>next()</code> method to take the user input. Actually <code>next()</code> is used when you do not want the input string to be empty. So, if you are pressing enter before entering something non-empty, <code>next()</code> is expecting any non-empty string(waiting for the non-empty string) and neglecting all the whitespace characters entered before.</p>\n<p>For your case you want to prompt after every enter if the <code>name</code> is empty. In this case you need to use <code>nextLine()</code> method instead, it will move to the next statement if the user presses enter. And then the condition inside while loop is checked.</p>\n<p>Note: <code>next()</code> only accepts single word while <code>nextLine()</code> accepts multiple words.</p>\n<p>The correct code is what @Dan has provided in his answer.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651497380,"creation_date":1651497380,"answer_id":72087294,"question_id":72086415,"body_markdown":"I would like to supplement Dan&#39;s answer. The key here is what the documentation for `next()` indicates.\r\n\r\n&gt; *This method may block while waiting for input to scan*\r\n\r\nThe question is, what does this mean? It means the OP&#39;s code works the way it is supposed to.\r\n\r\n```\r\nEnter your name: \r\n[ENTER pressed]\r\n[ENTER pressed]\r\n[ENTER pressed]\r\n[ENTER pressed]\r\n[ENTER pressed]\r\nhector\r\nHello hector!\r\n```\r\nBecause there was no input when ENTER was pressed, the call to `next()` method blocks waiting for input. Once input is entered, the scanner input is consumed and the proper output is produced. Because the method is blocking, no looping occurs; thus giving the appearance that the code is frozen when it is not.","title":"While loop is not working as expected. Everything seems to be correct. How do I fix this problem?","body":"<p>I would like to supplement Dan's answer. The key here is what the documentation for <code>next()</code> indicates.</p>\n<blockquote>\n<p><em>This method may block while waiting for input to scan</em></p>\n</blockquote>\n<p>The question is, what does this mean? It means the OP's code works the way it is supposed to.</p>\n<pre><code>Enter your name: \n[ENTER pressed]\n[ENTER pressed]\n[ENTER pressed]\n[ENTER pressed]\n[ENTER pressed]\nhector\nHello hector!\n</code></pre>\n<p>Because there was no input when ENTER was pressed, the call to <code>next()</code> method blocks waiting for input. Once input is entered, the scanner input is consumed and the proper output is produced. Because the method is blocking, no looping occurs; thus giving the appearance that the code is frozen when it is not.</p>\n"}],"owner":{"account_id":23562529,"reputation":21,"user_id":17603705,"display_name":"JustSwift"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":72087294,"answer_count":3,"score":0,"last_activity_date":1651497380,"creation_date":1651493059,"question_id":72086415,"body_markdown":"So I have this program:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n       \r\n        Scanner scan = new Scanner(System.in);\r\n        String name = &quot;&quot;;\r\n        while(name.isBlank()) {\r\n            System.out.println(&quot;Enter your name: &quot;);\r\n            name = scan.next();     \r\n        }\r\n        System.out.println(&quot;Hello &quot;+ name + &quot;!&quot;);\r\n    }\r\n}\r\n```\r\nThis program is supposed to prompt the user to enter their name. And it is supposed to keep prompting them until they actually enter their name meaning that if they keep the input field blank and press enter, they will get prompted again. However, this program does not do that. Even if I press ENTER without entering my name, the program just freezes and doesn&#39;t prompt again. Please help :(.","title":"While loop is not working as expected. Everything seems to be correct. How do I fix this problem?","body":"<p>So I have this program:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n       \n        Scanner scan = new Scanner(System.in);\n        String name = &quot;&quot;;\n        while(name.isBlank()) {\n            System.out.println(&quot;Enter your name: &quot;);\n            name = scan.next();     \n        }\n        System.out.println(&quot;Hello &quot;+ name + &quot;!&quot;);\n    }\n}\n</code></pre>\n<p>This program is supposed to prompt the user to enter their name. And it is supposed to keep prompting them until they actually enter their name meaning that if they keep the input field blank and press enter, they will get prompted again. However, this program does not do that. Even if I press ENTER without entering my name, the program just freezes and doesn't prompt again. Please help :(.</p>\n"},{"tags":["java","selenium","google-api","youtube-data-api"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651497316,"creation_date":1651497316,"answer_id":72087280,"question_id":72085850,"body_markdown":"If you check the documetnation for the [videos.insert](https://developers.google.com/youtube/v3/docs/videos/insert) method you will find that it states.\r\n\r\n&gt;All videos uploaded via the videos.insert endpoint from unverified API projects created after 28 July 2020 will be restricted to private viewing mode. To lift this restriction, each API project must [undergo an audit][1] to verify compliance with the Terms of Service. Please see the API Revision History for more details.\r\n\r\nThe solution is to apply for an audit once you have gone though the audit you will be able to upload public videos.\r\n\r\n\r\n  [1]: https://support.google.com/youtube/contact/yt_api_form","title":"Ensure that video uploaded through API in youtube is public (not marked as private)","body":"<p>If you check the documetnation for the <a href=\"https://developers.google.com/youtube/v3/docs/videos/insert\" rel=\"nofollow noreferrer\">videos.insert</a> method you will find that it states.</p>\n<blockquote>\n<p>All videos uploaded via the videos.insert endpoint from unverified API projects created after 28 July 2020 will be restricted to private viewing mode. To lift this restriction, each API project must <a href=\"https://support.google.com/youtube/contact/yt_api_form\" rel=\"nofollow noreferrer\">undergo an audit</a> to verify compliance with the Terms of Service. Please see the API Revision History for more details.</p>\n</blockquote>\n<p>The solution is to apply for an audit once you have gone though the audit you will be able to upload public videos.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651497359,"creation_date":1651489899,"question_id":72085850,"body_markdown":"I have seen multiple questions from different timelines but I want to know if that&#39;s even possible now i.e. in May 2022.\r\n\r\nEverytime I upload a video in youtube using the API i.e. google-api-services and google-api-services-youtube my video is marked as private.\r\n\r\nIs there a way to upload the video as public while still using the youtube API&#39;s.\r\n\r\nI suppose a selenium script is the only solution!","title":"Ensure that video uploaded through API in youtube is public (not marked as private)","body":"<p>I have seen multiple questions from different timelines but I want to know if that's even possible now i.e. in May 2022.</p>\n<p>Everytime I upload a video in youtube using the API i.e. google-api-services and google-api-services-youtube my video is marked as private.</p>\n<p>Is there a way to upload the video as public while still using the youtube API's.</p>\n<p>I suppose a selenium script is the only solution!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651496275,"post_id":72086978,"comment_id":127371157,"body_markdown":"Please see [mcve], then [edit] your question accordingly. Include the **relevant** parts of your code, and error messages as WELL FORMATTED and INDENTED TEXT in your question.","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, then <a href=\"https://stackoverflow.com/posts/72086978/edit\">edit</a> your question accordingly. Include the <b>relevant</b> parts of your code, and error messages as WELL FORMATTED and INDENTED TEXT in your question."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651496325,"post_id":72086978,"comment_id":127371177,"body_markdown":"Remember: we only have what you give to us to help you. A lot of explanations and screen shot with almost no meaningful content ... just don&#39;t achieve that. Note that this could also be some sort of problem with your editor/IDE ... so A) include such information in your question and B) maybe try some other IDE/editor in the meantime.","body":"Remember: we only have what you give to us to help you. A lot of explanations and screen shot with almost no meaningful content ... just don&#39;t achieve that. Note that this could also be some sort of problem with your editor/IDE ... so A) include such information in your question and B) maybe try some other IDE/editor in the meantime."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651504996,"post_id":72086978,"comment_id":127374445,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25173055,"reputation":1,"user_id":19015641,"display_name":"dora tzm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651496812,"creation_date":1651496812,"answer_id":72087182,"question_id":72086978,"body_markdown":"seems its resolved. i added manually the first getter setter and then i was able to add the rest with right click insert code. moreover now the initial error disappeared.","title":"Error in java when adding attributes and trying to insert code with right click","body":"<p>seems its resolved. i added manually the first getter setter and then i was able to add the rest with right click insert code. moreover now the initial error disappeared.</p>\n"}],"owner":{"account_id":25173055,"reputation":1,"user_id":19015641,"display_name":"dora tzm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1651496812,"creation_date":1651495786,"question_id":72086978,"body_markdown":"I  need to make a java program for my master. we have been taught very little but they already gave us an assignment. in this assignment I need to make a list of students\r\n\r\ni started with a class to create the attributes for each student and made a constructor. I need to add now setters and getters but I hear the &#39;error&#39; sound and nothing happens when i do right click and choose insert code. \r\n\r\nThe only error I have is that when i added the attributes i got an error that variables are never read. I did the steps exactly as my teacher has them in his project. when i clicked on that error i had 2 options. one to untick the unused option ( which i did -not sure though if correct, but i don&#39;t know how to reverse) or to make the variable final, but i need to edit so i cannot have them final..\r\n\r\nIs it possible that this error is the one not allowing me to proceed by adding setters and getters?\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/acehC.png","title":"Error in java when adding attributes and trying to insert code with right click","body":"<p>I  need to make a java program for my master. we have been taught very little but they already gave us an assignment. in this assignment I need to make a list of students</p>\n<p>i started with a class to create the attributes for each student and made a constructor. I need to add now setters and getters but I hear the 'error' sound and nothing happens when i do right click and choose insert code.</p>\n<p>The only error I have is that when i added the attributes i got an error that variables are never read. I did the steps exactly as my teacher has them in his project. when i clicked on that error i had 2 options. one to untick the unused option ( which i did -not sure though if correct, but i don't know how to reverse) or to make the variable final, but i need to edit so i cannot have them final..</p>\n<p>Is it possible that this error is the one not allowing me to proceed by adding setters and getters?\n<a href=\"https://i.stack.imgur.com/acehC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","json","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":25173248,"reputation":11,"user_id":19015813,"display_name":"jsaulou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651496790,"creation_date":1651496790,"answer_id":72087180,"question_id":71113550,"body_markdown":"It&#39;s a little late but if anyone is still looking, you need to close the `JsonGenerator` and then you will have the JSON output.","title":"Elasticsearch query serialization returns empty string","body":"<p>It's a little late but if anyone is still looking, you need to close the <code>JsonGenerator</code> and then you will have the JSON output.</p>\n"}],"owner":{"account_id":14117115,"reputation":410,"user_id":10198627,"display_name":"a.ilchinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651496790,"creation_date":1644849255,"question_id":71113550,"body_markdown":"I want to extract the JSON representation of an Elasticsearch Query, which was built by the Java client API (Java API Client 8.0.0). The following code shows my try:\r\n\r\n        Query x1 = new Query(new TermQuery.Builder().field(&quot;f1&quot;).value(v -&gt; v.stringValue(&quot;val1&quot;)).build());\r\n        Query x2 = new Query(new TermQuery.Builder().field(&quot;f2&quot;).value(v -&gt; v.stringValue(&quot;val2&quot;)).build());\r\n        Query query = new Query(new BoolQuery.Builder().must(List.of(x1, x2)).build());\r\n\r\n        try (final var out = new ByteArrayOutputStream()) {\r\n            final JsonGenerator generator = Json.createGenerator(out);\r\n            query.serialize(generator, new JacksonJsonpMapper());\r\n            return out.toString(StandardCharsets.UTF_8);\r\n        }\r\n\r\nI&#39;m using the `org.glassfish.jakarta-json:2.0.1` package to provide the `JsonGenerator` implementation.\r\n\r\nThe returned string is empty. What am I doing wrong here?","title":"Elasticsearch query serialization returns empty string","body":"<p>I want to extract the JSON representation of an Elasticsearch Query, which was built by the Java client API (Java API Client 8.0.0). The following code shows my try:</p>\n<pre><code>    Query x1 = new Query(new TermQuery.Builder().field(&quot;f1&quot;).value(v -&gt; v.stringValue(&quot;val1&quot;)).build());\n    Query x2 = new Query(new TermQuery.Builder().field(&quot;f2&quot;).value(v -&gt; v.stringValue(&quot;val2&quot;)).build());\n    Query query = new Query(new BoolQuery.Builder().must(List.of(x1, x2)).build());\n\n    try (final var out = new ByteArrayOutputStream()) {\n        final JsonGenerator generator = Json.createGenerator(out);\n        query.serialize(generator, new JacksonJsonpMapper());\n        return out.toString(StandardCharsets.UTF_8);\n    }\n</code></pre>\n<p>I'm using the <code>org.glassfish.jakarta-json:2.0.1</code> package to provide the <code>JsonGenerator</code> implementation.</p>\n<p>The returned string is empty. What am I doing wrong here?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1651496617,"post_id":72086806,"comment_id":127371296,"body_markdown":"A JSON array is data. You can&#39;t &quot;exit&quot; it. Nor can you &quot;enter&quot; an object.","body":"A JSON array is data. You can&#39;t &quot;exit&quot; it. Nor can you &quot;enter&quot; an object."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1651496664,"post_id":72086806,"comment_id":127371314,"body_markdown":"Also, show what you tried and explain what you need. Show example output from your code.","body":"Also, show what you tried and explain what you need. Show example output from your code."}],"owner":{"account_id":25172938,"reputation":1,"user_id":19015535,"display_name":"Jeff Bez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651496451,"answer_count":0,"score":0,"last_activity_date":1651496484,"creation_date":1651495003,"question_id":72086806,"body_markdown":"Below is my JSON format, currently my code is in the currencies, and has obtained the currency code successfully, but now i am stuck in terms on how to exit this array and go to languages object. \r\n\r\nMy current code basically obtains the name of the country, capital and region from the JSON code stuff attached. I also figured out for it to obtain the currency code, but now I want to get the languages part. This is all done within a while loop in java on AndroidStudio.\r\n\r\n\r\n```\r\n[\r\n   {\r\n      &quot;name&quot;:&quot;China&quot;,\r\n      &quot;topLevelDomain&quot;:[\r\n         &quot;.cn&quot;\r\n      ],\r\n      &quot;alpha2Code&quot;:&quot;CN&quot;,\r\n      &quot;alpha3Code&quot;:&quot;CHN&quot;,\r\n      &quot;callingCodes&quot;:[\r\n         &quot;86&quot;\r\n      ],\r\n      &quot;capital&quot;:&quot;Beijing&quot;,\r\n      &quot;altSpellings&quot;:[\r\n         &quot;CN&quot;,\r\n         &quot;ZhÅnggu&#243;&quot;,\r\n         &quot;Zhongguo&quot;,\r\n         &quot;Zhonghua&quot;,\r\n         &quot;People&#39;s Republic of China&quot;,\r\n         &quot;ä¸­åŽäººæ°‘å…±å’Œå›½&quot;,\r\n         &quot;ZhÅnghu&#225; R&#233;nm&#237;n G&#242;ngh&#233;gu&#243;&quot;\r\n      ],\r\n      &quot;subregion&quot;:&quot;Eastern Asia&quot;,\r\n      &quot;region&quot;:&quot;Asia&quot;,\r\n      &quot;population&quot;:1402112000,\r\n      &quot;latlng&quot;:[\r\n         35.0,\r\n         105.0\r\n      ],\r\n      &quot;demonym&quot;:&quot;Chinese&quot;,\r\n      &quot;area&quot;:9640011.0,\r\n      &quot;gini&quot;:38.5,\r\n      &quot;timezones&quot;:[\r\n         &quot;UTC+08:00&quot;\r\n      ],\r\n      &quot;borders&quot;:[\r\n         &quot;AFG&quot;,\r\n         &quot;BTN&quot;,\r\n         &quot;MMR&quot;,\r\n         &quot;HKG&quot;,\r\n         &quot;IND&quot;,\r\n         &quot;KAZ&quot;,\r\n         &quot;PRK&quot;,\r\n         &quot;KGZ&quot;,\r\n         &quot;LAO&quot;,\r\n         &quot;MAC&quot;,\r\n         &quot;MNG&quot;,\r\n         &quot;PAK&quot;,\r\n         &quot;RUS&quot;,\r\n         &quot;TJK&quot;,\r\n         &quot;VNM&quot;,\r\n         &quot;NPL&quot;\r\n      ],\r\n      &quot;nativeName&quot;:&quot;ä¸­å›½&quot;,\r\n      &quot;numericCode&quot;:&quot;156&quot;,\r\n      &quot;flags&quot;:{\r\n         &quot;svg&quot;:&quot;https://flagcdn.com/cn.svg&quot;,\r\n         &quot;png&quot;:&quot;https://flagcdn.com/w320/cn.png&quot;\r\n      },\r\n      &quot;currencies&quot;:[\r\n         {\r\n            &quot;code&quot;:&quot;CNY&quot;,\r\n            &quot;name&quot;:&quot;Chinese yuan&quot;,\r\n            &quot;symbol&quot;:&quot;&#165;&quot;\r\n         }\r\n      ],\r\n      &quot;languages&quot;:[\r\n         {\r\n            &quot;iso639_1&quot;:&quot;zh&quot;,\r\n            &quot;iso639_2&quot;:&quot;zho&quot;,\r\n            &quot;name&quot;:&quot;Chinese&quot;,\r\n            &quot;nativeName&quot;:&quot;ä¸­æ–‡ (ZhÅngw&#233;n)&quot;\r\n         }\r\n      ],\r\n      &quot;translations&quot;:{\r\n         &quot;br&quot;:&quot;China&quot;,\r\n         &quot;pt&quot;:&quot;China&quot;,\r\n         &quot;nl&quot;:&quot;China&quot;,\r\n         &quot;hr&quot;:&quot;Kina&quot;,\r\n         &quot;fa&quot;:&quot;Ú†ÛŒÙ†&quot;,\r\n         &quot;de&quot;:&quot;China&quot;,\r\n         &quot;es&quot;:&quot;China&quot;,\r\n         &quot;fr&quot;:&quot;Chine&quot;,\r\n         &quot;ja&quot;:&quot;ä¸­å›½&quot;,\r\n         &quot;it&quot;:&quot;Cina&quot;,\r\n         &quot;hu&quot;:&quot;K&#237;na&quot;\r\n      },\r\n      &quot;flag&quot;:&quot;https://flagcdn.com/cn.svg&quot;,\r\n      &quot;cioc&quot;:&quot;CHN&quot;,\r\n      &quot;independent&quot;:true\r\n   },\r\n   {\r\n      &quot;name&quot;:&quot;Macao&quot;,\r\n      &quot;topLevelDomain&quot;:[\r\n         &quot;.mo&quot;\r\n      ],\r\n      &quot;alpha2Code&quot;:&quot;MO&quot;,\r\n      &quot;alpha3Code&quot;:&quot;MAC&quot;,\r\n      &quot;callingCodes&quot;:[\r\n         &quot;853&quot;\r\n      ],\r\n      &quot;altSpellings&quot;:[\r\n         &quot;MO&quot;,\r\n         &quot;æ¾³é—¨&quot;,\r\n         &quot;Macao Special Administrative Region of the People&#39;s Republic of China&quot;,\r\n         &quot;ä¸­è¯äººæ°‘å…±å’Œåœ‹æ¾³é–€ç‰¹åˆ¥è¡Œæ”¿å€&quot;,\r\n         &quot;Regi&#227;o Administrativa Especial de Macau da Rep&#250;blica Popular da China&quot;\r\n      ],\r\n      &quot;subregion&quot;:&quot;Eastern Asia&quot;,\r\n      &quot;region&quot;:&quot;Asia&quot;,\r\n      &quot;population&quot;:649342,\r\n      &quot;latlng&quot;:[\r\n         22.16666666,\r\n         113.55\r\n      ],\r\n      &quot;demonym&quot;:&quot;Chinese&quot;,\r\n      &quot;area&quot;:30.0,\r\n      &quot;timezones&quot;:[\r\n         &quot;UTC+08:00&quot;\r\n      ],\r\n      &quot;borders&quot;:[\r\n         &quot;CHN&quot;\r\n      ],\r\n      &quot;nativeName&quot;:&quot;æ¾³é–€&quot;,\r\n      &quot;numericCode&quot;:&quot;446&quot;,\r\n      &quot;flags&quot;:{\r\n         &quot;svg&quot;:&quot;https://flagcdn.com/mo.svg&quot;,\r\n         &quot;png&quot;:&quot;https://flagcdn.com/w320/mo.png&quot;\r\n      },\r\n      &quot;currencies&quot;:[\r\n         {\r\n            &quot;code&quot;:&quot;MOP&quot;,\r\n            &quot;name&quot;:&quot;Macanese pataca&quot;,\r\n            &quot;symbol&quot;:&quot;P&quot;\r\n         }\r\n      ],\r\n      &quot;languages&quot;:[\r\n         {\r\n            &quot;iso639_1&quot;:&quot;zh&quot;,\r\n            &quot;iso639_2&quot;:&quot;zho&quot;,\r\n            &quot;name&quot;:&quot;Chinese&quot;,\r\n            &quot;nativeName&quot;:&quot;ä¸­æ–‡ (ZhÅngw&#233;n)&quot;\r\n         },\r\n         {\r\n            &quot;iso639_1&quot;:&quot;pt&quot;,\r\n            &quot;iso639_2&quot;:&quot;por&quot;,\r\n            &quot;name&quot;:&quot;Portuguese&quot;,\r\n            &quot;nativeName&quot;:&quot;Portugu&#234;s&quot;\r\n         }\r\n      ],\r\n      &quot;translations&quot;:{\r\n         &quot;br&quot;:&quot;Macau&quot;,\r\n         &quot;pt&quot;:&quot;Macau&quot;,\r\n         &quot;nl&quot;:&quot;Macao&quot;,\r\n         &quot;hr&quot;:&quot;Makao&quot;,\r\n         &quot;fa&quot;:&quot;Ù…Ú©Ø§Ø¦Ùˆ&quot;,\r\n         &quot;de&quot;:&quot;Macao&quot;,\r\n         &quot;es&quot;:&quot;Macao&quot;,\r\n         &quot;fr&quot;:&quot;Macao&quot;,\r\n         &quot;ja&quot;:&quot;ãƒžã‚«ã‚ª&quot;,\r\n         &quot;it&quot;:&quot;Macao&quot;,\r\n         &quot;hu&quot;:&quot;Maka&#243;&quot;\r\n      },\r\n      &quot;flag&quot;:&quot;https://flagcdn.com/mo.svg&quot;,\r\n      &quot;independent&quot;:false\r\n   },\r\n   {\r\n      &quot;name&quot;:&quot;Taiwan&quot;,\r\n      &quot;topLevelDomain&quot;:[\r\n         &quot;.tw&quot;\r\n      ],\r\n      &quot;alpha2Code&quot;:&quot;TW&quot;,\r\n      &quot;alpha3Code&quot;:&quot;TWN&quot;,\r\n      &quot;callingCodes&quot;:[\r\n         &quot;886&quot;\r\n      ],\r\n      &quot;capital&quot;:&quot;Taipei&quot;,\r\n      &quot;altSpellings&quot;:[\r\n         &quot;TW&quot;,\r\n         &quot;T&#225;iwÄn&quot;,\r\n         &quot;Republic of China&quot;,\r\n         &quot;ä¸­è¯æ°‘åœ‹&quot;,\r\n         &quot;ZhÅnghu&#225; M&#237;ngu&#243;&quot;\r\n      ],\r\n      &quot;subregion&quot;:&quot;Eastern Asia&quot;,\r\n      &quot;region&quot;:&quot;Asia&quot;,\r\n      &quot;population&quot;:23503349,\r\n      &quot;latlng&quot;:[\r\n         23.5,\r\n         121.0\r\n      ],\r\n      &quot;demonym&quot;:&quot;Taiwanese&quot;,\r\n      &quot;area&quot;:36193.0,\r\n      &quot;timezones&quot;:[\r\n         &quot;UTC+08:00&quot;\r\n      ],\r\n      &quot;nativeName&quot;:&quot;è‡ºç£&quot;,\r\n      &quot;numericCode&quot;:&quot;158&quot;,\r\n      &quot;flags&quot;:{\r\n         &quot;svg&quot;:&quot;https://flagcdn.com/tw.svg&quot;,\r\n         &quot;png&quot;:&quot;https://flagcdn.com/w320/tw.png&quot;\r\n      },\r\n      &quot;currencies&quot;:[\r\n         {\r\n            &quot;code&quot;:&quot;TWD&quot;,\r\n            &quot;name&quot;:&quot;New Taiwan dollar&quot;,\r\n            &quot;symbol&quot;:&quot;$&quot;\r\n         }\r\n      ],\r\n      &quot;languages&quot;:[\r\n         {\r\n            &quot;iso639_1&quot;:&quot;zh&quot;,\r\n            &quot;iso639_2&quot;:&quot;zho&quot;,\r\n            &quot;name&quot;:&quot;Chinese&quot;,\r\n            &quot;nativeName&quot;:&quot;ä¸­æ–‡ (ZhÅngw&#233;n)&quot;\r\n         }\r\n      ],\r\n      &quot;translations&quot;:{\r\n         &quot;br&quot;:&quot;Taiwan&quot;,\r\n         &quot;pt&quot;:&quot;Taiwan&quot;,\r\n         &quot;nl&quot;:&quot;Taiwan&quot;,\r\n         &quot;hr&quot;:&quot;Tajvan&quot;,\r\n         &quot;fa&quot;:&quot;ØªØ§ÛŒÙˆØ§Ù†&quot;,\r\n         &quot;de&quot;:&quot;Taiwan&quot;,\r\n         &quot;es&quot;:&quot;Taiw&#225;n&quot;,\r\n         &quot;fr&quot;:&quot;Ta&#239;wan&quot;,\r\n         &quot;ja&quot;:&quot;å°æ¹¾ï¼ˆä¸­è¯æ°‘å›½ï¼‰&quot;,\r\n         &quot;it&quot;:&quot;Taiwan&quot;,\r\n         &quot;hu&quot;:&quot;Tajvan&quot;\r\n      },\r\n      &quot;flag&quot;:&quot;https://flagcdn.com/tw.svg&quot;,\r\n      &quot;cioc&quot;:&quot;TPE&quot;,\r\n      &quot;independent&quot;:true\r\n   }\r\n]\r\n```\r\n","title":"How do I exit a JSON array and enter next object","body":"<p>Below is my JSON format, currently my code is in the currencies, and has obtained the currency code successfully, but now i am stuck in terms on how to exit this array and go to languages object.</p>\n<p>My current code basically obtains the name of the country, capital and region from the JSON code stuff attached. I also figured out for it to obtain the currency code, but now I want to get the languages part. This is all done within a while loop in java on AndroidStudio.</p>\n<pre><code>[\n   {\n      &quot;name&quot;:&quot;China&quot;,\n      &quot;topLevelDomain&quot;:[\n         &quot;.cn&quot;\n      ],\n      &quot;alpha2Code&quot;:&quot;CN&quot;,\n      &quot;alpha3Code&quot;:&quot;CHN&quot;,\n      &quot;callingCodes&quot;:[\n         &quot;86&quot;\n      ],\n      &quot;capital&quot;:&quot;Beijing&quot;,\n      &quot;altSpellings&quot;:[\n         &quot;CN&quot;,\n         &quot;ZhÅngguÃ³&quot;,\n         &quot;Zhongguo&quot;,\n         &quot;Zhonghua&quot;,\n         &quot;People's Republic of China&quot;,\n         &quot;ä¸­åŽäººæ°‘å…±å’Œå›½&quot;,\n         &quot;ZhÅnghuÃ¡ RÃ©nmÃ­n GÃ²nghÃ©guÃ³&quot;\n      ],\n      &quot;subregion&quot;:&quot;Eastern Asia&quot;,\n      &quot;region&quot;:&quot;Asia&quot;,\n      &quot;population&quot;:1402112000,\n      &quot;latlng&quot;:[\n         35.0,\n         105.0\n      ],\n      &quot;demonym&quot;:&quot;Chinese&quot;,\n      &quot;area&quot;:9640011.0,\n      &quot;gini&quot;:38.5,\n      &quot;timezones&quot;:[\n         &quot;UTC+08:00&quot;\n      ],\n      &quot;borders&quot;:[\n         &quot;AFG&quot;,\n         &quot;BTN&quot;,\n         &quot;MMR&quot;,\n         &quot;HKG&quot;,\n         &quot;IND&quot;,\n         &quot;KAZ&quot;,\n         &quot;PRK&quot;,\n         &quot;KGZ&quot;,\n         &quot;LAO&quot;,\n         &quot;MAC&quot;,\n         &quot;MNG&quot;,\n         &quot;PAK&quot;,\n         &quot;RUS&quot;,\n         &quot;TJK&quot;,\n         &quot;VNM&quot;,\n         &quot;NPL&quot;\n      ],\n      &quot;nativeName&quot;:&quot;ä¸­å›½&quot;,\n      &quot;numericCode&quot;:&quot;156&quot;,\n      &quot;flags&quot;:{\n         &quot;svg&quot;:&quot;https://flagcdn.com/cn.svg&quot;,\n         &quot;png&quot;:&quot;https://flagcdn.com/w320/cn.png&quot;\n      },\n      &quot;currencies&quot;:[\n         {\n            &quot;code&quot;:&quot;CNY&quot;,\n            &quot;name&quot;:&quot;Chinese yuan&quot;,\n            &quot;symbol&quot;:&quot;Â¥&quot;\n         }\n      ],\n      &quot;languages&quot;:[\n         {\n            &quot;iso639_1&quot;:&quot;zh&quot;,\n            &quot;iso639_2&quot;:&quot;zho&quot;,\n            &quot;name&quot;:&quot;Chinese&quot;,\n            &quot;nativeName&quot;:&quot;ä¸­æ–‡ (ZhÅngwÃ©n)&quot;\n         }\n      ],\n      &quot;translations&quot;:{\n         &quot;br&quot;:&quot;China&quot;,\n         &quot;pt&quot;:&quot;China&quot;,\n         &quot;nl&quot;:&quot;China&quot;,\n         &quot;hr&quot;:&quot;Kina&quot;,\n         &quot;fa&quot;:&quot;Ú†ÛŒÙ†&quot;,\n         &quot;de&quot;:&quot;China&quot;,\n         &quot;es&quot;:&quot;China&quot;,\n         &quot;fr&quot;:&quot;Chine&quot;,\n         &quot;ja&quot;:&quot;ä¸­å›½&quot;,\n         &quot;it&quot;:&quot;Cina&quot;,\n         &quot;hu&quot;:&quot;KÃ­na&quot;\n      },\n      &quot;flag&quot;:&quot;https://flagcdn.com/cn.svg&quot;,\n      &quot;cioc&quot;:&quot;CHN&quot;,\n      &quot;independent&quot;:true\n   },\n   {\n      &quot;name&quot;:&quot;Macao&quot;,\n      &quot;topLevelDomain&quot;:[\n         &quot;.mo&quot;\n      ],\n      &quot;alpha2Code&quot;:&quot;MO&quot;,\n      &quot;alpha3Code&quot;:&quot;MAC&quot;,\n      &quot;callingCodes&quot;:[\n         &quot;853&quot;\n      ],\n      &quot;altSpellings&quot;:[\n         &quot;MO&quot;,\n         &quot;æ¾³é—¨&quot;,\n         &quot;Macao Special Administrative Region of the People's Republic of China&quot;,\n         &quot;ä¸­è¯äººæ°‘å…±å’Œåœ‹æ¾³é–€ç‰¹åˆ¥è¡Œæ”¿å€&quot;,\n         &quot;RegiÃ£o Administrativa Especial de Macau da RepÃºblica Popular da China&quot;\n      ],\n      &quot;subregion&quot;:&quot;Eastern Asia&quot;,\n      &quot;region&quot;:&quot;Asia&quot;,\n      &quot;population&quot;:649342,\n      &quot;latlng&quot;:[\n         22.16666666,\n         113.55\n      ],\n      &quot;demonym&quot;:&quot;Chinese&quot;,\n      &quot;area&quot;:30.0,\n      &quot;timezones&quot;:[\n         &quot;UTC+08:00&quot;\n      ],\n      &quot;borders&quot;:[\n         &quot;CHN&quot;\n      ],\n      &quot;nativeName&quot;:&quot;æ¾³é–€&quot;,\n      &quot;numericCode&quot;:&quot;446&quot;,\n      &quot;flags&quot;:{\n         &quot;svg&quot;:&quot;https://flagcdn.com/mo.svg&quot;,\n         &quot;png&quot;:&quot;https://flagcdn.com/w320/mo.png&quot;\n      },\n      &quot;currencies&quot;:[\n         {\n            &quot;code&quot;:&quot;MOP&quot;,\n            &quot;name&quot;:&quot;Macanese pataca&quot;,\n            &quot;symbol&quot;:&quot;P&quot;\n         }\n      ],\n      &quot;languages&quot;:[\n         {\n            &quot;iso639_1&quot;:&quot;zh&quot;,\n            &quot;iso639_2&quot;:&quot;zho&quot;,\n            &quot;name&quot;:&quot;Chinese&quot;,\n            &quot;nativeName&quot;:&quot;ä¸­æ–‡ (ZhÅngwÃ©n)&quot;\n         },\n         {\n            &quot;iso639_1&quot;:&quot;pt&quot;,\n            &quot;iso639_2&quot;:&quot;por&quot;,\n            &quot;name&quot;:&quot;Portuguese&quot;,\n            &quot;nativeName&quot;:&quot;PortuguÃªs&quot;\n         }\n      ],\n      &quot;translations&quot;:{\n         &quot;br&quot;:&quot;Macau&quot;,\n         &quot;pt&quot;:&quot;Macau&quot;,\n         &quot;nl&quot;:&quot;Macao&quot;,\n         &quot;hr&quot;:&quot;Makao&quot;,\n         &quot;fa&quot;:&quot;Ù…Ú©Ø§Ø¦Ùˆ&quot;,\n         &quot;de&quot;:&quot;Macao&quot;,\n         &quot;es&quot;:&quot;Macao&quot;,\n         &quot;fr&quot;:&quot;Macao&quot;,\n         &quot;ja&quot;:&quot;ãƒžã‚«ã‚ª&quot;,\n         &quot;it&quot;:&quot;Macao&quot;,\n         &quot;hu&quot;:&quot;MakaÃ³&quot;\n      },\n      &quot;flag&quot;:&quot;https://flagcdn.com/mo.svg&quot;,\n      &quot;independent&quot;:false\n   },\n   {\n      &quot;name&quot;:&quot;Taiwan&quot;,\n      &quot;topLevelDomain&quot;:[\n         &quot;.tw&quot;\n      ],\n      &quot;alpha2Code&quot;:&quot;TW&quot;,\n      &quot;alpha3Code&quot;:&quot;TWN&quot;,\n      &quot;callingCodes&quot;:[\n         &quot;886&quot;\n      ],\n      &quot;capital&quot;:&quot;Taipei&quot;,\n      &quot;altSpellings&quot;:[\n         &quot;TW&quot;,\n         &quot;TÃ¡iwÄn&quot;,\n         &quot;Republic of China&quot;,\n         &quot;ä¸­è¯æ°‘åœ‹&quot;,\n         &quot;ZhÅnghuÃ¡ MÃ­nguÃ³&quot;\n      ],\n      &quot;subregion&quot;:&quot;Eastern Asia&quot;,\n      &quot;region&quot;:&quot;Asia&quot;,\n      &quot;population&quot;:23503349,\n      &quot;latlng&quot;:[\n         23.5,\n         121.0\n      ],\n      &quot;demonym&quot;:&quot;Taiwanese&quot;,\n      &quot;area&quot;:36193.0,\n      &quot;timezones&quot;:[\n         &quot;UTC+08:00&quot;\n      ],\n      &quot;nativeName&quot;:&quot;è‡ºç£&quot;,\n      &quot;numericCode&quot;:&quot;158&quot;,\n      &quot;flags&quot;:{\n         &quot;svg&quot;:&quot;https://flagcdn.com/tw.svg&quot;,\n         &quot;png&quot;:&quot;https://flagcdn.com/w320/tw.png&quot;\n      },\n      &quot;currencies&quot;:[\n         {\n            &quot;code&quot;:&quot;TWD&quot;,\n            &quot;name&quot;:&quot;New Taiwan dollar&quot;,\n            &quot;symbol&quot;:&quot;$&quot;\n         }\n      ],\n      &quot;languages&quot;:[\n         {\n            &quot;iso639_1&quot;:&quot;zh&quot;,\n            &quot;iso639_2&quot;:&quot;zho&quot;,\n            &quot;name&quot;:&quot;Chinese&quot;,\n            &quot;nativeName&quot;:&quot;ä¸­æ–‡ (ZhÅngwÃ©n)&quot;\n         }\n      ],\n      &quot;translations&quot;:{\n         &quot;br&quot;:&quot;Taiwan&quot;,\n         &quot;pt&quot;:&quot;Taiwan&quot;,\n         &quot;nl&quot;:&quot;Taiwan&quot;,\n         &quot;hr&quot;:&quot;Tajvan&quot;,\n         &quot;fa&quot;:&quot;ØªØ§ÛŒÙˆØ§Ù†&quot;,\n         &quot;de&quot;:&quot;Taiwan&quot;,\n         &quot;es&quot;:&quot;TaiwÃ¡n&quot;,\n         &quot;fr&quot;:&quot;TaÃ¯wan&quot;,\n         &quot;ja&quot;:&quot;å°æ¹¾ï¼ˆä¸­è¯æ°‘å›½ï¼‰&quot;,\n         &quot;it&quot;:&quot;Taiwan&quot;,\n         &quot;hu&quot;:&quot;Tajvan&quot;\n      },\n      &quot;flag&quot;:&quot;https://flagcdn.com/tw.svg&quot;,\n      &quot;cioc&quot;:&quot;TPE&quot;,\n      &quot;independent&quot;:true\n   }\n]\n</code></pre>\n"},{"tags":["java","excel","apache-poi","xssf"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1500195603,"post_id":45126788,"comment_id":77223639,"body_markdown":"it&#39;s the morning here but what is the difference between 1 and 3 ? I think you are missing a fill pattern, see https://stackoverflow.com/a/31671032/180100","body":"it&#39;s the morning here but what is the difference between 1 and 3 ? I think you are missing a fill pattern, see <a href=\"https://stackoverflow.com/a/31671032/180100\">stackoverflow.com/a/31671032/180100</a>"},{"owner":{"account_id":8391581,"reputation":117,"user_id":6300149,"accept_rate":75,"display_name":"NitSher01"},"score":0,"creation_date":1500195730,"post_id":45126788,"comment_id":77223666,"body_markdown":"Sure,I&#39;ll update the question with minimal code.Thank you","body":"Sure,I&#39;ll update the question with minimal code.Thank you"},{"owner":{"account_id":8391581,"reputation":117,"user_id":6300149,"accept_rate":75,"display_name":"NitSher01"},"score":0,"creation_date":1500196133,"post_id":45126788,"comment_id":77223768,"body_markdown":"fill pattern is not missing in the code and if fill pattern was missing the cell would be full white even after setting the color.But in my case,full cell is black.","body":"fill pattern is not missing in the code and if fill pattern was missing the cell would be full white even after setting the color.But in my case,full cell is black."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1500196720,"post_id":45126788,"comment_id":77223916,"body_markdown":"See https://stackoverflow.com/questions/43959440/apache-poi-fills-xssf-cell-with-black-instead-of-desired-custom-color-when-apply. Problem is using `RegionUtil` for setting borders. But  `org.apache.poi.ss.util.*` is `SS` and not `XSSF` and `SS` cannot use `XSSFColor` only color indexes are possible.","body":"See <a href=\"https://stackoverflow.com/questions/43959440/apache-poi-fills-xssf-cell-with-black-instead-of-desired-custom-color-when-apply\" title=\"apache poi fills xssf cell with black instead of desired custom color when apply\">stackoverflow.com/questions/43959440/&hellip;</a>. Problem is using <code>RegionUtil</code> for setting borders. But  <code>org.apache.poi.ss.util.*</code> is <code>SS</code> and not <code>XSSF</code> and <code>SS</code> cannot use <code>XSSFColor</code> only color indexes are possible."},{"owner":{"account_id":8391581,"reputation":117,"user_id":6300149,"accept_rate":75,"display_name":"NitSher01"},"score":0,"creation_date":1500197433,"post_id":45126788,"comment_id":77224067,"body_markdown":"@AxelRichter : thanks,its working now.But,is there any way that I can use RegionUtil in my code because I have to use it for giving the outer border of a table?","body":"@AxelRichter : thanks,its working now.But,is there any way that I can use RegionUtil in my code because I have to use it for giving the outer border of a table?"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1500197530,"post_id":45126788,"comment_id":77224090,"body_markdown":"@AxelRichter you should make that an answer","body":"@AxelRichter you should make that an answer"},{"owner":{"account_id":7371292,"reputation":1906,"user_id":5611377,"accept_rate":100,"display_name":"ssimm"},"score":0,"creation_date":1540202744,"post_id":45126788,"comment_id":92763004,"body_markdown":"Apache 4.0.0 answer here: https://stackoverflow.com/a/52926591/5611377","body":"Apache 4.0.0 answer here: <a href=\"https://stackoverflow.com/a/52926591/5611377\">stackoverflow.com/a/52926591/5611377</a>"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1500199208,"creation_date":1500198561,"answer_id":45127209,"question_id":45126788,"body_markdown":"This is caused by an incompleteness of [Package org.apache.poi.ss.util](https://poi.apache.org/apidocs/org/apache/poi/ss/util/package-summary.html). \r\n\r\n`PropertyTemplate` as well as `CellUtil` and `RegionUtil`are be based on `ss.usermodel` level only and not on `xssf.usermodel` level. But [org.apache.poi.ss.usermodel.CellStyle](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/CellStyle.html) does not know something about a `setFillForegroundColor(Color color)` until now. It only knows `setFillForegroundColor(short bg)`. So `ss.usermodel` level simply cannot set a `Color` as fill foreground color until now. Only a `short` (a color index) is possible.\r\n\r\nIf it comes to the question why setting the color is necessary when only the border shall be set using `org.apache.poi.ss.util` then the answer is, it is necessary because both, color and border, are in the same `CellStyle`. Thats why when adding the border settings to the `CellStyle`, the color settings must be maintain and finally be set new.\r\n\r\nSo in conclusion, there is not a way out of this dilemma. If you need using `org.apache.poi.ss.util` then you cannot use `setFillForegroundColor(XSSFColor color)` the same time. The only hope is `setFillForegroundColor(Color color)` will be added to `org.apache.poi.ss.usermodel.CellStyle` in later versions of  `apache poi`.\r\n","title":"Not able to set custom color in XSSFCell Apache POI","body":"<p>This is caused by an incompleteness of <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/util/package-summary.html\" rel=\"noreferrer\">Package org.apache.poi.ss.util</a>. </p>\n\n<p><code>PropertyTemplate</code> as well as <code>CellUtil</code> and <code>RegionUtil</code>are be based on <code>ss.usermodel</code> level only and not on <code>xssf.usermodel</code> level. But <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/CellStyle.html\" rel=\"noreferrer\">org.apache.poi.ss.usermodel.CellStyle</a> does not know something about a <code>setFillForegroundColor(Color color)</code> until now. It only knows <code>setFillForegroundColor(short bg)</code>. So <code>ss.usermodel</code> level simply cannot set a <code>Color</code> as fill foreground color until now. Only a <code>short</code> (a color index) is possible.</p>\n\n<p>If it comes to the question why setting the color is necessary when only the border shall be set using <code>org.apache.poi.ss.util</code> then the answer is, it is necessary because both, color and border, are in the same <code>CellStyle</code>. Thats why when adding the border settings to the <code>CellStyle</code>, the color settings must be maintain and finally be set new.</p>\n\n<p>So in conclusion, there is not a way out of this dilemma. If you need using <code>org.apache.poi.ss.util</code> then you cannot use <code>setFillForegroundColor(XSSFColor color)</code> the same time. The only hope is <code>setFillForegroundColor(Color color)</code> will be added to <code>org.apache.poi.ss.usermodel.CellStyle</code> in later versions of  <code>apache poi</code>.</p>\n"},{"tags":[],"owner":{"account_id":25172896,"reputation":1,"user_id":19015499,"display_name":"Ondi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651496478,"creation_date":1651496478,"answer_id":72087102,"question_id":45126788,"body_markdown":"As a workaround you can use conditional formatting to set custom colors after you&#39;ve set all other format options (alignment, borders...) with cell style. \r\n\r\nHere is a working (Kotlin) example that defines a custom color to distinguish between even and odd rows:\r\n\r\n```\r\nprivate fun setEvenOddColorFormatting(sheet: XSSFSheet) {\r\n            val sheetConditionalFormatting = sheet.sheetConditionalFormatting\r\n\r\n            val rule = sheetConditionalFormatting.createConditionalFormattingRule(&quot;MOD(ROW(), 2) = 0&quot;)\r\n            val formatForRule = rule.createPatternFormatting()\r\n            formatForRule.setFillBackgroundColor(XSSFColor(byteArrayOf(221.toByte(), 235.toByte(), 247.toByte())))\r\n            formatForRule.fillPattern = PatternFormatting.SOLID_FOREGROUND\r\n\r\n            val region = arrayOf(CellRangeAddress(0, sheet.lastRowNum,0,10))\r\n            sheetConditionalFormatting.addConditionalFormatting(region, rule)\r\n        }\r\n```\r\n\r\nA drawback is, that you have to write the rule as excel function. But you should be able to use an always true function and only set the region. ","title":"Not able to set custom color in XSSFCell Apache POI","body":"<p>As a workaround you can use conditional formatting to set custom colors after you've set all other format options (alignment, borders...) with cell style.</p>\n<p>Here is a working (Kotlin) example that defines a custom color to distinguish between even and odd rows:</p>\n<pre><code>private fun setEvenOddColorFormatting(sheet: XSSFSheet) {\n            val sheetConditionalFormatting = sheet.sheetConditionalFormatting\n\n            val rule = sheetConditionalFormatting.createConditionalFormattingRule(&quot;MOD(ROW(), 2) = 0&quot;)\n            val formatForRule = rule.createPatternFormatting()\n            formatForRule.setFillBackgroundColor(XSSFColor(byteArrayOf(221.toByte(), 235.toByte(), 247.toByte())))\n            formatForRule.fillPattern = PatternFormatting.SOLID_FOREGROUND\n\n            val region = arrayOf(CellRangeAddress(0, sheet.lastRowNum,0,10))\n            sheetConditionalFormatting.addConditionalFormatting(region, rule)\n        }\n</code></pre>\n<p>A drawback is, that you have to write the rule as excel function. But you should be able to use an always true function and only set the region.</p>\n"}],"owner":{"account_id":8391581,"reputation":117,"user_id":6300149,"accept_rate":75,"display_name":"NitSher01"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2847,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45127209,"answer_count":2,"score":3,"last_activity_date":1651496478,"creation_date":1500195483,"question_id":45126788,"body_markdown":"I am trying to set some custom(from hexcode or rgb value) color to a xssfcell.But the color of the cell is becoming black even though I am giving some other color.I have tried doing this by the following ways :\r\n\r\n    File xlSheet = new File(&quot;C:\\\\Users\\\\IBM_ADMIN\\\\Downloads\\\\Excel Test\\\\Something3.xlsx&quot;);\r\n\t\tSystem.out.println(xlSheet.createNewFile());\r\n\t\tFileOutputStream fileOutISPR = new FileOutputStream(&quot;C:\\\\Users\\\\IBM_ADMIN\\\\Downloads\\\\Excel Test\\\\Something3.xlsx&quot;);\r\n\t\tXSSFWorkbook isprWorkbook = new XSSFWorkbook();\r\n\t\tXSSFSheet sheet = isprWorkbook.createSheet(&quot;TEST&quot;);\r\n\t\tXSSFRow row = sheet.createRow(0);\r\n\t\tXSSFCellStyle cellStyle = isprWorkbook.createCellStyle();\r\n\t\tbyte[] rgb = new byte[3];\r\n\t\trgb[0] = (byte) 24; // red\r\n\t\trgb[1] = (byte) 22; // green\r\n\t\trgb[2] = (byte) 219; // blue\r\n\t\tXSSFColor myColor = new XSSFColor(rbg);\r\n\t\tcellStyle.setFillForegroundColor(myColor);\r\n\t\tcellStyle.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\n\t\tcellStyle.setAlignment(HorizontalAlignment.CENTER);\r\n\t\tXSSFCell cell = row.createCell(0);\r\n\t\tcell.setCellValue(&quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has&quot;);\r\n\t\tcell.setCellStyle(cellStyle);\r\n\t\tCellRangeAddress rangeAddress = new CellRangeAddress(0, 0, 0, 2);\r\n\t\tsheet.addMergedRegion(rangeAddress);\r\n\t\tint width = ((int)(90 * 0.73)) * 256;\r\n\t\tsheet.setColumnWidth(cell.getColumnIndex(), width);\r\n\t\t//sheet.autoSizeColumn(cell.getColumnIndex());\r\n\t\tRegionUtil.setBorderBottom(XSSFCellStyle.BORDER_MEDIUM, rangeAddress, sheet, isprWorkbook);\r\n\t\tRegionUtil.setBottomBorderColor(IndexedColors.RED.getIndex(), rangeAddress, sheet, isprWorkbook);\r\n\t\t\r\n\t\tXSSFCell cell2 = row.createCell(11);\r\n\t\tcell2.setCellValue(&quot;222222222222222&quot;);\r\n\t\tisprWorkbook.write(fileOutISPR);\r\n\r\n//END of the program\r\n\r\n\r\n\r\n       XSSFCellStyle cellStyle = isprWorkbook.createCellStyle();\r\n\t   byte[] rgb = new byte[3];\r\n\t\trgb[0] = (byte) 24; // red\r\n\t\trgb[1] = (byte) 22; // green\r\n\t\trgb[2] = (byte) 219; // blue\r\n\t\tXSSFColor myColor = new XSSFColor(rgb);\r\n    \tcellStyle.setFillForegroundColor(myColor);//1st method\r\n\t\t//cellStyle.setFillForegroundColor(new XSSFColor(new   java.awt.Color(128, 0, 128)));//2nd method  \r\n      //XSSFColor myColor = new XSSFColor(Color.decode(&quot;0XFFFFFF&quot;));\r\n      cellStyle.setFillForegroundColor(myColor);//3rd Method\r\n\r\nI tried many other ways mentioned in answers to related questions but none of those solved my problem.\r\nPlease help me out.","title":"Not able to set custom color in XSSFCell Apache POI","body":"<p>I am trying to set some custom(from hexcode or rgb value) color to a xssfcell.But the color of the cell is becoming black even though I am giving some other color.I have tried doing this by the following ways :</p>\n\n<pre><code>File xlSheet = new File(\"C:\\\\Users\\\\IBM_ADMIN\\\\Downloads\\\\Excel Test\\\\Something3.xlsx\");\n    System.out.println(xlSheet.createNewFile());\n    FileOutputStream fileOutISPR = new FileOutputStream(\"C:\\\\Users\\\\IBM_ADMIN\\\\Downloads\\\\Excel Test\\\\Something3.xlsx\");\n    XSSFWorkbook isprWorkbook = new XSSFWorkbook();\n    XSSFSheet sheet = isprWorkbook.createSheet(\"TEST\");\n    XSSFRow row = sheet.createRow(0);\n    XSSFCellStyle cellStyle = isprWorkbook.createCellStyle();\n    byte[] rgb = new byte[3];\n    rgb[0] = (byte) 24; // red\n    rgb[1] = (byte) 22; // green\n    rgb[2] = (byte) 219; // blue\n    XSSFColor myColor = new XSSFColor(rbg);\n    cellStyle.setFillForegroundColor(myColor);\n    cellStyle.setFillPattern(CellStyle.SOLID_FOREGROUND);\n    cellStyle.setAlignment(HorizontalAlignment.CENTER);\n    XSSFCell cell = row.createCell(0);\n    cell.setCellValue(\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\");\n    cell.setCellStyle(cellStyle);\n    CellRangeAddress rangeAddress = new CellRangeAddress(0, 0, 0, 2);\n    sheet.addMergedRegion(rangeAddress);\n    int width = ((int)(90 * 0.73)) * 256;\n    sheet.setColumnWidth(cell.getColumnIndex(), width);\n    //sheet.autoSizeColumn(cell.getColumnIndex());\n    RegionUtil.setBorderBottom(XSSFCellStyle.BORDER_MEDIUM, rangeAddress, sheet, isprWorkbook);\n    RegionUtil.setBottomBorderColor(IndexedColors.RED.getIndex(), rangeAddress, sheet, isprWorkbook);\n\n    XSSFCell cell2 = row.createCell(11);\n    cell2.setCellValue(\"222222222222222\");\n    isprWorkbook.write(fileOutISPR);\n</code></pre>\n\n<p>//END of the program</p>\n\n<pre><code>   XSSFCellStyle cellStyle = isprWorkbook.createCellStyle();\n   byte[] rgb = new byte[3];\n    rgb[0] = (byte) 24; // red\n    rgb[1] = (byte) 22; // green\n    rgb[2] = (byte) 219; // blue\n    XSSFColor myColor = new XSSFColor(rgb);\n    cellStyle.setFillForegroundColor(myColor);//1st method\n    //cellStyle.setFillForegroundColor(new XSSFColor(new   java.awt.Color(128, 0, 128)));//2nd method  \n  //XSSFColor myColor = new XSSFColor(Color.decode(\"0XFFFFFF\"));\n  cellStyle.setFillForegroundColor(myColor);//3rd Method\n</code></pre>\n\n<p>I tried many other ways mentioned in answers to related questions but none of those solved my problem.\nPlease help me out.</p>\n"},{"tags":["java","eclipse","jsp","websphere"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":1,"creation_date":1496848658,"post_id":44416611,"comment_id":75832241,"body_markdown":"You&#39;re probably going to find your answer [here](http://www-01.ibm.com/support/docview.wss?uid=swg21282614).","body":"You&#39;re probably going to find your answer <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21282614\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":11055786,"reputation":99,"user_id":8118644,"display_name":"Truerick"},"score":0,"creation_date":1496850858,"post_id":44416611,"comment_id":75833744,"body_markdown":"Following suggested path `install_root\\profiles\\profile_name\\installedApps&lt;CELL&gt;\\&lt;EAR&gt;\\&lt;WAR&gt;` there isn&#39;t any `&lt;EAR&gt;` folder called `project_name.ear`. So it should mean it&#39;s not developed in the webserver, but I&#39;m launching the server of the project using Eclipse, I thought it would automatically deploy the EAR/WAR.","body":"Following suggested path <code>install_root\\profiles\\profile_name\\installedApps&lt;CELL&gt;\\&lt;EAR&gt;&zwnj;&#8203;\\&lt;WAR&gt;</code> there isn&#39;t any <code>&lt;EAR&gt;</code> folder called <code>project_name.ear</code>. So it should mean it&#39;s not developed in the webserver, but I&#39;m launching the server of the project using Eclipse, I thought it would automatically deploy the EAR/WAR."},{"owner":{"account_id":2107430,"reputation":1505,"user_id":1873438,"display_name":"Paul Bastide"},"score":0,"creation_date":1496885369,"post_id":44416611,"comment_id":75848819,"body_markdown":"when you add the EAR/WAR file to the server using the integrated tools, it should spit out a URL which you can then use to subsequently navigate to the webapp.  in your EAR you can specify the context root.","body":"when you add the EAR/WAR file to the server using the integrated tools, it should spit out a URL which you can then use to subsequently navigate to the webapp.  in your EAR you can specify the context root."},{"owner":{"account_id":11055786,"reputation":99,"user_id":8118644,"display_name":"Truerick"},"score":0,"creation_date":1496907053,"post_id":44416611,"comment_id":75856540,"body_markdown":"Ok, I manually added the .WAR file in WebSphere server as Enterprise Application and it didn&#39;t work, so I tried with the .EAR and it starts without any error.\n@PaulBastide I&#39;m not familiar with WebSphere and right now I&#39;m unable to find the right URL to visit. I tried following what Mena&#39;s link say but still nothing. Any suggestion on where to find the URL?","body":"Ok, I manually added the .WAR file in WebSphere server as Enterprise Application and it didn&#39;t work, so I tried with the .EAR and it starts without any error. @PaulBastide I&#39;m not familiar with WebSphere and right now I&#39;m unable to find the right URL to visit. I tried following what Mena&#39;s link say but still nothing. Any suggestion on where to find the URL?"},{"owner":{"account_id":11055786,"reputation":99,"user_id":8118644,"display_name":"Truerick"},"score":0,"creation_date":1496908362,"post_id":44416611,"comment_id":75857414,"body_markdown":"Ok, got it!\n`http://hostname:9080/project_name/index.jsp`","body":"Ok, got it! <code>http:&#47;&#47;hostname:9080&#47;project_name&#47;index.jsp</code>"}],"answers":[{"tags":[],"owner":{"account_id":11055786,"reputation":99,"user_id":8118644,"display_name":"Truerick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496908737,"creation_date":1496908737,"answer_id":44429939,"question_id":44416611,"body_markdown":"Eclipse doesn&#39;t provide an automatic build and launch of the web project so you have to export an EAR file (not WAR!) and import it into WebSphere Control Panel as WebSphere Enterprise Application.\r\nThen just leave the options as they are and click &quot;next&quot; as many time as needed; in the WebSphere Enterprise Application panel you have to select the app just added and click &quot;Launch&quot;; it should work and then you can visit the URL `http://hostname:9080/project_name/your_page.jsp`.","title":"WebSphere Server V.8.5 troubles with Eclipse project","body":"<p>Eclipse doesn't provide an automatic build and launch of the web project so you have to export an EAR file (not WAR!) and import it into WebSphere Control Panel as WebSphere Enterprise Application.\nThen just leave the options as they are and click \"next\" as many time as needed; in the WebSphere Enterprise Application panel you have to select the app just added and click \"Launch\"; it should work and then you can visit the URL <code>http://hostname:9080/project_name/your_page.jsp</code>.</p>\n"}],"owner":{"account_id":11055786,"reputation":99,"user_id":8118644,"display_name":"Truerick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651495622,"creation_date":1496848473,"question_id":44416611,"body_markdown":"I&#39;m trying to create an IBM WebSphere V.8.5 web app using Eclipse.\r\n-\r\nI downloaded and installed all the IBM packages needed and followed &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSHR6W/com.ibm.websphere.wdt.doc/topics/jaxrpc/twasserv.htm&quot;&gt;the official guide to create server and project&lt;/a&gt;.\r\nThen I created an index.jsp under WebContent folder with just some HTML/CSS tags to print a static &quot;Hello world&quot;.\r\nVisiting `http://localhost:9080/project_name/index.jsp` I get the following:\r\n\r\n&gt; Error message: JSPG0036E: Unable to find resource\r\n&gt; /project_name/index.jsp\r\n\r\nI&#39;ve already search for the error but ant solution was valid for my case.\r\nThe error continues...\r\n\r\n&gt; Root cause: java.io.FileNotFoundException: JSPG0036E: Unable to find\r\n&gt; resource /project_name/index.jsp \tat\r\n&gt; com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionProcessor.findWrapper(AbstractJSPExtensionProcessor.java:447)\r\n&gt; \tat\r\n&gt; com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionProcessor.getServletWrapper(AbstractJSPExtensionProcessor.java:338)\r\n&gt; \tat\r\n&gt; com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1010)\r\n&gt; \tat\r\n&gt; com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3980)\r\n&gt; \tat\r\n&gt; com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\r\n&gt; \tat\r\n&gt;\r\n&gt; ...","title":"WebSphere Server V.8.5 troubles with Eclipse project","body":"<h2>I'm trying to create an IBM WebSphere V.8.5 web app using Eclipse.</h2>\n\n<p>I downloaded and installed all the IBM packages needed and followed <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSHR6W/com.ibm.websphere.wdt.doc/topics/jaxrpc/twasserv.htm\" rel=\"nofollow noreferrer\">the official guide to create server and project</a>.\nThen I created an index.jsp under WebContent folder with just some HTML/CSS tags to print a static \"Hello world\".\nVisiting <code>http://localhost:9080/project_name/index.jsp</code> I get the following:</p>\n\n<blockquote>\n  <p>Error message: JSPG0036E: Unable to find resource\n  /project_name/index.jsp</p>\n</blockquote>\n\n<p>I've already search for the error but ant solution was valid for my case.\nThe error continues...</p>\n\n<blockquote>\n  <p>Root cause: java.io.FileNotFoundException: JSPG0036E: Unable to find\n  resource /project_name/index.jsp  at\n  com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionProcessor.findWrapper(AbstractJSPExtensionProcessor.java:447)\n    at\n  com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionProcessor.getServletWrapper(AbstractJSPExtensionProcessor.java:338)\n    at\n  com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1010)\n    at\n  com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3980)\n    at\n  com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\n    at</p>\n  \n  <p>...</p>\n</blockquote>\n"},{"tags":["java","kotlin","intellij-idea","optaplanner"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;Å¡ Petrovick&#253;"},"score":0,"creation_date":1651217376,"post_id":72050472,"comment_id":127315965,"body_markdown":"This problem is likely unrelated to OptaPlanner. See a [similar question](https://stackoverflow.com/questions/69637244/java-lang-nosuchmethodexception-sun-misc-unsafe-defineclassjava-lang-string-b).","body":"This problem is likely unrelated to OptaPlanner. See a <a href=\"https://stackoverflow.com/questions/69637244/java-lang-nosuchmethodexception-sun-misc-unsafe-defineclassjava-lang-string-b\">similar question</a>."},{"owner":{"account_id":1286675,"reputation":249,"user_id":1239600,"display_name":"DFx"},"score":0,"creation_date":1651250125,"post_id":72050472,"comment_id":127327387,"body_markdown":"Thanks - yeah it works with a JRE below 17. I tried including the org.glassfish.jaxb jaxb-runtime dependency, but it didn&#39;t make a difference. All these dependencies are so confusing. Is the root of the issue that ```SolverConfig.createFromXmlReader``` uses ```jaxb``` and it needs to be updated to avoid the eventual ```PrivilegedActionException```? It&#39;s strange: from Intellij, it runs with JDK 17 fine, but the classpath includes a lot more than the ```artifact``` jar does. I don&#39;t understand why and how all the dependencies come together...","body":"Thanks - yeah it works with a JRE below 17. I tried including the org.glassfish.jaxb jaxb-runtime dependency, but it didn&#39;t make a difference. All these dependencies are so confusing. Is the root of the issue that <code>SolverConfig.createFromXmlReader</code> uses <code>jaxb</code> and it needs to be updated to avoid the eventual <code>PrivilegedActionException</code>? It&#39;s strange: from Intellij, it runs with JDK 17 fine, but the classpath includes a lot more than the <code>artifact</code> jar does. I don&#39;t understand why and how all the dependencies come together..."},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;Å¡ Petrovick&#253;"},"score":0,"creation_date":1651297081,"post_id":72050472,"comment_id":127335782,"body_markdown":"Yes, this is most certainly a JAXB issue. OptaPlanner is being tested and passes on all current JDKs, incl. 17 and 18. I do not know how IntelliJ builds the JAR, but I seriously recommend that you build it using Maven or Gradle - IntelliJ sometimes has weird issues with Maven projects, and this may be one of them.","body":"Yes, this is most certainly a JAXB issue. OptaPlanner is being tested and passes on all current JDKs, incl. 17 and 18. I do not know how IntelliJ builds the JAR, but I seriously recommend that you build it using Maven or Gradle - IntelliJ sometimes has weird issues with Maven projects, and this may be one of them."},{"owner":{"account_id":1286675,"reputation":249,"user_id":1239600,"display_name":"DFx"},"score":0,"creation_date":1651325802,"post_id":72050472,"comment_id":127340667,"body_markdown":"Okay thanks for clarifying Luk&#225;Å¡. It sounds like I&#39;m in some kind of dependency hell, so I&#39;ll have to rebuild everything at this point.","body":"Okay thanks for clarifying Luk&#225;Å¡. It sounds like I&#39;m in some kind of dependency hell, so I&#39;ll have to rebuild everything at this point."},{"owner":{"account_id":1286675,"reputation":249,"user_id":1239600,"display_name":"DFx"},"score":0,"creation_date":1651447206,"post_id":72050472,"comment_id":127361420,"body_markdown":"@Luk&#225;Å¡Petrovick&#253; I reduced it down to a very simple OptaPlanner example and it still has this issue. Is my pom.xml file the issue? Anything else you can see? I can zip up the project if that would help. I don&#39;t mean to imply it&#39;s an issue with OptaPlanner. I&#39;m just not sure what else to try. Thanks.","body":"@Luk&#225;Å¡Petrovick&#253; I reduced it down to a very simple OptaPlanner example and it still has this issue. Is my pom.xml file the issue? Anything else you can see? I can zip up the project if that would help. I don&#39;t mean to imply it&#39;s an issue with OptaPlanner. I&#39;m just not sure what else to try. Thanks."},{"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"score":0,"creation_date":1651491922,"post_id":72050472,"comment_id":127369648,"body_markdown":"To make it absolutely clear what the JRE you&#39;re running into this issue with is, can you please post the output of `java --version`?","body":"To make it absolutely clear what the JRE you&#39;re running into this issue with is, can you please post the output of <code>java --version</code>?"},{"owner":{"account_id":1286675,"reputation":249,"user_id":1239600,"display_name":"DFx"},"score":0,"creation_date":1651493578,"post_id":72050472,"comment_id":127370196,"body_markdown":"Thanks - you can now see the output to this in my edit. The suggestions Luk&#225;Å¡ made also seem to be working.","body":"Thanks - you can now see the output to this in my edit. The suggestions Luk&#225;Å¡ made also seem to be working."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;Å¡ Petrovick&#253;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651495509,"creation_date":1651466155,"answer_id":72082360,"question_id":72050472,"body_markdown":"An answer to [another question][1] suggests you need an extra artifact in your project. Technically, `optaplanner-core` module [brings it][2], but the scope is `runtime` - so that dependency may not show up in the JAR with dependencies. (?) You will need to include it yourself; you can confirm that by checking `mvn dependency:tree` in your project.\r\n\r\nThat said, I am not sure why we use the `runtime` scope here. Maybe we need to re-evaluate.\r\n\r\nAlso, seeing as you are using an uberjar, I&#39;m going to point to [another uberjar-related question][3] to perhaps pre-empt more struggle. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69637244/java-lang-nosuchmethodexception-sun-misc-unsafe-defineclassjava-lang-string-b\r\n  [2]: https://github.com/kiegroup/optaplanner/blob/main/core/optaplanner-core-impl/pom.xml#L88\r\n  [3]: https://stackoverflow.com/questions/71669917/how-to-upgrade-from-optaplanner-8-17-to-8-18-or-8-19/71683495#71683495","title":"Can run in Intellij, but jar file fails","body":"<p>An answer to <a href=\"https://stackoverflow.com/questions/69637244/java-lang-nosuchmethodexception-sun-misc-unsafe-defineclassjava-lang-string-b\">another question</a> suggests you need an extra artifact in your project. Technically, <code>optaplanner-core</code> module <a href=\"https://github.com/kiegroup/optaplanner/blob/main/core/optaplanner-core-impl/pom.xml#L88\" rel=\"nofollow noreferrer\">brings it</a>, but the scope is <code>runtime</code> - so that dependency may not show up in the JAR with dependencies. (?) You will need to include it yourself; you can confirm that by checking <code>mvn dependency:tree</code> in your project.</p>\n<p>That said, I am not sure why we use the <code>runtime</code> scope here. Maybe we need to re-evaluate.</p>\n<p>Also, seeing as you are using an uberjar, I'm going to point to <a href=\"https://stackoverflow.com/questions/71669917/how-to-upgrade-from-optaplanner-8-17-to-8-18-or-8-19/71683495#71683495\">another uberjar-related question</a> to perhaps pre-empt more struggle.</p>\n"}],"owner":{"account_id":1286675,"reputation":249,"user_id":1239600,"display_name":"DFx"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72082360,"answer_count":1,"score":0,"last_activity_date":1651495509,"creation_date":1651181726,"question_id":72050472,"body_markdown":"Instead of running ```Quarkus```, I&#39;m running OptaPlanner through a ```Main class``` entry point in ```Kotlin```.\r\n\r\nThis works great within ```Intellij``` where I have a simple ```Run Configuration``` set up for it.\r\n```\r\nobject Main {\r\n\r\n    lateinit var solverFactory: SolverFactory&lt;VehicleRoutingSolution&gt;\r\n    lateinit var solver: Solver&lt;VehicleRoutingSolution&gt;\r\n    lateinit var scoreManager: ScoreManager&lt;VehicleRoutingSolution, SimpleLongScore&gt;\r\n\r\n    @JvmStatic\r\n    fun main(args: Array&lt;String&gt;) {\r\n        ...\r\n```\r\n\r\nHowever, when I create an Intellij ```artifact``` for a ```jar``` and try to run it, I get this:\r\n\r\n```\r\njava -jar acme.jar\r\nApr. 28, 2022 5:21:13 P.M. com.sun.xml.bind.v2.runtime.reflect.opt.Injector &lt;clinit&gt;\r\nSEVERE: null\r\njava.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:573)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:166)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:51)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:157)\r\n        at com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:255)\r\n        at com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:62)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\r\n        at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:150)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:484)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:301)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:109)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1126)\r\n        at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:135)\r\n        at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35)\r\n        at javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\r\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\r\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\r\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:88)\r\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:80)\r\n        at org.optaplanner.core.impl.io.jaxb.SolverConfigIO.&lt;init&gt;(SolverConfigIO.java:27)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlReader(SolverConfig.java:213)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlInputStream(SolverConfig.java:188)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:128)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:103)\r\n        at org.optaplanner.core.api.solver.SolverFactory.createFromXmlResource(SolverFactory.java:55)\r\n        at org.acme.bootstrap.Main.initOptaPlanner(Main.kt:112)\r\n        at org.acme.bootstrap.Main.main(Main.kt:43)\r\nCaused by: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\r\n        at java.base/java.lang.Class.getMethod(Class.java:2227)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:170)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:166)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n        ... 31 more\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:294)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:66)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:57)\r\n        at com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:157)\r\n        at com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:255)\r\n        at com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:62)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\r\n        at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:150)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:484)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:301)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:109)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1126)\r\n        at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:135)\r\n        at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35)\r\n        at javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\r\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\r\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\r\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:88)\r\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:80)\r\n        at org.optaplanner.core.impl.io.jaxb.SolverConfigIO.&lt;init&gt;(SolverConfigIO.java:27)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlReader(SolverConfig.java:213)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlInputStream(SolverConfig.java:188)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:128)\r\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:103)\r\n        at org.optaplanner.core.api.solver.SolverFactory.createFromXmlResource(SolverFactory.java:55)\r\n        at org.acme.bootstrap.Main.initOptaPlanner(Main.kt:112)\r\n        at org.acme.bootstrap.Main.main(Main.kt:43)\r\nShutting down\r\n```\r\n\r\nIn ```solverConfig.xml``` I&#39;m using ```&lt;domainAccessType&gt;REFLECTION&lt;/domainAccessType&gt;``` because I cannot get ```Gizmo``` to work. I&#39;m not sure if that&#39;s related or not, but why is there a difference between an ```Intellij Run Config``` and the ```Jar``` artifact?\r\n\r\nThanks\r\n\r\n\r\n#### *** UPDATE ***\r\n\r\nI still get the above error message - even when creating a very basic OptaPlanner project.\r\n\r\nHere is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\r\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;Foo&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;kotlin.version&gt;1.6.21&lt;/kotlin.version&gt;\r\n        &lt;kotlin.code.style&gt;official&lt;/kotlin.code.style&gt;\r\n        &lt;kotlin.compiler.jvmTarget&gt;17&lt;/kotlin.compiler.jvmTarget&gt;\r\n        &lt;optaplanner.version&gt;8.20.0.Final&lt;/optaplanner.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;mavenCentral&lt;/id&gt;\r\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;foo&lt;/finalName&gt;\r\n        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;org.acme.bootstrap.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.optaplanner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;optaplanner-bom&lt;/artifactId&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;version&gt;${optaplanner.version}&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.optaplanner&lt;/groupId&gt;\r\n            &lt;artifactId&gt;optaplanner-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s what I run with Maven:\r\n\r\n```\r\nmvn clean compile package\r\njava -jar ./target/foo-jar-with-dependencies.jar\r\n```\r\n\r\nNote: I&#39;m using ```openjdk-17.0.2```\r\n```\r\njava --version\r\nopenjdk 17.0.2 2022-01-18\r\nOpenJDK Runtime Environment (build 17.0.2+8-86)\r\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\r\n```\r\n\r\nIt still runs fine within IntelliJ&#39;s system, but from Maven it just throws the above error.\r\n\r\nAlso, here&#39;s my ```solverConfig.xml``` for reference.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot;&gt;\r\n    &lt;solutionClass&gt;org.acme.domain.MySolution&lt;/solutionClass&gt;\r\n    &lt;entityClass&gt;org.acme.domain.Visit&lt;/entityClass&gt;\r\n    &lt;scoreDirectorFactory&gt;\r\n        &lt;constraintProviderClass&gt;org.acme.solver.MyConstraintProvider&lt;/constraintProviderClass&gt;\r\n    &lt;/scoreDirectorFactory&gt;\r\n    &lt;termination&gt;\r\n        &lt;millisecondsSpentLimit&gt;2000&lt;/millisecondsSpentLimit&gt;\r\n    &lt;/termination&gt;\r\n&lt;/solver&gt;\r\n```\r\n\r\nAnd my ```Main.kt``` file:\r\n\r\n```\r\nobject Main {\r\n\r\n    lateinit var solverFactory: SolverFactory&lt;MySolution&gt;\r\n    lateinit var solver: Solver&lt;MySolution&gt;\r\n    lateinit var scoreManager: ScoreManager&lt;MySolution, SimpleLongScore&gt;\r\n\r\n    @JvmStatic\r\n    fun main(args: Array&lt;String&gt;) {\r\n\r\n        solverFactory = SolverFactory.createFromXmlResource(&quot;solverConfig.xml&quot;)\r\n        solver = solverFactory.buildSolver()\r\n        scoreManager = ScoreManager.create(solverFactory)\r\n    }\r\n}\r\n```","title":"Can run in Intellij, but jar file fails","body":"<p>Instead of running <code>Quarkus</code>, I'm running OptaPlanner through a <code>Main class</code> entry point in <code>Kotlin</code>.</p>\n<p>This works great within <code>Intellij</code> where I have a simple <code>Run Configuration</code> set up for it.</p>\n<pre><code>object Main {\n\n    lateinit var solverFactory: SolverFactory&lt;VehicleRoutingSolution&gt;\n    lateinit var solver: Solver&lt;VehicleRoutingSolution&gt;\n    lateinit var scoreManager: ScoreManager&lt;VehicleRoutingSolution, SimpleLongScore&gt;\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        ...\n</code></pre>\n<p>However, when I create an Intellij <code>artifact</code> for a <code>jar</code> and try to run it, I get this:</p>\n<pre><code>java -jar acme.jar\nApr. 28, 2022 5:21:13 P.M. com.sun.xml.bind.v2.runtime.reflect.opt.Injector &lt;clinit&gt;\nSEVERE: null\njava.security.PrivilegedActionException: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:573)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.&lt;clinit&gt;(Injector.java:166)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:51)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:157)\n        at com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:255)\n        at com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:62)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\n        at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:150)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:484)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:301)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:109)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1126)\n        at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:135)\n        at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35)\n        at javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:88)\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:80)\n        at org.optaplanner.core.impl.io.jaxb.SolverConfigIO.&lt;init&gt;(SolverConfigIO.java:27)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlReader(SolverConfig.java:213)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlInputStream(SolverConfig.java:188)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:128)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:103)\n        at org.optaplanner.core.api.solver.SolverFactory.createFromXmlResource(SolverFactory.java:55)\n        at org.acme.bootstrap.Main.initOptaPlanner(Main.kt:112)\n        at org.acme.bootstrap.Main.main(Main.kt:43)\nCaused by: java.lang.NoSuchMethodException: sun.misc.Unsafe.defineClass(java.lang.String,[B,int,int,java.lang.ClassLoader,java.security.ProtectionDomain)\n        at java.base/java.lang.Class.getMethod(Class.java:2227)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:170)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector$3.run(Injector.java:166)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n        ... 31 more\n\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;com.sun.xml.bind.v2.runtime.reflect.opt.Injector.defineClass&quot; is null\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:294)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.Injector.inject(Injector.java:66)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.AccessorInjector.prepare(AccessorInjector.java:57)\n        at com.sun.xml.bind.v2.runtime.reflect.opt.OptimizedAccessorFactory.get(OptimizedAccessorFactory.java:157)\n        at com.sun.xml.bind.v2.runtime.reflect.Accessor$FieldReflection.optimize(Accessor.java:255)\n        at com.sun.xml.bind.v2.runtime.property.SingleElementLeafProperty.&lt;init&gt;(SingleElementLeafProperty.java:62)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at com.sun.xml.bind.v2.runtime.property.PropertyFactory.create(PropertyFactory.java:99)\n        at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.&lt;init&gt;(ClassBeanInfoImpl.java:150)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getOrCreate(JAXBContextImpl.java:484)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:301)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:109)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1126)\n        at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:135)\n        at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35)\n        at javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:88)\n        at org.optaplanner.core.impl.io.jaxb.GenericJaxbIO.&lt;init&gt;(GenericJaxbIO.java:80)\n        at org.optaplanner.core.impl.io.jaxb.SolverConfigIO.&lt;init&gt;(SolverConfigIO.java:27)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlReader(SolverConfig.java:213)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlInputStream(SolverConfig.java:188)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:128)\n        at org.optaplanner.core.config.solver.SolverConfig.createFromXmlResource(SolverConfig.java:103)\n        at org.optaplanner.core.api.solver.SolverFactory.createFromXmlResource(SolverFactory.java:55)\n        at org.acme.bootstrap.Main.initOptaPlanner(Main.kt:112)\n        at org.acme.bootstrap.Main.main(Main.kt:43)\nShutting down\n</code></pre>\n<p>In <code>solverConfig.xml</code> I'm using <code>&lt;domainAccessType&gt;REFLECTION&lt;/domainAccessType&gt;</code> because I cannot get <code>Gizmo</code> to work. I'm not sure if that's related or not, but why is there a difference between an <code>Intellij Run Config</code> and the <code>Jar</code> artifact?</p>\n<p>Thanks</p>\n<h4>*** UPDATE ***</h4>\n<p>I still get the above error message - even when creating a very basic OptaPlanner project.</p>\n<p>Here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\n    &lt;groupId&gt;org.acme&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Foo&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;kotlin.version&gt;1.6.21&lt;/kotlin.version&gt;\n        &lt;kotlin.code.style&gt;official&lt;/kotlin.code.style&gt;\n        &lt;kotlin.compiler.jvmTarget&gt;17&lt;/kotlin.compiler.jvmTarget&gt;\n        &lt;optaplanner.version&gt;8.20.0.Final&lt;/optaplanner.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;mavenCentral&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;foo&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;org.acme.bootstrap.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.optaplanner&lt;/groupId&gt;\n                &lt;artifactId&gt;optaplanner-bom&lt;/artifactId&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;version&gt;${optaplanner.version}&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.optaplanner&lt;/groupId&gt;\n            &lt;artifactId&gt;optaplanner-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here's what I run with Maven:</p>\n<pre><code>mvn clean compile package\njava -jar ./target/foo-jar-with-dependencies.jar\n</code></pre>\n<p>Note: I'm using <code>openjdk-17.0.2</code></p>\n<pre><code>java --version\nopenjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment (build 17.0.2+8-86)\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\n</code></pre>\n<p>It still runs fine within IntelliJ's system, but from Maven it just throws the above error.</p>\n<p>Also, here's my <code>solverConfig.xml</code> for reference.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot;&gt;\n    &lt;solutionClass&gt;org.acme.domain.MySolution&lt;/solutionClass&gt;\n    &lt;entityClass&gt;org.acme.domain.Visit&lt;/entityClass&gt;\n    &lt;scoreDirectorFactory&gt;\n        &lt;constraintProviderClass&gt;org.acme.solver.MyConstraintProvider&lt;/constraintProviderClass&gt;\n    &lt;/scoreDirectorFactory&gt;\n    &lt;termination&gt;\n        &lt;millisecondsSpentLimit&gt;2000&lt;/millisecondsSpentLimit&gt;\n    &lt;/termination&gt;\n&lt;/solver&gt;\n</code></pre>\n<p>And my <code>Main.kt</code> file:</p>\n<pre><code>object Main {\n\n    lateinit var solverFactory: SolverFactory&lt;MySolution&gt;\n    lateinit var solver: Solver&lt;MySolution&gt;\n    lateinit var scoreManager: ScoreManager&lt;MySolution, SimpleLongScore&gt;\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n\n        solverFactory = SolverFactory.createFromXmlResource(&quot;solverConfig.xml&quot;)\n        solver = solverFactory.buildSolver()\n        scoreManager = ScoreManager.create(solverFactory)\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1651495463,"post_id":72086429,"comment_id":127370850,"body_markdown":"Try adding the external lib&#39;s package to the array of `basePackages`.","body":"Try adding the external lib&#39;s package to the array of <code>basePackages</code>."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1651495475,"post_id":72086429,"comment_id":127370857,"body_markdown":"how are you running this application? is it a Maven/Gradle application? is it running from command line? (java ...)\nhave you specified a classpath? is the external library in your classpath?","body":"how are you running this application? is it a Maven/Gradle application? is it running from command line? (java ...) have you specified a classpath? is the external library in your classpath?"},{"owner":{"account_id":10316057,"reputation":355,"user_id":7610354,"accept_rate":33,"display_name":"msabate"},"score":0,"creation_date":1651499012,"post_id":72086429,"comment_id":127372181,"body_markdown":"It is Maven and my external library is called from pom, like a dependency because I have in my maven repository. It&#39;s working correctly but the problem is in the @Autowired operation","body":"It is Maven and my external library is called from pom, like a dependency because I have in my maven repository. It&#39;s working correctly but the problem is in the @Autowired operation"}],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651495480,"creation_date":1651495480,"answer_id":72086906,"question_id":72086429,"body_markdown":"In your component scan, you are only scanning  the defined package, and any sub-package from there. This meand that the third party lib is not caught in the component scan, hence the bean is not registered.\r\n\r\nThe options you have is to:\r\n\r\n1. use the `@ComponentScan` annotation on your main application class and add both your own base package, and the package of the third party lib.\r\n```java\r\n@ComponentScan(basePackages = {&quot;my.base.package&quot;, &quot;third.party.package&quot;})\r\npublic class MySpringBootApplication{}\r\n```\r\n\r\n2. register the bean yourself by adding something like the below to e.g. your main application class:\r\n```java\r\n@Bean\r\npublic MailService mailServiceBean() {\r\n  return new MailServiceImple();\r\n}\r\n```\r\n","title":"Field ... in ... a bean of type &#39;service&#39; that could not be found","body":"<p>In your component scan, you are only scanning  the defined package, and any sub-package from there. This meand that the third party lib is not caught in the component scan, hence the bean is not registered.</p>\n<p>The options you have is to:</p>\n<ol>\n<li>use the <code>@ComponentScan</code> annotation on your main application class and add both your own base package, and the package of the third party lib.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan(basePackages = {&quot;my.base.package&quot;, &quot;third.party.package&quot;})\npublic class MySpringBootApplication{}\n</code></pre>\n<ol start=\"2\">\n<li>register the bean yourself by adding something like the below to e.g. your main application class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic MailService mailServiceBean() {\n  return new MailServiceImple();\n}\n</code></pre>\n"}],"owner":{"account_id":10316057,"reputation":355,"user_id":7610354,"accept_rate":33,"display_name":"msabate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086906,"answer_count":1,"score":0,"last_activity_date":1651495480,"creation_date":1651493114,"question_id":72086429,"body_markdown":"I&#39;m trying to use an object which is in an external library, but when I use the @Autowired property, it is not found by the application.\r\n\r\nThe main application has the following annotations:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com.XXXX.prj.business.modules&quot;})\r\n    @EntityScan(&quot;com.XXXX.prj&quot;)\r\n    @EnableJpaRepositories(basePackages = {&quot;com.XXXX.prj.business.modules.repositories&quot;})\r\n\r\nIn the com.XXXX.prj.business.modules I have a class that calls the object of the dependency, called MailService, in this way:\r\n\r\n    @Component\r\n    public class MailNotificatorImpl implements Notificator {\r\n    \r\n    \t@Autowired\r\n    \tprivate MailService\tmailService;\r\n\r\nHere is the problem, this mailService object is not found as a bean type. The MailService is in an external library, called YYYY-commons. The class of the library has the interface and its implementation, and the implementation has this annotation:\r\n\r\n    @Service(&quot;mailService&quot;)\r\n    public class MailServiceImpl extends GenericService implements MailService, Serializable {\r\n\r\n\r\nI don&#39;t know what I&#39;m doing bad because in other application I use in the same way and it&#39;s working.\r\n\r\nCan you give me some help in this? Thanks a lot!","title":"Field ... in ... a bean of type &#39;service&#39; that could not be found","body":"<p>I'm trying to use an object which is in an external library, but when I use the @Autowired property, it is not found by the application.</p>\n<p>The main application has the following annotations:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.XXXX.prj.business.modules&quot;})\n@EntityScan(&quot;com.XXXX.prj&quot;)\n@EnableJpaRepositories(basePackages = {&quot;com.XXXX.prj.business.modules.repositories&quot;})\n</code></pre>\n<p>In the com.XXXX.prj.business.modules I have a class that calls the object of the dependency, called MailService, in this way:</p>\n<pre><code>@Component\npublic class MailNotificatorImpl implements Notificator {\n\n    @Autowired\n    private MailService mailService;\n</code></pre>\n<p>Here is the problem, this mailService object is not found as a bean type. The MailService is in an external library, called YYYY-commons. The class of the library has the interface and its implementation, and the implementation has this annotation:</p>\n<pre><code>@Service(&quot;mailService&quot;)\npublic class MailServiceImpl extends GenericService implements MailService, Serializable {\n</code></pre>\n<p>I don't know what I'm doing bad because in other application I use in the same way and it's working.</p>\n<p>Can you give me some help in this? Thanks a lot!</p>\n"},{"tags":["java","sqlite","dbeaver"],"owner":{"account_id":25172964,"reputation":11,"user_id":19015558,"display_name":"mm33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651495434,"creation_date":1651495434,"question_id":72086890,"body_markdown":"First I was using the portable version of dbeaver. Then, I decided to install it. \r\n(both are community edition) \r\nIn both cases I edited the dbeaver.ini file (multiple times) incrementally increasing memory to see if anything would work. Finally I tried setting this: -Xmx100000m  (~100GB of RAM!) and it still wouldn&#39;t open without the error. I have 32GB RAM installed and I did initially keep the setting under my actual max RAM, but then I thought, &quot;What the heck? Let it cache to the SSD.&quot; But it still didn&#39;t work!\r\n\r\nThe sqlite database is only a little over 2GB. A little big but surely not unusual for a database. \r\n\r\nAdmittedly, this is just about my first time using dbeaver and sqlite so it&#39;s probably user error.","title":"java.lang.OutOfMemoryError: Java heap space in DBeaver -- when opening sqlite database as a file","body":"<p>First I was using the portable version of dbeaver. Then, I decided to install it.\n(both are community edition)\nIn both cases I edited the dbeaver.ini file (multiple times) incrementally increasing memory to see if anything would work. Finally I tried setting this: -Xmx100000m  (~100GB of RAM!) and it still wouldn't open without the error. I have 32GB RAM installed and I did initially keep the setting under my actual max RAM, but then I thought, &quot;What the heck? Let it cache to the SSD.&quot; But it still didn't work!</p>\n<p>The sqlite database is only a little over 2GB. A little big but surely not unusual for a database.</p>\n<p>Admittedly, this is just about my first time using dbeaver and sqlite so it's probably user error.</p>\n"},{"tags":["java","validation","spring-restcontroller"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1651498842,"post_id":72086587,"comment_id":127372125,"body_markdown":"You need a polymoprhic JSON deserializer. If you&#39;re using Jackson (you seem to, the default JSON deserializer for a Spring MVC application), then https://stackoverflow.com/questions/30362446/deserialize-json-with-jackson-into-polymorphic-types-a-complete-example-is-giv can help you. Also make sure you have `ObjectMapper` properly configured. Note that using polymorphic objects can be very hard to maintain in the future, so you can consider using distinct endpoints unless it&#39;s a real &quot;no-no&quot;.","body":"You need a polymoprhic JSON deserializer. If you&#39;re using Jackson (you seem to, the default JSON deserializer for a Spring MVC application), then <a href=\"https://stackoverflow.com/questions/30362446/deserialize-json-with-jackson-into-polymorphic-types-a-complete-example-is-giv\" title=\"deserialize json with jackson into polymorphic types a complete example is giv\">stackoverflow.com/questions/30362446/&hellip;</a> can help you. Also make sure you have <code>ObjectMapper</code> properly configured. Note that using polymorphic objects can be very hard to maintain in the future, so you can consider using distinct endpoints unless it&#39;s a real &quot;no-no&quot;."}],"owner":{"account_id":19972020,"reputation":299,"user_id":14637258,"display_name":"Anne Maier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651495380,"creation_date":1651493871,"question_id":72086587,"body_markdown":"Two types of POST requests are sent to the &quot;/numbers&quot; endpoint:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;A&quot;,\r\n        &quot;numberOne&quot;: 1\r\n    }\r\n\r\nand\r\n\r\n    {\r\n        &quot;type&quot;: &quot;B&quot;,\r\n        &quot;numberOne&quot;: 1,\r\n        &quot;numberTwo&quot;: 2\r\n    }\r\n\r\n\r\nHow to validate for type A that numberOne is not null and for type B that numberOne and numberTwo are not null? I was able to find explanations of how to achieve this with two different endpoints and validation groups, but not how to achieve this with one endpoint.\r\n\r\n\r\n```\r\n@RestController\r\npublic class NumbersController {\r\n\r\n    @PostMapping(&quot;/numbers&quot;)\r\n    public Numbers addNumbers(@Valid @RequestBody Numbers numbers) {\r\n        // Create data. \r\n        return numbers;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Data\r\npublic class Numbers {\r\n    private String type;\r\n    @NotNull\r\n    private Integer numberOne;\r\n    @NotNull\r\n    private Integer numberTwo;\r\n}\r\n\r\n```","title":"Validate different POST requests, one endpoint","body":"<p>Two types of POST requests are sent to the &quot;/numbers&quot; endpoint:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;A&quot;,\n    &quot;numberOne&quot;: 1\n}\n</code></pre>\n<p>and</p>\n<pre><code>{\n    &quot;type&quot;: &quot;B&quot;,\n    &quot;numberOne&quot;: 1,\n    &quot;numberTwo&quot;: 2\n}\n</code></pre>\n<p>How to validate for type A that numberOne is not null and for type B that numberOne and numberTwo are not null? I was able to find explanations of how to achieve this with two different endpoints and validation groups, but not how to achieve this with one endpoint.</p>\n<pre><code>@RestController\npublic class NumbersController {\n\n    @PostMapping(&quot;/numbers&quot;)\n    public Numbers addNumbers(@Valid @RequestBody Numbers numbers) {\n        // Create data. \n        return numbers;\n    }\n}\n\n</code></pre>\n<pre><code>@Data\npublic class Numbers {\n    private String type;\n    @NotNull\n    private Integer numberOne;\n    @NotNull\n    private Integer numberTwo;\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6091910,"reputation":2056,"user_id":4753904,"accept_rate":75,"display_name":"CoderNeji"},"score":0,"creation_date":1434367796,"post_id":30844013,"comment_id":49731386,"body_markdown":"possible duplicate of [Building an absolute URL from a relative URL in Java](http://stackoverflow.com/questions/1389184/building-an-absolute-url-from-a-relative-url-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1389184/building-an-absolute-url-from-a-relative-url-in-java\">Building an absolute URL from a relative URL in Java</a>"},{"owner":{"account_id":3039548,"reputation":14565,"user_id":2576903,"accept_rate":90,"display_name":"Kaloyan Roussev"},"score":0,"creation_date":1434367857,"post_id":30844013,"comment_id":49731429,"body_markdown":"Not a duplicate, they want the opposite thing there","body":"Not a duplicate, they want the opposite thing there"},{"owner":{"account_id":6091910,"reputation":2056,"user_id":4753904,"accept_rate":75,"display_name":"CoderNeji"},"score":0,"creation_date":1434367955,"post_id":30844013,"comment_id":49731489,"body_markdown":"Sorry my mistake... Find your answer here http://www.java2s.com/Code/Java/Network-Protocol/ResolvearelativeURLstringagainstanabsoluteURLstring.htm","body":"Sorry my mistake... Find your answer here <a href=\"http://www.java2s.com/Code/Java/Network-Protocol/ResolvearelativeURLstringagainstanabsoluteURLstring.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Java/Network-Protocol/&hellip;</a>"},{"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"score":0,"creation_date":1434368185,"post_id":30844013,"comment_id":49731636,"body_markdown":"@J.K. According to your new edit. Where are you going to trying to retrieve the absolute path if it is not from your relative website?","body":"@J.K. According to your new edit. Where are you going to trying to retrieve the absolute path if it is not from your relative website?"}],"answers":[{"tags":[],"owner":{"account_id":4066807,"reputation":178,"user_id":3447831,"accept_rate":54,"display_name":"Nagarz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1434367940,"creation_date":1434367940,"answer_id":30844079,"question_id":30844013,"body_markdown":"if you know that the domain will always be .com then you can try something like this:\r\n\r\n    String url = &quot;https://asd.com/somestuff/another.html&quot;;\r\n    String[] parts = url.split(&quot;.com/&quot;);\r\n    //parts[1] is the string after the .com/\r\n","title":"How to extract the relative url from the absolute url in Java","body":"<p>if you know that the domain will always be .com then you can try something like this:</p>\n\n<pre><code>String url = \"https://asd.com/somestuff/another.html\";\nString[] parts = url.split(\".com/\");\n//parts[1] is the string after the .com/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1434371838,"creation_date":1434368557,"answer_id":30844308,"question_id":30844013,"body_markdown":"You could use the [`getPath()`](http://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()) method of the `URL` object:\r\n\r\n    URL url = new URL(&quot;https://asd.com/somestuff/another.html&quot;);\r\n    System.out.println(url.getPath());  // prints &quot;/somestuff/another.html&quot;\r\n\r\nNow, this only brings the actual path. If you need more information (the anchor or the parameters passed as get values), you need to call other accessors of the `URL` object:\r\n\r\n    URL url = new URL(&quot;https://asd.com/somestuff/another.html?param=value#anchor&quot;);\r\n    System.out.println(url.getPath());  // prints &quot;/somestuff/another.html&quot;\r\n    System.out.println(url.getQuery()); // prints &quot;param=value&quot;\r\n    System.out.println(url.getRef());   // prints &quot;anchor&quot;\r\n\r\nA possible use to generate the relative URL without much code, based on [Hiru&#39;s answer](https://stackoverflow.com/a/30844342/1734119):\r\n\r\n    URL absolute = new URL(url, &quot;/&quot;);\r\n    String relative = url.toString().substring(absolute.toString().length());\r\n\tSystem.out.println(relative); // prints &quot;somestuff/another.html?param=value#anchor&quot;\r\n","title":"How to extract the relative url from the absolute url in Java","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URL.html#getPath()\" rel=\"noreferrer\"><code>getPath()</code></a> method of the <code>URL</code> object:</p>\n\n<pre><code>URL url = new URL(\"https://asd.com/somestuff/another.html\");\nSystem.out.println(url.getPath());  // prints \"/somestuff/another.html\"\n</code></pre>\n\n<p>Now, this only brings the actual path. If you need more information (the anchor or the parameters passed as get values), you need to call other accessors of the <code>URL</code> object:</p>\n\n<pre><code>URL url = new URL(\"https://asd.com/somestuff/another.html?param=value#anchor\");\nSystem.out.println(url.getPath());  // prints \"/somestuff/another.html\"\nSystem.out.println(url.getQuery()); // prints \"param=value\"\nSystem.out.println(url.getRef());   // prints \"anchor\"\n</code></pre>\n\n<p>A possible use to generate the relative URL without much code, based on <a href=\"https://stackoverflow.com/a/30844342/1734119\">Hiru's answer</a>:</p>\n\n<pre><code>URL absolute = new URL(url, \"/\");\nString relative = url.toString().substring(absolute.toString().length());\nSystem.out.println(relative); // prints \"somestuff/another.html?param=value#anchor\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116345,"reputation":145,"user_id":2637016,"display_name":"Aleksander Panayotov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434368630,"creation_date":1434368630,"answer_id":30844336,"question_id":30844013,"body_markdown":"The URL consists of the following elements (note that some optional elements are omitted):\r\n1) scheme\r\n2) hostname\r\n3) [port]\r\n4) path\r\n5) query\r\n6) fragment\r\nUsing the [Java URL][1] API, you can do the following: \r\n\r\n    URL u = new URL(&quot;https://randomsite.org/another/randomPage.html&quot;);\r\n    System.out.println(u.getPath());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URL.html\r\n\r\nEdit#1\r\nSeeing Chop&#39;s answer, in case you have query elements in your URL, such as \r\n\r\n    ?name=foo&amp;value=bar\r\n\r\nUsing the `getQuery()` method will not return the resource path, just the query part.","title":"How to extract the relative url from the absolute url in Java","body":"<p>The URL consists of the following elements (note that some optional elements are omitted):\n1) scheme\n2) hostname\n3) [port]\n4) path\n5) query\n6) fragment\nUsing the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"nofollow\">Java URL</a> API, you can do the following: </p>\n\n<pre><code>URL u = new URL(\"https://randomsite.org/another/randomPage.html\");\nSystem.out.println(u.getPath());\n</code></pre>\n\n<p>Edit#1\nSeeing Chop's answer, in case you have query elements in your URL, such as </p>\n\n<pre><code>?name=foo&amp;value=bar\n</code></pre>\n\n<p>Using the <code>getQuery()</code> method will not return the resource path, just the query part.</p>\n"},{"tags":[],"owner":{"account_id":3251604,"reputation":1437,"user_id":2741693,"accept_rate":100,"display_name":"Hiren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434369364,"creation_date":1434368645,"answer_id":30844342,"question_id":30844013,"body_markdown":"Try This\r\n\r\n  Use it Globally not only for .com\r\n\r\n        URL u=new URL(&quot;https://asd.in/somestuff/another.html&quot;);\r\n    \tString u1=new URL(u, &quot;/&quot;).toString();\r\n    \tString u2=u.toString();\r\n    \tString[] u3=u2.split(u1);\r\n    \tSystem.out.println(u3[1]); //it prints:   somestuff/another.html","title":"How to extract the relative url from the absolute url in Java","body":"<p>Try This</p>\n\n<p>Use it Globally not only for .com</p>\n\n<pre><code>    URL u=new URL(\"https://asd.in/somestuff/another.html\");\n    String u1=new URL(u, \"/\").toString();\n    String u2=u.toString();\n    String[] u3=u2.split(u1);\n    System.out.println(u3[1]); //it prints:   somestuff/another.html\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3203331,"reputation":189,"user_id":3676207,"accept_rate":100,"display_name":"sam_haz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434369118,"creation_date":1434369118,"answer_id":30844501,"question_id":30844013,"body_markdown":"You can do this using below snippet.\r\n   \r\n\r\n     String str=&quot;https://asd.org/somestuff/another.html&quot;;\r\n        if(str.contains(&quot;//&quot;)) //To remove any protocol specific header.\r\n        {\r\n        \tstr=str.split(&quot;//&quot;)[1];\r\n        }\r\n        System.out.println(str.substring(str.indexOf(&quot;/&quot;)+1)); // taking the first &#39;/&#39;","title":"How to extract the relative url from the absolute url in Java","body":"<p>You can do this using below snippet.</p>\n\n<pre><code> String str=\"https://asd.org/somestuff/another.html\";\n    if(str.contains(\"//\")) //To remove any protocol specific header.\n    {\n        str=str.split(\"//\")[1];\n    }\n    System.out.println(str.substring(str.indexOf(\"/\")+1)); // taking the first '/'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6331951,"reputation":3994,"user_id":4916630,"accept_rate":67,"display_name":"Anton Krosnev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591346485,"creation_date":1591346485,"answer_id":62211381,"question_id":30844013,"body_markdown":"My solution based on `java.net.URI`\r\n\r\n```\r\nURI _absoluteURL = new URI(absoluteUrl).normalize();\r\nString root = _absoluteURL.getScheme() + &quot;://&quot; + _absoluteURL.getAuthority();\r\nURI relative = new URI(root).relativize(_absoluteURL);\r\n\r\nString result = relative.toString();\r\n```","title":"How to extract the relative url from the absolute url in Java","body":"<p>My solution based on <code>java.net.URI</code></p>\n\n<pre><code>URI _absoluteURL = new URI(absoluteUrl).normalize();\nString root = _absoluteURL.getScheme() + \"://\" + _absoluteURL.getAuthority();\nURI relative = new URI(root).relativize(_absoluteURL);\n\nString result = relative.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19216569,"reputation":1,"user_id":16725063,"display_name":"Fulin Xu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651495312,"creation_date":1651495312,"answer_id":72086867,"question_id":30844013,"body_markdown":"Consider using Apache Commons VFS...  \r\n\r\n```java\r\nimport org.apache.commons.vfs2.FileSystemException;\r\nimport org.apache.commons.vfs2.VFS;\r\nimport org.apache.commons.vfs2.impl.StandardFileSystemManager;\r\n\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.net.URL;\r\nimport java.net.URLStreamHandlerFactory;\r\n\r\npublic class StudyURI {\r\n    public static void main(String[] args) throws URISyntaxException, FileSystemException {\r\n        StandardFileSystemManager fileSystemManager = (StandardFileSystemManager) VFS.getManager();\r\n        URLStreamHandlerFactory factory = fileSystemManager.getURLStreamHandlerFactory();\r\n        URL.setURLStreamHandlerFactory(factory);\r\n\r\n        URI baseURI = fileSystemManager.resolveFile(&quot;https://asd.com/&quot;).getURI();\r\n        URI anotherURI =fileSystemManager.resolveFile(&quot;https://asd.com/somestuff/another.html&quot;).getURI();\r\n\r\n        String result = baseURI.relativize(anotherURI).getPath();\r\n\r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\n\r\nMaybe you need to add module to run the code:  \r\n[https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient](https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient)","title":"How to extract the relative url from the absolute url in Java","body":"<p>Consider using Apache Commons VFS...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.vfs2.FileSystemException;\nimport org.apache.commons.vfs2.VFS;\nimport org.apache.commons.vfs2.impl.StandardFileSystemManager;\n\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.net.URLStreamHandlerFactory;\n\npublic class StudyURI {\n    public static void main(String[] args) throws URISyntaxException, FileSystemException {\n        StandardFileSystemManager fileSystemManager = (StandardFileSystemManager) VFS.getManager();\n        URLStreamHandlerFactory factory = fileSystemManager.getURLStreamHandlerFactory();\n        URL.setURLStreamHandlerFactory(factory);\n\n        URI baseURI = fileSystemManager.resolveFile(&quot;https://asd.com/&quot;).getURI();\n        URI anotherURI =fileSystemManager.resolveFile(&quot;https://asd.com/somestuff/another.html&quot;).getURI();\n\n        String result = baseURI.relativize(anotherURI).getPath();\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>Maybe you need to add module to run the code:<br />\n<a href=\"https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient</a></p>\n"}],"owner":{"account_id":3039548,"reputation":14565,"user_id":2576903,"accept_rate":90,"display_name":"Kaloyan Roussev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5147,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30844308,"answer_count":7,"score":6,"last_activity_date":1651495312,"creation_date":1434367727,"question_id":30844013,"body_markdown":"I have this website:\r\n\r\n    https://asd.com/somestuff/another.html\r\n\r\nand I want to extract the relative part out of it:\r\n\r\n    somestuff/another.html\r\n\r\nHow do I do that?\r\n\r\nEDIT: I was offered an answer to a question, but the problem there was to build the absolute url out of the relative which is not what I&#39;m interested in.","title":"How to extract the relative url from the absolute url in Java","body":"<p>I have this website:</p>\n\n<pre><code>https://asd.com/somestuff/another.html\n</code></pre>\n\n<p>and I want to extract the relative part out of it:</p>\n\n<pre><code>somestuff/another.html\n</code></pre>\n\n<p>How do I do that?</p>\n\n<p>EDIT: I was offered an answer to a question, but the problem there was to build the absolute url out of the relative which is not what I'm interested in.</p>\n"},{"tags":["java","protostuff"],"comments":[{"owner":{"account_id":24411678,"reputation":173,"user_id":18339056,"display_name":"lost.sof"},"score":0,"creation_date":1651506398,"post_id":72086859,"comment_id":127375057,"body_markdown":"An answer (it works for me )  from github https://github.com/protostuff/protostuff/issues/330","body":"An answer (it works for me )  from github <a href=\"https://github.com/protostuff/protostuff/issues/330\" rel=\"nofollow noreferrer\">github.com/protostuff/protostuff/issues/330</a>"},{"owner":{"account_id":24411678,"reputation":173,"user_id":18339056,"display_name":"lost.sof"},"score":0,"creation_date":1651506796,"post_id":72086859,"comment_id":127375207,"body_markdown":"more details @see https://protostuff.github.io/docs/protostuff-runtime/","body":"more details @see <a href=\"https://protostuff.github.io/docs/protostuff-runtime/\" rel=\"nofollow noreferrer\">protostuff.github.io/docs/protostuff-runtime</a>"}],"owner":{"account_id":24411678,"reputation":173,"user_id":18339056,"display_name":"lost.sof"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651495291,"creation_date":1651495291,"question_id":72086859,"body_markdown":"how to define in java class to get **runtime schema** that matches the proto definition in below\r\n\r\n```proto\r\nmessage PacketHeader {\r\n  int32 appId = 1;\r\n  int64 uid = 2;\r\n  int64 instanceId = 3;\r\n  // -------------------------  4 is blank\r\n  uint32 flags = 5;\r\n}\r\n```\r\n\r\n#### a wrong case:\r\n\r\n```java\r\npublic class PacketHeader {\r\n  public int appId;\r\n  public long uid;\r\n  public long instanceId;\r\n  // ---------------------------- how to define the blank 4 ?\r\n  public int flags;\r\n}\r\n```","title":"how to define in java class to matches the proto blank field definition?","body":"<p>how to define in java class to get <strong>runtime schema</strong> that matches the proto definition in below</p>\n<pre class=\"lang-proto prettyprint-override\"><code>message PacketHeader {\n  int32 appId = 1;\n  int64 uid = 2;\n  int64 instanceId = 3;\n  // -------------------------  4 is blank\n  uint32 flags = 5;\n}\n</code></pre>\n<h4>a wrong case:</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class PacketHeader {\n  public int appId;\n  public long uid;\n  public long instanceId;\n  // ---------------------------- how to define the blank 4 ?\n  public int flags;\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1156700,"reputation":1433,"user_id":1137118,"accept_rate":100,"display_name":"Pphoenix"},"score":1,"creation_date":1397814628,"post_id":23151539,"comment_id":35401001,"body_markdown":"Wouldnt you want to do i+=4 if you check each 4th element?","body":"Wouldnt you want to do i+=4 if you check each 4th element?"}],"answers":[{"tags":[],"owner":{"account_id":1064189,"reputation":8562,"user_id":1065145,"accept_rate":28,"display_name":"Denis Kulagin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397815077,"creation_date":1397814711,"answer_id":23151629,"question_id":23151539,"body_markdown":"It could be solved in a much simpler way:\r\n\r\n    String result = &quot;&quot;;\r\n    \r\n    for (int i = 0; i &lt; str.length(); i += 4) {\r\n\tresult += str.substring(i, Math.min(str.length(), i + 2));\t\t\t\r\n    }\r\n    \r\n    return result;\r\n\r\nMore:\r\n\r\n - It&#39;s generally a bad idea to change counter variable inside a *for* loop - use *while* loop then.\r\n - substring(int beginIndex, int endIndex) - *endIndex* is exclusive.\r\n","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>It could be solved in a much simpler way:</p>\n\n<pre><code>String result = \"\";\n\nfor (int i = 0; i &lt; str.length(); i += 4) {\nresult += str.substring(i, Math.min(str.length(), i + 2));          \n}\n\nreturn result;\n</code></pre>\n\n<p>More:</p>\n\n<ul>\n<li>It's generally a bad idea to change counter variable inside a <em>for</em> loop - use <em>while</em> loop then.</li>\n<li>substring(int beginIndex, int endIndex) - <em>endIndex</em> is exclusive.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397815099,"creation_date":1397814725,"answer_id":23151633,"question_id":23151539,"body_markdown":"First the second index of `substring` is exclusive. If you want 2 characters directly, you should use `i+2` instead of `i+1`:\r\n\r\n    str.substring(i, i+2)\r\n\r\nThen, you just have to increment `i` by `4` at each loop turn. Use `i+=4` instead of `i++`, and you won&#39;t need the conditional increment.\r\n\r\n    for (int i = 0; i &lt; str.length() - 1; i+=4) {\r\n        result += str.substring(i, i+2);\r\n    }\r\n\r\nOr, if you allow to break a pair of characters at the end of the String:\r\n\r\n    for (int i = 0; i &lt; str.length(); i+=4) {\r\n        if (i &lt; str.length() - 1)\r\n            result += str.substring(i, i+2);\r\n        else\r\n            result += str.substring(i, i+1);\r\n    }","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>First the second index of <code>substring</code> is exclusive. If you want 2 characters directly, you should use <code>i+2</code> instead of <code>i+1</code>:</p>\n\n<pre><code>str.substring(i, i+2)\n</code></pre>\n\n<p>Then, you just have to increment <code>i</code> by <code>4</code> at each loop turn. Use <code>i+=4</code> instead of <code>i++</code>, and you won't need the conditional increment.</p>\n\n<pre><code>for (int i = 0; i &lt; str.length() - 1; i+=4) {\n    result += str.substring(i, i+2);\n}\n</code></pre>\n\n<p>Or, if you allow to break a pair of characters at the end of the String:</p>\n\n<pre><code>for (int i = 0; i &lt; str.length(); i+=4) {\n    if (i &lt; str.length() - 1)\n        result += str.substring(i, i+2);\n    else\n        result += str.substring(i, i+1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3388387,"reputation":3408,"user_id":2843856,"accept_rate":58,"display_name":"DCoder"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1397815120,"creation_date":1397815120,"answer_id":23151742,"question_id":23151539,"body_markdown":"check this out..\r\n\r\n    public String altPairs(String str) {\r\n    String result = &quot;&quot;;\r\n    for (int i = 0; i &lt; str.length(); ) {\r\n    result += str.substring(i, i+1);\r\n    i+=4;\r\n    }\r\n    return result;}","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>check this out..</p>\n\n<pre><code>public String altPairs(String str) {\nString result = \"\";\nfor (int i = 0; i &lt; str.length(); ) {\nresult += str.substring(i, i+1);\ni+=4;\n}\nreturn result;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25173019,"reputation":1,"user_id":19015609,"display_name":"Aditya Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651495176,"creation_date":1651495176,"answer_id":72086842,"question_id":23151539,"body_markdown":"    public String altPairs(String str) {\r\n      String newStr = &quot;&quot;;\r\n        for(int i=0;i&lt;str.length();i++)\r\n        {\r\n          newStr = newStr +str.charAt(i);\r\n          if(i%2!=0)\r\n            i=i+2;\r\n        }\r\n      return newStr;\r\n    }\r\n\r\nI did it this way \r\nInside loop add a condition\r\nif i is odd then i=i+2;\r\nwhich is increasing the value of i to +3 index","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<pre><code>public String altPairs(String str) {\n  String newStr = &quot;&quot;;\n    for(int i=0;i&lt;str.length();i++)\n    {\n      newStr = newStr +str.charAt(i);\n      if(i%2!=0)\n        i=i+2;\n    }\n  return newStr;\n}\n</code></pre>\n<p>I did it this way\nInside loop add a condition\nif i is odd then i=i+2;\nwhich is increasing the value of i to +3 index</p>\n"}],"owner":{"display_name":"user3370587"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2782,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":23151629,"answer_count":4,"score":-1,"last_activity_date":1651495176,"creation_date":1397814353,"question_id":23151539,"body_markdown":"I have came across this problem on codingbat.com:\r\n\r\n**Given a string, return a string made of the chars at indexes 0,1, 4,5, 8,9 ... so\r\n&quot;kittens&quot; yields &quot;kien&quot;.**\r\n\r\n\r\n\r\nHere is my code:\r\n\r\n \r\n\r\n    public String altPairs(String str) {\r\n      \r\n      String result = &quot;&quot;;\r\n      \r\n      for (int i = 0; i &lt; str.length(); i++) {\r\n        result += str.substring(i, i+1);\r\n        \r\n        if (i &gt; 0 &amp;&amp; str.indexOf(str.substring(i, i+1)) % 2 != 0) i += 2;\r\n      }\r\n      \r\n      return result;\r\n    }\r\n\r\nFor **&quot;CodingHorror&quot;**, it should return **&quot;Congrr&quot;**.\r\n\r\n\r\n----------\r\n\r\n - Why does my code return **&quot;Congrro&quot;** for the parameter **&quot;CodingHorror&quot;**?","title":"Create a String from chars at indexes 0, 1, 4, 5, 8, 9","body":"<p>I have came across this problem on codingbat.com:</p>\n\n<p><strong>Given a string, return a string made of the chars at indexes 0,1, 4,5, 8,9 ... so\n\"kittens\" yields \"kien\".</strong></p>\n\n<p>Here is my code:</p>\n\n<pre><code>public String altPairs(String str) {\n\n  String result = \"\";\n\n  for (int i = 0; i &lt; str.length(); i++) {\n    result += str.substring(i, i+1);\n\n    if (i &gt; 0 &amp;&amp; str.indexOf(str.substring(i, i+1)) % 2 != 0) i += 2;\n  }\n\n  return result;\n}\n</code></pre>\n\n<p>For <strong>\"CodingHorror\"</strong>, it should return <strong>\"Congrr\"</strong>.</p>\n\n<hr>\n\n<ul>\n<li>Why does my code return <strong>\"Congrro\"</strong> for the parameter <strong>\"CodingHorror\"</strong>?</li>\n</ul>\n"},{"tags":["java","oracle","spring-boot","triggers","listener"],"answers":[{"tags":[],"owner":{"account_id":1269867,"reputation":2029,"user_id":1226436,"accept_rate":95,"display_name":"Miguel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651494608,"creation_date":1651494608,"answer_id":72086740,"question_id":72086207,"body_markdown":"I suppose theoretically you could create a `check timer function` in your spring boot application that would effectively check if any rows have been added to a table. That would take care of new rows. However for items that are updated or deleted , you could implement a trigger on the table object  and have a secondary table which would keep track of those changes and again you could check those table on pre-determined time interval for any changes from springboot application. You could look into `spring-jdbc` for examples on how to do CRUD operations. If you have any specifics questions post them up and we will try to help you. GOOD LUCK!","title":"How to implement a oracle db listener in spring boot application","body":"<p>I suppose theoretically you could create a <code>check timer function</code> in your spring boot application that would effectively check if any rows have been added to a table. That would take care of new rows. However for items that are updated or deleted , you could implement a trigger on the table object  and have a secondary table which would keep track of those changes and again you could check those table on pre-determined time interval for any changes from springboot application. You could look into <code>spring-jdbc</code> for examples on how to do CRUD operations. If you have any specifics questions post them up and we will try to help you. GOOD LUCK!</p>\n"}],"owner":{"account_id":16362432,"reputation":155,"user_id":11817672,"display_name":"APK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651494608,"creation_date":1651492009,"question_id":72086207,"body_markdown":"I have a table in ***oracle database*** and a ***spring boot application***, I want my spring boot application to listen to any change(update/insert) that happens in the table and do some operations after that. \r\n\r\nI have seen some stack-overflow answers that suggests to use [DBMS_ALERT][1] or ***Oracle AQ / Oracle Streams***.\r\n\r\nPlease let me know if it is possible to do that, If yes How can I implement it in spring boot application. \r\nPlease suggest if there is any other way to achieve that.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_alert.htm#CHDDJCJG","title":"How to implement a oracle db listener in spring boot application","body":"<p>I have a table in <em><strong>oracle database</strong></em> and a <em><strong>spring boot application</strong></em>, I want my spring boot application to listen to any change(update/insert) that happens in the table and do some operations after that.</p>\n<p>I have seen some stack-overflow answers that suggests to use <a href=\"https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_alert.htm#CHDDJCJG\" rel=\"nofollow noreferrer\">DBMS_ALERT</a> or <em><strong>Oracle AQ / Oracle Streams</strong></em>.</p>\n<p>Please let me know if it is possible to do that, If yes How can I implement it in spring boot application.\nPlease suggest if there is any other way to achieve that.</p>\n"},{"tags":["java","algorithm","parsing","recursion","binary-tree"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1651452191,"post_id":72081344,"comment_id":127361950,"body_markdown":"IOnstead of your crazy i/j loop you should use `System.arraycopy(array, 1, copy, 0, array.length - 1);`. Also, in your loop, indices are very closely related, thus you should never use 2 different variables for indexing, as this further obscures their meaning.","body":"IOnstead of your crazy i/j loop you should use <code>System.arraycopy(array, 1, copy, 0, array.length - 1);</code>. Also, in your loop, indices are very closely related, thus you should never use 2 different variables for indexing, as this further obscures their meaning."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1651452257,"post_id":72081344,"comment_id":127361963,"body_markdown":"You should also post the code for `TreeNode`, so that we can run this example and try it out. Because there&#39;s some things to your `TreeNode` class that are not abvious.","body":"You should also post the code for <code>TreeNode</code>, so that we can run this example and try it out. Because there&#39;s some things to your <code>TreeNode</code> class that are not abvious."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1651452664,"post_id":72081344,"comment_id":127362012,"body_markdown":"For runtimes sake, you should also not copy arrays, just to advance the first element by one. Use an index parameter to advance addressing. Plus, you should not assign a value to a parameter (`root = xyz`) variable, that&#39;s pretty unclean code. Also, your code will not even make it as far as 6. Because you have not posted your `TreeNode` class, with my minimally generated pseudo class the code will die after `next: 3` with a NullPointerException.","body":"For runtimes sake, you should also not copy arrays, just to advance the first element by one. Use an index parameter to advance addressing. Plus, you should not assign a value to a parameter (<code>root = xyz</code>) variable, that&#39;s pretty unclean code. Also, your code will not even make it as far as 6. Because you have not posted your <code>TreeNode</code> class, with my minimally generated pseudo class the code will die after <code>next: 3</code> with a NullPointerException."},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1651462339,"post_id":72081344,"comment_id":127363035,"body_markdown":"I added my TreeNode code, and changed the code. Im now using a pointer to assign the values. I got rid of the i/j loop too, but my problem is logical, I&#39;m just not quite sure where it is.","body":"I added my TreeNode code, and changed the code. Im now using a pointer to assign the values. I got rid of the i/j loop too, but my problem is logical, I&#39;m just not quite sure where it is."},{"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"score":0,"creation_date":1651469584,"post_id":72081344,"comment_id":127364068,"body_markdown":"Show us your actual output and expected output","body":"Show us your actual output and expected output"},{"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"score":0,"creation_date":1651490498,"post_id":72081344,"comment_id":127369245,"body_markdown":"The whole prefix express is `- + 3 ^ 4 * 15 6 + % 14 3 * 65 5`? Can you share the the infix version.","body":"The whole prefix express is <code>- + 3 ^ 4 * 15 6 + % 14 3 * 65 5</code>? Can you share the the infix version."},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1651494600,"post_id":72081344,"comment_id":127370543,"body_markdown":"@Mr.Brickowski The expected infix expression would be  **3 + 4 * 15 * 6 - 14 \\ 3 + 65 * 5**","body":"@Mr.Brickowski The expected infix expression would be  <b>3 + 4 * 15 * 6 - 14 \\ 3 + 65 * 5</b>"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651494602,"creation_date":1651494602,"answer_id":72086738,"question_id":72081344,"body_markdown":"Okay, I gave up on your solution and implemented my version for it.\r\n\r\nYou had some cycles in your graph, because sometimes one if your `TreeNode`s would reference itself or its parent as its `left`. My method `getMaxWidthOfChildren()` will showcase that and is compatible with your code. So you could use it in your code to see the problems.\r\n\r\nBut there&#39;s another problem involved: Once you have to iterate upwards more than one step, your &#39;array indexing&#39; (or in your case: removing the first array element from the array on EACH call) gets out of step. You remove too many elements, and thus lose the elements and track of the remaining cells.\r\n\r\nNow to my solution: \r\n - this is more straightforward, because it is naturally recursive, exactly matching the intent of your (depth-first) first-order logic, and each constructor decides and acquires the needed data for itself. \r\n - The big trick here is - analogous to advancing an index on an array - to use a `Stack`, here in the form of a `LinkedList`. (The java.util.Stack is thread-safe, which is not needed here, so I use its modern counterpart `LinkedList`)\r\n - Also, you can input the whole data string again, without any artificial additional notes and variables.\r\n\r\nSo construction was really easy, but getting the `toString()` method implemented properly was a bit of a struggle.\r\n\r\n\r\n\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    import java.util.LinkedList;\r\n    \r\n    public class PopulateTree {\r\n    \r\n    \r\n    \r\n    \tstatic public class TreeNode {\r\n    \t\tprotected String\tdata;\r\n    \t\tprotected boolean\tisOperator;\r\n    \t\tprotected TreeNode\tleft, right, parent;\r\n    \r\n    \t\tpublic TreeNode(final LinkedList&lt;String&gt; pQueue, final TreeNode pParent) {\r\n    \t\t\tdata = pQueue.poll();\r\n    \t\t\tisOperator = isOperator(this.data);\r\n    \t\t\tparent = pParent;\r\n    \t\t\tleft = isOperator ? new TreeNode(pQueue, this) : null;\r\n    \t\t\tright = isOperator ? new TreeNode(pQueue, this) : null;\r\n    \t\t}\r\n    \r\n    \t\t// it&#39;s likely we need this functionality method somewhere else, too, so we put it in its own method\r\n    \t\t// also, it makes the CTOR so much shorter and its use obvious\r\n    \t\tstatic public boolean isOperator(final String pString) {\r\n    \t\t\treturn pString.equals(&quot;+&quot;) || pString.equals(&quot;-&quot;) || pString.equals(&quot;*&quot;) || pString.equals(&quot;/&quot;) || pString.equals(&quot;%&quot;);\r\n    \t\t}\r\n    \r\n    \t\tpublic int getMaxWidthOfChildren() {\r\n    \t\t\treturn getMaxWidthOfChildren(new HashSet&lt;&gt;());\r\n    \t\t}\r\n    \t\tprivate int getMaxWidthOfChildren(final HashSet&lt;TreeNode&gt; pAlreadyVisitedNodes) {\r\n    \t\t\tif (pAlreadyVisitedNodes.contains(this)) {\r\n    \t\t\t\tSystem.out.println(&quot;Error: recursive loop for &quot; + this.data);\r\n    \t\t\t\treturn 0;\r\n    \t\t\t} else {\r\n    \t\t\t\tpAlreadyVisitedNodes.add(this);\r\n    \t\t\t}\r\n    \r\n    \t\t\tint ret = 1;\r\n    \t\t\tif (left != null) ret += left.getMaxWidthOfChildren(pAlreadyVisitedNodes);\r\n    \t\t\tif (right != null) ret += right.getMaxWidthOfChildren(pAlreadyVisitedNodes);\r\n    \t\t\treturn ret;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getMaxDepth() {\r\n    \t\t\tfinal int l = left == null ? 0 : left.getMaxDepth();\r\n    \t\t\tfinal int r = right == null ? 0 : right.getMaxDepth();\r\n    \t\t\treturn 1 + Math.max(l, r);\r\n    \t\t}\r\n    \r\n    \t\t@Override public String toString() {\r\n    \t\t\tfinal int maxDepth = getMaxDepth();\r\n    \t\t\tSystem.out.println(&quot;maxDepth: &quot; + maxDepth);\r\n    \t\t\tfinal int maxWidth = (int) (Math.pow(2, maxDepth - 2) * 2 - 1);\r\n    \t\t\tSystem.out.println(&quot;maxWidth: &quot; + maxWidth);\r\n    \t\t\tfinal String[][] out = new String[maxDepth][maxWidth];\r\n    \r\n    \t\t\t// fill array with data\r\n    \t\t\tfinal int center = maxWidth / 2;\r\n    \t\t\tfillArray(out, maxWidth, center, this, 0);\r\n    \r\n    \t\t\t// form array into String\r\n    \t\t\tfinal StringBuilder sb = new StringBuilder();\r\n    \t\t\tfor (int y = 0; y &lt; out.length; y++) {\r\n    \t\t\t\tfor (int x = 0; x &lt; out[y].length; x++) {\r\n    \t\t\t\t\tfinal String dat = out[y][x];\r\n    \t\t\t\t\tfinal String text = dat == null ? &quot;&quot; : dat;\r\n    \t\t\t\t\tsb.append(text + &quot;\\t&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tsb.append(&quot;\\n&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn sb.toString();\r\n    \t\t}\r\n    \t\tprivate void fillArray(final String[][] pOut, final int pWidth, final int pCenter, final TreeNode pTreeNode, final int pLineIndex) {\r\n    \t\t\tif (pTreeNode == null) return;\r\n    \t\t\tSystem.out.println(&quot;Filling: w=&quot; + pWidth + &quot;\\tc=&quot; + pCenter + &quot;\\tl=&quot; + pLineIndex);\r\n    \r\n    \t\t\tpOut[pLineIndex][pCenter] = pTreeNode.data;\r\n    \t\t\tfinal int newWidth = pWidth / 2;\r\n    \t\t\tfinal int leftCenter = pCenter - newWidth / 2 - 1;\r\n    \t\t\tfinal int rightCenter = pCenter + newWidth / 2 + 1;\r\n    \t\t\tfillArray(pOut, newWidth, leftCenter, pTreeNode.left, pLineIndex + 1);\r\n    \t\t\tfillArray(pOut, newWidth, rightCenter, pTreeNode.right, pLineIndex + 1);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal String[] in = { &quot;-&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;, &quot;4&quot;, &quot;*&quot;, &quot;15&quot;, &quot;6&quot;, &quot;+&quot;, &quot;/&quot;, &quot;14&quot;, &quot;3&quot;, &quot;*&quot;, &quot;65&quot;, &quot;5&quot; };\r\n    \t\tfinal LinkedList&lt;String&gt; queue = new LinkedList&lt;&gt;(Arrays.asList(in));\r\n    \t\tfinal TreeNode root = new TreeNode(queue, null);\r\n    \r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Printing Root Node:&quot;);\r\n    \t\tSystem.out.println(root);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }","title":"Recursively creating a binary parse tree from an array of strings","body":"<p>Okay, I gave up on your solution and implemented my version for it.</p>\n<p>You had some cycles in your graph, because sometimes one if your <code>TreeNode</code>s would reference itself or its parent as its <code>left</code>. My method <code>getMaxWidthOfChildren()</code> will showcase that and is compatible with your code. So you could use it in your code to see the problems.</p>\n<p>But there's another problem involved: Once you have to iterate upwards more than one step, your 'array indexing' (or in your case: removing the first array element from the array on EACH call) gets out of step. You remove too many elements, and thus lose the elements and track of the remaining cells.</p>\n<p>Now to my solution:</p>\n<ul>\n<li>this is more straightforward, because it is naturally recursive, exactly matching the intent of your (depth-first) first-order logic, and each constructor decides and acquires the needed data for itself.</li>\n<li>The big trick here is - analogous to advancing an index on an array - to use a <code>Stack</code>, here in the form of a <code>LinkedList</code>. (The java.util.Stack is thread-safe, which is not needed here, so I use its modern counterpart <code>LinkedList</code>)</li>\n<li>Also, you can input the whole data string again, without any artificial additional notes and variables.</li>\n</ul>\n<p>So construction was really easy, but getting the <code>toString()</code> method implemented properly was a bit of a struggle.</p>\n<pre><code>package stackoverflow;\n\nimport java.util.Arrays;\nimport java.util.HashSet;\nimport java.util.LinkedList;\n\npublic class PopulateTree {\n\n\n\n    static public class TreeNode {\n        protected String    data;\n        protected boolean   isOperator;\n        protected TreeNode  left, right, parent;\n\n        public TreeNode(final LinkedList&lt;String&gt; pQueue, final TreeNode pParent) {\n            data = pQueue.poll();\n            isOperator = isOperator(this.data);\n            parent = pParent;\n            left = isOperator ? new TreeNode(pQueue, this) : null;\n            right = isOperator ? new TreeNode(pQueue, this) : null;\n        }\n\n        // it's likely we need this functionality method somewhere else, too, so we put it in its own method\n        // also, it makes the CTOR so much shorter and its use obvious\n        static public boolean isOperator(final String pString) {\n            return pString.equals(&quot;+&quot;) || pString.equals(&quot;-&quot;) || pString.equals(&quot;*&quot;) || pString.equals(&quot;/&quot;) || pString.equals(&quot;%&quot;);\n        }\n\n        public int getMaxWidthOfChildren() {\n            return getMaxWidthOfChildren(new HashSet&lt;&gt;());\n        }\n        private int getMaxWidthOfChildren(final HashSet&lt;TreeNode&gt; pAlreadyVisitedNodes) {\n            if (pAlreadyVisitedNodes.contains(this)) {\n                System.out.println(&quot;Error: recursive loop for &quot; + this.data);\n                return 0;\n            } else {\n                pAlreadyVisitedNodes.add(this);\n            }\n\n            int ret = 1;\n            if (left != null) ret += left.getMaxWidthOfChildren(pAlreadyVisitedNodes);\n            if (right != null) ret += right.getMaxWidthOfChildren(pAlreadyVisitedNodes);\n            return ret;\n        }\n\n        public int getMaxDepth() {\n            final int l = left == null ? 0 : left.getMaxDepth();\n            final int r = right == null ? 0 : right.getMaxDepth();\n            return 1 + Math.max(l, r);\n        }\n\n        @Override public String toString() {\n            final int maxDepth = getMaxDepth();\n            System.out.println(&quot;maxDepth: &quot; + maxDepth);\n            final int maxWidth = (int) (Math.pow(2, maxDepth - 2) * 2 - 1);\n            System.out.println(&quot;maxWidth: &quot; + maxWidth);\n            final String[][] out = new String[maxDepth][maxWidth];\n\n            // fill array with data\n            final int center = maxWidth / 2;\n            fillArray(out, maxWidth, center, this, 0);\n\n            // form array into String\n            final StringBuilder sb = new StringBuilder();\n            for (int y = 0; y &lt; out.length; y++) {\n                for (int x = 0; x &lt; out[y].length; x++) {\n                    final String dat = out[y][x];\n                    final String text = dat == null ? &quot;&quot; : dat;\n                    sb.append(text + &quot;\\t&quot;);\n                }\n                sb.append(&quot;\\n&quot;);\n            }\n\n            return sb.toString();\n        }\n        private void fillArray(final String[][] pOut, final int pWidth, final int pCenter, final TreeNode pTreeNode, final int pLineIndex) {\n            if (pTreeNode == null) return;\n            System.out.println(&quot;Filling: w=&quot; + pWidth + &quot;\\tc=&quot; + pCenter + &quot;\\tl=&quot; + pLineIndex);\n\n            pOut[pLineIndex][pCenter] = pTreeNode.data;\n            final int newWidth = pWidth / 2;\n            final int leftCenter = pCenter - newWidth / 2 - 1;\n            final int rightCenter = pCenter + newWidth / 2 + 1;\n            fillArray(pOut, newWidth, leftCenter, pTreeNode.left, pLineIndex + 1);\n            fillArray(pOut, newWidth, rightCenter, pTreeNode.right, pLineIndex + 1);\n        }\n    }\n\n\n\n    public static void main(final String[] args) {\n        final String[] in = { &quot;-&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;, &quot;4&quot;, &quot;*&quot;, &quot;15&quot;, &quot;6&quot;, &quot;+&quot;, &quot;/&quot;, &quot;14&quot;, &quot;3&quot;, &quot;*&quot;, &quot;65&quot;, &quot;5&quot; };\n        final LinkedList&lt;String&gt; queue = new LinkedList&lt;&gt;(Arrays.asList(in));\n        final TreeNode root = new TreeNode(queue, null);\n\n        System.out.println();\n        System.out.println(&quot;Printing Root Node:&quot;);\n        System.out.println(root);\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086738,"answer_count":1,"score":0,"last_activity_date":1651494602,"creation_date":1651451201,"question_id":72081344,"body_markdown":"I am trying to create a parse tree for prefix expressions.\r\nThe Nodes created have a parent pointer, and a Boolean identifying operators.\r\n\r\n**My issue is, once i get to 6(The end of the left side of the tree)**\r\n**The root pointer remains as 15.** \r\nSo the array continues to get smaller, but the recursion never travels back up to the original root, in order to populate the right side of the tree.\r\n\r\n       public class demo {\r\n        public static void main(String[] args){\r\n            String[] in = {&quot;3&quot;,&quot;*&quot;,&quot;4&quot;,&quot;*&quot;,&quot;15&quot;, &quot;6&quot;,&quot;+&quot;,&quot;/&quot;,&quot;14&quot;,&quot;3&quot;,&quot;*&quot;,&quot;65&quot;,&quot;5&quot;};\r\n            TreeNode root = new TreeNode(&quot;+&quot;);\r\n            TreeNode nuw = new TreeNode(&quot;-&quot;);\r\n            System.out.println(root.data);\r\n    \r\n            populate(in,root,nuw);\r\n        }\r\n        public static TreeNode populate(String[] array, TreeNode root, TreeNode nuw){\r\n            TreeNode current = root;\r\n            String[] copy = new String[array.length-1];\r\n            System.arraycopy(array, 1, copy, 0, array.length-1);\r\n            TreeNode next = new TreeNode(copy[0]);\r\n            \r\n            if(current==null){\r\n                return null;\r\n            }\r\n            if(current.left==null &amp;&amp; !nuw.operator){\r\n                current.left=nuw;\r\n                nuw.parent = current;\r\n            \r\n            }else if(current.left!=null &amp;&amp; current.right==null &amp;&amp; !nuw.operator){\r\n                current.right = nuw;\r\n                nuw.parent = current;\r\n            }else if(nuw.operator &amp;&amp; current.left==null){\r\n                current.left=next;\r\n                next.parent=current;\r\n                current=next;\r\n            }else if(nuw.operator &amp;&amp; current.left!=null &amp;&amp; current.right==null){\r\n                current.right=next;\r\n                next.parent=current;\r\n                current=next;\r\n            }else if(current.right!=null &amp;&amp; current.left!=null){\r\n                current = current.parent;\r\n            }\r\n            for(int i=0;i&lt;array.length;i++)System.out.print(array[i]);\r\n            System.out.println(&quot;\\n current: &quot;+current.data);\r\n            System.out.println(&quot;next: &quot;+next.data);\r\n            return populate(copy,current,next);\r\n        }\r\n    }\r\n\r\n\r\n[![This is what I am trying to build][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OVM48.png\r\n**TreeNode class**\r\n\r\n    public class TreeNode {\r\n        protected String data;\r\n        protected boolean operator;\r\n        protected TreeNode left,right,parent;\r\n    \r\n        public TreeNode(String x){\r\n            this.left = null;\r\n            this.right = null;\r\n            this.parent = null;\r\n            if(x.equals(&quot;+&quot;)||x.equals(&quot;-&quot;)||x.equals(&quot;*&quot;)||x.equals(&quot;/&quot;)||x.equals(&quot;%&quot;)){\r\n                this.operator=true;\r\n                this.data=x;\r\n            }else{\r\n                try{\r\n                    Integer.parseInt(x);\r\n                    this.data=x;\r\n                    this.operator=false;\r\n                }catch(NumberFormatException e){\r\n                    System.out.println(&quot;Invalid Input&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Recursively creating a binary parse tree from an array of strings","body":"<p>I am trying to create a parse tree for prefix expressions.\nThe Nodes created have a parent pointer, and a Boolean identifying operators.</p>\n<p><strong>My issue is, once i get to 6(The end of the left side of the tree)</strong>\n<strong>The root pointer remains as 15.</strong>\nSo the array continues to get smaller, but the recursion never travels back up to the original root, in order to populate the right side of the tree.</p>\n<pre><code>   public class demo {\n    public static void main(String[] args){\n        String[] in = {&quot;3&quot;,&quot;*&quot;,&quot;4&quot;,&quot;*&quot;,&quot;15&quot;, &quot;6&quot;,&quot;+&quot;,&quot;/&quot;,&quot;14&quot;,&quot;3&quot;,&quot;*&quot;,&quot;65&quot;,&quot;5&quot;};\n        TreeNode root = new TreeNode(&quot;+&quot;);\n        TreeNode nuw = new TreeNode(&quot;-&quot;);\n        System.out.println(root.data);\n\n        populate(in,root,nuw);\n    }\n    public static TreeNode populate(String[] array, TreeNode root, TreeNode nuw){\n        TreeNode current = root;\n        String[] copy = new String[array.length-1];\n        System.arraycopy(array, 1, copy, 0, array.length-1);\n        TreeNode next = new TreeNode(copy[0]);\n        \n        if(current==null){\n            return null;\n        }\n        if(current.left==null &amp;&amp; !nuw.operator){\n            current.left=nuw;\n            nuw.parent = current;\n        \n        }else if(current.left!=null &amp;&amp; current.right==null &amp;&amp; !nuw.operator){\n            current.right = nuw;\n            nuw.parent = current;\n        }else if(nuw.operator &amp;&amp; current.left==null){\n            current.left=next;\n            next.parent=current;\n            current=next;\n        }else if(nuw.operator &amp;&amp; current.left!=null &amp;&amp; current.right==null){\n            current.right=next;\n            next.parent=current;\n            current=next;\n        }else if(current.right!=null &amp;&amp; current.left!=null){\n            current = current.parent;\n        }\n        for(int i=0;i&lt;array.length;i++)System.out.print(array[i]);\n        System.out.println(&quot;\\n current: &quot;+current.data);\n        System.out.println(&quot;next: &quot;+next.data);\n        return populate(copy,current,next);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OVM48.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OVM48.png\" alt=\"This is what I am trying to build\" /></a></p>\n<p><strong>TreeNode class</strong></p>\n<pre><code>public class TreeNode {\n    protected String data;\n    protected boolean operator;\n    protected TreeNode left,right,parent;\n\n    public TreeNode(String x){\n        this.left = null;\n        this.right = null;\n        this.parent = null;\n        if(x.equals(&quot;+&quot;)||x.equals(&quot;-&quot;)||x.equals(&quot;*&quot;)||x.equals(&quot;/&quot;)||x.equals(&quot;%&quot;)){\n            this.operator=true;\n            this.data=x;\n        }else{\n            try{\n                Integer.parseInt(x);\n                this.data=x;\n                this.operator=false;\n            }catch(NumberFormatException e){\n                System.out.println(&quot;Invalid Input&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1360317151,"post_id":14769792,"comment_id":20675439,"body_markdown":"I suppose N is the parameter of the method, not y?","body":"I suppose N is the parameter of the method, not y?"},{"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"score":0,"creation_date":1360317238,"post_id":14769792,"comment_id":20675492,"body_markdown":"Duplicate local variable y","body":"Duplicate local variable y"},{"owner":{"account_id":2342926,"reputation":21,"user_id":2053831,"display_name":"Wissam"},"score":0,"creation_date":1360321822,"post_id":14769792,"comment_id":20677709,"body_markdown":"Changed y to N ( yes N is the parameter sorry about that)","body":"Changed y to N ( yes N is the parameter sorry about that)"},{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1360323184,"post_id":14769792,"comment_id":20678272,"body_markdown":"You should also fix `a` and `b` variables declarations: it should be `long b...` and `long a...` I suppose.","body":"You should also fix <code>a</code> and <code>b</code> variables declarations: it should be <code>long b...</code> and <code>long a...</code> I suppose."},{"owner":{"account_id":2342926,"reputation":21,"user_id":2053831,"display_name":"Wissam"},"score":0,"creation_date":1360323462,"post_id":14769792,"comment_id":20678414,"body_markdown":"edit: declared a and b","body":"edit: declared a and b"},{"owner":{"account_id":1131741,"reputation":5562,"user_id":1117668,"accept_rate":80,"display_name":"ogzd"},"score":0,"creation_date":1360323842,"post_id":14769792,"comment_id":20678612,"body_markdown":"and multiplication :-)","body":"and multiplication :-)"},{"owner":{"account_id":98956,"reputation":2900,"user_id":267551,"accept_rate":40,"display_name":"Todd Lehman"},"score":0,"creation_date":1411889894,"post_id":14769792,"comment_id":40869321,"body_markdown":"Hmm. I don&#39;t see how to improve your algorithm, but there is definitely room for improvement. Factoring numbers of that size should really take no more than 1 to 2 milliseconds on a modern CPU. On my 2011 MacBook Air (1.7 GHz Intel Core i5 CPU), using the 11 numbers listed above, I&#39;m seeing average factoring times of 2.3 ms for Shanks&#39;s Square Forms Factorization method (SQUFOF), 3.5 ms for Hart&#39;s One-Line Factorization method, and 48.8 ms for Trial Division by Primes.","body":"Hmm. I don&#39;t see how to improve your algorithm, but there is definitely room for improvement. Factoring numbers of that size should really take no more than 1 to 2 milliseconds on a modern CPU. On my 2011 MacBook Air (1.7 GHz Intel Core i5 CPU), using the 11 numbers listed above, I&#39;m seeing average factoring times of 2.3 ms for Shanks&#39;s Square Forms Factorization method (SQUFOF), 3.5 ms for Hart&#39;s One-Line Factorization method, and 48.8 ms for Trial Division by Primes."}],"answers":[{"tags":[],"owner":{"account_id":1078605,"reputation":1755,"user_id":1076211,"accept_rate":60,"display_name":"dunadar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360323575,"creation_date":1360323575,"answer_id":14771739,"question_id":14769792,"body_markdown":"OK, I used Matlab to see what was going here. Here is the result for N=100000:\r\n![enter image description here][1]\r\nYou are increasing `x` on each iteration, and the funny pattern of `a` variable is strongly related with the remainder `N % x+b+1` (as you can see in the gray line of the plot, `a + (N % (x+b+1)) - x = floor(sqrt(N))`).\r\nThus, **I think** you are just finding the first factor larger than `sqrt(N)` by simple iteration, but with a rather obscure criterion to decide it is really a factor :D\r\n(Sorry for the half-answer... I have to leave, I will maybe continue later).\r\n\r\nHere is the matlab code, just in case you want it to test by yourself:\r\n\r\n    \r\n    clear all\r\n    close all\r\n    \r\n    N = int64(100000);\r\n    \r\n    histx = [];\r\n    histDiffA = [];\r\n    histy = [];\r\n    hista = [];\r\n    histMod = [];\r\n    histb = [];\r\n    \r\n    x=int64(0);\r\n    y=int64(0);\r\n    b = int64(floor(sqrt(double(N))));\r\n    a = int64(b*(b+1)-N);\r\n    if( a==b ) \r\n        factor = a;\r\n    else\r\n        while ( a ~= 0 )\r\n            a = a - ( 2+2*x - y);\r\n            histDiffA(end+1) = ( 2+2*x - y);\r\n            x = x+1;\r\n            if( a&lt;0 ) \r\n                a = a + (x+b+1); \r\n                y = y+1;\r\n            end\r\n            hista(end+1) = a;\r\n            histb(end+1) = b;\r\n            histx(end+1) = x;\r\n            histy(end+1) = y;\r\n            histMod(end+1) = mod(N,(x+b+1));\r\n        end\r\n        factor = x+b+1;\r\n    end\r\n    \r\n    figure(&#39;Name&#39;, &#39;Values&#39;);\r\n    hold on\r\n        plot(hista,&#39;-or&#39;)\r\n        plot(hista+histMod-histx,&#39;--*&#39;, &#39;Color&#39;, [0.7 0.7 0.7])\r\n        plot(histb,&#39;-ob&#39;)\r\n        plot(histx,&#39;-*g&#39;)\r\n        plot(histy,&#39;-*y&#39;)\r\n        legend({&#39;a&#39;, &#39;a+mod(N,x+b+1)-x&#39;, &#39;b&#39;, &#39;x&#39;, &#39;y&#39;}); % &#39;Input&#39;,\r\n    hold off\r\n    \r\n    fprintf( &#39;factor is %d \\n&#39;, factor );\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kndGq.png","title":"Integer Factorization","body":"<p>OK, I used Matlab to see what was going here. Here is the result for N=100000:\n<img src=\"https://i.stack.imgur.com/kndGq.png\" alt=\"enter image description here\">\nYou are increasing <code>x</code> on each iteration, and the funny pattern of <code>a</code> variable is strongly related with the remainder <code>N % x+b+1</code> (as you can see in the gray line of the plot, <code>a + (N % (x+b+1)) - x = floor(sqrt(N))</code>).\nThus, <strong>I think</strong> you are just finding the first factor larger than <code>sqrt(N)</code> by simple iteration, but with a rather obscure criterion to decide it is really a factor :D\n(Sorry for the half-answer... I have to leave, I will maybe continue later).</p>\n\n<p>Here is the matlab code, just in case you want it to test by yourself:</p>\n\n<pre><code>clear all\nclose all\n\nN = int64(100000);\n\nhistx = [];\nhistDiffA = [];\nhisty = [];\nhista = [];\nhistMod = [];\nhistb = [];\n\nx=int64(0);\ny=int64(0);\nb = int64(floor(sqrt(double(N))));\na = int64(b*(b+1)-N);\nif( a==b ) \n    factor = a;\nelse\n    while ( a ~= 0 )\n        a = a - ( 2+2*x - y);\n        histDiffA(end+1) = ( 2+2*x - y);\n        x = x+1;\n        if( a&lt;0 ) \n            a = a + (x+b+1); \n            y = y+1;\n        end\n        hista(end+1) = a;\n        histb(end+1) = b;\n        histx(end+1) = x;\n        histy(end+1) = y;\n        histMod(end+1) = mod(N,(x+b+1));\n    end\n    factor = x+b+1;\nend\n\nfigure('Name', 'Values');\nhold on\n    plot(hista,'-or')\n    plot(hista+histMod-histx,'--*', 'Color', [0.7 0.7 0.7])\n    plot(histb,'-ob')\n    plot(histx,'-*g')\n    plot(histy,'-*y')\n    legend({'a', 'a+mod(N,x+b+1)-x', 'b', 'x', 'y'}); % 'Input',\nhold off\n\nfprintf( 'factor is %d \\n', factor );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1900362,"reputation":19274,"user_id":1716339,"display_name":"Aki Suihkonen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360668824,"creation_date":1360668824,"answer_id":14831573,"question_id":14769792,"body_markdown":"Your method is a variant of trial multiplication of (n-a)*(n+b), where n=floor(sqrt(N)) and b==1.\r\n\r\nThe algorithm then iterates a-- / b++ until the difference of the (n-a)*(n+b) - N == 0.\r\n\r\nThe partial differences (in respect of a and b) are in proportion to 2b and 2a respectively. Thus no true multiplication are necessary.\r\n\r\nThe complexity is a linear function of |a|  or |b| -- the more &quot;square&quot; N is, the faster the method converges. In summary, there are much faster methods, one of the easiest to understand being the quadratic residue sieve.\r\n","title":"Integer Factorization","body":"<p>Your method is a variant of trial multiplication of (n-a)*(n+b), where n=floor(sqrt(N)) and b==1.</p>\n\n<p>The algorithm then iterates a-- / b++ until the difference of the (n-a)*(n+b) - N == 0.</p>\n\n<p>The partial differences (in respect of a and b) are in proportion to 2b and 2a respectively. Thus no true multiplication are necessary.</p>\n\n<p>The complexity is a linear function of |a|  or |b| -- the more \"square\" N is, the faster the method converges. In summary, there are much faster methods, one of the easiest to understand being the quadratic residue sieve.</p>\n"},{"tags":[],"owner":{"account_id":1831227,"reputation":101,"user_id":5563130,"display_name":"Optionparty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453509894,"creation_date":1447546257,"answer_id":33714917,"question_id":14769792,"body_markdown":"Pardon my c#, I don&#39;t know Java.\r\nStepping x and y by 2 increases algorithm speed.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    using System.Numerics;                      // needed for BigInteger\r\n        /* Methods ************************************************************/\r\n        private static BigInteger sfactor(BigInteger k) // factor odd integers\r\n        {\r\n            BigInteger x, y;\r\n            int flag;\r\n            x = y = iSqrt(k);                   // Integer Square Root\r\n            if (x % 2 == 0) { x -= 1; y += 1; } // if even make x &amp; y odd\r\n            do\r\n            { \r\n                flag = BigInteger.Compare((x*y), k);\r\n                if (flag &gt; 0) x -= 2;\r\n                y += 2;\r\n            } while(flag != 0);\r\n            return x;                           // return x\r\n        } // end of sfactor()\r\n\r\n        // Finds the integer square root of a positive number\r\n        private static BigInteger iSqrt(BigInteger num)\r\n        {\r\n            if (0 == num) { return 0; }           // Avoid zero divide\r\n            BigInteger n = (num / 2) + 1;         // Initial estimate, never low\r\n            BigInteger n1 = (n + (num / n)) &gt;&gt; 1; // right shift to divide by 2\r\n            while (n1 &lt; n)\r\n            {\r\n                n = n1;\r\n                n1 = (n + (num / n)) &gt;&gt; 1;        // right shift to divide by 2\r\n            }\r\n            return n;\r\n        } // end iSqrt()\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Integer Factorization","body":"<p>Pardon my c#, I don't know Java.\nStepping x and y by 2 increases algorithm speed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>using System.Numerics;                      // needed for BigInteger\r\n    /* Methods ************************************************************/\r\n    private static BigInteger sfactor(BigInteger k) // factor odd integers\r\n    {\r\n        BigInteger x, y;\r\n        int flag;\r\n        x = y = iSqrt(k);                   // Integer Square Root\r\n        if (x % 2 == 0) { x -= 1; y += 1; } // if even make x &amp; y odd\r\n        do\r\n        { \r\n            flag = BigInteger.Compare((x*y), k);\r\n            if (flag &gt; 0) x -= 2;\r\n            y += 2;\r\n        } while(flag != 0);\r\n        return x;                           // return x\r\n    } // end of sfactor()\r\n\r\n    // Finds the integer square root of a positive number\r\n    private static BigInteger iSqrt(BigInteger num)\r\n    {\r\n        if (0 == num) { return 0; }           // Avoid zero divide\r\n        BigInteger n = (num / 2) + 1;         // Initial estimate, never low\r\n        BigInteger n1 = (n + (num / n)) &gt;&gt; 1; // right shift to divide by 2\r\n        while (n1 &lt; n)\r\n        {\r\n            n = n1;\r\n            n1 = (n + (num / n)) &gt;&gt; 1;        // right shift to divide by 2\r\n        }\r\n        return n;\r\n    } // end iSqrt()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2342926,"reputation":21,"user_id":2053831,"display_name":"Wissam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651494567,"creation_date":1360317014,"question_id":14769792,"body_markdown":"Could anyone explain to me why the algorithm below is an error-free integer factorization method that always return a non-trivial factor of N.\r\nI know how weird this sounds, but I designed this method 2 years ago and still don&#39;t understand the mathematical logic behind it, which is making it difficult for me to improve it. It&#39;s so simple that it involves only addition and subtraction.\r\n\r\n    public static long factorX( long N )\r\n    {\r\n        long x=0, y=0;\r\n        long b = (long)(Math.sqrt(N));\r\n        long a = b*(b+1)-N;\r\n        if( a==b ) return a;\r\n\r\n        while ( a!= 0 )\r\n        {\r\n            a-= ( 2+2*x++ - y);\r\n            if( a&lt;0 ) { a+= (x+b+1); y++; }\r\n        }\r\n\r\n    return ( x+b+1 );\r\n    }\r\n\r\nIt seems that the above method actually finds a solution by iteration to the diophantine equation:\r\n\r\n    f(x,y) = a - x(x+1) + (x+b+1)y\r\n    where b = floor( sqrt(N) ) and a = b(b+1) - N\r\n    that is, when a = 0, f(x,y) = 0 and (x+b+1) is a factor of N.\r\n\r\n    Example: N = 8509  \r\n    b = 92, a = 47  \r\n    f(34,9) = 47 - 34(34+1) + 9(34+92+1) = 0  \r\n    and so x+b+1 = 127 is a factor of N.  \r\n\r\nRewriting the method:\r\n\r\n    public static long factorX(long N)\r\n    {\r\n    long x=1, y=0, f=1;\r\n    long b = (long)(Math.sqrt(N));\r\n    long a = b*(b+1)-N;\r\n    if( a==b ) return a;\r\n\r\n      while( f != 0 )\r\n      {\r\n        f = a - x*(x+1) + (x+b+1)*y;\r\n          if( f &lt; 0 ) y++;\r\n        x++;\r\n      }\r\n    \r\n    return x+b+1;\r\n    }  \r\n\r\nI&#39;d really appreciate any suggestions on how to improve this method.\r\n\r\nHere&#39;s a list of 10 18-digit random semiprimes:\r\n\r\n    349752871155505651 = 666524689 x 524741059   in 322 ms\r\n    259160452058194903 = 598230151 x 433211953   in 404 ms\r\n    339850094323758691 = 764567807 x 444499613   in 1037 ms\r\n    244246972999490723 = 606170657 x 402934339   in 560 ms\r\n    285622950750261931 = 576888113 x 495109787   in 174 ms\r\n    191975635567268981 = 463688299 x 414018719   in 101 ms\r\n    207216185150553571 = 628978741 x 329448631   in 1029 ms\r\n    224869951114090657 = 675730721 x 332780417   in 1165 ms\r\n    315886983148626037 = 590221057 x 535201141   in 110 ms\r\n    810807767237895131 = 957028363 x 847213937   in 226 ms\r\n    469066333624309021 = 863917189 x 542952889   in 914 ms","title":"Integer Factorization","body":"<p>Could anyone explain to me why the algorithm below is an error-free integer factorization method that always return a non-trivial factor of N.\nI know how weird this sounds, but I designed this method 2 years ago and still don't understand the mathematical logic behind it, which is making it difficult for me to improve it. It's so simple that it involves only addition and subtraction.</p>\n\n<pre><code>public static long factorX( long N )\n{\n    long x=0, y=0;\n    long b = (long)(Math.sqrt(N));\n    long a = b*(b+1)-N;\n    if( a==b ) return a;\n\n    while ( a!= 0 )\n    {\n        a-= ( 2+2*x++ - y);\n        if( a&lt;0 ) { a+= (x+b+1); y++; }\n    }\n\nreturn ( x+b+1 );\n}\n</code></pre>\n\n<p>It seems that the above method actually finds a solution by iteration to the diophantine equation:</p>\n\n<pre><code>f(x,y) = a - x(x+1) + (x+b+1)y\nwhere b = floor( sqrt(N) ) and a = b(b+1) - N\nthat is, when a = 0, f(x,y) = 0 and (x+b+1) is a factor of N.\n\nExample: N = 8509  \nb = 92, a = 47  \nf(34,9) = 47 - 34(34+1) + 9(34+92+1) = 0  \nand so x+b+1 = 127 is a factor of N.  \n</code></pre>\n\n<p>Rewriting the method:</p>\n\n<pre><code>public static long factorX(long N)\n{\nlong x=1, y=0, f=1;\nlong b = (long)(Math.sqrt(N));\nlong a = b*(b+1)-N;\nif( a==b ) return a;\n\n  while( f != 0 )\n  {\n    f = a - x*(x+1) + (x+b+1)*y;\n      if( f &lt; 0 ) y++;\n    x++;\n  }\n\nreturn x+b+1;\n}  \n</code></pre>\n\n<p>I'd really appreciate any suggestions on how to improve this method.</p>\n\n<p>Here's a list of 10 18-digit random semiprimes:</p>\n\n<pre><code>349752871155505651 = 666524689 x 524741059   in 322 ms\n259160452058194903 = 598230151 x 433211953   in 404 ms\n339850094323758691 = 764567807 x 444499613   in 1037 ms\n244246972999490723 = 606170657 x 402934339   in 560 ms\n285622950750261931 = 576888113 x 495109787   in 174 ms\n191975635567268981 = 463688299 x 414018719   in 101 ms\n207216185150553571 = 628978741 x 329448631   in 1029 ms\n224869951114090657 = 675730721 x 332780417   in 1165 ms\n315886983148626037 = 590221057 x 535201141   in 110 ms\n810807767237895131 = 957028363 x 847213937   in 226 ms\n469066333624309021 = 863917189 x 542952889   in 914 ms\n</code></pre>\n"},{"tags":["java","security","ssl","https"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465980732,"creation_date":1465696992,"answer_id":37770075,"question_id":37724901,"body_markdown":"The solution to this is always to either import the server certificate into the client truststore or else, and better, get the server certificate signed by a trusted CA, if it&#39;s under your control. You can&#39;t do it safely in code, and you shouldn&#39;t want to &#39;just for development&#39;. Otherwise you&#39;re not testing the production code in development.","title":"Disable SSLHandshakeException for a single connection","body":"<p>The solution to this is always to either import the server certificate into the client truststore or else, and better, get the server certificate signed by a trusted CA, if it's under your control. You can't do it safely in code, and you shouldn't want to 'just for development'. Otherwise you're not testing the production code in development.</p>\n"},{"tags":[],"owner":{"account_id":6501856,"reputation":6516,"user_id":5032339,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1465746641,"creation_date":1465746641,"answer_id":37776189,"question_id":37724901,"body_markdown":"Just use instance methods `setX()` instead of static `setDefaultX()`:\r\n\r\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    connection.setSSLSocketFactory(...);\r\n    connection.setHostnameVerifier(...);\r\n","title":"Disable SSLHandshakeException for a single connection","body":"<p>Just use instance methods <code>setX()</code> instead of static <code>setDefaultX()</code>:</p>\n\n<pre><code>HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\nconnection.setSSLSocketFactory(...);\nconnection.setHostnameVerifier(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8497217,"reputation":37834,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1651494445,"creation_date":1466085105,"answer_id":37861267,"question_id":37724901,"body_markdown":"The solution \r\n------------\r\nThis utility class is based on provided example. Uses a &#39;relaxed&#39; SSLContext which preconfigures a TrustManager accepting all certificates. Also is needed a hostname verifier in case your localhost ssl certificate was issued to a different CN\r\n\r\nApply it to each connection that requires a &#39;relaxed&#39; ssl verification using `HttpsURLConnection.setSocketFactory` and `HttpsURLConnection.setHostnameVerifier`. The default behaviour wont be changed\r\n\r\n    import java.security.KeyManagementException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    public class RelaxedSSLContext {\r\n    \t// Create a trust manager that does not validate certificate chains like \r\n    \tpublic static TrustManager[] trustAllCerts = new TrustManager[] {\r\n    \t\tnew X509TrustManager() {\r\n    \t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\tpublic void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n    \t\t\t\t//No need to implement. \r\n    \t\t\t}\r\n    \t\t\tpublic void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n    \t\t\t\t//No need to implement. \r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \t\r\n        //hostname verifier. All hosts valid\r\n    \tpublic static HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n            public boolean verify(String hostname, SSLSession session) {\r\n                return true;\r\n            }\r\n        };  \r\n        \r\n        //hostname verifier. Only localhost and 127.0.0.1 valid\r\n    \tpublic static HostnameVerifier localhostValid = new HostnameVerifier() {\r\n            public boolean verify(String hostname, SSLSession session) {\r\n            \treturn &quot;localhost&quot;.equals(hostname) || &quot;127.0.0.1&quot;.equals(hostname);\r\n            }\r\n        };  \r\n    \r\n    \r\n    \tpublic static SSLContext getInstance() throws KeyManagementException, NoSuchAlgorithmException{\r\n    \t\treturn getInstance(&quot;SSL&quot;);\r\n    \t}\t\r\n    \t\r\n        //get a &#39;Relaxed&#39;  SSLContext with no trust store (all certificates are valids) \r\n    \tpublic static SSLContext getInstance(String protocol) throws KeyManagementException, NoSuchAlgorithmException{\r\n    \t\tSSLContext sc = SSLContext.getInstance(protocol);\r\n    \t\tsc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    \t\treturn sc;\r\n    \t}\t\r\n    }\r\n\r\nUse it in this way\r\n\r\n\tHttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\r\n\tconn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\r\n\tconn.setHostnameVerifier(RelaxedSSLContext.localhostValid);\r\n\r\nExample1 (default)\r\n\r\n    url = &quot;https://www.google.cop/finance&quot;;\r\n    conn = url.openConnection();\r\n    conn.connect();\r\n    int statusCode = conn.getResponseCode();   // 200\r\n\r\nExample2 (bad hostname)\r\n\r\n    url = &quot;https://216.58.210.164/finance&quot;;\r\n    HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n    conn.setHostnameVerifier(RelaxedSSLContext.allHostsValid); \r\n    conn.connect();\r\n    int statusCode = conn.getResponseCode(); //200\r\n    // ERROR &#39;No subject alternative names matching IP address 216.58.210.164 found&#39; without hostnameVerifier\r\n\r\nExample3 (chain not in default truststore)\r\n\r\n    url = &quot;https://www.aragon.es&quot;;\r\n    HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\r\n    conn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\r\n    conn.connect();\r\n    int statusCode = conn.getResponseCode(); //200\r\n    // ERROR &#39;unable to find valid certification path to requested target&#39; without relaxedSocketFactory\r\n    \r\n\r\nThe context \r\n---------------------------\r\n\r\nI think your question is on-topic, useful and well expressed. In some scenarios is suitable, or rather, is not essential to apply a context of high security. plain HTTP is still being used...\r\n\r\nLet&#39;s analyze your context. The required is access to localhost through HTTPS without trusting in server identity. It means that you want to accept any certificate presented by the server. The security issue with this scenario is a MITM attach (man in the middle). From (wikipedia)\r\n\r\n&gt; Attacker secretly relays and possibly alters the communication between\r\n&gt; two parties who believe they are directly communicating with each\r\n&gt; other.\r\n\r\nBut is it possible a **MITM attack with an untrusted https connection to localhost**?\r\n\r\nSee https://security.stackexchange.com/questions/8145/does-https-prevent-man-in-the-middle-attacks-by-proxy-server/8309#8309\r\n\r\nFirst, in https the server has to present the server certificate to the client. The client validates the public key of the certificate and check that matches with local truststore. \r\nWith the colaboration of the net administrator it would be possible to sniff the net and set a proxy to intercept the connection. But the malicious proxy is not in the possession of the matching private key so the proxy server may try to forge the certificate and provide his own public key instead. \r\nThe certificate will not be present on client trustore, so the connection will be rejected,. But if you remove the truststore verification, the attack is theoretically possible.\r\n\r\nBut, **is MITM possible restricting connections to localhost?**\r\n\r\nSee https://security.stackexchange.com/questions/61399/are-mitm-attacks-possible-on-http-loopbacks\r\n\r\nIn the general case it is not possible, but an attacker with root access to the machine could alter DNS and redirect requests to the malicious proxy. Even using 127.0.0.1 it could be possible if the application has a way to configure the connection port. \r\n\r\nThe paranoic solution could be hardcode the server connection url, port and even trustore. But you are talking about localhost on a development environment, so I think we can relax a little\r\n\r\n","title":"Disable SSLHandshakeException for a single connection","body":"<h2>The solution</h2>\n<p>This utility class is based on provided example. Uses a 'relaxed' SSLContext which preconfigures a TrustManager accepting all certificates. Also is needed a hostname verifier in case your localhost ssl certificate was issued to a different CN</p>\n<p>Apply it to each connection that requires a 'relaxed' ssl verification using <code>HttpsURLConnection.setSocketFactory</code> and <code>HttpsURLConnection.setHostnameVerifier</code>. The default behaviour wont be changed</p>\n<pre><code>import java.security.KeyManagementException;\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\npublic class RelaxedSSLContext {\n    // Create a trust manager that does not validate certificate chains like \n    public static TrustManager[] trustAllCerts = new TrustManager[] {\n        new X509TrustManager() {\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n            public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                //No need to implement. \n            }\n            public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                //No need to implement. \n            }\n        }\n    };\n    \n    //hostname verifier. All hosts valid\n    public static HostnameVerifier allHostsValid = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession session) {\n            return true;\n        }\n    };  \n    \n    //hostname verifier. Only localhost and 127.0.0.1 valid\n    public static HostnameVerifier localhostValid = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession session) {\n            return &quot;localhost&quot;.equals(hostname) || &quot;127.0.0.1&quot;.equals(hostname);\n        }\n    };  \n\n\n    public static SSLContext getInstance() throws KeyManagementException, NoSuchAlgorithmException{\n        return getInstance(&quot;SSL&quot;);\n    }   \n    \n    //get a 'Relaxed'  SSLContext with no trust store (all certificates are valids) \n    public static SSLContext getInstance(String protocol) throws KeyManagementException, NoSuchAlgorithmException{\n        SSLContext sc = SSLContext.getInstance(protocol);\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        return sc;\n    }   \n}\n</code></pre>\n<p>Use it in this way</p>\n<pre><code>HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\nconn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\nconn.setHostnameVerifier(RelaxedSSLContext.localhostValid);\n</code></pre>\n<p>Example1 (default)</p>\n<pre><code>url = &quot;https://www.google.cop/finance&quot;;\nconn = url.openConnection();\nconn.connect();\nint statusCode = conn.getResponseCode();   // 200\n</code></pre>\n<p>Example2 (bad hostname)</p>\n<pre><code>url = &quot;https://216.58.210.164/finance&quot;;\nHttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\nconn.setHostnameVerifier(RelaxedSSLContext.allHostsValid); \nconn.connect();\nint statusCode = conn.getResponseCode(); //200\n// ERROR 'No subject alternative names matching IP address 216.58.210.164 found' without hostnameVerifier\n</code></pre>\n<p>Example3 (chain not in default truststore)</p>\n<pre><code>url = &quot;https://www.aragon.es&quot;;\nHttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\nconn.setSSLSocketFactory(RelaxedSSLContext.getInstance().getSocketFactory());\nconn.connect();\nint statusCode = conn.getResponseCode(); //200\n// ERROR 'unable to find valid certification path to requested target' without relaxedSocketFactory\n</code></pre>\n<h2>The context</h2>\n<p>I think your question is on-topic, useful and well expressed. In some scenarios is suitable, or rather, is not essential to apply a context of high security. plain HTTP is still being used...</p>\n<p>Let's analyze your context. The required is access to localhost through HTTPS without trusting in server identity. It means that you want to accept any certificate presented by the server. The security issue with this scenario is a MITM attach (man in the middle). From (wikipedia)</p>\n<blockquote>\n<p>Attacker secretly relays and possibly alters the communication between\ntwo parties who believe they are directly communicating with each\nother.</p>\n</blockquote>\n<p>But is it possible a <strong>MITM attack with an untrusted https connection to localhost</strong>?</p>\n<p>See <a href=\"https://security.stackexchange.com/questions/8145/does-https-prevent-man-in-the-middle-attacks-by-proxy-server/8309#8309\">https://security.stackexchange.com/questions/8145/does-https-prevent-man-in-the-middle-attacks-by-proxy-server/8309#8309</a></p>\n<p>First, in https the server has to present the server certificate to the client. The client validates the public key of the certificate and check that matches with local truststore.\nWith the colaboration of the net administrator it would be possible to sniff the net and set a proxy to intercept the connection. But the malicious proxy is not in the possession of the matching private key so the proxy server may try to forge the certificate and provide his own public key instead.\nThe certificate will not be present on client trustore, so the connection will be rejected,. But if you remove the truststore verification, the attack is theoretically possible.</p>\n<p>But, <strong>is MITM possible restricting connections to localhost?</strong></p>\n<p>See <a href=\"https://security.stackexchange.com/questions/61399/are-mitm-attacks-possible-on-http-loopbacks\">https://security.stackexchange.com/questions/61399/are-mitm-attacks-possible-on-http-loopbacks</a></p>\n<p>In the general case it is not possible, but an attacker with root access to the machine could alter DNS and redirect requests to the malicious proxy. Even using 127.0.0.1 it could be possible if the application has a way to configure the connection port.</p>\n<p>The paranoic solution could be hardcode the server connection url, port and even trustore. But you are talking about localhost on a development environment, so I think we can relax a little</p>\n"}],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12572,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":37776189,"answer_count":3,"score":8,"last_activity_date":1651494445,"creation_date":1465472261,"question_id":37724901,"body_markdown":"I&#39;m looking for a solution similar to [this answer][a], but much safer. I&#39;d like to disable the certificate validation, but for a single request only (which is all I need). So it should do one or more of the following\n\n- return to the secure state when the one request is done\n- disable validation for the given URL only\n- (maybe) use the insecure settings just for one thread\n\n### Addendum\n*I really wonder what&#39;s wrong with this question (score -2) when compared to the original one (score +46), when I&#39;m asking for a more secure solution. Could someone explain?*\n\nTo explain why I need this: There&#39;s a valid server certificate and normally, it gets used. But I need to send one request to `localhost` and it has to work on a developer machine, too. It must be `https` as there&#39;s no `http` support.\n\n[a]: https://stackoverflow.com/a/6742111/581205\n","title":"Disable SSLHandshakeException for a single connection","body":"<p>I'm looking for a solution similar to <a href=\"https://stackoverflow.com/a/6742111/581205\">this answer</a>, but much safer. I'd like to disable the certificate validation, but for a single request only (which is all I need). So it should do one or more of the following</p>\n<ul>\n<li>return to the secure state when the one request is done</li>\n<li>disable validation for the given URL only</li>\n<li>(maybe) use the insecure settings just for one thread</li>\n</ul>\n<h3>Addendum</h3>\n<p><em>I really wonder what's wrong with this question (score -2) when compared to the original one (score +46), when I'm asking for a more secure solution. Could someone explain?</em></p>\n<p>To explain why I need this: There's a valid server certificate and normally, it gets used. But I need to send one request to <code>localhost</code> and it has to work on a developer machine, too. It must be <code>https</code> as there's no <code>http</code> support.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"score":1,"creation_date":1651495861,"post_id":72086602,"comment_id":127370999,"body_markdown":"There are indeed many ways to achieve this, but you could create a method in another service class annotated with @Transactional(propagation=REQUIRES_NEW)","body":"There are indeed many ways to achieve this, but you could create a method in another service class annotated with @Transactional(propagation=REQUIRES_NEW)"},{"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"score":0,"creation_date":1651503476,"post_id":72086602,"comment_id":127373882,"body_markdown":"That seems much better than my original idea! Would creating a new method annotated with REQUIRES_NEW in the same service work, or does the method need to be in a new service class?","body":"That seems much better than my original idea! Would creating a new method annotated with REQUIRES_NEW in the same service work, or does the method need to be in a new service class?"},{"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"score":1,"creation_date":1651510154,"post_id":72086602,"comment_id":127376343,"body_markdown":"No because @Transactional are handled with Spring AOP by proxying your beans,  you need to call a method on the reference of the bean proxy to trigger AOP interceptor (and start your transaction), if you call it from the same class, you&#39;re going to call your method on &quot;this&quot;, which is not a reference to the bean proxy, and will not trigger any AOP aspect. It&#39;s a common problem with runtime AOP. The documentation explain it well (https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch07s06.html)","body":"No because @Transactional are handled with Spring AOP by proxying your beans,  you need to call a method on the reference of the bean proxy to trigger AOP interceptor (and start your transaction), if you call it from the same class, you&#39;re going to call your method on &quot;this&quot;, which is not a reference to the bean proxy, and will not trigger any AOP aspect. It&#39;s a common problem with runtime AOP. The documentation explain it well (<a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch07s06.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.0.0.M4/reference/htm&zwnj;&#8203;l/&hellip;</a>)"}],"owner":{"account_id":2735704,"reputation":65,"user_id":2358438,"display_name":"MrLinjak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651493934,"creation_date":1651493934,"question_id":72086602,"body_markdown":"I&#39;m developing a microservice architecture in which every microservice implements the usual Controller-&gt;Service-&gt;Repository flow.\r\n\r\nI&#39;m using exceptions to handle errors and control the flow, i.e. instead of using DTO fields to return status fields, all DTOs are used to return &quot;positive&quot; scenario results, while &quot;negative&quot; scenarios throw exceptions in the Service layer. This is working like a charm and allows me to offload a lot of checks from controllers into ControllerAdvice classes which have custom error handling, but there is a strange situation that I&#39;ve run into.\r\n\r\nSometimes a negative scenario requires a database change before an exception is thrown, for example an error while operating on a hypothetical User table requires the User entity to be deleted, after the User is deleted the exception is thrown to trigger an Error message to be sent via REST.\r\n\r\n```\r\npublic UserDto changeUserAndReturnTheObject(String userId) {\r\n       UserDto user = userRepository.findById(userId).orElseThrow(\r\n                      () -&gt; new MyCustomException(&quot;There is no user under that userId: &quot; + userId));\r\n       if(!user.isValid()) {\r\n           userRepository.remove(user);\r\n           throw new MyCustomException(&quot;The user data is invalid, it will be removed!&quot;);   \r\n       }\r\n       //change the User in some way\r\n       return user;\r\n}\r\n```\r\n\r\nMy question is this, since RuntimeExceptions trigger rollbacks, how can I differentiate between DB operations that need to be rolled back, and those that are &quot;corrective&quot; operations that need to be executed in the case of an error? I could have MyCustomException be an UncheckedException, but what if I had an operation before the if that throws the exception that writes something to DB and that now needs to be rolled back? I have some ideas of my own, but they seem to be a bit hacky and unclean. For example, I could create Exception type that accepts a callback that can execute the DB change after an exception is thrown and use it as such:\r\n\r\n```\r\nif(!user.isValid()) {\r\n   throw new RollbackException(&quot;The user data is invalid, it will be removed!&quot;, () -&gt; userRepository.remove(user));   \r\n}\r\n\r\n@ExceptionHandler(RollbackException.class)\r\n    protected ResponseEntity&lt;Object&gt; handleRollbackException(RollbackException ex) {    \r\n        log.error(&quot;An exception has occurred&quot;, ex);\r\n        ex.executeCallback();\r\n        return new ResponseEntity&lt;&gt;(&quot;I probably need a custom class for this&quot;, HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\n\r\nAgain, this seems like working around the framework instead of using its features. Is there a tried and true way for handling these situations?","title":"Changing the database before throwing an exception","body":"<p>I'm developing a microservice architecture in which every microservice implements the usual Controller-&gt;Service-&gt;Repository flow.</p>\n<p>I'm using exceptions to handle errors and control the flow, i.e. instead of using DTO fields to return status fields, all DTOs are used to return &quot;positive&quot; scenario results, while &quot;negative&quot; scenarios throw exceptions in the Service layer. This is working like a charm and allows me to offload a lot of checks from controllers into ControllerAdvice classes which have custom error handling, but there is a strange situation that I've run into.</p>\n<p>Sometimes a negative scenario requires a database change before an exception is thrown, for example an error while operating on a hypothetical User table requires the User entity to be deleted, after the User is deleted the exception is thrown to trigger an Error message to be sent via REST.</p>\n<pre><code>public UserDto changeUserAndReturnTheObject(String userId) {\n       UserDto user = userRepository.findById(userId).orElseThrow(\n                      () -&gt; new MyCustomException(&quot;There is no user under that userId: &quot; + userId));\n       if(!user.isValid()) {\n           userRepository.remove(user);\n           throw new MyCustomException(&quot;The user data is invalid, it will be removed!&quot;);   \n       }\n       //change the User in some way\n       return user;\n}\n</code></pre>\n<p>My question is this, since RuntimeExceptions trigger rollbacks, how can I differentiate between DB operations that need to be rolled back, and those that are &quot;corrective&quot; operations that need to be executed in the case of an error? I could have MyCustomException be an UncheckedException, but what if I had an operation before the if that throws the exception that writes something to DB and that now needs to be rolled back? I have some ideas of my own, but they seem to be a bit hacky and unclean. For example, I could create Exception type that accepts a callback that can execute the DB change after an exception is thrown and use it as such:</p>\n<pre><code>if(!user.isValid()) {\n   throw new RollbackException(&quot;The user data is invalid, it will be removed!&quot;, () -&gt; userRepository.remove(user));   \n}\n\n@ExceptionHandler(RollbackException.class)\n    protected ResponseEntity&lt;Object&gt; handleRollbackException(RollbackException ex) {    \n        log.error(&quot;An exception has occurred&quot;, ex);\n        ex.executeCallback();\n        return new ResponseEntity&lt;&gt;(&quot;I probably need a custom class for this&quot;, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n<p>Again, this seems like working around the framework instead of using its features. Is there a tried and true way for handling these situations?</p>\n"},{"tags":["java","android","exoplayer"],"comments":[{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1651534432,"post_id":72086285,"comment_id":127382799,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1652089776,"post_id":72086285,"comment_id":127513006,"body_markdown":"ExoPlayer has built in controls to select the track quality if you want to do it manually - see here: https://stackoverflow.com/a/66473982/334402","body":"ExoPlayer has built in controls to select the track quality if you want to do it manually - see here: <a href=\"https://stackoverflow.com/a/66473982/334402\">stackoverflow.com/a/66473982/334402</a>"}],"owner":{"account_id":21242837,"reputation":1,"user_id":15625997,"display_name":"Ahmed Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651492371,"creation_date":1651492371,"question_id":72086285,"body_markdown":"I have 4 quality link for video I need to add a list of this quality in track selector in exo player manually or any method to do that","title":"Manually add list of quality in exo player","body":"<p>I have 4 quality link for video I need to add a list of this quality in track selector in exo player manually or any method to do that</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651490022,"post_id":72085804,"comment_id":127369114,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question), and describe the actual problem you want to solve.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>, and describe the actual problem you want to solve."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1651490849,"post_id":72085804,"comment_id":127369330,"body_markdown":"Your list employee is always empty. You create the empty list after iterating over the result set and nowhere do you insert an element. And why is the list called employee and one element employeeList? This is quite confusing.","body":"Your list employee is always empty. You create the empty list after iterating over the result set and nowhere do you insert an element. And why is the list called employee and one element employeeList? This is quite confusing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651493251,"post_id":72085804,"comment_id":127370085,"body_markdown":"You can use https://technojeeves.com/index.php/aliasjava1/103-resultset-to-csv","body":"You can use <a href=\"https://technojeeves.com/index.php/aliasjava1/103-resultset-to-csv\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/103-resultset-to-csv</a>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651492058,"creation_date":1651490834,"answer_id":72086012,"question_id":72085804,"body_markdown":"Just print output to csv within while loop.\r\n\r\nNote that you must include `ResultSet` and `PrintWriter` into `try-with-resources` statement as well to ensure the resource is closed after the program is finished.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    File csvFile = new File(&quot;employee.csv&quot;);\r\n    String strSelect = &quot;select * from employee&quot;;\r\n    try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\r\n        Statement stmt = conn.createStatement();\r\n        ResultSet rset = stmt.executeQuery(strSelect);\r\n        PrintWriter out = new PrintWriter(csvFile)) {\r\n        //int colCount = 0;\r\n        while (rset.next()) {\r\n            String userName = rset.getString(&quot;username&quot;);\r\n            String firstName = rset.getString(&quot;firstname&quot;);\r\n            String lastName = rset.getString(&quot;lastname&quot;);\r\n            String emailId = rset.getString(&quot;emailid&quot;);\r\n            String address = rset.getString(&quot;address&quot;);\r\n            out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName + &quot;,&quot; + emailId + &quot;,&quot; + address);\r\n        }\r\n    } catch (FileNotFoundException | SQLException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"write the result set into .csv file using java","body":"<p>Just print output to csv within while loop.</p>\n<p>Note that you must include <code>ResultSet</code> and <code>PrintWriter</code> into <code>try-with-resources</code> statement as well to ensure the resource is closed after the program is finished.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    File csvFile = new File(&quot;employee.csv&quot;);\n    String strSelect = &quot;select * from employee&quot;;\n    try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\n        Statement stmt = conn.createStatement();\n        ResultSet rset = stmt.executeQuery(strSelect);\n        PrintWriter out = new PrintWriter(csvFile)) {\n        //int colCount = 0;\n        while (rset.next()) {\n            String userName = rset.getString(&quot;username&quot;);\n            String firstName = rset.getString(&quot;firstname&quot;);\n            String lastName = rset.getString(&quot;lastname&quot;);\n            String emailId = rset.getString(&quot;emailid&quot;);\n            String address = rset.getString(&quot;address&quot;);\n            out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName + &quot;,&quot; + emailId + &quot;,&quot; + address);\n        }\n    } catch (FileNotFoundException | SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651490954,"creation_date":1651490954,"answer_id":72086029,"question_id":72085804,"body_markdown":"You can check the Apache Commons CSV library.\r\n\r\nExamples can be found here:\r\nhttps://www.baeldung.com/apache-commons-csv","title":"write the result set into .csv file using java","body":"<p>You can check the Apache Commons CSV library.</p>\n<p>Examples can be found here:\n<a href=\"https://www.baeldung.com/apache-commons-csv\" rel=\"nofollow noreferrer\">https://www.baeldung.com/apache-commons-csv</a></p>\n"}],"owner":{"account_id":25127474,"reputation":1,"user_id":18975118,"display_name":"Chandu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651492058,"creation_date":1651489652,"question_id":72085804,"body_markdown":"I&#39;m trying to write the result set into .csv file using java, for that I wrote code, this created a .csv file but the result set data is not coming into .csv file, I want what ever the result set printed in console should be write in to .csv file. Could some one help me out of this.\r\n\r\n```java\r\npublic class JdbcEmployee {\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\ttry (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\r\n\r\n\t\t\t\tStatement stmt = conn.createStatement();) {\r\n\r\n\t\t\tString strSelect = &quot;select * from employee&quot;;\r\n\t\t\tResultSet rset = stmt.executeQuery(strSelect);\r\n\r\n\t\t\t//int colCount = 0;\r\n\t\t\twhile (rset.next()) {\r\n\t\t\t\tString userName = rset.getString(&quot;username&quot;);\r\n\t\t\t\tString firstName = rset.getString(&quot;firstname&quot;);\r\n\t\t\t\tString lastName = rset.getString(&quot;lastname&quot;);\r\n\t\t\t\tString emailId = rset.getString(&quot;emailid&quot;);\r\n\t\t\t\tString address = rset.getString(&quot;address&quot;);\r\n\t\t\t\tSystem.out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName);\r\n\r\n\t\t\t}\r\n\r\n\t\t} catch (SQLException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\r\n\t\tArrayList&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\r\n\t\tFile csvFile = new File(&quot;employee.csv&quot;);\r\n\t\tPrintWriter out = new PrintWriter(csvFile);\r\n\r\n\t\tfor (Employee employeeList : employee) {\r\n\t\t\tout.println(((Employee) employeeList).getLastName());\r\n\t\t}\r\n\t\tout.close();\r\n\t}\r\n\r\n\tprivate String getFirstName() {\r\n\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n","title":"write the result set into .csv file using java","body":"<p>I'm trying to write the result set into .csv file using java, for that I wrote code, this created a .csv file but the result set data is not coming into .csv file, I want what ever the result set printed in console should be write in to .csv file. Could some one help me out of this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JdbcEmployee {\n    public static void main(String[] args) throws FileNotFoundException {\n        try (Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/print_list&quot;, &quot;root&quot;, &quot;7012&quot;);\n\n                Statement stmt = conn.createStatement();) {\n\n            String strSelect = &quot;select * from employee&quot;;\n            ResultSet rset = stmt.executeQuery(strSelect);\n\n            //int colCount = 0;\n            while (rset.next()) {\n                String userName = rset.getString(&quot;username&quot;);\n                String firstName = rset.getString(&quot;firstname&quot;);\n                String lastName = rset.getString(&quot;lastname&quot;);\n                String emailId = rset.getString(&quot;emailid&quot;);\n                String address = rset.getString(&quot;address&quot;);\n                System.out.println(userName + &quot;, &quot; + firstName + &quot;, &quot; + lastName);\n\n            }\n\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n\n        ArrayList&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\n        File csvFile = new File(&quot;employee.csv&quot;);\n        PrintWriter out = new PrintWriter(csvFile);\n\n        for (Employee employeeList : employee) {\n            out.println(((Employee) employeeList).getLastName());\n        }\n        out.close();\n    }\n\n    private String getFirstName() {\n\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","http","proxy"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389224348,"creation_date":1389224348,"answer_id":21008917,"question_id":21008459,"body_markdown":"When you define an HTTP proxy to an application or browser, either:\r\n\r\n1. There will be a preceding CONNECT request to form a tunnel, that tells you the target host:port, or\r\n\r\n2. The entire target URL is placed in the middle of the GET/POST/... request line. Normally, without a proxy, this is just a relative URL, relative to the host:port of the TCP connection.","title":"Java Proxy: How to extract Destination Host and Port from the HttpRequest?","body":"<p>When you define an HTTP proxy to an application or browser, either:</p>\n\n<ol>\n<li><p>There will be a preceding CONNECT request to form a tunnel, that tells you the target host:port, or</p></li>\n<li><p>The entire target URL is placed in the middle of the GET/POST/... request line. Normally, without a proxy, this is just a relative URL, relative to the host:port of the TCP connection.</p></li>\n</ol>\n"}],"owner":{"account_id":2835116,"reputation":788,"user_id":2435860,"accept_rate":22,"display_name":"user2435860"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651491963,"creation_date":1389222270,"question_id":21008459,"body_markdown":"I am working on a Http Proxy in java. Basically I have 3 applications:\r\n\r\n- a client application, where I just submit a request to a server VIA a proxy\r\n- a proxy that captures the request, modifies it and then forwards it to the web server\r\n- the web server\r\n    Here is my code for the Client (taken from the apache httpcore examples, but works well):\r\n\r\n    public class ClientExecuteProxy () {\r\n\r\n        public static void main(String[] args)throws Exception {\r\n            HttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8080, &quot;http&quot;);\r\n    \r\n            DefaultHttpClient httpclient = new DefaultHttpClient();\r\n            try {\r\n                httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\r\n    \r\n                HttpHost target = new HttpHost(&quot;issues.apache.org&quot;, 443, &quot;https&quot;);\r\n                HttpGet req = new HttpGet(&quot;/&quot;);\r\n    \r\n                System.out.println(&quot;executing request to &quot; + target + &quot; via &quot; + proxy);\r\n                HttpResponse rsp = httpclient.execute(target, req);\r\n                HttpEntity entity = rsp.getEntity();\r\n    \r\n                System.out.println(&quot;----------------------------------------&quot;);\r\n                System.out.println(rsp.getStatusLine());\r\n                Header[] headers = rsp.getAllHeaders();\r\n                for (int i = 0; i&lt;headers.length; i++) {\r\n                    System.out.println(headers[i]);\r\n                }\r\n                System.out.println(&quot;----------------------------------------&quot;);\r\n    \r\n                if (entity != null) {\r\n                    System.out.println(EntityUtils.toString(entity));\r\n                }\r\n    \r\n            } finally {\r\n                // When HttpClient instance is no longer needed,\r\n                // shut down the connection manager to ensure\r\n                // immediate deallocation of all system resources\r\n                httpclient.getConnectionManager().shutdown();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nIf I do a direct execution of the request to the server (if I comment the line &quot;httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);&quot;), it works without any problem. But if I leave it like that, it will pass by the proxy. Here is the part that I do not know how to handle for the proxy:\r\nThe proxy listens for the requests, reads its content and verifies if it respects certain policies. If OK it will forward it to the server, else it will drop the request and it will send a HttpResponse with an error. The problem is when the request is OK and it needs to be forwarded. How does the proxy know to what address to forward it? My question is: How do I get the information from the request entered at the line &quot;HttpHost target = new HttpHost(&quot;issues.apache.org&quot;, 443, &quot;https&quot;);&quot;?\r\n    I&#39;ve googled for a couple of hours but found nothing. Can anybody help me please?","title":"Java Proxy: How to extract Destination Host and Port from the HttpRequest?","body":"<p>I am working on a Http Proxy in java. Basically I have 3 applications:</p>\n\n<ul>\n<li>a client application, where I just submit a request to a server VIA a proxy</li>\n<li>a proxy that captures the request, modifies it and then forwards it to the web server</li>\n<li><p>the web server\nHere is my code for the Client (taken from the apache httpcore examples, but works well):</p>\n\n<p>public class ClientExecuteProxy () {</p>\n\n<pre><code>public static void main(String[] args)throws Exception {\n    HttpHost proxy = new HttpHost(\"127.0.0.1\", 8080, \"http\");\n\n    DefaultHttpClient httpclient = new DefaultHttpClient();\n    try {\n        httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\n\n        HttpHost target = new HttpHost(\"issues.apache.org\", 443, \"https\");\n        HttpGet req = new HttpGet(\"/\");\n\n        System.out.println(\"executing request to \" + target + \" via \" + proxy);\n        HttpResponse rsp = httpclient.execute(target, req);\n        HttpEntity entity = rsp.getEntity();\n\n        System.out.println(\"----------------------------------------\");\n        System.out.println(rsp.getStatusLine());\n        Header[] headers = rsp.getAllHeaders();\n        for (int i = 0; i&lt;headers.length; i++) {\n            System.out.println(headers[i]);\n        }\n        System.out.println(\"----------------------------------------\");\n\n        if (entity != null) {\n            System.out.println(EntityUtils.toString(entity));\n        }\n\n    } finally {\n        // When HttpClient instance is no longer needed,\n        // shut down the connection manager to ensure\n        // immediate deallocation of all system resources\n        httpclient.getConnectionManager().shutdown();\n    }\n}\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>If I do a direct execution of the request to the server (if I comment the line \"httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);\"), it works without any problem. But if I leave it like that, it will pass by the proxy. Here is the part that I do not know how to handle for the proxy:\nThe proxy listens for the requests, reads its content and verifies if it respects certain policies. If OK it will forward it to the server, else it will drop the request and it will send a HttpResponse with an error. The problem is when the request is OK and it needs to be forwarded. How does the proxy know to what address to forward it? My question is: How do I get the information from the request entered at the line \"HttpHost target = new HttpHost(\"issues.apache.org\", 443, \"https\");\"?\n    I've googled for a couple of hours but found nothing. Can anybody help me please?</p>\n"},{"tags":["java","hibernate","jpa","caching"],"owner":{"account_id":13666606,"reputation":740,"user_id":9939657,"display_name":"hdk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651491611,"creation_date":1651491611,"question_id":72086146,"body_markdown":"1. As an example, say we have instances of a spring boot micro-service that uses 2nd level caching. Since the API requests can update the database through one App instance without the other instances knowing it, won&#39;t it cause the other instances serve stale data from their 2nd level caches? Apart from that, something like a background batch job could cause the same data inconsistency in the cache isn&#39;t it?\r\n\r\n2. If we assume that the database is updated only through the App, can a distributed cache that lives independently from instances like Redis solve the problem?\r\n\r\n3. When there is no guarantee that the database will be updated through the App, is Optimistic and Pessimistic locking the way to solve it?\r\n ","title":"JPA/Hibernate 2nd Level Caching: How to avoid stale data?","body":"<ol>\n<li><p>As an example, say we have instances of a spring boot micro-service that uses 2nd level caching. Since the API requests can update the database through one App instance without the other instances knowing it, won't it cause the other instances serve stale data from their 2nd level caches? Apart from that, something like a background batch job could cause the same data inconsistency in the cache isn't it?</p>\n</li>\n<li><p>If we assume that the database is updated only through the App, can a distributed cache that lives independently from instances like Redis solve the problem?</p>\n</li>\n<li><p>When there is no guarantee that the database will be updated through the App, is Optimistic and Pessimistic locking the way to solve it?</p>\n</li>\n</ol>\n"},{"tags":["java","eclipse","swt","jface"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651491291,"creation_date":1651491291,"answer_id":72086087,"question_id":72085516,"body_markdown":"Just set the shell size based on the monitor size rather than the bounds.\r\n\r\nThis is what the Eclipse Launch Configuration Dialog uses to make sure it is not too big:\r\n```\r\nprotected void setShellSize(int width, int height) {\r\n\tRectangle bounds = getShell().getMonitor().getBounds();\r\n\tgetShell().setSize(Math.min(width, bounds.width), Math.min(height, bounds.height));\r\n}\r\n```","title":"SWT check if shell exceeds screen bounds","body":"<p>Just set the shell size based on the monitor size rather than the bounds.</p>\n<p>This is what the Eclipse Launch Configuration Dialog uses to make sure it is not too big:</p>\n<pre><code>protected void setShellSize(int width, int height) {\n    Rectangle bounds = getShell().getMonitor().getBounds();\n    getShell().setSize(Math.min(width, bounds.width), Math.min(height, bounds.height));\n}\n</code></pre>\n"}],"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086087,"answer_count":1,"score":0,"last_activity_date":1651491291,"creation_date":1651487883,"question_id":72085516,"body_markdown":"I have a button that opens a shell in my application, which displays a number of checkboxes, along with 2 buttons at the bottom. The problem is that it can get cut off due to its height being too big. \r\n\r\nThe solution I want is to add the contents of the shell to a ScrollableComposite, which doesn&#39;t work, because the shell just expands in height, so the composite&#39;s scrollbars don&#39;t do anything. \r\n\r\nI figured the best way would be to calculate if the shell exceeds the screen bounds, but I don&#39;t understand how its coordinates really work. The shell&#39;s parent is a shell, so `Shell::getBounds()` is supposed to return the coordinates *relative to the display*, but I think I need the shell&#39;s bounds *relative to the monitor* (which I can get through `Shell::getMonitor()`) in this case. \r\n\r\nHow can I do this ?","title":"SWT check if shell exceeds screen bounds","body":"<p>I have a button that opens a shell in my application, which displays a number of checkboxes, along with 2 buttons at the bottom. The problem is that it can get cut off due to its height being too big.</p>\n<p>The solution I want is to add the contents of the shell to a ScrollableComposite, which doesn't work, because the shell just expands in height, so the composite's scrollbars don't do anything.</p>\n<p>I figured the best way would be to calculate if the shell exceeds the screen bounds, but I don't understand how its coordinates really work. The shell's parent is a shell, so <code>Shell::getBounds()</code> is supposed to return the coordinates <em>relative to the display</em>, but I think I need the shell's bounds <em>relative to the monitor</em> (which I can get through <code>Shell::getMonitor()</code>) in this case.</p>\n<p>How can I do this ?</p>\n"},{"tags":["java","insert","binary-tree","binary-search","tostring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1651391004,"post_id":72074730,"comment_id":127350404,"body_markdown":"Step through your insert method with the debugger.","body":"Step through your insert method with the debugger."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651491286,"creation_date":1651392273,"answer_id":72075004,"question_id":72074730,"body_markdown":"You have quite a few issues in your code. I&#39;ll list a few immediate items but you really will need to learn to use an interactive debugger and unit testing to resolve the sorts of issues you are seeing.\r\n\r\n 1. You refer to the `value` field in `BTNode` in your comparison but it is never set. You should really be referring to `info` (which is the actual data in the node).\r\n\r\n 2. But given `info` is a generic type you can&#39;t use standard comparison operators. Instead you&#39;ll need to define it as `&lt;T extends Comparable&lt;T&gt;&gt;` and then use `n.info.compareTo(k) &gt; 0`.\r\n\r\n 3. The key passed into insert should also be of type `T`\r\n\r\n 4. Which means the other classes also need to ensure `T` extends `Comparable`.\r\n\r\n 5. Height is only incremented when nodes are added to the right which makes no sense.\r\n\r\nHeight needs to be increased only when a node is inserted further from the root than the current maximum. Something like the following:\r\n\r\n    int depth = 0;\r\n    while (n != null) {\r\n        depth++;\r\n        p = n;\r\n    ...\r\n    }\r\n\r\n    depth++;\r\n    if (depth &gt; height)\r\n        height = depth;\r\n\r\nYou should get used to making your fields private and accessing them through `getters`. In your case a `compareValue` method would likely make sense. ","title":"Adding height of binary tree to insert method","body":"<p>You have quite a few issues in your code. I'll list a few immediate items but you really will need to learn to use an interactive debugger and unit testing to resolve the sorts of issues you are seeing.</p>\n<ol>\n<li><p>You refer to the <code>value</code> field in <code>BTNode</code> in your comparison but it is never set. You should really be referring to <code>info</code> (which is the actual data in the node).</p>\n</li>\n<li><p>But given <code>info</code> is a generic type you can't use standard comparison operators. Instead you'll need to define it as <code>&lt;T extends Comparable&lt;T&gt;&gt;</code> and then use <code>n.info.compareTo(k) &gt; 0</code>.</p>\n</li>\n<li><p>The key passed into insert should also be of type <code>T</code></p>\n</li>\n<li><p>Which means the other classes also need to ensure <code>T</code> extends <code>Comparable</code>.</p>\n</li>\n<li><p>Height is only incremented when nodes are added to the right which makes no sense.</p>\n</li>\n</ol>\n<p>Height needs to be increased only when a node is inserted further from the root than the current maximum. Something like the following:</p>\n<pre><code>int depth = 0;\nwhile (n != null) {\n    depth++;\n    p = n;\n...\n}\n\ndepth++;\nif (depth &gt; height)\n    height = depth;\n</code></pre>\n<p>You should get used to making your fields private and accessing them through <code>getters</code>. In your case a <code>compareValue</code> method would likely make sense.</p>\n"}],"owner":{"account_id":24817189,"reputation":21,"user_id":18697905,"display_name":"Dae"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72075004,"answer_count":1,"score":0,"last_activity_date":1651491286,"creation_date":1651389365,"question_id":72074730,"body_markdown":"I am creating a program that inserts a character (number/letter) into a binary tree. So far, I&#39;m able to produce an output but it&#39;s not what I expected. These are the problems I&#39;m encountering:\r\n\r\n 1. The ```insert``` method is not able to print the correct ```height``` of the tree. I am not sure where I should insert my ```height++;``` statement to get the correct output.\r\n\r\n 2. The ```insert``` method is only able to add nodes to the right.\r\n\r\n&gt; Expected Output: ```ht=3 [K=3 L=[K=1 R=[K=2]] R=[K=5 L=[K=4]]]```\r\n\r\n&gt; My Output: ```ht=4 [K=3 R=[K=1 R=[K=2 R=[K=5 R=[K=4]]]]``` \r\n\r\n*(all nodes are only added to the right &#39;R&#39;)*\r\n\r\n\r\n**Here are my classes for reference:**\r\n\r\n**Main Class**\r\n```\r\nBST&lt;Character&gt; bst = new BST&lt;&gt;();\r\n\r\nbst.insert(&#39;3&#39;);\r\nbst.insert(&#39;1&#39;);\r\nbst.insert(&#39;2&#39;);\r\nbst.insert(&#39;5&#39;);\r\nbst.insert(&#39;4&#39;);\r\n\r\nSystem.out.println(&quot;ht=&quot; + bst.height + &quot; &quot; + bst.toString());\r\n```\r\n\r\n**BST Class** - where the ```insert``` method is declared\r\n```\r\npublic class BST&lt;T&gt; extends BT&lt;T&gt; {\r\n\t// insert() method\r\n\tpublic void insert(char k) \r\n\t{\r\n\t\tif (root == null) {\r\n\t\t\troot = new BTNode(k);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tBTNode&lt;T&gt; n = root;\r\n\t\tBTNode&lt;T&gt; p = null; // parent\r\n\t\r\n\t\twhile (n != null) {\r\n\t\t\tp = n;\r\n\t\t\t\r\n\t\t\tif (k &lt; n.value) {\r\n\t\t\t\tn = n.left;\r\n\t\t\t} else {\r\n\t\t\t\tn = n.right;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (k &lt; p.value) {\r\n\t\t\tp.left = new BTNode(k);\r\n\t\t} else {\r\n\t\t\tp.right = new BTNode(k);\r\n\t\t\theight++; \t// adds 1 to height when a new level is made\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**BTNode Class**\r\n```\r\npublic class BTNode&lt;T&gt; {\r\n\tT info;\r\n\tint value, level;\r\n\tBTNode&lt;T&gt; left, right;\r\n\t\r\n\tpublic BTNode(T el) {\r\n\t\tthis(el, null, null);\r\n\t}\r\n\t\r\n\tpublic BTNode(T el, BTNode&lt;T&gt; l, BTNode&lt;T&gt; r) {\r\n\t\tinfo = el;\r\n\t\tleft = l;\r\n\t\tright = r;\r\n\t}\r\n}\r\n```\r\n\r\n**BT Class** - where the ```toString``` method is declared\r\n```\r\npublic class BT&lt;T&gt; {\r\n\tBTNode&lt;T&gt; root = null;\r\n\tint height = 0;\r\n\t\r\n\tpublic BT() {\r\n\t\tBTNode&lt;T&gt; node = new BTNode(&quot;&quot;);\r\n\t}\r\n\t\r\n\t// other methods\r\n\t\r\n\t// toString()\r\n\tpublic String toString() {\r\n\t\treturn toString(root);\r\n    }\r\n\t\r\n\tpublic String toString(BTNode&lt;T&gt; n) {\r\n\t\tString s = &quot;&quot;;\r\n\t\t\r\n\t\tif (n == null) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tif (n != null) {\r\n\t\t\ts = &quot;[K=&quot; + n.info;\r\n\t\t\t\r\n\t\t\tif (n.left != null) {\r\n\t\t\t\ts = s + &quot; L=&quot; + toString(n.left) + &quot;]&quot;;\r\n\t\t\t}\r\n\t\t\tif (n.right != null) {\r\n\t\t\t\ts = s + &quot; R=&quot; + toString(n.right) + &quot;]&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n}\r\n```\r\n\r\nHope you can help me out, thanks!","title":"Adding height of binary tree to insert method","body":"<p>I am creating a program that inserts a character (number/letter) into a binary tree. So far, I'm able to produce an output but it's not what I expected. These are the problems I'm encountering:</p>\n<ol>\n<li><p>The <code>insert</code> method is not able to print the correct <code>height</code> of the tree. I am not sure where I should insert my <code>height++;</code> statement to get the correct output.</p>\n</li>\n<li><p>The <code>insert</code> method is only able to add nodes to the right.</p>\n</li>\n</ol>\n<blockquote>\n<p>Expected Output: <code>ht=3 [K=3 L=[K=1 R=[K=2]] R=[K=5 L=[K=4]]]</code></p>\n</blockquote>\n<blockquote>\n<p>My Output: <code>ht=4 [K=3 R=[K=1 R=[K=2 R=[K=5 R=[K=4]]]]</code></p>\n</blockquote>\n<p><em>(all nodes are only added to the right 'R')</em></p>\n<p><strong>Here are my classes for reference:</strong></p>\n<p><strong>Main Class</strong></p>\n<pre><code>BST&lt;Character&gt; bst = new BST&lt;&gt;();\n\nbst.insert('3');\nbst.insert('1');\nbst.insert('2');\nbst.insert('5');\nbst.insert('4');\n\nSystem.out.println(&quot;ht=&quot; + bst.height + &quot; &quot; + bst.toString());\n</code></pre>\n<p><strong>BST Class</strong> - where the <code>insert</code> method is declared</p>\n<pre><code>public class BST&lt;T&gt; extends BT&lt;T&gt; {\n    // insert() method\n    public void insert(char k) \n    {\n        if (root == null) {\n            root = new BTNode(k);\n            return;\n        }\n        \n        BTNode&lt;T&gt; n = root;\n        BTNode&lt;T&gt; p = null; // parent\n    \n        while (n != null) {\n            p = n;\n            \n            if (k &lt; n.value) {\n                n = n.left;\n            } else {\n                n = n.right;\n            }\n        }\n        \n        if (k &lt; p.value) {\n            p.left = new BTNode(k);\n        } else {\n            p.right = new BTNode(k);\n            height++;   // adds 1 to height when a new level is made\n        }\n    }\n}\n</code></pre>\n<p><strong>BTNode Class</strong></p>\n<pre><code>public class BTNode&lt;T&gt; {\n    T info;\n    int value, level;\n    BTNode&lt;T&gt; left, right;\n    \n    public BTNode(T el) {\n        this(el, null, null);\n    }\n    \n    public BTNode(T el, BTNode&lt;T&gt; l, BTNode&lt;T&gt; r) {\n        info = el;\n        left = l;\n        right = r;\n    }\n}\n</code></pre>\n<p><strong>BT Class</strong> - where the <code>toString</code> method is declared</p>\n<pre><code>public class BT&lt;T&gt; {\n    BTNode&lt;T&gt; root = null;\n    int height = 0;\n    \n    public BT() {\n        BTNode&lt;T&gt; node = new BTNode(&quot;&quot;);\n    }\n    \n    // other methods\n    \n    // toString()\n    public String toString() {\n        return toString(root);\n    }\n    \n    public String toString(BTNode&lt;T&gt; n) {\n        String s = &quot;&quot;;\n        \n        if (n == null) {\n            return &quot;&quot;;\n        }\n        \n        if (n != null) {\n            s = &quot;[K=&quot; + n.info;\n            \n            if (n.left != null) {\n                s = s + &quot; L=&quot; + toString(n.left) + &quot;]&quot;;\n            }\n            if (n.right != null) {\n                s = s + &quot; R=&quot; + toString(n.right) + &quot;]&quot;;\n            }\n        }\n        return s;\n    }\n}\n</code></pre>\n<p>Hope you can help me out, thanks!</p>\n"},{"tags":["java","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1651149700,"post_id":72041358,"comment_id":127298086,"body_markdown":"I think you are hitting the same issue reported here: https://github.com/spring-projects/spring-batch/issues/793. Is that the case? If so, please add a comment with your minimal complete example and a link to this SO thread. Thank you upfront.","body":"I think you are hitting the same issue reported here: <a href=\"https://github.com/spring-projects/spring-batch/issues/793\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/issues/793</a>. Is that the case? If so, please add a comment with your minimal complete example and a link to this SO thread. Thank you upfront."}],"answers":[{"tags":[],"owner":{"account_id":11268259,"reputation":1,"user_id":8264456,"display_name":"0001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651491174,"creation_date":1651491174,"answer_id":72086071,"question_id":72041358,"body_markdown":"Workaround for this is to create \r\n```\r\npublic class PagingAndSortingRepositoryWrapper&lt;T, ID&gt; implements PagingAndSortingRepository&lt;T, ID&gt; {\r\n\r\n    private PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository;\r\n\r\n    public PagingAndSortingRepositoryWrapper() {\r\n    }\r\n\r\n    public PagingAndSortingRepositoryWrapper(PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository) {\r\n        this.pagingAndSortingRepository = pagingAndSortingRepository;\r\n    }\r\n\r\n    @Override\r\n    public Iterable&lt;T&gt; findAll(Sort sort) {\r\n        return pagingAndSortingRepository.findAll(sort);\r\n    }\r\n    @Override\r\n    public Page&lt;T&gt; findAll(Pageable pageable) {\r\n        return pagingAndSortingRepository.findAll(pageable);\r\n    }\r\n    ...\r\n```\r\n\r\nthen repositoryWrapper will not be final and we will be able to use RepositoryMethodReference\r\n\r\n```\r\nPagingAndSortingRepositoryWrapper&lt;Customer, Long&gt; repositoryWrapper = new PagingAndSortingRepositoryWrapper&lt;&gt;(customerRepository);\r\n\r\n        RepositoryItemReaderBuilder.RepositoryMethodReference&lt;PagingAndSortingRepositoryWrapper&gt; repositoryMethodReference =\r\n                new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repositoryWrapper);\r\n        repositoryMethodReference.methodIs().findAll();\r\n\r\n        RepositoryItemReader&lt;Customer&gt; itemReader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\r\n                .repository(repositoryMethodReference)\r\n                .name(&quot;bar&quot;)\r\n                .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\r\n                .build();\r\n```","title":"Spring Batch - RepositoryItemReaderBuilder with RepositoryMethodReference throws Cannot subclass final class","body":"<p>Workaround for this is to create</p>\n<pre><code>public class PagingAndSortingRepositoryWrapper&lt;T, ID&gt; implements PagingAndSortingRepository&lt;T, ID&gt; {\n\n    private PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository;\n\n    public PagingAndSortingRepositoryWrapper() {\n    }\n\n    public PagingAndSortingRepositoryWrapper(PagingAndSortingRepository&lt;T, ID&gt; pagingAndSortingRepository) {\n        this.pagingAndSortingRepository = pagingAndSortingRepository;\n    }\n\n    @Override\n    public Iterable&lt;T&gt; findAll(Sort sort) {\n        return pagingAndSortingRepository.findAll(sort);\n    }\n    @Override\n    public Page&lt;T&gt; findAll(Pageable pageable) {\n        return pagingAndSortingRepository.findAll(pageable);\n    }\n    ...\n</code></pre>\n<p>then repositoryWrapper will not be final and we will be able to use RepositoryMethodReference</p>\n<pre><code>PagingAndSortingRepositoryWrapper&lt;Customer, Long&gt; repositoryWrapper = new PagingAndSortingRepositoryWrapper&lt;&gt;(customerRepository);\n\n        RepositoryItemReaderBuilder.RepositoryMethodReference&lt;PagingAndSortingRepositoryWrapper&gt; repositoryMethodReference =\n                new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repositoryWrapper);\n        repositoryMethodReference.methodIs().findAll();\n\n        RepositoryItemReader&lt;Customer&gt; itemReader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\n                .repository(repositoryMethodReference)\n                .name(&quot;bar&quot;)\n                .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\n                .build();\n</code></pre>\n"}],"owner":{"account_id":11268259,"reputation":1,"user_id":8264456,"display_name":"0001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72086071,"answer_count":1,"score":0,"last_activity_date":1651491174,"creation_date":1651138519,"question_id":72041358,"body_markdown":"I&#39;m trying to use Spring Batch RepositoryItemReaderBuilder with RepositoryMethodReference as parameter to provide type-safe way to call repository methods.\r\n\r\nunfortunately I can&#39;t make this work since this throws\r\n\r\n```\r\njava.lang.IllegalArgumentException: Cannot subclass final class com.sun.proxy.$Proxy100\r\n```\r\nas far as I understand, to make this work repository should not be final, but how can I do it?\r\n\r\n```\r\n\timplementation &#39;org.springframework.batch:spring-batch-core:4.3.5&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.6.7&#39;\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Customer {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id;\r\n\tprivate String firstName;\r\n    \r\n    ...constructors, getters, setters\r\n}\r\n\r\n```\r\n\r\n```\r\npublic interface CustomerRepository extends PagingAndSortingRepository&lt;Customer, Long&gt; {\r\n\r\n}\r\n```\r\n```\r\n@SpringBootApplication\r\npublic class AccessingDataJpaApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AccessingDataJpaApplication.class);\r\n    }\r\n\r\n    @Bean\r\n    public CommandLineRunner demo(CustomerRepository repository) {\r\n        return (args) -&gt; {\r\n            \r\n            Customer customer = new Customer();\r\n            customer.setFirstName(&quot;John&quot;);\r\n            repository.save(customer);\r\n\r\n            RepositoryItemReaderBuilder.RepositoryMethodReference&lt;CustomerRepository&gt; repositoryMethodReference =\r\n                    new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repository);\r\n            repositoryMethodReference.methodIs().findAll();\r\n\r\n            RepositoryItemReader&lt;Customer&gt; reader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\r\n                    .repository(repositoryMethodReference)\r\n                    .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\r\n                    .maxItemCount(5)\r\n                    .name(&quot;bar&quot;).build();\r\n\r\n            Customer read = reader.read();\r\n        };\r\n    }\r\n\r\n}\r\n```","title":"Spring Batch - RepositoryItemReaderBuilder with RepositoryMethodReference throws Cannot subclass final class","body":"<p>I'm trying to use Spring Batch RepositoryItemReaderBuilder with RepositoryMethodReference as parameter to provide type-safe way to call repository methods.</p>\n<p>unfortunately I can't make this work since this throws</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot subclass final class com.sun.proxy.$Proxy100\n</code></pre>\n<p>as far as I understand, to make this work repository should not be final, but how can I do it?</p>\n<pre><code>    implementation 'org.springframework.batch:spring-batch-core:4.3.5'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.6.7'\n</code></pre>\n<pre><code>@Entity\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    private String firstName;\n    \n    ...constructors, getters, setters\n}\n\n</code></pre>\n<pre><code>public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer, Long&gt; {\n\n}\n</code></pre>\n<pre><code>@SpringBootApplication\npublic class AccessingDataJpaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AccessingDataJpaApplication.class);\n    }\n\n    @Bean\n    public CommandLineRunner demo(CustomerRepository repository) {\n        return (args) -&gt; {\n            \n            Customer customer = new Customer();\n            customer.setFirstName(&quot;John&quot;);\n            repository.save(customer);\n\n            RepositoryItemReaderBuilder.RepositoryMethodReference&lt;CustomerRepository&gt; repositoryMethodReference =\n                    new RepositoryItemReaderBuilder.RepositoryMethodReference&lt;&gt;(repository);\n            repositoryMethodReference.methodIs().findAll();\n\n            RepositoryItemReader&lt;Customer&gt; reader = new RepositoryItemReaderBuilder&lt;Customer&gt;()\n                    .repository(repositoryMethodReference)\n                    .sorts(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC))\n                    .maxItemCount(5)\n                    .name(&quot;bar&quot;).build();\n\n            Customer read = reader.read();\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","jar","maven-assembly-plugin"],"answers":[{"tags":[],"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645880493,"creation_date":1645880493,"answer_id":71276884,"question_id":71272691,"body_markdown":"Remove the content\r\n \r\n    &lt;descriptorRefs&gt;\r\n      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    &lt;/descriptorRefs&gt;\r\n\r\nOf line 5,6&amp;7 and then try.","title":"rename maven jar-with-dependencies","body":"<p>Remove the content</p>\n<pre><code>&lt;descriptorRefs&gt;\n  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n&lt;/descriptorRefs&gt;\n</code></pre>\n<p>Of line 5,6&amp;7 and then try.</p>\n"},{"tags":[],"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651490779,"creation_date":1651490779,"answer_id":72086005,"question_id":71272691,"body_markdown":"You need to add two tags which are `&lt;finalName&gt;` and `&lt;appendAssemblyId&gt;` inside `&lt;configuration&gt;`\r\n\r\nSet `&lt;appendAssemblyId&gt;` to `false`\r\n\r\nYou need to change your `maven-assembly-plugin` as below\r\n```\r\n &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n\r\n          &lt;finalName&gt;all&lt;/finalName&gt;   // name of your jar\r\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;  // append will be false\r\n\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"rename maven jar-with-dependencies","body":"<p>You need to add two tags which are <code>&lt;finalName&gt;</code> and <code>&lt;appendAssemblyId&gt;</code> inside <code>&lt;configuration&gt;</code></p>\n<p>Set <code>&lt;appendAssemblyId&gt;</code> to <code>false</code></p>\n<p>You need to change your <code>maven-assembly-plugin</code> as below</p>\n<pre><code> &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n\n          &lt;finalName&gt;all&lt;/finalName&gt;   // name of your jar\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;  // append will be false\n\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":22580673,"reputation":159,"user_id":16765357,"display_name":"SimpleNiko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651490779,"creation_date":1645831044,"question_id":71272691,"body_markdown":"My plugin section in the pom file looks like this:\r\n\r\n      &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n\r\nAfter the build finishes, I&#39;m left with the following files:\r\n\r\n    gateway-1.1.0.pom\r\n    gateway-1.1.0.jar\r\n    gateway-1.1.0.jar-with-dependencies.jar\r\n\r\nI would like to get the following outcome instead: \r\n\r\n\r\n    gateway-1.1.0.pom\r\n    gateway-1.1.0.jar\r\n    gateway-1.1.0-all.jar\r\n\r\nWhich means changing `gateway-1.1.0.jar-with-dependencies.jar` to `gateway-1.1.0-all.jar`, is that possible?\r\n","title":"rename maven jar-with-dependencies","body":"<p>My plugin section in the pom file looks like this:</p>\n<pre><code>  &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.gateway.gatewayService&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>After the build finishes, I'm left with the following files:</p>\n<pre><code>gateway-1.1.0.pom\ngateway-1.1.0.jar\ngateway-1.1.0.jar-with-dependencies.jar\n</code></pre>\n<p>I would like to get the following outcome instead:</p>\n<pre><code>gateway-1.1.0.pom\ngateway-1.1.0.jar\ngateway-1.1.0-all.jar\n</code></pre>\n<p>Which means changing <code>gateway-1.1.0.jar-with-dependencies.jar</code> to <code>gateway-1.1.0-all.jar</code>, is that possible?</p>\n"},{"tags":["java","android-studio","libvlc"],"comments":[{"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"score":0,"creation_date":1651541681,"post_id":72085977,"comment_id":127383823,"body_markdown":"why not resize `_myVideoView`?","body":"why not resize <code>_myVideoView</code>?"},{"owner":{"account_id":24844782,"reputation":11,"user_id":18722419,"display_name":"Kanoto"},"score":0,"creation_date":1651690658,"post_id":72085977,"comment_id":127425723,"body_markdown":"Don&#39;t worry, I found the solution, just needed to change it to VLCVideoLayout and it worked perfectly","body":"Don&#39;t worry, I found the solution, just needed to change it to VLCVideoLayout and it worked perfectly"},{"owner":{"account_id":14891443,"reputation":415,"user_id":10752962,"display_name":"Vivek Thummar"},"score":0,"creation_date":1671708640,"post_id":72085977,"comment_id":132158581,"body_markdown":"@Kanoto, can you please show your code as i also want to play video, but not able to play it..","body":"@Kanoto, can you please show your code as i also want to play video, but not able to play it.."}],"owner":{"account_id":24844782,"reputation":11,"user_id":18722419,"display_name":"Kanoto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651490615,"creation_date":1651490615,"question_id":72085977,"body_markdown":"I&#39;m trying to display an udp stream from a GoPro camera, but when I do it that way :\r\n\r\n```\r\nArrayList&lt;String&gt; _Options = new ArrayList&lt;String&gt;();\r\n_Options.add(&quot;--file-caching=2000&quot;);\r\n_Options.add(&quot;--network-caching=150&quot;);\r\n_Options.add(&quot;--clock-jitter=0&quot;);\r\n_Options.add(&quot;--live-caching=1000&quot;);\r\n_Options.add(&quot;--clock-synchro=0&quot;);\r\n_Options.add(&quot;--fullscreen&quot;);\r\n_Options.add(&quot;-vvv&quot;);\r\n_Options.add(&quot;--drop-late-frames&quot;);\r\n_Options.add(&quot;--skip-frames&quot;);\r\n_myLibVlc = new LibVLC(findViewById(android.R.id.content).getContext(), _Options);\r\n_myPlayer = new MediaPlayer(_myLibVlc);\r\n_myPlayer.setAspectRatio(&quot;16:9&quot;);\r\n_myPlayer.setScale(1);\r\n_myVout = _myPlayer.getVLCVout();\r\n_myVout.setVideoView(_myVideoView);\r\n_myVout.attachViews();\r\n```\r\n\r\nBut I only get an tiny video like that :\r\n\r\n[The image][1]\r\n\r\nI tried using DisplayMetrics but it crashes when I use vout.setWindowSize()\r\n\r\nps : I&#39;m sorry for my bad english ^^\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VOzpo.jpg","title":"How can I get a fullscreen with libvlc android studio","body":"<p>I'm trying to display an udp stream from a GoPro camera, but when I do it that way :</p>\n<pre><code>ArrayList&lt;String&gt; _Options = new ArrayList&lt;String&gt;();\n_Options.add(&quot;--file-caching=2000&quot;);\n_Options.add(&quot;--network-caching=150&quot;);\n_Options.add(&quot;--clock-jitter=0&quot;);\n_Options.add(&quot;--live-caching=1000&quot;);\n_Options.add(&quot;--clock-synchro=0&quot;);\n_Options.add(&quot;--fullscreen&quot;);\n_Options.add(&quot;-vvv&quot;);\n_Options.add(&quot;--drop-late-frames&quot;);\n_Options.add(&quot;--skip-frames&quot;);\n_myLibVlc = new LibVLC(findViewById(android.R.id.content).getContext(), _Options);\n_myPlayer = new MediaPlayer(_myLibVlc);\n_myPlayer.setAspectRatio(&quot;16:9&quot;);\n_myPlayer.setScale(1);\n_myVout = _myPlayer.getVLCVout();\n_myVout.setVideoView(_myVideoView);\n_myVout.attachViews();\n</code></pre>\n<p>But I only get an tiny video like that :</p>\n<p><a href=\"https://i.stack.imgur.com/VOzpo.jpg\" rel=\"nofollow noreferrer\">The image</a></p>\n<p>I tried using DisplayMetrics but it crashes when I use vout.setWindowSize()</p>\n<p>ps : I'm sorry for my bad english ^^</p>\n"},{"tags":["java","soapui","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":3132605,"reputation":374,"user_id":2649915,"accept_rate":100,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380892758,"creation_date":1380867811,"answer_id":19174664,"question_id":19169599,"body_markdown":"Looks like your web service is SOAP 1.1 and where as your SoapUI request is SOAP 1.2 and hence due to this conflict you are getting the error. This [thread][1] might help you regarding this matter. In SOAP 1.2 MIME type is &quot;application/soap+xml&quot;. That&#39;s why I thought it&#39;s [SOAP 1.2][2](purely a speculation)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10403806/wcf-soap-1-2-service-expecting-soap-1-1-content-type\r\n  [2]: http://www.w3.org/TR/2002/CR-soap12-part2-20021219/#ietf-draft","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>Looks like your web service is SOAP 1.1 and where as your SoapUI request is SOAP 1.2 and hence due to this conflict you are getting the error. This <a href=\"https://stackoverflow.com/questions/10403806/wcf-soap-1-2-service-expecting-soap-1-1-content-type\">thread</a> might help you regarding this matter. In SOAP 1.2 MIME type is \"application/soap+xml\". That's why I thought it's <a href=\"http://www.w3.org/TR/2002/CR-soap12-part2-20021219/#ietf-draft\" rel=\"nofollow noreferrer\">SOAP 1.2</a>(purely a speculation)</p>\n"},{"tags":[],"owner":{"account_id":3058719,"reputation":23,"user_id":2591856,"display_name":"Plex Lex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381156967,"creation_date":1381156967,"answer_id":19227760,"question_id":19169599,"body_markdown":"The issue was I was not sending a correct soap request.  I thought Soap UI added the SOAP Envelope and Body around my request but I was wrong. :-(  I correct it with the following XML:\r\n\r\n    &lt;SOAP-ENV:Envelope \r\n        xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; \r\n        xmlns:SOAP-ENC=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;\r\n      &lt;SOAP-ENV:Body&gt;\r\n        &lt;war:ItemIdDescription xmlns:oagis=&quot;http://www.openapplications.org/oagis/9&quot;\r\n             xmlns:war=&quot;http://www.starstandard.org/STAR/5&quot;&gt;Test&lt;/war:ItemIdDescription&gt;\r\n      &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\n","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>The issue was I was not sending a correct soap request.  I thought Soap UI added the SOAP Envelope and Body around my request but I was wrong. :-(  I correct it with the following XML:</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope \n    xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" \n    xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" SOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;\n  &lt;SOAP-ENV:Body&gt;\n    &lt;war:ItemIdDescription xmlns:oagis=\"http://www.openapplications.org/oagis/9\"\n         xmlns:war=\"http://www.starstandard.org/STAR/5\"&gt;Test&lt;/war:ItemIdDescription&gt;\n  &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3376274,"reputation":160,"user_id":2834361,"display_name":"gizit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651490541,"creation_date":1651490541,"answer_id":72085964,"question_id":19169599,"body_markdown":"I ran into this issue when running an integration test on my SOAP webservice. I solved it by setting the content-type header of my soap call to &quot;text/xml&quot; instead of &quot;application/xml&quot;.","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>I ran into this issue when running an integration test on my SOAP webservice. I solved it by setting the content-type header of my soap call to &quot;text/xml&quot; instead of &quot;application/xml&quot;.</p>\n"}],"owner":{"account_id":3058719,"reputation":23,"user_id":2591856,"display_name":"Plex Lex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19174664,"answer_count":3,"score":0,"last_activity_date":1651490541,"creation_date":1380835939,"question_id":19169599,"body_markdown":"I am trying to code a simple Spring-ws server.  I am not sure what I am doing wrong but the request I initial from SoapUI never reaches my server. Running under a debugger I never get control in my server.  The error indicates an invalid content type, but I&#39;m not sure this is from the response.  The response being returned is my jsp error page for the application.  \r\nI believe the servlet is configured correctly.  I setup a bogus test.wsdl and as you see configured below.  This worked correctly.  I just cannot get the request from SoapUI to my server code.\r\n\r\n\r\nThe code for my server is:  \r\n    package com.tester;\r\n\r\n\r\n    import org.springframework.ws.server.endpoint.annotation.Endpoint;\r\n    import org.springframework.ws.server.endpoint.annotation.PayloadRoot;\r\n    import org.springframework.ws.server.endpoint.annotation.RequestPayload;\r\n    import org.springframework.ws.server.endpoint.annotation.ResponsePayload;\r\n    import org.starstandard.star.x5.ItemIdDescriptionDocument;\r\n\r\n    @Endpoint   \r\n    public class EndpointTest {\r\n    \r\n\r\n    @PayloadRoot(localPart=&quot;ItemIdDescription&quot;, namespace = &quot;http://www.starstandard.org/STAR/5&quot;)\r\n    @ResponsePayload\r\n    public ItemIdDescriptionDocument handleItemIdDescription(@RequestPayload  ItemIdDescriptionDocument request){\r\n\r\n        String description = request.getItemIdDescription().getStringValue();\r\n      \r\n        return request;\r\n    }\r\n}  \r\n\r\nHere is the configuration for my servlet.  This file is WEB-INF/spring-ws-servlet.xml:  \r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    xmlns:sws=&quot;http://www.springframework.org/schema/web-services&quot;\r\n    xmlns:cache=&quot;http://www.springframework.org/schema/cache&quot;\r\n    xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \r\n    http://www.springframework.org/schema/web-services http://www.springframework.org/schema/web-services/web-services-2.0.xsd\r\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd \r\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\r\n    http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\r\n    http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd&quot;&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;com.tester&quot; /&gt;\r\n    &lt;sws:annotation-driven /&gt;\r\n    &lt;bean\r\n      class=&quot;org.springframework.ws.server.endpoint.adapter.GenericMarshallingMethodEndpointAdapter&quot;&gt;\r\n      &lt;property name=&quot;marshaller&quot; ref=&quot;marshaller&quot; /&gt;\r\n      &lt;property name=&quot;unmarshaller&quot; ref=&quot;marshaller&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;marshaller&quot; class=&quot;org.springframework.oxm.xmlbeans.XmlBeansMarshaller&quot;&gt;&lt;/bean&gt;\r\n    &lt;sws:static-wsdl id=&quot;test&quot; location=&quot;/WEB-INF/test.wsdl&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\nHere is the raw request from SoapUI.  I used Fiddler to get this:  \r\n\r\n    POST http://localhost:8080/webroot/eservices HTTP/1.1\r\n    Accept-Encoding: gzip,deflate\r\n    Content-Type: application/xml\r\n    User-Agent: Jakarta Commons-HttpClient/3.1\r\n    Host: localhost:8080\r\n    Connection: Keep-Alive\r\n    Content-Length: 146\r\n\r\n    &lt;ItemIdDescription xmlns:oagis=&quot;http://www.openapplications.org/oagis/9&quot;\r\n     xmlns=&quot;http://www.starstandard.org/STAR/5&quot;&gt;Test&lt;/ItemIdDescription&gt;\r\n\r\n\r\n\r\nHere is the error stack from the logs:  \r\n\r\n    Oct 3, 2013 4:54:55 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet spring-ws threw exception\r\n    com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-    Type:application/xml. Is this an error message instead of a SOAP response?\r\n\tat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\r\n\tat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\r\n\tat com.sun.xml.internal.messaging.saaj.soap.ver1_1.Message1_1Impl.&lt;init&gt;(Message1_1Impl.java:67)\r\n\tat com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage(SOAPMessageFactory1_1Impl.java:61)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:184)\r\n\tat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:60)\r\n\tat org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:90)\r\n\tat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\r\n\tat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:59)\r\n\tat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:239)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n\tat java.lang.Thread.run(Thread.java:619)\r\n\r\n\r\n\r\nHere is the error stack after I switched the server to support SOAP 1.2 so I do not believe it is a SOAP version issue:  \r\n\r\n    SEVERE: Servlet.service() for servlet spring-ws threw exception\r\n    com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/xml. Is this an error message instead of a SOAP response\r\n    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\r\n    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\r\n    at com.sun.xml.internal.messaging.saaj.soap.ver1_2.Message1_2Impl.&lt;init&gt;(Message1_2Impl.java:60)\r\n    at com.sun.xml.internal.messaging.saaj.soap.ver1_2.SOAPMessageFactory1_2Impl.createMessage(SOAPMessageFactory1_2Impl.java:61)\r\n    ... the rest of the stack is the same.\r\n\r\n\r\nDoes anyone have suggestions on how to debug this?  Much thanks!","title":"Spring-ws Endpoint is not reached, error indicates invalid content type: application/xml","body":"<p>I am trying to code a simple Spring-ws server.  I am not sure what I am doing wrong but the request I initial from SoapUI never reaches my server. Running under a debugger I never get control in my server.  The error indicates an invalid content type, but I'm not sure this is from the response.  The response being returned is my jsp error page for the application.<br>\nI believe the servlet is configured correctly.  I setup a bogus test.wsdl and as you see configured below.  This worked correctly.  I just cannot get the request from SoapUI to my server code.</p>\n\n<p>The code for my server is:<br>\n    package com.tester;</p>\n\n<pre><code>import org.springframework.ws.server.endpoint.annotation.Endpoint;\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot;\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload;\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload;\nimport org.starstandard.star.x5.ItemIdDescriptionDocument;\n\n@Endpoint   \npublic class EndpointTest {\n\n\n@PayloadRoot(localPart=\"ItemIdDescription\", namespace = \"http://www.starstandard.org/STAR/5\")\n@ResponsePayload\npublic ItemIdDescriptionDocument handleItemIdDescription(@RequestPayload  ItemIdDescriptionDocument request){\n\n    String description = request.getItemIdDescription().getStringValue();\n\n    return request;\n}\n</code></pre>\n\n<p>}  </p>\n\n<p>Here is the configuration for my servlet.  This file is WEB-INF/spring-ws-servlet.xml:  </p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\" xmlns:jee=\"http://www.springframework.org/schema/jee\"\nxmlns:p=\"http://www.springframework.org/schema/p\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:sws=\"http://www.springframework.org/schema/web-services\"\nxmlns:cache=\"http://www.springframework.org/schema/cache\"\nxmlns:task=\"http://www.springframework.org/schema/task\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd \nhttp://www.springframework.org/schema/web-services http://www.springframework.org/schema/web-services/web-services-2.0.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd \nhttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\nhttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd\nhttp://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd\"&gt;\n\n&lt;context:component-scan base-package=\"com.tester\" /&gt;\n&lt;sws:annotation-driven /&gt;\n&lt;bean\n  class=\"org.springframework.ws.server.endpoint.adapter.GenericMarshallingMethodEndpointAdapter\"&gt;\n  &lt;property name=\"marshaller\" ref=\"marshaller\" /&gt;\n  &lt;property name=\"unmarshaller\" ref=\"marshaller\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"marshaller\" class=\"org.springframework.oxm.xmlbeans.XmlBeansMarshaller\"&gt;&lt;/bean&gt;\n&lt;sws:static-wsdl id=\"test\" location=\"/WEB-INF/test.wsdl\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Here is the raw request from SoapUI.  I used Fiddler to get this:  </p>\n\n<pre><code>POST http://localhost:8080/webroot/eservices HTTP/1.1\nAccept-Encoding: gzip,deflate\nContent-Type: application/xml\nUser-Agent: Jakarta Commons-HttpClient/3.1\nHost: localhost:8080\nConnection: Keep-Alive\nContent-Length: 146\n\n&lt;ItemIdDescription xmlns:oagis=\"http://www.openapplications.org/oagis/9\"\n xmlns=\"http://www.starstandard.org/STAR/5\"&gt;Test&lt;/ItemIdDescription&gt;\n</code></pre>\n\n<p>Here is the error stack from the logs:  </p>\n\n<pre><code>Oct 3, 2013 4:54:55 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet spring-ws threw exception\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-    Type:application/xml. Is this an error message instead of a SOAP response?\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_1.Message1_1Impl.&lt;init&gt;(Message1_1Impl.java:67)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage(SOAPMessageFactory1_1Impl.java:61)\nat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:184)\nat org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:60)\nat org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:90)\nat org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:86)\nat org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:59)\nat org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:239)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:291)\nat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)\nat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)\nat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\nat java.lang.Thread.run(Thread.java:619)\n</code></pre>\n\n<p>Here is the error stack after I switched the server to support SOAP 1.2 so I do not believe it is a SOAP version issue:  </p>\n\n<pre><code>SEVERE: Servlet.service() for servlet spring-ws threw exception\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/xml. Is this an error message instead of a SOAP response\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:602)\nat com.sun.xml.internal.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:275)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_2.Message1_2Impl.&lt;init&gt;(Message1_2Impl.java:60)\nat com.sun.xml.internal.messaging.saaj.soap.ver1_2.SOAPMessageFactory1_2Impl.createMessage(SOAPMessageFactory1_2Impl.java:61)\n... the rest of the stack is the same.\n</code></pre>\n\n<p>Does anyone have suggestions on how to debug this?  Much thanks!</p>\n"},{"tags":["java","spring-boot","integration-testing","citrus-framework"],"answers":[{"tags":[],"owner":{"account_id":7966418,"reputation":2196,"user_id":6012516,"display_name":"Christoph Deppisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651490372,"creation_date":1651490372,"answer_id":72085936,"question_id":71517185,"body_markdown":"You try to send a request as a client and at the same time to receive another request as a server. As Http is a synchronous protocol by nature you need to use fork=true option on the 1st client send action.\r\n\r\nThis should solve the problem ","title":"Failed to get correlation key for `citrus_message_correlator_HttpClient`","body":"<p>You try to send a request as a client and at the same time to receive another request as a server. As Http is a synchronous protocol by nature you need to use fork=true option on the 1st client send action.</p>\n<p>This should solve the problem</p>\n"}],"owner":{"account_id":2393236,"reputation":123,"user_id":2092658,"display_name":"SriniMurthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651490372,"creation_date":1647540788,"question_id":71517185,"body_markdown":"I have a CitrusEndpoints server configuration\r\n\r\n    @Bean\r\n     public HttpServer myService() {\r\n        return CitrusEndpoints.\r\n                 http().\r\n                 server().\r\n                 port(9999).\r\n                 timeout(10000).autoStart(true).build();\r\nMy client configuration\r\n \r\n    @Bean\r\n    public HttpClient httpClient() {\r\n      return CitrusEndpoints.\r\n               http().\r\n               client().\r\n               requestUrl(&quot;http://localhost:9999/myService/downloadSomething&quot;).\r\n               contentType(&quot;multipart/form-data&quot;).\r\n               build();\r\n    }\r\n\r\nMy unit test:\r\n\r\n  \r\n\r\n    actions.$(http()\r\n            .client(httpClient)\r\n            .send()\r\n            .get().path(id)\r\n            .queryParam(&quot;version&quot;,&quot;1&quot;)\r\n            .message().accept(ContentType.MULTIPART_FORM_DATA.getMimeType())\r\n            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token));\r\n    actions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).receive().get( id).\r\n            queryParam(&quot;version&quot;, &quot;1&quot;));\r\n    actions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).respond().message().\r\n            contentType(ContentType.MULTIPART_FORM_DATA.toString()));\r\n    actions.$(http().client(httpClient).receive().response(HttpStatus.OK)\r\n            .message(new DefaultMessage(FileCopyUtils.copyToByteArray(new ClassPathResource(&quot;documents/somedoc.pdf&quot;).getFile())))\r\n            .contentType(ContentType.MULTIPART_FORM_DATA.getMimeType()));\r\n\r\nWhat I see \r\n  \r\n\r\n&gt; com.consol.citrus.exceptions.TestCaseFailedException: Failed to get correlation key for `citrus_message_correlator_HttpClient`\r\n\r\nP.S: If you notice any typos in the code, kindly ignore. I have attempted not to reveal any damning identification ","title":"Failed to get correlation key for `citrus_message_correlator_HttpClient`","body":"<p>I have a CitrusEndpoints server configuration</p>\n<pre><code>@Bean\n public HttpServer myService() {\n    return CitrusEndpoints.\n             http().\n             server().\n             port(9999).\n             timeout(10000).autoStart(true).build();\n</code></pre>\n<p>My client configuration</p>\n<pre><code>@Bean\npublic HttpClient httpClient() {\n  return CitrusEndpoints.\n           http().\n           client().\n           requestUrl(&quot;http://localhost:9999/myService/downloadSomething&quot;).\n           contentType(&quot;multipart/form-data&quot;).\n           build();\n}\n</code></pre>\n<p>My unit test:</p>\n<pre><code>actions.$(http()\n        .client(httpClient)\n        .send()\n        .get().path(id)\n        .queryParam(&quot;version&quot;,&quot;1&quot;)\n        .message().accept(ContentType.MULTIPART_FORM_DATA.getMimeType())\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token));\nactions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).receive().get( id).\n        queryParam(&quot;version&quot;, &quot;1&quot;));\nactions.$(http().server(&quot;http://localhost:9999/myService/downloadSomething/&quot;).respond().message().\n        contentType(ContentType.MULTIPART_FORM_DATA.toString()));\nactions.$(http().client(httpClient).receive().response(HttpStatus.OK)\n        .message(new DefaultMessage(FileCopyUtils.copyToByteArray(new ClassPathResource(&quot;documents/somedoc.pdf&quot;).getFile())))\n        .contentType(ContentType.MULTIPART_FORM_DATA.getMimeType()));\n</code></pre>\n<p>What I see</p>\n<blockquote>\n<p>com.consol.citrus.exceptions.TestCaseFailedException: Failed to get correlation key for <code>citrus_message_correlator_HttpClient</code></p>\n</blockquote>\n<p>P.S: If you notice any typos in the code, kindly ignore. I have attempted not to reveal any damning identification</p>\n"},{"tags":["java","android","android-studio","autocompletetextview"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651466048,"post_id":72080051,"comment_id":127363543,"body_markdown":"Does this answer your question? [AutoCompleteTextView in android](https://stackoverflow.com/questions/9648347/autocompletetextview-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9648347/autocompletetextview-in-android\">AutoCompleteTextView in android</a>"},{"owner":{"account_id":19243344,"reputation":1,"user_id":14062902,"display_name":"Mohammed Tayeb"},"score":0,"creation_date":1651493496,"post_id":72080051,"comment_id":127370165,"body_markdown":"I didn&#39;t .. it&#39;s just for show suggestions even if  write the second letter .. i edited my question to understand what i exactly want . Thank you","body":"I didn&#39;t .. it&#39;s just for show suggestions even if  write the second letter .. i edited my question to understand what i exactly want . Thank you"}],"answers":[{"tags":[],"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651462249,"creation_date":1651462249,"answer_id":72082078,"question_id":72080051,"body_markdown":"you can try something like this:\r\n```\r\n   protected void onCreate(Bundle icicle) {\r\n         super.onCreate(icicle);\r\n         setContentView(R.layout.yourLayout);\r\n\r\n         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\r\n                 android.R.layout.simple_dropdown_item_1line, PHRASES);\r\n         AutoCompleteTextView textView = (AutoCompleteTextView)\r\n                 findViewById(R.id.yourTextView);\r\n         textView.setAdapter(adapter);\r\n     }\r\n\r\n     private static final String[] PHRASES = new String[] {\r\n         &quot;Belgium&quot;, &quot;France&quot;, &quot;Italy&quot;, &quot;Germany&quot;, &quot;Spain&quot;\r\n     };\r\n\r\n \r\n```\r\n\r\nAlso you should take a look of the android developer site: [AutoCompleteTextView][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/AutoCompleteTextView","title":"How to make autocomplete text view accept only already written phrases","body":"<p>you can try something like this:</p>\n<pre><code>   protected void onCreate(Bundle icicle) {\n         super.onCreate(icicle);\n         setContentView(R.layout.yourLayout);\n\n         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n                 android.R.layout.simple_dropdown_item_1line, PHRASES);\n         AutoCompleteTextView textView = (AutoCompleteTextView)\n                 findViewById(R.id.yourTextView);\n         textView.setAdapter(adapter);\n     }\n\n     private static final String[] PHRASES = new String[] {\n         &quot;Belgium&quot;, &quot;France&quot;, &quot;Italy&quot;, &quot;Germany&quot;, &quot;Spain&quot;\n     };\n\n \n</code></pre>\n<p>Also you should take a look of the android developer site: <a href=\"https://developer.android.com/reference/android/widget/AutoCompleteTextView\" rel=\"nofollow noreferrer\">AutoCompleteTextView</a></p>\n"}],"owner":{"account_id":19243344,"reputation":1,"user_id":14062902,"display_name":"Mohammed Tayeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651490205,"creation_date":1651435614,"question_id":72080051,"body_markdown":"I already made a list of phrases for \r\n autocomplete text view in android studio and i want the autocomplete to accept only phrases in this list \r\n For e.g if my array contain sarah,mike,adam \r\nAnd i wrote in the autocomplete text view omar .. the autocomplete text view will not accept it ..it will delete it .","title":"How to make autocomplete text view accept only already written phrases","body":"<p>I already made a list of phrases for\nautocomplete text view in android studio and i want the autocomplete to accept only phrases in this list\nFor e.g if my array contain sarah,mike,adam\nAnd i wrote in the autocomplete text view omar .. the autocomplete text view will not accept it ..it will delete it .</p>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":1,"creation_date":1396379929,"post_id":22794924,"comment_id":34758422,"body_markdown":"Java stores strings as UTF-16 (originally UCS-2) internally.","body":"Java stores strings as UTF-16 (originally UCS-2) internally."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380078,"post_id":22794924,"comment_id":34758504,"body_markdown":"You mean `u8` in C++?","body":"You mean <code>u8</code> in C++?"},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":1,"creation_date":1396380145,"post_id":22794924,"comment_id":34758544,"body_markdown":"@fge Apparently [String8](http://msdn.microsoft.com/en-us/library/dd240126.aspx) is a real thing, as is [String16](http://msdn.microsoft.com/en-us/library/dd240127.aspx).","body":"@fge Apparently <a href=\"http://msdn.microsoft.com/en-us/library/dd240126.aspx\" rel=\"nofollow noreferrer\">String8</a> is a real thing, as is <a href=\"http://msdn.microsoft.com/en-us/library/dd240127.aspx\" rel=\"nofollow noreferrer\">String16</a>."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1396380168,"post_id":22794924,"comment_id":34758554,"body_markdown":"Java&#39;s Strings cannot be made to handle binary data, it makes a clear distinction (this is unlike a `char *` in C/C++ in this regard). No idea how `u8` and others handle that. In fact, no idea how you specify an encoding to write text in C++","body":"Java&#39;s Strings cannot be made to handle binary data, it makes a clear distinction (this is unlike a <code>char *</code> in C/C++ in this regard). No idea how <code>u8</code> and others handle that. In fact, no idea how you specify an encoding to write text in C++"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380283,"post_id":22794924,"comment_id":34758615,"body_markdown":"@Powerlord yeah, and `String16` is misleading -- you cannot store Unicode code points outside the BMP with it, at least not with a single... What... `char8_t`? Nor can you do that with Java, which is why you have all of these `codePoint*()` methods on `String` and `Character` (and `Character.toChars()`)","body":"@Powerlord yeah, and <code>String16</code> is misleading -- you cannot store Unicode code points outside the BMP with it, at least not with a single... What... <code>char8_t</code>? Nor can you do that with Java, which is why you have all of these <code>codePoint*()</code> methods on <code>String</code> and <code>Character</code> (and <code>Character.toChars()</code>)"},{"owner":{"account_id":2632294,"reputation":11,"user_id":2277936,"display_name":"sader1994"},"score":0,"creation_date":1396380306,"post_id":22794924,"comment_id":34758626,"body_markdown":"as example in aapt ( Android Asset Packaging Tool) uses internal String8 is a String8 a simple char array ?","body":"as example in aapt ( Android Asset Packaging Tool) uses internal String8 is a String8 a simple char array ?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380421,"post_id":22794924,"comment_id":34758686,"body_markdown":"@sader1994 are you sure this is C++ &quot;proper&quot;? I see no mention of `String8` anywhere I look except at the site @Powerlord provides","body":"@sader1994 are you sure this is C++ &quot;proper&quot;? I see no mention of <code>String8</code> anywhere I look except at the site @Powerlord provides"},{"owner":{"account_id":2632294,"reputation":11,"user_id":2277936,"display_name":"sader1994"},"score":0,"creation_date":1396380528,"post_id":22794924,"comment_id":34758742,"body_markdown":"https://android.googlesource.com/platform/frameworks/native/+/jb-mr0-release/libs/utils/String8.cpp","body":"<a href=\"https://android.googlesource.com/platform/frameworks/native/+/jb-mr0-release/libs/utils/String8.cpp\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/native/+/&hellip;</a>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396380643,"post_id":22794924,"comment_id":34758815,"body_markdown":"Uh, OK, doesn&#39;t tell much; in the meanwhile [this](http://fgaliegue.blogspot.fr/2014/03/strings-characters-bytes-and-character.html) may help you for understanding the Java side of things","body":"Uh, OK, doesn&#39;t tell much; in the meanwhile <a href=\"http://fgaliegue.blogspot.fr/2014/03/strings-characters-bytes-and-character.html\" rel=\"nofollow noreferrer\">this</a> may help you for understanding the Java side of things"}],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396384767,"creation_date":1396384767,"answer_id":22796407,"question_id":22794924,"body_markdown":"As far as I can tell:\r\n\r\n     Property                    java.lang.String    android::String8\r\n     ================================================================\r\n     language                    Java                C++\r\n     Unicode                     yes                 yes\r\n     char width                  16                  8\r\n     encoding                    UTF-16              UTF-8\r\n     mutability                  immutable           mutable\r\n     bunch of file path methods  no                  yes\r\n     attitude to Darwin          indifferent         annoyed (line 47)\r\n\r\nThey are both Unicode string types; the similarities seem to end there.","title":"Difference between a Java String UTF8 and String8?","body":"<p>As far as I can tell:</p>\n\n<pre><code> Property                    java.lang.String    android::String8\n ================================================================\n language                    Java                C++\n Unicode                     yes                 yes\n char width                  16                  8\n encoding                    UTF-16              UTF-8\n mutability                  immutable           mutable\n bunch of file path methods  no                  yes\n attitude to Darwin          indifferent         annoyed (line 47)\n</code></pre>\n\n<p>They are both Unicode string types; the similarities seem to end there.</p>\n"},{"tags":[],"owner":{"account_id":1031405,"reputation":1230,"user_id":1039663,"display_name":"user1039663"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651489751,"creation_date":1651489751,"answer_id":72085823,"question_id":22794924,"body_markdown":"The more important difference is Java String consumes aproximately twice the memory than String8 and other alternatives for the same text.\r\n\r\nAlso Java String is inmutable: so you cannot modify its contents and this have some good... and... some very bad implications (although you have StringBuilder and other alternatives).","title":"Difference between a Java String UTF8 and String8?","body":"<p>The more important difference is Java String consumes aproximately twice the memory than String8 and other alternatives for the same text.</p>\n<p>Also Java String is inmutable: so you cannot modify its contents and this have some good... and... some very bad implications (although you have StringBuilder and other alternatives).</p>\n"}],"owner":{"account_id":2632294,"reputation":11,"user_id":2277936,"display_name":"sader1994"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651489751,"creation_date":1396379797,"question_id":22794924,"body_markdown":"What is  difference between a String8(C++) and a String in Java ?","title":"Difference between a Java String UTF8 and String8?","body":"<p>What is  difference between a String8(C++) and a String in Java ?</p>\n"},{"tags":["java","apache","http"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1651489852,"post_id":45879012,"comment_id":127369054,"body_markdown":"A HTTP client is not a DNS server ...","body":"A HTTP client is not a DNS server ..."},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":1,"creation_date":1651596979,"post_id":45879012,"comment_id":127399203,"body_markdown":"Linked URL broken (404)","body":"Linked URL broken (404)"},{"owner":{"account_id":163337,"reputation":271,"user_id":385421,"display_name":"mow"},"score":0,"creation_date":1651836426,"post_id":45879012,"comment_id":127464314,"body_markdown":"If you are asking to build a reverse proxy with httpclient component, it seems this is conceptually normal, as an example you may check: https://github.com/mitre/HTTP-Proxy-Servlet and of course you can choose whichever load balancing strategy you wish to implement","body":"If you are asking to build a reverse proxy with httpclient component, it seems this is conceptually normal, as an example you may check: <a href=\"https://github.com/mitre/HTTP-Proxy-Servlet\" rel=\"nofollow noreferrer\">github.com/mitre/HTTP-Proxy-Servlet</a> and of course you can choose whichever load balancing strategy you wish to implement"}],"owner":{"account_id":3535938,"reputation":4697,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1651488645,"creation_date":1503655383,"question_id":45879012,"body_markdown":"Looking the Apache HTTP components [HttpClientBuilder][1] and seeing that it has\r\n\r\n- retry handler\r\n- route planner\r\n- backoff strategy\r\n\r\nI am wondering whether these are intended and feasible to be combined into a **round-robin client-side load balancer with failover**. The [tutorial][2] for the route planner looks like pointing to arbitrary failover addresses is maybe not the intended usage.\r\n\r\nCan someone shed some light on this? Would the load balancer be a supported use case or would I be bending the API too much and breaking it if I tried?\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e351","title":"Round robin with failover with Apache http client","body":"<p>Looking the Apache HTTP components <a href=\"https://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\" rel=\"nofollow noreferrer\">HttpClientBuilder</a> and seeing that it has</p>\n<ul>\n<li>retry handler</li>\n<li>route planner</li>\n<li>backoff strategy</li>\n</ul>\n<p>I am wondering whether these are intended and feasible to be combined into a <strong>round-robin client-side load balancer with failover</strong>. The <a href=\"https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e351\" rel=\"nofollow noreferrer\">tutorial</a> for the route planner looks like pointing to arbitrary failover addresses is maybe not the intended usage.</p>\n<p>Can someone shed some light on this? Would the load balancer be a supported use case or would I be bending the API too much and breaking it if I tried?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":1,"creation_date":1487101083,"post_id":42234666,"comment_id":71628940,"body_markdown":"What do you mean `it uses hex as input`? This method takes a String, `throw new TypeError(&#39;argument must be a string&#39;);` What is the problem you are having? Whay can you not just rewrite this in Java, if that is your usecase, it seems like all you need from here is the offset from 0 to the first unicode character.","body":"What do you mean <code>it uses hex as input</code>? This method takes a String, <code>throw new TypeError(&#39;argument must be a string&#39;);</code> What is the problem you are having? Whay can you not just rewrite this in Java, if that is your usecase, it seems like all you need from here is the offset from 0 to the first unicode character."}],"answers":[{"tags":[],"owner":{"account_id":4350455,"reputation":1980,"user_id":3550988,"accept_rate":75,"display_name":"Carl Poole"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1487103531,"creation_date":1487102815,"answer_id":42235254,"question_id":42234666,"body_markdown":"This code snippet worked for me. Just replace `&quot;US&quot;` with whichever valid country code (based on the Regional Indicator Symbol Let&#173;ters) you like and it will create a String `flag` containing the flag emoji for that country. ([Reference][1])\r\n\r\n    int flagOffset = 0x1F1E6;\r\n    int asciiOffset = 0x41;\r\n\r\n    String country = &quot;US&quot;;\r\n\r\n    int firstChar = Character.codePointAt(country, 0) - asciiOffset + flagOffset;\r\n    int secondChar = Character.codePointAt(country, 1) - asciiOffset + flagOffset;\r\n    \r\n    String flag = new String(Character.toChars(firstChar))\r\n                + new String(Character.toChars(secondChar));\r\n\r\n[This answer helped][2]\r\n\r\n\r\n  [1]: http://emojipedia.org/flags/\r\n  [2]: https://stackoverflow.com/a/35849652/3550988","title":"Get emoji flag by country code","body":"<p>This code snippet worked for me. Just replace <code>\"US\"</code> with whichever valid country code (based on the Regional Indicator Symbol LetÂ­ters) you like and it will create a String <code>flag</code> containing the flag emoji for that country. (<a href=\"http://emojipedia.org/flags/\" rel=\"noreferrer\">Reference</a>)</p>\n\n<pre><code>int flagOffset = 0x1F1E6;\nint asciiOffset = 0x41;\n\nString country = \"US\";\n\nint firstChar = Character.codePointAt(country, 0) - asciiOffset + flagOffset;\nint secondChar = Character.codePointAt(country, 1) - asciiOffset + flagOffset;\n\nString flag = new String(Character.toChars(firstChar))\n            + new String(Character.toChars(secondChar));\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/35849652/3550988\">This answer helped</a></p>\n"},{"tags":[],"owner":{"account_id":2078702,"reputation":303,"user_id":1851317,"accept_rate":86,"display_name":"kaioker2"},"down_vote_count":7,"up_vote_count":14,"is_accepted":false,"score":7,"last_activity_date":1557700780,"creation_date":1557163978,"answer_id":56009882,"question_id":42234666,"body_markdown":"    function getFlags($code){\r\n\t    $code = strtoupper($code);\r\n\t    if($code == &#39;AD&#39;) return &#39;&#127462;&#127465;&#39;;\r\n\t    if($code == &#39;AE&#39;) return &#39;&#127462;&#127466;&#39;;\r\n\t    if($code == &#39;AF&#39;) return &#39;&#127462;&#127467;&#39;;\r\n\t    if($code == &#39;AG&#39;) return &#39;&#127462;&#127468;&#39;;\r\n\t    if($code == &#39;AI&#39;) return &#39;&#127462;&#127470;&#39;;\r\n\t    if($code == &#39;AL&#39;) return &#39;&#127462;&#127473;&#39;;\r\n\t    if($code == &#39;AM&#39;) return &#39;&#127462;&#127474;&#39;;\r\n\t    if($code == &#39;AO&#39;) return &#39;&#127462;&#127476;&#39;;\r\n\t    if($code == &#39;AQ&#39;) return &#39;&#127462;&#127478;&#39;;\r\n\t    if($code == &#39;AR&#39;) return &#39;&#127462;&#127479;&#39;;\r\n\t    if($code == &#39;AS&#39;) return &#39;&#127462;&#127480;&#39;;\r\n\t    if($code == &#39;AT&#39;) return &#39;&#127462;&#127481;&#39;;\r\n\t    if($code == &#39;AU&#39;) return &#39;&#127462;&#127482;&#39;;\r\n\t    if($code == &#39;AW&#39;) return &#39;&#127462;&#127484;&#39;;\r\n\t    if($code == &#39;AX&#39;) return &#39;&#127462;&#127485;&#39;;\r\n\t    if($code == &#39;AZ&#39;) return &#39;&#127462;&#127487;&#39;;\r\n\t    if($code == &#39;BA&#39;) return &#39;&#127463;&#127462;&#39;;\r\n\t    if($code == &#39;BB&#39;) return &#39;&#127463;&#127463;&#39;;\r\n\t    if($code == &#39;BD&#39;) return &#39;&#127463;&#127465;&#39;;\r\n\t    if($code == &#39;BE&#39;) return &#39;&#127463;&#127466;&#39;;\r\n\t    if($code == &#39;BF&#39;) return &#39;&#127463;&#127467;&#39;;\r\n\t    if($code == &#39;BG&#39;) return &#39;&#127463;&#127468;&#39;;\r\n\t    if($code == &#39;BH&#39;) return &#39;&#127463;&#127469;&#39;;\r\n\t    if($code == &#39;BI&#39;) return &#39;&#127463;&#127470;&#39;;\r\n\t    if($code == &#39;BJ&#39;) return &#39;&#127463;&#127471;&#39;;\r\n\t    if($code == &#39;BL&#39;) return &#39;&#127463;&#127473;&#39;;\r\n\t    if($code == &#39;BM&#39;) return &#39;&#127463;&#127474;&#39;;\r\n\t    if($code == &#39;BN&#39;) return &#39;&#127463;&#127475;&#39;;\r\n\t    if($code == &#39;BO&#39;) return &#39;&#127463;&#127476;&#39;;\r\n\t    if($code == &#39;BQ&#39;) return &#39;&#127463;&#127478;&#39;;\r\n\t    if($code == &#39;BR&#39;) return &#39;&#127463;&#127479;&#39;;\r\n\t    if($code == &#39;BS&#39;) return &#39;&#127463;&#127480;&#39;;\r\n\t    if($code == &#39;BT&#39;) return &#39;&#127463;&#127481;&#39;;\r\n\t    if($code == &#39;BV&#39;) return &#39;&#127463;&#127483;&#39;;\r\n\t    if($code == &#39;BW&#39;) return &#39;&#127463;&#127484;&#39;;\r\n\t    if($code == &#39;BY&#39;) return &#39;&#127463;&#127486;&#39;;\r\n\t    if($code == &#39;BZ&#39;) return &#39;&#127463;&#127487;&#39;;\r\n\t    if($code == &#39;CA&#39;) return &#39;&#127464;&#127462;&#39;;\r\n\t    if($code == &#39;CC&#39;) return &#39;&#127464;&#127464;&#39;;\r\n\t    if($code == &#39;CD&#39;) return &#39;&#127464;&#127465;&#39;;\r\n\t    if($code == &#39;CF&#39;) return &#39;&#127464;&#127467;&#39;;\r\n\t    if($code == &#39;CG&#39;) return &#39;&#127464;&#127468;&#39;;\r\n\t    if($code == &#39;CH&#39;) return &#39;&#127464;&#127469;&#39;;\r\n\t    if($code == &#39;CI&#39;) return &#39;&#127464;&#127470;&#39;;\r\n\t    if($code == &#39;CK&#39;) return &#39;&#127464;&#127472;&#39;;\r\n\t    if($code == &#39;CL&#39;) return &#39;&#127464;&#127473;&#39;;\r\n\t    if($code == &#39;CM&#39;) return &#39;&#127464;&#127474;&#39;;\r\n\t    if($code == &#39;CN&#39;) return &#39;&#127464;&#127475;&#39;;\r\n\t    if($code == &#39;CO&#39;) return &#39;&#127464;&#127476;&#39;;\r\n\t    if($code == &#39;CR&#39;) return &#39;&#127464;&#127479;&#39;;\r\n\t    if($code == &#39;CU&#39;) return &#39;&#127464;&#127482;&#39;;\r\n\t    if($code == &#39;CV&#39;) return &#39;&#127464;&#127483;&#39;;\r\n\t    if($code == &#39;CW&#39;) return &#39;&#127464;&#127484;&#39;;\r\n\t    if($code == &#39;CX&#39;) return &#39;&#127464;&#127485;&#39;;\r\n\t    if($code == &#39;CY&#39;) return &#39;&#127464;&#127486;&#39;;\r\n\t    if($code == &#39;CZ&#39;) return &#39;&#127464;&#127487;&#39;;\r\n\t    if($code == &#39;DE&#39;) return &#39;&#127465;&#127466;&#39;;\r\n\t    if($code == &#39;DJ&#39;) return &#39;&#127465;&#127471;&#39;;\r\n\t    if($code == &#39;DK&#39;) return &#39;&#127465;&#127472;&#39;;\r\n\t    if($code == &#39;DM&#39;) return &#39;&#127465;&#127474;&#39;;\r\n\t    if($code == &#39;DO&#39;) return &#39;&#127465;&#127476;&#39;;\r\n\t    if($code == &#39;DZ&#39;) return &#39;&#127465;&#127487;&#39;;\r\n\t    if($code == &#39;EC&#39;) return &#39;&#127466;&#127464;&#39;;\r\n\t    if($code == &#39;EE&#39;) return &#39;&#127466;&#127466;&#39;;\r\n\t    if($code == &#39;EG&#39;) return &#39;&#127466;&#127468;&#39;;\r\n\t    if($code == &#39;EH&#39;) return &#39;&#127466;&#127469;&#39;;\r\n\t    if($code == &#39;ER&#39;) return &#39;&#127466;&#127479;&#39;;\r\n\t    if($code == &#39;ES&#39;) return &#39;&#127466;&#127480;&#39;;\r\n\t    if($code == &#39;ET&#39;) return &#39;&#127466;&#127481;&#39;;\r\n\t    if($code == &#39;FI&#39;) return &#39;&#127467;&#127470;&#39;;\r\n\t    if($code == &#39;FJ&#39;) return &#39;&#127467;&#127471;&#39;;\r\n\t    if($code == &#39;FK&#39;) return &#39;&#127467;&#127472;&#39;;\r\n\t    if($code == &#39;FM&#39;) return &#39;&#127467;&#127474;&#39;;\r\n\t    if($code == &#39;FO&#39;) return &#39;&#127467;&#127476;&#39;;\r\n\t    if($code == &#39;FR&#39;) return &#39;&#127467;&#127479;&#39;;\r\n\t    if($code == &#39;GA&#39;) return &#39;&#127468;&#127462;&#39;;\r\n\t    if($code == &#39;GB&#39;) return &#39;&#127468;&#127463;&#39;;\r\n\t    if($code == &#39;GD&#39;) return &#39;&#127468;&#127465;&#39;;\r\n\t    if($code == &#39;GE&#39;) return &#39;&#127468;&#127466;&#39;;\r\n\t    if($code == &#39;GF&#39;) return &#39;&#127468;&#127467;&#39;;\r\n\t    if($code == &#39;GG&#39;) return &#39;&#127468;&#127468;&#39;;\r\n\t    if($code == &#39;GH&#39;) return &#39;&#127468;&#127469;&#39;;\r\n\t    if($code == &#39;GI&#39;) return &#39;&#127468;&#127470;&#39;;\r\n\t    if($code == &#39;GL&#39;) return &#39;&#127468;&#127473;&#39;;\r\n\t    if($code == &#39;GM&#39;) return &#39;&#127468;&#127474;&#39;;\r\n\t    if($code == &#39;GN&#39;) return &#39;&#127468;&#127475;&#39;;\r\n\t    if($code == &#39;GP&#39;) return &#39;&#127468;&#127477;&#39;;\r\n\t    if($code == &#39;GQ&#39;) return &#39;&#127468;&#127478;&#39;;\r\n\t    if($code == &#39;GR&#39;) return &#39;&#127468;&#127479;&#39;;\r\n\t    if($code == &#39;GS&#39;) return &#39;&#127468;&#127480;&#39;;\r\n\t    if($code == &#39;GT&#39;) return &#39;&#127468;&#127481;&#39;;\r\n\t    if($code == &#39;GU&#39;) return &#39;&#127468;&#127482;&#39;;\r\n\t    if($code == &#39;GW&#39;) return &#39;&#127468;&#127484;&#39;;\r\n\t    if($code == &#39;GY&#39;) return &#39;&#127468;&#127486;&#39;;\r\n\t    if($code == &#39;HK&#39;) return &#39;&#127469;&#127472;&#39;;\r\n\t    if($code == &#39;HM&#39;) return &#39;&#127469;&#127474;&#39;;\r\n\t    if($code == &#39;HN&#39;) return &#39;&#127469;&#127475;&#39;;\r\n\t    if($code == &#39;HR&#39;) return &#39;&#127469;&#127479;&#39;;\r\n\t    if($code == &#39;HT&#39;) return &#39;&#127469;&#127481;&#39;;\r\n\t    if($code == &#39;HU&#39;) return &#39;&#127469;&#127482;&#39;;\r\n\t    if($code == &#39;ID&#39;) return &#39;&#127470;&#127465;&#39;;\r\n\t    if($code == &#39;IE&#39;) return &#39;&#127470;&#127466;&#39;;\r\n\t    if($code == &#39;IL&#39;) return &#39;&#127470;&#127473;&#39;;\r\n\t    if($code == &#39;IM&#39;) return &#39;&#127470;&#127474;&#39;;\r\n\t    if($code == &#39;IN&#39;) return &#39;&#127470;&#127475;&#39;;\r\n\t    if($code == &#39;IO&#39;) return &#39;&#127470;&#127476;&#39;;\r\n\t    if($code == &#39;IQ&#39;) return &#39;&#127470;&#127478;&#39;;\r\n\t    if($code == &#39;IR&#39;) return &#39;&#127470;&#127479;&#39;;\r\n\t    if($code == &#39;IS&#39;) return &#39;&#127470;&#127480;&#39;;\r\n\t    if($code == &#39;IT&#39;) return &#39;&#127470;&#127481;&#39;;\r\n\t    if($code == &#39;JE&#39;) return &#39;&#127471;&#127466;&#39;;\r\n\t    if($code == &#39;JM&#39;) return &#39;&#127471;&#127474;&#39;;\r\n\t    if($code == &#39;JO&#39;) return &#39;&#127471;&#127476;&#39;;\r\n\t    if($code == &#39;JP&#39;) return &#39;&#127471;&#127477;&#39;;\r\n\t    if($code == &#39;KE&#39;) return &#39;&#127472;&#127466;&#39;;\r\n\t    if($code == &#39;KG&#39;) return &#39;&#127472;&#127468;&#39;;\r\n\t    if($code == &#39;KH&#39;) return &#39;&#127472;&#127469;&#39;;\r\n\t    if($code == &#39;KI&#39;) return &#39;&#127472;&#127470;&#39;;\r\n\t    if($code == &#39;KM&#39;) return &#39;&#127472;&#127474;&#39;;\r\n\t    if($code == &#39;KN&#39;) return &#39;&#127472;&#127475;&#39;;\r\n\t    if($code == &#39;KP&#39;) return &#39;&#127472;&#127477;&#39;;\r\n\t    if($code == &#39;KR&#39;) return &#39;&#127472;&#127479;&#39;;\r\n\t    if($code == &#39;KW&#39;) return &#39;&#127472;&#127484;&#39;;\r\n\t    if($code == &#39;KY&#39;) return &#39;&#127472;&#127486;&#39;;\r\n\t    if($code == &#39;KZ&#39;) return &#39;&#127472;&#127487;&#39;;\r\n\t    if($code == &#39;LA&#39;) return &#39;&#127473;&#127462;&#39;;\r\n\t    if($code == &#39;LB&#39;) return &#39;&#127473;&#127463;&#39;;\r\n\t    if($code == &#39;LC&#39;) return &#39;&#127473;&#127464;&#39;;\r\n\t    if($code == &#39;LI&#39;) return &#39;&#127473;&#127470;&#39;;\r\n\t    if($code == &#39;LK&#39;) return &#39;&#127473;&#127472;&#39;;\r\n\t    if($code == &#39;LR&#39;) return &#39;&#127473;&#127479;&#39;;\r\n\t    if($code == &#39;LS&#39;) return &#39;&#127473;&#127480;&#39;;\r\n\t    if($code == &#39;LT&#39;) return &#39;&#127473;&#127481;&#39;;\r\n\t    if($code == &#39;LU&#39;) return &#39;&#127473;&#127482;&#39;;\r\n\t    if($code == &#39;LV&#39;) return &#39;&#127473;&#127483;&#39;;\r\n\t    if($code == &#39;LY&#39;) return &#39;&#127473;&#127486;&#39;;\r\n\t    if($code == &#39;MA&#39;) return &#39;&#127474;&#127462;&#39;;\r\n\t    if($code == &#39;MC&#39;) return &#39;&#127474;&#127464;&#39;;\r\n\t    if($code == &#39;MD&#39;) return &#39;&#127474;&#127465;&#39;;\r\n\t    if($code == &#39;ME&#39;) return &#39;&#127474;&#127466;&#39;;\r\n\t    if($code == &#39;MF&#39;) return &#39;&#127474;&#127467;&#39;;\r\n\t    if($code == &#39;MG&#39;) return &#39;&#127474;&#127468;&#39;;\r\n\t    if($code == &#39;MH&#39;) return &#39;&#127474;&#127469;&#39;;\r\n\t    if($code == &#39;MK&#39;) return &#39;&#127474;&#127472;&#39;;\r\n\t    if($code == &#39;ML&#39;) return &#39;&#127474;&#127473;&#39;;\r\n\t    if($code == &#39;MM&#39;) return &#39;&#127474;&#127474;&#39;;\r\n\t    if($code == &#39;MN&#39;) return &#39;&#127474;&#127475;&#39;;\r\n\t    if($code == &#39;MO&#39;) return &#39;&#127474;&#127476;&#39;;\r\n\t    if($code == &#39;MP&#39;) return &#39;&#127474;&#127477;&#39;;\r\n\t    if($code == &#39;MQ&#39;) return &#39;&#127474;&#127478;&#39;;\r\n\t    if($code == &#39;MR&#39;) return &#39;&#127474;&#127479;&#39;;\r\n\t    if($code == &#39;MS&#39;) return &#39;&#127474;&#127480;&#39;;\r\n\t    if($code == &#39;MT&#39;) return &#39;&#127474;&#127481;&#39;;\r\n\t    if($code == &#39;MU&#39;) return &#39;&#127474;&#127482;&#39;;\r\n\t    if($code == &#39;MV&#39;) return &#39;&#127474;&#127483;&#39;;\r\n\t    if($code == &#39;MW&#39;) return &#39;&#127474;&#127484;&#39;;\r\n\t    if($code == &#39;MX&#39;) return &#39;&#127474;&#127485;&#39;;\r\n\t    if($code == &#39;MY&#39;) return &#39;&#127474;&#127486;&#39;;\r\n\t    if($code == &#39;MZ&#39;) return &#39;&#127474;&#127487;&#39;;\r\n\t    if($code == &#39;NA&#39;) return &#39;&#127475;&#127462;&#39;;\r\n\t    if($code == &#39;NC&#39;) return &#39;&#127475;&#127464;&#39;;\r\n\t    if($code == &#39;NE&#39;) return &#39;&#127475;&#127466;&#39;;\r\n\t    if($code == &#39;NF&#39;) return &#39;&#127475;&#127467;&#39;;\r\n\t    if($code == &#39;NG&#39;) return &#39;&#127475;&#127468;&#39;;\r\n\t    if($code == &#39;NI&#39;) return &#39;&#127475;&#127470;&#39;;\r\n\t    if($code == &#39;NL&#39;) return &#39;&#127475;&#127473;&#39;;\r\n\t    if($code == &#39;NO&#39;) return &#39;&#127475;&#127476;&#39;;\r\n\t    if($code == &#39;NP&#39;) return &#39;&#127475;&#127477;&#39;;\r\n\t    if($code == &#39;NR&#39;) return &#39;&#127475;&#127479;&#39;;\r\n\t    if($code == &#39;NU&#39;) return &#39;&#127475;&#127482;&#39;;\r\n\t    if($code == &#39;NZ&#39;) return &#39;&#127475;&#127487;&#39;;\r\n\t    if($code == &#39;OM&#39;) return &#39;&#127476;&#127474;&#39;;\r\n\t    if($code == &#39;PA&#39;) return &#39;&#127477;&#127462;&#39;;\r\n\t    if($code == &#39;PE&#39;) return &#39;&#127477;&#127466;&#39;;\r\n\t    if($code == &#39;PF&#39;) return &#39;&#127477;&#127467;&#39;;\r\n\t    if($code == &#39;PG&#39;) return &#39;&#127477;&#127468;&#39;;\r\n\t    if($code == &#39;PH&#39;) return &#39;&#127477;&#127469;&#39;;\r\n\t    if($code == &#39;PK&#39;) return &#39;&#127477;&#127472;&#39;;\r\n\t    if($code == &#39;PL&#39;) return &#39;&#127477;&#127473;&#39;;\r\n\t    if($code == &#39;PM&#39;) return &#39;&#127477;&#127474;&#39;;\r\n\t    if($code == &#39;PN&#39;) return &#39;&#127477;&#127475;&#39;;\r\n\t    if($code == &#39;PR&#39;) return &#39;&#127477;&#127479;&#39;;\r\n\t    if($code == &#39;PS&#39;) return &#39;&#127477;&#127480;&#39;;\r\n\t    if($code == &#39;PT&#39;) return &#39;&#127477;&#127481;&#39;;\r\n\t    if($code == &#39;PW&#39;) return &#39;&#127477;&#127484;&#39;;\r\n\t    if($code == &#39;PY&#39;) return &#39;&#127477;&#127486;&#39;;\r\n\t    if($code == &#39;QA&#39;) return &#39;&#127478;&#127462;&#39;;\r\n\t    if($code == &#39;RE&#39;) return &#39;&#127479;&#127466;&#39;;\r\n\t    if($code == &#39;RO&#39;) return &#39;&#127479;&#127476;&#39;;\r\n\t    if($code == &#39;RS&#39;) return &#39;&#127479;&#127480;&#39;;\r\n\t    if($code == &#39;RU&#39;) return &#39;&#127479;&#127482;&#39;;\r\n\t    if($code == &#39;RW&#39;) return &#39;&#127479;&#127484;&#39;;\r\n\t    if($code == &#39;SA&#39;) return &#39;&#127480;&#127462;&#39;;\r\n\t    if($code == &#39;SB&#39;) return &#39;&#127480;&#127463;&#39;;\r\n\t    if($code == &#39;SC&#39;) return &#39;&#127480;&#127464;&#39;;\r\n\t    if($code == &#39;SD&#39;) return &#39;&#127480;&#127465;&#39;;\r\n\t    if($code == &#39;SE&#39;) return &#39;&#127480;&#127466;&#39;;\r\n\t    if($code == &#39;SG&#39;) return &#39;&#127480;&#127468;&#39;;\r\n\t    if($code == &#39;SH&#39;) return &#39;&#127480;&#127469;&#39;;\r\n\t    if($code == &#39;SI&#39;) return &#39;&#127480;&#127470;&#39;;\r\n\t    if($code == &#39;SJ&#39;) return &#39;&#127480;&#127471;&#39;;\r\n\t    if($code == &#39;SK&#39;) return &#39;&#127480;&#127472;&#39;;\r\n\t    if($code == &#39;SL&#39;) return &#39;&#127480;&#127473;&#39;;\r\n\t    if($code == &#39;SM&#39;) return &#39;&#127480;&#127474;&#39;;\r\n\t    if($code == &#39;SN&#39;) return &#39;&#127480;&#127475;&#39;;\r\n\t    if($code == &#39;SO&#39;) return &#39;&#127480;&#127476;&#39;;\r\n\t    if($code == &#39;SR&#39;) return &#39;&#127480;&#127479;&#39;;\r\n\t    if($code == &#39;SS&#39;) return &#39;&#127480;&#127480;&#39;;\r\n\t    if($code == &#39;ST&#39;) return &#39;&#127480;&#127481;&#39;;\r\n\t    if($code == &#39;SV&#39;) return &#39;&#127480;&#127483;&#39;;\r\n\t    if($code == &#39;SX&#39;) return &#39;&#127480;&#127485;&#39;;\r\n\t    if($code == &#39;SY&#39;) return &#39;&#127480;&#127486;&#39;;\r\n\t    if($code == &#39;SZ&#39;) return &#39;&#127480;&#127487;&#39;;\r\n\t    if($code == &#39;TC&#39;) return &#39;&#127481;&#127464;&#39;;\r\n\t    if($code == &#39;TD&#39;) return &#39;&#127481;&#127465;&#39;;\r\n\t    if($code == &#39;TF&#39;) return &#39;&#127481;&#127467;&#39;;\r\n\t    if($code == &#39;TG&#39;) return &#39;&#127481;&#127468;&#39;;\r\n\t    if($code == &#39;TH&#39;) return &#39;&#127481;&#127469;&#39;;\r\n\t    if($code == &#39;TJ&#39;) return &#39;&#127481;&#127471;&#39;;\r\n\t    if($code == &#39;TK&#39;) return &#39;&#127481;&#127472;&#39;;\r\n\t    if($code == &#39;TL&#39;) return &#39;&#127481;&#127473;&#39;;\r\n\t    if($code == &#39;TM&#39;) return &#39;&#127481;&#127474;&#39;;\r\n\t    if($code == &#39;TN&#39;) return &#39;&#127481;&#127475;&#39;;\r\n\t    if($code == &#39;TO&#39;) return &#39;&#127481;&#127476;&#39;;\r\n\t    if($code == &#39;TR&#39;) return &#39;&#127481;&#127479;&#39;;\r\n\t    if($code == &#39;TT&#39;) return &#39;&#127481;&#127481;&#39;;\r\n\t    if($code == &#39;TV&#39;) return &#39;&#127481;&#127483;&#39;;\r\n\t    if($code == &#39;TW&#39;) return &#39;&#127481;&#127484;&#39;;\r\n\t    if($code == &#39;TZ&#39;) return &#39;&#127481;&#127487;&#39;;\r\n\t    if($code == &#39;UA&#39;) return &#39;&#127482;&#127462;&#39;;\r\n\t    if($code == &#39;UG&#39;) return &#39;&#127482;&#127468;&#39;;\r\n\t    if($code == &#39;UM&#39;) return &#39;&#127482;&#127474;&#39;;\r\n\t    if($code == &#39;US&#39;) return &#39;&#127482;&#127480;&#39;;\r\n\t    if($code == &#39;UY&#39;) return &#39;&#127482;&#127486;&#39;;\r\n\t    if($code == &#39;UZ&#39;) return &#39;&#127482;&#127487;&#39;;\r\n\t    if($code == &#39;VA&#39;) return &#39;&#127483;&#127462;&#39;;\r\n\t    if($code == &#39;VC&#39;) return &#39;&#127483;&#127464;&#39;;\r\n\t    if($code == &#39;VE&#39;) return &#39;&#127483;&#127466;&#39;;\r\n\t    if($code == &#39;VG&#39;) return &#39;&#127483;&#127468;&#39;;\r\n\t    if($code == &#39;VI&#39;) return &#39;&#127483;&#127470;&#39;;\r\n\t    if($code == &#39;VN&#39;) return &#39;&#127483;&#127475;&#39;;\r\n\t    if($code == &#39;VU&#39;) return &#39;&#127483;&#127482;&#39;;\r\n\t    if($code == &#39;WF&#39;) return &#39;&#127484;&#127467;&#39;;\r\n\t    if($code == &#39;WS&#39;) return &#39;&#127484;&#127480;&#39;;\r\n        if($code == &#39;XK&#39;) return &#39;&#127485;&#127472;&#39;;\r\n\t    if($code == &#39;YE&#39;) return &#39;&#127486;&#127466;&#39;;\r\n\t    if($code == &#39;YT&#39;) return &#39;&#127486;&#127481;&#39;;\r\n\t    if($code == &#39;ZA&#39;) return &#39;&#127487;&#127462;&#39;;\r\n\t    if($code == &#39;ZM&#39;) return &#39;&#127487;&#127474;&#39;;\r\n\t    return &#39;&#127987;&#39;;\r\n    }","title":"Get emoji flag by country code","body":"<pre><code>function getFlags($code){\n    $code = strtoupper($code);\n    if($code == 'AD') return 'ðŸ‡¦ðŸ‡©';\n    if($code == 'AE') return 'ðŸ‡¦ðŸ‡ª';\n    if($code == 'AF') return 'ðŸ‡¦ðŸ‡«';\n    if($code == 'AG') return 'ðŸ‡¦ðŸ‡¬';\n    if($code == 'AI') return 'ðŸ‡¦ðŸ‡®';\n    if($code == 'AL') return 'ðŸ‡¦ðŸ‡±';\n    if($code == 'AM') return 'ðŸ‡¦ðŸ‡²';\n    if($code == 'AO') return 'ðŸ‡¦ðŸ‡´';\n    if($code == 'AQ') return 'ðŸ‡¦ðŸ‡¶';\n    if($code == 'AR') return 'ðŸ‡¦ðŸ‡·';\n    if($code == 'AS') return 'ðŸ‡¦ðŸ‡¸';\n    if($code == 'AT') return 'ðŸ‡¦ðŸ‡¹';\n    if($code == 'AU') return 'ðŸ‡¦ðŸ‡º';\n    if($code == 'AW') return 'ðŸ‡¦ðŸ‡¼';\n    if($code == 'AX') return 'ðŸ‡¦ðŸ‡½';\n    if($code == 'AZ') return 'ðŸ‡¦ðŸ‡¿';\n    if($code == 'BA') return 'ðŸ‡§ðŸ‡¦';\n    if($code == 'BB') return 'ðŸ‡§ðŸ‡§';\n    if($code == 'BD') return 'ðŸ‡§ðŸ‡©';\n    if($code == 'BE') return 'ðŸ‡§ðŸ‡ª';\n    if($code == 'BF') return 'ðŸ‡§ðŸ‡«';\n    if($code == 'BG') return 'ðŸ‡§ðŸ‡¬';\n    if($code == 'BH') return 'ðŸ‡§ðŸ‡­';\n    if($code == 'BI') return 'ðŸ‡§ðŸ‡®';\n    if($code == 'BJ') return 'ðŸ‡§ðŸ‡¯';\n    if($code == 'BL') return 'ðŸ‡§ðŸ‡±';\n    if($code == 'BM') return 'ðŸ‡§ðŸ‡²';\n    if($code == 'BN') return 'ðŸ‡§ðŸ‡³';\n    if($code == 'BO') return 'ðŸ‡§ðŸ‡´';\n    if($code == 'BQ') return 'ðŸ‡§ðŸ‡¶';\n    if($code == 'BR') return 'ðŸ‡§ðŸ‡·';\n    if($code == 'BS') return 'ðŸ‡§ðŸ‡¸';\n    if($code == 'BT') return 'ðŸ‡§ðŸ‡¹';\n    if($code == 'BV') return 'ðŸ‡§ðŸ‡»';\n    if($code == 'BW') return 'ðŸ‡§ðŸ‡¼';\n    if($code == 'BY') return 'ðŸ‡§ðŸ‡¾';\n    if($code == 'BZ') return 'ðŸ‡§ðŸ‡¿';\n    if($code == 'CA') return 'ðŸ‡¨ðŸ‡¦';\n    if($code == 'CC') return 'ðŸ‡¨ðŸ‡¨';\n    if($code == 'CD') return 'ðŸ‡¨ðŸ‡©';\n    if($code == 'CF') return 'ðŸ‡¨ðŸ‡«';\n    if($code == 'CG') return 'ðŸ‡¨ðŸ‡¬';\n    if($code == 'CH') return 'ðŸ‡¨ðŸ‡­';\n    if($code == 'CI') return 'ðŸ‡¨ðŸ‡®';\n    if($code == 'CK') return 'ðŸ‡¨ðŸ‡°';\n    if($code == 'CL') return 'ðŸ‡¨ðŸ‡±';\n    if($code == 'CM') return 'ðŸ‡¨ðŸ‡²';\n    if($code == 'CN') return 'ðŸ‡¨ðŸ‡³';\n    if($code == 'CO') return 'ðŸ‡¨ðŸ‡´';\n    if($code == 'CR') return 'ðŸ‡¨ðŸ‡·';\n    if($code == 'CU') return 'ðŸ‡¨ðŸ‡º';\n    if($code == 'CV') return 'ðŸ‡¨ðŸ‡»';\n    if($code == 'CW') return 'ðŸ‡¨ðŸ‡¼';\n    if($code == 'CX') return 'ðŸ‡¨ðŸ‡½';\n    if($code == 'CY') return 'ðŸ‡¨ðŸ‡¾';\n    if($code == 'CZ') return 'ðŸ‡¨ðŸ‡¿';\n    if($code == 'DE') return 'ðŸ‡©ðŸ‡ª';\n    if($code == 'DJ') return 'ðŸ‡©ðŸ‡¯';\n    if($code == 'DK') return 'ðŸ‡©ðŸ‡°';\n    if($code == 'DM') return 'ðŸ‡©ðŸ‡²';\n    if($code == 'DO') return 'ðŸ‡©ðŸ‡´';\n    if($code == 'DZ') return 'ðŸ‡©ðŸ‡¿';\n    if($code == 'EC') return 'ðŸ‡ªðŸ‡¨';\n    if($code == 'EE') return 'ðŸ‡ªðŸ‡ª';\n    if($code == 'EG') return 'ðŸ‡ªðŸ‡¬';\n    if($code == 'EH') return 'ðŸ‡ªðŸ‡­';\n    if($code == 'ER') return 'ðŸ‡ªðŸ‡·';\n    if($code == 'ES') return 'ðŸ‡ªðŸ‡¸';\n    if($code == 'ET') return 'ðŸ‡ªðŸ‡¹';\n    if($code == 'FI') return 'ðŸ‡«ðŸ‡®';\n    if($code == 'FJ') return 'ðŸ‡«ðŸ‡¯';\n    if($code == 'FK') return 'ðŸ‡«ðŸ‡°';\n    if($code == 'FM') return 'ðŸ‡«ðŸ‡²';\n    if($code == 'FO') return 'ðŸ‡«ðŸ‡´';\n    if($code == 'FR') return 'ðŸ‡«ðŸ‡·';\n    if($code == 'GA') return 'ðŸ‡¬ðŸ‡¦';\n    if($code == 'GB') return 'ðŸ‡¬ðŸ‡§';\n    if($code == 'GD') return 'ðŸ‡¬ðŸ‡©';\n    if($code == 'GE') return 'ðŸ‡¬ðŸ‡ª';\n    if($code == 'GF') return 'ðŸ‡¬ðŸ‡«';\n    if($code == 'GG') return 'ðŸ‡¬ðŸ‡¬';\n    if($code == 'GH') return 'ðŸ‡¬ðŸ‡­';\n    if($code == 'GI') return 'ðŸ‡¬ðŸ‡®';\n    if($code == 'GL') return 'ðŸ‡¬ðŸ‡±';\n    if($code == 'GM') return 'ðŸ‡¬ðŸ‡²';\n    if($code == 'GN') return 'ðŸ‡¬ðŸ‡³';\n    if($code == 'GP') return 'ðŸ‡¬ðŸ‡µ';\n    if($code == 'GQ') return 'ðŸ‡¬ðŸ‡¶';\n    if($code == 'GR') return 'ðŸ‡¬ðŸ‡·';\n    if($code == 'GS') return 'ðŸ‡¬ðŸ‡¸';\n    if($code == 'GT') return 'ðŸ‡¬ðŸ‡¹';\n    if($code == 'GU') return 'ðŸ‡¬ðŸ‡º';\n    if($code == 'GW') return 'ðŸ‡¬ðŸ‡¼';\n    if($code == 'GY') return 'ðŸ‡¬ðŸ‡¾';\n    if($code == 'HK') return 'ðŸ‡­ðŸ‡°';\n    if($code == 'HM') return 'ðŸ‡­ðŸ‡²';\n    if($code == 'HN') return 'ðŸ‡­ðŸ‡³';\n    if($code == 'HR') return 'ðŸ‡­ðŸ‡·';\n    if($code == 'HT') return 'ðŸ‡­ðŸ‡¹';\n    if($code == 'HU') return 'ðŸ‡­ðŸ‡º';\n    if($code == 'ID') return 'ðŸ‡®ðŸ‡©';\n    if($code == 'IE') return 'ðŸ‡®ðŸ‡ª';\n    if($code == 'IL') return 'ðŸ‡®ðŸ‡±';\n    if($code == 'IM') return 'ðŸ‡®ðŸ‡²';\n    if($code == 'IN') return 'ðŸ‡®ðŸ‡³';\n    if($code == 'IO') return 'ðŸ‡®ðŸ‡´';\n    if($code == 'IQ') return 'ðŸ‡®ðŸ‡¶';\n    if($code == 'IR') return 'ðŸ‡®ðŸ‡·';\n    if($code == 'IS') return 'ðŸ‡®ðŸ‡¸';\n    if($code == 'IT') return 'ðŸ‡®ðŸ‡¹';\n    if($code == 'JE') return 'ðŸ‡¯ðŸ‡ª';\n    if($code == 'JM') return 'ðŸ‡¯ðŸ‡²';\n    if($code == 'JO') return 'ðŸ‡¯ðŸ‡´';\n    if($code == 'JP') return 'ðŸ‡¯ðŸ‡µ';\n    if($code == 'KE') return 'ðŸ‡°ðŸ‡ª';\n    if($code == 'KG') return 'ðŸ‡°ðŸ‡¬';\n    if($code == 'KH') return 'ðŸ‡°ðŸ‡­';\n    if($code == 'KI') return 'ðŸ‡°ðŸ‡®';\n    if($code == 'KM') return 'ðŸ‡°ðŸ‡²';\n    if($code == 'KN') return 'ðŸ‡°ðŸ‡³';\n    if($code == 'KP') return 'ðŸ‡°ðŸ‡µ';\n    if($code == 'KR') return 'ðŸ‡°ðŸ‡·';\n    if($code == 'KW') return 'ðŸ‡°ðŸ‡¼';\n    if($code == 'KY') return 'ðŸ‡°ðŸ‡¾';\n    if($code == 'KZ') return 'ðŸ‡°ðŸ‡¿';\n    if($code == 'LA') return 'ðŸ‡±ðŸ‡¦';\n    if($code == 'LB') return 'ðŸ‡±ðŸ‡§';\n    if($code == 'LC') return 'ðŸ‡±ðŸ‡¨';\n    if($code == 'LI') return 'ðŸ‡±ðŸ‡®';\n    if($code == 'LK') return 'ðŸ‡±ðŸ‡°';\n    if($code == 'LR') return 'ðŸ‡±ðŸ‡·';\n    if($code == 'LS') return 'ðŸ‡±ðŸ‡¸';\n    if($code == 'LT') return 'ðŸ‡±ðŸ‡¹';\n    if($code == 'LU') return 'ðŸ‡±ðŸ‡º';\n    if($code == 'LV') return 'ðŸ‡±ðŸ‡»';\n    if($code == 'LY') return 'ðŸ‡±ðŸ‡¾';\n    if($code == 'MA') return 'ðŸ‡²ðŸ‡¦';\n    if($code == 'MC') return 'ðŸ‡²ðŸ‡¨';\n    if($code == 'MD') return 'ðŸ‡²ðŸ‡©';\n    if($code == 'ME') return 'ðŸ‡²ðŸ‡ª';\n    if($code == 'MF') return 'ðŸ‡²ðŸ‡«';\n    if($code == 'MG') return 'ðŸ‡²ðŸ‡¬';\n    if($code == 'MH') return 'ðŸ‡²ðŸ‡­';\n    if($code == 'MK') return 'ðŸ‡²ðŸ‡°';\n    if($code == 'ML') return 'ðŸ‡²ðŸ‡±';\n    if($code == 'MM') return 'ðŸ‡²ðŸ‡²';\n    if($code == 'MN') return 'ðŸ‡²ðŸ‡³';\n    if($code == 'MO') return 'ðŸ‡²ðŸ‡´';\n    if($code == 'MP') return 'ðŸ‡²ðŸ‡µ';\n    if($code == 'MQ') return 'ðŸ‡²ðŸ‡¶';\n    if($code == 'MR') return 'ðŸ‡²ðŸ‡·';\n    if($code == 'MS') return 'ðŸ‡²ðŸ‡¸';\n    if($code == 'MT') return 'ðŸ‡²ðŸ‡¹';\n    if($code == 'MU') return 'ðŸ‡²ðŸ‡º';\n    if($code == 'MV') return 'ðŸ‡²ðŸ‡»';\n    if($code == 'MW') return 'ðŸ‡²ðŸ‡¼';\n    if($code == 'MX') return 'ðŸ‡²ðŸ‡½';\n    if($code == 'MY') return 'ðŸ‡²ðŸ‡¾';\n    if($code == 'MZ') return 'ðŸ‡²ðŸ‡¿';\n    if($code == 'NA') return 'ðŸ‡³ðŸ‡¦';\n    if($code == 'NC') return 'ðŸ‡³ðŸ‡¨';\n    if($code == 'NE') return 'ðŸ‡³ðŸ‡ª';\n    if($code == 'NF') return 'ðŸ‡³ðŸ‡«';\n    if($code == 'NG') return 'ðŸ‡³ðŸ‡¬';\n    if($code == 'NI') return 'ðŸ‡³ðŸ‡®';\n    if($code == 'NL') return 'ðŸ‡³ðŸ‡±';\n    if($code == 'NO') return 'ðŸ‡³ðŸ‡´';\n    if($code == 'NP') return 'ðŸ‡³ðŸ‡µ';\n    if($code == 'NR') return 'ðŸ‡³ðŸ‡·';\n    if($code == 'NU') return 'ðŸ‡³ðŸ‡º';\n    if($code == 'NZ') return 'ðŸ‡³ðŸ‡¿';\n    if($code == 'OM') return 'ðŸ‡´ðŸ‡²';\n    if($code == 'PA') return 'ðŸ‡µðŸ‡¦';\n    if($code == 'PE') return 'ðŸ‡µðŸ‡ª';\n    if($code == 'PF') return 'ðŸ‡µðŸ‡«';\n    if($code == 'PG') return 'ðŸ‡µðŸ‡¬';\n    if($code == 'PH') return 'ðŸ‡µðŸ‡­';\n    if($code == 'PK') return 'ðŸ‡µðŸ‡°';\n    if($code == 'PL') return 'ðŸ‡µðŸ‡±';\n    if($code == 'PM') return 'ðŸ‡µðŸ‡²';\n    if($code == 'PN') return 'ðŸ‡µðŸ‡³';\n    if($code == 'PR') return 'ðŸ‡µðŸ‡·';\n    if($code == 'PS') return 'ðŸ‡µðŸ‡¸';\n    if($code == 'PT') return 'ðŸ‡µðŸ‡¹';\n    if($code == 'PW') return 'ðŸ‡µðŸ‡¼';\n    if($code == 'PY') return 'ðŸ‡µðŸ‡¾';\n    if($code == 'QA') return 'ðŸ‡¶ðŸ‡¦';\n    if($code == 'RE') return 'ðŸ‡·ðŸ‡ª';\n    if($code == 'RO') return 'ðŸ‡·ðŸ‡´';\n    if($code == 'RS') return 'ðŸ‡·ðŸ‡¸';\n    if($code == 'RU') return 'ðŸ‡·ðŸ‡º';\n    if($code == 'RW') return 'ðŸ‡·ðŸ‡¼';\n    if($code == 'SA') return 'ðŸ‡¸ðŸ‡¦';\n    if($code == 'SB') return 'ðŸ‡¸ðŸ‡§';\n    if($code == 'SC') return 'ðŸ‡¸ðŸ‡¨';\n    if($code == 'SD') return 'ðŸ‡¸ðŸ‡©';\n    if($code == 'SE') return 'ðŸ‡¸ðŸ‡ª';\n    if($code == 'SG') return 'ðŸ‡¸ðŸ‡¬';\n    if($code == 'SH') return 'ðŸ‡¸ðŸ‡­';\n    if($code == 'SI') return 'ðŸ‡¸ðŸ‡®';\n    if($code == 'SJ') return 'ðŸ‡¸ðŸ‡¯';\n    if($code == 'SK') return 'ðŸ‡¸ðŸ‡°';\n    if($code == 'SL') return 'ðŸ‡¸ðŸ‡±';\n    if($code == 'SM') return 'ðŸ‡¸ðŸ‡²';\n    if($code == 'SN') return 'ðŸ‡¸ðŸ‡³';\n    if($code == 'SO') return 'ðŸ‡¸ðŸ‡´';\n    if($code == 'SR') return 'ðŸ‡¸ðŸ‡·';\n    if($code == 'SS') return 'ðŸ‡¸ðŸ‡¸';\n    if($code == 'ST') return 'ðŸ‡¸ðŸ‡¹';\n    if($code == 'SV') return 'ðŸ‡¸ðŸ‡»';\n    if($code == 'SX') return 'ðŸ‡¸ðŸ‡½';\n    if($code == 'SY') return 'ðŸ‡¸ðŸ‡¾';\n    if($code == 'SZ') return 'ðŸ‡¸ðŸ‡¿';\n    if($code == 'TC') return 'ðŸ‡¹ðŸ‡¨';\n    if($code == 'TD') return 'ðŸ‡¹ðŸ‡©';\n    if($code == 'TF') return 'ðŸ‡¹ðŸ‡«';\n    if($code == 'TG') return 'ðŸ‡¹ðŸ‡¬';\n    if($code == 'TH') return 'ðŸ‡¹ðŸ‡­';\n    if($code == 'TJ') return 'ðŸ‡¹ðŸ‡¯';\n    if($code == 'TK') return 'ðŸ‡¹ðŸ‡°';\n    if($code == 'TL') return 'ðŸ‡¹ðŸ‡±';\n    if($code == 'TM') return 'ðŸ‡¹ðŸ‡²';\n    if($code == 'TN') return 'ðŸ‡¹ðŸ‡³';\n    if($code == 'TO') return 'ðŸ‡¹ðŸ‡´';\n    if($code == 'TR') return 'ðŸ‡¹ðŸ‡·';\n    if($code == 'TT') return 'ðŸ‡¹ðŸ‡¹';\n    if($code == 'TV') return 'ðŸ‡¹ðŸ‡»';\n    if($code == 'TW') return 'ðŸ‡¹ðŸ‡¼';\n    if($code == 'TZ') return 'ðŸ‡¹ðŸ‡¿';\n    if($code == 'UA') return 'ðŸ‡ºðŸ‡¦';\n    if($code == 'UG') return 'ðŸ‡ºðŸ‡¬';\n    if($code == 'UM') return 'ðŸ‡ºðŸ‡²';\n    if($code == 'US') return 'ðŸ‡ºðŸ‡¸';\n    if($code == 'UY') return 'ðŸ‡ºðŸ‡¾';\n    if($code == 'UZ') return 'ðŸ‡ºðŸ‡¿';\n    if($code == 'VA') return 'ðŸ‡»ðŸ‡¦';\n    if($code == 'VC') return 'ðŸ‡»ðŸ‡¨';\n    if($code == 'VE') return 'ðŸ‡»ðŸ‡ª';\n    if($code == 'VG') return 'ðŸ‡»ðŸ‡¬';\n    if($code == 'VI') return 'ðŸ‡»ðŸ‡®';\n    if($code == 'VN') return 'ðŸ‡»ðŸ‡³';\n    if($code == 'VU') return 'ðŸ‡»ðŸ‡º';\n    if($code == 'WF') return 'ðŸ‡¼ðŸ‡«';\n    if($code == 'WS') return 'ðŸ‡¼ðŸ‡¸';\n    if($code == 'XK') return 'ðŸ‡½ðŸ‡°';\n    if($code == 'YE') return 'ðŸ‡¾ðŸ‡ª';\n    if($code == 'YT') return 'ðŸ‡¾ðŸ‡¹';\n    if($code == 'ZA') return 'ðŸ‡¿ðŸ‡¦';\n    if($code == 'ZM') return 'ðŸ‡¿ðŸ‡²';\n    return 'ðŸ³';\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1441081,"reputation":2934,"user_id":1361223,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597411595,"creation_date":1597411595,"answer_id":63413689,"question_id":42234666,"body_markdown":"For PHP I always use this one, calculates the character index with hex2bin:\r\n\r\n\r\n````php\r\n\r\nfunction parseCountryCodeToFlag(string $code): string\r\n{\r\n\t$exceptions = [\r\n\t\t&#39;en&#39; =&gt; &#39;gb&#39;,\r\n\t\t&#39;uk&#39; =&gt; &#39;gb&#39;,\r\n\t];\r\n\r\n\t$code = str_replace(array_keys($exceptions), array_values($exceptions), $code);\r\n\r\n\t$emoji = [];\r\n\tforeach(str_split($code) as $c) {\r\n\t\tif(($o = ord($c)) &gt; 64 &amp;&amp; $o % 32 &lt; 27) {\r\n\t\t\t$emoji[] = hex2bin(&quot;f09f87&quot; . dechex($o % 32 + 165));\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\r\n\t\t$emoji[] = $c;\r\n\t}\r\n\r\n\treturn join($emoji);\r\n}\r\n\r\n````","title":"Get emoji flag by country code","body":"<p>For PHP I always use this one, calculates the character index with hex2bin:</p>\n<pre class=\"lang-php prettyprint-override\"><code>\nfunction parseCountryCodeToFlag(string $code): string\n{\n    $exceptions = [\n        'en' =&gt; 'gb',\n        'uk' =&gt; 'gb',\n    ];\n\n    $code = str_replace(array_keys($exceptions), array_values($exceptions), $code);\n\n    $emoji = [];\n    foreach(str_split($code) as $c) {\n        if(($o = ord($c)) &gt; 64 &amp;&amp; $o % 32 &lt; 27) {\n            $emoji[] = hex2bin(&quot;f09f87&quot; . dechex($o % 32 + 165));\n            continue;\n        }\n        \n        $emoji[] = $c;\n    }\n\n    return join($emoji);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412430,"reputation":1319,"user_id":785496,"accept_rate":40,"display_name":"Jim Jose"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612418463,"creation_date":1612418463,"answer_id":66040116,"question_id":42234666,"body_markdown":"If anyone looking for a Unity/C# version...\r\n\r\n``` \r\npublic string GetCountryFlagEmojiFromCode(string countryCode) {\r\n\r\n    int flagOffset = 0x1F1E6;\r\n    int asciiOffset = 0x41;\r\n\r\n    int firstChar = char.ConvertToUtf32(countryCode, 0) - asciiOffset + flagOffset;\r\n    int secondChar = char.ConvertToUtf32(countryCode, 1) - asciiOffset + flagOffset;\r\n        \r\n    String flag = char.ConvertFromUtf32(firstChar) + char.ConvertFromUtf32(secondChar);\r\n    return flag;\r\n\r\n}\r\n```","title":"Get emoji flag by country code","body":"<p>If anyone looking for a Unity/C# version...</p>\n<pre><code>public string GetCountryFlagEmojiFromCode(string countryCode) {\n\n    int flagOffset = 0x1F1E6;\n    int asciiOffset = 0x41;\n\n    int firstChar = char.ConvertToUtf32(countryCode, 0) - asciiOffset + flagOffset;\n    int secondChar = char.ConvertToUtf32(countryCode, 1) - asciiOffset + flagOffset;\n        \n    String flag = char.ConvertFromUtf32(firstChar) + char.ConvertFromUtf32(secondChar);\n    return flag;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7791723,"reputation":61,"user_id":5894398,"display_name":"Arshad Ali"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1651488416,"creation_date":1642408496,"answer_id":70738479,"question_id":42234666,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const input = document.getElementById(&quot;input&quot;);\r\n    const btn = document.getElementById(&quot;btn&quot;);\r\n\r\n    function getFlagEmoji(countryCode) {\r\n      const codePoints = countryCode.toUpperCase().split(&quot;&quot;).map((char) =&gt; 127397 + char.charCodeAt(0));\r\n      return String.fromCodePoint(...codePoints);\r\n    }\r\n\r\n    btn.addEventListener(&quot;click&quot;, e =&gt; {\r\n      e.preventDefault();\r\n      console.log(getFlagEmoji(input.value));\r\n    });\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;text&quot; id=&quot;input&quot; placeholder=&quot;Country Code&quot; maxlength=&quot;2&quot; /&gt;\r\n    &lt;button id=&quot;btn&quot;&gt;Get Emoji&lt;/button&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Get emoji flag by country code","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = document.getElementById(\"input\");\nconst btn = document.getElementById(\"btn\");\n\nfunction getFlagEmoji(countryCode) {\n  const codePoints = countryCode.toUpperCase().split(\"\").map((char) =&gt; 127397 + char.charCodeAt(0));\n  return String.fromCodePoint(...codePoints);\n}\n\nbtn.addEventListener(\"click\", e =&gt; {\n  e.preventDefault();\n  console.log(getFlagEmoji(input.value));\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"input\" placeholder=\"Country Code\" maxlength=\"2\" /&gt;\n&lt;button id=\"btn\"&gt;Get Emoji&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":5416823,"reputation":1811,"user_id":4311759,"accept_rate":56,"display_name":"Ardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22455,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":42235254,"answer_count":5,"score":19,"last_activity_date":1651488416,"creation_date":1487100777,"question_id":42234666,"body_markdown":"There is a list of countries codes, I need to attach emoji flag to each one. \r\nIs there a way to extract unicode from it or find emoji for country code?\r\n\r\nThis npm example looks similar for my goal (but uses hexadecimal as input) https://github.com/thekelvinliu/country-code-emoji/blob/master/src/index.js","title":"Get emoji flag by country code","body":"<p>There is a list of countries codes, I need to attach emoji flag to each one. \nIs there a way to extract unicode from it or find emoji for country code?</p>\n\n<p>This npm example looks similar for my goal (but uses hexadecimal as input) <a href=\"https://github.com/thekelvinliu/country-code-emoji/blob/master/src/index.js\" rel=\"noreferrer\">https://github.com/thekelvinliu/country-code-emoji/blob/master/src/index.js</a></p>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1651045812,"post_id":72024965,"comment_id":127265890,"body_markdown":"Stack trace and code please. The connection between image I/O and [tag:spring-boot] escapes me.","body":"Stack trace and code please. The connection between image I/O and <a href=\"https://stackoverflow.com/questions/tagged/spring-boot\">spring-boot</a> escapes me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651054671,"post_id":72024965,"comment_id":127269349,"body_markdown":"Also escaping me is the connection between `ImageIO` and compression. Do you really mean compression or do you mean resizing? Attempting to compress an image without really specialized software won&#39;t give you a good ratio","body":"Also escaping me is the connection between <code>ImageIO</code> and compression. Do you really mean compression or do you mean resizing? Attempting to compress an image without really specialized software won&#39;t give you a good ratio"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651055219,"post_id":72024965,"comment_id":127269538,"body_markdown":"@g00se Saving an image as JPEG already applies compression, according to the `q` value chosen. PNG also supports lossless data compression.","body":"@g00se Saving an image as JPEG already applies compression, according to the <code>q</code> value chosen. PNG also supports lossless data compression."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651055713,"post_id":72024965,"comment_id":127269719,"body_markdown":"Yes I know that. My point is that methods available in Java will not produce a significant compression ratio","body":"Yes I know that. My point is that methods available in Java will not produce a significant compression ratio"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1651066403,"post_id":72024965,"comment_id":127273854,"body_markdown":"@g00se Why do you think Java can&#39;t produce significant compression ratio? JDK ImageIO JPEG implementation is based on libjpeg and should produce the same compression ratio.","body":"@g00se Why do you think Java can&#39;t produce significant compression ratio? JDK ImageIO JPEG implementation is based on libjpeg and should produce the same compression ratio."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651072810,"post_id":72024965,"comment_id":127276546,"body_markdown":"I think we&#39;re talking at cross purposes. ANY binary file that can produce a non-lossy high compression ratio is by definition badly designed. That doesn&#39;t tend to happen. I&#39;m just trying to avoid the OP wasting his/her time. You&#39;ve even saiid yourself: *PNG format will be written compressed regardless, as PNG always use zlib/deflate compression.*","body":"I think we&#39;re talking at cross purposes. ANY binary file that can produce a non-lossy high compression ratio is by definition badly designed. That doesn&#39;t tend to happen. I&#39;m just trying to avoid the OP wasting his/her time. You&#39;ve even saiid yourself: <i>PNG format will be written compressed regardless, as PNG always use zlib/deflate compression.</i>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1651102396,"post_id":72024965,"comment_id":127285581,"body_markdown":"@g00se JPEG can produce extremely significant compression ratios. I don&#39;t know why you think otherwise, or why you think the OP is wasting his time. You don&#39;t know anything about his images and how well they may compress, and it is futile beyond description for you to claim they, or JPEG, are &#39;badly designed&#39;.","body":"@g00se JPEG can produce extremely significant compression ratios. I don&#39;t know why you think otherwise, or why you think the OP is wasting his time. You don&#39;t know anything about his images and how well they may compress, and it is futile beyond description for you to claim they, or JPEG, are &#39;badly designed&#39;."}],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651066178,"creation_date":1651065245,"answer_id":72029430,"question_id":72024965,"body_markdown":"As seen from the stack trace, the problem is `param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT)`. This is perhaps counter-intuitive based on the fact that PNG does indeed support compression, so I fully understand the confusion. However, the API is what it is...\r\n\r\nChange:\r\n\r\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    param.setCompressionQuality(0.5f);\r\n\r\nTo:\r\n\r\n    if (param.canWriteCompressed()) {\r\n        param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        param.setCompressionQuality(0.5f);\r\n    }\r\n\r\nPNG format will be written compressed regardless, as PNG always use zlib/deflate compression. \r\n\r\nPS: In more recent versions of the JDK, the `PNGImageWriteParam` supports specifying the compression level ([from JDK 9](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6488522), [backport exists for JDK 7 and 8](https://github.com/gredler/jdk9-png-writer-backport)). The above code will work anyway, but it will affect the compression ratio (lower numbers means less quality/more compression). You might want to handle compressions for different formats more explicitly.","title":"How to compress jpg and png images in java?","body":"<p>As seen from the stack trace, the problem is <code>param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT)</code>. This is perhaps counter-intuitive based on the fact that PNG does indeed support compression, so I fully understand the confusion. However, the API is what it is...</p>\n<p>Change:</p>\n<pre><code>param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\nparam.setCompressionQuality(0.5f);\n</code></pre>\n<p>To:</p>\n<pre><code>if (param.canWriteCompressed()) {\n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n    param.setCompressionQuality(0.5f);\n}\n</code></pre>\n<p>PNG format will be written compressed regardless, as PNG always use zlib/deflate compression.</p>\n<p>PS: In more recent versions of the JDK, the <code>PNGImageWriteParam</code> supports specifying the compression level (<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6488522\" rel=\"nofollow noreferrer\">from JDK 9</a>, <a href=\"https://github.com/gredler/jdk9-png-writer-backport\" rel=\"nofollow noreferrer\">backport exists for JDK 7 and 8</a>). The above code will work anyway, but it will affect the compression ratio (lower numbers means less quality/more compression). You might want to handle compressions for different formats more explicitly.</p>\n"}],"owner":{"account_id":20277167,"reputation":1,"user_id":14871919,"display_name":"Manisha Kumari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651488264,"creation_date":1651045092,"question_id":72024965,"body_markdown":"I used ImageIO library and tried to compress Multipart File but if the extension is jpg then it works fine, but when I used png file then it&#39;s not working.\r\n\r\nI got this error while executing this code \r\n\r\n    byte[] byteArr = multipartFile.getBytes();\r\n    InputStream inputStream = new ByteArrayInputStream(byteArr);\r\n    BufferedImage image = ImageIO.read(inputStream);\r\n\r\n    public String compressImage(MultipartFile multipartFile, BufferedImage image) throws IOException {\r\n        String filePath = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n        File compressedImageFile = new File(filePath);\r\n        OutputStream os = new FileOutputStream(compressedImageFile.getName());\r\n        Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\r\n        ImageWriter writer = writers.next();\r\n\r\n        ImageOutputStream ios = ImageIO.createImageOutputStream(os);\r\n        writer.setOutput(ios);\r\n\r\n        ImageWriteParam param = writer.getDefaultWriteParam();\r\n       \r\n        param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        param.setCompressionQuality(0.5f);\r\n        \r\n        writer.write(null, new IIOImage(image, null, null), param);\r\n        os.close();\r\n        ios.close();\r\n        writer.dispose();\r\n        return String.valueOf(compressedImageFile);\r\n    }\r\n\r\nMethod threw &#39;java.lang.UnsupportedOperationException&#39; exception.&quot;\r\nstack trace\r\n\r\n        ERROR TextMessaging:309 - An exception occured while executing sendMessage.json: \r\n    java.lang.UnsupportedOperationException: Compression not supported.\r\n    \tat javax.imageio.ImageWriteParam.setCompressionMode(ImageWriteParam.java:914) ~[?:1.8.0_301]\r\n    \tat com.starbucks.amazon.services.impl.ImageCompression.compressImage(ImageCompression.java:36) ~[classes/:?]\r\n    \tat com.starbucks.amazon.services.impl.ImageCompression$$FastClassBySpringCGLIB$$9a83d3e.invoke(&lt;generated&gt;) ~[classes/:?]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.6.jar:5.3.6]\r\n    \tat com.starbucks.amazon.services.impl.ImageCompression$$EnhancerBySpringCGLIB$$87686d38.compressImage(&lt;generated&gt;) ~[classes/:?]\r\n    \tat com.starbucks.amazon.restcalls.TextMessaging.sendMessage(TextMessaging.java:222) ~[classes/:?]\r\n    \t","title":"How to compress jpg and png images in java?","body":"<p>I used ImageIO library and tried to compress Multipart File but if the extension is jpg then it works fine, but when I used png file then it's not working.</p>\n<p>I got this error while executing this code</p>\n<pre><code>byte[] byteArr = multipartFile.getBytes();\nInputStream inputStream = new ByteArrayInputStream(byteArr);\nBufferedImage image = ImageIO.read(inputStream);\n\npublic String compressImage(MultipartFile multipartFile, BufferedImage image) throws IOException {\n    String filePath = System.getProperty(&quot;java.io.tmpdir&quot;);\n    File compressedImageFile = new File(filePath);\n    OutputStream os = new FileOutputStream(compressedImageFile.getName());\n    Iterator&lt;ImageWriter&gt; writers = ImageIO.getImageWritersByFormatName(FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\n    ImageWriter writer = writers.next();\n\n    ImageOutputStream ios = ImageIO.createImageOutputStream(os);\n    writer.setOutput(ios);\n\n    ImageWriteParam param = writer.getDefaultWriteParam();\n   \n    param.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n    param.setCompressionQuality(0.5f);\n    \n    writer.write(null, new IIOImage(image, null, null), param);\n    os.close();\n    ios.close();\n    writer.dispose();\n    return String.valueOf(compressedImageFile);\n}\n</code></pre>\n<p>Method threw 'java.lang.UnsupportedOperationException' exception.&quot;\nstack trace</p>\n<pre><code>    ERROR TextMessaging:309 - An exception occured while executing sendMessage.json: \njava.lang.UnsupportedOperationException: Compression not supported.\n    at javax.imageio.ImageWriteParam.setCompressionMode(ImageWriteParam.java:914) ~[?:1.8.0_301]\n    at com.starbucks.amazon.services.impl.ImageCompression.compressImage(ImageCompression.java:36) ~[classes/:?]\n    at com.starbucks.amazon.services.impl.ImageCompression$$FastClassBySpringCGLIB$$9a83d3e.invoke(&lt;generated&gt;) ~[classes/:?]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.6.jar:5.3.6]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.6.jar:5.3.6]\n    at com.starbucks.amazon.services.impl.ImageCompression$$EnhancerBySpringCGLIB$$87686d38.compressImage(&lt;generated&gt;) ~[classes/:?]\n    at com.starbucks.amazon.restcalls.TextMessaging.sendMessage(TextMessaging.java:222) ~[classes/:?]\n    \n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651487953,"creation_date":1651487953,"answer_id":72085522,"question_id":72082207,"body_markdown":"When you are using the [Query#addValueEventListener()][1] method, it means that you are attaching a listener that listens for real-time updates. This means that every change that takes place in the Realtime Database that corresponds to your `productsRef.child(ID)` reference, will always trigger the `onDataChange()` method. Since you are adding data inside the callback using:\r\n\r\n    prod.child(ID).setValue(model)\r\n\r\nTo the exact same reference you are listening to, your data gets written again. So this mechanism is happening over and over again, hence the behavior of an &quot;infinite loop&quot;.\r\n\r\nTo solve this, simply change the above method call to [Query#addListenerForSingleValueEvent()][2]. This means that it will listen for changes **only** once.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)","title":"Infinite for each loop","body":"<p>When you are using the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addValueEventListener(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addValueEventListener()</a> method, it means that you are attaching a listener that listens for real-time updates. This means that every change that takes place in the Realtime Database that corresponds to your <code>productsRef.child(ID)</code> reference, will always trigger the <code>onDataChange()</code> method. Since you are adding data inside the callback using:</p>\n<pre><code>prod.child(ID).setValue(model)\n</code></pre>\n<p>To the exact same reference you are listening to, your data gets written again. So this mechanism is happening over and over again, hence the behavior of an &quot;infinite loop&quot;.</p>\n<p>To solve this, simply change the above method call to <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/Query#addListenerForSingleValueEvent(com.google.firebase.database.ValueEventListener)\" rel=\"nofollow noreferrer\">Query#addListenerForSingleValueEvent()</a>. This means that it will listen for changes <strong>only</strong> once.</p>\n"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72085522,"answer_count":1,"score":0,"last_activity_date":1651488000,"creation_date":1651464262,"question_id":72082207,"body_markdown":"So I have this loop which means to loop through a list of products and check if they are sold out or the stock needs updating. But somehow it&#39;s infinite, I used the debugger went through with a few breakpoints it just kept looping back that&#39;s how I know its infinite after I had a look through and I couldn&#39;t find the issue\r\n\r\n    public void removeProductsFromDB(ArrayList&lt;String&gt; products) {\r\n\r\n        for (String ID : products) {\r\n            productsRef.child(ID)\r\n                    .addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if (snapshot.exists()) {\r\n                                ProductModel model = snapshot.getValue(ProductModel.class);\r\n\r\n                                int ordered = 1;\r\n\r\n                                int newQuantity = Integer.parseInt(model.getpQuantity()) - ordered;\r\n\r\n                                model.setpQuantity(String.valueOf(newQuantity));\r\n\r\n                                if (newQuantity &lt; 1) {\r\n                                    model.setStatus(&quot;Sold&quot;);\r\n\r\n                                } else {\r\n\r\n                                }\r\n\r\n                                DatabaseReference prod = FirebaseDatabase\r\n                                        .getInstance().getReference().child(&quot;Products&quot;);\r\n\r\n                                prod.child(ID).setValue(model)\r\n                                        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                            @Override\r\n                                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                                loadingBar.dismiss();\r\n                                                showToast(&quot;Order Placed&quot;);\r\n\r\n\r\n                                                Intent intent = new Intent(ConfirmOrderActivity.this, HomeActivity.class);\r\n                                                startActivity(intent);\r\n                                            }\r\n                                        });\r\n\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n    }\r\n\r\nIt&#39;s possible am just tired but I didn&#39;t think a for-each loop would turn out to be infinite.","title":"Infinite for each loop","body":"<p>So I have this loop which means to loop through a list of products and check if they are sold out or the stock needs updating. But somehow it's infinite, I used the debugger went through with a few breakpoints it just kept looping back that's how I know its infinite after I had a look through and I couldn't find the issue</p>\n<pre><code>public void removeProductsFromDB(ArrayList&lt;String&gt; products) {\n\n    for (String ID : products) {\n        productsRef.child(ID)\n                .addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.exists()) {\n                            ProductModel model = snapshot.getValue(ProductModel.class);\n\n                            int ordered = 1;\n\n                            int newQuantity = Integer.parseInt(model.getpQuantity()) - ordered;\n\n                            model.setpQuantity(String.valueOf(newQuantity));\n\n                            if (newQuantity &lt; 1) {\n                                model.setStatus(&quot;Sold&quot;);\n\n                            } else {\n\n                            }\n\n                            DatabaseReference prod = FirebaseDatabase\n                                    .getInstance().getReference().child(&quot;Products&quot;);\n\n                            prod.child(ID).setValue(model)\n                                    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                                            loadingBar.dismiss();\n                                            showToast(&quot;Order Placed&quot;);\n\n\n                                            Intent intent = new Intent(ConfirmOrderActivity.this, HomeActivity.class);\n                                            startActivity(intent);\n                                        }\n                                    });\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n    }\n\n}\n</code></pre>\n<p>It's possible am just tired but I didn't think a for-each loop would turn out to be infinite.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1651487943,"post_id":72085512,"comment_id":127368558,"body_markdown":"you&#39;re probably missing the return statement at the end. Also, it would be great to see the full method implementation to help you with that.","body":"you&#39;re probably missing the return statement at the end. Also, it would be great to see the full method implementation to help you with that."},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":2,"creation_date":1651487985,"post_id":72085512,"comment_id":127368570,"body_markdown":"your `return count_seven;` is inside the for loop. it should be below the loop","body":"your <code>return count_seven;</code> is inside the for loop. it should be below the loop"},{"owner":{"account_id":8625868,"reputation":1067,"user_id":6459127,"display_name":"Dimpre Jean-S&#233;bastien"},"score":0,"creation_date":1651488012,"post_id":72085512,"comment_id":127368579,"body_markdown":"Also, your return count_seven should probably be after your for, and not in it","body":"Also, your return count_seven should probably be after your for, and not in it"}],"owner":{"display_name":"user18960849"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651488163,"answer_count":0,"score":0,"last_activity_date":1651487850,"creation_date":1651487850,"question_id":72085512,"body_markdown":"I&#39;m trying to create a program that counts the number of sevens in an array, whenever I run it, I get the error: incompatible types, missing return value. I&#39;m not too sure where I have gone wrong.\r\n```\r\nint count_seven = 0;\r\n        for(int n = 0; n &lt; nums.length; n++){\r\n            if(nums[n] == 7){\r\n                count_seven++;\r\n            }\r\n                return count_seven;\r\n        }\r\n```\r\nAny help is greatly appreciated!!","title":"How to solve Missing Return Value Error Java","body":"<p>I'm trying to create a program that counts the number of sevens in an array, whenever I run it, I get the error: incompatible types, missing return value. I'm not too sure where I have gone wrong.</p>\n<pre><code>int count_seven = 0;\n        for(int n = 0; n &lt; nums.length; n++){\n            if(nums[n] == 7){\n                count_seven++;\n            }\n                return count_seven;\n        }\n</code></pre>\n<p>Any help is greatly appreciated!!</p>\n"},{"tags":["java","parsing","lexer","javacc"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1583682233,"post_id":60589049,"comment_id":107191309,"body_markdown":"What specific steps have you tried from the ones in your link? Where are you getting stuck?","body":"What specific steps have you tried from the ones in your link? Where are you getting stuck?"},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583682803,"post_id":60589049,"comment_id":107191479,"body_markdown":"I already added path of the folder javacc, and I don&#39;t know what should I do next.","body":"I already added path of the folder javacc, and I don&#39;t know what should I do next."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1583683153,"post_id":60589049,"comment_id":107191596,"body_markdown":"Did you download the source from github? Or are you using the pre-built binary they provide? I&#39;m not clear where you are getting stuck.","body":"Did you download the source from github? Or are you using the pre-built binary they provide? I&#39;m not clear where you are getting stuck."},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583683494,"post_id":60589049,"comment_id":107191709,"body_markdown":"I downloaded it from https://javacc.github.io/javacc/#getting-started, javacc-7.0.5.zip. I already added the path of the folder, and I don&#39;t know what I should do next..","body":"I downloaded it from <a href=\"https://javacc.github.io/javacc/#getting-started\" rel=\"nofollow noreferrer\">javacc.github.io/javacc/#getting-started</a>, javacc-7.0.5.zip. I already added the path of the folder, and I don&#39;t know what I should do next.."},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583683656,"post_id":60589049,"comment_id":107191757,"body_markdown":"I don&#39;t understand this part, &quot;Then place the binary javacc-7.0.5.jar in a new target/ folder, and rename to javacc.jar.\n\nOnce you have completed installation add the scripts/ directory in the JavaCC installation to your PATH. The JavaCC, JJTree, and JJDoc invocation scripts/executables reside in this directory.\n\nOn UNIX based systems, the scripts may not be executable immediately. This can be solved by using the command from the javacc-7.0.5/ directory:\n\nchmod +x scripts/javacc &quot;","body":"I don&#39;t understand this part, &quot;Then place the binary javacc-7.0.5.jar in a new target/ folder, and rename to javacc.jar.  Once you have completed installation add the scripts/ directory in the JavaCC installation to your PATH. The JavaCC, JJTree, and JJDoc invocation scripts/executables reside in this directory.  On UNIX based systems, the scripts may not be executable immediately. This can be solved by using the command from the javacc-7.0.5/ directory:  chmod +x scripts/javacc &quot;"},{"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"score":0,"creation_date":1583685593,"post_id":60589049,"comment_id":107192321,"body_markdown":"I tried another version of javacc and it worked. I tried entering javacc in cmd and it shows its version","body":"I tried another version of javacc and it worked. I tried entering javacc in cmd and it shows its version"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1583687256,"post_id":60589049,"comment_id":107192824,"body_markdown":"Excellent! Feel free to answer your own question with the detailed steps you figured out. That will help others who may hit the same issue in the future. You can even accept your own answer, if it&#39;s the most helpful one.","body":"Excellent! Feel free to answer your own question with the detailed steps you figured out. That will help others who may hit the same issue in the future. You can even accept your own answer, if it&#39;s the most helpful one."}],"answers":[{"tags":[],"owner":{"account_id":17918855,"reputation":91,"user_id":13019222,"display_name":"Bruno Gava Guerra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583681955,"creation_date":1583681955,"answer_id":60589106,"question_id":60589049,"body_markdown":"You can follow the same steps in the Installation part of the guide.\r\n\r\nhttps://javacc.github.io/javacc/#getting-started\r\n\r\nAfter you have unzipped the downloaded file into a new directory, you need to add the path of the folder to your PATH variable in Windows. To do that, follow this guide:\r\n\r\nhttps://www.java.com/en/download/help/path.xml","title":"How to setup Javacc in windows 10","body":"<p>You can follow the same steps in the Installation part of the guide.</p>\n\n<p><a href=\"https://javacc.github.io/javacc/#getting-started\" rel=\"nofollow noreferrer\">https://javacc.github.io/javacc/#getting-started</a></p>\n\n<p>After you have unzipped the downloaded file into a new directory, you need to add the path of the folder to your PATH variable in Windows. To do that, follow this guide:</p>\n\n<p><a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/help/path.xml</a></p>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1630519515,"creation_date":1583775795,"answer_id":60605821,"question_id":60589049,"body_markdown":"_**Update**: I have made some changes to the steps, and provided some notes about those changes at the end._\r\n\r\n---\r\n\r\nI know the OP switched to using version 6, but here are the instructions for version 7:\r\n\r\n(Version 7.0.5, to be precise.)\r\n\r\nSet-Up:\r\n------\r\n\r\n1) Go to the &quot;Getting Started&quot; page [here][1].\r\n\r\n2) Download the zip file from the &quot;Source(zip)&quot; link.\r\n\r\n3) Unzip that into a directory of your choosing. I chose a new empty directory  `E:\\javacc`. That ended up giving me everything in `E:\\javacc\\javacc-7.0.5`.\r\n\r\n4) Create a new `target` directory. For me, that was `E:\\javacc\\javacc-7.0.5\\target`.\r\n\r\n5) _NO NEED TO DO THIS_: Download the jar file from the &quot;Getting Started&quot; page, using the &quot;Binaries&quot; link. That gives you a file `javacc-7.0.5.jar`.\r\n\r\n6) Locate the `javacc.jar` file in the `bootstrap` directory. Copy that file to the new `target` directory.\r\n\r\n7) Add the `scripts` directory (for me: `E:\\javacc\\javacc-7.0.5\\scripts`) to your `PATH` environment variable. I assume that does not need specific instructions.\r\n\r\nVerify:\r\n------\r\nTo test the installation:\r\n\r\n1) Open a **new** command prompt (to pick up the PATH changes), and navigate to the javacc installation directory (for me: `E:\\javacc\\javacc-7.0.5`).\r\n\r\n2) Execute the following command:\r\n```\r\njavacc\r\n```\r\nThis should give you a screenful of output, starting with:\r\n```\r\nE:\\javacc\\javacc-7.0.5&gt;java -cp target/javacc.jar javacc\r\nJava Compiler Compiler Version 7.0.5 (Parser Generator)\r\n\r\nUsage:\r\n    javacc option-settings inputfile\r\n```\r\n\r\nSimilarly, you should be able to run the `jjdoc` and `jjtree` commands.\r\n\r\n---\r\n\r\n**Update**\r\n\r\nThe above steps were, indeed, unnecessarily complicated - as noted in comments. I have made some simplifications (used with v7.0.10). Those are shown above.\r\n\r\nThe objective when using the JavaCC zip file is to be able to execute each JavaCC command (e.g. `javacc`) on the command line directly.\r\n\r\nYou can run JavaCC commands using only the JAR file, as follows:\r\n\r\n    java -cp javacc.jar javacc\r\n\r\nUsing this approach, you will not have access to `javacc` (or the other commands) directly on the command line: they will not be on your `PATH`.\r\n\r\n\r\n  [1]: https://javacc.github.io/javacc/#getting-started","title":"How to setup Javacc in windows 10","body":"<p><em><strong>Update</strong>: I have made some changes to the steps, and provided some notes about those changes at the end.</em></p>\n<hr />\n<p>I know the OP switched to using version 6, but here are the instructions for version 7:</p>\n<p>(Version 7.0.5, to be precise.)</p>\n<h2>Set-Up:</h2>\n<ol>\n<li><p>Go to the &quot;Getting Started&quot; page <a href=\"https://javacc.github.io/javacc/#getting-started\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>Download the zip file from the &quot;Source(zip)&quot; link.</p>\n</li>\n<li><p>Unzip that into a directory of your choosing. I chose a new empty directory  <code>E:\\javacc</code>. That ended up giving me everything in <code>E:\\javacc\\javacc-7.0.5</code>.</p>\n</li>\n<li><p>Create a new <code>target</code> directory. For me, that was <code>E:\\javacc\\javacc-7.0.5\\target</code>.</p>\n</li>\n<li><p><em>NO NEED TO DO THIS</em>: Download the jar file from the &quot;Getting Started&quot; page, using the &quot;Binaries&quot; link. That gives you a file <code>javacc-7.0.5.jar</code>.</p>\n</li>\n<li><p>Locate the <code>javacc.jar</code> file in the <code>bootstrap</code> directory. Copy that file to the new <code>target</code> directory.</p>\n</li>\n<li><p>Add the <code>scripts</code> directory (for me: <code>E:\\javacc\\javacc-7.0.5\\scripts</code>) to your <code>PATH</code> environment variable. I assume that does not need specific instructions.</p>\n</li>\n</ol>\n<h2>Verify:</h2>\n<p>To test the installation:</p>\n<ol>\n<li><p>Open a <strong>new</strong> command prompt (to pick up the PATH changes), and navigate to the javacc installation directory (for me: <code>E:\\javacc\\javacc-7.0.5</code>).</p>\n</li>\n<li><p>Execute the following command:</p>\n</li>\n</ol>\n<pre><code>javacc\n</code></pre>\n<p>This should give you a screenful of output, starting with:</p>\n<pre><code>E:\\javacc\\javacc-7.0.5&gt;java -cp target/javacc.jar javacc\nJava Compiler Compiler Version 7.0.5 (Parser Generator)\n\nUsage:\n    javacc option-settings inputfile\n</code></pre>\n<p>Similarly, you should be able to run the <code>jjdoc</code> and <code>jjtree</code> commands.</p>\n<hr />\n<p><strong>Update</strong></p>\n<p>The above steps were, indeed, unnecessarily complicated - as noted in comments. I have made some simplifications (used with v7.0.10). Those are shown above.</p>\n<p>The objective when using the JavaCC zip file is to be able to execute each JavaCC command (e.g. <code>javacc</code>) on the command line directly.</p>\n<p>You can run JavaCC commands using only the JAR file, as follows:</p>\n<pre><code>java -cp javacc.jar javacc\n</code></pre>\n<p>Using this approach, you will not have access to <code>javacc</code> (or the other commands) directly on the command line: they will not be on your <code>PATH</code>.</p>\n"},{"tags":[],"owner":{"account_id":20809353,"reputation":1,"user_id":15283654,"display_name":"Juan Ram&#237;rez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614263023,"creation_date":1614263023,"answer_id":66370375,"question_id":60589049,"body_markdown":"If you are using Eclipse as your IDE, you can install JavaCC from the marketplace. Just go to `help`, then click on `Eclipse Marketplace` and when it loads just type &quot;JavaCC&quot; on the search bar and install the plugin. I&#39;m not sure if it&#39;s the latest version, but it works well and it&#39;s simpler to install.\r\n\r\n","title":"How to setup Javacc in windows 10","body":"<p>If you are using Eclipse as your IDE, you can install JavaCC from the marketplace. Just go to <code>help</code>, then click on <code>Eclipse Marketplace</code> and when it loads just type &quot;JavaCC&quot; on the search bar and install the plugin. I'm not sure if it's the latest version, but it works well and it's simpler to install.</p>\n"}],"owner":{"account_id":15591339,"reputation":131,"user_id":11248288,"display_name":"cha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5248,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1651500847,"answer_count":3,"score":4,"last_activity_date":1651487663,"creation_date":1583681519,"question_id":60589049,"body_markdown":"How do I install javacc in Windows 10?\r\n\r\nI visited https://javacc.github.io/javacc/, but there&#39;s no clear instruction to set it up on Windows. \r\n","title":"How to setup Javacc in windows 10","body":"<p>How do I install javacc in Windows 10?</p>\n<p>I visited <a href=\"https://javacc.github.io/javacc/\" rel=\"nofollow noreferrer\">https://javacc.github.io/javacc/</a>, but there's no clear instruction to set it up on Windows.</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651486500,"creation_date":1651485167,"answer_id":72085040,"question_id":72084888,"body_markdown":"Here is an example using a java stream ,\r\n\r\n  \r\n\r\n     public static void main(String[] args) throws Exception {\r\n    \r\n    \t\tList&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11));\r\n    \t\tint batchSize = 5;\r\n    \t\tAtomicInteger ai = new AtomicInteger();\r\n    \r\n    \t\tCollection&lt;List&lt;Integer&gt;&gt; chunkedOrders = list.stream()\r\n    \t\t\t\t.collect(Collectors.groupingBy(item -&gt; ai.getAndIncrement() / batchSize)).values();\r\n    \r\n    \t\tSystem.out.println(&quot;Your innerlist = &quot; + chunkedOrders);\r\n    \r\n    \t\tchunkedOrders.forEach(chunk -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Processing&quot; + &quot; &quot; + chunk.size() + &quot; &quot; + &quot; data, sublist = &quot; + chunk);\r\n    \r\n    \t\t});\r\n    \r\n    \t}\r\n\r\n**Output:**\r\n\r\n  \r\n\r\n    Your innerlist = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10], [11]]\r\n    Processing 5  data, sublist = [1, 2, 3, 4, 5]\r\n    Processing 5  data, sublist = [6, 7, 8, 9, 10]\r\n    Processing 1  data, sublist = [11]","title":"How to convert List&lt;Integer&gt; to List&lt;List&lt;Integer&gt;&gt; using Java? Fixing the size of inner list","body":"<p>Here is an example using a java stream ,</p>\n<pre><code> public static void main(String[] args) throws Exception {\n\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11));\n        int batchSize = 5;\n        AtomicInteger ai = new AtomicInteger();\n\n        Collection&lt;List&lt;Integer&gt;&gt; chunkedOrders = list.stream()\n                .collect(Collectors.groupingBy(item -&gt; ai.getAndIncrement() / batchSize)).values();\n\n        System.out.println(&quot;Your innerlist = &quot; + chunkedOrders);\n\n        chunkedOrders.forEach(chunk -&gt; {\n            System.out.println(&quot;Processing&quot; + &quot; &quot; + chunk.size() + &quot; &quot; + &quot; data, sublist = &quot; + chunk);\n\n        });\n\n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Your innerlist = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10], [11]]\nProcessing 5  data, sublist = [1, 2, 3, 4, 5]\nProcessing 5  data, sublist = [6, 7, 8, 9, 10]\nProcessing 1  data, sublist = [11]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20653901,"reputation":195,"user_id":15163517,"display_name":"Federico Galimberti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651487549,"creation_date":1651487549,"answer_id":72085464,"question_id":72084888,"body_markdown":"    public class Solution {\r\n    \r\n        public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; breaks(List&lt;T&gt; tList, int length) {\r\n            if (length &lt;= 0)\r\n                throw new IllegalArgumentException(\r\n                        &quot;The chosen length is less than or equal to zero: &quot; + length\r\n                );\r\n            int size = tList.size();\r\n            if (size &lt;= 0)\r\n                return new ArrayList&lt;&gt;();\r\n            int fullChunks = (size - 1) / length;\r\n            return IntStream.range(0, fullChunks + 1).mapToObj(\r\n                    n -&gt; tList.subList(n * length, n == fullChunks ? size : (n + 1) * length)\r\n            ).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            // Original list\r\n            List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14);\r\n            // Printing of the original list\r\n            System.out.println(list1);\r\n            // Broken list\r\n            List&lt;List&lt;Integer&gt;&gt; list2 = breaks(list1,5);\r\n            // Print of the broken list\r\n            System.out.println(list2);\r\n    \r\n        }\r\n    \r\n    }","title":"How to convert List&lt;Integer&gt; to List&lt;List&lt;Integer&gt;&gt; using Java? Fixing the size of inner list","body":"<pre><code>public class Solution {\n\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; breaks(List&lt;T&gt; tList, int length) {\n        if (length &lt;= 0)\n            throw new IllegalArgumentException(\n                    &quot;The chosen length is less than or equal to zero: &quot; + length\n            );\n        int size = tList.size();\n        if (size &lt;= 0)\n            return new ArrayList&lt;&gt;();\n        int fullChunks = (size - 1) / length;\n        return IntStream.range(0, fullChunks + 1).mapToObj(\n                n -&gt; tList.subList(n * length, n == fullChunks ? size : (n + 1) * length)\n        ).collect(Collectors.toList());\n    }\n\n    public static void main(String args[]) {\n\n        // Original list\n        List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14);\n        // Printing of the original list\n        System.out.println(list1);\n        // Broken list\n        List&lt;List&lt;Integer&gt;&gt; list2 = breaks(list1,5);\n        // Print of the broken list\n        System.out.println(list2);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17954107,"reputation":565,"user_id":13046620,"display_name":"krishnkant jaiswal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651491746,"accepted_answer_id":72085040,"answer_count":2,"score":0,"last_activity_date":1651487549,"creation_date":1651484405,"question_id":72084888,"body_markdown":"I have list of number which I want to process in batches.\r\n```\r\nexample 1:\r\n\r\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9] //(List of number)\r\ninput2 = 5 //(Batch size)\r\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9]]\r\n\r\nexample 2:\r\n\r\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]//(List of number) \r\ninput2 = 5//(Batch size)\r\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]]\r\n```","title":"How to convert List&lt;Integer&gt; to List&lt;List&lt;Integer&gt;&gt; using Java? Fixing the size of inner list","body":"<p>I have list of number which I want to process in batches.</p>\n<pre><code>example 1:\n\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9] //(List of number)\ninput2 = 5 //(Batch size)\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9]]\n\nexample 2:\n\ninput1 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]//(List of number) \ninput2 = 5//(Batch size)\noutput = [[1, 2, 3, 4, 5], [6, 7, 8, 9, 10]]\n</code></pre>\n"},{"tags":["java","arrays","loops","for-loop"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1651423709,"post_id":72078627,"comment_id":127357042,"body_markdown":"Variant of &quot;change making problem.&quot; Google that for ideas. Stack Overflow isn&#39;t really the place to have someone hand-hold you through an assignment. Post here when you have specific technical problems.","body":"Variant of &quot;change making problem.&quot; Google that for ideas. Stack Overflow isn&#39;t really the place to have someone hand-hold you through an assignment. Post here when you have specific technical problems."}],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651426271,"creation_date":1651426271,"answer_id":72078990,"question_id":72078627,"body_markdown":"This would work : \r\n\r\n    \r\n\t\r\n\t\r\n     int x = 101;\r\n    StringBuilder builder= new StringBuilder();\r\n    \twhile (x&gt;1000) {\r\n    \t\tbuilder.append(&quot;X&quot;);\r\n    \t\tx-=1000;\r\n    \t}\r\n    \twhile (x&lt;1000&amp;&amp;x&gt;100) {\r\n    \t\tbuilder.append(&quot;Y&quot;);\r\n    \t\tx-=100;\r\n    \t}\r\n    \twhile (x&lt;100&amp;&amp;x&gt;10) {\r\n    \t\tbuilder.append(&quot;Z&quot;);\r\n    \t\tx-=10;\r\n    \t}\r\n    \twhile (x&lt;10 &amp;&amp; x!=0) {\r\n    \t\tbuilder.append(&quot;*&quot;);\r\n    \t\tx-=1;\r\n    \t}\r\n    \t    System.out.println(builder.toString());\r\n\r\n\r\nthe point is as long the number of stars is in an interval append a character to the string and then reduce the number.\r\n","title":"How to replace an integer with a character, arrays, loops, Java","body":"<p>This would work :</p>\n<pre><code> int x = 101;\nStringBuilder builder= new StringBuilder();\n    while (x&gt;1000) {\n        builder.append(&quot;X&quot;);\n        x-=1000;\n    }\n    while (x&lt;1000&amp;&amp;x&gt;100) {\n        builder.append(&quot;Y&quot;);\n        x-=100;\n    }\n    while (x&lt;100&amp;&amp;x&gt;10) {\n        builder.append(&quot;Z&quot;);\n        x-=10;\n    }\n    while (x&lt;10 &amp;&amp; x!=0) {\n        builder.append(&quot;*&quot;);\n        x-=1;\n    }\n        System.out.println(builder.toString());\n</code></pre>\n<p>the point is as long the number of stars is in an interval append a character to the string and then reduce the number.</p>\n"}],"owner":{"account_id":25014379,"reputation":51,"user_id":18873592,"display_name":"Orest Dymarchuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72078990,"answer_count":1,"score":-2,"last_activity_date":1651487196,"creation_date":1651423159,"question_id":72078627,"body_markdown":"I&#39;m new to Java, currently, I&#39;m learning arrays and loops. I have a task, and I don&#39;t know what to do, I would use some help.\r\n\r\n&gt; Write a Stars class.  \r\n&gt; In this class, declare a count field of type int - the number of\r\n&gt; stars.\r\n&gt; \r\n&gt; Redefine the toString method in the Stars class. It should return the\r\n&gt; number of stars in the format accepted by the Intergalactic Guild of\r\n&gt; Spacewalkers.\r\n&gt;\r\n&gt; 1000 stars - X character,  \r\n&gt; 100 stars - Y character,  \r\n&gt; 10 stars - Z character,  \r\n&gt; 1 star - *. \r\n&gt;\r\n&gt; A few examples:\r\n&gt;\r\n&gt; 1001 stars - X*,  \r\n&gt; 576 stars - YYYYYZZZZZZZ******,  \r\n&gt; The minimum number of characters must be used. \r\n&gt; That is, for example, 101 stars must be represented as Y*, but not as\r\n&gt; ZZZZZZZZZZ*.\r\n\r\nI made a template, but unfortunately, I don&#39;t know how to make all the calculations.\r\n\r\n    public class Stars {\r\n    \r\n    \tint count;\r\n    \r\n    \tpublic int getCount() {\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic void setCount(int count) {\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        public String toString() {\t\r\n    \t\treturn Integer.toString(count);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tStars stars = new Stars();\r\n    \t\tstars.setCount(2253); // ZZZ***\r\n    \t\tSystem.out.println(stars);\r\n    \t\tSystem.out.println(stars.getCount());\r\n    \t}\r\n    }\r\n\r\nI had an idea to create an array of numbers 1000, 100, 10, 1, then count how many of them are used. \r\n\r\nUnfortunately, I have no idea how to turn 1000 into X I have no idea, whether 2 in **.\r\n\r\nPlease check my draft, maybe you can give me some advice or hint. \r\n\r\n    public class Test {\r\n    \r\n        public static void stars(int amount)\r\n        {\r\n            int[] number = new int[]{ 1000, 100, 10, 1 };\r\n            int[] numberCounter = new int[4];\r\n          \r\n            for (int i = 0; i &lt; 4; i++) {\r\n                if (amount &gt;= number[i]) {\r\n                \tnumberCounter[i] = amount / number[i];\r\n                    amount = amount - numberCounter[i] * number[i];\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                if (numberCounter[i] != 0) {\r\n                    System.out.print(numberCounter[i]);\r\n                }\r\n            }\r\n        }\r\n         \r\n        public static void main(String argc[]){\r\n            int amount = 2253; // should be : XXYYZZZZZ***\r\n            stars(amount);\r\n        }\r\n    }\r\n    // Or maybe I can use this formula, thank you\r\n    //int units = count % 10;\r\n    //int tens = (count / 10) % 10;\r\n    //int hundreds = (count / 100) % 10;\r\n    //int thousands = (count / 100) % 10;","title":"How to replace an integer with a character, arrays, loops, Java","body":"<p>I'm new to Java, currently, I'm learning arrays and loops. I have a task, and I don't know what to do, I would use some help.</p>\n<blockquote>\n<p>Write a Stars class.<br />\nIn this class, declare a count field of type int - the number of\nstars.</p>\n<p>Redefine the toString method in the Stars class. It should return the\nnumber of stars in the format accepted by the Intergalactic Guild of\nSpacewalkers.</p>\n<p>1000 stars - X character,<br />\n100 stars - Y character,<br />\n10 stars - Z character,<br />\n1 star - *.</p>\n<p>A few examples:</p>\n<p>1001 stars - X*,<br />\n576 stars - YYYYYZZZZZZZ******,<br />\nThe minimum number of characters must be used.\nThat is, for example, 101 stars must be represented as Y*, but not as\nZZZZZZZZZZ*.</p>\n</blockquote>\n<p>I made a template, but unfortunately, I don't know how to make all the calculations.</p>\n<pre><code>public class Stars {\n\n    int count;\n\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n    \n    @Override\n    public String toString() {  \n        return Integer.toString(count);\n    }\n    \n    public static void main(String[] args) {\n        Stars stars = new Stars();\n        stars.setCount(2253); // ZZZ***\n        System.out.println(stars);\n        System.out.println(stars.getCount());\n    }\n}\n</code></pre>\n<p>I had an idea to create an array of numbers 1000, 100, 10, 1, then count how many of them are used.</p>\n<p>Unfortunately, I have no idea how to turn 1000 into X I have no idea, whether 2 in **.</p>\n<p>Please check my draft, maybe you can give me some advice or hint.</p>\n<pre><code>public class Test {\n\n    public static void stars(int amount)\n    {\n        int[] number = new int[]{ 1000, 100, 10, 1 };\n        int[] numberCounter = new int[4];\n      \n        for (int i = 0; i &lt; 4; i++) {\n            if (amount &gt;= number[i]) {\n                numberCounter[i] = amount / number[i];\n                amount = amount - numberCounter[i] * number[i];\n            }\n        }\n        for (int i = 0; i &lt; 4; i++) {\n            if (numberCounter[i] != 0) {\n                System.out.print(numberCounter[i]);\n            }\n        }\n    }\n     \n    public static void main(String argc[]){\n        int amount = 2253; // should be : XXYYZZZZZ***\n        stars(amount);\n    }\n}\n// Or maybe I can use this formula, thank you\n//int units = count % 10;\n//int tens = (count / 10) % 10;\n//int hundreds = (count / 100) % 10;\n//int thousands = (count / 100) % 10;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1649525426,"post_id":71810226,"comment_id":126899980,"body_markdown":"and when you enable spring security debug logs they show you what reason? also, spring security has a full JWT implementation, so please consult the spring security documentation on how to actually implement the handling of JWTs as there is already a built in JWT filter and much more. I dont really see the point of using a security framework if you do not intend to use it at all with all the custom self written code. Custom security is in general bad practice.","body":"and when you enable spring security debug logs they show you what reason? also, spring security has a full JWT implementation, so please consult the spring security documentation on how to actually implement the handling of JWTs as there is already a built in JWT filter and much more. I dont really see the point of using a security framework if you do not intend to use it at all with all the custom self written code. Custom security is in general bad practice."},{"owner":{"account_id":15216309,"reputation":575,"user_id":10979593,"display_name":"Padi kodwo Amu"},"score":0,"creation_date":1649530293,"post_id":71810226,"comment_id":126900980,"body_markdown":"add this logging.level.root=DEBUG to your config and run the code again  ... this will let us know what&#39;s not configured properly and then I can help.","body":"add this logging.level.root=DEBUG to your config and run the code again  ... this will let us know what&#39;s not configured properly and then I can help."},{"owner":{"account_id":21476949,"reputation":31,"user_id":15825039,"display_name":"Elwafi Elmehdi"},"score":0,"creation_date":1649550896,"post_id":71810226,"comment_id":126904175,"body_markdown":"@Padikodwo the log is so huge i noticed a an eception keeps repeating","body":"@Padikodwo the log is so huge i noticed a an eception keeps repeating"},{"owner":{"account_id":21476949,"reputation":31,"user_id":15825039,"display_name":"Elwafi Elmehdi"},"score":0,"creation_date":1649550921,"post_id":71810226,"comment_id":126904180,"body_markdown":"javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBean(DefaultMBeanServerInterceptor.java:1083) ~[na:na]\n\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:637) ~[na:na]\n\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.get","body":"javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerIn&zwnj;&#8203;terceptor.getMBean(D&zwnj;&#8203;efaultMBeanServerInt&zwnj;&#8203;erceptor.java:1083) ~[na:na] \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerIn&zwnj;&#8203;terceptor.getAttribu&zwnj;&#8203;te(DefaultMBeanServe&zwnj;&#8203;rInterceptor.java:63&zwnj;&#8203;7) ~[na:na] \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.get"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651487100,"creation_date":1649616098,"answer_id":71819541,"question_id":71810226,"body_markdown":"Can you debug the application? The error you mentioned  in the comments `javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication` is IDE-related, there is stackoverflow post about it, so this is not the issue.\r\n\r\nTry to debug code and check:\r\n1. If you, actually, get to `JWTAuthorizationFilter`\r\n2. If your user is identified as admin user here: `List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);`\r\n3. Check if you pass a correct and the newest token to Postman in `Authorization` header; check url (in the screenshot you have provided url is incorrect, it is `useErnames`)\r\n4. What is the value of `SecurityConsts.TOKEN_PREFIX`? It should include space, i.e. &#39;Bearer &#39;\r\n\r\n**UPDATE**\r\nBased on the comment below regarding my 2nd question (although I meant to check the values during runtime in debug mode, but anyway..)\r\n\r\n    String[] ADMIN_AUTHORITIES = {&quot;ADMIN_ROLE&quot;};\r\n\r\nIn the security config you are looking for `hasAnyAuthority(&quot;ROLE_ADMIN&quot;)`, but assigned your admin with `&quot;ADMIN_ROLE&quot;`. Wording is different: ROLE_ADMIN vs ADMIN_ROLE.\r\nWhen you update one of them, be aware that Spring adds word &quot;ROLE&quot; to the authority name by itself in some cases. So try with and without this prefix.","title":"Getting 401 Unauthorized Even when the user is authenticated (Spring Security)","body":"<p>Can you debug the application? The error you mentioned  in the comments <code>javax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication</code> is IDE-related, there is stackoverflow post about it, so this is not the issue.</p>\n<p>Try to debug code and check:</p>\n<ol>\n<li>If you, actually, get to <code>JWTAuthorizationFilter</code></li>\n<li>If your user is identified as admin user here: <code>List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);</code></li>\n<li>Check if you pass a correct and the newest token to Postman in <code>Authorization</code> header; check url (in the screenshot you have provided url is incorrect, it is <code>useErnames</code>)</li>\n<li>What is the value of <code>SecurityConsts.TOKEN_PREFIX</code>? It should include space, i.e. 'Bearer '</li>\n</ol>\n<p><strong>UPDATE</strong>\nBased on the comment below regarding my 2nd question (although I meant to check the values during runtime in debug mode, but anyway..)</p>\n<pre><code>String[] ADMIN_AUTHORITIES = {&quot;ADMIN_ROLE&quot;};\n</code></pre>\n<p>In the security config you are looking for <code>hasAnyAuthority(&quot;ROLE_ADMIN&quot;)</code>, but assigned your admin with <code>&quot;ADMIN_ROLE&quot;</code>. Wording is different: ROLE_ADMIN vs ADMIN_ROLE.\nWhen you update one of them, be aware that Spring adds word &quot;ROLE&quot; to the authority name by itself in some cases. So try with and without this prefix.</p>\n"}],"owner":{"account_id":21476949,"reputation":31,"user_id":15825039,"display_name":"Elwafi Elmehdi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5674,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71819541,"answer_count":1,"score":1,"last_activity_date":1651487100,"creation_date":1649524287,"question_id":71810226,"body_markdown":"I am working on a simple project with 2 defined roles Admin and User,The admin role has authority to view users by thier usernames but when I login as an admin and i hit the ```/admin/users/usernames/{username}```\r\nI get 401 Unauthenticated you can see the request here [postman request][1]\r\n\r\n**WHATS THE PROBLEM WITH THE FOLLOWING IMPLEMENTATION?**\r\n  \r\n**The login Method **\r\n```java\r\n    @Override\r\n    public ResponseEntity&lt;User&gt; login(String username, String password) {\r\n        authenticate(username,password);\r\n        User loginUser = findUserByUsername(username);\r\n        UserPrinciple userPrinciple = new UserPrinciple(loginUser);\r\n        HttpHeaders tokenHeader = getJwtToken(userPrinciple);\r\n        return new ResponseEntity&lt;&gt;(loginUser,tokenHeader, HttpStatus.OK);\r\n    }\r\n    private void authenticate(String username, String password) {\r\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username,password));\r\n    }\r\n\r\n    private HttpHeaders getJwtToken(UserPrinciple userPrinciple) {\r\n        String token= jwtTokenProvider.generateJWTToken(userPrinciple);\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.add(SecurityConsts.JWT_TOKEN_HEADER,token);\r\n        return httpHeaders;\r\n    }\r\n```   \r\n**The User ReST Controlle**\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/admin/users&quot;)\r\npublic class UserController {\r\n    private UserService userService;\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;User&gt; getUsers() {\r\n        return userService.getUsers();\r\n    }\r\n\r\n    @GetMapping(&quot;/emails/{email}&quot;)\r\n    public User findUserByEmail(@PathVariable String email) {\r\n        return userService.findUserByEmail(email);\r\n    }\r\n\r\n    @GetMapping(&quot;/usernames/{username}&quot;)\r\n    public User findUserByUsername(@PathVariable String username) {\r\n        return userService.findUserByUsername(username);\r\n    }\r\n\r\n    @JsonView(BodyView.BasicUser.class)\r\n    @PostMapping(&quot;/register&quot;)\r\n    public User addUser(@RequestBody User user) throws UsernameExistsException {\r\n        return userService.addUser(user);\r\n    }\r\n    @JsonView(BodyView.BasicUser.class)\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;User&gt; login(@RequestBody User user) {\r\n        return userService.login(user.getUsername(), user.getPassword());\r\n    }\r\n}\r\n```\r\n\r\n**POM.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;FM6-App&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;FM6-App&lt;/name&gt;\r\n\t&lt;description&gt;FM6-App&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.19.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n**The Web Security Configurer Adapter**  \r\nThe public URLS:  \r\n```java\r\npublic static final String[] PUBLIC_URLS ={&quot;/users/admin/login/**&quot;,&quot;/admin/users/register/**&quot;,&quot;/demandes/**&quot;,&quot;/criteres/**&quot;};\r\n```  \r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@ComponentScan\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private JWTAuthorizationFilter jwtAuthorizationFilter;\r\n    @Autowired\r\n    private JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    @Autowired\r\n    private JWTAccessDenielHandler jwtAccessDenielHandler;\r\n    @Autowired\r\n    private UserService userService;\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .cors()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/admin/users/login/**&quot;).permitAll()\r\n                .antMatchers(SecurityConsts.PUBLIC_URLS).permitAll()\r\n                .antMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\r\n                .antMatchers(&quot;/utilisateur/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)\r\n\r\n//                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().accessDeniedHandler(jwtAccessDenielHandler)\r\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\r\n    }\r\n\r\n    @Bean(name = &quot;authenticationManager&quot;)\r\n    @Override\r\n    public  AuthenticationManager authenticationManagerBean() throws Exception{\r\n        return super.authenticationManagerBean();\r\n    }\r\n```\r\n**JWT Authorization Filter**\r\n```java\r\n@Component\r\npublic class JWTAuthorizationFilter extends OncePerRequestFilter {\r\n    @Autowired\r\n    private JWTTokenProvider jwtTokenProvider;\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        if(request.getMethod().equalsIgnoreCase(SecurityConsts.OPTION_HTTP_METHOD)){\r\n            response.setStatus(SecurityConsts.OK.value());\r\n        }else if(request.getRequestURI().equals(&quot;/users/login&quot;)){\r\n            filterChain.doFilter(request,response);\r\n        }\r\n        else {\r\n            String autorizationHeader =  request.getHeader(HttpHeaders.AUTHORIZATION);\r\n            if(autorizationHeader == null || !autorizationHeader.startsWith(SecurityConsts.TOKEN_PREFIX)){\r\n                filterChain.doFilter(request,response);\r\n                return;\r\n            }\r\n            String token = autorizationHeader.substring(SecurityConsts.TOKEN_PREFIX.length());\r\n            String username = jwtTokenProvider.getSubject(token);\r\n            if(jwtTokenProvider.isTokenValid(username,token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n\r\n                List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);\r\n                Authentication authentication = jwtTokenProvider.getAuthentication(username,authorities,request);\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }else {\r\n                SecurityContextHolder.clearContext();\r\n            }\r\n\r\n        }\r\n        filterChain.doFilter(request,response);\r\n    }\r\n}\r\n```\r\n\r\n**The Cross-Origin Configuration class**\r\n```java\r\n@Configuration\r\npublic class CorsConfig {\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\r\n                        .allowedHeaders(&quot;*&quot;)\r\n                        .allowedOrigins(&quot;*&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GKjkw.png","title":"Getting 401 Unauthorized Even when the user is authenticated (Spring Security)","body":"<p>I am working on a simple project with 2 defined roles Admin and User,The admin role has authority to view users by thier usernames but when I login as an admin and i hit the <code>/admin/users/usernames/{username}</code>\nI get 401 Unauthenticated you can see the request here <a href=\"https://i.stack.imgur.com/GKjkw.png\" rel=\"nofollow noreferrer\">postman request</a></p>\n<p><strong>WHATS THE PROBLEM WITH THE FOLLOWING IMPLEMENTATION?</strong></p>\n<p>**The login Method **</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public ResponseEntity&lt;User&gt; login(String username, String password) {\n        authenticate(username,password);\n        User loginUser = findUserByUsername(username);\n        UserPrinciple userPrinciple = new UserPrinciple(loginUser);\n        HttpHeaders tokenHeader = getJwtToken(userPrinciple);\n        return new ResponseEntity&lt;&gt;(loginUser,tokenHeader, HttpStatus.OK);\n    }\n    private void authenticate(String username, String password) {\n        authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username,password));\n    }\n\n    private HttpHeaders getJwtToken(UserPrinciple userPrinciple) {\n        String token= jwtTokenProvider.generateJWTToken(userPrinciple);\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.add(SecurityConsts.JWT_TOKEN_HEADER,token);\n        return httpHeaders;\n    }\n</code></pre>\n<p><strong>The User ReST Controlle</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/admin/users&quot;)\npublic class UserController {\n    private UserService userService;\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public List&lt;User&gt; getUsers() {\n        return userService.getUsers();\n    }\n\n    @GetMapping(&quot;/emails/{email}&quot;)\n    public User findUserByEmail(@PathVariable String email) {\n        return userService.findUserByEmail(email);\n    }\n\n    @GetMapping(&quot;/usernames/{username}&quot;)\n    public User findUserByUsername(@PathVariable String username) {\n        return userService.findUserByUsername(username);\n    }\n\n    @JsonView(BodyView.BasicUser.class)\n    @PostMapping(&quot;/register&quot;)\n    public User addUser(@RequestBody User user) throws UsernameExistsException {\n        return userService.addUser(user);\n    }\n    @JsonView(BodyView.BasicUser.class)\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;User&gt; login(@RequestBody User user) {\n        return userService.login(user.getUsername(), user.getPassword());\n    }\n}\n</code></pre>\n<p><strong>POM.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;FM6-App&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;FM6-App&lt;/name&gt;\n    &lt;description&gt;FM6-App&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>The Web Security Configurer Adapter</strong><br />\nThe public URLS:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String[] PUBLIC_URLS ={&quot;/users/admin/login/**&quot;,&quot;/admin/users/register/**&quot;,&quot;/demandes/**&quot;,&quot;/criteres/**&quot;};\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@ComponentScan\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private JWTAuthorizationFilter jwtAuthorizationFilter;\n    @Autowired\n    private JWTAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired\n    private JWTAccessDenielHandler jwtAccessDenielHandler;\n    @Autowired\n    private UserService userService;\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .cors()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/admin/users/login/**&quot;).permitAll()\n                .antMatchers(SecurityConsts.PUBLIC_URLS).permitAll()\n                .antMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\n                .antMatchers(&quot;/utilisateur/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;)\n\n//                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling().accessDeniedHandler(jwtAccessDenielHandler)\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService).passwordEncoder(passwordEncoder);\n    }\n\n    @Bean(name = &quot;authenticationManager&quot;)\n    @Override\n    public  AuthenticationManager authenticationManagerBean() throws Exception{\n        return super.authenticationManagerBean();\n    }\n</code></pre>\n<p><strong>JWT Authorization Filter</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JWTAuthorizationFilter extends OncePerRequestFilter {\n    @Autowired\n    private JWTTokenProvider jwtTokenProvider;\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        if(request.getMethod().equalsIgnoreCase(SecurityConsts.OPTION_HTTP_METHOD)){\n            response.setStatus(SecurityConsts.OK.value());\n        }else if(request.getRequestURI().equals(&quot;/users/login&quot;)){\n            filterChain.doFilter(request,response);\n        }\n        else {\n            String autorizationHeader =  request.getHeader(HttpHeaders.AUTHORIZATION);\n            if(autorizationHeader == null || !autorizationHeader.startsWith(SecurityConsts.TOKEN_PREFIX)){\n                filterChain.doFilter(request,response);\n                return;\n            }\n            String token = autorizationHeader.substring(SecurityConsts.TOKEN_PREFIX.length());\n            String username = jwtTokenProvider.getSubject(token);\n            if(jwtTokenProvider.isTokenValid(username,token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n\n                List&lt;GrantedAuthority&gt; authorities = jwtTokenProvider.getAuthorities(token);\n                Authentication authentication = jwtTokenProvider.getAuthentication(username,authorities,request);\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }else {\n                SecurityContextHolder.clearContext();\n            }\n\n        }\n        filterChain.doFilter(request,response);\n    }\n}\n</code></pre>\n<p><strong>The Cross-Origin Configuration class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CorsConfig {\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\n                        .allowedHeaders(&quot;*&quot;)\n                        .allowedOrigins(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1447377115,"post_id":33684338,"comment_id":55141456,"body_markdown":"**_please_** format your code. This is illegible.","body":"<b><i>please</i></b> format your code. This is illegible."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1447383654,"post_id":33684338,"comment_id":55143091,"body_markdown":"why did you do : `if sum &gt; 10 then right--, if sum &lt; 10 then left++` ? your right and left is the ***value*** not the ***index*** to array.  Even they are index, your array is not sorted anyway, it make no sense doing such logic","body":"why did you do : <code>if sum &gt; 10 then right--, if sum &lt; 10 then left++</code> ? your right and left is the <b><i>value</i></b> not the <b><i>index</i></b> to array.  Even they are index, your array is not sorted anyway, it make no sense doing such logic"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1447383834,"post_id":33684338,"comment_id":55143147,"body_markdown":"what are you trying to &quot;improve&quot; actually?...","body":"what are you trying to &quot;improve&quot; actually?..."}],"answers":[{"tags":[],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447384746,"creation_date":1447377379,"answer_id":33684382,"question_id":33684338,"body_markdown":"You need to capture the values as well as the indexes:\r\n\r\n\t    int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\r\n\r\n\t    Arrays.sort(arrayOfIntegers);\r\n\t    System.out.println(Arrays.toString(arrayOfIntegers));\r\n\r\n\t    int left = 0;\r\n\t    int right = arrayOfIntegers.length - 1;\r\n\r\n\t    while (left &lt; right) \r\n\t    { \r\n\t\t    int leftVal = arrayOfIntegers[left]; \r\n\t\t    int rightVal = (arrayOfIntegers[right]);\r\n\t        int sum = leftVal + rightVal;\r\n\r\n\t        if (sum == 10) //check to see if equal to 10\r\n\t        {\r\n\t            System.out.println(arrayOfIntegers[left] + &quot;,&quot; + arrayOfIntegers[right]);\r\n\t            right --;\r\n\t            left++;\r\n\t        }\r\n\t        if (sum &gt; 10) // if sum is more than 10, move to lesser number\r\n\t        {\r\n\t            right --;\r\n\t        }\r\n\t        if (sum &lt; 10) // if sum is less than 10, move to greater number\r\n\t        {\r\n\t            left++;\r\n\t        }\r\n\t    } // end of while\r\n\r\noutput:\r\n\r\n    [0, 2, 3, 4, 5, 6, 7, 10]\r\n    0,10\r\n    3,7\r\n    4,6\r\n","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p>You need to capture the values as well as the indexes:</p>\n\n<pre><code>    int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\n\n    Arrays.sort(arrayOfIntegers);\n    System.out.println(Arrays.toString(arrayOfIntegers));\n\n    int left = 0;\n    int right = arrayOfIntegers.length - 1;\n\n    while (left &lt; right) \n    { \n        int leftVal = arrayOfIntegers[left]; \n        int rightVal = (arrayOfIntegers[right]);\n        int sum = leftVal + rightVal;\n\n        if (sum == 10) //check to see if equal to 10\n        {\n            System.out.println(arrayOfIntegers[left] + \",\" + arrayOfIntegers[right]);\n            right --;\n            left++;\n        }\n        if (sum &gt; 10) // if sum is more than 10, move to lesser number\n        {\n            right --;\n        }\n        if (sum &lt; 10) // if sum is less than 10, move to greater number\n        {\n            left++;\n        }\n    } // end of while\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[0, 2, 3, 4, 5, 6, 7, 10]\n0,10\n3,7\n4,6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16597057,"reputation":139,"user_id":11993683,"display_name":"lakru-one"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1613988325,"creation_date":1613988325,"answer_id":66313564,"question_id":33684338,"body_markdown":"This is sample code with javascrypt. Someone can use it\r\n\r\n     var arr = [0, 5, 4, 6, 3, 7, 2, 10]\r\n     var arr1 = arr;\r\n\r\n     for(var a=0; a&lt;arr.length;a++){\r\n      for(var b=0; b&lt;arr.length; b++){\r\n\r\n        if(arr[a]+arr[b]===10 &amp;&amp; a!==b){\r\n       \r\n          console.log(arr[a]+&quot; + &quot;+arr[b])\r\n          arr.splice(a,1);\r\n\r\n        }\r\n      }\r\n     }","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p>This is sample code with javascrypt. Someone can use it</p>\n<pre><code> var arr = [0, 5, 4, 6, 3, 7, 2, 10]\n var arr1 = arr;\n\n for(var a=0; a&lt;arr.length;a++){\n  for(var b=0; b&lt;arr.length; b++){\n\n    if(arr[a]+arr[b]===10 &amp;&amp; a!==b){\n   \n      console.log(arr[a]+&quot; + &quot;+arr[b])\n      arr.splice(a,1);\n\n    }\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11679843,"reputation":757,"user_id":8551984,"display_name":"viveksuggu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1624441826,"creation_date":1624441826,"answer_id":68097491,"question_id":33684338,"body_markdown":"**Try this code by passing the value of the sum and array in which you want to find the pair of elements equals to a given sum using one for loop**\r\n\r\n    private void pairofArrayElementsEqualstoGivenSum(int sum,Integer[] arr){\r\n        List numList = Arrays.asList(arr);\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            int num = sum - arr[i];\r\n            if (numList.contains(num)) {\r\n                System.out.println(&quot;&quot; + arr[i] + &quot; &quot; + num + &quot; = &quot;+sum);\r\n            }\r\n        }\r\n    }","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p><strong>Try this code by passing the value of the sum and array in which you want to find the pair of elements equals to a given sum using one for loop</strong></p>\n<pre><code>private void pairofArrayElementsEqualstoGivenSum(int sum,Integer[] arr){\n    List numList = Arrays.asList(arr);\n    for (int i = 0; i &lt; arr.length; i++) {\n        int num = sum - arr[i];\n        if (numList.contains(num)) {\n            System.out.println(&quot;&quot; + arr[i] + &quot; &quot; + num + &quot; = &quot;+sum);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25171954,"reputation":1,"user_id":19014669,"display_name":"Gajanan choundhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651487075,"creation_date":1651487075,"answer_id":72085379,"question_id":33684338,"body_markdown":"**`Java - Using single loop`**\r\n\r\n  \r\n\r\n    public static void findElements() {\r\n\r\n\t\tList&lt;Integer&gt; list = List.of(0, 5, 4, 6, 3, 7, 2, 10);\r\n\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\r\n\t\t\tint sum = 0;\r\n\t\t\tif (i &lt; list.size() - 1) {\r\n\r\n\t\t\t\tsum = list.get(i) + list.get(i + 1);\r\n\t\t\t\tif (sum == 10) {\r\n\t\t\t\t\tSystem.out.println(&quot;Element: &quot; + list.get(i) + &quot;,&quot; + list.get(i + 1));\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (list.get(i) == 10) {\r\n\t\t\t\t\tSystem.out.println(&quot;Element: &quot; + list.get(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p><strong><code>Java - Using single loop</code></strong></p>\n<pre><code>public static void findElements() {\n\n    List&lt;Integer&gt; list = List.of(0, 5, 4, 6, 3, 7, 2, 10);\n\n    for (int i = 0; i &lt; list.size(); i++) {\n\n        int sum = 0;\n        if (i &lt; list.size() - 1) {\n\n            sum = list.get(i) + list.get(i + 1);\n            if (sum == 10) {\n                System.out.println(&quot;Element: &quot; + list.get(i) + &quot;,&quot; + list.get(i + 1));\n            }\n\n        } else {\n            if (list.get(i) == 10) {\n                System.out.println(&quot;Element: &quot; + list.get(i));\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6066481,"reputation":47,"user_id":4736574,"accept_rate":60,"display_name":"Lou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1651487075,"creation_date":1447377058,"question_id":33684338,"body_markdown":"I want to find all the pairs of numbers from an array whose sum is equal to 10, and am trying to improve upon this bit of code here: \r\n\r\n    for (int j = 0; j &lt; arrayOfIntegers.length - 1; j++)\r\n    {\r\n        for (int k = j + 1; k &lt; arrayOfIntegers.length; k++)\r\n        {\r\n            int sum = arrayOfIntegers[j] + arrayOfIntegers[k];\r\n            if (sum == 10)\r\n                return j + &quot;,&quot; + k;\r\n        }\r\n    }\r\n\r\nHowever, I&#39;m having trouble moving through the array. Here&#39;s what I have so far: \r\n\r\n    int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\r\n\r\n    Arrays.sort(arrayOfIntegers);\r\n    System.out.println(Arrays.toString(arrayOfIntegers));\r\n    int left = arrayOfIntegers[0]; \r\n    int right = (arrayOfIntegers[arrayOfIntegers.length - 1]);\r\n\r\n    while (left &lt; right) \r\n    { \r\n        int sum = left + right;\r\n\r\n        if (sum == 10) //check to see if equal to 10\r\n        {\r\n            System.out.println(left + &quot;,&quot; + right);\r\n        }\r\n        if (sum &gt; 10) // if sum is more than 10, move to lesser number\r\n        {\r\n            right --;\r\n        }\r\n        if (sum &lt; 10) // if sum is less than 10, move to greater number\r\n        {\r\n            left++;\r\n        }\r\n    } // end of while\r\n","title":"Find elements in array whose sum is equal to 10 - Java","body":"<p>I want to find all the pairs of numbers from an array whose sum is equal to 10, and am trying to improve upon this bit of code here: </p>\n\n<pre><code>for (int j = 0; j &lt; arrayOfIntegers.length - 1; j++)\n{\n    for (int k = j + 1; k &lt; arrayOfIntegers.length; k++)\n    {\n        int sum = arrayOfIntegers[j] + arrayOfIntegers[k];\n        if (sum == 10)\n            return j + \",\" + k;\n    }\n}\n</code></pre>\n\n<p>However, I'm having trouble moving through the array. Here's what I have so far: </p>\n\n<pre><code>int[] arrayOfIntegers = {0, 5, 4, 6, 3, 7, 2, 10};\n\nArrays.sort(arrayOfIntegers);\nSystem.out.println(Arrays.toString(arrayOfIntegers));\nint left = arrayOfIntegers[0]; \nint right = (arrayOfIntegers[arrayOfIntegers.length - 1]);\n\nwhile (left &lt; right) \n{ \n    int sum = left + right;\n\n    if (sum == 10) //check to see if equal to 10\n    {\n        System.out.println(left + \",\" + right);\n    }\n    if (sum &gt; 10) // if sum is more than 10, move to lesser number\n    {\n        right --;\n    }\n    if (sum &lt; 10) // if sum is less than 10, move to greater number\n    {\n        left++;\n    }\n} // end of while\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1651482927,"post_id":72084506,"comment_id":127367099,"body_markdown":"Try using the `@Component` annotation instead of `@Configuration`. Also, how does your package structure look like?","body":"Try using the <code>@Component</code> annotation instead of <code>@Configuration</code>. Also, how does your package structure look like?"},{"owner":{"account_id":13739164,"reputation":362,"user_id":9914736,"display_name":"Ramon jansen gomez"},"score":0,"creation_date":1651482955,"post_id":72084506,"comment_id":127367114,"body_markdown":"Hello, try changing the `@Configuration` to `@Component` the commanLineRunner needs to be a bean in order to be executed","body":"Hello, try changing the <code>@Configuration</code> to <code>@Component</code> the commanLineRunner needs to be a bean in order to be executed"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1651485497,"post_id":72084506,"comment_id":127367931,"body_markdown":"@dunni All of the classes I mentioned are in different packages. Would that cause a problem? Let me add the package declarations to the classes. So that it might make it easier.","body":"@dunni All of the classes I mentioned are in different packages. Would that cause a problem? Let me add the package declarations to the classes. So that it might make it easier."}],"answers":[{"tags":[],"owner":{"account_id":21102967,"reputation":46,"user_id":15512520,"display_name":"Domiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651483961,"creation_date":1651483961,"answer_id":72084820,"question_id":72084506,"body_markdown":"Try using `@Component` instead of `@Configuration` when annotating your LoadDatabase class.\r\nAlso, if I recall correctly, for Spring Boot to run properly it is necessary to annotate your EmployeeRepository with `@Repository`.\r\n\r\nAnother last tip, try to avoid field injections like:\r\n\r\n    @Autowired\r\n    EmployeeRepository employeeRepository;\r\n\r\nIt has several drawbacks compared to constructor injection, which are described in detail in this answer: [What exactly is Field Injection and how to avoid it?][1]\r\n\r\nInstead use constructor injection, like this:\r\n\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Autowired\r\n    public LoadDatabase(EmployeeRepository employeeRepository){\r\n     this.employeeRepository = employeeRepository;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39892204/15512520","title":"CommandLineRunner Never Executes (Spring Boot 2.6.7)","body":"<p>Try using <code>@Component</code> instead of <code>@Configuration</code> when annotating your LoadDatabase class.\nAlso, if I recall correctly, for Spring Boot to run properly it is necessary to annotate your EmployeeRepository with <code>@Repository</code>.</p>\n<p>Another last tip, try to avoid field injections like:</p>\n<pre><code>@Autowired\nEmployeeRepository employeeRepository;\n</code></pre>\n<p>It has several drawbacks compared to constructor injection, which are described in detail in this answer: <a href=\"https://stackoverflow.com/a/39892204/15512520\">What exactly is Field Injection and how to avoid it?</a></p>\n<p>Instead use constructor injection, like this:</p>\n<pre><code>private EmployeeRepository employeeRepository;\n\n@Autowired\npublic LoadDatabase(EmployeeRepository employeeRepository){\n this.employeeRepository = employeeRepository;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651486850,"creation_date":1651486850,"answer_id":72085352,"question_id":72084506,"body_markdown":"By default Spring Boot will only scan packages below the package of the main application class (in your example it would be the package `com.trial.cas.logging.example` and all subpackages.\r\n\r\nYou can either move the application class to a common super package for your application, or specify all other packages, that should be scanned for beans etc. on the annotation:\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.trial.cas.logging.example&quot;, &quot;com.trial.cas.preload&quot;})","title":"CommandLineRunner Never Executes (Spring Boot 2.6.7)","body":"<p>By default Spring Boot will only scan packages below the package of the main application class (in your example it would be the package <code>com.trial.cas.logging.example</code> and all subpackages.</p>\n<p>You can either move the application class to a common super package for your application, or specify all other packages, that should be scanned for beans etc. on the annotation:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.trial.cas.logging.example&quot;, &quot;com.trial.cas.preload&quot;})\n</code></pre>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72085352,"answer_count":2,"score":1,"last_activity_date":1651486850,"creation_date":1651482304,"question_id":72084506,"body_markdown":"I am trying to learn Spring Boot and restful application from an online tutorial. But the code I wrote for it somehow gives me an error. I have written a `CommandLineRunner` class like so:\r\n\r\n    package com.trial.cas.preload;\r\n    \r\n    import java.util.logging.Logger;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.trial.cas.employee.repository.EmployeeRepository;\r\n    import com.trial.cas.employee.pojo.Employee;\r\n    \r\n    \r\n    @Configuration\r\n    class LoadDatabase implements CommandLineRunner {\r\n    \r\n    \tprivate static final Logger log = java.util.logging.LogManager.getLogManager().getLogger(&quot;LoadDatabase&quot;);\r\n    \t\r\n    \t@Autowired\r\n    \tEmployeeRepository employeeRepository;\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n    \t\tlog.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\r\n    \t\tlog.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));\t\t\r\n    \t}\r\n    }\r\n\r\nMy `EmployeeRepository` class is like this:\r\n\r\n    package com.trial.cas.preload;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.trial.employee.pojo.Employee;\r\n    \r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    \r\n    }\r\n\r\n\r\nMy main class is written like:\r\n\r\n    package com.trial.cas.logging.example;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class CASLoggingToolApplication {\r\n    \t\r\n    \tpublic static void main(String[] args) {\t\t\r\n    \t\tSpringApplication.run(CASLoggingToolApplication.class, args);\t\t\r\n    \t}\r\n    }\r\n\r\n\r\nBut when I run the Spring Boot application, the lines in the `run` method never execute. I have a debug point point in the first line of the run method. But that never gets triggered.\r\n\r\nPlease help! Thanks in advance.\r\n\r\n","title":"CommandLineRunner Never Executes (Spring Boot 2.6.7)","body":"<p>I am trying to learn Spring Boot and restful application from an online tutorial. But the code I wrote for it somehow gives me an error. I have written a <code>CommandLineRunner</code> class like so:</p>\n<pre><code>package com.trial.cas.preload;\n\nimport java.util.logging.Logger;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Component;\n\nimport com.trial.cas.employee.repository.EmployeeRepository;\nimport com.trial.cas.employee.pojo.Employee;\n\n\n@Configuration\nclass LoadDatabase implements CommandLineRunner {\n\n    private static final Logger log = java.util.logging.LogManager.getLogManager().getLogger(&quot;LoadDatabase&quot;);\n    \n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        log.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Bilbo Baggins&quot;, &quot;burglar&quot;)));\n        log.info(&quot;Preloading &quot; + employeeRepository.save(new Employee(&quot;Frodo Baggins&quot;, &quot;thief&quot;)));      \n    }\n}\n</code></pre>\n<p>My <code>EmployeeRepository</code> class is like this:</p>\n<pre><code>package com.trial.cas.preload;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.trial.employee.pojo.Employee;\n\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<p>My main class is written like:</p>\n<pre><code>package com.trial.cas.logging.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CASLoggingToolApplication {\n    \n    public static void main(String[] args) {        \n        SpringApplication.run(CASLoggingToolApplication.class, args);       \n    }\n}\n</code></pre>\n<p>But when I run the Spring Boot application, the lines in the <code>run</code> method never execute. I have a debug point point in the first line of the run method. But that never gets triggered.</p>\n<p>Please help! Thanks in advance.</p>\n"},{"tags":["java","spring-boot","thymeleaf","backend"],"answers":[{"tags":[],"owner":{"account_id":4009553,"reputation":564,"user_id":3303365,"display_name":"Md. Maidul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640767424,"creation_date":1640767095,"answer_id":70516990,"question_id":70514897,"body_markdown":"**I think, it will be following way \r\n( correct $(shoes.name) to ${shoes.name} )**\r\n\r\n    &lt;div class=&quot;info&quot;  th:each=&quot;shoes : ${shoesList}&quot;&gt;\r\n          &lt;p th:text=&quot;${shoes.name}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${shoes.description}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${shoes.price}&quot;&gt;&lt;/p&gt;          \r\n      &lt;/div&gt;\r\n\r\nPlease visit this link\r\n[Iteration thymeleaf][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/thymeleaf-iteration","title":"Why does my th:each not work in my div? Thymleaf","body":"<p><strong>I think, it will be following way\n( correct $(shoes.name) to ${shoes.name} )</strong></p>\n<pre><code>&lt;div class=&quot;info&quot;  th:each=&quot;shoes : ${shoesList}&quot;&gt;\n      &lt;p th:text=&quot;${shoes.name}&quot;&gt;&lt;/p&gt;\n      &lt;p th:text=&quot;${shoes.description}&quot;&gt;&lt;/p&gt;\n      &lt;p th:text=&quot;${shoes.price}&quot;&gt;&lt;/p&gt;          \n  &lt;/div&gt;\n</code></pre>\n<p>Please visit this link\n<a href=\"https://www.baeldung.com/thymeleaf-iteration\" rel=\"nofollow noreferrer\">Iteration thymeleaf</a></p>\n"}],"owner":{"account_id":17765013,"reputation":15,"user_id":12900140,"display_name":"Cirrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70516990,"answer_count":1,"score":0,"last_activity_date":1651486783,"creation_date":1640749236,"question_id":70514897,"body_markdown":"I&#39;m trying to th:text in my div but it doesnt seem to work\r\n\r\nI tried doing it with a table and i get the data i need but when i put it in a div it doesnt work\r\n```\r\n     &lt;div class=&quot;info&quot;  data-th-each=&quot;shoes: ${shoesList}&quot;&gt;\r\n          &lt;p th:text=&quot;$(shoes.name)&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;$(shoes.description)&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;$(shoes.price)&quot;&gt;&lt;/p&gt;          \r\n      &lt;/div&gt;\r\n```\r\n\r\nThis works tho\r\n\r\n```\r\n&lt;table&gt;\r\n\r\n      &lt;tr data-th-each=&quot;shoes : ${shoesList}&quot;&gt;    \r\n        &lt;td th:text=&quot;${shoes.name}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${shoes.description}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${shoes.price}&quot;&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;        \r\n  \r\n&lt;/table&gt;\r\n```","title":"Why does my th:each not work in my div? Thymleaf","body":"<p>I'm trying to th:text in my div but it doesnt seem to work</p>\n<p>I tried doing it with a table and i get the data i need but when i put it in a div it doesnt work</p>\n<pre><code>     &lt;div class=&quot;info&quot;  data-th-each=&quot;shoes: ${shoesList}&quot;&gt;\n          &lt;p th:text=&quot;$(shoes.name)&quot;&gt;&lt;/p&gt;\n          &lt;p th:text=&quot;$(shoes.description)&quot;&gt;&lt;/p&gt;\n          &lt;p th:text=&quot;$(shoes.price)&quot;&gt;&lt;/p&gt;          \n      &lt;/div&gt;\n</code></pre>\n<p>This works tho</p>\n<pre><code>&lt;table&gt;\n\n      &lt;tr data-th-each=&quot;shoes : ${shoesList}&quot;&gt;    \n        &lt;td th:text=&quot;${shoes.name}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${shoes.description}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${shoes.price}&quot;&gt;&lt;/td&gt;\n      &lt;/tr&gt;        \n  \n&lt;/table&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8610,"page":1382,"page_size":100}
