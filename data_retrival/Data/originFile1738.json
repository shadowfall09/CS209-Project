{"items":[{"tags":["java","amazon-web-services","aws-cdk","aws-codepipeline","aws-codebuild"],"comments":[{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":0,"creation_date":1639588369,"post_id":70366143,"comment_id":124388930,"body_markdown":"You shouldn&#39;t deploy the app stack manually, the pipeline should be the one to do it. Best to destroy the one you deployed yourself. Has the environment been bootstrapped? Can you share some code of the pipeline? Are you specifying the environment for the pipeline stack (account/region)?","body":"You shouldn&#39;t deploy the app stack manually, the pipeline should be the one to do it. Best to destroy the one you deployed yourself. Has the environment been bootstrapped? Can you share some code of the pipeline? Are you specifying the environment for the pipeline stack (account/region)?"},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639626734,"post_id":70366143,"comment_id":124399128,"body_markdown":"Thanks for your response @gshpychka. Yes, I&#39;ve tried all possible ways. Yes, the environment is bootstrapped, let me try and share all that information here.","body":"Thanks for your response @gshpychka. Yes, I&#39;ve tried all possible ways. Yes, the environment is bootstrapped, let me try and share all that information here."},{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":2,"creation_date":1639651273,"post_id":70366143,"comment_id":124405626,"body_markdown":"For debugging, try adding a `cdk ls` to the synth action to see which stacks it&#39;s synthesizing.","body":"For debugging, try adding a <code>cdk ls</code> to the synth action to see which stacks it&#39;s synthesizing."},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639658670,"post_id":70366143,"comment_id":124408216,"body_markdown":"Hi @gshpychka, sorry I&#39;m new to this, I&#39;ve added the code to the questions.\nAs per your suggestion, I&#39;ve added &#39;cdk ls&#39; to synth step and here&#39;s what it gave back:\n`Running command npx cdk ls\nnpx: installed 199 in 4.007s\nXxxJavaxxxStack`","body":"Hi @gshpychka, sorry I&#39;m new to this, I&#39;ve added the code to the questions. As per your suggestion, I&#39;ve added &#39;cdk ls&#39; to synth step and here&#39;s what it gave back: <code>Running command npx cdk ls npx: installed 199 in 4.007s XxxJavaxxxStack</code>"},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639659271,"post_id":70366143,"comment_id":124408415,"body_markdown":"Hi @gshpychka, I believe this is whats happening, the code is synthesising `XxxJavaxxxStack` but its trying to deploy `xxxPipelinexxxStack `, is that why its failing? If so, how to get over this please?","body":"Hi @gshpychka, I believe this is whats happening, the code is synthesising <code>XxxJavaxxxStack</code> but its trying to deploy <code>xxxPipelinexxxStack </code>, is that why its failing? If so, how to get over this please?"},{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":0,"creation_date":1639663528,"post_id":70366143,"comment_id":124410262,"body_markdown":"please format your code in proper code blocks, it is very hard to understand the structure right now. https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks","body":"please format your code in proper code blocks, it is very hard to understand the structure right now. <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackoverflow.com/questions/251361/&hellip;</a>"},{"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"score":1,"creation_date":1639704028,"post_id":70366143,"comment_id":124423554,"body_markdown":"What&#39;s in `xxxPipelineXXXStage`? It&#39;s supposed to have `xxxJavaxxxStack` in it, but you seem to be initiating that somewhere else.","body":"What&#39;s in <code>xxxPipelineXXXStage</code>? It&#39;s supposed to have <code>xxxJavaxxxStack</code> in it, but you seem to be initiating that somewhere else."},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639707329,"post_id":70366143,"comment_id":124423990,"body_markdown":"Thanks @kichik for help in formatting.\nThe class `xxxPipelineXXXStage` extends stage and just initiates the xxxJavaxxxStack class.\n`new xxxJavaxxxStack(this, &quot;xxxxStack&quot;)`.\nAny help is much appreciated @kichik @gshpychka.","body":"Thanks @kichik for help in formatting. The class <code>xxxPipelineXXXStage</code> extends stage and just initiates the xxxJavaxxxStack class. <code>new xxxJavaxxxStack(this, &quot;xxxxStack&quot;)</code>. Any help is much appreciated @kichik @gshpychka."},{"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"score":1,"creation_date":1639707783,"post_id":70366143,"comment_id":124424059,"body_markdown":"You should not initiate your stacks in anywhere but the stage. Try removing it from `xxxxPipelinexxxApp`. Also try adding `cdk ls` to the CodeBuild project for the update pipeline step as @TJ-AWS suggested.","body":"You should not initiate your stacks in anywhere but the stage. Try removing it from <code>xxxxPipelinexxxApp</code>. Also try adding <code>cdk ls</code> to the CodeBuild project for the update pipeline step as @TJ-AWS suggested."},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639708171,"post_id":70366143,"comment_id":124424108,"body_markdown":"Let me try that, thanks @kichik.\nI have one query however, the pipeline is failing even before it reached the deploy &#39;stage&#39;, its failing in selfmutate. Even if I remove it from pipelineapp class, will this selfmutate stage pass?","body":"Let me try that, thanks @kichik. I have one query however, the pipeline is failing even before it reached the deploy &#39;stage&#39;, its failing in selfmutate. Even if I remove it from pipelineapp class, will this selfmutate stage pass?"},{"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"score":2,"creation_date":1639709817,"post_id":70366143,"comment_id":124424323,"body_markdown":"Your synth step is synthesizing the wrong templates. It&#39;s not synthesizing the pipeline template which is why the self mutate step fails. It&#39;s unclear why without minimal code reproduction. All we can do is guess.","body":"Your synth step is synthesizing the wrong templates. It&#39;s not synthesizing the pipeline template which is why the self mutate step fails. It&#39;s unclear why without minimal code reproduction. All we can do is guess."},{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":1,"creation_date":1639737703,"post_id":70366143,"comment_id":124430746,"body_markdown":"After fixing the error above, redeploy (just the pipeline) with `cdk deploy PipelineStack`. Don&#39;t forget to remove the app stack in CloudFormation after removing it from the CDK code as suggested above.","body":"After fixing the error above, redeploy (just the pipeline) with <code>cdk deploy PipelineStack</code>. Don&#39;t forget to remove the app stack in CloudFormation after removing it from the CDK code as suggested above."},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639753101,"post_id":70366143,"comment_id":124436263,"body_markdown":"Thanks @gshpychka, I&#39;ll do that and let you guys know. Appreciate your time.","body":"Thanks @gshpychka, I&#39;ll do that and let you guys know. Appreciate your time."},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639753130,"post_id":70366143,"comment_id":124436274,"body_markdown":"Thanks @kichik. Appreciate your time.","body":"Thanks @kichik. Appreciate your time."},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639969522,"post_id":70366143,"comment_id":124475748,"body_markdown":"Hi @kichik, thanks a lot for all the help, I could understand the issue when gshpychka suggested adding &#39;cdk ls&#39; which made me realise I was providing the &lt;git-repo&gt; wrong in the above code, it was pointing to xxxJavaxxxStack repo instead of xxxPipelinexxxStack repo. I&#39;ve updated it now and its working.","body":"Hi @kichik, thanks a lot for all the help, I could understand the issue when gshpychka suggested adding &#39;cdk ls&#39; which made me realise I was providing the &lt;git-repo&gt; wrong in the above code, it was pointing to xxxJavaxxxStack repo instead of xxxPipelinexxxStack repo. I&#39;ve updated it now and its working."},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639969587,"post_id":70366143,"comment_id":124475757,"body_markdown":"Hi @gshpychka, thanks a lot for all the help, I could understand the issue with your help and its now working,","body":"Hi @gshpychka, thanks a lot for all the help, I could understand the issue with your help and its now working,"},{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":1,"creation_date":1639984350,"post_id":70366143,"comment_id":124478144,"body_markdown":"@TJ-AWS you should post the solution as an answer and accept it.","body":"@TJ-AWS you should post the solution as an answer and accept it."}],"answers":[{"tags":[],"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1640252755,"creation_date":1640074985,"answer_id":70432432,"question_id":70366143,"body_markdown":"The problem existed as I used 2 different github repositories (repos). The first was ```xxxJava``` repo which had ```xxxJavaxxxApp.java``` and ```xxxJavaxxxStack.java``` classes along with other necessary files.\r\nThe second was a ```xxxPipeline``` repo which had ```xxxPipelinexxxApp.java``` and ```xxxPipelinexxxStack.java``` along with other necessary files.\r\n\r\nInitially I was wrong in using ```xxxJava``` repo in **git-repo** for the code ```&lt;git-owner&gt;/&lt;git-repo&gt;``` which was **synthesising** the ```xxxJavaxxxStack``` and the pipeline was expecting ```xxxPipelinexxxStack``` to deploy it.\r\nThe solution was to add the pipeline repo while creating the connection to github.\r\nsince the stage was unable to find this stack, it was failing at the &#39;selfmutate&#39; stage.\r\n\r\nI struck gold when @gshpychka mentioned to add the ```cdk ls``` to my **synth** step to see what stack was getting synth-ed!\r\n```commands(Arrays.asList(&quot;mvn clean install&quot;, &quot;npx cdk synth&quot;, &quot;npx cdk ls&quot;))```\r\n\r\nThe point to remember - till the &#39;selfmutate&#39; stage, the pipeline related changes get deployed, and any stages added after, the actual stack/AWS-services get deployed.","title":"SelfMutate stage failing with CodePipeline","body":"<p>The problem existed as I used 2 different github repositories (repos). The first was <code>xxxJava</code> repo which had <code>xxxJavaxxxApp.java</code> and <code>xxxJavaxxxStack.java</code> classes along with other necessary files.\nThe second was a <code>xxxPipeline</code> repo which had <code>xxxPipelinexxxApp.java</code> and <code>xxxPipelinexxxStack.java</code> along with other necessary files.</p>\n<p>Initially I was wrong in using <code>xxxJava</code> repo in <strong>git-repo</strong> for the code <code>&lt;git-owner&gt;/&lt;git-repo&gt;</code> which was <strong>synthesising</strong> the <code>xxxJavaxxxStack</code> and the pipeline was expecting <code>xxxPipelinexxxStack</code> to deploy it.\nThe solution was to add the pipeline repo while creating the connection to github.\nsince the stage was unable to find this stack, it was failing at the 'selfmutate' stage.</p>\n<p>I struck gold when @gshpychka mentioned to add the <code>cdk ls</code> to my <strong>synth</strong> step to see what stack was getting synth-ed!\n<code>commands(Arrays.asList(&quot;mvn clean install&quot;, &quot;npx cdk synth&quot;, &quot;npx cdk ls&quot;))</code></p>\n<p>The point to remember - till the 'selfmutate' stage, the pipeline related changes get deployed, and any stages added after, the actual stack/AWS-services get deployed.</p>\n"}],"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1963,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70432432,"answer_count":1,"score":3,"last_activity_date":1640252755,"creation_date":1639581617,"question_id":70366143,"body_markdown":"I&#39;m trying to create a CI/CD using CDK pipeline with the import ```software.amazon.awscdk.pipelines.CodePipeline``` in Java.\r\nThis pipeline creates another stack named **xxxJavaxxxStack**.\r\nThe pipeline is able to connect to external github, which, when change is detected, triggers the pipeline.\r\n\r\nIn the class ```xxxPipelinexxxApp.java``` I&#39;m calling both the stacks ```xxxJavaxxxStack``` and ```xxxPipelinexxxStack```. I have successfully been able to **cdk synth** both separately and **cdk deploy** them separately.\r\n\r\nThis creates 2 different cloudformation templates, it also creates the pipeline and the first 2 stages go through.\r\nHowever, the pipeline is failing at **SelfMutate** stage.\r\n\r\nThe pipeline stages are:\r\n- **Source** - Success\r\n- **Build** - Success\r\n    - **Synth** - Success\r\n- **SelfMutate** - Failed\r\n\r\nThe error:\r\n```\r\nError: No stacks match the name(s) xxxPipelinexxxStack\r\n\r\nat CdkToolkit.validateStacksSelected (/usr/local/lib/node_modules/aws-cdk/lib/cdk-toolkit.ts:545:13)\r\n    at CdkToolkit.selectStacksForDeploy (/usr/local/lib/node_modules/aws-cdk/lib/cdk-toolkit.ts:492:10)\r\n    at CdkToolkit.deploy (/usr/local/lib/node_modules/aws-cdk/lib/cdk-toolkit.ts:120:20)\r\n    at initCommandLine (/usr/local/lib/node_modules/aws-cdk/bin/cdk.ts:267:9)\r\n\r\nCommand did not exit successfully cdk -a . deploy xxxPipelinexxxStack --require-approval=never --verbose exit status 1\r\nPhase complete: BUILD State: FAILED\r\nPhase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: cdk -a . deploy xxxPipelinexxxStack --require-approval=never --verbose. Reason: exit status 1\r\n```\r\n\r\nCommand:&#160;```sudo cdk bootstrap```\r\nResult:\r\n```\r\n@aws-cdk/core:newStyleStackSynthesis&#39; context set, using new-style bootstrapping  ⏳  Bootstrapping environment aws://xxxxxx729/us-east-1... Trusted accounts for deployment: xxxxxx729 Trusted accounts for lookup: (none) Execution policies: arn:aws:iam::aws:policy/AdministratorAccess  Environment aws://xxxxxx729/us-east-1 bootstrapped (no changes).\r\n```\r\n\r\nApp Code -\r\n```\r\n\r\npublic class xxxxPipelinexxxApp {\r\n    public static void main(final String[] args) {\r\n        App app = new App();\r\n        final xxxJavaxxxStack javaStack = new xxxJavaxxxStack(\r\n            app,\r\n            &quot;xxxJavaxxxStack&quot;,\r\n            StackProps.builder()\r\n                .env(\r\n                    new Environment.Builder()\r\n                        .account(&quot;xxxxxx5729&quot;)\r\n                        .region(&quot;us-east-1&quot;)\r\n                        .build()\r\n                )\r\n                .build()\r\n        );\r\n        final xxxPipelinexxxStack pipelineStack = new xxxPipelinexxxStack(\r\n                app,\r\n                &quot;xxxPipelinexxxStack&quot;,\r\n                StackProps.builder()\r\n                    .env(\r\n                        new Environment.Builder()\r\n                            .account(&quot;xxxxxx5729&quot;)\r\n                            .region(&quot;us-east-1&quot;)\r\n                            .build()\r\n                    )\r\n                    .build()\r\n        );\r\n        app.synth();\r\n    }\r\n}\r\n```\r\n\r\nStack code -\r\n```\r\npublic class xxxPipelinexxxStack extends Stack {\r\n    public xxxPipelinexxxStack(final Construct scope, final String id) {\r\n        this(scope, id, null);\r\n    }\r\n\r\n    public xxxPipelinexxxStack(final Construct scope, final String id, final StackProps props) {\r\n        super(scope, id, props);\r\n        CodePipeline pipeline = CodePipeline.Builder\r\n                .create(this, &quot;pipeline&quot;)\r\n                .pipelineName(&quot;xxxPipelineXXX&quot;)\r\n                .synth(\r\n                        ShellStep.Builder.create(&quot;Synth&quot;)\r\n                            .input(\r\n                                    CodePipelineSource.connection(&quot;&lt;git-owner&gt;/&lt;git-repo&gt;&quot;, &quot;main&quot;,\r\n                                        ConnectionSourceOptions.builder().connectionArn(&quot;&lt;git-repo-connection-arn&gt;&quot;).build()\r\n                                    )\r\n                            )\r\n                            .commands(\r\n                                    Arrays.asList(&quot;mvn clean install&quot;, &quot;npx cdk synth&quot;)\r\n                            ).build()\r\n                ).build();\r\n        final xxxPipelineXXXStage deploy = new xxxPipelineXXXStage(this, &quot;Deploy&quot;);\r\n        pipeline.addStage(deploy);\r\n    }\r\n}\r\n```\r\n\r\nP.S: I&#39;m using a different IAM user, to deploy, than the root user as apparently there are issues when trying to deploy the pipeline using root user.\r\n\r\nAny help is much appreciated.\r\n","title":"SelfMutate stage failing with CodePipeline","body":"<p>I'm trying to create a CI/CD using CDK pipeline with the import <code>software.amazon.awscdk.pipelines.CodePipeline</code> in Java.\nThis pipeline creates another stack named <strong>xxxJavaxxxStack</strong>.\nThe pipeline is able to connect to external github, which, when change is detected, triggers the pipeline.</p>\n<p>In the class <code>xxxPipelinexxxApp.java</code> I'm calling both the stacks <code>xxxJavaxxxStack</code> and <code>xxxPipelinexxxStack</code>. I have successfully been able to <strong>cdk synth</strong> both separately and <strong>cdk deploy</strong> them separately.</p>\n<p>This creates 2 different cloudformation templates, it also creates the pipeline and the first 2 stages go through.\nHowever, the pipeline is failing at <strong>SelfMutate</strong> stage.</p>\n<p>The pipeline stages are:</p>\n<ul>\n<li><strong>Source</strong> - Success</li>\n<li><strong>Build</strong> - Success\n<ul>\n<li><strong>Synth</strong> - Success</li>\n</ul>\n</li>\n<li><strong>SelfMutate</strong> - Failed</li>\n</ul>\n<p>The error:</p>\n<pre><code>Error: No stacks match the name(s) xxxPipelinexxxStack\n\nat CdkToolkit.validateStacksSelected (/usr/local/lib/node_modules/aws-cdk/lib/cdk-toolkit.ts:545:13)\n    at CdkToolkit.selectStacksForDeploy (/usr/local/lib/node_modules/aws-cdk/lib/cdk-toolkit.ts:492:10)\n    at CdkToolkit.deploy (/usr/local/lib/node_modules/aws-cdk/lib/cdk-toolkit.ts:120:20)\n    at initCommandLine (/usr/local/lib/node_modules/aws-cdk/bin/cdk.ts:267:9)\n\nCommand did not exit successfully cdk -a . deploy xxxPipelinexxxStack --require-approval=never --verbose exit status 1\nPhase complete: BUILD State: FAILED\nPhase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: cdk -a . deploy xxxPipelinexxxStack --require-approval=never --verbose. Reason: exit status 1\n</code></pre>\n<p>Command: <code>sudo cdk bootstrap</code>\nResult:</p>\n<pre><code>@aws-cdk/core:newStyleStackSynthesis' context set, using new-style bootstrapping  ⏳  Bootstrapping environment aws://xxxxxx729/us-east-1... Trusted accounts for deployment: xxxxxx729 Trusted accounts for lookup: (none) Execution policies: arn:aws:iam::aws:policy/AdministratorAccess  Environment aws://xxxxxx729/us-east-1 bootstrapped (no changes).\n</code></pre>\n<p>App Code -</p>\n<pre><code>\npublic class xxxxPipelinexxxApp {\n    public static void main(final String[] args) {\n        App app = new App();\n        final xxxJavaxxxStack javaStack = new xxxJavaxxxStack(\n            app,\n            &quot;xxxJavaxxxStack&quot;,\n            StackProps.builder()\n                .env(\n                    new Environment.Builder()\n                        .account(&quot;xxxxxx5729&quot;)\n                        .region(&quot;us-east-1&quot;)\n                        .build()\n                )\n                .build()\n        );\n        final xxxPipelinexxxStack pipelineStack = new xxxPipelinexxxStack(\n                app,\n                &quot;xxxPipelinexxxStack&quot;,\n                StackProps.builder()\n                    .env(\n                        new Environment.Builder()\n                            .account(&quot;xxxxxx5729&quot;)\n                            .region(&quot;us-east-1&quot;)\n                            .build()\n                    )\n                    .build()\n        );\n        app.synth();\n    }\n}\n</code></pre>\n<p>Stack code -</p>\n<pre><code>public class xxxPipelinexxxStack extends Stack {\n    public xxxPipelinexxxStack(final Construct scope, final String id) {\n        this(scope, id, null);\n    }\n\n    public xxxPipelinexxxStack(final Construct scope, final String id, final StackProps props) {\n        super(scope, id, props);\n        CodePipeline pipeline = CodePipeline.Builder\n                .create(this, &quot;pipeline&quot;)\n                .pipelineName(&quot;xxxPipelineXXX&quot;)\n                .synth(\n                        ShellStep.Builder.create(&quot;Synth&quot;)\n                            .input(\n                                    CodePipelineSource.connection(&quot;&lt;git-owner&gt;/&lt;git-repo&gt;&quot;, &quot;main&quot;,\n                                        ConnectionSourceOptions.builder().connectionArn(&quot;&lt;git-repo-connection-arn&gt;&quot;).build()\n                                    )\n                            )\n                            .commands(\n                                    Arrays.asList(&quot;mvn clean install&quot;, &quot;npx cdk synth&quot;)\n                            ).build()\n                ).build();\n        final xxxPipelineXXXStage deploy = new xxxPipelineXXXStage(this, &quot;Deploy&quot;);\n        pipeline.addStage(deploy);\n    }\n}\n</code></pre>\n<p>P.S: I'm using a different IAM user, to deploy, than the root user as apparently there are issues when trying to deploy the pipeline using root user.</p>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640784844,"post_id":70442070,"comment_id":124657818,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640252541,"creation_date":1640252541,"answer_id":70460236,"question_id":70442070,"body_markdown":"There are plenty of examples on github.\r\n\r\nFor example using viewBinding\r\n\r\nhttps://github.com/joharei/nearby-mobility/blob/5e0244b4daeb0aac04c5dc661c7dde6c1769cf21/app/src/main/java/app/reitan/nearby_mobility/MainActivity.kt\r\n\r\n```\r\n        ActivityMainBinding.inflate(layoutInflater).apply {\r\n            setContentView(root)\r\n\r\n            swipeDismissRootContainer.registerCallback(object :\r\n                DismissibleFrameLayout.Callback() {\r\n                override fun onDismissFinished(layout: DismissibleFrameLayout) {\r\n                    // Hides view before exit to avoid stutter.\r\n                    layout.visibility = View.GONE\r\n                    finish()\r\n                }\r\n            })\r\n```\r\n\r\n\r\nhttps://github.com/search?q=DismissibleFrameLayout&amp;type=code","title":"How do I register a callback for a dismissableFrameLayout in Android?","body":"<p>There are plenty of examples on github.</p>\n<p>For example using viewBinding</p>\n<p><a href=\"https://github.com/joharei/nearby-mobility/blob/5e0244b4daeb0aac04c5dc661c7dde6c1769cf21/app/src/main/java/app/reitan/nearby_mobility/MainActivity.kt\" rel=\"nofollow noreferrer\">https://github.com/joharei/nearby-mobility/blob/5e0244b4daeb0aac04c5dc661c7dde6c1769cf21/app/src/main/java/app/reitan/nearby_mobility/MainActivity.kt</a></p>\n<pre><code>        ActivityMainBinding.inflate(layoutInflater).apply {\n            setContentView(root)\n\n            swipeDismissRootContainer.registerCallback(object :\n                DismissibleFrameLayout.Callback() {\n                override fun onDismissFinished(layout: DismissibleFrameLayout) {\n                    // Hides view before exit to avoid stutter.\n                    layout.visibility = View.GONE\n                    finish()\n                }\n            })\n</code></pre>\n<p><a href=\"https://github.com/search?q=DismissibleFrameLayout&amp;type=code\" rel=\"nofollow noreferrer\">https://github.com/search?q=DismissibleFrameLayout&amp;type=code</a></p>\n"}],"owner":{"account_id":946975,"reputation":1,"user_id":974030,"display_name":"user974030"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640252541,"creation_date":1640124247,"question_id":70442070,"body_markdown":"I&#39;m trying to use [this layout component][1].  I just don&#39;t know how to register a callback. I need to register the [onDismissFinished][2] callback but I&#39;m at a loss.  I&#39;m working in Java, Thanks.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/wear/widget/DismissibleFrameLayout?hl=de\r\n  [2]: https://developer.android.com/reference/androidx/wear/widget/DismissibleFrameLayout.Callback?hl=de#onDismissFinished(androidx.wear.widget.DismissibleFrameLayout)","title":"How do I register a callback for a dismissableFrameLayout in Android?","body":"<p>I'm trying to use <a href=\"https://developer.android.com/reference/androidx/wear/widget/DismissibleFrameLayout?hl=de\" rel=\"nofollow noreferrer\">this layout component</a>.  I just don't know how to register a callback. I need to register the <a href=\"https://developer.android.com/reference/androidx/wear/widget/DismissibleFrameLayout.Callback?hl=de#onDismissFinished(androidx.wear.widget.DismissibleFrameLayout)\" rel=\"nofollow noreferrer\">onDismissFinished</a> callback but I'm at a loss.  I'm working in Java, Thanks.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":1,"creation_date":1384469566,"post_id":19990004,"comment_id":29761774,"body_markdown":"What do you mean by &quot;final jar file contains both `CommonModule-v1.jar` and `CommonModule-v2.jar`&quot;? You usually don&#39;t package JARs inside other JARs. Your question doesn&#39;t really make much sense the way Java apps are commonly deployed. (Which is with a flat list of all transitive dependencies somewhere on the classpath.)","body":"What do you mean by &quot;final jar file contains both <code>CommonModule-v1.jar</code> and <code>CommonModule-v2.jar</code>&quot;? You usually don&#39;t package JARs inside other JARs. Your question doesn&#39;t really make much sense the way Java apps are commonly deployed. (Which is with a flat list of all transitive dependencies somewhere on the classpath.)"},{"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"score":0,"creation_date":1384470057,"post_id":19990004,"comment_id":29761981,"body_markdown":"Maven will use the newest version, you could try dependency:analyze-duplicate.","body":"Maven will use the newest version, you could try dependency:analyze-duplicate."},{"owner":{"account_id":2596722,"reputation":3827,"user_id":2250246,"accept_rate":33,"display_name":"user2250246"},"score":0,"creation_date":1384473905,"post_id":19990004,"comment_id":29763355,"body_markdown":"@millimoose, welcome to maven","body":"@millimoose, welcome to maven"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1384533778,"post_id":19990004,"comment_id":29788094,"body_markdown":"@user2250246 I know Maven well enough and what you describe is not how Maven works. For one `mvn package` will only JAR up the given module&#39;s class files, it doesn&#39;t do anything with the dependencies after the compilation. If you&#39;re making a WAR, then it will put the dependencies into `WEB-INF/lib/`, but in that case it will pick one of the versions, not both. (Unless the different versions have a different `groupId`+`artifactId`, which isn&#39;t really something Maven can handle automatically.) So how about instead of being glib you describe what&#39;s actually going on?","body":"@user2250246 I know Maven well enough and what you describe is not how Maven works. For one <code>mvn package</code> will only JAR up the given module&#39;s class files, it doesn&#39;t do anything with the dependencies after the compilation. If you&#39;re making a WAR, then it will put the dependencies into <code>WEB-INF&#47;lib&#47;</code>, but in that case it will pick one of the versions, not both. (Unless the different versions have a different <code>groupId</code>+<code>artifactId</code>, which isn&#39;t really something Maven can handle automatically.) So how about instead of being glib you describe what&#39;s actually going on?"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1384533864,"post_id":19990004,"comment_id":29788137,"body_markdown":"**tl;dr**: Maven does not, by default, put `jar`s inside other `jar`s. If yours does, post the relevant configuration.","body":"<b>tl;dr</b>: Maven does not, by default, put <code>jar</code>s inside other <code>jar</code>s. If yours does, post the relevant configuration."},{"owner":{"account_id":2596722,"reputation":3827,"user_id":2250246,"accept_rate":33,"display_name":"user2250246"},"score":0,"creation_date":1384555755,"post_id":19990004,"comment_id":29798428,"body_markdown":"millimoose, I got my answer from the below responses. So I guess it was glib enough.","body":"millimoose, I got my answer from the below responses. So I guess it was glib enough."}],"answers":[{"tags":[],"owner":{"account_id":64344,"reputation":8352,"user_id":189992,"accept_rate":95,"display_name":"ssedano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384470106,"creation_date":1384469407,"answer_id":19990082,"question_id":19990004,"body_markdown":"If your pom.xml is only an aggregator of already packaged modules then this apply. If it is not the case and your project actually compile and packages all of those modules as a submodules then maven will choose one. If it compiles every project on its own then it will be packaged using that dependency. But if all of them end up in the same class loader then it won&#39;t work fine.\r\n\r\nAt runtime it can cause errors, think of `method not found` and the like. Your byte code classes were compiled and linked with the correct dependencies but since the class loader finds two candidates it just load one at runtime.\r\n\r\nWhat you can do is set a parent pom defining a `&lt;dependencyManagement&gt;` and then ask all teams to use it as a parent and don&#39;t declare `&lt;version&gt;` but inherit it from the parent pom.xml.\r\n\r\nReferences http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management","title":"Maven: Different library versions in one JVM","body":"<p>If your pom.xml is only an aggregator of already packaged modules then this apply. If it is not the case and your project actually compile and packages all of those modules as a submodules then maven will choose one. If it compiles every project on its own then it will be packaged using that dependency. But if all of them end up in the same class loader then it won't work fine.</p>\n\n<p>At runtime it can cause errors, think of <code>method not found</code> and the like. Your byte code classes were compiled and linked with the correct dependencies but since the class loader finds two candidates it just load one at runtime.</p>\n\n<p>What you can do is set a parent pom defining a <code>&lt;dependencyManagement&gt;</code> and then ask all teams to use it as a parent and don't declare <code>&lt;version&gt;</code> but inherit it from the parent pom.xml.</p>\n\n<p>References <a href=\"http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management\" rel=\"nofollow\">http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management</a></p>\n"},{"tags":[],"owner":{"account_id":2529977,"reputation":4602,"user_id":2198470,"accept_rate":80,"display_name":"thst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384469492,"creation_date":1384469492,"answer_id":19990112,"question_id":19990004,"body_markdown":"This depends on the way the modules are named in maven. Usually, maven tries to resolve the conflicting libs and takes the highest version into the tree. But if the libraries are different artifacts in terms of artifactId, then maven will not see that they are from the same breed and thus will not resolve the ambiguity. \r\n\r\nUsually you resolve this by a common parent.pom, where you define the versions of commonly used libraries throughout the project. If you have no control over the other projects (not part of your build, only dependencies), you may be lucky to have your final project working fine. If the library breaks compatibility in the newer version, you will not be able to use it.\r\n\r\nSo, does your final project contain both versions of the library or not, did you check it? The dependency tree may show both versions, but if maven will use only the latest version of a dependency in the hierarchy.\r\n\r\n","title":"Maven: Different library versions in one JVM","body":"<p>This depends on the way the modules are named in maven. Usually, maven tries to resolve the conflicting libs and takes the highest version into the tree. But if the libraries are different artifacts in terms of artifactId, then maven will not see that they are from the same breed and thus will not resolve the ambiguity. </p>\n\n<p>Usually you resolve this by a common parent.pom, where you define the versions of commonly used libraries throughout the project. If you have no control over the other projects (not part of your build, only dependencies), you may be lucky to have your final project working fine. If the library breaks compatibility in the newer version, you will not be able to use it.</p>\n\n<p>So, does your final project contain both versions of the library or not, did you check it? The dependency tree may show both versions, but if maven will use only the latest version of a dependency in the hierarchy.</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384469529,"creation_date":1384469529,"answer_id":19990124,"question_id":19990004,"body_markdown":"Maven will only use one version of each artifact in the end -- it doesn&#39;t do any fancy classloader isolation tricks. You can see which version it&#39;ll use with `mvn dependency:resolve`.\r\n\r\nIf you need to use specific versions within dependencies, you can use the [shade plugin][1]. It&#39;ll do renaming trickery so that dependencies get their own versions of libraries.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-shade-plugin/","title":"Maven: Different library versions in one JVM","body":"<p>Maven will only use one version of each artifact in the end -- it doesn't do any fancy classloader isolation tricks. You can see which version it'll use with <code>mvn dependency:resolve</code>.</p>\n\n<p>If you need to use specific versions within dependencies, you can use the <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow\">shade plugin</a>. It'll do renaming trickery so that dependencies get their own versions of libraries.</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384469571,"creation_date":1384469571,"answer_id":19990133,"question_id":19990004,"body_markdown":"Classloader will load the first JAR which appears on your classpath. In more details - it will search for the first class on your class path, so in each case all these searches would fall into i.e. `CommonModule-v2.jar`. So the answer is yes - it can erroneously load versions v2 where v1 if it appears earlier on your classpath.","title":"Maven: Different library versions in one JVM","body":"<p>Classloader will load the first JAR which appears on your classpath. In more details - it will search for the first class on your class path, so in each case all these searches would fall into i.e. <code>CommonModule-v2.jar</code>. So the answer is yes - it can erroneously load versions v2 where v1 if it appears earlier on your classpath.</p>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384470440,"creation_date":1384470065,"answer_id":19990242,"question_id":19990004,"body_markdown":"To fight with this problem globally use this [DependencyConvergence Rule](http://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html)\r\n\r\n&gt; This rule requires that dependency version numbers converge. If a\r\n&gt; project has two dependencies, A and B, both depending on the same\r\n&gt; artifact, C, this rule will fail the build if A depends on a different\r\n&gt; version of C then the version of C depended on by B.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;enforce&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rules&gt;\r\n                &lt;DependencyConvergence/&gt;\r\n              &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAfter this all teams work together with consistent versions of dependencies.","title":"Maven: Different library versions in one JVM","body":"<p>To fight with this problem globally use this <a href=\"http://maven.apache.org/enforcer/enforcer-rules/dependencyConvergence.html\" rel=\"nofollow\">DependencyConvergence Rule</a></p>\n\n<blockquote>\n  <p>This rule requires that dependency version numbers converge. If a\n  project has two dependencies, A and B, both depending on the same\n  artifact, C, this rule will fail the build if A depends on a different\n  version of C then the version of C depended on by B.</p>\n</blockquote>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;enforce&lt;/id&gt;\n        &lt;configuration&gt;\n          &lt;rules&gt;\n            &lt;DependencyConvergence/&gt;\n          &lt;/rules&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;enforce&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After this all teams work together with consistent versions of dependencies.</p>\n"},{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384470154,"creation_date":1384470154,"answer_id":19990254,"question_id":19990004,"body_markdown":"On top of what @yshavit said, ideally you&#39;d exclude the earlier version of the `CommonModule` so that only v2 is in the classpath.  This is only possible if the `CommonModule` v2 api is backwards compatible with `CommonModule` v1.  \r\n\r\nHere&#39;s an example of how you exclude:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ChildModuleGroupid&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ChildModuleArtifactid&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;CommonModuleGroupId&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;CommonModuleArtifactId&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\nYou&#39;d put that in the TopModule pom.xml.","title":"Maven: Different library versions in one JVM","body":"<p>On top of what @yshavit said, ideally you'd exclude the earlier version of the <code>CommonModule</code> so that only v2 is in the classpath.  This is only possible if the <code>CommonModule</code> v2 api is backwards compatible with <code>CommonModule</code> v1.  </p>\n\n<p>Here's an example of how you exclude:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;ChildModuleGroupid&lt;/groupId&gt;\n        &lt;artifactId&gt;ChildModuleArtifactid&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;CommonModuleGroupId&lt;/groupId&gt;\n                &lt;artifactId&gt;CommonModuleArtifactId&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>You'd put that in the TopModule pom.xml.</p>\n"}],"owner":{"account_id":2596722,"reputation":3827,"user_id":2250246,"accept_rate":33,"display_name":"user2250246"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3516,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1640252057,"creation_date":1384469033,"question_id":19990004,"body_markdown":"I have a project whose dependency tree is huge i.e. it packs in modules from several teams.\r\n\r\nNow there are some commonly used dependencies which are common across several modules.\r\n\r\nA simplified example can be:\r\n\r\n    TopModule.jar\r\n      ChildModule.jar\r\n        CommonModule-v1.jar\r\n      CommonModule-v2.jar\r\n\r\nWhen I build my project, I specify the latest version of common dependencies, but its very hard to ask the same from every other team.\r\n\r\nSo, frequently, the TopModule is built using different versions of CommonModule (v1 and v2 in the above example).\r\n\r\nMy question is:\r\n\r\nIf the final jar file contains both CommonModule-v1.jar and CommonModule-v2.jar, how does it affect the runtime?\r\n\r\nCan the runtime erroneously load versions v2 where v1 is required and vice versa?\r\n\r\n ","title":"Maven: Different library versions in one JVM","body":"<p>I have a project whose dependency tree is huge i.e. it packs in modules from several teams.</p>\n\n<p>Now there are some commonly used dependencies which are common across several modules.</p>\n\n<p>A simplified example can be:</p>\n\n<pre><code>TopModule.jar\n  ChildModule.jar\n    CommonModule-v1.jar\n  CommonModule-v2.jar\n</code></pre>\n\n<p>When I build my project, I specify the latest version of common dependencies, but its very hard to ask the same from every other team.</p>\n\n<p>So, frequently, the TopModule is built using different versions of CommonModule (v1 and v2 in the above example).</p>\n\n<p>My question is:</p>\n\n<p>If the final jar file contains both CommonModule-v1.jar and CommonModule-v2.jar, how does it affect the runtime?</p>\n\n<p>Can the runtime erroneously load versions v2 where v1 is required and vice versa?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":13096657,"reputation":922,"user_id":9462397,"display_name":"Friedrick"},"score":1,"creation_date":1574260947,"post_id":58956946,"comment_id":104169412,"body_markdown":"https://stackoverflow.com/questions/21724145/get-jar-version-in-runtime","body":"<a href=\"https://stackoverflow.com/questions/21724145/get-jar-version-in-runtime\" title=\"get jar version in runtime\">stackoverflow.com/questions/21724145/get-jar-version-in-runt&zwnj;&#8203;ime</a>"},{"owner":{"account_id":5833925,"reputation":648,"user_id":4597596,"accept_rate":75,"display_name":"Ganesh chaitanya"},"score":0,"creation_date":1574261023,"post_id":58956946,"comment_id":104169464,"body_markdown":"I think this is what you are looking for : https://stackoverflow.com/a/10295470/4597596","body":"I think this is what you are looking for : <a href=\"https://stackoverflow.com/a/10295470/4597596\">stackoverflow.com/a/10295470/4597596</a>"},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574261430,"post_id":58956946,"comment_id":104169717,"body_markdown":"@A.S.H thanks for the hint, but I don&#39;t think the question is about reading from the pom","body":"@A.S.H thanks for the hint, but I don&#39;t think the question is about reading from the pom"},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574261487,"post_id":58956946,"comment_id":104169749,"body_markdown":"@GaneshchaitanyaI I do not want to specify dependencies but to read the dependency version at runtime","body":"@GaneshchaitanyaI I do not want to specify dependencies but to read the dependency version at runtime"},{"owner":{"account_id":13096657,"reputation":922,"user_id":9462397,"display_name":"Friedrick"},"score":0,"creation_date":1574261649,"post_id":58956946,"comment_id":104169849,"body_markdown":"@T A You&#39;re right, my apologies. I misunderstood your question. Please try the answer below by Arvind Kumar Avinash.","body":"@T A You&#39;re right, my apologies. I misunderstood your question. Please try the answer below by Arvind Kumar Avinash."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1574262258,"post_id":58956946,"comment_id":104170258,"body_markdown":"By &quot;at runtime&quot;, you mean that you have some application which relies on the foo.bar.foobar dependency and in that application you want to be able to print out the version that the Maven foo.bar.foobar dependency had at build time?","body":"By &quot;at runtime&quot;, you mean that you have some application which relies on the foo.bar.foobar dependency and in that application you want to be able to print out the version that the Maven foo.bar.foobar dependency had at build time?"},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574262350,"post_id":58956946,"comment_id":104170331,"body_markdown":"@Gimby yes, exactly.","body":"@Gimby yes, exactly."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1574262499,"post_id":58956946,"comment_id":104170433,"body_markdown":"See https://stackoverflow.com/questions/24306534/get-a-jar-file-version-number and https://stackoverflow.com/questions/20994766/jar-manifest-file-difference-between-specification-and-implementation.","body":"See <a href=\"https://stackoverflow.com/questions/24306534/get-a-jar-file-version-number\" title=\"get a jar file version number\">stackoverflow.com/questions/24306534/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/20994766/jar-manifest-file-difference-between-specification-and-implementation\" title=\"jar manifest file difference between specification and implementation\">stackoverflow.com/questions/20994766/&hellip;</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1574262627,"post_id":58956946,"comment_id":104170506,"body_markdown":"Why do you want to read from pom.xml?  Wouldn’t you rather have the actual version of the library at runtime, as specified in the manifest or module descriptor?","body":"Why do you want to read from pom.xml?  Wouldn’t you rather have the actual version of the library at runtime, as specified in the manifest or module descriptor?"},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574262894,"post_id":58956946,"comment_id":104170691,"body_markdown":"@VGR I expected it to be easier to extract it from the pom. My dependencies do not change after the build, so the contents of the pom should be sufficient. I have tried the method `MyClass.class.getPackage().getImplementationVersion()` from the answers you referred, those will return `null` to me though for my test case.","body":"@VGR I expected it to be easier to extract it from the pom. My dependencies do not change after the build, so the contents of the pom should be sufficient. I have tried the method <code>MyClass.class.getPackage().getImplementationVersion()</code> from the answers you referred, those will return <code>null</code> to me though for my test case."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1574264894,"post_id":58956946,"comment_id":104172012,"body_markdown":"The question is: Why do you need the information and for what purpose?","body":"The question is: Why do you need the information and for what purpose?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1574266212,"post_id":58956946,"comment_id":104172839,"body_markdown":"Is it only that one dependency, or do you want to be able to list the version of any dependency that will be part of the deployable&#39;s runtime classpath? Which would also include transitive dependencies, not specifically listed in the pom...","body":"Is it only that one dependency, or do you want to be able to list the version of any dependency that will be part of the deployable&#39;s runtime classpath? Which would also include transitive dependencies, not specifically listed in the pom..."},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574266583,"post_id":58956946,"comment_id":104173055,"body_markdown":"@Gimby No transitive dependencies, only one specific dependency and I only need the version number, no other metadata is required.","body":"@Gimby No transitive dependencies, only one specific dependency and I only need the version number, no other metadata is required."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1574266762,"post_id":58956946,"comment_id":104173158,"body_markdown":"Is that dependency in your own control? If so, I would &quot;solve&quot; it by during the build of that dependency to output a text file with the version in it, which you can simply read from the classpath then.","body":"Is that dependency in your own control? If so, I would &quot;solve&quot; it by during the build of that dependency to output a text file with the version in it, which you can simply read from the classpath then."},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574366270,"post_id":58956946,"comment_id":104218179,"body_markdown":"@khmarbaise I have an independently versioned type system and need to track different documents versioned by that system when the are created. I could manually adjust the version number each time the type system changed, but that would add a lot of overhead and I&#39;d like to avoid this by reading out the version automatically.","body":"@khmarbaise I have an independently versioned type system and need to track different documents versioned by that system when the are created. I could manually adjust the version number each time the type system changed, but that would add a lot of overhead and I&#39;d like to avoid this by reading out the version automatically."},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574366485,"post_id":58956946,"comment_id":104218270,"body_markdown":"@Gimby Not directly, but I&#39;d like to do something similar in the future by just having it added as a field such that it reads it from its own pom. Right now I can&#39;t though, so this is more of a workaround.","body":"@Gimby Not directly, but I&#39;d like to do something similar in the future by just having it added as a field such that it reads it from its own pom. Right now I can&#39;t though, so this is more of a workaround."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1574426526,"post_id":58956946,"comment_id":104239385,"body_markdown":"To be honest I don&#39;t understand why you need a version of a dependency? Usually you should version them based on semantical version...but nevertheless you could either read the maven information from the classpath (if you have and not module path) or you could register a SPI within each of the dependencies which has a defined interface to read that information ...?","body":"To be honest I don&#39;t understand why you need a version of a dependency? Usually you should version them based on semantical version...but nevertheless you could either read the maven information from the classpath (if you have and not module path) or you could register a SPI within each of the dependencies which has a defined interface to read that information ...?"},{"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"score":0,"creation_date":1574429888,"post_id":58956946,"comment_id":104241106,"body_markdown":"@khmarbaise They are versioned independently which is out of my control right now. I don&#39;t mean to offend but wether or not this makes sense (while I do understand your concerns, really) is out of the scope of my question.","body":"@khmarbaise They are versioned independently which is out of my control right now. I don&#39;t mean to offend but wether or not this makes sense (while I do understand your concerns, really) is out of the scope of my question."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1574432947,"post_id":58956946,"comment_id":104242832,"body_markdown":"So you have only the choice to read the maven descriptor including the pom.xml / pom.properties within the jar file (on classpath)...","body":"So you have only the choice to read the maven descriptor including the pom.xml / pom.properties within the jar file (on classpath)..."}],"answers":[{"tags":[],"owner":{"account_id":2232229,"reputation":1515,"user_id":2468375,"display_name":"forkdbloke"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1574266574,"creation_date":1574262018,"answer_id":58957356,"question_id":58956946,"body_markdown":"pom.xml\r\n\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WDProject&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;WDProject&lt;/name&gt;\r\n    &lt;url&gt;http://www.nosite.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\r\n        &lt;webdrivermanager.version&gt;3.7.1&lt;/webdrivermanager.version&gt;\r\n\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zip4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.8.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n~~~\r\n\r\nAlthough what you want is to search for a specific dependency, the below code retrieves all the details of the dependencies available in pom file. \r\nYou just need to create a wrapper method to retrieve details of specific dependencies. \r\n\r\n~~~\r\n\r\nimport org.apache.maven.model.Model;\r\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\r\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\r\n\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\n\r\nclass SampleMavenDependencyReader {\r\n\r\n\tpublic static void main(String[] args) throws IOException, XmlPullParserException {\r\n\t\tMavenXpp3Reader reader = new MavenXpp3Reader();\r\n\t\tModel model = reader.read(new FileReader(&quot;/Users/nonadmin/bins/projects/IdeaProjects/WDProject/pom.xml&quot;));\r\n\r\n\t\tfor (int i = 0; i &lt; model.getDependencies().size(); i++) {\r\n\t\t\tSystem.out.println(model.getDependencies().get(i));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n~~~\r\n\r\nOUTPUT\r\n~~~\r\nDependency {groupId=junit, artifactId=junit, version=4.11, type=jar}\r\nDependency {groupId=io.github.bonigarcia, artifactId=webdrivermanager, version=${webdrivermanager.version}, type=jar}\r\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-api, version=${selenium.version}, type=jar}\r\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-server, version=${selenium.version}, type=jar}\r\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-remote-driver, version=${selenium.version}, type=jar}\r\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-java, version=${selenium.version}, type=jar}\r\nDependency {groupId=net.lingala.zip4j, artifactId=zip4j, version=2.2.4, type=jar}\r\nDependency {groupId=org.apache.maven, artifactId=maven-model, version=3.3.9, type=jar}~~~\r\n","title":"Java get version of maven dependency at runtime","body":"<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;WDProject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;WDProject&lt;/name&gt;\n    &lt;url&gt;http://www.nosite.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n\n        &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\n        &lt;webdrivermanager.version&gt;3.7.1&lt;/webdrivermanager.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdrivermanager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\n            &lt;artifactId&gt;zip4j&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n            &lt;version&gt;3.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n\n<p>Although what you want is to search for a specific dependency, the below code retrieves all the details of the dependencies available in pom file. \nYou just need to create a wrapper method to retrieve details of specific dependencies. </p>\n\n<pre><code>\nimport org.apache.maven.model.Model;\nimport org.apache.maven.model.io.xpp3.MavenXpp3Reader;\nimport org.codehaus.plexus.util.xml.pull.XmlPullParserException;\n\nimport java.io.FileReader;\nimport java.io.IOException;\n\n\nclass SampleMavenDependencyReader {\n\n    public static void main(String[] args) throws IOException, XmlPullParserException {\n        MavenXpp3Reader reader = new MavenXpp3Reader();\n        Model model = reader.read(new FileReader(\"/Users/nonadmin/bins/projects/IdeaProjects/WDProject/pom.xml\"));\n\n        for (int i = 0; i &lt; model.getDependencies().size(); i++) {\n            System.out.println(model.getDependencies().get(i));\n        }\n    }\n}\n\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>Dependency {groupId=junit, artifactId=junit, version=4.11, type=jar}\nDependency {groupId=io.github.bonigarcia, artifactId=webdrivermanager, version=${webdrivermanager.version}, type=jar}\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-api, version=${selenium.version}, type=jar}\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-server, version=${selenium.version}, type=jar}\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-remote-driver, version=${selenium.version}, type=jar}\nDependency {groupId=org.seleniumhq.selenium, artifactId=selenium-java, version=${selenium.version}, type=jar}\nDependency {groupId=net.lingala.zip4j, artifactId=zip4j, version=2.2.4, type=jar}\nDependency {groupId=org.apache.maven, artifactId=maven-model, version=3.3.9, type=jar}~~~\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574266638,"creation_date":1574266638,"answer_id":58958888,"question_id":58956946,"body_markdown":"The most problematic part here is to find a JAR by its name. Unfortunately, there is no 100% reliable way for this in Java. To get a JAR by name, you need to scan classpath of the running application which may not always be present (e.g. because custom class loaders are used or module path is used instead of classpath).\r\n\r\nBut let&#39;s assume you are not using any fancy features like custom class loaders and you got your classpath which contains all your Maven dependencies. What do you need to do now? I&#39;ll try to describe a rough algorithm:\r\n\r\n* Retrieve paths of all JAR files from your classpath.\r\n* Scan each JAR file and find the file `pom.properties`. It&#39;s located in META-INF/maven/{groupId}/{artifactId}.\r\n* Find the value of the `version` property in `pom.properties`.\r\n\r\nAgain, this solution will not be completely reliable. You have to decide: do you really need the version information and for what purposes?","title":"Java get version of maven dependency at runtime","body":"<p>The most problematic part here is to find a JAR by its name. Unfortunately, there is no 100% reliable way for this in Java. To get a JAR by name, you need to scan classpath of the running application which may not always be present (e.g. because custom class loaders are used or module path is used instead of classpath).</p>\n\n<p>But let's assume you are not using any fancy features like custom class loaders and you got your classpath which contains all your Maven dependencies. What do you need to do now? I'll try to describe a rough algorithm:</p>\n\n<ul>\n<li>Retrieve paths of all JAR files from your classpath.</li>\n<li>Scan each JAR file and find the file <code>pom.properties</code>. It's located in META-INF/maven/{groupId}/{artifactId}.</li>\n<li>Find the value of the <code>version</code> property in <code>pom.properties</code>.</li>\n</ul>\n\n<p>Again, this solution will not be completely reliable. You have to decide: do you really need the version information and for what purposes?</p>\n"},{"tags":[],"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639516968,"creation_date":1633463384,"answer_id":69456464,"question_id":58956946,"body_markdown":"Are you looking at jars you created yourself? Or third-party libaries? I have published a lightweight solution for the former. So if the packaging of the jars you are looking for at runtime is in your own hands, go ahead and give it a try ;-). It may be a little more elegant than having to read XML or properties from jar files.\r\n\r\n# The idea\r\n\r\n1. use a **Java service loader** approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.\r\n2. Create a **maven source code generator plugin** that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.\r\n\r\n# The solution\r\nPart one of the solution is the `artifact-version-service` library, which can be found on [github](https://github.com/swesteme/artifact-version-service) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-service) now. It covers the service definition and a few ways to get the artifact versions at runtime.\r\n\r\nPart two is the `artifact-version-maven-plugin`, which can also be found on [github](https://github.com/swesteme/artifact-version-maven-plugin) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin). It is used to have a hassle-free generator implementing the service definition for each of the artifacts.\r\n\r\n# Examples\r\n### Fetching all modules with coordinates\r\nNo more reading jar manifests, just a simple method call:\r\n\r\n```java\r\n// iterate list of artifact dependencies\r\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\r\n    // print simple artifact string example\r\n    System.out.println(&quot;artifact = &quot; + artifact);\r\n}\r\n```\r\nA sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\r\n```\r\nThis way the list of artifacts is returned sorted by version numbers.\r\n\r\n### Find a specific artifact\r\n```java\r\nArtifactVersionCollector.findArtifact(&quot;foo.bar&quot;, &quot;foobar&quot;);\r\n```\r\nFetches the version details for a specific artifact.\r\n\r\n### Find artifacts with matching groupId(s)\r\nFind all artifacts with groupId `foo.bar` (exact match):\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;foo.bar&quot;, true);\r\n```\r\n\r\nFind all artifacts where groupId *starts with* `foo.bar`:\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;foo.bar&quot;, false);\r\n```\r\n\r\nSort result by version number:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;foo.&quot;, false);\r\n```\r\n\r\n### Implement custom actions on list of artifacts\r\nBy supplying a lambda, the very first example could be implemented like this:\r\n```java\r\nArtifactVersionCollector.iterateArtifacts(a -&gt; {\r\n    System.out.println(a);\r\n    return false;\r\n});\r\n```\r\n\r\n# Installation\r\nAdd these two tags to all `pom.xml` files, or maybe to a company master pom somewhere:\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;generate-service&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n","title":"Java get version of maven dependency at runtime","body":"<p>Are you looking at jars you created yourself? Or third-party libaries? I have published a lightweight solution for the former. So if the packaging of the jars you are looking for at runtime is in your own hands, go ahead and give it a try ;-). It may be a little more elegant than having to read XML or properties from jar files.</p>\n<h1>The idea</h1>\n<ol>\n<li>use a <strong>Java service loader</strong> approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.</li>\n<li>Create a <strong>maven source code generator plugin</strong> that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.</li>\n</ol>\n<h1>The solution</h1>\n<p>Part one of the solution is the <code>artifact-version-service</code> library, which can be found on <a href=\"https://github.com/swesteme/artifact-version-service\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-service\" rel=\"nofollow noreferrer\">MavenCentral</a> now. It covers the service definition and a few ways to get the artifact versions at runtime.</p>\n<p>Part two is the <code>artifact-version-maven-plugin</code>, which can also be found on <a href=\"https://github.com/swesteme/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">MavenCentral</a>. It is used to have a hassle-free generator implementing the service definition for each of the artifacts.</p>\n<h1>Examples</h1>\n<h3>Fetching all modules with coordinates</h3>\n<p>No more reading jar manifests, just a simple method call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// iterate list of artifact dependencies\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\n    // print simple artifact string example\n    System.out.println(&quot;artifact = &quot; + artifact);\n}\n</code></pre>\n<p>A sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\n</code></pre>\n<p>This way the list of artifacts is returned sorted by version numbers.</p>\n<h3>Find a specific artifact</h3>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifact(&quot;foo.bar&quot;, &quot;foobar&quot;);\n</code></pre>\n<p>Fetches the version details for a specific artifact.</p>\n<h3>Find artifacts with matching groupId(s)</h3>\n<p>Find all artifacts with groupId <code>foo.bar</code> (exact match):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;foo.bar&quot;, true);\n</code></pre>\n<p>Find all artifacts where groupId <em>starts with</em> <code>foo.bar</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;foo.bar&quot;, false);\n</code></pre>\n<p>Sort result by version number:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;foo.&quot;, false);\n</code></pre>\n<h3>Implement custom actions on list of artifacts</h3>\n<p>By supplying a lambda, the very first example could be implemented like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.iterateArtifacts(a -&gt; {\n    System.out.println(a);\n    return false;\n});\n</code></pre>\n<h1>Installation</h1>\n<p>Add these two tags to all <code>pom.xml</code> files, or maybe to a company master pom somewhere:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;generate-service&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":8593005,"reputation":1706,"user_id":6436977,"display_name":"T A"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5970,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1640251819,"creation_date":1574260826,"question_id":58956946,"body_markdown":"Is it possible to retrieve the version of a specific maven dependency at runtime? \r\n\r\nE.g. for the pom.xml:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;foo.bar&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;foobar&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI would like to retrieve the version `1.0` of a specific dependency with artifact ID `foobar`.","title":"Java get version of maven dependency at runtime","body":"<p>Is it possible to retrieve the version of a specific maven dependency at runtime? </p>\n\n<p>E.g. for the pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;foo.bar&lt;/groupId&gt;\n    &lt;artifactId&gt;foobar&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I would like to retrieve the version <code>1.0</code> of a specific dependency with artifact ID <code>foobar</code>.</p>\n"},{"tags":["java","dependency-injection","jersey","singleton","jersey-2.0"],"answers":[{"tags":[],"owner":{"account_id":6263423,"reputation":1,"user_id":4869886,"display_name":"Bfr"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1440453950,"creation_date":1440453532,"answer_id":32192422,"question_id":32192309,"body_markdown":"You can add this in your constructor : \r\n\r\n    if (instance == null)\r\n       instance = this;\r\n\r\n","title":"Jersey 2 singleton dependency injection creates multiple instances","body":"<p>You can add this in your constructor : </p>\n\n<pre><code>if (instance == null)\n   instance = this;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640251328,"creation_date":1440473081,"answer_id":32195062,"question_id":32192309,"body_markdown":"The `getSingletons` has nothing to do with injections. It is meant to register singleton JAX-RS components (i.e. resources classes and providers), which don&#39;t actually need to be &quot;classic&quot; singletons. They can just be an instance of a regular class.\r\n\r\nTo handle injection of arbitrary components/services with Jersey 2.x, see [Custom Injection and Lifecycle Management][1].\r\n\r\nThe general pattern is to create a `Factory&lt;T&gt;` implementation, with `T` being the injectable type. Then the factory needs to be registered with the Jersey runtime. One way to do that is through an `AbstractBinder`. For example\r\n\r\n    public class MyContextProvider implements Factory&lt;MyContext&gt; {\r\n    \r\n        @Override\r\n        public MyContext provide() {\r\n            return new MyContext();\r\n        }\r\n    \r\n        @Override\r\n        public void dispose(Bar bar) {}\r\n    }\r\n\r\nThen bind it in your subclass of `ResourceConfig` (which is a subclass of `Application`).\r\n\r\n    @ApplicationPath(&quot;/webresources&quot;)\r\n    public class AppConfig extends ResourceConfig {\r\n    \r\n        public AppConfig() {\r\n    \r\n            packages(&quot;com.stackoverflow.jersey&quot;);\r\n    \r\n            register(new AbstractBinder(){\r\n                @Override\r\n                protected void configure() {\r\n                    bindFactory(MyContextProvider.class)\r\n                            .to(MyContext.class)\r\n                            .in(Singleton.class);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe `packages` method allows for scanning of the package and sub-packages for resource classes (classes annotated with `@Path`) and providers (classes annotated with `@Provider`), so you don&#39;t need to explicitly register them.\r\n\r\nYou will also need to make sure you have all the needed compile-time dependencies. If you are using Maven, just use\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n\r\nThe `provided` scope is for if you are using Glassfish, as Glassfish alredy has the jars. You don&#39;t want to duplicate the jars with different version. If you are just in a servlet container like Tomcat, you can remove the `&lt;scope&gt;`. If you are not using Maven, then you need to add the jars manually from the [Jersey JAX-RS 2.0 RI bundle][2]. And likewise, if you are in Glassfish, you need to make the jars only compile-time jars. You do not want to include them into the build of the war.\r\n\r\n[1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/ioc.html\r\n[2]: https://eclipse-ee4j.github.io/jersey/download.html","title":"Jersey 2 singleton dependency injection creates multiple instances","body":"<p>The <code>getSingletons</code> has nothing to do with injections. It is meant to register singleton JAX-RS components (i.e. resources classes and providers), which don't actually need to be &quot;classic&quot; singletons. They can just be an instance of a regular class.</p>\n<p>To handle injection of arbitrary components/services with Jersey 2.x, see <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/ioc.html\" rel=\"nofollow noreferrer\">Custom Injection and Lifecycle Management</a>.</p>\n<p>The general pattern is to create a <code>Factory&lt;T&gt;</code> implementation, with <code>T</code> being the injectable type. Then the factory needs to be registered with the Jersey runtime. One way to do that is through an <code>AbstractBinder</code>. For example</p>\n<pre><code>public class MyContextProvider implements Factory&lt;MyContext&gt; {\n\n    @Override\n    public MyContext provide() {\n        return new MyContext();\n    }\n\n    @Override\n    public void dispose(Bar bar) {}\n}\n</code></pre>\n<p>Then bind it in your subclass of <code>ResourceConfig</code> (which is a subclass of <code>Application</code>).</p>\n<pre><code>@ApplicationPath(&quot;/webresources&quot;)\npublic class AppConfig extends ResourceConfig {\n\n    public AppConfig() {\n\n        packages(&quot;com.stackoverflow.jersey&quot;);\n\n        register(new AbstractBinder(){\n            @Override\n            protected void configure() {\n                bindFactory(MyContextProvider.class)\n                        .to(MyContext.class)\n                        .in(Singleton.class);\n            }\n        });\n    }\n}\n</code></pre>\n<p>The <code>packages</code> method allows for scanning of the package and sub-packages for resource classes (classes annotated with <code>@Path</code>) and providers (classes annotated with <code>@Provider</code>), so you don't need to explicitly register them.</p>\n<p>You will also need to make sure you have all the needed compile-time dependencies. If you are using Maven, just use</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;version&gt;2.19&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>The <code>provided</code> scope is for if you are using Glassfish, as Glassfish alredy has the jars. You don't want to duplicate the jars with different version. If you are just in a servlet container like Tomcat, you can remove the <code>&lt;scope&gt;</code>. If you are not using Maven, then you need to add the jars manually from the <a href=\"https://eclipse-ee4j.github.io/jersey/download.html\" rel=\"nofollow noreferrer\">Jersey JAX-RS 2.0 RI bundle</a>. And likewise, if you are in Glassfish, you need to make the jars only compile-time jars. You do not want to include them into the build of the war.</p>\n"}],"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4227,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1640251328,"creation_date":1440452950,"question_id":32192309,"body_markdown":"Here I have a singleton, that I whant to inject to my application\r\n\r\n    @Singleton\r\n    @Path(&quot;singleton-bean&quot;)\r\n    public class MyContext {\r\n    \r\n        private MyContext() {\r\n            instances++;\r\n        }\r\n    \r\n        private static MyContext instance;\r\n    \r\n        public static MyContext getInstance(){\r\n            if (instance == null)\r\n                instance = new MyContext();\r\n            return instance;\r\n        }\r\n    \r\n        public static int instances = 0;\r\n    \r\n    }\r\n\r\nHere&#39;s how I register it:\r\n\r\n    @ApplicationPath(&quot;webresources&quot;)\r\n    public class ApplicationConfig extends Application {\r\n    \r\n        @Override\r\n        public Set&lt;Object&gt; getSingletons() {\r\n            final Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\r\n            singletons.add(MyContext.getInstance());\r\n            return singletons;\r\n        }\r\n\r\n        //.....\r\n\r\nFinally, I print the nuber of singletons in request: \r\n\r\n    @Path(&quot;foo&quot;)\r\n    public class Foo {\r\n    \r\n        @Inject\r\n        public MyContext message;\r\n    \r\n        @GET\r\n        public String index() throws UnknownHostException {\r\n            return String.format(&quot;%s number of instances: %s&quot;, message, MyContext.instances);\r\n        }\r\n\r\nIt returns two instances. I understand that Jersey uses reflections to access private constructor and create another instance. Why is this happening and how do I prevent this?","title":"Jersey 2 singleton dependency injection creates multiple instances","body":"<p>Here I have a singleton, that I whant to inject to my application</p>\n\n<pre><code>@Singleton\n@Path(\"singleton-bean\")\npublic class MyContext {\n\n    private MyContext() {\n        instances++;\n    }\n\n    private static MyContext instance;\n\n    public static MyContext getInstance(){\n        if (instance == null)\n            instance = new MyContext();\n        return instance;\n    }\n\n    public static int instances = 0;\n\n}\n</code></pre>\n\n<p>Here's how I register it:</p>\n\n<pre><code>@ApplicationPath(\"webresources\")\npublic class ApplicationConfig extends Application {\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        final Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\n        singletons.add(MyContext.getInstance());\n        return singletons;\n    }\n\n    //.....\n</code></pre>\n\n<p>Finally, I print the nuber of singletons in request: </p>\n\n<pre><code>@Path(\"foo\")\npublic class Foo {\n\n    @Inject\n    public MyContext message;\n\n    @GET\n    public String index() throws UnknownHostException {\n        return String.format(\"%s number of instances: %s\", message, MyContext.instances);\n    }\n</code></pre>\n\n<p>It returns two instances. I understand that Jersey uses reflections to access private constructor and create another instance. Why is this happening and how do I prevent this?</p>\n"},{"tags":["java","spring-boot","jms","grpc"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1640258230,"post_id":70459210,"comment_id":124554494,"body_markdown":"What happens when insertion fails, will an exception be thrown?","body":"What happens when insertion fails, will an exception be thrown?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1640263814,"post_id":70459210,"comment_id":124556196,"body_markdown":"What have you tried so far that hasn&#39;t worked?","body":"What have you tried so far that hasn&#39;t worked?"},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1640270004,"post_id":70459210,"comment_id":124558292,"body_markdown":"@Renis1235 We should eventually send an exception if all 3 tries are failed ultimately.","body":"@Renis1235 We should eventually send an exception if all 3 tries are failed ultimately."},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1640270036,"post_id":70459210,"comment_id":124558307,"body_markdown":"@JustinBertram I use a while loop but this solution doesn&#39;t seems very good to me.","body":"@JustinBertram I use a while loop but this solution doesn&#39;t seems very good to me."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1640271809,"post_id":70459210,"comment_id":124558956,"body_markdown":"A `while` loop (or equivalent) seems like a perfectly reasonable solution to me. Why doesn&#39;t that seem &quot;very good&quot; to you?","body":"A <code>while</code> loop (or equivalent) seems like a perfectly reasonable solution to me. Why doesn&#39;t that seem &quot;very good&quot; to you?"},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1640274055,"post_id":70459210,"comment_id":124559716,"body_markdown":"@Arefe a do while loop should be more than enough. Use a counter for your failed attempts and break when the counter &gt;= 3","body":"@Arefe a do while loop should be more than enough. Use a counter for your failed attempts and break when the counter &gt;= 3"},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1640276274,"post_id":70459210,"comment_id":124560485,"body_markdown":"@Renis1235 I did exactly that","body":"@Renis1235 I did exactly that"}],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640251284,"creation_date":1640246327,"question_id":70459210,"body_markdown":"We have a gRPC server that inserts the data into the CockRoachDB and the data is coming from a Spring Boot micro-service. \r\n\r\nThis is my code to persist in the CRDB database:\r\n\r\n\r\n    @Service\r\n    @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\r\n    public class CockroachPersister {\r\n    \r\n        private static final String X_AMZN_REQUESTID = &quot;x-amzn-RequestId&quot;;\r\n        private static final String X_AMZN_RESPONSE = &quot;x-amzn-Response&quot;;\r\n        private static final String PUTITEM = &quot;PutItem&quot;;\r\n        private static final String GETITEM = &quot;GetItem&quot;;\r\n        private static final String DELETEITEM = &quot;DeleteItem&quot;;\r\n        private static final String UPDATEITEM = &quot;UpdateItem&quot;;\r\n    \r\n    \r\n    \r\n        public  &lt;T extends Message&gt; T save(final String requestBody, final String action, final String tableName) {\r\n            T t = null;\r\n            try {\r\n                List&lt;GRPCMapper&gt; lGRPCMapper = ServiceMapper.getServices(action,tableName);\r\n                for (GRPCMapper grpcMapper : lGRPCMapper) {\r\n                    System.out.println(&quot;grpcMapper.getClassName() ==&gt; &quot;+grpcMapper.getClassName());\r\n                    Class&lt;?&gt; className = Class.forName(grpcMapper.getClassName());\r\n                    Class&lt;?&gt; implementedClassType = Class.forName(grpcMapper.getImplementedClass());\r\n                    Method userMethod = implementedClassType.getDeclaredMethod(grpcMapper.getServiceName(), className);\r\n                    System.out.println(&quot;userMethod\\t&quot; + userMethod.getName());\r\n                    t = (T) userMethod.invoke(null, ProtoUtil.getInstance(requestBody, grpcMapper.getProtoType()));\r\n                    System.out.printf(&quot;Service =&gt; %s row(s) Inserted \\n&quot;, t.getAllFields().toString());\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return t;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nIf the initial insertion failed, I would like to try at least 3 TIMES before we can log the error. How do I implement that? \r\n\r\nA solution that use message queue will be also acceptable. \r\n\r\n","title":"Persist data to the DB with message queue","body":"<p>We have a gRPC server that inserts the data into the CockRoachDB and the data is coming from a Spring Boot micro-service.</p>\n<p>This is my code to persist in the CRDB database:</p>\n<pre><code>@Service\n@Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\npublic class CockroachPersister {\n\n    private static final String X_AMZN_REQUESTID = &quot;x-amzn-RequestId&quot;;\n    private static final String X_AMZN_RESPONSE = &quot;x-amzn-Response&quot;;\n    private static final String PUTITEM = &quot;PutItem&quot;;\n    private static final String GETITEM = &quot;GetItem&quot;;\n    private static final String DELETEITEM = &quot;DeleteItem&quot;;\n    private static final String UPDATEITEM = &quot;UpdateItem&quot;;\n\n\n\n    public  &lt;T extends Message&gt; T save(final String requestBody, final String action, final String tableName) {\n        T t = null;\n        try {\n            List&lt;GRPCMapper&gt; lGRPCMapper = ServiceMapper.getServices(action,tableName);\n            for (GRPCMapper grpcMapper : lGRPCMapper) {\n                System.out.println(&quot;grpcMapper.getClassName() ==&gt; &quot;+grpcMapper.getClassName());\n                Class&lt;?&gt; className = Class.forName(grpcMapper.getClassName());\n                Class&lt;?&gt; implementedClassType = Class.forName(grpcMapper.getImplementedClass());\n                Method userMethod = implementedClassType.getDeclaredMethod(grpcMapper.getServiceName(), className);\n                System.out.println(&quot;userMethod\\t&quot; + userMethod.getName());\n                t = (T) userMethod.invoke(null, ProtoUtil.getInstance(requestBody, grpcMapper.getProtoType()));\n                System.out.printf(&quot;Service =&gt; %s row(s) Inserted \\n&quot;, t.getAllFields().toString());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return t;\n\n    }\n\n}\n</code></pre>\n<p>If the initial insertion failed, I would like to try at least 3 TIMES before we can log the error. How do I implement that?</p>\n<p>A solution that use message queue will be also acceptable.</p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1640251008,"post_id":70459904,"comment_id":124551984,"body_markdown":"Can you show are is the `preparedStatement` created? -- the actual variable declaration/assignment","body":"Can you show are is the <code>preparedStatement</code> created? -- the actual variable declaration/assignment"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":1,"creation_date":1640251132,"post_id":70459904,"comment_id":124552023,"body_markdown":"I think this is what you&#39;re looking for: https://stackoverflow.com/a/1097957/5640649","body":"I think this is what you&#39;re looking for: <a href=\"https://stackoverflow.com/a/1097957/5640649\">stackoverflow.com/a/1097957/5640649</a>"},{"owner":{"account_id":13127942,"reputation":149,"user_id":9483238,"display_name":"Vizard"},"score":0,"creation_date":1640251331,"post_id":70459904,"comment_id":124552102,"body_markdown":"@lealceldeiro is there any way that I could use NamedParameterJdbcTemplate here? I&#39;m not using Spring atm","body":"@lealceldeiro is there any way that I could use NamedParameterJdbcTemplate here? I&#39;m not using Spring atm"},{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":0,"creation_date":1640251484,"post_id":70459904,"comment_id":124552163,"body_markdown":"It seems no, but I&#39;m not a regular user of JDBC, so I might be missing something","body":"It seems no, but I&#39;m not a regular user of JDBC, so I might be missing something"}],"answers":[{"tags":[],"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640251093,"creation_date":1640251093,"answer_id":70459966,"question_id":70459904,"body_markdown":"```sql\r\nselect p.*,\r\n       ROUND(sum(unitsPerBlock * blocks) / datediff(CURRENT_DATE, input.parameter), 2) as avg\r\nfrom batches b\r\ninner join products p on b.productID = p.id\r\n\r\nCROSS JOIN (SELECT date(?) AS parameter) AS input\r\n\r\nwhere (\r\n          select sum(b1.availableQty)\r\n          from batches b1\r\n          where b1.productID = p.id\r\n            and b1.addedDate between input.parameter and CURRENT_DATE)\r\n      ) = 0\r\nand b.addedDate between input.parameter and CURRENT_DATE\r\ngroup by b.productID\r\norder by avg desc\r\n```","title":"Use a value in MySQL query in multiple lines without a variable","body":"<pre class=\"lang-sql prettyprint-override\"><code>select p.*,\n       ROUND(sum(unitsPerBlock * blocks) / datediff(CURRENT_DATE, input.parameter), 2) as avg\nfrom batches b\ninner join products p on b.productID = p.id\n\nCROSS JOIN (SELECT date(?) AS parameter) AS input\n\nwhere (\n          select sum(b1.availableQty)\n          from batches b1\n          where b1.productID = p.id\n            and b1.addedDate between input.parameter and CURRENT_DATE)\n      ) = 0\nand b.addedDate between input.parameter and CURRENT_DATE\ngroup by b.productID\norder by avg desc\n</code></pre>\n"}],"owner":{"account_id":13127942,"reputation":149,"user_id":9483238,"display_name":"Vizard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70459966,"answer_count":1,"score":1,"last_activity_date":1640251093,"creation_date":1640250837,"question_id":70459904,"body_markdown":"I have this mysql query that uses the same value I&#39;m passing, 3 times over. \r\n\r\n    select p.*,\r\n           ROUND(sum(unitsPerBlock * blocks) / datediff(date(now()), date(?)), 2) as avg\r\n    from batches b\r\n    inner join products p on b.productID = p.id\r\n    where (\r\n              select sum(b1.availableQty)\r\n              from batches b1\r\n              where b1.productID = p.id\r\n                and b1.addedDate between date(?) and date(now())\r\n          ) = 0\r\n    and b.addedDate between date(?) and date(now())\r\n    group by b.productID\r\n    order by avg desc\r\n\r\nIs there any way to make this query without me having to type the below\r\n\r\n    preparedStatement.setString(1, date);\r\n    preparedStatement.setString(2, date);\r\n    preparedStatement.setString(3, date);\r\n\r\nAnd just use this\r\n\r\n    preparedStatement.setString(1, date);","title":"Use a value in MySQL query in multiple lines without a variable","body":"<p>I have this mysql query that uses the same value I'm passing, 3 times over.</p>\n<pre><code>select p.*,\n       ROUND(sum(unitsPerBlock * blocks) / datediff(date(now()), date(?)), 2) as avg\nfrom batches b\ninner join products p on b.productID = p.id\nwhere (\n          select sum(b1.availableQty)\n          from batches b1\n          where b1.productID = p.id\n            and b1.addedDate between date(?) and date(now())\n      ) = 0\nand b.addedDate between date(?) and date(now())\ngroup by b.productID\norder by avg desc\n</code></pre>\n<p>Is there any way to make this query without me having to type the below</p>\n<pre><code>preparedStatement.setString(1, date);\npreparedStatement.setString(2, date);\npreparedStatement.setString(3, date);\n</code></pre>\n<p>And just use this</p>\n<pre><code>preparedStatement.setString(1, date);\n</code></pre>\n"},{"tags":["java","sql","jooq","translators","jooq-codegen-maven"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640250833,"creation_date":1640250833,"answer_id":70459902,"question_id":70459014,"body_markdown":"There&#39;s a pending feature request to offer the translator as an out of the box web service for the jOOQ Enterprise Edition, but you can also easily roll your own using the [jOOQ parser as a programmatic API][1]. Perhaps, [the parser CLI][2] can be taken as a source of inspiration on how to do this?\r\n\r\nThe [`SQLDialect.JAVA`][3] dialect used in your screenshot is available from the jOOQ Professional Edition.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/sql-parser-cli/\r\n  [3]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SQLDialect.html#JAVA","title":"Could jOOQ(Java)-SQL translator API be self hosted?","body":"<p>There's a pending feature request to offer the translator as an out of the box web service for the jOOQ Enterprise Edition, but you can also easily roll your own using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/\" rel=\"nofollow noreferrer\">jOOQ parser as a programmatic API</a>. Perhaps, <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-parser/sql-parser-cli/\" rel=\"nofollow noreferrer\">the parser CLI</a> can be taken as a source of inspiration on how to do this?</p>\n<p>The <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SQLDialect.html#JAVA\" rel=\"nofollow noreferrer\"><code>SQLDialect.JAVA</code></a> dialect used in your screenshot is available from the jOOQ Professional Edition.</p>\n"}],"owner":{"account_id":19533771,"reputation":11,"user_id":17746400,"display_name":"摆码王子"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640250929,"creation_date":1640244964,"question_id":70459014,"body_markdown":"I am using https://www.jooq.org/translate/ to translate SQL queries, and I want to translate SQL into jOOQ (Java) statements.\r\n\r\nCan the program for to this API provide an installation package for self-hosting?\r\n\r\nI want to deploy this API on my own server.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8NFPI.png","title":"Could jOOQ(Java)-SQL translator API be self hosted?","body":"<p>I am using <a href=\"https://www.jooq.org/translate/\" rel=\"nofollow noreferrer\">https://www.jooq.org/translate/</a> to translate SQL queries, and I want to translate SQL into jOOQ (Java) statements.</p>\n<p>Can the program for to this API provide an installation package for self-hosting?</p>\n<p>I want to deploy this API on my own server.</p>\n<p><a href=\"https://i.stack.imgur.com/8NFPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8NFPI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","memory-leaks","hashmap","garbage-collection","jprofiler"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1640595842,"post_id":70459033,"comment_id":124610891,"body_markdown":"Having a gc log will make things a whole lot easier.","body":"Having a gc log will make things a whole lot easier."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1640595930,"post_id":70459033,"comment_id":124610925,"body_markdown":"Also, there&#39;s quite a bit extra information you can give us that helps trying to diagnose the problem. Add the jvm version and the jvm flags. Be careful to get the max heap size in there as well.","body":"Also, there&#39;s quite a bit extra information you can give us that helps trying to diagnose the problem. Add the jvm version and the jvm flags. Be careful to get the max heap size in there as well."}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640250465,"creation_date":1640250465,"answer_id":70459841,"question_id":70459033,"body_markdown":"In the references view of the heap walker (your second screen shot), there is a view mode at the top (set to &quot;Outgoing references&quot; in the screen shot). To see what is contained in the entries, change it to &quot;Merged outgoing references&quot;.\r\n\r\nHowever, to find a leak, you also have to think the other way around and ask what is holding on to the hash map entries. For that purpose, choose the &quot;Merged incoming references&quot; view mode. \r\n\r\nIn order to see &quot;dominating references&quot;, the &quot;Merged dominating references&quot; view mode is useful. For each node in the tree, if you remove the corresponding object from the heap, it would free all ancestor nodes.","title":"Jprofile to analysis meomery leak in hprof where there is plenty of hashmap entries","body":"<p>In the references view of the heap walker (your second screen shot), there is a view mode at the top (set to &quot;Outgoing references&quot; in the screen shot). To see what is contained in the entries, change it to &quot;Merged outgoing references&quot;.</p>\n<p>However, to find a leak, you also have to think the other way around and ask what is holding on to the hash map entries. For that purpose, choose the &quot;Merged incoming references&quot; view mode.</p>\n<p>In order to see &quot;dominating references&quot;, the &quot;Merged dominating references&quot; view mode is useful. For each node in the tree, if you remove the corresponding object from the heap, it would free all ancestor nodes.</p>\n"}],"owner":{"account_id":23726414,"reputation":13,"user_id":17746264,"display_name":"stevetsin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70459841,"answer_count":1,"score":1,"last_activity_date":1640250465,"creation_date":1640245043,"question_id":70459033,"body_markdown":"I took over a JAVA-WEB based SOA system recently and it doesn&#39;t runs that well untill now. One of the springboot applications will take up up to 100% of the CPU use. By using jastack I get to know that most of the Cpu use was made by GC threads, for there are something in jvm that cannot be collected and removed. I made the dump and the hprof file was about 20Gbk in size,Which seems much too big.\r\n\r\nBy using Jprofiler I happen to know that there are  a lot of of hashmap entries,aprroximately 80,635,782 instances in total(showed as follows).  \r\n[Jprofiler Heapwalker results][1]\r\nSo there must be some meomery leaks among theses Hashmap entries(Maybe the un-proper keys).But too many instances so it is hard to find the right place where memeory leak happens.(Maybe I havnt find the right way to use Jprofiler)[too many instances to find][2]. \r\n\r\nI&#39;d appreciate it if you can help , how to do with so many instances.THKS!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/airyh.png\r\n  [2]: https://i.stack.imgur.com/XAuwp.png","title":"Jprofile to analysis meomery leak in hprof where there is plenty of hashmap entries","body":"<p>I took over a JAVA-WEB based SOA system recently and it doesn't runs that well untill now. One of the springboot applications will take up up to 100% of the CPU use. By using jastack I get to know that most of the Cpu use was made by GC threads, for there are something in jvm that cannot be collected and removed. I made the dump and the hprof file was about 20Gbk in size,Which seems much too big.</p>\n<p>By using Jprofiler I happen to know that there are  a lot of of hashmap entries,aprroximately 80,635,782 instances in total(showed as follows).<br />\n<a href=\"https://i.stack.imgur.com/airyh.png\" rel=\"nofollow noreferrer\">Jprofiler Heapwalker results</a>\nSo there must be some meomery leaks among theses Hashmap entries(Maybe the un-proper keys).But too many instances so it is hard to find the right place where memeory leak happens.(Maybe I havnt find the right way to use Jprofiler)<a href=\"https://i.stack.imgur.com/XAuwp.png\" rel=\"nofollow noreferrer\">too many instances to find</a>.</p>\n<p>I'd appreciate it if you can help , how to do with so many instances.THKS!</p>\n"},{"tags":["java","undertow"],"answers":[{"tags":[],"owner":{"account_id":21201095,"reputation":405,"user_id":15591732,"display_name":"Sofyane MAKERRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640249746,"creation_date":1640249746,"answer_id":70459724,"question_id":70459600,"body_markdown":"In my view, you can use health check in your proxy like ngnix (see this documentation) : \r\n\r\nhttps://docs.nginx.com/nginx/admin-guide/load-balancer/http-health-check/","title":"Check the Health of Undertow deployed application using Http call java","body":"<p>In my view, you can use health check in your proxy like ngnix (see this documentation) :</p>\n<p><a href=\"https://docs.nginx.com/nginx/admin-guide/load-balancer/http-health-check/\" rel=\"nofollow noreferrer\">https://docs.nginx.com/nginx/admin-guide/load-balancer/http-health-check/</a></p>\n"}],"owner":{"account_id":8899884,"reputation":180,"user_id":6643647,"display_name":"Prabu M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640249746,"creation_date":1640248996,"question_id":70459600,"body_markdown":"As I have deployed my legacy application into Undertow server.\r\nI need to create an endpoint to check the health of the server thrw Http.\r\nWe are having methods like \r\n``` HTTPServer.server().restart()```.\r\nCan anyone help on this","title":"Check the Health of Undertow deployed application using Http call java","body":"<p>As I have deployed my legacy application into Undertow server.\nI need to create an endpoint to check the health of the server thrw Http.\nWe are having methods like\n<code> HTTPServer.server().restart()</code>.\nCan anyone help on this</p>\n"},{"tags":["java","parameters","arguments","void"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1640249680,"post_id":70459695,"comment_id":124551570,"body_markdown":"Wouldn&#39;t it be easier to make `ParameterItem()` (or `parameterItem()` for proper naming) return the value you want it to print, rather than having the printing functionality built in?","body":"Wouldn&#39;t it be easier to make <code>ParameterItem()</code> (or <code>parameterItem()</code> for proper naming) return the value you want it to print, rather than having the printing functionality built in?"},{"owner":{"account_id":2789962,"reputation":354,"user_id":2400380,"accept_rate":40,"display_name":"Amir M"},"score":0,"creation_date":1640249922,"post_id":70459695,"comment_id":124551653,"body_markdown":"Does this answer your question? [How to pass a function as a parameter in java](https://stackoverflow.com/questions/48594418/how-to-pass-a-function-as-a-parameter-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48594418/how-to-pass-a-function-as-a-parameter-in-java\">How to pass a function as a parameter in java</a>"},{"owner":{"account_id":2789962,"reputation":354,"user_id":2400380,"accept_rate":40,"display_name":"Amir M"},"score":0,"creation_date":1640249930,"post_id":70459695,"comment_id":124551657,"body_markdown":"Check this https://stackoverflow.com/a/4685606/2400380","body":"Check this <a href=\"https://stackoverflow.com/a/4685606/2400380\">stackoverflow.com/a/4685606/2400380</a>"},{"owner":{"account_id":21240478,"reputation":13,"user_id":15624028,"display_name":"grkemaykac"},"score":0,"creation_date":1640253817,"post_id":70459695,"comment_id":124552926,"body_markdown":"ParametersItem is void method thats return nothing","body":"ParametersItem is void method thats return nothing"}],"owner":{"account_id":21240478,"reputation":13,"user_id":15624028,"display_name":"grkemaykac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640250251,"answer_count":0,"score":0,"last_activity_date":1640249572,"creation_date":1640249572,"question_id":70459695,"body_markdown":"I want to pass void parameter to another void method.\r\n    For example;\r\n\r\n    public void WriteItem(ParameterItem())\r\n    {\r\n    System.out.println(&quot;1&quot;);\r\n    ParameterItem();\r\n    System.ou.println(&quot;2&quot;);\r\n    }\r\n    \r\n    //In Another Class\r\n    public void ParameterItem()\r\n    {\r\n    System.out.println(&quot;ABC&quot;);\r\n    }\r\nI want this:\r\n    1\r\n    ABC\r\n    2","title":"Java 8 Pass void parameter to method","body":"<p>I want to pass void parameter to another void method.\nFor example;</p>\n<pre><code>public void WriteItem(ParameterItem())\n{\nSystem.out.println(&quot;1&quot;);\nParameterItem();\nSystem.ou.println(&quot;2&quot;);\n}\n\n//In Another Class\npublic void ParameterItem()\n{\nSystem.out.println(&quot;ABC&quot;);\n}\n</code></pre>\n<p>I want this:\n1\nABC\n2</p>\n"},{"tags":["java","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":19738023,"reputation":43,"user_id":14452038,"display_name":"Jimmy Wire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640249502,"creation_date":1640249502,"answer_id":70459681,"question_id":70459173,"body_markdown":"I&#39;ve found a solution after four days of struggling.\r\n\r\nFirst initialize your Window class inside the RecyclerView Adapter.\r\n\r\n    Window window;\r\n\r\n\r\nThen add the Window class in your constructor inside your recycler view adapter.\r\n  \r\n     public RecyclerViewAdapter(Window window){\r\n            this.window = window;\r\n         }\r\n\r\n\r\nInside your Window class initalize your adapter\r\n\r\n     RecyclerViewAdapter recyclerviewAdapter = new RecyclerviewAdapter(this);","title":"How to close a floating window from a recyclerview adapter","body":"<p>I've found a solution after four days of struggling.</p>\n<p>First initialize your Window class inside the RecyclerView Adapter.</p>\n<pre><code>Window window;\n</code></pre>\n<p>Then add the Window class in your constructor inside your recycler view adapter.</p>\n<pre><code> public RecyclerViewAdapter(Window window){\n        this.window = window;\n     }\n</code></pre>\n<p>Inside your Window class initalize your adapter</p>\n<pre><code> RecyclerViewAdapter recyclerviewAdapter = new RecyclerviewAdapter(this);\n</code></pre>\n"}],"owner":{"account_id":19738023,"reputation":43,"user_id":14452038,"display_name":"Jimmy Wire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640249502,"creation_date":1640246118,"question_id":70459173,"body_markdown":"I have created an app where a floating window pops up into the screen when a specific time reaches. The floating window contains a recycler view that displays a list of items. I have placed a method that dismisses the floating window when an item in the recycler view is clicked but it&#39;s not been triggered. How do I solve this issue?\r\n\r\nThis is the Window class.\r\n    \r\n\r\n    public class Window {\r\n\r\n    // declaring required variables\r\n    private Context context;\r\n    private View mView;\r\n    private TheFloatingWindowAppsAdapter theFloatingWindowAppsAdapter;\r\n    private WindowManager.LayoutParams mParams;\r\n    private WindowManager mWindowManager;\r\n    private LayoutInflater layoutInflater;\r\n\r\n    public Window(Context context) {\r\n        this.context = context;\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            // set the layout parameters of the window\r\n            mParams = new WindowManager.LayoutParams(\r\n                    // Shrink the window to wrap the content rather\r\n                    // than filling the screen\r\n                    WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT,\r\n                    // Display it on top of other application windows\r\n                    WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\r\n                    // Don&#39;t let it grab the input focus\r\n                    WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n                    // Make the underlying application window visible\r\n                    // through any transparent parts\r\n                    PixelFormat.TRANSLUCENT);\r\n        }\r\n\r\n        // getting a LayoutInflater\r\n        layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        // inflating the view with the custom layout we created\r\n        mView = layoutInflater.inflate(R.layout.theheartlayout, null);\r\n\r\n        mView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n        );\r\n\r\n        String thepassingDate = new SimpleDateFormat(&quot;EEE MMM dd, yyyy&quot;, Locale.getDefault()).format(new Date());\r\n\r\n        TextClock time = mView.findViewById(R.id.hourText);\r\n        TextView theDateText = mView.findViewById(R.id.theDateText);\r\n        RecyclerView upnext_tasksID = mView.findViewById(R.id.upnext_tasksID);\r\n        RecyclerView app_listID = mView.findViewById(R.id.app_listID);\r\n        List&lt;AppDetails&gt; appDetailsList = new ArrayList&lt;&gt;();\r\n        TheFloatingWindowAppsAdapter theFloatingWindowAppsAdapter = new TheFloatingWindowAppsAdapter(appDetailsList, context);\r\n        app_listID.setHasFixedSize(true);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false);\r\n        app_listID.setLayoutManager(layoutManager);\r\n\r\n        app_listID.setAdapter(theFloatingWindowAppsAdapter);\r\n        theDateText.setText(thepassingDate);\r\n\r\n        displayItems(appDetailsList, theFloatingWindowAppsAdapter);\r\n\r\n        // Define the position of the\r\n        // window within the screen\r\n        mParams.gravity = Gravity.CENTER;\r\n        mWindowManager = (WindowManager) context.getSystemService(WINDOW_SERVICE);\r\n\r\n    }\r\n\r\n    public void open() {\r\n        try {\r\n            // check if the view is already\r\n            // inflated or present in the window\r\n            if (mView.getWindowToken() == null) {\r\n                if (mView.getParent() == null) {\r\n                    mWindowManager.addView(mView, mParams);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            Log.d(&quot;Error1&quot;, e.toString());\r\n        }\r\n\r\n    }\r\n\r\n    public void close() {\r\n        try {\r\n            // remove the view from the window\r\n            ((WindowManager) context.getSystemService(WINDOW_SERVICE)).removeView(mView);\r\n            // invalidate the view\r\n            mView.invalidate();\r\n            // remove all views\r\n            ((ViewGroup) mView.getParent()).removeAllViews();\r\n\r\n            // the above steps are necessary when you are adding and removing\r\n            // the view simultaneously, it might give some exceptions\r\n        } catch (Exception e) {\r\n            Log.d(&quot;Error2&quot;, e.toString());\r\n        }\r\n    }\r\n\r\n    private void displayItems(List&lt;AppDetails&gt; appDetailsList, TheFloatingWindowAppsAdapter adapter) {\r\n        FirebaseAuth firebaseAuth = FirebaseAuth.getInstance();\r\n        FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;Selected Apps&quot;)\r\n                .child(firebaseUser.getUid());\r\n        reference.keepSynced(true);\r\n\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                appDetailsList.clear();\r\n                for (DataSnapshot sn : snapshot.getChildren()) {\r\n                    AppDetails appDetails = sn.getValue(AppDetails.class);\r\n\r\n                    if (appDetails.getAppid() != null) {\r\n                        appDetailsList.add(appDetails);\r\n                    }\r\n\r\n                }\r\n\r\n                adapter.notifyDataSetChanged();\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n    }\r\n\r\n\r\nThis is the Recyclerview Adapter\r\n\r\n    public class TheFloatingWindowAppsAdapter extends RecyclerView.Adapter&lt;TheFloatingWindowAppsAdapter.ViewHolder&gt; {\r\n\r\n    List&lt;AppDetails&gt; appDetailsList;\r\n    Context context;\r\n    View view;\r\n\r\n    public TheFloatingWindowAppsAdapter(List&lt;AppDetails&gt; appDetailsList, Context context) {\r\n        this.appDetailsList = appDetailsList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        view = LayoutInflater.from(context).inflate(R.layout.thefloatingwindowapps, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        AppDetails appDetails = appDetailsList.get(position);\r\n        holder.displayedName.setText(appDetails.getAppname());\r\n\r\n\r\n        holder.itemView.setOnClickListener(view -&gt; {\r\n            Intent intent = context.getPackageManager().getLaunchIntentForPackage(appDetails.getPackagename());\r\n\r\n            if (intent != null) {\r\n                context.startActivity(intent);\r\n                Window window = new Window(context);\r\n                window.close();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return appDetailsList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView displayedName;\r\n        private Window window = new Window(context);\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            displayedName = itemView.findViewById(R.id.displayedName);\r\n        }\r\n\r\n    }\r\n    }\r\n\r\nThis is the Foreground Class\r\n\r\n    public class ForegroundServices extends Service {\r\n    public ForegroundServices() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        // create the custom or default notification\r\n        // based on the android version\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n            startMyOwnForeground();\r\n        else\r\n            startForeground(1, new Notification());\r\n\r\n        // create an instance of Window class\r\n        // and display the content on screen\r\n        Window window = new Window(this);\r\n        window.open();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    // for android version &gt;=O we need to create\r\n    // custom notification stating\r\n    // foreground service is running\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private void startMyOwnForeground() {\r\n        String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\r\n        String channelName = &quot;Background Service&quot;;\r\n        NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_MIN);\r\n\r\n        NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        assert manager != null;\r\n        manager.createNotificationChannel(chan);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n        Notification notification = notificationBuilder.setOngoing(true)\r\n                .setContentTitle(&quot;Service running&quot;)\r\n                .setContentText(&quot;Displaying over other apps&quot;)\r\n\r\n                // this is important, otherwise the notification will show the way\r\n                // you want i.e. it will show some default notification\r\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n\r\n                .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                .setCategory(Notification.CATEGORY_SERVICE)\r\n                .build();\r\n        startForeground(2, notification);\r\n    }\r\n    }","title":"How to close a floating window from a recyclerview adapter","body":"<p>I have created an app where a floating window pops up into the screen when a specific time reaches. The floating window contains a recycler view that displays a list of items. I have placed a method that dismisses the floating window when an item in the recycler view is clicked but it's not been triggered. How do I solve this issue?</p>\n<p>This is the Window class.</p>\n<pre><code>public class Window {\n\n// declaring required variables\nprivate Context context;\nprivate View mView;\nprivate TheFloatingWindowAppsAdapter theFloatingWindowAppsAdapter;\nprivate WindowManager.LayoutParams mParams;\nprivate WindowManager mWindowManager;\nprivate LayoutInflater layoutInflater;\n\npublic Window(Context context) {\n    this.context = context;\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        // set the layout parameters of the window\n        mParams = new WindowManager.LayoutParams(\n                // Shrink the window to wrap the content rather\n                // than filling the screen\n                WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.MATCH_PARENT,\n                // Display it on top of other application windows\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n                // Don't let it grab the input focus\n                WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n                // Make the underlying application window visible\n                // through any transparent parts\n                PixelFormat.TRANSLUCENT);\n    }\n\n    // getting a LayoutInflater\n    layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    // inflating the view with the custom layout we created\n    mView = layoutInflater.inflate(R.layout.theheartlayout, null);\n\n    mView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n    );\n\n    String thepassingDate = new SimpleDateFormat(&quot;EEE MMM dd, yyyy&quot;, Locale.getDefault()).format(new Date());\n\n    TextClock time = mView.findViewById(R.id.hourText);\n    TextView theDateText = mView.findViewById(R.id.theDateText);\n    RecyclerView upnext_tasksID = mView.findViewById(R.id.upnext_tasksID);\n    RecyclerView app_listID = mView.findViewById(R.id.app_listID);\n    List&lt;AppDetails&gt; appDetailsList = new ArrayList&lt;&gt;();\n    TheFloatingWindowAppsAdapter theFloatingWindowAppsAdapter = new TheFloatingWindowAppsAdapter(appDetailsList, context);\n    app_listID.setHasFixedSize(true);\n    RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false);\n    app_listID.setLayoutManager(layoutManager);\n\n    app_listID.setAdapter(theFloatingWindowAppsAdapter);\n    theDateText.setText(thepassingDate);\n\n    displayItems(appDetailsList, theFloatingWindowAppsAdapter);\n\n    // Define the position of the\n    // window within the screen\n    mParams.gravity = Gravity.CENTER;\n    mWindowManager = (WindowManager) context.getSystemService(WINDOW_SERVICE);\n\n}\n\npublic void open() {\n    try {\n        // check if the view is already\n        // inflated or present in the window\n        if (mView.getWindowToken() == null) {\n            if (mView.getParent() == null) {\n                mWindowManager.addView(mView, mParams);\n            }\n        }\n    } catch (Exception e) {\n        Log.d(&quot;Error1&quot;, e.toString());\n    }\n\n}\n\npublic void close() {\n    try {\n        // remove the view from the window\n        ((WindowManager) context.getSystemService(WINDOW_SERVICE)).removeView(mView);\n        // invalidate the view\n        mView.invalidate();\n        // remove all views\n        ((ViewGroup) mView.getParent()).removeAllViews();\n\n        // the above steps are necessary when you are adding and removing\n        // the view simultaneously, it might give some exceptions\n    } catch (Exception e) {\n        Log.d(&quot;Error2&quot;, e.toString());\n    }\n}\n\nprivate void displayItems(List&lt;AppDetails&gt; appDetailsList, TheFloatingWindowAppsAdapter adapter) {\n    FirebaseAuth firebaseAuth = FirebaseAuth.getInstance();\n    FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\n\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;Selected Apps&quot;)\n            .child(firebaseUser.getUid());\n    reference.keepSynced(true);\n\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            appDetailsList.clear();\n            for (DataSnapshot sn : snapshot.getChildren()) {\n                AppDetails appDetails = sn.getValue(AppDetails.class);\n\n                if (appDetails.getAppid() != null) {\n                    appDetailsList.add(appDetails);\n                }\n\n            }\n\n            adapter.notifyDataSetChanged();\n\n\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n}\n}\n</code></pre>\n<p>This is the Recyclerview Adapter</p>\n<pre><code>public class TheFloatingWindowAppsAdapter extends RecyclerView.Adapter&lt;TheFloatingWindowAppsAdapter.ViewHolder&gt; {\n\nList&lt;AppDetails&gt; appDetailsList;\nContext context;\nView view;\n\npublic TheFloatingWindowAppsAdapter(List&lt;AppDetails&gt; appDetailsList, Context context) {\n    this.appDetailsList = appDetailsList;\n    this.context = context;\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    view = LayoutInflater.from(context).inflate(R.layout.thefloatingwindowapps, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    AppDetails appDetails = appDetailsList.get(position);\n    holder.displayedName.setText(appDetails.getAppname());\n\n\n    holder.itemView.setOnClickListener(view -&gt; {\n        Intent intent = context.getPackageManager().getLaunchIntentForPackage(appDetails.getPackagename());\n\n        if (intent != null) {\n            context.startActivity(intent);\n            Window window = new Window(context);\n            window.close();\n        }\n    });\n\n}\n\n@Override\npublic int getItemCount() {\n    return appDetailsList.size();\n}\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n\n    TextView displayedName;\n    private Window window = new Window(context);\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        displayedName = itemView.findViewById(R.id.displayedName);\n    }\n\n}\n}\n</code></pre>\n<p>This is the Foreground Class</p>\n<pre><code>public class ForegroundServices extends Service {\npublic ForegroundServices() {\n\n}\n\n@Override\npublic IBinder onBind(Intent intent) {\n    throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n\n    // create the custom or default notification\n    // based on the android version\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        startMyOwnForeground();\n    else\n        startForeground(1, new Notification());\n\n    // create an instance of Window class\n    // and display the content on screen\n    Window window = new Window(this);\n    window.open();\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    return super.onStartCommand(intent, flags, startId);\n}\n\n// for android version &gt;=O we need to create\n// custom notification stating\n// foreground service is running\n@RequiresApi(Build.VERSION_CODES.O)\nprivate void startMyOwnForeground() {\n    String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\n    String channelName = &quot;Background Service&quot;;\n    NotificationChannel chan = new NotificationChannel(NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_MIN);\n\n    NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    assert manager != null;\n    manager.createNotificationChannel(chan);\n\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n    Notification notification = notificationBuilder.setOngoing(true)\n            .setContentTitle(&quot;Service running&quot;)\n            .setContentText(&quot;Displaying over other apps&quot;)\n\n            // this is important, otherwise the notification will show the way\n            // you want i.e. it will show some default notification\n            .setSmallIcon(R.drawable.ic_launcher_foreground)\n\n            .setPriority(NotificationManager.IMPORTANCE_MIN)\n            .setCategory(Notification.CATEGORY_SERVICE)\n            .build();\n    startForeground(2, notification);\n}\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1639982076,"post_id":70417553,"comment_id":124477628,"body_markdown":"have you tried anything? show your effort","body":"have you tried anything? show your effort"},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1639986193,"post_id":70417553,"comment_id":124478597,"body_markdown":"Yes i have tried using collectors.teeing and using collectors.collect but was able to get the single aggregate function but not able to to do this with multiple aggrgate. What i have tried i will update in question.","body":"Yes i have tried using collectors.teeing and using collectors.collect but was able to get the single aggregate function but not able to to do this with multiple aggrgate. What i have tried i will update in question."},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1639986883,"post_id":70417553,"comment_id":124478752,"body_markdown":"@bananas I have updated my efforts in post kindly look and suggest if i need to add something.","body":"@bananas I have updated my efforts in post kindly look and suggest if i need to add something."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1639987722,"post_id":70417553,"comment_id":124478967,"body_markdown":"@neerajbharti Ideally in the employee table, employee id should be unique. Does your employee records contain duplicate entries for employee id? If it is unique, then I believe that grouping by `emp_id, emp_name, year_of_joining, gender, department` is exactly same as just grouping by `emp_id`","body":"@neerajbharti Ideally in the employee table, employee id should be unique. Does your employee records contain duplicate entries for employee id? If it is unique, then I believe that grouping by <code>emp_id, emp_name, year_of_joining, gender, department</code> is exactly same as just grouping by <code>emp_id</code>"},{"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"score":0,"creation_date":1639988718,"post_id":70417553,"comment_id":124479278,"body_markdown":"@Gautham M Yes in my case employee id is duplicate in employee table. And the result would not be same if we use group by statement.","body":"@Gautham M Yes in my case employee id is duplicate in employee table. And the result would not be same if we use group by statement."}],"answers":[{"tags":[],"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639986849,"creation_date":1639986849,"answer_id":70418833,"question_id":70417553,"body_markdown":"Here a dangerous solution \r\n\r\noverride `Employee` **`equals`** and **`HashCode`** methods like below(you can add null check if u need)\r\n\r\n     @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Employee employee = (Employee) o;\r\n            return id == employee.id &amp;&amp; yearOfJoining == employee.yearOfJoining &amp;&amp; name.equals(employee.name) &amp;&amp; gender.equals(employee.gender) &amp;&amp; department.equals(employee.department);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, name, gender, department, yearOfJoining);\r\n        }\r\n\r\nnow u can group like that\r\n\r\n \r\n\r\n    final Map&lt;Employee, List&lt;Double&gt;&gt; groupedEmployees = employeeList.stream()\r\n                    .collect(Collectors.groupingBy(e -&gt; e,\r\n                            Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\r\n                                final double minSalary = list.stream().mapToDouble(Employee::getSalary).min().orElse(0);\r\n                                final double minAge = list.stream().mapToDouble(Employee::getAge).min().orElse(0);\r\n                                return List.of(minSalary, minAge);\r\n                            })));\r\n\r\n\r\nfor test add more data coz your data doesn&#39;t contain same group (do it before mapping :) )\r\n \r\n\r\n     \r\n    \r\n    employeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\r\n    employeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 21000.0));\r\n    employeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 29000.0));\r\n    employeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 15, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\r\n    \r\n    groupedEmployees.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));","title":"Multiple aggregate function with multiple group by using java streams","body":"<p>Here a dangerous solution</p>\n<p>override <code>Employee</code> <strong><code>equals</code></strong> and <strong><code>HashCode</code></strong> methods like below(you can add null check if u need)</p>\n<pre><code> @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Employee employee = (Employee) o;\n        return id == employee.id &amp;&amp; yearOfJoining == employee.yearOfJoining &amp;&amp; name.equals(employee.name) &amp;&amp; gender.equals(employee.gender) &amp;&amp; department.equals(employee.department);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name, gender, department, yearOfJoining);\n    }\n</code></pre>\n<p>now u can group like that</p>\n<pre><code>final Map&lt;Employee, List&lt;Double&gt;&gt; groupedEmployees = employeeList.stream()\n                .collect(Collectors.groupingBy(e -&gt; e,\n                        Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\n                            final double minSalary = list.stream().mapToDouble(Employee::getSalary).min().orElse(0);\n                            final double minAge = list.stream().mapToDouble(Employee::getAge).min().orElse(0);\n                            return List.of(minSalary, minAge);\n                        })));\n</code></pre>\n<p>for test add more data coz your data doesn't contain same group (do it before mapping :) )</p>\n<pre><code>employeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 21000.0));\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 29000.0));\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 15, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\n\ngroupedEmployees.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640002043,"creation_date":1640002043,"answer_id":70421545,"question_id":70417553,"body_markdown":"Here is the solution.\r\n\r\n```\r\nFunction&lt;Employee, List&lt;Object&gt;&gt; compositeKey = personRecord -&gt; Arrays.&lt;Object&gt;asList(personRecord.getId(),\r\n        personRecord.getName(), personRecord.getGender(), personRecord.getDepartment(),\r\n        personRecord.getYearOfJoining());\r\n\r\n List&lt;Employee&gt; groupedEmployees = employeeList.stream().collect(Collectors.groupingBy(compositeKey)).values()\r\n            .stream()\r\n            .map(e -&gt; new Employee(e.get(0).getId(), e.get(0).getName(),\r\n                e.stream().mapToInt(Employee::getAge).min().orElse(0), e.get(0).getGender(), e.get(0).getDepartment(),\r\n                e.get(0).getYearOfJoining(), e.stream().mapToDouble(Employee::getSalary).min().orElse(0)))\r\n            .collect(Collectors.toList());\r\n```\r\n","title":"Multiple aggregate function with multiple group by using java streams","body":"<p>Here is the solution.</p>\n<pre><code>Function&lt;Employee, List&lt;Object&gt;&gt; compositeKey = personRecord -&gt; Arrays.&lt;Object&gt;asList(personRecord.getId(),\n        personRecord.getName(), personRecord.getGender(), personRecord.getDepartment(),\n        personRecord.getYearOfJoining());\n\n List&lt;Employee&gt; groupedEmployees = employeeList.stream().collect(Collectors.groupingBy(compositeKey)).values()\n            .stream()\n            .map(e -&gt; new Employee(e.get(0).getId(), e.get(0).getName(),\n                e.stream().mapToInt(Employee::getAge).min().orElse(0), e.get(0).getGender(), e.get(0).getDepartment(),\n                e.get(0).getYearOfJoining(), e.stream().mapToDouble(Employee::getSalary).min().orElse(0)))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640249044,"creation_date":1640248226,"answer_id":70459490,"question_id":70417553,"body_markdown":"This task is resolved by introducing separate objects/containers to store &quot;groupBy&quot; fields and &quot;aggregated&quot; fields.  In the simplest form, raw lists could be used negore Java 14 but currently they can be replaced with `record` (in Java 14+). \r\n\r\nThen`Collectors.toMap` with merge function to implement actual aggregation should be used as shown below:\r\n```java\r\npublic record GroupBy(int id, String name, String gender, String department, int yearOfJoining) {}\r\npublic record Aggregate(int age, double salary) {}\r\n\r\nList&lt;Employee&gt; groupedBy = employeeList.stream()\r\n    .collect(Collectors.toMap(\r\n        emp -&gt; new GroupBy(emp.getId(), emp.getName(), emp.getGender(), \r\n            emp.getDepartment(), emp.getYearOfJoining()\r\n        ), // grouped by fields\r\n        emp -&gt; new Aggregate(emp.getAge(), emp.getSalary()), // aggregated fields\r\n        (ag1, ag2) -&gt; new Aggregate(\r\n            Math.min(ag1.age(), ag2.age()),\r\n            Math.min(ag1.salary(), ag2.salary())\r\n        )\r\n        , LinkedHashMap::new // keep insertion order same as in the input\r\n    )) // Map&lt;GroupBy, Aggregate&gt;\r\n    .entrySet()\r\n    .stream()\r\n    .map(e -&gt; new Employee(\r\n        e.getKey().id(), e.getKey().name(), e.getValue().age(),\r\n        e.getKey().gender(), e.getKey().department(), \r\n        e.getKey().yearOfJoining(), e.getValue().salary()\r\n    ))    \r\n    .collect(Collectors.toList());\r\n```\r\n----\r\nPrior to Java 14, similar classes should be created and used, and for `GroupBy` class the methods `hashCode` and `equals` have to be implemented.\r\n\r\nAssuming Lombok is used to generate all the boilerplate code, the same can be achieved:\r\n```java\r\n@Accessors(fluent = true) // get rid of &quot;get&quot; prefixes\r\n@Data\r\nclass GroupBy {\r\n    private final int id;\r\n    private final String name;\r\n    private final String gender;\r\n    private final String department;\r\n    private final int yearOfJoining;\r\n}\r\n\r\n@Accessors(fluent = true)\r\n@Data\r\n@AllArgsConstructor\r\nclass Aggregate {\r\n    private int age;\r\n    private double salary;\r\n\r\n    public Aggregate min(Aggregate other) {\r\n        this.age = Math.min(this.age, other.age);\r\n        this.salary = Math.min(this.salary, other.salary);\r\n        return this;\r\n    }\r\n}\r\n```\r\nHere the merge function is implemented in `Aggregate` class itself.\r\n\r\n```java\r\nList&lt;Employee&gt; groupedBy = employeeList.stream()\r\n    .collect(Collectors.toMap(\r\n        emp -&gt; new GroupBy(emp.getId(), emp.getName(), emp.getGender(), \r\n            emp.getDepartment(), emp.getYearOfJoining()\r\n        ), // grouped by fields\r\n        emp -&gt; new Aggregate(emp.getAge(), emp.getSalary()), // aggregated fields\r\n        (ag1, ag2) -&gt; Aggregate::min // use merge function\r\n        , LinkedHashMap::new // keep insertion order same as in the input\r\n    )) // Map&lt;GroupBy, Aggregate&gt;\r\n    .entrySet()\r\n    .stream()\r\n    .map(e -&gt; new Employee(\r\n        e.getKey().id(), e.getKey().name(), e.getValue().age(),\r\n        e.getKey().gender(), e.getKey().department(), \r\n        e.getKey().yearOfJoining(), e.getValue().salary()\r\n    ))    \r\n    .collect(Collectors.toList());\r\n```","title":"Multiple aggregate function with multiple group by using java streams","body":"<p>This task is resolved by introducing separate objects/containers to store &quot;groupBy&quot; fields and &quot;aggregated&quot; fields.  In the simplest form, raw lists could be used negore Java 14 but currently they can be replaced with <code>record</code> (in Java 14+).</p>\n<p>Then<code>Collectors.toMap</code> with merge function to implement actual aggregation should be used as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record GroupBy(int id, String name, String gender, String department, int yearOfJoining) {}\npublic record Aggregate(int age, double salary) {}\n\nList&lt;Employee&gt; groupedBy = employeeList.stream()\n    .collect(Collectors.toMap(\n        emp -&gt; new GroupBy(emp.getId(), emp.getName(), emp.getGender(), \n            emp.getDepartment(), emp.getYearOfJoining()\n        ), // grouped by fields\n        emp -&gt; new Aggregate(emp.getAge(), emp.getSalary()), // aggregated fields\n        (ag1, ag2) -&gt; new Aggregate(\n            Math.min(ag1.age(), ag2.age()),\n            Math.min(ag1.salary(), ag2.salary())\n        )\n        , LinkedHashMap::new // keep insertion order same as in the input\n    )) // Map&lt;GroupBy, Aggregate&gt;\n    .entrySet()\n    .stream()\n    .map(e -&gt; new Employee(\n        e.getKey().id(), e.getKey().name(), e.getValue().age(),\n        e.getKey().gender(), e.getKey().department(), \n        e.getKey().yearOfJoining(), e.getValue().salary()\n    ))    \n    .collect(Collectors.toList());\n</code></pre>\n<hr />\n<p>Prior to Java 14, similar classes should be created and used, and for <code>GroupBy</code> class the methods <code>hashCode</code> and <code>equals</code> have to be implemented.</p>\n<p>Assuming Lombok is used to generate all the boilerplate code, the same can be achieved:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Accessors(fluent = true) // get rid of &quot;get&quot; prefixes\n@Data\nclass GroupBy {\n    private final int id;\n    private final String name;\n    private final String gender;\n    private final String department;\n    private final int yearOfJoining;\n}\n\n@Accessors(fluent = true)\n@Data\n@AllArgsConstructor\nclass Aggregate {\n    private int age;\n    private double salary;\n\n    public Aggregate min(Aggregate other) {\n        this.age = Math.min(this.age, other.age);\n        this.salary = Math.min(this.salary, other.salary);\n        return this;\n    }\n}\n</code></pre>\n<p>Here the merge function is implemented in <code>Aggregate</code> class itself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Employee&gt; groupedBy = employeeList.stream()\n    .collect(Collectors.toMap(\n        emp -&gt; new GroupBy(emp.getId(), emp.getName(), emp.getGender(), \n            emp.getDepartment(), emp.getYearOfJoining()\n        ), // grouped by fields\n        emp -&gt; new Aggregate(emp.getAge(), emp.getSalary()), // aggregated fields\n        (ag1, ag2) -&gt; Aggregate::min // use merge function\n        , LinkedHashMap::new // keep insertion order same as in the input\n    )) // Map&lt;GroupBy, Aggregate&gt;\n    .entrySet()\n    .stream()\n    .map(e -&gt; new Employee(\n        e.getKey().id(), e.getKey().name(), e.getValue().age(),\n        e.getKey().gender(), e.getKey().department(), \n        e.getKey().yearOfJoining(), e.getValue().salary()\n    ))    \n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":1292728,"reputation":361,"user_id":1244497,"accept_rate":50,"display_name":"neeraj bharti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640249044,"creation_date":1639976585,"question_id":70417553,"body_markdown":"I am not able to use multiple aggregate function with multiple group by attribute using java 8 stream apis. Yet I am able to use single aggregate function with multiple group by attribute using java stream but I have a requirement where I need multiple min or max or aggregate function to use modification on list.\r\n\r\nI need the same result that can get it from SQL like below mentioned but I have an employee list and I have to do this with java only. \r\n\r\nNote: Employee ID is not unique its duplicate in employee table in my example.\r\n\r\n```\r\nSELECT emp_id,\r\n       emp_name,\r\n       year_of_joining,\r\n       gender,\r\n       department,\r\n       Min(salary),\r\n       Min(age)\r\nFROM   employee\r\nGROUP  BY emp_id,\r\n          emp_name,\r\n          year_of_joining,\r\n          gender,\r\n          department \r\n ```\r\nBelow is the list of Employee Object\r\n\r\n```\r\nList&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\r\n         \r\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\r\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 21000.0));\r\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 29000.0));\r\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 15, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\r\n```\r\nBelow is the Employee Object\r\n\r\n```\r\nclass Employee\r\n{\r\n    int id;\r\n     \r\n    String name;\r\n     \r\n    int age;\r\n     \r\n    String gender;\r\n     \r\n    String department;\r\n     \r\n    int yearOfJoining;\r\n     \r\n    double salary;\r\n     \r\n    public Employee(int id, String name, int age, String gender, String department, int yearOfJoining, double salary) \r\n    {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.age = age;\r\n        this.gender = gender;\r\n        this.department = department;\r\n        this.yearOfJoining = yearOfJoining;\r\n        this.salary = salary;\r\n    }\r\n     \r\n    public int getId() \r\n    {\r\n        return id;\r\n    }\r\n     \r\n    public String getName() \r\n    {\r\n        return name;\r\n    }\r\n     \r\n    public int getAge() \r\n    {\r\n        return age;\r\n    }\r\n     \r\n    public String getGender() \r\n    {\r\n        return gender;\r\n    }\r\n     \r\n    public String getDepartment() \r\n    {\r\n        return department;\r\n    }\r\n     \r\n    public int getYearOfJoining() \r\n    {\r\n        return yearOfJoining;\r\n    }\r\n     \r\n    public double getSalary() \r\n    {\r\n        return salary;\r\n    }\r\n     \r\n    @Override\r\n    public String toString() \r\n    {\r\n        return &quot;Id : &quot;+id\r\n                +&quot;, Name : &quot;+name\r\n                +&quot;, age : &quot;+age\r\n                +&quot;, Gender : &quot;+gender\r\n                +&quot;, Department : &quot;+department\r\n                +&quot;, Year Of Joining : &quot;+yearOfJoining\r\n                +&quot;, Salary : &quot;+salary;\r\n    }\r\n}\r\n```\r\nI have tried lot but I was not able to get the exact result with Employee Object. Any Help would be really appreciated.\r\nI don&#39;t know how to use multiple aggregate function with multiple group by statements so that in last I can get list of Employee object.\r\nI have tried to do this with below mentioned code but able to do with single aggregate. How can i do with multiple aggregate.\r\n```\r\n\r\n    Function&lt;Employee, List&lt;Object&gt;&gt; compositeKey = personRecord -&gt; Arrays.&lt;Object&gt;asList(personRecord.getId(),\r\n        personRecord.getName(), personRecord.getGender(), personRecord.getDepartment(),\r\n        personRecord.getYearOfJoining());\r\n\r\n    Map&lt;List&lt;Object&gt;, Optional&lt;Employee&gt;&gt; collect = employeeList.stream().collect(\r\n        Collectors.groupingBy(compositeKey, Collectors.minBy(Comparator.comparingDouble(Employee::getSalary))));\r\n```","title":"Multiple aggregate function with multiple group by using java streams","body":"<p>I am not able to use multiple aggregate function with multiple group by attribute using java 8 stream apis. Yet I am able to use single aggregate function with multiple group by attribute using java stream but I have a requirement where I need multiple min or max or aggregate function to use modification on list.</p>\n<p>I need the same result that can get it from SQL like below mentioned but I have an employee list and I have to do this with java only.</p>\n<p>Note: Employee ID is not unique its duplicate in employee table in my example.</p>\n<pre><code>SELECT emp_id,\n       emp_name,\n       year_of_joining,\n       gender,\n       department,\n       Min(salary),\n       Min(age)\nFROM   employee\nGROUP  BY emp_id,\n          emp_name,\n          year_of_joining,\n          gender,\n          department \n</code></pre>\n<p>Below is the list of Employee Object</p>\n<pre><code>List&lt;Employee&gt; employeeList = new ArrayList&lt;Employee&gt;();\n         \nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 21000.0));\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 32, &quot;Female&quot;, &quot;HR&quot;, 2011, 29000.0));\nemployeeList.add(new Employee(111, &quot;Jiya Brein&quot;, 15, &quot;Female&quot;, &quot;HR&quot;, 2011, 25000.0));\n</code></pre>\n<p>Below is the Employee Object</p>\n<pre><code>class Employee\n{\n    int id;\n     \n    String name;\n     \n    int age;\n     \n    String gender;\n     \n    String department;\n     \n    int yearOfJoining;\n     \n    double salary;\n     \n    public Employee(int id, String name, int age, String gender, String department, int yearOfJoining, double salary) \n    {\n        this.id = id;\n        this.name = name;\n        this.age = age;\n        this.gender = gender;\n        this.department = department;\n        this.yearOfJoining = yearOfJoining;\n        this.salary = salary;\n    }\n     \n    public int getId() \n    {\n        return id;\n    }\n     \n    public String getName() \n    {\n        return name;\n    }\n     \n    public int getAge() \n    {\n        return age;\n    }\n     \n    public String getGender() \n    {\n        return gender;\n    }\n     \n    public String getDepartment() \n    {\n        return department;\n    }\n     \n    public int getYearOfJoining() \n    {\n        return yearOfJoining;\n    }\n     \n    public double getSalary() \n    {\n        return salary;\n    }\n     \n    @Override\n    public String toString() \n    {\n        return &quot;Id : &quot;+id\n                +&quot;, Name : &quot;+name\n                +&quot;, age : &quot;+age\n                +&quot;, Gender : &quot;+gender\n                +&quot;, Department : &quot;+department\n                +&quot;, Year Of Joining : &quot;+yearOfJoining\n                +&quot;, Salary : &quot;+salary;\n    }\n}\n</code></pre>\n<p>I have tried lot but I was not able to get the exact result with Employee Object. Any Help would be really appreciated.\nI don't know how to use multiple aggregate function with multiple group by statements so that in last I can get list of Employee object.\nI have tried to do this with below mentioned code but able to do with single aggregate. How can i do with multiple aggregate.</p>\n<pre><code>\n    Function&lt;Employee, List&lt;Object&gt;&gt; compositeKey = personRecord -&gt; Arrays.&lt;Object&gt;asList(personRecord.getId(),\n        personRecord.getName(), personRecord.getGender(), personRecord.getDepartment(),\n        personRecord.getYearOfJoining());\n\n    Map&lt;List&lt;Object&gt;, Optional&lt;Employee&gt;&gt; collect = employeeList.stream().collect(\n        Collectors.groupingBy(compositeKey, Collectors.minBy(Comparator.comparingDouble(Employee::getSalary))));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15701037,"reputation":462,"user_id":11329158,"display_name":"Branson Smith"},"score":0,"creation_date":1640203063,"post_id":70454252,"comment_id":124542478,"body_markdown":"I&#39;m not following the explanation. Can you show how you got to the possible combinations step by step?","body":"I&#39;m not following the explanation. Can you show how you got to the possible combinations step by step?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1640203555,"post_id":70454252,"comment_id":124542618,"body_markdown":"@Branson Smith: I think it&#39;s a sliding window that can wrap around the end of the array to the beginning.  Which would make the OP&#39;s example answer 8, not 6.","body":"@Branson Smith: I think it&#39;s a sliding window that can wrap around the end of the array to the beginning.  Which would make the OP&#39;s example answer 8, not 6."},{"owner":{"account_id":23666117,"reputation":39,"user_id":17693547,"display_name":"Korbax"},"score":0,"creation_date":1640242006,"post_id":70454252,"comment_id":124549577,"body_markdown":"@GilbertLeBlanc yes the output is 8, and exactly its sliding window that wrap around. Can I have some clue on this?","body":"@GilbertLeBlanc yes the output is 8, and exactly its sliding window that wrap around. Can I have some clue on this?"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640248803,"creation_date":1640248444,"answer_id":70459521,"question_id":70454252,"body_markdown":"Here&#39;s the result from one of my test runs.\r\n\r\n    Input array   [5, -2, 3, 1, 2]\r\n    Window length 3\r\n    Current window  [5, -2, 3]\r\n    Sum of current window 6\r\n    Current window  [-2, 3, 1]\r\n    Sum of current window 2\r\n    Current window  [3, 1, 2]\r\n    Sum of current window 6\r\n    Current window  [1, 2, 5]\r\n    Sum of current window 8\r\n    Current window  [2, 5, -2]\r\n    Sum of current window 5\r\n    Maximum sum   8\r\n\r\nWith a wrap-around sliding window, there are exactly as many windows as there are values in the input array.  The window length doesn&#39;t matter, as long as it is less than the length of the array.\r\n\r\nThe &quot;trick&quot; is to make sure the array subscript is always less than the length of the array.  So, we use the remainder (`%`) operator to make sure the array index is always between 0 and array.length - 1;\r\n\r\nHere&#39;s the complete runnable code. Try it with different arrays and different window lengths.\r\n\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class WrapAroundSlidingWindow {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tWrapAroundSlidingWindow wasw = new WrapAroundSlidingWindow();\r\n    \t\t\r\n    \t\tint[] array = { 5, -2, 3, 1, 2 };\r\n    \t\tint k = 3;\r\n    \t\tSystem.out.println(&quot;Input array   &quot; + Arrays.toString(array));\r\n    \t\tSystem.out.println(&quot;Window length &quot; + k);\r\n    \t\tSystem.out.println(&quot;Maximum sum   &quot; + wasw.calculateMaximumSum(array, k));\r\n    \t}\r\n    \t\r\n    \tpublic int calculateMaximumSum(int[] array, int windowLength) {\r\n    \t\tint maximumSum = calculateSum(array, 0, windowLength);\r\n    \t\tSystem.out.println(&quot;Sum of current window &quot; + maximumSum);\r\n    \t\t\r\n    \t\tfor (int index = 1; index &lt; array.length; index++) {\r\n    \t\t\tint sum = calculateSum(array, index, windowLength);\r\n    \t\t\tSystem.out.println(&quot;Sum of current window &quot; + sum);\r\n    \t\t\tmaximumSum = Math.max(maximumSum, sum);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn maximumSum;\r\n    \t}\r\n    \t\r\n    \tprivate int calculateSum(int[] array, int startIndex, int windowLength) {\r\n    \t\tint sum = 0;\r\n    \t\tSystem.out.print(&quot;Current window  [&quot;);\r\n    \t\t\r\n    \t\tfor (int index = 0; index &lt; windowLength; index++) {\r\n    \t\t\tint jndex = (startIndex + index) % array.length;\r\n    \t\t\tSystem.out.print(array[jndex]);\r\n    \t\t\tif (index &lt; windowLength - 1) {\r\n    \t\t\t\tSystem.out.print(&quot;, &quot;);\r\n    \t\t\t}\r\n    \t\t\tsum += array[jndex];\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;]&quot;);\r\n    \t\t\r\n    \t\treturn sum;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Modified Sliding window","body":"<p>Here's the result from one of my test runs.</p>\n<pre><code>Input array   [5, -2, 3, 1, 2]\nWindow length 3\nCurrent window  [5, -2, 3]\nSum of current window 6\nCurrent window  [-2, 3, 1]\nSum of current window 2\nCurrent window  [3, 1, 2]\nSum of current window 6\nCurrent window  [1, 2, 5]\nSum of current window 8\nCurrent window  [2, 5, -2]\nSum of current window 5\nMaximum sum   8\n</code></pre>\n<p>With a wrap-around sliding window, there are exactly as many windows as there are values in the input array.  The window length doesn't matter, as long as it is less than the length of the array.</p>\n<p>The &quot;trick&quot; is to make sure the array subscript is always less than the length of the array.  So, we use the remainder (<code>%</code>) operator to make sure the array index is always between 0 and array.length - 1;</p>\n<p>Here's the complete runnable code. Try it with different arrays and different window lengths.</p>\n<pre><code>import java.util.Arrays;\n\npublic class WrapAroundSlidingWindow {\n\n    public static void main(String[] args) {\n        WrapAroundSlidingWindow wasw = new WrapAroundSlidingWindow();\n        \n        int[] array = { 5, -2, 3, 1, 2 };\n        int k = 3;\n        System.out.println(&quot;Input array   &quot; + Arrays.toString(array));\n        System.out.println(&quot;Window length &quot; + k);\n        System.out.println(&quot;Maximum sum   &quot; + wasw.calculateMaximumSum(array, k));\n    }\n    \n    public int calculateMaximumSum(int[] array, int windowLength) {\n        int maximumSum = calculateSum(array, 0, windowLength);\n        System.out.println(&quot;Sum of current window &quot; + maximumSum);\n        \n        for (int index = 1; index &lt; array.length; index++) {\n            int sum = calculateSum(array, index, windowLength);\n            System.out.println(&quot;Sum of current window &quot; + sum);\n            maximumSum = Math.max(maximumSum, sum);\n        }\n        \n        return maximumSum;\n    }\n    \n    private int calculateSum(int[] array, int startIndex, int windowLength) {\n        int sum = 0;\n        System.out.print(&quot;Current window  [&quot;);\n        \n        for (int index = 0; index &lt; windowLength; index++) {\n            int jndex = (startIndex + index) % array.length;\n            System.out.print(array[jndex]);\n            if (index &lt; windowLength - 1) {\n                System.out.print(&quot;, &quot;);\n            }\n            sum += array[jndex];\n        }\n        System.out.println(&quot;]&quot;);\n        \n        return sum;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23666117,"reputation":39,"user_id":17693547,"display_name":"Korbax"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640248803,"creation_date":1640201600,"question_id":70454252,"body_markdown":"Recently I was being asked a problem in an interview, which is modified version of continuous sum of k size in array.\r\nSo the problem goes like this:\r\nGive maximum continuous sum of k elements in array a. We can choose only k element either from start or end or k-1 element from start and 1 element from end or k-2 element from start and 2 element from end 2 element from start and k-2 element from end, etc.\r\nExample:\r\n```\r\n[5,-2,3,1,2]\r\nk=3\r\n\r\no/p:8\r\n\r\nall possible combinations:[5,-2,3],[3,1,2][5,2,1],[-2,5,2]\r\nmax sum combinations: [5,2,1], etc\r\n```\r\nCan anyone explains logic in java.","title":"Modified Sliding window","body":"<p>Recently I was being asked a problem in an interview, which is modified version of continuous sum of k size in array.\nSo the problem goes like this:\nGive maximum continuous sum of k elements in array a. We can choose only k element either from start or end or k-1 element from start and 1 element from end or k-2 element from start and 2 element from end 2 element from start and k-2 element from end, etc.\nExample:</p>\n<pre><code>[5,-2,3,1,2]\nk=3\n\no/p:8\n\nall possible combinations:[5,-2,3],[3,1,2][5,2,1],[-2,5,2]\nmax sum combinations: [5,2,1], etc\n</code></pre>\n<p>Can anyone explains logic in java.</p>\n"},{"tags":["java","gradle","testing","testng"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640248301,"creation_date":1640248301,"answer_id":70459503,"question_id":70453106,"body_markdown":"You may try this (assume TestNG xmls placed in `src/test/resources`):\r\n\r\n```\r\ndependencies {\r\n    // your other dependencies\r\n    testImplementation &#39;org.testng:testng:7.4.0&#39;\r\n}\r\n\r\ntest {\r\n    useTestNG() {\r\n        scanForTestClasses = false\r\n        maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1\r\n        suites (&#39;src/test/resources/testng1.xml&#39;,&#39;src/test/resources/testng2.xml&#39;, &#39;src/test/resources/testng3.xml&#39;)\r\n    }\r\n}\r\n```\r\n\r\nIt will run all tests in parallel threads, based on testng xml configuration, but the total concurrent threads count is limited by `maxParallelForks`.\r\n\r\nNote, that all tests still be executed in separate threads, not in separate processes, so e.g. all static variables, etc will be shared. At least I found such behavior during experiments.","title":"Gradle run TestNG suites in parallel","body":"<p>You may try this (assume TestNG xmls placed in <code>src/test/resources</code>):</p>\n<pre><code>dependencies {\n    // your other dependencies\n    testImplementation 'org.testng:testng:7.4.0'\n}\n\ntest {\n    useTestNG() {\n        scanForTestClasses = false\n        maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1\n        suites ('src/test/resources/testng1.xml','src/test/resources/testng2.xml', 'src/test/resources/testng3.xml')\n    }\n}\n</code></pre>\n<p>It will run all tests in parallel threads, based on testng xml configuration, but the total concurrent threads count is limited by <code>maxParallelForks</code>.</p>\n<p>Note, that all tests still be executed in separate threads, not in separate processes, so e.g. all static variables, etc will be shared. At least I found such behavior during experiments.</p>\n"}],"owner":{"account_id":15172366,"reputation":81,"user_id":10948034,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640248301,"creation_date":1640195119,"question_id":70453106,"body_markdown":"I have a set of TestNG xml files defining test suites. I&#39;m trying to figure out how to run all the suites in parallel but with gradle. Essentially looking for the equivalent of running `java org.testng.TestNG -suitethreadpoolsize 3 testng1.xml testng2.xml testng3.xml`. Also note that within the suites, the tests are run in parallel there too. Is this possible to do?","title":"Gradle run TestNG suites in parallel","body":"<p>I have a set of TestNG xml files defining test suites. I'm trying to figure out how to run all the suites in parallel but with gradle. Essentially looking for the equivalent of running <code>java org.testng.TestNG -suitethreadpoolsize 3 testng1.xml testng2.xml testng3.xml</code>. Also note that within the suites, the tests are run in parallel there too. Is this possible to do?</p>\n"},{"tags":["java","geometry","calculator"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":1,"creation_date":1640246906,"post_id":70459276,"comment_id":124550848,"body_markdown":"`diameter` is not visible from your `main` method.","body":"<code>diameter</code> is not visible from your <code>main</code> method."},{"owner":{"account_id":23726756,"reputation":11,"user_id":17746552,"display_name":"Niall Howalk"},"score":0,"creation_date":1640247043,"post_id":70459276,"comment_id":124550890,"body_markdown":"@Arnaud a dumb question but, how do i fix that?","body":"@Arnaud a dumb question but, how do i fix that?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1640247530,"post_id":70459276,"comment_id":124551029,"body_markdown":"By stepping back. Ask yourself: you made `radius` a **field** of your whole class. But then you also defined **local** variables in this or that method. Ask yourself: what **should** be visible where?! You see ... both local variables diameter and area **only** exist in `setRadius()` method.","body":"By stepping back. Ask yourself: you made <code>radius</code> a <b>field</b> of your whole class. But then you also defined <b>local</b> variables in this or that method. Ask yourself: what <b>should</b> be visible where?! You see ... both local variables diameter and area <b>only</b> exist in <code>setRadius()</code> method."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1640247687,"post_id":70459276,"comment_id":124551067,"body_markdown":"Hint: maybe, instead of computing those two values in that setMethod, you could add 2 other methods: `getDiameter()` and `getArea()`. And then, when you need the diameter of a Circle object, just call those method (or you can add those two numbers as fields to your class, and compute them once). And note: you could use a constructor instead of a setter. And: there is **no** reason at all at that your Circle class extends Main. Remember: you have to understand *every character* that you put into your source code. You dont extend Circle from Main because you *can*.","body":"Hint: maybe, instead of computing those two values in that setMethod, you could add 2 other methods: <code>getDiameter()</code> and <code>getArea()</code>. And then, when you need the diameter of a Circle object, just call those method (or you can add those two numbers as fields to your class, and compute them once). And note: you could use a constructor instead of a setter. And: there is <b>no</b> reason at all at that your Circle class extends Main. Remember: you have to understand <i>every character</i> that you put into your source code. You dont extend Circle from Main because you <i>can</i>."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1640247745,"post_id":70459276,"comment_id":124551082,"body_markdown":"You only use those constructs that **make sense** to be used. Example: if you had a &quot;Shape&quot; base class, then it would make sense to extend Circle from that. But your Main class is just the entry point, the &quot;driver&quot; that is used to invoke some code in the end. No need to make Circle a Main.","body":"You only use those constructs that <b>make sense</b> to be used. Example: if you had a &quot;Shape&quot; base class, then it would make sense to extend Circle from that. But your Main class is just the entry point, the &quot;driver&quot; that is used to invoke some code in the end. No need to make Circle a Main."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1640247768,"post_id":70459276,"comment_id":124551088,"body_markdown":"Finally: read about java naming conventions. Class names go UpperCase, and you only use &quot;_&quot; in SOME_CONSTANT.","body":"Finally: read about java naming conventions. Class names go UpperCase, and you only use &quot;_&quot; in SOME_CONSTANT."}],"answers":[{"tags":[],"owner":{"account_id":19292570,"reputation":39,"user_id":14102200,"display_name":"Brian Erlich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640247261,"creation_date":1640247261,"answer_id":70459351,"question_id":70459276,"body_markdown":"`diameter` is out of scope in the Main class, because `diameter` is only declared when you call `setRadius()`\r\nYou need to declare `diameter` and `area` the same way you declared `radius`.\r\n\r\n    class My_Circle extends Main{\r\n    float radius = 1;\r\n    float diameter = radius*2;\r\n    float area = radius*radius*3.14159265359f;\r\nAdditionally, you need to create a getter method for diameter (like you did for radius)\r\n\r\n   \r\n\r\n\r\n","title":"java: variable is never read/cannot find symbol","body":"<p><code>diameter</code> is out of scope in the Main class, because <code>diameter</code> is only declared when you call <code>setRadius()</code>\nYou need to declare <code>diameter</code> and <code>area</code> the same way you declared <code>radius</code>.</p>\n<pre><code>class My_Circle extends Main{\nfloat radius = 1;\nfloat diameter = radius*2;\nfloat area = radius*radius*3.14159265359f;\n</code></pre>\n<p>Additionally, you need to create a getter method for diameter (like you did for radius)</p>\n"},{"tags":[],"owner":{"account_id":22248390,"reputation":56,"user_id":16481724,"display_name":"Marinos33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640247485,"creation_date":1640247485,"answer_id":70459382,"question_id":70459276,"body_markdown":"Firstly, your class My_Circle should not inherit from Main (remove the extends). Then you cannot get the variable diameter because it is not referenced anywhere in the Main class. If you want the diameter of the large circle just do large.getRadius() * 2 or add diameter variable in the same way you did for the radius. This way you will be able to do large.getDiameter(). ","title":"java: variable is never read/cannot find symbol","body":"<p>Firstly, your class My_Circle should not inherit from Main (remove the extends). Then you cannot get the variable diameter because it is not referenced anywhere in the Main class. If you want the diameter of the large circle just do large.getRadius() * 2 or add diameter variable in the same way you did for the radius. This way you will be able to do large.getDiameter().</p>\n"}],"owner":{"account_id":23726756,"reputation":11,"user_id":17746552,"display_name":"Niall Howalk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640247439,"answer_count":2,"score":1,"last_activity_date":1640247485,"creation_date":1640246719,"question_id":70459276,"body_markdown":"so i have to create a java program that calculates the diameter and area of a circle using methods: setRadius()and getRadius(). The setRadius() also has to be used to calculate the two values and set the radius. I used a constructor to assign radius as 1, but I also have to compute the diameter/area for a larger circle. When running the code, it says that it &quot;cannot find symbol&quot; with the diameter in the System print line. This is the code I have so far: \r\n\r\n```\r\nclass My_Circle extends Main{\r\n    float radius = 1;\r\n    \r\n    public float getRadius() {\r\n        return radius;\r\n    }\r\n    \r\n    public void setRadius(float newRadius) {\r\n        this.radius = newRadius;\r\n        float diameter = radius*2;\r\n        float area = radius*radius*3.14159265359f;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String args[]) {\r\n        My_Circle large = new My_Circle();\r\n        My_Circle original = new My_Circle();\r\n        \r\n        large.setRadius(100);\r\n        original.setRadius(original.getRadius());\r\n        \r\n        System.out.println(&quot;Large Circle Diameter: &quot; + diameter);\r\n        \r\n    }\r\n}\r\n```\r\n","title":"java: variable is never read/cannot find symbol","body":"<p>so i have to create a java program that calculates the diameter and area of a circle using methods: setRadius()and getRadius(). The setRadius() also has to be used to calculate the two values and set the radius. I used a constructor to assign radius as 1, but I also have to compute the diameter/area for a larger circle. When running the code, it says that it &quot;cannot find symbol&quot; with the diameter in the System print line. This is the code I have so far:</p>\n<pre><code>class My_Circle extends Main{\n    float radius = 1;\n    \n    public float getRadius() {\n        return radius;\n    }\n    \n    public void setRadius(float newRadius) {\n        this.radius = newRadius;\n        float diameter = radius*2;\n        float area = radius*radius*3.14159265359f;\n    }\n}\n\npublic class Main {\n    public static void main(String args[]) {\n        My_Circle large = new My_Circle();\n        My_Circle original = new My_Circle();\n        \n        large.setRadius(100);\n        original.setRadius(original.getRadius());\n        \n        System.out.println(&quot;Large Circle Diameter: &quot; + diameter);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","raspberry-pi","iot","java-websocket"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640249050,"post_id":70459349,"comment_id":124551390,"body_markdown":"Your buttons may work or nor work. But there is no code that sends something to a raspi. So what is your question?","body":"Your buttons may work or nor work. But there is no code that sends something to a raspi. So what is your question?"},{"owner":{"account_id":23715449,"reputation":1,"user_id":17746570,"display_name":"AtomicBallz"},"score":0,"creation_date":1640568533,"post_id":70459349,"comment_id":124606573,"body_markdown":"Is it possible to send integer( 1,2,3.....) or strings ( UP or Down) from my android phone to raspberry pi. I am looking to control a robot through my android phone.","body":"Is it possible to send integer( 1,2,3.....) or strings ( UP or Down) from my android phone to raspberry pi. I am looking to control a robot through my android phone."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1640583783,"post_id":70459349,"comment_id":124608416,"body_markdown":"Of course that is possible.","body":"Of course that is possible."}],"owner":{"account_id":23715449,"reputation":1,"user_id":17746570,"display_name":"AtomicBallz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640247249,"creation_date":1640247249,"question_id":70459349,"body_markdown":"I have managed to create a simple counter app in android studios. I would like to know if there is a possible way to send the integer value to raspberry pi from my android app. I am a beginner in coding and thus have difficulty understanding and implementing some of the solutions suggested online. \r\n\r\n****The counter button was working last week, however, for some reason, it is not working now.\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        Button buttonINC, buttonDEC;\r\n        TextView tvDisplay;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            buttonINC = findViewById(R.id.btn_inc_id);\r\n            buttonDEC = findViewById(R.id.btn_dec_id);\r\n    \r\n            buttonINC.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String currentvalue = tvDisplay.getText().toString();\r\n                    int value = Integer.parseInt(currentvalue);\r\n                    value++;\r\n                    tvDisplay.setText(String.valueOf(value));\r\n    \r\n                }\r\n            });\r\n    \r\n            buttonDEC.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String currentvalue = tvDisplay.getText().toString();\r\n                    int value = Integer.parseInt(currentvalue);\r\n                    value--;\r\n                    tvDisplay.setText(String.valueOf(value));\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"How to send string or intger value from android studio App in Java to Raspberry Pi","body":"<p>I have managed to create a simple counter app in android studios. I would like to know if there is a possible way to send the integer value to raspberry pi from my android app. I am a beginner in coding and thus have difficulty understanding and implementing some of the solutions suggested online.</p>\n<p>****The counter button was working last week, however, for some reason, it is not working now.</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\n\npublic class MainActivity extends AppCompatActivity {\n    Button buttonINC, buttonDEC;\n    TextView tvDisplay;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        buttonINC = findViewById(R.id.btn_inc_id);\n        buttonDEC = findViewById(R.id.btn_dec_id);\n\n        buttonINC.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String currentvalue = tvDisplay.getText().toString();\n                int value = Integer.parseInt(currentvalue);\n                value++;\n                tvDisplay.setText(String.valueOf(value));\n\n            }\n        });\n\n        buttonDEC.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String currentvalue = tvDisplay.getText().toString();\n                int value = Integer.parseInt(currentvalue);\n                value--;\n                tvDisplay.setText(String.valueOf(value));\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","object","nullpointerexception","inputmismatchexception"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":3,"creation_date":1640242915,"post_id":70458693,"comment_id":124549779,"body_markdown":"`person obj[]= new person[10];` creates an array of 10 elements that can hold `person` instance, but the elements are initialized to `null`. Therefore `obj[i]` is null, and you should initialize it with `obj[i] = new person();` before the call to `obj[i].setInfo(name, age, gender);`","body":"<code>person obj[]= new person[10];</code> creates an array of 10 elements that can hold <code>person</code> instance, but the elements are initialized to <code>null</code>. Therefore <code>obj[i]</code> is null, and you should initialize it with <code>obj[i] = new person();</code> before the call to <code>obj[i].setInfo(name, age, gender);</code>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1640243639,"post_id":70458693,"comment_id":124549961,"body_markdown":"Welcome to Stack Overflow. Please read [ask] and https://meta.stackoverflow.com/questions/334822 and https://meta.stackoverflow.com/questions/284236 and https://ericlippert.com/2014/03/05/how-to-debug-small-programs/.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://meta.stackoverflow.com/questions/334822\">meta.stackoverflow.com/questions/334822</a> and <a href=\"https://meta.stackoverflow.com/questions/284236\">meta.stackoverflow.com/questions/284236</a> and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1640243723,"post_id":70458693,"comment_id":124549981,"body_markdown":"Does https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it answer your question? How about https://stackoverflow.com/questions/1922677/nullpointerexception-when-creating-an-array-of-objects ?","body":"Does <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a> answer your question? How about <a href=\"https://stackoverflow.com/questions/1922677/nullpointerexception-when-creating-an-array-of-objects\" title=\"nullpointerexception when creating an array of objects\">stackoverflow.com/questions/1922677/&hellip;</a> ?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1640245029,"post_id":70458693,"comment_id":124550327,"body_markdown":"Hint: the question title is the first thing people see about your question. It is very clear that you are here because you want others to help you. There is no need to put *that* into the question title. Look around, see how upvoted questions are worded: the give a precise request around the technical issue.","body":"Hint: the question title is the first thing people see about your question. It is very clear that you are here because you want others to help you. There is no need to put <i>that</i> into the question title. Look around, see how upvoted questions are worded: the give a precise request around the technical issue."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1640245164,"post_id":70458693,"comment_id":124550363,"body_markdown":"And: read about java naming conventions. Class names go UpperCase, and variable/field names go camelCase. And when you want to assign a parameter to a field, then the standard java pattern is to it like this `this.name = name`. And then: be consistent how/where you put your braces. You have to understand: you should write your code so that **humans** can read it easily. Therefore it is pretty important to follow &quot;common standards&quot; how to do things. And to follow them consistently.","body":"And: read about java naming conventions. Class names go UpperCase, and variable/field names go camelCase. And when you want to assign a parameter to a field, then the standard java pattern is to it like this <code>this.name = name</code>. And then: be consistent how/where you put your braces. You have to understand: you should write your code so that <b>humans</b> can read it easily. Therefore it is pretty important to follow &quot;common standards&quot; how to do things. And to follow them consistently."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1640245229,"post_id":70458693,"comment_id":124550383,"body_markdown":"And finally: learn what a **constructor** is in Java. Instead of *first* creating an object with `new()` to then call a method like `setInfo()` ... you should rather have a constructor that takes the required arguments, so you can go `Person x = new Person(name, age, gender)`","body":"And finally: learn what a <b>constructor</b> is in Java. Instead of <i>first</i> creating an object with <code>new()</code> to then call a method like <code>setInfo()</code> ... you should rather have a constructor that takes the required arguments, so you can go <code>Person x = new Person(name, age, gender)</code>"}],"answers":[{"tags":[],"owner":{"account_id":9840607,"reputation":51,"user_id":7289703,"display_name":"임정묵"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640243500,"creation_date":1640243443,"answer_id":70458791,"question_id":70458693,"body_markdown":"You need to instantiate the class inside the array.\r\n\r\n~~~java\r\nfor (int i = 0; i &lt; obj.length; i++) {\r\n    name = sc.nextLine();\r\n    age = sc.nextInt();\r\n    gender = sc.nextLine();\r\n\r\n    //see section below\r\n    obj[i] = new person();\r\n    \r\n    obj[i].setInfo(name, age, gender);\r\n}\r\n~~~","title":"I am doing my homework and I stuck in one question. I am new to java. can you help me?","body":"<p>You need to instantiate the class inside the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; obj.length; i++) {\n    name = sc.nextLine();\n    age = sc.nextInt();\n    gender = sc.nextLine();\n\n    //see section below\n    obj[i] = new person();\n    \n    obj[i].setInfo(name, age, gender);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640246894,"creation_date":1640244609,"answer_id":70458958,"question_id":70458693,"body_markdown":"        static class person {\r\n                String name= new String();\r\n                int age;\r\n                String gender= new String();\r\n\r\n                // Constructor\r\n                person(String Name, int Age, String Gender) {\r\n                    this.name = Name;\r\n                    this.age = Age;\r\n                    this.gender = Gender;\r\n                }\r\n        \r\n                void setInfo(String Name, int Age, String Gender){\r\n                    name= Name;\r\n                    age=Age;\r\n                    gender=Gender;\r\n                }\r\n                void showInfo(){\r\n                    System.out.println(name+&quot; &quot;+ age+&quot; &quot;+gender);\r\n                }\r\n            }\r\n    \r\n    public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            String name = new String();\r\n            int age;\r\n            String gender = new String();\r\n            person[] obj = new person[10];\r\n    \r\n            for (int i = 0; i &lt; obj.length; i++) {\r\n                name = sc.next();\r\n                age = sc.nextInt();\r\n                gender = sc.next();\r\n                //Initialize a new person object and assign its values and the add it to the array.\r\n                person personObj = new person(name, age, gender); // This is where a constructor is used.\r\n                obj[i] = personObj;\r\n            }\r\n            for (int i = 0; i &lt; obj.length; i++) {\r\n                obj[i].showInfo();\r\n            }\r\n        }\r\n\r\nI&#39;ve tried your code and found out the problem.\r\n\r\nThe problem is that anytime you create a class object, you must have to create a constructor to update any values of variables inside that class. If the class that you created in the same class and and will be used in `main` method then make that class static.\r\n\r\nWhile reading input using Scanner, you&#39;ve used `sc.nextLine();` which causes `InputMisMatchException`. So, just use `sc.next();`","title":"I am doing my homework and I stuck in one question. I am new to java. can you help me?","body":"<pre><code>    static class person {\n            String name= new String();\n            int age;\n            String gender= new String();\n\n            // Constructor\n            person(String Name, int Age, String Gender) {\n                this.name = Name;\n                this.age = Age;\n                this.gender = Gender;\n            }\n    \n            void setInfo(String Name, int Age, String Gender){\n                name= Name;\n                age=Age;\n                gender=Gender;\n            }\n            void showInfo(){\n                System.out.println(name+&quot; &quot;+ age+&quot; &quot;+gender);\n            }\n        }\n\npublic static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String name = new String();\n        int age;\n        String gender = new String();\n        person[] obj = new person[10];\n\n        for (int i = 0; i &lt; obj.length; i++) {\n            name = sc.next();\n            age = sc.nextInt();\n            gender = sc.next();\n            //Initialize a new person object and assign its values and the add it to the array.\n            person personObj = new person(name, age, gender); // This is where a constructor is used.\n            obj[i] = personObj;\n        }\n        for (int i = 0; i &lt; obj.length; i++) {\n            obj[i].showInfo();\n        }\n    }\n</code></pre>\n<p>I've tried your code and found out the problem.</p>\n<p>The problem is that anytime you create a class object, you must have to create a constructor to update any values of variables inside that class. If the class that you created in the same class and and will be used in <code>main</code> method then make that class static.</p>\n<p>While reading input using Scanner, you've used <code>sc.nextLine();</code> which causes <code>InputMisMatchException</code>. So, just use <code>sc.next();</code></p>\n"}],"owner":{"account_id":23726301,"reputation":3,"user_id":17746165,"display_name":"Lekh Raj Awasthi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640244930,"accepted_answer_id":70458791,"answer_count":2,"score":0,"last_activity_date":1640246894,"creation_date":1640242812,"question_id":70458693,"body_markdown":"The question is: \r\n\r\n**Create a class person with attribute name, age and gender. Create an array of the person to hold 10 person instances. Display the information stored on the person instance in the array.**\r\n \r\nI am not sure what the question says but I tried and error comes out like this: \r\n  \r\n*Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n        at instance.main(instance.java:29)*\r\n\r\nhere is my code:\r\n```\r\nimport java.util.Scanner;\r\nclass person{\r\n    String name= new String();\r\n    int age;\r\n    String gender= new String();\r\n    void setInfo(String Name, int Age, String Gender){\r\n        name= Name;\r\n        age=Age;\r\n        gender=Gender;\r\n    }\r\n    void showInfo(){\r\n        System.out.println(name+&quot; &quot;+ age+&quot; &quot;+gender);\r\n    }\r\n}\r\n\r\npublic class instance {\r\n    public static void main(String[] args) { \r\n        Scanner sc= new Scanner(System.in);\r\n        String name= new String();\r\n        int age;\r\n        String gender= new String();\r\n        person obj[]= new person[10];\r\n       \r\n        System.out.println(&quot;Enter Name age and gender of 10 persons&quot;);\r\n        for(int i=0; i&lt;obj.length; i++)\r\n        { \r\n            name=sc.nextLine();\r\n            age=sc.nextInt();\r\n            gender=sc.nextLine();\r\n            obj[i].setInfo(name, age, gender);\r\n            \r\n        }\r\n        for(int i=0; i&lt;obj.length; i++){\r\n        obj[i].showInfo();\r\n        }\r\n    }\r\n}\r\n```","title":"I am doing my homework and I stuck in one question. I am new to java. can you help me?","body":"<p>The question is:</p>\n<p><strong>Create a class person with attribute name, age and gender. Create an array of the person to hold 10 person instances. Display the information stored on the person instance in the array.</strong></p>\n<p>I am not sure what the question says but I tried and error comes out like this:</p>\n<p><em>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat instance.main(instance.java:29)</em></p>\n<p>here is my code:</p>\n<pre><code>import java.util.Scanner;\nclass person{\n    String name= new String();\n    int age;\n    String gender= new String();\n    void setInfo(String Name, int Age, String Gender){\n        name= Name;\n        age=Age;\n        gender=Gender;\n    }\n    void showInfo(){\n        System.out.println(name+&quot; &quot;+ age+&quot; &quot;+gender);\n    }\n}\n\npublic class instance {\n    public static void main(String[] args) { \n        Scanner sc= new Scanner(System.in);\n        String name= new String();\n        int age;\n        String gender= new String();\n        person obj[]= new person[10];\n       \n        System.out.println(&quot;Enter Name age and gender of 10 persons&quot;);\n        for(int i=0; i&lt;obj.length; i++)\n        { \n            name=sc.nextLine();\n            age=sc.nextInt();\n            gender=sc.nextLine();\n            obj[i].setInfo(name, age, gender);\n            \n        }\n        for(int i=0; i&lt;obj.length; i++){\n        obj[i].showInfo();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data","jpql"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1640178433,"post_id":70449495,"comment_id":124533478,"body_markdown":"do you think this is correct\n\nnew path...Bean(........","body":"do you think this is correct  new path...Bean(........"},{"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"score":0,"creation_date":1640181112,"post_id":70449495,"comment_id":124534604,"body_markdown":"@RaushanKumar he wrote Bean for the sake of simplicity, I think.","body":"@RaushanKumar he wrote Bean for the sake of simplicity, I think."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640180815,"creation_date":1640180815,"answer_id":70450070,"question_id":70449495,"body_markdown":"I don&#39;t think JPQL has `if` - so you would have to use CASE WHEN ... ELSE ..., like so:\r\n\r\n`SELECT e.name, CASE WHEN (e.salary &gt;= 100000) THEN 1 WHEN (e.salary &lt; 100000) THEN 2 ELSE 0 END from Employee e` \r\n\r\nmore here https://en.wikibooks.org/wiki/Java_Persistence/JPQL_BNF#New_in_JPA_2.0","title":"spring jpa @Query error, expecting CLOSE, found &#39;(&#39;","body":"<p>I don't think JPQL has <code>if</code> - so you would have to use CASE WHEN ... ELSE ..., like so:</p>\n<p><code>SELECT e.name, CASE WHEN (e.salary &gt;= 100000) THEN 1 WHEN (e.salary &lt; 100000) THEN 2 ELSE 0 END from Employee e</code></p>\n<p>more here <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/JPQL_BNF#New_in_JPA_2.0\" rel=\"nofollow noreferrer\">https://en.wikibooks.org/wiki/Java_Persistence/JPQL_BNF#New_in_JPA_2.0</a></p>\n"},{"tags":[],"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640181055,"creation_date":1640181055,"answer_id":70450119,"question_id":70449495,"body_markdown":"Try adding `nativeQuery = true` which indicates that query is native MySql query, not Jpql query.\r\n```\r\n@Query(&quot;select ...&quot;, nativeQuery = true)\r\n    List&lt;Bean&gt; loadGroupedCustomerPrepaidTransactions(...);\r\n```","title":"spring jpa @Query error, expecting CLOSE, found &#39;(&#39;","body":"<p>Try adding <code>nativeQuery = true</code> which indicates that query is native MySql query, not Jpql query.</p>\n<pre><code>@Query(&quot;select ...&quot;, nativeQuery = true)\n    List&lt;Bean&gt; loadGroupedCustomerPrepaidTransactions(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640182749,"creation_date":1640182749,"answer_id":70450466,"question_id":70449495,"body_markdown":"  \r\n \r\n\r\n Try to like this :\r\n\r\n    @QUERY(nativeQuery = true, value = &quot;select COUNT(IF(amount &gt; 0, amount, 0)) as creditCount,\r\n           COUNT(IF(amount &lt; 0, amount, 0)) as debitCount,\r\n           SUM(IF(amount &gt; 0, amount, 0)) as credit,\r\n           SUM(IF(amount &lt; 0, amount, 0)) as debit,\r\n           SUM(amount)                    as balance,\r\n           cp.surname, cp.id, pcp.number from prepaid_card_transaction_pojo pctp\r\n             join prepaid_card_pojo pcp on pctp.account = pcp.id\r\n             join customer_pojo cp on pcp.id = cp.prepaid_card\r\n    where pcp.number = :voucherNumber AND pctp.client = :client AND booking_time &gt; :from AND booking_time &lt; :to group by cp.id)\r\n    List&lt;Bean&gt; loadGroupedCustomerPrepaidTransactions( ClientReadable client,  CustomerReadable customer,  String voucherNumber, Date from, Date to);\r\n\r\n\r\n\r\n","title":"spring jpa @Query error, expecting CLOSE, found &#39;(&#39;","body":"<p>Try to like this :</p>\n<pre><code>@QUERY(nativeQuery = true, value = &quot;select COUNT(IF(amount &gt; 0, amount, 0)) as creditCount,\n       COUNT(IF(amount &lt; 0, amount, 0)) as debitCount,\n       SUM(IF(amount &gt; 0, amount, 0)) as credit,\n       SUM(IF(amount &lt; 0, amount, 0)) as debit,\n       SUM(amount)                    as balance,\n       cp.surname, cp.id, pcp.number from prepaid_card_transaction_pojo pctp\n         join prepaid_card_pojo pcp on pctp.account = pcp.id\n         join customer_pojo cp on pcp.id = cp.prepaid_card\nwhere pcp.number = :voucherNumber AND pctp.client = :client AND booking_time &gt; :from AND booking_time &lt; :to group by cp.id)\nList&lt;Bean&gt; loadGroupedCustomerPrepaidTransactions( ClientReadable client,  CustomerReadable customer,  String voucherNumber, Date from, Date to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19944897,"reputation":27,"user_id":14615802,"display_name":"petr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640246540,"creation_date":1640246540,"answer_id":70459249,"question_id":70449495,"body_markdown":"Thank you for your answers. After a couple of hours tuning this here are the lessons learned:\r\n\r\n - JPQL doesnt like column aliases...\r\n - JPQL doesnt like IF (was using \r\n    &quot;COUNT(IF(pctp.amount &gt; 0, pctp.amount, 0))&quot;, should use: \r\n    &quot;COUNT(case when pctp.amount &gt; 0 then 1 else 0 end),&quot;\r\n - JPQL COUNT should operate with the number as how many times the match should be counted - the specific 1 in above example. While mysql goes simply by the condition matching value as 1\r\n - all listed attributes should come by pojo designation not by DB column designation as I did in initial post in case of cp.prepaid_card","title":"spring jpa @Query error, expecting CLOSE, found &#39;(&#39;","body":"<p>Thank you for your answers. After a couple of hours tuning this here are the lessons learned:</p>\n<ul>\n<li>JPQL doesnt like column aliases...</li>\n<li>JPQL doesnt like IF (was using\n&quot;COUNT(IF(pctp.amount &gt; 0, pctp.amount, 0))&quot;, should use:\n&quot;COUNT(case when pctp.amount &gt; 0 then 1 else 0 end),&quot;</li>\n<li>JPQL COUNT should operate with the number as how many times the match should be counted - the specific 1 in above example. While mysql goes simply by the condition matching value as 1</li>\n<li>all listed attributes should come by pojo designation not by DB column designation as I did in initial post in case of cp.prepaid_card</li>\n</ul>\n"}],"owner":{"account_id":19944897,"reputation":27,"user_id":14615802,"display_name":"petr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1640246540,"creation_date":1640178097,"question_id":70449495,"body_markdown":"I have a following mysql query which works fine:\r\n\r\n*Edit: the path is just for illustration purpose... I did not want to copy my packages...\r\n\r\n```\r\nselect COUNT(IF(amount &gt; 0, amount, 0)) as creditCount,\r\n       COUNT(IF(amount &lt; 0, amount, 0)) as debitCount,\r\n       SUM(IF(amount &gt; 0, amount, 0)) as credit,\r\n       SUM(IF(amount &lt; 0, amount, 0)) as debit,\r\n       SUM(amount)                    as balance,\r\n       cp.surname, cp.id, pcp.number from prepaid_card_transaction_pojo pctp\r\n         join prepaid_card_pojo pcp on pctp.account = pcp.id\r\n         join customer_pojo cp on pcp.id = cp.prepaid_card\r\nwhere pcp.number = &#39;1000765352&#39; AND pctp.client = UUID_TO_BIN(&#39;fb9dbcac-cd03-46ad-94b0-2709b0b0e2a8&#39;) AND booking_time &gt; &#39;2020-12-01 00:00:00&#39; group by cp.id;\r\n```\r\n\r\nI wish to transfer it to jpql:\r\n\r\n```\r\n@Query(&quot;select new path...Bean(&quot; + //\r\n\t\t\t&quot;COUNT(IF(pctp.amount &gt; 0, pctp.amount, 0)),&quot; + //\r\n\t\t\t&quot;COUNT(IF(pctp.amount &lt; 0, pctp.amount, 0)), &quot; + //\r\n\t\t\t&quot;SUM(IF(pctp.amount &gt; 0, pctp.amount, 0)), &quot; + //\r\n\t\t\t&quot;SUM(IF(pctp.amount &lt; 0, pctp.amount, 0)), &quot; + //\r\n\t\t\t&quot;SUM(pctp.amount), cp) &quot; + //\r\n\t\t\t&quot;FROM PrepaidCardTransactionPojo pctp &quot; + //\r\n\t\t\t&quot;JOIN PrepaidCardPojo pcp ON pctp.account = pcp.id &quot; + //\r\n\t\t\t&quot;JOIN CustomerPojo cp ON pcp.id = cp.prepaid_card &quot; + //\r\n\t\t\t&quot;WHERE pcp.number =:voucherNumber AND pctp.client =:client AND booking_time &gt;= :from AND booking_time &lt; :to GROUP BY :customer&quot;)\r\n\tList&lt;Bean&gt; loadGroupedCustomerPrepaidTransactions(@Param(&quot;client&quot;) ClientReadable client, @Param(&quot;customer&quot;) CustomerReadable customer, @Param(&quot;voucherNumber&quot;) String voucherNumber, @Param(&quot;from&quot;) Date from, @Param(&quot;to&quot;) Date to);\r\n```\r\n\r\nI am getting a following error:\r\n```...QuerySyntaxException: expecting CLOSE, found &#39;(&#39; near...```\r\n","title":"spring jpa @Query error, expecting CLOSE, found &#39;(&#39;","body":"<p>I have a following mysql query which works fine:</p>\n<p>*Edit: the path is just for illustration purpose... I did not want to copy my packages...</p>\n<pre><code>select COUNT(IF(amount &gt; 0, amount, 0)) as creditCount,\n       COUNT(IF(amount &lt; 0, amount, 0)) as debitCount,\n       SUM(IF(amount &gt; 0, amount, 0)) as credit,\n       SUM(IF(amount &lt; 0, amount, 0)) as debit,\n       SUM(amount)                    as balance,\n       cp.surname, cp.id, pcp.number from prepaid_card_transaction_pojo pctp\n         join prepaid_card_pojo pcp on pctp.account = pcp.id\n         join customer_pojo cp on pcp.id = cp.prepaid_card\nwhere pcp.number = '1000765352' AND pctp.client = UUID_TO_BIN('fb9dbcac-cd03-46ad-94b0-2709b0b0e2a8') AND booking_time &gt; '2020-12-01 00:00:00' group by cp.id;\n</code></pre>\n<p>I wish to transfer it to jpql:</p>\n<pre><code>@Query(&quot;select new path...Bean(&quot; + //\n            &quot;COUNT(IF(pctp.amount &gt; 0, pctp.amount, 0)),&quot; + //\n            &quot;COUNT(IF(pctp.amount &lt; 0, pctp.amount, 0)), &quot; + //\n            &quot;SUM(IF(pctp.amount &gt; 0, pctp.amount, 0)), &quot; + //\n            &quot;SUM(IF(pctp.amount &lt; 0, pctp.amount, 0)), &quot; + //\n            &quot;SUM(pctp.amount), cp) &quot; + //\n            &quot;FROM PrepaidCardTransactionPojo pctp &quot; + //\n            &quot;JOIN PrepaidCardPojo pcp ON pctp.account = pcp.id &quot; + //\n            &quot;JOIN CustomerPojo cp ON pcp.id = cp.prepaid_card &quot; + //\n            &quot;WHERE pcp.number =:voucherNumber AND pctp.client =:client AND booking_time &gt;= :from AND booking_time &lt; :to GROUP BY :customer&quot;)\n    List&lt;Bean&gt; loadGroupedCustomerPrepaidTransactions(@Param(&quot;client&quot;) ClientReadable client, @Param(&quot;customer&quot;) CustomerReadable customer, @Param(&quot;voucherNumber&quot;) String voucherNumber, @Param(&quot;from&quot;) Date from, @Param(&quot;to&quot;) Date to);\n</code></pre>\n<p>I am getting a following error:\n<code>...QuerySyntaxException: expecting CLOSE, found '(' near...</code></p>\n"},{"tags":["java","swing","jtable","locking","row"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640120275,"creation_date":1640119511,"answer_id":70441416,"question_id":70441321,"body_markdown":"Your problem is with you `TableCellRenderer`\r\n\r\nThe following...\r\n\r\n    Component tableCellRendererComponent\r\n                        = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n\r\n    //...\r\n\r\n    if (selectedId != null &amp;&amp; id.equals(selectedId)) {\r\n        setBackground(rowSelectionColor);\r\n        setForeground(table.getForeground());\r\n    } else {\r\n        setBackground(table.getBackground());\r\n        setForeground(table.getForeground());\r\n    }\r\n\r\nis overwriting the selection color made by the `super` call.\r\n\r\nInstead, change it to...\r\n\r\n    DefaultTableCellRenderer renderer;\r\n    renderer = new DefaultTableCellRenderer() {\r\n        @Override\r\n        public Component getTableCellRendererComponent(\r\n                JTable table,\r\n                Object value,\r\n                boolean isSelected,\r\n                boolean hasFocus,\r\n                int row,\r\n                int column) {\r\n            Component tableCellRendererComponent\r\n                    = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n\r\n            Integer id = (Integer) table.getModel().getValueAt(row, 0);\r\n\r\n            System.out.println(&quot;id = &quot; + id + &quot;; selectedId = &quot; + selectedId + &quot;; isSelected = &quot; + isSelected);\r\n\r\n            if (selectedId != null &amp;&amp; id.equals(selectedId)) {\r\n                setBackground(rowSelectionColor);\r\n                setForeground(table.getForeground());\r\n            } else if (!isSelected) {\r\n                setBackground(table.getBackground());\r\n                setForeground(table.getForeground());\r\n            }\r\n            return tableCellRendererComponent;\r\n        }\r\n    };\r\n\r\nOne thing I might suggest is, instead of switching the cell renderer (which doesn&#39;t seem to be working), apply the cell renderer to the table and make use of the `put/getClientProperty` support of the `JTable`\r\n\r\n    private class BtnAction implements ActionListener {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n\r\n            Object btnClicked = e.getSource();\r\n            int columnsSize = 3;\r\n\r\n            if (btnClicked == btnJTableSelectionLocked) {\r\n                System.out.println(&quot;Lock&quot;);\r\n                lockedSelection = true;\r\n                btnJTableSelectionLocked.setEnabled(false);\r\n                btnJTableSelectionUnlock.setEnabled(true);\r\n                table.setRowSelectionAllowed(false); // &lt;-- Works fine.\r\n                table.putClientProperty(&quot;selectedRowId&quot;, selectedId);\r\n            } else if (btnClicked == btnJTableSelectionUnlock) {\r\n                System.out.println(&quot;Unlock&quot;);\r\n                lockedSelection = false;\r\n                btnJTableSelectionLocked.setEnabled(true);\r\n                btnJTableSelectionUnlock.setEnabled(false);\r\n                table.setRowSelectionAllowed(true); // &lt;-- This line does not restore normal selection\r\n                table.putClientProperty(&quot;selectedRowId&quot;, null);\r\n            }\r\n        }\r\n    }\r\n\r\nand...\r\n\r\n    public class LockableTableCellRenderer extends DefaultTableCellRenderer {\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(\r\n                JTable table,\r\n                Object value,\r\n                boolean isSelected,\r\n                boolean hasFocus,\r\n                int row,\r\n                int column) {\r\n            Component tableCellRendererComponent = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n\r\n            Integer id = (Integer) table.getModel().getValueAt(row, 0);\r\n            Integer selectedId = (Integer) table.getClientProperty(&quot;selectedRowId&quot;);\r\n\r\n            if (selectedId != null &amp;&amp; id.equals(selectedId)) {\r\n                setBackground(rowSelectionColor);\r\n                setForeground(table.getForeground());\r\n            } else if (!isSelected) {\r\n                setBackground(table.getBackground());\r\n                setForeground(table.getForeground());\r\n                setBorder(noFocusBorder);\r\n            }\r\n            return tableCellRendererComponent;\r\n        }\r\n    }\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.DefaultListSelectionModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableColumnModel;\r\n\r\n    public class Test {\r\n\r\n        private JButton btnJTableSelectionLocked;\r\n        private JButton btnJTableSelectionUnlock;\r\n        private JPanel panelControl;\r\n        private JScrollPane scrollableTable;\r\n        private Integer selectedId;\r\n        private boolean lockedSelection;\r\n        private Color rowSelectionColor;\r\n        private Integer modelRow;\r\n        private JTable table;\r\n        private Object[][] data;\r\n\r\n        private JPanel createPanel() {\r\n\r\n            rowSelectionColor = new Color(184, 207, 229);\r\n            btnJTableSelectionLocked = new JButton(&quot;Lock selected row&quot;);\r\n            btnJTableSelectionLocked.setEnabled(false);\r\n            btnJTableSelectionLocked.addActionListener(new BtnAction());\r\n\r\n            btnJTableSelectionUnlock = new JButton(&quot;Unlock selection&quot;);\r\n            btnJTableSelectionUnlock.setEnabled(false);\r\n            btnJTableSelectionUnlock.addActionListener(new BtnAction());\r\n\r\n            panelControl = new JPanel();\r\n            panelControl.add(btnJTableSelectionLocked);\r\n            panelControl.add(btnJTableSelectionUnlock);\r\n\r\n            DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Id&quot;, &quot;Name&quot;, &quot;State&quot;}, 0) {\r\n                // Disable cell editing\r\n                @Override\r\n                public boolean isCellEditable(int row, int column) {\r\n                    // Disable cells editing.\r\n                    return false;\r\n                }\r\n            };\r\n\r\n            data = new Object[][]{\r\n                {1, &quot;Alpha&quot;, true},\r\n                {5, &quot;Beta&quot;, false},\r\n                {3, &quot;Gama&quot;, true},\r\n                {4, &quot;Giga&quot;, true},\r\n                {7, &quot;Coca&quot;, true},};\r\n\r\n            table = new JTable(model);\r\n            TableColumnModel columnModel = table.getColumnModel();\r\n\r\n            LockableTableCellRenderer cellRenderer = new LockableTableCellRenderer();\r\n            for (int column = 0; column &lt; columnModel.getColumnCount(); column++) {\r\n                columnModel.getColumn(column).setCellRenderer(cellRenderer);\r\n            }\r\n\r\n            table.getSelectionModel().setSelectionMode(DefaultListSelectionModel.SINGLE_SELECTION);\r\n            table.getSelectionModel().addListSelectionListener(new RowSelectionListener());\r\n\r\n            for (Object[] d : data) {\r\n                model.addRow(d);\r\n            }\r\n\r\n            JPanel containerPanel = new JPanel(new BorderLayout());\r\n            containerPanel.setPreferredSize(new Dimension(350, 200));\r\n\r\n            scrollableTable = new JScrollPane(table);\r\n            containerPanel.add(panelControl, BorderLayout.PAGE_START);\r\n            containerPanel.add(scrollableTable, BorderLayout.CENTER);\r\n\r\n            return containerPanel;\r\n        }\r\n\r\n        private class RowSelectionListener implements ListSelectionListener {\r\n\r\n            @Override\r\n            public void valueChanged(ListSelectionEvent event) {\r\n\r\n                // Ensure single event invoked\r\n                if (!event.getValueIsAdjusting() &amp;&amp; !lockedSelection) {\r\n\r\n                    DefaultListSelectionModel selectionModel = (DefaultListSelectionModel) event.getSource();\r\n\r\n                    if (selectionModel.isSelectionEmpty()) {\r\n                        // Empty selection: table row deselection occurred\r\n                        btnJTableSelectionLocked.setEnabled(false);\r\n                    } else {\r\n                        btnJTableSelectionLocked.setEnabled(true);\r\n                        int viewRow = table.getSelectedRow();\r\n                        if (viewRow &gt; -1) {\r\n\r\n                            int idsColumn = 0;\r\n                            modelRow = table.convertRowIndexToModel(viewRow);\r\n                            Object selectedIdObject = table.getModel().getValueAt(modelRow, idsColumn);\r\n                            selectedId = Integer.parseInt(selectedIdObject.toString());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private class BtnAction implements ActionListener {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n                Object btnClicked = e.getSource();\r\n                int columnsSize = 3;\r\n\r\n                if (btnClicked == btnJTableSelectionLocked) {\r\n                    System.out.println(&quot;Lock&quot;);\r\n                    lockedSelection = true;\r\n                    btnJTableSelectionLocked.setEnabled(false);\r\n                    btnJTableSelectionUnlock.setEnabled(true);\r\n                    table.setRowSelectionAllowed(false); // &lt;-- Works fine.\r\n                    table.putClientProperty(&quot;selectedRowId&quot;, selectedId);\r\n                } else if (btnClicked == btnJTableSelectionUnlock) {\r\n                    System.out.println(&quot;Unlock&quot;);\r\n                    lockedSelection = false;\r\n                    btnJTableSelectionLocked.setEnabled(true);\r\n                    btnJTableSelectionUnlock.setEnabled(false);\r\n                    table.setRowSelectionAllowed(true); // &lt;-- This line does not restore normal selection\r\n                    table.putClientProperty(&quot;selectedRowId&quot;, null);\r\n                }\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            javax.swing.SwingUtilities.invokeLater(() -&gt; {\r\n                Test tableRowColorControl = new Test();\r\n                JFrame frame = new JFrame(&quot;TableRowSelectionControl&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.getContentPane().add(tableRowColorControl.createPanel());\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            });\r\n        }\r\n\r\n        public class LockableTableCellRenderer extends DefaultTableCellRenderer {\r\n\r\n            @Override\r\n            public Component getTableCellRendererComponent(\r\n                    JTable table,\r\n                    Object value,\r\n                    boolean isSelected,\r\n                    boolean hasFocus,\r\n                    int row,\r\n                    int column) {\r\n                Component tableCellRendererComponent = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n\r\n                Integer id = (Integer) table.getModel().getValueAt(row, 0);\r\n                Integer selectedId = (Integer) table.getClientProperty(&quot;selectedRowId&quot;);\r\n\r\n                if (selectedId != null &amp;&amp; id.equals(selectedId)) {\r\n                    setBackground(rowSelectionColor);\r\n                    setForeground(table.getForeground());\r\n                } else if (!isSelected) {\r\n                    setBackground(table.getBackground());\r\n                    setForeground(table.getForeground());\r\n                    setBorder(noFocusBorder);\r\n                }\r\n                return tableCellRendererComponent;\r\n            }\r\n        }\r\n    }\r\n","title":"How to restore normal JTable row selection?; undo table.setRowSelectionAllowed(false)","body":"<p>Your problem is with you <code>TableCellRenderer</code></p>\n<p>The following...</p>\n<pre><code>Component tableCellRendererComponent\n                    = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n//...\n\nif (selectedId != null &amp;&amp; id.equals(selectedId)) {\n    setBackground(rowSelectionColor);\n    setForeground(table.getForeground());\n} else {\n    setBackground(table.getBackground());\n    setForeground(table.getForeground());\n}\n</code></pre>\n<p>is overwriting the selection color made by the <code>super</code> call.</p>\n<p>Instead, change it to...</p>\n<pre><code>DefaultTableCellRenderer renderer;\nrenderer = new DefaultTableCellRenderer() {\n    @Override\n    public Component getTableCellRendererComponent(\n            JTable table,\n            Object value,\n            boolean isSelected,\n            boolean hasFocus,\n            int row,\n            int column) {\n        Component tableCellRendererComponent\n                = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n        Integer id = (Integer) table.getModel().getValueAt(row, 0);\n\n        System.out.println(&quot;id = &quot; + id + &quot;; selectedId = &quot; + selectedId + &quot;; isSelected = &quot; + isSelected);\n\n        if (selectedId != null &amp;&amp; id.equals(selectedId)) {\n            setBackground(rowSelectionColor);\n            setForeground(table.getForeground());\n        } else if (!isSelected) {\n            setBackground(table.getBackground());\n            setForeground(table.getForeground());\n        }\n        return tableCellRendererComponent;\n    }\n};\n</code></pre>\n<p>One thing I might suggest is, instead of switching the cell renderer (which doesn't seem to be working), apply the cell renderer to the table and make use of the <code>put/getClientProperty</code> support of the <code>JTable</code></p>\n<pre><code>private class BtnAction implements ActionListener {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        Object btnClicked = e.getSource();\n        int columnsSize = 3;\n\n        if (btnClicked == btnJTableSelectionLocked) {\n            System.out.println(&quot;Lock&quot;);\n            lockedSelection = true;\n            btnJTableSelectionLocked.setEnabled(false);\n            btnJTableSelectionUnlock.setEnabled(true);\n            table.setRowSelectionAllowed(false); // &lt;-- Works fine.\n            table.putClientProperty(&quot;selectedRowId&quot;, selectedId);\n        } else if (btnClicked == btnJTableSelectionUnlock) {\n            System.out.println(&quot;Unlock&quot;);\n            lockedSelection = false;\n            btnJTableSelectionLocked.setEnabled(true);\n            btnJTableSelectionUnlock.setEnabled(false);\n            table.setRowSelectionAllowed(true); // &lt;-- This line does not restore normal selection\n            table.putClientProperty(&quot;selectedRowId&quot;, null);\n        }\n    }\n}\n</code></pre>\n<p>and...</p>\n<pre><code>public class LockableTableCellRenderer extends DefaultTableCellRenderer {\n\n    @Override\n    public Component getTableCellRendererComponent(\n            JTable table,\n            Object value,\n            boolean isSelected,\n            boolean hasFocus,\n            int row,\n            int column) {\n        Component tableCellRendererComponent = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n        Integer id = (Integer) table.getModel().getValueAt(row, 0);\n        Integer selectedId = (Integer) table.getClientProperty(&quot;selectedRowId&quot;);\n\n        if (selectedId != null &amp;&amp; id.equals(selectedId)) {\n            setBackground(rowSelectionColor);\n            setForeground(table.getForeground());\n        } else if (!isSelected) {\n            setBackground(table.getBackground());\n            setForeground(table.getForeground());\n            setBorder(noFocusBorder);\n        }\n        return tableCellRendererComponent;\n    }\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.DefaultListSelectionModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableColumnModel;\n\npublic class Test {\n\n    private JButton btnJTableSelectionLocked;\n    private JButton btnJTableSelectionUnlock;\n    private JPanel panelControl;\n    private JScrollPane scrollableTable;\n    private Integer selectedId;\n    private boolean lockedSelection;\n    private Color rowSelectionColor;\n    private Integer modelRow;\n    private JTable table;\n    private Object[][] data;\n\n    private JPanel createPanel() {\n\n        rowSelectionColor = new Color(184, 207, 229);\n        btnJTableSelectionLocked = new JButton(&quot;Lock selected row&quot;);\n        btnJTableSelectionLocked.setEnabled(false);\n        btnJTableSelectionLocked.addActionListener(new BtnAction());\n\n        btnJTableSelectionUnlock = new JButton(&quot;Unlock selection&quot;);\n        btnJTableSelectionUnlock.setEnabled(false);\n        btnJTableSelectionUnlock.addActionListener(new BtnAction());\n\n        panelControl = new JPanel();\n        panelControl.add(btnJTableSelectionLocked);\n        panelControl.add(btnJTableSelectionUnlock);\n\n        DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Id&quot;, &quot;Name&quot;, &quot;State&quot;}, 0) {\n            // Disable cell editing\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                // Disable cells editing.\n                return false;\n            }\n        };\n\n        data = new Object[][]{\n            {1, &quot;Alpha&quot;, true},\n            {5, &quot;Beta&quot;, false},\n            {3, &quot;Gama&quot;, true},\n            {4, &quot;Giga&quot;, true},\n            {7, &quot;Coca&quot;, true},};\n\n        table = new JTable(model);\n        TableColumnModel columnModel = table.getColumnModel();\n\n        LockableTableCellRenderer cellRenderer = new LockableTableCellRenderer();\n        for (int column = 0; column &lt; columnModel.getColumnCount(); column++) {\n            columnModel.getColumn(column).setCellRenderer(cellRenderer);\n        }\n\n        table.getSelectionModel().setSelectionMode(DefaultListSelectionModel.SINGLE_SELECTION);\n        table.getSelectionModel().addListSelectionListener(new RowSelectionListener());\n\n        for (Object[] d : data) {\n            model.addRow(d);\n        }\n\n        JPanel containerPanel = new JPanel(new BorderLayout());\n        containerPanel.setPreferredSize(new Dimension(350, 200));\n\n        scrollableTable = new JScrollPane(table);\n        containerPanel.add(panelControl, BorderLayout.PAGE_START);\n        containerPanel.add(scrollableTable, BorderLayout.CENTER);\n\n        return containerPanel;\n    }\n\n    private class RowSelectionListener implements ListSelectionListener {\n\n        @Override\n        public void valueChanged(ListSelectionEvent event) {\n\n            // Ensure single event invoked\n            if (!event.getValueIsAdjusting() &amp;&amp; !lockedSelection) {\n\n                DefaultListSelectionModel selectionModel = (DefaultListSelectionModel) event.getSource();\n\n                if (selectionModel.isSelectionEmpty()) {\n                    // Empty selection: table row deselection occurred\n                    btnJTableSelectionLocked.setEnabled(false);\n                } else {\n                    btnJTableSelectionLocked.setEnabled(true);\n                    int viewRow = table.getSelectedRow();\n                    if (viewRow &gt; -1) {\n\n                        int idsColumn = 0;\n                        modelRow = table.convertRowIndexToModel(viewRow);\n                        Object selectedIdObject = table.getModel().getValueAt(modelRow, idsColumn);\n                        selectedId = Integer.parseInt(selectedIdObject.toString());\n                    }\n                }\n            }\n        }\n    }\n\n    private class BtnAction implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            Object btnClicked = e.getSource();\n            int columnsSize = 3;\n\n            if (btnClicked == btnJTableSelectionLocked) {\n                System.out.println(&quot;Lock&quot;);\n                lockedSelection = true;\n                btnJTableSelectionLocked.setEnabled(false);\n                btnJTableSelectionUnlock.setEnabled(true);\n                table.setRowSelectionAllowed(false); // &lt;-- Works fine.\n                table.putClientProperty(&quot;selectedRowId&quot;, selectedId);\n            } else if (btnClicked == btnJTableSelectionUnlock) {\n                System.out.println(&quot;Unlock&quot;);\n                lockedSelection = false;\n                btnJTableSelectionLocked.setEnabled(true);\n                btnJTableSelectionUnlock.setEnabled(false);\n                table.setRowSelectionAllowed(true); // &lt;-- This line does not restore normal selection\n                table.putClientProperty(&quot;selectedRowId&quot;, null);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; {\n            Test tableRowColorControl = new Test();\n            JFrame frame = new JFrame(&quot;TableRowSelectionControl&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(tableRowColorControl.createPanel());\n            frame.pack();\n            frame.setVisible(true);\n        });\n    }\n\n    public class LockableTableCellRenderer extends DefaultTableCellRenderer {\n\n        @Override\n        public Component getTableCellRendererComponent(\n                JTable table,\n                Object value,\n                boolean isSelected,\n                boolean hasFocus,\n                int row,\n                int column) {\n            Component tableCellRendererComponent = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n            Integer id = (Integer) table.getModel().getValueAt(row, 0);\n            Integer selectedId = (Integer) table.getClientProperty(&quot;selectedRowId&quot;);\n\n            if (selectedId != null &amp;&amp; id.equals(selectedId)) {\n                setBackground(rowSelectionColor);\n                setForeground(table.getForeground());\n            } else if (!isSelected) {\n                setBackground(table.getBackground());\n                setForeground(table.getForeground());\n                setBorder(noFocusBorder);\n            }\n            return tableCellRendererComponent;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640246501,"creation_date":1640246501,"answer_id":70459243,"question_id":70441321,"body_markdown":"Excelent [answer][1] from MadProgrammer. Here I am only using it with little updates; for me as a reference and for future visitors.\r\n\r\n- Instead of using some column value as unique identifier to track the selected row, use the `TableModel` row index; that is *row content agnostic* solution.\r\n\r\n- When user unlocks the selected row; the same selected row is kept selected, for good user experience.\r\n\r\nCode:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.DefaultListSelectionModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableColumnModel;\r\n    \r\n    public class TableRowSelectionControl {\r\n    \r\n        private JButton btnJTableSelectionLock;\r\n        private JButton btnJTableSelectionUnlock;\r\n        private JPanel panelControl;\r\n        private JScrollPane scrollableTable;\r\n        private boolean lockedSelection;\r\n        private Color rowSelectionColor;\r\n        private final String selectedRowKey = &quot;selectedRow&quot;;\r\n        private Integer selectedModelRow;\r\n        private Integer oldSelectedModelRow;\r\n        private JTable table;\r\n        private Object[][] data;\r\n    \r\n        private JPanel createPanel() {\r\n    \r\n            rowSelectionColor = new Color(184, 207, 229);\r\n            btnJTableSelectionLock = new JButton(&quot;Lock selected row&quot;);\r\n            btnJTableSelectionLock.setEnabled(false);\r\n            btnJTableSelectionLock.addActionListener(new BtnAction());\r\n    \r\n            btnJTableSelectionUnlock = new JButton(&quot;Unlock selection&quot;);\r\n            btnJTableSelectionUnlock.setEnabled(false);\r\n            btnJTableSelectionUnlock.addActionListener(new BtnAction());\r\n    \r\n            panelControl = new JPanel();\r\n            panelControl.add(btnJTableSelectionLock);\r\n            panelControl.add(btnJTableSelectionUnlock);\r\n    \r\n            DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Id&quot;, &quot;Name&quot;, &quot;State&quot;}, 0) {\r\n                // Disable cell editing\r\n                @Override\r\n                public boolean isCellEditable(int row, int column) {\r\n                    // Disable cells editing.\r\n                    return false;\r\n                }\r\n            };\r\n    \r\n            data = new Object[][]{\r\n                {1, &quot;Alpha&quot;, true},\r\n                {5, &quot;Beta&quot;, false},\r\n                {3, &quot;Gamma&quot;, true},\r\n                {4, &quot;Giga&quot;, true},\r\n                {7, &quot;Coca&quot;, true},};\r\n    \r\n            table = new JTable(model);\r\n            TableColumnModel columnModel = table.getColumnModel();\r\n    \r\n            LockableTableCellRenderer cellRenderer = new LockableTableCellRenderer();\r\n            for (int column = 0; column &lt; columnModel.getColumnCount(); column++) {\r\n                columnModel.getColumn(column).setCellRenderer(cellRenderer);\r\n            }\r\n    \r\n            table.getSelectionModel().setSelectionMode(DefaultListSelectionModel.SINGLE_SELECTION);\r\n            table.getSelectionModel().addListSelectionListener(new RowSelectionListener());\r\n    \r\n            for (Object[] d : data) {\r\n                model.addRow(d);\r\n            }\r\n    \r\n            JPanel containerPanel = new JPanel(new BorderLayout());\r\n            containerPanel.setPreferredSize(new Dimension(350, 200));\r\n    \r\n            scrollableTable = new JScrollPane(table);\r\n            containerPanel.add(panelControl, BorderLayout.PAGE_START);\r\n            containerPanel.add(scrollableTable, BorderLayout.CENTER);\r\n    \r\n            return containerPanel;\r\n        }\r\n    \r\n        private class RowSelectionListener implements ListSelectionListener {\r\n    \r\n            @Override\r\n            public void valueChanged(ListSelectionEvent event) {\r\n    \r\n                // Ensure single event invoked\r\n                if (!event.getValueIsAdjusting() &amp;&amp; !lockedSelection) {\r\n    \r\n                    DefaultListSelectionModel selectionModel = (DefaultListSelectionModel) event.getSource();\r\n    \r\n                    if (selectionModel.isSelectionEmpty()) {\r\n                        // Empty selection: table row deselection occurred\r\n                        btnJTableSelectionLock.setEnabled(false);\r\n                    } else {\r\n                        btnJTableSelectionLock.setEnabled(true);\r\n                        int viewRow = table.getSelectedRow();\r\n                        if (viewRow &gt; -1) {\r\n                            selectedModelRow = table.convertRowIndexToModel(viewRow);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private class BtnAction implements ActionListener {\r\n    \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n    \r\n                Object btnClicked = e.getSource();\r\n    \r\n                if (btnClicked == btnJTableSelectionLock) {\r\n                    System.out.println(&quot;Lock&quot;);\r\n                    lockedSelection = true;\r\n                    btnJTableSelectionLock.setEnabled(false);\r\n                    btnJTableSelectionUnlock.setEnabled(true);\r\n                    table.setRowSelectionAllowed(false);\r\n                    oldSelectedModelRow = selectedModelRow;\r\n                    table.putClientProperty(selectedRowKey, selectedModelRow);\r\n                } else if (btnClicked == btnJTableSelectionUnlock) {\r\n                    System.out.println(&quot;Unlock&quot;);\r\n                    lockedSelection = false;\r\n                    btnJTableSelectionLock.setEnabled(true);\r\n                    btnJTableSelectionUnlock.setEnabled(false);\r\n                    table.setRowSelectionAllowed(true);\r\n                    table.putClientProperty(selectedRowKey, null);\r\n                    table.setRowSelectionInterval(0, oldSelectedModelRow);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            javax.swing.SwingUtilities.invokeLater(() -&gt; {\r\n                TableRowSelectionControl tableRowColorControl = new TableRowSelectionControl();\r\n                JFrame frame = new JFrame(&quot;TableRowSelectionControl&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.getContentPane().add(tableRowColorControl.createPanel());\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            });\r\n        }\r\n    \r\n        public class LockableTableCellRenderer extends DefaultTableCellRenderer {\r\n    \r\n            @Override\r\n            public Component getTableCellRendererComponent(\r\n                    JTable table,\r\n                    Object value,\r\n                    boolean isSelected,\r\n                    boolean hasFocus,\r\n                    int row,\r\n                    int column) {\r\n                Component tableCellRendererComponent = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n    \r\n                Integer renderedRow = table.convertRowIndexToModel(row);\r\n                Integer selectedRow = (Integer) table.getClientProperty(selectedRowKey);\r\n    \r\n                if (selectedRow != null &amp;&amp; renderedRow.equals(selectedRow)) {\r\n                    setBackground(rowSelectionColor);\r\n                    setForeground(table.getForeground());\r\n                } else if (!isSelected) {\r\n                    setBackground(table.getBackground());\r\n                    setForeground(table.getForeground());\r\n                    setBorder(noFocusBorder);\r\n                }\r\n                return tableCellRendererComponent;\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/70441416/6811102\r\n\r\n","title":"How to restore normal JTable row selection?; undo table.setRowSelectionAllowed(false)","body":"<p>Excelent <a href=\"https://stackoverflow.com/a/70441416/6811102\">answer</a> from MadProgrammer. Here I am only using it with little updates; for me as a reference and for future visitors.</p>\n<ul>\n<li><p>Instead of using some column value as unique identifier to track the selected row, use the <code>TableModel</code> row index; that is <em>row content agnostic</em> solution.</p>\n</li>\n<li><p>When user unlocks the selected row; the same selected row is kept selected, for good user experience.</p>\n</li>\n</ul>\n<p>Code:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.DefaultListSelectionModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableColumnModel;\n\npublic class TableRowSelectionControl {\n\n    private JButton btnJTableSelectionLock;\n    private JButton btnJTableSelectionUnlock;\n    private JPanel panelControl;\n    private JScrollPane scrollableTable;\n    private boolean lockedSelection;\n    private Color rowSelectionColor;\n    private final String selectedRowKey = &quot;selectedRow&quot;;\n    private Integer selectedModelRow;\n    private Integer oldSelectedModelRow;\n    private JTable table;\n    private Object[][] data;\n\n    private JPanel createPanel() {\n\n        rowSelectionColor = new Color(184, 207, 229);\n        btnJTableSelectionLock = new JButton(&quot;Lock selected row&quot;);\n        btnJTableSelectionLock.setEnabled(false);\n        btnJTableSelectionLock.addActionListener(new BtnAction());\n\n        btnJTableSelectionUnlock = new JButton(&quot;Unlock selection&quot;);\n        btnJTableSelectionUnlock.setEnabled(false);\n        btnJTableSelectionUnlock.addActionListener(new BtnAction());\n\n        panelControl = new JPanel();\n        panelControl.add(btnJTableSelectionLock);\n        panelControl.add(btnJTableSelectionUnlock);\n\n        DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Id&quot;, &quot;Name&quot;, &quot;State&quot;}, 0) {\n            // Disable cell editing\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                // Disable cells editing.\n                return false;\n            }\n        };\n\n        data = new Object[][]{\n            {1, &quot;Alpha&quot;, true},\n            {5, &quot;Beta&quot;, false},\n            {3, &quot;Gamma&quot;, true},\n            {4, &quot;Giga&quot;, true},\n            {7, &quot;Coca&quot;, true},};\n\n        table = new JTable(model);\n        TableColumnModel columnModel = table.getColumnModel();\n\n        LockableTableCellRenderer cellRenderer = new LockableTableCellRenderer();\n        for (int column = 0; column &lt; columnModel.getColumnCount(); column++) {\n            columnModel.getColumn(column).setCellRenderer(cellRenderer);\n        }\n\n        table.getSelectionModel().setSelectionMode(DefaultListSelectionModel.SINGLE_SELECTION);\n        table.getSelectionModel().addListSelectionListener(new RowSelectionListener());\n\n        for (Object[] d : data) {\n            model.addRow(d);\n        }\n\n        JPanel containerPanel = new JPanel(new BorderLayout());\n        containerPanel.setPreferredSize(new Dimension(350, 200));\n\n        scrollableTable = new JScrollPane(table);\n        containerPanel.add(panelControl, BorderLayout.PAGE_START);\n        containerPanel.add(scrollableTable, BorderLayout.CENTER);\n\n        return containerPanel;\n    }\n\n    private class RowSelectionListener implements ListSelectionListener {\n\n        @Override\n        public void valueChanged(ListSelectionEvent event) {\n\n            // Ensure single event invoked\n            if (!event.getValueIsAdjusting() &amp;&amp; !lockedSelection) {\n\n                DefaultListSelectionModel selectionModel = (DefaultListSelectionModel) event.getSource();\n\n                if (selectionModel.isSelectionEmpty()) {\n                    // Empty selection: table row deselection occurred\n                    btnJTableSelectionLock.setEnabled(false);\n                } else {\n                    btnJTableSelectionLock.setEnabled(true);\n                    int viewRow = table.getSelectedRow();\n                    if (viewRow &gt; -1) {\n                        selectedModelRow = table.convertRowIndexToModel(viewRow);\n                    }\n                }\n            }\n        }\n    }\n\n    private class BtnAction implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            Object btnClicked = e.getSource();\n\n            if (btnClicked == btnJTableSelectionLock) {\n                System.out.println(&quot;Lock&quot;);\n                lockedSelection = true;\n                btnJTableSelectionLock.setEnabled(false);\n                btnJTableSelectionUnlock.setEnabled(true);\n                table.setRowSelectionAllowed(false);\n                oldSelectedModelRow = selectedModelRow;\n                table.putClientProperty(selectedRowKey, selectedModelRow);\n            } else if (btnClicked == btnJTableSelectionUnlock) {\n                System.out.println(&quot;Unlock&quot;);\n                lockedSelection = false;\n                btnJTableSelectionLock.setEnabled(true);\n                btnJTableSelectionUnlock.setEnabled(false);\n                table.setRowSelectionAllowed(true);\n                table.putClientProperty(selectedRowKey, null);\n                table.setRowSelectionInterval(0, oldSelectedModelRow);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; {\n            TableRowSelectionControl tableRowColorControl = new TableRowSelectionControl();\n            JFrame frame = new JFrame(&quot;TableRowSelectionControl&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(tableRowColorControl.createPanel());\n            frame.pack();\n            frame.setVisible(true);\n        });\n    }\n\n    public class LockableTableCellRenderer extends DefaultTableCellRenderer {\n\n        @Override\n        public Component getTableCellRendererComponent(\n                JTable table,\n                Object value,\n                boolean isSelected,\n                boolean hasFocus,\n                int row,\n                int column) {\n            Component tableCellRendererComponent = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n            Integer renderedRow = table.convertRowIndexToModel(row);\n            Integer selectedRow = (Integer) table.getClientProperty(selectedRowKey);\n\n            if (selectedRow != null &amp;&amp; renderedRow.equals(selectedRow)) {\n                setBackground(rowSelectionColor);\n                setForeground(table.getForeground());\n            } else if (!isSelected) {\n                setBackground(table.getBackground());\n                setForeground(table.getForeground());\n                setBorder(noFocusBorder);\n            }\n            return tableCellRendererComponent;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70441416,"answer_count":2,"score":0,"last_activity_date":1640246501,"creation_date":1640118845,"question_id":70441321,"body_markdown":"## Description ##\r\n\r\n- At the beginning selecting a row using mouse click or keyboard arrows is possible with the selected row being colored with the normal row selection color.\r\n- User can select single row.\r\n- User can lock the selected row using code invoked by lock button. Locking itself is made possible by *imitating* a selected row (which I&#39;m not sure if it is the proper way of doing so) and is done by two things: \r\n  - Color the selected row using `DefaultTableCellRenderer`\r\n  - Disable `JTable` row selection `setRowSelectionAllowed(false)`  \r\n\r\n- User can unlock/restore normal selection using code invoked by unlock button. Unlocking is simply to undo the steps of locking:\r\n  - Remove coloring of the selected row using `DefaultTableCellRenderer`\r\n  - Enable `JTable` row selection `setRowSelectionAllowed(true)` &lt;-- (**does not work**)  \r\n\r\nHow to restore normal `JTable` row selection?\r\n\r\n## Code in [SSCCE][1] | [MCVE][2] format ##\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.DefaultListSelectionModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    \r\n    public class TableRowSelectionControl {\r\n    \r\n        private JButton btnJTableSelectionLocked;\r\n        private JButton btnJTableSelectionUnlock;\r\n        private JPanel panelControl;\r\n        private JScrollPane scrollableTable;\r\n        private Integer selectedId;\r\n        private boolean lockedSelection;\r\n        private Color rowSelectionColor;\r\n        private Integer modelRow;\r\n        private JTable table;\r\n        private Object[][] data;\r\n    \r\n        private JPanel createPanel() {\r\n    \r\n            rowSelectionColor = new Color(184, 207, 229);\r\n            btnJTableSelectionLocked = new JButton(&quot;Lock selected row&quot;);\r\n            btnJTableSelectionLocked.setEnabled(false);\r\n            btnJTableSelectionLocked.addActionListener(new BtnAction());\r\n    \r\n            btnJTableSelectionUnlock = new JButton(&quot;Unlock selection&quot;);\r\n            btnJTableSelectionUnlock.setEnabled(false);\r\n            btnJTableSelectionUnlock.addActionListener(new BtnAction());\r\n    \r\n            panelControl = new JPanel();\r\n            panelControl.add(btnJTableSelectionLocked);\r\n            panelControl.add(btnJTableSelectionUnlock);\r\n    \r\n            DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Id&quot;, &quot;Name&quot;, &quot;State&quot;}, 0) {\r\n                // Disable cell editing\r\n                @Override\r\n                public boolean isCellEditable(int row, int column) {\r\n                    // Disable cells editing.\r\n                    return false;\r\n                }\r\n            };\r\n    \r\n            data = new Object[][]{\r\n                {1, &quot;Alpha&quot;, true},\r\n                {5, &quot;Beta&quot;, false},\r\n                {3, &quot;Gama&quot;, true},\r\n                {4, &quot;Giga&quot;, true},\r\n                {7, &quot;Coca&quot;, true},};\r\n    \r\n            table = new JTable(model);\r\n            table.getSelectionModel().setSelectionMode(DefaultListSelectionModel.SINGLE_SELECTION);\r\n            table.getSelectionModel().addListSelectionListener(new RowSelectionListener());\r\n    \r\n            for (Object[] d : data) {\r\n                model.addRow(d);\r\n            }\r\n    \r\n            JPanel containerPanel = new JPanel(new BorderLayout());\r\n            containerPanel.setPreferredSize(new Dimension(350, 200));\r\n    \r\n            scrollableTable = new JScrollPane(table);\r\n            containerPanel.add(panelControl, BorderLayout.PAGE_START);\r\n            containerPanel.add(scrollableTable, BorderLayout.CENTER);\r\n    \r\n            return containerPanel;\r\n        }\r\n    \r\n        private class RowSelectionListener implements ListSelectionListener {\r\n    \r\n            @Override\r\n            public void valueChanged(ListSelectionEvent event) {\r\n    \r\n                // Ensure single event invoked\r\n                if (!event.getValueIsAdjusting() &amp;&amp; !lockedSelection) {\r\n    \r\n                    DefaultListSelectionModel selectionModel = (DefaultListSelectionModel) event.getSource();\r\n    \r\n                    if (selectionModel.isSelectionEmpty()) {\r\n                        // Empty selection: table row deselection occurred\r\n                        btnJTableSelectionLocked.setEnabled(false);\r\n                    } else {\r\n                        btnJTableSelectionLocked.setEnabled(true);\r\n                        int viewRow = table.getSelectedRow();\r\n                        if (viewRow &gt; -1) {\r\n    \r\n                            int idsColumn = 0;\r\n                            modelRow = table.convertRowIndexToModel(viewRow);\r\n                            Object selectedIdObject = table.getModel().getValueAt(modelRow, idsColumn);\r\n                            selectedId = Integer.parseInt(selectedIdObject.toString());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private DefaultTableCellRenderer getRowsColorRenderer(Integer selectedId) {\r\n    \r\n            DefaultTableCellRenderer renderer;\r\n            renderer = new DefaultTableCellRenderer() {\r\n                @Override\r\n                public Component getTableCellRendererComponent(\r\n                        JTable table,\r\n                        Object value,\r\n                        boolean isSelected,\r\n                        boolean hasFocus,\r\n                        int row,\r\n                        int column) {\r\n                    Component tableCellRendererComponent\r\n                            = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n    \r\n                    Integer id = (Integer) table.getModel().getValueAt(row, 0);\r\n    \r\n                    if (selectedId != null &amp;&amp; id.equals(selectedId)) {\r\n                        setBackground(rowSelectionColor);\r\n                        setForeground(table.getForeground());\r\n                    } else {\r\n                        setBackground(table.getBackground());\r\n                        setForeground(table.getForeground());\r\n                    }\r\n                    return tableCellRendererComponent;\r\n                }\r\n            };\r\n            return renderer;\r\n        }\r\n    \r\n        private class BtnAction implements ActionListener {\r\n    \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n    \r\n                Object btnClicked = e.getSource();\r\n                int columnsSize = 3;\r\n    \r\n                if (btnClicked == btnJTableSelectionLocked) {\r\n                    lockedSelection = true;\r\n                    btnJTableSelectionLocked.setEnabled(false);\r\n                    btnJTableSelectionUnlock.setEnabled(true);\r\n                    table.setRowSelectionAllowed(false); // &lt;-- Works fine.\r\n                    for (int i = 0; i &lt; columnsSize; i++) {\r\n                        table.getColumnModel().getColumn(i).setCellRenderer(getRowsColorRenderer(selectedId));\r\n                    }\r\n                } else if (btnClicked == btnJTableSelectionUnlock) {\r\n                    lockedSelection = false;\r\n                    btnJTableSelectionLocked.setEnabled(true);\r\n                    btnJTableSelectionUnlock.setEnabled(false);\r\n                    table.setRowSelectionAllowed(true); // &lt;-- This line does not restore normal selection\r\n                    for (int i = 0; i &lt; columnsSize; i++) {\r\n                        table.getColumnModel().getColumn(i).setCellRenderer(getRowsColorRenderer(null));\r\n                    }\r\n                    if (modelRow != null) {\r\n                        // Enforce the same row to be selected on unloking;\r\n                        // afterwords user can select any row.\r\n                        table.setRowSelectionInterval(0, modelRow);\r\n                    }\r\n                }\r\n                table.repaint();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            javax.swing.SwingUtilities.invokeLater(() -&gt; {\r\n                TableRowSelectionControl tableRowColorControl = new TableRowSelectionControl();\r\n                JFrame frame = new JFrame(&quot;TableRowSelectionControl&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.getContentPane().add(tableRowColorControl.createPanel());\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://sscce.org\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example","title":"How to restore normal JTable row selection?; undo table.setRowSelectionAllowed(false)","body":"<h2>Description</h2>\n<ul>\n<li><p>At the beginning selecting a row using mouse click or keyboard arrows is possible with the selected row being colored with the normal row selection color.</p>\n</li>\n<li><p>User can select single row.</p>\n</li>\n<li><p>User can lock the selected row using code invoked by lock button. Locking itself is made possible by <em>imitating</em> a selected row (which I'm not sure if it is the proper way of doing so) and is done by two things:</p>\n<ul>\n<li>Color the selected row using <code>DefaultTableCellRenderer</code></li>\n<li>Disable <code>JTable</code> row selection <code>setRowSelectionAllowed(false)</code></li>\n</ul>\n</li>\n<li><p>User can unlock/restore normal selection using code invoked by unlock button. Unlocking is simply to undo the steps of locking:</p>\n<ul>\n<li>Remove coloring of the selected row using <code>DefaultTableCellRenderer</code></li>\n<li>Enable <code>JTable</code> row selection <code>setRowSelectionAllowed(true)</code> &lt;-- (<strong>does not work</strong>)</li>\n</ul>\n</li>\n</ul>\n<p>How to restore normal <code>JTable</code> row selection?</p>\n<h2>Code in <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a> | <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a> format</h2>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.DefaultListSelectionModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\n\npublic class TableRowSelectionControl {\n\n    private JButton btnJTableSelectionLocked;\n    private JButton btnJTableSelectionUnlock;\n    private JPanel panelControl;\n    private JScrollPane scrollableTable;\n    private Integer selectedId;\n    private boolean lockedSelection;\n    private Color rowSelectionColor;\n    private Integer modelRow;\n    private JTable table;\n    private Object[][] data;\n\n    private JPanel createPanel() {\n\n        rowSelectionColor = new Color(184, 207, 229);\n        btnJTableSelectionLocked = new JButton(&quot;Lock selected row&quot;);\n        btnJTableSelectionLocked.setEnabled(false);\n        btnJTableSelectionLocked.addActionListener(new BtnAction());\n\n        btnJTableSelectionUnlock = new JButton(&quot;Unlock selection&quot;);\n        btnJTableSelectionUnlock.setEnabled(false);\n        btnJTableSelectionUnlock.addActionListener(new BtnAction());\n\n        panelControl = new JPanel();\n        panelControl.add(btnJTableSelectionLocked);\n        panelControl.add(btnJTableSelectionUnlock);\n\n        DefaultTableModel model = new DefaultTableModel(new String[]{&quot;Id&quot;, &quot;Name&quot;, &quot;State&quot;}, 0) {\n            // Disable cell editing\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                // Disable cells editing.\n                return false;\n            }\n        };\n\n        data = new Object[][]{\n            {1, &quot;Alpha&quot;, true},\n            {5, &quot;Beta&quot;, false},\n            {3, &quot;Gama&quot;, true},\n            {4, &quot;Giga&quot;, true},\n            {7, &quot;Coca&quot;, true},};\n\n        table = new JTable(model);\n        table.getSelectionModel().setSelectionMode(DefaultListSelectionModel.SINGLE_SELECTION);\n        table.getSelectionModel().addListSelectionListener(new RowSelectionListener());\n\n        for (Object[] d : data) {\n            model.addRow(d);\n        }\n\n        JPanel containerPanel = new JPanel(new BorderLayout());\n        containerPanel.setPreferredSize(new Dimension(350, 200));\n\n        scrollableTable = new JScrollPane(table);\n        containerPanel.add(panelControl, BorderLayout.PAGE_START);\n        containerPanel.add(scrollableTable, BorderLayout.CENTER);\n\n        return containerPanel;\n    }\n\n    private class RowSelectionListener implements ListSelectionListener {\n\n        @Override\n        public void valueChanged(ListSelectionEvent event) {\n\n            // Ensure single event invoked\n            if (!event.getValueIsAdjusting() &amp;&amp; !lockedSelection) {\n\n                DefaultListSelectionModel selectionModel = (DefaultListSelectionModel) event.getSource();\n\n                if (selectionModel.isSelectionEmpty()) {\n                    // Empty selection: table row deselection occurred\n                    btnJTableSelectionLocked.setEnabled(false);\n                } else {\n                    btnJTableSelectionLocked.setEnabled(true);\n                    int viewRow = table.getSelectedRow();\n                    if (viewRow &gt; -1) {\n\n                        int idsColumn = 0;\n                        modelRow = table.convertRowIndexToModel(viewRow);\n                        Object selectedIdObject = table.getModel().getValueAt(modelRow, idsColumn);\n                        selectedId = Integer.parseInt(selectedIdObject.toString());\n                    }\n                }\n            }\n        }\n    }\n\n    private DefaultTableCellRenderer getRowsColorRenderer(Integer selectedId) {\n\n        DefaultTableCellRenderer renderer;\n        renderer = new DefaultTableCellRenderer() {\n            @Override\n            public Component getTableCellRendererComponent(\n                    JTable table,\n                    Object value,\n                    boolean isSelected,\n                    boolean hasFocus,\n                    int row,\n                    int column) {\n                Component tableCellRendererComponent\n                        = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n\n                Integer id = (Integer) table.getModel().getValueAt(row, 0);\n\n                if (selectedId != null &amp;&amp; id.equals(selectedId)) {\n                    setBackground(rowSelectionColor);\n                    setForeground(table.getForeground());\n                } else {\n                    setBackground(table.getBackground());\n                    setForeground(table.getForeground());\n                }\n                return tableCellRendererComponent;\n            }\n        };\n        return renderer;\n    }\n\n    private class BtnAction implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            Object btnClicked = e.getSource();\n            int columnsSize = 3;\n\n            if (btnClicked == btnJTableSelectionLocked) {\n                lockedSelection = true;\n                btnJTableSelectionLocked.setEnabled(false);\n                btnJTableSelectionUnlock.setEnabled(true);\n                table.setRowSelectionAllowed(false); // &lt;-- Works fine.\n                for (int i = 0; i &lt; columnsSize; i++) {\n                    table.getColumnModel().getColumn(i).setCellRenderer(getRowsColorRenderer(selectedId));\n                }\n            } else if (btnClicked == btnJTableSelectionUnlock) {\n                lockedSelection = false;\n                btnJTableSelectionLocked.setEnabled(true);\n                btnJTableSelectionUnlock.setEnabled(false);\n                table.setRowSelectionAllowed(true); // &lt;-- This line does not restore normal selection\n                for (int i = 0; i &lt; columnsSize; i++) {\n                    table.getColumnModel().getColumn(i).setCellRenderer(getRowsColorRenderer(null));\n                }\n                if (modelRow != null) {\n                    // Enforce the same row to be selected on unloking;\n                    // afterwords user can select any row.\n                    table.setRowSelectionInterval(0, modelRow);\n                }\n            }\n            table.repaint();\n        }\n    }\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(() -&gt; {\n            TableRowSelectionControl tableRowColorControl = new TableRowSelectionControl();\n            JFrame frame = new JFrame(&quot;TableRowSelectionControl&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(tableRowColorControl.createPanel());\n            frame.pack();\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","zoneddatetime"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640247484,"post_id":70458921,"comment_id":124551005,"body_markdown":"You should be using `OffsetDateTime` class for such values, not `ZonedDateTime`. Your inputs carry an offset from UTC, not a time zone.","body":"You should be using <code>OffsetDateTime</code> class for such values, not <code>ZonedDateTime</code>. Your inputs carry an offset from UTC, not a time zone."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640245494,"creation_date":1640244964,"answer_id":70459015,"question_id":70458921,"body_markdown":"`HashMap` is not sorted [by definition](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html):  \r\n&gt;_This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time._\r\n\r\nBut it is possible to iterate its entries and sort the output:\r\n```java\r\nmap.entrySet()\r\n    .stream()\r\n    .sorted(Map.Entry.comparingByValue())\r\n    .forEach(System.out::println);\r\n```\r\nor convert the sorted output into `LinkedHashMap` maintaining the insertion order:\r\n```\r\nMap&lt;Long. ZonedDateTime&gt; byValue = map.entrySet()\r\n    .stream()\r\n    .sorted(Map.Entry.comparingByValue())\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,\r\n        Map.Entry::getValue,\r\n        (v1, v2) -&gt; v1,\r\n        LinkedHashMap::new\r\n    ));\r\nSystem.out.println(byValue);\r\n```\r\n","title":"Sort a Map&lt;Long, ZonedDateTime&gt; by date in order to find max and min","body":"<p><code>HashMap</code> is not sorted <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">by definition</a>:</p>\n<blockquote>\n<p><em>This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time.</em></p>\n</blockquote>\n<p>But it is possible to iterate its entries and sort the output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.entrySet()\n    .stream()\n    .sorted(Map.Entry.comparingByValue())\n    .forEach(System.out::println);\n</code></pre>\n<p>or convert the sorted output into <code>LinkedHashMap</code> maintaining the insertion order:</p>\n<pre><code>Map&lt;Long. ZonedDateTime&gt; byValue = map.entrySet()\n    .stream()\n    .sorted(Map.Entry.comparingByValue())\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,\n        Map.Entry::getValue,\n        (v1, v2) -&gt; v1,\n        LinkedHashMap::new\n    ));\nSystem.out.println(byValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640245378,"creation_date":1640245088,"answer_id":70459036,"question_id":70458921,"body_markdown":"You cannot sort a HashMap because it always stores value in random order and provide random access.\r\n\r\nYou need to use a `LinkedHashMap` - values are inserted same as a HashMap but order is maintained in a linked list.\r\n\r\n\r\n`LinkedHashMap` way:\r\n1. Insert as usual.\r\n2. Collections.sort(dateComparator)\r\n3. Read as usual.\r\n\r\n\r\nThe next part is defining your comparator. Below is an example of a comparator which sorts a map by its values. You need to create a variation of this. Since `ZonedDateFormat` implements a compareTo method, this should ideally work as it is.\r\n\r\n```java\r\nComparator dateComparator = new Comparator()   \r\n{  \r\n    public int compare(Object o1, Object o2)   \r\n    {  \r\n        return ((Comparable) ((Map.Entry) \r\n            (o1)).getValue()).compareTo(((Map.Entry) (o2)).getValue());  \r\n    }  \r\n}\r\n```","title":"Sort a Map&lt;Long, ZonedDateTime&gt; by date in order to find max and min","body":"<p>You cannot sort a HashMap because it always stores value in random order and provide random access.</p>\n<p>You need to use a <code>LinkedHashMap</code> - values are inserted same as a HashMap but order is maintained in a linked list.</p>\n<p><code>LinkedHashMap</code> way:</p>\n<ol>\n<li>Insert as usual.</li>\n<li>Collections.sort(dateComparator)</li>\n<li>Read as usual.</li>\n</ol>\n<p>The next part is defining your comparator. Below is an example of a comparator which sorts a map by its values. You need to create a variation of this. Since <code>ZonedDateFormat</code> implements a compareTo method, this should ideally work as it is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator dateComparator = new Comparator()   \n{  \n    public int compare(Object o1, Object o2)   \n    {  \n        return ((Comparable) ((Map.Entry) \n            (o1)).getValue()).compareTo(((Map.Entry) (o2)).getValue());  \n    }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640245137,"creation_date":1640245137,"answer_id":70459046,"question_id":70458921,"body_markdown":"Your task is best solved without sorting at all. You just need one iteration over the `entrySet`.\r\n\r\n    Map.Entry&lt;Long, ZonedDateFormat&gt; minimum = null;\r\n    Map.Entry&lt;Long, ZonedDateFormat&gt; maximum = null;\r\n    \r\n    for (var entry: map.entrySet()) {\r\n      if (minimum == null || minimum.getValue().compareTo(entry.getValue()) &gt; 0) { \r\n        minimum = entry;\r\n      }\r\n      if (maximum == null || maximum.getValue().compareTo(entry.getValue()) &lt; 0) { \r\n        maximum = entry;\r\n      } \r\n    }","title":"Sort a Map&lt;Long, ZonedDateTime&gt; by date in order to find max and min","body":"<p>Your task is best solved without sorting at all. You just need one iteration over the <code>entrySet</code>.</p>\n<pre><code>Map.Entry&lt;Long, ZonedDateFormat&gt; minimum = null;\nMap.Entry&lt;Long, ZonedDateFormat&gt; maximum = null;\n\nfor (var entry: map.entrySet()) {\n  if (minimum == null || minimum.getValue().compareTo(entry.getValue()) &gt; 0) { \n    minimum = entry;\n  }\n  if (maximum == null || maximum.getValue().compareTo(entry.getValue()) &lt; 0) { \n    maximum = entry;\n  } \n}\n</code></pre>\n"}],"owner":{"account_id":14861716,"reputation":25,"user_id":10732289,"display_name":"Traxanios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640245494,"creation_date":1640244394,"question_id":70458921,"body_markdown":"I have a hash map with format of **HashMap&lt;Long, ZonedDateTime&gt;**. \r\nFor example,\r\n``` \r\n[(100, 01/01/2018 - 13:45:30 +0000),\r\n (101, 02/05/2018 - 13:45:30 +0000), \r\n(102, 02/01/2012 - 13:45:30 +0000)].\r\n```\r\nI want this output:\r\n```\r\n (102, 02/01/2012 - 13:45:30 +0000)\r\n (100, 01/01/2018 - 13:45:30 +0000)\r\n (101, 02/05/2018 - 13:45:30 +0000)\r\n```","title":"Sort a Map&lt;Long, ZonedDateTime&gt; by date in order to find max and min","body":"<p>I have a hash map with format of <strong>HashMap&lt;Long, ZonedDateTime&gt;</strong>.\nFor example,</p>\n<pre><code>[(100, 01/01/2018 - 13:45:30 +0000),\n (101, 02/05/2018 - 13:45:30 +0000), \n(102, 02/01/2012 - 13:45:30 +0000)].\n</code></pre>\n<p>I want this output:</p>\n<pre><code> (102, 02/01/2012 - 13:45:30 +0000)\n (100, 01/01/2018 - 13:45:30 +0000)\n (101, 02/05/2018 - 13:45:30 +0000)\n</code></pre>\n"},{"tags":["java","multithreading","monitor"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640232155,"post_id":70457522,"comment_id":124548018,"body_markdown":"Yes, it can block other threads.  Yes it can be inefficient.  And it can be worse than just &quot;inefficient&quot;.  You should not call `Thread.sleep()` while holding a monitor.  (Actually, you should *probably* avoid using `sleep()` entirely.  There are usually better alternatives.)","body":"Yes, it can block other threads.  Yes it can be inefficient.  And it can be worse than just &quot;inefficient&quot;.  You should not call <code>Thread.sleep()</code> while holding a monitor.  (Actually, you should <i>probably</i> avoid using <code>sleep()</code> entirely.  There are usually better alternatives.)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640233848,"creation_date":1640233848,"answer_id":70457668,"question_id":70457522,"body_markdown":"Yes.\r\n\r\nWhat other answer were you expecting?\r\n\r\nIf you&#39;re holding a monitor, don&#39;t sleep, obviously. Instead use wait and notify.\r\n\r\nHere&#39;s what happens when you use wait, which you call on an object that you _have_ to hold the monitor on if you want to use it:\r\n\r\n```\r\nsynchronized (foo) {\r\n  do stuff()\r\n  foo.wait();\r\n  do more stuff();\r\n}\r\n```\r\n\r\nWhen wait() is invoked, first, the thread _releases_ the monitor. Next it&#39;ll just twiddle its thumbs and waits for somebody, anybody, to invoke `notify()` on the same reference (`foo.notify()`). At that point, the `wait()` method is released, but will still wait around as it now needs to re-acquire that monitor before continuing. This neccessarily cannot happen immediately, as `notify()` cannot be called unless you hold the monitor.\r\n\r\nThat nicely solves your problem: You can have a thread sleeping whilst releasing that one monitor (it does not release other monitors,  though).\r\n\r\nMore generally though, using these low level APIs is almost never the right move. There are abstractions, mostly in the `java.util.concurrent` package, that are much nicer. You should open the javadoc and have a good read through.\r\n","title":"if thread does not lose ownership of any monitors, could it lead other running thread blocked","body":"<p>Yes.</p>\n<p>What other answer were you expecting?</p>\n<p>If you're holding a monitor, don't sleep, obviously. Instead use wait and notify.</p>\n<p>Here's what happens when you use wait, which you call on an object that you <em>have</em> to hold the monitor on if you want to use it:</p>\n<pre><code>synchronized (foo) {\n  do stuff()\n  foo.wait();\n  do more stuff();\n}\n</code></pre>\n<p>When wait() is invoked, first, the thread <em>releases</em> the monitor. Next it'll just twiddle its thumbs and waits for somebody, anybody, to invoke <code>notify()</code> on the same reference (<code>foo.notify()</code>). At that point, the <code>wait()</code> method is released, but will still wait around as it now needs to re-acquire that monitor before continuing. This neccessarily cannot happen immediately, as <code>notify()</code> cannot be called unless you hold the monitor.</p>\n<p>That nicely solves your problem: You can have a thread sleeping whilst releasing that one monitor (it does not release other monitors,  though).</p>\n<p>More generally though, using these low level APIs is almost never the right move. There are abstractions, mostly in the <code>java.util.concurrent</code> package, that are much nicer. You should open the javadoc and have a good read through.</p>\n"}],"owner":{"account_id":1281004,"reputation":13,"user_id":1235101,"display_name":"chendw2401"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70457668,"answer_count":1,"score":0,"last_activity_date":1640245479,"creation_date":1640231994,"question_id":70457522,"body_markdown":"In `Thread.sleep()` JavaDoc, it stated that:\r\n&gt; Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, subject to the precision and accuracy of system timers and schedulers. The thread does not lose ownership of any monitors.\r\n\r\nMy question is: if thread A holds a monitor and goes to sleep, then the thread scheduler would choose another runnable thread B and run it. But if thread B need that monitor, then it will be blocked, and any other thread depending on the monitor will be blocked until thread A resume from sleep and get to run and release that monitor, is it very inefficient","title":"if thread does not lose ownership of any monitors, could it lead other running thread blocked","body":"<p>In <code>Thread.sleep()</code> JavaDoc, it stated that:</p>\n<blockquote>\n<p>Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, subject to the precision and accuracy of system timers and schedulers. The thread does not lose ownership of any monitors.</p>\n</blockquote>\n<p>My question is: if thread A holds a monitor and goes to sleep, then the thread scheduler would choose another runnable thread B and run it. But if thread B need that monitor, then it will be blocked, and any other thread depending on the monitor will be blocked until thread A resume from sleep and get to run and release that monitor, is it very inefficient</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":3,"creation_date":1640245015,"post_id":70459003,"comment_id":124550322,"body_markdown":"Well, how would you do it by hand? Do you actually understand the steps that need to be taken in order to add two fractions? If not, then you have a math question, not a programming question. If you do understand, then I don&#39;t know why you have a question - just follow through the steps.","body":"Well, how would you do it by hand? Do you actually understand the steps that need to be taken in order to add two fractions? If not, then you have a math question, not a programming question. If you do understand, then I don&#39;t know why you have a question - just follow through the steps."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1640245105,"post_id":70459003,"comment_id":124550346,"body_markdown":"Wait, hold on. Are you saying that you want to *use* the `add` method that already exists, and don&#39;t know how? I think you are lying to yourself - you call methods the same way no matter what their purpose is. You already know how to call methods (like you said, you can call getters and setters and `toString`).","body":"Wait, hold on. Are you saying that you want to <i>use</i> the <code>add</code> method that already exists, and don&#39;t know how? I think you are lying to yourself - you call methods the same way no matter what their purpose is. You already know how to call methods (like you said, you can call getters and setters and <code>toString</code>)."},{"owner":{"account_id":23688554,"reputation":1,"user_id":17713166,"display_name":"Jabri"},"score":0,"creation_date":1640245251,"post_id":70459003,"comment_id":124550388,"body_markdown":"Yeah I&#39;m not lying ! Is it by using this code in the &#39;FractionCalculator&#39; class, System.out.println(f.add(3,5));  ? I tried this but it seems like it doesnt work. Please help Im not joking","body":"Yeah I&#39;m not lying ! Is it by using this code in the &#39;FractionCalculator&#39; class, System.out.println(f.add(3,5));  ? I tried this but it seems like it doesnt work. Please help Im not joking"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1640245336,"post_id":70459003,"comment_id":124550414,"body_markdown":"Okay. See where it says `public Fraction add(Fraction other) {`? What do you think the `Fraction other` part means? Also, please read [ask]. If you tried an approach to the problem and you got an error message, then your question **is not** &quot;how do I do this?&quot;; your question is &quot;why do I get this error message when I try the following code?&quot;. And if the problem is with calling an existing method, then the question is about calling that method, not about solving the problem for which the method was written.","body":"Okay. See where it says <code>public Fraction add(Fraction other) {</code>? What do you think the <code>Fraction other</code> part means? Also, please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. If you tried an approach to the problem and you got an error message, then your question <b>is not</b> &quot;how do I do this?&quot;; your question is &quot;why do I get this error message when I try the following code?&quot;. And if the problem is with calling an existing method, then the question is about calling that method, not about solving the problem for which the method was written."},{"owner":{"account_id":23688554,"reputation":1,"user_id":17713166,"display_name":"Jabri"},"score":0,"creation_date":1640245799,"post_id":70459003,"comment_id":124550532,"body_markdown":"That&#39;s the other fraction. I really have no idea. You mean I should use &#39;f.add(Fraction x,y)&#39; ?","body":"That&#39;s the other fraction. I really have no idea. You mean I should use &#39;f.add(Fraction x,y)&#39; ?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1640245877,"post_id":70459003,"comment_id":124550556,"body_markdown":"It says that you can only `.add` another `Fraction`. So you have to create that one first, yes.","body":"It says that you can only <code>.add</code> another <code>Fraction</code>. So you have to create that one first, yes."},{"owner":{"account_id":23688554,"reputation":1,"user_id":17713166,"display_name":"Jabri"},"score":0,"creation_date":1640246635,"post_id":70459003,"comment_id":124550774,"body_markdown":"I figure it ! \nFraction f = new Fraction(1, 1);\nFraction addFraction = new Fraction(1,1);\nSystem.out.println(f.add(addFraction));\n\nThanks !","body":"I figure it !  Fraction f = new Fraction(1, 1); Fraction addFraction = new Fraction(1,1); System.out.println(f.add(addFraction));  Thanks !"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641066276,"post_id":70459003,"comment_id":124715309,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":23688554,"reputation":1,"user_id":17713166,"display_name":"Jabri"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640244895,"creation_date":1640244895,"question_id":70459003,"body_markdown":"I have 2 classes, &#39;FractionCalculator&#39; class and &#39;Fraction&#39; class. I have written the code but I have no idea how to I execute the addition process in the &#39;FractionCalculator&#39; class. I know how to access other methods like getters, setters, and toString but I have no idea how to execute the &#39;addition&#39; code. Please help.\r\n\r\n________________________________________________\r\n\r\n    public class FractionCalculator {\r\n        public static void main(String[] args) {\r\n            Fraction f = new Fraction(9, 6);\r\n            ;\r\n        }\r\n    }\r\n\r\n_______________________\r\n\r\n    public class Fraction {\r\n        private int numerator;\r\n        private int denominator;\r\n    \r\n        Fraction(int num, int den) {\r\n            numerator = num;\r\n            denominator = den;\r\n    \r\n            if (den == 0) {\r\n                throw new IllegalArgumentException(&quot;Not possible to use denominator zero&quot;);\r\n            } else if (den&lt;0) {\r\n                numerator = num * -1;\r\n                denominator = den * -1;\r\n            } else {\r\n                this.numerator = num;\r\n                this.denominator = den;\r\n            }\r\n        }\r\n\r\n     //Method\r\n    \r\n        public int getNumerator() {\r\n            return numerator;\r\n        }\r\n    \r\n        public int getDenominator() {\r\n            return denominator;\r\n        }\r\n    \r\n        public String toString() {\r\n            return numerator+&quot;/&quot;+denominator;\r\n        }\r\n    \r\n        public double toDouble() {\r\n            return numerator/denominator;\r\n        }\r\n    \r\n        public Fraction add(Fraction other) {\r\n            Fraction addFraction = new Fraction(((numerator*other.denominator)+(other.numerator*denominator)),(denominator*other.denominator));\r\n            return addFraction;\r\n        }\r\n    }\r\n\r\n","title":"How do I perform addition of 2 fractions in Java?","body":"<p>I have 2 classes, 'FractionCalculator' class and 'Fraction' class. I have written the code but I have no idea how to I execute the addition process in the 'FractionCalculator' class. I know how to access other methods like getters, setters, and toString but I have no idea how to execute the 'addition' code. Please help.</p>\n<hr />\n<pre><code>public class FractionCalculator {\n    public static void main(String[] args) {\n        Fraction f = new Fraction(9, 6);\n        ;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class Fraction {\n    private int numerator;\n    private int denominator;\n\n    Fraction(int num, int den) {\n        numerator = num;\n        denominator = den;\n\n        if (den == 0) {\n            throw new IllegalArgumentException(&quot;Not possible to use denominator zero&quot;);\n        } else if (den&lt;0) {\n            numerator = num * -1;\n            denominator = den * -1;\n        } else {\n            this.numerator = num;\n            this.denominator = den;\n        }\n    }\n\n //Method\n\n    public int getNumerator() {\n        return numerator;\n    }\n\n    public int getDenominator() {\n        return denominator;\n    }\n\n    public String toString() {\n        return numerator+&quot;/&quot;+denominator;\n    }\n\n    public double toDouble() {\n        return numerator/denominator;\n    }\n\n    public Fraction add(Fraction other) {\n        Fraction addFraction = new Fraction(((numerator*other.denominator)+(other.numerator*denominator)),(denominator*other.denominator));\n        return addFraction;\n    }\n}\n</code></pre>\n"},{"tags":["java","logback","slf4j","completable-future","mdc"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1556525672,"post_id":55899284,"comment_id":98454821,"body_markdown":"check [this](https://stackoverflow.com/questions/36026402/how-to-use-mdc-with-forkjoinpool)","body":"check <a href=\"https://stackoverflow.com/questions/36026402/how-to-use-mdc-with-forkjoinpool\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1556526927,"creation_date":1556526927,"answer_id":55899645,"question_id":55899284,"body_markdown":"Create wrapper method\r\n\r\n    static CompletableFuture&lt;Void&gt; myMethod(Runnable runnable) {\r\n        Map&lt;String, String&gt; previous = MDC.getCopyOfContextMap();\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n            MDC.setContextMap(previous);\r\n            try {\r\n                runnable.run();\r\n            } finally {\r\n                MDC.clear();\r\n            }\r\n        });\r\n    }\r\n\r\nand use it instead of `CompletableFuture.runAsync`.","title":"MDC Logger with CompletableFuture","body":"<p>Create wrapper method</p>\n\n<pre><code>static CompletableFuture&lt;Void&gt; myMethod(Runnable runnable) {\n    Map&lt;String, String&gt; previous = MDC.getCopyOfContextMap();\n    return CompletableFuture.runAsync(() -&gt; {\n        MDC.setContextMap(previous);\n        try {\n            runnable.run();\n        } finally {\n            MDC.clear();\n        }\n    });\n}\n</code></pre>\n\n<p>and use it instead of <code>CompletableFuture.runAsync</code>.</p>\n"},{"tags":[],"owner":{"account_id":4211229,"reputation":244,"user_id":3448865,"display_name":"Laks"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1581535719,"creation_date":1577679596,"answer_id":59525684,"question_id":55899284,"body_markdown":"My solution theme would be to (It would work with JDK 9+ as a couple of overridable methods are exposed since that version)\r\n\r\n&gt; Make the complete ecosystem aware of MDC\r\n\r\nAnd for that, we need to address the following scenarios:\r\n\r\n - *When all do we get new instances of CompletableFuture from within this class?* → We need to return a MDC aware version of the same rather.\r\n - *When all do we get new instances of CompletableFuture from outside this class?* → We need to return a MDC aware version of the same rather.\r\n - *Which executor is used when in CompletableFuture class?* → In all circumstances, we need to make sure that all executors are MDC aware\r\n\r\nFor that, let&#39;s create a MDC aware version class of `CompletableFuture` by extending it. My version of that would look like below\r\n\r\n    import org.slf4j.MDC;\r\n    \r\n    import java.util.Map;\r\n    import java.util.concurrent.*;\r\n    import java.util.function.Function;\r\n    import java.util.function.Supplier;\r\n    \r\n    public class MDCAwareCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\r\n    \r\n        public static final ExecutorService MDC_AWARE_ASYNC_POOL = new MDCAwareForkJoinPool();\r\n    \r\n        @Override\r\n        public CompletableFuture newIncompleteFuture() {\r\n            return new MDCAwareCompletableFuture();\r\n        }\r\n    \r\n        @Override\r\n        public Executor defaultExecutor() {\r\n            return MDC_AWARE_ASYNC_POOL;\r\n        }\r\n    \r\n        public static &lt;T&gt; CompletionStage&lt;T&gt; getMDCAwareCompletionStage(CompletableFuture&lt;T&gt; future) {\r\n            return new MDCAwareCompletableFuture&lt;&gt;()\r\n                    .completeAsync(() -&gt; null)\r\n                    .thenCombineAsync(future, (aVoid, value) -&gt; value);\r\n        }\r\n      \r\n        public static &lt;T&gt; CompletionStage&lt;T&gt; getMDCHandledCompletionStage(CompletableFuture&lt;T&gt; future,\r\n                                                                    Function&lt;Throwable, T&gt; throwableFunction) {\r\n            Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n            return getMDCAwareCompletionStage(future)\r\n                    .handle((value, throwable) -&gt; {\r\n                        setMDCContext(contextMap);\r\n                        if (throwable != null) {\r\n                            return throwableFunction.apply(throwable);\r\n                        }\r\n                        return value;\r\n                    });\r\n        }\r\n    }\r\n\r\nThe `MDCAwareForkJoinPool` class would look like (have skipped the methods with `ForkJoinTask` parameters for simplicity)\r\n\r\n    public class MDCAwareForkJoinPool extends ForkJoinPool {\r\n        //Override constructors which you need\r\n      \r\n        @Override\r\n        public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n            return super.submit(MDCUtility.wrapWithMdcContext(task));\r\n        }\r\n        \r\n        @Override\r\n        public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Runnable task, T result) {\r\n            return super.submit(wrapWithMdcContext(task), result);\r\n        }\r\n        \r\n        @Override\r\n        public ForkJoinTask&lt;?&gt; submit(Runnable task) {\r\n            return super.submit(wrapWithMdcContext(task));\r\n        }\r\n        \r\n        @Override\r\n        public void execute(Runnable task) {\r\n            super.execute(wrapWithMdcContext(task));\r\n        }\r\n    }\r\n\r\nThe utility methods to wrap would be such as\r\n\r\n    public static &lt;T&gt; Callable&lt;T&gt; wrapWithMdcContext(Callable&lt;T&gt; task) {\r\n        //save the current MDC context\r\n        Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n        return () -&gt; {\r\n            setMDCContext(contextMap);\r\n            try {\r\n                return task.call();\r\n            } finally {\r\n                // once the task is complete, clear MDC\r\n                MDC.clear();\r\n            }\r\n        };\r\n    }\r\n    \r\n    public static Runnable wrapWithMdcContext(Runnable task) {\r\n        //save the current MDC context\r\n        Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\r\n        return () -&gt; {\r\n            setMDCContext(contextMap);\r\n            try {\r\n                task.run();\r\n            } finally {\r\n                // once the task is complete, clear MDC\r\n                MDC.clear();\r\n            }\r\n        };\r\n    }\r\n       \r\n    public static void setMDCContext(Map&lt;String, String&gt; contextMap) {\r\n       MDC.clear();\r\n       if (contextMap != null) {\r\n           MDC.setContextMap(contextMap);\r\n        }\r\n    }\r\n\r\nBelow are some guidelines for usage:\r\n\r\n - Use the class `MDCAwareCompletableFuture` rather than the class `CompletableFuture`.\r\n - A couple of methods in the class `CompletableFuture` instantiates the self version such as `new CompletableFuture...`. For such methods (most of the public static methods), use an alternative method to get an instance of `MDCAwareCompletableFuture`. An example of using an alternative could be rather than using `CompletableFuture.supplyAsync(...)`, you can choose `new MDCAwareCompletableFuture&lt;&gt;().completeAsync(...)`\r\n - Convert the instance of `CompletableFuture` to `MDCAwareCompletableFuture` by using the method `getMDCAwareCompletionStage` when you get stuck with one because of say some external library which returns you an instance of `CompletableFuture`. Obviously, you can&#39;t retain the context within that library but this method would still retain the context after your code hits the application code.\r\n - While supplying an executor as a parameter, make sure that it is MDC Aware such as `MDCAwareForkJoinPool`. You could create `MDCAwareThreadPoolExecutor` by overriding `execute` method as well to serve your use case. You get the idea!\r\n\r\nYou can find a **detailed explanation** of all of the above here in a [post][1] about the same.\r\n\r\nWith that, your code might look like\r\n\r\n    new MDCAwareCompletableFuture&lt;&gt;().completeAsync(() -&gt; {\r\n                getAcountDetails(user);\r\n                return null;\r\n            });\r\n\r\n  [1]: https://medium.com/asyncparadigm/logging-in-a-multithreaded-environment-and-with-completablefuture-construct-using-mdc-1c34c691cef0","title":"MDC Logger with CompletableFuture","body":"<p>My solution theme would be to (It would work with JDK 9+ as a couple of overridable methods are exposed since that version)</p>\n\n<blockquote>\n  <p>Make the complete ecosystem aware of MDC</p>\n</blockquote>\n\n<p>And for that, we need to address the following scenarios:</p>\n\n<ul>\n<li><em>When all do we get new instances of CompletableFuture from within this class?</em> → We need to return a MDC aware version of the same rather.</li>\n<li><em>When all do we get new instances of CompletableFuture from outside this class?</em> → We need to return a MDC aware version of the same rather.</li>\n<li><em>Which executor is used when in CompletableFuture class?</em> → In all circumstances, we need to make sure that all executors are MDC aware</li>\n</ul>\n\n<p>For that, let's create a MDC aware version class of <code>CompletableFuture</code> by extending it. My version of that would look like below</p>\n\n<pre><code>import org.slf4j.MDC;\n\nimport java.util.Map;\nimport java.util.concurrent.*;\nimport java.util.function.Function;\nimport java.util.function.Supplier;\n\npublic class MDCAwareCompletableFuture&lt;T&gt; extends CompletableFuture&lt;T&gt; {\n\n    public static final ExecutorService MDC_AWARE_ASYNC_POOL = new MDCAwareForkJoinPool();\n\n    @Override\n    public CompletableFuture newIncompleteFuture() {\n        return new MDCAwareCompletableFuture();\n    }\n\n    @Override\n    public Executor defaultExecutor() {\n        return MDC_AWARE_ASYNC_POOL;\n    }\n\n    public static &lt;T&gt; CompletionStage&lt;T&gt; getMDCAwareCompletionStage(CompletableFuture&lt;T&gt; future) {\n        return new MDCAwareCompletableFuture&lt;&gt;()\n                .completeAsync(() -&gt; null)\n                .thenCombineAsync(future, (aVoid, value) -&gt; value);\n    }\n\n    public static &lt;T&gt; CompletionStage&lt;T&gt; getMDCHandledCompletionStage(CompletableFuture&lt;T&gt; future,\n                                                                Function&lt;Throwable, T&gt; throwableFunction) {\n        Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n        return getMDCAwareCompletionStage(future)\n                .handle((value, throwable) -&gt; {\n                    setMDCContext(contextMap);\n                    if (throwable != null) {\n                        return throwableFunction.apply(throwable);\n                    }\n                    return value;\n                });\n    }\n}\n</code></pre>\n\n<p>The <code>MDCAwareForkJoinPool</code> class would look like (have skipped the methods with <code>ForkJoinTask</code> parameters for simplicity)</p>\n\n<pre><code>public class MDCAwareForkJoinPool extends ForkJoinPool {\n    //Override constructors which you need\n\n    @Override\n    public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Callable&lt;T&gt; task) {\n        return super.submit(MDCUtility.wrapWithMdcContext(task));\n    }\n\n    @Override\n    public &lt;T&gt; ForkJoinTask&lt;T&gt; submit(Runnable task, T result) {\n        return super.submit(wrapWithMdcContext(task), result);\n    }\n\n    @Override\n    public ForkJoinTask&lt;?&gt; submit(Runnable task) {\n        return super.submit(wrapWithMdcContext(task));\n    }\n\n    @Override\n    public void execute(Runnable task) {\n        super.execute(wrapWithMdcContext(task));\n    }\n}\n</code></pre>\n\n<p>The utility methods to wrap would be such as</p>\n\n<pre><code>public static &lt;T&gt; Callable&lt;T&gt; wrapWithMdcContext(Callable&lt;T&gt; task) {\n    //save the current MDC context\n    Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n    return () -&gt; {\n        setMDCContext(contextMap);\n        try {\n            return task.call();\n        } finally {\n            // once the task is complete, clear MDC\n            MDC.clear();\n        }\n    };\n}\n\npublic static Runnable wrapWithMdcContext(Runnable task) {\n    //save the current MDC context\n    Map&lt;String, String&gt; contextMap = MDC.getCopyOfContextMap();\n    return () -&gt; {\n        setMDCContext(contextMap);\n        try {\n            task.run();\n        } finally {\n            // once the task is complete, clear MDC\n            MDC.clear();\n        }\n    };\n}\n\npublic static void setMDCContext(Map&lt;String, String&gt; contextMap) {\n   MDC.clear();\n   if (contextMap != null) {\n       MDC.setContextMap(contextMap);\n    }\n}\n</code></pre>\n\n<p>Below are some guidelines for usage:</p>\n\n<ul>\n<li>Use the class <code>MDCAwareCompletableFuture</code> rather than the class <code>CompletableFuture</code>.</li>\n<li>A couple of methods in the class <code>CompletableFuture</code> instantiates the self version such as <code>new CompletableFuture...</code>. For such methods (most of the public static methods), use an alternative method to get an instance of <code>MDCAwareCompletableFuture</code>. An example of using an alternative could be rather than using <code>CompletableFuture.supplyAsync(...)</code>, you can choose <code>new MDCAwareCompletableFuture&lt;&gt;().completeAsync(...)</code></li>\n<li>Convert the instance of <code>CompletableFuture</code> to <code>MDCAwareCompletableFuture</code> by using the method <code>getMDCAwareCompletionStage</code> when you get stuck with one because of say some external library which returns you an instance of <code>CompletableFuture</code>. Obviously, you can't retain the context within that library but this method would still retain the context after your code hits the application code.</li>\n<li>While supplying an executor as a parameter, make sure that it is MDC Aware such as <code>MDCAwareForkJoinPool</code>. You could create <code>MDCAwareThreadPoolExecutor</code> by overriding <code>execute</code> method as well to serve your use case. You get the idea!</li>\n</ul>\n\n<p>You can find a <strong>detailed explanation</strong> of all of the above here in a <a href=\"https://medium.com/asyncparadigm/logging-in-a-multithreaded-environment-and-with-completablefuture-construct-using-mdc-1c34c691cef0\" rel=\"nofollow noreferrer\">post</a> about the same.</p>\n\n<p>With that, your code might look like</p>\n\n<pre><code>new MDCAwareCompletableFuture&lt;&gt;().completeAsync(() -&gt; {\n            getAcountDetails(user);\n            return null;\n        });\n</code></pre>\n"}],"owner":{"account_id":6508653,"reputation":884,"user_id":5036736,"accept_rate":36,"display_name":"Mayur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6286,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55899645,"answer_count":2,"score":3,"last_activity_date":1640244467,"creation_date":1556525351,"question_id":55899284,"body_markdown":"I am using MDC Logger, which is perfectly working for me except in one case. Wherever in the code we have used CompletableFuture, for the created thread the MDC data is not getting passed to next thread and due to which Logs are failing. For example in the code I have used below snippet for creating new Thread.\r\n\r\n    CompletableFuture.runAsync(() -&gt; getAcountDetails(user));\r\n    \r\nAnd the result of logs as below\r\n\r\n    2019-04-29 11:44:13,690 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] RestServiceExecutor:  service: \r\n    2019-04-29 11:44:13,690 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] RestServiceExecutor: \r\n    2019-04-29 11:44:13,779 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] UserDetailsRepoImpl: \r\n    2019-04-29 11:44:13,950 INFO   [ForkJoinPool.commonPool-worker-3] RestServiceExecutor:  header: \r\n    2019-04-29 11:44:13,950 INFO   [ForkJoinPool.commonPool-worker-3] RestServiceExecutor:  service: \r\n    2019-04-29 11:44:14,012 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieving Config Data details.\r\n    2019-04-29 11:44:14,028 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieved Config Data details : 1\r\n    2019-04-29 11:44:14,028 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieving Config Data details.\r\n    2019-04-29 11:44:14,033 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieved Config Data details : 1\r\n    2019-04-29 11:44:14,147 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] SecondaryCacheServiceImpl: Fetching from secondary cache\r\n    2019-04-29 11:44:14,715 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] CommonMasterDataServiceImpl: Cache: Retrieving Config Data details.\r\n    2019-04-29 11:44:14,749 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5]\r\n\r\n\r\n\r\nBelow is my MDC Data, which is not getting passed with Thread `[ForkJoinPool.commonPool-worker-3]`\r\n\r\n    | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |\r\n\r\n\r\nBelow is my logback.xml configuration, where **sessionID** is MDC data\r\n\r\n    &lt;configuration scan=&quot;true&quot;&gt;\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n    \t\t\t&lt;charset&gt;utf-8&lt;/charset&gt;\r\n                &lt;Pattern&gt;%d %-5level %X{sessionID} [%thread] %logger{0}: %msg%n&lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    &lt;/configuration&gt;\r\n\r\nI tried below Link \r\n\r\nhttp://shengwangi.blogspot.com/2015/09/using-log-mdc-in-multi-thread-helloworld-example.html?_sm_au_=iVVrZDSwwf0vP6MR\r\n\r\nWhich perfectly work for TaskExecutor. But I have not found any solution for CompletableFuture.","title":"MDC Logger with CompletableFuture","body":"<p>I am using MDC Logger, which is perfectly working for me except in one case. Wherever in the code we have used CompletableFuture, for the created thread the MDC data is not getting passed to next thread and due to which Logs are failing. For example in the code I have used below snippet for creating new Thread.</p>\n\n<pre><code>CompletableFuture.runAsync(() -&gt; getAcountDetails(user));\n</code></pre>\n\n<p>And the result of logs as below</p>\n\n<pre><code>2019-04-29 11:44:13,690 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] RestServiceExecutor:  service: \n2019-04-29 11:44:13,690 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] RestServiceExecutor: \n2019-04-29 11:44:13,779 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] UserDetailsRepoImpl: \n2019-04-29 11:44:13,950 INFO   [ForkJoinPool.commonPool-worker-3] RestServiceExecutor:  header: \n2019-04-29 11:44:13,950 INFO   [ForkJoinPool.commonPool-worker-3] RestServiceExecutor:  service: \n2019-04-29 11:44:14,012 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieving Config Data details.\n2019-04-29 11:44:14,028 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieved Config Data details : 1\n2019-04-29 11:44:14,028 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieving Config Data details.\n2019-04-29 11:44:14,033 INFO   [ForkJoinPool.commonPool-worker-3] CommonMasterDataServiceImpl: Cache: Retrieved Config Data details : 1\n2019-04-29 11:44:14,147 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] SecondaryCacheServiceImpl: Fetching from secondary cache\n2019-04-29 11:44:14,715 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5] CommonMasterDataServiceImpl: Cache: Retrieving Config Data details.\n2019-04-29 11:44:14,749 INFO  | /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |[http-nio-8182-exec-5]\n</code></pre>\n\n<p>Below is my MDC Data, which is not getting passed with Thread <code>[ForkJoinPool.commonPool-worker-3]</code></p>\n\n<pre><code>| /app/rest/controller/userdetails | f80fdc1f-8123-3932-a405-dda2dc2a80d5 |\n</code></pre>\n\n<p>Below is my logback.xml configuration, where <strong>sessionID</strong> is MDC data</p>\n\n<pre><code>&lt;configuration scan=\"true\"&gt;\n    &lt;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;charset&gt;utf-8&lt;/charset&gt;\n            &lt;Pattern&gt;%d %-5level %X{sessionID} [%thread] %logger{0}: %msg%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I tried below Link </p>\n\n<p><a href=\"http://shengwangi.blogspot.com/2015/09/using-log-mdc-in-multi-thread-helloworld-example.html?_sm_au_=iVVrZDSwwf0vP6MR\" rel=\"nofollow noreferrer\">http://shengwangi.blogspot.com/2015/09/using-log-mdc-in-multi-thread-helloworld-example.html?_sm_au_=iVVrZDSwwf0vP6MR</a></p>\n\n<p>Which perfectly work for TaskExecutor. But I have not found any solution for CompletableFuture.</p>\n"},{"tags":["java","maven","pom.xml","jfoenix"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640244107,"creation_date":1640244107,"answer_id":70458879,"question_id":70458603,"body_markdown":"Referring to the [documentation][1], the argument should be using `&lt;option&gt;` instead\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n   &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.6&lt;/version&gt;\r\n   &lt;executions&gt;\r\n      &lt;execution&gt;\r\n         &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n         &lt;id&gt;default-cli&lt;/id&gt;\r\n         &lt;configuration&gt;\r\n            &lt;mainClass&gt;com.ahs.pos/com.ahs.pos.Launcher&lt;/mainClass&gt;\r\n            &lt;options&gt;\r\n                &lt;option&gt;--add-opens&lt;/option&gt;\r\n                &lt;option&gt;java.base/java.lang.reflect=com.jfoenix&lt;/option&gt;\r\n            &lt;/options&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n  [1]: https://github.com/openjfx/javafx-maven-plugin","title":"Adding JVM Option to maven javafx project","body":"<p>Referring to the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">documentation</a>, the argument should be using <code>&lt;option&gt;</code> instead</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n   &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;0.0.6&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n         &lt;id&gt;default-cli&lt;/id&gt;\n         &lt;configuration&gt;\n            &lt;mainClass&gt;com.ahs.pos/com.ahs.pos.Launcher&lt;/mainClass&gt;\n            &lt;options&gt;\n                &lt;option&gt;--add-opens&lt;/option&gt;\n                &lt;option&gt;java.base/java.lang.reflect=com.jfoenix&lt;/option&gt;\n            &lt;/options&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":14883838,"reputation":35,"user_id":10747598,"display_name":"B-DK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70458879,"answer_count":1,"score":0,"last_activity_date":1640244107,"creation_date":1640242111,"question_id":70458603,"body_markdown":"I&#39;m using IntelliJ Idea, and trying to create an executable or jar of my app but I&#39;m having issue with JFornix \r\n\r\nThis is how I run the application from the IDE \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nbut running this from an executable or jar file returns the\r\n\r\n```\r\n module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix\r\n```\r\n\r\nI tried adding the args this way \r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n   &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.6&lt;/version&gt;\r\n   &lt;executions&gt;\r\n      &lt;execution&gt;\r\n         &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n         &lt;id&gt;default-cli&lt;/id&gt;\r\n         &lt;configuration&gt;\r\n            &lt;mainClass&gt;com.ahs.pos/com.ahs.pos.Launcher&lt;/mainClass&gt;\r\n            &lt;arg&gt;--add-opens=java.base/java.lang.reflect=com.jfoenix&lt;/arg&gt;\r\n         &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nit&#39;s a similar issue to [this post][2] but with gradle, and I&#39;m trying to do this on maven pom.xml \r\n\r\nany ideas how I should go about doing this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/87S4u.png\r\n  [2]: https://github.com/sshahine/JFoenix/issues/1200","title":"Adding JVM Option to maven javafx project","body":"<p>I'm using IntelliJ Idea, and trying to create an executable or jar of my app but I'm having issue with JFornix</p>\n<p>This is how I run the application from the IDE</p>\n<p><a href=\"https://i.stack.imgur.com/87S4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/87S4u.png\" alt=\"enter image description here\" /></a></p>\n<p>but running this from an executable or jar file returns the</p>\n<pre><code> module java.base does not &quot;opens java.lang.reflect&quot; to module com.jfoenix\n</code></pre>\n<p>I tried adding the args this way</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n   &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n   &lt;version&gt;0.0.6&lt;/version&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n         &lt;id&gt;default-cli&lt;/id&gt;\n         &lt;configuration&gt;\n            &lt;mainClass&gt;com.ahs.pos/com.ahs.pos.Launcher&lt;/mainClass&gt;\n            &lt;arg&gt;--add-opens=java.base/java.lang.reflect=com.jfoenix&lt;/arg&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>it's a similar issue to <a href=\"https://github.com/sshahine/JFoenix/issues/1200\" rel=\"nofollow noreferrer\">this post</a> but with gradle, and I'm trying to do this on maven pom.xml</p>\n<p>any ideas how I should go about doing this?</p>\n"},{"tags":["java","spring","pdf","openpdf"],"answers":[{"tags":[],"owner":{"account_id":22923508,"reputation":5,"user_id":17058984,"display_name":"MK S2M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1640244037,"creation_date":1640244037,"answer_id":70458870,"question_id":69488350,"body_markdown":"I found the solution , it was simply that the web service&#39;s client should precise the response type as array buffer ,\r\nIn my case it was VueJS , so i added the following on axios call :\r\n\r\n    axios.post(SERVER_URL+&quot;/customer/generatePDF&quot;,customerRequest,{responseType: &#39;arraybuffer&#39;})","title":"Spring Java : PDF download only works with idm","body":"<p>I found the solution , it was simply that the web service's client should precise the response type as array buffer ,\nIn my case it was VueJS , so i added the following on axios call :</p>\n<pre><code>axios.post(SERVER_URL+&quot;/customer/generatePDF&quot;,customerRequest,{responseType: 'arraybuffer'})\n</code></pre>\n"}],"owner":{"account_id":22923508,"reputation":5,"user_id":17058984,"display_name":"MK S2M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70458870,"answer_count":1,"score":-1,"last_activity_date":1640244037,"creation_date":1633644240,"question_id":69488350,"body_markdown":"i need to download a pdf with OpenPDF using the following controller method as a web service :\r\n\r\n    @CrossOrigin\r\n    \t@ApiOperation(value = &quot;Generate Customer Request PDF &quot;)\r\n    \t@PostMapping(path = { &quot;/customer/generatePDF&quot; }, \r\n    \t\tconsumes = MediaType.APPLICATION_JSON_VALUE,\r\n    \t\tproduces = MediaType.APPLICATION_PDF_VALUE)\r\n    \t@ApiResponses(value = { @ApiResponse(code = 200, message = &quot;Successful&quot;),\r\n    \t\t\t@ApiResponse(code = 400, message = &quot;Bad Request, Validation Errors, ...&quot;, response = BadRequest.class),\r\n    \t\t\t@ApiResponse(code = 401, message = &quot;Bad Request, Validation Errors, ...&quot;, response = Unauthorized.class),\r\n    \t\t\t@ApiResponse(code = 500, message = &quot;Internal server error&quot;, response = InternalError.class) })\r\n    \tpublic ResponseEntity&lt;?&gt; generateCustomerRequestPDF(@RequestBody CustomerRequestDto CustomersRequestDto,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\tHttpServletResponse response) throws BusinessException, DocumentException, IOException, ParseException, TransformerException{\r\n    \t\t\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \t\t\r\n    \t\t// create PDF object\r\n    \t\tList&lt;CustomerRequestPDF&gt; requests = new ArrayList&lt;CustomerRequestPDF&gt;();\r\n    \t\t\r\n    \t\tCustomerRequestPDF c = new CustomerRequestPDF();\r\n    \t\t\r\n    \t\tc.setName(CustomersRequestDto.getCusName());\r\n    \t\tc.setAmount(CustomersRequestDto.getAmount()+&quot; &quot;+CustomersRequestDto.getCurrencySymbol());\r\n    \t\tc.setPaymentDate( CustomersRequestDto.getCompleteAt().format(formatter) );\r\n    \t\tc.setPaymentType(CustomersRequestDto.getOperationTypeName());\r\n    \t\tc.setPaymentReference(CustomersRequestDto.getRrn());\r\n    \t\tc.setPaymentNature(CustomersRequestDto.getGroupStatus());\r\n    \t\t\r\n    \t\trequests.add(c);\r\n    \t\t\r\n    \t\tCustomerPDFExporter exporter = new CustomerPDFExporter(requests);\r\n    \t\t\r\n    \t\t// create http response as pdf \r\n    \t\tString headerKey = &quot;Content-Disposition&quot;;\r\n    \t    String headerValue = &quot;attachment; filename=recu_&quot; + \r\n    \t    \t\t\t\t\t c.getPaymentReference() + &quot;_&quot;+ LocalDateTime.now() + &quot;.pdf&quot;;\r\n    \t    \r\n    \t    response.setContentType(&quot;application/pdf&quot;);\r\n    \t    response.setHeader(headerKey, headerValue);\r\n    \t    \r\n            exporter.export(response);\r\n            \r\n    \t\treturn new ResponseEntity&lt;&gt;(&quot;Generation du recu&quot;, HttpStatus.OK);\r\n            \r\n           \r\n            \r\n    \t}\r\n\r\nand here is the content of export function :\r\n\r\n \r\n\r\n    public Document export(HttpServletResponse response) throws DocumentException, IOException {\r\n            Document document = new Document(PageSize.A4);\r\n            PdfWriter.getInstance(document, response.getOutputStream());\r\n            \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n             \r\n            document.open();\r\n            Font font = FontFactory.getFont(FontFactory.HELVETICA_BOLD);\r\n            font.setSize(25);\r\n            font.setColor(Color.BLUE);\r\n            \r\n            // titre du recu \r\n            Paragraph p = new Paragraph(&quot;Recu du paiement client&quot;, font);\r\n            p.setAlignment(Paragraph.ALIGN_CENTER);\r\n            document.add(p);\r\n            \r\n            // date du recu\r\n            font.setSize(12);\r\n            font.setColor(Color.BLACK);\r\n            Paragraph p2 = new Paragraph(&quot;Recu le : &quot;+LocalDateTime.now().format(formatter), font);\r\n            p2.setAlignment(Paragraph.ALIGN_LEFT);\r\n            p2.setSpacingBefore(50);\r\n            document.add(p2);\r\n            \r\n    \r\n            String nature = &quot;&quot;;\r\n            String nom = &quot;&quot;;\r\n            String montant = &quot;&quot;;\r\n            String date = &quot;&quot;;\r\n            String type = &quot;&quot;;\r\n            String rrn = &quot;&quot;;\r\n            for(CustomerRequestPDF c : requests) {\r\n            \tif(c.getPaymentNature().equals(&quot;L&quot;)) {\r\n            \t\tnature = &quot;Paiement effectu&#233; en masse&quot;;\r\n            \t}\r\n            \telse {\r\n            \t\tnature = &quot;Paiement effectu&#233; individuel&quot;;\r\n            \t}\r\n            \tnom = c.getName();\r\n            \tmontant = c.getAmount();\r\n            \tdate = c.getPaymentDate();\r\n            \ttype = c.getPaymentType();\r\n            \trrn = c.getPaymentReference();\r\n            }\r\n            \r\n            Paragraph p3 = new Paragraph(nature, font);\r\n            p3.setAlignment(Paragraph.ALIGN_LEFT);\r\n            document.add(p3);\r\n            \r\n            // informations du paiement\r\n            font.setSize(13);\r\n            Paragraph p4 = new Paragraph(&quot;Nom Client    :    &quot;+nom, font);\r\n            p4.setSpacingBefore(50);\r\n            document.add(p4);\r\n            Paragraph p5 = new Paragraph(&quot;Montant    :    &quot;+montant, font);\r\n            document.add(p5);\r\n            Paragraph p6 = new Paragraph(&quot;Date Paiement    :    &quot;+date, font);\r\n            document.add(p6);\r\n            Paragraph p7 = new Paragraph(&quot;Nature Paiement    :    &quot;+type, font);\r\n            document.add(p7);\r\n            Paragraph p8 = new Paragraph(&quot;Reference Paiement    :    &quot;+rrn, font);\r\n            document.add(p8);\r\n            \r\n            document.close();\r\n    \t\treturn document;\r\n             \r\n        }\r\n\r\nthe problem here is **when i try this web service from my browser , the download only works if i use IDM ( Internet Download Manager )** , otherwhise it only returns the byte code of the pdf on the browser console log , i tried many things but nothing works, i ll be glad if someone can suggest a solution for me , Thank you !","title":"Spring Java : PDF download only works with idm","body":"<p>i need to download a pdf with OpenPDF using the following controller method as a web service :</p>\n<pre><code>@CrossOrigin\n    @ApiOperation(value = &quot;Generate Customer Request PDF &quot;)\n    @PostMapping(path = { &quot;/customer/generatePDF&quot; }, \n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_PDF_VALUE)\n    @ApiResponses(value = { @ApiResponse(code = 200, message = &quot;Successful&quot;),\n            @ApiResponse(code = 400, message = &quot;Bad Request, Validation Errors, ...&quot;, response = BadRequest.class),\n            @ApiResponse(code = 401, message = &quot;Bad Request, Validation Errors, ...&quot;, response = Unauthorized.class),\n            @ApiResponse(code = 500, message = &quot;Internal server error&quot;, response = InternalError.class) })\n    public ResponseEntity&lt;?&gt; generateCustomerRequestPDF(@RequestBody CustomerRequestDto CustomersRequestDto,\n                                                        HttpServletResponse response) throws BusinessException, DocumentException, IOException, ParseException, TransformerException{\n        \n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        \n        // create PDF object\n        List&lt;CustomerRequestPDF&gt; requests = new ArrayList&lt;CustomerRequestPDF&gt;();\n        \n        CustomerRequestPDF c = new CustomerRequestPDF();\n        \n        c.setName(CustomersRequestDto.getCusName());\n        c.setAmount(CustomersRequestDto.getAmount()+&quot; &quot;+CustomersRequestDto.getCurrencySymbol());\n        c.setPaymentDate( CustomersRequestDto.getCompleteAt().format(formatter) );\n        c.setPaymentType(CustomersRequestDto.getOperationTypeName());\n        c.setPaymentReference(CustomersRequestDto.getRrn());\n        c.setPaymentNature(CustomersRequestDto.getGroupStatus());\n        \n        requests.add(c);\n        \n        CustomerPDFExporter exporter = new CustomerPDFExporter(requests);\n        \n        // create http response as pdf \n        String headerKey = &quot;Content-Disposition&quot;;\n        String headerValue = &quot;attachment; filename=recu_&quot; + \n                             c.getPaymentReference() + &quot;_&quot;+ LocalDateTime.now() + &quot;.pdf&quot;;\n        \n        response.setContentType(&quot;application/pdf&quot;);\n        response.setHeader(headerKey, headerValue);\n        \n        exporter.export(response);\n        \n        return new ResponseEntity&lt;&gt;(&quot;Generation du recu&quot;, HttpStatus.OK);\n        \n       \n        \n    }\n</code></pre>\n<p>and here is the content of export function :</p>\n<pre><code>public Document export(HttpServletResponse response) throws DocumentException, IOException {\n        Document document = new Document(PageSize.A4);\n        PdfWriter.getInstance(document, response.getOutputStream());\n        \n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n         \n        document.open();\n        Font font = FontFactory.getFont(FontFactory.HELVETICA_BOLD);\n        font.setSize(25);\n        font.setColor(Color.BLUE);\n        \n        // titre du recu \n        Paragraph p = new Paragraph(&quot;Recu du paiement client&quot;, font);\n        p.setAlignment(Paragraph.ALIGN_CENTER);\n        document.add(p);\n        \n        // date du recu\n        font.setSize(12);\n        font.setColor(Color.BLACK);\n        Paragraph p2 = new Paragraph(&quot;Recu le : &quot;+LocalDateTime.now().format(formatter), font);\n        p2.setAlignment(Paragraph.ALIGN_LEFT);\n        p2.setSpacingBefore(50);\n        document.add(p2);\n        \n\n        String nature = &quot;&quot;;\n        String nom = &quot;&quot;;\n        String montant = &quot;&quot;;\n        String date = &quot;&quot;;\n        String type = &quot;&quot;;\n        String rrn = &quot;&quot;;\n        for(CustomerRequestPDF c : requests) {\n            if(c.getPaymentNature().equals(&quot;L&quot;)) {\n                nature = &quot;Paiement effectué en masse&quot;;\n            }\n            else {\n                nature = &quot;Paiement effectué individuel&quot;;\n            }\n            nom = c.getName();\n            montant = c.getAmount();\n            date = c.getPaymentDate();\n            type = c.getPaymentType();\n            rrn = c.getPaymentReference();\n        }\n        \n        Paragraph p3 = new Paragraph(nature, font);\n        p3.setAlignment(Paragraph.ALIGN_LEFT);\n        document.add(p3);\n        \n        // informations du paiement\n        font.setSize(13);\n        Paragraph p4 = new Paragraph(&quot;Nom Client    :    &quot;+nom, font);\n        p4.setSpacingBefore(50);\n        document.add(p4);\n        Paragraph p5 = new Paragraph(&quot;Montant    :    &quot;+montant, font);\n        document.add(p5);\n        Paragraph p6 = new Paragraph(&quot;Date Paiement    :    &quot;+date, font);\n        document.add(p6);\n        Paragraph p7 = new Paragraph(&quot;Nature Paiement    :    &quot;+type, font);\n        document.add(p7);\n        Paragraph p8 = new Paragraph(&quot;Reference Paiement    :    &quot;+rrn, font);\n        document.add(p8);\n        \n        document.close();\n        return document;\n         \n    }\n</code></pre>\n<p>the problem here is <strong>when i try this web service from my browser , the download only works if i use IDM ( Internet Download Manager )</strong> , otherwhise it only returns the byte code of the pdf on the browser console log , i tried many things but nothing works, i ll be glad if someone can suggest a solution for me , Thank you !</p>\n"},{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1576738847,"post_id":59404665,"comment_id":104997613,"body_markdown":"https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan","body":"<a href=\"https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan\" title=\"using resttemplate in spring exception not enough variables available to expan\">stackoverflow.com/questions/21819210/&hellip;</a>"},{"owner":{"account_id":1756623,"reputation":934,"user_id":1604503,"accept_rate":33,"display_name":"fukit0"},"score":0,"creation_date":1640243540,"post_id":59404665,"comment_id":124549933,"body_markdown":"Does this answer your question? [Using RestTemplate in Spring. Exception- Not enough variables available to expand](https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan\">Using RestTemplate in Spring. Exception- Not enough variables available to expand</a>"}],"answers":[{"tags":[],"owner":{"account_id":13478284,"reputation":514,"user_id":9724432,"display_name":"Sushil Mittal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576750747,"creation_date":1576750747,"answer_id":59407598,"question_id":59404665,"body_markdown":"Just decode url before pass in rest template as below:\r\n\r\n    String url = &quot;https://registers.esma.europa.eu/solr/esma_registers_upreg/select?q=%7B!join+from%3Did+to%3D_root_%7Dae_entityTypeCode%3AMIR&amp;fq=(type_s%3Aparent)(entity_type%3AaeActivity)(entity_type%3AaeActivityHistory)&amp;rows=1000&amp;wt=json&amp;indent=true&quot;;\r\n    String decodedUrl =  URLDecoder.decode(url.toString(), &quot;UTF-8&quot;);","title":"consuming public REST API using RESTTemplate springboot","body":"<p>Just decode url before pass in rest template as below:</p>\n\n<pre><code>String url = \"https://registers.esma.europa.eu/solr/esma_registers_upreg/select?q=%7B!join+from%3Did+to%3D_root_%7Dae_entityTypeCode%3AMIR&amp;fq=(type_s%3Aparent)(entity_type%3AaeActivity)(entity_type%3AaeActivityHistory)&amp;rows=1000&amp;wt=json&amp;indent=true\";\nString decodedUrl =  URLDecoder.decode(url.toString(), \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640243280,"creation_date":1640243280,"answer_id":70458767,"question_id":59404665,"body_markdown":"**Create a bean like this and autowire the Resttemplate to use it**\r\n\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.config.Registry;\r\n    import org.apache.http.config.RegistryBuilder;\r\n    import org.apache.http.conn.socket.ConnectionSocketFactory;\r\n    import org.apache.http.conn.socket.PlainConnectionSocketFactory;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.conn.ssl.TrustStrategy;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n    \r\n    import java.security.KeyManagementException;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    \r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    import java.security.SecureRandom;\r\n    \r\n    @Configuration\r\n    public class RestTemplateConfig{\r\n    \r\n        @Bean\r\n        public RestTemplate restTemplate() throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n            HttpClient httpClient = RestTemplateConfig.getHttpClient();\r\n            HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n            requestFactory.setHttpClient(httpClient);\r\n            RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n            return restTemplate;\r\n        }\r\n        \r\n        private static HttpClient getHttpClient() {\r\n    \r\n            try {\r\n                SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n                sslContext.init(null,\r\n                        new TrustManager[]{new X509TrustManager() {\r\n                            public X509Certificate[] getAcceptedIssuers() {\r\n                                return null;\r\n                            }\r\n                            public void checkClientTrusted(\r\n                                    X509Certificate[] certs, String authType) {\r\n                            }\r\n                            public void checkServerTrusted(\r\n                                    X509Certificate[] certs, String authType) {\r\n                            }\r\n                        }}, new SecureRandom());\r\n                SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext,SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n                //  SSLSocketFactory socketFactory = new SSLSocketFactory(sslContext, SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n                HttpClient httpClient = HttpClientBuilder.create().setSSLSocketFactory(socketFactory).build();\r\n                return httpClient;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return HttpClientBuilder.create().build();\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"consuming public REST API using RESTTemplate springboot","body":"<p><strong>Create a bean like this and autowire the Resttemplate to use it</strong></p>\n<pre><code>import org.apache.http.client.HttpClient;\nimport org.apache.http.config.Registry;\nimport org.apache.http.config.RegistryBuilder;\nimport org.apache.http.conn.socket.ConnectionSocketFactory;\nimport org.apache.http.conn.socket.PlainConnectionSocketFactory;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.client.RestTemplate;\n\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.conn.ssl.TrustStrategy;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\n\nimport java.security.KeyManagementException;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.X509Certificate;\n\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport java.security.SecureRandom;\n\n@Configuration\npublic class RestTemplateConfig{\n\n    @Bean\n    public RestTemplate restTemplate() throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n        TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n        HttpClient httpClient = RestTemplateConfig.getHttpClient();\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n        requestFactory.setHttpClient(httpClient);\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\n        return restTemplate;\n    }\n    \n    private static HttpClient getHttpClient() {\n\n        try {\n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null,\n                    new TrustManager[]{new X509TrustManager() {\n                        public X509Certificate[] getAcceptedIssuers() {\n                            return null;\n                        }\n                        public void checkClientTrusted(\n                                X509Certificate[] certs, String authType) {\n                        }\n                        public void checkServerTrusted(\n                                X509Certificate[] certs, String authType) {\n                        }\n                    }}, new SecureRandom());\n            SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext,SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n            //  SSLSocketFactory socketFactory = new SSLSocketFactory(sslContext, SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n            HttpClient httpClient = HttpClientBuilder.create().setSSLSocketFactory(socketFactory).build();\n            return httpClient;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return HttpClientBuilder.create().build();\n        }\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":6139346,"reputation":1723,"user_id":4787205,"accept_rate":44,"display_name":"Rishi Arora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640243280,"creation_date":1576738782,"question_id":59404665,"body_markdown":"I am trying to consume a public API, While calling the URL that is UTF-8 encoded from RestTemplate not getting response as in the responseHeader return from the URL could see it is taking encoding for UTF-8 also as a parameter values\r\n\r\nTo avoid this tried decoding the URL using URLDecoder, but then I am getting error like \r\n&gt;java.lang.IllegalArgumentException: Not enough variable values available to expand &#39;!join%20from=id%20to=_root_&#39;\r\n\r\nUTF-8 encoded URL:\r\n\r\n    https://registers.esma.europa.eu/solr/esma_registers_upreg/select?q=%7B!join+from%3Did+to%3D_root_%7Dae_entityTypeCode%3AMIR&amp;fq=(type_s%3Aparent)(entity_type%3AaeActivity)(entity_type%3AaeActivityHistory)&amp;rows=1000&amp;wt=json&amp;indent=true\r\n\r\nDecoded URL :\r\n\r\n    https://registers.esma.europa.eu/solr/esma_registers_upreg/select?q={!join from=id to=_root_}ae_entityTypeCode:MIR&amp;fq=(type_s:parent)(entity_type:aeActivity)(entity_type:aeActivityHistory)&amp;rows=1000&amp;wt=json&amp;indent=true\r\n\r\nCode Snippet : \r\n\r\n    @Component\r\n    @Slf4j\r\n    public class RestClient {\r\n    \r\n       private final RestTemplate restTemplate;\r\n    \r\n       public RestClient(RestTemplate restTemplate) {\r\n          this.restTemplate = restTemplate;\r\n       }\r\n       \r\n       private Object callExternalRestService(String url) throws FirdsFailureException {\r\n          try {\r\n             MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n             converter.setSupportedMediaTypes(Arrays.asList(MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON));\r\n             restTemplate.getMessageConverters().add(converter);\r\n             ResponseEntity&lt;Object&gt; response = restTemplate.exchange(\r\n                   url,\r\n                   HttpMethod.GET,\r\n                   null,\r\n                   new ParameterizedTypeReference&lt;Object&gt;() {\r\n                   });\r\n             log.info(&quot;Response from External Service : {}&quot;, response);\r\n             log.info(&quot;Response Body from External Service : {}&quot;, response.getBody());\r\n             return response.getBody();\r\n          }catch (Exception e){\r\n             log.error(&quot;&quot;,e);\r\n          }\r\n          return null;\r\n       }\r\n       \r\n    }\r\n\r\nException  -\r\n\r\nPlease refer the exception below - \r\n\r\n    Caused by: com.demo.adapter.firds.FirdsFailureException: java.lang.IllegalArgumentException: Not enough variable values available to expand &#39;!join%20from=id%20to=_root_&#39;\r\n            at com.demo.adapter.firds.RestClient.callExternalRestService(RestClient.java:58)\r\n            at com.demo.adapter.firds.RestClient.getExternalServiceData(RestClient.java:35)\r\n            at com.demo.adapter.firds.RestClient$$FastClassBySpringCGLIB$$341b0269.invoke(&lt;generated&gt;)\r\n            at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n            at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:91)\r\n            at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\r\n            ... 22 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Not enough variable values available to expand &#39;!join%20from=id%20to=_root_&#39;\r\n            at org.springframework.web.util.UriComponents$VarArgsTemplateVariables.getValue(UriComponents.java:329)\r\n            at org.springframework.web.util.HierarchicalUriComponents$QueryUriTemplateVariables.getValue(HierarchicalUriComponents.java:899)\r\n            at org.springframework.web.util.UriComponents.expandUriComponent(UriComponents.java:232)\r\n            at org.springframework.web.util.HierarchicalUriComponents.expandQueryParams(HierarchicalUriComponents.java:347)\r\n            at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:332)\r\n            at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:48)\r\n            at org.springframework.web.util.UriComponents.expand(UriComponents.java:165)\r\n            at org.springframework.web.util.UriComponentsBuilder.buildAndExpand(UriComponentsBuilder.java:360)\r\n            at org.springframework.web.util.DefaultUriTemplateHandler.expandAndEncode(DefaultUriTemplateHandler.java:140)\r\n            at org.springframework.web.util.DefaultUriTemplateHandler.expandInternal(DefaultUriTemplateHandler.java:104)\r\n            at org.springframework.web.util.AbstractUriTemplateHandler.expand(AbstractUriTemplateHandler.java:106)\r\n            at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:612)\r\n            at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:312)\r\n            at com.demo.adapter.firds.RestClient.callExternalRestService(RestClient.java:46)\r\n            ... 29 common frames omitted\r\n\r\nCan someone let me know if I am missing something or doing something wrong\r\n","title":"consuming public REST API using RESTTemplate springboot","body":"<p>I am trying to consume a public API, While calling the URL that is UTF-8 encoded from RestTemplate not getting response as in the responseHeader return from the URL could see it is taking encoding for UTF-8 also as a parameter values</p>\n\n<p>To avoid this tried decoding the URL using URLDecoder, but then I am getting error like </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Not enough variable values available to expand '!join%20from=id%20to=<em>root</em>'</p>\n</blockquote>\n\n<p>UTF-8 encoded URL:</p>\n\n<pre><code>https://registers.esma.europa.eu/solr/esma_registers_upreg/select?q=%7B!join+from%3Did+to%3D_root_%7Dae_entityTypeCode%3AMIR&amp;fq=(type_s%3Aparent)(entity_type%3AaeActivity)(entity_type%3AaeActivityHistory)&amp;rows=1000&amp;wt=json&amp;indent=true\n</code></pre>\n\n<p>Decoded URL :</p>\n\n<pre><code>https://registers.esma.europa.eu/solr/esma_registers_upreg/select?q={!join from=id to=_root_}ae_entityTypeCode:MIR&amp;fq=(type_s:parent)(entity_type:aeActivity)(entity_type:aeActivityHistory)&amp;rows=1000&amp;wt=json&amp;indent=true\n</code></pre>\n\n<p>Code Snippet : </p>\n\n<pre><code>@Component\n@Slf4j\npublic class RestClient {\n\n   private final RestTemplate restTemplate;\n\n   public RestClient(RestTemplate restTemplate) {\n      this.restTemplate = restTemplate;\n   }\n\n   private Object callExternalRestService(String url) throws FirdsFailureException {\n      try {\n         MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n         converter.setSupportedMediaTypes(Arrays.asList(MediaType.TEXT_PLAIN, MediaType.APPLICATION_JSON));\n         restTemplate.getMessageConverters().add(converter);\n         ResponseEntity&lt;Object&gt; response = restTemplate.exchange(\n               url,\n               HttpMethod.GET,\n               null,\n               new ParameterizedTypeReference&lt;Object&gt;() {\n               });\n         log.info(\"Response from External Service : {}\", response);\n         log.info(\"Response Body from External Service : {}\", response.getBody());\n         return response.getBody();\n      }catch (Exception e){\n         log.error(\"\",e);\n      }\n      return null;\n   }\n\n}\n</code></pre>\n\n<p>Exception  -</p>\n\n<p>Please refer the exception below - </p>\n\n<pre><code>Caused by: com.demo.adapter.firds.FirdsFailureException: java.lang.IllegalArgumentException: Not enough variable values available to expand '!join%20from=id%20to=_root_'\n        at com.demo.adapter.firds.RestClient.callExternalRestService(RestClient.java:58)\n        at com.demo.adapter.firds.RestClient.getExternalServiceData(RestClient.java:35)\n        at com.demo.adapter.firds.RestClient$$FastClassBySpringCGLIB$$341b0269.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n        at org.springframework.retry.interceptor.RetryOperationsInterceptor$1.doWithRetry(RetryOperationsInterceptor.java:91)\n        at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:287)\n        ... 22 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not enough variable values available to expand '!join%20from=id%20to=_root_'\n        at org.springframework.web.util.UriComponents$VarArgsTemplateVariables.getValue(UriComponents.java:329)\n        at org.springframework.web.util.HierarchicalUriComponents$QueryUriTemplateVariables.getValue(HierarchicalUriComponents.java:899)\n        at org.springframework.web.util.UriComponents.expandUriComponent(UriComponents.java:232)\n        at org.springframework.web.util.HierarchicalUriComponents.expandQueryParams(HierarchicalUriComponents.java:347)\n        at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:332)\n        at org.springframework.web.util.HierarchicalUriComponents.expandInternal(HierarchicalUriComponents.java:48)\n        at org.springframework.web.util.UriComponents.expand(UriComponents.java:165)\n        at org.springframework.web.util.UriComponentsBuilder.buildAndExpand(UriComponentsBuilder.java:360)\n        at org.springframework.web.util.DefaultUriTemplateHandler.expandAndEncode(DefaultUriTemplateHandler.java:140)\n        at org.springframework.web.util.DefaultUriTemplateHandler.expandInternal(DefaultUriTemplateHandler.java:104)\n        at org.springframework.web.util.AbstractUriTemplateHandler.expand(AbstractUriTemplateHandler.java:106)\n        at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:612)\n        at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:312)\n        at com.demo.adapter.firds.RestClient.callExternalRestService(RestClient.java:46)\n        ... 29 common frames omitted\n</code></pre>\n\n<p>Can someone let me know if I am missing something or doing something wrong</p>\n"},{"tags":["java","eclipse","image","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1549643356,"creation_date":1549643356,"answer_id":54596583,"question_id":54595322,"body_markdown":"Paths are resolved using the fxml file&#39;s location. If you load the fxml using an `InputStream` as source for the fxml data, `FXMLLoader` is unable to determine the location url.\r\n\r\nSpecify the location instead:\r\n\r\n\r\n    FXMLLoader loader = new FXMLLoader(new File(&quot;src/front_end/main.fxml&quot;).toURI().toURL());\r\n    VBox root = (VBox) loader.load();\r\n\r\nAssuming the fxml is a resource, I recomend using `getResource` instead to get the url:\r\n\r\n\r\n    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/front_end/main.fxml&quot;));","title":"How the image url is wrriten in java fxml","body":"<p>Paths are resolved using the fxml file's location. If you load the fxml using an <code>InputStream</code> as source for the fxml data, <code>FXMLLoader</code> is unable to determine the location url.</p>\n\n<p>Specify the location instead:</p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader(new File(\"src/front_end/main.fxml\").toURI().toURL());\nVBox root = (VBox) loader.load();\n</code></pre>\n\n<p>Assuming the fxml is a resource, I recomend using <code>getResource</code> instead to get the url:</p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader(getClass().getResource(\"/front_end/main.fxml\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12815509,"reputation":19,"user_id":9998512,"display_name":"Ankit RajDeo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549645445,"creation_date":1549645445,"answer_id":54597161,"question_id":54595322,"body_markdown":"I don&#39;t recommend you to include the image file in your &quot;src&quot; folder. You should create a new folder with name &quot;res&quot; and make it as source folder (option -&gt; Build path -&gt; Use as source folder). Put your image in the &quot;res&quot; folder. Then do the following changes in the fxml file.\r\n\r\n`&lt;Image url=&quot;@../bars-chart.png&quot; /&gt;`\r\n\r\nI hope this will work for you.\r\n ","title":"How the image url is wrriten in java fxml","body":"<p>I don't recommend you to include the image file in your \"src\" folder. You should create a new folder with name \"res\" and make it as source folder (option -> Build path -> Use as source folder). Put your image in the \"res\" folder. Then do the following changes in the fxml file.</p>\n\n<p><code>&lt;Image url=\"@../bars-chart.png\" /&gt;</code></p>\n\n<p>I hope this will work for you.</p>\n"}],"owner":{"account_id":12281240,"reputation":434,"user_id":8962746,"display_name":"Ibraheem Alyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":54596583,"answer_count":2,"score":-1,"last_activity_date":1640243233,"creation_date":1549638781,"question_id":54595322,"body_markdown":"I am working with fxml file and I don&#39;t know how to write a url (path) to an image i have , I tried absolote path and directory path \r\n\r\nI get an invalid url errors like &gt;&gt;\r\n\r\n    Feb 08, 2019 5:09:27 PM javafx.fxml.FXMLLoader$ValueElement processValue\r\n    WARNING: Loading FXML document with JavaFX API of version 11.0.1 by \r\n    JavaFX runtime of version 10.0.2\r\n    null/bars-chart.png\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:473)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:372)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:941)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:973)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\r\n\tat java.base/java.lang.Thread.run(Thread.java:844)\r\n    Caused by: javafx.fxml.LoadException: \r\n    unknown path:64\r\n\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2450)\r\n\tat back_end.image_main.start(image_main.java:25)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:175)\r\n\t... 1 more\r\n    Caused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n\tat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1107)\r\n\tat javafx.graphics/javafx.scene.image.Image.&lt;init&gt;(Image.java:688)\r\n\tat javafx.fxml/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:47)\r\n\tat javafx.fxml/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:37)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:771)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\r\n\t... 11 more\r\n    Caused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n\tat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1099)\r\n\t... 17 more\r\n    Exception running application back_end.image_main\r\n\r\n\r\nmy project structure is \r\n\r\n    fxml_image :\r\n               src :\r\n                    front_end :\r\n                               &gt;(bars-chart.png)\r\n                               &gt;(main.fxml)\r\n                    back_end :\r\n                               &gt;(image_main.java)\r\n\r\nthis block is a part of my (main.fxml) &gt;&gt;\r\n    \r\n\r\n\r\n\r\n```html\r\n    \r\n    &lt;AnchorPane maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n      &lt;children&gt;\r\n        &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;155.0&quot; layoutY=&quot;177.0&quot; style=&quot;&amp;#10;&quot; text=&quot;Drag components from Library here…&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#9f9f9f&quot; wrapText=&quot;false&quot;&gt;\r\n          &lt;font&gt;\r\n            &lt;Font size=&quot;18.0&quot; /&gt;\r\n          &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n                &lt;ImageView fitHeight=&quot;349.0&quot; fitWidth=&quot;606.0&quot; layoutX=&quot;12.0&quot;         layoutY=&quot;11.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                   &lt;image&gt;\r\n                      &lt;Image url=&quot;@bars-chart.png&quot; /&gt;\r\n                   &lt;/image&gt;\r\n                &lt;/ImageView&gt;\r\n          &lt;/children&gt;\r\n        &lt;/AnchorPane&gt;\r\n```\r\n\r\nthis is the java file (image_main)\r\n\r\n```java\r\n    package back_end;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n\r\n    public class image_main extends Application  {\r\n\t\r\n    \tpublic static void main(String[] args) { Application.launch(args); }\r\n    \t\r\n    \t@Override \r\n    \tpublic void start(Stage stage) throws IOException { \r\n    \t\r\n    \t// Create the FXMLLoader \r\n    \tFXMLLoader loader = new FXMLLoader(); \r\n    \t// Path to the FXML File \r\n    \tString fxmlDocPath = &quot;src/front_end/main.fxml&quot;; \r\n    \tFileInputStream fxmlStream = new FileInputStream(fxmlDocPath);\r\n    \t// Create the Pane and all Details \r\n    \tVBox root = (VBox) loader.load(fxmlStream);\r\n    \t// Create the Scene \r\n    \tScene scene = new Scene(root); \r\n    \t// Set the Scene to the Stage \r\n    \tstage.setScene(scene); \r\n    \t// Set the Title to the Stage \r\n    \tstage.setTitle(&quot;A FXML Example which includes FXML Files&quot;); \r\n    \t// Display the Stage \r\n    \tstage.show();\r\n    \r\n\r\n    }}\r\n\r\n```\r\n\r\nIs there another way to load the FXML, How image links are interpreted\r\n","title":"How the image url is wrriten in java fxml","body":"<p>I am working with fxml file and I don't know how to write a url (path) to an image i have , I tried absolote path and directory path</p>\n<p>I get an invalid url errors like &gt;&gt;</p>\n<pre><code>Feb 08, 2019 5:09:27 PM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 11.0.1 by \nJavaFX runtime of version 10.0.2\nnull/bars-chart.png\nException in Application start method\njava.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:473)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:372)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:941)\nCaused by: java.lang.RuntimeException: Exception in Application start method\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:973)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:198)\nat java.base/java.lang.Thread.run(Thread.java:844)\nCaused by: javafx.fxml.LoadException: \nunknown path:64\n\nat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2603)\nat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2450)\nat back_end.image_main.start(image_main.java:25)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:919)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$11(PlatformImpl.java:449)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$9(PlatformImpl.java:418)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:417)\nat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:175)\n... 1 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\nat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1107)\nat javafx.graphics/javafx.scene.image.Image.&lt;init&gt;(Image.java:688)\nat javafx.fxml/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:47)\nat javafx.fxml/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:37)\nat javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:771)\nat javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2838)\nat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2557)\n... 11 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\nat javafx.graphics/javafx.scene.image.Image.validateUrl(Image.java:1099)\n... 17 more\nException running application back_end.image_main\n</code></pre>\n<p>my project structure is</p>\n<pre><code>fxml_image :\n           src :\n                front_end :\n                           &gt;(bars-chart.png)\n                           &gt;(main.fxml)\n                back_end :\n                           &gt;(image_main.java)\n</code></pre>\n<p>this block is a part of my (main.fxml) &gt;&gt;</p>\n<pre class=\"lang-html prettyprint-override\"><code>    \n    &lt;AnchorPane maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n      &lt;children&gt;\n        &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;155.0&quot; layoutY=&quot;177.0&quot; style=&quot;&amp;#10;&quot; text=&quot;Drag components from Library here…&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;#9f9f9f&quot; wrapText=&quot;false&quot;&gt;\n          &lt;font&gt;\n            &lt;Font size=&quot;18.0&quot; /&gt;\n          &lt;/font&gt;\n            &lt;/Label&gt;\n                &lt;ImageView fitHeight=&quot;349.0&quot; fitWidth=&quot;606.0&quot; layoutX=&quot;12.0&quot;         layoutY=&quot;11.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                   &lt;image&gt;\n                      &lt;Image url=&quot;@bars-chart.png&quot; /&gt;\n                   &lt;/image&gt;\n                &lt;/ImageView&gt;\n          &lt;/children&gt;\n        &lt;/AnchorPane&gt;\n</code></pre>\n<p>this is the java file (image_main)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package back_end;\n\n    import java.io.FileInputStream;\n    import java.io.IOException;\n    import javafx.application.Application;\n    import javafx.fxml.FXMLLoader;\n    import javafx.scene.Scene;\n    import javafx.scene.layout.VBox;\n    import javafx.stage.Stage;\n\n    public class image_main extends Application  {\n    \n        public static void main(String[] args) { Application.launch(args); }\n        \n        @Override \n        public void start(Stage stage) throws IOException { \n        \n        // Create the FXMLLoader \n        FXMLLoader loader = new FXMLLoader(); \n        // Path to the FXML File \n        String fxmlDocPath = &quot;src/front_end/main.fxml&quot;; \n        FileInputStream fxmlStream = new FileInputStream(fxmlDocPath);\n        // Create the Pane and all Details \n        VBox root = (VBox) loader.load(fxmlStream);\n        // Create the Scene \n        Scene scene = new Scene(root); \n        // Set the Scene to the Stage \n        stage.setScene(scene); \n        // Set the Title to the Stage \n        stage.setTitle(&quot;A FXML Example which includes FXML Files&quot;); \n        // Display the Stage \n        stage.show();\n    \n\n    }}\n\n</code></pre>\n<p>Is there another way to load the FXML, How image links are interpreted</p>\n"},{"tags":["java","windows","spring-boot","nginx","devops"],"owner":{"account_id":9844635,"reputation":83,"user_id":7292608,"display_name":"Cihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640243184,"creation_date":1610111968,"question_id":65629775,"body_markdown":"How can I add a module to nginx on windows? I did it on Linux but I have to do it on Windows also. ","title":"Is it possible to add module to NGINX on Windows?","body":"<p>How can I add a module to nginx on windows? I did it on Linux but I have to do it on Windows also.</p>\n"},{"tags":["java","android","sdk","android-permissions","foreground-service"],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640243084,"creation_date":1640243084,"answer_id":70458738,"question_id":70457618,"body_markdown":"There is no problem in using the Only While Using the App option, if the location acquisition process in the application will only be performed when the application is open on the screen.\r\n\r\nIf you want to get location while in background, you should use ALWAYS_ALLOW option.","title":"Is it okay to allow &quot;While Using the App&quot; instead of &quot;ALWAYS ALLOW&quot; while foreground service is used?","body":"<p>There is no problem in using the Only While Using the App option, if the location acquisition process in the application will only be performed when the application is open on the screen.</p>\n<p>If you want to get location while in background, you should use ALWAYS_ALLOW option.</p>\n"}],"owner":{"account_id":21705482,"reputation":625,"user_id":16018007,"display_name":"jerald jacob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70458738,"answer_count":1,"score":0,"last_activity_date":1640243084,"creation_date":1640233069,"question_id":70457618,"body_markdown":"Is there any difference between location permission ALWAYS_ALLOW and Only While Using the App option when using foreground service. I&#39;m developing an SDK which use location permission all time, I&#39;m using foreground service and is it okay to allow &quot;Only While Using the App&quot; permission instead of ALWAYS_ALLOW","title":"Is it okay to allow &quot;While Using the App&quot; instead of &quot;ALWAYS ALLOW&quot; while foreground service is used?","body":"<p>Is there any difference between location permission ALWAYS_ALLOW and Only While Using the App option when using foreground service. I'm developing an SDK which use location permission all time, I'm using foreground service and is it okay to allow &quot;Only While Using the App&quot; permission instead of ALWAYS_ALLOW</p>\n"},{"tags":["java","android","flutter","android-studio","java-15"],"comments":[{"owner":{"account_id":13225721,"reputation":1061,"user_id":9550867,"display_name":"raiyan22"},"score":0,"creation_date":1640243478,"post_id":67666965,"comment_id":124549922,"body_markdown":"Make sure you enter the path variable for java in the environment variables from settings","body":"Make sure you enter the path variable for java in the environment variables from settings"}],"answers":[{"tags":[],"owner":{"account_id":20088406,"reputation":2043,"user_id":14729488,"display_name":"Ardeshir ojan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621833346,"creation_date":1621833346,"answer_id":67666973,"question_id":67666965,"body_markdown":"have you tried running this?\r\n\r\n    flutter doctor --android-licenses","title":"flutter doctor --android-licenses shows error message","body":"<p>have you tried running this?</p>\n<pre><code>flutter doctor --android-licenses\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19410207,"reputation":44,"user_id":14194738,"display_name":"Gautham Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640242794,"creation_date":1640242794,"answer_id":70458690,"question_id":67666965,"body_markdown":"First, check if you have the older JDK version such as \r\n\r\n 1. JDK 1.8.0_301\r\n 2. Java SE Development Kit 8u202\r\n\r\nDownload JDKs from here\r\n[JDK 8 versions][1]\r\nChoose your system info [bit] correctly.\r\n\r\nUsing older versions will run Flutter and Xamarin applications seamlessly\r\nOr if you have installed JDK@Latest try downgrading them to an older version. \r\n\r\n\r\n  [1]: https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html","title":"flutter doctor --android-licenses shows error message","body":"<p>First, check if you have the older JDK version such as</p>\n<ol>\n<li>JDK 1.8.0_301</li>\n<li>Java SE Development Kit 8u202</li>\n</ol>\n<p>Download JDKs from here\n<a href=\"https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html\" rel=\"nofollow noreferrer\">JDK 8 versions</a>\nChoose your system info [bit] correctly.</p>\n<p>Using older versions will run Flutter and Xamarin applications seamlessly\nOr if you have installed JDK@Latest try downgrading them to an older version.</p>\n"}],"owner":{"account_id":21150017,"reputation":3,"user_id":15550551,"display_name":"Savan Rajyaguru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640242794,"creation_date":1621833258,"question_id":67666965,"body_markdown":"how to solve this error I show many video on it but that can not works.\r\nI tried also JDK 8 but it doesn&#39;t works. Currently running on JDK 15.\r\n\r\n**Installed java 15**\r\n\r\n**\r\n\r\n&gt; flutter doctor -v\r\n\r\n**\r\n\r\n    [√] Flutter (Channel dev, 2.3.0-0.1.pre, on Microsoft Windows [Version 10.0.19042.928], locale en-IN)\r\n        • Flutter version 2.3.0-0.1.pre at C:\\src\\flutter\r\n        • Upstream repository https://github.com/flutter/flutter.git\r\n        • Framework revision d72bfb8d07 (4 weeks ago), 2021-04-26 06:05:55 -0700\r\n        • Engine revision de6e1adf97\r\n        • Dart version 2.14.0 (build 2.14.0-18.0.dev)\r\n    \r\n    [!] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\r\n        • Android SDK at C:\\Users\\Savan Rajyaguru\\AppData\\Local\\Android\\sdk\r\n        • Platform android-30, build-tools 30.0.3\r\n        • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\r\n        • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\r\n        X Android license status unknown.\r\n          Run `flutter doctor --android-licenses` to accept the SDK licenses.\r\n          See https://flutter.dev/docs/get-started/install/windows#android-setup for more details.\r\n    \r\n    [√] Chrome - develop for the web\r\n        • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\r\n    \r\n    [√] Android Studio (version 4.1.0)\r\n        • Android Studio at C:\\Program Files\\Android\\Android Studio\r\n        • Flutter plugin can be installed from:\r\n           https://plugins.jetbrains.com/plugin/9212-flutter\r\n        • Dart plugin can be installed from:\r\n           https://plugins.jetbrains.com/plugin/6351-dart\r\n        • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\r\n    \r\n    [√] VS Code (version 1.56.0)\r\n        • VS Code at C:\\Users\\Savan Rajyaguru\\AppData\\Local\\Programs\\Microsoft VS Code\r\n        • Flutter extension can be installed from:\r\n           https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\r\n    \r\n    [√] Connected device (2 available)\r\n        • Chrome (web) • chrome • web-javascript • Google Chrome 90.0.4430.212\r\n        • Edge (web)   • edge   • web-javascript • Microsoft Edge 90.0.818.66\r\n    \r\n    ! Doctor found issues in 1 category.\r\n\r\n**\r\n\r\n&gt; flutter doctor --android-licenses\r\n\r\n**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\r\n            at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\r\n            at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\r\n            at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\r\n            at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\r\n            at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            ... 5 more\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lfh52.png","title":"flutter doctor --android-licenses shows error message","body":"<p>how to solve this error I show many video on it but that can not works.\nI tried also JDK 8 but it doesn't works. Currently running on JDK 15.</p>\n<p><strong>Installed java 15</strong></p>\n<p>**</p>\n<blockquote>\n<p>flutter doctor -v</p>\n</blockquote>\n<p>**</p>\n<pre><code>[√] Flutter (Channel dev, 2.3.0-0.1.pre, on Microsoft Windows [Version 10.0.19042.928], locale en-IN)\n    • Flutter version 2.3.0-0.1.pre at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision d72bfb8d07 (4 weeks ago), 2021-04-26 06:05:55 -0700\n    • Engine revision de6e1adf97\n    • Dart version 2.14.0 (build 2.14.0-18.0.dev)\n\n[!] Android toolchain - develop for Android devices (Android SDK version 30.0.3)\n    • Android SDK at C:\\Users\\Savan Rajyaguru\\AppData\\Local\\Android\\sdk\n    • Platform android-30, build-tools 30.0.3\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\n    X Android license status unknown.\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\n      See https://flutter.dev/docs/get-started/install/windows#android-setup for more details.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Android Studio (version 4.1.0)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\n\n[√] VS Code (version 1.56.0)\n    • VS Code at C:\\Users\\Savan Rajyaguru\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension can be installed from:\n       https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[√] Connected device (2 available)\n    • Chrome (web) • chrome • web-javascript • Google Chrome 90.0.4430.212\n    • Edge (web)   • edge   • web-javascript • Microsoft Edge 90.0.818.66\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p>**</p>\n<blockquote>\n<p>flutter doctor --android-licenses</p>\n</blockquote>\n<p>**</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n        at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n        at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\n        at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 5 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lfh52.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1640235514,"post_id":70457807,"comment_id":124548455,"body_markdown":"`while (guessCorrect = true)` That should be just `while (guessCorrect)`","body":"<code>while (guessCorrect = true)</code> That should be just <code>while (guessCorrect)</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1640236164,"post_id":70457807,"comment_id":124548554,"body_markdown":"`if (mainGame.checkGuess(inputted) == &quot;Correct! You got it right!&quot;)` I couldn&#39;t find the code for method `checkGuess` but I assume it returns a string. Please refer to [How do I compare strings in Java](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"<code>if (mainGame.checkGuess(inputted) == &quot;Correct! You got it right!&quot;)</code> I couldn&#39;t find the code for method <code>checkGuess</code> but I assume it returns a string. Please refer to <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java</a>"},{"owner":{"account_id":9456016,"reputation":3926,"user_id":7031308,"display_name":"Donnald Cucharo"},"score":0,"creation_date":1641274305,"post_id":70457807,"comment_id":124756757,"body_markdown":"Hi OP. Let us know if any the answer helped. If it answered your question, then accept it. That way others know that you&#39;ve been (sufficiently) helped. Also see [What should I do when someone answers my question](https://stackoverflow.com/help/someone-answers)?","body":"Hi OP. Let us know if any the answer helped. If it answered your question, then accept it. That way others know that you&#39;ve been (sufficiently) helped. Also see <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question</a>?"}],"answers":[{"tags":[],"owner":{"account_id":23696739,"reputation":961,"user_id":17720363,"display_name":"Catherine O"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640242431,"creation_date":1640242431,"answer_id":70458644,"question_id":70457807,"body_markdown":"Change `while (guessCorrect = true)` to `while (guessCorrect)`. Set `guessCorrect` to `false` to exit the `while (guessCorrect)` loop and proceed to restarting or exiting the game. Make sure to set the `game` to `false` if `answer` is not equal to `0` to exit the game.  \r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n            while (guessCorrect) {\r\n                System.out.println(&quot;Would you like to play again? (0 : YES) (1 : NO)&quot;);\r\n                System.out.println(&quot;Your answer: &quot;);\r\n                int answer = input.nextInt();\r\n                //issues with inputting 0 and restarting game\r\n                if (answer == 0) {\r\n                    game = true;\r\n                }\r\n                else if (answer == 1) {\r\n                    System.out.println(&quot;Game Over&quot;);\r\n                    game = false;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Error, can&#39;t understand the meaning&quot;); \r\n                    game = false;\r\n                }\r\n                \r\n                guessCorrect = false;\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java replay when certain character typed","body":"<p>Change <code>while (guessCorrect = true)</code> to <code>while (guessCorrect)</code>. Set <code>guessCorrect</code> to <code>false</code> to exit the <code>while (guessCorrect)</code> loop and proceed to restarting or exiting the game. Make sure to set the <code>game</code> to <code>false</code> if <code>answer</code> is not equal to <code>0</code> to exit the game.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        while (guessCorrect) {\n            System.out.println(&quot;Would you like to play again? (0 : YES) (1 : NO)&quot;);\n            System.out.println(&quot;Your answer: &quot;);\n            int answer = input.nextInt();\n            //issues with inputting 0 and restarting game\n            if (answer == 0) {\n                game = true;\n            }\n            else if (answer == 1) {\n                System.out.println(&quot;Game Over&quot;);\n                game = false;\n            }\n            else {\n                System.out.println(&quot;Error, can't understand the meaning&quot;); \n                game = false;\n            }\n            \n            guessCorrect = false;\n        }\n</code></pre>\n"}],"owner":{"account_id":23725582,"reputation":11,"user_id":17745513,"display_name":"unknown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640242431,"creation_date":1640235367,"question_id":70457807,"body_markdown":"When number 0 is typed after the guess is correct, it should replay the game.  It just returns the message &quot;0 to play again and 1 to quit&quot;\r\n```java\r\npublic static void main(String[] args) {\r\n    boolean game = true; //true means the game will continue playing, false stops the game\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Guess: &quot;);\r\n    while (game) {\r\n        HiLo mainGame = new HiLo();\r\n        mainGame.generateRandomNumber();\r\n        boolean guessCorrect = false;\r\n        while (!guessCorrect) {\r\n            int inputted = input.nextInt();\r\n            if (inputted == 101) {\r\n                guessCorrect = true;\r\n                System.out.println(&quot;quitted&quot;);\r\n            }\r\n            System.out.println(mainGame.checkGuess(inputted));\r\n            mainGame.getGuessCounter();\r\n            if (mainGame.checkGuess(inputted) == &quot;Correct! You got it right!&quot;) {\r\n                guessCorrect = true;\r\n                System.out.println(&quot;Correct after &quot; + mainGame.getGuessCounter() + &quot; guesses&quot;);\r\n            }\r\n        }\r\n        while (guessCorrect = true) {\r\n            System.out.println(&quot;Would you like to play again? (0 : YES) (1 : NO)&quot;);\r\n            System.out.println(&quot;Your answer: &quot;);\r\n            int answer = input.nextInt();\r\n            //issues with inputting 0 and restarting game\r\n            if (answer == 0) {\r\n                game = true;\r\n            }\r\n            else if (answer == 1) {\r\n                guessCorrect = true;\r\n                System.out.println(&quot;Game Over&quot;);\r\n            }\r\n            else {\r\n                System.out.println(&quot;Error, can&#39;t understand the meaning&quot;); \r\n                guessCorrect = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Java replay when certain character typed","body":"<p>When number 0 is typed after the guess is correct, it should replay the game.  It just returns the message &quot;0 to play again and 1 to quit&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    boolean game = true; //true means the game will continue playing, false stops the game\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Guess: &quot;);\n    while (game) {\n        HiLo mainGame = new HiLo();\n        mainGame.generateRandomNumber();\n        boolean guessCorrect = false;\n        while (!guessCorrect) {\n            int inputted = input.nextInt();\n            if (inputted == 101) {\n                guessCorrect = true;\n                System.out.println(&quot;quitted&quot;);\n            }\n            System.out.println(mainGame.checkGuess(inputted));\n            mainGame.getGuessCounter();\n            if (mainGame.checkGuess(inputted) == &quot;Correct! You got it right!&quot;) {\n                guessCorrect = true;\n                System.out.println(&quot;Correct after &quot; + mainGame.getGuessCounter() + &quot; guesses&quot;);\n            }\n        }\n        while (guessCorrect = true) {\n            System.out.println(&quot;Would you like to play again? (0 : YES) (1 : NO)&quot;);\n            System.out.println(&quot;Your answer: &quot;);\n            int answer = input.nextInt();\n            //issues with inputting 0 and restarting game\n            if (answer == 0) {\n                game = true;\n            }\n            else if (answer == 1) {\n                guessCorrect = true;\n                System.out.println(&quot;Game Over&quot;);\n            }\n            else {\n                System.out.println(&quot;Error, can't understand the meaning&quot;); \n                guessCorrect = false;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","plugins","jar","rpm"],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462883443,"creation_date":1462883443,"answer_id":37138641,"question_id":37138222,"body_markdown":"I would like to suggest to use the [rpm-maven-plugin][1] which can help here.\r\n\r\n\r\n  [1]: http://www.mojohaus.org/rpm-maven-plugin/","title":"creation of rpm with a jar file through maven plugin","body":"<p>I would like to suggest to use the <a href=\"http://www.mojohaus.org/rpm-maven-plugin/\" rel=\"nofollow\">rpm-maven-plugin</a> which can help here.</p>\n"},{"tags":[],"owner":{"account_id":5229654,"reputation":606,"user_id":4180464,"display_name":"Pankaj Mandale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640242356,"creation_date":1640242356,"answer_id":70458634,"question_id":37138222,"body_markdown":"Yes you do by adding the jar dependency in rpm package which build by rpm-maven-plugin. \r\n\r\n    &lt;mapping&gt;\r\n    &lt;directory&gt;Your directory path&lt;/directory&gt;\r\n    &lt;filemode&gt;0755&lt;/filemode&gt;\r\n    &lt;sources&gt;\r\n       &lt;source&gt;\r\n       &lt;location&gt;src/rpm/data&lt;/location&gt;\r\n       &lt;/source&gt;\r\n     &lt;/sources&gt;\r\n     &lt;dependency&gt;\r\n      &lt;stripVersion&gt;true&lt;/stripVersion&gt;\r\n       &lt;includes&gt;\r\n          &lt;include&gt;Your jar with version&lt;/includes&gt;\r\n       &lt;/includes&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;/mapping&gt;","title":"creation of rpm with a jar file through maven plugin","body":"<p>Yes you do by adding the jar dependency in rpm package which build by rpm-maven-plugin.</p>\n<pre><code>&lt;mapping&gt;\n&lt;directory&gt;Your directory path&lt;/directory&gt;\n&lt;filemode&gt;0755&lt;/filemode&gt;\n&lt;sources&gt;\n   &lt;source&gt;\n   &lt;location&gt;src/rpm/data&lt;/location&gt;\n   &lt;/source&gt;\n &lt;/sources&gt;\n &lt;dependency&gt;\n  &lt;stripVersion&gt;true&lt;/stripVersion&gt;\n   &lt;includes&gt;\n      &lt;include&gt;Your jar with version&lt;/includes&gt;\n   &lt;/includes&gt;\n &lt;/dependency&gt;\n &lt;/mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640242356,"creation_date":1462882398,"question_id":37138222,"body_markdown":"I am trying to create a rpm through maven plugin. Rpm consists of jar file and other some scripts. I can create a jar file as a separate maven build and rpm as separate build. \r\nIs it possible to create a an rpm, which includes the jar files. ie) my expectation is that it should compile the java source code and create a jar file out of it and then create an rpm through maven plugin. \r\n","title":"creation of rpm with a jar file through maven plugin","body":"<p>I am trying to create a rpm through maven plugin. Rpm consists of jar file and other some scripts. I can create a jar file as a separate maven build and rpm as separate build. \nIs it possible to create a an rpm, which includes the jar files. ie) my expectation is that it should compile the java source code and create a jar file out of it and then create an rpm through maven plugin. </p>\n"},{"tags":["java","inheritance","types","casting","polymorphism"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624643934,"creation_date":1624643934,"answer_id":68135334,"question_id":68135312,"body_markdown":"Casting in Java can&#39;t change an object type. It just tells the compiler that it&#39;s OK to treat a certain object as a certain type, since in runtime that&#39;s what&#39;s going to be there.\r\n\r\nIn the first example, `bear` is really a `Bear` instance, so the casting works just fine.\\\r\nIn the second example, it isn&#39;t, so you get a `ClassCastException`.","title":"why i can not cast parent to child some specific scenario","body":"<p>Casting in Java can't change an object type. It just tells the compiler that it's OK to treat a certain object as a certain type, since in runtime that's what's going to be there.</p>\n<p>In the first example, <code>bear</code> is really a <code>Bear</code> instance, so the casting works just fine.<br />\nIn the second example, it isn't, so you get a <code>ClassCastException</code>.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624644329,"creation_date":1624644329,"answer_id":68135406,"question_id":68135312,"body_markdown":"If the 23rd method of type `Bear` is `growl`, and `bear` is the 5th local variable in a function, a Java compiler will translate `bear.growl()` to &quot;Execute method #23 of local variable #5&quot;.  Such a translation would be good if the object was in fact an instance of class `Bear` or a derived type were method #23 was `growl()`, but could be disastrous if the reference were of some type which didn&#39;t have `growl()` as method #23.  While the JVM might be able to catch such issues at function invocation time if the object didn&#39;t have a method #23, it would be unlikely to catch them if the object was e.g. a `Dragon` whose method #23 was `breatheFire()`.  Rather than requiring that every attempt to use method `growl` on a variable of type `Bear` check to ensure that the object actually has `growl` as method #23, Java forbids storing any reference where method #23 isn&#39;t `growl` into a variable of type `bear`.","title":"why i can not cast parent to child some specific scenario","body":"<p>If the 23rd method of type <code>Bear</code> is <code>growl</code>, and <code>bear</code> is the 5th local variable in a function, a Java compiler will translate <code>bear.growl()</code> to &quot;Execute method #23 of local variable #5&quot;.  Such a translation would be good if the object was in fact an instance of class <code>Bear</code> or a derived type were method #23 was <code>growl()</code>, but could be disastrous if the reference were of some type which didn't have <code>growl()</code> as method #23.  While the JVM might be able to catch such issues at function invocation time if the object didn't have a method #23, it would be unlikely to catch them if the object was e.g. a <code>Dragon</code> whose method #23 was <code>breatheFire()</code>.  Rather than requiring that every attempt to use method <code>growl</code> on a variable of type <code>Bear</code> check to ensure that the object actually has <code>growl</code> as method #23, Java forbids storing any reference where method #23 isn't <code>growl</code> into a variable of type <code>bear</code>.</p>\n"},{"tags":[],"owner":{"account_id":21890638,"reputation":11,"user_id":16177661,"display_name":"shubham kashyap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624805205,"creation_date":1624659643,"answer_id":68137589,"question_id":68135312,"body_markdown":"    Animal animal = new Animal();\r\n    Bear bear = (Bear) animal;\r\n\r\nThis is because your parent class doesn&#39;t know about your child&#39;s properties and methods.\r\nIn the first line you are simply creating an **animal** object, that&#39;s all. If you want to cast this animal reference, you must assign the child object to that, so that your parent reference is aware of child&#39;s properties and methods too. \r\nThis must be replaced with \r\n\r\n    Animal animal = new Bear();\r\n    Bear bear = (Bear) animal;\r\n\r\n\r\n","title":"why i can not cast parent to child some specific scenario","body":"<pre><code>Animal animal = new Animal();\nBear bear = (Bear) animal;\n</code></pre>\n<p>This is because your parent class doesn't know about your child's properties and methods.\nIn the first line you are simply creating an <strong>animal</strong> object, that's all. If you want to cast this animal reference, you must assign the child object to that, so that your parent reference is aware of child's properties and methods too.\nThis must be replaced with</p>\n<pre><code>Animal animal = new Bear();\nBear bear = (Bear) animal;\n</code></pre>\n"}],"owner":{"account_id":9221177,"reputation":2302,"user_id":6850561,"display_name":"Partho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1640242209,"creation_date":1624643811,"question_id":68135312,"body_markdown":"I have two classes, one Animal and one Bear.\r\nexample code  \r\n\r\n    class Animal {}\r\n    class Bear extends Animal {}\r\n\r\nwhen I write code like \r\n\r\n    Animal animal = new Bear();\r\n    Bear bear = (Bear) animal;\r\n\r\nI also know that the first one is upcasting and second one is downcasting and works fine.\r\n\r\nbut my question is when I code like:\r\n\r\n    Animal animal = new Animal();\r\n    Bear bear = (Bear) animal;\r\n\r\nit throughs a `ClassCastException`.\r\n\r\nI want to know why this happens.\r\n","title":"why i can not cast parent to child some specific scenario","body":"<p>I have two classes, one Animal and one Bear.\nexample code</p>\n<pre><code>class Animal {}\nclass Bear extends Animal {}\n</code></pre>\n<p>when I write code like</p>\n<pre><code>Animal animal = new Bear();\nBear bear = (Bear) animal;\n</code></pre>\n<p>I also know that the first one is upcasting and second one is downcasting and works fine.</p>\n<p>but my question is when I code like:</p>\n<pre><code>Animal animal = new Animal();\nBear bear = (Bear) animal;\n</code></pre>\n<p>it throughs a <code>ClassCastException</code>.</p>\n<p>I want to know why this happens.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20094764,"reputation":2497,"user_id":14734532,"display_name":"DrHowdyDoo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1640242188,"creation_date":1640239325,"answer_id":70458217,"question_id":70457991,"body_markdown":"Your **sound_dis** is null because you accidentally created a local variable in your DemoViewHolder constructor and stored the ImageView reference in it. The one declared in the class has no value (null).\r\n\r\nIn your DemoViewholder function remove ImageView data type as you have already declared it in your DemoviewHolder class .\r\n\r\nYour DemoViewHolder constructor should be like this :\r\n\r\n    public DemoViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            sound_dis = (ImageView) itemView.findViewById(R.id.imageView3);\r\n        }","title":"can anyone sort this error out in Glide context","body":"<p>Your <strong>sound_dis</strong> is null because you accidentally created a local variable in your DemoViewHolder constructor and stored the ImageView reference in it. The one declared in the class has no value (null).</p>\n<p>In your DemoViewholder function remove ImageView data type as you have already declared it in your DemoviewHolder class .</p>\n<p>Your DemoViewHolder constructor should be like this :</p>\n<pre><code>public DemoViewHolder(@NonNull View itemView) {\n        super(itemView);\n        sound_dis = (ImageView) itemView.findViewById(R.id.imageView3);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640240364,"creation_date":1640240364,"answer_id":70458353,"question_id":70457991,"body_markdown":"This is not an error in glide , actually you have declared imageview wrongly. Your DemoViewHolder will be like this , then it will work fine.\r\n\r\n    public class DemoViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private ImageView sound_dis;\r\n\r\n\r\n        public DemoViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            sound_dis = itemView.findViewById(R.id.imageView3);\r\n\r\n\r\n        }\r\n    }","title":"can anyone sort this error out in Glide context","body":"<p>This is not an error in glide , actually you have declared imageview wrongly. Your DemoViewHolder will be like this , then it will work fine.</p>\n<pre><code>public class DemoViewHolder extends RecyclerView.ViewHolder {\n\n    private ImageView sound_dis;\n\n\n    public DemoViewHolder(@NonNull View itemView) {\n        super(itemView);\n        sound_dis = itemView.findViewById(R.id.imageView3);\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23725629,"reputation":26,"user_id":17745560,"display_name":"paradox codee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1640271295,"accepted_answer_id":70458217,"answer_count":2,"score":-1,"last_activity_date":1640242188,"creation_date":1640237248,"question_id":70457991,"body_markdown":"I&#39;m having error in Glide,\r\n\r\n\r\nthis error is this\r\n\r\ncan anyone sort this error out pls i need help\r\nits build perfectly fine but im facing the error at runtime\r\n\r\nthis line is causing main problem\r\n\r\n`Glide.with(context).load(R.drawable.disc).into(holder.sound_dis);`\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.paradox.projectsp3, PID: 27908\r\n    java.lang.NullPointerException: Argument must not be null\r\n        at com.bumptech.glide.util.Preconditions.checkNotNull(Preconditions.java:29)\r\n        at com.bumptech.glide.util.Preconditions.checkNotNull(Preconditions.java:23)\r\n        at com.bumptech.glide.RequestBuilder.into(RequestBuilder.java:768)\r\n        at com.paradox.projectsp3.Adapter.DemoAdapter.onBindViewHolder(DemoAdapter.java:44)\r\n        at com.paradox.projectsp3.Adapter.DemoAdapter.onBindViewHolder(DemoAdapter.java:19)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n        at android.view.View.layout(View.java:23304)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\r\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n        at android.view.View.layout(View.java:23304)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:23304)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\r\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\r\n        at android.view.View.layout(View.java:23304)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:23304)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1841)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:23304)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:871)\r\n        at android.view.View.layout(View.java:23304)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3979)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3380)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2345)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9046)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1066)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:889)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:816)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1051)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:264)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8282)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:632)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1049)\r\n```\r\n\r\nthis is my adapter im using\r\n\r\n```\r\npackage com.paradox.projectsp3.Adapter;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.paradox.projectsp3.Model.MediaObject;\r\nimport com.paradox.projectsp3.R;\r\n\r\nimport java.util.List;\r\n\r\npublic class DemoAdapter extends RecyclerView.Adapter&lt;DemoAdapter.DemoViewHolder&gt; {\r\n\r\n\r\n\r\n    List&lt;MediaObject&gt; mediaObjectList;\r\n    private ImageView imageView;\r\n    public Context context;\r\n\r\n\r\n    public DemoAdapter(List&lt;MediaObject&gt; mediaObjectList,Context context) {\r\n        this.mediaObjectList = mediaObjectList;\r\n        this.context = context;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DemoViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup , int viewType) {\r\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.layout_main,viewGroup,false);\r\n        return new DemoViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder( DemoViewHolder holder, int position) {\r\n        MediaObject mediaObject = mediaObjectList.get(position);\r\n        Glide.with(context).load(R.drawable.disc).into(holder.sound_dis);\r\n\r\n        }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mediaObjectList.size();\r\n    }\r\n\r\n    public class DemoViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private ImageView sound_dis;\r\n\r\n\r\n        public DemoViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            ImageView sound_dis = (ImageView) itemView.findViewById(R.id.imageView3);\r\n        }\r\n    }\r\n}\r\n```","title":"can anyone sort this error out in Glide context","body":"<p>I'm having error in Glide,</p>\n<p>this error is this</p>\n<p>can anyone sort this error out pls i need help\nits build perfectly fine but im facing the error at runtime</p>\n<p>this line is causing main problem</p>\n<p><code>Glide.with(context).load(R.drawable.disc).into(holder.sound_dis);</code></p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.paradox.projectsp3, PID: 27908\n    java.lang.NullPointerException: Argument must not be null\n        at com.bumptech.glide.util.Preconditions.checkNotNull(Preconditions.java:29)\n        at com.bumptech.glide.util.Preconditions.checkNotNull(Preconditions.java:23)\n        at com.bumptech.glide.RequestBuilder.into(RequestBuilder.java:768)\n        at com.paradox.projectsp3.Adapter.DemoAdapter.onBindViewHolder(DemoAdapter.java:44)\n        at com.paradox.projectsp3.Adapter.DemoAdapter.onBindViewHolder(DemoAdapter.java:19)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\n        at android.view.View.layout(View.java:23304)\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n        at android.view.View.layout(View.java:23304)\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:23304)\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\n        at android.view.View.layout(View.java:23304)\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:23304)\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1841)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:23304)\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:871)\n        at android.view.View.layout(View.java:23304)\n        at android.view.ViewGroup.layout(ViewGroup.java:6539)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3979)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3380)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2345)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9046)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1066)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:889)\n        at android.view.Choreographer.doFrame(Choreographer.java:816)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1051)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:264)\n        at android.app.ActivityThread.main(ActivityThread.java:8282)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:632)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1049)\n</code></pre>\n<p>this is my adapter im using</p>\n<pre><code>package com.paradox.projectsp3.Adapter;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\n\nimport com.bumptech.glide.Glide;\nimport com.paradox.projectsp3.Model.MediaObject;\nimport com.paradox.projectsp3.R;\n\nimport java.util.List;\n\npublic class DemoAdapter extends RecyclerView.Adapter&lt;DemoAdapter.DemoViewHolder&gt; {\n\n\n\n    List&lt;MediaObject&gt; mediaObjectList;\n    private ImageView imageView;\n    public Context context;\n\n\n    public DemoAdapter(List&lt;MediaObject&gt; mediaObjectList,Context context) {\n        this.mediaObjectList = mediaObjectList;\n        this.context = context;\n\n    }\n\n    @NonNull\n    @Override\n    public DemoViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup , int viewType) {\n        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.layout_main,viewGroup,false);\n        return new DemoViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder( DemoViewHolder holder, int position) {\n        MediaObject mediaObject = mediaObjectList.get(position);\n        Glide.with(context).load(R.drawable.disc).into(holder.sound_dis);\n\n        }\n\n\n    @Override\n    public int getItemCount() {\n        return mediaObjectList.size();\n    }\n\n    public class DemoViewHolder extends RecyclerView.ViewHolder {\n\n        private ImageView sound_dis;\n\n\n        public DemoViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            ImageView sound_dis = (ImageView) itemView.findViewById(R.id.imageView3);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","testing","transactions"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1640247472,"post_id":70458409,"comment_id":124551003,"body_markdown":"That&#39;s just bad wording - what they mean is &quot;by default when TestContext sees `@Transactional`&quot;","body":"That&#39;s just bad wording - what they mean is &quot;by default when TestContext sees <code>@Transactional</code>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1916652,"reputation":223,"user_id":1729123,"display_name":"sridhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640242079,"creation_date":1640242079,"answer_id":70458598,"question_id":70458409,"body_markdown":"The @Transactional annotation is to indicate that a transaction is expected to happen in the method. This is expected for transnational use cases.\r\n\r\nThe benefit which the TestContext framework provides to us is that, when it sees an @Transactional annotation, then If you perform an insert query in a test case, then after the test case is over, framework will take care of automatically rolling back the insert query to bring back the DB to its old state. This ensures all the test cases have the same state of DB during its run. Else if this does not happen, every test case would alter the state of the DB and it might result in unwanted results. \r\n\r\nif this had not been the case, we/user must take care of recreating the DB after every test case.\r\n\r\nIf you want to rollback after sending a web request, you could use the @DirtiesContext annotation to reset your context","title":"Spring transaction management in integration tests","body":"<p>The @Transactional annotation is to indicate that a transaction is expected to happen in the method. This is expected for transnational use cases.</p>\n<p>The benefit which the TestContext framework provides to us is that, when it sees an @Transactional annotation, then If you perform an insert query in a test case, then after the test case is over, framework will take care of automatically rolling back the insert query to bring back the DB to its old state. This ensures all the test cases have the same state of DB during its run. Else if this does not happen, every test case would alter the state of the DB and it might result in unwanted results.</p>\n<p>if this had not been the case, we/user must take care of recreating the DB after every test case.</p>\n<p>If you want to rollback after sending a web request, you could use the @DirtiesContext annotation to reset your context</p>\n"}],"owner":{"account_id":10916665,"reputation":11,"user_id":8024283,"display_name":"Oleg Sukhov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640242079,"creation_date":1640240813,"question_id":70458409,"body_markdown":"Currently I&#39;m reading the Spring Framework documentation about testing. And I cannot interpret correctly the following section:\r\n\r\n&gt; By default, the framework creates and rolls back a transaction for each test.\r\n\r\nOriginal link: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testing-tx\r\n\r\nAs far as I understand, by default means the we don&#39;t need to annotate test method or class with @Transactional annotation to create a transaction for the method. But what I see in practice, if I skip annotating the method or class with the mentioned annotaion - the transaction won&#39;t be created. ","title":"Spring transaction management in integration tests","body":"<p>Currently I'm reading the Spring Framework documentation about testing. And I cannot interpret correctly the following section:</p>\n<blockquote>\n<p>By default, the framework creates and rolls back a transaction for each test.</p>\n</blockquote>\n<p>Original link: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testing-tx\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#testing-tx</a></p>\n<p>As far as I understand, by default means the we don't need to annotate test method or class with @Transactional annotation to create a transaction for the method. But what I see in practice, if I skip annotating the method or class with the mentioned annotaion - the transaction won't be created.</p>\n"},{"tags":["java","email","amazon-web-services"],"comments":[{"owner":{"account_id":340899,"reputation":5071,"user_id":671170,"accept_rate":26,"display_name":"Sumit Arora"},"score":1,"creation_date":1474044739,"post_id":39533430,"comment_id":66387178,"body_markdown":"I have solved it by making some changes on the attachment part like : DataSource source = new FileDataSource(fileContents); ( here fileContents String Data). And : attachment.setDataHandler(new DataHandler(source)); Also gave the file name like :    attachment.setFileName(&quot;TestFile_&quot; + LocalDateTime.now().toString() + &quot;.csv&quot;); , And then added attachment part to MimeMultipart mp message. and then it worked !","body":"I have solved it by making some changes on the attachment part like : DataSource source = new FileDataSource(fileContents); ( here fileContents String Data). And : attachment.setDataHandler(new DataHandler(source)); Also gave the file name like :    attachment.setFileName(&quot;TestFile_&quot; + LocalDateTime.now().toString() + &quot;.csv&quot;); , And then added attachment part to MimeMultipart mp message. and then it worked !"},{"owner":{"account_id":221550,"reputation":1590,"user_id":479608,"accept_rate":71,"display_name":"Mark Murphy"},"score":0,"creation_date":1482977459,"post_id":39533430,"comment_id":69946247,"body_markdown":"Maybe you could post the complete source as the answer. I too have been looking everywhere!","body":"Maybe you could post the complete source as the answer. I too have been looking everywhere!"},{"owner":{"account_id":340899,"reputation":5071,"user_id":671170,"accept_rate":26,"display_name":"Sumit Arora"},"score":2,"creation_date":1483017285,"post_id":39533430,"comment_id":69962706,"body_markdown":"@MarkMurphy Mark I have update the answer by adding the function which finally I used for one of my work item.","body":"@MarkMurphy Mark I have update the answer by adding the function which finally I used for one of my work item."}],"owner":{"account_id":340899,"reputation":5071,"user_id":671170,"accept_rate":26,"display_name":"Sumit Arora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8127,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1640241937,"creation_date":1474034502,"question_id":39533430,"body_markdown":"I have checked all over aws documentation but didn&#39;t find any example or text,which can guide about &quot;How to send email with a file attachment using aws ses(simple email service) and java ?&quot;\n\nI need to write following logic:\n\n- Receive a set of data \n- convert this data to CSV file \n- Create a file e.g. abc.csv\n- Prepare a email body, add this attachment and text\n- Send it \n\nI have followed below examples, these explains the process something like this:\nExample: [![enter image description here][1]][1]  \nImage Source: [http://www.codejava.net/java-ee/javamail/send-e-mail-with-attachment-in-java][2]\n\n\n[I have followed this answer][3], but fail to understand this part:\n\n\n    //Attachment part\n      if (attachment != null &amp;&amp; attachment.length != 0)\n    \n       {\n        \n        messageBodyPart = new MimeBodyPart();\n    \n        DataSource source = new ByteArrayDataSource(attachment,fileMimeType);\n    \n        messageBodyPart.setDataHandler(new DataHandler(source));\n    \n        messageBodyPart.setFileName(fileName);\n    \n        multipart.addBodyPart(messageBodyPart);\n    \n      }\n    \n      msg.setContent(multipart);\n\n\nalso this Followed this example: [https://mintylikejava.blogspot.in/2014/05/example-of-sending-email-with-multipal.html][4]\n\nBut I didn&#39;t understand:\n\n\n       DataSource source = new FileDataSource(filename);\n    \n          attachment.setDataHandler(new DataHandler(source));\n\n**How I can define source, If I am preparing a file on same function** e.g. \n\n\n    File myFile = new File(&quot;TestFile_&quot;+ LocalDateTime.now().toString()+ &quot;.csv&quot;);\n    \n            try {\n                fop = new FileOutputStream(myFile);\n    \n                byte[] contentInBytes = textBody.getData().getBytes();\n    \n                fop.write(contentInBytes);\n                fop.flush();\n                fop.close();\n            } catch (java.io.IOException e) {\n                e.printStackTrace();\n            }\n\n**Not sure what exactly I am missing here?**\n\n---\n### Solved\n\n**Below function I wrote to solve this problem (Added on 29th-Dec-2016):**\n\n    public String sendReceivedOutputAsEmailToUsers(EmailProperties emailProperties,String fileContents , String toEmails) throws InternalErrorException\n        {\n            String[] toAddressesInput = null;\n            // Get the toArrays\n            toAddressesInput = toEmails.split(&quot;,&quot;);\n    \n            BasicAWSCredentials basicAWSCredentials = new BasicAWSCredentials(PropertyManager.getSetting(&quot;awsAccessKeyId&quot;),\n                    PropertyManager.getSetting(&quot;awsSecretAccessKey&quot;));\n    \n            // Construct an object to contain the recipient address.\n            Destination destination = new Destination().withToAddresses(toAddressesInput);\n    \n    \n            // Create the subject and body of the message.\n            // emailRequest.getSubject() - need to write the format of message\n    \n            // Prepare Subject\n            String subject = CommonStrings.defaultSubject + &quot; Generated at: &quot; + LocalDateTime.now().toString();\n    \n            if(emailProperties.getSubject()!=null)\n            {\n               subject =  emailProperties.getSubject() + &quot; Generated at: &quot; + LocalDateTime.now().toString();;\n            }\n            String inputFileName = null;\n    \n            if(emailProperties.getAttachmentName() != null)\n            {\n                inputFileName = emailProperties.getAttachmentName() + &quot;_&quot; + LocalDateTime.now().toString() + &quot;.csv&quot;;\n    \n            }else\n            {\n                inputFileName = &quot;GenreatedReport__&quot; + LocalDateTime.now().toString() + &quot;.csv&quot;;\n            }\n    \n            Content textBody = null;\n            FileOutputStream fop = null;\n    \n            if(emailProperties.getIsBody().equalsIgnoreCase(&quot;true&quot;))\n            {\n                if(emailProperties.getBodyMessagePrefix()!= null) {\n                    textBody = new Content().withData(&quot;\\n\\n&quot; + emailProperties.getBodyMessagePrefix() + &quot;\\n\\n&quot; +fileContents);\n                } else\n                {\n                    textBody = new Content().withData(&quot;\\n\\n&quot; +fileContents);\n                }\n    \n            }\n    \n            AmazonSimpleEmailServiceClient client = null;\n            client = new AmazonSimpleEmailServiceClient(basicAWSCredentials);\n    \n            Properties props = new Properties();\n            // sets SMTP server properties\n            props.setProperty(&quot;mail.transport.protocol&quot;, &quot;aws&quot;);\n            props.setProperty(&quot;mail.aws.user&quot;, PropertyManager.getSetting(&quot;awsAccessKeyId&quot;));\n            props.setProperty(&quot;mail.aws.password&quot;,  PropertyManager.getSetting(&quot;awsSecretAccessKey&quot;));\n    \n            Session mailSession = Session.getInstance(props);\n    \n            // Create an email\n            MimeMessage msg = new MimeMessage(mailSession);\n    \n            // Sender and recipient\n            try {\n                msg.setFrom(new InternetAddress(CommonStrings.adminEmailAddress));\n            } catch (MessagingException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n            }\n    \n            // msg.setRecipient( Message.RecipientType.TO, new InternetAddress(&quot;abc  &lt;abc@gmail.com&gt;&quot;));\n    \n            // for multiple Recipient\n            InternetAddress[] toAddresses = new InternetAddress[toAddressesInput.length];\n            for (int i = 0; i &lt; toAddresses.length; i++)\n            {\n                try {\n                    toAddresses[i] = new InternetAddress(toAddressesInput[i]);\n                } catch (AddressException e) {\n                    throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n                }\n            }\n            try {\n                msg.setRecipients(javax.mail.Message.RecipientType.TO, toAddresses);\n                msg.setSubject(subject);\n            } catch (MessagingException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n    \n            }\n    \n            // creates message part\n            BodyPart part = new MimeBodyPart();\n    \n            try {\n                part.setContent(textBody.getData(), &quot;text/html&quot;);\n            } catch (MessagingException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n            }\n    \n            // Add a MIME part to the message\n            MimeMultipart mp = new MimeMultipart();\n            try {\n                mp.addBodyPart(part);\n            } catch (MessagingException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n            }\n            BodyPart attachment = null;\n            attachment = new MimeBodyPart();\n    \n            try {\n                DataSource source = new FileDataSource(fileContents);\n                attachment.setDataHandler(new DataHandler(source));\n                attachment.setText(fileContents);\n                attachment.setFileName(inputFileName);\n                mp.addBodyPart(attachment);\n                msg.setContent(mp);\n            } catch (MessagingException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n            }\n    \n            // Print the raw email content on the console\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            try {\n                msg.writeTo(out);\n            } catch (IOException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n            } catch (MessagingException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n            }\n    \n            // Send Mail\n            RawMessage rm = new RawMessage();\n            rm.setData(ByteBuffer.wrap(out.toString().getBytes()));\n            client.sendRawEmail(new SendRawEmailRequest().withRawMessage(rm));\n    \n            logger.info(&quot;email sent : success&quot;);\n            return &quot;success&quot;;\n        }\n    }\n\n  [1]: https://i.stack.imgur.com/VYrXa.png\n  [2]: https://www.codejava.net/java-ee/javamail/send-e-mail-with-attachment-in-java\n  [3]: https://stackoverflow.com/questions/7963439/example-of-sending-an-email-with-attachment-via-amazon-in-java\n  [4]: https://web.archive.org/web/20170311071200/http://mintylikejava.blogspot.in:80/2014/05/example-of-sending-email-with-multipal.html\n","title":"How to send email with a file attachment using aws ses and java?","body":"<p>I have checked all over aws documentation but didn't find any example or text,which can guide about &quot;How to send email with a file attachment using aws ses(simple email service) and java ?&quot;</p>\n<p>I need to write following logic:</p>\n<ul>\n<li>Receive a set of data</li>\n<li>convert this data to CSV file</li>\n<li>Create a file e.g. abc.csv</li>\n<li>Prepare a email body, add this attachment and text</li>\n<li>Send it</li>\n</ul>\n<p>I have followed below examples, these explains the process something like this:\nExample: <a href=\"https://i.stack.imgur.com/VYrXa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VYrXa.png\" alt=\"enter image description here\" /></a><br />\nImage Source: <a href=\"https://www.codejava.net/java-ee/javamail/send-e-mail-with-attachment-in-java\" rel=\"nofollow noreferrer\">http://www.codejava.net/java-ee/javamail/send-e-mail-with-attachment-in-java</a></p>\n<p><a href=\"https://stackoverflow.com/questions/7963439/example-of-sending-an-email-with-attachment-via-amazon-in-java\">I have followed this answer</a>, but fail to understand this part:</p>\n<pre><code>//Attachment part\n  if (attachment != null &amp;&amp; attachment.length != 0)\n\n   {\n    \n    messageBodyPart = new MimeBodyPart();\n\n    DataSource source = new ByteArrayDataSource(attachment,fileMimeType);\n\n    messageBodyPart.setDataHandler(new DataHandler(source));\n\n    messageBodyPart.setFileName(fileName);\n\n    multipart.addBodyPart(messageBodyPart);\n\n  }\n\n  msg.setContent(multipart);\n</code></pre>\n<p>also this Followed this example: <a href=\"https://web.archive.org/web/20170311071200/http://mintylikejava.blogspot.in:80/2014/05/example-of-sending-email-with-multipal.html\" rel=\"nofollow noreferrer\">https://mintylikejava.blogspot.in/2014/05/example-of-sending-email-with-multipal.html</a></p>\n<p>But I didn't understand:</p>\n<pre><code>   DataSource source = new FileDataSource(filename);\n\n      attachment.setDataHandler(new DataHandler(source));\n</code></pre>\n<p><strong>How I can define source, If I am preparing a file on same function</strong> e.g.</p>\n<pre><code>File myFile = new File(&quot;TestFile_&quot;+ LocalDateTime.now().toString()+ &quot;.csv&quot;);\n\n        try {\n            fop = new FileOutputStream(myFile);\n\n            byte[] contentInBytes = textBody.getData().getBytes();\n\n            fop.write(contentInBytes);\n            fop.flush();\n            fop.close();\n        } catch (java.io.IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p><strong>Not sure what exactly I am missing here?</strong></p>\n<hr />\n<h3>Solved</h3>\n<p><strong>Below function I wrote to solve this problem (Added on 29th-Dec-2016):</strong></p>\n<pre><code>public String sendReceivedOutputAsEmailToUsers(EmailProperties emailProperties,String fileContents , String toEmails) throws InternalErrorException\n    {\n        String[] toAddressesInput = null;\n        // Get the toArrays\n        toAddressesInput = toEmails.split(&quot;,&quot;);\n\n        BasicAWSCredentials basicAWSCredentials = new BasicAWSCredentials(PropertyManager.getSetting(&quot;awsAccessKeyId&quot;),\n                PropertyManager.getSetting(&quot;awsSecretAccessKey&quot;));\n\n        // Construct an object to contain the recipient address.\n        Destination destination = new Destination().withToAddresses(toAddressesInput);\n\n\n        // Create the subject and body of the message.\n        // emailRequest.getSubject() - need to write the format of message\n\n        // Prepare Subject\n        String subject = CommonStrings.defaultSubject + &quot; Generated at: &quot; + LocalDateTime.now().toString();\n\n        if(emailProperties.getSubject()!=null)\n        {\n           subject =  emailProperties.getSubject() + &quot; Generated at: &quot; + LocalDateTime.now().toString();;\n        }\n        String inputFileName = null;\n\n        if(emailProperties.getAttachmentName() != null)\n        {\n            inputFileName = emailProperties.getAttachmentName() + &quot;_&quot; + LocalDateTime.now().toString() + &quot;.csv&quot;;\n\n        }else\n        {\n            inputFileName = &quot;GenreatedReport__&quot; + LocalDateTime.now().toString() + &quot;.csv&quot;;\n        }\n\n        Content textBody = null;\n        FileOutputStream fop = null;\n\n        if(emailProperties.getIsBody().equalsIgnoreCase(&quot;true&quot;))\n        {\n            if(emailProperties.getBodyMessagePrefix()!= null) {\n                textBody = new Content().withData(&quot;\\n\\n&quot; + emailProperties.getBodyMessagePrefix() + &quot;\\n\\n&quot; +fileContents);\n            } else\n            {\n                textBody = new Content().withData(&quot;\\n\\n&quot; +fileContents);\n            }\n\n        }\n\n        AmazonSimpleEmailServiceClient client = null;\n        client = new AmazonSimpleEmailServiceClient(basicAWSCredentials);\n\n        Properties props = new Properties();\n        // sets SMTP server properties\n        props.setProperty(&quot;mail.transport.protocol&quot;, &quot;aws&quot;);\n        props.setProperty(&quot;mail.aws.user&quot;, PropertyManager.getSetting(&quot;awsAccessKeyId&quot;));\n        props.setProperty(&quot;mail.aws.password&quot;,  PropertyManager.getSetting(&quot;awsSecretAccessKey&quot;));\n\n        Session mailSession = Session.getInstance(props);\n\n        // Create an email\n        MimeMessage msg = new MimeMessage(mailSession);\n\n        // Sender and recipient\n        try {\n            msg.setFrom(new InternetAddress(CommonStrings.adminEmailAddress));\n        } catch (MessagingException e) {\n            throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n        }\n\n        // msg.setRecipient( Message.RecipientType.TO, new InternetAddress(&quot;abc  &lt;abc@gmail.com&gt;&quot;));\n\n        // for multiple Recipient\n        InternetAddress[] toAddresses = new InternetAddress[toAddressesInput.length];\n        for (int i = 0; i &lt; toAddresses.length; i++)\n        {\n            try {\n                toAddresses[i] = new InternetAddress(toAddressesInput[i]);\n            } catch (AddressException e) {\n                throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n            }\n        }\n        try {\n            msg.setRecipients(javax.mail.Message.RecipientType.TO, toAddresses);\n            msg.setSubject(subject);\n        } catch (MessagingException e) {\n            throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n\n        }\n\n        // creates message part\n        BodyPart part = new MimeBodyPart();\n\n        try {\n            part.setContent(textBody.getData(), &quot;text/html&quot;);\n        } catch (MessagingException e) {\n            throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n        }\n\n        // Add a MIME part to the message\n        MimeMultipart mp = new MimeMultipart();\n        try {\n            mp.addBodyPart(part);\n        } catch (MessagingException e) {\n            throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n        }\n        BodyPart attachment = null;\n        attachment = new MimeBodyPart();\n\n        try {\n            DataSource source = new FileDataSource(fileContents);\n            attachment.setDataHandler(new DataHandler(source));\n            attachment.setText(fileContents);\n            attachment.setFileName(inputFileName);\n            mp.addBodyPart(attachment);\n            msg.setContent(mp);\n        } catch (MessagingException e) {\n            throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n        }\n\n        // Print the raw email content on the console\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try {\n            msg.writeTo(out);\n        } catch (IOException e) {\n            throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n        } catch (MessagingException e) {\n            throw new InternalErrorException(ExceptionStrings.EX_EMAIL + &quot;:&quot; + e.getMessage());\n        }\n\n        // Send Mail\n        RawMessage rm = new RawMessage();\n        rm.setData(ByteBuffer.wrap(out.toString().getBytes()));\n        client.sendRawEmail(new SendRawEmailRequest().withRawMessage(rm));\n\n        logger.info(&quot;email sent : success&quot;);\n        return &quot;success&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10501614,"reputation":1404,"user_id":7740166,"display_name":"Viettel Solutions"},"score":0,"creation_date":1640159629,"post_id":70444950,"comment_id":124526840,"body_markdown":"I think you should update @ModelAttribute(&quot;data&quot;) to @ModelAttribute then try again.","body":"I think you should update @ModelAttribute(&quot;data&quot;) to @ModelAttribute then try again."}],"answers":[{"tags":[],"owner":{"account_id":4377881,"reputation":499,"user_id":3570413,"accept_rate":14,"display_name":"herman shafiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640241505,"creation_date":1640241505,"answer_id":70458515,"question_id":70444950,"body_markdown":"I have found the solution, by adding below bean. It is working now.\r\n\r\n    @Bean(name = &quot;multipartResolver&quot;)\r\n    public CommonsMultipartResolver multipartResolver() throws IOException {    \r\n    \tCommonsMultipartResolver multipartResolver = new CommonsMultipartResolver();\r\n    \tmultipartResolver.setMaxUploadSize(appConstants.multipartUploadFileMaxSize);\r\n    \tmultipartResolver.setMaxInMemorySize(appConstants.multipartUploadFileMaxSize);\r\n    \tmultipartResolver.setMaxUploadSizePerFile(appConstants.multipartUploadFileMaxSize);\r\n    \tmultipartResolver.setUploadTempDir(\r\n    \t\t\tnew DefaultResourceLoader().getResource(String.format(&quot;file:%s&quot;, appConstants.fileTempPathUploads)));\r\n    \tmultipartResolver.setDefaultEncoding(&quot;utf-8&quot;);\r\n    \treturn multipartResolver;\r\n    }","title":"Multipart Form Data Input Java Model Attribute is not injecting the element&#39;s in Request Class - Spring Boot","body":"<p>I have found the solution, by adding below bean. It is working now.</p>\n<pre><code>@Bean(name = &quot;multipartResolver&quot;)\npublic CommonsMultipartResolver multipartResolver() throws IOException {    \n    CommonsMultipartResolver multipartResolver = new CommonsMultipartResolver();\n    multipartResolver.setMaxUploadSize(appConstants.multipartUploadFileMaxSize);\n    multipartResolver.setMaxInMemorySize(appConstants.multipartUploadFileMaxSize);\n    multipartResolver.setMaxUploadSizePerFile(appConstants.multipartUploadFileMaxSize);\n    multipartResolver.setUploadTempDir(\n            new DefaultResourceLoader().getResource(String.format(&quot;file:%s&quot;, appConstants.fileTempPathUploads)));\n    multipartResolver.setDefaultEncoding(&quot;utf-8&quot;);\n    return multipartResolver;\n}\n</code></pre>\n"}],"owner":{"account_id":4377881,"reputation":499,"user_id":3570413,"accept_rate":14,"display_name":"herman shafiq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640241505,"creation_date":1640153733,"question_id":70444950,"body_markdown":"I&#39;m try to upload file along with some form inputs, I have created a Spring Boot POST Controller. Having @ModelAttribue as an input class, at application logging it is visible that in getting the byte stream at application level. Issue here is the @ModelAttribute is not setting those those in Java Pojo class. It&#39;s getting null. Below is my Controller Method and Request payload class and logs.\r\n\r\nWhat I&#39;m doing wrong here.\r\n\r\n    @PostMapping(value = &quot;/registration/file&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    @ResponseStatus(code = HttpStatus.OK)\r\n    public BaseResponse fileTest(@ModelAttribute(&quot;data&quot;) FileUpload fileUpload) {\r\n    \tlog.info(&quot;..........getEmail:{}&quot;, fileUpload.getEmail());\r\n    \tlog.info(&quot;..........getCrDoc:{}&quot;, fileUpload.getCrDoc());\r\n    \treturn new BaseResponse();\r\n    }\r\n\r\n    @Data\r\n    public class FileUpload {\r\n    \tprivate String email;\r\n    \r\n    \tprivate MultipartFile crDoc;\r\n    }\r\n\r\n**-- LOG&#39;s**\r\n\r\n    HttpLoggingFilter:96 | Request - [PATH INFO:/pvt/registration/file] [REQUEST PARAMETERS:{}] [REQUEST BODY:------WebKitFormBoundaryDn9gdoWJ3qb48OObContent-Disposition: form-data; name=&quot;email&quot;hello@abc.com------WebKitFormBoundaryDn9gdoWJ3qb48OObContent-Disposition: form-data; name=&quot;crDoc&quot;; filename=&quot;sample.png&quot;Content-Type: image/png�PNGIHDR\r\n    PrivateUserRegistrationController:61 | ..........getEmail:null\r\n    PrivateUserRegistrationController:62 | ..........getCrDoc:null\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFt8A.png","title":"Multipart Form Data Input Java Model Attribute is not injecting the element&#39;s in Request Class - Spring Boot","body":"<p>I'm try to upload file along with some form inputs, I have created a Spring Boot POST Controller. Having @ModelAttribue as an input class, at application logging it is visible that in getting the byte stream at application level. Issue here is the @ModelAttribute is not setting those those in Java Pojo class. It's getting null. Below is my Controller Method and Request payload class and logs.</p>\n<p>What I'm doing wrong here.</p>\n<pre><code>@PostMapping(value = &quot;/registration/file&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n@ResponseStatus(code = HttpStatus.OK)\npublic BaseResponse fileTest(@ModelAttribute(&quot;data&quot;) FileUpload fileUpload) {\n    log.info(&quot;..........getEmail:{}&quot;, fileUpload.getEmail());\n    log.info(&quot;..........getCrDoc:{}&quot;, fileUpload.getCrDoc());\n    return new BaseResponse();\n}\n\n@Data\npublic class FileUpload {\n    private String email;\n\n    private MultipartFile crDoc;\n}\n</code></pre>\n<p><strong>-- LOG's</strong></p>\n<pre><code>HttpLoggingFilter:96 | Request - [PATH INFO:/pvt/registration/file] [REQUEST PARAMETERS:{}] [REQUEST BODY:------WebKitFormBoundaryDn9gdoWJ3qb48OObContent-Disposition: form-data; name=&quot;email&quot;hello@abc.com------WebKitFormBoundaryDn9gdoWJ3qb48OObContent-Disposition: form-data; name=&quot;crDoc&quot;; filename=&quot;sample.png&quot;Content-Type: image/png�PNGIHDR\nPrivateUserRegistrationController:61 | ..........getEmail:null\nPrivateUserRegistrationController:62 | ..........getCrDoc:null\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rFt8A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFt8A.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio","button","searchview"],"answers":[{"tags":[],"owner":{"account_id":16083136,"reputation":1360,"user_id":12056368,"display_name":"Apps Maven"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640236395,"creation_date":1640236395,"answer_id":70457899,"question_id":70436527,"body_markdown":"In `String product=searchView.toString();` you are not fetching the value of searchview, you are fetching refrence of searchview and converting it to string using `toString()` which should not be done.\r\n\r\nTo get the contents of searchview you need to use `searchView.getQuery()` and then put the result in your  `intent.putExtra(&quot;product&quot;, searchView.getQuery());`","title":"Error when i click the button for move to the next page","body":"<p>In <code>String product=searchView.toString();</code> you are not fetching the value of searchview, you are fetching refrence of searchview and converting it to string using <code>toString()</code> which should not be done.</p>\n<p>To get the contents of searchview you need to use <code>searchView.getQuery()</code> and then put the result in your  <code>intent.putExtra(&quot;product&quot;, searchView.getQuery());</code></p>\n"},{"tags":[],"owner":{"account_id":14047997,"reputation":1359,"user_id":10147641,"display_name":"Mukund Jogi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640241346,"creation_date":1640241346,"answer_id":70458494,"question_id":70436527,"body_markdown":"```String product = searchView.toString();```\r\n\r\nthat provides you viewId for SearchView used.Instead to get text from searchView you need to use \r\n\r\n```\r\nString product = searchView.getQuery().toString();\r\n```","title":"Error when i click the button for move to the next page","body":"<p><code>String product = searchView.toString();</code></p>\n<p>that provides you viewId for SearchView used.Instead to get text from searchView you need to use</p>\n<pre><code>String product = searchView.getQuery().toString();\n</code></pre>\n"}],"owner":{"account_id":23227201,"reputation":57,"user_id":17318569,"display_name":"Ștefan Tătărucă"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70458494,"answer_count":2,"score":1,"last_activity_date":1640241346,"creation_date":1640094580,"question_id":70436527,"body_markdown":"When i click on button, this is happening: \r\n\r\n https://i.stack.imgur.com/PeAAG.png\r\n\r\n\r\nThe button is for getting the value from the searchView when the user fill it. And for open the next activity.\r\nonclick:\r\n```\r\n String state;\r\n SearchView searchView;\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_search);\r\nsearchView=(SearchView)findViewById(R.id.search_product);\r\n        Button get_product=findViewById(R.id.get_product);\r\n        get_product.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                String product=searchView.toString();\r\n                Intent intent = new Intent(SearchActivity.this, The_End.class);\r\n                intent.putExtra(&quot;product&quot;, product);\r\n                Toast.makeText(getApplicationContext(),product,Toast.LENGTH_SHORT).show();\r\n\r\n                startActivity(intent);\r\n\r\n            }\r\n\r\n        });\r\n        }\r\n```\r\n\r\nHere is my xml with button and searchView:\r\n```\r\n    &lt;SearchView\r\n        android:id=&quot;@+id/search_product&quot;\r\n        android:layout_width=&quot;249dp&quot;\r\n        android:layout_height=&quot;37dp&quot;\r\n        android:background=&quot;#CCCDFF&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.285&quot; /&gt;\r\n&lt;Button\r\n        android:id=&quot;@+id/get_product&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Next &quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.839&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/search_product&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.885&quot; /&gt;\r\n```","title":"Error when i click the button for move to the next page","body":"<p>When i click on button, this is happening:</p>\n<p><a href=\"https://i.stack.imgur.com/PeAAG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/PeAAG.png</a></p>\n<p>The button is for getting the value from the searchView when the user fill it. And for open the next activity.\nonclick:</p>\n<pre><code> String state;\n SearchView searchView;\nprotected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_search);\nsearchView=(SearchView)findViewById(R.id.search_product);\n        Button get_product=findViewById(R.id.get_product);\n        get_product.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                String product=searchView.toString();\n                Intent intent = new Intent(SearchActivity.this, The_End.class);\n                intent.putExtra(&quot;product&quot;, product);\n                Toast.makeText(getApplicationContext(),product,Toast.LENGTH_SHORT).show();\n\n                startActivity(intent);\n\n            }\n\n        });\n        }\n</code></pre>\n<p>Here is my xml with button and searchView:</p>\n<pre><code>    &lt;SearchView\n        android:id=&quot;@+id/search_product&quot;\n        android:layout_width=&quot;249dp&quot;\n        android:layout_height=&quot;37dp&quot;\n        android:background=&quot;#CCCDFF&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.285&quot; /&gt;\n&lt;Button\n        android:id=&quot;@+id/get_product&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Next &quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.839&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/search_product&quot;\n        app:layout_constraintVertical_bias=&quot;0.885&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rest","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1640212905,"post_id":70455742,"comment_id":124545037,"body_markdown":"This might be to do with the generation strategy of the ID as used by the database. You might want to look at what it is set as in your database and change the strategy in `@GeneratedValue()`","body":"This might be to do with the generation strategy of the ID as used by the database. You might want to look at what it is set as in your database and change the strategy in <code>@GeneratedValue()</code>"},{"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"score":0,"creation_date":1640218095,"post_id":70455742,"comment_id":124546011,"body_markdown":"&quot;Of course I understand that the problem is that since I have records already created, Spring tries to create a new user, but it does not &quot;know&quot; that it has to start from PK 500 for example.&quot; I don&#39;t think this is the problem. hibernate will automatically pick a generating strategy. If you want hibernate to continue from an existing sequence you may want to explicitly tell it to do so check _Example 142_ here https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html","body":"&quot;Of course I understand that the problem is that since I have records already created, Spring tries to create a new user, but it does not &quot;know&quot; that it has to start from PK 500 for example.&quot; I don&#39;t think this is the problem. hibernate will automatically pick a generating strategy. If you want hibernate to continue from an existing sequence you may want to explicitly tell it to do so check <i>Example 142</i> here <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/5.6/userguide/html_single/&hellip;</a>"},{"owner":{"account_id":23143990,"reputation":1,"user_id":17247000,"display_name":"William Andres Tovar Riobo"},"score":0,"creation_date":1640240671,"post_id":70455742,"comment_id":124549299,"body_markdown":"TNKS Abdullah, the example helped me understand what was happening.\n\nBy using the &quot;strategy = GenerationType.AUTO&quot; Hibernate creates in my Oracle database a sequence called Hibernate_Sequence, which is what defines what the value of the &quot;idUsers&quot; will be, I decided, as in the example, to create my own sequence so that it takes the count from the value that I decide.\n\nI leave here the code of the solution, thank you very much everyone for your contributions &lt;3 &lt;3 &lt;3","body":"TNKS Abdullah, the example helped me understand what was happening.  By using the &quot;strategy = GenerationType.AUTO&quot; Hibernate creates in my Oracle database a sequence called Hibernate_Sequence, which is what defines what the value of the &quot;idUsers&quot; will be, I decided, as in the example, to create my own sequence so that it takes the count from the value that I decide.  I leave here the code of the solution, thank you very much everyone for your contributions &lt;3 &lt;3 &lt;3"},{"owner":{"account_id":23143990,"reputation":1,"user_id":17247000,"display_name":"William Andres Tovar Riobo"},"score":0,"creation_date":1640240731,"post_id":70455742,"comment_id":124549311,"body_markdown":"The code: \n\n\n```\n@Id\n    @Column(name = &quot;IDUSERS&quot;)\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;sequence-generator&quot;\n    )\n    @SequenceGenerator(\n            name = &quot;sequence-generator&quot;,\n            sequenceName = &quot;SEC_IDUSER&quot;,\n            initialValue = 501,\n            allocationSize=1\n    )\n    private Long idUser;\n```","body":"The code:    ``` @Id     @Column(name = &quot;IDUSERS&quot;)     @GeneratedValue(             strategy = GenerationType.SEQUENCE,             generator = &quot;sequence-generator&quot;     )     @SequenceGenerator(             name = &quot;sequence-generator&quot;,             sequenceName = &quot;SEC_IDUSER&quot;,             initialValue = 501,             allocationSize=1     )     private Long idUser; ```"}],"answers":[{"tags":[],"owner":{"account_id":4963090,"reputation":3,"user_id":3993481,"display_name":"DTT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640227512,"creation_date":1640227512,"answer_id":70457164,"question_id":70455742,"body_markdown":"This look like  field idUser is null.\r\none way to make sure is that you set the Use.idUser to some value before insert to see if the problem happen again  or not ","title":"Make a POST with JPA with existing data","body":"<p>This look like  field idUser is null.\none way to make sure is that you set the Use.idUser to some value before insert to see if the problem happen again  or not</p>\n"},{"tags":[],"owner":{"account_id":23143990,"reputation":1,"user_id":17247000,"display_name":"William Andres Tovar Riobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640240902,"creation_date":1640240902,"answer_id":70458427,"question_id":70455742,"body_markdown":"The problem was that when using the &quot;*strategy = GenerationType.AUTO*&quot; Hibernate creates in my Oracle database a sequence called Hibernate_Sequence, which is what defines what the value of the &quot;idUsers&quot; will be, I decided as in the example, create your own sequence to take the count from the value that I decide.\r\n\r\n    @Id\r\n    @Column(name = &quot;IDUSERS&quot;)\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;sequence-generator&quot;\r\n    )\r\n    @SequenceGenerator(\r\n            name = &quot;sequence-generator&quot;,\r\n            sequenceName = &quot;SEC_IDUSER&quot;,\r\n            initialValue = 501,\r\n            allocationSize=1\r\n    )\r\n    private Long idUser;\r\n    \r\nThis is how the code of my entity would look, and now if it already allows me to save new users. &lt;3 &lt;3 &lt;3 &lt;3 Thank you all very much.","title":"Make a POST with JPA with existing data","body":"<p>The problem was that when using the &quot;<em>strategy = GenerationType.AUTO</em>&quot; Hibernate creates in my Oracle database a sequence called Hibernate_Sequence, which is what defines what the value of the &quot;idUsers&quot; will be, I decided as in the example, create your own sequence to take the count from the value that I decide.</p>\n<pre><code>@Id\n@Column(name = &quot;IDUSERS&quot;)\n@GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;sequence-generator&quot;\n)\n@SequenceGenerator(\n        name = &quot;sequence-generator&quot;,\n        sequenceName = &quot;SEC_IDUSER&quot;,\n        initialValue = 501,\n        allocationSize=1\n)\nprivate Long idUser;\n</code></pre>\n<p>This is how the code of my entity would look, and now if it already allows me to save new users. &lt;3 &lt;3 &lt;3 &lt;3 Thank you all very much.</p>\n"}],"owner":{"account_id":23143990,"reputation":1,"user_id":17247000,"display_name":"William Andres Tovar Riobo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70458427,"answer_count":2,"score":0,"last_activity_date":1640240902,"creation_date":1640211789,"question_id":70455742,"body_markdown":"I have the following problem, the thing is that I have an entity:\r\n\r\n\r\n    package com.innovart.cpve.user.persistence.entity;\r\n\r\n    import lombok.Data;\r\n\r\n    import javax.persistence.*;\r\n    import java.time.LocalDateTime;\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;CPVE_USERS&quot;)\r\n    public class User {\r\n\r\n    @Id\r\n    @Column(name = &quot;IDUSERS&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long idUser;\r\n\r\n    @Column(name = &quot;IDROLES&quot;)\r\n    private Long idRol;\r\n\r\n    @Column(name = &quot;USERNAME&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;EMAIL&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;PHONE&quot;)\r\n    private String phone;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;LAST_NAME&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;PASSWORD&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;COUNTRY&quot;)\r\n    private String country;\r\n\r\n    @Column(name = &quot;CITY&quot;)\r\n    private String city;\r\n\r\n    @Column(name = &quot;GRANTS&quot;)\r\n    private String grant;\r\n\r\n    @Column(name = &quot;STATE_ACTIVE&quot;)\r\n    private Integer stateActive;\r\n\r\n    @Column(name = &quot;REGISTRATION_DATE&quot;)\r\n    private LocalDateTime registrationDate;\r\n\r\n    }\r\n\r\nThe thing is that this back is connected to an Oracle DB, in which I already have a few registered users, but these are entered through a Mockaroo script, and when I try to save a new user through a service Rest throws me this error:\r\n\r\n   \r\n\r\n    2021-12-22 11:03:53.156 ERROR 23148 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[. \r\n    [dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context \r\n    with path [/api] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    \r\n    oracle.jdbc.OracleDatabaseException: ORA-01400: cannot insert NULL into (&quot;CPVE&quot;.&quot;CPVE_USERS&quot;.&quot;IDUSERS&quot;)\r\n\r\nOf course I understand that the problem is that since I have records already created, Spring tries to create a new user, but it does not &quot;know&quot; that it has to start from PK 500 for example.\r\n\r\nCould it be that there is some way that Spring automatically knows the data of where the PK of users goes and continues it?","title":"Make a POST with JPA with existing data","body":"<p>I have the following problem, the thing is that I have an entity:</p>\n<pre><code>package com.innovart.cpve.user.persistence.entity;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Data\n@Table(name = &quot;CPVE_USERS&quot;)\npublic class User {\n\n@Id\n@Column(name = &quot;IDUSERS&quot;)\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long idUser;\n\n@Column(name = &quot;IDROLES&quot;)\nprivate Long idRol;\n\n@Column(name = &quot;USERNAME&quot;)\nprivate String username;\n\n@Column(name = &quot;EMAIL&quot;)\nprivate String email;\n\n@Column(name = &quot;PHONE&quot;)\nprivate String phone;\n\n@Column(name = &quot;NAME&quot;)\nprivate String name;\n\n@Column(name = &quot;LAST_NAME&quot;)\nprivate String lastName;\n\n@Column(name = &quot;PASSWORD&quot;)\nprivate String password;\n\n@Column(name = &quot;COUNTRY&quot;)\nprivate String country;\n\n@Column(name = &quot;CITY&quot;)\nprivate String city;\n\n@Column(name = &quot;GRANTS&quot;)\nprivate String grant;\n\n@Column(name = &quot;STATE_ACTIVE&quot;)\nprivate Integer stateActive;\n\n@Column(name = &quot;REGISTRATION_DATE&quot;)\nprivate LocalDateTime registrationDate;\n\n}\n</code></pre>\n<p>The thing is that this back is connected to an Oracle DB, in which I already have a few registered users, but these are entered through a Mockaroo script, and when I try to save a new user through a service Rest throws me this error:</p>\n<pre><code>2021-12-22 11:03:53.156 ERROR 23148 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[. \n[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context \nwith path [/api] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\noracle.jdbc.OracleDatabaseException: ORA-01400: cannot insert NULL into (&quot;CPVE&quot;.&quot;CPVE_USERS&quot;.&quot;IDUSERS&quot;)\n</code></pre>\n<p>Of course I understand that the problem is that since I have records already created, Spring tries to create a new user, but it does not &quot;know&quot; that it has to start from PK 500 for example.</p>\n<p>Could it be that there is some way that Spring automatically knows the data of where the PK of users goes and continues it?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640096971,"creation_date":1640096971,"answer_id":70437068,"question_id":70436997,"body_markdown":"You can just paste the code in Android Studio and it will suggest to you to convert it to Kotlin code\r\n\r\nThe same code in Kotlin will be like this\r\n\r\n```kotlin\r\nval menu = findViewById&lt;CircleMenuView&gt;(R.id.circle_menu)\r\nmenu.setEventListener(object : CircleMenuView.EventListener {\r\n    override fun onMenuOpenAnimationStart(view : CircleMenuView) {\r\n        Log.d(&quot;D&quot;, &quot;onMenuOpenAnimationStart&quot;);\r\n    }\r\n})\r\n```","title":"How do I set a Java library&#39;s custom event listener in Kotlin?","body":"<p>You can just paste the code in Android Studio and it will suggest to you to convert it to Kotlin code</p>\n<p>The same code in Kotlin will be like this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val menu = findViewById&lt;CircleMenuView&gt;(R.id.circle_menu)\nmenu.setEventListener(object : CircleMenuView.EventListener {\n    override fun onMenuOpenAnimationStart(view : CircleMenuView) {\n        Log.d(&quot;D&quot;, &quot;onMenuOpenAnimationStart&quot;);\n    }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3195669,"reputation":31,"user_id":2698893,"display_name":"Vineed Gangadharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640240356,"creation_date":1640240356,"answer_id":70458352,"question_id":70436997,"body_markdown":"You could also try something like this\r\n\r\n        val menu = findViewById&lt;CircleMenuView&gt;(R.id.circle_menu)\r\n        menu.setEventListener{view-&gt;\r\n           //Listener code goes here\r\n        }","title":"How do I set a Java library&#39;s custom event listener in Kotlin?","body":"<p>You could also try something like this</p>\n<pre><code>    val menu = findViewById&lt;CircleMenuView&gt;(R.id.circle_menu)\n    menu.setEventListener{view-&gt;\n       //Listener code goes here\n    }\n</code></pre>\n"}],"owner":{"account_id":13790140,"reputation":385,"user_id":9952852,"display_name":"primix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70437068,"answer_count":2,"score":1,"last_activity_date":1640240356,"creation_date":1640096648,"question_id":70436997,"body_markdown":"I have been working on an Android project in Kotlin and would like to use this UI library. However, it&#39;s written in Java (and so is the documentation), and I&#39;m not sure how to implement the event listener for the buttons. This is how it&#39;s supposed to be done in Java:   \r\n\r\n```java\r\nfinal CircleMenuView menu = (CircleMenuView) findViewById(R.id.circle_menu);\r\nmenu.setEventListener(new CircleMenuView.EventListener() {\r\n    @Override\r\n    public void onMenuOpenAnimationStart(@NonNull CircleMenuView view) {\r\n        Log.d(&quot;D&quot;, &quot;onMenuOpenAnimationStart&quot;);\r\n    }\r\n}\r\n```\r\n\r\nDoes anyone know how I could do the same in Kotlin? Thanks","title":"How do I set a Java library&#39;s custom event listener in Kotlin?","body":"<p>I have been working on an Android project in Kotlin and would like to use this UI library. However, it's written in Java (and so is the documentation), and I'm not sure how to implement the event listener for the buttons. This is how it's supposed to be done in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final CircleMenuView menu = (CircleMenuView) findViewById(R.id.circle_menu);\nmenu.setEventListener(new CircleMenuView.EventListener() {\n    @Override\n    public void onMenuOpenAnimationStart(@NonNull CircleMenuView view) {\n        Log.d(&quot;D&quot;, &quot;onMenuOpenAnimationStart&quot;);\n    }\n}\n</code></pre>\n<p>Does anyone know how I could do the same in Kotlin? Thanks</p>\n"},{"tags":["java","xml","xsd"],"comments":[{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":0,"creation_date":1640245303,"post_id":70458325,"comment_id":124550405,"body_markdown":"Can not see any XSD. What XSD you are talking about?","body":"Can not see any XSD. What XSD you are talking about?"},{"owner":{"account_id":20077754,"reputation":41,"user_id":17125737,"display_name":"Rohit Dubey"},"score":0,"creation_date":1640251567,"post_id":70458325,"comment_id":124552190,"body_markdown":"Can you let me know how to create an XSD from the above so that I can pass a string value to the Minor13 element ?","body":"Can you let me know how to create an XSD from the above so that I can pass a string value to the Minor13 element ?"},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":0,"creation_date":1640252787,"post_id":70458325,"comment_id":124552568,"body_markdown":"Can not see how this will help you. If you have a SOAP API, which validates your XML data based on an XML schema definition (XSD), then the XSD exists already and you have to extend it.","body":"Can not see how this will help you. If you have a SOAP API, which validates your XML data based on an XML schema definition (XSD), then the XSD exists already and you have to extend it."}],"owner":{"account_id":20077754,"reputation":41,"user_id":17125737,"display_name":"Rohit Dubey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640240154,"creation_date":1640240154,"question_id":70458325,"body_markdown":"I am working on a project which needs to pass request to the API in the xsd format. I just need to add an additional parameter as xsd to successfully pass the modified parameter in request. I am new to xsd so I searched over internet for the changes that I need to make.\r\n```\r\n&lt;v1:Major&gt;\r\n\t&lt;v1:Minor11&gt;\r\n\t\t&lt;v1:Minor111&gt;123456&lt;/v1:Minor111&gt;\r\n\t\t&lt;v1:Minor112&gt;abcd&lt;/v1:Minor112&gt;\r\n\t&lt;/v1:Minor11&gt;\r\n\t&lt;v1:Minor12&gt;\r\n\t\t&lt;v1:Minor121&gt;123456&lt;/v1:Minor121&gt;\r\n\t\t&lt;v1:Minor122&gt;12345&lt;/v1:Minor122&gt;\r\n\t\t&lt;v1:Minor123&gt;123456&lt;/v1:Minor123&gt;\r\n\t\t&lt;v1:Minor124&gt;123456&lt;/v1:Minor124&gt;\r\n\t\t&lt;v1:Minor125&gt;abcdef&lt;/v1:Minor125&gt;\r\n\t&lt;/v1:Minor12&gt;\r\n\t***&lt;v1:Minor13&gt;abcdef123&lt;/v1:Minor13&gt;*** {I need to add this}\r\n\t&lt;v1:Minor14&gt;\r\n\t\t&lt;v1:ChargeTotal&gt;15&lt;/v1:ChargeTotal&gt;\r\n\t\t&lt;v1:Currency&gt;INR&lt;/v1:Currency&gt;\r\n\t&lt;/v1:Minor14&gt;\r\n&lt;/v1:Major&gt;\r\n```\r\nI simply added \r\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;Minor13&quot; type=&quot;v1:String1024max&quot;/&gt;\r\nI found this from somewhere. This gives me soap request exception . Also in java it creates an auto generated file by the class name Minor13.java with empty class. I want that this class be created so that I can a string input to this element and add that Minor13 to the Major element via java. I have the code in place but just need to do this bit. Can someone help ?","title":"Create xsd format to have auto-generated class in java","body":"<p>I am working on a project which needs to pass request to the API in the xsd format. I just need to add an additional parameter as xsd to successfully pass the modified parameter in request. I am new to xsd so I searched over internet for the changes that I need to make.</p>\n<pre><code>&lt;v1:Major&gt;\n    &lt;v1:Minor11&gt;\n        &lt;v1:Minor111&gt;123456&lt;/v1:Minor111&gt;\n        &lt;v1:Minor112&gt;abcd&lt;/v1:Minor112&gt;\n    &lt;/v1:Minor11&gt;\n    &lt;v1:Minor12&gt;\n        &lt;v1:Minor121&gt;123456&lt;/v1:Minor121&gt;\n        &lt;v1:Minor122&gt;12345&lt;/v1:Minor122&gt;\n        &lt;v1:Minor123&gt;123456&lt;/v1:Minor123&gt;\n        &lt;v1:Minor124&gt;123456&lt;/v1:Minor124&gt;\n        &lt;v1:Minor125&gt;abcdef&lt;/v1:Minor125&gt;\n    &lt;/v1:Minor12&gt;\n    ***&lt;v1:Minor13&gt;abcdef123&lt;/v1:Minor13&gt;*** {I need to add this}\n    &lt;v1:Minor14&gt;\n        &lt;v1:ChargeTotal&gt;15&lt;/v1:ChargeTotal&gt;\n        &lt;v1:Currency&gt;INR&lt;/v1:Currency&gt;\n    &lt;/v1:Minor14&gt;\n&lt;/v1:Major&gt;\n</code></pre>\n<p>I simply added\n&lt;xs:element minOccurs=&quot;0&quot; name=&quot;Minor13&quot; type=&quot;v1:String1024max&quot;/&gt;\nI found this from somewhere. This gives me soap request exception . Also in java it creates an auto generated file by the class name Minor13.java with empty class. I want that this class be created so that I can a string input to this element and add that Minor13 to the Major element via java. I have the code in place but just need to do this bit. Can someone help ?</p>\n"},{"tags":["java","hibernate","search","wildcard"],"answers":[{"tags":[],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640239874,"creation_date":1640092959,"answer_id":70436178,"question_id":70436177,"body_markdown":"..it worked\r\n\r\n```\r\n    public List&lt;Object&gt; listFormSubmissionsBySearch(String searchedString) throws InterruptedException {\r\n\r\n        Session session = sessionFactory.openSession();\r\n        EntityManager entityManager = session.getEntityManagerFactory().createEntityManager();\r\n\r\n        FullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\r\n        fullTextEntityManager.createIndexer().startAndWait();\r\n\r\n        QueryBuilder queryBuilder = fullTextEntityManager.getSearchFactory().buildQueryBuilder().forEntity(FormSubmission.class).get();\r\n\r\n        org.apache.lucene.search.Query wildcardQuery = queryBuilder\r\n                .keyword()\r\n                .wildcard()\r\n                .onField(&quot;data&quot;) // name of the field in database\r\n                .matching(searchedString)\r\n                .createQuery();\r\n\r\n        List&lt;Object&gt; results = (List&lt;Object&gt;) fullTextEntityManager\r\n                .createFullTextQuery(wildcardQuery, FormSubmission.class)\r\n                .setProjection(ProjectionConstants.THIS, ProjectionConstants.SCORE)\r\n                .getResultList();\r\n\r\n// List&lt;Object&gt; flowSubmissions = fullTextEntityManager.createFullTextQuery(wildcardQuery, FlowSubmission.class).getResultList();\r\n\r\n\r\n        return results;\r\n    }","title":"How to use Hibernate Search with a wildcard query and output the result object list","body":"<p>..it worked</p>\n<pre><code>    public List&lt;Object&gt; listFormSubmissionsBySearch(String searchedString) throws InterruptedException {\n\n        Session session = sessionFactory.openSession();\n        EntityManager entityManager = session.getEntityManagerFactory().createEntityManager();\n\n        FullTextEntityManager fullTextEntityManager = Search.getFullTextEntityManager(entityManager);\n        fullTextEntityManager.createIndexer().startAndWait();\n\n        QueryBuilder queryBuilder = fullTextEntityManager.getSearchFactory().buildQueryBuilder().forEntity(FormSubmission.class).get();\n\n        org.apache.lucene.search.Query wildcardQuery = queryBuilder\n                .keyword()\n                .wildcard()\n                .onField(&quot;data&quot;) // name of the field in database\n                .matching(searchedString)\n                .createQuery();\n\n        List&lt;Object&gt; results = (List&lt;Object&gt;) fullTextEntityManager\n                .createFullTextQuery(wildcardQuery, FormSubmission.class)\n                .setProjection(ProjectionConstants.THIS, ProjectionConstants.SCORE)\n                .getResultList();\n\n// List&lt;Object&gt; flowSubmissions = fullTextEntityManager.createFullTextQuery(wildcardQuery, FlowSubmission.class).getResultList();\n\n\n        return results;\n    }\n</code></pre>\n"}],"owner":{"account_id":18281346,"reputation":320,"user_id":13310114,"display_name":"Doyel Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70436178,"answer_count":1,"score":0,"last_activity_date":1640239874,"creation_date":1640092959,"question_id":70436177,"body_markdown":"I want to search for a string in XML data in MySQL database using hibernate search and print the result list of data that contains the string.","title":"How to use Hibernate Search with a wildcard query and output the result object list","body":"<p>I want to search for a string in XML data in MySQL database using hibernate search and print the result list of data that contains the string.</p>\n"},{"tags":["java","mysql","tomcat","jdbc","connection-pooling"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1639563736,"post_id":70361425,"comment_id":124378636,"body_markdown":"Are you sure you are using Tomcat JDBC? Without using a `factory` attribute, Tomcat&#39;s default is to use a repackaged version of DBCP2.","body":"Are you sure you are using Tomcat JDBC? Without using a <code>factory</code> attribute, Tomcat&#39;s default is to use a repackaged version of DBCP2."},{"owner":{"account_id":2918128,"reputation":1303,"user_id":2500927,"accept_rate":30,"display_name":"Avyaan"},"score":0,"creation_date":1639564249,"post_id":70361425,"comment_id":124378840,"body_markdown":"thanks. factory missed while typing.","body":"thanks. factory missed while typing."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1640239940,"post_id":70361425,"comment_id":124549151,"body_markdown":"&quot;multiple locations&quot; -- Are you saying that the clients are on many machines but MySQL is on a single server?  How many?","body":"&quot;multiple locations&quot; -- Are you saying that the clients are on many machines but MySQL is on a single server?  How many?"},{"owner":{"account_id":2918128,"reputation":1303,"user_id":2500927,"accept_rate":30,"display_name":"Avyaan"},"score":0,"creation_date":1640343118,"post_id":70361425,"comment_id":124573437,"body_markdown":"@RickJames no Mysql also on same server. every application instance has its own DB.","body":"@RickJames no Mysql also on same server. every application instance has its own DB."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639954879,"creation_date":1639924242,"answer_id":70412320,"question_id":70361425,"body_markdown":"You could try using standard JMX for this purpose.\r\n\r\nAs you can see in the [documentation](https://tomcat.apache.org/tomcat-8.0-doc/jdbc-pool.html#JMX), Tomcat can expose the connection pool as a [MBean object](https://github.com/apache/tomcat/blob/main/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPoolMBean.java) you can interact with using tools like JConsole, for instance.\r\n\r\nThe [the MBean implementation](https://github.com/apache/tomcat/blob/main/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java) basically delegates to the actual [org.apache.tomcat.jdbc.pool.ConnectionPool](https://github.com/apache/tomcat/blob/main/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java)  the different operations that can be performed through the MBean interface and, AFAIK, `ConnectionPool` dynamically [allocates connections](https://github.com/apache/tomcat/blob/d312165d13445972b276ec5d696f249cbc1b2f58/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java#L663-L752) based on current configuration. \r\n\r\n-------\r\n\r\n__ORIGINAL ANSWER BASED ON CONFIGURATION AND NOT RUNTIME BEHAVIOR__\r\n\r\nPlease, consider review [this related SO question](https://stackoverflow.com/questions/44761831/tomcat-8-context-xml-use-environment-variable-in-datasource) and the [self provided answer](https://stackoverflow.com/a/49492702/13942448), I think it could be helpful.\r\n\r\nTomcat substitutes system provided environment variables in its [configuration files](https://tomcat.apache.org/tomcat-9.0-doc/config/index.html):\r\n\r\n&gt; Tomcat configuration files are formatted as schemaless XML; elements and \r\n&gt; attributes are case-sensitive. Apache Ant-style variable substitution is \r\n&gt; supported; a system property with the name `propname` may be used in a \r\n&gt; configuration file using the syntax ${propname}. All system properties are \r\n&gt; available including those set using the `-D` syntax, those automatically \r\n&gt; made available by the JVM and those configured in the \r\n&gt; `$CATALINA_BASE/conf/catalina.properties` file.\r\n\r\nAs indicated, the best way you could include the properties you need to dynamically being substituted by Tomcat is passing them as system properties using the `-D` option and probably in the `JAVA_OPTS` environment variable.\r\n\r\nAs indicated in the afore mentioned question, and advised as well in `catalina.sh`:\r\n\r\n```\r\n# Environment Variable Prerequisites\r\n#\r\n#   Do not set the variables in this script. Instead put them into a script\r\n#   setenv.sh in CATALINA_BASE/bin to keep your customizations separate.\r\n#\r\n```\r\n\r\ndefine them, for example, in a `setenv.sh` file located in the `$CATALINA_BASE/bin` directory.\r\n\r\nFor example:\r\n\r\n```sh\r\n#! /bin/sh\r\n\r\nexport MAX_ACTIVE_CONNECTIONS=20\r\n\r\nexport JAVA_OPTS=&quot;$JAVA_OPTS -DmaxActiveConnections=$MAX_ACTIVE_CONNECTIONS&quot;\r\n```\r\n\r\nAnd use these properties in your XML configuration files:\r\n\r\n```xml\r\n&lt;Context path=&quot;/abc&quot;\r\n         docBase=&quot;abc&quot;\r\n         debug=&quot;5&quot;\r\n         reloadable=&quot;false&quot;\r\n         crossContext=&quot;true&quot;&gt;\r\n    &lt;Resource name=&quot;jdbc/abc&quot;\r\n              auth=&quot;Container&quot;\r\n              type=&quot;javax.sql.DataSource&quot;\r\n              factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n              driverClassName=&quot;xxxxx&quot;\r\n              url=&quot;xxxxxxx&quot;\r\n              username=&quot;xxxxx&quot; password=&quot;xxxxxx&quot;\r\n              maxActive=&quot;${maxActiveConnections}&quot;\r\n              initialSize=&quot;0&quot;\r\n              ...\r\n    /&gt;\r\n&lt;/Context&gt;\r\n```","title":"Modifying a JNDI connection pool programmaticaly","body":"<p>You could try using standard JMX for this purpose.</p>\n<p>As you can see in the <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/jdbc-pool.html#JMX\" rel=\"nofollow noreferrer\">documentation</a>, Tomcat can expose the connection pool as a <a href=\"https://github.com/apache/tomcat/blob/main/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPoolMBean.java\" rel=\"nofollow noreferrer\">MBean object</a> you can interact with using tools like JConsole, for instance.</p>\n<p>The <a href=\"https://github.com/apache/tomcat/blob/main/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/jmx/ConnectionPool.java\" rel=\"nofollow noreferrer\">the MBean implementation</a> basically delegates to the actual <a href=\"https://github.com/apache/tomcat/blob/main/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java\" rel=\"nofollow noreferrer\">org.apache.tomcat.jdbc.pool.ConnectionPool</a>  the different operations that can be performed through the MBean interface and, AFAIK, <code>ConnectionPool</code> dynamically <a href=\"https://github.com/apache/tomcat/blob/d312165d13445972b276ec5d696f249cbc1b2f58/modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java#L663-L752\" rel=\"nofollow noreferrer\">allocates connections</a> based on current configuration.</p>\n<hr />\n<p><strong>ORIGINAL ANSWER BASED ON CONFIGURATION AND NOT RUNTIME BEHAVIOR</strong></p>\n<p>Please, consider review <a href=\"https://stackoverflow.com/questions/44761831/tomcat-8-context-xml-use-environment-variable-in-datasource\">this related SO question</a> and the <a href=\"https://stackoverflow.com/a/49492702/13942448\">self provided answer</a>, I think it could be helpful.</p>\n<p>Tomcat substitutes system provided environment variables in its <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/index.html\" rel=\"nofollow noreferrer\">configuration files</a>:</p>\n<blockquote>\n<p>Tomcat configuration files are formatted as schemaless XML; elements and\nattributes are case-sensitive. Apache Ant-style variable substitution is\nsupported; a system property with the name <code>propname</code> may be used in a\nconfiguration file using the syntax ${propname}. All system properties are\navailable including those set using the <code>-D</code> syntax, those automatically\nmade available by the JVM and those configured in the\n<code>$CATALINA_BASE/conf/catalina.properties</code> file.</p>\n</blockquote>\n<p>As indicated, the best way you could include the properties you need to dynamically being substituted by Tomcat is passing them as system properties using the <code>-D</code> option and probably in the <code>JAVA_OPTS</code> environment variable.</p>\n<p>As indicated in the afore mentioned question, and advised as well in <code>catalina.sh</code>:</p>\n<pre><code># Environment Variable Prerequisites\n#\n#   Do not set the variables in this script. Instead put them into a script\n#   setenv.sh in CATALINA_BASE/bin to keep your customizations separate.\n#\n</code></pre>\n<p>define them, for example, in a <code>setenv.sh</code> file located in the <code>$CATALINA_BASE/bin</code> directory.</p>\n<p>For example:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#! /bin/sh\n\nexport MAX_ACTIVE_CONNECTIONS=20\n\nexport JAVA_OPTS=&quot;$JAVA_OPTS -DmaxActiveConnections=$MAX_ACTIVE_CONNECTIONS&quot;\n</code></pre>\n<p>And use these properties in your XML configuration files:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Context path=&quot;/abc&quot;\n         docBase=&quot;abc&quot;\n         debug=&quot;5&quot;\n         reloadable=&quot;false&quot;\n         crossContext=&quot;true&quot;&gt;\n    &lt;Resource name=&quot;jdbc/abc&quot;\n              auth=&quot;Container&quot;\n              type=&quot;javax.sql.DataSource&quot;\n              factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\n              driverClassName=&quot;xxxxx&quot;\n              url=&quot;xxxxxxx&quot;\n              username=&quot;xxxxx&quot; password=&quot;xxxxxx&quot;\n              maxActive=&quot;${maxActiveConnections}&quot;\n              initialSize=&quot;0&quot;\n              ...\n    /&gt;\n&lt;/Context&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639942979,"creation_date":1639942979,"answer_id":70414770,"question_id":70361425,"body_markdown":"There is nothing special about a datasource created through JNDI: if you know its class (`org.apache.tomcat.jdbc.pool.DataSource` in your case), you can cast to that class and use the available setters to configure it:\r\n\r\n```lang-java\r\n\tprivate void customizeDataSource(final DataSource ds) {\r\n\t    if (ds instanceof PoolConfiguration) {\r\n\t        final PoolConfiguration poolConfig = (PoolConfiguration) ds;\r\n\t        poolConfig.setMaxActive(10);\r\n\t    }\r\n\t}\r\n```\r\n\r\n(see the definition of [`PoolConfiguration`](https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/tomcat/jdbc/pool/PoolConfiguration.html)). Implementations of `javax.sql.DataSource` also implement a very useful interface [`Wrapper`](https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Wrapper.html), which may come handy if your code wraps the Tomcat JDBC datasource in something else:\r\n\r\n```lang-java\r\n\tprivate void customizeDataSource(final DataSource ds) throws SQLException {\r\n\t    if (ds.isWrapperFor(PoolConfiguration.class)) {\r\n\t        final PoolConfiguration poolConfig = ds.unwrap(PoolConfiguration.class);\r\n\t        poolConfig.setMaxActive(10);\r\n\t    }\r\n\t}\r\n```\r\n\r\nThere are however some problems that can arise from the programmatic approach above:\r\n\r\n - if you bundle `tomcat-jdbc.jar` with your application, only JNDI resources configured in your `context.xml` will be recognized by your code. Those in [GlobalNamingResources](https://tomcat.apache.org/tomcat-9.0-doc/config/globalresources.html) will use the copy of `org.apache.tomcat.jdbc.pool.DataSource` bundled with Tomcat and will not match the `instanceof` condition.\r\n - if, on the other hand, you don&#39;t include `tomcat-jdbc.jar` into your WAR file, you must make sure that the parameters you set are supported by all versions of Tomcat on which your application will run.","title":"Modifying a JNDI connection pool programmaticaly","body":"<p>There is nothing special about a datasource created through JNDI: if you know its class (<code>org.apache.tomcat.jdbc.pool.DataSource</code> in your case), you can cast to that class and use the available setters to configure it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void customizeDataSource(final DataSource ds) {\n        if (ds instanceof PoolConfiguration) {\n            final PoolConfiguration poolConfig = (PoolConfiguration) ds;\n            poolConfig.setMaxActive(10);\n        }\n    }\n</code></pre>\n<p>(see the definition of <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/tomcat/jdbc/pool/PoolConfiguration.html\" rel=\"nofollow noreferrer\"><code>PoolConfiguration</code></a>). Implementations of <code>javax.sql.DataSource</code> also implement a very useful interface <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/Wrapper.html\" rel=\"nofollow noreferrer\"><code>Wrapper</code></a>, which may come handy if your code wraps the Tomcat JDBC datasource in something else:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void customizeDataSource(final DataSource ds) throws SQLException {\n        if (ds.isWrapperFor(PoolConfiguration.class)) {\n            final PoolConfiguration poolConfig = ds.unwrap(PoolConfiguration.class);\n            poolConfig.setMaxActive(10);\n        }\n    }\n</code></pre>\n<p>There are however some problems that can arise from the programmatic approach above:</p>\n<ul>\n<li>if you bundle <code>tomcat-jdbc.jar</code> with your application, only JNDI resources configured in your <code>context.xml</code> will be recognized by your code. Those in <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/globalresources.html\" rel=\"nofollow noreferrer\">GlobalNamingResources</a> will use the copy of <code>org.apache.tomcat.jdbc.pool.DataSource</code> bundled with Tomcat and will not match the <code>instanceof</code> condition.</li>\n<li>if, on the other hand, you don't include <code>tomcat-jdbc.jar</code> into your WAR file, you must make sure that the parameters you set are supported by all versions of Tomcat on which your application will run.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640239873,"creation_date":1640239873,"answer_id":70458283,"question_id":70361425,"body_markdown":"MySQL connects rapidly, thereby making connection pooling of limited use.\r\n\r\nUsually, if there is a performance problem it is better handled by other techniques -- composite indexes, reformulating queries, working around optimization limitations of MySQL, etc.\r\n\r\nWould you care to back up a step and let&#39;s analyze the bottlenecks?","title":"Modifying a JNDI connection pool programmaticaly","body":"<p>MySQL connects rapidly, thereby making connection pooling of limited use.</p>\n<p>Usually, if there is a performance problem it is better handled by other techniques -- composite indexes, reformulating queries, working around optimization limitations of MySQL, etc.</p>\n<p>Would you care to back up a step and let's analyze the bottlenecks?</p>\n"}],"owner":{"account_id":2918128,"reputation":1303,"user_id":2500927,"accept_rate":30,"display_name":"Avyaan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1640239873,"creation_date":1639561311,"question_id":70361425,"body_markdown":"I am using Apache Tomcat JDBC connection pool library in my project and configured the context.xml file accordingly. My application instance needs to run at multiple locations, but load on the application will be different, so I want to modify the maxActive size and some other property based on the customer size at particular instance at runtime.\r\n\r\n\r\n  \r\n\r\n      &lt;Context path=&quot;/abc&quot;\r\n                 docBase=&quot;abc&quot;\r\n                 debug=&quot;5&quot;\r\n                 reloadable=&quot;false&quot;\r\n                 crossContext=&quot;true&quot;&gt;\r\n           &lt;Resource name=&quot;jdbc/abc&quot;\r\n              auth=&quot;Container&quot;\r\n              type=&quot;javax.sql.DataSource&quot;\r\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n              driverClassName=&quot;xxxxx&quot;\r\n              url=&quot;xxxxxxx&quot;\r\n              username=&quot;xxxxx&quot; password=&quot;xxxxxx&quot;\r\n              maxActive=&quot;20&quot;\r\n              initialSize=&quot;0&quot;\r\n              ...\r\n              /&gt;\r\n         &lt;/Context&gt;","title":"Modifying a JNDI connection pool programmaticaly","body":"<p>I am using Apache Tomcat JDBC connection pool library in my project and configured the context.xml file accordingly. My application instance needs to run at multiple locations, but load on the application will be different, so I want to modify the maxActive size and some other property based on the customer size at particular instance at runtime.</p>\n<pre><code>  &lt;Context path=&quot;/abc&quot;\n             docBase=&quot;abc&quot;\n             debug=&quot;5&quot;\n             reloadable=&quot;false&quot;\n             crossContext=&quot;true&quot;&gt;\n       &lt;Resource name=&quot;jdbc/abc&quot;\n          auth=&quot;Container&quot;\n          type=&quot;javax.sql.DataSource&quot;\nfactory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\n          driverClassName=&quot;xxxxx&quot;\n          url=&quot;xxxxxxx&quot;\n          username=&quot;xxxxx&quot; password=&quot;xxxxxx&quot;\n          maxActive=&quot;20&quot;\n          initialSize=&quot;0&quot;\n          ...\n          /&gt;\n     &lt;/Context&gt;\n</code></pre>\n"},{"tags":["java","spring","maven","ssl"],"comments":[{"owner":{"account_id":383976,"reputation":17281,"user_id":3166303,"accept_rate":88,"display_name":"leeor"},"score":0,"creation_date":1442059713,"post_id":32536800,"comment_id":52934674,"body_markdown":"Similar issue, may not be the same problem though http://stackoverflow.com/a/22467085/3166303","body":"Similar issue, may not be the same problem though <a href=\"http://stackoverflow.com/a/22467085/3166303\">stackoverflow.com/a/22467085/3166303</a>"},{"owner":{"account_id":6664039,"reputation":5991,"user_id":5142170,"accept_rate":79,"display_name":"Labeo"},"score":0,"creation_date":1442127312,"post_id":32536800,"comment_id":52950555,"body_markdown":"i dont have that dependency","body":"i dont have that dependency"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1442170898,"post_id":32536800,"comment_id":52962635,"body_markdown":"Which line is line 258 in your `App.java`?","body":"Which line is line 258 in your <code>App.java</code>?"},{"owner":{"account_id":6664039,"reputation":5991,"user_id":5142170,"accept_rate":79,"display_name":"Labeo"},"score":0,"creation_date":1442221733,"post_id":32536800,"comment_id":52977520,"body_markdown":"in my java code having \nString result = restTemplate.postForObject(url, root , String.class);\n\nline 258","body":"in my java code having  String result = restTemplate.postForObject(url, root , String.class);  line 258"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1442432722,"post_id":32536800,"comment_id":53085393,"body_markdown":"You should include Bouncy Castle in your project and then add the provider in a static initializer, that ought to work","body":"You should include Bouncy Castle in your project and then add the provider in a static initializer, that ought to work"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1442438306,"post_id":32536800,"comment_id":53088363,"body_markdown":"You have a misconfigured JDK or JRE. Reinstall it, or have a look at the java,security file. Post it here, edited into your question.","body":"You have a misconfigured JDK or JRE. Reinstall it, or have a look at the java,security file. Post it here, edited into your question."}],"answers":[{"tags":[],"owner":{"account_id":4984264,"reputation":141,"user_id":4008355,"display_name":"Maxime Paquette"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1442431866,"creation_date":1442329191,"answer_id":32589355,"question_id":32536800,"body_markdown":"You have to add a security provider to be able to use crypto class like X509TrustManager and X509Certificate.\r\n\r\nYou can add the provider anytime. You just have to do it before you use these class.\r\n\r\nHere&#39;s an example of how to add a security provider in Java:\r\n\r\n    //check if provider is not already added\r\n    Provider aProvider = Security.getProvider(&quot;MyProvider&quot;);\r\n    if (aProvider == null) {\r\n       \t//add provider\r\n        Security.addProvider(new MyProvider());\r\n    }\r\n\r\nMyProvider is just a placeholder. You have to import a provider (Ex. BouncyCastle) or use the one from Sun\r\n ","title":"Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available in java(spring)","body":"<p>You have to add a security provider to be able to use crypto class like X509TrustManager and X509Certificate.</p>\n\n<p>You can add the provider anytime. You just have to do it before you use these class.</p>\n\n<p>Here's an example of how to add a security provider in Java:</p>\n\n<pre><code>//check if provider is not already added\nProvider aProvider = Security.getProvider(\"MyProvider\");\nif (aProvider == null) {\n    //add provider\n    Security.addProvider(new MyProvider());\n}\n</code></pre>\n\n<p>MyProvider is just a placeholder. You have to import a provider (Ex. BouncyCastle) or use the one from Sun</p>\n"}],"owner":{"account_id":6664039,"reputation":5991,"user_id":5142170,"accept_rate":79,"display_name":"Labeo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15348,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1640239405,"creation_date":1442046610,"question_id":32536800,"body_markdown":"i am trying to authenticate a server i am having server certificate and i have created key store and trust store. The exception is happening at rest template in the code i dont get what the error is i have searched in the net but i found no solution \r\n\r\n\r\nmy java code:\r\n\r\n    org.json.JSONObject json = new org.json.JSONObject();\r\n        \r\n        org.json.JSONObject root = new org.json.JSONObject();\r\n        root.put(&quot;Version&quot;, &quot;1&quot;);\r\n        json.put(&quot;key&quot;, &quot;test&quot;);\r\n        root.put(&quot;message&quot;, json);\r\n        System.out.println(root);\r\n    \r\n        String url = &quot;https://example.com&quot;;\r\n    App obi = new App();\r\n    \tobi.trustSelfSignedSSL();\r\n    \r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;/Users/crohitk/Desktop/spring/keystore.jks&quot;);\r\n    \r\n       System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;password&quot;);\r\n       System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;/Users/crohitk/Desktop/spring/ca-certs.jks&quot;);\r\n    \r\n       System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;&quot;);\r\n       \r\n      \r\n       KeyStore keyStore = null;\r\n       KeyStore truststore = null;\r\n    \t\r\n    \t\tkeyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\r\n    \t\tkeyStore.load(new FileInputStream(&quot;/Users/crohitk/Desktop/spring/keystore.jks&quot;),\r\n    \t\t        &quot;password&quot;.toCharArray());\r\n    \t\r\n    \r\n    \tSSLConnectionSocketFactory socketFactory = null;\r\n    \t\r\n    \t\tsocketFactory = new SSLConnectionSocketFactory(\r\n    \t\t        new SSLContextBuilder()\r\n    \r\n    \t\t                .loadKeyMaterial(keyStore, &quot;password&quot;.toCharArray()).build());\r\n    \t\r\n    \t\r\n    \tHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\r\n    \t\r\n    \tClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(\r\n    \t        httpClient);\r\n    \t\r\n    \tRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n    \t\r\n    \t\r\n    \r\n        \r\n    \r\n      String result = restTemplate.postForObject(url, root , String.class);\r\n    \tSystem.out.println(result);\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n    \r\n        public static void trustSelfSignedSSL() {\r\n    \t    try {\r\n    \t        SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n    \t        X509TrustManager tm = new X509TrustManager() {\r\n    \r\n    \t            public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n    \t            }\r\n    \r\n    \t            public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\r\n    \t            }\r\n    \r\n    \t            public X509Certificate[] getAcceptedIssuers() {\r\n    \t                return null;\r\n    \t            }\r\n    \t        };\r\n    \t        ctx.init(null, new TrustManager[]{tm}, null);\r\n    \t        SSLContext.setDefault(ctx);\r\n    \t    } catch (Exception ex) {\r\n    \t        ex.printStackTrace();\r\n    \t    }\r\n    \t    }\r\n    \t\r\n\r\n\r\nerror trace:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://example.com&quot;:java.security.cert.CertificateException: No X509TrustManager implementation available; nested exception is javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:602)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:552)\r\n    \tat org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:352)\r\n    \tat url.url1.App.main(App.java:258)\r\n\r\n\r\n\r\n\r\nmy pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n     \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n     \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n      \t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\r\n        \r\n            \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.9&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;!-- Spring AOP dependency --&gt;\r\n            &lt;dependency&gt;\r\n        \t        &lt;groupId&gt;cglib&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cglib&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- Hibernate framework --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.2.3.ga&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!--&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate3&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.3.GA&lt;/version&gt;\r\n    \t&lt;/dependency&gt; --&gt;\r\n    \t\r\n    \t\r\n    \t&lt;!-- Hibernate library dependecy start --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;antlr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;antlr&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Hibernate library dependecy end --&gt;\r\n     \r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jta&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t&lt;type&gt;jar&lt;/type&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.6.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \r\n    \r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \r\n    \t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n     &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t&lt;version&gt;20141113&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;net.sf.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n       &lt;version&gt;5.2.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!--  &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0-alpha-1&lt;/version&gt;\r\n    &lt;/dependency&gt;--&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.igniterealtime.smack&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;smack-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.2.0-alpha1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;ca.juliusdavies&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;not-yet-commons-ssl&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.3.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n           &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n           &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n           &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n           &lt;version&gt;2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;","title":"Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available in java(spring)","body":"<p>i am trying to authenticate a server i am having server certificate and i have created key store and trust store. The exception is happening at rest template in the code i dont get what the error is i have searched in the net but i found no solution </p>\n\n<p>my java code:</p>\n\n<pre><code>org.json.JSONObject json = new org.json.JSONObject();\n\n    org.json.JSONObject root = new org.json.JSONObject();\n    root.put(\"Version\", \"1\");\n    json.put(\"key\", \"test\");\n    root.put(\"message\", json);\n    System.out.println(root);\n\n    String url = \"https://example.com\";\nApp obi = new App();\n    obi.trustSelfSignedSSL();\n\n    System.setProperty(\"javax.net.ssl.keyStore\", \"/Users/crohitk/Desktop/spring/keystore.jks\");\n\n   System.setProperty(\"javax.net.ssl.keyStorePassword\", \"password\");\n   System.setProperty(\"javax.net.ssl.trustStore\",\"/Users/crohitk/Desktop/spring/ca-certs.jks\");\n\n   System.setProperty(\"javax.net.ssl.trustStorePassword\",\"\");\n\n\n   KeyStore keyStore = null;\n   KeyStore truststore = null;\n\n        keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n\n        keyStore.load(new FileInputStream(\"/Users/crohitk/Desktop/spring/keystore.jks\"),\n                \"password\".toCharArray());\n\n\n    SSLConnectionSocketFactory socketFactory = null;\n\n        socketFactory = new SSLConnectionSocketFactory(\n                new SSLContextBuilder()\n\n                        .loadKeyMaterial(keyStore, \"password\".toCharArray()).build());\n\n\n    HttpClient httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\n\n    ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(\n            httpClient);\n\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\n\n\n\n\n\n  String result = restTemplate.postForObject(url, root , String.class);\n    System.out.println(result);\n    System.out.println( \"Hello World!\" );\n}\n\n    public static void trustSelfSignedSSL() {\n        try {\n            SSLContext ctx = SSLContext.getInstance(\"TLS\");\n            X509TrustManager tm = new X509TrustManager() {\n\n                public void checkClientTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n                }\n\n                public void checkServerTrusted(X509Certificate[] xcs, String string) throws CertificateException {\n                }\n\n                public X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n            };\n            ctx.init(null, new TrustManager[]{tm}, null);\n            SSLContext.setDefault(ctx);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        }\n</code></pre>\n\n<p>error trace:</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.web.client.ResourceAccessException: I/O error on POST request for \"https://example.com\":java.security.cert.CertificateException: No X509TrustManager implementation available; nested exception is javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No X509TrustManager implementation available\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:602)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:552)\n    at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:352)\n    at url.url1.App.main(App.java:258)\n</code></pre>\n\n<p>my pom.xml:</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;4.1.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n        &lt;!-- Spring AOP dependency --&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;cglib&lt;/groupId&gt;\n        &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate framework --&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n    &lt;version&gt;3.2.3.ga&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate3&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt; --&gt;\n\n\n    &lt;!-- Hibernate library dependecy start --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dom4j&lt;/groupId&gt;\n        &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;antlr&lt;/groupId&gt;\n        &lt;artifactId&gt;antlr&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Hibernate library dependecy end --&gt;\n\n &lt;dependency&gt;\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n            &lt;artifactId&gt;jta&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;3.6.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n\n\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.6.5&lt;/version&gt;\n  &lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1.GA&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;3.11&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20141113&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate&lt;/artifactId&gt;\n    &lt;version&gt;2.1.8&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n   &lt;version&gt;5.2.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!--  &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0-alpha-1&lt;/version&gt;\n&lt;/dependency&gt;--&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.igniterealtime.smack&lt;/groupId&gt;\n    &lt;artifactId&gt;smack-core&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0-alpha1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;ca.juliusdavies&lt;/groupId&gt;\n    &lt;artifactId&gt;not-yet-commons-ssl&lt;/artifactId&gt;\n    &lt;version&gt;0.3.11&lt;/version&gt;\n&lt;/dependency&gt;\n &lt;dependency&gt;\n       &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n       &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n       &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n       &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n       &lt;version&gt;2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n        &lt;version&gt;2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n  &lt;version&gt;2.8&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8984727,"reputation":2962,"user_id":6698642,"display_name":"shriakhilc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640239334,"creation_date":1640239334,"answer_id":70458218,"question_id":70458093,"body_markdown":"The issue is with `int number = play.nextInt(3)`. This method returns either 0, 1, or 2 (documentation [here](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-)), whereas your code expects 1, 2, 3.\r\n\r\nA simple fix would be to do `int number = play.nextInt(3) + 1`.","title":"Java rock-paper-scissors program does not print right output","body":"<p>The issue is with <code>int number = play.nextInt(3)</code>. This method returns either 0, 1, or 2 (documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-\" rel=\"nofollow noreferrer\">here</a>), whereas your code expects 1, 2, 3.</p>\n<p>A simple fix would be to do <code>int number = play.nextInt(3) + 1</code>.</p>\n"}],"owner":{"account_id":23716392,"reputation":346,"user_id":17737469,"display_name":"Montek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70458218,"answer_count":1,"score":0,"last_activity_date":1640239334,"creation_date":1640238195,"question_id":70458093,"body_markdown":"**I want my program to display what the computer chose.**\r\n&lt;br&gt;\r\nBut instead, it sometimes does not, or sometimes it does display\r\n\r\n - `The computer chose Rock`\r\n - `The computer chose Paper`\r\n - `The computer chose Scissors`\r\n\r\nThis happens even if i follow the same input pattern.\r\n\r\n**Output when the user inputs 1 , 2 , 3 in order-**\r\n\r\n[![img_1][1]][1]\r\n\r\n**Similarly, output when the user again inputs 1 , 2 , 3 in order-**\r\n\r\n[![img_2][2]][2]\r\n\r\n**Output when the user inputs randomly-**\r\n\r\n[![img_3][3]][3]\r\n\r\n**Code-** \r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    public class RockPaperScissors {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            Random play= new Random();\r\n            System.out.println(&quot;Best of three of Rock paper scissors!&quot;);\r\n            int win=0;\r\n            int i =1;\r\n            while(i&lt;=3){\r\n                int number=play.nextInt(3);\r\n                System.out.println(&quot;Press 1 for Rock&quot;);\r\n                System.out.println(&quot;Press 2 for Paper&quot;);\r\n                System.out.println(&quot;Press 3 for Scissor&quot;);\r\n                int ch=scanner.nextInt();\r\n                if(number==1)\r\n                    System.out.println(&quot;The computer chose Rock&quot;);\r\n                if(number==2)\r\n                    System.out.println(&quot;The computer chose Paper&quot;);\r\n                if(number==3)\r\n                    System.out.println(&quot;The computer chose Scissor&quot;);\r\n    \r\n                if(ch==1 &amp;&amp; number==1)\r\n                    System.out.println(&quot;Draw&quot;);\r\n                else if(ch==1 &amp;&amp; number==2)\r\n                    System.out.println(&quot;Lost&quot;);\r\n                else if(ch==1 &amp;&amp; number==3){\r\n                    System.out.println(&quot;Won&quot;);\r\n                    win++;}\r\n                else if(ch==2 &amp;&amp; number==1){\r\n                    System.out.println(&quot;Won&quot;);\r\n                    win++;}\r\n                else if(ch==2 &amp;&amp; number==2)\r\n                    System.out.println(&quot;Draw&quot;);\r\n                else if(ch==2 &amp;&amp; number==3)\r\n                    System.out.println(&quot;Lost&quot;);\r\n                else if(ch==3 &amp;&amp; number==1)\r\n                    System.out.println(&quot;Lost&quot;);\r\n                else if(ch==3 &amp;&amp; number==2){\r\n                    System.out.println(&quot;Won&quot;);\r\n                    win++;}\r\n                else if(ch==3 &amp;&amp; number==3)\r\n                    System.out.println(&quot;Draw&quot;);\r\n    \r\n                i++;\r\n    \r\n            }\r\n            if(win==3 || win==2)\r\n                System.out.println(&quot;You won the game!&quot;);\r\n            else\r\n                System.out.println(&quot;Aww you lost the game.&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/jSSy5.png\r\n  [2]: https://i.stack.imgur.com/USPRZ.png\r\n  [3]: https://i.stack.imgur.com/XRXG8.png","title":"Java rock-paper-scissors program does not print right output","body":"<p><strong>I want my program to display what the computer chose.</strong>\n<br>\nBut instead, it sometimes does not, or sometimes it does display</p>\n<ul>\n<li><code>The computer chose Rock</code></li>\n<li><code>The computer chose Paper</code></li>\n<li><code>The computer chose Scissors</code></li>\n</ul>\n<p>This happens even if i follow the same input pattern.</p>\n<p><strong>Output when the user inputs 1 , 2 , 3 in order-</strong></p>\n<p><a href=\"https://i.stack.imgur.com/jSSy5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSSy5.png\" alt=\"img_1\" /></a></p>\n<p><strong>Similarly, output when the user again inputs 1 , 2 , 3 in order-</strong></p>\n<p><a href=\"https://i.stack.imgur.com/USPRZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USPRZ.png\" alt=\"img_2\" /></a></p>\n<p><strong>Output when the user inputs randomly-</strong></p>\n<p><a href=\"https://i.stack.imgur.com/XRXG8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XRXG8.png\" alt=\"img_3\" /></a></p>\n<p><strong>Code-</strong></p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\npublic class RockPaperScissors {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Random play= new Random();\n        System.out.println(&quot;Best of three of Rock paper scissors!&quot;);\n        int win=0;\n        int i =1;\n        while(i&lt;=3){\n            int number=play.nextInt(3);\n            System.out.println(&quot;Press 1 for Rock&quot;);\n            System.out.println(&quot;Press 2 for Paper&quot;);\n            System.out.println(&quot;Press 3 for Scissor&quot;);\n            int ch=scanner.nextInt();\n            if(number==1)\n                System.out.println(&quot;The computer chose Rock&quot;);\n            if(number==2)\n                System.out.println(&quot;The computer chose Paper&quot;);\n            if(number==3)\n                System.out.println(&quot;The computer chose Scissor&quot;);\n\n            if(ch==1 &amp;&amp; number==1)\n                System.out.println(&quot;Draw&quot;);\n            else if(ch==1 &amp;&amp; number==2)\n                System.out.println(&quot;Lost&quot;);\n            else if(ch==1 &amp;&amp; number==3){\n                System.out.println(&quot;Won&quot;);\n                win++;}\n            else if(ch==2 &amp;&amp; number==1){\n                System.out.println(&quot;Won&quot;);\n                win++;}\n            else if(ch==2 &amp;&amp; number==2)\n                System.out.println(&quot;Draw&quot;);\n            else if(ch==2 &amp;&amp; number==3)\n                System.out.println(&quot;Lost&quot;);\n            else if(ch==3 &amp;&amp; number==1)\n                System.out.println(&quot;Lost&quot;);\n            else if(ch==3 &amp;&amp; number==2){\n                System.out.println(&quot;Won&quot;);\n                win++;}\n            else if(ch==3 &amp;&amp; number==3)\n                System.out.println(&quot;Draw&quot;);\n\n            i++;\n\n        }\n        if(win==3 || win==2)\n            System.out.println(&quot;You won the game!&quot;);\n        else\n            System.out.println(&quot;Aww you lost the game.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance","super"],"answers":[{"tags":[],"owner":{"account_id":476395,"reputation":2065,"user_id":887290,"accept_rate":88,"display_name":"ThomasEdwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513507804,"creation_date":1513507804,"answer_id":47854330,"question_id":47854309,"body_markdown":"`cc` class constructor is\r\n\r\n    cc(int i, int j,int k) {\r\n    }\r\n\r\ntherefore, you need to call `super(i, j, k)` in `dd`. For example:\r\n\r\n     class dd extends cc{   \r\n       int h;                \r\n       dd(int i, int j,int k) {\r\n         super(i, j, k);\r\n       }\r\n       void hello(){\r\n         System.out.println(&quot;hello&quot;);\r\n       }\r\n     }","title":"Java inheritance using super keyword","body":"<p><code>cc</code> class constructor is</p>\n\n<pre><code>cc(int i, int j,int k) {\n}\n</code></pre>\n\n<p>therefore, you need to call <code>super(i, j, k)</code> in <code>dd</code>. For example:</p>\n\n<pre><code> class dd extends cc{   \n   int h;                \n   dd(int i, int j,int k) {\n     super(i, j, k);\n   }\n   void hello(){\n     System.out.println(\"hello\");\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7443513,"reputation":9668,"user_id":5660517,"accept_rate":100,"display_name":"Ronan Boiteau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513508069,"creation_date":1513508069,"answer_id":47854358,"question_id":47854309,"body_markdown":"Your `cc` class has a single constructor that takes arguments:\r\n\r\n    cc(int i, int j, int k) {}\r\n\r\nIf you want to inherit from `cc`, you must:\r\n\r\n - Either call `super(int i, int j, int k)` in your `dd` constructor to call `cc`&#39;s constructor, passing the arguments required by the constructor.\r\n - Or create a default constructor for `cc` that takes no argument: `cc() {}`. If you don&#39;t call `super()`, this constructor would be called by default.","title":"Java inheritance using super keyword","body":"<p>Your <code>cc</code> class has a single constructor that takes arguments:</p>\n\n<pre><code>cc(int i, int j, int k) {}\n</code></pre>\n\n<p>If you want to inherit from <code>cc</code>, you must:</p>\n\n<ul>\n<li>Either call <code>super(int i, int j, int k)</code> in your <code>dd</code> constructor to call <code>cc</code>'s constructor, passing the arguments required by the constructor.</li>\n<li>Or create a default constructor for <code>cc</code> that takes no argument: <code>cc() {}</code>. If you don't call <code>super()</code>, this constructor would be called by default.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8694116,"reputation":138,"user_id":6506122,"display_name":"GDavid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513508263,"creation_date":1513508263,"answer_id":47854378,"question_id":47854309,"body_markdown":"The problem is that dd extends cc, that has a constructor of cc(int i, int j, int k), but dd&#39;s constructor doesn&#39;t calls it.  \r\nYou need to add a constructor to dd that calls super(i, j, k).\r\n\r\nExample code for dd:\r\n\r\n    }\r\n    class dd extends cc{\r\n    dd(int i, int j, int k) {\r\n    super(i, j, k);\r\n    }\r\n    int h;\r\n    void hello(){\r\n    System.out.println(&quot;hello&quot;);\r\n    }","title":"Java inheritance using super keyword","body":"<p>The problem is that dd extends cc, that has a constructor of cc(int i, int j, int k), but dd's constructor doesn't calls it.<br>\nYou need to add a constructor to dd that calls super(i, j, k).</p>\n\n<p>Example code for dd:</p>\n\n<pre><code>}\nclass dd extends cc{\ndd(int i, int j, int k) {\nsuper(i, j, k);\n}\nint h;\nvoid hello(){\nSystem.out.println(\"hello\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9444354,"reputation":422,"user_id":8641608,"accept_rate":60,"display_name":"Neeraj Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513508674,"creation_date":1513508281,"answer_id":47854384,"question_id":47854309,"body_markdown":"You are extending class cc in dd. But in dd you are not initialising anything which cc possess and that is the error, because when dd is called it is searching for a constructor of its superclass and when no constructor is defined java takes a without parameter constructor as default. So it call that parameter in cc but you have not defined any blank parameter in cc so it is saying it has only **1** constructor and you need to create other blank constructor.","title":"Java inheritance using super keyword","body":"<p>You are extending class cc in dd. But in dd you are not initialising anything which cc possess and that is the error, because when dd is called it is searching for a constructor of its superclass and when no constructor is defined java takes a without parameter constructor as default. So it call that parameter in cc but you have not defined any blank parameter in cc so it is saying it has only <strong>1</strong> constructor and you need to create other blank constructor.</p>\n"},{"tags":[],"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1513508492,"creation_date":1513508492,"answer_id":47854403,"question_id":47854309,"body_markdown":"`dd` inherits `cc`, so it&#39;ll have to call the default constructor of `cc`, which currently doesn&#39;t exist.\r\n\r\nTo solve this, just add a constructor with no arguments \r\n\r\n    class cc extends bb {   \r\n        int j,k;\r\n        cc(){\r\n            //do whatever you want\r\n        }\r\n        ..//rest of code\r\n    }","title":"Java inheritance using super keyword","body":"<p><code>dd</code> inherits <code>cc</code>, so it'll have to call the default constructor of <code>cc</code>, which currently doesn't exist.</p>\n\n<p>To solve this, just add a constructor with no arguments </p>\n\n<pre><code>class cc extends bb {   \n    int j,k;\n    cc(){\n        //do whatever you want\n    }\n    ..//rest of code\n}\n</code></pre>\n"}],"owner":{"account_id":12516350,"reputation":51,"user_id":9109392,"display_name":"Saquib Asghar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2946,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":47854403,"answer_count":5,"score":0,"last_activity_date":1640239214,"creation_date":1513507666,"question_id":47854309,"body_markdown":"I am using inheritance along with super function in my program ,but when I am extending my class it showing error message &quot;There is no default constructor in &#39;cc&#39;. &quot; . This error message is coming after 1st subclass is extended and trying to make 2nd subclass. Here is the code\r\n\r\n   \r\n\r\n    class aa{\r\n    int i=-1;\r\n    int show(){\r\n    return i;\r\n    }\r\n    } \r\n    class bb extends aa{ \r\n     int i;\r\n     bb(int g,int j){\r\n     super.i=g;\r\n     i=j;\r\n     }\r\n    }\r\n            \r\n    class cc extends bb {   \r\n    int j,k;\r\n    cc(int i, int j,int k) {\r\n      super(i,j);\r\n      super.i=i;\r\n      this.j=j;\r\n      this.k=k;\r\n      }\r\n    }\r\n     class dd extends cc{   // here the error showing \r\n     int h;                //&quot; There is no default constructor in &#39;cc&#39; &quot;\r\n     void hello(){\r\n     System.out.println(&quot;hello&quot;);\r\n     }\r\n    }\r\n    class SuperUseExample3 {\r\n        public static void main(String[] args) {\r\n            aa x = new aa();\r\n            System.out.println(&quot;value of a = &quot;+x.i);\r\n            bb y = new bb(8,2);\r\n            System.out.println(&quot;value of a in class cc = &quot;+y.show());\r\n            System.out.println(&quot;value of b in class bb = &quot;+y.i);\r\n            cc z =new cc(12,13,14);\r\n            System.out.println(&quot;value of a in class cc = &quot;+z.show());\r\n            System.out.println(&quot;value of b in class cc = &quot;+z.j);\r\n            System.out.println(&quot;value of c in class cc = &quot;+z.k);\r\n        }\r\n    }","title":"Java inheritance using super keyword","body":"<p>I am using inheritance along with super function in my program ,but when I am extending my class it showing error message \"There is no default constructor in 'cc'. \" . This error message is coming after 1st subclass is extended and trying to make 2nd subclass. Here is the code</p>\n\n<pre><code>class aa{\nint i=-1;\nint show(){\nreturn i;\n}\n} \nclass bb extends aa{ \n int i;\n bb(int g,int j){\n super.i=g;\n i=j;\n }\n}\n\nclass cc extends bb {   \nint j,k;\ncc(int i, int j,int k) {\n  super(i,j);\n  super.i=i;\n  this.j=j;\n  this.k=k;\n  }\n}\n class dd extends cc{   // here the error showing \n int h;                //\" There is no default constructor in 'cc' \"\n void hello(){\n System.out.println(\"hello\");\n }\n}\nclass SuperUseExample3 {\n    public static void main(String[] args) {\n        aa x = new aa();\n        System.out.println(\"value of a = \"+x.i);\n        bb y = new bb(8,2);\n        System.out.println(\"value of a in class cc = \"+y.show());\n        System.out.println(\"value of b in class bb = \"+y.i);\n        cc z =new cc(12,13,14);\n        System.out.println(\"value of a in class cc = \"+z.show());\n        System.out.println(\"value of b in class cc = \"+z.j);\n        System.out.println(\"value of c in class cc = \"+z.k);\n    }\n}\n</code></pre>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640239056,"creation_date":1640111549,"answer_id":70440111,"question_id":70440079,"body_markdown":"[`background`](https://processing.org/reference/background_.html) not only defines the background color, but also fills the window with the background color. Therefore you have to call `background` before drawing the objects of the scene:\r\n\r\n```java\r\nvoid draw() {\r\n  background(255);\r\n  circle(200 + x, 200, 20);\r\n  x++;\r\n}\r\n```\r\n\r\n`background` clears the window and thereby all previously drawn objects. `background` does not change a state. When you call `background`, every pixel in the window is instantly changed.\r\n(Since _processing_ uses OpenGL, [`glClear`](https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glClear.xhtml) is invoked under the hood.)","title":"How does background function work in Processing?","body":"<p><a href=\"https://processing.org/reference/background_.html\" rel=\"nofollow noreferrer\"><code>background</code></a> not only defines the background color, but also fills the window with the background color. Therefore you have to call <code>background</code> before drawing the objects of the scene:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void draw() {\n  background(255);\n  circle(200 + x, 200, 20);\n  x++;\n}\n</code></pre>\n<p><code>background</code> clears the window and thereby all previously drawn objects. <code>background</code> does not change a state. When you call <code>background</code>, every pixel in the window is instantly changed.\n(Since <em>processing</em> uses OpenGL, <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glClear.xhtml\" rel=\"nofollow noreferrer\"><code>glClear</code></a> is invoked under the hood.)</p>\n"}],"owner":{"account_id":23712704,"reputation":39,"user_id":17734334,"display_name":"Deleted"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1640239056,"creation_date":1640111400,"question_id":70440079,"body_markdown":"Yo, I hope all is fine for you!\r\nAs indicated in the title, I would like to know how `background` function works in Processing.\r\nWhat is the difference between the **first program** (`background` **called before drawing the circle**) and the **second program** (`background` **called after drawing the circle**) which is the one &quot;doesn&#39;t working&quot;?\r\n```\r\nint x = 1;\r\nvoid setup() {\r\n  size(400, 400);\r\n  background(255);\r\n}\r\n\r\nvoid draw() {\r\n  background(255);\r\n  circle(200 + x, 200, 20);\r\n  x++;\r\n}\r\n```\r\n```\r\nint x = 1;\r\nvoid setup() {\r\n  size(400, 400);\r\n  background(255);\r\n}\r\n\r\nvoid draw() {\r\n  circle(200 + x, 200, 20);\r\n  background(255);\r\n  x++;\r\n}\r\n```","title":"How does background function work in Processing?","body":"<p>Yo, I hope all is fine for you!\nAs indicated in the title, I would like to know how <code>background</code> function works in Processing.\nWhat is the difference between the <strong>first program</strong> (<code>background</code> <strong>called before drawing the circle</strong>) and the <strong>second program</strong> (<code>background</code> <strong>called after drawing the circle</strong>) which is the one &quot;doesn't working&quot;?</p>\n<pre><code>int x = 1;\nvoid setup() {\n  size(400, 400);\n  background(255);\n}\n\nvoid draw() {\n  background(255);\n  circle(200 + x, 200, 20);\n  x++;\n}\n</code></pre>\n<pre><code>int x = 1;\nvoid setup() {\n  size(400, 400);\n  background(255);\n}\n\nvoid draw() {\n  circle(200 + x, 200, 20);\n  background(255);\n  x++;\n}\n</code></pre>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":2774254,"reputation":367,"user_id":2388145,"display_name":"lealand"},"score":4,"creation_date":1373782861,"post_id":17637032,"comment_id":25680664,"body_markdown":"For any trivial program, just use a Scanner. I&#39;ve never seen Console used before, and use an InputStream/Reader when dealing with something like files.","body":"For any trivial program, just use a Scanner. I&#39;ve never seen Console used before, and use an InputStream/Reader when dealing with something like files."}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604189071,"creation_date":1373782945,"answer_id":17637069,"question_id":17637032,"body_markdown":"Console class is implemented in a platform independent way to handle the console input for different Os. All OS has a console/shell but they are quite different in implementation. So Console class gives you a Java platform independent runtime class to access things like password input, etc.\r\n\r\nScanner is used for parsing tokens from the contents of the stream while BufferedReader just reads the stream and does not do any special parsing.","title":"BufferedReader vs Console vs Scanner","body":"<p>Console class is implemented in a platform independent way to handle the console input for different Os. All OS has a console/shell but they are quite different in implementation. So Console class gives you a Java platform independent runtime class to access things like password input, etc.</p>\n<p>Scanner is used for parsing tokens from the contents of the stream while BufferedReader just reads the stream and does not do any special parsing.</p>\n"},{"tags":[],"owner":{"account_id":2992357,"reputation":1252,"user_id":2539691,"accept_rate":58,"display_name":"roanjain"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1373783700,"creation_date":1373783700,"answer_id":17637141,"question_id":17637032,"body_markdown":"beside these you can also use datainputstream etc.\r\n\r\n\r\nNow BufferedReader Read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines. The buffer size may be specified, or the default size may be used. The default is large enough for most purposes.\r\n\r\n\r\nWhere Scanner is a simple text scanner which can parse primitive types and strings using regular expressions. A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. The resulting tokens may then be converted into values of different types using the various next methods. Scanner is used for parsing tokens from the contents of the stream while BufferedReader just reads the stream and does not do any special parsing.\r\n\r\nalso check the below link it will surely help you.......\r\n\r\nhttp://www.javawebtips.com/50474/\r\n","title":"BufferedReader vs Console vs Scanner","body":"<p>beside these you can also use datainputstream etc.</p>\n\n<p>Now BufferedReader Read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines. The buffer size may be specified, or the default size may be used. The default is large enough for most purposes.</p>\n\n<p>Where Scanner is a simple text scanner which can parse primitive types and strings using regular expressions. A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. The resulting tokens may then be converted into values of different types using the various next methods. Scanner is used for parsing tokens from the contents of the stream while BufferedReader just reads the stream and does not do any special parsing.</p>\n\n<p>also check the below link it will surely help you.......</p>\n\n<p><a href=\"http://www.javawebtips.com/50474/\" rel=\"nofollow noreferrer\">http://www.javawebtips.com/50474/</a></p>\n"},{"tags":[],"owner":{"account_id":920922,"reputation":22064,"user_id":952648,"display_name":"tom"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1640239013,"creation_date":1373798946,"answer_id":17638706,"question_id":17637032,"body_markdown":"### [BufferedReader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html) ###\r\n\r\n - Since Java 1.1\r\n - Throws [checked exceptions](https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html)\r\n - Can read [single chars](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#read()), [char arrays](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)), and [lines](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#readLine())\r\n - Fast\r\n\r\n### [Scanner](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html) ###\r\n\r\n - Since Java 1.5\r\n - Throws unchecked exceptions\r\n - Can read [lines](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextLine()), [numbers](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()), [whitespace-delimited tokens](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#next()), [regex-delimited tokens](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#useDelimiter(java.lang.String))\r\n - Difficult to [read single characters](https://stackoverflow.com/a/2597939)\r\n\r\n### [Console](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html) ###\r\n\r\n - Since Java 1.6\r\n - Throws unchecked exceptions\r\n - Not always available (e.g. if [input/output is redirected](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html), and [in Eclipse](https://bugs.eclipse.org/bugs/show_bug.cgi?id=122429))\r\n - Can read [lines](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html#readLine())\r\n - [Underlying reader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html#reader()) can read single chars and char arrays (but stops at line bounds)\r\n - Can read [passwords](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html#readPassword()) (i.e. read without displaying the characters)\r\n\r\n### Recommendation: Scanner ###\r\n\r\nThe methods for reading numbers are very useful (though [beware when using nextInt() etc. followed by nextLine()](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)). The exceptions are unchecked, so you do not have to write boilerplate try/catch blocks.","title":"BufferedReader vs Console vs Scanner","body":"<h3><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferedReader</a></h3>\n<ul>\n<li>Since Java 1.1</li>\n<li>Throws <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">checked exceptions</a></li>\n<li>Can read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#read()\" rel=\"nofollow noreferrer\">single chars</a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read(char%5B%5D)\" rel=\"nofollow noreferrer\">char arrays</a>, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">lines</a></li>\n<li>Fast</li>\n</ul>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></h3>\n<ul>\n<li>Since Java 1.5</li>\n<li>Throws unchecked exceptions</li>\n<li>Can read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">lines</a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">numbers</a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">whitespace-delimited tokens</a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#useDelimiter(java.lang.String)\" rel=\"nofollow noreferrer\">regex-delimited tokens</a></li>\n<li>Difficult to <a href=\"https://stackoverflow.com/a/2597939\">read single characters</a></li>\n</ul>\n<h3><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html\" rel=\"nofollow noreferrer\">Console</a></h3>\n<ul>\n<li>Since Java 1.6</li>\n<li>Throws unchecked exceptions</li>\n<li>Not always available (e.g. if <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html\" rel=\"nofollow noreferrer\">input/output is redirected</a>, and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=122429\" rel=\"nofollow noreferrer\">in Eclipse</a>)</li>\n<li>Can read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html#readLine()\" rel=\"nofollow noreferrer\">lines</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html#reader()\" rel=\"nofollow noreferrer\">Underlying reader</a> can read single chars and char arrays (but stops at line bounds)</li>\n<li>Can read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Console.html#readPassword()\" rel=\"nofollow noreferrer\">passwords</a> (i.e. read without displaying the characters)</li>\n</ul>\n<h3>Recommendation: Scanner</h3>\n<p>The methods for reading numbers are very useful (though <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">beware when using nextInt() etc. followed by nextLine()</a>). The exceptions are unchecked, so you do not have to write boilerplate try/catch blocks.</p>\n"}],"owner":{"account_id":2861564,"reputation":10611,"user_id":2456721,"accept_rate":81,"display_name":"Victor Castillo Torres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28861,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":17638706,"answer_count":3,"score":54,"last_activity_date":1640239013,"creation_date":1373782618,"question_id":17637032,"body_markdown":"Hi I&#39;m new to `Java` and I would like to know what is the best choice to read a user Input in the console, as far as I know there are 3 ways to do it:\r\n\r\n 1. `Console console = System.console();`\r\n 2. `BufferedReader input = new BufferedReader(new InputStreamReader(System.in));`\r\n 3. `Scanner reader = new Scanner(System.in);`\r\n\r\nWhich one should I choose? Why that one and not the other ones?","title":"BufferedReader vs Console vs Scanner","body":"<p>Hi I'm new to <code>Java</code> and I would like to know what is the best choice to read a user Input in the console, as far as I know there are 3 ways to do it:</p>\n\n<ol>\n<li><code>Console console = System.console();</code></li>\n<li><code>BufferedReader input = new BufferedReader(new InputStreamReader(System.in));</code></li>\n<li><code>Scanner reader = new Scanner(System.in);</code></li>\n</ol>\n\n<p>Which one should I choose? Why that one and not the other ones?</p>\n"},{"tags":["java","postgresql","performance","insert"],"comments":[{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":2,"creation_date":1640241316,"post_id":70458106,"comment_id":124549428,"body_markdown":"Are all statements in a single transaction? Did you test if the I/O system is working fine? Use auto_explain to capture a slow execution plan and add it to the question.","body":"Are all statements in a single transaction? Did you test if the I/O system is working fine? Use auto_explain to capture a slow execution plan and add it to the question."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1640289911,"post_id":70458106,"comment_id":124564431,"body_markdown":"Your monitoring shows the slow statement to be a select, not an insert.","body":"Your monitoring shows the slow statement to be a select, not an insert."}],"owner":{"account_id":23725775,"reputation":1,"user_id":17745695,"display_name":"Aadi G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640238399,"creation_date":1640238399,"question_id":70458106,"body_markdown":"**Problem Statement**\r\nI have java application which is supposed to insert records into PostgreSQL However the insert process is taking way too long ( approx 20 minutes for 5000  records). We are migrating from IBMDB2 to PostgreSQL and the same query ( with DB2 specific syntax) takes  few seconds to complete in DB2. Seems something is wrong with the query since we haven&#39;t observed any performance issues.\r\n\r\n\r\n**The query format is as:**\r\n\r\n    INSERT INTO CI_DATA_SERVER (\r\n    COST_CENTER,MANAGED_BY,DMODEL,DVERSION,DPRODUCT,DATASET,STATUS,DU,IDENTITYKEY,DESCRIPTION,COMPANY,LOCATION,OWNED_BY,CLASSTYPE,CRT_ON,NE_STATUS,&quot;type&quot;,KEY1,KEY2,KEY3,\r\n    KEY4,KEY5,KEY6,KEY7,KEY8,KEY9,KEY10,IDENTIFIER1,IDENTIFIER2,DISC_ON,DISC_BY,MOD_BY,CRT_BY,PARENTID,MOD_ON,NPRODUCT,NMODEL,NVERSION,MERGEDDATASETNAMES,\r\n    MERGEDDATASETCOUNTS,HW_TYPE,ASSET_CUSTODIAN_NAME,ASSET_CUSTODIAN_EMPLOYEEID,MODEL_NUMBER,STATE,CITY,MAC_ADDRESS,SEAT_NUMBER,RACK_NUMBER,ODC,MODEL_NAME,\r\n    &quot;floor&quot;,DEPARTMENT,DATA_CENTRE_CLOSET,BUILDING,ASSET_USER,ASSET_TYPE,ASSET_CATEGORY,ASSET_AT_HCL_PREMISE,AMC_STATUS,AMC_START_DATE,AMC_END_DATE,ACCOUNT_NAME,\r\n    PASSWORD_LAST_SET_ON,HW_LAST_SCANNED_ON,SW_LAST_SCANNED_ON,USER_LAST_LOGGED_ON,IN_HCL_SCOPE,DATACENTER,REGION,COUNTRY,OSI_CLUSTER_NAME,OSI_STATUS_CHANGED_ON,\r\n    OSI_PORTFOLIO_ID,ENVIRONMENT,PROCESSOR_CORES,METALLIC,SITE_TYPE,OWNERSHIP_TYPE,OS_RELEASE_VERSION,OS_SERVICE_PACK,OS_VERSION,OS_TYPE,PROCESSOR_MEMORY,MANUFACTURER,\r\n    PROCESSOR,OS_NAME,CORES,IP_ADDRESS,SERIAL_NUMBER,IS_VIRTUAL,FQDN,ASSET_TAG,HOSTNAME,AMC_SUPPORT_VENDOR,SUB_STATUS,DISC_SPACE,MEMORY,ERROR_MSG,JOBHISTORYID,\r\n    PROCESSING_STATUS,MATCHING_OTHER_IDENTITY_KEY,MERGEPARENTIDS,DELETED_FLAG,TARGET_DS_NAME)\r\n    VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);\r\n\r\n**PostgreSQL environment details**\r\n\r\n - Hosted on AWS RDS \r\n- version 13.3 \r\n- Instance type: (db.m5. large with 2vCPUs, 8GB RAM, 4750 MBPS with 3000 provisioned IOPS).\r\n\r\n**Key points:**\r\n1.\tThe batch size is 600 records.\r\n2.\tThere is no data type casting required in this query as data value is compatible with type so there is no bottleneck of type casting.\r\n3.\tThere are no triggers in the table.\r\n4.\tThere are no multi-value inserts.\r\n\r\n**What I have tried besides finetuning the query-**\r\n•\tDrop indexes before starting the import, re-create them afterwards.\r\n•\tTried inserting data on a dedicated postgres instance\r\n•\ttried increasing batch size to 2000 records\r\n\r\n[Monitoring snapshot of PostgreSQL performance][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZlHVk.png","title":"Insert statement to PostgreSQL from Java application taking too long","body":"<p><strong>Problem Statement</strong>\nI have java application which is supposed to insert records into PostgreSQL However the insert process is taking way too long ( approx 20 minutes for 5000  records). We are migrating from IBMDB2 to PostgreSQL and the same query ( with DB2 specific syntax) takes  few seconds to complete in DB2. Seems something is wrong with the query since we haven't observed any performance issues.</p>\n<p><strong>The query format is as:</strong></p>\n<pre><code>INSERT INTO CI_DATA_SERVER (\nCOST_CENTER,MANAGED_BY,DMODEL,DVERSION,DPRODUCT,DATASET,STATUS,DU,IDENTITYKEY,DESCRIPTION,COMPANY,LOCATION,OWNED_BY,CLASSTYPE,CRT_ON,NE_STATUS,&quot;type&quot;,KEY1,KEY2,KEY3,\nKEY4,KEY5,KEY6,KEY7,KEY8,KEY9,KEY10,IDENTIFIER1,IDENTIFIER2,DISC_ON,DISC_BY,MOD_BY,CRT_BY,PARENTID,MOD_ON,NPRODUCT,NMODEL,NVERSION,MERGEDDATASETNAMES,\nMERGEDDATASETCOUNTS,HW_TYPE,ASSET_CUSTODIAN_NAME,ASSET_CUSTODIAN_EMPLOYEEID,MODEL_NUMBER,STATE,CITY,MAC_ADDRESS,SEAT_NUMBER,RACK_NUMBER,ODC,MODEL_NAME,\n&quot;floor&quot;,DEPARTMENT,DATA_CENTRE_CLOSET,BUILDING,ASSET_USER,ASSET_TYPE,ASSET_CATEGORY,ASSET_AT_HCL_PREMISE,AMC_STATUS,AMC_START_DATE,AMC_END_DATE,ACCOUNT_NAME,\nPASSWORD_LAST_SET_ON,HW_LAST_SCANNED_ON,SW_LAST_SCANNED_ON,USER_LAST_LOGGED_ON,IN_HCL_SCOPE,DATACENTER,REGION,COUNTRY,OSI_CLUSTER_NAME,OSI_STATUS_CHANGED_ON,\nOSI_PORTFOLIO_ID,ENVIRONMENT,PROCESSOR_CORES,METALLIC,SITE_TYPE,OWNERSHIP_TYPE,OS_RELEASE_VERSION,OS_SERVICE_PACK,OS_VERSION,OS_TYPE,PROCESSOR_MEMORY,MANUFACTURER,\nPROCESSOR,OS_NAME,CORES,IP_ADDRESS,SERIAL_NUMBER,IS_VIRTUAL,FQDN,ASSET_TAG,HOSTNAME,AMC_SUPPORT_VENDOR,SUB_STATUS,DISC_SPACE,MEMORY,ERROR_MSG,JOBHISTORYID,\nPROCESSING_STATUS,MATCHING_OTHER_IDENTITY_KEY,MERGEPARENTIDS,DELETED_FLAG,TARGET_DS_NAME)\nVALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);\n</code></pre>\n<p><strong>PostgreSQL environment details</strong></p>\n<ul>\n<li>Hosted on AWS RDS</li>\n<li>version 13.3</li>\n<li>Instance type: (db.m5. large with 2vCPUs, 8GB RAM, 4750 MBPS with 3000 provisioned IOPS).</li>\n</ul>\n<p><strong>Key points:</strong></p>\n<ol>\n<li>The batch size is 600 records.</li>\n<li>There is no data type casting required in this query as data value is compatible with type so there is no bottleneck of type casting.</li>\n<li>There are no triggers in the table.</li>\n<li>There are no multi-value inserts.</li>\n</ol>\n<p><strong>What I have tried besides finetuning the query-</strong>\n•   Drop indexes before starting the import, re-create them afterwards.\n•   Tried inserting data on a dedicated postgres instance\n•   tried increasing batch size to 2000 records</p>\n<p><a href=\"https://i.stack.imgur.com/ZlHVk.png\" rel=\"nofollow noreferrer\">Monitoring snapshot of PostgreSQL performance</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11658485,"reputation":772,"user_id":8537531,"display_name":"Safeer Ansari"},"score":0,"creation_date":1565463053,"post_id":57444687,"comment_id":101365722,"body_markdown":"Could you please share the column type you are using for this add_date column in your database?","body":"Could you please share the column type you are using for this add_date column in your database?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640221480,"post_id":57444687,"comment_id":124546534,"body_markdown":"Wehere is the problem?? (There is no single string (except format pattern) in your post (code))","body":"Wehere is the problem?? (There is no single string (except format pattern) in your post (code))"},{"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"score":0,"creation_date":1640243642,"post_id":57444687,"comment_id":124549962,"body_markdown":"its about database column type, what is your add_date type and which database using?","body":"its about database column type, what is your add_date type and which database using?"}],"answers":[{"tags":[],"owner":{"account_id":9364422,"reputation":180,"user_id":6949810,"display_name":"Jean Alexandre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640220464,"creation_date":1640220464,"answer_id":70456598,"question_id":57444687,"body_markdown":"You didn&#39;t put the thymeleaf template, but the `@DateTimeFormat` annotation will only be taken into account if you use double bracket rather than simple bracket, i.e. `${{model.addDate}}` rather than `${model.addDate}`.","title":"SpringBoot2 @DateTimeFormat annotation with LocalDateTime doesn&#39;t work as i expected","body":"<p>You didn't put the thymeleaf template, but the <code>@DateTimeFormat</code> annotation will only be taken into account if you use double bracket rather than simple bracket, i.e. <code>${{model.addDate}}</code> rather than <code>${model.addDate}</code>.</p>\n"},{"tags":[],"owner":{"account_id":19184394,"reputation":153,"user_id":14015478,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640236291,"creation_date":1640236291,"answer_id":70457887,"question_id":57444687,"body_markdown":"You can use DateTimeFormatter class. But to convert, you need String representation of your date. Then parse it.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \r\n    customModel.setAddDate(LocalDateTime.parse(LocalDateTime.now().format(DateTimeFormatter.ISO_DATE_TIME)), formatter);\r\n    customModel.setLastModifyDate(LocalDateTime.parse(LocalDateTime.now().format(DateTimeFormatter.ISO_DATE_TIME)), formatter);","title":"SpringBoot2 @DateTimeFormat annotation with LocalDateTime doesn&#39;t work as i expected","body":"<p>You can use DateTimeFormatter class. But to convert, you need String representation of your date. Then parse it.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\ncustomModel.setAddDate(LocalDateTime.parse(LocalDateTime.now().format(DateTimeFormatter.ISO_DATE_TIME)), formatter);\ncustomModel.setLastModifyDate(LocalDateTime.parse(LocalDateTime.now().format(DateTimeFormatter.ISO_DATE_TIME)), formatter);\n</code></pre>\n"}],"owner":{"account_id":13363791,"reputation":127,"user_id":9644817,"display_name":"박예찬"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640236291,"creation_date":1565461613,"question_id":57444687,"body_markdown":"i want to convert ```LocalDateTime``` to ```YYYY-MM-DD HH:mm:ss``` format with ```@DateTimeFormat```.\r\n\r\nfollowing is my source code.\r\n\r\n - Entity Class\r\n\r\n```java\r\n@Entity // JPA Annotation\r\n@Setter // Lombok Annotations\r\n@Getter\r\npublic class CustomModel {\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n    private LocalDateTime addDate;\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n    private LocalDateTime lastModifyDate;\r\n}\r\n```\r\n\r\n - Controller Class\r\n```java\r\n...\r\nCustomModel customModel = new CustomModel();\r\ncustomModel.setAddDate(LocalDateTime.now());\r\ncustomModel.setLastModifyDate(LocalDateTime.now());\r\n...\r\n```\r\n\r\nand following is result.\r\n\r\n[![wrong date time format in db][1]][1]\r\n\r\nIn above image, i expected &#39;2019-08-11 03:08:56&#39;.\r\n\r\nBut result format is &#39;2019-08-11 03:08:56.814944&#39;.\r\n\r\nwhat is wrong??\r\n\r\n  [1]: https://i.stack.imgur.com/wN1G3.jpg","title":"SpringBoot2 @DateTimeFormat annotation with LocalDateTime doesn&#39;t work as i expected","body":"<p>i want to convert <code>LocalDateTime</code> to <code>YYYY-MM-DD HH:mm:ss</code> format with <code>@DateTimeFormat</code>.</p>\n\n<p>following is my source code.</p>\n\n<ul>\n<li>Entity Class</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity // JPA Annotation\n@Setter // Lombok Annotations\n@Getter\npublic class CustomModel {\n    @DateTimeFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ss\")\n    private LocalDateTime addDate;\n\n    @DateTimeFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ss\")\n    private LocalDateTime lastModifyDate;\n}\n</code></pre>\n\n<ul>\n<li>Controller Class</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>...\nCustomModel customModel = new CustomModel();\ncustomModel.setAddDate(LocalDateTime.now());\ncustomModel.setLastModifyDate(LocalDateTime.now());\n...\n</code></pre>\n\n<p>and following is result.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wN1G3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wN1G3.jpg\" alt=\"wrong date time format in db\"></a></p>\n\n<p>In above image, i expected '2019-08-11 03:08:56'.</p>\n\n<p>But result format is '2019-08-11 03:08:56.814944'.</p>\n\n<p>what is wrong??</p>\n"},{"tags":["java","spring","maven","maven-plugin","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"score":0,"creation_date":1622017244,"post_id":66380565,"comment_id":119665642,"body_markdown":"Using the jar command I am able to prepare a zip with the artifacts","body":"Using the jar command I am able to prepare a zip with the artifacts"}],"answers":[{"tags":[],"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640236200,"creation_date":1640236200,"answer_id":70457882,"question_id":66380565,"body_markdown":"Using &quot;jar -cf project.zip project-name&quot; command, zip is getting created.  ","title":"zip some modules including target directory from multi-module maven project","body":"<p>Using &quot;jar -cf project.zip project-name&quot; command, zip is getting created.</p>\n"}],"owner":{"account_id":3918263,"reputation":404,"user_id":3241554,"display_name":"sagar verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70457882,"answer_count":1,"score":1,"last_activity_date":1640236200,"creation_date":1614317032,"question_id":66380565,"body_markdown":"I have a multi-module maven project with the below hierarchy and wanted to create a zip after the mvn build and curl or upload it to one private repository. I am using the maven-assembly-plugin but it is not including the required directory. Please can you suggest something?\r\n```Mainproject\r\n|--subproject1\r\n   |--src/main/..\r\n   |--resoruces/..\r\n   |target/..\r\n   |pom.xml\r\n|--subproject2\r\n   |--src/main/..\r\n   |--resoruces/..\r\n   |pom.xml\r\npom.xml```\r\n\r\ncontent of zip.xml\r\n\r\n    &lt;assembly\r\n    \txmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\r\n    \t&lt;id&gt;project&lt;/id&gt;\r\n    \t&lt;formats&gt;\r\n    \t\t&lt;format&gt;zip&lt;/format&gt;\r\n    \t&lt;/formats&gt;\r\n    \t&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n        &lt;!--&lt;fileSet&gt;&lt;/fileSet&gt;--&gt;\r\n          &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;${project.basedir}/subproject1&lt;/directory&gt;\r\n                &lt;outputDirectory&gt;&lt;/outputDirectory&gt;\r\n                &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.log&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/fileSet&gt;\r\n          &lt;/fileSets&gt;\r\n            &lt;files&gt;\r\n                &lt;file&gt;\r\n                    &lt;source&gt; ${project.basedir}/pom.xml&lt;/source&gt;\r\n                    &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;/file&gt;\r\n            &lt;/files&gt;\r\n    \r\n    &lt;/assembly&gt;\r\n    \r\n    below plugin is added in pom.xml of subproject1\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;\r\n    \t\t\t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t\t\t&lt;descriptor&gt;zip.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\n```\r\nI wanted to create a zip with subproject1 includes src, resources, and target folder. Kindly assist.","title":"zip some modules including target directory from multi-module maven project","body":"<p>I have a multi-module maven project with the below hierarchy and wanted to create a zip after the mvn build and curl or upload it to one private repository. I am using the maven-assembly-plugin but it is not including the required directory. Please can you suggest something?</p>\n<pre><code>|--subproject1\n   |--src/main/..\n   |--resoruces/..\n   |target/..\n   |pom.xml\n|--subproject2\n   |--src/main/..\n   |--resoruces/..\n   |pom.xml\npom.xml```\n\ncontent of zip.xml\n\n    &lt;assembly\n        xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\n        &lt;id&gt;project&lt;/id&gt;\n        &lt;formats&gt;\n            &lt;format&gt;zip&lt;/format&gt;\n        &lt;/formats&gt;\n        &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n        &lt;!--&lt;fileSet&gt;&lt;/fileSet&gt;--&gt;\n          &lt;fileSets&gt;\n            &lt;fileSet&gt;\n                &lt;directory&gt;${project.basedir}/subproject1&lt;/directory&gt;\n                &lt;outputDirectory&gt;&lt;/outputDirectory&gt;\n                &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.log&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/fileSet&gt;\n          &lt;/fileSets&gt;\n            &lt;files&gt;\n                &lt;file&gt;\n                    &lt;source&gt; ${project.basedir}/pom.xml&lt;/source&gt;\n                    &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n                &lt;/file&gt;\n            &lt;/files&gt;\n    \n    &lt;/assembly&gt;\n    \n    below plugin is added in pom.xml of subproject1\n    &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;single&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;appendAssemblyId&gt;true&lt;/appendAssemblyId&gt;\n                                &lt;descriptors&gt;\n                                    &lt;descriptor&gt;zip.xml&lt;/descriptor&gt;\n                                &lt;/descriptors&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n\n</code></pre>\n<p>I wanted to create a zip with subproject1 includes src, resources, and target folder. Kindly assist.</p>\n"},{"tags":["java","android","kotlin","mobile"],"comments":[{"owner":{"account_id":7691387,"reputation":5367,"user_id":5827565,"accept_rate":73,"display_name":"Pavel Poley"},"score":0,"creation_date":1687372506,"post_id":60125192,"comment_id":134929124,"body_markdown":"any solution for this issue?","body":"any solution for this issue?"}],"answers":[{"tags":[],"owner":{"account_id":7165479,"reputation":141,"user_id":5474736,"display_name":"michael chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640235799,"creation_date":1640235799,"answer_id":70457842,"question_id":60125192,"body_markdown":"because it will throw OOM for some devices,\r\nto solve this, you can set sampleSize when decode using ImageDecoder\r\n\r\n```\r\nval source = ImageDecoder.createSource(context.contentResolver, imageUri)\r\nval listener = ImageDecoder.OnHeaderDecodedListener { decoder, info, source -&gt;\r\n    var scaleFactor = (info.size.width / 1280).coerceAtMost(info.size.height / 1280)\r\n    if (scaleFactor &lt; 1) scaleFactor = 1\r\n    decoder.setTargetSampleSize(scaleFactor)\r\n    decoder.setOnPartialImageListener {\r\n        true\r\n    }\r\n}\r\nImageDecoder.decodeBitmap(source)\r\n```\r\n\r\nReference: https://developer.android.com/reference/android/graphics/ImageDecoder#setTargetSampleSize(int)","title":"App crashes while using ImageDecoder#createSource(contentResolver, uri)","body":"<p>because it will throw OOM for some devices,\nto solve this, you can set sampleSize when decode using ImageDecoder</p>\n<pre><code>val source = ImageDecoder.createSource(context.contentResolver, imageUri)\nval listener = ImageDecoder.OnHeaderDecodedListener { decoder, info, source -&gt;\n    var scaleFactor = (info.size.width / 1280).coerceAtMost(info.size.height / 1280)\n    if (scaleFactor &lt; 1) scaleFactor = 1\n    decoder.setTargetSampleSize(scaleFactor)\n    decoder.setOnPartialImageListener {\n        true\n    }\n}\nImageDecoder.decodeBitmap(source)\n</code></pre>\n<p>Reference: <a href=\"https://developer.android.com/reference/android/graphics/ImageDecoder#setTargetSampleSize(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/graphics/ImageDecoder#setTargetSampleSize(int)</a></p>\n"}],"owner":{"account_id":11212459,"reputation":943,"user_id":8226150,"display_name":"Abdulsalam Opeyemi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640235799,"creation_date":1581150833,"question_id":60125192,"body_markdown":"Trying to replace the deprecated code for retrieving images from Uri \r\n\r\n&gt; MediaStore#Images#Media#getBitmap(contentResolver, uri)\r\n\r\n with the new \r\n\r\n&gt; ImageDecoder#createSource(contentResolver, uri)\r\n\r\nHere is my new Code:\r\n\r\n    Bitmap thumbNail;\r\n                            if (Build.VERSION.SDK_INT &lt; 28) {\r\n                                thumbNail = MediaStore.Images.Media.getBitmap(\r\n                                        getContentResolver(),\r\n                                        data.getData()\r\n                                );\r\n                            } else {\r\n                                ImageDecoder.Source source = ImageDecoder.createSource(getContentResolver(), data.getData());\r\n                                thumbNail = ImageDecoder.decodeBitmap(source);\r\n                            }\r\n\r\nBut I noticed that anytime I tried using it to process an image of a relatively large size of about 2MB to 3.5MB. The app crashes which message\r\n\r\n&gt; Channel is unrecoverably broken and will be disposed!\r\n\r\nCould I be doing something wrong or is it not suitable for handling larger image files? The app works fine when I resolve to use the deprecated method:\r\n\r\n&gt; MediaStore#Images#Media#getBitmap(contentResolver, uri).","title":"App crashes while using ImageDecoder#createSource(contentResolver, uri)","body":"<p>Trying to replace the deprecated code for retrieving images from Uri </p>\n\n<blockquote>\n  <p>MediaStore#Images#Media#getBitmap(contentResolver, uri)</p>\n</blockquote>\n\n<p>with the new </p>\n\n<blockquote>\n  <p>ImageDecoder#createSource(contentResolver, uri)</p>\n</blockquote>\n\n<p>Here is my new Code:</p>\n\n<pre><code>Bitmap thumbNail;\n                        if (Build.VERSION.SDK_INT &lt; 28) {\n                            thumbNail = MediaStore.Images.Media.getBitmap(\n                                    getContentResolver(),\n                                    data.getData()\n                            );\n                        } else {\n                            ImageDecoder.Source source = ImageDecoder.createSource(getContentResolver(), data.getData());\n                            thumbNail = ImageDecoder.decodeBitmap(source);\n                        }\n</code></pre>\n\n<p>But I noticed that anytime I tried using it to process an image of a relatively large size of about 2MB to 3.5MB. The app crashes which message</p>\n\n<blockquote>\n  <p>Channel is unrecoverably broken and will be disposed!</p>\n</blockquote>\n\n<p>Could I be doing something wrong or is it not suitable for handling larger image files? The app works fine when I resolve to use the deprecated method:</p>\n\n<blockquote>\n  <p>MediaStore#Images#Media#getBitmap(contentResolver, uri).</p>\n</blockquote>\n"},{"tags":["java","android","sql-server","stored-procedures"],"comments":[{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":0,"creation_date":1635937049,"post_id":69823113,"comment_id":123423222,"body_markdown":"Use the debugger. Step through your code line-by-line. Presumably the WHILE statement finds nothing and returns FALSE. Is that correct?","body":"Use the debugger. Step through your code line-by-line. Presumably the WHILE statement finds nothing and returns FALSE. Is that correct?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1635940374,"post_id":69823113,"comment_id":123424401,"body_markdown":"Is `con` initialized?","body":"Is <code>con</code> initialized?"},{"owner":{"account_id":12716426,"reputation":139,"user_id":9238313,"display_name":"Nuggets08"},"score":0,"creation_date":1636087861,"post_id":69823113,"comment_id":123468952,"body_markdown":"@SMor well when I execute the stored procedure, it does return something and there is only one column.","body":"@SMor well when I execute the stored procedure, it does return something and there is only one column."},{"owner":{"account_id":12716426,"reputation":139,"user_id":9238313,"display_name":"Nuggets08"},"score":0,"creation_date":1636087885,"post_id":69823113,"comment_id":123468956,"body_markdown":"@AlwaysLearning yes","body":"@AlwaysLearning yes"}],"answers":[{"tags":[],"owner":{"account_id":23331922,"reputation":215,"user_id":17408195,"display_name":"mohsen mashhadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640235495,"creation_date":1640235495,"answer_id":70457817,"question_id":69823113,"body_markdown":"I do not know what your table is like in SQL Server, but I think instead of one you should put zero or write the name of the column.\r\nYou can also get values by creating a list of numbers and then displaying them\r\nDo not forget that with debugging you can check for the first step whether the data is called from the database or not.","title":"Unable to display text from stored procedure to textview - Android SQL Server","body":"<p>I do not know what your table is like in SQL Server, but I think instead of one you should put zero or write the name of the column.\nYou can also get values by creating a list of numbers and then displaying them\nDo not forget that with debugging you can check for the first step whether the data is called from the database or not.</p>\n"}],"owner":{"account_id":12716426,"reputation":139,"user_id":9238313,"display_name":"Nuggets08"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640235495,"creation_date":1635934550,"question_id":69823113,"body_markdown":"My issue is I have created a stored procedure to retrieve the max value from a table and I want to display this in my textview. But this doesn&#39;t seem to work. No errors are shown in the logs.\r\n\r\nNotes:\r\n- I have tested my stored procedure and it works fine.  \r\n- This is a fragment, not an activity (don&#39;t know if that&#39;s the issue)\r\n\r\nBelow are my codes:\r\n\r\nIn the `onCreate` method - trying to retrieve the max value which contains only 1 column\r\n\r\n```\r\ntxtMaxValue.findViewById(R.id.txtMaxValues);\r\n\r\ntry {\r\n    if (con != null) {\r\n        String query = &quot;exec dbo.RetrieveMaxValue&quot;;\r\n        Statement stmt = con.createStatement();\r\n        ResultSet resultSet = stmt.executeQuery(query);\r\n\r\n        while (resultSet.next()) {\r\n            txtMaxValue.setText(resultSet.getString(1));\r\n        }\r\n    }\r\n} catch (SQLException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Unable to display text from stored procedure to textview - Android SQL Server","body":"<p>My issue is I have created a stored procedure to retrieve the max value from a table and I want to display this in my textview. But this doesn't seem to work. No errors are shown in the logs.</p>\n<p>Notes:</p>\n<ul>\n<li>I have tested my stored procedure and it works fine.</li>\n<li>This is a fragment, not an activity (don't know if that's the issue)</li>\n</ul>\n<p>Below are my codes:</p>\n<p>In the <code>onCreate</code> method - trying to retrieve the max value which contains only 1 column</p>\n<pre><code>txtMaxValue.findViewById(R.id.txtMaxValues);\n\ntry {\n    if (con != null) {\n        String query = &quot;exec dbo.RetrieveMaxValue&quot;;\n        Statement stmt = con.createStatement();\n        ResultSet resultSet = stmt.executeQuery(query);\n\n        while (resultSet.next()) {\n            txtMaxValue.setText(resultSet.getString(1));\n        }\n    }\n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640085144,"post_id":70434113,"comment_id":124506497,"body_markdown":"Please provide a [mre] that includes a basic (simplified) example of the stored procedure you&#39;re executing and the Java code you use to execute.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes a basic (simplified) example of the stored procedure you&#39;re executing and the Java code you use to execute."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1640093249,"post_id":70434113,"comment_id":124509414,"body_markdown":"Are you sure the procedure is defined in PostgreSQL database? The syntax resemble `Oracle`...","body":"Are you sure the procedure is defined in PostgreSQL database? The syntax resemble <code>Oracle</code>..."},{"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"score":0,"creation_date":1640104561,"post_id":70434113,"comment_id":124514157,"body_markdown":"Yes, the procedure is from Oracle was recently migrated into PostgreSQL. The source copy for the PostgreSQL was not handy hence added the Oracle version of the procedure. The PostgreSQL procedure has no issues and runs fine when running from pgAdmin client. But, when invoked from JDBC it throws the above error. It appears to be some limitation on the Driver.","body":"Yes, the procedure is from Oracle was recently migrated into PostgreSQL. The source copy for the PostgreSQL was not handy hence added the Oracle version of the procedure. The PostgreSQL procedure has no issues and runs fine when running from pgAdmin client. But, when invoked from JDBC it throws the above error. It appears to be some limitation on the Driver."}],"answers":[{"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640170157,"creation_date":1640107079,"answer_id":70439263,"question_id":70434113,"body_markdown":"I&#39;m testing the procedure call with *multiple OUT parameter* in JDBC with PostgreSQL 14.1 and driver 42.2.20.\r\n\r\nSome care must be taken, as the ANSI call fails\r\n\r\n    cn.prepareCall(&quot;{call proc1(?,?,?,?)}&quot;)\r\n\r\nwith `org.postgresql.util.PSQLException: ERROR: proc1(character varying, integer) is a procedure\r\n  Hint: To call a procedure, use CALL.`  This may be connected with [this][1] answer\r\n\r\nSimilar fails also the PostgreSQL CALL `cn.prepareCall(&quot;call proc1(?,?,?,?)&quot;)` with\r\n\r\n`Caught: org.postgresql.util.PSQLException: ERROR: invalid input syntax for type integer: &quot;null&quot;`. This suggest a problem with the `null`*integer* `OUT`paramater.\r\n\r\nI finally get it with a bit *hack* defining the `integer` parameter as `INOUT` and passing zero.\r\n\r\n**Procedure**\r\n\r\n    create or replace PROCEDURE proc1(input1 IN varchar(10), input2 IN integer, output1 INOUT integer, output2 OUT varchar(10))\r\n    LANGUAGE plpgsql\r\n    AS $$\r\n    BEGIN\r\n    output2 := input1;\r\n    output1 := input2;\r\n    END;\r\n    $$;\r\n\r\n**JDBC**\r\n\r\n    // procedure call with two OUT parameter \r\n    stmt = cn.prepareCall(&quot;call proc1(?,?,?,?)&quot;) \r\n    stmt.setString(1,&#39;x&#39;)\r\n    stmt.setInt(2,100)\r\n    stmt.setInt(3,0)\r\n    stmt.registerOutParameter(3,Types.INTEGER)\r\n    stmt.registerOutParameter(4,Types.VARCHAR)\r\n    stmt.execute()\r\n    println  stmt.getInt(3)\r\n    println  stmt.getString(4)\r\n\r\nreturns as expected \r\n\r\n    100\r\n    x\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53634135/4808122","title":"Callable Statement - PostgreSQL - Multiple Out Parameters","body":"<p>I'm testing the procedure call with <em>multiple OUT parameter</em> in JDBC with PostgreSQL 14.1 and driver 42.2.20.</p>\n<p>Some care must be taken, as the ANSI call fails</p>\n<pre><code>cn.prepareCall(&quot;{call proc1(?,?,?,?)}&quot;)\n</code></pre>\n<p>with <code>org.postgresql.util.PSQLException: ERROR: proc1(character varying, integer) is a procedure Hint: To call a procedure, use CALL.</code>  This may be connected with <a href=\"https://stackoverflow.com/a/53634135/4808122\">this</a> answer</p>\n<p>Similar fails also the PostgreSQL CALL <code>cn.prepareCall(&quot;call proc1(?,?,?,?)&quot;)</code> with</p>\n<p><code>Caught: org.postgresql.util.PSQLException: ERROR: invalid input syntax for type integer: &quot;null&quot;</code>. This suggest a problem with the <code>null</code><em>integer</em> <code>OUT</code>paramater.</p>\n<p>I finally get it with a bit <em>hack</em> defining the <code>integer</code> parameter as <code>INOUT</code> and passing zero.</p>\n<p><strong>Procedure</strong></p>\n<pre><code>create or replace PROCEDURE proc1(input1 IN varchar(10), input2 IN integer, output1 INOUT integer, output2 OUT varchar(10))\nLANGUAGE plpgsql\nAS $$\nBEGIN\noutput2 := input1;\noutput1 := input2;\nEND;\n$$;\n</code></pre>\n<p><strong>JDBC</strong></p>\n<pre><code>// procedure call with two OUT parameter \nstmt = cn.prepareCall(&quot;call proc1(?,?,?,?)&quot;) \nstmt.setString(1,'x')\nstmt.setInt(2,100)\nstmt.setInt(3,0)\nstmt.registerOutParameter(3,Types.INTEGER)\nstmt.registerOutParameter(4,Types.VARCHAR)\nstmt.execute()\nprintln  stmt.getInt(3)\nprintln  stmt.getString(4)\n</code></pre>\n<p>returns as expected</p>\n<pre><code>100\nx\n</code></pre>\n"}],"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2248,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70439263,"answer_count":1,"score":4,"last_activity_date":1640235331,"creation_date":1640083171,"question_id":70434113,"body_markdown":"We have a stored procedure in a PostgreSQL DB that takes multiple input and multiple out parameters. The procedure call from the PG Admin client works fine when we do the following,\r\n\r\ncall proc1(input1, input2, output1, output2) \r\n\r\nHowever, if we try to make this call through a JDBC CallableStatement, we get the below error,\r\n\r\n    org.postgresql.util.PSQLException: This statement does not declare an OUT parameter.  Use { ?= call ... } to declare one.\r\n    \tat org.postgresql.jdbc.PgCallableStatement.registerOutParameter(PgCallableStatement.java:205)\r\n\r\nThe PostgreSQL driver is &quot;org.postgresql.Driver&quot;\r\n\r\nThe Driver version is postgressql-42.2.5.jar\r\n\r\nHow do we make a call to PostgreSQL procedure that has multiple output parameters from JDBC?\r\n\r\n\r\nPlease find below the code snippet,\r\n\r\n    public static void main(String args[]) throws SQLException {\r\n            Connection conn = null;\r\n    \t\ttry {\r\n    \t\t\tString url = &quot;jdbc:postgresql://&lt;&lt;hostname&gt;&gt;:&lt;&lt;port&gt;&gt;/&lt;&lt;DB&gt;&gt;&quot;;\r\n    \r\n    \t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n    \t\t\t\r\n                Properties props = new Properties();\r\n                props.setProperty(&quot;user&quot;, &quot;&lt;&lt;user&gt;&gt;&quot;);\r\n                props.setProperty(&quot;password&quot;, &quot;&lt;&lt;pass&gt;&gt;&quot;);\r\n                \r\n    \t\t\tconn = DriverManager.getConnection(url, props);\r\n                CallableStatement cs = conn.prepareCall(&quot;call schema.proc1(?,?,?,?)&quot;);\r\n    \t\t\t\r\n    \t\t\tcs.setString(1, &quot;test&quot;);\r\n                cs.setInt(2, 1000);\r\n                cs.registerOutParameter(3, Types.INTEGER);\r\n                cs.registerOutParameter(4, Types.VARCHAR);\r\n                \r\n    \t\t\tcs.execute();\r\n    \t\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(e);\r\n    \t\t} finally {\r\n    \t\t\tif (conn != null) {\r\n    \t\t\t\tconn.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    }\r\n\r\nBelow is the sample version of the Procedure\r\n\r\n```\r\nProcedure proc1 is (input1 IN varchar2(10), \r\n      input2 IN number, output1 OUT number, \r\n      output2 OUT varchar2(10)) IS\r\nBEGIN\r\noutput2 := input1;\r\noutput1 := input2;\r\nEND;\r\n```","title":"Callable Statement - PostgreSQL - Multiple Out Parameters","body":"<p>We have a stored procedure in a PostgreSQL DB that takes multiple input and multiple out parameters. The procedure call from the PG Admin client works fine when we do the following,</p>\n<p>call proc1(input1, input2, output1, output2)</p>\n<p>However, if we try to make this call through a JDBC CallableStatement, we get the below error,</p>\n<pre><code>org.postgresql.util.PSQLException: This statement does not declare an OUT parameter.  Use { ?= call ... } to declare one.\n    at org.postgresql.jdbc.PgCallableStatement.registerOutParameter(PgCallableStatement.java:205)\n</code></pre>\n<p>The PostgreSQL driver is &quot;org.postgresql.Driver&quot;</p>\n<p>The Driver version is postgressql-42.2.5.jar</p>\n<p>How do we make a call to PostgreSQL procedure that has multiple output parameters from JDBC?</p>\n<p>Please find below the code snippet,</p>\n<pre><code>public static void main(String args[]) throws SQLException {\n        Connection conn = null;\n        try {\n            String url = &quot;jdbc:postgresql://&lt;&lt;hostname&gt;&gt;:&lt;&lt;port&gt;&gt;/&lt;&lt;DB&gt;&gt;&quot;;\n\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n            \n            Properties props = new Properties();\n            props.setProperty(&quot;user&quot;, &quot;&lt;&lt;user&gt;&gt;&quot;);\n            props.setProperty(&quot;password&quot;, &quot;&lt;&lt;pass&gt;&gt;&quot;);\n            \n            conn = DriverManager.getConnection(url, props);\n            CallableStatement cs = conn.prepareCall(&quot;call schema.proc1(?,?,?,?)&quot;);\n            \n            cs.setString(1, &quot;test&quot;);\n            cs.setInt(2, 1000);\n            cs.registerOutParameter(3, Types.INTEGER);\n            cs.registerOutParameter(4, Types.VARCHAR);\n            \n            cs.execute();\n            \n        } catch (Exception e) {\n            log.error(e);\n        } finally {\n            if (conn != null) {\n                conn.close();\n            }\n        }\n}\n</code></pre>\n<p>Below is the sample version of the Procedure</p>\n<pre><code>Procedure proc1 is (input1 IN varchar2(10), \n      input2 IN number, output1 OUT number, \n      output2 OUT varchar2(10)) IS\nBEGIN\noutput2 := input1;\noutput1 := input2;\nEND;\n</code></pre>\n"},{"tags":["java","payment","applepay","applepayjs","applepay-web"],"comments":[{"owner":{"account_id":923053,"reputation":3941,"user_id":954358,"accept_rate":47,"display_name":"Ahsan Shah"},"score":0,"creation_date":1640235039,"post_id":70241755,"comment_id":124548382,"body_markdown":"The only clue I got is to remove the registered card and add it back","body":"The only clue I got is to remove the registered card and add it back"},{"owner":{"account_id":7696003,"reputation":1535,"user_id":5830500,"display_name":"Wael Alshabani"},"score":0,"creation_date":1686577459,"post_id":70241755,"comment_id":134813615,"body_markdown":"Do you have any updates on this issue? I&#39;m facing the same thing.","body":"Do you have any updates on this issue? I&#39;m facing the same thing."}],"owner":{"account_id":923053,"reputation":3941,"user_id":954358,"accept_rate":47,"display_name":"Ahsan Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640234889,"creation_date":1638773321,"question_id":70241755,"body_markdown":"I am getting ApplePayCancelEvent with &#39;sessionError&#39; right after successful apple pay session creation in my web app.\r\n\r\nOn the browser, it shows apple pay payment dialog with &#39;Payment Not Completed&#39; message and the dialog got closed.\r\n\r\nFollowing are the safari console logs:\r\n--------------------------------------\r\n\r\n```\r\n[Log] getApplePaySession() for: https://apple-pay-gateway-cert.apple.com/paymentservices/startSession\r\n[Log] getApplePaySession().onload() status: 200\r\n[Log] ApplePayCancelEvent {isTrusted: true, sessionError: {code: &quot;unknown&quot;, info: {}}, type: &quot;cancel&quot;, target: ApplePaySession, currentTarget: ApplePaySession, …}\r\n```\r\n\r\nany clue.. folks ??","title":"ApplePay Web - sessionError {code:&quot;unknown&quot;}","body":"<p>I am getting ApplePayCancelEvent with 'sessionError' right after successful apple pay session creation in my web app.</p>\n<p>On the browser, it shows apple pay payment dialog with 'Payment Not Completed' message and the dialog got closed.</p>\n<h2>Following are the safari console logs:</h2>\n<pre><code>[Log] getApplePaySession() for: https://apple-pay-gateway-cert.apple.com/paymentservices/startSession\n[Log] getApplePaySession().onload() status: 200\n[Log] ApplePayCancelEvent {isTrusted: true, sessionError: {code: &quot;unknown&quot;, info: {}}, type: &quot;cancel&quot;, target: ApplePaySession, currentTarget: ApplePaySession, …}\n</code></pre>\n<p>any clue.. folks ??</p>\n"},{"tags":["java","spring-boot","mapping","mapstruct"],"comments":[{"owner":{"account_id":4294979,"reputation":914,"user_id":3510285,"display_name":"Hatice"},"score":0,"creation_date":1579869820,"post_id":59894382,"comment_id":105920858,"body_markdown":"Did you remove the generated-source in the target folder? @Shermeen","body":"Did you remove the generated-source in the target folder? @Shermeen"},{"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1579869821,"post_id":59894382,"comment_id":105920859,"body_markdown":"@Shermeen Not sure but as per my knowledge &#39;target&#39; pointed to entity and you&#39;re defining column instead of that so it gives an error. Try this, @Mapping(source = &quot;schoolId&quot;, target=&quot;school&quot;)","body":"@Shermeen Not sure but as per my knowledge &#39;target&#39; pointed to entity and you&#39;re defining column instead of that so it gives an error. Try this, @Mapping(source = &quot;schoolId&quot;, target=&quot;school&quot;)"},{"owner":{"account_id":15713517,"reputation":303,"user_id":11338261,"display_name":"Shermeen"},"score":0,"creation_date":1579871923,"post_id":59894382,"comment_id":105921780,"body_markdown":"@Hatice i have tried removing target folder as well but not working","body":"@Hatice i have tried removing target folder as well but not working"},{"owner":{"account_id":15713517,"reputation":303,"user_id":11338261,"display_name":"Shermeen"},"score":0,"creation_date":1579872084,"post_id":59894382,"comment_id":105921867,"body_markdown":"@Dhwani its not working as well :(","body":"@Dhwani its not working as well :("},{"owner":{"account_id":4294979,"reputation":914,"user_id":3510285,"display_name":"Hatice"},"score":1,"creation_date":1579875127,"post_id":59894382,"comment_id":105923506,"body_markdown":"@Shermeen Why did you put school.schoolId for target field? If this is correct, why the other target field is just schoolName instead of school.schoolName Please, change the images with code. Could you try groupDto.schoolId for source field and target just schoolId?","body":"@Shermeen Why did you put school.schoolId for target field? If this is correct, why the other target field is just schoolName instead of school.schoolName Please, change the images with code. Could you try groupDto.schoolId for source field and target just schoolId?"},{"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"score":0,"creation_date":1579925668,"post_id":59894382,"comment_id":105939006,"body_markdown":"@Shermeen Can you share your configured code? So we cross verify it. Still i add one example in answer portion please check it.","body":"@Shermeen Can you share your configured code? So we cross verify it. Still i add one example in answer portion please check it."}],"answers":[{"tags":[],"owner":{"account_id":13059268,"reputation":2323,"user_id":9437031,"display_name":"Dhwanil Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579926065,"creation_date":1579926065,"answer_id":59906293,"question_id":59894382,"body_markdown":"@Shermeen Can you share your configured code? \r\n\r\nSo we cross verify it. Still i add this example please check it.\r\n\r\n\r\nStructure\r\n-------------\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nEntityMapper.java\r\n-------------------\r\n\r\n    public interface EntityMapper&lt;D, E&gt; {\r\n      E toEntity(D dto);\r\n      D toDTO(E entity);\r\n      List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\r\n      List&lt;D&gt; toDTO(List&lt;E&gt; entityList);\r\n    }\r\n\r\nUserMapper.java\r\n-----------------\r\n\r\n    import com.ecommerce.auth_service.domain.external_db.User;\r\n    import com.ecommerce.auth_service.domain.external_db.dto.UserDTO;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;, uses = {UserMapper.class})\r\n    public interface UserMapper extends EntityMapper&lt;UserDTO, User&gt; {\r\n    \r\n      @Mapping(source = &quot;user_id&quot;, target = &quot;user&quot;)\r\n    \r\n      default User fromId(UUID id) {\r\n        if (id == null)\r\n          return null;\r\n        User user = new User();\r\n        user.setUserId(id);\r\n        return user;\r\n      }\r\n    }\r\n\r\nUserMapperImpl.java\r\n--------------------\r\n\r\n    import com.ecommerce.auth_service.domain.external_db.User;\r\n    import com.ecommerce.auth_service.domain.external_db.dto.UserDTO;\r\n    import com.ecommerce.auth_service.domain.external_db.mapper.UserMapper;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Component\r\n    public class UserMapperImpl implements UserMapper {\r\n      @Override\r\n      public User toEntity(UserDTO dto) {\r\n        if (dto == null)\r\n          return null;\r\n    \r\n        User user = new User();\r\n        user.setUserId(dto.getUserId());\r\n        user.setUsername(dto.getUsername());\r\n        user.setEmail(dto.getEmail());\r\n        user.setPassword(dto.getPassword());\r\n        user.setPhoneNo(dto.getPhoneNumber());\r\n        user.setStatus(dto.getStatus());\r\n        user.setStore(dto.getStoreId());\r\n        user.setAuthority(dto.getAuthority());\r\n        user.setPrivileges(dto.getAuthority().getPrivileges());\r\n    \r\n        return user;\r\n      }\r\n    \r\n      @Override\r\n      public UserDTO toDTO(User entity) {\r\n        if (entity == null) {\r\n          return null;\r\n        }\r\n    \r\n        UserDTO userDTO = new UserDTO();\r\n    \r\n        userDTO.setUserId(entity.getUserId());\r\n        userDTO.setUsername(entity.getUsername());\r\n        userDTO.setEmail(entity.getEmail());\r\n        userDTO.setPassword(entity.getPassword());\r\n        userDTO.setPhoneNumber(entity.getPhoneNo());\r\n        userDTO.setStatus(entity.getStatus());\r\n        userDTO.setStoreId(entity.getStore());\r\n    \r\n        entity.getAuthority().setPrivileges(entity.getPrivileges());\r\n        userDTO.setAuthority(entity.getAuthority());\r\n    \r\n        userDTO.setCreatedBy(entity.getCreatedBy());\r\n        userDTO.setCreatedDate(entity.getCreatedDate());\r\n        userDTO.setModifiedBy(entity.getModifiedBy());\r\n        userDTO.setModifiedDate(entity.getModifiedDate());\r\n    \r\n        return userDTO;\r\n      }\r\n    \r\n      @Override\r\n      public List&lt;User&gt; toEntity(List&lt;UserDTO&gt; dtoList) {\r\n        if (dtoList == null || dtoList.isEmpty())\r\n          return null;\r\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;(dtoList.size());\r\n        for (UserDTO userDTO : dtoList) {\r\n          userList.add(toEntity(userDTO));\r\n        }\r\n        return userList;\r\n      }\r\n    \r\n      @Override\r\n      public List&lt;UserDTO&gt; toDTO(List&lt;User&gt; entityList) {\r\n        if (entityList == null)\r\n          return null;\r\n        List&lt;UserDTO&gt; userDTOList = new ArrayList&lt;&gt;(entityList.size());\r\n        for (User user : entityList) {\r\n          userDTOList.add(toDTO(user));\r\n        }\r\n        return userDTOList;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WD83A.png","title":"@Mapping @Mapper Error No source parameter(s) exists","body":"<p>@Shermeen Can you share your configured code? </p>\n\n<p>So we cross verify it. Still i add this example please check it.</p>\n\n<h2>Structure</h2>\n\n<p><a href=\"https://i.stack.imgur.com/WD83A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WD83A.png\" alt=\"enter image description here\"></a></p>\n\n<h2>EntityMapper.java</h2>\n\n<pre><code>public interface EntityMapper&lt;D, E&gt; {\n  E toEntity(D dto);\n  D toDTO(E entity);\n  List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\n  List&lt;D&gt; toDTO(List&lt;E&gt; entityList);\n}\n</code></pre>\n\n<h2>UserMapper.java</h2>\n\n<pre><code>import com.ecommerce.auth_service.domain.external_db.User;\nimport com.ecommerce.auth_service.domain.external_db.dto.UserDTO;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\n\nimport java.util.UUID;\n\n@Mapper(componentModel = \"spring\", uses = {UserMapper.class})\npublic interface UserMapper extends EntityMapper&lt;UserDTO, User&gt; {\n\n  @Mapping(source = \"user_id\", target = \"user\")\n\n  default User fromId(UUID id) {\n    if (id == null)\n      return null;\n    User user = new User();\n    user.setUserId(id);\n    return user;\n  }\n}\n</code></pre>\n\n<h2>UserMapperImpl.java</h2>\n\n<pre><code>import com.ecommerce.auth_service.domain.external_db.User;\nimport com.ecommerce.auth_service.domain.external_db.dto.UserDTO;\nimport com.ecommerce.auth_service.domain.external_db.mapper.UserMapper;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Component\npublic class UserMapperImpl implements UserMapper {\n  @Override\n  public User toEntity(UserDTO dto) {\n    if (dto == null)\n      return null;\n\n    User user = new User();\n    user.setUserId(dto.getUserId());\n    user.setUsername(dto.getUsername());\n    user.setEmail(dto.getEmail());\n    user.setPassword(dto.getPassword());\n    user.setPhoneNo(dto.getPhoneNumber());\n    user.setStatus(dto.getStatus());\n    user.setStore(dto.getStoreId());\n    user.setAuthority(dto.getAuthority());\n    user.setPrivileges(dto.getAuthority().getPrivileges());\n\n    return user;\n  }\n\n  @Override\n  public UserDTO toDTO(User entity) {\n    if (entity == null) {\n      return null;\n    }\n\n    UserDTO userDTO = new UserDTO();\n\n    userDTO.setUserId(entity.getUserId());\n    userDTO.setUsername(entity.getUsername());\n    userDTO.setEmail(entity.getEmail());\n    userDTO.setPassword(entity.getPassword());\n    userDTO.setPhoneNumber(entity.getPhoneNo());\n    userDTO.setStatus(entity.getStatus());\n    userDTO.setStoreId(entity.getStore());\n\n    entity.getAuthority().setPrivileges(entity.getPrivileges());\n    userDTO.setAuthority(entity.getAuthority());\n\n    userDTO.setCreatedBy(entity.getCreatedBy());\n    userDTO.setCreatedDate(entity.getCreatedDate());\n    userDTO.setModifiedBy(entity.getModifiedBy());\n    userDTO.setModifiedDate(entity.getModifiedDate());\n\n    return userDTO;\n  }\n\n  @Override\n  public List&lt;User&gt; toEntity(List&lt;UserDTO&gt; dtoList) {\n    if (dtoList == null || dtoList.isEmpty())\n      return null;\n    List&lt;User&gt; userList = new ArrayList&lt;&gt;(dtoList.size());\n    for (UserDTO userDTO : dtoList) {\n      userList.add(toEntity(userDTO));\n    }\n    return userList;\n  }\n\n  @Override\n  public List&lt;UserDTO&gt; toDTO(List&lt;User&gt; entityList) {\n    if (entityList == null)\n      return null;\n    List&lt;UserDTO&gt; userDTOList = new ArrayList&lt;&gt;(entityList.size());\n    for (User user : entityList) {\n      userDTOList.add(toDTO(user));\n    }\n    return userDTOList;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16838507,"reputation":1504,"user_id":12174440,"display_name":"turong"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1621943813,"creation_date":1621943459,"answer_id":67687357,"question_id":59894382,"body_markdown":"I think you should **re-order** the **lombok** and **mapstruct** dependencies in the pom.xml file and it works fine.\r\n\r\nStrict ordering should be like this\r\n\r\n 1. lombok\r\n 2. mapstruct\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tft1c.png","title":"@Mapping @Mapper Error No source parameter(s) exists","body":"<p>I think you should <strong>re-order</strong> the <strong>lombok</strong> and <strong>mapstruct</strong> dependencies in the pom.xml file and it works fine.</p>\n<p>Strict ordering should be like this</p>\n<ol>\n<li>lombok</li>\n<li>mapstruct</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Tft1c.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Tft1c.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8601381,"reputation":1496,"user_id":6442877,"accept_rate":64,"display_name":"Seyed Ali Roshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640234832,"creation_date":1640234832,"answer_id":70457752,"question_id":59894382,"body_markdown":"I had the most wired experience about it. in my case, I didn&#39;t declare any *annotationProcessorPaths* in my pom.xml, I just added dependencies in my pom like this:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nby only re-ordering it and moving up the lombok dependency the problem fixed :|\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"@Mapping @Mapper Error No source parameter(s) exists","body":"<p>I had the most wired experience about it. in my case, I didn't declare any <em>annotationProcessorPaths</em> in my pom.xml, I just added dependencies in my pom like this:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>by only re-ordering it and moving up the lombok dependency the problem fixed :|</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15713517,"reputation":303,"user_id":11338261,"display_name":"Shermeen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7816,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1640234832,"creation_date":1579860934,"question_id":59894382,"body_markdown":"  I have been shifting my project from spring to Spring Boot and introducing embedded tomcat there were some adaptations i have to do Only issue i am facing in my Old project i have Mapper interface.\r\n\r\nand when i compile project it start giving error \r\n\r\n**Error:(12, 5) java: No property named &quot;schoolId&quot; exists in source parameter(s).**\r\n\r\nI have search alot about it some said **lombok** dependency placement in pom i tried placing it before and after **map-struct** dependency but error is still here \r\n\r\n**Following is my class**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Following is error i am facing**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vKFx9.png\r\n  [2]: https://i.stack.imgur.com/KHs1u.png","title":"@Mapping @Mapper Error No source parameter(s) exists","body":"<p>I have been shifting my project from spring to Spring Boot and introducing embedded tomcat there were some adaptations i have to do Only issue i am facing in my Old project i have Mapper interface.</p>\n\n<p>and when i compile project it start giving error </p>\n\n<p><strong>Error:(12, 5) java: No property named \"schoolId\" exists in source parameter(s).</strong></p>\n\n<p>I have search alot about it some said <strong>lombok</strong> dependency placement in pom i tried placing it before and after <strong>map-struct</strong> dependency but error is still here </p>\n\n<p><strong>Following is my class</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/vKFx9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKFx9.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Following is error i am facing</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/KHs1u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHs1u.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","kotlin","searchview","android-collapsingtoolbarlayout"],"answers":[{"tags":[],"owner":{"account_id":20094764,"reputation":2497,"user_id":14734532,"display_name":"DrHowdyDoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640234734,"creation_date":1640234734,"answer_id":70457744,"question_id":70456368,"body_markdown":"You can resize your search view programatically when your toolbar is collapsed.\r\n\r\nTry this :\r\n\r\n    SearchView searchView = findViewById(R.id.search);\r\n    AppBarLayout appBarLayout = findViewById(R.id.app_bar);\r\n\r\n    appBarLayout.addOnOffsetChangedListener(new AppBarLayout.OnOffsetChangedListener() {\r\n        @Override\r\n        public void onOffsetChanged(AppBarLayout appBarLayout, int verticalOffset) {\r\n            if (verticalOffset == 0)\r\n            {\r\n               // Fully expanded\r\n               searchView.getLayoutParams().width = CollapsingToolbarLayout.LayoutParams.MATCH_PARENT;\r\n\r\n            }\r\n            else\r\n            {\r\n               // Not fully expanded or Collapsed\r\n               searchView.getLayoutParams().width = dpToPx(200);\r\n            }\r\n        }\r\n    });\r\n\r\nHere we are using a function to change dp into px as width is taken in pixels.\r\n\r\n**dpToPx(int dp) :**\r\n\r\n    public int dpToPx(int dp) {\r\n        float density = this.getResources()\r\n                .getDisplayMetrics()\r\n                .density;\r\n        return Math.round((float) dp * density);\r\n    }\r\n\r\n\r\n \r\n","title":"How Resize search view width with animation, when toolbar collapse [ADNROID]","body":"<p>You can resize your search view programatically when your toolbar is collapsed.</p>\n<p>Try this :</p>\n<pre><code>SearchView searchView = findViewById(R.id.search);\nAppBarLayout appBarLayout = findViewById(R.id.app_bar);\n\nappBarLayout.addOnOffsetChangedListener(new AppBarLayout.OnOffsetChangedListener() {\n    @Override\n    public void onOffsetChanged(AppBarLayout appBarLayout, int verticalOffset) {\n        if (verticalOffset == 0)\n        {\n           // Fully expanded\n           searchView.getLayoutParams().width = CollapsingToolbarLayout.LayoutParams.MATCH_PARENT;\n\n        }\n        else\n        {\n           // Not fully expanded or Collapsed\n           searchView.getLayoutParams().width = dpToPx(200);\n        }\n    }\n});\n</code></pre>\n<p>Here we are using a function to change dp into px as width is taken in pixels.</p>\n<p><strong>dpToPx(int dp) :</strong></p>\n<pre><code>public int dpToPx(int dp) {\n    float density = this.getResources()\n            .getDisplayMetrics()\n            .density;\n    return Math.round((float) dp * density);\n}\n</code></pre>\n"}],"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640234734,"creation_date":1640217770,"question_id":70456368,"body_markdown":"Hello guys I have search view in collapsing toolbar, I want to resize searchView width when toolbar collapse, for example, when toolbar is not collapsed search View width is &quot;match_parent&quot; and when user will scroll down and toolbar collapses search View should width should became  for example 200dp . how can I achieve this?  \r\n\r\nxml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:background=&quot;@color/black&quot;&gt;\r\n    \r\n    \r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/appBar&quot;\r\n            style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;80dp&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n                android:id=&quot;@+id/collapsingToolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:fitsSystemWindows=&quot;true&quot;\r\n                app:expandedTitleMarginBottom=&quot;20dp&quot;\r\n                app:expandedTitleMarginStart=&quot;15dp&quot;\r\n                app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed|snap&quot;&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.SearchView\r\n                    android:id=&quot;@+id/searchView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;40dp&quot;\r\n                    android:padding=&quot;10dp&quot;\r\n                    android:background=&quot;@color/white&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;\r\n                    android:clickable=&quot;false&quot;/&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;40dp&quot;&gt;\r\n    \r\n                    &lt;TextView\r\n                        android:layout_width=&quot;180dp&quot;\r\n                        android:layout_height=&quot;30dp&quot;\r\n                        android:layout_gravity=&quot;start&quot;\r\n                        android:text=&quot;TITLE&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;30sp&quot;\r\n                        app:layout_collapseMode=&quot;parallax&quot;/&gt;\r\n    \r\n    \r\n                &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    \r\n                &lt;com.google.android.material.imageview.ShapeableImageView\r\n                    android:layout_width=&quot;27dp&quot;\r\n                    android:layout_height=&quot;27dp&quot;\r\n                    android:layout_gravity=&quot;right&quot;\r\n                    android:paddingTop=&quot;5dp&quot;\r\n                    android:paddingEnd=&quot;5dp&quot;\r\n                    app:layout_collapseMode=&quot;pin&quot;\r\n                    app:srcCompat=&quot;@drawable/ic_baseline_boy_24&quot;&gt;\r\n                &lt;/com.google.android.material.imageview.ShapeableImageView&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n    \r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\r\n    \r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/text_home&quot;\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;dasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadas&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n**here is gif of my app** \r\nhttps://im5.ezgif.com/tmp/ezgif-5-7e95a858c4.gif\r\n","title":"How Resize search view width with animation, when toolbar collapse [ADNROID]","body":"<p>Hello guys I have search view in collapsing toolbar, I want to resize searchView width when toolbar collapse, for example, when toolbar is not collapsed search View width is &quot;match_parent&quot; and when user will scroll down and toolbar collapses search View should width should became  for example 200dp . how can I achieve this?</p>\n<p>xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;10dp&quot;\n    android:background=&quot;@color/black&quot;&gt;\n\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appBar&quot;\n        style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;80dp&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:id=&quot;@+id/collapsingToolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            app:expandedTitleMarginBottom=&quot;20dp&quot;\n            app:expandedTitleMarginStart=&quot;15dp&quot;\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed|snap&quot;&gt;\n\n            &lt;androidx.appcompat.widget.SearchView\n                android:id=&quot;@+id/searchView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:padding=&quot;10dp&quot;\n                android:background=&quot;@color/white&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:clickable=&quot;false&quot;/&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;40dp&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;180dp&quot;\n                    android:layout_height=&quot;30dp&quot;\n                    android:layout_gravity=&quot;start&quot;\n                    android:text=&quot;TITLE&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:textSize=&quot;30sp&quot;\n                    app:layout_collapseMode=&quot;parallax&quot;/&gt;\n\n\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n            &lt;com.google.android.material.imageview.ShapeableImageView\n                android:layout_width=&quot;27dp&quot;\n                android:layout_height=&quot;27dp&quot;\n                android:layout_gravity=&quot;right&quot;\n                android:paddingTop=&quot;5dp&quot;\n                android:paddingEnd=&quot;5dp&quot;\n                app:layout_collapseMode=&quot;pin&quot;\n                app:srcCompat=&quot;@drawable/ic_baseline_boy_24&quot;&gt;\n            &lt;/com.google.android.material.imageview.ShapeableImageView&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/text_home&quot;\n            android:layout_width=&quot;100dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;dasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadasdasdsadas&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p><strong>here is gif of my app</strong>\n<a href=\"https://im5.ezgif.com/tmp/ezgif-5-7e95a858c4.gif\" rel=\"nofollow noreferrer\">https://im5.ezgif.com/tmp/ezgif-5-7e95a858c4.gif</a></p>\n"},{"tags":["java","hyperlink","onclick","wicket"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1481617090,"post_id":41113258,"comment_id":69436763,"body_markdown":"Are there any errors (JavaScript or in the server logs) ? Is there an HTTP request for the second click on the link?","body":"Are there any errors (JavaScript or in the server logs) ? Is there an HTTP request for the second click on the link?"},{"owner":{"account_id":1806085,"reputation":31,"user_id":1643154,"display_name":"Sabrina Monica"},"score":0,"creation_date":1481682075,"post_id":41113258,"comment_id":69471600,"body_markdown":"There was no error in JavaScript or in the server logs. Im sorry for being a noob but idk how to check if there was an HTTP request for the second click on the link.","body":"There was no error in JavaScript or in the server logs. Im sorry for being a noob but idk how to check if there was an HTTP request for the second click on the link."},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":1,"creation_date":1481696300,"post_id":41113258,"comment_id":69475460,"body_markdown":"In the browser&#39;s DevTools &gt; Network tab","body":"In the browser&#39;s DevTools &gt; Network tab"},{"owner":{"account_id":1806085,"reputation":31,"user_id":1643154,"display_name":"Sabrina Monica"},"score":0,"creation_date":1481772978,"post_id":41113258,"comment_id":69513772,"body_markdown":"Yes there was an HTTP request for the second click. The first and second clicks have the same Request Headers data except for If-Modified-Since.","body":"Yes there was an HTTP request for the second click. The first and second clicks have the same Request Headers data except for If-Modified-Since."},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1481788969,"post_id":41113258,"comment_id":69519362,"body_markdown":"It seems Wicket doesn&#39;t allow the click for some reason. Can you create a mini application that reproduces the issue and share it somewhere ?","body":"It seems Wicket doesn&#39;t allow the click for some reason. Can you create a mini application that reproduces the issue and share it somewhere ?"},{"owner":{"account_id":1806085,"reputation":31,"user_id":1643154,"display_name":"Sabrina Monica"},"score":0,"creation_date":1482202185,"post_id":41113258,"comment_id":69667822,"body_markdown":"I&#39;ll work on that. Will notify you once it&#39;s done. Thanks","body":"I&#39;ll work on that. Will notify you once it&#39;s done. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":18651933,"reputation":31,"user_id":13595210,"display_name":"jerry118118"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640232787,"creation_date":1640232787,"answer_id":70457589,"question_id":41113258,"body_markdown":"I am not sure if this solution can fix your problem. But in my case, I have to download a new pdf when executing the onclick function, and I found out that you have to add `.setCacheDuration(Duration.ONE_SECOND)` such that the onclick function will be called in the second time.\r\n\r\n```\r\ngetRequestCycle().scheduleRequestHandlerAfterCurrent(\r\n    new ResourceStreamRequestHandler(resourceStream)\r\n        .setFileName(&quot;my.pdf&quot;)\r\n        .setContentDisposition(ContentDisposition.ATTACHMENT)\r\n        .setCacheDuration(Duration.ONE_SECOND)\r\n);  \r\n```","title":"java wicket link onclick code does not execute on second click","body":"<p>I am not sure if this solution can fix your problem. But in my case, I have to download a new pdf when executing the onclick function, and I found out that you have to add <code>.setCacheDuration(Duration.ONE_SECOND)</code> such that the onclick function will be called in the second time.</p>\n<pre><code>getRequestCycle().scheduleRequestHandlerAfterCurrent(\n    new ResourceStreamRequestHandler(resourceStream)\n        .setFileName(&quot;my.pdf&quot;)\n        .setContentDisposition(ContentDisposition.ATTACHMENT)\n        .setCacheDuration(Duration.ONE_SECOND)\n);  \n</code></pre>\n"}],"owner":{"account_id":1806085,"reputation":31,"user_id":1643154,"display_name":"Sabrina Monica"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640232787,"creation_date":1481599544,"question_id":41113258,"body_markdown":"I have created a fragment inside a page which contains a Dataview and inside it is a Link. The dataview contains the link which has the member&#39;s name and other columns with the member&#39;s info like the birthdate. The Link is supposed to show the information of the selected member using JasperSoft(PDF). The thing is on the first click it all goes well but on the next clicks it does not execute the code inside the onclick(). But it still shows the report. It retrieves the data from cache.\r\n\r\n    private class SearchResultFragment extends Fragment {\r\n\t\tprivate SearchResultFragment(String id, String markupId) {\r\n\t\t\tsuper(id, markupId, MemberInformationReportFilterPage.this);\r\n\t\t\t\r\n\t\t\tsetOutputMarkupId(true);\r\n\t\t\t\t\t\r\n\t\t\tDataView&lt;Member&gt; dataView = new DataView&lt;Member&gt;(&quot;dataView&quot;, dataProvider) {\r\n\t\t\t\tprotected void populateItem(Item&lt;Member&gt; item) {\r\n\t\t\t\t\tfinal MemberModel memberModel = new MemberModel(item.getModelObject());\r\n\t\t\t\t\t\r\n\t\t\t\t\tLink&lt;Void&gt; link = new Link&lt;Void&gt;(&quot;link&quot;) {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onClick() {\r\n\t\t\t\t\t\t\ttry {/*method to show the PDF report containing the member&#39;s info */\r\n\t\t\t\t\t\t\t    reportService.showJasperReport(LocalConstants.REPORT_SOURCE_MEMBERSHIP, getRequestCycle(), getData(memberModel), &quot;member_information.jrxml&quot;, getParam(memberModel));\r\n\t\t\t\t\t\t\t} catch (InvalidParameterException|ReportsException e) {\r\n\t\t\t\t\t\t\t\tsetRendered(false);\r\n\t\t\t\t\t\t\t\tlogger.errorException(e.getClass(), e.getMessage());\r\n\t\t\t\t\t\t\t\tgetSession().error(e.getFeedbackMessage());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlink.add(new AttributeAppender(&quot;target&quot;, Model.of(&quot;_blank&quot;)));\r\n\r\n\t\t\t\t\titem.add(link);\r\n\r\nGetting the data from cache should not be done here since the new updates of the member would not be shown. \r\n\r\nPlease suggest on what to do to ensure that the system would always execute the onclick code on every user click. Thanks","title":"java wicket link onclick code does not execute on second click","body":"<p>I have created a fragment inside a page which contains a Dataview and inside it is a Link. The dataview contains the link which has the member's name and other columns with the member's info like the birthdate. The Link is supposed to show the information of the selected member using JasperSoft(PDF). The thing is on the first click it all goes well but on the next clicks it does not execute the code inside the onclick(). But it still shows the report. It retrieves the data from cache.</p>\n\n<pre><code>private class SearchResultFragment extends Fragment {\n    private SearchResultFragment(String id, String markupId) {\n        super(id, markupId, MemberInformationReportFilterPage.this);\n\n        setOutputMarkupId(true);\n\n        DataView&lt;Member&gt; dataView = new DataView&lt;Member&gt;(\"dataView\", dataProvider) {\n            protected void populateItem(Item&lt;Member&gt; item) {\n                final MemberModel memberModel = new MemberModel(item.getModelObject());\n\n                Link&lt;Void&gt; link = new Link&lt;Void&gt;(\"link\") {\n                    @Override\n                    public void onClick() {\n                        try {/*method to show the PDF report containing the member's info */\n                            reportService.showJasperReport(LocalConstants.REPORT_SOURCE_MEMBERSHIP, getRequestCycle(), getData(memberModel), \"member_information.jrxml\", getParam(memberModel));\n                        } catch (InvalidParameterException|ReportsException e) {\n                            setRendered(false);\n                            logger.errorException(e.getClass(), e.getMessage());\n                            getSession().error(e.getFeedbackMessage());\n                        }\n                    }\n                };\n                link.add(new AttributeAppender(\"target\", Model.of(\"_blank\")));\n\n                item.add(link);\n</code></pre>\n\n<p>Getting the data from cache should not be done here since the new updates of the member would not be shown. </p>\n\n<p>Please suggest on what to do to ensure that the system would always execute the onclick code on every user click. Thanks</p>\n"},{"tags":["java","android","sqlite","join","database-cursor"],"comments":[{"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"score":0,"creation_date":1279503083,"post_id":3277908,"comment_id":11771947,"body_markdown":"Better to do this in SQL. Create a [VIEW](http://www.sqlite.org/lang_createview.html) with necessary [JOIN](http://www.sqlite.org/lang_select.html)s.","body":"Better to do this in SQL. Create a <a href=\"http://www.sqlite.org/lang_createview.html\" rel=\"nofollow noreferrer\">VIEW</a> with necessary <a href=\"http://www.sqlite.org/lang_select.html\" rel=\"nofollow noreferrer\">JOIN</a>s."},{"owner":{"account_id":930,"reputation":1137,"user_id":1491425,"accept_rate":93,"display_name":"Dale Marshall"},"score":0,"creation_date":1279597915,"post_id":3277908,"comment_id":11771948,"body_markdown":"I tried to do that but had problems getting my project to recognize it for some reason.","body":"I tried to do that but had problems getting my project to recognize it for some reason."},{"owner":{"account_id":133137,"reputation":13350,"user_id":334270,"accept_rate":100,"display_name":"Zsolt Safrany"},"score":1,"creation_date":1329485706,"post_id":3277908,"comment_id":11771951,"body_markdown":"http://stackoverflow.com/a/4957197/334270","body":"<a href=\"http://stackoverflow.com/a/4957197/334270\">stackoverflow.com/a/4957197/334270</a>"}],"answers":[{"tags":[],"owner":{"account_id":64147,"reputation":11176,"user_id":189511,"display_name":"Tim Kryger"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1279509265,"creation_date":1279509265,"answer_id":3278251,"question_id":3277908,"body_markdown":"In the implementation of [SQLiteDatabase][1] and [SQLiteQueryBuilder][2] you will see that it is possible to pass the tables you want to join to the `table` argument of [`query`][3] even though the documentation implies it will only take a single name of a table.  The documentation for [SQLiteQueryBuilder][4] is more clear and even suggests things like `foo, bar` or `foo LEFT OUTER JOIN bar ON (foo.id = bar.foo_id)`.\r\n\r\n\r\n  [1]: http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/database/sqlite/SQLiteDatabase.java;h=d4f9b2008b83f0131a57800eddf636391c88d492;hb=HEAD\r\n  [2]: http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/database/sqlite/SQLiteQueryBuilder.java;h=610bf7013e099f303e9ab67d6b4ef899a2bc03c2;hb=HEAD\r\n  [3]: http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#query(java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String)\r\n  [4]: http://developer.android.com/reference/android/database/sqlite/SQLiteQueryBuilder.html","title":"How to join tables using sqlite in android","body":"<p>In the implementation of <a href=\"http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/database/sqlite/SQLiteDatabase.java;h=d4f9b2008b83f0131a57800eddf636391c88d492;hb=HEAD\" rel=\"noreferrer\">SQLiteDatabase</a> and <a href=\"http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/database/sqlite/SQLiteQueryBuilder.java;h=610bf7013e099f303e9ab67d6b4ef899a2bc03c2;hb=HEAD\" rel=\"noreferrer\">SQLiteQueryBuilder</a> you will see that it is possible to pass the tables you want to join to the <code>table</code> argument of <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#query(java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"noreferrer\"><code>query</code></a> even though the documentation implies it will only take a single name of a table.  The documentation for <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteQueryBuilder.html\" rel=\"noreferrer\">SQLiteQueryBuilder</a> is more clear and even suggests things like <code>foo, bar</code> or <code>foo LEFT OUTER JOIN bar ON (foo.id = bar.foo_id)</code>.</p>\n"},{"tags":[],"owner":{"account_id":75603,"reputation":2329,"user_id":216804,"display_name":"bigsolom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406323835,"creation_date":1406323835,"answer_id":24964792,"question_id":3277908,"body_markdown":"If you&#39;re willing to use a third-party library, I recommend using Active Android \r\n\r\n[https://github.com/pardom/ActiveAndroid][1]\r\n\r\nusing it you can merge tables like this\r\n\r\n    From query = new Select()\r\n        .from(Foo.class)\r\n        .innerJoin(Bar.class)\r\n        .on(&quot;Foo.Id=Bar.Id&quot;);\r\n\r\nyou can even get a cursor back to use in loaders\r\n\r\n    Cursor cursor = Cache.openDatabase().rawQuery(query.toSql(), query.getArguments());\r\n\r\nmore details [here][2]\r\n\r\n\r\n  [1]: https://github.com/pardom/ActiveAndroid\r\n  [2]: https://github.com/pardom/ActiveAndroid/issues/65","title":"How to join tables using sqlite in android","body":"<p>If you're willing to use a third-party library, I recommend using Active Android </p>\n\n<p><a href=\"https://github.com/pardom/ActiveAndroid\" rel=\"nofollow\">https://github.com/pardom/ActiveAndroid</a></p>\n\n<p>using it you can merge tables like this</p>\n\n<pre><code>From query = new Select()\n    .from(Foo.class)\n    .innerJoin(Bar.class)\n    .on(\"Foo.Id=Bar.Id\");\n</code></pre>\n\n<p>you can even get a cursor back to use in loaders</p>\n\n<pre><code>Cursor cursor = Cache.openDatabase().rawQuery(query.toSql(), query.getArguments());\n</code></pre>\n\n<p>more details <a href=\"https://github.com/pardom/ActiveAndroid/issues/65\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":930,"reputation":1137,"user_id":1491425,"accept_rate":93,"display_name":"Dale Marshall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15459,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":3278251,"answer_count":2,"score":23,"last_activity_date":1640232667,"creation_date":1279502158,"question_id":3277908,"body_markdown":"I am trying to find out how to do a simple table join on my two tables using a sqlite database in an android application.  \r\n\r\nIs the simplest way to use CursorJoiner or is there any easier way?","title":"How to join tables using sqlite in android","body":"<p>I am trying to find out how to do a simple table join on my two tables using a sqlite database in an android application.</p>\n<p>Is the simplest way to use CursorJoiner or is there any easier way?</p>\n"},{"tags":["java","reactive-programming","project-reactor","reactor"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1640203264,"post_id":70454380,"comment_id":124542546,"body_markdown":"If your Flux times out, then it cannot return a string, I guess that&#39;s why it changes to Object. When you map, you shouldn&#39;t return the container type (that&#39;s what flatMap is for)","body":"If your Flux times out, then it cannot return a string, I guess that&#39;s why it changes to Object. When you map, you shouldn&#39;t return the container type (that&#39;s what flatMap is for)"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1640205616,"post_id":70454380,"comment_id":124543198,"body_markdown":"Are you confusing _throwing_ an `Exception` with returning it? They&#39;re not the same thing.  When you return something from a method, control is passed to the method that called your one.  When you throw something, control is passed to a `catch` clause, which might be several steps down the stack.","body":"Are you confusing <i>throwing</i> an <code>Exception</code> with returning it? They&#39;re not the same thing.  When you return something from a method, control is passed to the method that called your one.  When you throw something, control is passed to a <code>catch</code> clause, which might be several steps down the stack."}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640232424,"creation_date":1640232424,"answer_id":70457559,"question_id":70454380,"body_markdown":"You should move `timeout` before `handle`:\r\n\r\n```java\r\n return httpClient.exchange(req, TokenResponse.class)\r\n        .timeout(Duration.ofSeconds(10))\r\n        .handle((response, sink) -&gt; {\r\n```\r\n\r\nAs for the `map` case, take a look at the method signature:\r\n\r\n[&lt;V&gt; Flux&lt;V&gt; map(Function&lt;? super T,? extends V&gt; mapper)][1]\r\n\r\n`map` takes a `Function&lt;T, U&gt;` and returns a `Flux&lt;U&gt;`, returning `Flux.error` is invalid. You could simply use `throw` inside `map` and Reactor will turn it into a proper error signal **but** I think `handle` fits better in this case.\r\n\r\nUseful links:\r\n - [Correct way of throwing exceptions with Reactor][2]\r\n - [map vs flatMap in reactor][3]\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#map-java.util.function.Function-\r\n  [2]: https://stackoverflow.com/questions/53595420/correct-way-of-throwing-exceptions-with-reactor\r\n  [3]: https://stackoverflow.com/questions/49115135/map-vs-flatmap-in-reactor","title":"Returning an error changes method signature","body":"<p>You should move <code>timeout</code> before <code>handle</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> return httpClient.exchange(req, TokenResponse.class)\n        .timeout(Duration.ofSeconds(10))\n        .handle((response, sink) -&gt; {\n</code></pre>\n<p>As for the <code>map</code> case, take a look at the method signature:</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"> Flux map(Function&lt;? super T,? extends V&gt; mapper)</a></p>\n<p><code>map</code> takes a <code>Function&lt;T, U&gt;</code> and returns a <code>Flux&lt;U&gt;</code>, returning <code>Flux.error</code> is invalid. You could simply use <code>throw</code> inside <code>map</code> and Reactor will turn it into a proper error signal <strong>but</strong> I think <code>handle</code> fits better in this case.</p>\n<p>Useful links:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/53595420/correct-way-of-throwing-exceptions-with-reactor\">Correct way of throwing exceptions with Reactor</a></li>\n<li><a href=\"https://stackoverflow.com/questions/49115135/map-vs-flatmap-in-reactor\">map vs flatMap in reactor</a></li>\n</ul>\n"}],"owner":{"account_id":1136557,"reputation":4563,"user_id":1121521,"accept_rate":83,"display_name":"message"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1640232424,"creation_date":1640202458,"question_id":70454380,"body_markdown":"I had a sense from tutorials that returning a throwable, shouldn&#39;t change method return type.\r\n\r\nHere are my tries:\r\n\r\n1. When using `handle`, everything is fine until I add `.timeout()`, then function return type is changed to `Flux&lt;Object&gt;`\r\n\r\n```java\r\nprivate Flux&lt;String&gt; exampleHandle()\r\n{\r\n\tMutableHttpRequest&lt;String&gt; req = HttpRequest.GET(&quot;http://localhost:8080&quot;);\r\n\r\n\treturn httpClient.exchange(req, TokenResponse.class)\r\n\t\t.handle((response, sink) -&gt; {\r\n\t\t\tOptional&lt;TokenResponse&gt; optionalBody = response.getBody();\r\n\t\t\tif (optionalBody.isEmpty()) {\r\n\t\t\t\tsink.error(new InitializationException(&quot;Failed to fetch authentication token. Body is null.&quot;));\r\n\t\t\t} else {\r\n\t\t\t\tTokenResponse tokenResponse = optionalBody.get();\r\n\t\t\t\tString accessToken = tokenResponse.getAccessToken();\r\n\t\t\t\tif (accessToken != null) {\r\n\t\t\t\t\tsink.next(accessToken);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsink.error(new InitializationException(&quot;Failed to fetch authentication token. Authentication token is null.&quot;));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n       // .timeout(Duration.ofSeconds(10)); // Timeout changes return type to Flux&lt;Object&gt;\r\n}\r\n```\r\n\r\n2. When using `map` and `Flux.error` (i tried `Mono.error` also), function return type is changed to `Flux&lt;Object&gt;` when I introduce `Flux.error` in `map`\r\n```java\r\nprivate Flux&lt;String&gt; exampleMap()\r\n{\r\n\tMutableHttpRequest&lt;String&gt; req = HttpRequest.GET(&quot;http://localhost:8080&quot;);\r\n\r\n\treturn httpClient.exchange(req, TokenResponse.class)\r\n\t\t.map(response -&gt; {\r\n\t\t\tOptional&lt;TokenResponse&gt; optionalBody = response.getBody();\r\n\t\t\tif (optionalBody.isEmpty()) {\r\n\t\t\t\treturn Flux.error(new InitializationException(&quot;Failed to fetch authentication token. Body is null.&quot;));\r\n\t\t\t} else {\r\n\t\t\t\tTokenResponse tokenResponse = optionalBody.get();\r\n\t\t\t\tString accessToken = tokenResponse.getAccessToken();\r\n\t\t\t\tif (accessToken != null) {\r\n\t\t\t\t\treturn accessToken;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Flux.error(new InitializationException(&quot;Failed to fetch authentication token. Authentication token is null.&quot;));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n}\r\n```\r\n\r\nCan someone more knowledgeable explain me what am I doing wrong? Thank you!","title":"Returning an error changes method signature","body":"<p>I had a sense from tutorials that returning a throwable, shouldn't change method return type.</p>\n<p>Here are my tries:</p>\n<ol>\n<li>When using <code>handle</code>, everything is fine until I add <code>.timeout()</code>, then function return type is changed to <code>Flux&lt;Object&gt;</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private Flux&lt;String&gt; exampleHandle()\n{\n    MutableHttpRequest&lt;String&gt; req = HttpRequest.GET(&quot;http://localhost:8080&quot;);\n\n    return httpClient.exchange(req, TokenResponse.class)\n        .handle((response, sink) -&gt; {\n            Optional&lt;TokenResponse&gt; optionalBody = response.getBody();\n            if (optionalBody.isEmpty()) {\n                sink.error(new InitializationException(&quot;Failed to fetch authentication token. Body is null.&quot;));\n            } else {\n                TokenResponse tokenResponse = optionalBody.get();\n                String accessToken = tokenResponse.getAccessToken();\n                if (accessToken != null) {\n                    sink.next(accessToken);\n                } else {\n                    sink.error(new InitializationException(&quot;Failed to fetch authentication token. Authentication token is null.&quot;));\n                }\n            }\n        });\n       // .timeout(Duration.ofSeconds(10)); // Timeout changes return type to Flux&lt;Object&gt;\n}\n</code></pre>\n<ol start=\"2\">\n<li>When using <code>map</code> and <code>Flux.error</code> (i tried <code>Mono.error</code> also), function return type is changed to <code>Flux&lt;Object&gt;</code> when I introduce <code>Flux.error</code> in <code>map</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private Flux&lt;String&gt; exampleMap()\n{\n    MutableHttpRequest&lt;String&gt; req = HttpRequest.GET(&quot;http://localhost:8080&quot;);\n\n    return httpClient.exchange(req, TokenResponse.class)\n        .map(response -&gt; {\n            Optional&lt;TokenResponse&gt; optionalBody = response.getBody();\n            if (optionalBody.isEmpty()) {\n                return Flux.error(new InitializationException(&quot;Failed to fetch authentication token. Body is null.&quot;));\n            } else {\n                TokenResponse tokenResponse = optionalBody.get();\n                String accessToken = tokenResponse.getAccessToken();\n                if (accessToken != null) {\n                    return accessToken;\n                } else {\n                    return Flux.error(new InitializationException(&quot;Failed to fetch authentication token. Authentication token is null.&quot;));\n                }\n            }\n        });\n}\n</code></pre>\n<p>Can someone more knowledgeable explain me what am I doing wrong? Thank you!</p>\n"},{"tags":["java","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":24655,"reputation":12535,"user_id":62848,"display_name":"Faisal Feroz"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1290237585,"creation_date":1290237585,"answer_id":4231665,"question_id":4231458,"body_markdown":"Robot class can do the trick for you. Here is a sample code for moving the mouse cursor:\r\n\r\n    try {\r\n        // These coordinates are screen coordinates\r\n        int xCoord = 500;\r\n        int yCoord = 500;\r\n    \r\n        // Move the cursor\r\n        Robot robot = new Robot();\r\n        robot.mouseMove(xCoord, yCoord);\r\n    } catch (AWTException e) {\r\n    }","title":"Moving the cursor in Java","body":"<p>Robot class can do the trick for you. Here is a sample code for moving the mouse cursor:</p>\n\n<pre><code>try {\n    // These coordinates are screen coordinates\n    int xCoord = 500;\n    int yCoord = 500;\n\n    // Move the cursor\n    Robot robot = new Robot();\n    robot.mouseMove(xCoord, yCoord);\n} catch (AWTException e) {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6976685,"reputation":61,"user_id":5351214,"display_name":"Blake T"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1442591768,"creation_date":1442590709,"answer_id":32655965,"question_id":4231458,"body_markdown":"Hi this will just be adding on. I use a Raspberry PI a lot so I&#39;ve had to learn how to optimize my code this will be a lot shorter.\r\n\r\n    try {\r\n        //moves mouse to the middle of the screen\r\n\t    new Robot().mouseMove((int) Toolkit.getDefaultToolkit().getScreenSize().getWidth() / 2, (int) Toolkit.getDefaultToolkit().getScreenSize().getHeight() / 2);\r\n\t    //remember to use try-catch block (always, and remember to delete this)\r\n\t} catch (AWTException e) {\r\n        e.printStackTrace();\r\n\t}\r\n\r\ndon&#39;t forget to import:\r\n\r\n    import java.awt.*;","title":"Moving the cursor in Java","body":"<p>Hi this will just be adding on. I use a Raspberry PI a lot so I've had to learn how to optimize my code this will be a lot shorter.</p>\n\n<pre><code>try {\n    //moves mouse to the middle of the screen\n    new Robot().mouseMove((int) Toolkit.getDefaultToolkit().getScreenSize().getWidth() / 2, (int) Toolkit.getDefaultToolkit().getScreenSize().getHeight() / 2);\n    //remember to use try-catch block (always, and remember to delete this)\n} catch (AWTException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>don't forget to import:</p>\n\n<pre><code>import java.awt.*;\n</code></pre>\n"}],"owner":{"account_id":204938,"reputation":31067,"user_id":453435,"accept_rate":83,"display_name":"Ky -"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60394,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":4231665,"answer_count":2,"score":27,"last_activity_date":1640232308,"creation_date":1290233066,"question_id":4231458,"body_markdown":"I want to make an app that measures the cursor&#39;s distance from the center of a component and then moves the cursor back to the center (like most PC video games do). Does anyone have any suggestions?","title":"Moving the cursor in Java","body":"<p>I want to make an app that measures the cursor's distance from the center of a component and then moves the cursor back to the center (like most PC video games do). Does anyone have any suggestions?</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":268428,"reputation":50179,"user_id":557179,"accept_rate":100,"display_name":"Nikola Despotoski"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1341328955,"creation_date":1314555156,"answer_id":7222901,"question_id":7222873,"body_markdown":"What about testing the cursor like this, and then doing what you&#39;ve said:\r\n\r\n    if(cursor!=null &amp;&amp; cursor.getCount()&gt;0)\r\n\r\n\r\n&gt; getCount ()\r\n\r\nReturns the numbers of rows in the cursor\r\n\r\nhttp://developer.android.com/reference/android/database/Cursor.html#getCount()","title":"How To Test If Cursor Is Empty in a SQLiteDatabase Query","body":"<p>What about testing the cursor like this, and then doing what you've said:</p>\n\n<pre><code>if(cursor!=null &amp;&amp; cursor.getCount()&gt;0)\n</code></pre>\n\n<blockquote>\n  <p>getCount ()</p>\n</blockquote>\n\n<p>Returns the numbers of rows in the cursor</p>\n\n<p><a href=\"http://developer.android.com/reference/android/database/Cursor.html#getCount()\" rel=\"noreferrer\">http://developer.android.com/reference/android/database/Cursor.html#getCount()</a></p>\n"},{"tags":[],"owner":{"account_id":343674,"reputation":14545,"user_id":675552,"accept_rate":82,"display_name":"SBerg413"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1433346045,"creation_date":1314555388,"answer_id":7222915,"question_id":7222873,"body_markdown":"The easiest and cleanest way to test for an empty cursor is the following code:\r\n\r\n    if ( cursor.moveToFirst() ) {\r\n        // start activity a\r\n    } else {\r\n        // start activity b\r\n    }\r\n\r\n\r\nPer the docs, the method returns false if the cursor is empty:\r\n\r\nhttp://developer.android.com/reference/android/database/Cursor.html#moveToFirst%28%29\r\n\r\n&gt; public abstract boolean moveToFirst ()\r\n&gt; \r\n&gt; Added in API level 1 Move the cursor to the first row.\r\n&gt; \r\n&gt; **This method will return false if the cursor is empty**.\r\n&gt; \r\n&gt; Returns whether the move succeeded.\r\n\r\n","title":"How To Test If Cursor Is Empty in a SQLiteDatabase Query","body":"<p>The easiest and cleanest way to test for an empty cursor is the following code:</p>\n\n<pre><code>if ( cursor.moveToFirst() ) {\n    // start activity a\n} else {\n    // start activity b\n}\n</code></pre>\n\n<p>Per the docs, the method returns false if the cursor is empty:</p>\n\n<p><a href=\"http://developer.android.com/reference/android/database/Cursor.html#moveToFirst%28%29\" rel=\"noreferrer\">http://developer.android.com/reference/android/database/Cursor.html#moveToFirst%28%29</a></p>\n\n<blockquote>\n  <p>public abstract boolean moveToFirst ()</p>\n  \n  <p>Added in API level 1 Move the cursor to the first row.</p>\n  \n  <p><strong>This method will return false if the cursor is empty</strong>.</p>\n  \n  <p>Returns whether the move succeeded.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":369779,"reputation":25497,"user_id":717341,"accept_rate":93,"display_name":"Lukas Knuth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1314555753,"creation_date":1314555753,"answer_id":7222966,"question_id":7222873,"body_markdown":"My suggestion would be using a [`ListActivity`][1].\r\n\r\nThose are Activity&#39;s which are meant to display items in a `ListView`. You can simply use a [`SimpleCursorAdapter`][2] to populate them (also illustrated in the `ListActivity`s JavaDoc page).\r\n\r\nThey also offer a [`setEmptyView()`-method][3], which can be used to display a `View` (might be a `TextView`) which informs the user that there are no records yet and how he can create one.\r\n\r\nAn example on how to do that can be found [here][4].\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/app/ListActivity.html\r\n  [2]: http://developer.android.com/reference/android/widget/SimpleCursorAdapter.html\r\n  [3]: http://developer.android.com/reference/android/widget/AdapterView.html#setEmptyView%28android.view.View%29\r\n  [4]: https://stackoverflow.com/questions/2397203/problem-using-setemptyview-on-a-listactivity","title":"How To Test If Cursor Is Empty in a SQLiteDatabase Query","body":"<p>My suggestion would be using a <a href=\"http://developer.android.com/reference/android/app/ListActivity.html\" rel=\"nofollow noreferrer\"><code>ListActivity</code></a>.</p>\n\n<p>Those are Activity's which are meant to display items in a <code>ListView</code>. You can simply use a <a href=\"http://developer.android.com/reference/android/widget/SimpleCursorAdapter.html\" rel=\"nofollow noreferrer\"><code>SimpleCursorAdapter</code></a> to populate them (also illustrated in the <code>ListActivity</code>s JavaDoc page).</p>\n\n<p>They also offer a <a href=\"http://developer.android.com/reference/android/widget/AdapterView.html#setEmptyView%28android.view.View%29\" rel=\"nofollow noreferrer\"><code>setEmptyView()</code>-method</a>, which can be used to display a <code>View</code> (might be a <code>TextView</code>) which informs the user that there are no records yet and how he can create one.</p>\n\n<p>An example on how to do that can be found <a href=\"https://stackoverflow.com/questions/2397203/problem-using-setemptyview-on-a-listactivity\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":238702,"reputation":173,"user_id":507767,"accept_rate":100,"display_name":"Minolan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314557055,"creation_date":1314556696,"answer_id":7223061,"question_id":7222873,"body_markdown":"You just need to use getCount().\r\nIf your sql is correct but doesn&#39;t return any row you will have a NOT null cursor object but without a rows and getCount() will return 0.","title":"How To Test If Cursor Is Empty in a SQLiteDatabase Query","body":"<p>You just need to use getCount().\nIf your sql is correct but doesn't return any row you will have a NOT null cursor object but without a rows and getCount() will return 0.</p>\n"},{"tags":[],"owner":{"account_id":441986,"reputation":369,"user_id":832388,"display_name":"AndroidDebaser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316613884,"creation_date":1316613884,"answer_id":7501175,"question_id":7222873,"body_markdown":"I believe your problem is you&#39;re not creating a proper query.\r\n\r\nYou should use the SQLiteDatabase query.\r\n\r\n    Cursor c = db.query(TABLE_NAME, null,\r\n\t       \t\tnull, null, null, null, null);\r\n\r\n\r\nYou then can use c.getCount() to determine if the table has anything.","title":"How To Test If Cursor Is Empty in a SQLiteDatabase Query","body":"<p>I believe your problem is you're not creating a proper query.</p>\n\n<p>You should use the SQLiteDatabase query.</p>\n\n<pre><code>Cursor c = db.query(TABLE_NAME, null,\n            null, null, null, null, null);\n</code></pre>\n\n<p>You then can use c.getCount() to determine if the table has anything.</p>\n"},{"tags":[],"owner":{"account_id":1030448,"reputation":21,"user_id":1038847,"display_name":"Stan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320891017,"creation_date":1320889265,"answer_id":8074038,"question_id":7222873,"body_markdown":"Deleted records remain in SQLite as null records, but `getCount()` counts only not null records. If your table has some records that are null, some of not null records will have `_Id` numbers bigger than result of `getCount()`. To reach them, you can iterate cursor ( using for() loop ) double the number of times than result of `getCount()` and use the cursor to fill record_Id numbers into an array. Lets say resulting array is `{ 1,  2, 5, 6, 7, 8, 9, 11, 12, 14 }`.\r\n\r\nThat means records 3, 4, 10, 13, are null records and your table has 14 record all together, not 10 that you got from `getCount()`.\r\n\r\nRemember: \r\n\r\n1. `getCount()` returns number of not null records ,\r\n2. cursor returns `_Id` numbers of not null records,\r\n3. `_Id` numbers &quot;missed&quot; by cursor are `_Id` numbers of null records,\r\n4. must reach sufficiently further than `getCount()` to get them all.\r\n","title":"How To Test If Cursor Is Empty in a SQLiteDatabase Query","body":"<p>Deleted records remain in SQLite as null records, but <code>getCount()</code> counts only not null records. If your table has some records that are null, some of not null records will have <code>_Id</code> numbers bigger than result of <code>getCount()</code>. To reach them, you can iterate cursor ( using for() loop ) double the number of times than result of <code>getCount()</code> and use the cursor to fill record_Id numbers into an array. Lets say resulting array is <code>{ 1,  2, 5, 6, 7, 8, 9, 11, 12, 14 }</code>.</p>\n\n<p>That means records 3, 4, 10, 13, are null records and your table has 14 record all together, not 10 that you got from <code>getCount()</code>.</p>\n\n<p>Remember: </p>\n\n<ol>\n<li><code>getCount()</code> returns number of not null records ,</li>\n<li>cursor returns <code>_Id</code> numbers of not null records,</li>\n<li><code>_Id</code> numbers \"missed\" by cursor are <code>_Id</code> numbers of null records,</li>\n<li>must reach sufficiently further than <code>getCount()</code> to get them all.</li>\n</ol>\n"}],"owner":{"account_id":477173,"reputation":1559,"user_id":888510,"accept_rate":30,"display_name":"Waneya Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57133,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":6,"score":24,"last_activity_date":1640232188,"creation_date":1314554967,"question_id":7222873,"body_markdown":"I have an SQL table which is created by the following code:\r\n\r\n    public void onCreate(SQLiteDatabase db) {\r\n    \tdb.execSQL(&quot;CREATE TABLE &quot; + TABLE_NAME + &quot; (&quot; + _ID\r\n    \t\t+ &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + SUBJECT\r\n    \t\t+ &quot; TEXT NOT NULL,&quot; + TOPIC + &quot; TEXT NOT NULL, &quot;\r\n    \t\t+ LECTURENUMBER + &quot; TEXT NOT NULL, &quot; + PAGENUMBER\r\n    \t\t+ &quot; TEXT NOT NULL, &quot; + DATE + &quot; TEXT NOT NULL, &quot; + _DATA\r\n    \t\t+ &quot; TEXT NOT NULL);&quot;);\r\n    }\r\n\r\nI query the table as follows:\r\n\r\n    String sql = &quot;SELECT &quot; + _ID + &quot;,&quot; + SUBJECT + &quot; FROM &quot; + TABLE_NAME\r\n    \t+ &quot; GROUP BY &quot; + SUBJECT + &quot;;&quot;;\r\n    \r\n    Cursor cursor = subjects.getReadableDatabase().rawQuery(sql, null);\r\n\r\nThe problem is I have to start an Activity A if the cursor is empty(i.e. the table is storing no values) and Activity B if the cursor is not empty(i.e. table is filled).\r\n\r\nI am unable to find a method which can tell me if the table is empty or not.\r\nI Have tried to used Log as follows:\r\n\r\n    private void showSubjectsOnList() {\r\n    \tString sql = &quot;SELECT &quot; + _ID + &quot;,&quot; + SUBJECT + &quot; FROM &quot; + TABLE_NAME\r\n    \t\t+ &quot; GROUP BY &quot; + SUBJECT + &quot;;&quot;;\r\n    \r\n    \tCursor cursor = subjects.getReadableDatabase().rawQuery(sql, null);\r\n    \t\t\r\n    \tLog.d(&quot;Events&quot;,Integer.toString(cursor.getCount()));\r\n    \tif(cursor.isNull(0)!=false){\r\n    \t\tcursor.close();\r\n    \t\tsubjects.close();\r\n    \t\tstartActivity(new Intent(this,OpenScreen.class));\r\n    \t}\r\n    }\r\n\r\nBut the LOG shows 1, if the table is empty...and again 1, if table has 1 entry....it shows 2, if table has two entries and so on.\r\n\r\nCan you suggest some method of solving my problem of starting different activities based on if cursor is empty or not. ","title":"How To Test If Cursor Is Empty in a SQLiteDatabase Query","body":"<p>I have an SQL table which is created by the following code:</p>\n\n<pre><code>public void onCreate(SQLiteDatabase db) {\n    db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + _ID\n        + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + SUBJECT\n        + \" TEXT NOT NULL,\" + TOPIC + \" TEXT NOT NULL, \"\n        + LECTURENUMBER + \" TEXT NOT NULL, \" + PAGENUMBER\n        + \" TEXT NOT NULL, \" + DATE + \" TEXT NOT NULL, \" + _DATA\n        + \" TEXT NOT NULL);\");\n}\n</code></pre>\n\n<p>I query the table as follows:</p>\n\n<pre><code>String sql = \"SELECT \" + _ID + \",\" + SUBJECT + \" FROM \" + TABLE_NAME\n    + \" GROUP BY \" + SUBJECT + \";\";\n\nCursor cursor = subjects.getReadableDatabase().rawQuery(sql, null);\n</code></pre>\n\n<p>The problem is I have to start an Activity A if the cursor is empty(i.e. the table is storing no values) and Activity B if the cursor is not empty(i.e. table is filled).</p>\n\n<p>I am unable to find a method which can tell me if the table is empty or not.\nI Have tried to used Log as follows:</p>\n\n<pre><code>private void showSubjectsOnList() {\n    String sql = \"SELECT \" + _ID + \",\" + SUBJECT + \" FROM \" + TABLE_NAME\n        + \" GROUP BY \" + SUBJECT + \";\";\n\n    Cursor cursor = subjects.getReadableDatabase().rawQuery(sql, null);\n\n    Log.d(\"Events\",Integer.toString(cursor.getCount()));\n    if(cursor.isNull(0)!=false){\n        cursor.close();\n        subjects.close();\n        startActivity(new Intent(this,OpenScreen.class));\n    }\n}\n</code></pre>\n\n<p>But the LOG shows 1, if the table is empty...and again 1, if table has 1 entry....it shows 2, if table has two entries and so on.</p>\n\n<p>Can you suggest some method of solving my problem of starting different activities based on if cursor is empty or not. </p>\n"},{"tags":["java","spring-boot","spring-data-jpa","jackson"],"comments":[{"owner":{"account_id":11597672,"reputation":359,"user_id":8495914,"display_name":"Zakir Hussain"},"score":0,"creation_date":1640183278,"post_id":70450464,"comment_id":124535461,"body_markdown":"try adding **@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})**  before Set&lt;Barber&gt;","body":"try adding <b>@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})</b>  before Set&lt;Barber&gt;"},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1640183607,"post_id":70450464,"comment_id":124535601,"body_markdown":"please add minimum code to reproduce, Barberc lass  and YourController ...","body":"please add minimum code to reproduce, Barberc lass  and YourController ..."},{"owner":{"account_id":19206172,"reputation":105,"user_id":14033004,"display_name":"tcho1506996"},"score":0,"creation_date":1640188336,"post_id":70450464,"comment_id":124537495,"body_markdown":"@ZakirHussain - Tried that, didn&#39;t work. Still same exeption","body":"@ZakirHussain - Tried that, didn&#39;t work. Still same exeption"},{"owner":{"account_id":19206172,"reputation":105,"user_id":14033004,"display_name":"tcho1506996"},"score":0,"creation_date":1640188352,"post_id":70450464,"comment_id":124537505,"body_markdown":"@HuyNguyen - edited. Question now has Barber and controller","body":"@HuyNguyen - edited. Question now has Barber and controller"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640231691,"creation_date":1640231691,"answer_id":70457489,"question_id":70450464,"body_markdown":"As far  as i see you use lazy load in Shop entity for barber collection...\r\n\r\nIt might be a problematic if it is fetched out of transaction or serialize through jackson ...\r\n\r\nI suggest you can do a few thing to avoid the error in console log.\r\n\r\n1- Load barber collections in service, personally, i would like to create more Service Layer to interact with DB Repo Layer, you can create ShopService to manage it, you can force to load by simple method:\r\nshop.getBarbers().size(); // force to fetch entity in the same transaction\r\n\r\n2- add @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;}) for each entity\r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n\r\n3- set jackson option fail-on-empty-beans=false.\r\n\r\n    spring.jackson.serialization.fail-on-empty-beans=false    \r\n\r\nor\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n        mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);","title":"Exception when printing out ManyToMany entity","body":"<p>As far  as i see you use lazy load in Shop entity for barber collection...</p>\n<p>It might be a problematic if it is fetched out of transaction or serialize through jackson ...</p>\n<p>I suggest you can do a few thing to avoid the error in console log.</p>\n<p>1- Load barber collections in service, personally, i would like to create more Service Layer to interact with DB Repo Layer, you can create ShopService to manage it, you can force to load by simple method:\nshop.getBarbers().size(); // force to fetch entity in the same transaction</p>\n<p>2- add @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;}) for each entity</p>\n<pre><code>@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n</code></pre>\n<p>3- set jackson option fail-on-empty-beans=false.</p>\n<pre><code>spring.jackson.serialization.fail-on-empty-beans=false    \n</code></pre>\n<p>or</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n    mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n</code></pre>\n"}],"owner":{"account_id":19206172,"reputation":105,"user_id":14033004,"display_name":"tcho1506996"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640231691,"creation_date":1640182732,"question_id":70450464,"body_markdown":"I am creating a simple project using Spring Data JPA to learn.\r\n\r\nI have this entity (getters/setters removed for clarity):\r\n\r\n    @Entity\r\n    @Table(name = &quot;shop&quot;)\r\n    @JsonIgnoreProperties({&quot;barbers&quot;})\r\n    public class Shop {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;idshop&quot;)\r\n        private int shopID;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;address&quot;)\r\n        private String address;\r\n    \r\n        //THIS SHOWS HOW MANY BARBERS WORKS IN THIS SHOP - CHILD\r\n        @ManyToMany(mappedBy = &quot;shops&quot;, fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n        private Set&lt;Barber&gt; barbers = new LinkedHashSet&lt;&gt;();\r\n    \r\n        public Set&lt;Barber&gt; getBarbers(){\r\n    \r\n            return barbers;\r\n        }\r\n    \r\n        public void removeBarber(Barber barber)\r\n        {\r\n            barbers.remove(barber);\r\n            barber.getShops().remove(this);\r\n        }\r\n    \r\n        public void addBarber(Barber barber)\r\n        {\r\n            barbers.add(barber);\r\n            barber.getShops().add(this);\r\n        }\r\n    \r\n        public Shop() {\r\n        }\r\n    \r\n        public Shop(String name, String address) {\r\n            this.name = name;\r\n            this.address = address;\r\n        } this.address = address;\r\n        }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n            return &quot;Shop{&quot; +\r\n                    &quot;id=&quot; + shopID +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, address=&#39;&quot; + address + &#39;\\&#39;&#39; +\r\n                    &quot;, barbers=&#39;&quot; + barbers + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\nI have a simple controller which pretty fetches the requested shop from the repository and returns that. When I do a System.out.println(), I can see the following: `Shop{id=3, name=&#39;fade&#39;, address=&#39;hammersmith&#39;, barbers=&#39;[Barber{id=1, name=&#39;bob&#39;, rating=&#39;4&#39;}]&#39;}`\r\n\r\nBut when the controller returns the object, I get the following exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.gogobarber.barber.entities.Shop$HibernateProxy$U83qWd1X[&quot;hibernateLazyInitializer&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.0.jar:2.13.0]\r\n\r\n\r\n\r\nI have a good idea that the error is stemming from marshalling the pojo into a json string and that the cause of the error is likely to be the from the `Set&lt;Barber&gt;` (despite the error talking about not finding a serializer for byteBuddy.. what is this?). Is it usual to always configure the jackson object mapper? I&#39;m assuming jackson should be advanced enough to tackle a Set? Maybe it&#39;s because the way I&#39;ve configured my ManyToMany relationship? \r\n\r\nEDIT = This is my controller and Barber class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;barber&quot;)\r\n    @JsonIgnoreProperties({&quot;shops&quot;})\r\n    public class Barber {\r\n\r\n    public Barber() {\r\n    }\r\n\r\n    public Barber(String name, String rating) {\r\n        this.name = name;\r\n        this.rating = rating;\r\n    }\r\n\r\n    public int getBarberId() {\r\n        return barberId;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getRating() {\r\n        return rating;\r\n    }\r\n\r\n    public void setRating(String rating) {\r\n        this.rating = rating;\r\n    }\r\n\r\n    public Set&lt;Shop&gt; getShops() {\r\n        return shops;\r\n    }\r\n\r\n    //THIS FETCHES THE SHOPS THE BARBER IS ASSOCAITED TO - PARENT\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    @JoinTable(name = &quot;barberworkinshops&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;Barber_ID&quot;, referencedColumnName = &quot;idbarber&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;Shop_ID&quot;, referencedColumnName = &quot;idshop&quot;)\r\n    )\r\n    private Set&lt;Shop&gt; shops = new LinkedHashSet&lt;&gt;();;\r\n\r\n    public void addBarberToShop(Shop shop)\r\n    {\r\n        shops.add(shop);\r\n        shop.getBarbers().add(this);\r\n    }\r\n\r\n    public void removeBarberFromShop(Shop shop)\r\n    {\r\n        shops.remove(shop);\r\n        shop.getBarbers().remove(this);\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;idbarber&quot;)\r\n    private int barberId;\r\n\r\n    @Column(name = &quot;Name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;Rating&quot;)\r\n    private String rating;\r\n\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return &quot;Barber{&quot; +\r\n                &quot;id=&quot; + barberId +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, rating=&#39;&quot; + rating + &#39;\\&#39;&#39; +\r\n                &quot;, shops=&#39;&quot; + shops + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n    }\r\n\r\nController:\r\n\r\n    @RestController\r\n    public class ShopController {\r\n\r\n    @Autowired\r\n    private BarberRepo barberRepo;\r\n\r\n    @Autowired\r\n    private ShopRepo shopRepo;\r\n\r\n\r\n    @GetMapping(&quot;/shop/{id}&quot;)\r\n    public Shop getShop(@PathVariable String id)\r\n    {\r\n        Shop shop = shopRepo.getById(Integer.valueOf(id));\r\n        System.out.println(shop);\r\n        return shop;\r\n    }\r\n\r\n    @PostMapping(&quot;/shop/{name}/{address}&quot;)\r\n    public Shop createShop(@PathVariable String name, @PathVariable String address)\r\n    {\r\n        Shop shop = new Shop(name, address);\r\n        return shopRepo.save(shop);\r\n    }\r\n\r\n    @PatchMapping(&quot;/shop/{sId}/addBarber/{bId}&quot;)\r\n    public Shop addBarber(@PathVariable String sId, @PathVariable String bId)\r\n    {\r\n        Shop shop = shopRepo.getById(Integer.valueOf(sId));\r\n        Barber b = barberRepo.getById(Integer.parseInt(bId));\r\n        shop.addBarber(b);\r\n        Shop save = shopRepo.save(shop);\r\n        return save;\r\n    }\r\n    }","title":"Exception when printing out ManyToMany entity","body":"<p>I am creating a simple project using Spring Data JPA to learn.</p>\n<p>I have this entity (getters/setters removed for clarity):</p>\n<pre><code>@Entity\n@Table(name = &quot;shop&quot;)\n@JsonIgnoreProperties({&quot;barbers&quot;})\npublic class Shop {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;idshop&quot;)\n    private int shopID;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    //THIS SHOWS HOW MANY BARBERS WORKS IN THIS SHOP - CHILD\n    @ManyToMany(mappedBy = &quot;shops&quot;, fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    private Set&lt;Barber&gt; barbers = new LinkedHashSet&lt;&gt;();\n\n    public Set&lt;Barber&gt; getBarbers(){\n\n        return barbers;\n    }\n\n    public void removeBarber(Barber barber)\n    {\n        barbers.remove(barber);\n        barber.getShops().remove(this);\n    }\n\n    public void addBarber(Barber barber)\n    {\n        barbers.add(barber);\n        barber.getShops().add(this);\n    }\n\n    public Shop() {\n    }\n\n    public Shop(String name, String address) {\n        this.name = name;\n        this.address = address;\n    } this.address = address;\n    }\n\n    @Override\n    public String toString()\n    {\n        return &quot;Shop{&quot; +\n                &quot;id=&quot; + shopID +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, address='&quot; + address + '\\'' +\n                &quot;, barbers='&quot; + barbers + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>I have a simple controller which pretty fetches the requested shop from the repository and returns that. When I do a System.out.println(), I can see the following: <code>Shop{id=3, name='fade', address='hammersmith', barbers='[Barber{id=1, name='bob', rating='4'}]'}</code></p>\n<p>But when the controller returns the object, I get the following exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.gogobarber.barber.entities.Shop$HibernateProxy$U83qWd1X[&quot;hibernateLazyInitializer&quot;])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.0.jar:2.13.0]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.0.jar:2.13.0]\n</code></pre>\n<p>I have a good idea that the error is stemming from marshalling the pojo into a json string and that the cause of the error is likely to be the from the <code>Set&lt;Barber&gt;</code> (despite the error talking about not finding a serializer for byteBuddy.. what is this?). Is it usual to always configure the jackson object mapper? I'm assuming jackson should be advanced enough to tackle a Set? Maybe it's because the way I've configured my ManyToMany relationship?</p>\n<p>EDIT = This is my controller and Barber class:</p>\n<pre><code>@Entity\n@Table(name = &quot;barber&quot;)\n@JsonIgnoreProperties({&quot;shops&quot;})\npublic class Barber {\n\npublic Barber() {\n}\n\npublic Barber(String name, String rating) {\n    this.name = name;\n    this.rating = rating;\n}\n\npublic int getBarberId() {\n    return barberId;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getRating() {\n    return rating;\n}\n\npublic void setRating(String rating) {\n    this.rating = rating;\n}\n\npublic Set&lt;Shop&gt; getShops() {\n    return shops;\n}\n\n//THIS FETCHES THE SHOPS THE BARBER IS ASSOCAITED TO - PARENT\n@ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n@JoinTable(name = &quot;barberworkinshops&quot;,\n        joinColumns = @JoinColumn(name = &quot;Barber_ID&quot;, referencedColumnName = &quot;idbarber&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;Shop_ID&quot;, referencedColumnName = &quot;idshop&quot;)\n)\nprivate Set&lt;Shop&gt; shops = new LinkedHashSet&lt;&gt;();;\n\npublic void addBarberToShop(Shop shop)\n{\n    shops.add(shop);\n    shop.getBarbers().add(this);\n}\n\npublic void removeBarberFromShop(Shop shop)\n{\n    shops.remove(shop);\n    shop.getBarbers().remove(this);\n}\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;idbarber&quot;)\nprivate int barberId;\n\n@Column(name = &quot;Name&quot;)\nprivate String name;\n\n@Column(name = &quot;Rating&quot;)\nprivate String rating;\n\n@Override\npublic String toString()\n{\n    return &quot;Barber{&quot; +\n            &quot;id=&quot; + barberId +\n            &quot;, name='&quot; + name + '\\'' +\n            &quot;, rating='&quot; + rating + '\\'' +\n            &quot;, shops='&quot; + shops + '\\'' +\n            '}';\n}\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class ShopController {\n\n@Autowired\nprivate BarberRepo barberRepo;\n\n@Autowired\nprivate ShopRepo shopRepo;\n\n\n@GetMapping(&quot;/shop/{id}&quot;)\npublic Shop getShop(@PathVariable String id)\n{\n    Shop shop = shopRepo.getById(Integer.valueOf(id));\n    System.out.println(shop);\n    return shop;\n}\n\n@PostMapping(&quot;/shop/{name}/{address}&quot;)\npublic Shop createShop(@PathVariable String name, @PathVariable String address)\n{\n    Shop shop = new Shop(name, address);\n    return shopRepo.save(shop);\n}\n\n@PatchMapping(&quot;/shop/{sId}/addBarber/{bId}&quot;)\npublic Shop addBarber(@PathVariable String sId, @PathVariable String bId)\n{\n    Shop shop = shopRepo.getById(Integer.valueOf(sId));\n    Barber b = barberRepo.getById(Integer.parseInt(bId));\n    shop.addBarber(b);\n    Shop save = shopRepo.save(shop);\n    return save;\n}\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","firebase-realtime-database","google-cloud-firestore"],"owner":{"account_id":23725268,"reputation":332,"user_id":17745239,"display_name":"Nishang Raiyani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1640231544,"creation_date":1640231544,"question_id":70457476,"body_markdown":"Duplicate class com.google.api.Advice found in modules jetified-proto-google-common-protos-2.3.2 (com.google.api.grpc:proto-google-common-protos:2.3.2) and jetified-protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\n\r\nbuild.gradle(:app)\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.0.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.3.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.3.5&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n    implementation &#39;com.android.support:design:31.0.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-admin:8.1.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n\r\n\r\n    implementation &#39;io.grpc:grpc-okhttp:1.41.0&#39;\r\n    implementation&#39;com.google.cloud:google-cloud-language:1.76.0&#39;\r\n}","title":"Duplicate class com.google.api.Advice found in modules jetified-proto-google-common-protos-2.3.2","body":"<p>Duplicate class com.google.api.Advice found in modules jetified-proto-google-common-protos-2.3.2 (com.google.api.grpc:proto-google-common-protos:2.3.2) and jetified-protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)</p>\n<p>build.gradle(:app)</p>\n<p>dependencies {</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.0'\nimplementation 'com.google.android.material:material:1.4.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.2'\nimplementation 'com.google.firebase:firebase-database:20.0.3'\nimplementation 'com.google.firebase:firebase-messaging:23.0.0'\nimplementation 'com.google.firebase:firebase-firestore:24.0.0'\nimplementation 'androidx.navigation:navigation-fragment:2.3.5'\nimplementation 'androidx.navigation:navigation-ui:2.3.5'\nimplementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'\nimplementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\nimplementation platform('com.google.firebase:firebase-bom:29.0.3')\nimplementation 'com.android.support:design:31.0.0'\n\nimplementation 'com.google.firebase:firebase-admin:8.1.0'\n\nimplementation 'com.google.firebase:firebase-analytics'\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\nimplementation 'com.google.firebase:firebase-auth'\nimplementation 'androidx.annotation:annotation:1.3.0'\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\nimplementation 'androidx.vectordrawable:vectordrawable:1.1.0'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n\nimplementation 'io.grpc:grpc-okhttp:1.41.0'\nimplementation'com.google.cloud:google-cloud-language:1.76.0'\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640229775,"post_id":70457242,"comment_id":124547704,"body_markdown":"If you are trying to access the config file via the classpath, it needs to be in `src/main/resources`","body":"If you are trying to access the config file via the classpath, it needs to be in <code>src&#47;main&#47;resources</code>"}],"answers":[{"tags":[],"owner":{"account_id":8195749,"reputation":31,"user_id":6168650,"display_name":"Z. Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640229741,"creation_date":1640229741,"answer_id":70457327,"question_id":70457242,"body_markdown":"If you use Maven to build your application, you should put the `my-config.xml` file to `src/main/resources` directory","title":"nested exception is java.io.FileNotFoundException: class path resource [my-config.xml] cannot be opened because it does not exist","body":"<p>If you use Maven to build your application, you should put the <code>my-config.xml</code> file to <code>src/main/resources</code> directory</p>\n"},{"tags":[],"owner":{"account_id":1457880,"reputation":21,"user_id":1373017,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640229771,"creation_date":1640229771,"answer_id":70457331,"question_id":70457242,"body_markdown":"ok, I found a solution. So I created a `resources` directory under `src/main` and placed my `my-config.xml` there. After it started working","title":"nested exception is java.io.FileNotFoundException: class path resource [my-config.xml] cannot be opened because it does not exist","body":"<p>ok, I found a solution. So I created a <code>resources</code> directory under <code>src/main</code> and placed my <code>my-config.xml</code> there. After it started working</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640230876,"creation_date":1640230179,"answer_id":70457364,"question_id":70457242,"body_markdown":"You are using Spring&#39;s `ClassPathXmlApplicationContext` class.  As the name of the class implies (and the [javadoc][1] says) this loads its config files from the application classpath.\r\n\r\nBut the contents of the `src/main/java` tree are not on the classpath.  Put the file into `src/main/resources` ... which will (typically) be added directly to the classpath directly, or added to the JAR or WAR file that Maven / Gradle / your IDE generates. \r\n\r\nSee also:\r\n\r\n  - [Maven: Introduction to the standard directory layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html).\r\n\r\n---------------------\r\n\r\n&gt; I tried to place `my-config.xml` under `src/main/java` as some of the articles suggest, still no luck.\r\n\r\nYea ... no.  Unless you do other (probably inadvisable) things, files in the `src/main/java` are not on the classpath, and won&#39;t be found by `ClassPathXmlApplicationContext`.\r\n\r\n&lt;sup&gt;If those articles *really* suggested this as a solution for *this* context, then they are just plain wrong.  That approach *could* sort of work if you were using `FileSystemXmlApplicationContext` ... but using a relative pathname is fragile (it depends on what the app&#39;s *working directory* is), and a pathname that refers to your source tree typically won&#39;t work when you deploy your application in production.&lt;/sup&gt;\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/ClassPathXmlApplicationContext.html","title":"nested exception is java.io.FileNotFoundException: class path resource [my-config.xml] cannot be opened because it does not exist","body":"<p>You are using Spring's <code>ClassPathXmlApplicationContext</code> class.  As the name of the class implies (and the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/ClassPathXmlApplicationContext.html\" rel=\"nofollow noreferrer\">javadoc</a> says) this loads its config files from the application classpath.</p>\n<p>But the contents of the <code>src/main/java</code> tree are not on the classpath.  Put the file into <code>src/main/resources</code> ... which will (typically) be added directly to the classpath directly, or added to the JAR or WAR file that Maven / Gradle / your IDE generates.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Maven: Introduction to the standard directory layout</a>.</li>\n</ul>\n<hr />\n<blockquote>\n<p>I tried to place <code>my-config.xml</code> under <code>src/main/java</code> as some of the articles suggest, still no luck.</p>\n</blockquote>\n<p>Yea ... no.  Unless you do other (probably inadvisable) things, files in the <code>src/main/java</code> are not on the classpath, and won't be found by <code>ClassPathXmlApplicationContext</code>.</p>\n<p><sup>If those articles <em>really</em> suggested this as a solution for <em>this</em> context, then they are just plain wrong.  That approach <em>could</em> sort of work if you were using <code>FileSystemXmlApplicationContext</code> ... but using a relative pathname is fragile (it depends on what the app's <em>working directory</em> is), and a pathname that refers to your source tree typically won't work when you deploy your application in production.</sup></p>\n"}],"owner":{"account_id":1457880,"reputation":21,"user_id":1373017,"display_name":"Dima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640230876,"creation_date":1640228730,"question_id":70457242,"body_markdown":"I&#39;m relatively new to Java and trying to learn spring framework. I have the following code\r\n\r\n    public class EmployeeTest {\r\n        public static void main(String ...args) {\r\n            ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;my-config.xml&quot;);\r\n            Employee employee = (Employee) ctx.getBean(&quot;emp&quot;);\r\n            System.out.println(employee.getId());\r\n            System.out.println(employee.getName());\r\n    \r\n        }\r\n    }\r\n\r\nwhere `my-config.xml` is located where the `EmployeeTest` class itself is. However, when I&#39;m running this code, I get the following exception:\r\n\r\n```Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [my-config.xml]; nested exception is java.io.FileNotFoundException: class path resource [my-config.xml] cannot be opened because it does not exist```\r\n\r\nI tried to place my-config.xml under `src/main/java` as some of the articles suggest, still no luck\r\n\r\nI&#39;m using IntelliJ Idea as an editor.\r\nAny hints are greatly appreciated","title":"nested exception is java.io.FileNotFoundException: class path resource [my-config.xml] cannot be opened because it does not exist","body":"<p>I'm relatively new to Java and trying to learn spring framework. I have the following code</p>\n<pre><code>public class EmployeeTest {\n    public static void main(String ...args) {\n        ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;my-config.xml&quot;);\n        Employee employee = (Employee) ctx.getBean(&quot;emp&quot;);\n        System.out.println(employee.getId());\n        System.out.println(employee.getName());\n\n    }\n}\n</code></pre>\n<p>where <code>my-config.xml</code> is located where the <code>EmployeeTest</code> class itself is. However, when I'm running this code, I get the following exception:</p>\n<p><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from class path resource [my-config.xml]; nested exception is java.io.FileNotFoundException: class path resource [my-config.xml] cannot be opened because it does not exist</code></p>\n<p>I tried to place my-config.xml under <code>src/main/java</code> as some of the articles suggest, still no luck</p>\n<p>I'm using IntelliJ Idea as an editor.\nAny hints are greatly appreciated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"score":0,"creation_date":1640230428,"post_id":70457337,"comment_id":124547805,"body_markdown":"Before going to improvement first find what problem you are facing with this approach and once you find that you will have clear idea on which side you need to do the improvement From the given piece of code i can suggest you to use @Autowired feature instead of setting it to the constructor","body":"Before going to improvement first find what problem you are facing with this approach and once you find that you will have clear idea on which side you need to do the improvement From the given piece of code i can suggest you to use @Autowired feature instead of setting it to the constructor"}],"answers":[{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640230778,"creation_date":1640230778,"answer_id":70457422,"question_id":70457337,"body_markdown":"    \r\n\r\n    @Service\r\n    public class UserService {\r\n         //make this Autowired\r\n        @Autowired\r\n        private  UserRepository usersRepository;\r\n    \r\n        \r\n    \r\n    \r\n        public List&lt;User&gt; findAll (){\r\n            List&lt;UserEntity&gt; users = usersRepository.findAll();\r\n            return users.stream().map(this::entityToUser).collect(Collectors.toList());\r\n        }\r\n    \r\n    \r\n        public User findUserbyId(int id){\r\n            var userentity = usersRepository.findById(id);\r\n            return userentity.map(this::entityToUser).orElse(null);\r\n        }\r\n    \r\n        public User update(int id , UserCreateRequest request){\r\n            var userEntityOptional = usersRepository.findById(id);\r\n            if(userEntityOptional.isEmpty()){\r\n                return null;\r\n            }\r\n           var userEntity = userEntityOptional.get();\r\n            userEntity.setFirstname(request.getFirstname());\r\n            userEntity.setLastname(request.getLastname());\r\n            userEntity.setEmail(request.getEmail());\r\n            usersRepository.save(userEntity);\r\n    \r\n            return entityToUser(userEntity);\r\n        }\r\n    \r\n        public boolean deleteById(int id){\r\n            if (!usersRepository.existsById(id)){\r\n                return false;\r\n            }\r\n            usersRepository.existsById(id);\r\n            return true;\r\n        }\r\n    \r\n        public User create(UserCreateRequest request){\r\n             var userEntity = new UserEntity(request.getFirstname(),request.getLastname(),request.getEmail());\r\n             userEntity = usersRepository.save(userEntity);\r\n            return entityToUser(userEntity);\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        public User entityToUser(UserEntity userEntity){\r\n          return new User (\r\n                    userEntity.getId(),\r\n                    userEntity.getFirstname(),\r\n                    userEntity.getLastname(),\r\n                    userEntity.getEmail());\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\nhere is the User Controller\r\n\r\n    @RestController\r\n    public class UserRestController {\r\n       //make this Autowired\r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        \r\n        @GetMapping(path = &quot;/api/v1/users&quot;)\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; fetchUsers() {\r\n            return ResponseEntity.ok(userService.findAll()) ;\r\n    }\r\n\r\nCheck this to know more about @Autowired [https://www.baeldung.com/spring-autowire][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-autowire","title":"how to create sign-in and sign-up form &amp; create a test for it backend in Java and frontend js?","body":"<pre><code>@Service\npublic class UserService {\n     //make this Autowired\n    @Autowired\n    private  UserRepository usersRepository;\n\n    \n\n\n    public List&lt;User&gt; findAll (){\n        List&lt;UserEntity&gt; users = usersRepository.findAll();\n        return users.stream().map(this::entityToUser).collect(Collectors.toList());\n    }\n\n\n    public User findUserbyId(int id){\n        var userentity = usersRepository.findById(id);\n        return userentity.map(this::entityToUser).orElse(null);\n    }\n\n    public User update(int id , UserCreateRequest request){\n        var userEntityOptional = usersRepository.findById(id);\n        if(userEntityOptional.isEmpty()){\n            return null;\n        }\n       var userEntity = userEntityOptional.get();\n        userEntity.setFirstname(request.getFirstname());\n        userEntity.setLastname(request.getLastname());\n        userEntity.setEmail(request.getEmail());\n        usersRepository.save(userEntity);\n\n        return entityToUser(userEntity);\n    }\n\n    public boolean deleteById(int id){\n        if (!usersRepository.existsById(id)){\n            return false;\n        }\n        usersRepository.existsById(id);\n        return true;\n    }\n\n    public User create(UserCreateRequest request){\n         var userEntity = new UserEntity(request.getFirstname(),request.getLastname(),request.getEmail());\n         userEntity = usersRepository.save(userEntity);\n        return entityToUser(userEntity);\n\n    }\n\n\n\n    public User entityToUser(UserEntity userEntity){\n      return new User (\n                userEntity.getId(),\n                userEntity.getFirstname(),\n                userEntity.getLastname(),\n                userEntity.getEmail());\n\n    }\n\n\n}\n</code></pre>\n<p>here is the User Controller</p>\n<pre><code>@RestController\npublic class UserRestController {\n   //make this Autowired\n    @Autowired\n    private UserService userService;\n\n    \n    @GetMapping(path = &quot;/api/v1/users&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; fetchUsers() {\n        return ResponseEntity.ok(userService.findAll()) ;\n}\n</code></pre>\n<p>Check this to know more about @Autowired <a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-autowire</a></p>\n"}],"owner":{"account_id":23673896,"reputation":73,"user_id":17700342,"display_name":"law kira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70457422,"answer_count":1,"score":0,"last_activity_date":1640230778,"creation_date":1640229870,"question_id":70457337,"body_markdown":"I would like to learn, how can I make a project that has this function. (sign-in and sign-up)\r\nThese are the classes that I have so far.\r\n\r\nthis is the entity i have also the class User\r\n```\r\n@Entity(name = &quot;Users&quot;)\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot; ,nullable = false)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot; )\r\n    private String firstname;\r\n\r\n    @Column(name = &quot;last_name&quot; )\r\n    private String lastname;\r\n\r\n    @Column(name = &quot;Email&quot; )\r\n    private String email;\r\n\r\n    protected UserEntity() {\r\n\r\n    }\r\n\r\n    public UserEntity( String firstname, String lastname, String email) {\r\n\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.email = email;\r\n\r\n\r\n    }\r\n```\r\nthis is the Service class  where the methods should be\r\n```\r\n@Service\r\npublic class UserService {\r\n    private final UserRepository usersRepository;\r\n\r\n    public UserService(UserRepository usersRepository) {\r\n        this.usersRepository = usersRepository;\r\n    }\r\n\r\n\r\n    public List&lt;User&gt; findAll (){\r\n        List&lt;UserEntity&gt; users = usersRepository.findAll();\r\n        return users.stream().map(this::entityToUser).collect(Collectors.toList());\r\n    }\r\n\r\n\r\n    public User findUserbyId(int id){\r\n        var userentity = usersRepository.findById(id);\r\n        return userentity.map(this::entityToUser).orElse(null);\r\n    }\r\n\r\n    public User update(int id , UserCreateRequest request){\r\n        var userEntityOptional = usersRepository.findById(id);\r\n        if(userEntityOptional.isEmpty()){\r\n            return null;\r\n        }\r\n       var userEntity = userEntityOptional.get();\r\n        userEntity.setFirstname(request.getFirstname());\r\n        userEntity.setLastname(request.getLastname());\r\n        userEntity.setEmail(request.getEmail());\r\n        usersRepository.save(userEntity);\r\n\r\n        return entityToUser(userEntity);\r\n    }\r\n\r\n    public boolean deleteById(int id){\r\n        if (!usersRepository.existsById(id)){\r\n            return false;\r\n        }\r\n        usersRepository.existsById(id);\r\n        return true;\r\n    }\r\n\r\n    public User create(UserCreateRequest request){\r\n         var userEntity = new UserEntity(request.getFirstname(),request.getLastname(),request.getEmail());\r\n         userEntity = usersRepository.save(userEntity);\r\n        return entityToUser(userEntity);\r\n\r\n    }\r\n\r\n\r\n\r\n    public User entityToUser(UserEntity userEntity){\r\n      return new User (\r\n                userEntity.getId(),\r\n                userEntity.getFirstname(),\r\n                userEntity.getLastname(),\r\n                userEntity.getEmail());\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\nhere is the User Controller \r\n```\r\n@RestController\r\npublic class UserRestController {\r\n\r\n    private final UserService userService;\r\n\r\n    public UserRestController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n    @GetMapping(path = &quot;/api/v1/users&quot;)\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; fetchUsers() {\r\n        return ResponseEntity.ok(userService.findAll()) ;\r\n}\r\n```\r\nI would like to know what do I need exactly to get this function right in an optimal way\r\nwhat are the necessary steps?","title":"how to create sign-in and sign-up form &amp; create a test for it backend in Java and frontend js?","body":"<p>I would like to learn, how can I make a project that has this function. (sign-in and sign-up)\nThese are the classes that I have so far.</p>\n<p>this is the entity i have also the class User</p>\n<pre><code>@Entity(name = &quot;Users&quot;)\npublic class UserEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot; ,nullable = false)\n    private int id;\n\n    @Column(name = &quot;first_name&quot; )\n    private String firstname;\n\n    @Column(name = &quot;last_name&quot; )\n    private String lastname;\n\n    @Column(name = &quot;Email&quot; )\n    private String email;\n\n    protected UserEntity() {\n\n    }\n\n    public UserEntity( String firstname, String lastname, String email) {\n\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.email = email;\n\n\n    }\n</code></pre>\n<p>this is the Service class  where the methods should be</p>\n<pre><code>@Service\npublic class UserService {\n    private final UserRepository usersRepository;\n\n    public UserService(UserRepository usersRepository) {\n        this.usersRepository = usersRepository;\n    }\n\n\n    public List&lt;User&gt; findAll (){\n        List&lt;UserEntity&gt; users = usersRepository.findAll();\n        return users.stream().map(this::entityToUser).collect(Collectors.toList());\n    }\n\n\n    public User findUserbyId(int id){\n        var userentity = usersRepository.findById(id);\n        return userentity.map(this::entityToUser).orElse(null);\n    }\n\n    public User update(int id , UserCreateRequest request){\n        var userEntityOptional = usersRepository.findById(id);\n        if(userEntityOptional.isEmpty()){\n            return null;\n        }\n       var userEntity = userEntityOptional.get();\n        userEntity.setFirstname(request.getFirstname());\n        userEntity.setLastname(request.getLastname());\n        userEntity.setEmail(request.getEmail());\n        usersRepository.save(userEntity);\n\n        return entityToUser(userEntity);\n    }\n\n    public boolean deleteById(int id){\n        if (!usersRepository.existsById(id)){\n            return false;\n        }\n        usersRepository.existsById(id);\n        return true;\n    }\n\n    public User create(UserCreateRequest request){\n         var userEntity = new UserEntity(request.getFirstname(),request.getLastname(),request.getEmail());\n         userEntity = usersRepository.save(userEntity);\n        return entityToUser(userEntity);\n\n    }\n\n\n\n    public User entityToUser(UserEntity userEntity){\n      return new User (\n                userEntity.getId(),\n                userEntity.getFirstname(),\n                userEntity.getLastname(),\n                userEntity.getEmail());\n\n    }\n\n\n}\n</code></pre>\n<p>here is the User Controller</p>\n<pre><code>@RestController\npublic class UserRestController {\n\n    private final UserService userService;\n\n    public UserRestController(UserService userService) {\n        this.userService = userService;\n    }\n    @GetMapping(path = &quot;/api/v1/users&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; fetchUsers() {\n        return ResponseEntity.ok(userService.findAll()) ;\n}\n</code></pre>\n<p>I would like to know what do I need exactly to get this function right in an optimal way\nwhat are the necessary steps?</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640228575,"post_id":70457182,"comment_id":124547545,"body_markdown":"As the code under test never calls `Instant.now()` why are you mocking it? Just create an instant in your test and pass it. And in your last paragraph, what does &quot;doesn&#39;t work&quot; mean?","body":"As the code under test never calls <code>Instant.now()</code> why are you mocking it? Just create an instant in your test and pass it. And in your last paragraph, what does &quot;doesn&#39;t work&quot; mean?"},{"owner":{"account_id":18727069,"reputation":184,"user_id":13653441,"display_name":"Zhe Sheng Lim"},"score":0,"creation_date":1640228913,"post_id":70457182,"comment_id":124547587,"body_markdown":"Edited. Also, using `Instant currentTimestamp = Instant.of(&quot;2021-12-02T:06:30:00.000Z&quot;);` throws NullPointerException.","body":"Edited. Also, using <code>Instant currentTimestamp = Instant.of(&quot;2021-12-02T:06:30:00.000Z&quot;);</code> throws NullPointerException."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640229326,"post_id":70457182,"comment_id":124547640,"body_markdown":"Remove all the mocking of `Instant` and update your question.","body":"Remove all the mocking of <code>Instant</code> and update your question."},{"owner":{"account_id":18727069,"reputation":184,"user_id":13653441,"display_name":"Zhe Sheng Lim"},"score":0,"creation_date":1640229800,"post_id":70457182,"comment_id":124547709,"body_markdown":"should be good. note that `setUpdateTime()` function uses variable `requestTime`, which is instantiated to `Instant.now()` when `updateRecord()` function is entered.","body":"should be good. note that <code>setUpdateTime()</code> function uses variable <code>requestTime</code>, which is instantiated to <code>Instant.now()</code> when <code>updateRecord()</code> function is entered."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640230089,"post_id":70457182,"comment_id":124547745,"body_markdown":"Now that you have changed your function so that the code under test *does* call `Instant.now()` you *will* need to mock `Instant` if you want to be able to check that updateTime and correspondingCode are set correctly.","body":"Now that you have changed your function so that the code under test <i>does</i> call <code>Instant.now()</code> you <i>will</i> need to mock <code>Instant</code> if you want to be able to check that updateTime and correspondingCode are set correctly."},{"owner":{"account_id":18727069,"reputation":184,"user_id":13653441,"display_name":"Zhe Sheng Lim"},"score":0,"creation_date":1640230478,"post_id":70457182,"comment_id":124547808,"body_markdown":"Using `mockInstant = Mockito.mockStatic(Instant.class)` for this purpose.","body":"Using <code>mockInstant = Mockito.mockStatic(Instant.class)</code> for this purpose."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":2,"creation_date":1640231357,"post_id":70457182,"comment_id":124547918,"body_markdown":"If you pass a clock to Instant.now you won&#39;t have to mock a static method, there is a fixed clock that tests can use. See https://stackoverflow.com/a/51525990/217324","body":"If you pass a clock to Instant.now you won&#39;t have to mock a static method, there is a fixed clock that tests can use. See <a href=\"https://stackoverflow.com/a/51525990/217324\">stackoverflow.com/a/51525990/217324</a>"},{"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"score":0,"creation_date":1646823830,"post_id":70457182,"comment_id":126217866,"body_markdown":"see [detailed answer](https://stackoverflow.com/questions/55289157/mock-instant-now-without-using-clock-into-constructor-or-without-clock-object/70186748#70186748) explaining how to achieve mocking capability of Instant","body":"see <a href=\"https://stackoverflow.com/questions/55289157/mock-instant-now-without-using-clock-into-constructor-or-without-clock-object/70186748#70186748\">detailed answer</a> explaining how to achieve mocking capability of Instant"}],"owner":{"account_id":18727069,"reputation":184,"user_id":13653441,"display_name":"Zhe Sheng Lim"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640230512,"creation_date":1640227911,"question_id":70457182,"body_markdown":"I am testing a UserRecord class using Mockito. The application is built using Java and Spring Boot framework:\r\n\r\n```\r\n@Slf4j\r\n@ExtendWith(MockitoExtension.class)\r\n@ExtendWith(SpringExtension.class)\r\npublic class MyTests {\r\n    @Mock\r\n    private UserRecordEditor userRecordEditor;\r\n\r\n    private static MockedStatic&lt;Instant&gt; mockInstant;\r\n\r\n    private Integer userId = 1;\r\n    private String oldUserName = &quot;Keanu&quot;;\r\n    private String newUserName = &quot;Neo&quot;;\r\n\r\n    @BeforeAll\r\n    public static void init() {\r\n        mockInstant = Mockito.mockStatic(Instant.class);  // Mockito will mock java.time.Instant using mockStatic\r\n    }\r\n\r\n    public UserRecord user1() {\r\n        UserRecord userRecord = new UserRecord();\r\n        userRecord.setId(userId);\r\n        userRecord.setName(oldUserName);\r\n        userRecord.setUpdateTime(Instant.of(&quot;2021-06-01T06:30:00.000Z&quot;));\r\n        userRecord.setCorrespondingCode(&quot;2021-06-01T06:30:00.000Z&quot;);\r\n        return userRecord;\r\n    }\r\n\r\n    @Test\r\n    public void updateTest() {\r\n        log.info(&quot;Start test case: &quot; + Thread.currentThread().getStackTrace()[1].getMethodName());\r\n\r\n        Instant currentTimestamp = Instant.now();\r\n        mockInstant.when(Instant::now).thenReturn(currentTimestamp);  //mock Instant.now()\r\n\r\n        Mockito.when( userRecordRepository.getById(userId)).thenReturn(user1());\r\n        Mockito.when(userRecordRepository.save(any(UserRecord.class))).then(i -&gt; i.getArguments()[0]);\r\n\r\n        UserRecord result = userRecordEditor.updateRecord(userId, newUserName);\r\n\r\n        Assertions.assertEquals(result.getName(), newUserName);\r\n        Assertions.assertEquals(result.getUpdateTime(), currentTimestamp);\r\n        Assertions.assertEquals(result.getCorrespondingCode(), currentTimestamp.toString());\r\n\r\n        log.info(&quot;End test case: &quot; + Thread.currentThread().getStackTrace()[1].getMethodName());\r\n    }\r\n}\r\n```\r\n\r\nUserRecord:\r\n```\r\n@Data\r\npublic class UserRecord() {\r\n   private Integer id;\r\n\r\n   private String name;\r\n\r\n   private Instant updateTime;\r\n\r\n   private String correspondingCode;\r\n}\r\n```\r\nUserRecordEditor:\r\n```\r\n@Service\r\npublic class UserRecordEditor() {\r\n    private UserRecordRepository userRecordRepository;\r\n\r\n    public UserRecordEditor(UserRecordRepository userRecordRepository) {\r\n        this.userRecordRepository = userRecordRepository;\r\n    }\r\n\r\n    public UserRecord updateRecord(Integer id, String name) throws EntityNotFoundException {\r\n        Instant requestTime = Instant.now();\r\n        UserRecord recordToUpdate = userRecordRepository.getById(id);\r\n\r\n        if (recordToUpdate != null) {\r\n            recordToUpdate.setName(name);\r\n            // set update time\r\n            recordToUpdate.setUpdateTime(requestTime);\r\n            recordToUpdate.setCorrespondingCode( requestTime.toString() );\r\n            \r\n\r\n            return userRecordRepository.save(recordToUpdate);\r\n        } else {\r\n            throw new EntityNotFoundException();  // custom exception\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUserRecordRepository: \r\n\r\n```\r\npublic interface UserRecordRepository extends JpaRepository&lt;UserRecord, Integer&gt; {\r\n    // default repository class with getById(id) and save(userRecord)\r\n}\r\n```\r\n\r\nWhen running this test, I ran into a NullPointerException at this line:\r\n`recordToUpdate.setCorrespondingCode(requestTime.toString());`\r\n\r\nThis indicates that `requestTime` is null, but why exactly does it become null? How can this problem be resolved? \r\n\r\nNote that I have tried to parse a date string like this but it doesn&#39;t work:\r\n\r\n`Instant currentTimestamp = Instant.of(&quot;2021-12-02T:06:30:00.000Z&quot;);`\r\n","title":"Mockito: Instant.now() returns null","body":"<p>I am testing a UserRecord class using Mockito. The application is built using Java and Spring Boot framework:</p>\n<pre><code>@Slf4j\n@ExtendWith(MockitoExtension.class)\n@ExtendWith(SpringExtension.class)\npublic class MyTests {\n    @Mock\n    private UserRecordEditor userRecordEditor;\n\n    private static MockedStatic&lt;Instant&gt; mockInstant;\n\n    private Integer userId = 1;\n    private String oldUserName = &quot;Keanu&quot;;\n    private String newUserName = &quot;Neo&quot;;\n\n    @BeforeAll\n    public static void init() {\n        mockInstant = Mockito.mockStatic(Instant.class);  // Mockito will mock java.time.Instant using mockStatic\n    }\n\n    public UserRecord user1() {\n        UserRecord userRecord = new UserRecord();\n        userRecord.setId(userId);\n        userRecord.setName(oldUserName);\n        userRecord.setUpdateTime(Instant.of(&quot;2021-06-01T06:30:00.000Z&quot;));\n        userRecord.setCorrespondingCode(&quot;2021-06-01T06:30:00.000Z&quot;);\n        return userRecord;\n    }\n\n    @Test\n    public void updateTest() {\n        log.info(&quot;Start test case: &quot; + Thread.currentThread().getStackTrace()[1].getMethodName());\n\n        Instant currentTimestamp = Instant.now();\n        mockInstant.when(Instant::now).thenReturn(currentTimestamp);  //mock Instant.now()\n\n        Mockito.when( userRecordRepository.getById(userId)).thenReturn(user1());\n        Mockito.when(userRecordRepository.save(any(UserRecord.class))).then(i -&gt; i.getArguments()[0]);\n\n        UserRecord result = userRecordEditor.updateRecord(userId, newUserName);\n\n        Assertions.assertEquals(result.getName(), newUserName);\n        Assertions.assertEquals(result.getUpdateTime(), currentTimestamp);\n        Assertions.assertEquals(result.getCorrespondingCode(), currentTimestamp.toString());\n\n        log.info(&quot;End test case: &quot; + Thread.currentThread().getStackTrace()[1].getMethodName());\n    }\n}\n</code></pre>\n<p>UserRecord:</p>\n<pre><code>@Data\npublic class UserRecord() {\n   private Integer id;\n\n   private String name;\n\n   private Instant updateTime;\n\n   private String correspondingCode;\n}\n</code></pre>\n<p>UserRecordEditor:</p>\n<pre><code>@Service\npublic class UserRecordEditor() {\n    private UserRecordRepository userRecordRepository;\n\n    public UserRecordEditor(UserRecordRepository userRecordRepository) {\n        this.userRecordRepository = userRecordRepository;\n    }\n\n    public UserRecord updateRecord(Integer id, String name) throws EntityNotFoundException {\n        Instant requestTime = Instant.now();\n        UserRecord recordToUpdate = userRecordRepository.getById(id);\n\n        if (recordToUpdate != null) {\n            recordToUpdate.setName(name);\n            // set update time\n            recordToUpdate.setUpdateTime(requestTime);\n            recordToUpdate.setCorrespondingCode( requestTime.toString() );\n            \n\n            return userRecordRepository.save(recordToUpdate);\n        } else {\n            throw new EntityNotFoundException();  // custom exception\n        }\n    }\n}\n</code></pre>\n<p>UserRecordRepository:</p>\n<pre><code>public interface UserRecordRepository extends JpaRepository&lt;UserRecord, Integer&gt; {\n    // default repository class with getById(id) and save(userRecord)\n}\n</code></pre>\n<p>When running this test, I ran into a NullPointerException at this line:\n<code>recordToUpdate.setCorrespondingCode(requestTime.toString());</code></p>\n<p>This indicates that <code>requestTime</code> is null, but why exactly does it become null? How can this problem be resolved?</p>\n<p>Note that I have tried to parse a date string like this but it doesn't work:</p>\n<p><code>Instant currentTimestamp = Instant.of(&quot;2021-12-02T:06:30:00.000Z&quot;);</code></p>\n"},{"tags":["java","performance","hash","hashmap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1640227793,"post_id":70457158,"comment_id":124547442,"body_markdown":"You should explain more about the &quot;`packet` Object&quot;. What class is it? Why is the `Map` not `Map&lt;Packet, NetworkMarker&gt;`? What is it about hashing the packet which makes it so expensive? What does the `packet` `equals` method look like. I don&#39;t understand which class&#39;s `hashCode` you are considering overriding.","body":"You should explain more about the &quot;<code>packet</code> Object&quot;. What class is it? Why is the <code>Map</code> not <code>Map&lt;Packet, NetworkMarker&gt;</code>? What is it about hashing the packet which makes it so expensive? What does the <code>packet</code> <code>equals</code> method look like. I don&#39;t understand which class&#39;s <code>hashCode</code> you are considering overriding."},{"owner":{"account_id":6535373,"reputation":249,"user_id":5055078,"accept_rate":67,"display_name":"Peter_Browning"},"score":0,"creation_date":1640229011,"post_id":70457158,"comment_id":124547600,"body_markdown":"the `packet` object is literally a generic `Object`. It&#39;s being passed in from another source, so I cannot assign or cast it to a type. Every method is stock `Object#`","body":"the <code>packet</code> object is literally a generic <code>Object</code>. It&#39;s being passed in from another source, so I cannot assign or cast it to a type. Every method is stock <code>Object#</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640229164,"post_id":70457158,"comment_id":124547620,"body_markdown":"If it is actually an Object then its hashCode implementation should be fast. But do you mean that its concrete type varies and is only bounded by Object, in which case @shmosel&#39;s wrapper sounds like a good plan?","body":"If it is actually an Object then its hashCode implementation should be fast. But do you mean that its concrete type varies and is only bounded by Object, in which case @shmosel&#39;s wrapper sounds like a good plan?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640230394,"creation_date":1640228136,"answer_id":70457194,"question_id":70457158,"body_markdown":"You could always wrap it in another class that caches the hash code:\r\n\r\n    class CachedHash {\r\n        public final Object cached;\r\n        private Integer hashCode;\r\n    \r\n        public CachedHash(Object cached) {\r\n            this.cached = cached;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return cached.equals(o);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            if (hashCode == null) {\r\n                hashCode = cached.hashCode();\r\n            }\r\n            return hashCode;\r\n        }\r\n    }","title":"Can you override a function from a generically typed object?","body":"<p>You could always wrap it in another class that caches the hash code:</p>\n<pre><code>class CachedHash {\n    public final Object cached;\n    private Integer hashCode;\n\n    public CachedHash(Object cached) {\n        this.cached = cached;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        return cached.equals(o);\n    }\n\n    @Override\n    public int hashCode() {\n        if (hashCode == null) {\n            hashCode = cached.hashCode();\n        }\n        return hashCode;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6535373,"reputation":249,"user_id":5055078,"accept_rate":67,"display_name":"Peter_Browning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70457194,"answer_count":1,"score":0,"last_activity_date":1640230394,"creation_date":1640227444,"question_id":70457158,"body_markdown":"I have a class in Java that stores generic `Object` types in a HashMap:\r\n\r\n`private final Map&lt;Object, NetworkMarker&gt; packetMarker = new WeakHashMap&lt;&gt;();`\r\n\r\n\r\n\r\n\r\n The `packet` Object is very large and the map has very high throughput, so the hashing of the packets alone takes up an absurd amount of cpu cycles, and I am curious if it&#39;s possible to minimize this, or I just need better hardware.\r\n\r\nWould there be a way to override, despite being a generic Object class with no wrapper, the `hashCode` function to make it more efficient, or perhaps extend the hashmap to enhance the `#get()` method? Or any other method that I am overlooking!\r\n\r\nCheers! \r\n\r\nEDIT for clarification: The `packet` Object is not typed. It is of the type `Object`. It&#39;s being passed in from an external source, so I cannot assign a type.","title":"Can you override a function from a generically typed object?","body":"<p>I have a class in Java that stores generic <code>Object</code> types in a HashMap:</p>\n<p><code>private final Map&lt;Object, NetworkMarker&gt; packetMarker = new WeakHashMap&lt;&gt;();</code></p>\n<p>The <code>packet</code> Object is very large and the map has very high throughput, so the hashing of the packets alone takes up an absurd amount of cpu cycles, and I am curious if it's possible to minimize this, or I just need better hardware.</p>\n<p>Would there be a way to override, despite being a generic Object class with no wrapper, the <code>hashCode</code> function to make it more efficient, or perhaps extend the hashmap to enhance the <code>#get()</code> method? Or any other method that I am overlooking!</p>\n<p>Cheers!</p>\n<p>EDIT for clarification: The <code>packet</code> Object is not typed. It is of the type <code>Object</code>. It's being passed in from an external source, so I cannot assign a type.</p>\n"},{"tags":["java","spring-boot","maven","spring-boot-configuration","configurationproperties"],"answers":[{"tags":[],"owner":{"account_id":2286959,"reputation":470,"user_id":2010739,"accept_rate":60,"display_name":"E.Monogarov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640226293,"creation_date":1640226293,"answer_id":70457081,"question_id":70454255,"body_markdown":"Ok. Answer to my question is - i have to generate json for libModule separately. works as it should work this way","title":"spring-configuration-metadata.json is not generated properly for multi-module project","body":"<p>Ok. Answer to my question is - i have to generate json for libModule separately. works as it should work this way</p>\n"}],"owner":{"account_id":2286959,"reputation":470,"user_id":2010739,"accept_rate":60,"display_name":"E.Monogarov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640226293,"creation_date":1640201614,"question_id":70454255,"body_markdown":"I&#39;ve created multi-module project:\r\n\r\n - (pom) `root` \r\n   - (jar) `libModule` \r\n   - (jar) `appModule`, has `libModule` in dependencies\r\n\r\n`appModule` pom has dependency:\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nalso it contains own `@ConfigurationProperties` class:\r\n\r\n```java\r\n    @ConfigurationProperties(prefix = &quot;service.test&quot;)\r\n    @Component\r\n    @Data\r\n    public class Conf {\r\n        String prop;\r\n    }\r\n```\r\n\r\ncompiling this module produces next correct `spring-configuration-metadata.json` file:\r\n\r\n```json\r\n{\r\n  &quot;groups&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;service.test&quot;,\r\n      &quot;type&quot;: &quot;org.test.app.Conf&quot;,\r\n      &quot;sourceType&quot;: &quot;org.test.app.Conf&quot;\r\n    }\r\n  ],\r\n  &quot;properties&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;service.test.prop&quot;,\r\n      &quot;type&quot;: &quot;java.lang.String&quot;,\r\n      &quot;sourceType&quot;: &quot;org.test.app.Conf&quot;\r\n    }\r\n  ],\r\n  &quot;hints&quot;: []\r\n}\r\n```\r\n\r\nand my Idea IDE successfully highlight me this properties in `application.yml`\r\n\r\nbut also i have additional `@ConfigurationProperties` class in my `libModule`:\r\n```java\r\n@ConfigurationProperties(prefix = &quot;service.a&quot;)\r\n@Setter\r\n@Getter\r\npublic class ServiceAProperties {\r\n    String url;\r\n}\r\n\r\n```\r\n\r\ni tried to include this class into `appModule` with next code:\r\n```java\r\n\r\n@SpringBootApplication\r\n@ConfigurationPropertiesScan(basePackageClasses = {\r\n        ServiceAProperties.class\r\n})\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ConfigServerApplication.class, args);\r\n    }\r\n}\r\n```\r\nand tried different ways to include it to json but it doesn&#39;t appear there. only own module `Conf` class is used\r\n\r\nhow can i include configuration properties from other module to generate proper json including both modules&#39; properties\r\n\r\nif some additional info is needed please ask","title":"spring-configuration-metadata.json is not generated properly for multi-module project","body":"<p>I've created multi-module project:</p>\n<ul>\n<li>(pom) <code>root</code>\n<ul>\n<li>(jar) <code>libModule</code></li>\n<li>(jar) <code>appModule</code>, has <code>libModule</code> in dependencies</li>\n</ul>\n</li>\n</ul>\n<p><code>appModule</code> pom has dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>also it contains own <code>@ConfigurationProperties</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ConfigurationProperties(prefix = &quot;service.test&quot;)\n    @Component\n    @Data\n    public class Conf {\n        String prop;\n    }\n</code></pre>\n<p>compiling this module produces next correct <code>spring-configuration-metadata.json</code> file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;groups&quot;: [\n    {\n      &quot;name&quot;: &quot;service.test&quot;,\n      &quot;type&quot;: &quot;org.test.app.Conf&quot;,\n      &quot;sourceType&quot;: &quot;org.test.app.Conf&quot;\n    }\n  ],\n  &quot;properties&quot;: [\n    {\n      &quot;name&quot;: &quot;service.test.prop&quot;,\n      &quot;type&quot;: &quot;java.lang.String&quot;,\n      &quot;sourceType&quot;: &quot;org.test.app.Conf&quot;\n    }\n  ],\n  &quot;hints&quot;: []\n}\n</code></pre>\n<p>and my Idea IDE successfully highlight me this properties in <code>application.yml</code></p>\n<p>but also i have additional <code>@ConfigurationProperties</code> class in my <code>libModule</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;service.a&quot;)\n@Setter\n@Getter\npublic class ServiceAProperties {\n    String url;\n}\n\n</code></pre>\n<p>i tried to include this class into <code>appModule</code> with next code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SpringBootApplication\n@ConfigurationPropertiesScan(basePackageClasses = {\n        ServiceAProperties.class\n})\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(ConfigServerApplication.class, args);\n    }\n}\n</code></pre>\n<p>and tried different ways to include it to json but it doesn't appear there. only own module <code>Conf</code> class is used</p>\n<p>how can i include configuration properties from other module to generate proper json including both modules' properties</p>\n<p>if some additional info is needed please ask</p>\n"},{"tags":["java","swing","jlabel","jlist"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1640196337,"post_id":70453101,"comment_id":124540498,"body_markdown":"If you use an JTable instead of JList, you would not need the JPanel with all the JLabels. And you would most likely not  need your own renderer.","body":"If you use an JTable instead of JList, you would not need the JPanel with all the JLabels. And you would most likely not  need your own renderer."},{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":2,"creation_date":1640205641,"post_id":70453101,"comment_id":124543212,"body_markdown":"Please provide a [mcve] so we can also read and debug your code. Please don&#39;t post all your classes here, but rather create a small example that demonstrates your problem.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can also read and debug your code. Please don&#39;t post all your classes here, but rather create a small example that demonstrates your problem."}],"owner":{"account_id":11411515,"reputation":25,"user_id":13096703,"display_name":"Azzam Alsharafi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640226195,"creation_date":1640195110,"question_id":70453101,"body_markdown":"I&#39;m trying to make a JList. For some reason the JLabel of some random elements have a top padding like this: \r\n\r\n[![random top padding for some elements][1]][1]\r\n\r\nAs you can see in the picture, the first, fourth, and seventh row all have a top padding in their first JLabel. One way I managed to eliminate this effect is by making the text in the JLabel only one line, but that doesn&#39;t solve the problem because I need it to contain multiple lines.\r\n\r\nCode:\r\n\r\n    package maya.page;\r\n    \r\n    import maya.Main;\r\n    import maya.object.Module;\r\n    import maya.object.Occurrence;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.BevelBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import java.awt.*;\r\n    \r\n    public class StudentModulePanel extends JPanel {\r\n        public StudentModulePanel(){\r\n            DefaultListModel&lt;Occurrence&gt; listModel = new DefaultListModel&lt;&gt;();\r\n            listModel.addAll(Main.modules.get(&quot;WIX1002&quot;).getOccurrences());\r\n    \r\n            JList&lt;Occurrence&gt; list = new JList&lt;&gt;(listModel);\r\n            list.setCellRenderer(new OccurrenceRenderer());\r\n    \r\n            JScrollPane scrollPane = new JScrollPane(list);\r\n    \r\n            setLayout(new GridBagLayout());\r\n    \r\n            GridBagConstraints c = new GridBagConstraints();\r\n    \r\n            add(scrollPane, c);\r\n    \r\n            setBackground(new Color(180, 230, 230));\r\n        }\r\n    }\r\n    \r\n    class OccurrenceRenderer extends OccurrencePanel implements ListCellRenderer&lt;Occurrence&gt;{\r\n        @Override\r\n        public Component getListCellRendererComponent(JList&lt;? extends Occurrence&gt; list, Occurrence value, int index, boolean isSelected, boolean cellHasFocus) {\r\n            setOccurrence(value);\r\n    \r\n            if(isSelected){\r\n                setBorder(new BevelBorder(BevelBorder.LOWERED));\r\n            } else {\r\n                setBorder(new BevelBorder(BevelBorder.RAISED));\r\n            }\r\n    \r\n            return this;\r\n        }\r\n    }\r\n    \r\n    class OccurrencePanel extends JPanel{\r\n        Occurrence occurrence;\r\n    \r\n        JLabel moduleTitleLabel = new JLabel();\r\n        JLabel occurrenceNumberLabel = new JLabel();\r\n        JLabel activityLabel = new JLabel();\r\n        JLabel timeLabel = new JLabel();\r\n        JLabel tutorLabel = new JLabel();\r\n        JLabel targetLabel = new JLabel();\r\n        JLabel actualLabel = new JLabel();\r\n    \r\n        void setOccurrence(Occurrence occurrence){\r\n            this.occurrence = occurrence;\r\n    \r\n            Module module = Main.modules.get(occurrence.getCode());\r\n    \r\n            moduleTitleLabel.setText(String.format(&quot;&lt;html&gt;%s - %s %s&lt;/html&gt;&quot;, module.getCode(), module.getCode(), module.getTitle()));\r\n            occurrenceNumberLabel.setText(Integer.toString(occurrence.getOccurrenceNumber()));\r\n            activityLabel.setText(occurrence.getActivityString());\r\n            timeLabel.setText(occurrence.getTime());\r\n            tutorLabel.setText(String.format(&quot;&lt;html&gt;%s&lt;/html&gt;&quot;, &quot;TUTOR&quot;)); //occurrence.getTutor()));\r\n            targetLabel.setText(Integer.toString(occurrence.getTargetStudents()));\r\n            actualLabel.setText(Integer.toString(occurrence.getActualStudents()));\r\n        }\r\n    \r\n    \r\n        OccurrencePanel(){\r\n            int height = 75;\r\n            Dimension bigLabelSize = new Dimension(200, height);\r\n            Dimension smallLabelSize = new Dimension(40, height);\r\n            Dimension activityLabelSize = new Dimension(75, height);\r\n            int padding = 10;\r\n            EmptyBorder paddingBorder = new EmptyBorder(0, padding, 0, padding);\r\n    \r\n            moduleTitleLabel.setPreferredSize(bigLabelSize);\r\n            moduleTitleLabel.setBorder(paddingBorder);\r\n    \r\n            occurrenceNumberLabel.setPreferredSize(smallLabelSize);\r\n            occurrenceNumberLabel.setBorder(paddingBorder);\r\n    \r\n            activityLabel.setPreferredSize(activityLabelSize);\r\n            activityLabel.setBorder(paddingBorder);\r\n    \r\n            timeLabel.setPreferredSize(bigLabelSize);\r\n            timeLabel.setBorder(paddingBorder);\r\n    \r\n            tutorLabel.setPreferredSize(bigLabelSize);\r\n            tutorLabel.setBorder(paddingBorder);\r\n    \r\n            targetLabel.setPreferredSize(smallLabelSize);\r\n            targetLabel.setBorder(paddingBorder);\r\n    \r\n            targetLabel.setPreferredSize(smallLabelSize);\r\n            actualLabel.setBorder(paddingBorder);\r\n    \r\n            setLayout(new GridBagLayout());\r\n    \r\n            GridBagConstraints c = new GridBagConstraints();\r\n    \r\n            c.gridx = 0;\r\n            c.gridy = 0;\r\n            add(moduleTitleLabel, c);\r\n    \r\n            c.gridx = 1;\r\n            add(occurrenceNumberLabel, c);\r\n    \r\n            c.gridx = 2;\r\n            add(activityLabel, c);\r\n    \r\n            c.gridx = 3;\r\n            add(timeLabel, c);\r\n    \r\n            c.gridx = 4;\r\n            add(tutorLabel, c);\r\n    \r\n            c.gridx = 5;\r\n            add(targetLabel, c);\r\n    \r\n            c.gridx = 6;\r\n            add(actualLabel, c);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M9qmv.png","title":"Java swing - JLabels inside JList get random top padding","body":"<p>I'm trying to make a JList. For some reason the JLabel of some random elements have a top padding like this:</p>\n<p><a href=\"https://i.stack.imgur.com/M9qmv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9qmv.png\" alt=\"random top padding for some elements\" /></a></p>\n<p>As you can see in the picture, the first, fourth, and seventh row all have a top padding in their first JLabel. One way I managed to eliminate this effect is by making the text in the JLabel only one line, but that doesn't solve the problem because I need it to contain multiple lines.</p>\n<p>Code:</p>\n<pre><code>package maya.page;\n\nimport maya.Main;\nimport maya.object.Module;\nimport maya.object.Occurrence;\n\nimport javax.swing.*;\nimport javax.swing.border.BevelBorder;\nimport javax.swing.border.EmptyBorder;\nimport java.awt.*;\n\npublic class StudentModulePanel extends JPanel {\n    public StudentModulePanel(){\n        DefaultListModel&lt;Occurrence&gt; listModel = new DefaultListModel&lt;&gt;();\n        listModel.addAll(Main.modules.get(&quot;WIX1002&quot;).getOccurrences());\n\n        JList&lt;Occurrence&gt; list = new JList&lt;&gt;(listModel);\n        list.setCellRenderer(new OccurrenceRenderer());\n\n        JScrollPane scrollPane = new JScrollPane(list);\n\n        setLayout(new GridBagLayout());\n\n        GridBagConstraints c = new GridBagConstraints();\n\n        add(scrollPane, c);\n\n        setBackground(new Color(180, 230, 230));\n    }\n}\n\nclass OccurrenceRenderer extends OccurrencePanel implements ListCellRenderer&lt;Occurrence&gt;{\n    @Override\n    public Component getListCellRendererComponent(JList&lt;? extends Occurrence&gt; list, Occurrence value, int index, boolean isSelected, boolean cellHasFocus) {\n        setOccurrence(value);\n\n        if(isSelected){\n            setBorder(new BevelBorder(BevelBorder.LOWERED));\n        } else {\n            setBorder(new BevelBorder(BevelBorder.RAISED));\n        }\n\n        return this;\n    }\n}\n\nclass OccurrencePanel extends JPanel{\n    Occurrence occurrence;\n\n    JLabel moduleTitleLabel = new JLabel();\n    JLabel occurrenceNumberLabel = new JLabel();\n    JLabel activityLabel = new JLabel();\n    JLabel timeLabel = new JLabel();\n    JLabel tutorLabel = new JLabel();\n    JLabel targetLabel = new JLabel();\n    JLabel actualLabel = new JLabel();\n\n    void setOccurrence(Occurrence occurrence){\n        this.occurrence = occurrence;\n\n        Module module = Main.modules.get(occurrence.getCode());\n\n        moduleTitleLabel.setText(String.format(&quot;&lt;html&gt;%s - %s %s&lt;/html&gt;&quot;, module.getCode(), module.getCode(), module.getTitle()));\n        occurrenceNumberLabel.setText(Integer.toString(occurrence.getOccurrenceNumber()));\n        activityLabel.setText(occurrence.getActivityString());\n        timeLabel.setText(occurrence.getTime());\n        tutorLabel.setText(String.format(&quot;&lt;html&gt;%s&lt;/html&gt;&quot;, &quot;TUTOR&quot;)); //occurrence.getTutor()));\n        targetLabel.setText(Integer.toString(occurrence.getTargetStudents()));\n        actualLabel.setText(Integer.toString(occurrence.getActualStudents()));\n    }\n\n\n    OccurrencePanel(){\n        int height = 75;\n        Dimension bigLabelSize = new Dimension(200, height);\n        Dimension smallLabelSize = new Dimension(40, height);\n        Dimension activityLabelSize = new Dimension(75, height);\n        int padding = 10;\n        EmptyBorder paddingBorder = new EmptyBorder(0, padding, 0, padding);\n\n        moduleTitleLabel.setPreferredSize(bigLabelSize);\n        moduleTitleLabel.setBorder(paddingBorder);\n\n        occurrenceNumberLabel.setPreferredSize(smallLabelSize);\n        occurrenceNumberLabel.setBorder(paddingBorder);\n\n        activityLabel.setPreferredSize(activityLabelSize);\n        activityLabel.setBorder(paddingBorder);\n\n        timeLabel.setPreferredSize(bigLabelSize);\n        timeLabel.setBorder(paddingBorder);\n\n        tutorLabel.setPreferredSize(bigLabelSize);\n        tutorLabel.setBorder(paddingBorder);\n\n        targetLabel.setPreferredSize(smallLabelSize);\n        targetLabel.setBorder(paddingBorder);\n\n        targetLabel.setPreferredSize(smallLabelSize);\n        actualLabel.setBorder(paddingBorder);\n\n        setLayout(new GridBagLayout());\n\n        GridBagConstraints c = new GridBagConstraints();\n\n        c.gridx = 0;\n        c.gridy = 0;\n        add(moduleTitleLabel, c);\n\n        c.gridx = 1;\n        add(occurrenceNumberLabel, c);\n\n        c.gridx = 2;\n        add(activityLabel, c);\n\n        c.gridx = 3;\n        add(timeLabel, c);\n\n        c.gridx = 4;\n        add(tutorLabel, c);\n\n        c.gridx = 5;\n        add(targetLabel, c);\n\n        c.gridx = 6;\n        add(actualLabel, c);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jmx"],"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1640218225,"post_id":70456395,"comment_id":124546036,"body_markdown":"hi @fantaghirocco no, I already saw that answer, I am not using Cassandra","body":"hi @fantaghirocco no, I already saw that answer, I am not using Cassandra"}],"answers":[{"tags":[],"owner":{"account_id":2460702,"reputation":171,"user_id":2144940,"display_name":"Eduardo Felipe Zambom Santana"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640226156,"creation_date":1640226156,"answer_id":70457069,"question_id":70456395,"body_markdown":"Are you using maven or gradle? Probably your project is missing a dependency. Probably this one https://mvnrepository.com/artifact/com.codahale.metrics/metrics-core","title":"Java Error Caused by: java.lang.ClassNotFoundException: com.codahale.metrics.JmxReporter","body":"<p>Are you using maven or gradle? Probably your project is missing a dependency. Probably this one <a href=\"https://mvnrepository.com/artifact/com.codahale.metrics/metrics-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.codahale.metrics/metrics-core</a></p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5504,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1640358679,"accepted_answer_id":70457069,"answer_count":1,"score":2,"last_activity_date":1640226156,"creation_date":1640218034,"question_id":70456395,"body_markdown":"I am running Java Spring Boot and receiving this error. How can it be resolved? We see it during runtime. I tried searching github and google, didn&#39;t see any resolutions.\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.codahale.metrics.JmxReporter\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)","title":"Java Error Caused by: java.lang.ClassNotFoundException: com.codahale.metrics.JmxReporter","body":"<p>I am running Java Spring Boot and receiving this error. How can it be resolved? We see it during runtime. I tried searching github and google, didn't see any resolutions.</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.codahale.metrics.JmxReporter\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n</code></pre>\n"},{"tags":["java","rest","tomcat","jersey"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1453193051,"post_id":29015175,"comment_id":57482330,"body_markdown":"Any solution to this one??","body":"Any solution to this one??"},{"owner":{"account_id":1875784,"reputation":380,"user_id":1697026,"display_name":"David Kennedy"},"score":1,"creation_date":1548041578,"post_id":29015175,"comment_id":95387957,"body_markdown":"Just don&#39;t use any character that will be percent encoded can&#39;t be accepted as the answer. &#128529;","body":"Just don&#39;t use any character that will be percent encoded can&#39;t be accepted as the answer. 😑"}],"answers":[{"tags":[],"owner":{"account_id":1320832,"reputation":1107,"user_id":1266708,"accept_rate":83,"display_name":"Julio Garcia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453244687,"creation_date":1453244687,"answer_id":34888625,"question_id":29015175,"body_markdown":"I ran into this exact problem. Change your artifact id to something like &quot;SimpleWebApp&quot; (note that I took out the &#39;-&#39;) and it works. For what I wanted to do, it was not worth finding out the exact reason why this would not work. I don&#39;t think it is jersey, but something about tomcat.\r\n\r\n    mvn archetype:generate -DarchetypeArtifactId=jersey-quickstart-webapp \\\r\n                    -DarchetypeGroupId=org.glassfish.jersey.archetypes -DinteractiveMode=false \\\r\n                    -DgroupId=com.example -DartifactId=SimpleWebapp -Dpackage=com.example \\\r\n                    -DarchetypeVersion=2.22.1\r\n\r\n","title":"Jersey - The servlet context path and/or the servlet path contain characters that are percent encoded","body":"<p>I ran into this exact problem. Change your artifact id to something like \"SimpleWebApp\" (note that I took out the '-') and it works. For what I wanted to do, it was not worth finding out the exact reason why this would not work. I don't think it is jersey, but something about tomcat.</p>\n\n<pre><code>mvn archetype:generate -DarchetypeArtifactId=jersey-quickstart-webapp \\\n                -DarchetypeGroupId=org.glassfish.jersey.archetypes -DinteractiveMode=false \\\n                -DgroupId=com.example -DartifactId=SimpleWebapp -Dpackage=com.example \\\n                -DarchetypeVersion=2.22.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3009250,"reputation":111,"user_id":2553098,"display_name":"consultantleon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640225984,"creation_date":1640225984,"answer_id":70457060,"question_id":29015175,"body_markdown":"It appears jetty 9.4 standard encodes request.getContextPath(), see https://stackoverflow.com/questions/46715446/jetty-9-4-servletcontexthandler-setcontextpath-behavior-or-request-data-change .\r\n\r\nAnd debugging jersey (version 2.30.1 -&gt; 2.35 ) ServletContainer I find the following code (line 94+):\r\n\r\n```\r\n        String decodedBasePath = request.getContextPath() + servletPath + &quot;/&quot;;\r\n        String encodedBasePath = UriComponent.encode(decodedBasePath, Type.PATH);\r\n        if (!decodedBasePath.equals(encodedBasePath)) {\r\n            this.setResponseForInvalidUri(response, new ProcessingException(&quot;The servlet context path and/or the servlet path contain characters that are percent encoded&quot;));\r\n        } else {\r\n```\r\n\r\nSo Jersey does not expect request.getContextPath() to be encoded.\r\n\r\nI.e. it appears jersey needs upgrading to adjust to the new jetty 9.4 behaviour!\r\n\r\nUntil then we won&#39;t be able to have e.g. spaces in URL handled as it used to...","title":"Jersey - The servlet context path and/or the servlet path contain characters that are percent encoded","body":"<p>It appears jetty 9.4 standard encodes request.getContextPath(), see <a href=\"https://stackoverflow.com/questions/46715446/jetty-9-4-servletcontexthandler-setcontextpath-behavior-or-request-data-change\">Jetty 9.4 ServletContextHandler.setContextPath behavior or Request data change</a> .</p>\n<p>And debugging jersey (version 2.30.1 -&gt; 2.35 ) ServletContainer I find the following code (line 94+):</p>\n<pre><code>        String decodedBasePath = request.getContextPath() + servletPath + &quot;/&quot;;\n        String encodedBasePath = UriComponent.encode(decodedBasePath, Type.PATH);\n        if (!decodedBasePath.equals(encodedBasePath)) {\n            this.setResponseForInvalidUri(response, new ProcessingException(&quot;The servlet context path and/or the servlet path contain characters that are percent encoded&quot;));\n        } else {\n</code></pre>\n<p>So Jersey does not expect request.getContextPath() to be encoded.</p>\n<p>I.e. it appears jersey needs upgrading to adjust to the new jetty 9.4 behaviour!</p>\n<p>Until then we won't be able to have e.g. spaces in URL handled as it used to...</p>\n"}],"owner":{"account_id":5080812,"reputation":838,"user_id":4076983,"accept_rate":40,"display_name":"Johannes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4440,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1640225984,"creation_date":1426177598,"question_id":29015175,"body_markdown":"I am using Jersey and Tomcat and I am getting the following message whenever I click a link:\r\n\r\n    HTTP Status 500 - The servlet context path and/or the servlet path contain\r\n    characters that are percent encoded\r\n\r\n    type: Exception report\r\n\r\n    message: The servlet context path and/or the servlet path contain characters\r\n             that are percent encoded\r\n\r\n    description: The server encountered an internal error that prevented it from\r\n                 fulfilling this request.\r\n\r\n    exception:\r\n        javax.ws.rs.ProcessingException: The servlet context path and/or the servlet path\r\n        contain characters that are percent encoded\r\n            org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:317)\r\n            org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\r\n            org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n    note: The full stack trace of the root cause is available in the Apache Tomcat/7.0.56\r\n          logs.\r\n\r\nThe path to the REST service is:\r\n\r\n    http://localhost:8070/simple-service-webapp/rest/hello\r\n\r\nWhen I type this into the URL bar it works, but when I click on a link somewhere on the way the URL becomes this:\r\n\r\n    http://localhost:8070/simple%2Dservice%2Dwebapp/rest/hello\r\n\r\nAnd somehow Jersey does not deal with percent encoded URLs by default.\r\n\r\nCan someone please help me get this to work without removing the dash in the URL? My search did not provide a working solution.\r\n\r\n## Listings\r\n\r\n**HelloResource.java**\r\n\r\n    package com.example;\r\n\r\n    import javax.ws.rs.*;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.core.UriInfo;\r\n\r\n    @Path(&quot;hello&quot;)\r\n    public class HelloResource {\r\n\r\n        @GET\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n        public String sayHelloPlainText(@Context UriInfo uriInfo) {\r\n\r\n            String name = uriInfo.getQueryParameters().getFirst(&quot;name&quot;);\r\n\r\n            if (name == null) {\r\n                name = &quot;unknown user&quot;;\r\n            }\r\n\r\n            return &quot;Hello &quot; + name + &quot;!&quot;;\r\n        }\r\n\r\n        @GET\r\n        @Produces(MediaType.TEXT_HTML)\r\n        public String sayHelloHtml(@Context UriInfo uriInfo) {\r\n\r\n            String text = sayHelloPlainText(uriInfo);\r\n\r\n            String result = &quot;&lt;html&gt;&quot; + &quot;&lt;head&gt;&quot; + &quot;&lt;title&gt;Hello Jersey&lt;/title&gt;&quot; + &quot;&lt;/head&gt;&quot;\r\n                          + &quot;&lt;body&gt;&quot; + &quot;&lt;h1&gt;&quot; + text + &quot;&lt;/h1&gt;&quot; + &quot;&lt;/body&gt;&quot; + &quot;&lt;/html&gt;&quot;;\r\n\r\n            return result;\r\n        }\r\n\r\n        @GET\r\n        @Produces(MediaType.TEXT_XML)\r\n        public String sayHelloXml(@Context UriInfo uriInfo) {\r\n\r\n            String text = sayHelloPlainText(uriInfo);\r\n\r\n            String result = &quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&quot; + &quot;&lt;hello&gt;Hello &quot; + text + &quot;!&quot; + &quot;&lt;/hello&gt;&quot;;\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n**index.jsp**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\r\n        &lt;title&gt;RESTful Web Application&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;h2&gt;My RESTful Web Application!&lt;/h2&gt;\r\n\r\n        &lt;ul&gt;\r\n            &lt;li&gt;&lt;a href=&quot;rest/hello&quot;&gt;Hello from Jersey&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;rest/hello?name=Johannes&quot;&gt;Hello using parameters&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n**web.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\t&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\t\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\t\t\t version=&quot;3.1&quot;&gt;\r\n\r\n\t\t&lt;servlet&gt;\r\n\t\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\r\n\t\t\t&lt;init-param&gt;\r\n\t\t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n\t\t\t\t&lt;param-value&gt;com.example&lt;/param-value&gt;\r\n\t\t\t&lt;/init-param&gt;\r\n\r\n\t\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t\t&lt;/servlet&gt;\r\n\r\n\t\t&lt;servlet-mapping&gt;\r\n\t\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n\t\t&lt;/servlet-mapping&gt;\r\n\t&lt;/web-app&gt;\r\n\r\n**pom.xml**\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;simple-service-webapp&lt;/artifactId&gt;\r\n\t\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;simple-service-webapp&lt;/name&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n\t\t\t&lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\r\n\t\t&lt;dependencyManagement&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t&lt;/dependencyManagement&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;finalName&gt;simple-service-webapp&lt;/finalName&gt;\r\n\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\r\n\t\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;id&gt;WildFlyServer&lt;/id&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;server&gt;TomcatServer&lt;/server&gt;\r\n\r\n\t\t\t\t\t\t&lt;url&gt;http://localhost:8070/manager/text&lt;/url&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;","title":"Jersey - The servlet context path and/or the servlet path contain characters that are percent encoded","body":"<p>I am using Jersey and Tomcat and I am getting the following message whenever I click a link:</p>\n\n<pre><code>HTTP Status 500 - The servlet context path and/or the servlet path contain\ncharacters that are percent encoded\n\ntype: Exception report\n\nmessage: The servlet context path and/or the servlet path contain characters\n         that are percent encoded\n\ndescription: The server encountered an internal error that prevented it from\n             fulfilling this request.\n\nexception:\n    javax.ws.rs.ProcessingException: The servlet context path and/or the servlet path\n    contain characters that are percent encoded\n        org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:317)\n        org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\n        org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n\nnote: The full stack trace of the root cause is available in the Apache Tomcat/7.0.56\n      logs.\n</code></pre>\n\n<p>The path to the REST service is:</p>\n\n<pre><code>http://localhost:8070/simple-service-webapp/rest/hello\n</code></pre>\n\n<p>When I type this into the URL bar it works, but when I click on a link somewhere on the way the URL becomes this:</p>\n\n<pre><code>http://localhost:8070/simple%2Dservice%2Dwebapp/rest/hello\n</code></pre>\n\n<p>And somehow Jersey does not deal with percent encoded URLs by default.</p>\n\n<p>Can someone please help me get this to work without removing the dash in the URL? My search did not provide a working solution.</p>\n\n<h2>Listings</h2>\n\n<p><strong>HelloResource.java</strong></p>\n\n<pre><code>package com.example;\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.UriInfo;\n\n@Path(\"hello\")\npublic class HelloResource {\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String sayHelloPlainText(@Context UriInfo uriInfo) {\n\n        String name = uriInfo.getQueryParameters().getFirst(\"name\");\n\n        if (name == null) {\n            name = \"unknown user\";\n        }\n\n        return \"Hello \" + name + \"!\";\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String sayHelloHtml(@Context UriInfo uriInfo) {\n\n        String text = sayHelloPlainText(uriInfo);\n\n        String result = \"&lt;html&gt;\" + \"&lt;head&gt;\" + \"&lt;title&gt;Hello Jersey&lt;/title&gt;\" + \"&lt;/head&gt;\"\n                      + \"&lt;body&gt;\" + \"&lt;h1&gt;\" + text + \"&lt;/h1&gt;\" + \"&lt;/body&gt;\" + \"&lt;/html&gt;\";\n\n        return result;\n    }\n\n    @GET\n    @Produces(MediaType.TEXT_XML)\n    public String sayHelloXml(@Context UriInfo uriInfo) {\n\n        String text = sayHelloPlainText(uriInfo);\n\n        String result = \"&lt;?xml version=\\\"1.0\\\"?&gt;\" + \"&lt;hello&gt;Hello \" + text + \"!\" + \"&lt;/hello&gt;\";\n\n        return result;\n    }\n}\n</code></pre>\n\n<p><strong>index.jsp</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n\n    &lt;title&gt;RESTful Web Application&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h2&gt;My RESTful Web Application!&lt;/h2&gt;\n\n    &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\"rest/hello\"&gt;Hello from Jersey&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"rest/hello?name=Johannes\"&gt;Hello using parameters&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\"&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.example&lt;/param-value&gt;\n        &lt;/init-param&gt;\n\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;simple-service-webapp&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;simple-service-webapp&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;jersey.version&gt;2.16&lt;/jersey.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;simple-service-webapp&lt;/finalName&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n\n                &lt;inherited&gt;true&lt;/inherited&gt;\n\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.2.Final&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;id&gt;WildFlyServer&lt;/id&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n\n                &lt;configuration&gt;\n                    &lt;server&gt;TomcatServer&lt;/server&gt;\n\n                    &lt;url&gt;http://localhost:8070/manager/text&lt;/url&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","data-structures","hash","hashmap","thread-local"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1640140108,"post_id":70443378,"comment_id":124523336,"body_markdown":"Maybe because it uses linear probing, which is [more sensitive](https://en.wikipedia.org/wiki/Linear_probing#:~:text=its%20performance%20degrades%20more%20quickly%20at%20high%20load%20factors) to high load factors.","body":"Maybe because it uses linear probing, which is <a href=\"https://en.wikipedia.org/wiki/Linear_probing#:~:text=its%20performance%20degrades%20more%20quickly%20at%20high%20load%20factors\" rel=\"nofollow noreferrer\">more sensitive</a> to high load factors."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1640140109,"post_id":70443378,"comment_id":124523337,"body_markdown":"It doesn&#39;t use 2/3 as a load factor.  The comment in the code just explains why 32 is a good initial capacity.  It needs to be a power of 2, and it needs to be a bit more than 20.","body":"It doesn&#39;t use 2/3 as a load factor.  The comment in the code just explains why 32 is a good initial capacity.  It needs to be a power of 2, and it needs to be a bit more than 20."},{"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"score":0,"creation_date":1640141040,"post_id":70443378,"comment_id":124523464,"body_markdown":"@DawoodibnKareem 21/32 = 0.65625, 21 ≈ 32 * 2/3. In the `init` method, the initCapacity is multiplied by 2, that is, table.length = 64 by default. In the `put` method, if `(s + (s &lt;&lt; 1)&gt; len &amp;&amp; resize(len))`, the current `size + 1` multiplied by 3 to determine whether to resize, that is, use 2/3 as the load factor.","body":"@DawoodibnKareem 21/32 = 0.65625, 21 ≈ 32 * 2/3. In the <code>init</code> method, the initCapacity is multiplied by 2, that is, table.length = 64 by default. In the <code>put</code> method, if <code>(s + (s &lt;&lt; 1)&gt; len &amp;&amp; resize(len))</code>, the current <code>size + 1</code> multiplied by 3 to determine whether to resize, that is, use 2/3 as the load factor."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1640142548,"post_id":70443378,"comment_id":124523686,"body_markdown":"real programmers don&#39;t use floating-point?  ;-)","body":"real programmers don&#39;t use floating-point?  ;-)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1640177742,"post_id":70443378,"comment_id":124533211,"body_markdown":"Why do you think, 0.75 (=3/4) would be a better load factor than 2/3?","body":"Why do you think, 0.75 (=3/4) would be a better load factor than 2/3?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640177932,"post_id":70443378,"comment_id":124533285,"body_markdown":"@shmosel it always baffled me why they decided to use this load factor approach instead of just counting the actual number of collisions. In the end, both approaches use an int field but the load factor approach can cause entirely obsolete rehashing operations.","body":"@shmosel it always baffled me why they decided to use this load factor approach instead of just counting the actual number of collisions. In the end, both approaches use an int field but the load factor approach can cause entirely obsolete rehashing operations."},{"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"score":0,"creation_date":1640180332,"post_id":70443378,"comment_id":124534303,"body_markdown":"@Holger I didn’t think which one was better, but wanted to know how these two values were derived.","body":"@Holger I didn’t think which one was better, but wanted to know how these two values were derived."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1640181116,"post_id":70443378,"comment_id":124534606,"body_markdown":"Well, we don’t know whether the author(s) of `IdentityHashMap` ever considered using the same load factor as `HashMap`. If they did, shmosel’s conjecture is the most plausible.","body":"Well, we don’t know whether the author(s) of <code>IdentityHashMap</code> ever considered using the same load factor as <code>HashMap</code>. If they did, shmosel’s conjecture is the most plausible."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1640203304,"post_id":70443378,"comment_id":124542552,"body_markdown":"My earlier link compares linear probing to other open addressing strategies. A more key point is that open addressing in general has to be [stricter about load factor](https://en.wikipedia.org/wiki/Open_addressing#:~:text=A%20critical%20influence%20on%20performance%20of%20an%20open%20addressing%20hash%20table%20is%20the%20load%20factor), as opposed to chaining, which can theoretically grow infinitely on a single hash bucket.","body":"My earlier link compares linear probing to other open addressing strategies. A more key point is that open addressing in general has to be <a href=\"https://en.wikipedia.org/wiki/Open_addressing#:~:text=A%20critical%20influence%20on%20performance%20of%20an%20open%20addressing%20hash%20table%20is%20the%20load%20factor\" rel=\"nofollow noreferrer\">stricter about load factor</a>, as opposed to chaining, which can theoretically grow infinitely on a single hash bucket."}],"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640225087,"creation_date":1640137435,"question_id":70443378,"body_markdown":"```java\r\npublic class IdentityHashMap&lt;K,V&gt;\r\n    extends AbstractMap&lt;K,V&gt;\r\n    implements Map&lt;K,V&gt;, java.io.Serializable, Cloneable\r\n{\r\n    /**\r\n     * The initial capacity used by the no-args constructor.\r\n     * MUST be a power of two.  The value 32 corresponds to the\r\n     * (specified) expected maximum size of 21, given a load factor\r\n     * of 2/3.\r\n     */\r\n    private static final int DEFAULT_CAPACITY = 32;\r\n    \r\n    // omitted\r\n}\r\n```\r\n\r\nFrom [jdk/IdentityHashMap.java at jdk8-b120 &#183; openjdk/jdk &#183; GitHub](https://github.com/openjdk/jdk/blob/jdk8-b120/jdk/src/share/classes/java/util/IdentityHashMap.java#L149)\r\n\r\n\r\n##### Update\r\nI also found that `ThreadLocal.ThreadLocalMap` also uses 2/3 as the load factor, It also uses linear probing to resolve conflicts.\r\n\r\n```java\r\n/**\r\n * Set the resize threshold to maintain at worst a 2/3 load factor.\r\n */\r\nprivate void setThreshold(int len) {\r\n    threshold = len * 2 / 3;\r\n}\r\n```\r\nFrom [jdk/ThreadLocal.java at jdk8-b120 &#183; openjdk/jdk &#183; GitHub](https://github.com/openjdk/jdk/blob/jdk8-b120/jdk/src/share/classes/java/lang/ThreadLocal.java#L342)","title":"Why does IdentityHashMap use 2/3 as the load factor instead of 0.75?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class IdentityHashMap&lt;K,V&gt;\n    extends AbstractMap&lt;K,V&gt;\n    implements Map&lt;K,V&gt;, java.io.Serializable, Cloneable\n{\n    /**\n     * The initial capacity used by the no-args constructor.\n     * MUST be a power of two.  The value 32 corresponds to the\n     * (specified) expected maximum size of 21, given a load factor\n     * of 2/3.\n     */\n    private static final int DEFAULT_CAPACITY = 32;\n    \n    // omitted\n}\n</code></pre>\n<p>From <a href=\"https://github.com/openjdk/jdk/blob/jdk8-b120/jdk/src/share/classes/java/util/IdentityHashMap.java#L149\" rel=\"nofollow noreferrer\">jdk/IdentityHashMap.java at jdk8-b120 · openjdk/jdk · GitHub</a></p>\n<h5>Update</h5>\n<p>I also found that <code>ThreadLocal.ThreadLocalMap</code> also uses 2/3 as the load factor, It also uses linear probing to resolve conflicts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set the resize threshold to maintain at worst a 2/3 load factor.\n */\nprivate void setThreshold(int len) {\n    threshold = len * 2 / 3;\n}\n</code></pre>\n<p>From <a href=\"https://github.com/openjdk/jdk/blob/jdk8-b120/jdk/src/share/classes/java/lang/ThreadLocal.java#L342\" rel=\"nofollow noreferrer\">jdk/ThreadLocal.java at jdk8-b120 · openjdk/jdk · GitHub</a></p>\n"},{"tags":["java","android","xml","android-studio","user-interface"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640224519,"creation_date":1640224519,"answer_id":70456960,"question_id":70453632,"body_markdown":"You can use a `DialogFragment`. \r\nIt behaves like a normal `Fragment` for the most part. Here is a guide for a basic implementation https://guides.codepath.com/android/using-dialogfragment\r\n\r\n\r\nThey appear automatically in the center of the screen. To get it a bit lower like in your mockup you can change where it is in the window. Here is an answer showing such https://stackoverflow.com/questions/9698410/position-of-dialogfragment-in-android\r\n\r\n\r\n","title":"how to use fragments to create an overlay effect for an add contact function when a button is pressed","body":"<p>You can use a <code>DialogFragment</code>.\nIt behaves like a normal <code>Fragment</code> for the most part. Here is a guide for a basic implementation <a href=\"https://guides.codepath.com/android/using-dialogfragment\" rel=\"nofollow noreferrer\">https://guides.codepath.com/android/using-dialogfragment</a></p>\n<p>They appear automatically in the center of the screen. To get it a bit lower like in your mockup you can change where it is in the window. Here is an answer showing such <a href=\"https://stackoverflow.com/questions/9698410/position-of-dialogfragment-in-android\">Position of DialogFragment in Android</a></p>\n"}],"owner":{"account_id":13406693,"reputation":55,"user_id":12844895,"display_name":"udbhav shrivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70456960,"answer_count":1,"score":0,"last_activity_date":1640224519,"creation_date":1640197860,"question_id":70453632,"body_markdown":"I&#39;m trying to create an overlay that is triggered when a button is pressed. This overlay is supposed to allow the user to add their contact and I was wondering how can I use fragments to get this effect like you can see in this mockup.[![Adobe XD Mockup][1]][1]\r\nI am in a dilemna over using fragments is the right choice. My reasoning being that I only need to have it do one task that is adding contacts, and thus I do not need a whole activity.\r\n\r\nThis is what I have on the main activity right now[![Main Activity Java File][2]][2]\r\n[![Main Activity xml File][3]][3]\r\n\r\nI would really appreciate any help on understanding how to make this work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rVbom.gif\r\n  [2]: https://i.stack.imgur.com/RiTPB.png\r\n  [3]: https://i.stack.imgur.com/53Wp6.png","title":"how to use fragments to create an overlay effect for an add contact function when a button is pressed","body":"<p>I'm trying to create an overlay that is triggered when a button is pressed. This overlay is supposed to allow the user to add their contact and I was wondering how can I use fragments to get this effect like you can see in this mockup.<a href=\"https://i.stack.imgur.com/rVbom.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rVbom.gif\" alt=\"Adobe XD Mockup\" /></a>\nI am in a dilemna over using fragments is the right choice. My reasoning being that I only need to have it do one task that is adding contacts, and thus I do not need a whole activity.</p>\n<p>This is what I have on the main activity right now<a href=\"https://i.stack.imgur.com/RiTPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RiTPB.png\" alt=\"Main Activity Java File\" /></a>\n<a href=\"https://i.stack.imgur.com/53Wp6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53Wp6.png\" alt=\"Main Activity xml File\" /></a></p>\n<p>I would really appreciate any help on understanding how to make this work.</p>\n"},{"tags":["java","unix","process"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1370331201,"post_id":16912103,"comment_id":24410171,"body_markdown":"You sure are missing something: mentioning that you pass the entire message to convert on the command line.","body":"You sure are missing something: mentioning that you pass the entire message to convert on the command line."},{"owner":{"account_id":2609484,"reputation":6702,"user_id":2259878,"accept_rate":94,"display_name":"uncletall"},"score":1,"creation_date":1370331773,"post_id":16912103,"comment_id":24410437,"body_markdown":"Try writing to the process input stream","body":"Try writing to the process input stream"},{"owner":{"account_id":1186119,"reputation":761,"user_id":1160034,"accept_rate":67,"display_name":"VamsiKrishna"},"score":0,"creation_date":1370340163,"post_id":16912103,"comment_id":24414993,"body_markdown":"@uncletall Can u elaborate. I am not sure on how to to write to process input stream","body":"@uncletall Can u elaborate. I am not sure on how to to write to process input stream"}],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1370342868,"creation_date":1370331761,"answer_id":16912342,"question_id":16912103,"body_markdown":"There&#39;s a limit to much data you can pass to a program on the command line. If you have a lot of data you should pass it to iconv using its standard input stream, i.e. by writing it to `proc.getOutputStream`. Here&#39;s an example:\r\n\r\n    OutputStream os = proc.getOutputStream();\r\n    os.write(InputMessage.getBytes(strSrcEncoding));\r\n    os.close();\r\n\r\nUnfortunately, for longer messages this will also fail because `iconv` will fill the buffer of the pipe it is connected to, and wait for the pipe to be read. The solution is writing data to `iconv` from one thread and reading the output from another. Dealing with external processes is a hassle because of all these pit-falls. You can read more about it here: http://www.javaworld.com/jw-12-2000/jw-1229-traps.html [Apache commons exec][1] helps you deal with some of them.\r\n\r\nOn the other hand, why are you using iconv? You know Java has good library support for most character encodings, `cp930` included?\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-exec/","title":"IOException: error=7, Argument list too long with large command line","body":"<p>There's a limit to much data you can pass to a program on the command line. If you have a lot of data you should pass it to iconv using its standard input stream, i.e. by writing it to <code>proc.getOutputStream</code>. Here's an example:</p>\n\n<pre><code>OutputStream os = proc.getOutputStream();\nos.write(InputMessage.getBytes(strSrcEncoding));\nos.close();\n</code></pre>\n\n<p>Unfortunately, for longer messages this will also fail because <code>iconv</code> will fill the buffer of the pipe it is connected to, and wait for the pipe to be read. The solution is writing data to <code>iconv</code> from one thread and reading the output from another. Dealing with external processes is a hassle because of all these pit-falls. You can read more about it here: <a href=\"http://www.javaworld.com/jw-12-2000/jw-1229-traps.html\" rel=\"nofollow\">http://www.javaworld.com/jw-12-2000/jw-1229-traps.html</a> <a href=\"http://commons.apache.org/proper/commons-exec/\" rel=\"nofollow\">Apache commons exec</a> helps you deal with some of them.</p>\n\n<p>On the other hand, why are you using iconv? You know Java has good library support for most character encodings, <code>cp930</code> included?</p>\n"},{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438693486,"creation_date":1438693486,"answer_id":31810159,"question_id":16912103,"body_markdown":"I reached this issue when trying to set environment variables as follows:\r\n\r\n    final ProcessBuilder pb = new ProcessBuilder(...);\r\n    pb.environment().putAll(env); //here it&#39;s ok\r\n    ...\r\n    pb.start(); //here is where it throws the exception\r\n\r\nThe problem was with what the `env` map contained, though the `&quot;bash&quot;:java.io.IOException: error=7, Argument list too long` was indicating otherwise.","title":"IOException: error=7, Argument list too long with large command line","body":"<p>I reached this issue when trying to set environment variables as follows:</p>\n\n<pre><code>final ProcessBuilder pb = new ProcessBuilder(...);\npb.environment().putAll(env); //here it's ok\n...\npb.start(); //here is where it throws the exception\n</code></pre>\n\n<p>The problem was with what the <code>env</code> map contained, though the <code>\"bash\":java.io.IOException: error=7, Argument list too long</code> was indicating otherwise.</p>\n"},{"tags":[],"owner":{"account_id":2027668,"reputation":3481,"user_id":1812235,"display_name":"Kondal Kolipaka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640224378,"creation_date":1467874429,"answer_id":38239172,"question_id":16912103,"body_markdown":"This happens, when the size of the arguments exceeds the allowed size. And this depends on the platform.\r\n\r\n\r\nTo verify the maximum limit, run\r\n\r\n    $ getconf ARG_MAX\r\n\r\n\r\nFor mac osx environment, I can see 262144 is the limit.\r\n\r\nLimit for each platform is different, that can be found here:\r\nhttp://www.in-ulm.de/~mascheck/various/argmax/\r\n\r\n\r\nTo check the environment string:\r\n\r\n    $ env\r\n\r\n","title":"IOException: error=7, Argument list too long with large command line","body":"<p>This happens, when the size of the arguments exceeds the allowed size. And this depends on the platform.</p>\n<p>To verify the maximum limit, run</p>\n<pre><code>$ getconf ARG_MAX\n</code></pre>\n<p>For mac osx environment, I can see 262144 is the limit.</p>\n<p>Limit for each platform is different, that can be found here:\n<a href=\"http://www.in-ulm.de/%7Emascheck/various/argmax/\" rel=\"nofollow noreferrer\">http://www.in-ulm.de/~mascheck/various/argmax/</a></p>\n<p>To check the environment string:</p>\n<pre><code>$ env\n</code></pre>\n"}],"owner":{"account_id":1186119,"reputation":761,"user_id":1160034,"accept_rate":67,"display_name":"VamsiKrishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28451,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1640224378,"creation_date":1370330876,"question_id":16912103,"body_markdown":"I have a requirement to call Unix command from Java. The code is as follows.\r\n\r\n    String strCmd = &quot;iconv -f &quot;+ strSrcEncoding+&quot; -t &quot;+ strTgtEncoding + &quot; &lt;&lt;&lt; &quot;+&quot;\\&quot;&quot;+InputMessage+&quot;\\&quot;&quot;;\r\n\t\t\t\r\n    String commands[] = {&quot;bash&quot;,&quot;-c&quot;,strCmd};\r\n    Process proc = Runtime.getRuntime().exec(commands);\r\n    String strData = null;\r\n    \r\n    // Get the error Stream\r\n    BufferedReader brStdError = new BufferedReader(new\r\n    \t\tInputStreamReader(proc.getErrorStream()));\r\n    StringBuilder sbError = new StringBuilder();\r\n    \r\n    \r\n    // read any errors from the attempted command\r\n    while ((strData = brStdError.readLine()) != null) {\r\n    \tsbError.append(strData);\r\n    }\r\n    \r\n    if(sbError.toString().isEmpty())\r\n    \treturn &quot;success&quot;;\r\n    else\r\n    \treturn &quot;failure&quot;+sbError.toString();\r\n\r\nWhen i pass a large data am getting an error \r\n\r\n    &quot;bash&quot;: java.io.IOException: error=7, Argument list too long\r\n\r\nI tried using echo instead as below \r\n\r\n    echo &lt;&lt;InputMessage&gt;&gt; | iconv -f utf8 -t Cp930\r\n\r\nBut was getting the same error\r\n\r\nAm i missing anything? \r\n","title":"IOException: error=7, Argument list too long with large command line","body":"<p>I have a requirement to call Unix command from Java. The code is as follows.</p>\n\n<pre><code>String strCmd = \"iconv -f \"+ strSrcEncoding+\" -t \"+ strTgtEncoding + \" &lt;&lt;&lt; \"+\"\\\"\"+InputMessage+\"\\\"\";\n\nString commands[] = {\"bash\",\"-c\",strCmd};\nProcess proc = Runtime.getRuntime().exec(commands);\nString strData = null;\n\n// Get the error Stream\nBufferedReader brStdError = new BufferedReader(new\n        InputStreamReader(proc.getErrorStream()));\nStringBuilder sbError = new StringBuilder();\n\n\n// read any errors from the attempted command\nwhile ((strData = brStdError.readLine()) != null) {\n    sbError.append(strData);\n}\n\nif(sbError.toString().isEmpty())\n    return \"success\";\nelse\n    return \"failure\"+sbError.toString();\n</code></pre>\n\n<p>When i pass a large data am getting an error </p>\n\n<pre><code>\"bash\": java.io.IOException: error=7, Argument list too long\n</code></pre>\n\n<p>I tried using echo instead as below </p>\n\n<pre><code>echo &lt;&lt;InputMessage&gt;&gt; | iconv -f utf8 -t Cp930\n</code></pre>\n\n<p>But was getting the same error</p>\n\n<p>Am i missing anything? </p>\n"},{"tags":["java","loops","firebase-realtime-database","arraylist","methods"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640224287,"creation_date":1640224287,"answer_id":70456941,"question_id":70456816,"body_markdown":"You&#39;re calling `recuperarPessoasModelos` each time that `carregarRequisicoes` loops through one of its `for(RequisicoesCitty requisicao: requisicao) {`. This is totally fine, but I&#39;m guessing that `recuperarPessoasModelos` is not handling these multiple calls correctly.\r\n\r\nIf you only want to call `recuperarPessoasModelos` once all `requisicao` are done, you can check a counter like this:\r\n```\r\nList snapshots = new List(); // &#128072; a list to track the snapshots we have already loaded\r\nfor(RequisicoesCitty requisicao: requisicao) {\r\n    Log.d(&quot;Part 2&quot;, &quot;Working&quot;);\r\n    DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n    Query requisicoesEnviadas = firebaseRef.child(&quot;Requisicoes&quot;).child(usuarioAtual.getId())\r\n            .child(&quot;Enviadas&quot;).child(requisicao.getIdPessoa());\r\n\r\n    requisicoesEnviadas.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            snapshots.add(snapshot); // &#128072; add snapshot to list\r\n            RequisicoesCitty reqSnap = snapshot.getValue(RequisicoesCitty.class);\r\n            idComp = reqSnap.getIdPessoa();\r\n            if (snapshots.size() == requisicao.size()) { // &#128072; check if we got all of them\r\n                recuperarPessoasModelos();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            throw error.toException(); // &#128072; never ignore errors\r\n        }\r\n\r\n```\r\n\r\n","title":"retrieve the value of an ArrayList inside a repeating function","body":"<p>You're calling <code>recuperarPessoasModelos</code> each time that <code>carregarRequisicoes</code> loops through one of its <code>for(RequisicoesCitty requisicao: requisicao) {</code>. This is totally fine, but I'm guessing that <code>recuperarPessoasModelos</code> is not handling these multiple calls correctly.</p>\n<p>If you only want to call <code>recuperarPessoasModelos</code> once all <code>requisicao</code> are done, you can check a counter like this:</p>\n<pre><code>List snapshots = new List(); // 👈 a list to track the snapshots we have already loaded\nfor(RequisicoesCitty requisicao: requisicao) {\n    Log.d(&quot;Part 2&quot;, &quot;Working&quot;);\n    DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n    Query requisicoesEnviadas = firebaseRef.child(&quot;Requisicoes&quot;).child(usuarioAtual.getId())\n            .child(&quot;Enviadas&quot;).child(requisicao.getIdPessoa());\n\n    requisicoesEnviadas.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            snapshots.add(snapshot); // 👈 add snapshot to list\n            RequisicoesCitty reqSnap = snapshot.getValue(RequisicoesCitty.class);\n            idComp = reqSnap.getIdPessoa();\n            if (snapshots.size() == requisicao.size()) { // 👈 check if we got all of them\n                recuperarPessoasModelos();\n            }\n        }\n    \n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            throw error.toException(); // 👈 never ignore errors\n        }\n\n</code></pre>\n"}],"owner":{"account_id":23569188,"reputation":5,"user_id":17609544,"display_name":"X MrZaq X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70456941,"answer_count":1,"score":0,"last_activity_date":1640224287,"creation_date":1640223048,"question_id":70456816,"body_markdown":"I&#39;m trying to retrieve the array list generated in the function `recuperarPessoasModelo()`, but it only runs much later than I need so the value passed to `revelaPessoas()` is null, does anyone know any way I can run this function and just get the value after `recuperarPessoasModelo()` is executed? I can&#39;t put it inside because since it has a for loop it will run X times and generate a repeating list\r\n\r\nThe .Json in the DB looks like this: \r\n```\r\nPerfil{\r\n       PcCPoh01wscJj7jJBQQorme7Rqq1{\r\n                                    status:online\r\n                                    name: Carl Johnson\r\n                                    age: 21 \r\n                                    sex: male}\r\n       t3IeEKy7XxdGeLYRxw2G1djNHdp2{\r\n                                    status:online\r\n                                    name: John Marston\r\n                                    age: 33 \r\n                                    sex: male}\r\n}\r\nRequisicoes{\r\n t3IeEKy7XxdGeLYRxw2G1djNHdp2{\r\n                             Enviadas{\r\n                                     PcCPoh01wscJj7jJBQQorme7Rqq1{\r\n                                                             idPessoa:PcCPoh01wscJj7jJBQQorme7Rqq1\r\n                                                             status: Aguardando\r\n                                                                 }\r\n                                     }\r\n                              }\r\n}\r\n                                                                 \r\n```\r\n**the class in question:**\r\n\r\n```\r\npublic class Perfil_outter extends AppCompatActivity{\r\n\r\n    private List &lt;RequisicoesCitty&gt; requisicao = new ArrayList&lt;&gt;();\r\n    private List &lt;ModeloPerfil&gt; pessoaQuestao = new ArrayList&lt;&gt;();\r\n    private String idComp;\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n     \r\n     carregarIds();\r\n     revelaPessoa()\r\n    }\r\n\r\n    public List&lt;ModeloPerfil&gt; getPessoaQuestao() {\r\n        return pessoaQuestao;\r\n    }\r\n\r\n    public void setPessoaQuestao(List&lt;ModeloPerfil&gt; pessoaQuestao) {\r\n        this.pessoaQuestao = pessoaQuestao;\r\n    }\r\n\r\n    public void carregarIds(){\r\n        Log.d(&quot;Part 1&quot;, &quot;Working&quot;);\r\n\r\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        DatabaseReference idsRef = firebaseRef.child(&quot;Requisicoes&quot;);\r\n        Query refId = idsRef.child(usuarioAtual.getId()).child(&quot;Enviadas&quot;).orderByChild(&quot;id&quot;);\r\n        refId.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n\r\n                for(DataSnapshot ds: snapshot.getChildren()) {\r\n                    RequisicoesCitty reqSnapshots = ds.getValue(RequisicoesCitty.class);\r\n                    Log.d(&quot;IdPessoas&quot;,reqSnapshots.getIdPessoa());\r\n                    requisicao.add(reqSnapshots);\r\n                }\r\n                carregarRequisicoes();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public void carregarRequisicoes(){\r\n\r\n        if(requisicao.isEmpty()){\r\n            Log.d(&quot;N&#227;o encontrado&quot;, &quot;Nenhuma requisi&#231;&#227;o Citty&quot;);\r\n        }\r\n\r\n        for(RequisicoesCitty requisicao: requisicao) {\r\n            Log.d(&quot;Part 2&quot;, &quot;Working&quot;);\r\n            DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n            Query requisicoesEnviadas = firebaseRef.child(&quot;Requisicoes&quot;).child(usuarioAtual.getId())\r\n                    .child(&quot;Enviadas&quot;).child(requisicao.getIdPessoa());\r\n\r\n            requisicoesEnviadas.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    RequisicoesCitty reqSnap = snapshot.getValue(RequisicoesCitty.class);\r\n                    idComp = reqSnap.getIdPessoa();\r\n                    recuperarPessoasModelos();\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public void recuperarPessoasModelos(){\r\n        Log.d(&quot;Part 3&quot;, &quot;Working&quot;);\r\n\r\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\r\n        Query pessoas = firebaseRef.child(&quot;Perfil&quot;).child(idComp);\r\n        pessoas.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                ModeloPerfil pessoas = snapshot.getValue(ModeloPerfil.class);\r\n                pessoaQuestao.add(pessoas);\r\n                setPessoaQuestao(pessoaQuestao);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public void revelaPessoas(){\r\n\r\n        for(ModeloPerfil modelo: getPessoaQuestao()){\r\n            Log.d(&quot;Funcionar&quot;, modelo.getNome());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\ndid you understand my problem? my goal is to get the value `modelo.getNome()` inside of `revelaPessoas` back and display but it runs sooner than it should","title":"retrieve the value of an ArrayList inside a repeating function","body":"<p>I'm trying to retrieve the array list generated in the function <code>recuperarPessoasModelo()</code>, but it only runs much later than I need so the value passed to <code>revelaPessoas()</code> is null, does anyone know any way I can run this function and just get the value after <code>recuperarPessoasModelo()</code> is executed? I can't put it inside because since it has a for loop it will run X times and generate a repeating list</p>\n<p>The .Json in the DB looks like this:</p>\n<pre><code>Perfil{\n       PcCPoh01wscJj7jJBQQorme7Rqq1{\n                                    status:online\n                                    name: Carl Johnson\n                                    age: 21 \n                                    sex: male}\n       t3IeEKy7XxdGeLYRxw2G1djNHdp2{\n                                    status:online\n                                    name: John Marston\n                                    age: 33 \n                                    sex: male}\n}\nRequisicoes{\n t3IeEKy7XxdGeLYRxw2G1djNHdp2{\n                             Enviadas{\n                                     PcCPoh01wscJj7jJBQQorme7Rqq1{\n                                                             idPessoa:PcCPoh01wscJj7jJBQQorme7Rqq1\n                                                             status: Aguardando\n                                                                 }\n                                     }\n                              }\n}\n                                                                 \n</code></pre>\n<p><strong>the class in question:</strong></p>\n<pre><code>public class Perfil_outter extends AppCompatActivity{\n\n    private List &lt;RequisicoesCitty&gt; requisicao = new ArrayList&lt;&gt;();\n    private List &lt;ModeloPerfil&gt; pessoaQuestao = new ArrayList&lt;&gt;();\n    private String idComp;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n     \n     carregarIds();\n     revelaPessoa()\n    }\n\n    public List&lt;ModeloPerfil&gt; getPessoaQuestao() {\n        return pessoaQuestao;\n    }\n\n    public void setPessoaQuestao(List&lt;ModeloPerfil&gt; pessoaQuestao) {\n        this.pessoaQuestao = pessoaQuestao;\n    }\n\n    public void carregarIds(){\n        Log.d(&quot;Part 1&quot;, &quot;Working&quot;);\n\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n        DatabaseReference idsRef = firebaseRef.child(&quot;Requisicoes&quot;);\n        Query refId = idsRef.child(usuarioAtual.getId()).child(&quot;Enviadas&quot;).orderByChild(&quot;id&quot;);\n        refId.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n\n                for(DataSnapshot ds: snapshot.getChildren()) {\n                    RequisicoesCitty reqSnapshots = ds.getValue(RequisicoesCitty.class);\n                    Log.d(&quot;IdPessoas&quot;,reqSnapshots.getIdPessoa());\n                    requisicao.add(reqSnapshots);\n                }\n                carregarRequisicoes();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    public void carregarRequisicoes(){\n\n        if(requisicao.isEmpty()){\n            Log.d(&quot;Não encontrado&quot;, &quot;Nenhuma requisição Citty&quot;);\n        }\n\n        for(RequisicoesCitty requisicao: requisicao) {\n            Log.d(&quot;Part 2&quot;, &quot;Working&quot;);\n            DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n            Query requisicoesEnviadas = firebaseRef.child(&quot;Requisicoes&quot;).child(usuarioAtual.getId())\n                    .child(&quot;Enviadas&quot;).child(requisicao.getIdPessoa());\n\n            requisicoesEnviadas.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    RequisicoesCitty reqSnap = snapshot.getValue(RequisicoesCitty.class);\n                    idComp = reqSnap.getIdPessoa();\n                    recuperarPessoasModelos();\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n        }\n    }\n\n\n\n    public void recuperarPessoasModelos(){\n        Log.d(&quot;Part 3&quot;, &quot;Working&quot;);\n\n        DatabaseReference firebaseRef = ConfiguracaoFirebase.getFirebaseDatabase();\n        Query pessoas = firebaseRef.child(&quot;Perfil&quot;).child(idComp);\n        pessoas.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                ModeloPerfil pessoas = snapshot.getValue(ModeloPerfil.class);\n                pessoaQuestao.add(pessoas);\n                setPessoaQuestao(pessoaQuestao);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    public void revelaPessoas(){\n\n        for(ModeloPerfil modelo: getPessoaQuestao()){\n            Log.d(&quot;Funcionar&quot;, modelo.getNome());\n        }\n    }\n}\n</code></pre>\n<p>did you understand my problem? my goal is to get the value <code>modelo.getNome()</code> inside of <code>revelaPessoas</code> back and display but it runs sooner than it should</p>\n"},{"tags":["java","spring"],"owner":{"account_id":11117540,"reputation":385,"user_id":8161432,"display_name":"notphilphil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640224139,"creation_date":1640224139,"question_id":70456916,"body_markdown":"# Summarize #\r\n## Goal ##\r\nI have an application that is written in Java using the Spring framework. There is a service that is being used as the handler for grabbing and releasing locks in the database (InnoDB). My goal is to be able to log the grabbing and releasing of the locks to create a lock history. For each lock interaction, I would like to know not only the name of the lock involved, but also where this request is coming from in the code (if possible, **class name**, **method name**, and **line number**).\r\n\r\nMy expected database entry will look something like this:\r\n\r\n|id | lock_name | clazz | method | line | lock_date | unlock_date | unlock_type|\r\n|-- | --------- | ----- | ------ | ---- | --------- | ----------- | -----------|\r\n|0 | tb_member | MemberTools | createMember | 123 | 2021-12-23 10:16:00 | 2021-12-23 10:16:01 | COMMIT|\r\n|1 | tb_member | MemberTools | editMember | 234 | 2021-12-23 10:16:01 | 2021-12-23 10:16:02 | COMMIT|\r\n\r\nI would like to know if there is an easy way to obtain this given that I am using the Spring framework.\r\n\r\n# Describe #\r\nSo far, I have tried two things:\r\n1. Forcing the caller to pass a reference to itself or its current ```StackTraceElement``` (using ```Thread.currentThread().getStackTrace()[1]```). This is not only extremely repetitive, but it also is prone to human error, as a developer might not realize that they need to pass in some reference to themselves.\r\n2. Inside of the lock service, use the ```getStackTrace``` method and walk through the elements to find the &quot;correct&quot; one. This is made very hard by Spring and the fact that before a call actually reaches the inside of a class with the ```@Service``` annotation, the call stack is muddled by numbers of calls between proxies and generated classes and such. Unless there is a deterministic way to find the number of calls in between the ```Service``` and the ```caller```, then this doesn&#39;t seem like a good way either.\r\n\r\nI have referenced [this stack overflow question](https://stackoverflow.com/questions/421280/how-do-i-find-the-caller-of-a-method-using-stacktrace-or-reflection) while working, but these do not take into account the usage of the Spring framework.\r\n\r\n# Show #\r\nA reproducible example will look something like this. First, the structure:\r\n\r\n    root\\\r\n        LockService.java\r\n            getLock()\r\n        MemberTools.java\r\n            createMember()\r\n\r\nLockService.java:\r\n``` java\r\n@Service\r\npublic class LockService {\r\n  @Transactional\r\n  public Lock getLock(String key) {\r\n    Lock searchLock = new Lock();\r\n    searchLock.setKey(key);\r\n    lockMapper.getLock(searchLock);\r\n    \r\n    LockHistory lockHistory = new LockHistory();\r\n    // Fill out lockHistory object...\r\n    lockMapper.markAsLocked(lockHistory);\r\n    attachTransactionCompletedListener(lockHistory);\r\n  }\r\n\r\n  private void attachTransactionCompletedListener(LockHistory lockHistory) {\r\n    /* Attach a listener onto the current spring transaction so that we\r\n     * can update the database entry when the transaction finishes and\r\n     * the lock is released.\r\n     */\r\n  }\r\n}\r\n```\r\n\r\nMemberTools.java:\r\n``` java\r\npublic class MemberTools {\r\n  @Autowired\r\n  LockService lockService;\r\n  \r\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n  public void createMember() {\r\n    lockService.getLock(&quot;tb_member&quot;);\r\n    /* Do create member stuff...\r\n     * When this returns, the lock will be released\r\n     * (either from COMMIT, ROLLBACK, or UNKNOWN Spring error)\r\n     */\r\n  }\r\n}\r\n```\r\n\r\nBy the time the `getLock()` method is reached, the stack trace is muddled with many calls that Spring inserts (proxies, reflections, etc.). Putting a breakpoint in this function and examining `Thread.currentThread().getStackTrace()` will show this.","title":"Finding caller method from a Spring service","body":"<h1>Summarize</h1>\n<h2>Goal</h2>\n<p>I have an application that is written in Java using the Spring framework. There is a service that is being used as the handler for grabbing and releasing locks in the database (InnoDB). My goal is to be able to log the grabbing and releasing of the locks to create a lock history. For each lock interaction, I would like to know not only the name of the lock involved, but also where this request is coming from in the code (if possible, <strong>class name</strong>, <strong>method name</strong>, and <strong>line number</strong>).</p>\n<p>My expected database entry will look something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>lock_name</th>\n<th>clazz</th>\n<th>method</th>\n<th>line</th>\n<th>lock_date</th>\n<th>unlock_date</th>\n<th>unlock_type</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>tb_member</td>\n<td>MemberTools</td>\n<td>createMember</td>\n<td>123</td>\n<td>2021-12-23 10:16:00</td>\n<td>2021-12-23 10:16:01</td>\n<td>COMMIT</td>\n</tr>\n<tr>\n<td>1</td>\n<td>tb_member</td>\n<td>MemberTools</td>\n<td>editMember</td>\n<td>234</td>\n<td>2021-12-23 10:16:01</td>\n<td>2021-12-23 10:16:02</td>\n<td>COMMIT</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I would like to know if there is an easy way to obtain this given that I am using the Spring framework.</p>\n<h1>Describe</h1>\n<p>So far, I have tried two things:</p>\n<ol>\n<li>Forcing the caller to pass a reference to itself or its current <code>StackTraceElement</code> (using <code>Thread.currentThread().getStackTrace()[1]</code>). This is not only extremely repetitive, but it also is prone to human error, as a developer might not realize that they need to pass in some reference to themselves.</li>\n<li>Inside of the lock service, use the <code>getStackTrace</code> method and walk through the elements to find the &quot;correct&quot; one. This is made very hard by Spring and the fact that before a call actually reaches the inside of a class with the <code>@Service</code> annotation, the call stack is muddled by numbers of calls between proxies and generated classes and such. Unless there is a deterministic way to find the number of calls in between the <code>Service</code> and the <code>caller</code>, then this doesn't seem like a good way either.</li>\n</ol>\n<p>I have referenced <a href=\"https://stackoverflow.com/questions/421280/how-do-i-find-the-caller-of-a-method-using-stacktrace-or-reflection\">this stack overflow question</a> while working, but these do not take into account the usage of the Spring framework.</p>\n<h1>Show</h1>\n<p>A reproducible example will look something like this. First, the structure:</p>\n<pre><code>root\\\n    LockService.java\n        getLock()\n    MemberTools.java\n        createMember()\n</code></pre>\n<p>LockService.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class LockService {\n  @Transactional\n  public Lock getLock(String key) {\n    Lock searchLock = new Lock();\n    searchLock.setKey(key);\n    lockMapper.getLock(searchLock);\n    \n    LockHistory lockHistory = new LockHistory();\n    // Fill out lockHistory object...\n    lockMapper.markAsLocked(lockHistory);\n    attachTransactionCompletedListener(lockHistory);\n  }\n\n  private void attachTransactionCompletedListener(LockHistory lockHistory) {\n    /* Attach a listener onto the current spring transaction so that we\n     * can update the database entry when the transaction finishes and\n     * the lock is released.\n     */\n  }\n}\n</code></pre>\n<p>MemberTools.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MemberTools {\n  @Autowired\n  LockService lockService;\n  \n  @Transactional(propagation = Propagation.REQUIRES_NEW)\n  public void createMember() {\n    lockService.getLock(&quot;tb_member&quot;);\n    /* Do create member stuff...\n     * When this returns, the lock will be released\n     * (either from COMMIT, ROLLBACK, or UNKNOWN Spring error)\n     */\n  }\n}\n</code></pre>\n<p>By the time the <code>getLock()</code> method is reached, the stack trace is muddled with many calls that Spring inserts (proxies, reflections, etc.). Putting a breakpoint in this function and examining <code>Thread.currentThread().getStackTrace()</code> will show this.</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640213870,"post_id":70455843,"comment_id":124545241,"body_markdown":"If you don&#39;t want to use a top level container, you could look at using a CardLayout: https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html where your dialog is one of the cards, and you `show` that card when the dialog should be visible.","body":"If you don&#39;t want to use a top level container, you could look at using a CardLayout: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout/card.html</a> where your dialog is one of the cards, and you <code>show</code> that card when the dialog should be visible."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640213903,"post_id":70455843,"comment_id":124545256,"body_markdown":"Create a factory class to meet your needs - JOptionPane is surprisingly flexible if you’re willing to dig into it","body":"Create a factory class to meet your needs - JOptionPane is surprisingly flexible if you’re willing to dig into it"},{"owner":{"display_name":"user17370683"},"score":0,"creation_date":1640214718,"post_id":70455843,"comment_id":124545464,"body_markdown":"@MadProgrammer I tried to do this with  JOptionPane but my JPanel doesn&#39;t fit in the dialog gui. even if I resize it it will be put in the bottom of the screen where you can&#39;t even see it. I guess what I want is something like the JFileChooser dialog.","body":"@MadProgrammer I tried to do this with  JOptionPane but my JPanel doesn&#39;t fit in the dialog gui. even if I resize it it will be put in the bottom of the screen where you can&#39;t even see it. I guess what I want is something like the JFileChooser dialog."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640215106,"post_id":70455843,"comment_id":124545522,"body_markdown":"We’d really need a [mcve]","body":"We’d really need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1640250349,"post_id":70455843,"comment_id":124551792,"body_markdown":"A `JDialog` is a top-level container, just like a `JFrame`.  You add one or more `JPanels` to the default `BorderLayout`.  When you create your own `JDialog`, you are responsible for creating any `JButtons` that you need,","body":"A <code>JDialog</code> is a top-level container, just like a <code>JFrame</code>.  You add one or more <code>JPanels</code> to the default <code>BorderLayout</code>.  When you create your own <code>JDialog</code>, you are responsible for creating any <code>JButtons</code> that you need,"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640223630,"creation_date":1640223630,"answer_id":70456875,"question_id":70455843,"body_markdown":"For most part `JOptionPane` is extremely flexible, for example, starting with something as simple as...\r\n\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class TestPane extends JPanel {\r\n\r\n        public TestPane() {\r\n            setLayout(new GridBagLayout());\r\n            setBorder(new EmptyBorder(32, 32, 32, 32));\r\n            JLabel label = new JLabel(&quot;Hello world&quot;);\r\n            label.setFont(label.getFont().deriveFont(32f));\r\n            add(label);\r\n        }\r\n\r\n    }\r\n\r\nI can do...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    JOptionPane.showMessageDialog(null, new TestPane());\r\n\r\nAh, but wait, you probably don&#39;t want the icon, so instead you can do something like...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    JOptionPane.showMessageDialog(null, new TestPane(), &quot;Hello&quot;, JOptionPane.PLAIN_MESSAGE);\r\n\r\n... what do you mean, you want custom options?!  Well, okay, `JOptionPane` can handle that as well...\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    String[] options = new String[]{\r\n        &quot;options&quot;,\r\n        &quot;your&quot;,\r\n        &quot;are&quot;,\r\n        &quot;These&quot;\r\n    };\r\n\r\n    int result = JOptionPane.showOptionDialog(null, new TestPane(), &quot;Hello&quot;, JOptionPane.NO_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[3]);\r\n    if (result &gt;= 0) {\r\n        System.out.println(options[result]);\r\n    }\r\n\r\nNow, with a little bit of thought and effort, you could also:\r\n\r\n* [Close a `JOptionPane` automatically after a specified timeout](https://stackoverflow.com/questions/22979504/closing-a-runnable-joptionpane/22979571#22979571) (and another [example](https://stackoverflow.com/questions/15104259/updating-message-in-joptionpane/15104319#15104319))\r\n* [Control the button state](https://stackoverflow.com/questions/14334931/disable-ok-button-on-joptionpane-dialog-until-user-gives-an-input/14335083#14335083), based in input from the dialog (and a slightly improved [example](https://stackoverflow.com/questions/14591089/joptionpane-passing-custom-buttons/14591165#14591165))\r\n\r\n`JOptionPane` is a good option, but it&#39;s not the only option you have.  You could roll your own &quot;factory&quot; (like `JOptionPane`) that did all the heavy lifting of building a `JDialog`, generating the buttons/options and handling user input (on those actions)\r\n\r\n  [1]: https://i.stack.imgur.com/0ALq9.png\r\n  [2]: https://i.stack.imgur.com/R22xW.png\r\n  [3]: https://i.stack.imgur.com/jZSy6.png","title":"create a custom dialog from a JPanel","body":"<p>For most part <code>JOptionPane</code> is extremely flexible, for example, starting with something as simple as...</p>\n<pre><code>import java.awt.GridBagLayout;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class TestPane extends JPanel {\n\n    public TestPane() {\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(32, 32, 32, 32));\n        JLabel label = new JLabel(&quot;Hello world&quot;);\n        label.setFont(label.getFont().deriveFont(32f));\n        add(label);\n    }\n\n}\n</code></pre>\n<p>I can do...</p>\n<p><a href=\"https://i.stack.imgur.com/0ALq9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ALq9.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>JOptionPane.showMessageDialog(null, new TestPane());\n</code></pre>\n<p>Ah, but wait, you probably don't want the icon, so instead you can do something like...</p>\n<p><a href=\"https://i.stack.imgur.com/R22xW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R22xW.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>JOptionPane.showMessageDialog(null, new TestPane(), &quot;Hello&quot;, JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n<p>... what do you mean, you want custom options?!  Well, okay, <code>JOptionPane</code> can handle that as well...</p>\n<p><a href=\"https://i.stack.imgur.com/jZSy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jZSy6.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>String[] options = new String[]{\n    &quot;options&quot;,\n    &quot;your&quot;,\n    &quot;are&quot;,\n    &quot;These&quot;\n};\n\nint result = JOptionPane.showOptionDialog(null, new TestPane(), &quot;Hello&quot;, JOptionPane.NO_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[3]);\nif (result &gt;= 0) {\n    System.out.println(options[result]);\n}\n</code></pre>\n<p>Now, with a little bit of thought and effort, you could also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22979504/closing-a-runnable-joptionpane/22979571#22979571\">Close a <code>JOptionPane</code> automatically after a specified timeout</a> (and another <a href=\"https://stackoverflow.com/questions/15104259/updating-message-in-joptionpane/15104319#15104319\">example</a>)</li>\n<li><a href=\"https://stackoverflow.com/questions/14334931/disable-ok-button-on-joptionpane-dialog-until-user-gives-an-input/14335083#14335083\">Control the button state</a>, based in input from the dialog (and a slightly improved <a href=\"https://stackoverflow.com/questions/14591089/joptionpane-passing-custom-buttons/14591165#14591165\">example</a>)</li>\n</ul>\n<p><code>JOptionPane</code> is a good option, but it's not the only option you have.  You could roll your own &quot;factory&quot; (like <code>JOptionPane</code>) that did all the heavy lifting of building a <code>JDialog</code>, generating the buttons/options and handling user input (on those actions)</p>\n"}],"owner":{"display_name":"user17370683"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70456875,"answer_count":1,"score":0,"last_activity_date":1640223630,"creation_date":1640212690,"question_id":70455843,"body_markdown":"I want to create a dialog from a JPanel, the problem I am encountering is that the Dialog class and the JOptionPane class which are the main dialog classes I read about use templates (an example of this is your &quot;text&quot; and then a cancel and a confirm button). I want to create a custom dialog that contains my JPanel. I Essentially want to display the entire JPanel in screen without making a new JFrame or reusing the existing one.\r\n\r\nthanks!","title":"create a custom dialog from a JPanel","body":"<p>I want to create a dialog from a JPanel, the problem I am encountering is that the Dialog class and the JOptionPane class which are the main dialog classes I read about use templates (an example of this is your &quot;text&quot; and then a cancel and a confirm button). I want to create a custom dialog that contains my JPanel. I Essentially want to display the entire JPanel in screen without making a new JFrame or reusing the existing one.</p>\n<p>thanks!</p>\n"},{"tags":["java","spring","model-view-controller"],"owner":{"account_id":23723727,"reputation":11,"user_id":17743936,"display_name":"Tarxan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640222069,"creation_date":1640210898,"question_id":70455651,"body_markdown":"My project Spring MVC. and i am novice.\r\n\r\nI had a problem I could not run my project with HTML file. I had error 404 but there wasn&#39;t with jsp.\r\nI solved the problem with help second solution by link:\r\n*https://stackoverflow.com/questions/16598594/how-to-map-requests-to-html-file-in-spring-mvc/32628600#32628600*\r\n\r\nSo, i have the DispatcherServlet and the JspServlet in web.xml.\r\nI uderstand the JspServlet handling my HTMl reqest and the DispatcherServlet handling all other.\r\n\r\nMy question:\r\nIs it normal that i have these two servlets, or I can make so that the DispatcherServlet handling and HTML and all the other?\r\n\r\nmy web.xml:\r\n\r\n      &lt;display-name&gt;FirstSpringMVC&lt;/display-name&gt;  \r\n       &lt;servlet&gt;    \r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;      \r\n    &lt;/servlet&gt;    \r\n    &lt;servlet-mapping&gt;    \r\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;    \r\n    &lt;/servlet-mapping&gt;    \r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;htmlServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;3&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;htmlServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.html&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;","title":"DispatcherServlet and JspServlet","body":"<p>My project Spring MVC. and i am novice.</p>\n<p>I had a problem I could not run my project with HTML file. I had error 404 but there wasn't with jsp.\nI solved the problem with help second solution by link:\n<em><a href=\"https://stackoverflow.com/questions/16598594/how-to-map-requests-to-html-file-in-spring-mvc/32628600#32628600\">How to map requests to HTML file in Spring MVC?</a></em></p>\n<p>So, i have the DispatcherServlet and the JspServlet in web.xml.\nI uderstand the JspServlet handling my HTMl reqest and the DispatcherServlet handling all other.</p>\n<p>My question:\nIs it normal that i have these two servlets, or I can make so that the DispatcherServlet handling and HTML and all the other?</p>\n<p>my web.xml:</p>\n<pre><code>  &lt;display-name&gt;FirstSpringMVC&lt;/display-name&gt;  \n   &lt;servlet&gt;    \n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;    \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;      \n&lt;/servlet&gt;    \n&lt;servlet-mapping&gt;    \n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;    \n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;    \n&lt;/servlet-mapping&gt;    \n&lt;servlet&gt;\n    &lt;servlet-name&gt;htmlServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;3&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;htmlServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.html&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1640221970,"post_id":70456694,"comment_id":124546615,"body_markdown":"What problem are you trying to solve?  Why is important that `_file` generate some kind event?","body":"What problem are you trying to solve?  Why is important that <code>_file</code> generate some kind event?"},{"owner":{"account_id":23670033,"reputation":11,"user_id":17696928,"display_name":"Anja"},"score":0,"creation_date":1640222774,"post_id":70456694,"comment_id":124546724,"body_markdown":"I&#39;m trying to trigger the action on _studenti immediately so that i don&#39;t have to click on _file after to make the change happen","body":"I&#39;m trying to trigger the action on _studenti immediately so that i don&#39;t have to click on _file after to make the change happen"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1640223202,"post_id":70456694,"comment_id":124546793,"body_markdown":"Use a `JToolBar` instead","body":"Use a <code>JToolBar</code> instead"},{"owner":{"account_id":23670033,"reputation":11,"user_id":17696928,"display_name":"Anja"},"score":0,"creation_date":1640226579,"post_id":70456694,"comment_id":124547260,"body_markdown":"Can&#39;t, according to my assignment","body":"Can&#39;t, according to my assignment"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1640226582,"post_id":70456694,"comment_id":124547261,"body_markdown":"*&quot;The relevant part of my code..&quot;* For better help sooner, [edit] to add a [mre].","body":"<i>&quot;The relevant part of my code..&quot;</i> For better help sooner, <a href=\"https://stackoverflow.com/posts/70456694/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640226947,"post_id":70456694,"comment_id":124547312,"body_markdown":"@Anja The problem you have is, a `JMenu` is container, it&#39;s not meant to be an &quot;actionable&quot; item, it makes no sense, why would a menu perform an action?  You&#39;re also running up against established UX which dictates that a &quot;menu&quot; presents &quot;options&quot; - it&#39;s kind of been that way for nearly 50 years, rightly or wrongly, this is the established expectations.  So to answer your question, no, there&#39;s not an appropriate way/mechanism to achieve what you&#39;re trying to do and if there&#39;s a hack or work around, I&#39;d certainly not be the one to show you - sorry.","body":"@Anja The problem you have is, a <code>JMenu</code> is container, it&#39;s not meant to be an &quot;actionable&quot; item, it makes no sense, why would a menu perform an action?  You&#39;re also running up against established UX which dictates that a &quot;menu&quot; presents &quot;options&quot; - it&#39;s kind of been that way for nearly 50 years, rightly or wrongly, this is the established expectations.  So to answer your question, no, there&#39;s not an appropriate way/mechanism to achieve what you&#39;re trying to do and if there&#39;s a hack or work around, I&#39;d certainly not be the one to show you - sorry."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1640226991,"post_id":70456694,"comment_id":124547320,"body_markdown":"@Anja I would, personally, instead, add `_studenti` directly to `_file`, if required make it read &quot;Open student...&quot; or something","body":"@Anja I would, personally, instead, add <code>_studenti</code> directly to <code>_file</code>, if required make it read &quot;Open student...&quot; or something"},{"owner":{"account_id":23670033,"reputation":11,"user_id":17696928,"display_name":"Anja"},"score":0,"creation_date":1640227082,"post_id":70456694,"comment_id":124547331,"body_markdown":"That makes a lot of sense haha, thank you for explaining!","body":"That makes a lot of sense haha, thank you for explaining!"}],"owner":{"account_id":23670033,"reputation":11,"user_id":17696928,"display_name":"Anja"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640221635,"creation_date":1640221635,"question_id":70456694,"body_markdown":"The relevant part of my code looks like this:\r\n```\r\npublic MenuBar(Frame f) {\r\n\t\t\r\n\t\tJMenu _file = new JMenu(&quot;File&quot;);\r\n\t\tJMenu _open = new JMenu(&quot;Open&quot;);\r\n\r\n\t\tJMenuItem _studenti = new JMenuItem(&quot;Studenti&quot;);\r\n\r\n\t_studenti.addActionListener(new ActionListener() {\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t.\r\n\t\t\t.\r\n\t\t\t.\r\n\t\t}\r\n\t}\r\n\r\n\t_open.add(_studenti);\t\r\n\t_file.add(_open);\r\n\tadd(_file);\r\n```\r\n\r\nEven though the action is tied to _studenti, _file needs to be pressed before anything can happen. I read that Action is supposed to be used instead of ActionListener, but I want to avoid making that change if it&#39;s possible. If it is necessary, which change would I need to make?","title":"JMenuItem triggers listener action only when JMenu is clicked afterwards","body":"<p>The relevant part of my code looks like this:</p>\n<pre><code>public MenuBar(Frame f) {\n        \n        JMenu _file = new JMenu(&quot;File&quot;);\n        JMenu _open = new JMenu(&quot;Open&quot;);\n\n        JMenuItem _studenti = new JMenuItem(&quot;Studenti&quot;);\n\n    _studenti.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            .\n            .\n            .\n        }\n    }\n\n    _open.add(_studenti);   \n    _file.add(_open);\n    add(_file);\n</code></pre>\n<p>Even though the action is tied to _studenti, _file needs to be pressed before anything can happen. I read that Action is supposed to be used instead of ActionListener, but I want to avoid making that change if it's possible. If it is necessary, which change would I need to make?</p>\n"},{"tags":["java","partitioning","flink-streaming","skew"],"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1554902557,"post_id":55611188,"comment_id":97921209,"body_markdown":"I was looking on this answer https://stackoverflow.com/questions/34681887/how-apache-flink-deal-with-skewed-data?answertab=votes#tab-top which says to implement OneInputStreamOperator (https://ci.apache.org/projects/flink/flink-docs-stable/api/java/index.html?org/apache/flink/streaming/api/functions/windowing/RichWindowFunction.html), but I am not sure if it solves my problem","body":"I was looking on this answer <a href=\"https://stackoverflow.com/questions/34681887/how-apache-flink-deal-with-skewed-data?answertab=votes#tab-top\" title=\"how apache flink deal with skewed data\">stackoverflow.com/questions/34681887/&hellip;</a> which says to implement OneInputStreamOperator (<a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/api/java/index.html?org/apache/flink/streaming/api/functions/windowing/RichWindowFunction.html\" rel=\"nofollow noreferrer\">ci.apache.org/projects/flink/flink-docs-stable/api/java/&hellip;</a>), but I am not sure if it solves my problem"}],"answers":[{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554990534,"creation_date":1554990534,"answer_id":55634085,"question_id":55611188,"body_markdown":"I got an answer from FLink-user-mail list. Basically using `keyBy()` after `rebalance()` is killing all effect that `rebalance()` is trying to do. The first (ad-hoc) solution that I found is to create a composite key that cares about the skewed key.\r\n\r\n    public class CompositeSkewedKeyStationPlatform implements Serializable {\r\n    \tprivate static final long serialVersionUID = -5960601544505897824L;\r\n    \tprivate Integer stationId;\r\n    \tprivate Integer platformId;\r\n    \tprivate Integer skewParameter;\r\n    }\r\n\r\nI use it on the `map` function before use `keyBy()`.\r\n\r\n    public class StationPlatformSkewedKeyMapper\r\n    \t\textends RichMapFunction&lt;MqttSensor, Tuple2&lt;CompositeSkewedKeyStationPlatform, MqttSensor&gt;&gt; {\r\n    \tprivate SkewParameterGenerator skewParameterGenerator;\r\n    \r\n    \tpublic StationPlatformSkewedKeyMapper() {\r\n    \t\tthis.skewParameterGenerator = new SkewParameterGenerator(10);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Tuple2&lt;CompositeSkewedKeyStationPlatform, MqttSensor&gt; map(MqttSensor value) throws Exception {\r\n    \t\tInteger platformId = value.getKey().f2;\r\n    \t\tInteger stationId = value.getKey().f4;\r\n    \t\tInteger skewParameter = 0;\r\n    \r\n    \t\tif (stationId.equals(new Integer(2)) &amp;&amp; platformId.equals(new Integer(3))) {\r\n    \t\t\tskewParameter = this.skewParameterGenerator.getNextItem();\r\n    \t\t}\r\n    \t\tCompositeSkewedKeyStationPlatform compositeKey = new CompositeSkewedKeyStationPlatform(stationId, platformId,\r\n    \t\t\t\tskewParameter);\r\n    \t\treturn Tuple2.of(compositeKey, value);\r\n    \t}\r\n    }\r\n\r\nhere is my [complete solution][1].\r\n\r\n\r\n  [1]: https://github.com/felipegutierrez/explore-flink/blob/master/src/main/java/org/sense/flink/examples/stream/MqttSensorDataSkewedPartitionByKeySkewedDAG.java#L63","title":"What are the other options to handle skew data in Flink?","body":"<p>I got an answer from FLink-user-mail list. Basically using <code>keyBy()</code> after <code>rebalance()</code> is killing all effect that <code>rebalance()</code> is trying to do. The first (ad-hoc) solution that I found is to create a composite key that cares about the skewed key.</p>\n\n<pre><code>public class CompositeSkewedKeyStationPlatform implements Serializable {\n    private static final long serialVersionUID = -5960601544505897824L;\n    private Integer stationId;\n    private Integer platformId;\n    private Integer skewParameter;\n}\n</code></pre>\n\n<p>I use it on the <code>map</code> function before use <code>keyBy()</code>.</p>\n\n<pre><code>public class StationPlatformSkewedKeyMapper\n        extends RichMapFunction&lt;MqttSensor, Tuple2&lt;CompositeSkewedKeyStationPlatform, MqttSensor&gt;&gt; {\n    private SkewParameterGenerator skewParameterGenerator;\n\n    public StationPlatformSkewedKeyMapper() {\n        this.skewParameterGenerator = new SkewParameterGenerator(10);\n    }\n\n    @Override\n    public Tuple2&lt;CompositeSkewedKeyStationPlatform, MqttSensor&gt; map(MqttSensor value) throws Exception {\n        Integer platformId = value.getKey().f2;\n        Integer stationId = value.getKey().f4;\n        Integer skewParameter = 0;\n\n        if (stationId.equals(new Integer(2)) &amp;&amp; platformId.equals(new Integer(3))) {\n            skewParameter = this.skewParameterGenerator.getNextItem();\n        }\n        CompositeSkewedKeyStationPlatform compositeKey = new CompositeSkewedKeyStationPlatform(stationId, platformId,\n                skewParameter);\n        return Tuple2.of(compositeKey, value);\n    }\n}\n</code></pre>\n\n<p>here is my <a href=\"https://github.com/felipegutierrez/explore-flink/blob/master/src/main/java/org/sense/flink/examples/stream/MqttSensorDataSkewedPartitionByKeySkewedDAG.java#L63\" rel=\"nofollow noreferrer\">complete solution</a>.</p>\n"}],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55634085,"answer_count":1,"score":0,"last_activity_date":1640221366,"creation_date":1554894879,"question_id":55611188,"body_markdown":"I am studying data skew processing in Flink and how I can change the low-[level control of physical partition][1] in order to have an even processing of tuples. I have created synthetic skewed data sources and I aim to process (aggregate) them over a window. Here is the [complete code][2].\r\n\r\n\tstreamTrainsStation01.union(streamTrainsStation02)\r\n\t\t\t.union(streamTicketsStation01).union(streamTicketsStation02)\r\n\t\t\t// map the keys\r\n\t\t\t.map(new StationPlatformMapper(metricMapper)).name(metricMapper)\r\n\t\t\t.rebalance() // or .rescale() .shuffle()\r\n\t\t\t.keyBy(new StationPlatformKeySelector())\r\n\t\t\t.window(TumblingProcessingTimeWindows.of(Time.seconds(20)))\r\n\t\t\t.apply(new StationPlatformRichWindowFunction(metricWindowFunction)).name(metricWindowFunction)\r\n\t\t\t.setParallelism(4)\r\n\t\t\t.map(new StationPlatformMapper(metricSkewedMapper)).name(metricSkewedMapper)\r\n\t\t\t.addSink(new MqttStationPlatformPublisher(ipAddressSink, topic)).name(metricSinkFunction)\r\n\t\t\t;\r\n\r\nAccording to the Flink dashboard I could not see too much difference among `.shuffle()`, `.rescale()`, and `.rebalance()`. Even though the documentation says rebalance() transformation is more suitable for data skew.\r\n\r\nAfter that I tried to use `.partitionCustom(partitioner, &quot;someKey&quot;)`. However, for my surprise, I could not use setParallelism(4) on the window operation. The documentation says \r\n\r\n&gt; Note: This operation is inherently non-parallel since all elements\r\n&gt; have to pass through the same operator instance.\r\n\r\nI did not understand why. If I am allowed to do `partitionCustom`, why can&#39;t I use parallelism after that? Here is the [complete code][3].\r\n\r\n\tstreamTrainsStation01.union(streamTrainsStation02)\r\n\t\t\t.union(streamTicketsStation01).union(streamTicketsStation02)\r\n\t\t\t// map the keys\r\n\t\t\t.map(new StationPlatformMapper(metricMapper)).name(metricMapper)\r\n\t\t\t.partitionCustom(new StationPlatformKeyCustomPartitioner(), new StationPlatformKeySelector())\r\n\t\t\t.windowAll(TumblingProcessingTimeWindows.of(Time.seconds(20)))\r\n\t\t\t.apply(new StationPlatformRichAllWindowFunction(metricWindowFunction)).name(metricWindowFunction)\r\n\t\t\t.map(new StationPlatformMapper(metricSkewedMapper)).name(metricSkewedMapper)\r\n\t\t\t.addSink(new MqttStationPlatformPublisher(ipAddressSink, topic)).name(metricSinkFunction)\r\n\t\t\t;\r\n\r\nThanks,\r\nFelipe\r\n\r\n\r\n  [1]: https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/#physical-partitioning\r\n  [2]: https://github.com/felipegutierrez/explore-flink/blob/master/src/main/java/org/sense/flink/examples/stream/MqttSensorDataSkewedPartitionByKeyDAG.java#L61\r\n  [3]: https://github.com/felipegutierrez/explore-flink/blob/master/src/main/java/org/sense/flink/examples/stream/MqttSensorDataSkewedRescaleByKeyDAG.java#L74","title":"What are the other options to handle skew data in Flink?","body":"<p>I am studying data skew processing in Flink and how I can change the low-<a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/#physical-partitioning\" rel=\"nofollow noreferrer\">level control of physical partition</a> in order to have an even processing of tuples. I have created synthetic skewed data sources and I aim to process (aggregate) them over a window. Here is the <a href=\"https://github.com/felipegutierrez/explore-flink/blob/master/src/main/java/org/sense/flink/examples/stream/MqttSensorDataSkewedPartitionByKeyDAG.java#L61\" rel=\"nofollow noreferrer\">complete code</a>.</p>\n\n<pre><code>streamTrainsStation01.union(streamTrainsStation02)\n        .union(streamTicketsStation01).union(streamTicketsStation02)\n        // map the keys\n        .map(new StationPlatformMapper(metricMapper)).name(metricMapper)\n        .rebalance() // or .rescale() .shuffle()\n        .keyBy(new StationPlatformKeySelector())\n        .window(TumblingProcessingTimeWindows.of(Time.seconds(20)))\n        .apply(new StationPlatformRichWindowFunction(metricWindowFunction)).name(metricWindowFunction)\n        .setParallelism(4)\n        .map(new StationPlatformMapper(metricSkewedMapper)).name(metricSkewedMapper)\n        .addSink(new MqttStationPlatformPublisher(ipAddressSink, topic)).name(metricSinkFunction)\n        ;\n</code></pre>\n\n<p>According to the Flink dashboard I could not see too much difference among <code>.shuffle()</code>, <code>.rescale()</code>, and <code>.rebalance()</code>. Even though the documentation says rebalance() transformation is more suitable for data skew.</p>\n\n<p>After that I tried to use <code>.partitionCustom(partitioner, \"someKey\")</code>. However, for my surprise, I could not use setParallelism(4) on the window operation. The documentation says </p>\n\n<blockquote>\n  <p>Note: This operation is inherently non-parallel since all elements\n  have to pass through the same operator instance.</p>\n</blockquote>\n\n<p>I did not understand why. If I am allowed to do <code>partitionCustom</code>, why can't I use parallelism after that? Here is the <a href=\"https://github.com/felipegutierrez/explore-flink/blob/master/src/main/java/org/sense/flink/examples/stream/MqttSensorDataSkewedRescaleByKeyDAG.java#L74\" rel=\"nofollow noreferrer\">complete code</a>.</p>\n\n<pre><code>streamTrainsStation01.union(streamTrainsStation02)\n        .union(streamTicketsStation01).union(streamTicketsStation02)\n        // map the keys\n        .map(new StationPlatformMapper(metricMapper)).name(metricMapper)\n        .partitionCustom(new StationPlatformKeyCustomPartitioner(), new StationPlatformKeySelector())\n        .windowAll(TumblingProcessingTimeWindows.of(Time.seconds(20)))\n        .apply(new StationPlatformRichAllWindowFunction(metricWindowFunction)).name(metricWindowFunction)\n        .map(new StationPlatformMapper(metricSkewedMapper)).name(metricSkewedMapper)\n        .addSink(new MqttStationPlatformPublisher(ipAddressSink, topic)).name(metricSinkFunction)\n        ;\n</code></pre>\n\n<p>Thanks,\nFelipe</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1640220581,"creation_date":1411405091,"answer_id":25979319,"question_id":25977660,"body_markdown":"The easiest way is to use a `CustomizableTraceInterceptor` as follows:\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class SpringDataExecutionLoggingConfiguration {\r\n\r\n      @Bean\r\n      public CustomizableTraceInterceptor customizableTraceInterceptor() {\r\n\r\n        CustomizableTraceInterceptor customizableTraceInterceptor = new CustomizableTraceInterceptor();\r\n        customizableTraceInterceptor.setUseDynamicLogger(true);\r\n        customizableTraceInterceptor.setExitMessage(&quot;Executed $[methodName] in $[invocationTime]&quot;);\r\n        return customizableTraceInterceptor;\r\n      }\r\n\r\n      @Bean\r\n      public Advisor advisor() {\r\n\r\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\r\n        pointcut.setExpression(&quot;execution(public * org.springframework.data.repository.CrudRepository+.*(..))&quot;);\r\n        return new DefaultPointcutAdvisor(pointcut, customizableTraceInterceptor());\r\n      }\r\n    }","title":"How to log Spring Data JPA repository method execution time?","body":"<p>The easiest way is to use a <code>CustomizableTraceInterceptor</code> as follows:</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class SpringDataExecutionLoggingConfiguration {\n\n  @Bean\n  public CustomizableTraceInterceptor customizableTraceInterceptor() {\n\n    CustomizableTraceInterceptor customizableTraceInterceptor = new CustomizableTraceInterceptor();\n    customizableTraceInterceptor.setUseDynamicLogger(true);\n    customizableTraceInterceptor.setExitMessage(&quot;Executed $[methodName] in $[invocationTime]&quot;);\n    return customizableTraceInterceptor;\n  }\n\n  @Bean\n  public Advisor advisor() {\n\n    AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\n    pointcut.setExpression(&quot;execution(public * org.springframework.data.repository.CrudRepository+.*(..))&quot;);\n    return new DefaultPointcutAdvisor(pointcut, customizableTraceInterceptor());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5067386,"reputation":293,"user_id":4067142,"display_name":"luke"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1411412670,"creation_date":1411412670,"answer_id":25981370,"question_id":25977660,"body_markdown":"Another working solution:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class ProfilerAspect {\r\n    \tLogger logger = LoggerFactory.getLogger(this.getClass());\r\n    \t\r\n    \t@Pointcut(&quot;execution(public * org.springframework.data.repository.Repository+.*(..))&quot;)\r\n    \tpublic void monitor() {}\r\n    \t\r\n    \t@Around(&quot;monitor()&quot;)\r\n    \tpublic Object profile(ProceedingJoinPoint pjp) {\r\n            long start = System.currentTimeMillis();\r\n            logger.debug(&quot;JVM memory in use = &quot;+ (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()));\r\n            Object output = null;\r\n    \t\ttry {\r\n    \t\t\toutput = pjp.proceed();\r\n    \t\t} catch (Throwable e) {\r\n    \t\t\tlogger.error(e.getMessage(), e);\r\n    \t\t}\r\n            long elapsedTime = System.currentTimeMillis() - start;\r\n            logger.debug(pjp.getTarget()+&quot;.&quot;+pjp.getSignature()+&quot;: Execution time: &quot; + elapsedTime + &quot; ms. (&quot;+ elapsedTime/60000 + &quot; minutes)&quot;);\r\n    \r\n            return output;\r\n        }\r\n    }","title":"How to log Spring Data JPA repository method execution time?","body":"<p>Another working solution:</p>\n\n<pre><code>@Aspect\n@Component\npublic class ProfilerAspect {\n    Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    @Pointcut(\"execution(public * org.springframework.data.repository.Repository+.*(..))\")\n    public void monitor() {}\n\n    @Around(\"monitor()\")\n    public Object profile(ProceedingJoinPoint pjp) {\n        long start = System.currentTimeMillis();\n        logger.debug(\"JVM memory in use = \"+ (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()));\n        Object output = null;\n        try {\n            output = pjp.proceed();\n        } catch (Throwable e) {\n            logger.error(e.getMessage(), e);\n        }\n        long elapsedTime = System.currentTimeMillis() - start;\n        logger.debug(pjp.getTarget()+\".\"+pjp.getSignature()+\": Execution time: \" + elapsedTime + \" ms. (\"+ elapsedTime/60000 + \" minutes)\");\n\n        return output;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5067386,"reputation":293,"user_id":4067142,"display_name":"luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12001,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":25979319,"answer_count":2,"score":8,"last_activity_date":1640220581,"creation_date":1411399265,"question_id":25977660,"body_markdown":"I have simple Spring Data JPA repository.\r\n\r\n    public interface UserRepository extends JpaRepository&lt;UserEntity, Serializable&gt;{ … }\r\n\r\nIs there any way to monitor execution time for methods generated by Spring (for example `findOne(…)`)?","title":"How to log Spring Data JPA repository method execution time?","body":"<p>I have simple Spring Data JPA repository.</p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;UserEntity, Serializable&gt;{ … }\n</code></pre>\n\n<p>Is there any way to monitor execution time for methods generated by Spring (for example <code>findOne(…)</code>)?</p>\n"},{"tags":["java","collision"],"comments":[{"owner":{"account_id":1454932,"reputation":2504,"user_id":1370785,"accept_rate":59,"display_name":"jiveturkey"},"score":2,"creation_date":1495559251,"post_id":44140942,"comment_id":75300253,"body_markdown":"No.  Don&#39;t use `Object`, poor practice.  Create a base class, I&#39;ve designed EVERYTHING, there&#39;s always a way.","body":"No.  Don&#39;t use <code>Object</code>, poor practice.  Create a base class, I&#39;ve designed EVERYTHING, there&#39;s always a way."},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":1,"creation_date":1495559444,"post_id":44140942,"comment_id":75300336,"body_markdown":"Take 2 hours and read the relevant parts of &quot;Game Programming Patterns&quot; (Nystrom, 2014). He discusses some concepts about classes for game objects and their interactions that you may find very useful.","body":"Take 2 hours and read the relevant parts of &quot;Game Programming Patterns&quot; (Nystrom, 2014). He discusses some concepts about classes for game objects and their interactions that you may find very useful."}],"answers":[{"tags":[],"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640219966,"creation_date":1495559226,"answer_id":44141045,"question_id":44140942,"body_markdown":"Well, if you wanted, you could do something like this to get the `pos.x` of the object\r\n\r\n    ((Player)a).pos.x\r\nBut, again, while this may suffice your needs, I would suggest making an interface,like\r\n\r\n    public interface GameObject{\r\n        public Vector3 getPosition();\r\n    }\r\n\r\n and making all of the &quot;Game Objects&quot; implement it, and then do\r\n\r\n    boolean doCollide (GameObject a, GameObject b)\r\nNot only the first way is bad practice, but makes debugging at compile time harder, which generally is a bad sign. ","title":"Java Collision detection between different classes","body":"<p>Well, if you wanted, you could do something like this to get the <code>pos.x</code> of the object</p>\n<pre><code>((Player)a).pos.x\n</code></pre>\n<p>But, again, while this may suffice your needs, I would suggest making an interface,like</p>\n<pre><code>public interface GameObject{\n    public Vector3 getPosition();\n}\n</code></pre>\n<p>and making all of the &quot;Game Objects&quot; implement it, and then do</p>\n<pre><code>boolean doCollide (GameObject a, GameObject b)\n</code></pre>\n<p>Not only the first way is bad practice, but makes debugging at compile time harder, which generally is a bad sign.</p>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1495559771,"creation_date":1495559330,"answer_id":44141067,"question_id":44140942,"body_markdown":"You could cast the `Object` types to your own types, However considering that there are multiple custom object types, attempting to take that approach is *not* efficient therefore you can use an interface.\r\n\r\nInterface declaration:\r\n\r\n    public interface IsomeName{\r\n          public Vector3 getPosition();\r\n    }\r\n\r\nyour classes:\r\n\r\n    class Player implements IsomeName{ @Override public Vector3 getPosition(){...}};\r\n    class Enemy implements IsomeName{ @Override public Vector3 getPosition(){...}}\r\n    class Obstacle implements IsomeName{ @Override public Vector3 getPosition(){...}}\r\n\r\nthen your `doCollide` will become:\r\n\r\n    boolean doCollide (IsomeName a, IsomeName b)\r\n    {      \r\n        ...\r\n        ...\r\n        ...\r\n    }\r\n\r\nAnother option would be to create an abstract base class with an abstract `getPosition()` method and let each type provide their own implementations of it.\r\n","title":"Java Collision detection between different classes","body":"<p>You could cast the <code>Object</code> types to your own types, However considering that there are multiple custom object types, attempting to take that approach is <em>not</em> efficient therefore you can use an interface.</p>\n\n<p>Interface declaration:</p>\n\n<pre><code>public interface IsomeName{\n      public Vector3 getPosition();\n}\n</code></pre>\n\n<p>your classes:</p>\n\n<pre><code>class Player implements IsomeName{ @Override public Vector3 getPosition(){...}};\nclass Enemy implements IsomeName{ @Override public Vector3 getPosition(){...}}\nclass Obstacle implements IsomeName{ @Override public Vector3 getPosition(){...}}\n</code></pre>\n\n<p>then your <code>doCollide</code> will become:</p>\n\n<pre><code>boolean doCollide (IsomeName a, IsomeName b)\n{      \n    ...\n    ...\n    ...\n}\n</code></pre>\n\n<p>Another option would be to create an abstract base class with an abstract <code>getPosition()</code> method and let each type provide their own implementations of it.</p>\n"}],"owner":{"account_id":3097702,"reputation":292,"user_id":2622574,"accept_rate":100,"display_name":"user2622574"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44141067,"answer_count":2,"score":0,"last_activity_date":1640219966,"creation_date":1495558859,"question_id":44140942,"body_markdown":"I am making a simple game about shooting enemies and avoiding obstacles, but I have a problem with detecting collisions because I&#39;ve got a lot of classes for every type of game object (player,enemy,obstacle,drop,bullet, etc.).\r\n\r\n    class Player { Vector3 pos; ... }\r\n    class Enemy { Vector3 pos; ... }\r\n    class Obstacle { Vector3 pos; ... }\r\n    ...\r\n    \r\n    boolean doCollide (Object a, Object b)\r\n    {\r\n    \r\n    \tif ( a.pos.x + a.size.w &gt;= b.pos.x ) { ... }\r\n    \r\n    \t...\r\n    }\r\n\r\nAnd it won&#39;t work because a doesn&#39;t have &#39;pos&#39;, etc, so how can I do it so it works for every class? I&#39;ve read about interfaces but I don&#39;t really know how can it help me. ","title":"Java Collision detection between different classes","body":"<p>I am making a simple game about shooting enemies and avoiding obstacles, but I have a problem with detecting collisions because I've got a lot of classes for every type of game object (player,enemy,obstacle,drop,bullet, etc.).</p>\n\n<pre><code>class Player { Vector3 pos; ... }\nclass Enemy { Vector3 pos; ... }\nclass Obstacle { Vector3 pos; ... }\n...\n\nboolean doCollide (Object a, Object b)\n{\n\n    if ( a.pos.x + a.size.w &gt;= b.pos.x ) { ... }\n\n    ...\n}\n</code></pre>\n\n<p>And it won't work because a doesn't have 'pos', etc, so how can I do it so it works for every class? I've read about interfaces but I don't really know how can it help me. </p>\n"},{"tags":["java","awk","groovy","nextflow"],"answers":[{"tags":[],"owner":{"account_id":391289,"reputation":52114,"user_id":751863,"accept_rate":100,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640215781,"creation_date":1640215781,"answer_id":70456196,"question_id":70454821,"body_markdown":"I was unable to reproduce the error you&#39;re seeing with your example code and Nextflow version. In fact, I get the expected output. This shouldn&#39;t be much of a surprise though, because you have correctly escaped the special dollar variables in your AWK command. The cause of the error is likely somewhere else in your code.\r\n\r\nIf escaping the special characters gets tedious, another way is to use a [shell](https://www.nextflow.io/docs/latest/process.html#shell) block instead:\r\n\r\n&gt; It is an alternative to the Script definition with an important\r\n&gt; difference, it uses the exclamation mark `!` character as the variable\r\n&gt; placeholder for Nextflow variables in place of the usual dollar\r\n&gt; character.\r\n\r\nThe example becomes:\r\n\r\n```\r\nparams.input_csv = &#39;/file/location/here/file.csv&#39;\r\n\r\ninput_csv = file( params.input_csv)\r\n\r\n\r\nprocess unique {\r\n\r\n    input:\r\n    path input_csv\r\n\r\n    output:\r\n    path &#39;full_template.csv&#39; into template\r\n\r\n    shell:\r\n    &#39;&#39;&#39;\r\n    awk &#39;BEGIN { FS=OFS=&quot;,&quot; } { print $0, (NR&gt;1 ? $1 &quot;_&quot; $2 : &quot;combined_header&quot;) }&#39; \\\\\r\n    &quot;!{input_csv}&quot; &gt; &quot;full_template.csv&quot;\r\n    &#39;&#39;&#39;\r\n}\r\n\r\ntemplate.view { it.text }\r\n```\r\n\r\nResults:\r\n\r\n```\r\n$ nextflow run file.nf \r\nN E X T F L O W  ~  version 20.10.0\r\nLaunching `file.nf` [wise_hamilton] - revision: b71ff1eb03\r\nexecutor &gt;  local (1)\r\n[76/ddbb87] process &gt; unique [100%] 1 of 1 ✔\r\ncolumn1,column2,column3,combined_header\r\n1,2,3,1_2\r\na,b,c,a_b\r\n```","title":"Why can&#39;t Nextflow handle this awk phrase?","body":"<p>I was unable to reproduce the error you're seeing with your example code and Nextflow version. In fact, I get the expected output. This shouldn't be much of a surprise though, because you have correctly escaped the special dollar variables in your AWK command. The cause of the error is likely somewhere else in your code.</p>\n<p>If escaping the special characters gets tedious, another way is to use a <a href=\"https://www.nextflow.io/docs/latest/process.html#shell\" rel=\"nofollow noreferrer\">shell</a> block instead:</p>\n<blockquote>\n<p>It is an alternative to the Script definition with an important\ndifference, it uses the exclamation mark <code>!</code> character as the variable\nplaceholder for Nextflow variables in place of the usual dollar\ncharacter.</p>\n</blockquote>\n<p>The example becomes:</p>\n<pre><code>params.input_csv = '/file/location/here/file.csv'\n\ninput_csv = file( params.input_csv)\n\n\nprocess unique {\n\n    input:\n    path input_csv\n\n    output:\n    path 'full_template.csv' into template\n\n    shell:\n    '''\n    awk 'BEGIN { FS=OFS=&quot;,&quot; } { print $0, (NR&gt;1 ? $1 &quot;_&quot; $2 : &quot;combined_header&quot;) }' \\\\\n    &quot;!{input_csv}&quot; &gt; &quot;full_template.csv&quot;\n    '''\n}\n\ntemplate.view { it.text }\n</code></pre>\n<p>Results:</p>\n<pre><code>$ nextflow run file.nf \nN E X T F L O W  ~  version 20.10.0\nLaunching `file.nf` [wise_hamilton] - revision: b71ff1eb03\nexecutor &gt;  local (1)\n[76/ddbb87] process &gt; unique [100%] 1 of 1 ✔\ncolumn1,column2,column3,combined_header\n1,2,3,1_2\na,b,c,a_b\n</code></pre>\n"}],"owner":{"account_id":3158295,"reputation":47,"user_id":13965267,"display_name":"AnteMeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70456196,"answer_count":1,"score":1,"last_activity_date":1640219704,"creation_date":1640205417,"question_id":70454821,"body_markdown":"Background:\r\nUsing a csv as input, I want to combine the first two columns into a new one (separated by an underscore) and add that new column to the end of a new csv. \r\n\r\nInput:\r\n```\r\ncolumn1,column2,column3\r\n1,2,3\r\na,b,c\r\n```\r\n\r\nDesired output:\r\n```\r\ncolumn1,column2,column3,column1_column2\r\n1,2,3,1_2\r\na,b,c,a_b\r\n\r\n```\r\n\r\nThe below awk phrase works from the command line:\r\n\r\n```\r\nawk &#39;BEGIN{FS=OFS=&quot;,&quot;} {print \\$0, (NR&gt;1 ? \\$1&quot;_&quot;\\$2 : &quot;column1_column2&quot;)}&#39; file.csv &gt; full_template.csv\r\n```\r\n \r\nHowever, when placed within a nextflow script (below) it gives an error. \r\n\r\n```\r\n#!/usr/bin/env nextflow\r\n\r\nparams.input = &#39;/file/location/here/file.csv&#39;\r\n\r\nprocess unique {\r\n    input:\r\n    path input from params.input\r\n\r\n    output:\r\n    path &#39;full_template.csv&#39; into template\r\n\r\n    &quot;&quot;&quot;\r\n    awk &#39;BEGIN{FS=OFS=&quot;,&quot;} {print \\$0, (NR&gt;1 ? \\$1&quot;_&quot;\\$2 : &quot;combined_header&quot;)}&#39; $input &gt; full_template.csv\r\n    &quot;&quot;&quot;\r\n}\r\n```\r\nHere is the error:\r\n```\r\nN E X T F L O W  ~  version 21.10.0\r\nLaunching `file.nf` [awesome_pike] - revision: 1b63d4b438\r\nclass groovyx.gpars.dataflow.expression.DataflowInvocationExpression cannot be cast to class java.nio.file.FileSystem (groovyx.gpars.dataflow.expression.Dclass groovyx.gpars.dataflow.expression.DataflowInvocationExpression cannot be cast to class java.nio.file.FileSystem (groovyx.gpars.dataflow.expression.DataflowInvocationExpression is in unnamed module of loader &#39;app&#39;; java.nio.file.FileSystem is in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nI&#39;m not sure what is causing this, and any help would be appreciated. \r\n\r\nThanks!\r\n--------------------------------\r\nEdit: \r\n\r\nYes it seems this was not the source of the error (sorry!). I&#39;m trying to use splitCsv on the resulting csv and this appears to be what&#39;s causing the error. Like so:\r\n\r\n```\r\nChannel\r\n    .fromPath(template)\r\n    .splitCsv(header:true, sep:&#39;,&#39;)\r\n    .map{ row -&gt; tuple(row.column1, file(row.column2), file(row.column3)) }\r\n    .set { split }\r\n\r\n```\r\nI expect my issue is it&#39;s not acceptable to use .fromPath on a channel, but I can&#39;t figure out how else to do it. \r\n\r\n----------------------------\r\nEdit 2:\r\n\r\nSo this was a stupid mistake. I simply needed to add the .splitCsv option directly after the input line where I invoked the channel. Hardly elegant, but appears to be working great now. \r\n\r\n```\r\nprocess blah {\r\n\r\n    input:\r\n    what_you_want from template.splitCsv(header:true, sep:&#39;,&#39;).map{ row -&gt; tuple(row.column1, file(row.column2), file(row.column3)) }\r\n\r\n```","title":"Why can&#39;t Nextflow handle this awk phrase?","body":"<p>Background:\nUsing a csv as input, I want to combine the first two columns into a new one (separated by an underscore) and add that new column to the end of a new csv.</p>\n<p>Input:</p>\n<pre><code>column1,column2,column3\n1,2,3\na,b,c\n</code></pre>\n<p>Desired output:</p>\n<pre><code>column1,column2,column3,column1_column2\n1,2,3,1_2\na,b,c,a_b\n\n</code></pre>\n<p>The below awk phrase works from the command line:</p>\n<pre><code>awk 'BEGIN{FS=OFS=&quot;,&quot;} {print \\$0, (NR&gt;1 ? \\$1&quot;_&quot;\\$2 : &quot;column1_column2&quot;)}' file.csv &gt; full_template.csv\n</code></pre>\n<p>However, when placed within a nextflow script (below) it gives an error.</p>\n<pre><code>#!/usr/bin/env nextflow\n\nparams.input = '/file/location/here/file.csv'\n\nprocess unique {\n    input:\n    path input from params.input\n\n    output:\n    path 'full_template.csv' into template\n\n    &quot;&quot;&quot;\n    awk 'BEGIN{FS=OFS=&quot;,&quot;} {print \\$0, (NR&gt;1 ? \\$1&quot;_&quot;\\$2 : &quot;combined_header&quot;)}' $input &gt; full_template.csv\n    &quot;&quot;&quot;\n}\n</code></pre>\n<p>Here is the error:</p>\n<pre><code>N E X T F L O W  ~  version 21.10.0\nLaunching `file.nf` [awesome_pike] - revision: 1b63d4b438\nclass groovyx.gpars.dataflow.expression.DataflowInvocationExpression cannot be cast to class java.nio.file.FileSystem (groovyx.gpars.dataflow.expression.Dclass groovyx.gpars.dataflow.expression.DataflowInvocationExpression cannot be cast to class java.nio.file.FileSystem (groovyx.gpars.dataflow.expression.DataflowInvocationExpression is in unnamed module of loader 'app'; java.nio.file.FileSystem is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>I'm not sure what is causing this, and any help would be appreciated.</p>\n<h2>Thanks!</h2>\n<p>Edit:</p>\n<p>Yes it seems this was not the source of the error (sorry!). I'm trying to use splitCsv on the resulting csv and this appears to be what's causing the error. Like so:</p>\n<pre><code>Channel\n    .fromPath(template)\n    .splitCsv(header:true, sep:',')\n    .map{ row -&gt; tuple(row.column1, file(row.column2), file(row.column3)) }\n    .set { split }\n\n</code></pre>\n<p>I expect my issue is it's not acceptable to use .fromPath on a channel, but I can't figure out how else to do it.</p>\n<hr />\n<p>Edit 2:</p>\n<p>So this was a stupid mistake. I simply needed to add the .splitCsv option directly after the input line where I invoked the channel. Hardly elegant, but appears to be working great now.</p>\n<pre><code>process blah {\n\n    input:\n    what_you_want from template.splitCsv(header:true, sep:',').map{ row -&gt; tuple(row.column1, file(row.column2), file(row.column3)) }\n\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640214205,"post_id":70455791,"comment_id":124545346,"body_markdown":"You can use `Scanner`, https://docs.oracle.com/javase/tutorial/essential/io/scanning.html and also consider using command line parameters.","body":"You can use <code>Scanner</code>, <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/scanning.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/scanning.html</a> and also consider using command line parameters."}],"answers":[{"tags":[],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640219154,"creation_date":1640219154,"answer_id":70456475,"question_id":70455791,"body_markdown":"I guess the following might help:\r\n```\r\npublic void test() {\r\n\tint number1 = 0;\r\n    int number2 = 0;\r\n    int expected = 0;\r\n\r\n    System.out.println(&quot;Enter first number&quot;);\r\n    int state = 0;\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tString input = &quot;&quot;;\r\n\r\n\t\twhile(!input.equals(&quot;E&quot;)) {\r\n\t\t\tinput = scanner.nextLine();\r\n\t\t\tinput = input.toUpperCase();\r\n\t\t\tif (!input.equals(&quot;&quot;) &amp;&amp; Character.isDigit(input.charAt(0))){\r\n\t\t\t\tswitch(state) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tnumber1 = Integer.parseInt(input);\r\n\t\t\t\t\tSystem.out.println(&quot;Enter second number&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tnumber2 = Integer.parseInt(input);\r\n\t\t\t\t\tSystem.out.println(&quot;Enter expected result&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\texpected = Integer.parseInt(input);\r\n\t\t\t\t\tSystem.out.println(&quot;Result: &quot; + (number1 + number2) +\r\n\t\t\t\t\t\t\t&quot; | Expected: &quot; + expected + System.lineSeparator());\r\n\t\t\t\t\tSystem.out.println(&quot;Enter first number&quot;);\r\n\t\t\t\t\tstate = -1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tstate++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tscanner.close();\r\n\t\tSystem.out.println(&quot;Exiting&quot;);\r\n\t}\r\n```","title":"Another way except of UserInput","body":"<p>I guess the following might help:</p>\n<pre><code>public void test() {\n    int number1 = 0;\n    int number2 = 0;\n    int expected = 0;\n\n    System.out.println(&quot;Enter first number&quot;);\n    int state = 0;\n        Scanner scanner = new Scanner(System.in);\n        String input = &quot;&quot;;\n\n        while(!input.equals(&quot;E&quot;)) {\n            input = scanner.nextLine();\n            input = input.toUpperCase();\n            if (!input.equals(&quot;&quot;) &amp;&amp; Character.isDigit(input.charAt(0))){\n                switch(state) {\n                case 0:\n                    number1 = Integer.parseInt(input);\n                    System.out.println(&quot;Enter second number&quot;);\n                    break;\n                case 1:\n                    number2 = Integer.parseInt(input);\n                    System.out.println(&quot;Enter expected result&quot;);\n                    break;\n                case 2:\n                    expected = Integer.parseInt(input);\n                    System.out.println(&quot;Result: &quot; + (number1 + number2) +\n                            &quot; | Expected: &quot; + expected + System.lineSeparator());\n                    System.out.println(&quot;Enter first number&quot;);\n                    state = -1;\n                    break;\n                default:\n                    break;\n                }\n                state++;\n            }\n        }\n        scanner.close();\n        System.out.println(&quot;Exiting&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":8297790,"reputation":197,"user_id":6237442,"accept_rate":100,"display_name":"ek.Nik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70456475,"answer_count":1,"score":0,"last_activity_date":1640219154,"creation_date":1640212247,"question_id":70455791,"body_markdown":"I would like to know how to do this with another way except of userinput? I don&#39;t want to write the values I want to do this the user\r\n\r\n    Calculate calculation = new Calculate();\r\n    int sum = calculation.sum(2, 5);\r\n    int testSum = 7;\r\n    @Test\r\n    public void testSum() {\r\n    System.out.println(&quot;@Test sum(): &quot; + sum + &quot; = &quot; + testSum);\r\n    assertEquals(sum, testSum);\r\n    }\r\n    }","title":"Another way except of UserInput","body":"<p>I would like to know how to do this with another way except of userinput? I don't want to write the values I want to do this the user</p>\n<pre><code>Calculate calculation = new Calculate();\nint sum = calculation.sum(2, 5);\nint testSum = 7;\n@Test\npublic void testSum() {\nSystem.out.println(&quot;@Test sum(): &quot; + sum + &quot; = &quot; + testSum);\nassertEquals(sum, testSum);\n}\n}\n</code></pre>\n"},{"tags":["java","javascript","jsp","scriptlet"],"comments":[{"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"score":0,"creation_date":1303120428,"post_id":5701031,"comment_id":6514726,"body_markdown":"can you provide more precise details of your requirement? Like what do you plan to achieve .. like may be some psuedocode or something?","body":"can you provide more precise details of your requirement? Like what do you plan to achieve .. like may be some psuedocode or something?"}],"answers":[{"tags":[],"owner":{"account_id":64584,"reputation":15556,"user_id":190596,"accept_rate":81,"display_name":"Stijn Geukens"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1303119839,"creation_date":1303119839,"answer_id":5701061,"question_id":5701031,"body_markdown":"simple, you can&#39;t!\r\n\r\nJSP is server side, javascript is client side meaning at the time the javascript is evaluated there is no more &#39;jsp code&#39;.","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>simple, you can't!</p>\n\n<p>JSP is server side, javascript is client side meaning at the time the javascript is evaluated there is no more 'jsp code'.</p>\n"},{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303119980,"creation_date":1303119980,"answer_id":5701082,"question_id":5701031,"body_markdown":"If you are saying you wanna pass javascript value from one jsp to another in javascript then use URLRewriting technique to pass javascript variable to next jsp file and access that in next jsp in request object.\r\n\r\nOther wise you **can&#39;t** do it.","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>If you are saying you wanna pass javascript value from one jsp to another in javascript then use URLRewriting technique to pass javascript variable to next jsp file and access that in next jsp in request object.</p>\n\n<p>Other wise you <strong>can't</strong> do it.</p>\n"},{"tags":[],"owner":{"account_id":30287,"reputation":22973,"user_id":82515,"accept_rate":86,"display_name":"Jim Blackler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450417130,"creation_date":1303120578,"answer_id":5701192,"question_id":5701031,"body_markdown":"I&#39;ve interpreted this question as:\r\n\r\n&quot;Can anyone tell me how to pass values *for* JavaScript for use in a JSP?&quot;\r\n\r\nIf that&#39;s the case, this HTML file would pass a server-calculated variable to a JavaScript in a JSP.\r\n\r\n    &lt;html&gt;\r\n\t\t&lt;body&gt;\r\n\t\t    &lt;script type=&quot;text/javascript&quot;&gt;\r\n\t\t        var serverInfo = &quot;&lt;%=getServletContext().getServerInfo()%&gt;&quot;;\r\n\t\t        alert(&quot;Server information &quot; + serverInfo);\r\n\t\t    &lt;/script&gt;\r\n\t\t&lt;/body&gt;\r\n    &lt;/html&gt;","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>I've interpreted this question as:</p>\n\n<p>\"Can anyone tell me how to pass values <em>for</em> JavaScript for use in a JSP?\"</p>\n\n<p>If that's the case, this HTML file would pass a server-calculated variable to a JavaScript in a JSP.</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            var serverInfo = \"&lt;%=getServletContext().getServerInfo()%&gt;\";\n            alert(\"Server information \" + serverInfo);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268938,"reputation":12737,"user_id":557995,"accept_rate":50,"display_name":"Mukesh Singh Rathaur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303120979,"creation_date":1303120979,"answer_id":5701256,"question_id":5701031,"body_markdown":"Its not possible as you are expecting. But you can do something like this. Pass the your java script value to the servlet/controller, do your processing and then pass this value to the jsp page by putting it into some object&#39;s as your requirement. Then you can use this value as you want. ","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>Its not possible as you are expecting. But you can do something like this. Pass the your java script value to the servlet/controller, do your processing and then pass this value to the jsp page by putting it into some object's as your requirement. Then you can use this value as you want. </p>\n"},{"tags":[],"owner":{"account_id":224498,"reputation":1449,"user_id":484368,"accept_rate":49,"display_name":"harishtps"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1450418258,"creation_date":1303121404,"answer_id":5701347,"question_id":5701031,"body_markdown":"I can provide two ways,\r\n\r\n**a.jsp**,\r\n\r\n    &lt;html&gt;\r\n        &lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;\r\n            function call(){\r\n                var name = &quot;xyz&quot;;\r\n                window.location.replace(&quot;a.jsp?name=&quot;+name);\r\n            }\r\n        &lt;/script&gt;\r\n        &lt;input type=&quot;button&quot; value=&quot;Get&quot; onclick=&#39;call()&#39;&gt;\r\n        &lt;%\r\n            String name=request.getParameter(&quot;name&quot;);\r\n            if(name!=null){\r\n                out.println(name);\r\n            }\r\n        %&gt;\r\n    &lt;/html&gt;\r\n\r\n **b.jsp**,\r\n\r\n    &lt;script&gt;\r\n        var v=&quot;xyz&quot;;\r\n    &lt;/script&gt;\r\n    &lt;% \r\n        String st=&quot;&lt;script&gt;document.writeln(v)&lt;/script&gt;&quot;;\r\n        out.println(&quot;value=&quot;+st); \r\n    %&gt;","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>I can provide two ways,</p>\n\n<p><strong>a.jsp</strong>,</p>\n\n<pre><code>&lt;html&gt;\n    &lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n        function call(){\n            var name = \"xyz\";\n            window.location.replace(\"a.jsp?name=\"+name);\n        }\n    &lt;/script&gt;\n    &lt;input type=\"button\" value=\"Get\" onclick='call()'&gt;\n    &lt;%\n        String name=request.getParameter(\"name\");\n        if(name!=null){\n            out.println(name);\n        }\n    %&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>b.jsp</strong>,</p>\n\n<pre><code>&lt;script&gt;\n    var v=\"xyz\";\n&lt;/script&gt;\n&lt;% \n    String st=\"&lt;script&gt;document.writeln(v)&lt;/script&gt;\";\n    out.println(\"value=\"+st); \n%&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1303124020,"creation_date":1303124020,"answer_id":5701827,"question_id":5701031,"body_markdown":"Your javascript values are client-side, your scriptlet is running server-side.  So if you want to use your javascript variables in a scriptlet, you will need to submit them.\r\n\r\nTo achieve this, either store them in input fields and submit a form, or perform an ajax request.  I suggest you look into JQuery for this.","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>Your javascript values are client-side, your scriptlet is running server-side.  So if you want to use your javascript variables in a scriptlet, you will need to submit them.</p>\n\n<p>To achieve this, either store them in input fields and submit a form, or perform an ajax request.  I suggest you look into JQuery for this.</p>\n"},{"tags":[],"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577098248,"creation_date":1489685577,"answer_id":42841043,"question_id":5701031,"body_markdown":"You cannot do that but you can do the opposite: \r\n    \r\nIn your jsp you can:\r\n```jsp\r\nString name = &quot;John Allepe&quot;;    \r\nrequest.setAttribute(&quot;CustomerName&quot;, name);\r\n```\r\nAccess the variable in the js:\r\n```js\r\nvar name = &quot;&lt;%= request.getAttribute(&quot;CustomerName&quot;) %&gt;&quot;;\r\nalert(name);\r\n```","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>You cannot do that but you can do the opposite: </p>\n\n<p>In your jsp you can:</p>\n\n<pre><code>String name = \"John Allepe\";    \nrequest.setAttribute(\"CustomerName\", name);\n</code></pre>\n\n<p>Access the variable in the js:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var name = \"&lt;%= request.getAttribute(\"CustomerName\") %&gt;\";\nalert(name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7792408,"reputation":412,"user_id":5894853,"display_name":"JediCate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536922489,"creation_date":1536922489,"answer_id":52330517,"question_id":5701031,"body_markdown":"This is for other people landing here.\r\nFirst of all you need a servlet. I used a @POST request.\r\nNow in your jsp file you have two ways to do this:\r\n\r\n1. The complicated way with AJAX, in case you are new to jsp:\r\nYou need to do a post with the javascript var that you want to use in you java class and use JSP to call your java function from inside your request:\r\n\r\n        $(document).ready(function() {\r\n            var sendVar = &quot;hello&quot;;\r\n            $(&#39;#domId&#39;).click(function (e)\r\n            {            \t            \t\r\n                $.ajax({\r\n                    type: &quot;post&quot;,\r\n                    url: &quot;/&quot;, //or whatever your url is\r\n                    data: &quot;var=&quot; + sendVar ,\r\n                    success: function(){      \r\n                            console.log(&quot;success: &quot; + sendVar );                            \r\n                          &lt;% \r\n\t                          String received= request.getParameter(&quot;var&quot;);\r\n                          \r\n\t                          if(received == null || received.isEmpty()){\r\n\t                        \t  received = &quot;some default value&quot;;\r\n\t                          }\r\n\t                          MyJavaClass.processJSvar(received); \r\n                          %&gt;;                            \r\n                           \r\n                    }\r\n                });\r\n            });\r\n\r\n        });\r\n\r\n\r\n2. The easy way just with JSP:\r\n\r\n        &lt;form id=&quot;myform&quot; method=&quot;post&quot; action=&quot;http://localhost:port/index.jsp&quot;&gt;\r\n\t\t     &lt;input type=&quot;hidden&quot; name=&quot;inputName&quot; value=&quot;&quot;/&gt;\r\n\t\t               &lt;% \r\n\t                          String pg = request.getParameter(&quot;inputName&quot;);\r\n                          \r\n\t                          if(pg == null || pg.isEmpty()){\r\n\t                        \t  pg = &quot;some default value&quot;;\r\n\t                          }\r\n\t                          DatasyncMain.changeToPage(pg); \r\n                          %&gt;;     \r\n\t    &lt;/form&gt;\r\n\r\nOf course in this case you still have to load the input value from JS (so far I haven&#39;t figured out another way to load it).","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>This is for other people landing here.\nFirst of all you need a servlet. I used a @POST request.\nNow in your jsp file you have two ways to do this:</p>\n\n<ol>\n<li><p>The complicated way with AJAX, in case you are new to jsp:\nYou need to do a post with the javascript var that you want to use in you java class and use JSP to call your java function from inside your request:</p>\n\n<pre><code>$(document).ready(function() {\n    var sendVar = \"hello\";\n    $('#domId').click(function (e)\n    {                               \n        $.ajax({\n            type: \"post\",\n            url: \"/\", //or whatever your url is\n            data: \"var=\" + sendVar ,\n            success: function(){      \n                    console.log(\"success: \" + sendVar );                            \n                  &lt;% \n                      String received= request.getParameter(\"var\");\n\n                      if(received == null || received.isEmpty()){\n                          received = \"some default value\";\n                      }\n                      MyJavaClass.processJSvar(received); \n                  %&gt;;                            \n\n            }\n        });\n    });\n\n});\n</code></pre></li>\n<li><p>The easy way just with JSP:</p>\n\n<pre><code>&lt;form id=\"myform\" method=\"post\" action=\"http://localhost:port/index.jsp\"&gt;\n     &lt;input type=\"hidden\" name=\"inputName\" value=\"\"/&gt;\n               &lt;% \n                      String pg = request.getParameter(\"inputName\");\n\n                      if(pg == null || pg.isEmpty()){\n                          pg = \"some default value\";\n                      }\n                      DatasyncMain.changeToPage(pg); \n                  %&gt;;     \n&lt;/form&gt;\n</code></pre></li>\n</ol>\n\n<p>Of course in this case you still have to load the input value from JS (so far I haven't figured out another way to load it).</p>\n"},{"tags":[],"owner":{"account_id":19447329,"reputation":1,"user_id":14224520,"display_name":"Pranav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640218566,"creation_date":1640196995,"answer_id":70453484,"question_id":5701031,"body_markdown":"I Used a combination of the scriptlet, declaration, and expression tags...\r\n\r\n```java\r\n&lt;%! \r\n   public String st; \r\n%&gt;\r\n&lt;%\r\n   st= &quot;&lt;html&gt; &lt;script&gt; document.writeln(&#39;abc&#39;) &lt;/script&gt; &lt;/html&gt;&quot;;\r\n%&gt;\r\n&lt;%=\r\n   &quot; a &quot; + st + &quot; &lt;br&gt; &quot;\r\n%&gt;\r\n```\r\n\r\nThe above code is working completely fine in my case.","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>I Used a combination of the scriptlet, declaration, and expression tags...</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;%! \n   public String st; \n%&gt;\n&lt;%\n   st= &quot;&lt;html&gt; &lt;script&gt; document.writeln('abc') &lt;/script&gt; &lt;/html&gt;&quot;;\n%&gt;\n&lt;%=\n   &quot; a &quot; + st + &quot; &lt;br&gt; &quot;\n%&gt;\n</code></pre>\n<p>The above code is working completely fine in my case.</p>\n"}],"owner":{"account_id":296416,"reputation":2318,"user_id":601367,"accept_rate":70,"display_name":"user601367"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187274,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":5701827,"answer_count":9,"score":21,"last_activity_date":1640218566,"creation_date":1303119668,"question_id":5701031,"body_markdown":"Can anyone tell me how to pass JavaScript values to Scriptlet in JSP?\r\n","title":"How do I pass JavaScript values to Scriptlet in JSP?","body":"<p>Can anyone tell me how to pass JavaScript values to Scriptlet in JSP?</p>\n"},{"tags":["java","enums","instanceof"],"comments":[{"owner":{"account_id":1529569,"reputation":32709,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"score":2,"creation_date":1448234319,"post_id":33861315,"comment_id":55487412,"body_markdown":"To me, the `enum` solution doesn&#39;t sound much better from the software design perspective than the `instanceof` solution. You can probably solve this much more elegantly using subtype polymorphism (i.e., create subclasses and override some methods with Person/Wall/Empty-specific behaviors). The other option is to use dynamic dispatch, which is achieved in a limited way (double-dispatch) through the visitor pattern. I think there are now answers below addressing each of these approaches.","body":"To me, the <code>enum</code> solution doesn&#39;t sound much better from the software design perspective than the <code>instanceof</code> solution. You can probably solve this much more elegantly using subtype polymorphism (i.e., create subclasses and override some methods with Person/Wall/Empty-specific behaviors). The other option is to use dynamic dispatch, which is achieved in a limited way (double-dispatch) through the visitor pattern. I think there are now answers below addressing each of these approaches."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1448276541,"post_id":33861315,"comment_id":55502220,"body_markdown":"Note: there&#39;s a typo in the title. But you can&#39;t fix it because there is already a question named &quot;Avoiding instanceof in Java&quot;. I suggest you reword the title to be more specific.","body":"Note: there&#39;s a typo in the title. But you can&#39;t fix it because there is already a question named &quot;Avoiding instanceof in Java&quot;. I suggest you reword the title to be more specific."},{"owner":{"account_id":585815,"reputation":17118,"user_id":261142,"accept_rate":82,"display_name":"Thomas"},"score":0,"creation_date":1448283766,"post_id":33861315,"comment_id":55506941,"body_markdown":"Possible duplicate of [Avoiding instanceof in Java](http://stackoverflow.com/questions/2790144/avoiding-instanceof-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2790144/avoiding-instanceof-in-java\">Avoiding instanceof in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":126262,"reputation":39126,"user_id":322642,"accept_rate":73,"display_name":"ligi"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1448233713,"creation_date":1448233713,"answer_id":33861367,"question_id":33861315,"body_markdown":"I would let person and wall inherit from a abstract superclass ( e.g. Tile ) which has a method getType() returning an enum or int and implement this method in Wall and Person returning the appropriate","title":"How to avoid instanceof in Java","body":"<p>I would let person and wall inherit from a abstract superclass ( e.g. Tile ) which has a method getType() returning an enum or int and implement this method in Wall and Person returning the appropriate</p>\n"},{"tags":[],"owner":{"account_id":6358924,"reputation":179,"user_id":5583560,"display_name":"EliteMasterEric"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1448233948,"creation_date":1448233948,"answer_id":33861390,"question_id":33861315,"body_markdown":"As mentioned on [this other question][1], modern Java compilers are very efficient at operations like *instanceof*. You should be fine using it.\r\n\r\nIn fact, one of the other provided answers tested *instanceOf* and string comparisons, and *instanceOf* was significantly faster. I recommend you stick with using it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java","title":"How to avoid instanceof in Java","body":"<p>As mentioned on <a href=\"https://stackoverflow.com/questions/103564/the-performance-impact-of-using-instanceof-in-java\">this other question</a>, modern Java compilers are very efficient at operations like <em>instanceof</em>. You should be fine using it.</p>\n\n<p>In fact, one of the other provided answers tested <em>instanceOf</em> and string comparisons, and <em>instanceOf</em> was significantly faster. I recommend you stick with using it.</p>\n"},{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1448239078,"creation_date":1448234011,"answer_id":33861398,"question_id":33861315,"body_markdown":"Use [Tell, Don&#39;t Ask][1]: instead of asking the objects what they are and then reacting on that, tell the object what to do and then walls or people do decide how they do what they need to do.\r\n\r\nFor example:\r\n\r\nInstead of having something like this:\r\n\r\n    public class Wall {\r\n        // ...\r\n    }\r\n        \r\n    public class Person {\r\n        // ...\r\n    }\r\n    \r\n    // later\r\n    public class moveTo(Position pos) {\r\n        Object whatIsThere = pos.whatIsThere();\r\n        if (whatIsThere instanceof Wall) {\r\n             System.err.println(&quot;You cannot move into a wall&quot;);\r\n        }\r\n        else if (whatIsThere instanceof Person) {\r\n             System.err.println(&quot;You bump into &quot; + person.getName());\r\n        }\r\n        // many more else branches...\r\n    }\r\n\r\ndo something like this:\r\n\r\n    public interface DungeonFeature {\r\n        void moveInto();\r\n    }\r\n    \r\n    public class Wall implements DungeonFeature {\r\n        @Override\r\n        public void moveInto() {\r\n            System.err.println(&quot;You bump into a wall&quot;);\r\n        }\r\n\r\n       // ...\r\n    }\r\n    \r\n    public class Person implements DungeonFeature {\r\n        private String name;\r\n\r\n        @Override\r\n        public void moveInto() {\r\n            System.err.println(&quot;You bump into &quot; + name);\r\n        }\r\n    \r\n        // ...\r\n    }\r\n    \r\n    // and later\r\n    public void moveTo(Position pos) {\r\n        DungeonFeature df = currentPosition();\r\n        df.moveTo(pos);\r\n    }\r\n\r\nThis has some advantages.\r\n\r\nFirst, you don&#39;t need to adjust a giant if then else tree each time you add a new dungeon feature.\r\n\r\nSecond, the code in the dungeon features is self-contained, the logic is all in the said object. You can easily test it and move it.\r\n\r\n\r\n  [1]: http://martinfowler.com/bliki/TellDontAsk.html","title":"How to avoid instanceof in Java","body":"<p>Use <a href=\"http://martinfowler.com/bliki/TellDontAsk.html\">Tell, Don't Ask</a>: instead of asking the objects what they are and then reacting on that, tell the object what to do and then walls or people do decide how they do what they need to do.</p>\n\n<p>For example:</p>\n\n<p>Instead of having something like this:</p>\n\n<pre><code>public class Wall {\n    // ...\n}\n\npublic class Person {\n    // ...\n}\n\n// later\npublic class moveTo(Position pos) {\n    Object whatIsThere = pos.whatIsThere();\n    if (whatIsThere instanceof Wall) {\n         System.err.println(\"You cannot move into a wall\");\n    }\n    else if (whatIsThere instanceof Person) {\n         System.err.println(\"You bump into \" + person.getName());\n    }\n    // many more else branches...\n}\n</code></pre>\n\n<p>do something like this:</p>\n\n<pre><code>public interface DungeonFeature {\n    void moveInto();\n}\n\npublic class Wall implements DungeonFeature {\n    @Override\n    public void moveInto() {\n        System.err.println(\"You bump into a wall\");\n    }\n\n   // ...\n}\n\npublic class Person implements DungeonFeature {\n    private String name;\n\n    @Override\n    public void moveInto() {\n        System.err.println(\"You bump into \" + name);\n    }\n\n    // ...\n}\n\n// and later\npublic void moveTo(Position pos) {\n    DungeonFeature df = currentPosition();\n    df.moveTo(pos);\n}\n</code></pre>\n\n<p>This has some advantages.</p>\n\n<p>First, you don't need to adjust a giant if then else tree each time you add a new dungeon feature.</p>\n\n<p>Second, the code in the dungeon features is self-contained, the logic is all in the said object. You can easily test it and move it.</p>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1448234317,"creation_date":1448234317,"answer_id":33861440,"question_id":33861315,"body_markdown":"The theoretical solution to removing the `instanceof` in [a refined way][1] is the usage of the [Visitor Pattern][2]. How it works is that the object that needs to know whether the other element is a wall or person calls that object with itself as a parameter, and that particular object calls back thus providing information about its type.\r\n\r\nExample,\r\n\r\n    public class Person {\r\n        void magic() {\r\n            if(grid.getAdjacent() instanceof Person) {\r\n                Person otherPerson = (Person)grid.getAdjacent();\r\n                doSomethingWith(otherPerson);\r\n            } else if(grid.getAdjacent() instanceof Wall) {\r\n                Wall wall = (Wall)grid.getAdjacent();\r\n                doOtherThingWith(wall);\r\n            }\r\n        }\r\n    }\r\n\r\nCan become\r\n\r\n    public class Person extends Entity {\r\n        void magic() {\r\n            grid.getAdjacent().visit(this);\r\n        }\r\n\r\n        void onVisit(Wall wall) {\r\n            doOtherThingWith(wall);\r\n        }\r\n\r\n        void onVisit(Person person) {\r\n            doSomethingWith(person);\r\n        }\r\n\r\n        public void visit(Person person) {\r\n            person.onVisit(this);\r\n        }\r\n    }\r\n\r\n    public class Wall extends Entity { \r\n        public void visit(Person person) {\r\n            person.onVisit(this);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2077602/learn-java/java-tip-98--reflect-on-the-visitor-design-pattern.html\r\n  [2]: http://www.tutorialspoint.com/design_pattern/visitor_pattern.htm","title":"How to avoid instanceof in Java","body":"<p>The theoretical solution to removing the <code>instanceof</code> in <a href=\"http://www.javaworld.com/article/2077602/learn-java/java-tip-98--reflect-on-the-visitor-design-pattern.html\">a refined way</a> is the usage of the <a href=\"http://www.tutorialspoint.com/design_pattern/visitor_pattern.htm\">Visitor Pattern</a>. How it works is that the object that needs to know whether the other element is a wall or person calls that object with itself as a parameter, and that particular object calls back thus providing information about its type.</p>\n\n<p>Example,</p>\n\n<pre><code>public class Person {\n    void magic() {\n        if(grid.getAdjacent() instanceof Person) {\n            Person otherPerson = (Person)grid.getAdjacent();\n            doSomethingWith(otherPerson);\n        } else if(grid.getAdjacent() instanceof Wall) {\n            Wall wall = (Wall)grid.getAdjacent();\n            doOtherThingWith(wall);\n        }\n    }\n}\n</code></pre>\n\n<p>Can become</p>\n\n<pre><code>public class Person extends Entity {\n    void magic() {\n        grid.getAdjacent().visit(this);\n    }\n\n    void onVisit(Wall wall) {\n        doOtherThingWith(wall);\n    }\n\n    void onVisit(Person person) {\n        doSomethingWith(person);\n    }\n\n    public void visit(Person person) {\n        person.onVisit(this);\n    }\n}\n\npublic class Wall extends Entity { \n    public void visit(Person person) {\n        person.onVisit(this);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1448234870,"creation_date":1448234557,"answer_id":33861466,"question_id":33861315,"body_markdown":"ligi&#39;s answer is right on the money.  (Whoever downvoted it, I wonder what they were thinking.)  As an alternative, consider this:\r\n\r\n    abstract class Tile\r\n    {\r\n        public final EntityType type;\r\n\r\n        protected Tile( EntityType type )\r\n        {\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n    abstract class Pedestrian extends Tile\r\n    {\r\n        public Pedestrian()\r\n        {\r\n            super( EntityType.PEDESTRIAN );\r\n        }\r\n    }\r\n\r\n    abstract class Wall extends Tile\r\n    {\r\n        public Wall()\r\n        {\r\n            super( EntityType.WALL );\r\n        }\r\n    }\r\n\r\nThe rationale behind this is that the &quot;type&quot; of the entity is a permanent characteristic of the entity, so it is suitable to be specified in the constructor and to be realized in a `final` member field.  If it is returned by a virtual method (non-final method in java parlance) then descendants would be free to return one value at one point in time, and another value at another point in time, which would spell havoc.\r\n\r\nOh, and if you really cannot stand the public final member, go ahead and add a getter for it, but my advice would be that never mind the purists, public final members without getters are perfectly fine.  \r\n","title":"How to avoid instanceof in Java","body":"<p>ligi's answer is right on the money.  (Whoever downvoted it, I wonder what they were thinking.)  As an alternative, consider this:</p>\n\n<pre><code>abstract class Tile\n{\n    public final EntityType type;\n\n    protected Tile( EntityType type )\n    {\n        this.type = type;\n    }\n}\n\nabstract class Pedestrian extends Tile\n{\n    public Pedestrian()\n    {\n        super( EntityType.PEDESTRIAN );\n    }\n}\n\nabstract class Wall extends Tile\n{\n    public Wall()\n    {\n        super( EntityType.WALL );\n    }\n}\n</code></pre>\n\n<p>The rationale behind this is that the \"type\" of the entity is a permanent characteristic of the entity, so it is suitable to be specified in the constructor and to be realized in a <code>final</code> member field.  If it is returned by a virtual method (non-final method in java parlance) then descendants would be free to return one value at one point in time, and another value at another point in time, which would spell havoc.</p>\n\n<p>Oh, and if you really cannot stand the public final member, go ahead and add a getter for it, but my advice would be that never mind the purists, public final members without getters are perfectly fine.  </p>\n"},{"tags":[],"owner":{"account_id":2393389,"reputation":597,"user_id":2092777,"display_name":"TheBrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448290949,"creation_date":1448290949,"answer_id":33874171,"question_id":33861315,"body_markdown":"If you follow the other answers here and implement a visitor pattern or use an enum you will not make a mistake.\r\n\r\nHowever, it might also help to think about what exactly it is you want to do with that switching logic (be it instanceof or visitors), because sometimes there is a simpler way to do that.\r\n\r\nFor example, if all you want to do is check if an entity occupies a grid in a blocking way, then you can just add a method `boolean isSolid()` to each entity via interface. You can use this with default methods for extra beauty:\r\n\r\n    public interface GridPhysics {\r\n        default boolean isSolid() {\r\n            return true;\r\n        }\r\n     \r\n        // other grid physics stuff\r\n    }\r\n\r\n    public class Wall implements GridPhysics {\r\n        // nothing to do here, it uses the default\r\n    }\r\n\r\n    // in your game logic\r\n    public boolean canMoveTo(GridPhysics gridCell) {\r\n        return !gridCell.isSolid() &amp;&amp; otherChecks();\r\n    }\r\n\r\nYou might also want to have a look at entity component systems (e.g. [Artemis][1]), which basically take this idea of &quot;composition over inheritance&quot; to the extreme.\r\n\r\n\r\n  [1]: http://entity-systems.wikidot.com/artemis-entity-system-framework","title":"How to avoid instanceof in Java","body":"<p>If you follow the other answers here and implement a visitor pattern or use an enum you will not make a mistake.</p>\n\n<p>However, it might also help to think about what exactly it is you want to do with that switching logic (be it instanceof or visitors), because sometimes there is a simpler way to do that.</p>\n\n<p>For example, if all you want to do is check if an entity occupies a grid in a blocking way, then you can just add a method <code>boolean isSolid()</code> to each entity via interface. You can use this with default methods for extra beauty:</p>\n\n<pre><code>public interface GridPhysics {\n    default boolean isSolid() {\n        return true;\n    }\n\n    // other grid physics stuff\n}\n\npublic class Wall implements GridPhysics {\n    // nothing to do here, it uses the default\n}\n\n// in your game logic\npublic boolean canMoveTo(GridPhysics gridCell) {\n    return !gridCell.isSolid() &amp;&amp; otherChecks();\n}\n</code></pre>\n\n<p>You might also want to have a look at entity component systems (e.g. <a href=\"http://entity-systems.wikidot.com/artemis-entity-system-framework\" rel=\"nofollow\">Artemis</a>), which basically take this idea of \"composition over inheritance\" to the extreme.</p>\n"},{"tags":[],"owner":{"account_id":5397806,"reputation":126,"user_id":4959470,"display_name":"RAHUL ROY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477459093,"creation_date":1477459093,"answer_id":40254253,"question_id":33861315,"body_markdown":"Answers are very good here nothing to say anything about that, but if I were in such situation and if it is allowed than i would have been gone for a 2d int array with possible value 0(for empty by default assignment) and 1,2 for person or wall.","title":"How to avoid instanceof in Java","body":"<p>Answers are very good here nothing to say anything about that, but if I were in such situation and if it is allowed than i would have been gone for a 2d int array with possible value 0(for empty by default assignment) and 1,2 for person or wall.</p>\n"}],"owner":{"account_id":7345031,"reputation":221,"user_id":5593037,"display_name":"John Radke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2128,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":7,"score":22,"last_activity_date":1640218493,"creation_date":1448233363,"question_id":33861315,"body_markdown":"In my application I have a 2d array of entities to represent a grid. Each location in the grid can either be empty or occupied by an entity (in this case it&#39;s just a person or wall). Right now I use `instanceof` to check whether an entity is a person or a wall. \r\n\r\nI was thinking of giving each entity a method which returns an `enum` stating their type so i.e. a wall entity would return `EntityType.WALL`. I was wondering if this is the best idea to remove the use of `instanceof` or is `instanceof` suitable in this scenario?","title":"How to avoid instanceof in Java","body":"<p>In my application I have a 2d array of entities to represent a grid. Each location in the grid can either be empty or occupied by an entity (in this case it's just a person or wall). Right now I use <code>instanceof</code> to check whether an entity is a person or a wall. </p>\n\n<p>I was thinking of giving each entity a method which returns an <code>enum</code> stating their type so i.e. a wall entity would return <code>EntityType.WALL</code>. I was wondering if this is the best idea to remove the use of <code>instanceof</code> or is <code>instanceof</code> suitable in this scenario?</p>\n"},{"tags":["java","amazon-web-services","apache-spark","hadoop"],"comments":[{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1637575939,"post_id":70059828,"comment_id":123854042,"body_markdown":"where in the hadoop s3a documentation is the &quot;fs.s3a.signatureVersion` covered -and it is just something you picked up from other SO posts, have you considered looking at the hadoop s3a docs first?\nAs one of the main S3A authors, its a losing battle against people who don&#39;t read it or the troubleshooting page, and instead just copy broken SO code and then ask for help. downvoting due to a lack of due diligence.","body":"where in the hadoop s3a documentation is the &quot;fs.s3a.signatureVersion` covered -and it is just something you picked up from other SO posts, have you considered looking at the hadoop s3a docs first? As one of the main S3A authors, its a losing battle against people who don&#39;t read it or the troubleshooting page, and instead just copy broken SO code and then ask for help. downvoting due to a lack of due diligence."},{"owner":{"account_id":2149787,"reputation":599,"user_id":1906518,"display_name":"dagra"},"score":0,"creation_date":1637624244,"post_id":70059828,"comment_id":123871640,"body_markdown":"Thanks @stevel. Yes you are correct. I have removed the properties and just set the aws credentials and proxies. Confirming them with the documentation. Still getting \nCaused by: com.amazonaws.services.s3.model.AmazonS3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method.","body":"Thanks @stevel. Yes you are correct. I have removed the properties and just set the aws credentials and proxies. Confirming them with the documentation. Still getting  Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method."}],"answers":[{"tags":[],"owner":{"account_id":2149787,"reputation":599,"user_id":1906518,"display_name":"dagra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640217673,"creation_date":1640217673,"answer_id":70456356,"question_id":70059828,"body_markdown":"The same code works directly on AWS EMR cluster. I believe it the corporate firewall which was blocking my AWS calls. Hence, not an issue anymore.","title":"Apache Spark Hadoop S3A SignatureDoesNotMatch","body":"<p>The same code works directly on AWS EMR cluster. I believe it the corporate firewall which was blocking my AWS calls. Hence, not an issue anymore.</p>\n"}],"owner":{"account_id":2149787,"reputation":599,"user_id":1906518,"display_name":"dagra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640217673,"creation_date":1637542034,"question_id":70059828,"body_markdown":"First time using Spark with S3A. I am getting SignatureDoesNotMatch error when accessing via hadoop S3A. However same works when I access S3 buckets using AWS SDK. Following is my code, I am not able to figure the error out. I believe there is something wrong in my settings.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n        if (args.length &lt; 1) {\r\n            log.error(&quot;Usage: &lt;app_name&gt; &lt;grok_pattern&gt;&quot;);\r\n            System.exit(0);\r\n        }\r\n\r\n        final String appName = args[0];\r\n        final SyslogParser syslogParser = new SyslogParser(args[1]);\r\n        final JavaSparkContext sparkContext = initSparkContext(appName);\r\n        final String queueName = Optional.ofNullable(System.getenv(&quot;SQS_QUEUE_NAME&quot;))\r\n                .orElseThrow(() -&gt; new RuntimeException(&quot;SQS_QUEUE_NAME required.&quot;));\r\n        log.info(&quot;...started streaming {}&quot;, queueName);\r\n        final ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest(getQueueUrl(queueName))\r\n                .withWaitTimeSeconds(10)\r\n                .withMaxNumberOfMessages(10);\r\n        final ReceiveMessageResult receiveMessageResult = AMAZON_SQS.receiveMessage(receiveMessageRequest);\r\n        log.info(&quot;...received new messages: {}&quot;, receiveMessageResult.getMessages().size());\r\n        receiveMessageResult.getMessages()\r\n                .stream()\r\n                .map(Message::getBody)\r\n                .map(Application::toJsonNode)\r\n                .filter(Objects::nonNull)\r\n                .map(Application::toS3Pair)\r\n                .forEach(s3Pair -&gt; processS3Object(s3Pair, syslogParser, sparkContext));\r\n        sparkContext.close();\r\n    }\r\n\r\n    static SparkConf initSparkConf(String appName) {\r\n        final SparkConf conf = new SparkConf();\r\n        conf.setAppName(appName);\r\n        conf.setMaster(&quot;local[*]&quot;);\r\n\r\n        final EnvironmentVariableCredentialsProvider provider = new EnvironmentVariableCredentialsProvider();\r\n        conf.set(&quot;spark.hadoop.fs.s3a.access.key&quot;, provider.getCredentials().getAWSAccessKeyId());\r\n        conf.set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, provider.getCredentials().getAWSSecretKey());\r\n        // we are behind proxy hence set fs.s3a.proxy.host and port as well.\r\n        return conf;\r\n    }\r\n\r\n    static JavaSparkContext initSparkContext(String appName) {\r\n        final SparkConf conf = initSparkConf(appName);\r\n        final JavaSparkContext context = new JavaSparkContext(conf);\r\n        context.setLogLevel(LogLevel.DEBUG.name());\r\n        return context;\r\n    }\r\n\r\n    static void processS3Object(final Pair&lt;String, String&gt; s3Pair, final SyslogParser syslogParser, final JavaSparkContext sparkContext) {\r\n        final String outS3aUrl = &quot;s3a://&quot; + s3Pair.getLeft() + &quot;/out/&quot; + s3Pair.getRight();\r\n        final String inS3aUrl = &quot;s3a://&quot; + s3Pair.getLeft() + &quot;/&quot; + s3Pair.getRight();\r\n        sparkContext.textFile(inS3aUrl)\r\n                .saveAsTextFile(outS3aUrl);\r\n\r\n    }\r\n```\r\n\r\nFollowing the DEBUG log and it shows the Signature is not matching, however I did notice the date sent to AWS is different from my system date. Not sure if that is the issue, if yes not sure how to change it.\r\n\r\n```text\r\n21/11/22 12:09:38 DEBUG AWS4Signer: AWS4 Canonical Request: &#39;&quot;GET\r\n/asdasd/asdasd.json\r\n\r\namz-sdk-invocation-id:b14a016a-a589-b314-536a-a19ad9e3a65c\r\namz-sdk-request:attempt=14;max=21\r\namz-sdk-retry:13/19092/372\r\ncontent-type:application/octet-stream\r\nhost:temp-bucket.s3.ap-southeast-2.amazonaws.com\r\nif-match:1f0aa30fff75c3b01269bf3a7e7ad241\r\nrange:bytes=0-284846\r\nuser-agent:Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy\r\nx-amz-content-sha256:UNSIGNED-PAYLOAD\r\nx-amz-date:20211122T010938Z\r\n\r\namz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date\r\nUNSIGNED-PAYLOAD&quot;\r\n21/11/22 12:09:38 DEBUG AWS4Signer: AWS4 String to Sign: &#39;&quot;AWS4-HMAC-SHA256\r\n20211122T010938Z\r\n20211122/ap-southeast-2/s3/aws4_request\r\n8a5536b64079a96c3bbb61492d7fb2232f83b0546dcb91cbca8125a182927813&quot;\r\n21/11/22 12:09:38 DEBUG RequestAddCookies: CookieSpec selected: default\r\n21/11/22 12:09:38 DEBUG RequestAuthCache: Auth cache not set in the context\r\n21/11/22 12:09:38 DEBUG PoolingHttpClientConnectionManager: Connection request: [route: {tls}-&gt;http://proxy:3228-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443][total available: 2; route allocated: 1 of 48; total allocated: 2 of 48]\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-7 &lt;&lt; &quot;end of stream&quot;\r\n21/11/22 12:09:38 DEBUG DefaultManagedHttpClientConnection: http-outgoing-7: Close connection\r\n21/11/22 12:09:38 DEBUG PoolingHttpClientConnectionManager: Connection leased: [id: 8][route: {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443][total available: 1; route allocated: 1 of 48; total allocated: 2 of 48]\r\n21/11/22 12:09:38 DEBUG MainClientExec: Opening connection {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443\r\n21/11/22 12:09:38 DEBUG DefaultHttpClientConnectionOperator: Connecting to proxy/10.1.1.1:3128\r\n21/11/22 12:09:38 DEBUG DefaultHttpClientConnectionOperator: Connection established 10.1.1.2:38250&lt;-&gt;10.1.1.1:3128\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; CONNECT temp-buckets.s3.ap-southeast-2.amazonaws.com:443 HTTP/1.1\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Host: temp-buckets.s3.ap-southeast-2.amazonaws.com\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_292)\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;CONNECT temp-buckets.s3.ap-southeast-2.amazonaws.com:443 HTTP/1.1[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Host: temp-buckets.s3.ap-southeast-2.amazonaws.com[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_292)[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 Connection established[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &lt;&lt; HTTP/1.1 200 Connection established\r\n21/11/22 12:09:38 DEBUG MainClientExec: Tunnel to target created.\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Enabled protocols: [TLSv1.2]\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: socket.getSupportedProtocols(): [TLSv1.3, TLSv1.2, TLSv1.1, TLSv1, SSLv3, SSLv2Hello], socket.getEnabledProtocols(): [TLSv1.2]\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: TLS protocol enabled for SSL handshake: [TLSv1.2, TLSv1.1, TLSv1]\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Starting handshake\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Secure session established\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  negotiated protocol: TLSv1.2\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  peer principal: CN=*.s3-ap-southeast-2.amazonaws.com\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  peer alternative names: [s3-ap-southeast-2.amazonaws.com, *.s3-ap-southeast-2.amazonaws.com, s3.ap-southeast-2.amazonaws.com, *.s3.ap-southeast-2.amazonaws.com, s3.dualstack.ap-southeast-2.amazonaws.com, *.s3.dualstack.ap-southeast-2.amazonaws.com, *.s3.amazonaws.com, *.s3-control.ap-southeast-2.amazonaws.com, s3-control.ap-southeast-2.amazonaws.com, *.s3-control.dualstack.ap-southeast-2.amazonaws.com, s3-control.dualstack.ap-southeast-2.amazonaws.com, *.s3-accesspoint.ap-southeast-2.amazonaws.com, *.s3-accesspoint.dualstack.ap-southeast-2.amazonaws.com, *.s3.ap-southeast-2.vpce.amazonaws.com]\r\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  issuer principal: CN=pan-d84ofw002-CA\r\n21/11/22 12:09:38 DEBUG DefaultManagedHttpClientConnection: http-outgoing-8: set socket timeout to 200000\r\n21/11/22 12:09:38 DEBUG MainClientExec: Executing request GET /folder/filename.json HTTP/1.1\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; GET /folder/filename.json HTTP/1.1\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Host: temp-buckets.s3.ap-southeast-2.amazonaws.com\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; amz-sdk-invocation-id: b14a016a-a589-b314-536a-a19ad9e3a65c\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; amz-sdk-request: attempt=14;max=21\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; amz-sdk-retry: 13/19092/372\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Authorization: AWS4-HMAC-SHA256 Credential=AWSACCESSKEY/20211122/ap-southeast-2/s3/aws4_request, SignedHeaders=amz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date, Signature=72cd72ef9948643604f7ccd460f29cdfa912f1fdde0faa913f84a4425dd43\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Content-Type: application/octet-stream\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; If-Match: 1f0aa30fff75c3b01269bf3a7e7ad241\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Range: bytes=0-284846\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; User-Agent: Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; x-amz-content-sha256: UNSIGNED-PAYLOAD\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; X-Amz-Date: 20211122T010938Z\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Content-Length: 0\r\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Connection: Keep-Alive\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;GET /folder/filename.json HTTP/1.1[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Host: temp-buckets.s3.ap-southeast-2.amazonaws.com[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;amz-sdk-invocation-id: b14a016a-a589-b314-536a-a19ad9e3a65c[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;amz-sdk-request: attempt=14;max=21[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;amz-sdk-retry: 13/19092/372[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Authorization: AWS4-HMAC-SHA256 Credential=AWSACCESSKEY/20211122/ap-southeast-2/s3/aws4_request, SignedHeaders=amz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date, Signature=72cd72ef9948643604f7ccd460f29cdfa912f1fdde0faa913f84a4425dd43[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Content-Type: application/octet-stream[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;If-Match: 1f0aa30fff75c3b01269bf3a7e7ad241[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Range: bytes=0-284846[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;User-Agent: Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;x-amz-content-sha256: UNSIGNED-PAYLOAD[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;X-Amz-Date: 20211122T010938Z[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Content-Length: 0[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 403 Forbidden[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-request-id: 03D8MX920R4B7Q3Y[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-id-2: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Date: Mon, 22 Nov 2021 01:09:38 GMT[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Server: AmazonS3[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Transfer-Encoding: chunked[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Content-Type: application/xml[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;1036[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; HTTP/1.1 403 Forbidden\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; x-amz-request-id: 03D8MX920R4B7Q3Y\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; x-amz-id-2: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Date: Mon, 22 Nov 2021 01:09:38 GMT\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Server: AmazonS3\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Transfer-Encoding: chunked\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Content-Type: application/xml\r\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Connection: keep-alive\r\n21/11/22 12:09:39 DEBUG MainClientExec: Connection can be kept alive for 60000 MILLISECONDS\r\n21/11/22 12:09:39 DEBUG ClockSkewAdjuster: Reported server date (from &#39;Date&#39; header): Mon, 22 Nov 2021 01:09:38 GMT\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;&lt;Error&gt;&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your key and signing method.&lt;/Message&gt;&lt;AWSAccessKeyId&gt;AWSACCESSKEY&lt;/AWSAccessKeyId&gt;&lt;StringToSign&gt;AWS4-HMAC-SHA256[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;20211122T010938Z[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;20211122/ap-southeast-2/s3/aws4_request[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;63ed1dbeae3d1146f51197796c4d3a76736601e30444c91aa306d186426a15ea&lt;/StringToSign&gt;&lt;SignatureProvided&gt;72cd72ef9948643604f7ccd460f29cdfa912f1fdde0faa913f84a4425dd43&lt;/SignatureProvided&gt;&lt;StringToSignBytes&gt;41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 0a 32 30 32 31 31 31 32 32 54 30 31 30 39 33 38 5a 0a 32 30 32 31 31 31 32 32 2f 61 70 2d 73 6f 75 74 68 65 61 73 74 2d 32 2f 73 33 2f 61 77 73 34 5f 72 65 71 75 65 73 74 0a 36 33 65 64 31 64 62 65 61 65 33 64 31 31 34 36 66 35 31 31 39 37 37 39 36 63 34 64 33 61 37 36 37 33 36 36 30 31 65 33 30 34 34 34 63 39 31 61 61 33 30 36 64 31 38 36 34 32 36 61 31 35 65 61&lt;/StringToSignBytes&gt;&lt;CanonicalRequest&gt;GET[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;/folder/filename.json[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-invocation-id:b14a016a-a589-b314-536a-a19ad9e3a65c[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-request:attempt=14;max=21[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-retry:13/19092/372[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;content-type:application/octet-stream[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;host:temp-buckets.s3.ap-southeast-2.amazonaws.com[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;if-match:1f0aa30fff75c3b01269bf3a7e7ad241[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;range:[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;user-agent:Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-content-sha256:UNSIGNED-PAYLOAD[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-date:20211122T010938Z[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date[\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;UNSIGNED-PAYLOAD&lt;/CanonicalRequest&gt;&lt;CanonicalRequestBytes&gt;47 45 54 0a 2f 37 6e 65 77 73 2f 65 61 61 38 30 39 64 61 32 31 38 63 37 63 39 32 34 61 31 34 37 37 35 38 31 63 61 39 36 35 39 38 65 62 63 64 38 36 32 33 61 63 63 65 36 36 37 30 64 37 36 31 34 34 30 31 62 33 38 39 62 66 39 30 2e 6a 73 6f 6e 0a 0a 61 6d 7a 2d 73 64 6b 2d 69 6e 76 6f 63 61 74 69 6f 6e 2d 69 64 3a 62 31 34 61 30 31 36 61 2d 61 35 38 39 2d 62 33 31 34 2d 35 33 36 61 2d 61 31 39 61 64 39 65 33 61 36 35 63 0a 61 6d 7a 2d 73 64 6b 2d 72 65 71 75 65 73 74 3a 61 74 74 65 6d 70 74 3d 31 34 3b 6d 61 78 3d 32 31 0a 61 6d 7a 2d 73 64 6b 2d 72 65 74 72 79 3a 31 33 2f 31 39 30 39 32 2f 33 37 32 0a 63 6f 6e 74 65 6e 74 2d 74 79 70 65 3a 61 70 70 6c 69 63 61 74 69 6f 6e 2f 6f 63 74 65 74 2d 73 74 72 65 61 6d 0a 68 6f 73 74 3a 70 72 6f 64 2d 69 63 65 70 69 63 2d 72 61 77 32 70 61 63 73 2e 73 33 2e 61 70 2d 73 6f 75 74 68 65 61 73 74 2d 32 2e 61 6d 61 7a 6f 6e 61 77 73 2e 63 6f 6d 0a 69 66 2d 6d 61 74 63 68 3a 31 66 30 61 61 33 30 66 66 66 37 35 63 33 62 30 31 32 36 39 62 66 33 61 37 65 37 61 64 32 34 31 0a 72 61 6e 67 65 3a 0a 75 73 65 72 2d 61 67 65 6e 74 3a 48 61 64 6f 6f 70 20 33 2e 33 2e 31 2c 20 61 77 73 2d 73 64 6b 2d 6a 61 76 61 2f 31 2e 31 32 2e 31 31 32 20 4c 69 6e 75 78 2f 35 2e 34 2e 30 2d 39 30 2d 67 65 6e 65 72 69 63 20 4f 70 65 6e 4a 44 4b 5f 36 34 2d 42 69 74 5f 53 65 72 76 65 72 5f 56 4d 2f 32 35 2e 32 39 32 2d 62 31 30 20 6a 61 76 61 2f 31 2e 38 2e 30 5f 32 39 32 20 73 63 61 6c 61 2f 32 2e 31 33 2e 35 20 76 65 6e 64 6f 72 2f 50 72 69 76 61 74 65 5f 42 75 69 6c 64 20 63 66 67 2f 72 65 74 72 79 2d 6d 6f 64 65 2f 6c 65 67 61 63 79 0a 78 2d 61 6d 7a 2d 63 6f 6e 74 65 6e 74 2d 73 68 61 32 35 36 3a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44 0a 78 2d 61 6d 7a 2d 64 61 74 65 3a 32 30 32 31 31 31 32 32 54 30 31 30 39 33 38 5a 0a 0a 61 6d 7a 2d 73 64 6b 2d 69 6e 76 6f 63 61 74 69 6f 6e 2d 69 64 3b 61 6d 7a 2d 73 64 6b 2d 72 65 71 75 65 73 74 3b 61 6d 7a 2d 73 64 6b 2d 72 65 74 72 79 3b 63 6f 6e 74 65 6e 74 2d 74 79 70 65 3b 68 6f 73 74 3b 69 66 2d 6d 61 74 63 68 3b 72 61 6e 67 65 3b 75 73 65 72 2d 61 67 65 6e 74 3b 78 2d 61 6d 7a 2d 63 6f 6e 74 65 6e 74 2d 73 68 61 32 35 36 3b 78 2d 61 6d 7a 2d 64 61 74 65 0a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44&lt;/CanonicalRequestBytes&gt;&lt;RequestId&gt;03D8MX920R4B7Q3Y&lt;/RequestId&gt;&lt;HostId&gt;PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCL&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;lD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=&lt;/HostId&gt;&lt;/Error&gt;&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;0[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n21/11/22 12:09:39 DEBUG PoolingHttpClientConnectionManager: Connection [id: 8][route: {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443] can be kept alive for 60.0 seconds\r\n21/11/22 12:09:39 DEBUG DefaultManagedHttpClientConnection: http-outgoing-8: set socket timeout to 0\r\n21/11/22 12:09:39 DEBUG PoolingHttpClientConnectionManager: Connection released: [id: 8][route: {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443][total available: 2; route allocated: 1 of 48; total allocated: 2 of 48]\r\n21/11/22 12:09:39 DEBUG request: Received error response: com.amazonaws.services.s3.model.AmazonS3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method. (Service: Amazon S3; Status Code: 403; Error Code: SignatureDoesNotMatch; Request ID: 03D8MX920R4B7Q3Y; S3 Extended Request ID: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=; Proxy: proxy), S3 Extended Request ID: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=\r\n21/11/22 12:09:39 DEBUG ClockSkewAdjuster: Reported server date (from &#39;Date&#39; header): Mon, 22 Nov 2021 01:09:38 GMT\r\n```\r\n\r\n**UPDATES**\r\n\r\nAfter @stevel comments, confirmed the properties with the hadoop documentation and updated the code. Still getting the same issue.\r\n\r\nWe keep trying to figure the issue out, may be its because of the corporate proxy. Will update once I resolve this issue.\r\n\r\nStacktrace after changes\r\n```\r\nCaused by: com.amazonaws.services.s3.model.AmazonS3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method. (Service: Amazon S3; Status Code: 403; Error Code: SignatureDoesNotMatch; Request ID: D26Z2QHKMBK110Q5; S3 Extended Request ID: 9MZ5uIB1P6HUEaBWrIqkxfUm8ftWPclkkQ8EFOffsWacj3Ki6U6koSmHt3d55n/ItS34bmUGU3I=; Proxy: jailbird.cp.pacs), S3 Extended Request ID: 9MZ5uIB1P6HUEaBWrIqkxfUm8ftWPclkkQ8EFOffsWacj3Ki6U6koSmHt3d55n/ItS34bmUGU3I=\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1828)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1412)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1374)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5227)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5173)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.getObject(AmazonS3Client.java:1512)\r\n\tat org.apache.hadoop.fs.s3a.S3AInputStream.lambda$reopen$0(S3AInputStream.java:227)\r\n\tat org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:115)\r\n\t... 37 more\r\n```","title":"Apache Spark Hadoop S3A SignatureDoesNotMatch","body":"<p>First time using Spark with S3A. I am getting SignatureDoesNotMatch error when accessing via hadoop S3A. However same works when I access S3 buckets using AWS SDK. Following is my code, I am not able to figure the error out. I believe there is something wrong in my settings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        if (args.length &lt; 1) {\n            log.error(&quot;Usage: &lt;app_name&gt; &lt;grok_pattern&gt;&quot;);\n            System.exit(0);\n        }\n\n        final String appName = args[0];\n        final SyslogParser syslogParser = new SyslogParser(args[1]);\n        final JavaSparkContext sparkContext = initSparkContext(appName);\n        final String queueName = Optional.ofNullable(System.getenv(&quot;SQS_QUEUE_NAME&quot;))\n                .orElseThrow(() -&gt; new RuntimeException(&quot;SQS_QUEUE_NAME required.&quot;));\n        log.info(&quot;...started streaming {}&quot;, queueName);\n        final ReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest(getQueueUrl(queueName))\n                .withWaitTimeSeconds(10)\n                .withMaxNumberOfMessages(10);\n        final ReceiveMessageResult receiveMessageResult = AMAZON_SQS.receiveMessage(receiveMessageRequest);\n        log.info(&quot;...received new messages: {}&quot;, receiveMessageResult.getMessages().size());\n        receiveMessageResult.getMessages()\n                .stream()\n                .map(Message::getBody)\n                .map(Application::toJsonNode)\n                .filter(Objects::nonNull)\n                .map(Application::toS3Pair)\n                .forEach(s3Pair -&gt; processS3Object(s3Pair, syslogParser, sparkContext));\n        sparkContext.close();\n    }\n\n    static SparkConf initSparkConf(String appName) {\n        final SparkConf conf = new SparkConf();\n        conf.setAppName(appName);\n        conf.setMaster(&quot;local[*]&quot;);\n\n        final EnvironmentVariableCredentialsProvider provider = new EnvironmentVariableCredentialsProvider();\n        conf.set(&quot;spark.hadoop.fs.s3a.access.key&quot;, provider.getCredentials().getAWSAccessKeyId());\n        conf.set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, provider.getCredentials().getAWSSecretKey());\n        // we are behind proxy hence set fs.s3a.proxy.host and port as well.\n        return conf;\n    }\n\n    static JavaSparkContext initSparkContext(String appName) {\n        final SparkConf conf = initSparkConf(appName);\n        final JavaSparkContext context = new JavaSparkContext(conf);\n        context.setLogLevel(LogLevel.DEBUG.name());\n        return context;\n    }\n\n    static void processS3Object(final Pair&lt;String, String&gt; s3Pair, final SyslogParser syslogParser, final JavaSparkContext sparkContext) {\n        final String outS3aUrl = &quot;s3a://&quot; + s3Pair.getLeft() + &quot;/out/&quot; + s3Pair.getRight();\n        final String inS3aUrl = &quot;s3a://&quot; + s3Pair.getLeft() + &quot;/&quot; + s3Pair.getRight();\n        sparkContext.textFile(inS3aUrl)\n                .saveAsTextFile(outS3aUrl);\n\n    }\n</code></pre>\n<p>Following the DEBUG log and it shows the Signature is not matching, however I did notice the date sent to AWS is different from my system date. Not sure if that is the issue, if yes not sure how to change it.</p>\n<pre><code>21/11/22 12:09:38 DEBUG AWS4Signer: AWS4 Canonical Request: '&quot;GET\n/asdasd/asdasd.json\n\namz-sdk-invocation-id:b14a016a-a589-b314-536a-a19ad9e3a65c\namz-sdk-request:attempt=14;max=21\namz-sdk-retry:13/19092/372\ncontent-type:application/octet-stream\nhost:temp-bucket.s3.ap-southeast-2.amazonaws.com\nif-match:1f0aa30fff75c3b01269bf3a7e7ad241\nrange:bytes=0-284846\nuser-agent:Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy\nx-amz-content-sha256:UNSIGNED-PAYLOAD\nx-amz-date:20211122T010938Z\n\namz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date\nUNSIGNED-PAYLOAD&quot;\n21/11/22 12:09:38 DEBUG AWS4Signer: AWS4 String to Sign: '&quot;AWS4-HMAC-SHA256\n20211122T010938Z\n20211122/ap-southeast-2/s3/aws4_request\n8a5536b64079a96c3bbb61492d7fb2232f83b0546dcb91cbca8125a182927813&quot;\n21/11/22 12:09:38 DEBUG RequestAddCookies: CookieSpec selected: default\n21/11/22 12:09:38 DEBUG RequestAuthCache: Auth cache not set in the context\n21/11/22 12:09:38 DEBUG PoolingHttpClientConnectionManager: Connection request: [route: {tls}-&gt;http://proxy:3228-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443][total available: 2; route allocated: 1 of 48; total allocated: 2 of 48]\n21/11/22 12:09:38 DEBUG wire: http-outgoing-7 &lt;&lt; &quot;end of stream&quot;\n21/11/22 12:09:38 DEBUG DefaultManagedHttpClientConnection: http-outgoing-7: Close connection\n21/11/22 12:09:38 DEBUG PoolingHttpClientConnectionManager: Connection leased: [id: 8][route: {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443][total available: 1; route allocated: 1 of 48; total allocated: 2 of 48]\n21/11/22 12:09:38 DEBUG MainClientExec: Opening connection {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443\n21/11/22 12:09:38 DEBUG DefaultHttpClientConnectionOperator: Connecting to proxy/10.1.1.1:3128\n21/11/22 12:09:38 DEBUG DefaultHttpClientConnectionOperator: Connection established 10.1.1.2:38250&lt;-&gt;10.1.1.1:3128\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; CONNECT temp-buckets.s3.ap-southeast-2.amazonaws.com:443 HTTP/1.1\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Host: temp-buckets.s3.ap-southeast-2.amazonaws.com\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; User-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_292)\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;CONNECT temp-buckets.s3.ap-southeast-2.amazonaws.com:443 HTTP/1.1[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Host: temp-buckets.s3.ap-southeast-2.amazonaws.com[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;User-Agent: Apache-HttpClient/4.5.13 (Java/1.8.0_292)[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;[\\r][\\n]&quot;\n\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 200 Connection established[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &lt;&lt; HTTP/1.1 200 Connection established\n21/11/22 12:09:38 DEBUG MainClientExec: Tunnel to target created.\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Enabled protocols: [TLSv1.2]\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Enabled cipher suites:[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: socket.getSupportedProtocols(): [TLSv1.3, TLSv1.2, TLSv1.1, TLSv1, SSLv3, SSLv2Hello], socket.getEnabledProtocols(): [TLSv1.2]\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: TLS protocol enabled for SSL handshake: [TLSv1.2, TLSv1.1, TLSv1]\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Starting handshake\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory: Secure session established\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  negotiated protocol: TLSv1.2\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  negotiated cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  peer principal: CN=*.s3-ap-southeast-2.amazonaws.com\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  peer alternative names: [s3-ap-southeast-2.amazonaws.com, *.s3-ap-southeast-2.amazonaws.com, s3.ap-southeast-2.amazonaws.com, *.s3.ap-southeast-2.amazonaws.com, s3.dualstack.ap-southeast-2.amazonaws.com, *.s3.dualstack.ap-southeast-2.amazonaws.com, *.s3.amazonaws.com, *.s3-control.ap-southeast-2.amazonaws.com, s3-control.ap-southeast-2.amazonaws.com, *.s3-control.dualstack.ap-southeast-2.amazonaws.com, s3-control.dualstack.ap-southeast-2.amazonaws.com, *.s3-accesspoint.ap-southeast-2.amazonaws.com, *.s3-accesspoint.dualstack.ap-southeast-2.amazonaws.com, *.s3.ap-southeast-2.vpce.amazonaws.com]\n21/11/22 12:09:38 DEBUG SdkTLSSocketFactory:  issuer principal: CN=pan-d84ofw002-CA\n21/11/22 12:09:38 DEBUG DefaultManagedHttpClientConnection: http-outgoing-8: set socket timeout to 200000\n21/11/22 12:09:38 DEBUG MainClientExec: Executing request GET /folder/filename.json HTTP/1.1\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; GET /folder/filename.json HTTP/1.1\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Host: temp-buckets.s3.ap-southeast-2.amazonaws.com\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; amz-sdk-invocation-id: b14a016a-a589-b314-536a-a19ad9e3a65c\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; amz-sdk-request: attempt=14;max=21\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; amz-sdk-retry: 13/19092/372\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Authorization: AWS4-HMAC-SHA256 Credential=AWSACCESSKEY/20211122/ap-southeast-2/s3/aws4_request, SignedHeaders=amz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date, Signature=72cd72ef9948643604f7ccd460f29cdfa912f1fdde0faa913f84a4425dd43\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Content-Type: application/octet-stream\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; If-Match: 1f0aa30fff75c3b01269bf3a7e7ad241\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Range: bytes=0-284846\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; User-Agent: Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; x-amz-content-sha256: UNSIGNED-PAYLOAD\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; X-Amz-Date: 20211122T010938Z\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Content-Length: 0\n21/11/22 12:09:38 DEBUG headers: http-outgoing-8 &gt;&gt; Connection: Keep-Alive\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;GET /folder/filename.json HTTP/1.1[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Host: temp-buckets.s3.ap-southeast-2.amazonaws.com[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;amz-sdk-invocation-id: b14a016a-a589-b314-536a-a19ad9e3a65c[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;amz-sdk-request: attempt=14;max=21[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;amz-sdk-retry: 13/19092/372[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Authorization: AWS4-HMAC-SHA256 Credential=AWSACCESSKEY/20211122/ap-southeast-2/s3/aws4_request, SignedHeaders=amz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date, Signature=72cd72ef9948643604f7ccd460f29cdfa912f1fdde0faa913f84a4425dd43[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Content-Type: application/octet-stream[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;If-Match: 1f0aa30fff75c3b01269bf3a7e7ad241[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Range: bytes=0-284846[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;User-Agent: Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;x-amz-content-sha256: UNSIGNED-PAYLOAD[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;X-Amz-Date: 20211122T010938Z[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Content-Length: 0[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n21/11/22 12:09:38 DEBUG wire: http-outgoing-8 &gt;&gt; &quot;[\\r][\\n]&quot;\n\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;HTTP/1.1 403 Forbidden[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-request-id: 03D8MX920R4B7Q3Y[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-id-2: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Date: Mon, 22 Nov 2021 01:09:38 GMT[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Server: AmazonS3[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Transfer-Encoding: chunked[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Content-Type: application/xml[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;Connection: keep-alive[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;1036[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; HTTP/1.1 403 Forbidden\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; x-amz-request-id: 03D8MX920R4B7Q3Y\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; x-amz-id-2: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Date: Mon, 22 Nov 2021 01:09:38 GMT\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Server: AmazonS3\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Transfer-Encoding: chunked\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Content-Type: application/xml\n21/11/22 12:09:39 DEBUG headers: http-outgoing-8 &lt;&lt; Connection: keep-alive\n21/11/22 12:09:39 DEBUG MainClientExec: Connection can be kept alive for 60000 MILLISECONDS\n21/11/22 12:09:39 DEBUG ClockSkewAdjuster: Reported server date (from 'Date' header): Mon, 22 Nov 2021 01:09:38 GMT\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;&lt;Error&gt;&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your key and signing method.&lt;/Message&gt;&lt;AWSAccessKeyId&gt;AWSACCESSKEY&lt;/AWSAccessKeyId&gt;&lt;StringToSign&gt;AWS4-HMAC-SHA256[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;20211122T010938Z[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;20211122/ap-southeast-2/s3/aws4_request[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;63ed1dbeae3d1146f51197796c4d3a76736601e30444c91aa306d186426a15ea&lt;/StringToSign&gt;&lt;SignatureProvided&gt;72cd72ef9948643604f7ccd460f29cdfa912f1fdde0faa913f84a4425dd43&lt;/SignatureProvided&gt;&lt;StringToSignBytes&gt;41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 0a 32 30 32 31 31 31 32 32 54 30 31 30 39 33 38 5a 0a 32 30 32 31 31 31 32 32 2f 61 70 2d 73 6f 75 74 68 65 61 73 74 2d 32 2f 73 33 2f 61 77 73 34 5f 72 65 71 75 65 73 74 0a 36 33 65 64 31 64 62 65 61 65 33 64 31 31 34 36 66 35 31 31 39 37 37 39 36 63 34 64 33 61 37 36 37 33 36 36 30 31 65 33 30 34 34 34 63 39 31 61 61 33 30 36 64 31 38 36 34 32 36 61 31 35 65 61&lt;/StringToSignBytes&gt;&lt;CanonicalRequest&gt;GET[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;/folder/filename.json[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-invocation-id:b14a016a-a589-b314-536a-a19ad9e3a65c[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-request:attempt=14;max=21[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-retry:13/19092/372[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;content-type:application/octet-stream[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;host:temp-buckets.s3.ap-southeast-2.amazonaws.com[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;if-match:1f0aa30fff75c3b01269bf3a7e7ad241[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;range:[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;user-agent:Hadoop 3.3.1, aws-sdk-java/1.12.112 Linux/5.4.0-90-generic OpenJDK_64-Bit_Server_VM/25.292-b10 java/1.8.0_292 scala/2.13.5 vendor/Private_Build cfg/retry-mode/legacy[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-content-sha256:UNSIGNED-PAYLOAD[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;x-amz-date:20211122T010938Z[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;amz-sdk-invocation-id;amz-sdk-request;amz-sdk-retry;content-type;host;if-match;range;user-agent;x-amz-content-sha256;x-amz-date[\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;UNSIGNED-PAYLOAD&lt;/CanonicalRequest&gt;&lt;CanonicalRequestBytes&gt;47 45 54 0a 2f 37 6e 65 77 73 2f 65 61 61 38 30 39 64 61 32 31 38 63 37 63 39 32 34 61 31 34 37 37 35 38 31 63 61 39 36 35 39 38 65 62 63 64 38 36 32 33 61 63 63 65 36 36 37 30 64 37 36 31 34 34 30 31 62 33 38 39 62 66 39 30 2e 6a 73 6f 6e 0a 0a 61 6d 7a 2d 73 64 6b 2d 69 6e 76 6f 63 61 74 69 6f 6e 2d 69 64 3a 62 31 34 61 30 31 36 61 2d 61 35 38 39 2d 62 33 31 34 2d 35 33 36 61 2d 61 31 39 61 64 39 65 33 61 36 35 63 0a 61 6d 7a 2d 73 64 6b 2d 72 65 71 75 65 73 74 3a 61 74 74 65 6d 70 74 3d 31 34 3b 6d 61 78 3d 32 31 0a 61 6d 7a 2d 73 64 6b 2d 72 65 74 72 79 3a 31 33 2f 31 39 30 39 32 2f 33 37 32 0a 63 6f 6e 74 65 6e 74 2d 74 79 70 65 3a 61 70 70 6c 69 63 61 74 69 6f 6e 2f 6f 63 74 65 74 2d 73 74 72 65 61 6d 0a 68 6f 73 74 3a 70 72 6f 64 2d 69 63 65 70 69 63 2d 72 61 77 32 70 61 63 73 2e 73 33 2e 61 70 2d 73 6f 75 74 68 65 61 73 74 2d 32 2e 61 6d 61 7a 6f 6e 61 77 73 2e 63 6f 6d 0a 69 66 2d 6d 61 74 63 68 3a 31 66 30 61 61 33 30 66 66 66 37 35 63 33 62 30 31 32 36 39 62 66 33 61 37 65 37 61 64 32 34 31 0a 72 61 6e 67 65 3a 0a 75 73 65 72 2d 61 67 65 6e 74 3a 48 61 64 6f 6f 70 20 33 2e 33 2e 31 2c 20 61 77 73 2d 73 64 6b 2d 6a 61 76 61 2f 31 2e 31 32 2e 31 31 32 20 4c 69 6e 75 78 2f 35 2e 34 2e 30 2d 39 30 2d 67 65 6e 65 72 69 63 20 4f 70 65 6e 4a 44 4b 5f 36 34 2d 42 69 74 5f 53 65 72 76 65 72 5f 56 4d 2f 32 35 2e 32 39 32 2d 62 31 30 20 6a 61 76 61 2f 31 2e 38 2e 30 5f 32 39 32 20 73 63 61 6c 61 2f 32 2e 31 33 2e 35 20 76 65 6e 64 6f 72 2f 50 72 69 76 61 74 65 5f 42 75 69 6c 64 20 63 66 67 2f 72 65 74 72 79 2d 6d 6f 64 65 2f 6c 65 67 61 63 79 0a 78 2d 61 6d 7a 2d 63 6f 6e 74 65 6e 74 2d 73 68 61 32 35 36 3a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44 0a 78 2d 61 6d 7a 2d 64 61 74 65 3a 32 30 32 31 31 31 32 32 54 30 31 30 39 33 38 5a 0a 0a 61 6d 7a 2d 73 64 6b 2d 69 6e 76 6f 63 61 74 69 6f 6e 2d 69 64 3b 61 6d 7a 2d 73 64 6b 2d 72 65 71 75 65 73 74 3b 61 6d 7a 2d 73 64 6b 2d 72 65 74 72 79 3b 63 6f 6e 74 65 6e 74 2d 74 79 70 65 3b 68 6f 73 74 3b 69 66 2d 6d 61 74 63 68 3b 72 61 6e 67 65 3b 75 73 65 72 2d 61 67 65 6e 74 3b 78 2d 61 6d 7a 2d 63 6f 6e 74 65 6e 74 2d 73 68 61 32 35 36 3b 78 2d 61 6d 7a 2d 64 61 74 65 0a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44&lt;/CanonicalRequestBytes&gt;&lt;RequestId&gt;03D8MX920R4B7Q3Y&lt;/RequestId&gt;&lt;HostId&gt;PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCL&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;lD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=&lt;/HostId&gt;&lt;/Error&gt;&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;0[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG wire: http-outgoing-8 &lt;&lt; &quot;[\\r][\\n]&quot;\n21/11/22 12:09:39 DEBUG PoolingHttpClientConnectionManager: Connection [id: 8][route: {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443] can be kept alive for 60.0 seconds\n21/11/22 12:09:39 DEBUG DefaultManagedHttpClientConnection: http-outgoing-8: set socket timeout to 0\n21/11/22 12:09:39 DEBUG PoolingHttpClientConnectionManager: Connection released: [id: 8][route: {tls}-&gt;http://proxy:3128-&gt;https://temp-buckets.s3.ap-southeast-2.amazonaws.com:443][total available: 2; route allocated: 1 of 48; total allocated: 2 of 48]\n21/11/22 12:09:39 DEBUG request: Received error response: com.amazonaws.services.s3.model.AmazonS3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method. (Service: Amazon S3; Status Code: 403; Error Code: SignatureDoesNotMatch; Request ID: 03D8MX920R4B7Q3Y; S3 Extended Request ID: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=; Proxy: proxy), S3 Extended Request ID: PIOL/VOfyuExRB2FLPovEO104N66SQfe+fx3nCLlD5k51KsOe7m3un6LJUO+9UNCsWEMB/ydGeo=\n21/11/22 12:09:39 DEBUG ClockSkewAdjuster: Reported server date (from 'Date' header): Mon, 22 Nov 2021 01:09:38 GMT\n</code></pre>\n<p><strong>UPDATES</strong></p>\n<p>After @stevel comments, confirmed the properties with the hadoop documentation and updated the code. Still getting the same issue.</p>\n<p>We keep trying to figure the issue out, may be its because of the corporate proxy. Will update once I resolve this issue.</p>\n<p>Stacktrace after changes</p>\n<pre><code>Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: The request signature we calculated does not match the signature you provided. Check your key and signing method. (Service: Amazon S3; Status Code: 403; Error Code: SignatureDoesNotMatch; Request ID: D26Z2QHKMBK110Q5; S3 Extended Request ID: 9MZ5uIB1P6HUEaBWrIqkxfUm8ftWPclkkQ8EFOffsWacj3Ki6U6koSmHt3d55n/ItS34bmUGU3I=; Proxy: jailbird.cp.pacs), S3 Extended Request ID: 9MZ5uIB1P6HUEaBWrIqkxfUm8ftWPclkkQ8EFOffsWacj3Ki6U6koSmHt3d55n/ItS34bmUGU3I=\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1828)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1412)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1374)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5227)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5173)\n    at com.amazonaws.services.s3.AmazonS3Client.getObject(AmazonS3Client.java:1512)\n    at org.apache.hadoop.fs.s3a.S3AInputStream.lambda$reopen$0(S3AInputStream.java:227)\n    at org.apache.hadoop.fs.s3a.Invoker.once(Invoker.java:115)\n    ... 37 more\n</code></pre>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":58163,"reputation":14165,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":0,"creation_date":1408269343,"post_id":25348121,"comment_id":39519924,"body_markdown":"You could maintain a static map of time(s) in different TZ(s). Calculate the difference on the fly. You won&#39;t have to create new dates on runtime.","body":"You could maintain a static map of time(s) in different TZ(s). Calculate the difference on the fly. You won&#39;t have to create new dates on runtime."},{"owner":{"account_id":3292987,"reputation":11366,"user_id":2770850,"accept_rate":85,"display_name":"Nabin"},"score":0,"creation_date":1408269675,"post_id":25348121,"comment_id":39519982,"body_markdown":"@TJ- Please answer with example","body":"@TJ- Please answer with example"},{"owner":{"account_id":58163,"reputation":14165,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":0,"creation_date":1408269794,"post_id":25348121,"comment_id":39519998,"body_markdown":"@Nabin I can, but this is not exactly what the OP is looking for. OP wants something from JodaTime. My comment is a suggestion.","body":"@Nabin I can, but this is not exactly what the OP is looking for. OP wants something from JodaTime. My comment is a suggestion."},{"owner":{"account_id":1698705,"reputation":93,"user_id":1559427,"accept_rate":67,"display_name":"fyeth fyeth"},"score":1,"creation_date":1408269871,"post_id":25348121,"comment_id":39520007,"body_markdown":"Problem with that is when there is a dst change, need to manually change the map again.","body":"Problem with that is when there is a dst change, need to manually change the map again."},{"owner":{"display_name":"user1596371"},"score":0,"creation_date":1408362092,"post_id":25348121,"comment_id":39545761,"body_markdown":"This sounds like an XY problem: what problem are you trying to solve by obtaining this information?  It could well be that Joda can solve your actual issue without requiring you to keep track of this information.","body":"This sounds like an XY problem: what problem are you trying to solve by obtaining this information?  It could well be that Joda can solve your actual issue without requiring you to keep track of this information."},{"owner":{"account_id":1698705,"reputation":93,"user_id":1559427,"accept_rate":67,"display_name":"fyeth fyeth"},"score":0,"creation_date":1408942593,"post_id":25348121,"comment_id":39764614,"body_markdown":"@jgm too long for comment so I answered above.","body":"@jgm too long for comment so I answered above."},{"owner":{"display_name":"user1596371"},"score":0,"creation_date":1408958709,"post_id":25348121,"comment_id":39770738,"body_markdown":"Joda will happy work with different timezones so it sounds like an issue with your code where you are translating from user input to datetime, or when storing/retrieving data in the database.  If you post some code where you carry out the above operations someone should be able to point out where you are going wrong.","body":"Joda will happy work with different timezones so it sounds like an issue with your code where you are translating from user input to datetime, or when storing/retrieving data in the database.  If you post some code where you carry out the above operations someone should be able to point out where you are going wrong."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640216442,"post_id":25348121,"comment_id":124545747,"body_markdown":"FYI, the [*Joda-Time*](https://www.joda.org/joda-time/) project is now in maintenance-mode. Its creator, [Stephen Colebourne](https://stackoverflow.com/users/38896/jodastephen), went on with lessons learned to lead the [JSR 310](https://jcp.org/en/jsr/detail?id=310) project, whose [*java.time*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html) classes are now built into Java 8 and later.","body":"FYI, the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><i>Joda-Time</i></a> project is now in maintenance-mode. Its creator, <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a>, went on with lessons learned to lead the <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a> project, whose <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes are now built into Java 8 and later."}],"answers":[{"tags":[],"owner":{"account_id":400023,"reputation":1753,"user_id":765762,"display_name":"Rajeev Sreedharan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408271809,"creation_date":1408271809,"answer_id":25348423,"question_id":25348121,"body_markdown":"I&#39;m not sure if I understood your question correctly. Are you trying to get offsets of different timezone without using any additional API?\r\n\r\nBelow code will do that using plain Java:\r\n\r\n\tString[] ids = TimeZone.getAvailableIDs();\r\n\tHashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n\tfor (String id : ids) {\r\n\t\tTimeZone tz = TimeZone.getTimeZone(id);\r\n\t\tmap.put(id, tz.getOffset(new Date().getTime()) / 1000 / 60); //in minutes\r\n\t}\r\n\tSystem.out.println(map.toString());","title":"Jodatime time difference between 2 timezones","body":"<p>I'm not sure if I understood your question correctly. Are you trying to get offsets of different timezone without using any additional API?</p>\n\n<p>Below code will do that using plain Java:</p>\n\n<pre><code>String[] ids = TimeZone.getAvailableIDs();\nHashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\nfor (String id : ids) {\n    TimeZone tz = TimeZone.getTimeZone(id);\n    map.put(id, tz.getOffset(new Date().getTime()) / 1000 / 60); //in minutes\n}\nSystem.out.println(map.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23724032,"reputation":1,"user_id":17744202,"display_name":"Burk Royer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640212593,"creation_date":1640212449,"answer_id":70455822,"question_id":25348121,"body_markdown":"```\r\nprivate final static int tzDiff = TimeZone.getDefault().getRawOffset() - TimeZone.getTimeZone(&quot;America/New_York&quot;).getRawOffset();\r\n```","title":"Jodatime time difference between 2 timezones","body":"<pre><code>private final static int tzDiff = TimeZone.getDefault().getRawOffset() - TimeZone.getTimeZone(&quot;America/New_York&quot;).getRawOffset();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640217243,"creation_date":1640214434,"answer_id":70456051,"question_id":25348121,"body_markdown":"# *Joda-Time* in maintenance mode\r\n\r\nSince you asked your Question, the creator of *Joda-Time* went on to lead JSR 310 to bring a new set of date-time classes to Java. Those classes arrived in Java 8. \r\n\r\nSince then, the *Joda-Time* project was put into maintenance mode, with the project recommending migration to *java.time*. \r\n\r\n# Comparing time zones requires a moment\r\n\r\n&gt;get the time difference between 2 timezones without inputing any datetime.\r\n\r\nThat makes no sense. You must specify a moment, a point on the time line, to compare offsets in effect in two different time zones. \r\n\r\nUnderstand that an [offset][1] is merely a number of hours-minutes-seconds ahead or behind the prime meridian of time-keeping, [UTC][2].\r\n\r\nA [time zone][3] is much more. A time zone is a history of the past, present, and future changes to the offset in use by the people of a particular region as decided by their politicians.\r\n\r\nBy definition, the offset in use varies over time for any particular time zone. So it makes no sense to attempt a comparison of time zones without a specific point in time.\r\n\r\n&gt;What I am doing right now, is make a temporary date (midnight) from one of the timezone then convert to utz and then convert again to the other timezone and then compute the duration of the two. \r\n\r\nI am not sure of your goal, but here is code for doing something similar.\r\n\r\nSpecify your pair of time zones in which you are interested.\r\n\r\n    ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n\r\nSpecify a date.\r\n\r\n    LocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\r\n\r\nDetermine when the day of that date begins in Tokyo time zone. Do not assume the day starts at 00:00. Some dates in some zones may start at a different time. Let *java.time* determine the first moment of the day.\r\n\r\n    ZonedDateTime firstMomentOfDayTokyo = ld.atStartOfDay( zTokyo ) ;\r\n\r\nAdjust to see that some moment as it looks in the wall-clock time of Edmonton Alberta Canada.\r\n\r\n    ZonedDateTime zdtEdmonton = firstMomentOfDayTokyo.atZoneSameInstant( zEdmonton ) ;\r\n\r\nSee that same moment again with an offset of zero by extracting an `Instant` object.\r\n\r\n    Instant instant = firstMomentOfDayTokyo.toInstant() ;\r\n\r\nHere is the crucial point to understand: `firstMomentOfDayTokyo`, `zdtEdmonton`, and `instant` all represent **the very same moment**, the simultaneous same point on the time line. Imagine three people in a conference call originating from Japan, Canada, and Iceland (where their time zone is always zero offset). If they all simultaneously looked up at the clock hanging on their respective wall, they would all see different local time-of-day yet be experiencing the same simultaneous moment.\r\n\r\nNow that we have an [`Instant`][4] object in hand, we can proceed to solving your challenge: Getting the offset in use for each of those two time zones.\r\n\r\nFetch the time zone rules for each.\r\n\r\n    ZoneRules rulesTokyo = zTokyo.getRules() ;\r\n    ZoneRules rulesEdmonton = zEdmonton.getRules() ;\r\n\r\nGet the offset in effect in each zone at that moment. Notice the use of [`ZoneOffset`][5] class here rather than [`ZoneId`][6]. \r\n\r\n    ZoneOffset offsetTokyo = rulesTokyo.getOffset( instant ) ;\r\n    ZoneOffset offsetEdmonton = rulesEdmonton.getOffset( instant ) ;\r\n\r\nCalculate the difference between each zone.\r\n\r\n    Duration d = Duration.ofSeconds( offsetTokyo.getTotalSeconds() - offsetEdmonton.getTotalSeconds() ) ;\r\n\r\nBut this offset comparisons between time zones is *not* the best solution to your underlying problem. Read on for a better solution.\r\n\r\n# Querying database for a day\r\n\r\nYou said:\r\n\r\n&gt; server is on diff. timezone\r\n\r\nYou should always do your Java programming is such a way as to not be affected by the current default time zone of your servers. Always specify the otherwise optional time zone (or offset) arguments to the various date-time related Java methods.\r\n\r\n\r\n&gt; save in the db in utc\r\n\r\nGood. It is generally best to store moments after adjusting to UTC. Some relational databases such as Postgres make such an adjustment when receiving inputs to a column of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`. \r\n\r\nRetrieve such a value in JDBC 4.2 and later using *java.time* classes.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nWrite such a value to the database.\r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nYou said:\r\n\r\n&gt;problem arise when the client request a transaction history in a certain date. It seems it is not a simple conversion of the requested date (client timezone) to utc, I need to add the time difference of the server timezone and the client timezone to the converted utc time to get the correct date. \r\n\r\nNo, not the best approach. You are thinking in terms of local time zones. \r\n\r\nWhen you go to work as a programmer, DBA, or system-admin, you should forget about your local time zone. Learn to think in UTC, with an offset of zero. Logging, data storage, data exchange, and most of your business logic should all be done in UTC. Keep a second clock on your desk set to UTC; I’m serious, your life will be easier.\r\n\r\nAs an example, let&#39;s say your user wants to query for all records with a timestamp the occurred at some point during one full day as seen in Tokyo Japan.\r\n\r\nTo query for a day&#39;s worth of records, do much the same as we saw above. There we got the first moment of the day in Tokyo. \r\n\r\n    ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    LocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\r\n    ZonedDateTime firstMomentOfDayTokyo = ld.atStartOfDay( zTokyo ) ;\r\n\r\nThat is the beginning of the span of time (a day) over which we want to query.\r\n\r\nGenerally best to define a span of time using Half-Open approach. In this approach the beginning is *inclusive* while the ending is *exclusive*. So a day starts at first moment of a date and runs up to, but does not include, the first moment of the *following* date.\r\n\r\n    ZonedDateTime firstMomentOfFollowingDayTokyo = ld.plusDays( 1 ).atStartOfDay( zTokyo ) ;\r\n\r\nThe [`OffsetDateTime`][7] is the class that maps to the `TIMESTAMP WITH TIME ZONE` type defined in standard SQL. So extract a `OffsetDateTime` from each.\r\n\r\n    OffsetDateTime start = firstMomentOfDayTokyo.toOffsetDateTime() ;\r\n    OffsetDateTime end = firstMomentOfFollowingDayTokyo.toOffsetDateTime() ;\r\n\r\nWrite your SQL like this:\r\n\r\n```sql\r\nSELECT *\r\nFROM event_\r\nWHERE when_ &gt;= ?\r\nAND when_ &lt; ?\r\n;\r\n```\r\n\r\nDo *not* use the SQL command `BETWEEN` for this work. That command is Fully-Closed rather than Half-Open.\r\n\r\nIn JDBC:\r\n\r\n    myPreparedStatement.setObject( 1 , start ) ;\r\n    myPreparedStatement.setObject( 2 , end ) ;\r\n\r\nKeep in mind that a full day in a particular time zone is *not* necessarily 24-hours long. A day may be 23, 23.5, 25, or some other number of hours long because of anomalies in political time such as [Daylight Saving Time (DST)][8]. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: https://en.wikipedia.org/wiki/Time_zone\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [8]: https://en.wikipedia.org/wiki/Daylight_saving_time","title":"Jodatime time difference between 2 timezones","body":"<h1><em>Joda-Time</em> in maintenance mode</h1>\n<p>Since you asked your Question, the creator of <em>Joda-Time</em> went on to lead JSR 310 to bring a new set of date-time classes to Java. Those classes arrived in Java 8.</p>\n<p>Since then, the <em>Joda-Time</em> project was put into maintenance mode, with the project recommending migration to <em>java.time</em>.</p>\n<h1>Comparing time zones requires a moment</h1>\n<blockquote>\n<p>get the time difference between 2 timezones without inputing any datetime.</p>\n</blockquote>\n<p>That makes no sense. You must specify a moment, a point on the time line, to compare offsets in effect in two different time zones.</p>\n<p>Understand that an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset</a> is merely a number of hours-minutes-seconds ahead or behind the prime meridian of time-keeping, <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>.</p>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a> is much more. A time zone is a history of the past, present, and future changes to the offset in use by the people of a particular region as decided by their politicians.</p>\n<p>By definition, the offset in use varies over time for any particular time zone. So it makes no sense to attempt a comparison of time zones without a specific point in time.</p>\n<blockquote>\n<p>What I am doing right now, is make a temporary date (midnight) from one of the timezone then convert to utz and then convert again to the other timezone and then compute the duration of the two.</p>\n</blockquote>\n<p>I am not sure of your goal, but here is code for doing something similar.</p>\n<p>Specify your pair of time zones in which you are interested.</p>\n<pre><code>ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZoneId zEdmonton = ZoneId.of( &quot;America/Edmonton&quot; ) ;\n</code></pre>\n<p>Specify a date.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\n</code></pre>\n<p>Determine when the day of that date begins in Tokyo time zone. Do not assume the day starts at 00:00. Some dates in some zones may start at a different time. Let <em>java.time</em> determine the first moment of the day.</p>\n<pre><code>ZonedDateTime firstMomentOfDayTokyo = ld.atStartOfDay( zTokyo ) ;\n</code></pre>\n<p>Adjust to see that some moment as it looks in the wall-clock time of Edmonton Alberta Canada.</p>\n<pre><code>ZonedDateTime zdtEdmonton = firstMomentOfDayTokyo.atZoneSameInstant( zEdmonton ) ;\n</code></pre>\n<p>See that same moment again with an offset of zero by extracting an <code>Instant</code> object.</p>\n<pre><code>Instant instant = firstMomentOfDayTokyo.toInstant() ;\n</code></pre>\n<p>Here is the crucial point to understand: <code>firstMomentOfDayTokyo</code>, <code>zdtEdmonton</code>, and <code>instant</code> all represent <strong>the very same moment</strong>, the simultaneous same point on the time line. Imagine three people in a conference call originating from Japan, Canada, and Iceland (where their time zone is always zero offset). If they all simultaneously looked up at the clock hanging on their respective wall, they would all see different local time-of-day yet be experiencing the same simultaneous moment.</p>\n<p>Now that we have an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> object in hand, we can proceed to solving your challenge: Getting the offset in use for each of those two time zones.</p>\n<p>Fetch the time zone rules for each.</p>\n<pre><code>ZoneRules rulesTokyo = zTokyo.getRules() ;\nZoneRules rulesEdmonton = zEdmonton.getRules() ;\n</code></pre>\n<p>Get the offset in effect in each zone at that moment. Notice the use of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\"><code>ZoneOffset</code></a> class here rather than <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a>.</p>\n<pre><code>ZoneOffset offsetTokyo = rulesTokyo.getOffset( instant ) ;\nZoneOffset offsetEdmonton = rulesEdmonton.getOffset( instant ) ;\n</code></pre>\n<p>Calculate the difference between each zone.</p>\n<pre><code>Duration d = Duration.ofSeconds( offsetTokyo.getTotalSeconds() - offsetEdmonton.getTotalSeconds() ) ;\n</code></pre>\n<p>But this offset comparisons between time zones is <em>not</em> the best solution to your underlying problem. Read on for a better solution.</p>\n<h1>Querying database for a day</h1>\n<p>You said:</p>\n<blockquote>\n<p>server is on diff. timezone</p>\n</blockquote>\n<p>You should always do your Java programming is such a way as to not be affected by the current default time zone of your servers. Always specify the otherwise optional time zone (or offset) arguments to the various date-time related Java methods.</p>\n<blockquote>\n<p>save in the db in utc</p>\n</blockquote>\n<p>Good. It is generally best to store moments after adjusting to UTC. Some relational databases such as Postgres make such an adjustment when receiving inputs to a column of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<p>Retrieve such a value in JDBC 4.2 and later using <em>java.time</em> classes.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Write such a value to the database.</p>\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>problem arise when the client request a transaction history in a certain date. It seems it is not a simple conversion of the requested date (client timezone) to utc, I need to add the time difference of the server timezone and the client timezone to the converted utc time to get the correct date.</p>\n</blockquote>\n<p>No, not the best approach. You are thinking in terms of local time zones.</p>\n<p>When you go to work as a programmer, DBA, or system-admin, you should forget about your local time zone. Learn to think in UTC, with an offset of zero. Logging, data storage, data exchange, and most of your business logic should all be done in UTC. Keep a second clock on your desk set to UTC; I’m serious, your life will be easier.</p>\n<p>As an example, let's say your user wants to query for all records with a timestamp the occurred at some point during one full day as seen in Tokyo Japan.</p>\n<p>To query for a day's worth of records, do much the same as we saw above. There we got the first moment of the day in Tokyo.</p>\n<pre><code>ZoneId zTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nLocalDate ld = LocalDate.of( 2022 , Month.JANUARY , 23 ) ;\nZonedDateTime firstMomentOfDayTokyo = ld.atStartOfDay( zTokyo ) ;\n</code></pre>\n<p>That is the beginning of the span of time (a day) over which we want to query.</p>\n<p>Generally best to define a span of time using Half-Open approach. In this approach the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a day starts at first moment of a date and runs up to, but does not include, the first moment of the <em>following</em> date.</p>\n<pre><code>ZonedDateTime firstMomentOfFollowingDayTokyo = ld.plusDays( 1 ).atStartOfDay( zTokyo ) ;\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> is the class that maps to the <code>TIMESTAMP WITH TIME ZONE</code> type defined in standard SQL. So extract a <code>OffsetDateTime</code> from each.</p>\n<pre><code>OffsetDateTime start = firstMomentOfDayTokyo.toOffsetDateTime() ;\nOffsetDateTime end = firstMomentOfFollowingDayTokyo.toOffsetDateTime() ;\n</code></pre>\n<p>Write your SQL like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM event_\nWHERE when_ &gt;= ?\nAND when_ &lt; ?\n;\n</code></pre>\n<p>Do <em>not</em> use the SQL command <code>BETWEEN</code> for this work. That command is Fully-Closed rather than Half-Open.</p>\n<p>In JDBC:</p>\n<pre><code>myPreparedStatement.setObject( 1 , start ) ;\nmyPreparedStatement.setObject( 2 , end ) ;\n</code></pre>\n<p>Keep in mind that a full day in a particular time zone is <em>not</em> necessarily 24-hours long. A day may be 23, 23.5, 25, or some other number of hours long because of anomalies in political time such as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>.</p>\n"}],"owner":{"account_id":1698705,"reputation":93,"user_id":1559427,"accept_rate":67,"display_name":"fyeth fyeth"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1640217243,"creation_date":1408269160,"question_id":25348121,"body_markdown":"What api do I have to use to get the time difference between 2 timezones without inputing any datetime.\r\n\r\nWhat I am doing right now, is make a temporary date (midnight) from one of the timezone then convert to utz and then convert again to the other timezone and then compute the duration of the two. It is working but is there a simpler api to get the time difference by just giving the name of the zones?\r\n\r\nToo long for comment, so I put it here.\r\nserver is on diff. timezone, data/informations come from clients from different timezones and save in the db in utc. Problem arise when the client request a transaction history in a certain date. It seems it is not a simple conversion of the requested date (client timezone) to utc, I need to add the time difference of the server timezone and the client timezone to the converted utc time to get the correct date. (so i do it like I said above). Now I found out that the time difference should be added or subtracted, depending on whos timezone is ahead. Well anyway thanks for everybody&#39;s inputs. Need the project to run asap so they decided to use just one timezone for the meantime. Implemented or not I will seek a solution to this for future projects. :)\r\n","title":"Jodatime time difference between 2 timezones","body":"<p>What api do I have to use to get the time difference between 2 timezones without inputing any datetime.</p>\n\n<p>What I am doing right now, is make a temporary date (midnight) from one of the timezone then convert to utz and then convert again to the other timezone and then compute the duration of the two. It is working but is there a simpler api to get the time difference by just giving the name of the zones?</p>\n\n<p>Too long for comment, so I put it here.\nserver is on diff. timezone, data/informations come from clients from different timezones and save in the db in utc. Problem arise when the client request a transaction history in a certain date. It seems it is not a simple conversion of the requested date (client timezone) to utc, I need to add the time difference of the server timezone and the client timezone to the converted utc time to get the correct date. (so i do it like I said above). Now I found out that the time difference should be added or subtracted, depending on whos timezone is ahead. Well anyway thanks for everybody's inputs. Need the project to run asap so they decided to use just one timezone for the meantime. Implemented or not I will seek a solution to this for future projects. :)</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"score":1,"creation_date":1640214044,"post_id":70455951,"comment_id":124545294,"body_markdown":"Looks like you need some fuzzy matching","body":"Looks like you need some fuzzy matching"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640214070,"post_id":70455951,"comment_id":124545303,"body_markdown":"Split `ENG` into words and count how many are contained, perhaps?","body":"Split <code>ENG</code> into words and count how many are contained, perhaps?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1640215027,"post_id":70455951,"comment_id":124545508,"body_markdown":"Hi &amp; Welcome! Please first *define* &quot;matches more than 60% to the answer&quot; ... how many percent matches &quot;eng&quot; with &quot;gne&quot; (e.g) ? :)  (100? 0? 50??:)","body":"Hi &amp; Welcome! Please first <i>define</i> &quot;matches more than 60% to the answer&quot; ... how many percent matches &quot;eng&quot; with &quot;gne&quot; (e.g) ? :)  (100? 0? 50??:)"},{"owner":{"account_id":23724061,"reputation":13,"user_id":17744227,"display_name":"TheGoat27"},"score":1,"creation_date":1640215036,"post_id":70455951,"comment_id":124545511,"body_markdown":"Sorry i wrote a little bit wrong, ENG contains just one word. I meant to say if the userinput is missing one CHAR then it doesnt recognize it. Like the example above, writing Footbol prints out &quot;Wrong&quot; when it should say Almost Correct. But if the user inputs Footballs then it says Almost correct, as it finds the word Football and the S is just additional. If you understand what i mean. And it doesnt have to be 60% just as long as the majority of CHAR matches with The word in ENG.","body":"Sorry i wrote a little bit wrong, ENG contains just one word. I meant to say if the userinput is missing one CHAR then it doesnt recognize it. Like the example above, writing Footbol prints out &quot;Wrong&quot; when it should say Almost Correct. But if the user inputs Footballs then it says Almost correct, as it finds the word Football and the S is just additional. If you understand what i mean. And it doesnt have to be 60% just as long as the majority of CHAR matches with The word in ENG."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":2,"creation_date":1640215065,"post_id":70455951,"comment_id":124545516,"body_markdown":"Would soundex answer your needs?  https://stackoverflow.com/questions/43275987/implementing-soundex-in-java","body":"Would soundex answer your needs?  <a href=\"https://stackoverflow.com/questions/43275987/implementing-soundex-in-java\" title=\"implementing soundex in java\">stackoverflow.com/questions/43275987/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640216552,"creation_date":1640216552,"answer_id":70456265,"question_id":70455951,"body_markdown":"This code is certainly not perfect, but it basically compares the Strings and saves how many characters matched the corresponding character in the other String. This of course leads to it not really working that well with different sized Strings, as it will treat everything after the missing letter as false (unless it matches the character by chance). But maybe it helps regardless:\r\n```\r\nString match = &quot;example&quot;;\r\nString input = &quot;exnaplr&quot;;\r\nint smaller;\r\nif (match.length() &lt; input.length())\r\n\tsmaller = match.length(); else smaller = input.length();\r\nint correct = 0;\r\nfor (int i = 0; i &lt; smaller; i++) {\r\n\tif (match.charAt(i) == input.charAt(i)) correct++;\r\n}\r\nint percentage = (int) ((double) correct / match.length() * 100);\r\n\r\nSystem.out.println(&quot;Input was &quot; + percentage + &quot;% correct!&quot;);\r\n```","title":"Java - Check if user input partialy matches another string?","body":"<p>This code is certainly not perfect, but it basically compares the Strings and saves how many characters matched the corresponding character in the other String. This of course leads to it not really working that well with different sized Strings, as it will treat everything after the missing letter as false (unless it matches the character by chance). But maybe it helps regardless:</p>\n<pre><code>String match = &quot;example&quot;;\nString input = &quot;exnaplr&quot;;\nint smaller;\nif (match.length() &lt; input.length())\n    smaller = match.length(); else smaller = input.length();\nint correct = 0;\nfor (int i = 0; i &lt; smaller; i++) {\n    if (match.charAt(i) == input.charAt(i)) correct++;\n}\nint percentage = (int) ((double) correct / match.length() * 100);\n\nSystem.out.println(&quot;Input was &quot; + percentage + &quot;% correct!&quot;);\n</code></pre>\n"}],"owner":{"account_id":23724061,"reputation":13,"user_id":17744227,"display_name":"TheGoat27"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70456265,"answer_count":1,"score":1,"last_activity_date":1640216552,"creation_date":1640213524,"question_id":70455951,"body_markdown":"I have a problem where i want to see if the input user has enterd partially matches, or as long as majority matches with the answer, if it does then it should print out &quot;Almost correct&quot;.\r\nFor example lets say the answer is Football, but user instead puts in Footbol. It should then print out Almost correct. \r\n\r\nhere is what i tried. But the problem is that it just checks if the whole word is containd in ENG otherwise if even one Char is missing it doesnt work.\r\n\r\n         if (Answer.equalsIgnoreCase(ENG)){\r\n            r = &quot;Correct&quot;;\r\n        }\r\n        else if (Answer.toLowerCase().contains(ENG.toLowerCase().)){\r\n            r = &quot;Almost correct&quot;;\r\n        }\r\n        else {\r\n            r = &quot;Wrong&quot;;\r\n        }\r\n        System.out.println(r)\r\n\r\n\r\n","title":"Java - Check if user input partialy matches another string?","body":"<p>I have a problem where i want to see if the input user has enterd partially matches, or as long as majority matches with the answer, if it does then it should print out &quot;Almost correct&quot;.\nFor example lets say the answer is Football, but user instead puts in Footbol. It should then print out Almost correct.</p>\n<p>here is what i tried. But the problem is that it just checks if the whole word is containd in ENG otherwise if even one Char is missing it doesnt work.</p>\n<pre><code>     if (Answer.equalsIgnoreCase(ENG)){\n        r = &quot;Correct&quot;;\n    }\n    else if (Answer.toLowerCase().contains(ENG.toLowerCase().)){\n        r = &quot;Almost correct&quot;;\n    }\n    else {\n        r = &quot;Wrong&quot;;\n    }\n    System.out.println(r)\n</code></pre>\n"},{"tags":["java","ssh","jsch","pythonanywhere","ssh-tunnel"],"answers":[{"tags":[],"owner":{"account_id":10913096,"reputation":67,"user_id":8021807,"display_name":"Szejder"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1578253004,"creation_date":1578253004,"answer_id":59603531,"question_id":59603213,"body_markdown":"Ok,\r\n\r\nIt seems that adding:\r\n```\r\njava.util.Properties config = new java.util.Properties(); config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\nsession.setConfig(config);\r\n```\r\nhelped to solve the Exception.","title":"&quot;JSchException: reject HostKey&quot; when connecting to SSH server from Java using JSch","body":"<p>Ok,</p>\n\n<p>It seems that adding:</p>\n\n<pre><code>java.util.Properties config = new java.util.Properties(); config.put(\"StrictHostKeyChecking\", \"no\");\nsession.setConfig(config);\n</code></pre>\n\n<p>helped to solve the Exception.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1578295481,"creation_date":1578258475,"answer_id":59604207,"question_id":59603213,"body_markdown":"JSch fails to verify SSH server host key.\r\n\r\n* Either your host key repository contains a different host key.\r\n\r\n* Or JSch tries to prompt user to verify the host key manually by calling `UserInfo.promptYesNo`. And as your implementation returns `false`, the host key is rejected.\r\n\r\n---\r\n\r\nFor a correct way to verify the host key, see:  \r\nhttps://stackoverflow.com/q/32852906/850848\r\n\r\n---\r\n\r\n*Note that even in PuTTY you must have verified the host key on the first connection.*\r\n","title":"&quot;JSchException: reject HostKey&quot; when connecting to SSH server from Java using JSch","body":"<p>JSch fails to verify SSH server host key.</p>\n\n<ul>\n<li><p>Either your host key repository contains a different host key.</p></li>\n<li><p>Or JSch tries to prompt user to verify the host key manually by calling <code>UserInfo.promptYesNo</code>. And as your implementation returns <code>false</code>, the host key is rejected.</p></li>\n</ul>\n\n<hr>\n\n<p>For a correct way to verify the host key, see:<br>\n<a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a></p>\n\n<hr>\n\n<p><em>Note that even in PuTTY you must have verified the host key on the first connection.</em></p>\n"},{"tags":[],"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1605873686,"creation_date":1605873686,"answer_id":64929097,"question_id":59603213,"body_markdown":"Start you application once with\r\n\r\n    sftp.strictHostKeyChecking=no\r\n\r\nthis will add the key in known_hosts, after that you can switch it back to `yes`\r\n\r\n","title":"&quot;JSchException: reject HostKey&quot; when connecting to SSH server from Java using JSch","body":"<p>Start you application once with</p>\n<pre><code>sftp.strictHostKeyChecking=no\n</code></pre>\n<p>this will add the key in known_hosts, after that you can switch it back to <code>yes</code></p>\n"},{"tags":[],"owner":{"account_id":7808591,"reputation":138,"user_id":5905613,"display_name":"linus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640216095,"creation_date":1640216095,"answer_id":70456229,"question_id":59603213,"body_markdown":"FWIW, in my case, using jsch to programatically ssh in to another machine, even though I was using username/password credentials, I had to have both the key added by a manual ssh username/pw login (type ecdsa-sha2-nistp256), and the one added when using an rsa key-based login (type ssh-rsa).","title":"&quot;JSchException: reject HostKey&quot; when connecting to SSH server from Java using JSch","body":"<p>FWIW, in my case, using jsch to programatically ssh in to another machine, even though I was using username/password credentials, I had to have both the key added by a manual ssh username/pw login (type ecdsa-sha2-nistp256), and the one added when using an rsa key-based login (type ssh-rsa).</p>\n"}],"owner":{"account_id":10913096,"reputation":67,"user_id":8021807,"display_name":"Szejder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13249,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1640216095,"creation_date":1578250842,"question_id":59603213,"body_markdown":"I try to establish a connection with MySQL base in PythonAnywhere using SSH in my Java program according to instruction:  \r\nhttps://help.pythonanywhere.com/pages/AccessingMySQLFromOutsidePythonAnywhere\r\n\r\nUnfortunately, I get this error every time and I am running out of ideas:\r\n\r\n&gt; com.jcraft.jsch.JSchException: reject HostKey: ssh.pythonanywhere.com\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Tunnel tunnel = new Tunnel();\r\n    try {\r\n        tunnel.go();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\npublic void go() throws Exception {\r\n    String host = &quot;ssh.pythonanywhere.com&quot;;\r\n    String user = &quot;username&quot;;\r\n    String password = &quot;password&quot;;\r\n    int port = 22;\r\n\r\n    int tunnelLocalPort = 9080;\r\n    String tunnelRemoteHost = &quot;username.mysql.pythonanywhere-services.com&quot;;\r\n    int tunnelRemotePort = 3306;\r\n\r\n    JSch jsch= new JSch();\r\n    Session session = jsch.getSession(user,host,port);\r\n    localUserInfo lui = new localUserInfo();\r\n    session.setPassword(password);\r\n    session.setUserInfo(lui);\r\n    session.connect();\r\n    session.setPortForwardingL(tunnelLocalPort,tunnelRemoteHost,tunnelRemotePort);\r\n    System.out.println(&quot;Connecting&quot;);\r\n}\r\n\r\nclass localUserInfo implements UserInfo {\r\n    String passwd;\r\n\r\n    @Override\r\n    public String getPassphrase() {return null; }\r\n\r\n    @Override\r\n    public String getPassword() { return null; }\r\n\r\n    @Override\r\n    public boolean promptPassword(String s) { return false; }\r\n\r\n    @Override\r\n    public boolean promptPassphrase(String s) { return false; }\r\n\r\n    @Override\r\n    public boolean promptYesNo(String s) { return false; }\r\n\r\n    @Override\r\n    public void showMessage(String s) {}\r\n}\r\n```\r\nI successfully connected using PuTTY but cannot get my program working.","title":"&quot;JSchException: reject HostKey&quot; when connecting to SSH server from Java using JSch","body":"<p>I try to establish a connection with MySQL base in PythonAnywhere using SSH in my Java program according to instruction:<br>\n<a href=\"https://help.pythonanywhere.com/pages/AccessingMySQLFromOutsidePythonAnywhere\" rel=\"nofollow noreferrer\">https://help.pythonanywhere.com/pages/AccessingMySQLFromOutsidePythonAnywhere</a></p>\n\n<p>Unfortunately, I get this error every time and I am running out of ideas:</p>\n\n<blockquote>\n  <p>com.jcraft.jsch.JSchException: reject HostKey: ssh.pythonanywhere.com</p>\n</blockquote>\n\n<pre><code>public static void main(String[] args) {\n    Tunnel tunnel = new Tunnel();\n    try {\n        tunnel.go();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic void go() throws Exception {\n    String host = \"ssh.pythonanywhere.com\";\n    String user = \"username\";\n    String password = \"password\";\n    int port = 22;\n\n    int tunnelLocalPort = 9080;\n    String tunnelRemoteHost = \"username.mysql.pythonanywhere-services.com\";\n    int tunnelRemotePort = 3306;\n\n    JSch jsch= new JSch();\n    Session session = jsch.getSession(user,host,port);\n    localUserInfo lui = new localUserInfo();\n    session.setPassword(password);\n    session.setUserInfo(lui);\n    session.connect();\n    session.setPortForwardingL(tunnelLocalPort,tunnelRemoteHost,tunnelRemotePort);\n    System.out.println(\"Connecting\");\n}\n\nclass localUserInfo implements UserInfo {\n    String passwd;\n\n    @Override\n    public String getPassphrase() {return null; }\n\n    @Override\n    public String getPassword() { return null; }\n\n    @Override\n    public boolean promptPassword(String s) { return false; }\n\n    @Override\n    public boolean promptPassphrase(String s) { return false; }\n\n    @Override\n    public boolean promptYesNo(String s) { return false; }\n\n    @Override\n    public void showMessage(String s) {}\n}\n</code></pre>\n\n<p>I successfully connected using PuTTY but cannot get my program working.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":8005177,"reputation":344,"user_id":6038682,"display_name":"William Andr&#233;s Bernal"},"score":0,"creation_date":1594140568,"post_id":62780014,"comment_id":111020006,"body_markdown":"The Fetchtype.Lazy just mean that whenever you call an order, the user is not going to come at the same time, just when it is needed, another query to the DB will be done to obtain this information. In this case, you have your repository and this is calling all the information on order, because it is needed to create the JSON.","body":"The Fetchtype.Lazy just mean that whenever you call an order, the user is not going to come at the same time, just when it is needed, another query to the DB will be done to obtain this information. In this case, you have your repository and this is calling all the information on order, because it is needed to create the JSON."},{"owner":{"account_id":10038504,"reputation":373,"user_id":7422232,"accept_rate":40,"display_name":"AB21"},"score":0,"creation_date":1594140632,"post_id":62780014,"comment_id":111020044,"body_markdown":"So,this means that repository ignores FetchType.Laay?","body":"So,this means that repository ignores FetchType.Laay?"},{"owner":{"account_id":8005177,"reputation":344,"user_id":6038682,"display_name":"William Andr&#233;s Bernal"},"score":0,"creation_date":1594140838,"post_id":62780014,"comment_id":111020151,"body_markdown":"As you are not marking the property as @JSONIgnore, it is calling the getter for all the properties inside order, it is not ignoring the Lazy, is using it when you call the getter.","body":"As you are not marking the property as @JSONIgnore, it is calling the getter for all the properties inside order, it is not ignoring the Lazy, is using it when you call the getter."}],"answers":[{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594141856,"creation_date":1594141856,"answer_id":62780499,"question_id":62780014,"body_markdown":"`User` entity data won&#39;t be initialized and loaded into memory until an explicit call is made to it. Your `Order` entity contains `user` field. So when serializing the order data getter of user called and user data fetched using another query.\r\n\r\nIf you don&#39;t want to use @JsonIgnore the create a response class for order without user field and map you data.","title":"FetchType.Lazy not working in JPA in spring boot","body":"<p><code>User</code> entity data won't be initialized and loaded into memory until an explicit call is made to it. Your <code>Order</code> entity contains <code>user</code> field. So when serializing the order data getter of user called and user data fetched using another query.</p>\n<p>If you don't want to use @JsonIgnore the create a response class for order without user field and map you data.</p>\n"},{"tags":[],"owner":{"account_id":23724252,"reputation":1,"user_id":17744379,"display_name":"Med Amine K&#39;haili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640215977,"creation_date":1640215977,"answer_id":70456217,"question_id":62780014,"body_markdown":"for me Adding **@JsonIgnore** annotation helped","title":"FetchType.Lazy not working in JPA in spring boot","body":"<p>for me Adding <strong>@JsonIgnore</strong> annotation helped</p>\n"}],"owner":{"account_id":10038504,"reputation":373,"user_id":7422232,"accept_rate":40,"display_name":"AB21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640215977,"creation_date":1594140029,"question_id":62780014,"body_markdown":"I have a entity Order.java as:\r\n\r\n    package in.ashwin.onlinebookstore.entity;\r\n    \r\n    import java.util.Date;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;tbl_order&quot;)\r\n    public class Order {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long order_id;\r\n    \t\r\n    \t@OneToOne(cascade = CascadeType.MERGE,fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    \tprivate User user;\r\n    \t\r\n    \t@Column(name=&quot;today_date&quot;)\r\n    \tprivate Date todayDate;\r\n    \t\r\n    \t@Column(name=&quot;status&quot;)\r\n    \tprivate String status;\r\n    \t\r\n    \tpublic Order(User user, Date todayDate) {\r\n    \t\t\r\n    \t\tthis.user = user;\r\n    \t\tthis.todayDate = todayDate;\r\n    \t\tthis.status=&quot;pending&quot;;\r\n    \t}\r\n    \r\n    \tpublic Long getOrder_id() {\r\n    \t\treturn order_id;\r\n    \t}\r\n    \r\n    \tpublic void setOrder_id(Long order_id) {\r\n    \t\tthis.order_id = order_id;\r\n    \t}\r\n    \r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \r\n    \tpublic Date getTodayDate() {\r\n    \t\treturn todayDate;\r\n    \t}\r\n    \r\n    \tpublic void setTodayDate(Date todayDate) {\r\n    \t\tthis.todayDate = todayDate;\r\n    \t}\r\n    \t\r\n    \tpublic Order() {\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n I have included Fetchtype as lazy between User and Order.Since,I have declared FetchType.LAZY while fetching Order then,I am still seeing user object called when I tested from postman.According to my understanfing,the object of FetchType.LAZY is only called when its needed.If,it is not called then ,it is ignored. \r\n\r\n     @OneToOne(cascade = CascadeType.MERGE,fetch = FetchType.LAZY)\r\n        \t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n        \tprivate User user;\r\n\r\nMy api to get all the Orders is:\r\n\r\n    @GetMapping(&quot;/getAllPendingOrders&quot;)\r\n    \t@PreAuthorize(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;MODERATOR&#39;) or hasRole(&#39;ADMIN&#39;)&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; getOrders(Pageable pageable) {\r\n    \t\t\r\n    \t\tAuthentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            String user = auth.getName();\r\n    \t\tUserDetailsImpl userDetails=(UserDetailsImpl)userdetailService.loadUserByUsername(user);\r\n    \t    \r\n    \t    Page&lt;Order&gt; orderList=orderRep.findByUserId(userDetails.getId(),pageable);\r\n    \t    if(orderList!=null) {\r\n    \t    \t return\tnew ResponseEntity(orderList, HttpStatus.OK);\r\n    \t    }\r\n    \t    else {\r\n    \t    \t return\tnew ResponseEntity(&quot;Noorders&quot;, HttpStatus.OK);\r\n    \t    }\r\n    \t   \r\n    \t\t\r\n    \t}\r\n\r\nThe Response I am getting back from POSTMAN is:\r\n\r\n    {\r\n        &quot;content&quot;: [\r\n            {\r\n                &quot;order_id&quot;: 1,\r\n                &quot;user&quot;: {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;username&quot;: &quot;ashwin&quot;,\r\n                    &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\r\n                    &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\r\n                    &quot;roles&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;ROLE_USER&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;todayDate&quot;: &quot;2020-07-02T17:09:45.057+0000&quot;,\r\n                &quot;status&quot;: &quot;pending&quot;\r\n            },\r\n            {\r\n                &quot;order_id&quot;: 2,\r\n                &quot;user&quot;: {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;username&quot;: &quot;ashwin&quot;,\r\n                    &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\r\n                    &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\r\n                    &quot;roles&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;ROLE_USER&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;todayDate&quot;: &quot;2020-07-02T17:15:06.906+0000&quot;,\r\n                &quot;status&quot;: &quot;pending&quot;\r\n            },\r\n            {\r\n                &quot;order_id&quot;: 3,\r\n                &quot;user&quot;: {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;username&quot;: &quot;ashwin&quot;,\r\n                    &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\r\n                    &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\r\n                    &quot;roles&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;ROLE_USER&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;todayDate&quot;: &quot;2020-07-02T17:16:36.373+0000&quot;,\r\n                &quot;status&quot;: &quot;pending&quot;\r\n            },\r\n            {\r\n                &quot;order_id&quot;: 4,\r\n                &quot;user&quot;: {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;username&quot;: &quot;ashwin&quot;,\r\n                    &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\r\n                    &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\r\n                    &quot;roles&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 2,\r\n                            &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\r\n                        },\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;name&quot;: &quot;ROLE_USER&quot;\r\n                        }\r\n                    ]\r\n                },\r\n                &quot;todayDate&quot;: &quot;2020-07-02T17:18:56.799+0000&quot;,\r\n                &quot;status&quot;: &quot;pending&quot;\r\n            }\r\n           \r\n        ],\r\n        &quot;pageable&quot;: {\r\n            &quot;sort&quot;: {\r\n                &quot;sorted&quot;: false,\r\n                &quot;unsorted&quot;: true,\r\n                &quot;empty&quot;: true\r\n            },\r\n            &quot;offset&quot;: 0,\r\n            &quot;pageNumber&quot;: 0,\r\n            &quot;pageSize&quot;: 20,\r\n            &quot;paged&quot;: true,\r\n            &quot;unpaged&quot;: false\r\n        },\r\n        &quot;totalPages&quot;: 2,\r\n        &quot;last&quot;: false,\r\n        &quot;totalElements&quot;: 39,\r\n        &quot;size&quot;: 20,\r\n        &quot;number&quot;: 0,\r\n        &quot;sort&quot;: {\r\n            &quot;sorted&quot;: false,\r\n            &quot;unsorted&quot;: true,\r\n            &quot;empty&quot;: true\r\n        },\r\n        &quot;numberOfElements&quot;: 20,\r\n        &quot;first&quot;: true,\r\n        &quot;empty&quot;: false\r\n    }\r\n\r\n\r\nI am still seeing the user object in my JSON.USing, `@JSONIgnore` works,but since I have declared it as `Fetchtype.Lazy` why the `USER` object is coming when I am fetching `Order` object?I dont want the User object to appear,when I am fetching the Order object.","title":"FetchType.Lazy not working in JPA in spring boot","body":"<p>I have a entity Order.java as:</p>\n<pre><code>package in.ashwin.onlinebookstore.entity;\n\nimport java.util.Date;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;tbl_order&quot;)\npublic class Order {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long order_id;\n    \n    @OneToOne(cascade = CascadeType.MERGE,fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user;\n    \n    @Column(name=&quot;today_date&quot;)\n    private Date todayDate;\n    \n    @Column(name=&quot;status&quot;)\n    private String status;\n    \n    public Order(User user, Date todayDate) {\n        \n        this.user = user;\n        this.todayDate = todayDate;\n        this.status=&quot;pending&quot;;\n    }\n\n    public Long getOrder_id() {\n        return order_id;\n    }\n\n    public void setOrder_id(Long order_id) {\n        this.order_id = order_id;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    \n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Date getTodayDate() {\n        return todayDate;\n    }\n\n    public void setTodayDate(Date todayDate) {\n        this.todayDate = todayDate;\n    }\n    \n    public Order() {\n        \n    }\n\n}\n</code></pre>\n<p>I have included Fetchtype as lazy between User and Order.Since,I have declared FetchType.LAZY while fetching Order then,I am still seeing user object called when I tested from postman.According to my understanfing,the object of FetchType.LAZY is only called when its needed.If,it is not called then ,it is ignored.</p>\n<pre><code> @OneToOne(cascade = CascadeType.MERGE,fetch = FetchType.LAZY)\n        @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n        private User user;\n</code></pre>\n<p>My api to get all the Orders is:</p>\n<pre><code>@GetMapping(&quot;/getAllPendingOrders&quot;)\n    @PreAuthorize(&quot;hasRole('USER') or hasRole('MODERATOR') or hasRole('ADMIN')&quot;)\n    public ResponseEntity&lt;?&gt; getOrders(Pageable pageable) {\n        \n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        String user = auth.getName();\n        UserDetailsImpl userDetails=(UserDetailsImpl)userdetailService.loadUserByUsername(user);\n        \n        Page&lt;Order&gt; orderList=orderRep.findByUserId(userDetails.getId(),pageable);\n        if(orderList!=null) {\n             return new ResponseEntity(orderList, HttpStatus.OK);\n        }\n        else {\n             return new ResponseEntity(&quot;Noorders&quot;, HttpStatus.OK);\n        }\n       \n        \n    }\n</code></pre>\n<p>The Response I am getting back from POSTMAN is:</p>\n<pre><code>{\n    &quot;content&quot;: [\n        {\n            &quot;order_id&quot;: 1,\n            &quot;user&quot;: {\n                &quot;id&quot;: 1,\n                &quot;username&quot;: &quot;ashwin&quot;,\n                &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\n                &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\n                &quot;roles&quot;: [\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\n                    },\n                    {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;ROLE_USER&quot;\n                    }\n                ]\n            },\n            &quot;todayDate&quot;: &quot;2020-07-02T17:09:45.057+0000&quot;,\n            &quot;status&quot;: &quot;pending&quot;\n        },\n        {\n            &quot;order_id&quot;: 2,\n            &quot;user&quot;: {\n                &quot;id&quot;: 1,\n                &quot;username&quot;: &quot;ashwin&quot;,\n                &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\n                &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\n                &quot;roles&quot;: [\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\n                    },\n                    {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;ROLE_USER&quot;\n                    }\n                ]\n            },\n            &quot;todayDate&quot;: &quot;2020-07-02T17:15:06.906+0000&quot;,\n            &quot;status&quot;: &quot;pending&quot;\n        },\n        {\n            &quot;order_id&quot;: 3,\n            &quot;user&quot;: {\n                &quot;id&quot;: 1,\n                &quot;username&quot;: &quot;ashwin&quot;,\n                &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\n                &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\n                &quot;roles&quot;: [\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\n                    },\n                    {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;ROLE_USER&quot;\n                    }\n                ]\n            },\n            &quot;todayDate&quot;: &quot;2020-07-02T17:16:36.373+0000&quot;,\n            &quot;status&quot;: &quot;pending&quot;\n        },\n        {\n            &quot;order_id&quot;: 4,\n            &quot;user&quot;: {\n                &quot;id&quot;: 1,\n                &quot;username&quot;: &quot;ashwin&quot;,\n                &quot;email&quot;: &quot;ashwin@gmail.com&quot;,\n                &quot;password&quot;: &quot;$2a$10$GoGUJh0Tzml5egBW5Wzbj.VLzfq4Z7YNCMnsOynLWufpQrWBdVLVi&quot;,\n                &quot;roles&quot;: [\n                    {\n                        &quot;id&quot;: 2,\n                        &quot;name&quot;: &quot;ROLE_MODERATOR&quot;\n                    },\n                    {\n                        &quot;id&quot;: 1,\n                        &quot;name&quot;: &quot;ROLE_USER&quot;\n                    }\n                ]\n            },\n            &quot;todayDate&quot;: &quot;2020-07-02T17:18:56.799+0000&quot;,\n            &quot;status&quot;: &quot;pending&quot;\n        }\n       \n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;sorted&quot;: false,\n            &quot;unsorted&quot;: true,\n            &quot;empty&quot;: true\n        },\n        &quot;offset&quot;: 0,\n        &quot;pageNumber&quot;: 0,\n        &quot;pageSize&quot;: 20,\n        &quot;paged&quot;: true,\n        &quot;unpaged&quot;: false\n    },\n    &quot;totalPages&quot;: 2,\n    &quot;last&quot;: false,\n    &quot;totalElements&quot;: 39,\n    &quot;size&quot;: 20,\n    &quot;number&quot;: 0,\n    &quot;sort&quot;: {\n        &quot;sorted&quot;: false,\n        &quot;unsorted&quot;: true,\n        &quot;empty&quot;: true\n    },\n    &quot;numberOfElements&quot;: 20,\n    &quot;first&quot;: true,\n    &quot;empty&quot;: false\n}\n</code></pre>\n<p>I am still seeing the user object in my JSON.USing, <code>@JSONIgnore</code> works,but since I have declared it as <code>Fetchtype.Lazy</code> why the <code>USER</code> object is coming when I am fetching <code>Order</code> object?I dont want the User object to appear,when I am fetching the Order object.</p>\n"},{"tags":["java","spring","hibernate","osgi","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":23638534,"reputation":1,"user_id":17669165,"display_name":"amnotasuperhero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640215234,"creation_date":1640215234,"answer_id":70456138,"question_id":70350825,"body_markdown":"Although it&#39;s not a perfect solution, the way I was able to temporarily get around this issue was to force the hibernate-core jar in the main classpath.  I&#39;m sure the main issue is that hibernate-core is not in the right place, but I&#39;m unclear as to how.  I did a lot of manipulations of poms and adding exceptions to maven-bundle-plugin, but that didn&#39;t work - only putting hibernate-core in the main classpath.","title":"Java 11: OSGi: Spawning EntityManager, Unable to build Hibernate SessionFactory java.lang.ClassNotFoundException: org.hibernate.proxy.HibernateProxy","body":"<p>Although it's not a perfect solution, the way I was able to temporarily get around this issue was to force the hibernate-core jar in the main classpath.  I'm sure the main issue is that hibernate-core is not in the right place, but I'm unclear as to how.  I did a lot of manipulations of poms and adding exceptions to maven-bundle-plugin, but that didn't work - only putting hibernate-core in the main classpath.</p>\n"}],"owner":{"account_id":23638534,"reputation":1,"user_id":17669165,"display_name":"amnotasuperhero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640215234,"creation_date":1639492970,"question_id":70350825,"body_markdown":"I am in the middle of converting a Java 8 project to Java 11, and as a part of that conversion I have made a slew of different code changes and upgrades (most notably upgrading to Hibernate 5.3.18.FINAL from 4.X).  I&#39;ve gotten the entire, large project to compile successfully in Java 11.  However, when I kick off the project using Karaf, I am getting a persistent OSGi error, and it&#39;s driving me crazy.\r\n\r\n        [FelixDispatchQueue] ERROR org.osgi.framework.FrameworkEvent - FrameworkEvent ERROR\r\n    javax.persistence.PersistenceException: [PersistenceUnit: abc] Unable to build Hibernate SessionFactory\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1327) ~[?:?]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1253) ~[?:?]\r\n            at org.hibernate.osgi.OsgiPersistenceProvider.createContainerEntityManagerFactory(OsgiPersistenceProvider.java:96) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.createAndPublishEMF(AriesEntityManagerFactoryBuilder.java:371) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.createEntityManagerFactory(AriesEntityManagerFactoryBuilder.java:183) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.dataSourceReady(AriesEntityManagerFactoryBuilder.java:538) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.foundDS(AriesEntityManagerFactoryBuilder.java:510) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.DataSourceTracker.addingService(DataSourceTracker.java:86) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.DataSourceTracker.addingService(DataSourceTracker.java:34) ~[?:?]\r\n            at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:183) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:318) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:261) ~[osgi.core-6.0.0.jar:?]\r\n    at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.&lt;init&gt;(AriesEntityManagerFactoryBuilder.java:99) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.PersistenceProviderTracker.addingService(PersistenceProviderTracker.java:88) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.PersistenceProviderTracker.addingService(PersistenceProviderTracker.java:44) ~[?:?]\r\n            at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:183) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:318) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:261) ~[osgi.core-6.0.0.jar:?]\r\n            at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.trackProvider(PersistenceBundleTracker.java:229) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.findPersistenceUnits(PersistenceBundleTracker.java:213) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.addingBundle(PersistenceBundleTracker.java:98) ~[?:?]\r\n            at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.addingBundle(PersistenceBundleTracker.java:44) ~[?:?]\r\n            at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:469) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:415) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229) ~[osgi.core-6.0.0.jar:?]\r\n            at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:444) ~[osgi.core-6.0.0.jar:?]\r\n            at org.apache.felix.framework.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:915) ~[?:?]\r\n            at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:834) ~[?:?]\r\n            at org.apache.felix.framework.EventDispatcher.fireBundleEvent(EventDispatcher.java:516) ~[?:?]\r\n            at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4579) ~[?:?]\r\n            at org.apache.felix.framework.Felix.activateBundle(Felix.java:2231) ~[?:?]\r\n            at org.apache.felix.framework.Felix.startBundle(Felix.java:2146) ~[?:?]\r\n            at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998) ~[?:?]\r\n            at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:984) ~[?:?]\r\n            at org.apache.karaf.features.internal.service.BundleInstallSupportImpl.startBundle(BundleInstallSupportImpl.java:165) ~[?:?]\r\n            at org.apache.karaf.features.internal.service.FeaturesServiceImpl.startBundle(FeaturesServiceImpl.java:1154) ~[?:?]\r\n            at org.apache.karaf.features.internal.service.Deployer.deploy(Deployer.java:1044) ~[?:?]\r\n            at org.apache.karaf.features.internal.service.FeaturesServiceImpl.doProvision(FeaturesServiceImpl.java:1063) ~[?:?]\r\n            at org.apache.karaf.features.internal.service.FeaturesServiceImpl.lambda$doProvisionInThread$13(FeaturesServiceImpl.java:998) ~[?:?]\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n            at java.lang.Thread.run(Thread.java:829) [?:?]\r\n    ...\r\n    ...\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/proxy/HibernateProxy\r\n            at java.lang.ClassLoader.defineClass1(Native Method) ~[?:?]\r\n            at java.lang.System$2.defineClass(System.java:2131) ~[?:?]\r\n            at java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962) ~[?:?]\r\n            at jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown Source) ~[?:?]\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n            at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n            at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup$Dispatcher$ForJava9CapableVm.defineClass(ClassInjector.java:1685) ~[?:?]\r\n            at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1418) ~[?:?]\r\n            at net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:112) ~[?:?]\r\n            at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$UsingLookup.load(ClassLoadingStrategy.java:466) ~[?:?]\r\n            at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100) ~[?:?]\r\n            at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:5662) ~[?:?]\r\n            at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.lambda$load$0(ByteBuddyState.java:187) ~[?:?]\r\n            at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152) ~[?:?]\r\n            at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365) ~[?:?]\r\n            at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174) ~[?:?]\r\n            at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376) ~[?:?]\r\n            at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:183) ~[?:?]\r\n            at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.loadProxy(ByteBuddyState.java:107) ~[?:?]\r\n            at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyHelper.buildProxy(ByteBuddyProxyHelper.java:54) ~[?:?]\r\n            at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyFactory.postInstantiate(ByteBuddyProxyFactory.java:62) ~[?:?]\r\n            at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:103) ~[?:?]\r\n            at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:155) ~[?:?]\r\n            at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:51) ~[?:?]\r\n            at jdk.internal.reflect.GeneratedConstructorAccessor59.newInstance(Unknown Source) ~[?:?]\r\n            at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n            at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88) ~[?:?]\r\n            at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116) ~[?:?]\r\n            at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:413) ~[?:?]\r\n            at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:557) ~[?:?]\r\n            at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124) ~[?:?]\r\n            at jdk.internal.reflect.GeneratedConstructorAccessor58.newInstance(Unknown Source) ~[?:?]\r\n            at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n            at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96) ~[?:?]\r\n            at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77) ~[?:?]\r\n            at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:154) ~[?:?]\r\n            at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:295) ~[?:?]\r\n            at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[?:?]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1250) ~[?:?]\r\n        ... 48 more\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.proxy.HibernateProxy\r\n\r\nBefore you ask, I&#39;ve put every single combination of matching bytebuddy and javassist in the pom files (matching the version required by 5.3.18.FINAL) and it doesn&#39;t fix the issue. Note that my project is building successfully in Maven but simply won&#39;t find HibernateProxy when I kick it off using karaf.  Downgrading to Java 8 is not an option - this needs to run in Java 11.\r\n\r\nMore tech details:\r\nUsing Spring Boot\r\nUsing Blueprint\r\nHibernate.xml is updated to persistence_2_1.xsd \r\n\r\n    &lt;jta-data-source&gt;osgi:service/javax.sql.DataSource/(osgi.jndi.service.name=abc)&lt;/jta-data-source&gt;\r\n\r\nDatabase is h2\r\n\r\n","title":"Java 11: OSGi: Spawning EntityManager, Unable to build Hibernate SessionFactory java.lang.ClassNotFoundException: org.hibernate.proxy.HibernateProxy","body":"<p>I am in the middle of converting a Java 8 project to Java 11, and as a part of that conversion I have made a slew of different code changes and upgrades (most notably upgrading to Hibernate 5.3.18.FINAL from 4.X).  I've gotten the entire, large project to compile successfully in Java 11.  However, when I kick off the project using Karaf, I am getting a persistent OSGi error, and it's driving me crazy.</p>\n<pre><code>    [FelixDispatchQueue] ERROR org.osgi.framework.FrameworkEvent - FrameworkEvent ERROR\njavax.persistence.PersistenceException: [PersistenceUnit: abc] Unable to build Hibernate SessionFactory\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1327) ~[?:?]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1253) ~[?:?]\n        at org.hibernate.osgi.OsgiPersistenceProvider.createContainerEntityManagerFactory(OsgiPersistenceProvider.java:96) ~[?:?]\n        at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.createAndPublishEMF(AriesEntityManagerFactoryBuilder.java:371) ~[?:?]\n        at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.createEntityManagerFactory(AriesEntityManagerFactoryBuilder.java:183) ~[?:?]\n        at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.dataSourceReady(AriesEntityManagerFactoryBuilder.java:538) ~[?:?]\n        at org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.foundDS(AriesEntityManagerFactoryBuilder.java:510) ~[?:?]\n        at org.apache.aries.jpa.container.impl.DataSourceTracker.addingService(DataSourceTracker.java:86) ~[?:?]\n        at org.apache.aries.jpa.container.impl.DataSourceTracker.addingService(DataSourceTracker.java:34) ~[?:?]\n        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:183) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:318) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:261) ~[osgi.core-6.0.0.jar:?]\nat org.apache.aries.jpa.container.impl.AriesEntityManagerFactoryBuilder.&lt;init&gt;(AriesEntityManagerFactoryBuilder.java:99) ~[?:?]\n        at org.apache.aries.jpa.container.impl.PersistenceProviderTracker.addingService(PersistenceProviderTracker.java:88) ~[?:?]\n        at org.apache.aries.jpa.container.impl.PersistenceProviderTracker.addingService(PersistenceProviderTracker.java:44) ~[?:?]\n        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.AbstractTracked.trackInitial(AbstractTracked.java:183) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:318) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:261) ~[osgi.core-6.0.0.jar:?]\n        at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.trackProvider(PersistenceBundleTracker.java:229) ~[?:?]\n        at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.findPersistenceUnits(PersistenceBundleTracker.java:213) ~[?:?]\n        at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.addingBundle(PersistenceBundleTracker.java:98) ~[?:?]\n        at org.apache.aries.jpa.container.impl.PersistenceBundleTracker.addingBundle(PersistenceBundleTracker.java:44) ~[?:?]\n        at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:469) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:415) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229) ~[osgi.core-6.0.0.jar:?]\n        at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:444) ~[osgi.core-6.0.0.jar:?]\n        at org.apache.felix.framework.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:915) ~[?:?]\n        at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:834) ~[?:?]\n        at org.apache.felix.framework.EventDispatcher.fireBundleEvent(EventDispatcher.java:516) ~[?:?]\n        at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4579) ~[?:?]\n        at org.apache.felix.framework.Felix.activateBundle(Felix.java:2231) ~[?:?]\n        at org.apache.felix.framework.Felix.startBundle(Felix.java:2146) ~[?:?]\n        at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998) ~[?:?]\n        at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:984) ~[?:?]\n        at org.apache.karaf.features.internal.service.BundleInstallSupportImpl.startBundle(BundleInstallSupportImpl.java:165) ~[?:?]\n        at org.apache.karaf.features.internal.service.FeaturesServiceImpl.startBundle(FeaturesServiceImpl.java:1154) ~[?:?]\n        at org.apache.karaf.features.internal.service.Deployer.deploy(Deployer.java:1044) ~[?:?]\n        at org.apache.karaf.features.internal.service.FeaturesServiceImpl.doProvision(FeaturesServiceImpl.java:1063) ~[?:?]\n        at org.apache.karaf.features.internal.service.FeaturesServiceImpl.lambda$doProvisionInThread$13(FeaturesServiceImpl.java:998) ~[?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n        at java.lang.Thread.run(Thread.java:829) [?:?]\n...\n...\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/proxy/HibernateProxy\n        at java.lang.ClassLoader.defineClass1(Native Method) ~[?:?]\n        at java.lang.System$2.defineClass(System.java:2131) ~[?:?]\n        at java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962) ~[?:?]\n        at jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown Source) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup$Dispatcher$ForJava9CapableVm.defineClass(ClassInjector.java:1685) ~[?:?]\n        at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1418) ~[?:?]\n        at net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:112) ~[?:?]\n        at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$UsingLookup.load(ClassLoadingStrategy.java:466) ~[?:?]\n        at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100) ~[?:?]\n        at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:5662) ~[?:?]\n        at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.lambda$load$0(ByteBuddyState.java:187) ~[?:?]\n        at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152) ~[?:?]\n        at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365) ~[?:?]\n        at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174) ~[?:?]\n        at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376) ~[?:?]\n        at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:183) ~[?:?]\n        at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.loadProxy(ByteBuddyState.java:107) ~[?:?]\n        at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyHelper.buildProxy(ByteBuddyProxyHelper.java:54) ~[?:?]\n        at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyFactory.postInstantiate(ByteBuddyProxyFactory.java:62) ~[?:?]\n        at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:103) ~[?:?]\n        at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:155) ~[?:?]\n        at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:51) ~[?:?]\n        at jdk.internal.reflect.GeneratedConstructorAccessor59.newInstance(Unknown Source) ~[?:?]\n        at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n        at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88) ~[?:?]\n        at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116) ~[?:?]\n        at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:413) ~[?:?]\n        at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:557) ~[?:?]\n        at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:124) ~[?:?]\n        at jdk.internal.reflect.GeneratedConstructorAccessor58.newInstance(Unknown Source) ~[?:?]\n        at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n        at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96) ~[?:?]\n        at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77) ~[?:?]\n        at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:154) ~[?:?]\n        at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:295) ~[?:?]\n        at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467) ~[?:?]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1250) ~[?:?]\n    ... 48 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.proxy.HibernateProxy\n</code></pre>\n<p>Before you ask, I've put every single combination of matching bytebuddy and javassist in the pom files (matching the version required by 5.3.18.FINAL) and it doesn't fix the issue. Note that my project is building successfully in Maven but simply won't find HibernateProxy when I kick it off using karaf.  Downgrading to Java 8 is not an option - this needs to run in Java 11.</p>\n<p>More tech details:\nUsing Spring Boot\nUsing Blueprint\nHibernate.xml is updated to persistence_2_1.xsd</p>\n<pre><code>&lt;jta-data-source&gt;osgi:service/javax.sql.DataSource/(osgi.jndi.service.name=abc)&lt;/jta-data-source&gt;\n</code></pre>\n<p>Database is h2</p>\n"},{"tags":["java","spring","jpa","redis","spring-data"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1640217517,"post_id":70456124,"comment_id":124545926,"body_markdown":"Forgetting JPA for a moment, how would you _manually_ write the query statement to retrieve the list of flights using a list of `dayOfWeek`?","body":"Forgetting JPA for a moment, how would you <i>manually</i> write the query statement to retrieve the list of flights using a list of <code>dayOfWeek</code>?"},{"owner":{"account_id":15884458,"reputation":3,"user_id":11461265,"display_name":"Jason Tee"},"score":0,"creation_date":1640218375,"post_id":70456124,"comment_id":124546063,"body_markdown":"hmm I&#39;d say create sets with name `Flight:dayOfWeek:Thursday` and group the ids into each set? So when querying I can just check the set with name `Flight:dayOfWeek:Thursday` and return all matching entries. But this becomes complicated if I plan to include more stuff such as `List&lt;Flight&gt; findFlightsByDayOfWeek(List&lt;String&gt; dayOfWeek, String airport);`","body":"hmm I&#39;d say create sets with name <code>Flight:dayOfWeek:Thursday</code> and group the ids into each set? So when querying I can just check the set with name <code>Flight:dayOfWeek:Thursday</code> and return all matching entries. But this becomes complicated if I plan to include more stuff such as <code>List&lt;Flight&gt; findFlightsByDayOfWeek(List&lt;String&gt; dayOfWeek, String airport);</code>"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1640230273,"post_id":70456124,"comment_id":124547782,"body_markdown":"Right. JPA can&#39;t create that complication without your help. So you&#39;ll have to write a custom query and apply that to your method so that JPA can interpret your intent.","body":"Right. JPA can&#39;t create that complication without your help. So you&#39;ll have to write a custom query and apply that to your method so that JPA can interpret your intent."}],"owner":{"account_id":15884458,"reputation":3,"user_id":11461265,"display_name":"Jason Tee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640215107,"creation_date":1640215107,"question_id":70456124,"body_markdown":"I have been trying to use Spring Data Redis but it fails for queries with List in them and just won&#39;t work. I tested it with normal fields such as ID and it works fine without issues, would appreciate it if someone can look at my code, thanks!\r\n\r\nI have the following model:\r\n\r\n```java\r\n@RedisHash(&quot;Flight&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Flight implements Serializable {\r\n    @Id\r\n    private String id;\r\n    @Indexed\r\n    private List&lt;String&gt; dayOfWeek;\r\n}\r\n```\r\nBut when I try to define a query in my repository as follows:\r\n```\r\n@Repository\r\npublic interface FlightRepository extends CrudRepository&lt;Flight, String&gt; {\r\n    List&lt;Flight&gt; findFlightsByDayOfWeek(List&lt;String&gt; dayOfWeek);\r\n}\r\n```\r\nIt throws the following exception when called:\r\n```\r\nException in thread &quot;main&quot; org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value &#39;Monday&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Monday&quot;\r\n\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n\tat org.springframework.core.convert.support.CollectionToArrayConverter.convert(CollectionToArrayConverter.java:75)\r\n\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\r\n\tat org.springframework.data.redis.core.RedisQueryEngine.keys(RedisQueryEngine.java:202)\r\n\tat org.springframework.data.redis.core.RedisQueryEngine.lambda$doFind$0(RedisQueryEngine.java:102)\r\n\tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:223)\r\n\tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:190)\r\n\tat org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:177)\r\n\tat org.springframework.data.redis.core.RedisKeyValueAdapter.execute(RedisKeyValueAdapter.java:597)\r\n\tat org.springframework.data.redis.core.RedisQueryEngine.doFind(RedisQueryEngine.java:139)\r\n\tat org.springframework.data.redis.core.RedisQueryEngine.execute(RedisQueryEngine.java:81)\r\n\tat org.springframework.data.redis.core.RedisQueryEngine.execute(RedisQueryEngine.java:52)\r\n\tat org.springframework.data.keyvalue.core.QueryEngine.execute(QueryEngine.java:73)\r\n\tat org.springframework.data.keyvalue.core.AbstractKeyValueAdapter.find(AbstractKeyValueAdapter.java:87)\r\n\tat org.springframework.data.keyvalue.core.KeyValueTemplate.lambda$find$6(KeyValueTemplate.java:395)\r\n\tat org.springframework.data.keyvalue.core.KeyValueTemplate.execute(KeyValueTemplate.java:362)\r\n\tat org.springframework.data.keyvalue.core.KeyValueTemplate.executeRequired(KeyValueTemplate.java:377)\r\n\tat org.springframework.data.keyvalue.core.KeyValueTemplate.find(KeyValueTemplate.java:393)\r\n\tat org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.doExecute(KeyValuePartTreeQuery.java:136)\r\n\tat org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.execute(KeyValuePartTreeQuery.java:110)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy66.findFlightsByDayOfWeek(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy66.findFlightsByDayOfWeek(Unknown Source)\r\n\tat com.distributed.airways.Application.initDatabase(Application.java:25)\r\n\tat com.distributed.airways.Application.main(Application.java:18)\r\nCaused by: java.lang.NumberFormatException: For input string: &quot;Monday&quot;\r\n\tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n\tat java.lang.Integer.parseInt(Integer.java:580)\r\n\tat java.lang.Byte.parseByte(Byte.java:149)\r\n\tat java.lang.Byte.valueOf(Byte.java:205)\r\n\tat java.lang.Byte.valueOf(Byte.java:231)\r\n\tat org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:205)\r\n\tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)\r\n\tat org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)\r\n\tat org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437)\r\n\tat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\r\n\t... 46 more\r\n```","title":"Spring Data Redis repository won&#39;t work with queries with Lists","body":"<p>I have been trying to use Spring Data Redis but it fails for queries with List in them and just won't work. I tested it with normal fields such as ID and it works fine without issues, would appreciate it if someone can look at my code, thanks!</p>\n<p>I have the following model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RedisHash(&quot;Flight&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Flight implements Serializable {\n    @Id\n    private String id;\n    @Indexed\n    private List&lt;String&gt; dayOfWeek;\n}\n</code></pre>\n<p>But when I try to define a query in my repository as follows:</p>\n<pre><code>@Repository\npublic interface FlightRepository extends CrudRepository&lt;Flight, String&gt; {\n    List&lt;Flight&gt; findFlightsByDayOfWeek(List&lt;String&gt; dayOfWeek);\n}\n</code></pre>\n<p>It throws the following exception when called:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value 'Monday'; nested exception is java.lang.NumberFormatException: For input string: &quot;Monday&quot;\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\n    at org.springframework.core.convert.support.CollectionToArrayConverter.convert(CollectionToArrayConverter.java:75)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:192)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)\n    at org.springframework.data.redis.core.RedisQueryEngine.keys(RedisQueryEngine.java:202)\n    at org.springframework.data.redis.core.RedisQueryEngine.lambda$doFind$0(RedisQueryEngine.java:102)\n    at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:223)\n    at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:190)\n    at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:177)\n    at org.springframework.data.redis.core.RedisKeyValueAdapter.execute(RedisKeyValueAdapter.java:597)\n    at org.springframework.data.redis.core.RedisQueryEngine.doFind(RedisQueryEngine.java:139)\n    at org.springframework.data.redis.core.RedisQueryEngine.execute(RedisQueryEngine.java:81)\n    at org.springframework.data.redis.core.RedisQueryEngine.execute(RedisQueryEngine.java:52)\n    at org.springframework.data.keyvalue.core.QueryEngine.execute(QueryEngine.java:73)\n    at org.springframework.data.keyvalue.core.AbstractKeyValueAdapter.find(AbstractKeyValueAdapter.java:87)\n    at org.springframework.data.keyvalue.core.KeyValueTemplate.lambda$find$6(KeyValueTemplate.java:395)\n    at org.springframework.data.keyvalue.core.KeyValueTemplate.execute(KeyValueTemplate.java:362)\n    at org.springframework.data.keyvalue.core.KeyValueTemplate.executeRequired(KeyValueTemplate.java:377)\n    at org.springframework.data.keyvalue.core.KeyValueTemplate.find(KeyValueTemplate.java:393)\n    at org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.doExecute(KeyValuePartTreeQuery.java:136)\n    at org.springframework.data.keyvalue.repository.query.KeyValuePartTreeQuery.execute(KeyValuePartTreeQuery.java:110)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy66.findFlightsByDayOfWeek(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy66.findFlightsByDayOfWeek(Unknown Source)\n    at com.distributed.airways.Application.initDatabase(Application.java:25)\n    at com.distributed.airways.Application.main(Application.java:18)\nCaused by: java.lang.NumberFormatException: For input string: &quot;Monday&quot;\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:580)\n    at java.lang.Byte.parseByte(Byte.java:149)\n    at java.lang.Byte.valueOf(Byte.java:205)\n    at java.lang.Byte.valueOf(Byte.java:231)\n    at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:205)\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)\n    at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)\n    at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:437)\n    at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)\n    ... 46 more\n</code></pre>\n"},{"tags":["java","json","web-scraping","web-crawler"],"owner":{"account_id":4837791,"reputation":21,"user_id":4838461,"display_name":"Nico Kriegschmichnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640214670,"creation_date":1640173358,"question_id":70448508,"body_markdown":"**Background**: I want to make a reservation for a restaurant that opens its slots on the first day of every month at 10.00 am. However, the demand is so high for the restaurant that all slots become fully booked (I assume there are hundreds of people hitting F5 at the same time).\r\nI want to book the restaurant as part of proposing to my girlfriend -and while the engagement ring is almost here, I have been three times unsuccessful in booking that restaurant.\r\n\r\n**Additional information**: The website (https://www.bokabord.se/r/frantzn/380) uses JSON requests to make the booking. I want to automize the first part, which is sending a request whether a reservation slot is still available for a given time and date (this is the part where everyone hits F5). The second part of the booking will be to write down the credit card details (+ name, address, etc.) -this part does not need to be automized anymore.\r\n\r\n**Potential solutions**: So far, I can think of two solutions (please let me know if you are aware of more):\r\n\r\n 1. A web browser that allows program JSON requests (or a plugin for common web browsers). The idea is to create a loop (that repeats every millisecond or so) and send a JSON request whether a reservation slot is available for a given time and date. If successful, the loop will finish and hand over the rest (writing down credit card details, etc.) to me. **Question**: Do you know such a web browser?\r\n 2. I program an application with an integrated web browser to create a JSON request loop. I know a bit of Java (though not on a professional level), which would be most realistic for me to code in. **Question**: Do you know a library/example code/tutorial in Java for such an application? Doing it from scratch would be above my Java skills.\r\n\r\nThanks a lot!","title":"Automatic JSON requests (in webbrowser) to make restaurant reservation","body":"<p><strong>Background</strong>: I want to make a reservation for a restaurant that opens its slots on the first day of every month at 10.00 am. However, the demand is so high for the restaurant that all slots become fully booked (I assume there are hundreds of people hitting F5 at the same time).\nI want to book the restaurant as part of proposing to my girlfriend -and while the engagement ring is almost here, I have been three times unsuccessful in booking that restaurant.</p>\n<p><strong>Additional information</strong>: The website (<a href=\"https://www.bokabord.se/r/frantzn/380\" rel=\"nofollow noreferrer\">https://www.bokabord.se/r/frantzn/380</a>) uses JSON requests to make the booking. I want to automize the first part, which is sending a request whether a reservation slot is still available for a given time and date (this is the part where everyone hits F5). The second part of the booking will be to write down the credit card details (+ name, address, etc.) -this part does not need to be automized anymore.</p>\n<p><strong>Potential solutions</strong>: So far, I can think of two solutions (please let me know if you are aware of more):</p>\n<ol>\n<li>A web browser that allows program JSON requests (or a plugin for common web browsers). The idea is to create a loop (that repeats every millisecond or so) and send a JSON request whether a reservation slot is available for a given time and date. If successful, the loop will finish and hand over the rest (writing down credit card details, etc.) to me. <strong>Question</strong>: Do you know such a web browser?</li>\n<li>I program an application with an integrated web browser to create a JSON request loop. I know a bit of Java (though not on a professional level), which would be most realistic for me to code in. <strong>Question</strong>: Do you know a library/example code/tutorial in Java for such an application? Doing it from scratch would be above my Java skills.</li>\n</ol>\n<p>Thanks a lot!</p>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640214002,"post_id":70455950,"comment_id":124545286,"body_markdown":"You need to have the slf4j jar on your classpath.","body":"You need to have the slf4j jar on your classpath."}],"answers":[{"tags":[],"owner":{"account_id":10898465,"reputation":23002,"user_id":8011544,"accept_rate":64,"display_name":"Melchia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640214470,"creation_date":1640214470,"answer_id":70456056,"question_id":70455950,"body_markdown":"You need to declare the dependency. If you&#39;re using maven add the following to `pom.xml` \r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nOr if you&#39;re using gradle, add the following to `build.gradle`:\r\n\r\n```\r\ndependencies {\r\n  compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.17.0&#39;\r\n  compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.17.0&#39;\r\n}\r\n```\r\n","title":"When running my test logging code, I got a window that said &quot;A java exception has occurred&quot;","body":"<p>You need to declare the dependency. If you're using maven add the following to <code>pom.xml</code></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.17.0&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Or if you're using gradle, add the following to <code>build.gradle</code>:</p>\n<pre><code>dependencies {\n  compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.17.0'\n  compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.17.0'\n}\n</code></pre>\n"}],"owner":{"account_id":21846251,"reputation":1,"user_id":16139043,"display_name":"Nocrantus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640214470,"creation_date":1640213521,"question_id":70455950,"body_markdown":"Beginner here. It also left some debug information behind, but I have no clue what it means.\r\n\r\n```import java.io.IOException;\r\nimport java.sql.SQLException;\r\nimport org.apache.log4j.*;  \r\n  \r\npublic class Example{  \r\n  \r\nstatic Logger Log = Logger.getLogger(Example.class);  \r\n   \r\n   public static void main(String[] args)throws IOException,SQLException\r\n   {  \r\n      Log.debug(&quot;Hello this is a debug message&quot;);  \r\n      Log.info(&quot;Hello this is an info message&quot;);  \r\n   }  \r\n}  \r\n```\r\n\r\nError message: \r\n```Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/Logger\r\n\tat org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:39)\r\n\tat org.apache.log4j.Category.&lt;init&gt;(Category.java:82)\r\n\tat org.apache.log4j.Logger.&lt;init&gt;(Logger.java:33)\r\n\tat org.apache.log4j.Category$PrivateAdapter.newLogger(Category.java:523)\r\n\tat org.apache.log4j.Category.getInstance(Category.java:124)\r\n\tat org.apache.log4j.Category.getInstance(Category.java:104)\r\n\tat org.apache.log4j.Category.getInstance(Category.java:134)\r\n\tat org.apache.log4j.Logger.getLogger(Logger.java:41)\r\n\tat Example.&lt;clinit&gt;(Example.java:7)\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.Logger\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 9 more\r\n```\r\nAny help would be greatly appreciated.","title":"When running my test logging code, I got a window that said &quot;A java exception has occurred&quot;","body":"<p>Beginner here. It also left some debug information behind, but I have no clue what it means.</p>\n<pre><code>import java.sql.SQLException;\nimport org.apache.log4j.*;  \n  \npublic class Example{  \n  \nstatic Logger Log = Logger.getLogger(Example.class);  \n   \n   public static void main(String[] args)throws IOException,SQLException\n   {  \n      Log.debug(&quot;Hello this is a debug message&quot;);  \n      Log.info(&quot;Hello this is an info message&quot;);  \n   }  \n}  \n</code></pre>\n<p>Error message:</p>\n<pre><code>    at org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:39)\n    at org.apache.log4j.Category.&lt;init&gt;(Category.java:82)\n    at org.apache.log4j.Logger.&lt;init&gt;(Logger.java:33)\n    at org.apache.log4j.Category$PrivateAdapter.newLogger(Category.java:523)\n    at org.apache.log4j.Category.getInstance(Category.java:124)\n    at org.apache.log4j.Category.getInstance(Category.java:104)\n    at org.apache.log4j.Category.getInstance(Category.java:134)\n    at org.apache.log4j.Logger.getLogger(Logger.java:41)\n    at Example.&lt;clinit&gt;(Example.java:7)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.Logger\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 9 more\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","ssl","unirest"],"comments":[{"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"score":0,"creation_date":1640165221,"post_id":70446488,"comment_id":124528704,"body_markdown":"By the way, I have tried solutions like https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ or https://stackoverflow.com/questions/18378869/pkix-path-building-failed-in-java-application, but no success","body":"By the way, I have tried solutions like <a href=\"https://stackoverflow.com/questions/21076179/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requ\" title=\"pkix path building failed and unable to find valid certification path to requ\">stackoverflow.com/questions/21076179/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/18378869/pkix-path-building-failed-in-java-application\" title=\"pkix path building failed in java application\">stackoverflow.com/questions/18378869/&hellip;</a>, but no success"}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640168205,"creation_date":1640168205,"answer_id":70447438,"question_id":70446488,"body_markdown":"It looks like you didn&#39;t configured the ssl configuration of Unirest. The specific exceptions could mean that the server is not trusted by the client. What you could do is extract the certificate from: https://opendata.aemet.es/ which is:\r\n\r\n[![server certificate chain][1]][1]\r\n\r\nI would advice to put the certificate into either a p12 or jks truststore file and create a sslcontext out of it.\r\n\r\nHere is a code snippet for creating a sslcontext from a truststore:\r\n\r\n```java\r\nInputStream trustStoreStream = ...; // your InputStream from the trust store file\r\n\r\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\ntrustStore.load(trustStoreStream, &quot;password&quot;.toCharArray());\r\n\r\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\ntrustManagerFactory.init(trustStore);\r\n\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n```\r\n\r\nAnd configure your primary instance of Unirest like the snippet below:\r\n```\r\nUnirest.primaryInstance()\r\n    .config()\r\n    .sslContext(sslContext)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6VBCr.png","title":"Java API connectiong failed: PKIX path","body":"<p>It looks like you didn't configured the ssl configuration of Unirest. The specific exceptions could mean that the server is not trusted by the client. What you could do is extract the certificate from: <a href=\"https://opendata.aemet.es/\" rel=\"nofollow noreferrer\">https://opendata.aemet.es/</a> which is:</p>\n<p><a href=\"https://i.stack.imgur.com/6VBCr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6VBCr.png\" alt=\"server certificate chain\" /></a></p>\n<p>I would advice to put the certificate into either a p12 or jks truststore file and create a sslcontext out of it.</p>\n<p>Here is a code snippet for creating a sslcontext from a truststore:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream trustStoreStream = ...; // your InputStream from the trust store file\n\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(trustStoreStream, &quot;password&quot;.toCharArray());\n\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init(trustStore);\n\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n</code></pre>\n<p>And configure your primary instance of Unirest like the snippet below:</p>\n<pre><code>Unirest.primaryInstance()\n    .config()\n    .sslContext(sslContext)\n</code></pre>\n"}],"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70447438,"answer_count":1,"score":1,"last_activity_date":1640214296,"creation_date":1640163581,"question_id":70446488,"body_markdown":"I have been seeking for some solutions about **javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target** exception, but the solutions that are provided in the posts I read did not solve the issue, that is why I am asking here.\r\n\r\nBasically, in my code, I am using Unirest for connection, as the code below:\r\n\r\n``` \r\npublic void httpConnectionHourlyPred() {\r\n   try {\r\n      Map&lt;String, String&gt; asHeaders = new HashMap&lt;String, String&gt;();\r\n      asHeaders.put(&quot;cache-control&quot;, &quot;no-cache&quot;);\r\n      asHeaders.put(&quot;api_key&quot;, getsKey());\r\n      HttpResponse response = Unirest.get(sURLHourlyPred).headers(asHeaders).asString();\r\n\t  System.out.println(response);\r\n}\r\n```\r\nThe API to which I am connecting the AEMET Open Data service (https://opendata.aemet.es/centrodedescargas/inicio), while the API endpoint is https://opendata.aemet.es/opendata/api/prediccion/especifica/municipio/horaria/01001. For security reasons, I do not include the API-KEY, but, if I try the API in the browser, I success as the snapshot below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe same script for python also works and I got the result. However, due to the use of a hardware only compatible with Java, I have to program in Java. Thus, when I run the script, I obtain the exception below. I am using the OpenJDK virtual machine (in particular, openjdk-8u312-b07). How could I fix it?\r\n\r\nMany thanks in advance\r\n\r\n```\r\ncom.mashape.unirest.http.exceptions.UnirestException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:143)\r\n\tat com.mashape.unirest.request.BaseRequest.asString(BaseRequest.java:56)\r\n\tat es.cartif.aemet.AEMETConnector.httpConnectionHourlyPred(AEMETConnector.java:55)\r\n\tat es.cartif.main.AEMETMain.main(AEMETMain.java:10)\r\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:369)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1497)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1403)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:441)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:412)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:290)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:259)\r\n\tat org.apache.http.impl.conn.HttpClientConnectionOperator.connect(HttpClientConnectionOperator.java:125)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:319)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:363)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:219)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:195)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:86)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:108)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:106)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:57)\r\n\tat com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:138)\r\n\t... 3 more\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n\t... 28 more\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n\t... 33 more\r\nError making the data request javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mbSMZ.png","title":"Java API connectiong failed: PKIX path","body":"<p>I have been seeking for some solutions about <strong>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</strong> exception, but the solutions that are provided in the posts I read did not solve the issue, that is why I am asking here.</p>\n<p>Basically, in my code, I am using Unirest for connection, as the code below:</p>\n<pre><code>public void httpConnectionHourlyPred() {\n   try {\n      Map&lt;String, String&gt; asHeaders = new HashMap&lt;String, String&gt;();\n      asHeaders.put(&quot;cache-control&quot;, &quot;no-cache&quot;);\n      asHeaders.put(&quot;api_key&quot;, getsKey());\n      HttpResponse response = Unirest.get(sURLHourlyPred).headers(asHeaders).asString();\n      System.out.println(response);\n}\n</code></pre>\n<p>The API to which I am connecting the AEMET Open Data service (<a href=\"https://opendata.aemet.es/centrodedescargas/inicio\" rel=\"nofollow noreferrer\">https://opendata.aemet.es/centrodedescargas/inicio</a>), while the API endpoint is <a href=\"https://opendata.aemet.es/opendata/api/prediccion/especifica/municipio/horaria/01001\" rel=\"nofollow noreferrer\">https://opendata.aemet.es/opendata/api/prediccion/especifica/municipio/horaria/01001</a>. For security reasons, I do not include the API-KEY, but, if I try the API in the browser, I success as the snapshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/mbSMZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mbSMZ.png\" alt=\"enter image description here\" /></a></p>\n<p>The same script for python also works and I got the result. However, due to the use of a hardware only compatible with Java, I have to program in Java. Thus, when I run the script, I obtain the exception below. I am using the OpenJDK virtual machine (in particular, openjdk-8u312-b07). How could I fix it?</p>\n<p>Many thanks in advance</p>\n<pre><code>com.mashape.unirest.http.exceptions.UnirestException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:143)\n    at com.mashape.unirest.request.BaseRequest.asString(BaseRequest.java:56)\n    at es.cartif.aemet.AEMETConnector.httpConnectionHourlyPred(AEMETConnector.java:55)\n    at es.cartif.main.AEMETMain.main(AEMETMain.java:10)\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:369)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1497)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1403)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:441)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:412)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:290)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:259)\n    at org.apache.http.impl.conn.HttpClientConnectionOperator.connect(HttpClientConnectionOperator.java:125)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:319)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:363)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:219)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:195)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:86)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:108)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:106)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:57)\n    at com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:138)\n    ... 3 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\n    ... 28 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n    ... 33 more\nError making the data request javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","springdoc"],"answers":[{"tags":[],"owner":{"display_name":"user11878890"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597106378,"creation_date":1597106378,"answer_id":63349913,"question_id":63335357,"body_markdown":" Have you looked at the documentation?\r\n- https://springdoc.github.io/springdoc-openapi-demos/springdoc-properties.html#swagger-ui-properties\r\n\r\nYou can use the swagger-ui properties, without having to override the standard way of sorting (operationsSorter and tagsSorter). \r\n\r\nFor example:\r\n\r\n```properties\r\nspringdoc.swagger-ui.operationsSorter=method\r\nspringdoc.swagger-ui.tagsSorter=alpha\r\n```\r\n\r\n\r\nIf you want a an order on the server side, you can use OpenApiCustomiser, to sort the elements\r\n\r\nThis is a sample code that you can customize using Comparators, depending on the sorting logic you want: \r\n\r\nExample, for alphabetical order sorting of schemas:\r\n\r\n```java\r\n@Bean\r\npublic OpenApiCustomiser sortSchemasAlphabetically() {\r\n\treturn openApi -&gt; {\r\n\t\tMap&lt;String, Schema&gt; schemas = openApi.getComponents().getSchemas();\r\n\t\topenApi.getComponents().setSchemas(new TreeMap&lt;&gt;(schemas));\r\n\t};\r\n}\r\n\r\n```\r\n\r\nExample for sorting tags, in alphabetical order:\r\n\r\n    @Bean\r\n    public OpenApiCustomiser sortTagsAlphabetically() {\r\n        return openApi -&gt; openApi.setTags(openApi.getTags()\r\n                .stream()\r\n                .sorted(Comparator.comparing(tag -&gt; StringUtils.stripAccents(tag.getName())))\r\n                .collect(Collectors.toList()));\r\n    }\r\n\r\nYou can have full control on the elements order, and you can sort them depending on your use case...\r\n","title":"Springdoc random api-docs generation","body":"<p>Have you looked at the documentation?</p>\n<ul>\n<li><a href=\"https://springdoc.github.io/springdoc-openapi-demos/springdoc-properties.html#swagger-ui-properties\" rel=\"nofollow noreferrer\">https://springdoc.github.io/springdoc-openapi-demos/springdoc-properties.html#swagger-ui-properties</a></li>\n</ul>\n<p>You can use the swagger-ui properties, without having to override the standard way of sorting (operationsSorter and tagsSorter).</p>\n<p>For example:</p>\n<pre><code>springdoc.swagger-ui.operationsSorter=method\nspringdoc.swagger-ui.tagsSorter=alpha\n</code></pre>\n<p>If you want a an order on the server side, you can use OpenApiCustomiser, to sort the elements</p>\n<p>This is a sample code that you can customize using Comparators, depending on the sorting logic you want:</p>\n<p>Example, for alphabetical order sorting of schemas:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic OpenApiCustomiser sortSchemasAlphabetically() {\n    return openApi -&gt; {\n        Map&lt;String, Schema&gt; schemas = openApi.getComponents().getSchemas();\n        openApi.getComponents().setSchemas(new TreeMap&lt;&gt;(schemas));\n    };\n}\n\n</code></pre>\n<p>Example for sorting tags, in alphabetical order:</p>\n<pre><code>@Bean\npublic OpenApiCustomiser sortTagsAlphabetically() {\n    return openApi -&gt; openApi.setTags(openApi.getTags()\n            .stream()\n            .sorted(Comparator.comparing(tag -&gt; StringUtils.stripAccents(tag.getName())))\n            .collect(Collectors.toList()));\n}\n</code></pre>\n<p>You can have full control on the elements order, and you can sort them depending on your use case...</p>\n"},{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640213704,"creation_date":1640213704,"answer_id":70455976,"question_id":63335357,"body_markdown":"one other flag [mentioned here][1]:\r\n\r\n    springdoc:\r\n     writer-with-order-by-keys\r\n\r\n  [1]: https://github.com/springdoc/springdoc-openapi/issues/445#issuecomment-732988987\r\n","title":"Springdoc random api-docs generation","body":"<p>one other flag <a href=\"https://github.com/springdoc/springdoc-openapi/issues/445#issuecomment-732988987\" rel=\"nofollow noreferrer\">mentioned here</a>:</p>\n<pre><code>springdoc:\n writer-with-order-by-keys\n</code></pre>\n"}],"owner":{"account_id":11651321,"reputation":53,"user_id":8532540,"display_name":"roll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640213704,"creation_date":1597042056,"question_id":63335357,"body_markdown":"I am looking to generate an api that take different content type.\r\n\r\nThe problem I am facing is that if I run several time my application I have different output documentation\r\n\r\n```\r\n@RestController\r\npublic class MyRestController {\r\n\r\n    @Operation(summary = &quot;GetMyData&quot;, operationId = &quot;gettt&quot;,\r\n        responses = @ApiResponse(responseCode = &quot;204&quot;, content = @Content(mediaType = &quot;application/vnd.something&quot;)))\r\n    @GetMapping(produces = &quot;application/vnd.something&quot;)\r\n    public ResponseEntity&lt;Void&gt; getSomethingElse() {\r\n        return noContent().build();\r\n    }\r\n\r\n    @GetMapping(produces = TEXT_PLAIN_VALUE)\r\n    public String get() {\r\n        return &quot;some text&quot;;\r\n    }\r\n\r\n    @GetMapping(produces = HAL_JSON_VALUE)\r\n    public EntityModel&lt;JsonResponse&gt; getHal() {\r\n        return EntityModel.of(new JsonResponse(),\r\n            linkTo(MyRestController.class).slash(&quot;somelink&quot;).withSelfRel()\r\n        );\r\n    }\r\n\r\n    @GetMapping(produces = APPLICATION_JSON_VALUE)\r\n    public JsonResponse getJson() {\r\n        return new JsonResponse();\r\n    }\r\n}\r\n```\r\n\r\n\r\nIt currently generate a wrong api-docs \r\n```json\r\n&quot;operationId&quot;: &quot;gettt_1_1_1&quot;,\r\n&quot;responses&quot;: {\r\n\t&quot;200&quot;: {\r\n\t\t&quot;content&quot;: {\r\n\t\t\t&quot;application/hal+json&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/EntityModelJsonResponse&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t&quot;application/json&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/JsonResponse&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t&quot;text/plain&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;description&quot;: &quot;OK&quot;\r\n\t},\r\n\t&quot;204&quot;: {\r\n\t\t&quot;content&quot;: {\r\n\t\t\t&quot;application/hal+json&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/EntityModelJsonResponse&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t&quot;application/vnd.something&quot;: {},\r\n\t\t\t&quot;text/plain&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;description&quot;: &quot;No Content&quot;\r\n\t}\r\n},\r\n\r\n```\r\n\r\nIf I restart  my server without changing the code the following response is generated\r\n```\r\n&quot;operationId&quot;: &quot;gettt_1&quot;,\r\n&quot;responses&quot;: {\r\n\t&quot;200&quot;: {\r\n\t\t&quot;content&quot;: {\r\n\t\t\t&quot;application/hal+json&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/EntityModelJsonResponse&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t&quot;application/json&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;$ref&quot;: &quot;#/components/schemas/JsonResponse&quot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t&quot;text/plain&quot;: {\r\n\t\t\t\t&quot;schema&quot;: {\r\n\t\t\t\t\t&quot;type&quot;: &quot;string&quot;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t&quot;description&quot;: &quot;OK&quot;\r\n\t},\r\n\t&quot;204&quot;: {\r\n\t\t&quot;content&quot;: {\r\n\t\t\t&quot;application/vnd.something&quot;: {}\r\n\t\t},\r\n\t\t&quot;description&quot;: &quot;No Content&quot;\r\n\t}\r\n},\r\n\r\n```\r\n\r\nI would expect that restarting my server will always generate the same documentation","title":"Springdoc random api-docs generation","body":"<p>I am looking to generate an api that take different content type.</p>\n<p>The problem I am facing is that if I run several time my application I have different output documentation</p>\n<pre><code>@RestController\npublic class MyRestController {\n\n    @Operation(summary = &quot;GetMyData&quot;, operationId = &quot;gettt&quot;,\n        responses = @ApiResponse(responseCode = &quot;204&quot;, content = @Content(mediaType = &quot;application/vnd.something&quot;)))\n    @GetMapping(produces = &quot;application/vnd.something&quot;)\n    public ResponseEntity&lt;Void&gt; getSomethingElse() {\n        return noContent().build();\n    }\n\n    @GetMapping(produces = TEXT_PLAIN_VALUE)\n    public String get() {\n        return &quot;some text&quot;;\n    }\n\n    @GetMapping(produces = HAL_JSON_VALUE)\n    public EntityModel&lt;JsonResponse&gt; getHal() {\n        return EntityModel.of(new JsonResponse(),\n            linkTo(MyRestController.class).slash(&quot;somelink&quot;).withSelfRel()\n        );\n    }\n\n    @GetMapping(produces = APPLICATION_JSON_VALUE)\n    public JsonResponse getJson() {\n        return new JsonResponse();\n    }\n}\n</code></pre>\n<p>It currently generate a wrong api-docs</p>\n<pre><code>&quot;operationId&quot;: &quot;gettt_1_1_1&quot;,\n&quot;responses&quot;: {\n    &quot;200&quot;: {\n        &quot;content&quot;: {\n            &quot;application/hal+json&quot;: {\n                &quot;schema&quot;: {\n                    &quot;$ref&quot;: &quot;#/components/schemas/EntityModelJsonResponse&quot;\n                }\n            },\n            &quot;application/json&quot;: {\n                &quot;schema&quot;: {\n                    &quot;$ref&quot;: &quot;#/components/schemas/JsonResponse&quot;\n                }\n            },\n            &quot;text/plain&quot;: {\n                &quot;schema&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            }\n        },\n        &quot;description&quot;: &quot;OK&quot;\n    },\n    &quot;204&quot;: {\n        &quot;content&quot;: {\n            &quot;application/hal+json&quot;: {\n                &quot;schema&quot;: {\n                    &quot;$ref&quot;: &quot;#/components/schemas/EntityModelJsonResponse&quot;\n                }\n            },\n            &quot;application/vnd.something&quot;: {},\n            &quot;text/plain&quot;: {\n                &quot;schema&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            }\n        },\n        &quot;description&quot;: &quot;No Content&quot;\n    }\n},\n\n</code></pre>\n<p>If I restart  my server without changing the code the following response is generated</p>\n<pre><code>&quot;operationId&quot;: &quot;gettt_1&quot;,\n&quot;responses&quot;: {\n    &quot;200&quot;: {\n        &quot;content&quot;: {\n            &quot;application/hal+json&quot;: {\n                &quot;schema&quot;: {\n                    &quot;$ref&quot;: &quot;#/components/schemas/EntityModelJsonResponse&quot;\n                }\n            },\n            &quot;application/json&quot;: {\n                &quot;schema&quot;: {\n                    &quot;$ref&quot;: &quot;#/components/schemas/JsonResponse&quot;\n                }\n            },\n            &quot;text/plain&quot;: {\n                &quot;schema&quot;: {\n                    &quot;type&quot;: &quot;string&quot;\n                }\n            }\n        },\n        &quot;description&quot;: &quot;OK&quot;\n    },\n    &quot;204&quot;: {\n        &quot;content&quot;: {\n            &quot;application/vnd.something&quot;: {}\n        },\n        &quot;description&quot;: &quot;No Content&quot;\n    }\n},\n\n</code></pre>\n<p>I would expect that restarting my server will always generate the same documentation</p>\n"},{"tags":["java","android","sharedpreferences","edittextpreference"],"comments":[{"owner":{"account_id":5285394,"reputation":7879,"user_id":4224337,"accept_rate":50,"display_name":"Rami"},"score":0,"creation_date":1423330342,"post_id":28383400,"comment_id":45108048,"body_markdown":"You want to set *android:defaultValue* from code?","body":"You want to set <i>android:defaultValue</i> from code?"},{"owner":{"account_id":5568327,"reputation":323,"user_id":4414660,"display_name":"ㅤㅤㅤㅤㅤㅤ"},"score":0,"creation_date":1423350314,"post_id":28383400,"comment_id":45114615,"body_markdown":"@Rami If its only possible through code, sure. But if the xml can help find it by its own, that would be better. Like: `@strings/....` etc etc... something like that.","body":"@Rami If its only possible through code, sure. But if the xml can help find it by its own, that would be better. Like: <code>@strings&#47;....</code> etc etc... something like that."},{"owner":{"account_id":5285394,"reputation":7879,"user_id":4224337,"accept_rate":50,"display_name":"Rami"},"score":0,"creation_date":1423353782,"post_id":28383400,"comment_id":45115549,"body_markdown":"In the xml, you can do it by: *android:defaultValue=&quot;YOUR_DEFAULT_VALUE&quot;*. Notice that you get your default value from strings.xml *android:defaultValue=&quot;@strings/....&quot;*.","body":"In the xml, you can do it by: <i>android:defaultValue=&quot;YOUR_DEFAULT_VALUE&quot;</i>. Notice that you get your default value from strings.xml <i>android:defaultValue=&quot;@strings/....&quot;</i>."},{"owner":{"account_id":5568327,"reputation":323,"user_id":4414660,"display_name":"ㅤㅤㅤㅤㅤㅤ"},"score":0,"creation_date":1423353907,"post_id":28383400,"comment_id":45115572,"body_markdown":"@Rami Oh no I do not plan on setting the default values from strings.xml, I just wanted to give an example of setting the default values like in a similar way as you would from strings.xml.\n\n\nI want to set the default values as the strings I have stored in the `SharedPreferences` which their keys are `&quot;weight&quot;` and `&quot;age&quot;`.","body":"@Rami Oh no I do not plan on setting the default values from strings.xml, I just wanted to give an example of setting the default values like in a similar way as you would from strings.xml.   I want to set the default values as the strings I have stored in the <code>SharedPreferences</code> which their keys are <code>&quot;weight&quot;</code> and <code>&quot;age&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":4863127,"reputation":15025,"user_id":3922207,"accept_rate":63,"display_name":"Anggrayudi H"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423367750,"creation_date":1423332118,"answer_id":28385536,"question_id":28383400,"body_markdown":"Firstly, set the default value for `EditTextPreference`. The value will be stored as a `String` type. For example:\r\n\r\n    &lt;EditTextPreference\r\n        android:key=&quot;weight&quot;\r\n        android:defaultValue=&quot;enter your value (54)&quot;\r\n        ... /&gt;\r\n\r\n    &lt;EditTextPreference\r\n        android:key=&quot;age&quot;\r\n        android:defaultValue=&quot;enter your value&quot;\r\n        ... /&gt;\r\n\r\nThen, apply the default value in activity where your app&#39;s activity is started first (once installed for first). For example, in the `MainActivity`&#39;s `onCreate()` method:\r\n\r\n    PreferenceManager.setDefaultValue(this, R.xml.settings, false);","title":"Android how to set default value of EditTextPreference from SharedPreference?","body":"<p>Firstly, set the default value for <code>EditTextPreference</code>. The value will be stored as a <code>String</code> type. For example:</p>\n\n<pre><code>&lt;EditTextPreference\n    android:key=\"weight\"\n    android:defaultValue=\"enter your value (54)\"\n    ... /&gt;\n\n&lt;EditTextPreference\n    android:key=\"age\"\n    android:defaultValue=\"enter your value\"\n    ... /&gt;\n</code></pre>\n\n<p>Then, apply the default value in activity where your app's activity is started first (once installed for first). For example, in the <code>MainActivity</code>'s <code>onCreate()</code> method:</p>\n\n<pre><code>PreferenceManager.setDefaultValue(this, R.xml.settings, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5714035,"reputation":145,"user_id":4514975,"accept_rate":75,"display_name":"endlesschaos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423335880,"creation_date":1423335880,"answer_id":28386150,"question_id":28383400,"body_markdown":"All you have to do is use the sharedPreferences.getString() and then use the editext.setText() to that.","title":"Android how to set default value of EditTextPreference from SharedPreference?","body":"<p>All you have to do is use the sharedPreferences.getString() and then use the editext.setText() to that.</p>\n"},{"tags":[],"owner":{"account_id":5568327,"reputation":323,"user_id":4414660,"display_name":"ㅤㅤㅤㅤㅤㅤ"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1423366089,"creation_date":1423366089,"answer_id":28390244,"question_id":28383400,"body_markdown":"Okay guys, I got it:\r\n\r\n    import android.preference.EditTextPreference;\r\n    \r\n    public class Settings extends PreferenceActivity {\r\n    \t\r\n    \t\r\n    \tEditTextPreference weightEditTextPreference;\r\n    \tEditTextPreference ageEditTextPreference;\r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\taddPreferencesFromResource(R.xml.settings);\r\n    \t\t\r\n    \t\tweightEditTextPreference = (EditTextPreference)findPreference(&quot;weight&quot;);\r\n    \t\tageEditTextPreference = (EditTextPreference)findPreference(&quot;age&quot;);\r\n    \t\t\r\n    \t\tSharedPreferences getWeightAndAgeStore = getSharedPreferences(&quot;weightAndAgeStorage&quot;, Context.MODE_PRIVATE);\r\n    \t\tweightEditTextPreference.setText(getWeightAndAgeStore.getString(&quot;weight&quot;, &quot;0&quot;));\r\n    \t\tageEditTextPreference.setText(getWeightAndAgeStore.getString(&quot;age&quot;, &quot;0&quot;));\r\n\r\n\r\nWhat this does is that it sets the EditText box to the `SharedPreferences`&#39; saved key (in this case, `weight` and `age` of `WeightAndAgeStorage`) data in the dialog that pops up when you press it.\r\n\r\n\r\nHope anyone else reading this now or in the future (but what about the past?) benefits from this finding.\r\n\r\nCheers!","title":"Android how to set default value of EditTextPreference from SharedPreference?","body":"<p>Okay guys, I got it:</p>\n\n<pre><code>import android.preference.EditTextPreference;\n\npublic class Settings extends PreferenceActivity {\n\n\n    EditTextPreference weightEditTextPreference;\n    EditTextPreference ageEditTextPreference;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        addPreferencesFromResource(R.xml.settings);\n\n        weightEditTextPreference = (EditTextPreference)findPreference(\"weight\");\n        ageEditTextPreference = (EditTextPreference)findPreference(\"age\");\n\n        SharedPreferences getWeightAndAgeStore = getSharedPreferences(\"weightAndAgeStorage\", Context.MODE_PRIVATE);\n        weightEditTextPreference.setText(getWeightAndAgeStore.getString(\"weight\", \"0\"));\n        ageEditTextPreference.setText(getWeightAndAgeStore.getString(\"age\", \"0\"));\n</code></pre>\n\n<p>What this does is that it sets the EditText box to the <code>SharedPreferences</code>' saved key (in this case, <code>weight</code> and <code>age</code> of <code>WeightAndAgeStorage</code>) data in the dialog that pops up when you press it.</p>\n\n<p>Hope anyone else reading this now or in the future (but what about the past?) benefits from this finding.</p>\n\n<p>Cheers!</p>\n"}],"owner":{"account_id":5568327,"reputation":323,"user_id":4414660,"display_name":"ㅤㅤㅤㅤㅤㅤ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24939,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":28390244,"answer_count":3,"score":13,"last_activity_date":1640213207,"creation_date":1423319857,"question_id":28383400,"body_markdown":"This time in the same project I&#39;m facing a slightly challenging issue where in settings.xml file in the res/xml folder: \r\n\r\n    &lt;EditTextPreference\r\n        android:key=&quot;weight&quot; \r\n        android:title=&quot;@string/update_user_weight&quot;\r\n        android:persistent=&quot;true&quot;\r\n        android:dialogTitle=&quot;@string/update_user_weight&quot;\r\n        android:dialogMessage=&quot;@string/update_user_weight_message&quot;\r\n        android:defaultValue=&quot;&quot; /&gt;\r\n                \r\n    &lt;EditTextPreference\r\n        android:key=&quot;age&quot;\r\n        android:title=&quot;@string/update_user_age&quot;\r\n        android:persistent=&quot;true&quot;\r\n        android:dialogTitle=&quot;@string/update_user_age&quot;\r\n        android:dialogMessage=&quot;@string/update_user_age_message&quot;\r\n        android:defaultValue=&quot;&quot; /&gt;\r\n\r\n\r\nand in a class file UserData.java:\r\n\r\n    SharedPreferences storeWeightAndAge = getSharedPreferences(&quot;WeightAndAgeStorage&quot;, Context.MODE_PRIVATE);\r\n    Editor store = storeWeightAndAge.edit();\r\n    store.putString(&quot;weight&quot;, weightData);\r\n    store.putString(&quot;age&quot;, ageData);\r\n    store.commit();\r\n\r\n\r\nWhat I&#39;m trying to do here is to set the above two EditTextPreferences&#39; `android:defaultValue` to stored `weight` and `age` in the `SharedPreferences`  respectively.\r\n\r\nNow, how do I go about doing that?\r\n\r\n\r\nEDIT: provided Settings.java file that uses the settings.xml file:\r\n\r\n    package com.example.drinkup;\r\n    \r\n    import android.content.SharedPreferences;\r\n    import android.os.*;\r\n    import android.preference.PreferenceFragment;\r\n    import android.preference.PreferenceActivity;\r\n    import android.preference.PreferenceManager;\r\n    \r\n    public class Settings extends PreferenceActivity {\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\taddPreferencesFromResource(R.xml.settings);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Android how to set default value of EditTextPreference from SharedPreference?","body":"<p>This time in the same project I'm facing a slightly challenging issue where in settings.xml file in the res/xml folder: </p>\n\n<pre><code>&lt;EditTextPreference\n    android:key=\"weight\" \n    android:title=\"@string/update_user_weight\"\n    android:persistent=\"true\"\n    android:dialogTitle=\"@string/update_user_weight\"\n    android:dialogMessage=\"@string/update_user_weight_message\"\n    android:defaultValue=\"\" /&gt;\n\n&lt;EditTextPreference\n    android:key=\"age\"\n    android:title=\"@string/update_user_age\"\n    android:persistent=\"true\"\n    android:dialogTitle=\"@string/update_user_age\"\n    android:dialogMessage=\"@string/update_user_age_message\"\n    android:defaultValue=\"\" /&gt;\n</code></pre>\n\n<p>and in a class file UserData.java:</p>\n\n<pre><code>SharedPreferences storeWeightAndAge = getSharedPreferences(\"WeightAndAgeStorage\", Context.MODE_PRIVATE);\nEditor store = storeWeightAndAge.edit();\nstore.putString(\"weight\", weightData);\nstore.putString(\"age\", ageData);\nstore.commit();\n</code></pre>\n\n<p>What I'm trying to do here is to set the above two EditTextPreferences' <code>android:defaultValue</code> to stored <code>weight</code> and <code>age</code> in the <code>SharedPreferences</code>  respectively.</p>\n\n<p>Now, how do I go about doing that?</p>\n\n<p>EDIT: provided Settings.java file that uses the settings.xml file:</p>\n\n<pre><code>package com.example.drinkup;\n\nimport android.content.SharedPreferences;\nimport android.os.*;\nimport android.preference.PreferenceFragment;\nimport android.preference.PreferenceActivity;\nimport android.preference.PreferenceManager;\n\npublic class Settings extends PreferenceActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        addPreferencesFromResource(R.xml.settings);\n\n\n\n    }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8254,"page":1738,"page_size":100}
