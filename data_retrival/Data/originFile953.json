{"items":[{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666039819,"post_id":74102736,"comment_id":130836869,"body_markdown":"Does this answer your question? [How to call oracle function from java](https://stackoverflow.com/questions/24902849/how-to-call-oracle-function-from-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24902849/how-to-call-oracle-function-from-java\">How to call oracle function from java</a>"}],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666070584,"creation_date":1666070584,"answer_id":74106044,"question_id":74102736,"body_markdown":"A PIPELINED function or a function returning an array of OBJECT (or a Polymorphic Table Function) is seen as returning the rows of a table:\r\nIn SQL, you would write:\r\n\r\n    SELECT * FROM TABLE(my_function(?)) ;\r\n\r\nor in recent ORACLE versions:\r\n\r\n    SELECT * FROM my_function(?) ;\r\n\r\nso you should get the result as any result set from a &quot;standard&quot; select.\r\n\r\nYou should play with Oracle.Types.ARRAY only for IN or OUT parameters of a function/procedure.\r\n","title":"Receive bulk collect oracle in java using JDBC","body":"<p>A PIPELINED function or a function returning an array of OBJECT (or a Polymorphic Table Function) is seen as returning the rows of a table:\nIn SQL, you would write:</p>\n<pre><code>SELECT * FROM TABLE(my_function(?)) ;\n</code></pre>\n<p>or in recent ORACLE versions:</p>\n<pre><code>SELECT * FROM my_function(?) ;\n</code></pre>\n<p>so you should get the result as any result set from a &quot;standard&quot; select.</p>\n<p>You should play with Oracle.Types.ARRAY only for IN or OUT parameters of a function/procedure.</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666070584,"creation_date":1666037548,"question_id":74102736,"body_markdown":"Good aftenoon\r\n\r\nI am working in java and I need to work with JDBC (I don&#39;t know if another way is recommended) to retrieve a Bulk Collect that is inside a function in an Oracle DB, the function in question has the following definition:\r\n\r\n      FUNCTION obtenerinfoctaserial(p_xesn IN ces_cuenta_serial.xesn%TYPE)\r\n        RETURN ct_cuenta_serial IS\r\n        lv_retorno ct_cuenta_serial;\r\n      BEGIN\r\n        SELECT t_cuenta_serial(ccuenta,\r\n                               xesn,\r\n                               id_plataforma,\r\n                               finclusion,\r\n                               id_modelo,\r\n                               id_marca) BULK COLLECT\r\n          INTO lv_retorno\r\n          FROM ces_cuenta_serial a\r\n         WHERE a.xesn = p_xesn;\r\n    \r\n        RETURN(lv_retorno);\r\n      END obtenerinfoctaserial;\r\n\r\nI think the idea is to retrieve it through the type Oracle.Types.ARRAY and after that it is stored in an array of string STRING[], but I have the doubt of how to make the call code.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Receive bulk collect oracle in java using JDBC","body":"<p>Good aftenoon</p>\n<p>I am working in java and I need to work with JDBC (I don't know if another way is recommended) to retrieve a Bulk Collect that is inside a function in an Oracle DB, the function in question has the following definition:</p>\n<pre><code>  FUNCTION obtenerinfoctaserial(p_xesn IN ces_cuenta_serial.xesn%TYPE)\n    RETURN ct_cuenta_serial IS\n    lv_retorno ct_cuenta_serial;\n  BEGIN\n    SELECT t_cuenta_serial(ccuenta,\n                           xesn,\n                           id_plataforma,\n                           finclusion,\n                           id_modelo,\n                           id_marca) BULK COLLECT\n      INTO lv_retorno\n      FROM ces_cuenta_serial a\n     WHERE a.xesn = p_xesn;\n\n    RETURN(lv_retorno);\n  END obtenerinfoctaserial;\n</code></pre>\n<p>I think the idea is to retrieve it through the type Oracle.Types.ARRAY and after that it is stored in an array of string STRING[], but I have the doubt of how to make the call code.</p>\n"},{"tags":["java","apache-commons","apache-commons-configuration"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666066200,"post_id":74056686,"comment_id":130841245,"body_markdown":"I don’t understand what you said at the end, could you perhaps clarify using an example? What is that you found by debugging, what is null and and what isn’t?","body":"I don’t understand what you said at the end, could you perhaps clarify using an example? What is that you found by debugging, what is null and and what isn’t?"},{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1666070024,"post_id":74056686,"comment_id":130841832,"body_markdown":"@AbhijitSarkar updated as answer your queries.","body":"@AbhijitSarkar updated as answer your queries."},{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":1,"creation_date":1666073672,"post_id":74056686,"comment_id":130842581,"body_markdown":"Have you consulted this page from commons-configuration showing how to use the bean property mechanism https://commons.apache.org/proper/commons-configuration/userguide/howto_beans.html#An_Example? Not sure, if the get method by default provides any kind of bean conversion as you are using it.","body":"Have you consulted this page from commons-configuration showing how to use the bean property mechanism <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/howto_beans.html#An_Example\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-configuration/userguide/&hellip;</a>? Not sure, if the get method by default provides any kind of bean conversion as you are using it."},{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1666074565,"post_id":74056686,"comment_id":130842840,"body_markdown":"@swinkler let me try that. Thanks for the tip.","body":"@swinkler let me try that. Thanks for the tip."},{"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"score":0,"creation_date":1666075099,"post_id":74056686,"comment_id":130842983,"body_markdown":"If you are not bound to the apache lib, you might consider easy to use sources like shown here with Snake Yaml: https://www.baeldung.com/java-snake-yaml or spring properties https://www.baeldung.com/properties-with-spring","body":"If you are not bound to the apache lib, you might consider easy to use sources like shown here with Snake Yaml: <a href=\"https://www.baeldung.com/java-snake-yaml\" rel=\"nofollow noreferrer\">baeldung.com/java-snake-yaml</a> or spring properties <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/properties-with-spring</a>"},{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1666077993,"post_id":74056686,"comment_id":130843877,"body_markdown":"@swinkler I am using snake-yml. But i wanted to use auto reload mechanism from commons configuration.","body":"@swinkler I am using snake-yml. But i wanted to use auto reload mechanism from commons configuration."}],"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666069985,"creation_date":1665668049,"question_id":74056686,"body_markdown":"I am using Apache Commons Configuration to read config file in YAML format. Suppose I have a yaml config file with below content\r\n```yaml\r\nuser:\r\n  name: dev\r\n  accessLevel: 5\r\n  adminAccess: true\r\n```\r\nAnd a Java class \r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User {\r\n    private String name;\r\n    private Integer accessLevel;\r\n    private Boolean adminAccess;\r\n}\r\n```\r\nNow I need to initialize an instance of `User` with the values from the config file. As per the Commons Configuration API docs, the below code should have done the job. But the user instance is null.\r\n```java\r\nUser user= configuration.get(User.class, &quot;user&quot;);\r\n```\r\nIs this use case supported by Commons Configuration?  \r\nIf yes, what could be wrong in my code/approach?\r\n\r\n**Update:**  \r\nFor hierarchical configurations, a `Node` pointing to a property key has a `value` and list of Child Nodes. After some debugging, it is found that the `get()` call retrieves the Node &quot;user&quot; with the list of child nodes correctly populated but the value field is `null`. It&#39;s the &quot;value&quot; of node that gets converted and not the Child Nodes. So, the translation of child nodes to `User.class` would not work. I don&#39;t know if there is any customization that can be done to get this working.","title":"initialize object of specified class with data from configuration file","body":"<p>I am using Apache Commons Configuration to read config file in YAML format. Suppose I have a yaml config file with below content</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>user:\n  name: dev\n  accessLevel: 5\n  adminAccess: true\n</code></pre>\n<p>And a Java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    private String name;\n    private Integer accessLevel;\n    private Boolean adminAccess;\n}\n</code></pre>\n<p>Now I need to initialize an instance of <code>User</code> with the values from the config file. As per the Commons Configuration API docs, the below code should have done the job. But the user instance is null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>User user= configuration.get(User.class, &quot;user&quot;);\n</code></pre>\n<p>Is this use case supported by Commons Configuration?<br />\nIf yes, what could be wrong in my code/approach?</p>\n<p><strong>Update:</strong><br />\nFor hierarchical configurations, a <code>Node</code> pointing to a property key has a <code>value</code> and list of Child Nodes. After some debugging, it is found that the <code>get()</code> call retrieves the Node &quot;user&quot; with the list of child nodes correctly populated but the value field is <code>null</code>. It's the &quot;value&quot; of node that gets converted and not the Child Nodes. So, the translation of child nodes to <code>User.class</code> would not work. I don't know if there is any customization that can be done to get this working.</p>\n"},{"tags":["java","java-native-interface","jna","oshi"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666021280,"post_id":74099758,"comment_id":130830975,"body_markdown":"The easiest would be to provide a command line option to pass in the limit you want to use.  This wouldn&#39;t have to be the actual process limit, it could be some lower limit to conserve resources.  But if you really need a per-process limit I think wrangling a JNA call is your only option.","body":"The easiest would be to provide a command line option to pass in the limit you want to use.  This wouldn&#39;t have to be the actual process limit, it could be some lower limit to conserve resources.  But if you really need a per-process limit I think wrangling a JNA call is your only option."},{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":0,"creation_date":1666077566,"post_id":74099758,"comment_id":130843734,"body_markdown":"Maybe you wish to know how many files can you safely keep open in the same time? It is a different question as there can be other limitations not only ulimit.","body":"Maybe you wish to know how many files can you safely keep open in the same time? It is a different question as there can be other limitations not only ulimit."},{"owner":{"account_id":16764163,"reputation":53,"user_id":12118201,"display_name":"stackseti"},"score":0,"creation_date":1666082292,"post_id":74099758,"comment_id":130845241,"body_markdown":"I am mainly concerned about the max open files in regards to TCP connections which can be opened by the process and I am already aware of the other limitations around that like max ports, etc.","body":"I am mainly concerned about the max open files in regards to TCP connections which can be opened by the process and I am already aware of the other limitations around that like max ports, etc."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666029066,"creation_date":1666027694,"answer_id":74101019,"question_id":74099758,"body_markdown":"Linux provides these values in [`/proc/sys/fs`][1]\r\n&gt; **file-max &amp; file-nr**\r\n&gt; The value in file-max denotes the maximum number of file-handles that the Linux kernel will allocate. When you get lots of error messages about running out of file handles, you might want to increase this limit.\r\n&gt; \r\n&gt; **nr_open**\r\n&gt; This denotes the maximum number of file-handles a process can allocate. Default value is 1024*1024 (1048576) which should be enough for most machines. Actual limit depends on RLIMIT_NOFILE resource limit.\r\n\r\nMacOS provides these values via sysctl:\r\n```\r\nkern.maxfiles: 245760\r\nkern.maxfilesperproc: 122880\r\nkern.num_files: 8685\r\n```\r\nFreeBSD also provides them via sysctl, but with a different name for the open files.\r\n```\r\nkern.maxfiles: 64534\r\nkern.maxfilesperproc: 58077\r\nkern.openfiles: 1339\r\n```\r\nOpenBSD also provides them via sysctl, and also with different names.\r\n```\r\nkern.maxfiles=7030\r\nkern.nfiles=143\r\n```\r\nSolaris provides the values in `kstat:/kmem_cache/kmem_default/file_cache` for `buf_inuse` and `buf_max`.\r\n\r\nOn some Unix-based filesystem, you can probably capture the command line output of `lsof -nl` to count the current files (although this may be slow), and `ulimit -n` for the max.\r\n\r\nOSHI returns the values from procfs for Linux, sysctl for macOS, FreeBSD, OpenBSD, kstat for Solaris, and from the command lines above for AIX.  \r\n\r\nI may be biased as OSHI&#39;s author, but that&#39;s probably your easiest route to getting these values cross-platform.\r\n\r\nFor Windows, there are no &quot;file limits&quot; per se.  Windows enforces limits on handles.  See [this Stack Exchange question][2] for more details on those limits.  That question and answer are the source of the qualified language I put in OSHI&#39;s javadocs.\r\n&gt; Theoretically in 64-bit Windows the maximum number of handles that a process can open is 2&lt;sup&gt;32&lt;/sup&gt;, because handles have 32 significant bits. However in reality it has been limited to 16,777,216 (2&lt;sup&gt;24&lt;/sup&gt;) per process. On 32-bit Windows the limit is likely 2&lt;sup&gt;16&lt;/sup&gt;\r\n\r\nand also\r\n&gt; However for a single process that uses the default C run-time libraries then the default limit is 512\r\n\r\nand\r\n&gt; It&#39;s unclear the maximum number of total file handles for all processes in Windows\r\n\r\n\r\n  [1]: https://docs.kernel.org/admin-guide/sysctl/fs.html\r\n  [2]: https://superuser.com/questions/1356320/what-is-the-number-of-open-files-limits","title":"How to get the open file limit in Java?","body":"<p>Linux provides these values in <a href=\"https://docs.kernel.org/admin-guide/sysctl/fs.html\" rel=\"nofollow noreferrer\"><code>/proc/sys/fs</code></a></p>\n<blockquote>\n<p><strong>file-max &amp; file-nr</strong>\nThe value in file-max denotes the maximum number of file-handles that the Linux kernel will allocate. When you get lots of error messages about running out of file handles, you might want to increase this limit.</p>\n<p><strong>nr_open</strong>\nThis denotes the maximum number of file-handles a process can allocate. Default value is 1024*1024 (1048576) which should be enough for most machines. Actual limit depends on RLIMIT_NOFILE resource limit.</p>\n</blockquote>\n<p>MacOS provides these values via sysctl:</p>\n<pre><code>kern.maxfiles: 245760\nkern.maxfilesperproc: 122880\nkern.num_files: 8685\n</code></pre>\n<p>FreeBSD also provides them via sysctl, but with a different name for the open files.</p>\n<pre><code>kern.maxfiles: 64534\nkern.maxfilesperproc: 58077\nkern.openfiles: 1339\n</code></pre>\n<p>OpenBSD also provides them via sysctl, and also with different names.</p>\n<pre><code>kern.maxfiles=7030\nkern.nfiles=143\n</code></pre>\n<p>Solaris provides the values in <code>kstat:/kmem_cache/kmem_default/file_cache</code> for <code>buf_inuse</code> and <code>buf_max</code>.</p>\n<p>On some Unix-based filesystem, you can probably capture the command line output of <code>lsof -nl</code> to count the current files (although this may be slow), and <code>ulimit -n</code> for the max.</p>\n<p>OSHI returns the values from procfs for Linux, sysctl for macOS, FreeBSD, OpenBSD, kstat for Solaris, and from the command lines above for AIX.</p>\n<p>I may be biased as OSHI's author, but that's probably your easiest route to getting these values cross-platform.</p>\n<p>For Windows, there are no &quot;file limits&quot; per se.  Windows enforces limits on handles.  See <a href=\"https://superuser.com/questions/1356320/what-is-the-number-of-open-files-limits\">this Stack Exchange question</a> for more details on those limits.  That question and answer are the source of the qualified language I put in OSHI's javadocs.</p>\n<blockquote>\n<p>Theoretically in 64-bit Windows the maximum number of handles that a process can open is 2<sup>32</sup>, because handles have 32 significant bits. However in reality it has been limited to 16,777,216 (2<sup>24</sup>) per process. On 32-bit Windows the limit is likely 2<sup>16</sup></p>\n</blockquote>\n<p>and also</p>\n<blockquote>\n<p>However for a single process that uses the default C run-time libraries then the default limit is 512</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>It's unclear the maximum number of total file handles for all processes in Windows</p>\n</blockquote>\n"}],"owner":{"account_id":16764163,"reputation":53,"user_id":12118201,"display_name":"stackseti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1045,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74101019,"answer_count":1,"score":3,"last_activity_date":1666069848,"creation_date":1666021143,"question_id":74099758,"body_markdown":"What options are available to get the (hard/soft) open file limits in java? \r\n\r\n[OSHI supports getting the maximum amount of open file descriptors][1] in its `FileSystem.getMaxFileDescriptors()` method but it mentions that `&quot;There may be a lower per-process limit.&quot;`, which seems a bit too vague to me.\r\n\r\nAnother possiblity would be to use JNA or JNI to call [getrlimit()][2], which should get the open file limits of the JVM process. But I am a bit concerned if this will work on enough operating systems.\r\n\r\nAre there other possiblities other than the mentioned ones above?\r\n\r\n  [1]: https://www.oshi.ooo/oshi-core/apidocs/oshi/software/os/FileSystem.html\r\n  [2]: https://man7.org/linux/man-pages/man2/getrlimit.2.html","title":"How to get the open file limit in Java?","body":"<p>What options are available to get the (hard/soft) open file limits in java?</p>\n<p><a href=\"https://www.oshi.ooo/oshi-core/apidocs/oshi/software/os/FileSystem.html\" rel=\"nofollow noreferrer\">OSHI supports getting the maximum amount of open file descriptors</a> in its <code>FileSystem.getMaxFileDescriptors()</code> method but it mentions that <code>&quot;There may be a lower per-process limit.&quot;</code>, which seems a bit too vague to me.</p>\n<p>Another possiblity would be to use JNA or JNI to call <a href=\"https://man7.org/linux/man-pages/man2/getrlimit.2.html\" rel=\"nofollow noreferrer\">getrlimit()</a>, which should get the open file limits of the JVM process. But I am a bit concerned if this will work on enough operating systems.</p>\n<p>Are there other possiblities other than the mentioned ones above?</p>\n"},{"tags":["java","spring","spring-webflux","reactive"],"answers":[{"tags":[],"owner":{"account_id":26154765,"reputation":1,"user_id":19842140,"display_name":"sqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666060373,"creation_date":1666060339,"answer_id":74105062,"question_id":74104504,"body_markdown":"you need to use map instead of flatMap on transfer to dto","title":"How to return a Flux of a DTO when fetching child records of a collection?","body":"<p>you need to use map instead of flatMap on transfer to dto</p>\n"},{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666069838,"creation_date":1666069838,"answer_id":74105944,"question_id":74104504,"body_markdown":"You should collect the child entities to list before mapping.\r\n\r\n````java\r\n    public Flux&lt;UserDto&gt; getUsers(String name) {\r\n        Flux&lt;User&gt; users = userRepo.findByNameLike(name);\r\n\r\n        return users.flatMap(u -&gt; phoneNumberRepo.findByUserId(u.getUserId())\r\n                .collectList()\r\n                .map(phoneNumbers -&gt; {\r\n                    UserDto userDto = new UserDto();\r\n                    userDto.setUserId(u.getUserId());\r\n                    userDto.setPhoneNumbers(phoneNumbers);\r\n                    return userDto;\r\n                }));\r\n    }","title":"How to return a Flux of a DTO when fetching child records of a collection?","body":"<p>You should collect the child entities to list before mapping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Flux&lt;UserDto&gt; getUsers(String name) {\n        Flux&lt;User&gt; users = userRepo.findByNameLike(name);\n\n        return users.flatMap(u -&gt; phoneNumberRepo.findByUserId(u.getUserId())\n                .collectList()\n                .map(phoneNumbers -&gt; {\n                    UserDto userDto = new UserDto();\n                    userDto.setUserId(u.getUserId());\n                    userDto.setPhoneNumbers(phoneNumbers);\n                    return userDto;\n                }));\n    }\n</code></pre>\n"}],"owner":{"account_id":24883282,"reputation":3,"user_id":18756238,"display_name":"newbie123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666069838,"creation_date":1666053286,"question_id":74104504,"body_markdown":"I&#39;m trying to basically do nested loops with reactive/spring webflux.  How would I go about iterating through a Flux, fetching child records, and ultimately return a Flux of DTOs (with the child records in each user dto)?\r\n\r\nHere&#39;s the gist of it, although probably still way off.\r\n\r\n    public Flux&lt;UserDTO&gt; getUsers(String name) {\r\n         Flux&lt;User&gt; users = userRepo.findByNameLike(name);\r\n         \r\n         return users.flatMap(u -&gt; {\r\n                Flux&lt;Phone&gt; phoneNumbers = phoneNumberRepo.findByUserId(u.getUserId());\r\n                \r\n                return phoneNumbers;\r\n           }).flatMap(r -&gt; {\r\n                UserDto userDto = new UserDto();\r\n                userDto.setUserId(u.getUserid());\r\n                userDto.setPhoneNumbers(phoneNumbers);\r\n                \r\n                return userDto;\r\n           });\r\n    }","title":"How to return a Flux of a DTO when fetching child records of a collection?","body":"<p>I'm trying to basically do nested loops with reactive/spring webflux.  How would I go about iterating through a Flux, fetching child records, and ultimately return a Flux of DTOs (with the child records in each user dto)?</p>\n<p>Here's the gist of it, although probably still way off.</p>\n<pre><code>public Flux&lt;UserDTO&gt; getUsers(String name) {\n     Flux&lt;User&gt; users = userRepo.findByNameLike(name);\n     \n     return users.flatMap(u -&gt; {\n            Flux&lt;Phone&gt; phoneNumbers = phoneNumberRepo.findByUserId(u.getUserId());\n            \n            return phoneNumbers;\n       }).flatMap(r -&gt; {\n            UserDto userDto = new UserDto();\n            userDto.setUserId(u.getUserid());\n            userDto.setPhoneNumbers(phoneNumbers);\n            \n            return userDto;\n       });\n}\n</code></pre>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666069761,"creation_date":1666033378,"answer_id":74102000,"question_id":74100700,"body_markdown":"You can try to run above code example. As far as I have understand from `getTransactions` you need only list of transactions without account name, so you can emit for each account a `List` of transactions and subscribe to it implicitly using `flatMap` instead of calling `block` and `subscribe` in called method  \r\n```\r\n@RequiredArgsConstructor\r\npublic class MyService {\r\n   private final UserClient userClient;\r\n   private final TransactionsClient transactionsClient;\r\n\r\n   public Mono&lt;MyResponse&gt; getTransactions(..some relavant params..) {\r\n       return userClient.getAccounts(..some relavant params..)\r\n\t                    .flatMap(account-&gt;getTransactions(account))\r\n                        .subscribeOn(boundedElastic());\r\n   }\r\n\r\n   public Mono&lt;MyResponse&gt; getTransactions(Account account) {\r\n \r\n        return transactionsClient.getTransactions(account)\r\n                                  .map(r -&gt; {..some transformation..})\r\n                                 .collectList()\r\n                                 .map(l-&gt;Map.of(account.getName(),l))\r\n                                 .map(map-&gt;MyResponse.of(map));\r\n   }\r\n}\r\n```","title":"Mapping Collection of Mono to HashMap without blocking","body":"<p>You can try to run above code example. As far as I have understand from <code>getTransactions</code> you need only list of transactions without account name, so you can emit for each account a <code>List</code> of transactions and subscribe to it implicitly using <code>flatMap</code> instead of calling <code>block</code> and <code>subscribe</code> in called method</p>\n<pre><code>@RequiredArgsConstructor\npublic class MyService {\n   private final UserClient userClient;\n   private final TransactionsClient transactionsClient;\n\n   public Mono&lt;MyResponse&gt; getTransactions(..some relavant params..) {\n       return userClient.getAccounts(..some relavant params..)\n                        .flatMap(account-&gt;getTransactions(account))\n                        .subscribeOn(boundedElastic());\n   }\n\n   public Mono&lt;MyResponse&gt; getTransactions(Account account) {\n \n        return transactionsClient.getTransactions(account)\n                                  .map(r -&gt; {..some transformation..})\n                                 .collectList()\n                                 .map(l-&gt;Map.of(account.getName(),l))\n                                 .map(map-&gt;MyResponse.of(map));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":5739181,"reputation":127,"user_id":4532373,"display_name":"asli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666069761,"creation_date":1666025928,"question_id":74100700,"body_markdown":"I am new to Spring Webflux.\r\n\r\nI am trying to write an aggregation service consuming from 2 legacy endpoints that don&#39;t support bulk queries.\r\n\r\n * The first endpoint returns all accounts of a user (mono response). If it fails, the flow ends; no need to query the second endpoint. \r\n * The second endpoint only takes 1 account number and returns its transactions (mono response).\r\n * Transactions response doesn&#39;t contain account identifier, so my aim is simply generate a response like this:\r\n\r\n```\r\n@Value(staticConstructor = &quot;of&quot;)\r\npublic class MyResponse {\r\n   Map&lt;String, List&lt;Transaction&gt;&gt; accountTransactions;\r\n}\r\n```\r\n\r\nMy service now looks like this:\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class MyService {\r\n   private final UserClient userClient;\r\n   private final TransactionsClient transactionsClient;\r\n\r\n   public Mono&lt;MyResponse&gt; getTransactions(..some relavant params..) {\r\n       return userClient.getAccounts(..some relavant params..)\r\n                        .zipWhen(accounts -&gt; getTransactions(account))\r\n                        .map(Tuple2::getT2)\r\n                        .subscribeOn(boundedElastic());\r\n   }\r\n\r\n   public Mono&lt;MyResponse&gt; getTransactions(Accounts accounts) {\r\n      Map&lt;String, List&lt;Transaction&gt;&gt; transactionsOfAccount = new HashMap&lt;&gt;()\r\n      for (var account : accounts) {\r\n         transactionsOfAccount.put(account.getName(), \r\n                                   transactionsClient.getTransactions(account)\r\n                                                     .map(r -&gt; {..some transformation..})\r\n                                                     .subscribeOn(boundedElastic())\r\n                                                     .block());  // Not happy with this\r\n      }\r\n      return Mono.just(MyResponse.of(transactionsOfAccount)) // Not happy with this\r\n   }\r\n}\r\n```\r\n\r\nIs there a way to do it in a non-blocking way?\r\n\r\nThanks in advance...","title":"Mapping Collection of Mono to HashMap without blocking","body":"<p>I am new to Spring Webflux.</p>\n<p>I am trying to write an aggregation service consuming from 2 legacy endpoints that don't support bulk queries.</p>\n<ul>\n<li>The first endpoint returns all accounts of a user (mono response). If it fails, the flow ends; no need to query the second endpoint.</li>\n<li>The second endpoint only takes 1 account number and returns its transactions (mono response).</li>\n<li>Transactions response doesn't contain account identifier, so my aim is simply generate a response like this:</li>\n</ul>\n<pre><code>@Value(staticConstructor = &quot;of&quot;)\npublic class MyResponse {\n   Map&lt;String, List&lt;Transaction&gt;&gt; accountTransactions;\n}\n</code></pre>\n<p>My service now looks like this:</p>\n<pre><code>@RequiredArgsConstructor\npublic class MyService {\n   private final UserClient userClient;\n   private final TransactionsClient transactionsClient;\n\n   public Mono&lt;MyResponse&gt; getTransactions(..some relavant params..) {\n       return userClient.getAccounts(..some relavant params..)\n                        .zipWhen(accounts -&gt; getTransactions(account))\n                        .map(Tuple2::getT2)\n                        .subscribeOn(boundedElastic());\n   }\n\n   public Mono&lt;MyResponse&gt; getTransactions(Accounts accounts) {\n      Map&lt;String, List&lt;Transaction&gt;&gt; transactionsOfAccount = new HashMap&lt;&gt;()\n      for (var account : accounts) {\n         transactionsOfAccount.put(account.getName(), \n                                   transactionsClient.getTransactions(account)\n                                                     .map(r -&gt; {..some transformation..})\n                                                     .subscribeOn(boundedElastic())\n                                                     .block());  // Not happy with this\n      }\n      return Mono.just(MyResponse.of(transactionsOfAccount)) // Not happy with this\n   }\n}\n</code></pre>\n<p>Is there a way to do it in a non-blocking way?</p>\n<p>Thanks in advance...</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1666067299,"post_id":74105691,"comment_id":130841431,"body_markdown":"Use this. https://github.com/brettwooldridge/HikariCP","body":"Use this. <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/HikariCP</a>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666069501,"creation_date":1666069501,"answer_id":74105916,"question_id":74105691,"body_markdown":"Write a helper method which does the common code:\r\n```\r\npublic class DBHelper {\r\n    public interface SqlFunction&lt;T&gt; {\r\n        T apply(Statement statement) throws SQLException;\r\n    }\r\n    public static &lt;T&gt; T withStatement(SqlFunction&lt;T&gt; task) {\r\n        try (Connection connection = DriverManager.getConnection(Globals.dbConnection);\r\n             Statement st = connection.createStatement()) {\r\n            return task.apply(st);\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n            Profile p = DBHelper.withStatement(st -&gt; {\r\n            final ResultSet res = st.executeQuery(&quot;SELECT &quot; +\r\n                    &quot;p_id, p_name, p_id_dis, p_uid, &quot; +\r\n                    &quot;p_lastupd, p_lastservertime, p_roles &quot; +\r\n                    &quot;FROM profiles WHERE p_id_dis=&#39;&quot; + userid + &quot;&#39;&quot;);\r\n            if (!res.next())\r\n                throw new RuntimeException(&quot;No such profile&quot;);\r\n            long disID = res.getLong(&quot;p_id_dis&quot;);\r\n            String steamid = res.getString(&quot;p_uid&quot;);\r\n            return new Profile(steamid, disID);\r\n        });\r\n    }\r\n}\r\n```\r\nBy the way, you should be using `PreparedStatement` -- it handles escaping parameters, so it is both easier to use and safer against malicious SQL injection.\r\n\r\nUsing a connection pool, e.g. Hikari, is also a good idea in addition to the approach I suggest above. It will handle broken connections and reduce the overhead of making new connections. It will also allow you to limit the number of concurrent connections your application will use.","title":"Best way to use an SQL connection in Java","body":"<p>Write a helper method which does the common code:</p>\n<pre><code>public class DBHelper {\n    public interface SqlFunction&lt;T&gt; {\n        T apply(Statement statement) throws SQLException;\n    }\n    public static &lt;T&gt; T withStatement(SqlFunction&lt;T&gt; task) {\n        try (Connection connection = DriverManager.getConnection(Globals.dbConnection);\n             Statement st = connection.createStatement()) {\n            return task.apply(st);\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) {\n            Profile p = DBHelper.withStatement(st -&gt; {\n            final ResultSet res = st.executeQuery(&quot;SELECT &quot; +\n                    &quot;p_id, p_name, p_id_dis, p_uid, &quot; +\n                    &quot;p_lastupd, p_lastservertime, p_roles &quot; +\n                    &quot;FROM profiles WHERE p_id_dis='&quot; + userid + &quot;'&quot;);\n            if (!res.next())\n                throw new RuntimeException(&quot;No such profile&quot;);\n            long disID = res.getLong(&quot;p_id_dis&quot;);\n            String steamid = res.getString(&quot;p_uid&quot;);\n            return new Profile(steamid, disID);\n        });\n    }\n}\n</code></pre>\n<p>By the way, you should be using <code>PreparedStatement</code> -- it handles escaping parameters, so it is both easier to use and safer against malicious SQL injection.</p>\n<p>Using a connection pool, e.g. Hikari, is also a good idea in addition to the approach I suggest above. It will handle broken connections and reduce the overhead of making new connections. It will also allow you to limit the number of concurrent connections your application will use.</p>\n"}],"owner":{"account_id":13675907,"reputation":3,"user_id":9871724,"display_name":"ZONT_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666069501,"creation_date":1666066925,"question_id":74105691,"body_markdown":"My question is similar to [this][1] one, but more specific.\r\n\r\nI have multiple classes that execute queries against the same database. The problem is that the host may occasionally experience problems with the Internet connection, and my application must be designed against that knowledge.\r\n\r\nSo I cannot just create `java.sql.Connection` once, because it can break at any time. If a connection breaks while executing one of the queries - it&#39;s OK for me. The easiest way is to just create a new one in each query method:\r\n\r\n```java\r\npublic static Profile getProfileBySteamID(long userid) {\r\n    try (Connection connection = DriverManager.getConnection(Globals.dbConnection);\r\n         Statement st = connection.createStatement()) {\r\n        final ResultSet res = st.executeQuery(&quot;SELECT &quot; +\r\n                                              &quot;p_id, p_name, p_id_dis, p_uid, &quot; +\r\n                                              &quot;p_lastupd, p_lastservertime, p_roles &quot; +\r\n                                              &quot;FROM profiles WHERE p_uid=&#39;&quot; + userid + &quot;&#39;&quot;);\r\n        if (!res.next())\r\n            throw new RuntimeException(&quot;No such profile&quot;);\r\n        long disID = res.getLong(&quot;p_id_dis&quot;);\r\n        String steamid = res.getString(&quot;p_uid&quot;);\r\n        return new Profile(steamid, disID);\r\n    } catch (SQLException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n\r\npublic static Profile getProfileByDisID(long userid) {\r\n    try (Connection connection = DriverManager.getConnection(Globals.dbConnection);\r\n         Statement st = connection.createStatement()) {\r\n        final ResultSet res = st.executeQuery(&quot;SELECT &quot; +\r\n                                              &quot;p_id, p_name, p_id_dis, p_uid, &quot; +\r\n                                              &quot;p_lastupd, p_lastservertime, p_roles &quot; +\r\n                                              &quot;FROM profiles WHERE p_id_dis=&#39;&quot; + userid + &quot;&#39;&quot;);\r\n        if (!res.next())\r\n            throw new RuntimeException(&quot;No such profile&quot;);\r\n        long disID = res.getLong(&quot;p_id_dis&quot;);\r\n        String steamid = res.getString(&quot;p_uid&quot;);\r\n        return new Profile(steamid, disID);\r\n    } catch (SQLException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n\r\n// ... and about 7 more methods like these\r\n```\r\n\r\nI&#39;m OK with the possible performance issues (because these queries are executed not so frequently), but this is too much repeated code that is hard to extract to other private methods, and, you know, kinda looks ugly.\r\n\r\nSo my question is how to get that `java.sql.Statement` (or better - `PreparedStatement`) in as short expression as possible, and without the try-catch statements if possible. Maybe I should consider using `ConnectionPool`?\r\n\r\nI&#39;d like to get some examples of the solution, or links to source code examples of `ConnectionPool` with `PreparedStatements` usage or anything similar\r\n\r\n  [1]: https://stackoverflow.com/questions/18421070/best-way-to-use-java-sql-connection","title":"Best way to use an SQL connection in Java","body":"<p>My question is similar to <a href=\"https://stackoverflow.com/questions/18421070/best-way-to-use-java-sql-connection\">this</a> one, but more specific.</p>\n<p>I have multiple classes that execute queries against the same database. The problem is that the host may occasionally experience problems with the Internet connection, and my application must be designed against that knowledge.</p>\n<p>So I cannot just create <code>java.sql.Connection</code> once, because it can break at any time. If a connection breaks while executing one of the queries - it's OK for me. The easiest way is to just create a new one in each query method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Profile getProfileBySteamID(long userid) {\n    try (Connection connection = DriverManager.getConnection(Globals.dbConnection);\n         Statement st = connection.createStatement()) {\n        final ResultSet res = st.executeQuery(&quot;SELECT &quot; +\n                                              &quot;p_id, p_name, p_id_dis, p_uid, &quot; +\n                                              &quot;p_lastupd, p_lastservertime, p_roles &quot; +\n                                              &quot;FROM profiles WHERE p_uid='&quot; + userid + &quot;'&quot;);\n        if (!res.next())\n            throw new RuntimeException(&quot;No such profile&quot;);\n        long disID = res.getLong(&quot;p_id_dis&quot;);\n        String steamid = res.getString(&quot;p_uid&quot;);\n        return new Profile(steamid, disID);\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static Profile getProfileByDisID(long userid) {\n    try (Connection connection = DriverManager.getConnection(Globals.dbConnection);\n         Statement st = connection.createStatement()) {\n        final ResultSet res = st.executeQuery(&quot;SELECT &quot; +\n                                              &quot;p_id, p_name, p_id_dis, p_uid, &quot; +\n                                              &quot;p_lastupd, p_lastservertime, p_roles &quot; +\n                                              &quot;FROM profiles WHERE p_id_dis='&quot; + userid + &quot;'&quot;);\n        if (!res.next())\n            throw new RuntimeException(&quot;No such profile&quot;);\n        long disID = res.getLong(&quot;p_id_dis&quot;);\n        String steamid = res.getString(&quot;p_uid&quot;);\n        return new Profile(steamid, disID);\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n}\n\n// ... and about 7 more methods like these\n</code></pre>\n<p>I'm OK with the possible performance issues (because these queries are executed not so frequently), but this is too much repeated code that is hard to extract to other private methods, and, you know, kinda looks ugly.</p>\n<p>So my question is how to get that <code>java.sql.Statement</code> (or better - <code>PreparedStatement</code>) in as short expression as possible, and without the try-catch statements if possible. Maybe I should consider using <code>ConnectionPool</code>?</p>\n<p>I'd like to get some examples of the solution, or links to source code examples of <code>ConnectionPool</code> with <code>PreparedStatements</code> usage or anything similar</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":2,"creation_date":1666063946,"post_id":74105332,"comment_id":130840980,"body_markdown":"what exception are you getting?","body":"what exception are you getting?"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1666064416,"post_id":74105332,"comment_id":130841036,"body_markdown":"@AnkitSharma I am expecting that string to be DTO object.","body":"@AnkitSharma I am expecting that string to be DTO object."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666065628,"post_id":74105332,"comment_id":130841163,"body_markdown":"What happens when you call `readValue` in the code above?","body":"What happens when you call <code>readValue</code> in the code above?"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666066770,"creation_date":1666064432,"answer_id":74105449,"question_id":74105332,"body_markdown":"**Using Java 8**\r\n\r\nIt seems that you are getting list of String from the database, you can convert the list of string into list of UserDTO by this approach.\r\n\r\n**Approach Here:**\r\n\r\n*Here I have `stream` the list of string and convert each `String` into `UserDTO` type using the `map()` operation and collecting it as a list of UserDTO.*\r\n\r\nwhere, `tempString` is the list that you are preparing from the db *(it is hardcoded in my case for the solution purpose)*\r\n\r\n        public class Test {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; tempString = new ArrayList&lt;&gt;();\r\n            tempString.add(&quot;{\\&quot;LastName\\&quot;: \\&quot;Ben\\&quot;,  \\&quot;FirstName\\&quot;: \\&quot;David\\&quot;, \\&quot;EmailAddress\\&quot;: \\&quot;david@gravatar.com\\&quot;}&quot;);\r\n            tempString.add(&quot;{\\&quot;LastName\\&quot;: \\&quot;Ben2\\&quot;,  \\&quot;FirstName\\&quot;: \\&quot;David1\\&quot;, \\&quot;EmailAddress\\&quot;: \\&quot;david1@gravatar.com\\&quot;}&quot;);\r\n            tempString.add(&quot;{\\&quot;LastName\\&quot;: \\&quot;Ben3\\&quot;,  \\&quot;FirstName\\&quot;: \\&quot;David2\\&quot;, \\&quot;EmailAddress\\&quot;: \\&quot;david2@gravatar.com\\&quot;}&quot;);\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            List&lt;UserDTO&gt; userDtoList = tempString.stream().map(x -&gt; {\r\n                UserDTO userDto = null;\r\n                try {\r\n                    userDto = mapper.readValue(x, UserDTO.class);\r\n                } catch (JsonProcessingException e) {\r\n                    System.out.println(&quot;exception&quot;+e);\r\n                }\r\n                return userDto;\r\n            }).collect(Collectors.toList());\r\n    \r\n            System.out.println(userDtoList);\r\n        }\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    [UserDTO(firstName=David, lastName=Ben, email=david@gravatar.com), UserDTO(firstName=David1, lastName=Ben2, email=david1@gravatar.com), UserDTO(firstName=David2, lastName=Ben3, email=david2@gravatar.com)]\r\n\r\n","title":"How to convert string to DTO in Java","body":"<p><strong>Using Java 8</strong></p>\n<p>It seems that you are getting list of String from the database, you can convert the list of string into list of UserDTO by this approach.</p>\n<p><strong>Approach Here:</strong></p>\n<p><em>Here I have <code>stream</code> the list of string and convert each <code>String</code> into <code>UserDTO</code> type using the <code>map()</code> operation and collecting it as a list of UserDTO.</em></p>\n<p>where, <code>tempString</code> is the list that you are preparing from the db <em>(it is hardcoded in my case for the solution purpose)</em></p>\n<pre><code>    public class Test {\n    public static void main(String[] args) {\n        List&lt;String&gt; tempString = new ArrayList&lt;&gt;();\n        tempString.add(&quot;{\\&quot;LastName\\&quot;: \\&quot;Ben\\&quot;,  \\&quot;FirstName\\&quot;: \\&quot;David\\&quot;, \\&quot;EmailAddress\\&quot;: \\&quot;david@gravatar.com\\&quot;}&quot;);\n        tempString.add(&quot;{\\&quot;LastName\\&quot;: \\&quot;Ben2\\&quot;,  \\&quot;FirstName\\&quot;: \\&quot;David1\\&quot;, \\&quot;EmailAddress\\&quot;: \\&quot;david1@gravatar.com\\&quot;}&quot;);\n        tempString.add(&quot;{\\&quot;LastName\\&quot;: \\&quot;Ben3\\&quot;,  \\&quot;FirstName\\&quot;: \\&quot;David2\\&quot;, \\&quot;EmailAddress\\&quot;: \\&quot;david2@gravatar.com\\&quot;}&quot;);\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        List&lt;UserDTO&gt; userDtoList = tempString.stream().map(x -&gt; {\n            UserDTO userDto = null;\n            try {\n                userDto = mapper.readValue(x, UserDTO.class);\n            } catch (JsonProcessingException e) {\n                System.out.println(&quot;exception&quot;+e);\n            }\n            return userDto;\n        }).collect(Collectors.toList());\n\n        System.out.println(userDtoList);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[UserDTO(firstName=David, lastName=Ben, email=david@gravatar.com), UserDTO(firstName=David1, lastName=Ben2, email=david1@gravatar.com), UserDTO(firstName=David2, lastName=Ben3, email=david2@gravatar.com)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1608089,"reputation":773,"user_id":1487721,"display_name":"Ranuka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666069243,"creation_date":1666069243,"answer_id":74105890,"question_id":74105332,"body_markdown":"Since you are using spring you can directly convert to List UserDTO from the repository itself if you can extend your Repository from JpaRepository.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n      @Query(&quot;SELECT new com.UserDTO(u.firstName, u.lastName, u.email) FROM USER u WHERE u.user_id= :UserId &quot;)\r\n            List&lt;UserDTO&gt; getData(@Param(&quot;userId&quot;)  userId);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nYou need to have a matching constructor in your DTO and need provide full package name in the query.","title":"How to convert string to DTO in Java","body":"<p>Since you are using spring you can directly convert to List UserDTO from the repository itself if you can extend your Repository from JpaRepository.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n  @Query(\"SELECT new com.UserDTO(u.firstName, u.lastName, u.email) FROM USER u WHERE u.user_id= :UserId \")\n        List&lt;UserDTO&gt; getData(@Param(\"userId\")  userId);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>You need to have a matching constructor in your DTO and need provide full package name in the query.</p>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74105449,"answer_count":2,"score":-1,"last_activity_date":1666069243,"creation_date":1666063360,"question_id":74105332,"body_markdown":"How to convert string to DTO.\r\n\r\nI am doing some db fetch and getting String. \r\n\r\n    List&lt;String&gt; tempString = myRepo.getData(str);\r\n\r\nI am getting string here like this \r\n\r\n    {&quot;LastName&quot;: &quot;Ben&quot;,  &quot;FirstName&quot;: &quot;David&quot;, &quot;EmailAddress&quot;: &quot;david@gravatar.com&quot;}\r\n\r\nnow I want to convertto dto. \r\n\r\nmy dto will be like this. \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Component\r\n    public class UserDTO {\r\n    \r\n       \r\n        @JsonProperty(&quot;FirstName&quot;)\r\n        private String firstName;\r\n    \r\n        @JsonProperty(&quot;LastName&quot;)\r\n        private String lastName;\r\n    \r\n        @JsonProperty(&quot;EmailAddress&quot;)\r\n        private String email;\r\n    \r\n    \r\n    }\r\n\r\nNow here is what I am trying but not getting sucees, anything I am missing here. \r\n\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    UserDTO userdeto;\r\n    try{\r\n        userdeto= mapper.readValue(tempString.get(i), UserDTO.class);\r\n    }\r\n\r\nbut this is wrong here I. any other way to get this. \r\n\r\n","title":"How to convert string to DTO in Java","body":"<p>How to convert string to DTO.</p>\n<p>I am doing some db fetch and getting String.</p>\n<pre><code>List&lt;String&gt; tempString = myRepo.getData(str);\n</code></pre>\n<p>I am getting string here like this</p>\n<pre><code>{&quot;LastName&quot;: &quot;Ben&quot;,  &quot;FirstName&quot;: &quot;David&quot;, &quot;EmailAddress&quot;: &quot;david@gravatar.com&quot;}\n</code></pre>\n<p>now I want to convertto dto.</p>\n<p>my dto will be like this.</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Component\npublic class UserDTO {\n\n   \n    @JsonProperty(&quot;FirstName&quot;)\n    private String firstName;\n\n    @JsonProperty(&quot;LastName&quot;)\n    private String lastName;\n\n    @JsonProperty(&quot;EmailAddress&quot;)\n    private String email;\n\n\n}\n</code></pre>\n<p>Now here is what I am trying but not getting sucees, anything I am missing here.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nUserDTO userdeto;\ntry{\n    userdeto= mapper.readValue(tempString.get(i), UserDTO.class);\n}\n</code></pre>\n<p>but this is wrong here I. any other way to get this.</p>\n"},{"tags":["java","spring-boot","newrelic","spring-micrometer","spring-actuator"],"answers":[{"tags":[],"owner":{"account_id":91652,"reputation":458,"user_id":251542,"display_name":"Andr&#233; Onuki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665761904,"creation_date":1665761904,"answer_id":74071668,"question_id":74071201,"body_markdown":"I believe the key you should use there is an Insights insert key. This key is located in a different location from other keys.\r\n\r\nIf you go to the page where you have your regular keys, you&#39;ll find a link to the Insights keys.\r\n[![insights key location][1]][1]\r\n\r\n\r\nAlternatively, you could also use New Relic&#39;s [Micrometer registry][2]. This is a different implementation of the registry created by New Relic.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GjzmJ.png\r\n  [2]: https://github.com/newrelic/micrometer-registry-newrelic","title":"NewRelic Integration With Spring Boot Using io.micrometer","body":"<p>I believe the key you should use there is an Insights insert key. This key is located in a different location from other keys.</p>\n<p>If you go to the page where you have your regular keys, you'll find a link to the Insights keys.\n<a href=\"https://i.stack.imgur.com/GjzmJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GjzmJ.png\" alt=\"insights key location\" /></a></p>\n<p>Alternatively, you could also use New Relic's <a href=\"https://github.com/newrelic/micrometer-registry-newrelic\" rel=\"nofollow noreferrer\">Micrometer registry</a>. This is a different implementation of the registry created by New Relic.</p>\n"},{"tags":[],"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666069017,"creation_date":1666069017,"answer_id":74105860,"question_id":74071201,"body_markdown":"The configuration which worked for me\r\n```yml\r\n  metrics:\r\n    export:\r\n      newrelic:\r\n        api-key: #insights key \r\n        account-id: #&lt;account-id&gt;\r\n        enabled: true\r\n        step: 30s #duration at which events will be published to new relic\r\n        #uri: https://insights-collector.eu01.nr-data.net #URI of the data center\r\n        uri: https://metric-api.eu.newrelic.com\r\n        serviceName: &lt;service name&gt;\r\n```\r\n\r\nAs mentioned by @Andr&#233; Onuki generate your insights key from right side of the new relic&#39;s API keys page, [More Details](https://docs.newrelic.com/docs/apis/intro-apis/new-relic-api-keys/).\r\nNewRelicInsightsApiClientProvider uses a default URI which did not work for me, so I looked up for the [Data Center URI](https://docs.newrelic.com/docs/accounts/accounts-billing/account-setup/choose-your-data-center/). To identify the data center, check your license key if it starts with &quot;eu&quot; then it&#39;s **European**. \r\nStart your application, check under APM &amp; Services section of NewRelic.","title":"NewRelic Integration With Spring Boot Using io.micrometer","body":"<p>The configuration which worked for me</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  metrics:\n    export:\n      newrelic:\n        api-key: #insights key \n        account-id: #&lt;account-id&gt;\n        enabled: true\n        step: 30s #duration at which events will be published to new relic\n        #uri: https://insights-collector.eu01.nr-data.net #URI of the data center\n        uri: https://metric-api.eu.newrelic.com\n        serviceName: &lt;service name&gt;\n</code></pre>\n<p>As mentioned by @André Onuki generate your insights key from right side of the new relic's API keys page, <a href=\"https://docs.newrelic.com/docs/apis/intro-apis/new-relic-api-keys/\" rel=\"nofollow noreferrer\">More Details</a>.\nNewRelicInsightsApiClientProvider uses a default URI which did not work for me, so I looked up for the <a href=\"https://docs.newrelic.com/docs/accounts/accounts-billing/account-setup/choose-your-data-center/\" rel=\"nofollow noreferrer\">Data Center URI</a>. To identify the data center, check your license key if it starts with &quot;eu&quot; then it's <strong>European</strong>.\nStart your application, check under APM &amp; Services section of NewRelic.</p>\n"}],"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74105860,"answer_count":2,"score":0,"last_activity_date":1666069017,"creation_date":1665759712,"question_id":74071201,"body_markdown":"I have installed the NewRelic agent on MacOS and configured the spring boot application by following [docs](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.export.newrelic) and few other links. Also tried telemetry micrometer configuration.\r\nThing I want to achieve is to integrate spring boot application without installing java agent and register under APM.\r\nBelow is my configuration:\r\n```yml\r\nmanagement:  \r\n    metrics:\r\n        export:\r\n            newrelic:\r\n            api-key: &lt;Tried all the keys&gt; ()\r\n            account-id: \r\n            enabled: true\r\n            step: 30s\r\n```\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-new-relic&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nError: \r\n```text\r\nERROR [new-relic-metrics-publisher] io.micrometer.newrelic.NewRelicInsightsApiClientProvider: failed to send metrics to new relic: http 403 {}\r\n```\r\nI tried to debug the provider NewRelicInsightsApiClientProvider to check what is being passed as Stream of events, everything looks good to me. The insightsEndpoint is &quot;https://insights-collector.newrelic.com/v1/accounts/ACCOUNT-ID/events&quot; I even tried to change with &quot;https://insights-collector.eu01.nr-data.net&quot; did not help.\r\n\r\nNeed some help here, not sure what am I missing.\r\n","title":"NewRelic Integration With Spring Boot Using io.micrometer","body":"<p>I have installed the NewRelic agent on MacOS and configured the spring boot application by following <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.export.newrelic\" rel=\"nofollow noreferrer\">docs</a> and few other links. Also tried telemetry micrometer configuration.\nThing I want to achieve is to integrate spring boot application without installing java agent and register under APM.\nBelow is my configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>management:  \n    metrics:\n        export:\n            newrelic:\n            api-key: &lt;Tried all the keys&gt; ()\n            account-id: \n            enabled: true\n            step: 30s\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-new-relic&lt;/artifactId&gt;\n            &lt;version&gt;1.9.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>ERROR [new-relic-metrics-publisher] io.micrometer.newrelic.NewRelicInsightsApiClientProvider: failed to send metrics to new relic: http 403 {}\n</code></pre>\n<p>I tried to debug the provider NewRelicInsightsApiClientProvider to check what is being passed as Stream of events, everything looks good to me. The insightsEndpoint is &quot;https://insights-collector.newrelic.com/v1/accounts/ACCOUNT-ID/events&quot; I even tried to change with &quot;https://insights-collector.eu01.nr-data.net&quot; did not help.</p>\n<p>Need some help here, not sure what am I missing.</p>\n"},{"tags":["java","installation","version","nextflow"],"comments":[{"owner":{"account_id":169699,"reputation":3241,"user_id":395921,"accept_rate":76,"display_name":"pditommaso"},"score":0,"creation_date":1666044492,"post_id":74103638,"comment_id":130838108,"body_markdown":"Use https://sdkman.io/","body":"Use <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"}],"answers":[{"tags":[],"owner":{"account_id":391289,"reputation":52114,"user_id":751863,"accept_rate":100,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666068671,"creation_date":1666068671,"answer_id":74105829,"question_id":74103638,"body_markdown":"Nextflow just requires **Java 11 or later**. The output of `java -version` should look something like:\r\n\r\n```\r\nopenjdk version &quot;11.0.16&quot; 2022-07-19\r\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\r\n```\r\n\r\nIf you&#39;re on Ubuntu, you can install OpenJDK 11 using:\r\n\r\n```\r\nsudo apt-get install openjdk-11-jdk\r\n```\r\n\r\nIf you have other `java` alternatives installed, use `update-java-alternatives` (requires `java-common`) to set the version you want:\r\n\r\n```\r\nsudo update-java-alternatives --set java-1.11.0-openjdk-amd64\r\n```\r\n\r\nIf you see some &#39;no alternatives for&#39; errors, usually you can just ignore them or treat them more like warnings since the `update-java-alternatives` should have properly reconfigured the alternatives to enable all of the required components for the version specified.","title":"How do I install the correct version of java for nextflow?","body":"<p>Nextflow just requires <strong>Java 11 or later</strong>. The output of <code>java -version</code> should look something like:</p>\n<pre><code>openjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\n</code></pre>\n<p>If you're on Ubuntu, you can install OpenJDK 11 using:</p>\n<pre><code>sudo apt-get install openjdk-11-jdk\n</code></pre>\n<p>If you have other <code>java</code> alternatives installed, use <code>update-java-alternatives</code> (requires <code>java-common</code>) to set the version you want:</p>\n<pre><code>sudo update-java-alternatives --set java-1.11.0-openjdk-amd64\n</code></pre>\n<p>If you see some 'no alternatives for' errors, usually you can just ignore them or treat them more like warnings since the <code>update-java-alternatives</code> should have properly reconfigured the alternatives to enable all of the required components for the version specified.</p>\n"}],"owner":{"account_id":26653191,"reputation":21,"user_id":20267159,"display_name":"Garkul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666068671,"creation_date":1666043471,"question_id":74103638,"body_markdown":"I am trying to start installation of nextflow with following command:\r\n\r\n    wget -qO- https://get.nextflow.io | bash\r\n\r\nAnd i get this error:\r\n\r\n \r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/jgit/api/errors/GitAPIException has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n\tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n\tat java.lang.Class.getMethod0(Class.java:3018)\r\n\tat java.lang.Class.getMethod(Class.java:1784)\r\n\tat sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\r\n\r\nIf I run command `java -version` output will be the following: \r\n\r\n    java version &quot;1.8.0_45&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_45-b14)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\r\n\r\nI also have tried to install different versions of java and set them as the default:\r\n\r\n    update-java-alternatives --list\r\n    java-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\r\n\r\n    sudo update-java-alternatives --set java-1.11.0-openjdk-amd64\r\n    update-alternatives: error: no alternatives for jaotc\r\n    update-alternatives: error: no alternatives for jar\r\n    update-alternatives: error: no alternatives for jarsigner\r\n    update-alternatives: error: no alternatives for javac\r\n    update-alternatives: error: no alternatives for javadoc\r\n    update-alternatives: error: no alternatives for javap\r\n    update-alternatives: error: no alternatives for jcmd\r\n    update-alternatives: error: no alternatives for jconsole\r\n    update-alternatives: error: no alternatives for jdb\r\n    update-alternatives: error: no alternatives for jdeprscan\r\n    update-alternatives: error: no alternatives for jdeps\r\n    update-alternatives: error: no alternatives for jfr\r\n    update-alternatives: error: no alternatives for jhsdb\r\n    update-alternatives: error: no alternatives for jimage\r\n    update-alternatives: error: no alternatives for jinfo\r\n    update-alternatives: error: no alternatives for jlink\r\n    update-alternatives: error: no alternatives for jmap\r\n    update-alternatives: error: no alternatives for jmod\r\n    update-alternatives: error: no alternatives for jps\r\n    update-alternatives: error: no alternatives for jrunscript\r\n    update-alternatives: error: no alternatives for jshell\r\n    update-alternatives: error: no alternatives for jstack\r\n    update-alternatives: error: no alternatives for jstat\r\n    update-alternatives: error: no alternatives for jstatd\r\n    update-alternatives: error: no alternatives for rmic\r\n    update-alternatives: error: no alternatives for serialver\r\n    update-alternatives: error: no alternatives for jaotc\r\n    update-alternatives: error: no alternatives for jarsigner\r\n    update-alternatives: error: no alternatives for jar\r\n    update-alternatives: error: no alternatives for javac\r\n    update-alternatives: error: no alternatives for javadoc\r\n    update-alternatives: error: no alternatives for javap\r\n    update-alternatives: error: no alternatives for jcmd\r\n    update-alternatives: error: no alternatives for jdb\r\n    update-alternatives: error: no alternatives for jdeprscan\r\n    update-alternatives: error: no alternatives for jdeps\r\n    update-alternatives: error: no alternatives for jfr\r\n    update-alternatives: error: no alternatives for jhsdb\r\n    update-alternatives: error: no alternatives for jimage\r\n    update-alternatives: error: no alternatives for jinfo\r\n    update-alternatives: error: no alternatives for jlink\r\n    update-alternatives: error: no alternatives for jmap\r\n    update-alternatives: error: no alternatives for jmod\r\n    update-alternatives: error: no alternatives for jps\r\n    update-alternatives: error: no alternatives for jrunscript\r\n    update-alternatives: error: no alternatives for jshell\r\n    update-alternatives: error: no alternatives for jstack\r\n    update-alternatives: error: no alternatives for jstatd\r\n    update-alternatives: error: no alternatives for jstat\r\n    update-alternatives: error: no alternatives for rmic\r\n    update-alternatives: error: no alternatives for serialver\r\n    update-java-alternatives: jdk alternative does not exist: /usr/lib/jvm/java-11-openjdk-amd64/bin/jconsole\r\n\r\n\r\n**What should I do to solve this problem? Do I need to completely uninstall java and reinstall it correctly? If so, how can i install it?**","title":"How do I install the correct version of java for nextflow?","body":"<p>I am trying to start installation of nextflow with following command:</p>\n<pre><code>wget -qO- https://get.nextflow.io | bash\n</code></pre>\n<p>And i get this error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\n\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/eclipse/jgit/api/errors/GitAPIException has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\nat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat java.lang.Class.getDeclaredMethods0(Native Method)\nat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\nat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\nat java.lang.Class.getMethod0(Class.java:3018)\nat java.lang.Class.getMethod(Class.java:1784)\nat sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\nat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\n</code></pre>\n<p>If I run command <code>java -version</code> output will be the following:</p>\n<pre><code>java version &quot;1.8.0_45&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_45-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\n</code></pre>\n<p>I also have tried to install different versions of java and set them as the default:</p>\n<pre><code>update-java-alternatives --list\njava-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\n\nsudo update-java-alternatives --set java-1.11.0-openjdk-amd64\nupdate-alternatives: error: no alternatives for jaotc\nupdate-alternatives: error: no alternatives for jar\nupdate-alternatives: error: no alternatives for jarsigner\nupdate-alternatives: error: no alternatives for javac\nupdate-alternatives: error: no alternatives for javadoc\nupdate-alternatives: error: no alternatives for javap\nupdate-alternatives: error: no alternatives for jcmd\nupdate-alternatives: error: no alternatives for jconsole\nupdate-alternatives: error: no alternatives for jdb\nupdate-alternatives: error: no alternatives for jdeprscan\nupdate-alternatives: error: no alternatives for jdeps\nupdate-alternatives: error: no alternatives for jfr\nupdate-alternatives: error: no alternatives for jhsdb\nupdate-alternatives: error: no alternatives for jimage\nupdate-alternatives: error: no alternatives for jinfo\nupdate-alternatives: error: no alternatives for jlink\nupdate-alternatives: error: no alternatives for jmap\nupdate-alternatives: error: no alternatives for jmod\nupdate-alternatives: error: no alternatives for jps\nupdate-alternatives: error: no alternatives for jrunscript\nupdate-alternatives: error: no alternatives for jshell\nupdate-alternatives: error: no alternatives for jstack\nupdate-alternatives: error: no alternatives for jstat\nupdate-alternatives: error: no alternatives for jstatd\nupdate-alternatives: error: no alternatives for rmic\nupdate-alternatives: error: no alternatives for serialver\nupdate-alternatives: error: no alternatives for jaotc\nupdate-alternatives: error: no alternatives for jarsigner\nupdate-alternatives: error: no alternatives for jar\nupdate-alternatives: error: no alternatives for javac\nupdate-alternatives: error: no alternatives for javadoc\nupdate-alternatives: error: no alternatives for javap\nupdate-alternatives: error: no alternatives for jcmd\nupdate-alternatives: error: no alternatives for jdb\nupdate-alternatives: error: no alternatives for jdeprscan\nupdate-alternatives: error: no alternatives for jdeps\nupdate-alternatives: error: no alternatives for jfr\nupdate-alternatives: error: no alternatives for jhsdb\nupdate-alternatives: error: no alternatives for jimage\nupdate-alternatives: error: no alternatives for jinfo\nupdate-alternatives: error: no alternatives for jlink\nupdate-alternatives: error: no alternatives for jmap\nupdate-alternatives: error: no alternatives for jmod\nupdate-alternatives: error: no alternatives for jps\nupdate-alternatives: error: no alternatives for jrunscript\nupdate-alternatives: error: no alternatives for jshell\nupdate-alternatives: error: no alternatives for jstack\nupdate-alternatives: error: no alternatives for jstatd\nupdate-alternatives: error: no alternatives for jstat\nupdate-alternatives: error: no alternatives for rmic\nupdate-alternatives: error: no alternatives for serialver\nupdate-java-alternatives: jdk alternative does not exist: /usr/lib/jvm/java-11-openjdk-amd64/bin/jconsole\n</code></pre>\n<p><strong>What should I do to solve this problem? Do I need to completely uninstall java and reinstall it correctly? If so, how can i install it?</strong></p>\n"},{"tags":["java","spring","spring-boot","amazon-sqs","spring-native"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1666044317,"post_id":74103111,"comment_id":130838065,"body_markdown":"I don&#39;t think it&#39;s your code shown here that is the problem because there&#39;s no reflection involved (during `new AWSStaticCredentialsProvider(..)`). The spring cloud internal code that configures an `AWSStaticCredentialsProvider` once you specify `cloud.aws.credentials.access-key` in config on the other hand would probably use reflection. I don&#39;t think you have to set a credentials provider manually here but that would probably not solve the problem either","body":"I don&#39;t think it&#39;s your code shown here that is the problem because there&#39;s no reflection involved (during <code>new AWSStaticCredentialsProvider(..)</code>). The spring cloud internal code that configures an <code>AWSStaticCredentialsProvider</code> once you specify <code>cloud.aws.credentials.access-key</code> in config on the other hand would probably use reflection. I don&#39;t think you have to set a credentials provider manually here but that would probably not solve the problem either"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1666048969,"post_id":74103111,"comment_id":130838903,"body_markdown":"The entire java config looks like it could actually be dropped because the framework will already configure those things. The error you get is likely caused by missing native support for `spring-cloud-starter-aws-messaging` - you would have to add missing reflection configuration via those methods mentioned https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/#_missing_configuration but that could be a lot of work and there is also https://github.com/oracle/graal/issues/1441 and plenty of other issue with aws-java-sdk v1 which won&#39;t change until 3.x spring cloud aws","body":"The entire java config looks like it could actually be dropped because the framework will already configure those things. The error you get is likely caused by missing native support for <code>spring-cloud-starter-aws-messaging</code> - you would have to add missing reflection configuration via those methods mentioned <a href=\"https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/#_missing_configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-native/docs/current/reference/htmlsing&zwnj;&#8203;le/&hellip;</a> but that could be a lot of work and there is also <a href=\"https://github.com/oracle/graal/issues/1441\" rel=\"nofollow noreferrer\">github.com/oracle/graal/issues/1441</a> and plenty of other issue with aws-java-sdk v1 which won&#39;t change until 3.x spring cloud aws"},{"owner":{"account_id":26651931,"reputation":1,"user_id":20266097,"display_name":"Rodrigo Fournier"},"score":0,"creation_date":1666067115,"post_id":74103111,"comment_id":130841396,"body_markdown":"Hey @zapl, you were completely right, all my config code wasn&#39;t necessary, and as you mentioned before, the error ocurred before this configuration, it were happening when the spring context were starting up. I removed all the unnecessary code (edited my post here too), but even though the same error still happen.","body":"Hey @zapl, you were completely right, all my config code wasn&#39;t necessary, and as you mentioned before, the error ocurred before this configuration, it were happening when the spring context were starting up. I removed all the unnecessary code (edited my post here too), but even though the same error still happen."}],"owner":{"account_id":26651931,"reputation":1,"user_id":20266097,"display_name":"Rodrigo Fournier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666067288,"creation_date":1666039907,"question_id":74103111,"body_markdown":"I&#39;m trying to migrate a java spring boot application to use spring boot native implementation and I&#39;m facing some problems to realize it. Many of the problems that I&#39;ve faced I solved just googling, but this one with aws credentials provider I couldn&#39;t find any help.\r\n\r\nI generate the executable file running: `mvn -Pnative -DskipTests clean install`. I&#39;m using maven 3.8.6 and sdkman with graalvm 22.2.r17-grl.\r\n\r\nThe problem occurs when I trying to execute the generated file. This is the error I&#39;m facing: `Native reflection configuration for com.amazonaws.auth.AWSStaticCredentialsProvider.&lt;init&gt;(com.amazonaws.auth.AWSCredentials) is missing`\r\n\r\nThis is the main parts of my pom.xml:\r\n\r\n    ...&lt;spring-native.version&gt;0.12.1&lt;/spring-native.version&gt;\r\n\t\t&lt;native-maven-plugin.version&gt;0.9.13&lt;/native-maven-plugin.version&gt;\r\n    &lt;springcloud-starter-aws-messaging.version&gt;2.2.6.RELEASE&lt;/springcloud-starter-aws-messaging.version&gt;...\r\n    \r\n    ...&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springcloud-starter-aws-messaging.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aot&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;...\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-native.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;test-generate&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test-generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;native&lt;/id&gt;\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${native-maven-plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;build-native&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;build&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n\t\t\t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\r\nAnd this is my java QueueMessagingTemplate configuration:\r\n\r\n    @Bean\r\n\tpublic QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\r\n\t\treturn new QueueMessagingTemplate(amazonSQSAsync);\r\n\t}\r\n\r\nDoes anybody have an idea about how to solve it?","title":"Error when trying to run spring-boot native with aws credentials","body":"<p>I'm trying to migrate a java spring boot application to use spring boot native implementation and I'm facing some problems to realize it. Many of the problems that I've faced I solved just googling, but this one with aws credentials provider I couldn't find any help.</p>\n<p>I generate the executable file running: <code>mvn -Pnative -DskipTests clean install</code>. I'm using maven 3.8.6 and sdkman with graalvm 22.2.r17-grl.</p>\n<p>The problem occurs when I trying to execute the generated file. This is the error I'm facing: <code>Native reflection configuration for com.amazonaws.auth.AWSStaticCredentialsProvider.&lt;init&gt;(com.amazonaws.auth.AWSCredentials) is missing</code></p>\n<p>This is the main parts of my pom.xml:</p>\n<pre><code>...&lt;spring-native.version&gt;0.12.1&lt;/spring-native.version&gt;\n    &lt;native-maven-plugin.version&gt;0.9.13&lt;/native-maven-plugin.version&gt;\n&lt;springcloud-starter-aws-messaging.version&gt;2.2.6.RELEASE&lt;/springcloud-starter-aws-messaging.version&gt;...\n\n...&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\n        &lt;version&gt;${springcloud-starter-aws-messaging.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n        &lt;version&gt;${spring-native.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aot&lt;/artifactId&gt;\n        &lt;version&gt;${spring-native.version}&lt;/version&gt;\n    &lt;/dependency&gt;...\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring-native.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-generate&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;native&lt;/id&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                    &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${native-maven-plugin.version}&lt;/version&gt;\n                    &lt;extensions&gt;true&lt;/extensions&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;build-native&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;debug&gt;true&lt;/debug&gt;\n                        &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;classifier&gt;exec&lt;/classifier&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>And this is my java QueueMessagingTemplate configuration:</p>\n<pre><code>@Bean\npublic QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\n    return new QueueMessagingTemplate(amazonSQSAsync);\n}\n</code></pre>\n<p>Does anybody have an idea about how to solve it?</p>\n"},{"tags":["java","c++","spring","frameworks"],"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1306733497,"post_id":6172567,"comment_id":84775090,"body_markdown":"Have a look at this similar thread, https://stackoverflow.com/questions/746309/which-is-the-best-c-web-framework","body":"Have a look at this similar thread, <a href=\"https://stackoverflow.com/questions/746309/which-is-the-best-c-web-framework\" title=\"which is the best c web framework\">stackoverflow.com/questions/746309/&hellip;</a>"},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":3,"creation_date":1306733952,"post_id":6172567,"comment_id":7176193,"body_markdown":"Spring is not a web framework, Spring MVC is. Hence, DI is a Spring IoC thing, not of Spring MVC. IMO, you should say Spring MVC, as you are interested in web frameworks. Or ask for IoC container, altogether.","body":"Spring is not a web framework, Spring MVC is. Hence, DI is a Spring IoC thing, not of Spring MVC. IMO, you should say Spring MVC, as you are interested in web frameworks. Or ask for IoC container, altogether."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1306734262,"post_id":6172567,"comment_id":7176228,"body_markdown":"I think PHP started as a C++ web framework.","body":"I think PHP started as a C++ web framework."}],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1306733483,"creation_date":1306733483,"answer_id":6172592,"question_id":6172567,"body_markdown":"If its DI you are looking for; Dependency injection in C++ is not really done a lot, because although you can inject a pointer in to a class, its not easy to say who&#39;s gonna free it. There is already a SO [discussion here][1] .\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/352885/dependency-injection-in-c","title":"C++ web framework like spring for Java","body":"<p>If its DI you are looking for; Dependency injection in C++ is not really done a lot, because although you can inject a pointer in to a class, its not easy to say who's gonna free it. There is already a SO <a href=\"https://stackoverflow.com/questions/352885/dependency-injection-in-c\">discussion here</a> .</p>\n"},{"tags":[],"owner":{"account_id":104392,"reputation":12174,"user_id":279130,"display_name":"jwismar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306733586,"creation_date":1306733586,"answer_id":6172600,"question_id":6172567,"body_markdown":"The closest thing I know of -- and I have no first-hand experience, I&#39;ve only heard about it -- is a framework called [Autumn][1].\r\n\r\n\r\n  [1]: http://code.google.com/p/autumnframework/","title":"C++ web framework like spring for Java","body":"<p>The closest thing I know of -- and I have no first-hand experience, I've only heard about it -- is a framework called <a href=\"http://code.google.com/p/autumnframework/\" rel=\"nofollow\">Autumn</a>.</p>\n"},{"tags":[],"owner":{"account_id":406318,"reputation":221,"user_id":775757,"display_name":"user775757"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1306818960,"creation_date":1306818960,"answer_id":6183261,"question_id":6172567,"body_markdown":"I just found [**ffead-cpp**][1] while browsing similar threads, can anyone evaluate this framework or has any idea whether this would be a suitable choice. I think it already answers a few of my questions. Can you guys comment?  \r\n\r\n\r\n  [1]: http://code.google.com/p/ffead-cpp/","title":"C++ web framework like spring for Java","body":"<p>I just found <a href=\"http://code.google.com/p/ffead-cpp/\" rel=\"nofollow\"><strong>ffead-cpp</strong></a> while browsing similar threads, can anyone evaluate this framework or has any idea whether this would be a suitable choice. I think it already answers a few of my questions. Can you guys comment?  </p>\n"},{"tags":[],"owner":{"account_id":13728278,"reputation":226,"user_id":9906422,"display_name":"eprom"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557506516,"creation_date":1536545623,"answer_id":52250238,"question_id":6172567,"body_markdown":"I think the opensource project &#39;Drogon&#39; is what you want. Drogon can be found in [github][1], Here&#39;s the descript of Drogon:\r\n\r\nDrogon is a C++14/14-based HTTP application framework. Drogon can be used to easily build various types of web application server programs using C++. Drogon&#39;s main application platform is Linux, it also supports Mac OS/UNIX. Its main features are as follows:\r\n\r\n* Use a non-blocking I/O network lib based on epoll (kqueue under MacOS/FreeBSD) to provide high-concurrency, high-performance network IO;\r\n* Provide a completely asynchronous programming mode;\r\n* Support Http1.0/1.1 (server side and client side);\r\n* Based on template, a simple reflection mechanism is implemented to completely decouple the main program framework, controllers and views.\r\n* Support cookies and built-in sessions;\r\n* Support back-end rendering, the controller generates the data to the view to generate the Html page, the view is described by a &quot;JSP-like&quot; CSP file, the C++ code is embedded into the Html page by the CSP tag, and the drogon command-line tool automatically generates the C++ code file for compilation;\r\n* Support view page dynamic loading (dynamic compilation and loading at runtime);\r\n* Provide a convenient and flexible routing solution from the path to the controller handler;\r\n* Support filter chains to facilitate the execution of unified logic (such as login verification, Http Method constraint verification, etc.) before controllers;\r\n* Support https (based on OpenSSL);\r\n* Support WebSocket (server side and client side);\r\n* Support JSON format request and response, very friendly to the Restful API application development;\r\n* Support file download and upload;\r\n* Support gzip compression transmission;\r\n* Support pipelining;\r\n* Provide a lightweight command line tool, drogon_ctl, to simplify the creation of various classes in Drogon and the generation of view code;\r\n* Support non-blocking I/O based asynchronously reading and writing database (PostgreSQL and MySQL(MariaDB) database);\r\n* Support asynchronously reading and writing sqlite3 database based on thread pool;\r\n* Support ARM Architecture;\r\n* Provide a convenient lightweight ORM implementation that supports for regular object-to-database bidirectional mapping;\r\n* Support plugins which can be installed by the configuration file at load time;\r\n* Support AOP with build-in joinpoints.\r\n\r\n\r\n  [1]: https://github.com/an-tao/drogon","title":"C++ web framework like spring for Java","body":"<p>I think the opensource project 'Drogon' is what you want. Drogon can be found in <a href=\"https://github.com/an-tao/drogon\" rel=\"nofollow noreferrer\">github</a>, Here's the descript of Drogon:</p>\n\n<p>Drogon is a C++14/14-based HTTP application framework. Drogon can be used to easily build various types of web application server programs using C++. Drogon's main application platform is Linux, it also supports Mac OS/UNIX. Its main features are as follows:</p>\n\n<ul>\n<li>Use a non-blocking I/O network lib based on epoll (kqueue under MacOS/FreeBSD) to provide high-concurrency, high-performance network IO;</li>\n<li>Provide a completely asynchronous programming mode;</li>\n<li>Support Http1.0/1.1 (server side and client side);</li>\n<li>Based on template, a simple reflection mechanism is implemented to completely decouple the main program framework, controllers and views.</li>\n<li>Support cookies and built-in sessions;</li>\n<li>Support back-end rendering, the controller generates the data to the view to generate the Html page, the view is described by a \"JSP-like\" CSP file, the C++ code is embedded into the Html page by the CSP tag, and the drogon command-line tool automatically generates the C++ code file for compilation;</li>\n<li>Support view page dynamic loading (dynamic compilation and loading at runtime);</li>\n<li>Provide a convenient and flexible routing solution from the path to the controller handler;</li>\n<li>Support filter chains to facilitate the execution of unified logic (such as login verification, Http Method constraint verification, etc.) before controllers;</li>\n<li>Support https (based on OpenSSL);</li>\n<li>Support WebSocket (server side and client side);</li>\n<li>Support JSON format request and response, very friendly to the Restful API application development;</li>\n<li>Support file download and upload;</li>\n<li>Support gzip compression transmission;</li>\n<li>Support pipelining;</li>\n<li>Provide a lightweight command line tool, drogon_ctl, to simplify the creation of various classes in Drogon and the generation of view code;</li>\n<li>Support non-blocking I/O based asynchronously reading and writing database (PostgreSQL and MySQL(MariaDB) database);</li>\n<li>Support asynchronously reading and writing sqlite3 database based on thread pool;</li>\n<li>Support ARM Architecture;</li>\n<li>Provide a convenient lightweight ORM implementation that supports for regular object-to-database bidirectional mapping;</li>\n<li>Support plugins which can be installed by the configuration file at load time;</li>\n<li>Support AOP with build-in joinpoints.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1820574,"reputation":318,"user_id":1654737,"display_name":"Serge"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1567863856,"creation_date":1567863856,"answer_id":57834249,"question_id":6172567,"body_markdown":"I would also recommend [Oat++][1] which is designed exactly for your use case:\r\n\r\n - same project structure as Java Spring\r\n - cross-platform\r\n - Supports swagger\r\n - Authorization flow\r\n - zero dependency\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://oatpp.io/","title":"C++ web framework like spring for Java","body":"<p>I would also recommend <a href=\"https://oatpp.io/\" rel=\"noreferrer\">Oat++</a> which is designed exactly for your use case:</p>\n\n<ul>\n<li>same project structure as Java Spring</li>\n<li>cross-platform</li>\n<li>Supports swagger</li>\n<li>Authorization flow</li>\n<li>zero dependency</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5512483,"reputation":934,"user_id":6626185,"accept_rate":75,"display_name":"Zeta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666067162,"creation_date":1666067162,"answer_id":74105711,"question_id":6172567,"body_markdown":"I tried RESTINIO modern c++ web framework.. \r\nThis is well designed. Worth a try.\r\nhttps://github.com/Stiffstream/restinio","title":"C++ web framework like spring for Java","body":"<p>I tried RESTINIO modern c++ web framework..\nThis is well designed. Worth a try.\n<a href=\"https://github.com/Stiffstream/restinio\" rel=\"nofollow noreferrer\">https://github.com/Stiffstream/restinio</a></p>\n"}],"owner":{"account_id":406318,"reputation":221,"user_id":775757,"display_name":"user775757"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22545,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6183261,"answer_count":6,"score":16,"last_activity_date":1666067162,"creation_date":1306733181,"question_id":6172567,"body_markdown":"Is there any web framework in C++ which is like Spring for Java, i am currently working on an application which is in the web domain. Our existing applications are all developed in c++, and we are looking for some framework which has a small learning curve and provides exciting features. Has anyone come across such a framework. Please let me know.","title":"C++ web framework like spring for Java","body":"<p>Is there any web framework in C++ which is like Spring for Java, i am currently working on an application which is in the web domain. Our existing applications are all developed in c++, and we are looking for some framework which has a small learning curve and provides exciting features. Has anyone come across such a framework. Please let me know.</p>\n"},{"tags":["java","spring","junit4","spring-test"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1396965621,"post_id":22939226,"comment_id":35018979,"body_markdown":"Use a [test suite](http://stackoverflow.com/questions/6580670/testsuite-setup-in-junit-4).","body":"Use a <a href=\"http://stackoverflow.com/questions/6580670/testsuite-setup-in-junit-4\">test suite</a>."},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1396965821,"post_id":22939226,"comment_id":35019144,"body_markdown":"@BoristheSpider yeah that might be an option, although it&#39;s not my favourite, since it requires additional configuration overhead for each new test that we write","body":"@BoristheSpider yeah that might be an option, although it&#39;s not my favourite, since it requires additional configuration overhead for each new test that we write"},{"owner":{"account_id":1485607,"reputation":813,"user_id":1393963,"accept_rate":100,"display_name":"Jamey"},"score":1,"creation_date":1396965844,"post_id":22939226,"comment_id":35019171,"body_markdown":"You can put the `@RunWith`, `@TestExecutionListeners` `@ContextConfiguration` annotations on your base class, and this will just initialise the context once.","body":"You can put the <code>@RunWith</code>, <code>@TestExecutionListeners</code> <code>@ContextConfiguration</code> annotations on your base class, and this will just initialise the context once."},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1396965911,"post_id":22939226,"comment_id":35019224,"body_markdown":"@Jamey that&#39;s what I tried, didn&#39;t work for me :-(","body":"@Jamey that&#39;s what I tried, didn&#39;t work for me :-("},{"owner":{"account_id":1485607,"reputation":813,"user_id":1393963,"accept_rate":100,"display_name":"Jamey"},"score":1,"creation_date":1396966061,"post_id":22939226,"comment_id":35019359,"body_markdown":"Hmmm, it definitely works for me. That&#39;s exactly what I do for our tests... I can&#39;t think why that wouldn&#39;t work. What are you using to run the tests? In fact, Boris is spot on. I use a suite to run our tests, so I guess this manages the lifecycle for me as desired. :)","body":"Hmmm, it definitely works for me. That&#39;s exactly what I do for our tests... I can&#39;t think why that wouldn&#39;t work. What are you using to run the tests? In fact, Boris is spot on. I use a suite to run our tests, so I guess this manages the lifecycle for me as desired. :)"},{"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"score":0,"creation_date":1396966595,"post_id":22939226,"comment_id":35019736,"body_markdown":"OK then, seems like test suite is the way to go. Thanks guys!","body":"OK then, seems like test suite is the way to go. Thanks guys!"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1396978908,"creation_date":1396978908,"answer_id":22944425,"question_id":22939226,"body_markdown":"&gt; For fast test execution I want to make sure that the Spring context is\r\n&gt; initialized just once, then all the tests should be run against this\r\n&gt; context, then it should shut down.\r\n\r\nI hate to ask the obvious, but...\r\n\r\nHave you read the [Testing chapter of the Spring Reference Manual][1]?\r\n\r\nSpecifically, these sections explain what&#39;s going on:\r\n\r\n - [Context management and caching][2]\r\n - [Context caching][3]\r\n\r\nSoooo, the TestContext framework certainly supports caching across tests _within a test suite_, and I should know, because I wrote it. ;)\r\n\r\nNow as for why caching is not working for you, I can only assume that you have configured your build framework to fork for each test (or that you are running tests individually and manually within your IDE). Here&#39;s an excerpt from the last link above that might help you out:\r\n\r\n&gt; **Test suites and forked processes**\r\n&gt; \r\n&gt; The Spring TestContext framework stores application contexts in a\r\n&gt; static cache. This means that the context is literally stored in a\r\n&gt; static variable. In other words, if tests execute in separate\r\n&gt; processes the static cache will be cleared between each test\r\n&gt; execution, and this will effectively disable the caching mechanism.\r\n&gt; \r\n&gt; To benefit from the caching mechanism, all tests must run within the\r\n&gt; same process or test suite. This can be achieved by executing all\r\n&gt; tests as a group within an IDE. Similarly, when executing tests with a\r\n&gt; build framework such as Ant, Maven, or Gradle it is important to make\r\n&gt; sure that the build framework does not fork between tests. For\r\n&gt; example, if the forkMode for the Maven Surefire plug-in is set to\r\n&gt; always or pertest, the TestContext framework will not be able to cache\r\n&gt; application contexts between test classes and the build process will\r\n&gt; run significantly slower as a result.\r\n\r\nIf you still experience issues after taking the above into consideration, please consider [submitting a project][4] that demonstrates your problem.\r\n\r\nCheers,\r\n\r\nSam\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#testing-ctx-management\r\n  [3]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-ctx-management-caching\r\n  [4]: https://github.com/spring-projects/spring-framework-issues#readme","title":"How can I initialize a Spring applicationContext just once for all tests","body":"<blockquote>\n  <p>For fast test execution I want to make sure that the Spring context is\n  initialized just once, then all the tests should be run against this\n  context, then it should shut down.</p>\n</blockquote>\n\n<p>I hate to ask the obvious, but...</p>\n\n<p>Have you read the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html\" rel=\"noreferrer\">Testing chapter of the Spring Reference Manual</a>?</p>\n\n<p>Specifically, these sections explain what's going on:</p>\n\n<ul>\n<li><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#testing-ctx-management\" rel=\"noreferrer\">Context management and caching</a></li>\n<li><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-ctx-management-caching\" rel=\"noreferrer\">Context caching</a></li>\n</ul>\n\n<p>Soooo, the TestContext framework certainly supports caching across tests <em>within a test suite</em>, and I should know, because I wrote it. ;)</p>\n\n<p>Now as for why caching is not working for you, I can only assume that you have configured your build framework to fork for each test (or that you are running tests individually and manually within your IDE). Here's an excerpt from the last link above that might help you out:</p>\n\n<blockquote>\n  <p><strong>Test suites and forked processes</strong></p>\n  \n  <p>The Spring TestContext framework stores application contexts in a\n  static cache. This means that the context is literally stored in a\n  static variable. In other words, if tests execute in separate\n  processes the static cache will be cleared between each test\n  execution, and this will effectively disable the caching mechanism.</p>\n  \n  <p>To benefit from the caching mechanism, all tests must run within the\n  same process or test suite. This can be achieved by executing all\n  tests as a group within an IDE. Similarly, when executing tests with a\n  build framework such as Ant, Maven, or Gradle it is important to make\n  sure that the build framework does not fork between tests. For\n  example, if the forkMode for the Maven Surefire plug-in is set to\n  always or pertest, the TestContext framework will not be able to cache\n  application contexts between test classes and the build process will\n  run significantly slower as a result.</p>\n</blockquote>\n\n<p>If you still experience issues after taking the above into consideration, please consider <a href=\"https://github.com/spring-projects/spring-framework-issues#readme\" rel=\"noreferrer\">submitting a project</a> that demonstrates your problem.</p>\n\n<p>Cheers,</p>\n\n<p>Sam</p>\n"}],"owner":{"account_id":774364,"reputation":5391,"user_id":820666,"accept_rate":68,"display_name":"Bastian Voigt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15286,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22944425,"answer_count":1,"score":5,"last_activity_date":1666066044,"creation_date":1396965306,"question_id":22939226,"body_markdown":"I have a set of tests based which need a spring context.\r\n\r\nFor fast test execution I want to make sure that the Spring context is initialized just once, then all the tests should be run against this context, then it should shut down.\r\n\r\nI already tried the following approaches:\r\n\r\n 1. Use `@RunWith(SpringJUnit4ClassRunner.class)` and `@ContextConfiguration(MyAnnotatedConfig.class)` to initialize the spring context\r\n 2. Use a `@RunWith(SpringJUnit4ClassRunner.class)` and `@TestExecutionListeners({MyTestExecutionListener.class})` with a handwritten test execution listener that initializes the spring context and injects it into the concrete test classes\r\n 3. Use a `@BeforeClass` listener in a base class and a static field to store the spring context, and a `@AfterClass` for shutdown\r\n\r\nWith all three approaches, the spring context seems to be initialized more than once, which takes a lot of time. It seems that JUnit unloads classes while running tests, so that the content of static fields is sometimes lost.\r\n\r\nIs there a way to make sure the spring context is initialized only once?","title":"How can I initialize a Spring applicationContext just once for all tests","body":"<p>I have a set of tests based which need a spring context.</p>\n\n<p>For fast test execution I want to make sure that the Spring context is initialized just once, then all the tests should be run against this context, then it should shut down.</p>\n\n<p>I already tried the following approaches:</p>\n\n<ol>\n<li>Use <code>@RunWith(SpringJUnit4ClassRunner.class)</code> and <code>@ContextConfiguration(MyAnnotatedConfig.class)</code> to initialize the spring context</li>\n<li>Use a <code>@RunWith(SpringJUnit4ClassRunner.class)</code> and <code>@TestExecutionListeners({MyTestExecutionListener.class})</code> with a handwritten test execution listener that initializes the spring context and injects it into the concrete test classes</li>\n<li>Use a <code>@BeforeClass</code> listener in a base class and a static field to store the spring context, and a <code>@AfterClass</code> for shutdown</li>\n</ol>\n\n<p>With all three approaches, the spring context seems to be initialized more than once, which takes a lot of time. It seems that JUnit unloads classes while running tests, so that the content of static fields is sometimes lost.</p>\n\n<p>Is there a way to make sure the spring context is initialized only once?</p>\n"},{"tags":["java","spring","spring-boot","junit","spring-test"],"answers":[{"tags":[],"owner":{"account_id":6722144,"reputation":809,"user_id":5181711,"display_name":"Andres Cespedes Morales"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1529443489,"creation_date":1502287844,"answer_id":45593129,"question_id":45591160,"body_markdown":"Ruslan, so your question is on how to reuse the Spring Boot Context for a JUnit Suite, right?\r\n\r\nThen, it&#39;s almost out-of-the-box provided, you just need to annotate each unit test with the `@SpringBootTest` annotation.\r\n\r\nAlso make sure that your main `@SpringBootApplication` class is loading all the necessary `@Configuration` classes, this process will be automatically done if the `@SpringBootApplication` is on the root package above all configuration class and with the inherited `@ComponentScan` will load up all of them.\r\n\r\n**From the Spring Boot Testing documentation:**\r\n&gt; Spring Boot provides a `@SpringBootTest` annotation which can be used as an alternative to the standard spring-test `@ContextConfiguration` annotation when you need Spring Boot features. The annotation works by creating the ApplicationContext used in your tests via SpringApplication.\r\nThe Spring TestContext framework stores application contexts in a static cache. This means that the context is literally stored in a static variable. In other words, if tests execute in separate processes the static cache will be cleared between each test execution, and this will effectively disable the caching mechanism. \r\nTo benefit from the caching mechanism, all tests must run within the same process or test suite. This can be achieved by executing all tests as a group within an IDE\r\n\r\n**From the Spring Testing documentation:**\r\n&gt; By default, once loaded, the configured ApplicationContext is reused for each test. Thus the setup cost is incurred only once per test suite, and subsequent test execution is much faster. In this context, the term test suite means all tests run in the same JVM\r\n\r\nCheck this urls:\r\n\r\n - http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testcontext-ctx-management-caching\r\n - http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testing-ctx-management\r\n\r\n**Main Takeaways:**\r\n-------------------\r\n\r\n - **Annotate each unit test with `@SpringBootTest`**\r\n\r\n - **Load all beans and necessary configuration classes in your main `@SpringBootApplication` class**\r\n\r\n - **IMPORTANT: Run a JUnit Suite, not a single JUnit test. Execute all tests as a group within your IDE.**","title":"Use one spring boot context through all SpringBootTests","body":"<p>Ruslan, so your question is on how to reuse the Spring Boot Context for a JUnit Suite, right?</p>\n\n<p>Then, it's almost out-of-the-box provided, you just need to annotate each unit test with the <code>@SpringBootTest</code> annotation.</p>\n\n<p>Also make sure that your main <code>@SpringBootApplication</code> class is loading all the necessary <code>@Configuration</code> classes, this process will be automatically done if the <code>@SpringBootApplication</code> is on the root package above all configuration class and with the inherited <code>@ComponentScan</code> will load up all of them.</p>\n\n<p><strong>From the Spring Boot Testing documentation:</strong></p>\n\n<blockquote>\n  <p>Spring Boot provides a <code>@SpringBootTest</code> annotation which can be used as an alternative to the standard spring-test <code>@ContextConfiguration</code> annotation when you need Spring Boot features. The annotation works by creating the ApplicationContext used in your tests via SpringApplication.\n  The Spring TestContext framework stores application contexts in a static cache. This means that the context is literally stored in a static variable. In other words, if tests execute in separate processes the static cache will be cleared between each test execution, and this will effectively disable the caching mechanism. \n  To benefit from the caching mechanism, all tests must run within the same process or test suite. This can be achieved by executing all tests as a group within an IDE</p>\n</blockquote>\n\n<p><strong>From the Spring Testing documentation:</strong></p>\n\n<blockquote>\n  <p>By default, once loaded, the configured ApplicationContext is reused for each test. Thus the setup cost is incurred only once per test suite, and subsequent test execution is much faster. In this context, the term test suite means all tests run in the same JVM</p>\n</blockquote>\n\n<p>Check this urls:</p>\n\n<ul>\n<li><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testcontext-ctx-management-caching\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testcontext-ctx-management-caching</a></li>\n<li><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testing-ctx-management\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testing-ctx-management</a></li>\n</ul>\n\n<h2><strong>Main Takeaways:</strong></h2>\n\n<ul>\n<li><p><strong>Annotate each unit test with <code>@SpringBootTest</code></strong></p></li>\n<li><p><strong>Load all beans and necessary configuration classes in your main <code>@SpringBootApplication</code> class</strong></p></li>\n<li><p><strong>IMPORTANT: Run a JUnit Suite, not a single JUnit test. Execute all tests as a group within your IDE.</strong></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1404731,"reputation":171,"user_id":1332757,"display_name":"joooohnli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666065616,"creation_date":1666065616,"answer_id":74105562,"question_id":45591160,"body_markdown":"`@SpringBootTest` provides ApplicatonContext caching and sharing in Junit Test Cases naturally.\r\n\r\nWhile some cases may be exceptions. For example, using `@MockBean` or `@SpyBean` in a test class will cause the ApplicatonContext cache failure.\r\n\r\n&gt; While Spring’s test framework caches application contexts between\r\n&gt; tests and reuses a context for tests sharing the same configuration,\r\n&gt; the use of @MockBean or @SpyBean influences the cache key, which will\r\n&gt; most likely increase the number of contexts.\r\n- https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/reference/html/boot-features-testing.html\r\n\r\nAnd this kind of issue is still not solved in the latest SpringBoot release.\r\n- https://github.com/spring-projects/spring-boot/issues/21099\r\n- https://github.com/spring-projects/spring-boot/issues/7174","title":"Use one spring boot context through all SpringBootTests","body":"<p><code>@SpringBootTest</code> provides ApplicatonContext caching and sharing in Junit Test Cases naturally.</p>\n<p>While some cases may be exceptions. For example, using <code>@MockBean</code> or <code>@SpyBean</code> in a test class will cause the ApplicatonContext cache failure.</p>\n<blockquote>\n<p>While Spring’s test framework caches application contexts between\ntests and reuses a context for tests sharing the same configuration,\nthe use of @MockBean or @SpyBean influences the cache key, which will\nmost likely increase the number of contexts.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/reference/html/boot-features-testing.html</a></li>\n</ul>\n<p>And this kind of issue is still not solved in the latest SpringBoot release.</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/21099\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/21099</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/7174\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/7174</a></li>\n</ul>\n"}],"owner":{"account_id":5412293,"reputation":2188,"user_id":4308639,"accept_rate":73,"display_name":"Ruslan Akhundov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16903,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45593129,"answer_count":2,"score":10,"last_activity_date":1666065616,"creation_date":1502282937,"question_id":45591160,"body_markdown":"I want to be able to cache application context through different classes with tests using junit.\r\n\r\nTest classes are declared this way:\r\n\r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    public class SomeIntegrationTest {\r\n    }\r\n\r\nI saw this question https://stackoverflow.com/questions/8501975/reuse-spring-application-context-across-junit-test-classes but in this case I don&#39;t use any xml and I want to start context completely, not just few beans from it, so `@SpringBootTest` is more suitable than `@ContextConfiguration`, if I got it right.","title":"Use one spring boot context through all SpringBootTests","body":"<p>I want to be able to cache application context through different classes with tests using junit.</p>\n\n<p>Test classes are declared this way:</p>\n\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class SomeIntegrationTest {\n}\n</code></pre>\n\n<p>I saw this question <a href=\"https://stackoverflow.com/questions/8501975/reuse-spring-application-context-across-junit-test-classes\">Reuse spring application context across junit test classes</a> but in this case I don't use any xml and I want to start context completely, not just few beans from it, so <code>@SpringBootTest</code> is more suitable than <code>@ContextConfiguration</code>, if I got it right.</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":4832400,"reputation":16,"user_id":3900247,"display_name":"user3900247"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1406913702,"creation_date":1406911836,"answer_id":25085078,"question_id":24488814,"body_markdown":"I don&#39;t think this is possible. According to [JavaDoc][1]:\r\n\r\n&gt; Once the application deployment phase is complete, and the websocket application has begun accepting incoming connections, the registration methods may no longer be called.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/websocket/server/ServerContainer.html","title":"Tomcat: Programmatically remove websocket endpoint","body":"<p>I don't think this is possible. According to <a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/server/ServerContainer.html\" rel=\"nofollow\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>Once the application deployment phase is complete, and the websocket application has begun accepting incoming connections, the registration methods may no longer be called.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26136722,"reputation":1,"user_id":19826631,"display_name":"6right"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666065003,"creation_date":1666065003,"answer_id":74105501,"question_id":24488814,"body_markdown":"You can delete the WS connection to the endpoint through configExactMatchMap after obtaining the container\r\n```\r\nWsServerContainer wsServerContainer = (WsServerContainer) request.getSession().getServletContext().getAttribute(ServerContainer.class.getName());\r\n                Class&lt;?&gt; obj = Class.forName(&quot;org.apache.tomcat.websocket.server.WsServerContainer&quot;);\r\n                Field field = obj.getDeclaredField(&quot;configExactMatchMap&quot;);\r\n                field.setAccessible(true);\r\n                Map&lt;String, Object&gt; configExactMatchMap = (Map&lt;String, Object&gt;) field.get(wsServerContainer);\r\n                ExactMatch.remove(servletName);\r\n```","title":"Tomcat: Programmatically remove websocket endpoint","body":"<p>You can delete the WS connection to the endpoint through configExactMatchMap after obtaining the container</p>\n<pre><code>WsServerContainer wsServerContainer = (WsServerContainer) request.getSession().getServletContext().getAttribute(ServerContainer.class.getName());\n                Class&lt;?&gt; obj = Class.forName(&quot;org.apache.tomcat.websocket.server.WsServerContainer&quot;);\n                Field field = obj.getDeclaredField(&quot;configExactMatchMap&quot;);\n                field.setAccessible(true);\n                Map&lt;String, Object&gt; configExactMatchMap = (Map&lt;String, Object&gt;) field.get(wsServerContainer);\n                ExactMatch.remove(servletName);\n</code></pre>\n"}],"owner":{"account_id":1570938,"reputation":1142,"user_id":1458639,"accept_rate":69,"display_name":"Peter Clause"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25085078,"answer_count":2,"score":2,"last_activity_date":1666065003,"creation_date":1404126699,"question_id":24488814,"body_markdown":"I&#39;m able to programmatically add a websocket server endpoint:\r\n\r\n    ServerEndpointConfig endpointConfig = ServerEndpointConfig.Builder.create(WebSocketDispatcher.class, uri).build();\r\n    getServerContainer().addEndpoint(endpointConfig);\r\n\r\nHowever, now I would like to remove this endpoint but I&#39;m unable to find any method that can do that. Does anybody know of a way?\r\n\r\nThanks!\r\n","title":"Tomcat: Programmatically remove websocket endpoint","body":"<p>I'm able to programmatically add a websocket server endpoint:</p>\n\n<pre><code>ServerEndpointConfig endpointConfig = ServerEndpointConfig.Builder.create(WebSocketDispatcher.class, uri).build();\ngetServerContainer().addEndpoint(endpointConfig);\n</code></pre>\n\n<p>However, now I would like to remove this endpoint but I'm unable to find any method that can do that. Does anybody know of a way?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","eclipse","generics","hashmap"],"comments":[{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":2,"creation_date":1280325970,"post_id":3353635,"comment_id":3481817,"body_markdown":"Try something like: HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();  As others mentioned, you aren&#39;t specifying the type for the key and value.  It is safer to give this info, for type-checking.","body":"Try something like: HashMap&lt;String, String&gt; h = new HashMap&lt;String, String&gt;();  As others mentioned, you aren&#39;t specifying the type for the key and value.  It is safer to give this info, for type-checking."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1280326148,"post_id":3353635,"comment_id":3481849,"body_markdown":"@James Or better `final Map&lt;String,String&gt; h = new HashMap&lt;String,String&gt;();`.","body":"@James Or better <code>final Map&lt;String,String&gt; h = new HashMap&lt;String,String&gt;();</code>."},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1280326279,"post_id":3353635,"comment_id":3481882,"body_markdown":"@Tom Hawtin - True, using Map would be better, but I was just following his example. :)","body":"@Tom Hawtin - True, using Map would be better, but I was just following his example. :)"}],"answers":[{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1280329404,"creation_date":1280325833,"answer_id":3353650,"question_id":3353635,"body_markdown":"Eclipse will give you that warning when you use a non-[Generic][1] `HashMap` using Java 5 or newer.\r\n\r\nSee Also: The [Generics Lesson][2] in Sun&#39;s Java Tutorials.\r\n\r\nEdit:  Actually, here, I&#39;ll give an example too:\r\n\r\nSay I want to map someone&#39;s name to their `Person` object:\r\n\r\n    Map&lt;String, Person&gt; map = new HashMap&lt;String, Person&gt;();\r\n    // The map.get method now returns a Person\r\n    // The map.put method now requires a String and a Person\r\n\r\nThese are checked at compile-time; the type information is lost at run-time due to how Java implements Generics.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html\r\n  [2]: http://download-llnw.oracle.com/javase/tutorial/extra/generics/index.html\r\n","title":"Eclipse Warning with Java HashMap","body":"<p>Eclipse will give you that warning when you use a non-<a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/language/generics.html\" rel=\"nofollow noreferrer\">Generic</a> <code>HashMap</code> using Java 5 or newer.</p>\n\n<p>See Also: The <a href=\"http://download-llnw.oracle.com/javase/tutorial/extra/generics/index.html\" rel=\"nofollow noreferrer\">Generics Lesson</a> in Sun's Java Tutorials.</p>\n\n<p>Edit:  Actually, here, I'll give an example too:</p>\n\n<p>Say I want to map someone's name to their <code>Person</code> object:</p>\n\n<pre><code>Map&lt;String, Person&gt; map = new HashMap&lt;String, Person&gt;();\n// The map.get method now returns a Person\n// The map.put method now requires a String and a Person\n</code></pre>\n\n<p>These are checked at compile-time; the type information is lost at run-time due to how Java implements Generics.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280325858,"creation_date":1280325858,"answer_id":3353654,"question_id":3353635,"body_markdown":"That is missing generics, i.e. &lt;String&gt;.  If you don&#39;t know thise then set the eclipse compiler to java 1.4","title":"Eclipse Warning with Java HashMap","body":"<p>That is missing generics, i.e. .  If you don't know thise then set the eclipse compiler to java 1.4</p>\n"},{"tags":[],"owner":{"account_id":28410,"reputation":22205,"user_id":75863,"accept_rate":76,"display_name":"jjujuma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280325961,"creation_date":1280325961,"answer_id":3353667,"question_id":3353635,"body_markdown":"Nothing *wrong* exactly, but you are missing out on the wonderful world of generics.  Depending on what constraints you want to place on the types used in your map, you should add type parameters.  For example:\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();","title":"Eclipse Warning with Java HashMap","body":"<p>Nothing <em>wrong</em> exactly, but you are missing out on the wonderful world of generics.  Depending on what constraints you want to place on the types used in your map, you should add type parameters.  For example:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280325973,"creation_date":1280325973,"answer_id":3353669,"question_id":3353635,"body_markdown":"That usually means you&#39;re mixing generic code with non-generic code.\r\n\r\nBut as your example wont even compile its rather hard to tell....","title":"Eclipse Warning with Java HashMap","body":"<p>That usually means you're mixing generic code with non-generic code.</p>\n\n<p>But as your example wont even compile its rather hard to tell....</p>\n"},{"tags":[],"owner":{"account_id":174697,"reputation":212,"user_id":404227,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280326005,"creation_date":1280325981,"answer_id":3353670,"question_id":3353635,"body_markdown":"Try\r\n\r\n    HashMap&lt;String,Integer&gt; map = new HashMap&lt;String,Integer&gt;();\r\n\r\ninstead (obviously replacing the key type (String) and value type (Integer)).\r\n\r\n","title":"Eclipse Warning with Java HashMap","body":"<p>Try</p>\n\n<pre><code>HashMap&lt;String,Integer&gt; map = new HashMap&lt;String,Integer&gt;();\n</code></pre>\n\n<p>instead (obviously replacing the key type (String) and value type (Integer)).</p>\n"},{"tags":[],"owner":{"account_id":36553,"reputation":2661,"user_id":104302,"accept_rate":81,"display_name":"S73417H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280326033,"creation_date":1280326033,"answer_id":3353678,"question_id":3353635,"body_markdown":"It&#39;s missing the generic type. You should specify the key-value generic pair for your map. For instance, the following is a declaration that instantiates a `HashMap` with String type key and Integer type value.\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();","title":"Eclipse Warning with Java HashMap","body":"<p>It's missing the generic type. You should specify the key-value generic pair for your map. For instance, the following is a declaration that instantiates a <code>HashMap</code> with String type key and Integer type value.</p>\n\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118803,"reputation":2451,"user_id":310092,"display_name":"mezmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280326513,"creation_date":1280326513,"answer_id":3353743,"question_id":3353635,"body_markdown":"All of these are valid answers, you could also use the @SurpressWarnings annotation to get the same result, without having to resort to actual generics. ;)\r\n","title":"Eclipse Warning with Java HashMap","body":"<p>All of these are valid answers, you could also use the @SurpressWarnings annotation to get the same result, without having to resort to actual generics. ;)</p>\n"},{"tags":[],"owner":{"account_id":6635587,"reputation":11,"user_id":5122837,"display_name":"Vignesh Kandavelu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437038826,"creation_date":1437038826,"answer_id":31450361,"question_id":3353635,"body_markdown":"hashmap is a raw type and hence should be parameterised ie\r\nwhat ever the data we get through the haspmap function their type must be declared for getting its functions\r\n\r\nfor example\r\n\r\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();","title":"Eclipse Warning with Java HashMap","body":"<p>hashmap is a raw type and hence should be parameterised ie\nwhat ever the data we get through the haspmap function their type must be declared for getting its functions</p>\n\n<p>for example</p>\n\n<pre><code>HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5135464,"reputation":11,"user_id":4114365,"display_name":"iffi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666064347,"creation_date":1666064347,"answer_id":74105440,"question_id":3353635,"body_markdown":"With the latest Java, you do not have to explicitly mention the variable types in declaration. You can simply put:\r\n\r\n     = new HashMap&lt;&gt;();\r\n\r\n","title":"Eclipse Warning with Java HashMap","body":"<p>With the latest Java, you do not have to explicitly mention the variable types in declaration. You can simply put:</p>\n<pre><code> = new HashMap&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":635779,"reputation":51,"user_id":404598,"display_name":"plkMon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7516,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":9,"score":5,"last_activity_date":1666064347,"creation_date":1280325778,"question_id":3353635,"body_markdown":"Eclipse is saying &quot;HashMap is a raw type&quot; When I use the following code  \r\n\r\n    HashMap = new HashMap();\r\n\r\nAny idea what could be wrong?","title":"Eclipse Warning with Java HashMap","body":"<p>Eclipse is saying \"HashMap is a raw type\" When I use the following code  </p>\n\n<pre><code>HashMap = new HashMap();\n</code></pre>\n\n<p>Any idea what could be wrong?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666055578,"post_id":74104661,"comment_id":130839823,"body_markdown":"Only print when i == num-1 using if statements?","body":"Only print when i == num-1 using if statements?"},{"owner":{"account_id":26654309,"reputation":1,"user_id":20268081,"display_name":"javahelp"},"score":0,"creation_date":1666056284,"post_id":74104661,"comment_id":130839946,"body_markdown":"@tgdavies which print statements would i place that in front of? when i just use the &quot;if (i==num-1)&quot; before the &quot;System.out.print(pascalTemp[x]+ &quot; &quot;);&quot; , it works but it also prints out the 1, 1 1, 1 1, 1 1, ... until that row, which i don&#39;t want","body":"@tgdavies which print statements would i place that in front of? when i just use the &quot;if (i==num-1)&quot; before the &quot;System.out.print(pascalTemp[x]+ &quot; &quot;);&quot; , it works but it also prints out the 1, 1 1, 1 1, 1 1, ... until that row, which i don&#39;t want"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1666057661,"post_id":74104661,"comment_id":130840128,"body_markdown":"Let me start with an off-topic suggestion: Instead of printing each value as it is calculated, append the values to a `CharSequence` object until you have finished a row. Then, print that row .","body":"Let me start with an off-topic suggestion: Instead of printing each value as it is calculated, append the values to a <code>CharSequence</code> object until you have finished a row. Then, print that row ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1666057755,"post_id":74104661,"comment_id":130840137,"body_markdown":"If you use the suggestion about not printing until you have a complete row, the suggestion from @tgdavies will be easier to implement.","body":"If you use the suggestion about not printing until you have a complete row, the suggestion from @tgdavies will be easier to implement."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666058457,"post_id":74104661,"comment_id":130840217,"body_markdown":"You&#39;d need to surround each and every print statement which is inside your loop with that if statement. Building up a String so that you only need one print statement is a good idea.","body":"You&#39;d need to surround each and every print statement which is inside your loop with that if statement. Building up a String so that you only need one print statement is a good idea."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666064124,"creation_date":1666061206,"answer_id":74105151,"question_id":74104661,"body_markdown":"The r-th number of the n-th line (r = 0, 1, 2, 3, ...) is `(n - 1)Cr = (n - 1)! / (r! * (n - 1 - r)!) `. `(n - 1)C0` is always `1`. And `(n - 1)C(r + 1)` can be obtained from `(n - 1)Cr`. For example, when `n = 4`, it becomes as follows.\r\n\r\n    3C0 = 1           = 1\r\n    3C1 = 3C0 * 3 / 1 = 3\r\n    3C2 = 3C1 * 2 / 2 = 3\r\n    3C3 = 3C2 * 1 / 3 = 1\r\n\r\nMultiplying numbers decrease by 1 and dividing numbers increase by 1.\r\nIf you program this, it will be as follows.\r\n\r\n    static void pascalNthRow(int n) {\r\n        for (int p = 1, m = n - 1, d = 1; d &lt;= n; p = p * m / d, --m, ++d)\r\n            System.out.print(p + &quot; &quot;);\r\n        System.out.println();\r\n    }\r\n\r\n\r\nand\r\n\r\n    pascalNthRow(3);\r\n    pascalNthRow(4);\r\n    pascalNthRow(5);\r\n\r\n\r\noutput\r\n\r\n    1 2 1 \r\n    1 3 3 1 \r\n    1 4 6 4 1 \r\n\r\n","title":"how to print out the nth row of pascal&#39;s triangle using 1d arrays in java","body":"<p>The r-th number of the n-th line (r = 0, 1, 2, 3, ...) is <code>(n - 1)Cr = (n - 1)! / (r! * (n - 1 - r)!) </code>. <code>(n - 1)C0</code> is always <code>1</code>. And <code>(n - 1)C(r + 1)</code> can be obtained from <code>(n - 1)Cr</code>. For example, when <code>n = 4</code>, it becomes as follows.</p>\n<pre><code>3C0 = 1           = 1\n3C1 = 3C0 * 3 / 1 = 3\n3C2 = 3C1 * 2 / 2 = 3\n3C3 = 3C2 * 1 / 3 = 1\n</code></pre>\n<p>Multiplying numbers decrease by 1 and dividing numbers increase by 1.\nIf you program this, it will be as follows.</p>\n<pre><code>static void pascalNthRow(int n) {\n    for (int p = 1, m = n - 1, d = 1; d &lt;= n; p = p * m / d, --m, ++d)\n        System.out.print(p + &quot; &quot;);\n    System.out.println();\n}\n</code></pre>\n<p>and</p>\n<pre><code>pascalNthRow(3);\npascalNthRow(4);\npascalNthRow(5);\n</code></pre>\n<p>output</p>\n<pre><code>1 2 1 \n1 3 3 1 \n1 4 6 4 1 \n</code></pre>\n"}],"owner":{"account_id":26654309,"reputation":1,"user_id":20268081,"display_name":"javahelp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666064124,"creation_date":1666055202,"question_id":74104661,"body_markdown":"it should be a program that will print the row of the pascal&#39;s triangle depending on the user input, so if the user enters 4, the output will be: 1 3 3 1. i&#39;ve figured out how to print out the entire pascal&#39;s triangle, but i&#39;m not sure how to adjust it so that it only prints out the nth row.\r\n\r\n```import java.util.*;\r\npublic class PascalTriangle\r\n{\r\n    public static void main(String [] args)\r\n    {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Please enter a number.&quot;);\r\n        int num = input.nextInt();\r\n        input.nextLine();\r\n\r\n        int x=1;\r\n        int y=0;\r\n        int[] pascal = new int[num];\r\n        int[] pascalTemp = new int[num];\r\n        pascal[0] = 1;\r\n        pascal[1] = 1;\r\n\r\n        for(int i=0; i&lt;num; i++)\r\n        {\r\n            for(int j=0; j&lt;=i; j++)\r\n            {\r\n                if(i==0)\r\n                    System.out.print(&quot;1&quot;);\r\n                else\r\n                {\r\n                    if(j==0 || j==i)\r\n                        System.out.print(&quot;1 &quot;);\r\n                    else\r\n                    {\r\n                        pascalTemp[x] = pascal[y] + pascal[y+1];\r\n                        System.out.print(pascalTemp[x]+ &quot; &quot;);\r\n                        x++;\r\n                        y++;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println();\r\n            pascalTemp[x] = 1;\r\n            if(i&gt;1)\r\n            {\r\n                y=0;\r\n                pascal[y]=1;\r\n                for(x=1, y=1; y&lt;=i; x++, y++)\r\n                    pascal[y] = pascalTemp[x];\r\n                x=1;\r\n                y=0;\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"how to print out the nth row of pascal&#39;s triangle using 1d arrays in java","body":"<p>it should be a program that will print the row of the pascal's triangle depending on the user input, so if the user enters 4, the output will be: 1 3 3 1. i've figured out how to print out the entire pascal's triangle, but i'm not sure how to adjust it so that it only prints out the nth row.</p>\n<pre><code>public class PascalTriangle\n{\n    public static void main(String [] args)\n    {\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(&quot;Please enter a number.&quot;);\n        int num = input.nextInt();\n        input.nextLine();\n\n        int x=1;\n        int y=0;\n        int[] pascal = new int[num];\n        int[] pascalTemp = new int[num];\n        pascal[0] = 1;\n        pascal[1] = 1;\n\n        for(int i=0; i&lt;num; i++)\n        {\n            for(int j=0; j&lt;=i; j++)\n            {\n                if(i==0)\n                    System.out.print(&quot;1&quot;);\n                else\n                {\n                    if(j==0 || j==i)\n                        System.out.print(&quot;1 &quot;);\n                    else\n                    {\n                        pascalTemp[x] = pascal[y] + pascal[y+1];\n                        System.out.print(pascalTemp[x]+ &quot; &quot;);\n                        x++;\n                        y++;\n                    }\n                }\n            }\n            System.out.println();\n            pascalTemp[x] = 1;\n            if(i&gt;1)\n            {\n                y=0;\n                pascal[y]=1;\n                for(x=1, y=1; y&lt;=i; x++, y++)\n                    pascal[y] = pascalTemp[x];\n                x=1;\n                y=0;\n            }\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1523136911,"post_id":49708828,"comment_id":86437922,"body_markdown":"You will have to do more in detail analysis of the document types you&#39;ll retrieve and do more dynamic extraction than just taking the text from some area.","body":"You will have to do more in detail analysis of the document types you&#39;ll retrieve and do more dynamic extraction than just taking the text from some area."},{"owner":{"account_id":177646,"reputation":3962,"user_id":409110,"accept_rate":63,"display_name":"Amit"},"score":0,"creation_date":1523195941,"post_id":49708828,"comment_id":86450092,"body_markdown":"@mkl what kind of dynamic extraction would be required? I have tried using tabula but the results are suboptimal at best","body":"@mkl what kind of dynamic extraction would be required? I have tried using tabula but the results are suboptimal at best"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1523201442,"post_id":49708828,"comment_id":86451886,"body_markdown":"You have to identify the start and the end of the tabular data. You can do that e.g. by means of standard phrases before/after the table or by specific drawings (lines, backgrounds,...). If there are no such markers across all your documents, you have to categorise the documents in separate groups.","body":"You have to identify the start and the end of the tabular data. You can do that e.g. by means of standard phrases before/after the table or by specific drawings (lines, backgrounds,...). If there are no such markers across all your documents, you have to categorise the documents in separate groups."}],"answers":[{"tags":[],"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1523478904,"creation_date":1523403623,"answer_id":49764315,"question_id":49708828,"body_markdown":"i wrote just such a parser to parse our chase pdf credit card statements, to speed up the tax-preparation time, with the help of an open source project called Apache Tika.\r\n\r\njust need to include tika and pdf parser in your pom.xml dependencies:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nthe PDF extractor is fairly straightforward also:\r\n\r\n    import org.apache.tika.metadata.Metadata;\r\n    import org.apache.tika.parser.ParseContext;\r\n    import org.apache.tika.parser.pdf.PDFParser;\r\n    import org.apache.tika.sax.BodyContentHandler;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.xml.sax.ContentHandler;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class PdfExtractor {\r\n        private static Logger logger = LoggerFactory.getLogger(PdfExtractor.class);\r\n    \r\n        public static void main(String args[]) throws Exception {\r\n            StopWatch sw = new StopWatch();\r\n            List&lt;String&gt; files = new ArrayList&lt;&gt;();\r\n            files.add(&quot;C:/Users/m/Downloads/20170115.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170215.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170315.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170415.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170515.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170615.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170715.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170815.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20170915.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20171015.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20171115.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20171215.pdf&quot;);\r\n            files.add(&quot;C:/Users/m/Downloads/20180115.pdf&quot;);\r\n            InputStream is;\r\n            List&lt;ChasePdfParser.ChaseRecord&gt; full = new ArrayList&lt;&gt;();\r\n            for (String fileName : files) {\r\n                logger.info(&quot;Now processing &quot; + fileName);\r\n                is = new FileInputStream(fileName);\r\n                ContentHandler contenthandler = new BodyContentHandler();\r\n                Metadata metadata = new Metadata();\r\n                PDFParser pdfparser = new PDFParser();\r\n                pdfparser.parse(is, contenthandler, metadata, new ParseContext());\r\n                String data = contenthandler.toString();\r\n                List&lt;ChasePdfParser.ChaseRecord&gt; chaseRecords = ChasePdfParser.parse(data);\r\n                full.addAll(chaseRecords);\r\n                is.close();\r\n            }\r\n            logger.info(&quot;Total processing time: &quot; + PrettyPrinter.toMsSoundsGood(sw.getTime()));\r\n            full.forEach(cr -&gt; System.err.println(cr.date + &quot;|&quot; + cr.desc + &quot;|&quot; + cr.amt));\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe line parser also fairly straight-forward, since each line has all the necessary info, it&#39;s easy to parse it:\r\n\r\n\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class ChasePdfParser {\r\n        private static Logger logger = LoggerFactory.getLogger(ChasePdfParser.class);\r\n    \r\n        private static int FOR_TAX_YEAR = 2017;\r\n        private static String YEAR_EXTENSION = &quot;/&quot; + FOR_TAX_YEAR;\r\n        private static DateTimeFormatter check = DateTimeFormatter.ofPattern(&quot;MM/dd/uuuu&quot;);\r\n        private static List&lt;String&gt; exclusions = new ArrayList&lt;&gt;(Arrays.asList(&quot;Payment Thank You&quot;, &quot;AUTOMATIC PAYMENT&quot;));\r\n    \r\n        public static List&lt;ChaseRecord&gt; parse(String data) {\r\n            List&lt;ChaseRecord&gt; l = new ArrayList&lt;&gt;();\r\n            for (String line : data.split(&quot;\\n&quot;)) {\r\n                if (line.isEmpty()) continue;\r\n                String[] split = line.split(&quot;\\\\s&quot;);\r\n                if (split == null || split.length == 0) continue;\r\n                String test = split[0];\r\n                if (!isMMDD(test)) continue;\r\n                if(skip(line)) continue;\r\n                if (split.length &lt; 4) continue;\r\n                ChaseRecord cr = new ChaseRecord();\r\n                cr.date = extractDate(test);\r\n                try {\r\n                    String last = split[split.length - 1];\r\n                    last = last.replaceAll(&quot;,&quot;, &quot;&quot;);\r\n                    cr.amt = Double.parseDouble(last);\r\n                } catch (NumberFormatException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                cr.desc = String.join(&quot; &quot;, Arrays.copyOfRange(split, 1, split.length - 1));\r\n                cr.desc = cr.desc.replaceAll(&quot;\\\\s\\\\s+&quot;, &quot; &quot;);\r\n                l.add(cr);\r\n            }\r\n            return l;\r\n        }\r\n    \r\n        private static boolean skip(String s) {\r\n            if (s == null || s.isEmpty()) {\r\n                return true;\r\n            }\r\n            for (String e : exclusions) {\r\n                if (s.contains(e)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        protected static LocalDate extractDate(String s) {\r\n            if (!isMMDD(s)) {\r\n                return null;\r\n            }\r\n            LocalDate localDate = LocalDate.parse(s + YEAR_EXTENSION, check);\r\n            return localDate;\r\n        }\r\n    \r\n        public static boolean isMMDD(String s) {\r\n            if (s == null || s.isEmpty() || s.length() != 5) {\r\n                return false;\r\n            }\r\n            try {\r\n                s += YEAR_EXTENSION;\r\n                LocalDate.parse(s, check);\r\n                return true;\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public static class ChaseRecord {\r\n            public LocalDate date;\r\n            public String desc;\r\n            public Double amt;\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;ChaseRecord{&quot; +\r\n                        &quot;date=&quot; + date +\r\n                        &quot;, desc=&#39;&quot; + desc + &#39;\\&#39;&#39; +\r\n                        &quot;, amt=&quot; + amt +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Parsing a bank statement PDF","body":"<p>i wrote just such a parser to parse our chase pdf credit card statements, to speed up the tax-preparation time, with the help of an open source project called Apache Tika.</p>\n\n<p>just need to include tika and pdf parser in your pom.xml dependencies:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n            &lt;version&gt;1.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n            &lt;version&gt;1.17&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>the PDF extractor is fairly straightforward also:</p>\n\n<pre><code>import org.apache.tika.metadata.Metadata;\nimport org.apache.tika.parser.ParseContext;\nimport org.apache.tika.parser.pdf.PDFParser;\nimport org.apache.tika.sax.BodyContentHandler;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.xml.sax.ContentHandler;\n\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class PdfExtractor {\n    private static Logger logger = LoggerFactory.getLogger(PdfExtractor.class);\n\n    public static void main(String args[]) throws Exception {\n        StopWatch sw = new StopWatch();\n        List&lt;String&gt; files = new ArrayList&lt;&gt;();\n        files.add(\"C:/Users/m/Downloads/20170115.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170215.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170315.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170415.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170515.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170615.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170715.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170815.pdf\");\n        files.add(\"C:/Users/m/Downloads/20170915.pdf\");\n        files.add(\"C:/Users/m/Downloads/20171015.pdf\");\n        files.add(\"C:/Users/m/Downloads/20171115.pdf\");\n        files.add(\"C:/Users/m/Downloads/20171215.pdf\");\n        files.add(\"C:/Users/m/Downloads/20180115.pdf\");\n        InputStream is;\n        List&lt;ChasePdfParser.ChaseRecord&gt; full = new ArrayList&lt;&gt;();\n        for (String fileName : files) {\n            logger.info(\"Now processing \" + fileName);\n            is = new FileInputStream(fileName);\n            ContentHandler contenthandler = new BodyContentHandler();\n            Metadata metadata = new Metadata();\n            PDFParser pdfparser = new PDFParser();\n            pdfparser.parse(is, contenthandler, metadata, new ParseContext());\n            String data = contenthandler.toString();\n            List&lt;ChasePdfParser.ChaseRecord&gt; chaseRecords = ChasePdfParser.parse(data);\n            full.addAll(chaseRecords);\n            is.close();\n        }\n        logger.info(\"Total processing time: \" + PrettyPrinter.toMsSoundsGood(sw.getTime()));\n        full.forEach(cr -&gt; System.err.println(cr.date + \"|\" + cr.desc + \"|\" + cr.amt));\n    }\n}\n</code></pre>\n\n<p>The line parser also fairly straight-forward, since each line has all the necessary info, it's easy to parse it:</p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class ChasePdfParser {\n    private static Logger logger = LoggerFactory.getLogger(ChasePdfParser.class);\n\n    private static int FOR_TAX_YEAR = 2017;\n    private static String YEAR_EXTENSION = \"/\" + FOR_TAX_YEAR;\n    private static DateTimeFormatter check = DateTimeFormatter.ofPattern(\"MM/dd/uuuu\");\n    private static List&lt;String&gt; exclusions = new ArrayList&lt;&gt;(Arrays.asList(\"Payment Thank You\", \"AUTOMATIC PAYMENT\"));\n\n    public static List&lt;ChaseRecord&gt; parse(String data) {\n        List&lt;ChaseRecord&gt; l = new ArrayList&lt;&gt;();\n        for (String line : data.split(\"\\n\")) {\n            if (line.isEmpty()) continue;\n            String[] split = line.split(\"\\\\s\");\n            if (split == null || split.length == 0) continue;\n            String test = split[0];\n            if (!isMMDD(test)) continue;\n            if(skip(line)) continue;\n            if (split.length &lt; 4) continue;\n            ChaseRecord cr = new ChaseRecord();\n            cr.date = extractDate(test);\n            try {\n                String last = split[split.length - 1];\n                last = last.replaceAll(\",\", \"\");\n                cr.amt = Double.parseDouble(last);\n            } catch (NumberFormatException e) {\n                e.printStackTrace();\n            }\n            cr.desc = String.join(\" \", Arrays.copyOfRange(split, 1, split.length - 1));\n            cr.desc = cr.desc.replaceAll(\"\\\\s\\\\s+\", \" \");\n            l.add(cr);\n        }\n        return l;\n    }\n\n    private static boolean skip(String s) {\n        if (s == null || s.isEmpty()) {\n            return true;\n        }\n        for (String e : exclusions) {\n            if (s.contains(e)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    protected static LocalDate extractDate(String s) {\n        if (!isMMDD(s)) {\n            return null;\n        }\n        LocalDate localDate = LocalDate.parse(s + YEAR_EXTENSION, check);\n        return localDate;\n    }\n\n    public static boolean isMMDD(String s) {\n        if (s == null || s.isEmpty() || s.length() != 5) {\n            return false;\n        }\n        try {\n            s += YEAR_EXTENSION;\n            LocalDate.parse(s, check);\n            return true;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    public static class ChaseRecord {\n        public LocalDate date;\n        public String desc;\n        public Double amt;\n\n        @Override\n        public String toString() {\n            return \"ChaseRecord{\" +\n                    \"date=\" + date +\n                    \", desc='\" + desc + '\\'' +\n                    \", amt=\" + amt +\n                    '}';\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2069271,"reputation":710,"user_id":1844086,"accept_rate":89,"display_name":"ouonomos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666064062,"creation_date":1665447611,"answer_id":74021787,"question_id":49708828,"body_markdown":"Late to the party.  You can also use pdftotext as a workaround.  Everyone once in a great while it will miss out an amount of currency, particularly in the upper right of the table.\r\n\r\nAs you&#39;d expect, you&#39;ll join the text on newlines and then start chopping the lines into lists, thence to write it to a tsv.  The approach looks like this:\r\n\r\nHTH.\r\n\r\n    import csv\r\n    import pdftotext\r\n    import re\r\n    from datetime import *\r\n    import os\r\n    import pandas as pd\r\n    \r\n    # compile directory ref:\r\n    path=&#39;path to directory&#39;\r\n    directory = os.fsencode(path)\r\n    \r\n    # https://stackoverflow.com/questions/42202872/how-to-convert-list-to-row-dataframe-with-pandas\r\n    column_list = [&#39;filesource&#39;,&#39;filedate&#39;,&#39;eventdate&#39;,&#39;description&#39;,&#39;bankcategory&#39;,&#39;amount&#39;]\r\n    \r\n    filelist=[]\r\n    \r\n    # an example of how to scrape chase statement pdf into list of lists:\r\n    \r\n    def process_pdf_data(filename,filesource,filedate):\r\n    \r\n    \t# trying with pdftotext\r\n    \r\n    \t# print(&#39;starting pdf content scrape&#39;, file)\r\n    \r\n    \twith open(filename, &quot;rb&quot;) as f:\r\n    \t    pdf = pdftotext.PDF(f)\r\n    \r\n    \tpdf_join=&quot;\\n&quot;.join(pdf)\r\n    \tpdf_array=pdf_join.split(&#39;\\n&#39;)\r\n    \r\n    \t# print(pdf_array)\r\n    \r\n    \tstartint=0\r\n    \tline=&#39;&#39;\r\n    \r\n    \t# at this point, the pdf_array is just a list of strings read serially from the pdf in succession down the page.\r\n    \r\n    \twhile line!=&#39;Account activity&#39; and startint&lt;=1000:\r\n    \t\tline=pdf_array[startint]\r\n    \t\tstartint+=1\r\n    \r\n    \tstartint-=1 # bc it still gets incremented on exit above\r\n    \t# drop data before &#39;Account activity&#39; as we won&#39;t need it.\r\n    \tdel pdf_array[:startint]\r\n    \r\n    \t# print(pdf_array)\r\n    \r\n    \t# set pattern for date detection\r\n    \t# https://www.programiz.com/python-programming/regex\r\n    \t# https://docs.python.org/3/library/re.html\r\n    \r\n    \tpattern=re.compile(&quot;^([A-Z]|[a-z]){3} [0-9]{1,2}, [0-9]{4}$&quot;) # test pattern for regex eval of date\r\n    \r\n    \tstartint=0 # use for test exit limits\r\n    \r\n    \t# print(&#39;entering pdf content eval&#39;, file)\r\n    \r\n    \twhile startint&lt;len(pdf_array):\r\n    \r\n    \t# if string has certain date format:\r\n    \t# if it doesn&#39;t have this conversion then it&#39;s suspect and maybe write it to log\r\n    \t\t# print(startint,pdf_array[startint])\r\n    \r\n    \t\tif pattern.match(pdf_array[startint])!=None:\r\n    \r\n    \t\t# \ttransform it to date\r\n    \t\t# \thttps://docs.python.org/3/library/datetime.html\r\n    \t\t\tdatestr=datetime.strptime(pdf_array[startint], &#39;%b %d, %Y&#39;).date().isoformat()\r\n    \t\t\t# print(&#39;pattern match&#39;,datestr)\t\t\r\n    \r\n    \r\n    \t\t# \tlook ahead and keep next few strings:\r\n    \t\t\tdescription=pdf_array[startint+2]\r\n    \t\t\tbankcategory=pdf_array[startint+4]\r\n    \t\t\tamount=&#39;&#39;\r\n    \t\t\tif &#39;$&#39; in pdf_array[startint+6]:\r\n    \t\t\t\tamount=pdf_array[startint+6] # will mess with $/string type conversion downstream, when combining sources\r\n    \r\n    \t\t# \twrite to list of lists\r\n    \r\n    \t\t\ttemplist=[]\r\n    \t\t\ttemplist.append(filesource)\r\n    \t\t\ttemplist.append(filedate)\r\n    \t\t\ttemplist.append(datestr)\r\n    \t\t\ttemplist.append(description)\r\n    \t\t\ttemplist.append(bankcategory)\r\n    \t\t\ttemplist.append(amount)\r\n    \r\n    \t\t\t# print(templist)\r\n    \t\t\tfilelist.append(templist)\r\n    \r\n    \t\tstartint+=1\r\n\r\nprocess_pdf_data(&lt;yourfilename&gt;,&lt;yourfilesource&gt;,&lt;yourfiledate&gt;)\r\n","title":"Parsing a bank statement PDF","body":"<p>Late to the party.  You can also use pdftotext as a workaround.  Everyone once in a great while it will miss out an amount of currency, particularly in the upper right of the table.</p>\n<p>As you'd expect, you'll join the text on newlines and then start chopping the lines into lists, thence to write it to a tsv.  The approach looks like this:</p>\n<p>HTH.</p>\n<pre><code>import csv\nimport pdftotext\nimport re\nfrom datetime import *\nimport os\nimport pandas as pd\n\n# compile directory ref:\npath='path to directory'\ndirectory = os.fsencode(path)\n\n# https://stackoverflow.com/questions/42202872/how-to-convert-list-to-row-dataframe-with-pandas\ncolumn_list = ['filesource','filedate','eventdate','description','bankcategory','amount']\n\nfilelist=[]\n\n# an example of how to scrape chase statement pdf into list of lists:\n\ndef process_pdf_data(filename,filesource,filedate):\n\n    # trying with pdftotext\n\n    # print('starting pdf content scrape', file)\n\n    with open(filename, &quot;rb&quot;) as f:\n        pdf = pdftotext.PDF(f)\n\n    pdf_join=&quot;\\n&quot;.join(pdf)\n    pdf_array=pdf_join.split('\\n')\n\n    # print(pdf_array)\n\n    startint=0\n    line=''\n\n    # at this point, the pdf_array is just a list of strings read serially from the pdf in succession down the page.\n\n    while line!='Account activity' and startint&lt;=1000:\n        line=pdf_array[startint]\n        startint+=1\n\n    startint-=1 # bc it still gets incremented on exit above\n    # drop data before 'Account activity' as we won't need it.\n    del pdf_array[:startint]\n\n    # print(pdf_array)\n\n    # set pattern for date detection\n    # https://www.programiz.com/python-programming/regex\n    # https://docs.python.org/3/library/re.html\n\n    pattern=re.compile(&quot;^([A-Z]|[a-z]){3} [0-9]{1,2}, [0-9]{4}$&quot;) # test pattern for regex eval of date\n\n    startint=0 # use for test exit limits\n\n    # print('entering pdf content eval', file)\n\n    while startint&lt;len(pdf_array):\n\n    # if string has certain date format:\n    # if it doesn't have this conversion then it's suspect and maybe write it to log\n        # print(startint,pdf_array[startint])\n\n        if pattern.match(pdf_array[startint])!=None:\n\n        #   transform it to date\n        #   https://docs.python.org/3/library/datetime.html\n            datestr=datetime.strptime(pdf_array[startint], '%b %d, %Y').date().isoformat()\n            # print('pattern match',datestr)        \n\n\n        #   look ahead and keep next few strings:\n            description=pdf_array[startint+2]\n            bankcategory=pdf_array[startint+4]\n            amount=''\n            if '$' in pdf_array[startint+6]:\n                amount=pdf_array[startint+6] # will mess with $/string type conversion downstream, when combining sources\n\n        #   write to list of lists\n\n            templist=[]\n            templist.append(filesource)\n            templist.append(filedate)\n            templist.append(datestr)\n            templist.append(description)\n            templist.append(bankcategory)\n            templist.append(amount)\n\n            # print(templist)\n            filelist.append(templist)\n\n        startint+=1\n</code></pre>\n<p>process_pdf_data(,,)</p>\n"}],"owner":{"account_id":177646,"reputation":3962,"user_id":409110,"accept_rate":63,"display_name":"Amit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4128,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49764315,"answer_count":2,"score":2,"last_activity_date":1666064062,"creation_date":1523114241,"question_id":49708828,"body_markdown":"I have several bank statements from our users. I am trying to figure out a way to parse the rows of transactions. I have used PDFBox previously using TextArea, TextStripper, but i am not sure how to proceed with bank statements since they will have an undetermined number of rows and the rows may or maynot be of fixed size.","title":"Parsing a bank statement PDF","body":"<p>I have several bank statements from our users. I am trying to figure out a way to parse the rows of transactions. I have used PDFBox previously using TextArea, TextStripper, but i am not sure how to proceed with bank statements since they will have an undetermined number of rows and the rows may or maynot be of fixed size.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"score":2,"creation_date":1666068282,"post_id":74104327,"comment_id":130841562,"body_markdown":"This depends on the JWT and how you handle it - for example is it created by a backend that you trust or the client (usually untrusted)? Is it encrypted or signed? You need to verify the JWT in order to use it for this kind of operation.\nMore information can be found here: https://connect2id.com/products/nimbus-jose-jwt/vulnerabilities","body":"This depends on the JWT and how you handle it - for example is it created by a backend that you trust or the client (usually untrusted)? Is it encrypted or signed? You need to verify the JWT in order to use it for this kind of operation. More information can be found here: <a href=\"https://connect2id.com/products/nimbus-jose-jwt/vulnerabilities\" rel=\"nofollow noreferrer\">connect2id.com/products/nimbus-jose-jwt/vulnerabilities</a>"}],"owner":{"account_id":2823576,"reputation":45,"user_id":12284152,"display_name":"user2426691"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666064038,"creation_date":1666051032,"question_id":74104327,"body_markdown":"Here&#39;s my spring endpoint: \r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Package&gt; deletePackage(JwtAuthenticationToken principal,\r\n                                                 @PathVariable Long id) {\r\n        Package parcel = packageService.retrievePackage(id);\r\n        checkResourceBelongsToUser(principal, parcel);\r\n        return new ResponseEntity&lt;&gt;(packageService.deletePackage(parcel), HttpStatus.ACCEPTED);\r\n    }\r\n\r\nAnd here&#39;s my current way of checking if the current resource the user is trying to update/delete belongs to the user: \r\n\r\n    private void checkResourceBelongsToUser(Address address, AppUser user) {\r\n        if (!address.getUser().getId().equals(user.getId())) {\r\n            throw new ResponseStatusException(HttpStatus.FORBIDDEN, &quot;Not allowed to access/modify resource&quot;);\r\n        }\r\n    }\r\n\r\nThis method will check if the Address belongs to the user. \r\n\r\n- The address was gotten from a id in the path variable \r\n- The user was gotten from the id in the JWT \r\n\r\nUpdate and delete endpoint call the `checkResourceBelongsToUser` method before doing any processing (updating or deleting). I&#39;m comparing ids. Is my method enough to check if the user truly has access?","title":"Check if resource belongs to user before deleting/updating it","body":"<p>Here's my spring endpoint:</p>\n<pre><code>@DeleteMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Package&gt; deletePackage(JwtAuthenticationToken principal,\n                                             @PathVariable Long id) {\n    Package parcel = packageService.retrievePackage(id);\n    checkResourceBelongsToUser(principal, parcel);\n    return new ResponseEntity&lt;&gt;(packageService.deletePackage(parcel), HttpStatus.ACCEPTED);\n}\n</code></pre>\n<p>And here's my current way of checking if the current resource the user is trying to update/delete belongs to the user:</p>\n<pre><code>private void checkResourceBelongsToUser(Address address, AppUser user) {\n    if (!address.getUser().getId().equals(user.getId())) {\n        throw new ResponseStatusException(HttpStatus.FORBIDDEN, &quot;Not allowed to access/modify resource&quot;);\n    }\n}\n</code></pre>\n<p>This method will check if the Address belongs to the user.</p>\n<ul>\n<li>The address was gotten from a id in the path variable</li>\n<li>The user was gotten from the id in the JWT</li>\n</ul>\n<p>Update and delete endpoint call the <code>checkResourceBelongsToUser</code> method before doing any processing (updating or deleting). I'm comparing ids. Is my method enough to check if the user truly has access?</p>\n"},{"tags":["java","amazon-web-services","apache-kafka","aws-lambda"],"comments":[{"owner":{"account_id":11877564,"reputation":257,"user_id":8692189,"display_name":"Anirban"},"score":2,"creation_date":1660231791,"post_id":73315781,"comment_id":129489181,"body_markdown":"I was able to figure it out.\n\n\npublic class App implements RequestHandler&lt;KafkaEvent, String&gt; {\n\n\tprivate static final Logger log = LoggerFactory.getLogger(App.class);\n\n\t@Override\n\tpublic String handleRequest(KafkaEvent event, Context context) {\n\n\n\t\tfor( Map.Entry&lt;String, List&lt;KafkaEvent.KafkaEventRecord&gt;&gt; record : event.getRecords().entrySet()) {\n\t\t\tfor (KafkaEvent.KafkaEventRecord record2 : record.getValue()) {\n\n\t\t\t\tlog.info(&quot;Value is :&quot; + new String((Base64.getDecoder().decode(record2.getValue()))));\n\t\t\t}\n\n\t\t}\n\t\treturn null;\n\t}\n}","body":"I was able to figure it out.   public class App implements RequestHandler&lt;KafkaEvent, String&gt; {  \tprivate static final Logger log = LoggerFactory.getLogger(App.class);  \t@Override \tpublic String handleRequest(KafkaEvent event, Context context) {   \t\tfor( Map.Entry&lt;String, List&lt;KafkaEvent.KafkaEventRecord&gt;&gt; record : event.getRecords().entrySet()) { \t\t\tfor (KafkaEvent.KafkaEventRecord record2 : record.getValue()) {  \t\t\t\tlog.info(&quot;Value is :&quot; + new String((Base64.getDecoder().decode(record2.getValue())))); \t\t\t}  \t\t} \t\treturn null; \t} }"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666063940,"post_id":73315781,"comment_id":130840975,"body_markdown":"Put your code below as an answer, not a comment","body":"Put your code below as an answer, not a comment"}],"owner":{"account_id":11877564,"reputation":257,"user_id":8692189,"display_name":"Anirban"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666063917,"creation_date":1660196706,"question_id":73315781,"body_markdown":"I have successfully implemented \r\nhttps://aws.amazon.com/blogs/compute/using-self-hosted-apache-kafka-as-an-event-source-for-aws-lambda/\r\n\r\nBut my issue is I want to write the code in Java instead of NodeJs.\r\nThe payload returned is shown below. How do I extract the value which is Base64 encoded ?\r\n\r\nThanks,\r\nAnirban\r\n\r\n    {\r\n        &quot;eventSource&quot;: &quot;SelfManagedKafka&quot;,\r\n        &quot;bootstrapServers&quot;: &quot;sp-dev-broker-0.stre.nsawsdev.mycompany.com:9093&quot;,\r\n        &quot;records&quot;: {\r\n            &quot;lambda_test-0&quot;: [\r\n                {\r\n                    &quot;topic&quot;: &quot;lambda_test&quot;,\r\n                    &quot;partition&quot;: 0,\r\n                    &quot;offset&quot;: 0,\r\n                    &quot;timestamp&quot;: 1660073644797,\r\n                    &quot;timestampType&quot;: &quot;CREATE_TIME&quot;,\r\n                    &quot;value&quot;: &quot;eyJOYW1lIjogIkFuaXJiYW4gQmlzd2FzIn0=&quot;,\r\n                    &quot;headers&quot;: []\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\nMy class looks like this and I see the the Lambda getting invoked when I publish data on topic.\r\n\r\n    public class App implements RequestHandler&lt;KafkaEvent, String&gt; {\r\n    \r\n    \tprivate static final Logger log = LoggerFactory.getLogger(App.class);\r\n    \r\n    \t@Override\r\n    \tpublic String handleRequest(KafkaEvent event, Context context) {\r\n    \r\n    \t\tlog.info(&quot;Lambda function is invoked:&quot; +event.getRecords().values().toString());\r\n    \t\treturn null;\r\n    \r\n    \r\n    \t}\r\n    }\r\n\r\nAWS Lambda Cloudatch log shows this \r\n\r\n    Lambda function is invoked:[[KafkaEvent.KafkaEventRecord(topic=lambda_test, partition=0, offset=0, timestamp=1660073644797, timestampType=CREATE_TIME, key=null, value=eyJOYW1lIjogIkFuaXJiYW4gQmlzd2FzIn0=)]]\r\n\r\n","title":"Using AWS Lambda Java function to read data from Self Managed Kafka Cluster","body":"<p>I have successfully implemented\n<a href=\"https://aws.amazon.com/blogs/compute/using-self-hosted-apache-kafka-as-an-event-source-for-aws-lambda/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/compute/using-self-hosted-apache-kafka-as-an-event-source-for-aws-lambda/</a></p>\n<p>But my issue is I want to write the code in Java instead of NodeJs.\nThe payload returned is shown below. How do I extract the value which is Base64 encoded ?</p>\n<p>Thanks,\nAnirban</p>\n<pre><code>{\n    &quot;eventSource&quot;: &quot;SelfManagedKafka&quot;,\n    &quot;bootstrapServers&quot;: &quot;sp-dev-broker-0.stre.nsawsdev.mycompany.com:9093&quot;,\n    &quot;records&quot;: {\n        &quot;lambda_test-0&quot;: [\n            {\n                &quot;topic&quot;: &quot;lambda_test&quot;,\n                &quot;partition&quot;: 0,\n                &quot;offset&quot;: 0,\n                &quot;timestamp&quot;: 1660073644797,\n                &quot;timestampType&quot;: &quot;CREATE_TIME&quot;,\n                &quot;value&quot;: &quot;eyJOYW1lIjogIkFuaXJiYW4gQmlzd2FzIn0=&quot;,\n                &quot;headers&quot;: []\n            }\n        ]\n    }\n}\n</code></pre>\n<p>My class looks like this and I see the the Lambda getting invoked when I publish data on topic.</p>\n<pre><code>public class App implements RequestHandler&lt;KafkaEvent, String&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(App.class);\n\n    @Override\n    public String handleRequest(KafkaEvent event, Context context) {\n\n        log.info(&quot;Lambda function is invoked:&quot; +event.getRecords().values().toString());\n        return null;\n\n\n    }\n}\n</code></pre>\n<p>AWS Lambda Cloudatch log shows this</p>\n<pre><code>Lambda function is invoked:[[KafkaEvent.KafkaEventRecord(topic=lambda_test, partition=0, offset=0, timestamp=1660073644797, timestampType=CREATE_TIME, key=null, value=eyJOYW1lIjogIkFuaXJiYW4gQmlzd2FzIn0=)]]\n</code></pre>\n"},{"tags":["java","go","apache-kafka","confluent-schema-registry"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666063704,"creation_date":1666063401,"answer_id":74105335,"question_id":73317264,"body_markdown":"&gt; integrate CSR with a golang application\r\n\r\nIt&#39;s a Java-based _standalone_ server. It cannot be &quot;embedded&quot; in Golang. You **need** to use REST to integrate with it. \r\n\r\n&gt; Client C does not know anything about CSR\r\n\r\nClients on both sides of the request (most commonly, a Kafka topic) need to be aware of the Registry in order to both serialize and deserialize the data via a stored schema. Otherwise, you can embed the schema definitions within each app, or some other remote HTTP service, and not need Kafka at all.  \r\n\r\n&gt; there will be huge network overhead if I make an API call to CSR for every write request submitted to S1.\r\n\r\nThe Registry REST Client caches all schemas it sees, and does not make a call &quot;every request&quot; (at least the Java implementation included with `KafkaAvroDeserializer`). \r\n\r\n---\r\n\r\nOverall, sounds like you should be using OpenAPI, or gRPC. Not Confluent Schema Registry since you did not mention you wanted to use Kafka, only to validate your service-to-service requests... If you replaced those network calls with Kafka producer/consumer requests instead, **then** it would make sense to setup a kafka-based Schema Registry. ","title":"Confluent Schema registry with Go application","body":"<blockquote>\n<p>integrate CSR with a golang application</p>\n</blockquote>\n<p>It's a Java-based <em>standalone</em> server. It cannot be &quot;embedded&quot; in Golang. You <strong>need</strong> to use REST to integrate with it.</p>\n<blockquote>\n<p>Client C does not know anything about CSR</p>\n</blockquote>\n<p>Clients on both sides of the request (most commonly, a Kafka topic) need to be aware of the Registry in order to both serialize and deserialize the data via a stored schema. Otherwise, you can embed the schema definitions within each app, or some other remote HTTP service, and not need Kafka at all.</p>\n<blockquote>\n<p>there will be huge network overhead if I make an API call to CSR for every write request submitted to S1.</p>\n</blockquote>\n<p>The Registry REST Client caches all schemas it sees, and does not make a call &quot;every request&quot; (at least the Java implementation included with <code>KafkaAvroDeserializer</code>).</p>\n<hr />\n<p>Overall, sounds like you should be using OpenAPI, or gRPC. Not Confluent Schema Registry since you did not mention you wanted to use Kafka, only to validate your service-to-service requests... If you replaced those network calls with Kafka producer/consumer requests instead, <strong>then</strong> it would make sense to setup a kafka-based Schema Registry.</p>\n"}],"owner":{"account_id":4102226,"reputation":650,"user_id":3934499,"display_name":"uzumas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666063704,"creation_date":1660205006,"question_id":73317264,"body_markdown":"I understand that Confluent Schema Registry(CSR) uses kafka for schema storage. I am trying to integrate CSR with a golang application. My set up is as follows:\r\nClient C connects to Server S1(go app), S1 writes to another server S2.\r\nC -&gt; S1-&gt;S2\r\n\r\nI want to integrate CSR with S1 such that when C submits any write to S1, S1 will use CSR to validate the submitted data against the respective schema. If it is valid, S1 will forward data to S2. Client C does not know anything about CSR here.\r\nCan such an integration be done? All documentation I could find was about how to use CSR for publishing data into kafka. \r\n\r\nFor such an integration, I would need a library of CSR. Using CSR as standalone application with REST APIs will not work since there will be huge network overhead if I make an API call to CSR for every write request submitted to S1. So I want to use sdk/library which already allows to cache the data from CSR standalone server, and can do validations locally. \r\n\r\nIf there is anything such in java, that will also work.","title":"Confluent Schema registry with Go application","body":"<p>I understand that Confluent Schema Registry(CSR) uses kafka for schema storage. I am trying to integrate CSR with a golang application. My set up is as follows:\nClient C connects to Server S1(go app), S1 writes to another server S2.\nC -&gt; S1-&gt;S2</p>\n<p>I want to integrate CSR with S1 such that when C submits any write to S1, S1 will use CSR to validate the submitted data against the respective schema. If it is valid, S1 will forward data to S2. Client C does not know anything about CSR here.\nCan such an integration be done? All documentation I could find was about how to use CSR for publishing data into kafka.</p>\n<p>For such an integration, I would need a library of CSR. Using CSR as standalone application with REST APIs will not work since there will be huge network overhead if I make an API call to CSR for every write request submitted to S1. So I want to use sdk/library which already allows to cache the data from CSR standalone server, and can do validations locally.</p>\n<p>If there is anything such in java, that will also work.</p>\n"},{"tags":["java","integer","double","operators","type-mismatch"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666060355,"post_id":74105051,"comment_id":130840472,"body_markdown":"`String appliedDiscount`  so `* (appliedDiscount)` is a no no","body":"<code>String appliedDiscount</code>  so <code>* (appliedDiscount)</code> is a no no"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666060439,"post_id":74105051,"comment_id":130840485,"body_markdown":"`&quot;Enter unit price in decimal format (up to two decimals, e.g. 3.5): &quot;` so why try to convert to an `int` ?  Convert to a `float`","body":"<code>&quot;Enter unit price in decimal format (up to two decimals, e.g. 3.5): &quot;</code> so why try to convert to an <code>int</code> ?  Convert to a <code>float</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666061874,"post_id":74105051,"comment_id":130840685,"body_markdown":"As well as writing either `Double.parseDouble(appliedDiscount)` or `Float.parseFloat(appliedDiscount)`, you&#39;ll need to change the data type at the start of that same line to either `float` or `double`.  Otherwise you&#39;re trying to assign a number with decimal parts to an `int` variable.","body":"As well as writing either <code>Double.parseDouble(appliedDiscount)</code> or <code>Float.parseFloat(appliedDiscount)</code>, you&#39;ll need to change the data type at the start of that same line to either <code>float</code> or <code>double</code>.  Otherwise you&#39;re trying to assign a number with decimal parts to an <code>int</code> variable."},{"owner":{"account_id":23577637,"reputation":11,"user_id":17617100,"display_name":"andrewbauxier"},"score":0,"creation_date":1666125374,"post_id":74105051,"comment_id":130860822,"body_markdown":"Thanks, guys, this is good stuff to know. I appreciate the assistance.","body":"Thanks, guys, this is good stuff to know. I appreciate the assistance."}],"answers":[{"tags":[],"owner":{"account_id":26575439,"reputation":21,"user_id":20200923,"display_name":"Angela Salda&#241;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666063233,"creation_date":1666063233,"answer_id":74105320,"question_id":74105051,"body_markdown":"I change some things on the code... first, the type of variables of unit price and appliedDiscount into double. And also I change the formula to calculate price after discount.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//user prompted inputs for future calculations\r\n\t    Scanner in = new Scanner(System.in);\r\n\t    Scanner in2 = new Scanner(System.in);\r\n\t    System.out.println(&quot;The following information is required:&quot;);\r\n\t    System.out.println(&quot;Enter customer ID: &quot;);\r\n\t    String customerId = in.nextLine();\r\n\t    System.out.println(&quot;Enter unit price in decimal format (up to two decimals, e.g. 3.5): &quot;);\r\n\t    double unitPrice = in.nextDouble();\r\n\t    System.out.println(&quot;Enter quantity (whole numbers only): &quot;);\r\n\t    int orderQuantity = in.nextInt();\r\n\t    System.out.println(&quot;Enter product description, (e.g. &#39;whole wheat bread&#39;): &quot;);\r\n\t    String productDescription = in2.nextLine();\r\n\t    System.out.println(&quot;Enter discount in decimal format (e.g. .05 = 5%): &quot;);\r\n\t    double appliedDiscount = in.nextDouble();\r\n\t    //confirm order data details and display to user\r\n\t    System.out.println(&quot;Your order data is as follows: &quot;);\r\n\t    System.out.println(&quot;Customer ID: &quot; + customerId);\r\n\t    System.out.println(&quot;Unit Price: &quot; + unitPrice);\r\n\t    System.out.println(&quot;Order Quantity: &quot; + orderQuantity );\r\n\t    System.out.println(&quot;Product Description: &quot; +  productDescription);\r\n\t    System.out.println(&quot;Applied Discount: &quot; + appliedDiscount);\r\n\r\n\t    //calculation formulas based on users input\r\n\t    double beforeDiscount = (unitPrice * orderQuantity);\r\n\t    double afterDiscount = beforeDiscount - (beforeDiscount * (appliedDiscount));\r\n\t    //totals before and after discount\r\n\t    System.out.println(&quot;Your Order Totals&quot; );\r\n\t    System.out.println(&quot;Before Discount: &quot;+  beforeDiscount);\r\n\t    System.out.println(&quot;After Discount: &quot; + afterDiscount);\r\n\r\n}","title":"The operator * is undefined for the argument type(s) int, String / Type mismatch: cannot convert from double to int","body":"<p>I change some things on the code... first, the type of variables of unit price and appliedDiscount into double. And also I change the formula to calculate price after discount.</p>\n<pre><code>public static void main(String[] args) {\n    //user prompted inputs for future calculations\n    Scanner in = new Scanner(System.in);\n    Scanner in2 = new Scanner(System.in);\n    System.out.println(&quot;The following information is required:&quot;);\n    System.out.println(&quot;Enter customer ID: &quot;);\n    String customerId = in.nextLine();\n    System.out.println(&quot;Enter unit price in decimal format (up to two decimals, e.g. 3.5): &quot;);\n    double unitPrice = in.nextDouble();\n    System.out.println(&quot;Enter quantity (whole numbers only): &quot;);\n    int orderQuantity = in.nextInt();\n    System.out.println(&quot;Enter product description, (e.g. 'whole wheat bread'): &quot;);\n    String productDescription = in2.nextLine();\n    System.out.println(&quot;Enter discount in decimal format (e.g. .05 = 5%): &quot;);\n    double appliedDiscount = in.nextDouble();\n    //confirm order data details and display to user\n    System.out.println(&quot;Your order data is as follows: &quot;);\n    System.out.println(&quot;Customer ID: &quot; + customerId);\n    System.out.println(&quot;Unit Price: &quot; + unitPrice);\n    System.out.println(&quot;Order Quantity: &quot; + orderQuantity );\n    System.out.println(&quot;Product Description: &quot; +  productDescription);\n    System.out.println(&quot;Applied Discount: &quot; + appliedDiscount);\n\n    //calculation formulas based on users input\n    double beforeDiscount = (unitPrice * orderQuantity);\n    double afterDiscount = beforeDiscount - (beforeDiscount * (appliedDiscount));\n    //totals before and after discount\n    System.out.println(&quot;Your Order Totals&quot; );\n    System.out.println(&quot;Before Discount: &quot;+  beforeDiscount);\n    System.out.println(&quot;After Discount: &quot; + afterDiscount);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23577637,"reputation":11,"user_id":17617100,"display_name":"andrewbauxier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666063233,"creation_date":1666060251,"question_id":74105051,"body_markdown":"import java.util.Scanner;\r\n    \r\npublic class Asgn1 {\r\n    \r\n    //comment practice\r\n    /*multi-line comment practice\r\n    * no text fill\r\n     */\r\n    public static void main(String[] args) {\r\n    \r\n        //user prompted inputs for future calculations\r\n        Scanner in = new Scanner(System.in);\r\n        System.out.println(&quot;The following information is required:&quot;);\r\n        System.out.println(&quot;Enter customer ID: &quot;);\r\n        String customerId = in.nextLine();\r\n        System.out.println(&quot;Enter unit price in decimal format (up to two decimals, e.g. 3.5): &quot;);\r\n        String unitPrice = in.nextLine();\r\n        System.out.println(&quot;Enter quantity (whole numbers only): &quot;);\r\n        String orderQuantity = in.nextLine();\r\n        System.out.println(&quot;Enter product description, (e.g. &#39;whole wheat bread&#39;): &quot;);\r\n        String productDescription = in.nextLine();\r\n        System.out.println(&quot;Enter discount in decimal format (e.g. .05 = 5%): &quot;);\r\n        String appliedDiscount = in.nextLine();\r\n    \r\n        //confirm order data details and display to user\r\n        System.out.println(&quot;Your order data is as follows: &quot;);\r\n        System.out.println(&quot;Customer ID: &quot; + customerId);\r\n        System.out.println(&quot;Unit Price: &quot; + unitPrice);\r\n        System.out.println(&quot;Order Quantity: &quot; + orderQuantity );\r\n        System.out.println(&quot;Product Description: &quot; +  productDescription);\r\n        System.out.println(&quot;Applied Discount: &quot; + appliedDiscount);\r\n\r\n        //calculation formulas based on users input\r\n        int beforeDiscount = (Integer.parseInt(unitPrice) * Integer.parseInt(orderQuantity));\r\n        int afterDiscount = 1 - (Integer.parseInt(unitPrice) * Integer.parseInt(orderQuantity)) * (appliedDiscount);\r\n        \r\n        //totals before and after discount\r\n        System.out.println(&quot;Your Order Totals&quot;);\r\n        System.out.println(&quot;Before Discount: &quot;);\r\n        System.out.println(&quot;After Discount: &quot;);\r\n\r\n    }\r\n    \r\n    \r\n}\r\n\r\nI have this java code I want to take the unit price and multiply that by the order quantity, then apply the discount so I can display a before and after discount price. \r\n\r\nOriginally, when I entered this, I figured out I had to parse the strings for unitPrice and orderQuantity as ints, but when I tried that with the double, I got this message as well on the same line: &quot;Type mismatch: cannot convert from double to int&quot;. \r\n\r\nI tried looking around at other answers but could not find something that would fix this issue so I&#39;m asking for help, please. What would be the best way to solve this?\r\n\r\nIn the future, should I try to alter it before it comes in, maybe where they input it, or do I wait until I get the values and then alter that? What would convention dictate?\r\n\r\nThank you for your consideration and assistance.","title":"The operator * is undefined for the argument type(s) int, String / Type mismatch: cannot convert from double to int","body":"<p>import java.util.Scanner;</p>\n<p>public class Asgn1 {</p>\n<pre><code>//comment practice\n/*multi-line comment practice\n* no text fill\n */\npublic static void main(String[] args) {\n\n    //user prompted inputs for future calculations\n    Scanner in = new Scanner(System.in);\n    System.out.println(&quot;The following information is required:&quot;);\n    System.out.println(&quot;Enter customer ID: &quot;);\n    String customerId = in.nextLine();\n    System.out.println(&quot;Enter unit price in decimal format (up to two decimals, e.g. 3.5): &quot;);\n    String unitPrice = in.nextLine();\n    System.out.println(&quot;Enter quantity (whole numbers only): &quot;);\n    String orderQuantity = in.nextLine();\n    System.out.println(&quot;Enter product description, (e.g. 'whole wheat bread'): &quot;);\n    String productDescription = in.nextLine();\n    System.out.println(&quot;Enter discount in decimal format (e.g. .05 = 5%): &quot;);\n    String appliedDiscount = in.nextLine();\n\n    //confirm order data details and display to user\n    System.out.println(&quot;Your order data is as follows: &quot;);\n    System.out.println(&quot;Customer ID: &quot; + customerId);\n    System.out.println(&quot;Unit Price: &quot; + unitPrice);\n    System.out.println(&quot;Order Quantity: &quot; + orderQuantity );\n    System.out.println(&quot;Product Description: &quot; +  productDescription);\n    System.out.println(&quot;Applied Discount: &quot; + appliedDiscount);\n\n    //calculation formulas based on users input\n    int beforeDiscount = (Integer.parseInt(unitPrice) * Integer.parseInt(orderQuantity));\n    int afterDiscount = 1 - (Integer.parseInt(unitPrice) * Integer.parseInt(orderQuantity)) * (appliedDiscount);\n    \n    //totals before and after discount\n    System.out.println(&quot;Your Order Totals&quot;);\n    System.out.println(&quot;Before Discount: &quot;);\n    System.out.println(&quot;After Discount: &quot;);\n\n}\n</code></pre>\n<p>}</p>\n<p>I have this java code I want to take the unit price and multiply that by the order quantity, then apply the discount so I can display a before and after discount price.</p>\n<p>Originally, when I entered this, I figured out I had to parse the strings for unitPrice and orderQuantity as ints, but when I tried that with the double, I got this message as well on the same line: &quot;Type mismatch: cannot convert from double to int&quot;.</p>\n<p>I tried looking around at other answers but could not find something that would fix this issue so I'm asking for help, please. What would be the best way to solve this?</p>\n<p>In the future, should I try to alter it before it comes in, maybe where they input it, or do I wait until I get the values and then alter that? What would convention dictate?</p>\n<p>Thank you for your consideration and assistance.</p>\n"},{"tags":["java","http","sockets","proxy","socks"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1666009330,"post_id":74097082,"comment_id":130826328,"body_markdown":"Is the proxy address and port correct?","body":"Is the proxy address and port correct?"},{"owner":{"account_id":15251483,"reputation":1134,"user_id":11004692,"display_name":"Muhammad Shah"},"score":0,"creation_date":1666010182,"post_id":74097082,"comment_id":130826601,"body_markdown":"I got the proxy address and port from the website.\n\nhttps://spys.one/free-proxy-list/US/","body":"I got the proxy address and port from the website.  <a href=\"https://spys.one/free-proxy-list/US/\" rel=\"nofollow noreferrer\">spys.one/free-proxy-list/US</a>"}],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666009540,"creation_date":1666009540,"answer_id":74097250,"question_id":74097082,"body_markdown":"In the first case your computer is connecting to a SOCKS proxy server and then asking the SOCKS proxy server to connect to localhost. Think about that for a moment: when the SOCKS proxy server connects to localhost, it connects to itself.\r\n\r\nThe SOCKS proxy server won&#39;t let you do that, presumably because it&#39;s a security vulnerability for the server. Some services only allow connection from localhost as a security measure; if the proxy server would let you connect to its localhost, it would bypass that and let you connect to services on the proxy server.\r\n\r\nIn the second case it seems that you got the proxy address or port wrong as your computer was not able to connect to the proxy server.","title":"How to use SOCKS proxy or HTTP proxy with Sockets in Java?","body":"<p>In the first case your computer is connecting to a SOCKS proxy server and then asking the SOCKS proxy server to connect to localhost. Think about that for a moment: when the SOCKS proxy server connects to localhost, it connects to itself.</p>\n<p>The SOCKS proxy server won't let you do that, presumably because it's a security vulnerability for the server. Some services only allow connection from localhost as a security measure; if the proxy server would let you connect to its localhost, it would bypass that and let you connect to services on the proxy server.</p>\n<p>In the second case it seems that you got the proxy address or port wrong as your computer was not able to connect to the proxy server.</p>\n"}],"owner":{"account_id":15251483,"reputation":1134,"user_id":11004692,"display_name":"Muhammad Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":939,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666063193,"creation_date":1666008758,"question_id":74097082,"body_markdown":"I am running a `ServerSocket` on localhost at port 1436. I can not connect the client&#39;s `Socket` through a valid free `SOCKS` proxy server or `HTTP` proxy server. \r\n\r\n```\r\n        String proxyHost = &quot;68.71.247.130&quot; ,serverName = &quot;localhost&quot;;\r\n        int proxyPort = 4145, serverPort = 1436;\r\n\r\n        System.setProperty(&quot;socksProxyHost&quot;, proxyHost);\r\n        System.setProperty(&quot;socksProxyPort&quot;, String.valueOf(proxyPort));\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n\r\n        SocketAddress proxyAddr = new InetSocketAddress(proxyHost, proxyPort);\r\n        Proxy proxy = new Proxy(Proxy.Type.SOCKS, proxyAddr);\r\n        try(Socket socket =new Socket(proxy);){\r\n            socket.connect(new InetSocketAddress(serverName, serverPort) );\r\n            socket.setSoTimeout(0);\r\n            System.out.println(&quot;Connected through proxy server = &quot; + proxyHost + &quot; at port = &quot; + proxyPort);\r\n        }\r\n```\r\n\r\nIt gives the following error.\r\n\r\n```\r\nException in thread &quot;main&quot; java.net.SocketException: SOCKS: Network unreachable\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:487)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/java.net.Socket.connect(Socket.java:583)\r\n\tat test/proxy.Main.main(Main.java:27)\r\n\r\n```\r\nI have also tried the above code with `HTTP` and its right `System` properties, \r\n\r\n```\r\n        String serverName = &quot;localhost&quot;, proxyHost = &quot;46.101.160.223&quot;;\r\n        int serverPort = 1436, proxyPort = 80;\r\n\r\n        System.setProperty(&quot;http.proxyHost&quot;, proxyHost);\r\n        System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(proxyPort));\r\n```\r\n```\r\n        Proxy proxy = new Proxy(Proxy.Type.HTTP, proxyAddr);\r\n```\r\nBut it is also giving me an error.\r\n```\r\nException in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:498)\r\n\tat java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\r\n\tat java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:555)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:554)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:598)\r\n\tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:246)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:351)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:373)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1287)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\r\n\tat java.base/java.net.HttpConnectSocketImpl.doTunnel(HttpConnectSocketImpl.java:194)\r\n\tat java.base/java.net.HttpConnectSocketImpl$2.run(HttpConnectSocketImpl.java:175)\r\n\tat java.base/java.net.HttpConnectSocketImpl$2.run(HttpConnectSocketImpl.java:173)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat java.base/java.net.HttpConnectSocketImpl.privilegedDoTunnel(HttpConnectSocketImpl.java:172)\r\n\tat java.base/java.net.HttpConnectSocketImpl.connect(HttpConnectSocketImpl.java:119)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/java.net.Socket.connect(Socket.java:583)\r\n\tat test/proxy.Main.main(Main.java:27)\r\n```\r\n","title":"How to use SOCKS proxy or HTTP proxy with Sockets in Java?","body":"<p>I am running a <code>ServerSocket</code> on localhost at port 1436. I can not connect the client's <code>Socket</code> through a valid free <code>SOCKS</code> proxy server or <code>HTTP</code> proxy server.</p>\n<pre><code>        String proxyHost = &quot;68.71.247.130&quot; ,serverName = &quot;localhost&quot;;\n        int proxyPort = 4145, serverPort = 1436;\n\n        System.setProperty(&quot;socksProxyHost&quot;, proxyHost);\n        System.setProperty(&quot;socksProxyPort&quot;, String.valueOf(proxyPort));\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n\n        SocketAddress proxyAddr = new InetSocketAddress(proxyHost, proxyPort);\n        Proxy proxy = new Proxy(Proxy.Type.SOCKS, proxyAddr);\n        try(Socket socket =new Socket(proxy);){\n            socket.connect(new InetSocketAddress(serverName, serverPort) );\n            socket.setSoTimeout(0);\n            System.out.println(&quot;Connected through proxy server = &quot; + proxyHost + &quot; at port = &quot; + proxyPort);\n        }\n</code></pre>\n<p>It gives the following error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.SocketException: SOCKS: Network unreachable\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:487)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/java.net.Socket.connect(Socket.java:583)\n    at test/proxy.Main.main(Main.java:27)\n\n</code></pre>\n<p>I have also tried the above code with <code>HTTP</code> and its right <code>System</code> properties,</p>\n<pre><code>        String serverName = &quot;localhost&quot;, proxyHost = &quot;46.101.160.223&quot;;\n        int serverPort = 1436, proxyPort = 80;\n\n        System.setProperty(&quot;http.proxyHost&quot;, proxyHost);\n        System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(proxyPort));\n</code></pre>\n<pre><code>        Proxy proxy = new Proxy(Proxy.Type.HTTP, proxyAddr);\n</code></pre>\n<p>But it is also giving me an error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:498)\n    at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\n    at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:555)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:554)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:598)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:246)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:351)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:373)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1287)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\n    at java.base/java.net.HttpConnectSocketImpl.doTunnel(HttpConnectSocketImpl.java:194)\n    at java.base/java.net.HttpConnectSocketImpl$2.run(HttpConnectSocketImpl.java:175)\n    at java.base/java.net.HttpConnectSocketImpl$2.run(HttpConnectSocketImpl.java:173)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at java.base/java.net.HttpConnectSocketImpl.privilegedDoTunnel(HttpConnectSocketImpl.java:172)\n    at java.base/java.net.HttpConnectSocketImpl.connect(HttpConnectSocketImpl.java:119)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/java.net.Socket.connect(Socket.java:583)\n    at test/proxy.Main.main(Main.java:27)\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1451826510,"creation_date":1451826510,"answer_id":34576869,"question_id":34576803,"body_markdown":"SAVE_UPDATE is for save(), update(), and saveOrUpdate(), which are 3 Hibernate-proprietary methods. JPA only has `persist()` and `merge()`. So, if you want to use cascading on Hibernate-proprietary methods, you&#39;ll need to use Hibernate-proprietary annotations. In this case, [Cascade][1].\r\n\r\nOr you could stop using the Hibernate Session, and use the standard JPA API instead.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/annotations/Cascade.html","title":"cascade type save update in Hibernate","body":"<p>SAVE_UPDATE is for save(), update(), and saveOrUpdate(), which are 3 Hibernate-proprietary methods. JPA only has <code>persist()</code> and <code>merge()</code>. So, if you want to use cascading on Hibernate-proprietary methods, you'll need to use Hibernate-proprietary annotations. In this case, <a href=\"http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/annotations/Cascade.html\" rel=\"noreferrer\">Cascade</a>.</p>\n\n<p>Or you could stop using the Hibernate Session, and use the standard JPA API instead.</p>\n"},{"tags":[],"owner":{"account_id":124590,"reputation":8425,"user_id":319773,"accept_rate":89,"display_name":"Bevor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1592392746,"creation_date":1451826781,"answer_id":34576898,"question_id":34576803,"body_markdown":"`CascadeType.ALL` includes `CascadeType.REMOVE` too.\r\nThe solution is to use all `CascadeType.*` you need except `CascadeType.REMOVE`, like so:\r\n\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.REFRESH, CascadeType.MERGE}))\r\n\r\nin your UserGroup definitions.","title":"cascade type save update in Hibernate","body":"<p><code>CascadeType.ALL</code> includes <code>CascadeType.REMOVE</code> too.\nThe solution is to use all <code>CascadeType.*</code> you need except <code>CascadeType.REMOVE</code>, like so:</p>\n\n<pre><code>@ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.REFRESH, CascadeType.MERGE}))\n</code></pre>\n\n<p>in your UserGroup definitions.</p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666062884,"creation_date":1666062884,"answer_id":74105291,"question_id":34576803,"body_markdown":"It&#39;s almost always a code smell when propagating from child to parent entity, it should be the other way round.\r\n\r\nFrom [Cascading best practices](https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/):\r\n\r\n&gt; Cascading only makes sense only for Parent – Child associations (the\r\n&gt; Parent entity state transition being cascaded to its Child entities).\r\n&gt; Cascading from Child to Parent is not very useful and usually, it’s a\r\n&gt; mapping code smell.\r\n\r\nFrom [Hibernate best practices](https://thorben-janssen.com/hibernate-best-practices/):\r\n\r\n&gt; 12. Avoid cascade remove for huge relationships\r\n&gt; Most developers (myself included) get a little nervous when they see a\r\n&gt; CascadeType.REMOVE definition for a relationship. It tells Hibernate\r\n&gt; to also delete the related entities when it deletes this one. There is\r\n&gt; always the fear that the related entity also uses cascade remove for\r\n&gt; some of its relationships and that Hibernate might delete more\r\n&gt; database records than intended. During all the years I’ve worked with\r\n&gt; Hibernate, this has never happened to me, and I don’t think it’s a\r\n&gt; real issue. But cascade remove makes it incredibly hard to understand\r\n&gt; what exactly happens if you delete an entity. And that’s something you\r\n&gt; should always avoid. If you have a closer look at how Hibernate\r\n&gt; deletes the related entities, you will find another reason to avoid\r\n&gt; it. Hibernate performs 2 SQL statements for each related entity: 1\r\n&gt; SELECT statement to fetch the entity from the database and 1 DELETE\r\n&gt; statement to remove it. This might be OK, if there are only 1 or 2\r\n&gt; related entities but creates performance issues if there are large\r\n&gt; numbers of them.","title":"cascade type save update in Hibernate","body":"<p>It's almost always a code smell when propagating from child to parent entity, it should be the other way round.</p>\n<p>From <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\" rel=\"nofollow noreferrer\">Cascading best practices</a>:</p>\n<blockquote>\n<p>Cascading only makes sense only for Parent – Child associations (the\nParent entity state transition being cascaded to its Child entities).\nCascading from Child to Parent is not very useful and usually, it’s a\nmapping code smell.</p>\n</blockquote>\n<p>From <a href=\"https://thorben-janssen.com/hibernate-best-practices/\" rel=\"nofollow noreferrer\">Hibernate best practices</a>:</p>\n<blockquote>\n<ol start=\"12\">\n<li>Avoid cascade remove for huge relationships\nMost developers (myself included) get a little nervous when they see a\nCascadeType.REMOVE definition for a relationship. It tells Hibernate\nto also delete the related entities when it deletes this one. There is\nalways the fear that the related entity also uses cascade remove for\nsome of its relationships and that Hibernate might delete more\ndatabase records than intended. During all the years I’ve worked with\nHibernate, this has never happened to me, and I don’t think it’s a\nreal issue. But cascade remove makes it incredibly hard to understand\nwhat exactly happens if you delete an entity. And that’s something you\nshould always avoid. If you have a closer look at how Hibernate\ndeletes the related entities, you will find another reason to avoid\nit. Hibernate performs 2 SQL statements for each related entity: 1\nSELECT statement to fetch the entity from the database and 1 DELETE\nstatement to remove it. This might be OK, if there are only 1 or 2\nrelated entities but creates performance issues if there are large\nnumbers of them.</li>\n</ol>\n</blockquote>\n"}],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29986,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":34576869,"answer_count":3,"score":10,"last_activity_date":1666062884,"creation_date":1451826028,"question_id":34576803,"body_markdown":"I am using hibernate with JPA annotations for relationship mapping.\r\nI have three entities in my code `User` `Group` &amp; `User_Group` \r\n\r\n`User` &amp; `Group` are in a `ManyToMany` relationship.\r\n\r\n`User_Group` is a kinda [bridge table but with some additional fields][1]. So here is the modified mapping code. \r\n\r\nUser \r\n\r\n    @Entity\r\n    @Table(name = &quot;USERS&quot;)\r\n    public class User {\r\n    \r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private Set&lt;UserGroup&gt; userGroups\r\n    }\r\n\r\nGroup\r\n\r\n    @Entity\r\n    @Table(name = &quot;GROUPS&quot;)\r\n    public class Group {\r\n    @OneToMany(mappedBy = &quot;group&quot;)\r\n    private Set&lt;UserGroup&gt; userGroups\r\n    }\r\n\r\nUserGroup\r\n\r\n    @Entity\r\n    @Table(name = &quot;USERS_GROUPS&quot;)\r\n    public class UserGroup {\r\n    \r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;USER_ID&quot;)  \r\n    private User user;\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;GROUP_ID&quot;)\r\n    private Group group;\r\n    }\r\n\r\n\r\nWhen I set the user &amp; group object to the usergroup &amp; save it.\r\n\r\n    User user = new User(&quot;tommy&quot;, &quot;ymmot&quot;, &quot;tommy@gmail.com&quot;);\r\n    Group group = new Group(&quot;Coders&quot;);\r\n     \r\n    UserGroup userGroup = new UserGroup();\r\n    userGroup.setGroup(group);\r\n    userGroup.setUser(user);\r\n    userGroup.setActivated(true);\r\n    userGroup.setRegisteredDate(new Date());\r\n     \r\n    session.save(userGroup);\r\n\r\nThings work fine. With `CascadeType.ALL` the group object &amp; user object are updated too. But when I delete the userGroup object. The child object are deleted too. \r\n\r\nDeletion of child objects is a strict no no. \r\n\r\nThere is no `CascadeType.SAVE-UPDATE` in JPA, which just does save or update but no delete. How do I achieve this. \r\n\r\nIf I remove the `CascadeType.ALL` from the mapping the child objects don&#39;t get updated &amp; I need them to be updated.\r\n\r\n\r\n  [1]: http://www.codejava.net/frameworks/hibernate/hibernate-many-to-many-association-with-extra-columns-in-join-table-example","title":"cascade type save update in Hibernate","body":"<p>I am using hibernate with JPA annotations for relationship mapping.\nI have three entities in my code <code>User</code> <code>Group</code> &amp; <code>User_Group</code> </p>\n\n<p><code>User</code> &amp; <code>Group</code> are in a <code>ManyToMany</code> relationship.</p>\n\n<p><code>User_Group</code> is a kinda <a href=\"http://www.codejava.net/frameworks/hibernate/hibernate-many-to-many-association-with-extra-columns-in-join-table-example\" rel=\"noreferrer\">bridge table but with some additional fields</a>. So here is the modified mapping code. </p>\n\n<p>User </p>\n\n<pre><code>@Entity\n@Table(name = \"USERS\")\npublic class User {\n\n@OneToMany(mappedBy = \"user\")\nprivate Set&lt;UserGroup&gt; userGroups\n}\n</code></pre>\n\n<p>Group</p>\n\n<pre><code>@Entity\n@Table(name = \"GROUPS\")\npublic class Group {\n@OneToMany(mappedBy = \"group\")\nprivate Set&lt;UserGroup&gt; userGroups\n}\n</code></pre>\n\n<p>UserGroup</p>\n\n<pre><code>@Entity\n@Table(name = \"USERS_GROUPS\")\npublic class UserGroup {\n\n@ManyToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = \"USER_ID\")  \nprivate User user;\n@ManyToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = \"GROUP_ID\")\nprivate Group group;\n}\n</code></pre>\n\n<p>When I set the user &amp; group object to the usergroup &amp; save it.</p>\n\n<pre><code>User user = new User(\"tommy\", \"ymmot\", \"tommy@gmail.com\");\nGroup group = new Group(\"Coders\");\n\nUserGroup userGroup = new UserGroup();\nuserGroup.setGroup(group);\nuserGroup.setUser(user);\nuserGroup.setActivated(true);\nuserGroup.setRegisteredDate(new Date());\n\nsession.save(userGroup);\n</code></pre>\n\n<p>Things work fine. With <code>CascadeType.ALL</code> the group object &amp; user object are updated too. But when I delete the userGroup object. The child object are deleted too. </p>\n\n<p>Deletion of child objects is a strict no no. </p>\n\n<p>There is no <code>CascadeType.SAVE-UPDATE</code> in JPA, which just does save or update but no delete. How do I achieve this. </p>\n\n<p>If I remove the <code>CascadeType.ALL</code> from the mapping the child objects don't get updated &amp; I need them to be updated.</p>\n"},{"tags":["java","spring","spring-boot","server-sent-events"],"owner":{"account_id":26652373,"reputation":11,"user_id":20266472,"display_name":"jugurtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666061459,"creation_date":1666035260,"question_id":74102332,"body_markdown":"Trying to execute the following springboot SSE code:\r\n\r\n    @Controller\r\n    public class DataActivityController {\r\n    \t@CrossOrigin\r\n    \t@RequestMapping(value=&quot;/sse/mvc/emitter&quot;)\r\n    \tpublic ResponseEntity&lt;SseEmitter&gt; handleRequest () {\r\n    \r\n            final SseEmitter emitter = new SseEmitter();\r\n            ExecutorService service = Executors.newSingleThreadExecutor();\r\n            service.execute(() -&gt; {\r\n                for (int i = 0; i &lt; 1000; i++) {\r\n                    try {\r\n                        emitter.send(i + &quot; - &quot;, MediaType.TEXT_PLAIN);\r\n    \r\n                        Thread.sleep(10);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        emitter.completeWithError(e);\r\n                        return;\r\n                    }\r\n                }\r\n                emitter.complete();\r\n            });\r\n            return new ResponseEntity(emitter, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n Then trying to connect from a webbrowser using:\r\n\r\n    &lt;script&gt;\r\n    function sendRequest(){\r\n    \tif(typeof(EventSource) !== &quot;undefined&quot;) {\r\n    \t    var source = new EventSource(&quot;http://localhost:8080/sse/mvc/emitter&quot;);\r\n    \t    source.onmessage = function(event) {\r\n    \t\tdocument.getElementById(&quot;sseDiv&quot;).innerHTML += event.data + &quot; - &quot;;\r\n    \t    };\r\n    \t} else {\r\n    \t    document.getElementById(&quot;sseDiv&quot;).innerHTML =\r\n    \t\t             &quot;Your browser does not support server-sent events.&quot;;\r\n    \t}\r\n    }\r\n    &lt;/script&gt;\r\n\r\nyields display on the browser: &quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null}.\r\n\r\nHowever, no error is displayed in springboot application. ","title":"Springboot SseEmitter timeout","body":"<p>Trying to execute the following springboot SSE code:</p>\n<pre><code>@Controller\npublic class DataActivityController {\n    @CrossOrigin\n    @RequestMapping(value=&quot;/sse/mvc/emitter&quot;)\n    public ResponseEntity&lt;SseEmitter&gt; handleRequest () {\n\n        final SseEmitter emitter = new SseEmitter();\n        ExecutorService service = Executors.newSingleThreadExecutor();\n        service.execute(() -&gt; {\n            for (int i = 0; i &lt; 1000; i++) {\n                try {\n                    emitter.send(i + &quot; - &quot;, MediaType.TEXT_PLAIN);\n\n                    Thread.sleep(10);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    emitter.completeWithError(e);\n                    return;\n                }\n            }\n            emitter.complete();\n        });\n        return new ResponseEntity(emitter, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Then trying to connect from a webbrowser using:</p>\n<pre><code>&lt;script&gt;\nfunction sendRequest(){\n    if(typeof(EventSource) !== &quot;undefined&quot;) {\n        var source = new EventSource(&quot;http://localhost:8080/sse/mvc/emitter&quot;);\n        source.onmessage = function(event) {\n        document.getElementById(&quot;sseDiv&quot;).innerHTML += event.data + &quot; - &quot;;\n        };\n    } else {\n        document.getElementById(&quot;sseDiv&quot;).innerHTML =\n                     &quot;Your browser does not support server-sent events.&quot;;\n    }\n}\n&lt;/script&gt;\n</code></pre>\n<p>yields display on the browser: &quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null} - {&quot;timeout&quot;:null}.</p>\n<p>However, no error is displayed in springboot application.</p>\n"},{"tags":["java","windows","32-bit","corretto"],"comments":[{"owner":{"account_id":1042290,"reputation":8811,"user_id":1048066,"display_name":"Yishai Galatzer"},"score":0,"creation_date":1542835999,"post_id":53420091,"comment_id":93715903,"body_markdown":"What platform are your running on?","body":"What platform are your running on?"},{"owner":{"account_id":1724893,"reputation":705,"user_id":1579823,"accept_rate":75,"display_name":"Jose Renato"},"score":0,"creation_date":1542903560,"post_id":53420091,"comment_id":93743501,"body_markdown":"Hi @YishaiGalatzer. I&#39;m running over Microsoft Windows (win 7 and above).","body":"Hi @YishaiGalatzer. I&#39;m running over Microsoft Windows (win 7 and above)."}],"answers":[{"tags":[],"owner":{"account_id":1042290,"reputation":8811,"user_id":1048066,"display_name":"Yishai Galatzer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666060610,"creation_date":1543002133,"answer_id":53452194,"question_id":53420091,"body_markdown":"Released in 2019 ...\r\n\r\nPast Update:\r\n\r\nI filed [issue on GitHub/Corretto][1] to track this request. Once we have bits ready we will update both on GitHub and here\r\n\r\n\r\n  [1]: https://github.com/corretto/corretto-8/issues/22","title":"Amazon Corretto 8 32 bits","body":"<p>Released in 2019 ...</p>\n<p>Past Update:</p>\n<p>I filed <a href=\"https://github.com/corretto/corretto-8/issues/22\" rel=\"nofollow noreferrer\">issue on GitHub/Corretto</a> to track this request. Once we have bits ready we will update both on GitHub and here</p>\n"},{"tags":[],"owner":{"account_id":14851120,"reputation":136,"user_id":10725039,"display_name":"alvdavi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547588596,"creation_date":1547588596,"answer_id":54207292,"question_id":53420091,"body_markdown":"Corretto preview2 is now available and it includes a Windows 32 bits release on the [downloads page][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html","title":"Amazon Corretto 8 32 bits","body":"<p>Corretto preview2 is now available and it includes a Windows 32 bits release on the <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/downloads-list.html\" rel=\"nofollow noreferrer\">downloads page</a></p>\n"}],"owner":{"account_id":1724893,"reputation":705,"user_id":1579823,"accept_rate":75,"display_name":"Jose Renato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1761,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53452194,"answer_count":2,"score":2,"last_activity_date":1666060610,"creation_date":1542832452,"question_id":53420091,"body_markdown":"I&#39;m current using Oracle JDK 8 32 bits to my application and I was wondering if there is any possibility to Amazon Corretto 8 be released on 32 bits version.","title":"Amazon Corretto 8 32 bits","body":"<p>I'm current using Oracle JDK 8 32 bits to my application and I was wondering if there is any possibility to Amazon Corretto 8 be released on 32 bits version.</p>\n"},{"tags":["java","subset"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665882163,"post_id":74083916,"comment_id":130802710,"body_markdown":"Are you aware that `Set`s like `HashSet` simply don&#39;t allow duplicate elements?  If you add 10 and 10 to one, you get a set with 10 in it?","body":"Are you aware that <code>Set</code>s like <code>HashSet</code> simply don&#39;t allow duplicate elements?  If you add 10 and 10 to one, you get a set with 10 in it?"},{"owner":{"account_id":114004,"reputation":1554,"user_id":299990,"accept_rate":88,"display_name":"Don"},"score":0,"creation_date":1665882484,"post_id":74083916,"comment_id":130802751,"body_markdown":"@LouisWasserman here is the power set.  The integer elements may have the same value, but they are not the same.","body":"@LouisWasserman here is the power set.  The integer elements may have the same value, but they are not the same."},{"owner":{"account_id":114004,"reputation":1554,"user_id":299990,"accept_rate":88,"display_name":"Don"},"score":0,"creation_date":1665882768,"post_id":74083916,"comment_id":130802778,"body_markdown":"@LouisWasserman I guess you remind me of why using hashset does not work, since hashset filters elements with the same values.  But I am still confused why the hashset solution has more outputs.","body":"@LouisWasserman I guess you remind me of why using hashset does not work, since hashset filters elements with the same values.  But I am still confused why the hashset solution has more outputs."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665898690,"post_id":74083916,"comment_id":130804229,"body_markdown":"Each call to `helper` creates a new set, so you only have a unique result within a single `helper` invocation.","body":"Each call to <code>helper</code> creates a new set, so you only have a unique result within a single <code>helper</code> invocation."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666060439,"creation_date":1666060439,"answer_id":74105074,"question_id":74083916,"body_markdown":"You are missing `Collections.sort(numbers);` in your last program. If you uncomment then it will show the same result as earlier. Because without the HashSet code you are sorting data but not in the second program.\r\n\r\n```\r\nstatic ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets_with_duplicate(ArrayList&lt;Integer&gt; numbers) {\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\r\n    Collections.sort(numbers);\r\n    helper(res, new ArrayList&lt;&gt;(), numbers, 0);\r\n    return res;\r\n}\r\n\r\nstatic void helper(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, ArrayList&lt;Integer&gt; slate, ArrayList&lt;Integer&gt; numbers,\r\n        int pos) {\r\n    int n = numbers.size();\r\n\r\n    res.add(new ArrayList&lt;&gt;(slate));\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    for (int i = pos; i &lt; n; i++) {\r\n        if (!set.add(numbers.get(i))) {\r\n            // if ((i != pos) &amp;&amp; numbers.get(i).equals(numbers.get(i - 1))) {\r\n            continue;\r\n        }\r\n        slate.add(numbers.get(i));\r\n        helper(res, slate, numbers, i + 1);\r\n        slate.remove(slate.size() - 1);\r\n    }\r\n}\r\n\r\n// Driver code\r\npublic static void main(String args[]) {\r\n    ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(10, 10, 1, 2, 2, 2, 10));\r\n    for (var v : subsets_with_duplicate(arr)) {\r\n        System.out.println(v);\r\n    }\r\n}\r\n```","title":"Using HashSet to filter duplicates does not work in subsets with duplicate problem","body":"<p>You are missing <code>Collections.sort(numbers);</code> in your last program. If you uncomment then it will show the same result as earlier. Because without the HashSet code you are sorting data but not in the second program.</p>\n<pre><code>static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets_with_duplicate(ArrayList&lt;Integer&gt; numbers) {\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\n    Collections.sort(numbers);\n    helper(res, new ArrayList&lt;&gt;(), numbers, 0);\n    return res;\n}\n\nstatic void helper(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, ArrayList&lt;Integer&gt; slate, ArrayList&lt;Integer&gt; numbers,\n        int pos) {\n    int n = numbers.size();\n\n    res.add(new ArrayList&lt;&gt;(slate));\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    for (int i = pos; i &lt; n; i++) {\n        if (!set.add(numbers.get(i))) {\n            // if ((i != pos) &amp;&amp; numbers.get(i).equals(numbers.get(i - 1))) {\n            continue;\n        }\n        slate.add(numbers.get(i));\n        helper(res, slate, numbers, i + 1);\n        slate.remove(slate.size() - 1);\n    }\n}\n\n// Driver code\npublic static void main(String args[]) {\n    ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(10, 10, 1, 2, 2, 2, 10));\n    for (var v : subsets_with_duplicate(arr)) {\n        System.out.println(v);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":114004,"reputation":1554,"user_id":299990,"accept_rate":88,"display_name":"Don"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74105074,"answer_count":1,"score":0,"last_activity_date":1666060439,"creation_date":1665880809,"question_id":74083916,"body_markdown":"The problem is &quot;Given a list of numbers that may contain duplicates, return all possible subsets (the power set).\r\n\r\nThe solution set must not contain duplicate subsets. Return the solution in any order.&quot;\r\n\r\nI have some simple code to use seemly similar ways to solve this problem.  Howerver, Hashset approach does not work for some test cases such as [10, 10, 1, 2, 2, 2, 10].  But sort and neighbor integer comparison approach work.\r\n\r\nIt is just different from [the permutation][1].\r\n\r\nThis code works:\r\n\r\n    import java.util.*; \r\n    \r\n    public class test {\r\n        static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets_with_duplicate(ArrayList&lt;Integer&gt; numbers) {\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n            Collections.sort(numbers);\r\n            helper(res, new ArrayList&lt;&gt;(), numbers, 0);\r\n            return res;\r\n        }\r\n    \r\n        static void helper(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, ArrayList&lt;Integer&gt; slate, ArrayList&lt;Integer&gt; numbers, int pos){\r\n            int n=numbers.size();\r\n    \r\n            res.add(new ArrayList&lt;Integer&gt;(slate));\r\n            //Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n            for(int i=pos; i&lt;n; i++){\r\n                //if(!set.add(numbers.get(i)))\r\n                if(i!=pos&amp;&amp;numbers.get(i).equals(numbers.get(i-1)))\r\n                    continue;\r\n                slate.add(numbers.get(i));\r\n                helper(res, slate, numbers, i+1);\r\n                slate.remove(slate.size()-1);\r\n            }\r\n        }\r\n    \t// Driver code\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(10, 10, 1, 2, 2, 2, 10));\r\n    \t\tfor(var v:subsets_with_duplicate(arr)){\r\n    \t\t\tSystem.out.println(v);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis code does not work - \r\n\r\n    import java.util.*; \r\n    \r\n    public class test {\r\n        static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets_with_duplicate(ArrayList&lt;Integer&gt; numbers) {\r\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n            //Collections.sort(numbers);\r\n            helper(res, new ArrayList&lt;&gt;(), numbers, 0);\r\n            return res;\r\n        }\r\n    \r\n        static void helper(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, ArrayList&lt;Integer&gt; slate, ArrayList&lt;Integer&gt; numbers, int pos){\r\n            int n=numbers.size();\r\n    \r\n            res.add(new ArrayList&lt;Integer&gt;(slate));\r\n            Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n            for(int i=pos; i&lt;n; i++){\r\n                if(!set.add(numbers.get(i)))\r\n                //if(i!=pos&amp;&amp;numbers.get(i).equals(numbers.get(i-1)))\r\n                    continue;\r\n                slate.add(numbers.get(i));\r\n                helper(res, slate, numbers, i+1);\r\n                slate.remove(slate.size()-1);\r\n            }\r\n        }\r\n    \t// Driver code\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(10, 10, 1, 2, 2, 2, 10));\r\n    \t\tfor(var v:subsets_with_duplicate(arr)){\r\n    \t\t\tSystem.out.println(v);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nWhy?\r\n\r\nThe partial output difference between these two solutions are highlighted in red.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74083841/permute-array-of-integers-duplicates-allowed\r\n  [2]: https://i.stack.imgur.com/ZTNb7.png","title":"Using HashSet to filter duplicates does not work in subsets with duplicate problem","body":"<p>The problem is &quot;Given a list of numbers that may contain duplicates, return all possible subsets (the power set).</p>\n<p>The solution set must not contain duplicate subsets. Return the solution in any order.&quot;</p>\n<p>I have some simple code to use seemly similar ways to solve this problem.  Howerver, Hashset approach does not work for some test cases such as [10, 10, 1, 2, 2, 2, 10].  But sort and neighbor integer comparison approach work.</p>\n<p>It is just different from <a href=\"https://stackoverflow.com/questions/74083841/permute-array-of-integers-duplicates-allowed\">the permutation</a>.</p>\n<p>This code works:</p>\n<pre><code>import java.util.*; \n\npublic class test {\n    static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets_with_duplicate(ArrayList&lt;Integer&gt; numbers) {\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n        Collections.sort(numbers);\n        helper(res, new ArrayList&lt;&gt;(), numbers, 0);\n        return res;\n    }\n\n    static void helper(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, ArrayList&lt;Integer&gt; slate, ArrayList&lt;Integer&gt; numbers, int pos){\n        int n=numbers.size();\n\n        res.add(new ArrayList&lt;Integer&gt;(slate));\n        //Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n        for(int i=pos; i&lt;n; i++){\n            //if(!set.add(numbers.get(i)))\n            if(i!=pos&amp;&amp;numbers.get(i).equals(numbers.get(i-1)))\n                continue;\n            slate.add(numbers.get(i));\n            helper(res, slate, numbers, i+1);\n            slate.remove(slate.size()-1);\n        }\n    }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(10, 10, 1, 2, 2, 2, 10));\n        for(var v:subsets_with_duplicate(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n<p>This code does not work -</p>\n<pre><code>import java.util.*; \n\npublic class test {\n    static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; subsets_with_duplicate(ArrayList&lt;Integer&gt; numbers) {\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n        //Collections.sort(numbers);\n        helper(res, new ArrayList&lt;&gt;(), numbers, 0);\n        return res;\n    }\n\n    static void helper(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res, ArrayList&lt;Integer&gt; slate, ArrayList&lt;Integer&gt; numbers, int pos){\n        int n=numbers.size();\n\n        res.add(new ArrayList&lt;Integer&gt;(slate));\n        Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n        for(int i=pos; i&lt;n; i++){\n            if(!set.add(numbers.get(i)))\n            //if(i!=pos&amp;&amp;numbers.get(i).equals(numbers.get(i-1)))\n                continue;\n            slate.add(numbers.get(i));\n            helper(res, slate, numbers, i+1);\n            slate.remove(slate.size()-1);\n        }\n    }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(10, 10, 1, 2, 2, 2, 10));\n        for(var v:subsets_with_duplicate(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n<p>Why?</p>\n<p>The partial output difference between these two solutions are highlighted in red.</p>\n<p><a href=\"https://i.stack.imgur.com/ZTNb7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZTNb7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","lazy-loading"],"answers":[{"tags":[],"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384063643,"creation_date":1384063643,"answer_id":19886837,"question_id":19866003,"body_markdown":"Is there a reason you are using SQL instead of HQL? I would stay away from SQL statements when using hibernate when possible.\r\n\r\nI would implement it like this in HQL:\r\n\r\n\r\n    from Customer c\r\n    join fetch c.address\r\n\r\n\r\nthe `join fetch` makes Customers address no longer lazy.\r\n","title":"Can I change Lazy propety value of createSQLQuery at runtime?","body":"<p>Is there a reason you are using SQL instead of HQL? I would stay away from SQL statements when using hibernate when possible.</p>\n\n<p>I would implement it like this in HQL:</p>\n\n<pre><code>from Customer c\njoin fetch c.address\n</code></pre>\n\n<p>the <code>join fetch</code> makes Customers address no longer lazy.</p>\n"}],"owner":{"account_id":1945496,"reputation":275,"user_id":1750751,"accept_rate":21,"display_name":"user1750751"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666060342,"creation_date":1383935208,"question_id":19866003,"body_markdown":"I wanna set lazy to &quot;false&quot; but only to one method at in runtime.\r\nCan I do?\r\n\r\n    this.getSession().createSQLQuery(&quot;select * from customers....&quot;)....\r\n\r\nAttention: im using **createSQLQuery** not createCriteria.\r\n\r\nCustomerMapping.xml here:\r\n\r\n    &lt;hibernate-mapping&gt;\r\n\t&lt;class name=&quot;com.example.entities.customers.Customer&quot;\r\n\t\ttable=&quot;CUSTOMERS&quot;&gt;\r\n\t\t&lt;id name=&quot;id&quot; type=&quot;long&quot;&gt;\r\n\t\t\t&lt;column name=&quot;ID&quot; /&gt;\r\n\t\t\t&lt;generator class=&quot;sequence&quot;&gt;\r\n\t\t\t\t&lt;param name=&quot;sequence&quot;&gt;seq_customers&lt;/param&gt;\r\n\t\t\t&lt;/generator&gt;\r\n\t\t&lt;/id&gt;\t\t\r\n\t\t&lt;property name=&quot;name&quot; type=&quot;String&quot;&gt;\r\n\t\t\t&lt;column name=&quot;NAME_C&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n       &lt;many-to-one name=&quot;address&quot;\r\n\t\t\tclass=&quot;com.example.entities.Address&quot; fetch=&quot;select&quot;\r\n\t\t\tcascade=&quot;all&quot;&gt;\r\n\t\t\t&lt;column name=&quot;ADDRESS_ID&quot; /&gt;\r\n\t\t&lt;/many-to-one&gt;\r\n    &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nI wanna set lazy to false for Address.\r\n\r\nI have to do this because this method return a list of customers (with address) and when I iterate this list and print its very slow cause the lazy is setted true (by default).","title":"Can I change Lazy propety value of createSQLQuery at runtime?","body":"<p>I wanna set lazy to \"false\" but only to one method at in runtime.\nCan I do?</p>\n\n<pre><code>this.getSession().createSQLQuery(\"select * from customers....\")....\n</code></pre>\n\n<p>Attention: im using <strong>createSQLQuery</strong> not createCriteria.</p>\n\n<p>CustomerMapping.xml here:</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n&lt;class name=\"com.example.entities.customers.Customer\"\n    table=\"CUSTOMERS\"&gt;\n    &lt;id name=\"id\" type=\"long\"&gt;\n        &lt;column name=\"ID\" /&gt;\n        &lt;generator class=\"sequence\"&gt;\n            &lt;param name=\"sequence\"&gt;seq_customers&lt;/param&gt;\n        &lt;/generator&gt;\n    &lt;/id&gt;       \n    &lt;property name=\"name\" type=\"String\"&gt;\n        &lt;column name=\"NAME_C\" /&gt;\n    &lt;/property&gt;\n   &lt;many-to-one name=\"address\"\n        class=\"com.example.entities.Address\" fetch=\"select\"\n        cascade=\"all\"&gt;\n        &lt;column name=\"ADDRESS_ID\" /&gt;\n    &lt;/many-to-one&gt;\n&lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>I wanna set lazy to false for Address.</p>\n\n<p>I have to do this because this method return a list of customers (with address) and when I iterate this list and print its very slow cause the lazy is setted true (by default).</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":305249,"reputation":42705,"user_id":615306,"accept_rate":51,"display_name":"Kirill Rakhman"},"score":0,"creation_date":1430428526,"post_id":29927462,"comment_id":48075355,"body_markdown":"This doesn&#39;t really answer your question, but Kotlin is a langauge that runs on a JVM and reduces some of the clutter, e.g. the need to put methods in classes.","body":"This doesn&#39;t really answer your question, but Kotlin is a langauge that runs on a JVM and reduces some of the clutter, e.g. the need to put methods in classes."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1430247026,"creation_date":1430247026,"answer_id":29927544,"question_id":29927462,"body_markdown":"&gt; Can I just create the program directly the way I do it in other languages?\r\n\r\nNo.\r\n\r\n&gt; I mean is the concept of class necessary in Java?\r\n\r\nYes. Every method, field etc is always in a class (or interface). Yes, that&#39;s an overhead for tiny programs - but for larger programs, the impact is pretty tiny.\r\n\r\nAs ever, use the right tool for the job - if you want a script of a few lines, use a scripting language. If you want more structure and organization, then you should expect a bit of &quot;ceremony&quot; to go with that.","title":"Is it necessary to create a Java class everytime?","body":"<blockquote>\n  <p>Can I just create the program directly the way I do it in other languages?</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>I mean is the concept of class necessary in Java?</p>\n</blockquote>\n\n<p>Yes. Every method, field etc is always in a class (or interface). Yes, that's an overhead for tiny programs - but for larger programs, the impact is pretty tiny.</p>\n\n<p>As ever, use the right tool for the job - if you want a script of a few lines, use a scripting language. If you want more structure and organization, then you should expect a bit of \"ceremony\" to go with that.</p>\n"},{"tags":[],"owner":{"account_id":70462,"reputation":1573,"user_id":204305,"accept_rate":83,"display_name":"Sage Mitchell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430253035,"creation_date":1430247136,"answer_id":29927586,"question_id":29927462,"body_markdown":"Java requires every function/method to be defined in a class. That includes the main method.\r\n\r\nThe restriction is not imposed by all object-oriented languages. In some cases the constraint is lifted merely as a convenience (i.e. Python, Ruby). Some languages, like JavaScript and Lua, provide OOP features through a prototype-based mechanism. Java enforces OOP with a class system, so you may hear it referred to as a class-oriented language.","title":"Is it necessary to create a Java class everytime?","body":"<p>Java requires every function/method to be defined in a class. That includes the main method.</p>\n\n<p>The restriction is not imposed by all object-oriented languages. In some cases the constraint is lifted merely as a convenience (i.e. Python, Ruby). Some languages, like JavaScript and Lua, provide OOP features through a prototype-based mechanism. Java enforces OOP with a class system, so you may hear it referred to as a class-oriented language.</p>\n"},{"tags":[],"owner":{"account_id":396691,"reputation":1552,"user_id":760393,"accept_rate":71,"display_name":"Ra&#250;l"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430248520,"creation_date":1430248520,"answer_id":29927991,"question_id":29927462,"body_markdown":"Java is a Object Oriented programming language. Everything is driven by object(s). A class serves as an blue-print, using which we can create one or more objects. Class &gt; method &gt; execution unit. \r\n\r\nEven if you want to just print your name - you will do this using a Class in Java.\r\n\r\n ","title":"Is it necessary to create a Java class everytime?","body":"<p>Java is a Object Oriented programming language. Everything is driven by object(s). A class serves as an blue-print, using which we can create one or more objects. Class > method > execution unit. </p>\n\n<p>Even if you want to just print your name - you will do this using a Class in Java.</p>\n"},{"tags":[],"owner":{"account_id":5785597,"reputation":9456,"user_id":4564945,"display_name":"Necreaux"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430249508,"creation_date":1430249508,"answer_id":29928284,"question_id":29927462,"body_markdown":"While you do have to create a class, the question specifically asks if you have to create a class for your program and a main class to call it. The answer to that is &quot;no&quot;.\r\n\r\nYou can create a single class with a main method and have your logic inside that if you want a very minimal program. Something like this:\r\n\r\n    public class MyClass {\r\n    \tpublic static void main(String[] args)\t{\r\n    \t\t// Do Something here\r\n    \t}\r\n    }","title":"Is it necessary to create a Java class everytime?","body":"<p>While you do have to create a class, the question specifically asks if you have to create a class for your program and a main class to call it. The answer to that is \"no\".</p>\n\n<p>You can create a single class with a main method and have your logic inside that if you want a very minimal program. Something like this:</p>\n\n<pre><code>public class MyClass {\n    public static void main(String[] args)  {\n        // Do Something here\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666060109,"creation_date":1558923776,"answer_id":56318964,"question_id":29927462,"body_markdown":"I know this is an old question but I think the question is important to clarify something. Let&#39;s see this definitions:\r\n\r\n&gt; Java is a general-purpose programming language that is class-based, object-oriented, and designed to have as few implementation dependencies as possible.\r\n\r\n&gt; C is a general-purpose, imperative computer programming language supporting structured programming, lexical variable scope, and recursion, while a static type system prevents unintended operations.\r\n\r\n&gt; Python is an interpreted, high-level, general-purpose programming language. It supports multiple programming paradigms, including procedural, object-oriented, and functional programming.\r\n\r\n### Teo. what is a programming paradigm?\r\nWell my young Padawan, a programming paradigm it is a style of programming, or just a way of thinking about software construction. This concept does not refer to a specific language, but rather to a way to program, a methodology.\r\n\r\nNow let’s dive into the programming paradigms that we found on this definitions:\r\n\r\nC supports Structured programming (SP). SP sometimes known as modular programming, this is a technique devised to improve the reliability and clarity of programs. In SP, the program flow control is restricted to three structures (i.e., sequences, selection [`IF`/`THEN`/`ELSE`], and repetitions [`FOR`/`WHILE`]), or to a structure derivable from a combination of those. The result is a program built of modules that are highly independent of each other. This enforces a logical structure on the program being written to make it more efficient and easier to understand and modify.\r\n\r\nPython supports Procedural Programming (PP). PP is a programming paradigm, derived from SP, based upon the concept of the procedure call. A procedure call is a simple statement made by stating the procedure name, and listing actual parameter names or values within parentheses. So this paradigm is about writing a list of instructions to tell the computer what to do step by step. It relies on procedures, witch simply contain a series of computational steps to be carried out.  \r\n\r\nJava only supports object-oriented programming (OOP). This main focus is about encapsulating data and behavior into objects. An OOP application will use a collection of objects which knows how to perform certain actions and how to interact with other elements of the application. For instance, an object could be a person. That person would have a name (that would be a property of the object), and would know how to walk (that would be a method). A method in OOP can be considered as a procedure in PP, but here it belongs to a specific object. Another important aspect of OOP are classes. A class can be considered as a blueprint for an object.\r\n\r\n\r\n### What this means?\r\n\r\nAs this simple definition says, **Java** is a **class-based** and **object-oriented** programming language. So when the user asked: *&quot;Can I just create the program directly the way I do it in other languages?&quot;*, the answer is *NO*, because it is not part of the definition of the language.\r\n\r\n### Why can C and Python do that? \r\nWell, it is because **C* and **Python** support non-member functions, while **Java** supports only member functions.\r\n\r\n### What is the difference between a member function and a non-member function?\r\nBasically, a **non-member function** always is defined out of a class. While a **member function** must defined as part of a class. This is to identify that that function is a member of a particular class. Another difference between **member functions** and **non-member functions** is how they are called (or invoked).\r\nTo call a **member function** you need a class object to get access to the function, but **non-member functions** can be invoked directly.\r\n\r\n### TL;DR\r\n\r\n**Java** needs a class to define a member function like `main()` because it only supports OOP. So, if you want a very minimal program, you can create a class with a `main()` method. Consider the following segment of code:\r\n\r\n\r\n```java\r\npublic class MainClass {\r\n    public static void main(String[] args)  {\r\n        System.out.print(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\nThis is the equivalent in C:\r\n\r\n\r\n```c\r\n#include &lt;stdio.h&gt;\r\nint main()\r\n{\r\n   printf(&quot;Hello, World!&quot;);\r\n   return 0;\r\n}\r\n```\r\n","title":"Is it necessary to create a Java class everytime?","body":"<p>I know this is an old question but I think the question is important to clarify something. Let's see this definitions:</p>\n<blockquote>\n<p>Java is a general-purpose programming language that is class-based, object-oriented, and designed to have as few implementation dependencies as possible.</p>\n</blockquote>\n<blockquote>\n<p>C is a general-purpose, imperative computer programming language supporting structured programming, lexical variable scope, and recursion, while a static type system prevents unintended operations.</p>\n</blockquote>\n<blockquote>\n<p>Python is an interpreted, high-level, general-purpose programming language. It supports multiple programming paradigms, including procedural, object-oriented, and functional programming.</p>\n</blockquote>\n<h3>Teo. what is a programming paradigm?</h3>\n<p>Well my young Padawan, a programming paradigm it is a style of programming, or just a way of thinking about software construction. This concept does not refer to a specific language, but rather to a way to program, a methodology.</p>\n<p>Now let’s dive into the programming paradigms that we found on this definitions:</p>\n<p>C supports Structured programming (SP). SP sometimes known as modular programming, this is a technique devised to improve the reliability and clarity of programs. In SP, the program flow control is restricted to three structures (i.e., sequences, selection [<code>IF</code>/<code>THEN</code>/<code>ELSE</code>], and repetitions [<code>FOR</code>/<code>WHILE</code>]), or to a structure derivable from a combination of those. The result is a program built of modules that are highly independent of each other. This enforces a logical structure on the program being written to make it more efficient and easier to understand and modify.</p>\n<p>Python supports Procedural Programming (PP). PP is a programming paradigm, derived from SP, based upon the concept of the procedure call. A procedure call is a simple statement made by stating the procedure name, and listing actual parameter names or values within parentheses. So this paradigm is about writing a list of instructions to tell the computer what to do step by step. It relies on procedures, witch simply contain a series of computational steps to be carried out.</p>\n<p>Java only supports object-oriented programming (OOP). This main focus is about encapsulating data and behavior into objects. An OOP application will use a collection of objects which knows how to perform certain actions and how to interact with other elements of the application. For instance, an object could be a person. That person would have a name (that would be a property of the object), and would know how to walk (that would be a method). A method in OOP can be considered as a procedure in PP, but here it belongs to a specific object. Another important aspect of OOP are classes. A class can be considered as a blueprint for an object.</p>\n<h3>What this means?</h3>\n<p>As this simple definition says, <strong>Java</strong> is a <strong>class-based</strong> and <strong>object-oriented</strong> programming language. So when the user asked: <em>&quot;Can I just create the program directly the way I do it in other languages?&quot;</em>, the answer is <em>NO</em>, because it is not part of the definition of the language.</p>\n<h3>Why can C and Python do that?</h3>\n<p>Well, it is because *<em>C</em> and <strong>Python</strong> support non-member functions, while <strong>Java</strong> supports only member functions.</p>\n<h3>What is the difference between a member function and a non-member function?</h3>\n<p>Basically, a <strong>non-member function</strong> always is defined out of a class. While a <strong>member function</strong> must defined as part of a class. This is to identify that that function is a member of a particular class. Another difference between <strong>member functions</strong> and <strong>non-member functions</strong> is how they are called (or invoked).\nTo call a <strong>member function</strong> you need a class object to get access to the function, but <strong>non-member functions</strong> can be invoked directly.</p>\n<h3>TL;DR</h3>\n<p><strong>Java</strong> needs a class to define a member function like <code>main()</code> because it only supports OOP. So, if you want a very minimal program, you can create a class with a <code>main()</code> method. Consider the following segment of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass {\n    public static void main(String[] args)  {\n        System.out.print(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>This is the equivalent in C:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\nint main()\n{\n   printf(&quot;Hello, World!&quot;);\n   return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":4652704,"reputation":333,"user_id":4465332,"accept_rate":86,"display_name":"Kira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4376,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":29927544,"answer_count":5,"score":8,"last_activity_date":1666060109,"creation_date":1430246759,"question_id":29927462,"body_markdown":"I am starting to learn the Java programming language and I am a little confused.\r\n\r\nI would like to create a simple program like adding two numbers or calculate the sum of n numbers. I can do this in C or Python easily, but in Java, I have to create a class for my program and then create a main class and call my program from it.\r\n\r\nI use both Netbeans and IntelliJ.\r\n\r\nCan I just create the program directly the way I do it in other languages? I mean is the concept of a class necessary in Java?","title":"Is it necessary to create a Java class everytime?","body":"<p>I am starting to learn the Java programming language and I am a little confused.</p>\n\n<p>I would like to create a simple program like adding two numbers or calculate the sum of n numbers. I can do this in C or Python easily, but in Java, I have to create a class for my program and then create a main class and call my program from it.</p>\n\n<p>I use both Netbeans and IntelliJ.</p>\n\n<p>Can I just create the program directly the way I do it in other languages? I mean is the concept of a class necessary in Java?</p>\n"},{"tags":["java","image","resize","scrollpane"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1666028181,"post_id":74092197,"comment_id":130833416,"body_markdown":"Not really sure I understand the question but maybe you can: 1) use the [Stretch Icon](https://tips4java.wordpress.com/2012/03/31/stretch-icon/). I Icon will automaticallylresize based on the space available and 2) use the [Scrollable Panel](https://tips4java.wordpress.com/2012/03/31/stretch-icon/) It allows you to fix the width of the panel to the width of the viewport of the scroll pane.","body":"Not really sure I understand the question but maybe you can: 1) use the <a href=\"https://tips4java.wordpress.com/2012/03/31/stretch-icon/\" rel=\"nofollow noreferrer\">Stretch Icon</a>. I Icon will automaticallylresize based on the space available and 2) use the <a href=\"https://tips4java.wordpress.com/2012/03/31/stretch-icon/\" rel=\"nofollow noreferrer\">Scrollable Panel</a> It allows you to fix the width of the panel to the width of the viewport of the scroll pane."},{"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"score":0,"creation_date":1666057335,"post_id":74092197,"comment_id":130840088,"body_markdown":"@camickr I&#39;ve edited my question with images to illustrate what the issue I am facing","body":"@camickr I&#39;ve edited my question with images to illustrate what the issue I am facing"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1666058068,"post_id":74092197,"comment_id":130840173,"body_markdown":"More or less what I thought so it doesn&#39;t change my answer.","body":"More or less what I thought so it doesn&#39;t change my answer."},{"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"score":0,"creation_date":1666060022,"post_id":74092197,"comment_id":130840422,"body_markdown":"@camickr, Thank you for the answer. I tried using the stretch icon but it introduced another issue. There are huge gaps when I resize. I&#39;m not too familiar with layouts and insets etc, so I&#39;m not too sure what is causing this issue. (edited qns to illustrate)","body":"@camickr, Thank you for the answer. I tried using the stretch icon but it introduced another issue. There are huge gaps when I resize. I&#39;m not too familiar with layouts and insets etc, so I&#39;m not too sure what is causing this issue. (edited qns to illustrate)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1666066136,"post_id":74092197,"comment_id":130841236,"body_markdown":"The StretchIcon will either 1) resize to fill the space available or 2) keep the original width/height ratio. In the second case if the width shrinks then the height will also shrink which would cause the gap.","body":"The StretchIcon will either 1) resize to fill the space available or 2) keep the original width/height ratio. In the second case if the width shrinks then the height will also shrink which would cause the gap."}],"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666059904,"creation_date":1665975777,"question_id":74092197,"body_markdown":"I need to develop an image gallery of sorts, where I can display images in a JFrame, and I can scroll and double click to expand to full screen etc. I was able to display the images the way I want it, but when I resize the JFrame, the images gets cut off as there is no horizontal scroll. \r\n\r\nIs there a way where I can have have vertical scroll and when frame resizes, the panel within will resize to fit horizontally?\r\n\r\n    try {\r\n    \t\r\n    \tBufferedImage readImage = ImageIO.read(new File(&quot;myFile.png&quot;));\r\n    \tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    \tImageIO.write(readImage, &quot;png&quot;, bos);\r\n    \tbyte[] data = bos.toByteArray();\r\n    \tBufferedImage image = ImageIO.read(bis);\r\n    \t\r\n    \tJPanel imagePanel = new JPanel();\r\n    \timagePanel.setLayout(new GridLayout(0,2,5,5));\r\n    \tfor (int x=0;x&lt;8;++x){\r\n    \t\tJLabel l = new JLabel(new ImageIcon(image));\r\n    \t\timagePanel.add(l);\r\n    \t}\r\n    \t\r\n    \tJScrollPane scrollPane = new JScrollPane(mainPanel, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \t\r\n    \tJFrame frame = new JFrame();\r\n    \tframe.add(scrollPane);\r\n    \t//frame.add(imagePanel); //This will work as i intended it to be, but there is no vertical scroll\r\n    \tframe.pack();\r\n    \tframe.setVisible(true);\r\n    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nEdit:\r\n\r\nA visual example is shown below. When the frame resizes, the images get cropped, what I would like instead are for the images within the JScrollPane to resize so that it could all fit horizontally, while at the same time maintaining the vertical scroll.\r\n\r\n[![cropped images][1]][1]\r\n\r\n\r\nEdit2:\r\n\r\nUsing [StretchIcon][2], I was able to achieve having the images resize dynamically, but this introduced another issue where there are huge spaces in between the images as I resize.\r\n\r\n[![large gaps][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X9euo.png\r\n  [2]: http://www.camick.com/java/source/StretchIcon.java\r\n  [3]: https://i.stack.imgur.com/oso7N.png","title":"How to resize images in JScrollPane as frame resizes","body":"<p>I need to develop an image gallery of sorts, where I can display images in a JFrame, and I can scroll and double click to expand to full screen etc. I was able to display the images the way I want it, but when I resize the JFrame, the images gets cut off as there is no horizontal scroll.</p>\n<p>Is there a way where I can have have vertical scroll and when frame resizes, the panel within will resize to fit horizontally?</p>\n<pre><code>try {\n    \n    BufferedImage readImage = ImageIO.read(new File(&quot;myFile.png&quot;));\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ImageIO.write(readImage, &quot;png&quot;, bos);\n    byte[] data = bos.toByteArray();\n    BufferedImage image = ImageIO.read(bis);\n    \n    JPanel imagePanel = new JPanel();\n    imagePanel.setLayout(new GridLayout(0,2,5,5));\n    for (int x=0;x&lt;8;++x){\n        JLabel l = new JLabel(new ImageIcon(image));\n        imagePanel.add(l);\n    }\n    \n    JScrollPane scrollPane = new JScrollPane(mainPanel, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n    \n    JFrame frame = new JFrame();\n    frame.add(scrollPane);\n    //frame.add(imagePanel); //This will work as i intended it to be, but there is no vertical scroll\n    frame.pack();\n    frame.setVisible(true);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Edit:</p>\n<p>A visual example is shown below. When the frame resizes, the images get cropped, what I would like instead are for the images within the JScrollPane to resize so that it could all fit horizontally, while at the same time maintaining the vertical scroll.</p>\n<p><a href=\"https://i.stack.imgur.com/X9euo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9euo.png\" alt=\"cropped images\" /></a></p>\n<p>Edit2:</p>\n<p>Using <a href=\"http://www.camick.com/java/source/StretchIcon.java\" rel=\"nofollow noreferrer\">StretchIcon</a>, I was able to achieve having the images resize dynamically, but this introduced another issue where there are huge spaces in between the images as I resize.</p>\n<p><a href=\"https://i.stack.imgur.com/oso7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oso7N.png\" alt=\"large gaps\" /></a></p>\n"},{"tags":["java","unit-testing","testing","junit","junit5"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1665774110,"post_id":74073502,"comment_id":130784830,"body_markdown":"You have implemented all the functionality inside `main` method of the class, how do you plan to apply unit testing here??","body":"You have implemented all the functionality inside <code>main</code> method of the class, how do you plan to apply unit testing here??"},{"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"score":0,"creation_date":1665959033,"post_id":74073502,"comment_id":130815426,"body_markdown":"So because of the way I have the program setup I am unable to test it as is?","body":"So because of the way I have the program setup I am unable to test it as is?"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1665961001,"post_id":74073502,"comment_id":130815665,"body_markdown":"Well, the _currently_ implemented code reads the file by the hardcoded filename, and then rewrites its contents somehow.  So you should be able to implement a test to prepare the file with the hardcoded name, run your program as is, and then re-read the rewritten file and compare its contents to some expected value.  Imho, this is just a waste of time.   An approach to refactor the code similar to Pierre CHARLES&#39; answer is much more appropriate.","body":"Well, the <i>currently</i> implemented code reads the file by the hardcoded filename, and then rewrites its contents somehow.  So you should be able to implement a test to prepare the file with the hardcoded name, run your program as is, and then re-read the rewritten file and compare its contents to some expected value.  Imho, this is just a waste of time.   An approach to refactor the code similar to Pierre CHARLES&#39; answer is much more appropriate."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1665961308,"post_id":74073502,"comment_id":130815718,"body_markdown":"Also, word counts is better to implement using a `Map&lt;String, Integer&gt;` as shown [here](https://stackoverflow.com/a/66920129/13279831)","body":"Also, word counts is better to implement using a <code>Map&lt;String, Integer&gt;</code> as shown <a href=\"https://stackoverflow.com/a/66920129/13279831\">here</a>"},{"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"score":0,"creation_date":1665975929,"post_id":74073502,"comment_id":130817479,"body_markdown":"@NowhereMan thank you so much for that info. I want to mention that hashmaps were never taught or mentioned in my studies which is very interesting. This just saved I dont know how much additional code and was extremely efficient. Now this should make JUnit testing much better. !","body":"@NowhereMan thank you so much for that info. I want to mention that hashmaps were never taught or mentioned in my studies which is very interesting. This just saved I dont know how much additional code and was extremely efficient. Now this should make JUnit testing much better. !"}],"answers":[{"tags":[],"owner":{"account_id":8626582,"reputation":21,"user_id":6459628,"display_name":"Pierre CHARLES"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666059511,"creation_date":1665775364,"answer_id":74073967,"question_id":74073502,"body_markdown":"From what I understand you want to:\r\n\r\n - retrieve each word from a text file and store it in a variable\r\n - retrieve number of occurrences for each word\r\n - sort a word list by number of occurrences\r\n\r\nTo test your code you basically need to put everything in a function that will take a file path as input, and will return the sorted list as output.\r\n\r\nIn your test scenarios you will then be able to reuse your function with multiple text files from which you exactly know the result (very simple text files with very previsible array outcomes)\r\nYou then manually build the array objects that match every file you want to test and call an assert equal function between your function output and the result you manually built. \r\n\r\nYour tests could have an init phase where is will create the text files and a post test phase where it will delete them.\r\n\r\nex: \r\nfor sum(int a, int b){ return a + b;}\r\nwe do: \r\n - assertEqual(sum(3,4),7)\r\n - assertEqual(sum(-1,4),3)\r\n\r\nYou don&#39;t want to recode your functions into your test scenarios, you want to compare your function results with previsible outcomes.","title":"JUnit Test Questions to verify count of words","body":"<p>From what I understand you want to:</p>\n<ul>\n<li>retrieve each word from a text file and store it in a variable</li>\n<li>retrieve number of occurrences for each word</li>\n<li>sort a word list by number of occurrences</li>\n</ul>\n<p>To test your code you basically need to put everything in a function that will take a file path as input, and will return the sorted list as output.</p>\n<p>In your test scenarios you will then be able to reuse your function with multiple text files from which you exactly know the result (very simple text files with very previsible array outcomes)\nYou then manually build the array objects that match every file you want to test and call an assert equal function between your function output and the result you manually built.</p>\n<p>Your tests could have an init phase where is will create the text files and a post test phase where it will delete them.</p>\n<p>ex:\nfor sum(int a, int b){ return a + b;}\nwe do:</p>\n<ul>\n<li>assertEqual(sum(3,4),7)</li>\n<li>assertEqual(sum(-1,4),3)</li>\n</ul>\n<p>You don't want to recode your functions into your test scenarios, you want to compare your function results with previsible outcomes.</p>\n"}],"owner":{"account_id":25632945,"reputation":41,"user_id":19403013,"display_name":"John Hendricks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666059511,"creation_date":1665772690,"question_id":74073502,"body_markdown":"I have been trying to create a test case for JUnit 5 testing but seem to keep hitting a mental road block. Basically I have a program that counts words from a fileInputStream and then sorts them. The test cases that I have come up with would be to verify the counts of several different words but am unsure on how to implement it using JUnit 5. A clip of the code I am trying to test is shown below:\r\n\r\n    public class wordPopulation {\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tFileInputStream findIt = new FileInputStream(&quot;theraven.txt&quot;);\r\n\t\tScanner fileInput = new Scanner(findIt);\r\n\t\t\r\n\t\tArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n\t\tArrayList&lt;Integer&gt; count = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\twhile (fileInput.hasNext()) {\r\n\t\r\n\t\t\tString nextWord = fileInput.next();\r\n\t\r\n\t\t\tif (words.contains(nextWord)) {\r\n\t\t\t\tint index = words.indexOf(nextWord);\r\n\t\t\t\tcount.set(index,  count.get(index)+ 1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\twords.add(nextWord);\r\n\t\t\t\tcount.add(1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfileInput.close();\r\n\t\tfindIt.close();\r\n\r\n\t\tfor (int i = 0; i &lt; words.size(); ++i) {\r\n\t\t\tCollections.sort(count, Collections.reverseOrder());\r\n\t\r\n\t\t\ttry(FileWriter fw = new FileWriter(&quot;theraven.txt&quot;, true);\r\n\t\t\t\t\tBufferedWriter bw = new BufferedWriter(fw);\r\n\t\t\t\t\tPrintWriter out = new PrintWriter(bw)) {\r\n\t\t\t\r\n\t\t\t\tout.println();\r\n\t\t\t\tout.println(words.get(i) + &quot; occurred &quot; + count.get(i) + &quot; times &quot;);\r\n\t\t\t\t\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","title":"JUnit Test Questions to verify count of words","body":"<p>I have been trying to create a test case for JUnit 5 testing but seem to keep hitting a mental road block. Basically I have a program that counts words from a fileInputStream and then sorts them. The test cases that I have come up with would be to verify the counts of several different words but am unsure on how to implement it using JUnit 5. A clip of the code I am trying to test is shown below:</p>\n<pre><code>public class wordPopulation {\n\npublic static void main(String[] args) throws IOException {\n    \n    FileInputStream findIt = new FileInputStream(&quot;theraven.txt&quot;);\n    Scanner fileInput = new Scanner(findIt);\n    \n    ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\n    ArrayList&lt;Integer&gt; count = new ArrayList&lt;Integer&gt;();\n\n    while (fileInput.hasNext()) {\n\n        String nextWord = fileInput.next();\n\n        if (words.contains(nextWord)) {\n            int index = words.indexOf(nextWord);\n            count.set(index,  count.get(index)+ 1);\n        }\n        else {\n            words.add(nextWord);\n            count.add(1);\n        }\n    }\n    \n    fileInput.close();\n    findIt.close();\n\n    for (int i = 0; i &lt; words.size(); ++i) {\n        Collections.sort(count, Collections.reverseOrder());\n\n        try(FileWriter fw = new FileWriter(&quot;theraven.txt&quot;, true);\n                BufferedWriter bw = new BufferedWriter(fw);\n                PrintWriter out = new PrintWriter(bw)) {\n        \n            out.println();\n            out.println(words.get(i) + &quot; occurred &quot; + count.get(i) + &quot; times &quot;);\n            \n        } catch (IOException e) {\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"account_id":1380119,"reputation":674,"user_id":1313320,"display_name":"Christopher Batey"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1433767648,"creation_date":1433767648,"answer_id":30709590,"question_id":30165792,"body_markdown":"Checkout https://github.com/tomakehurst/saboteur which allows you to simulate network issues. Or you can do it your self with iptables.","title":"Is it possible to simulate connection timeout using wiremock tools?","body":"<p>Checkout <a href=\"https://github.com/tomakehurst/saboteur\" rel=\"nofollow\">https://github.com/tomakehurst/saboteur</a> which allows you to simulate network issues. Or you can do it your self with iptables.</p>\n"},{"tags":[],"owner":{"account_id":991044,"reputation":3556,"user_id":1008361,"display_name":"Tom"},"down_vote_count":3,"up_vote_count":14,"is_accepted":true,"score":11,"last_activity_date":1440771324,"creation_date":1440771324,"answer_id":32273162,"question_id":30165792,"body_markdown":"Yes it is possible to do this with WireMock by calling `addDelayBeforeProcessingRequests(300)` against the Java API or posting the following to `http://&lt;host&gt;:&lt;port&gt;/__admin/socket-delay`:\r\n\r\n`{ &quot;milliseconds&quot;: 300 }`\r\n\r\n(Obviously replacing 300 with however many milliseconds you&#39;d like to delay by)","title":"Is it possible to simulate connection timeout using wiremock tools?","body":"<p>Yes it is possible to do this with WireMock by calling <code>addDelayBeforeProcessingRequests(300)</code> against the Java API or posting the following to <code>http://&lt;host&gt;:&lt;port&gt;/__admin/socket-delay</code>:</p>\n\n<p><code>{ \"milliseconds\": 300 }</code></p>\n\n<p>(Obviously replacing 300 with however many milliseconds you'd like to delay by)</p>\n"},{"tags":[],"owner":{"account_id":128226,"reputation":10041,"user_id":325900,"accept_rate":78,"display_name":"DaveyDaveDave"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1581523023,"creation_date":1581523023,"answer_id":60192310,"question_id":30165792,"body_markdown":"It seems that the answer to this question has been &quot;No&quot;, since [version 2.0.8-beta](https://github.com/tomakehurst/wiremock/commit/4040f9d86a6dc741ef16487996a89f6e0ed1b678#diff-d623a4213f1416b3ddf10eba133d2fbahttps://github.com/tomakehurst/wiremock/commit/4040f9d86a6dc741ef16487996a89f6e0ed1b678#diff-d623a4213f1416b3ddf10eba133d2fba).\n\nTom (author of WireMock) explains why [in this GitHub issue](https://github.com/tomakehurst/wiremock/issues/591):\n\n&gt; It&#39;s basically impossible to reliably force connection timeouts in pure Java at the moment.\n&gt;\n&gt;It used to be the case that you could inject a delay before calling `.accept()` on the socket, but that stopped working a while back, I guess due to a change in the implementation internals.\n&gt;\n&gt;My recommendation at the moment would be to use a tool that works at the level of the network stack. `iptables ... -j DROP` type commands will do the trick, or if you want a level of automation over this you can use tools such as https://github.com/tomakehurst/saboteur or https://github.com/alexei-led/pumba.\n\nHe also goes on to explain that just stopping WireMock doesn&#39;t achieve the same thing:\n\n&gt;shutting down WireMock won&#39;t have the same effect - when a port is not being listened on, you get a TCP `RST` (reset) packet back, whereas a connection timeout happens when you get nothing back from the server in the timeout window after your initial `SYN` packet.","title":"Is it possible to simulate connection timeout using wiremock tools?","body":"<p>It seems that the answer to this question has been &quot;No&quot;, since <a href=\"https://github.com/tomakehurst/wiremock/commit/4040f9d86a6dc741ef16487996a89f6e0ed1b678#diff-d623a4213f1416b3ddf10eba133d2fbahttps://github.com/tomakehurst/wiremock/commit/4040f9d86a6dc741ef16487996a89f6e0ed1b678#diff-d623a4213f1416b3ddf10eba133d2fba\" rel=\"noreferrer\">version 2.0.8-beta</a>.</p>\n<p>Tom (author of WireMock) explains why <a href=\"https://github.com/tomakehurst/wiremock/issues/591\" rel=\"noreferrer\">in this GitHub issue</a>:</p>\n<blockquote>\n<p>It's basically impossible to reliably force connection timeouts in pure Java at the moment.</p>\n<p>It used to be the case that you could inject a delay before calling <code>.accept()</code> on the socket, but that stopped working a while back, I guess due to a change in the implementation internals.</p>\n<p>My recommendation at the moment would be to use a tool that works at the level of the network stack. <code>iptables ... -j DROP</code> type commands will do the trick, or if you want a level of automation over this you can use tools such as <a href=\"https://github.com/tomakehurst/saboteur\" rel=\"noreferrer\">https://github.com/tomakehurst/saboteur</a> or <a href=\"https://github.com/alexei-led/pumba\" rel=\"noreferrer\">https://github.com/alexei-led/pumba</a>.</p>\n</blockquote>\n<p>He also goes on to explain that just stopping WireMock doesn't achieve the same thing:</p>\n<blockquote>\n<p>shutting down WireMock won't have the same effect - when a port is not being listened on, you get a TCP <code>RST</code> (reset) packet back, whereas a connection timeout happens when you get nothing back from the server in the timeout window after your initial <code>SYN</code> packet.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":93586,"reputation":9505,"user_id":255966,"accept_rate":64,"display_name":"Stef Heyenrath"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1581671924,"creation_date":1581671924,"answer_id":60223318,"question_id":30165792,"body_markdown":"When using [WireMock.Net](https://github.com/WireMock-Net/WireMock.Net/wiki/Stubbing#simulating-delays), adding a delay is also possible.\r\n\r\n\r\nExample:\r\n``` c#\r\nvar server = WireMockServer.Start();\r\n\r\n// add a delay of 30 seconds for all requests\r\nserver.AddRequestProcessingDelay(TimeSpan.FromSeconds(30));\r\n```\r\n\r\nor\r\n\r\n``` c#\r\nvar server = WireMockServer.Start();\r\nserver\r\n  .Given(Request.Create().WithPath(&quot;/slow&quot;))\r\n  .RespondWith(\r\n    Responses.Create()\r\n      .WithStatusCode(200)\r\n      .WithBody(@&quot;{ &quot;&quot;msg&quot;&quot;: &quot;&quot;Hello I&#39;m a little bit slow!&quot;&quot; }&quot;)\r\n      .WithDelay(TimeSpan.FromSeconds(10)\r\n  )\r\n);\r\n```","title":"Is it possible to simulate connection timeout using wiremock tools?","body":"<p>When using <a href=\"https://github.com/WireMock-Net/WireMock.Net/wiki/Stubbing#simulating-delays\" rel=\"nofollow noreferrer\">WireMock.Net</a>, adding a delay is also possible.</p>\n\n<p>Example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var server = WireMockServer.Start();\n\n// add a delay of 30 seconds for all requests\nserver.AddRequestProcessingDelay(TimeSpan.FromSeconds(30));\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var server = WireMockServer.Start();\nserver\n  .Given(Request.Create().WithPath(\"/slow\"))\n  .RespondWith(\n    Responses.Create()\n      .WithStatusCode(200)\n      .WithBody(@\"{ \"\"msg\"\": \"\"Hello I'm a little bit slow!\"\" }\")\n      .WithDelay(TimeSpan.FromSeconds(10)\n  )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666059352,"creation_date":1666059352,"answer_id":74104963,"question_id":30165792,"body_markdown":"The following code mock a get call to /service-url where it returns only after the duration specified.\r\n\r\n    import static com.github.tomakehurst.wiremock.client.WireMock.*;\r\n    import static com.github.tomakehurst.wiremock.client.WireMock.urlPathEqualTo;\r\n    import com.github.tomakehurst.wiremock.client.ResponseDefinitionBuilder;\r\n    import java.time.Duration;\r\n    import static java.lang.Math.toIntExact;\r\n    \r\n    void mockServiceUrlWithDelay(Duration delay) throws JSONException {\r\n            ResponseDefinitionBuilder jsonResponse = aResponse()\r\n                    .withStatus(200)\r\n                    .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n                    .withBody(new JSONObject() \r\n                            .put(&quot;key&quot;, &quot;value&quot;) \r\n                            .toString())\r\n                    .withFixedDelay(toIntExact(delay.toMillis()));\r\n            stubFor(get(urlPathEqualTo(&quot;/service-url&quot;)).willReturn(jsonResponse));\r\n        }\r\n\r\n\r\n","title":"Is it possible to simulate connection timeout using wiremock tools?","body":"<p>The following code mock a get call to /service-url where it returns only after the duration specified.</p>\n<pre><code>import static com.github.tomakehurst.wiremock.client.WireMock.*;\nimport static com.github.tomakehurst.wiremock.client.WireMock.urlPathEqualTo;\nimport com.github.tomakehurst.wiremock.client.ResponseDefinitionBuilder;\nimport java.time.Duration;\nimport static java.lang.Math.toIntExact;\n\nvoid mockServiceUrlWithDelay(Duration delay) throws JSONException {\n        ResponseDefinitionBuilder jsonResponse = aResponse()\n                .withStatus(200)\n                .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n                .withBody(new JSONObject() \n                        .put(&quot;key&quot;, &quot;value&quot;) \n                        .toString())\n                .withFixedDelay(toIntExact(delay.toMillis()));\n        stubFor(get(urlPathEqualTo(&quot;/service-url&quot;)).willReturn(jsonResponse));\n    }\n</code></pre>\n"}],"owner":{"account_id":4689971,"reputation":2478,"user_id":3796338,"accept_rate":70,"display_name":"Developer87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28259,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":32273162,"answer_count":5,"score":25,"last_activity_date":1666059352,"creation_date":1431341522,"question_id":30165792,"body_markdown":"I know that it can simulate `SocketTimeoutException` by using `withFixedDelay`, but what about `ConnectionTimeoutException`?","title":"Is it possible to simulate connection timeout using wiremock tools?","body":"<p>I know that it can simulate <code>SocketTimeoutException</code> by using <code>withFixedDelay</code>, but what about <code>ConnectionTimeoutException</code>?</p>\n"},{"tags":["java","merge","hashmap"],"comments":[{"owner":{"account_id":5886216,"reputation":191,"user_id":4634154,"display_name":"Melike Ttkn"},"score":0,"creation_date":1425510138,"post_id":28866085,"comment_id":45998394,"body_markdown":"ı rewrite wanted result hashmap more clearly as {banana=6, apple=9+2, pear=3} if more than one hashmaps have same keys, results will be sum of values . if other hashmaps hasnt got same key, value wont change and all keys in all hashmaps  will be in result hashmaps with their values","body":"ı rewrite wanted result hashmap more clearly as {banana=6, apple=9+2, pear=3} if more than one hashmaps have same keys, results will be sum of values . if other hashmaps hasnt got same key, value wont change and all keys in all hashmaps  will be in result hashmaps with their values"},{"owner":{"account_id":452524,"reputation":6471,"user_id":5029266,"accept_rate":86,"display_name":"EugZol"},"score":0,"creation_date":1564483107,"post_id":28866085,"comment_id":101037660,"body_markdown":"I love how each subsequent answer becomes longer and longer and Java experts communicate that they are better versions of the corresponding previous ones. Nice example to start learning the language and its community :)","body":"I love how each subsequent answer becomes longer and longer and Java experts communicate that they are better versions of the corresponding previous ones. Nice example to start learning the language and its community :)"}],"answers":[{"tags":[],"owner":{"account_id":2485432,"reputation":3514,"user_id":2163927,"accept_rate":93,"display_name":"Petro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425509787,"creation_date":1425507566,"answer_id":28866205,"question_id":28866085,"body_markdown":"Something like this should work:\r\n\r\n     for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n        String map1_key = entry.getKey();\r\n        int map1_value = entry.getValue();\r\n       \r\n        //check:\r\n        if(map2.get(map1_key)!=null){\r\n        int map2_value = map2.get(map1_key);\r\n        //merge:\r\n        map3.put(map1_key,map1_value+map2_value);\r\n        }else{\r\n        map3.put(map1_key,map1_value);\r\n        }\r\n    }\r\n \r\n\r\n      for (Map.Entry&lt;String, Integer&gt; entry2 : map2.entrySet()) {\r\n            String map2_key = entry2.getKey();\r\n            int map2_value = entry2.getValue();\r\n           \r\n            //check:\r\n            if(map1.get(map2_key)!=null){\r\n            int map1_value = map1.get(map2_key);\r\n            //merge:\r\n            map3.put(map2_key,map1_value+map2_value);\r\n            }else{\r\n            map3.put(map2_key,map2_value);\r\n            }\r\n        }","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>Something like this should work:</p>\n\n<pre><code> for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n    String map1_key = entry.getKey();\n    int map1_value = entry.getValue();\n\n    //check:\n    if(map2.get(map1_key)!=null){\n    int map2_value = map2.get(map1_key);\n    //merge:\n    map3.put(map1_key,map1_value+map2_value);\n    }else{\n    map3.put(map1_key,map1_value);\n    }\n}\n\n\n  for (Map.Entry&lt;String, Integer&gt; entry2 : map2.entrySet()) {\n        String map2_key = entry2.getKey();\n        int map2_value = entry2.getValue();\n\n        //check:\n        if(map1.get(map2_key)!=null){\n        int map1_value = map1.get(map2_key);\n        //merge:\n        map3.put(map2_key,map1_value+map2_value);\n        }else{\n        map3.put(map2_key,map2_value);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2320195,"reputation":3379,"user_id":2036161,"accept_rate":52,"display_name":"ventsyv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425508425,"creation_date":1425508102,"answer_id":28866349,"question_id":28866085,"body_markdown":"If the key exists, add to it&#39;s value. If not insert.\r\n\r\nHere is a simple example which merges one map into another:\r\n\r\n    Foo oldVal = map.get(key);\r\n    if oldVal == null\r\n    {\r\n       map2.put(key, newVal);\r\n    }\r\n    else\r\n    {\r\n       map2.put(key, newVal + oldVal);\r\n    }\r\n\r\n  Obviously you have to loop over the first map so you can process all of it&#39;s entries but that&#39;s trivial.","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>If the key exists, add to it's value. If not insert.</p>\n\n<p>Here is a simple example which merges one map into another:</p>\n\n<pre><code>Foo oldVal = map.get(key);\nif oldVal == null\n{\n   map2.put(key, newVal);\n}\nelse\n{\n   map2.put(key, newVal + oldVal);\n}\n</code></pre>\n\n<p>Obviously you have to loop over the first map so you can process all of it's entries but that's trivial.</p>\n"},{"tags":[],"owner":{"account_id":2150734,"reputation":1049,"user_id":1907186,"display_name":"Lucas Ross"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425510621,"creation_date":1425509974,"answer_id":28866756,"question_id":28866085,"body_markdown":"This method should do it (in Java 5+)\r\n\r\n    public static &lt;K&gt; Map&lt;K, Integer&gt; mergeAndAdd(Map&lt;K, Integer&gt;... maps) {\r\n        Map&lt;K, Integer&gt; result = new HashMap&lt;&gt;();\r\n        for (Map&lt;K, Integer&gt; map : maps) {\r\n            for (Map.Entry&lt;K, Integer&gt; entry : map.entrySet()) {\r\n                K key = entry.getKey();\r\n                Integer current = result.get(key);\r\n                result.put(key, current == null ? entry.getValue() : entry.getValue() + current);\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>This method should do it (in Java 5+)</p>\n\n<pre><code>public static &lt;K&gt; Map&lt;K, Integer&gt; mergeAndAdd(Map&lt;K, Integer&gt;... maps) {\n    Map&lt;K, Integer&gt; result = new HashMap&lt;&gt;();\n    for (Map&lt;K, Integer&gt; map : maps) {\n        for (Map.Entry&lt;K, Integer&gt; entry : map.entrySet()) {\n            K key = entry.getKey();\n            Integer current = result.get(key);\n            result.put(key, current == null ? entry.getValue() : entry.getValue() + current);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1425510147,"creation_date":1425510147,"answer_id":28866795,"question_id":28866085,"body_markdown":"If you are using Java 8, you can use the new [merge][1] method of Map.\r\n\r\n    m2.forEach((k, v) -&gt; m.merge(k, v, (v1, v2) -&gt; v1 + v2));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>If you are using Java 8, you can use the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\">merge</a> method of Map.</p>\n\n<pre><code>m2.forEach((k, v) -&gt; m.merge(k, v, (v1, v2) -&gt; v1 + v2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1425513339,"creation_date":1425510327,"answer_id":28866838,"question_id":28866085,"body_markdown":"This is a very nice use case for Java 8 streams. You can concatentate the streams of entries and then collect them in a new map:\r\n\r\n    Map&lt;String, Integer&gt; combinedMap = Stream.concat(m1.entrySet().stream(), m2.entrySet().stream())\r\n        .collect(Collectors.groupingBy(Map.Entry::getKey,\r\n                 Collectors.summingInt(Map.Entry::getValue)));\r\n\r\nThere are lots of nice things about this solution, including being able to make it parallel, expanding to as many maps as you want and being able to trivial filter the maps if required. It also does not require the orginal maps to be mutable.","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>This is a very nice use case for Java 8 streams. You can concatentate the streams of entries and then collect them in a new map:</p>\n\n<pre><code>Map&lt;String, Integer&gt; combinedMap = Stream.concat(m1.entrySet().stream(), m2.entrySet().stream())\n    .collect(Collectors.groupingBy(Map.Entry::getKey,\n             Collectors.summingInt(Map.Entry::getValue)));\n</code></pre>\n\n<p>There are lots of nice things about this solution, including being able to make it parallel, expanding to as many maps as you want and being able to trivial filter the maps if required. It also does not require the orginal maps to be mutable.</p>\n"},{"tags":[],"owner":{"account_id":1065971,"reputation":1683,"user_id":1066531,"accept_rate":57,"display_name":"Zymus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425544196,"creation_date":1425510592,"answer_id":28866910,"question_id":28866085,"body_markdown":"Here&#39;s my quick and dirty implementation:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class MapMerger {\r\n    \r\n        public static void main(String[] args) {\r\n            HashMap&lt;String, Integer&gt; m = new HashMap&lt;&gt;();\r\n            HashMap&lt;String, Integer&gt; m2 = new HashMap&lt;&gt;();\r\n    \r\n            m.put(&quot;apple&quot;, 2);\r\n            m.put(&quot;pear&quot;, 3);\r\n            m2.put(&quot;apple&quot;, 9);\r\n            m2.put(&quot;banana&quot;, 6);\r\n    \r\n            final Map&lt;String, Integer&gt; result = (new MapMerger()).mergeSumOfMaps(m, m2);\r\n            System.out.println(result);\r\n        }\r\n    \r\n        public Map&lt;String, Integer&gt; mergeSumOfMaps(Map&lt;String, Integer&gt;... maps) {\r\n            final Map&lt;String, Integer&gt; resultMap = new HashMap&lt;&gt;();\r\n            for (final Map&lt;String, Integer&gt; map : maps) {\r\n                for (final String key : map.keySet()) {\r\n                    final int value;\r\n                    if (resultMap.containsKey(key)) {\r\n                        final int existingValue = resultMap.get(key);\r\n                        value = map.get(key) + existingValue;\r\n                    }\r\n                    else {\r\n                        value = map.get(key);\r\n                    }\r\n                    resultMap.put(key, value);\r\n                }\r\n            }\r\n            return resultMap;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    {banana=6, apple=11, pear=3}\r\n\r\nThere are some things you should do (like null checking), and I&#39;m not sure if it&#39;s the fastest. Also, this is specific to integers. I attempted to make one using generics of the `Number` class, but you&#39;d need this method for each type (byte, int, short, longer, etc)","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>Here's my quick and dirty implementation:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class MapMerger {\n\n    public static void main(String[] args) {\n        HashMap&lt;String, Integer&gt; m = new HashMap&lt;&gt;();\n        HashMap&lt;String, Integer&gt; m2 = new HashMap&lt;&gt;();\n\n        m.put(\"apple\", 2);\n        m.put(\"pear\", 3);\n        m2.put(\"apple\", 9);\n        m2.put(\"banana\", 6);\n\n        final Map&lt;String, Integer&gt; result = (new MapMerger()).mergeSumOfMaps(m, m2);\n        System.out.println(result);\n    }\n\n    public Map&lt;String, Integer&gt; mergeSumOfMaps(Map&lt;String, Integer&gt;... maps) {\n        final Map&lt;String, Integer&gt; resultMap = new HashMap&lt;&gt;();\n        for (final Map&lt;String, Integer&gt; map : maps) {\n            for (final String key : map.keySet()) {\n                final int value;\n                if (resultMap.containsKey(key)) {\n                    final int existingValue = resultMap.get(key);\n                    value = map.get(key) + existingValue;\n                }\n                else {\n                    value = map.get(key);\n                }\n                resultMap.put(key, value);\n            }\n        }\n        return resultMap;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{banana=6, apple=11, pear=3}\n</code></pre>\n\n<p>There are some things you should do (like null checking), and I'm not sure if it's the fastest. Also, this is specific to integers. I attempted to make one using generics of the <code>Number</code> class, but you'd need this method for each type (byte, int, short, longer, etc)</p>\n"},{"tags":[],"owner":{"account_id":5886216,"reputation":191,"user_id":4634154,"display_name":"Melike Ttkn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425546360,"creation_date":1425546360,"answer_id":28873811,"question_id":28866085,"body_markdown":"ı improve Lucas Ross&#39;s code. in stead of enter map by one by in function ı give all maps one times to function with arraylist of hashmap like that \r\n\r\n        public HashMap&lt;String, Integer&gt; mergeAndAdd(ArrayList&lt;HashMap&lt;String, Integer&gt;&gt; maplist) {\r\n        HashMap&lt;String, Integer&gt; result = new HashMap&lt;&gt;();\r\n        for (HashMap&lt;String, Integer&gt; map : maplist) {\r\n            for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n                String key = entry.getKey();\r\n                Integer current = result.get(key);\r\n                result.put(key, current == null ? entry.getValue() : entry.getValue() + current);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\nit works too. thanks to everbody ","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>ı improve Lucas Ross's code. in stead of enter map by one by in function ı give all maps one times to function with arraylist of hashmap like that </p>\n\n<pre><code>    public HashMap&lt;String, Integer&gt; mergeAndAdd(ArrayList&lt;HashMap&lt;String, Integer&gt;&gt; maplist) {\n    HashMap&lt;String, Integer&gt; result = new HashMap&lt;&gt;();\n    for (HashMap&lt;String, Integer&gt; map : maplist) {\n        for (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n            String key = entry.getKey();\n            Integer current = result.get(key);\n            result.put(key, current == null ? entry.getValue() : entry.getValue() + current);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>it works too. thanks to everbody </p>\n"},{"tags":[],"owner":{"account_id":11344158,"reputation":121,"user_id":8317158,"display_name":"Nano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666058357,"creation_date":1558668941,"answer_id":56285510,"question_id":28866085,"body_markdown":"\r\nAssume that you have many HashMaps: ` Map&lt;String,Integer&gt; map1, map2, map3;` \r\n\r\nThen you can use Java 8 streams:\r\n\r\n```\r\nMap&lt;String,Integer&gt; combinedMap = Stream.of(map1, map2, map3)\r\n                .flatMap(map -&gt; map.entrySet().stream())\r\n                .collect(Collectors.groupingBy(Map.Entry::getKey,\r\n                        Collectors.summingInt(Map.Entry::getValue)));\r\n```\r\n","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>Assume that you have many HashMaps: <code> Map&lt;String,Integer&gt; map1, map2, map3;</code></p>\n<p>Then you can use Java 8 streams:</p>\n<pre><code>Map&lt;String,Integer&gt; combinedMap = Stream.of(map1, map2, map3)\n                .flatMap(map -&gt; map.entrySet().stream())\n                .collect(Collectors.groupingBy(Map.Entry::getKey,\n                        Collectors.summingInt(Map.Entry::getValue)));\n</code></pre>\n"}],"owner":{"account_id":5886216,"reputation":191,"user_id":4634154,"display_name":"Melike Ttkn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17710,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":8,"score":18,"last_activity_date":1666058357,"creation_date":1425507186,"question_id":28866085,"body_markdown":"ı am trying to merge more than one hashmaps also sum the values of same key, \r\nı want to explain my problem with toy example as follows\r\n\r\n        HashMap&lt;String, Integer&gt; m = new HashMap&lt;&gt;();\r\n        HashMap&lt;String, Integer&gt; m2 = new HashMap&lt;&gt;();\r\n\r\n        m.put(&quot;apple&quot;, 2);\r\n        m.put(&quot;pear&quot;, 3);\r\n        m2.put(&quot;apple&quot;, 9);\r\n        m2.put(&quot;banana&quot;, 6);\r\n\r\nı tried putall \r\n\r\nm.putAll(m2);\r\n\r\noutput is as follows\r\n{banana=6, apple=9, pear=3}\r\n\r\nbut its result is not true for this problem.\r\nı want to output as\r\n\r\n{banana=6, apple=11, pear=3}\r\n\r\nhow can ı get this result in java?","title":"how to merge more than one hashmaps also sum the values of same key in java","body":"<p>ı am trying to merge more than one hashmaps also sum the values of same key, \nı want to explain my problem with toy example as follows</p>\n\n<pre><code>    HashMap&lt;String, Integer&gt; m = new HashMap&lt;&gt;();\n    HashMap&lt;String, Integer&gt; m2 = new HashMap&lt;&gt;();\n\n    m.put(\"apple\", 2);\n    m.put(\"pear\", 3);\n    m2.put(\"apple\", 9);\n    m2.put(\"banana\", 6);\n</code></pre>\n\n<p>ı tried putall </p>\n\n<p>m.putAll(m2);</p>\n\n<p>output is as follows\n{banana=6, apple=9, pear=3}</p>\n\n<p>but its result is not true for this problem.\nı want to output as</p>\n\n<p>{banana=6, apple=11, pear=3}</p>\n\n<p>how can ı get this result in java?</p>\n"},{"tags":["java","spring","spring-boot","amazon-s3","postman"],"comments":[{"owner":{"account_id":5921631,"reputation":11,"user_id":4658804,"display_name":"Rohit Sehgal"},"score":0,"creation_date":1666058656,"post_id":74104780,"comment_id":130840243,"body_markdown":"@Khanna111 Do you know why that is or how I could get it to accept requestparam?","body":"@Khanna111 Do you know why that is or how I could get it to accept requestparam?"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":0,"creation_date":1666061939,"post_id":74104780,"comment_id":130840694,"body_markdown":"don&#39;t know. Looks good. Try recompiling code?","body":"don&#39;t know. Looks good. Try recompiling code?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666187339,"post_id":74104780,"comment_id":130876455,"body_markdown":"Is it resolved or you are still facing the issue?","body":"Is it resolved or you are still facing the issue?"}],"owner":{"account_id":5921631,"reputation":11,"user_id":4658804,"display_name":"Rohit Sehgal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666056870,"creation_date":1666056870,"question_id":74104780,"body_markdown":"I am working with Spring boot and postman. My postman request looks like this:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ipB95.png\r\n\r\nAnd my controller method (java):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @PostMapping(\r\n                path = &quot;/saveTodo&quot;,\r\n                consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\r\n                produces = MediaType.APPLICATION_JSON_VALUE\r\n        )\r\n        public ResponseEntity&lt;PloreImage&gt; saveTodo(@RequestParam(&quot;title&quot;) String title,\r\n                                             @RequestParam(&quot;description&quot;) String description,\r\n                                             @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            return new ResponseEntity&lt;&gt;(service.saveTodo(title, description, file), HttpStatus.OK);\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nbut for some reason when I send a form-data request it is not seeing the title, when I sent the title &amp; description as raw json though it sees them but I cannot send the image.\r\n\r\ndoes anyone have any ideas?","title":"Required request parameter &#39;title&#39; for method parameter type String is not present]","body":"<p>I am working with Spring boot and postman. My postman request looks like this:\n<a href=\"https://i.stack.imgur.com/ipB95.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And my controller method (java):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@PostMapping(\n            path = \"/saveTodo\",\n            consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    public ResponseEntity&lt;PloreImage&gt; saveTodo(@RequestParam(\"title\") String title,\n                                         @RequestParam(\"description\") String description,\n                                         @RequestParam(\"file\") MultipartFile file) {\n        return new ResponseEntity&lt;&gt;(service.saveTodo(title, description, file), HttpStatus.OK);\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>but for some reason when I send a form-data request it is not seeing the title, when I sent the title &amp; description as raw json though it sees them but I cannot send the image.</p>\n<p>does anyone have any ideas?</p>\n"},{"tags":["java","spring","spring-boot","getter-setter","lombok"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1588007642,"post_id":61464255,"comment_id":108728306,"body_markdown":"Off course you can use it, but you can also inject it into another class using `@Value(&quot;${url}&quot;)`","body":"Off course you can use it, but you can also inject it into another class using <code>@Value(&quot;${url}&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":12429567,"reputation":21,"user_id":9052729,"display_name":"Carlos M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588007624,"creation_date":1588007624,"answer_id":61464462,"question_id":61464255,"body_markdown":"Of course. Lombok creates the getters and setters, public by default, and therefore they are accessible by any other class using the conventional getter/setter syntax. In this case, you&#39;d just need to invoke the function:\r\n\r\n    yourHelloObject.getUrl()","title":"Spring: @Value with lombok in other class","body":"<p>Of course. Lombok creates the getters and setters, public by default, and therefore they are accessible by any other class using the conventional getter/setter syntax. In this case, you'd just need to invoke the function:</p>\n\n<pre><code>yourHelloObject.getUrl()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588008307,"creation_date":1588008307,"answer_id":61464697,"question_id":61464255,"body_markdown":"Yes, but it still needs to adhere to the rules of autowiring. You need to give Spring&#39;s dependency injection framework a chance to get involved.\r\n\r\nIf you just write\r\n\r\n    Hello hello = new Hello()\r\n    System.out.println(hello.getUrl()); // null\r\n\r\nthen the result will be null.\r\n\r\nBecause objects may be left in a half-initialized state, [field injection is usually not a good idea](https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it).\r\n\r\nThis is nothing to do with Lombok. The object needs to be created by Spring. One way to do that is to make it a component\r\n \r\n    @Component\r\n    @Getter\r\n    @Setter\r\n    class Hello\r\n    {\r\n        @Value(&quot;${url}&quot;)\r\n        private String url;\r\n    }\r\n\r\n    ...\r\n\r\n    @Component\r\n    public class AnotherComponent {\r\n        public AnotherComponent(Hello hello) { //constructor injection\r\n            System.out.println(hello.getUrl()); //not null\r\n        }\r\n    }","title":"Spring: @Value with lombok in other class","body":"<p>Yes, but it still needs to adhere to the rules of autowiring. You need to give Spring's dependency injection framework a chance to get involved.</p>\n\n<p>If you just write</p>\n\n<pre><code>Hello hello = new Hello()\nSystem.out.println(hello.getUrl()); // null\n</code></pre>\n\n<p>then the result will be null.</p>\n\n<p>Because objects may be left in a half-initialized state, <a href=\"https://stackoverflow.com/questions/39890849/what-exactly-is-field-injection-and-how-to-avoid-it\">field injection is usually not a good idea</a>.</p>\n\n<p>This is nothing to do with Lombok. The object needs to be created by Spring. One way to do that is to make it a component</p>\n\n<pre><code>@Component\n@Getter\n@Setter\nclass Hello\n{\n    @Value(\"${url}\")\n    private String url;\n}\n\n...\n\n@Component\npublic class AnotherComponent {\n    public AnotherComponent(Hello hello) { //constructor injection\n        System.out.println(hello.getUrl()); //not null\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666056534,"creation_date":1666056534,"answer_id":74104755,"question_id":61464255,"body_markdown":"&gt; Note: If you&#39;re here from a search engine trying to figure out how to do this on immutable classes via copying the annotation to the constructor, be aware that you cannot until [this feature][3] is reopened and resolved or [this one][4] is.\r\n\r\nSo long as you&#39;re not trying to use immutable objects and constructor injection this should &quot;just work&quot; as is. From your example it looks like you&#39;re not doing that but you may have simplified it for StackOverflow (as you should!) but done so slightly too much.\r\n\r\nYou can try this, add a value to the [`lombok.copyableAnnotations`][1] entry in the [`lombok.config`][2] file for this to work. Note the `+=` as opposed to `=`.\r\n\r\n```\r\nlombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\r\n```\r\n\r\n[1]: https://projectlombok.org/features/GetterSetter\r\n[2]: https://projectlombok.org/features/configuration\r\n[3]: https://github.com/projectlombok/lombok/issues/1335\r\n[4]: https://github.com/projectlombok/lombok/issues/1528","title":"Spring: @Value with lombok in other class","body":"<blockquote>\n<p>Note: If you're here from a search engine trying to figure out how to do this on immutable classes via copying the annotation to the constructor, be aware that you cannot until <a href=\"https://github.com/projectlombok/lombok/issues/1335\" rel=\"nofollow noreferrer\">this feature</a> is reopened and resolved or <a href=\"https://github.com/projectlombok/lombok/issues/1528\" rel=\"nofollow noreferrer\">this one</a> is.</p>\n</blockquote>\n<p>So long as you're not trying to use immutable objects and constructor injection this should &quot;just work&quot; as is. From your example it looks like you're not doing that but you may have simplified it for StackOverflow (as you should!) but done so slightly too much.</p>\n<p>You can try this, add a value to the <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\"><code>lombok.copyableAnnotations</code></a> entry in the <a href=\"https://projectlombok.org/features/configuration\" rel=\"nofollow noreferrer\"><code>lombok.config</code></a> file for this to work. Note the <code>+=</code> as opposed to <code>=</code>.</p>\n<pre><code>lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\n</code></pre>\n"}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666056534,"creation_date":1588006875,"question_id":61464255,"body_markdown":"Can we use @Value with lombok?\r\n\r\nI created a class below \r\n\r\n    @Getter\r\n    @Setter\r\n    class Hello\r\n    {\r\n    \r\n        @Value(&quot;${url}&quot;)\r\n        private String url;\r\n    \r\n    }\r\n\r\nIs it possible to  reuse the String url value in other class,Using lombok getters and setters?","title":"Spring: @Value with lombok in other class","body":"<p>Can we use @Value with lombok?</p>\n\n<p>I created a class below </p>\n\n<pre><code>@Getter\n@Setter\nclass Hello\n{\n\n    @Value(\"${url}\")\n    private String url;\n\n}\n</code></pre>\n\n<p>Is it possible to  reuse the String url value in other class,Using lombok getters and setters?</p>\n"},{"tags":["java","arrays","sorting"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452222166,"creation_date":1452221308,"answer_id":34668691,"question_id":34668681,"body_markdown":"This\r\n\r\n    if(array[i] &lt; array[0]) {\r\n\r\nshould be\r\n\r\n    if(array[i] &lt; min) {\r\n\r\n**or** you could use [`Math.min(int, int)`](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-int-int-) like\r\n\r\n    min = Math.min(array[i], min);\r\n\r\nwithout an `if` at all.\r\n\r\n**Also**, in `indexOfTheSmallestStartingFrom`\r\n\r\n    if(array[i] &lt; array[index]) {\r\n\r\nshould be\r\n\r\n    if(array[i] &lt; array[ind]) {\r\n","title":"Sorting an array from smallest to largest in Java","body":"<p>This</p>\n\n<pre><code>if(array[i] &lt; array[0]) {\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if(array[i] &lt; min) {\n</code></pre>\n\n<p><strong>or</strong> you could use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#min-int-int-\" rel=\"nofollow\"><code>Math.min(int, int)</code></a> like</p>\n\n<pre><code>min = Math.min(array[i], min);\n</code></pre>\n\n<p>without an <code>if</code> at all.</p>\n\n<p><strong>Also</strong>, in <code>indexOfTheSmallestStartingFrom</code></p>\n\n<pre><code>if(array[i] &lt; array[index]) {\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if(array[i] &lt; array[ind]) {\n</code></pre>\n"}],"owner":{"account_id":7495732,"reputation":123,"user_id":5696071,"display_name":"Rob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34668691,"answer_count":1,"score":0,"last_activity_date":1666055989,"creation_date":1452221218,"question_id":34668681,"body_markdown":"I am trying to sort an array according to [example 104.5](http://mooc.cs.helsinki.fi/programming-part1/material-2013/week-6?noredirect=1). It asks you to sort an array from smallest to largest. I&#39;ve thoroughly scoured through my program several times, but I can&#39;t spot my error. Here&#39;s the code from my sorting class:\r\n\r\n    import java.util.Arrays;\r\n    public class Sorting {\r\n        public static int smallest(int[] array) {\r\n            int min = array[0];\r\n            for(int i = 0; i &lt; array.length; i++){\r\n                if(array[i] &lt; array[0]) {\r\n                    min = array[i];\r\n                }\r\n            }\r\n            return min;\r\n        }\r\n    \r\n        public static int indexOfTheSmallest(int[] array) {\r\n            int ind = array[0];\r\n            for(int i = 0; i &lt; array.length; i++){\r\n                if(array[i] &lt; array[0]) {\r\n                    ind = i;\r\n                }\r\n            }\r\n            return ind;\r\n        }\r\n    \r\n        public static int indexOfTheSmallestStartingFrom(int[] array, int index) {\r\n            int ind = index;\r\n            for(int i = index; i &lt; array.length; i++){\r\n                if(array[i] &lt; array[index]) {\r\n                    ind = i;\r\n                }\r\n            }\r\n            return ind;\r\n        }\r\n    \r\n        public static void swap(int[] array, int index1, int index2) {\r\n            int stor = array[index1];\r\n            array[index1] = array[index2];\r\n            array[index2] = stor;\r\n        }\r\n    \r\n        public static void sort(int[] array) {\r\n            int indSmall;\r\n            System.out.println(Arrays.toString(array));\r\n            for(int i = 0; i &lt; array.length; i++) {\r\n                indSmall = indexOfTheSmallestStartingFrom(array, i);\r\n                swap(array, indSmall, i);\r\n                System.out.println(Arrays.toString(array));\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the code I am running:\r\n\r\n    int[] values = {8, 3, 7, 9, 1, 2, 4};\r\n            Sorting.sort(values);\r\n\r\nIt should output:\r\n\r\n    [8, 3, 7, 9, 1, 2, 4]\r\n    [1, 3, 7, 9, 8, 2, 4]\r\n    [1, 2, 7, 9, 8, 3, 4]\r\n    [1, 2, 3, 9, 8, 7, 4]\r\n    [1, 2, 3, 4, 8, 7, 9]\r\n    [1, 2, 3, 4, 7, 8, 9]\r\n    [1, 2, 3, 4, 7, 8, 9]\r\n\r\nBut instead it is outputting:\r\n\r\n    [8, 3, 7, 9, 1, 2, 4]\r\n    [4, 3, 7, 9, 1, 2, 8]\r\n    [4, 2, 7, 9, 1, 3, 8]\r\n    [4, 2, 3, 9, 1, 7, 8]\r\n    [4, 2, 3, 8, 1, 7, 9]\r\n    [4, 2, 3, 8, 1, 7, 9]\r\n    [4, 2, 3, 8, 1, 7, 9]\r\n    [4, 2, 3, 8, 1, 7, 9]\r\n","title":"Sorting an array from smallest to largest in Java","body":"<p>I am trying to sort an array according to <a href=\"http://mooc.cs.helsinki.fi/programming-part1/material-2013/week-6?noredirect=1\" rel=\"nofollow noreferrer\">example 104.5</a>. It asks you to sort an array from smallest to largest. I've thoroughly scoured through my program several times, but I can't spot my error. Here's the code from my sorting class:</p>\n<pre><code>import java.util.Arrays;\npublic class Sorting {\n    public static int smallest(int[] array) {\n        int min = array[0];\n        for(int i = 0; i &lt; array.length; i++){\n            if(array[i] &lt; array[0]) {\n                min = array[i];\n            }\n        }\n        return min;\n    }\n\n    public static int indexOfTheSmallest(int[] array) {\n        int ind = array[0];\n        for(int i = 0; i &lt; array.length; i++){\n            if(array[i] &lt; array[0]) {\n                ind = i;\n            }\n        }\n        return ind;\n    }\n\n    public static int indexOfTheSmallestStartingFrom(int[] array, int index) {\n        int ind = index;\n        for(int i = index; i &lt; array.length; i++){\n            if(array[i] &lt; array[index]) {\n                ind = i;\n            }\n        }\n        return ind;\n    }\n\n    public static void swap(int[] array, int index1, int index2) {\n        int stor = array[index1];\n        array[index1] = array[index2];\n        array[index2] = stor;\n    }\n\n    public static void sort(int[] array) {\n        int indSmall;\n        System.out.println(Arrays.toString(array));\n        for(int i = 0; i &lt; array.length; i++) {\n            indSmall = indexOfTheSmallestStartingFrom(array, i);\n            swap(array, indSmall, i);\n            System.out.println(Arrays.toString(array));\n        }\n    }\n}\n</code></pre>\n<p>And here's the code I am running:</p>\n<pre><code>int[] values = {8, 3, 7, 9, 1, 2, 4};\n        Sorting.sort(values);\n</code></pre>\n<p>It should output:</p>\n<pre><code>[8, 3, 7, 9, 1, 2, 4]\n[1, 3, 7, 9, 8, 2, 4]\n[1, 2, 7, 9, 8, 3, 4]\n[1, 2, 3, 9, 8, 7, 4]\n[1, 2, 3, 4, 8, 7, 9]\n[1, 2, 3, 4, 7, 8, 9]\n[1, 2, 3, 4, 7, 8, 9]\n</code></pre>\n<p>But instead it is outputting:</p>\n<pre><code>[8, 3, 7, 9, 1, 2, 4]\n[4, 3, 7, 9, 1, 2, 8]\n[4, 2, 7, 9, 1, 3, 8]\n[4, 2, 3, 9, 1, 7, 8]\n[4, 2, 3, 8, 1, 7, 9]\n[4, 2, 3, 8, 1, 7, 9]\n[4, 2, 3, 8, 1, 7, 9]\n[4, 2, 3, 8, 1, 7, 9]\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1666032203,"post_id":74101665,"comment_id":130834659,"body_markdown":"Do you get any exceptions?","body":"Do you get any exceptions?"},{"owner":{"account_id":25120436,"reputation":21,"user_id":18968849,"display_name":"l_moser"},"score":0,"creation_date":1666034327,"post_id":74101665,"comment_id":130835259,"body_markdown":"No, nothing shows up in the console. This is a screenshot of what happens\nhttps://imgur.com/SewQl8S","body":"No, nothing shows up in the console. This is a screenshot of what happens <a href=\"https://imgur.com/SewQl8S\" rel=\"nofollow noreferrer\">imgur.com/SewQl8S</a>"},{"owner":{"account_id":25120436,"reputation":21,"user_id":18968849,"display_name":"l_moser"},"score":0,"creation_date":1666042510,"post_id":74101665,"comment_id":130837599,"body_markdown":"Unfortunately that did not fix my issue after replacing the == with .equals(), I have updated my code to include comments to try and clear things up. I appreciate you trying to help and if you have any other suggestions I appreciate it.","body":"Unfortunately that did not fix my issue after replacing the == with .equals(), I have updated my code to include comments to try and clear things up. I appreciate you trying to help and if you have any other suggestions I appreciate it."},{"owner":{"account_id":10751443,"reputation":347,"user_id":7910725,"display_name":"Mabadai"},"score":0,"creation_date":1666042823,"post_id":74101665,"comment_id":130837686,"body_markdown":"What is this? no modular arithmetic and a big one mess.","body":"What is this? no modular arithmetic and a big one mess."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666043674,"creation_date":1666043674,"answer_id":74103651,"question_id":74101665,"body_markdown":"&gt; [...] but for some reason filling up the board playing as x freezes the whole program.\r\n\r\nThe problem is the `while` loop you have:\r\n\r\n    int choice = rand.nextInt(9);\r\n    JButton src = buttons[choice];\r\n    while(!src.getText().equals(&quot;&quot;)){\r\n        choice = rand.nextInt(9);\r\n        src = buttons[choice];\r\n    }\r\n\r\nThis will pick a random free button. But you are entering this `while` loop when the game is complete, specially when there is no winner (a draw). This means that you are trying to find a free button, but there is none. So your event handler for the `JButton` get stuck inside the `while()` loop, blocking the whole GUI thread.\r\n\r\nYou must not find a next move for the computer player, when the board is completely filled.","title":"Why does my tic-tac-toe program freeze when I play as X and the board fills up","body":"<blockquote>\n<p>[...] but for some reason filling up the board playing as x freezes the whole program.</p>\n</blockquote>\n<p>The problem is the <code>while</code> loop you have:</p>\n<pre><code>int choice = rand.nextInt(9);\nJButton src = buttons[choice];\nwhile(!src.getText().equals(&quot;&quot;)){\n    choice = rand.nextInt(9);\n    src = buttons[choice];\n}\n</code></pre>\n<p>This will pick a random free button. But you are entering this <code>while</code> loop when the game is complete, specially when there is no winner (a draw). This means that you are trying to find a free button, but there is none. So your event handler for the <code>JButton</code> get stuck inside the <code>while()</code> loop, blocking the whole GUI thread.</p>\n<p>You must not find a next move for the computer player, when the board is completely filled.</p>\n"}],"owner":{"account_id":25120436,"reputation":21,"user_id":18968849,"display_name":"l_moser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74103651,"answer_count":1,"score":1,"last_activity_date":1666052456,"creation_date":1666031597,"question_id":74101665,"body_markdown":"I am making a tic-tac-toe Java application using Swing for the GUI. My game functions properly when I play as O, but if I choose X and the game board fills up the program freezes without ever filling in the last box and displaying either the win or tie message. I have to close the program from the IDE when it freezes. The game logic is below would appreciate any feedback.\r\n\r\n``` @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        //Checking which button is pressed to assign player to X or O.\r\n        if(e.getSource() == X){\r\n            player1 = &quot;X&quot;;\r\n            computer = &quot;O&quot;;\r\n            playerTurn = true;\r\n            board.setVisible(true);\r\n        } else if(e.getSource() == O){\r\n            player1 = &quot;O&quot;;\r\n            computer = &quot;X&quot;;\r\n            playerTurn = false;\r\n            board.setVisible(true);\r\n        }\r\n        //After player chooses which to play as, this will check to see which value should go in the button based on whose turn it is.\r\n        else{\r\n            JButton src = (JButton) e.getSource();\r\n            if(playerTurn) {\r\n                src.setText(player1);\r\n                winCheck(player1);\r\n                tieCheck();\r\n            }\r\n            else{\r\n                src.setText(computer);\r\n            }\r\n            //Changing player turn from false to true or vice versa at the end of each turn\r\n            playerTurn = !playerTurn;\r\n        }\r\n        //Gets rid of the input panel once the player chooses X or O.\r\n        if(!player1.equals(&quot;&quot;)){\r\n            inputPanel.setVisible(false);\r\n        }\r\n        //Computer turn logic\r\n        if(!playerTurn){\r\n            int choice = rand.nextInt(9);\r\n            JButton src = buttons[choice];\r\n            while(!src.getText().equals(&quot;&quot;)){\r\n                choice = rand.nextInt(9);\r\n                src = buttons[choice];\r\n            }\r\n            src.setText(computer);\r\n            winCheck(computer);\r\n            tieCheck();\r\n            playerTurn = !playerTurn;\r\n        }\r\n        //After there is a winner, either create a new game window or close the window and end the program\r\n        if(hasWinner){\r\n            if(e.getSource() == X){\r\n                new Moser_Problem1();\r\n                frame.dispose();\r\n            } else if(e.getSource() == O){\r\n                frame.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void winCheck(String player) {\r\n        //All possible winning combos for tic-tac-toe board.\r\n        if(buttons[0].getText().equals(player) &amp;&amp; buttons[1].getText().equals(player) &amp;&amp; buttons[2].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else if(buttons[3].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[5].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else if(buttons[6].getText().equals(player) &amp;&amp; buttons[7].getText().equals(player) &amp;&amp; buttons[8].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else if(buttons[0].getText().equals(player) &amp;&amp; buttons[3].getText().equals(player) &amp;&amp; buttons[6].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else if(buttons[1].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[7].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else if(buttons[2].getText().equals(player) &amp;&amp; buttons[5].getText().equals(player) &amp;&amp; buttons[8].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else if(buttons[0].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[8].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else if(buttons[6].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[2].getText().equals(player)){\r\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            hasWinner = true;\r\n        } else{\r\n            hasWinner = false;\r\n        }\r\n    }\r\n    public  void tieCheck(){\r\n        //Checks for a tie by adding getting the text from each box and making sure none are empty.\r\n        //If one is empty, nothing will happen, but if there are no empty spaces will print out a tie message.\r\n        boolean hasEmptySpot = false;\r\n        for (JButton button : buttons) {\r\n            String check = button.getText();\r\n            if (check.equals(&quot;&quot;)) {\r\n                hasEmptySpot = true;\r\n            }\r\n        }\r\n        if(!hasEmptySpot){\r\n            xOro.setText(&quot;It&#39;s a tie!\\n Would you like to play again?&quot;);\r\n            X.setText(&quot;Yes&quot;);\r\n            O.setText(&quot;No&quot;);\r\n            player1 = &quot;&quot;;\r\n            inputPanel.setVisible(true);\r\n            hasWinner = true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nThere are no exceptions or errors when the program runs, but for some reason filling up the board playing as x freezes the whole program.","title":"Why does my tic-tac-toe program freeze when I play as X and the board fills up","body":"<p>I am making a tic-tac-toe Java application using Swing for the GUI. My game functions properly when I play as O, but if I choose X and the game board fills up the program freezes without ever filling in the last box and displaying either the win or tie message. I have to close the program from the IDE when it freezes. The game logic is below would appreciate any feedback.</p>\n<pre><code>    public void actionPerformed(ActionEvent e) {\n        //Checking which button is pressed to assign player to X or O.\n        if(e.getSource() == X){\n            player1 = &quot;X&quot;;\n            computer = &quot;O&quot;;\n            playerTurn = true;\n            board.setVisible(true);\n        } else if(e.getSource() == O){\n            player1 = &quot;O&quot;;\n            computer = &quot;X&quot;;\n            playerTurn = false;\n            board.setVisible(true);\n        }\n        //After player chooses which to play as, this will check to see which value should go in the button based on whose turn it is.\n        else{\n            JButton src = (JButton) e.getSource();\n            if(playerTurn) {\n                src.setText(player1);\n                winCheck(player1);\n                tieCheck();\n            }\n            else{\n                src.setText(computer);\n            }\n            //Changing player turn from false to true or vice versa at the end of each turn\n            playerTurn = !playerTurn;\n        }\n        //Gets rid of the input panel once the player chooses X or O.\n        if(!player1.equals(&quot;&quot;)){\n            inputPanel.setVisible(false);\n        }\n        //Computer turn logic\n        if(!playerTurn){\n            int choice = rand.nextInt(9);\n            JButton src = buttons[choice];\n            while(!src.getText().equals(&quot;&quot;)){\n                choice = rand.nextInt(9);\n                src = buttons[choice];\n            }\n            src.setText(computer);\n            winCheck(computer);\n            tieCheck();\n            playerTurn = !playerTurn;\n        }\n        //After there is a winner, either create a new game window or close the window and end the program\n        if(hasWinner){\n            if(e.getSource() == X){\n                new Moser_Problem1();\n                frame.dispose();\n            } else if(e.getSource() == O){\n                frame.dispose();\n            }\n        }\n    }\n\n    public void winCheck(String player) {\n        //All possible winning combos for tic-tac-toe board.\n        if(buttons[0].getText().equals(player) &amp;&amp; buttons[1].getText().equals(player) &amp;&amp; buttons[2].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else if(buttons[3].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[5].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else if(buttons[6].getText().equals(player) &amp;&amp; buttons[7].getText().equals(player) &amp;&amp; buttons[8].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else if(buttons[0].getText().equals(player) &amp;&amp; buttons[3].getText().equals(player) &amp;&amp; buttons[6].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else if(buttons[1].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[7].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else if(buttons[2].getText().equals(player) &amp;&amp; buttons[5].getText().equals(player) &amp;&amp; buttons[8].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else if(buttons[0].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[8].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else if(buttons[6].getText().equals(player) &amp;&amp; buttons[4].getText().equals(player) &amp;&amp; buttons[2].getText().equals(player)){\n            xOro.setText(player + &quot; wins!\\n Do you want to play again?&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            hasWinner = true;\n        } else{\n            hasWinner = false;\n        }\n    }\n    public  void tieCheck(){\n        //Checks for a tie by adding getting the text from each box and making sure none are empty.\n        //If one is empty, nothing will happen, but if there are no empty spaces will print out a tie message.\n        boolean hasEmptySpot = false;\n        for (JButton button : buttons) {\n            String check = button.getText();\n            if (check.equals(&quot;&quot;)) {\n                hasEmptySpot = true;\n            }\n        }\n        if(!hasEmptySpot){\n            xOro.setText(&quot;It's a tie!\\n Would you like to play again?&quot;);\n            X.setText(&quot;Yes&quot;);\n            O.setText(&quot;No&quot;);\n            player1 = &quot;&quot;;\n            inputPanel.setVisible(true);\n            hasWinner = true;\n        }\n    }\n}\n\n\n\n</code></pre>\n<p>There are no exceptions or errors when the program runs, but for some reason filling up the board playing as x freezes the whole program.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":1,"creation_date":1666012702,"post_id":74090659,"comment_id":130827529,"body_markdown":"It&#39;s not clear what you are trying to do. For one, if something happens in onClick, you should add the code of that onClick.","body":"It&#39;s not clear what you are trying to do. For one, if something happens in onClick, you should add the code of that onClick."},{"owner":{"account_id":26102223,"reputation":1,"user_id":19817377,"display_name":"onurbcougo"},"score":0,"creation_date":1666051863,"post_id":74090659,"comment_id":130839289,"body_markdown":"I updated my question with the rest of the code.","body":"I updated my question with the rest of the code."}],"owner":{"account_id":26102223,"reputation":1,"user_id":19817377,"display_name":"onurbcougo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666051818,"creation_date":1665953790,"question_id":74090659,"body_markdown":"I&#39;m developing a music player to use on my smartphone and it has this error, I&#39;ve searched for solutions and tested it in my code but nothing solves it or leaves me with even more errors.\r\n\r\nI tested the app on my smartphone and it starts and it finds the files through the function of reading external storage, but it closes as soon as I click to play a song.\r\n\r\n```\r\n@Override\r\n    public void onBindViewHolder( MusicListAdapter.ViewHolder holder, int position) {\r\n        AudioModel songData = songsList.get(position);\r\n        holder.titleTextView.setText(songData.getTitle());\r\n\r\n        if(MyMediaPlayer.currentIndex == position){\r\n            holder.titleTextView.setTextColor(Color.parseColor(&quot;#FF0000&quot;));\r\n        }else {\r\n\r\n        }\r\n\r\nholder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //navigate to another acitivty\r\n\r\n                MyMediaPlayer.getInstance().reset();\r\n                MyMediaPlayer.currentIndex = position;\r\n                Intent intent = new Intent(context,MusicPlayerActivity.class);\r\n                intent.putExtra(&quot;LIST&quot;,songsList);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                context.startActivity(intent);\r\n\r\n```\r\n\r\nI already tried replacing with &quot;holder.getAdapterPosition();&quot; or adapt it to my code but I haven&#39;t found a way to make it work, I believe the method I&#39;m using is correct but I still don&#39;t understand what I did wrong.","title":"How do I resolve this &quot;Do not treat position as fixed; only use immediately and call `holder.getAdapterPosition()` to look it up later&quot; error?","body":"<p>I'm developing a music player to use on my smartphone and it has this error, I've searched for solutions and tested it in my code but nothing solves it or leaves me with even more errors.</p>\n<p>I tested the app on my smartphone and it starts and it finds the files through the function of reading external storage, but it closes as soon as I click to play a song.</p>\n<pre><code>@Override\n    public void onBindViewHolder( MusicListAdapter.ViewHolder holder, int position) {\n        AudioModel songData = songsList.get(position);\n        holder.titleTextView.setText(songData.getTitle());\n\n        if(MyMediaPlayer.currentIndex == position){\n            holder.titleTextView.setTextColor(Color.parseColor(&quot;#FF0000&quot;));\n        }else {\n\n        }\n\nholder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //navigate to another acitivty\n\n                MyMediaPlayer.getInstance().reset();\n                MyMediaPlayer.currentIndex = position;\n                Intent intent = new Intent(context,MusicPlayerActivity.class);\n                intent.putExtra(&quot;LIST&quot;,songsList);\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                context.startActivity(intent);\n\n</code></pre>\n<p>I already tried replacing with &quot;holder.getAdapterPosition();&quot; or adapt it to my code but I haven't found a way to make it work, I believe the method I'm using is correct but I still don't understand what I did wrong.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":5,"creation_date":1666049918,"post_id":74104191,"comment_id":130839018,"body_markdown":"The short answer is that there is only one object, but a given class only knows how to access some of its attributes. The detailed answer is that you can play around with https://github.com/openjdk/jol to learn *exactly* how it works.","body":"The short answer is that there is only one object, but a given class only knows how to access some of its attributes. The detailed answer is that you can play around with <a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">github.com/openjdk/jol</a> to learn <i>exactly</i> how it works."}],"answers":[{"tags":[],"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1666050497,"creation_date":1666050497,"answer_id":74104286,"question_id":74104191,"body_markdown":"Java always creates only one object when you create a new instance of any class, regardless of how many other classes it extends.\r\n\r\nWhen the object is being instantiated, it contains all of the public and private fields but they are all available only in their specific scope.\r\n\r\nIf you need to know more about how the object is being stored in memory, here&#39;s an example:\r\n\r\n    class A {\r\n        private boolean attribute;\r\n    }\r\n\r\n    class B extends A {\r\n        private boolean attribute;\r\n    }\r\n    B inst = new B();\r\n\r\nIn this case, `inst` will be a single object which contains both private fields - one can be accessed only inside A, the other - only inside B. JVM does not store fields by their names - fields are just a section of memory and JVM handles them separately.\r\n\r\nIf you want to know more about the inner representation of your class, I highly suggest Java Object Layout tool (https://github.com/openjdk/jol) or related extension for IntelliJ Idea (https://github.com/stokito/IdeaJol). In case of this example, it shows that resulting class looks like this in memory:\r\n\r\n    Instance size 24 Losses total 10 Losses internal 3 Losses external 7\r\n    Offset  Size  Type     Class  Field\r\n    0       12                    (object header)\r\n    12      1     boolean  A      attribute    &lt; private field of A\r\n    13      3                     (alignment/padding)\r\n    16      1     boolean  B      attribute    &lt; private field of B\r\n    17      7                     (loss due to the next object)\r\n\r\n","title":"Does Java inheritance create a hidden parent object?","body":"<p>Java always creates only one object when you create a new instance of any class, regardless of how many other classes it extends.</p>\n<p>When the object is being instantiated, it contains all of the public and private fields but they are all available only in their specific scope.</p>\n<p>If you need to know more about how the object is being stored in memory, here's an example:</p>\n<pre><code>class A {\n    private boolean attribute;\n}\n\nclass B extends A {\n    private boolean attribute;\n}\nB inst = new B();\n</code></pre>\n<p>In this case, <code>inst</code> will be a single object which contains both private fields - one can be accessed only inside A, the other - only inside B. JVM does not store fields by their names - fields are just a section of memory and JVM handles them separately.</p>\n<p>If you want to know more about the inner representation of your class, I highly suggest Java Object Layout tool (<a href=\"https://github.com/openjdk/jol\" rel=\"noreferrer\">https://github.com/openjdk/jol</a>) or related extension for IntelliJ Idea (<a href=\"https://github.com/stokito/IdeaJol\" rel=\"noreferrer\">https://github.com/stokito/IdeaJol</a>). In case of this example, it shows that resulting class looks like this in memory:</p>\n<pre><code>Instance size 24 Losses total 10 Losses internal 3 Losses external 7\nOffset  Size  Type     Class  Field\n0       12                    (object header)\n12      1     boolean  A      attribute    &lt; private field of A\n13      3                     (alignment/padding)\n16      1     boolean  B      attribute    &lt; private field of B\n17      7                     (loss due to the next object)\n</code></pre>\n"}],"owner":{"account_id":17468176,"reputation":163,"user_id":12664527,"display_name":"User"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666050497,"creation_date":1666049091,"question_id":74104191,"body_markdown":"In multiple explanations, it is explained that only one object is created during inheritance. However, during inheritance from a superclass, a subclass does not inherit its parent&#39;s private attributes. \r\n\r\nHowever, when a subclass calls its parents non-static getter method, it clearly is taking the value from some parent object, not a class. Then it seems that when you create a subclass object, a superclass object is also created that stores those private attributes. \r\n\r\nThen are there essentially two copies of inherited methods and attributes? For example, if a superclass object A has a subclass object B. Then inside B there is both a super.attribute and a this.attribute because a hidden A object is also created?\r\nHow then do constructors know the difference between attributes? For example, A has a constructor that sets a public attribute to 4. B then calls that constructor and sets the same attribute to 5. But B inherits that attribute as well, no? So does it get reset to 4? Or does the super.attribute = 4 and this.attribute = 5? Thus an attributes&#39; value isn&#39;t inherited, but its existence is?","title":"Does Java inheritance create a hidden parent object?","body":"<p>In multiple explanations, it is explained that only one object is created during inheritance. However, during inheritance from a superclass, a subclass does not inherit its parent's private attributes.</p>\n<p>However, when a subclass calls its parents non-static getter method, it clearly is taking the value from some parent object, not a class. Then it seems that when you create a subclass object, a superclass object is also created that stores those private attributes.</p>\n<p>Then are there essentially two copies of inherited methods and attributes? For example, if a superclass object A has a subclass object B. Then inside B there is both a super.attribute and a this.attribute because a hidden A object is also created?\nHow then do constructors know the difference between attributes? For example, A has a constructor that sets a public attribute to 4. B then calls that constructor and sets the same attribute to 5. But B inherits that attribute as well, no? So does it get reset to 4? Or does the super.attribute = 4 and this.attribute = 5? Thus an attributes' value isn't inherited, but its existence is?</p>\n"},{"tags":["java","null"],"comments":[{"owner":{"account_id":18302804,"reputation":176,"user_id":13327203,"display_name":"Sandip"},"score":0,"creation_date":1665919300,"post_id":74086629,"comment_id":130807310,"body_markdown":"Show all your imports please, we don&#39;t know where does Cipher come from, is it `import javax.crypto.Cipher;`?","body":"Show all your imports please, we don&#39;t know where does Cipher come from, is it <code>import javax.crypto.Cipher;</code>?"},{"owner":{"account_id":22592597,"reputation":15,"user_id":16775476,"display_name":"Kıvan&#231;"},"score":0,"creation_date":1665919426,"post_id":74086629,"comment_id":130807329,"body_markdown":"I didnt use any imports besides the scanner. The cipher class is right under the main method.","body":"I didnt use any imports besides the scanner. The cipher class is right under the main method."},{"owner":{"account_id":18302804,"reputation":176,"user_id":13327203,"display_name":"Sandip"},"score":0,"creation_date":1665919618,"post_id":74086629,"comment_id":130807355,"body_markdown":"Oh sorry I didn&#39;t see that it had code below","body":"Oh sorry I didn&#39;t see that it had code below"}],"answers":[{"tags":[],"owner":{"account_id":26642945,"reputation":76,"user_id":20258316,"display_name":"Uran Lajci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665961131,"creation_date":1665961131,"answer_id":74091215,"question_id":74086629,"body_markdown":"This method is returning null because the output instance variable in the Cipher class is not instantiated so it has the null value (String variables in Java have a null value when they are not instantiated). All you should do is this change:\r\n\r\npublic String output = &quot;&quot;;","title":"method returns null along with a part of the output","body":"<p>This method is returning null because the output instance variable in the Cipher class is not instantiated so it has the null value (String variables in Java have a null value when they are not instantiated). All you should do is this change:</p>\n<p>public String output = &quot;&quot;;</p>\n"},{"tags":[],"owner":{"account_id":26642945,"reputation":76,"user_id":20258316,"display_name":"Uran Lajci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666050375,"creation_date":1666050375,"answer_id":74104277,"question_id":74086629,"body_markdown":"Change the Cipher class to this\r\n\r\n    class Cipher {\r\n      public String encryptedText;\r\n      public int limit;\r\n      public char chr;\r\n      public String plainTxt;\r\n\r\n      public Cipher() {\r\n        encryptedText = &quot;&quot;;\r\n        limit = 0;\r\n      }\r\n\r\n      public String shifter() {\r\n        shiftCharacter();\r\n        limit += 1;\r\n        encryptedText += chr;\r\n        if (limit == plainTxt.length())\r\n            return encryptedText;\r\n        else\r\n            shifter();\r\n        return encryptedText;\r\n      }\r\n\r\n      public void shiftCharacter() {\r\n        if (plainTxt.charAt(limit) == &#39;z&#39; || plainTxt.charAt(limit) == &#39;y&#39;)\r\n            chr = (char) ((int) plainTxt.charAt(limit) - 23);\r\n        else if (plainTxt.charAt(limit) == &#39;x&#39;)\r\n            chr = (char) ((int) plainTxt.charAt(limit) - 23);\r\n        else\r\n            chr = (char) ((int) plainTxt.charAt(limit) + 3);\r\n      } \r\n    }\r\n\r\nThe changed the if(limit == 11) condition to if (limit == plainTxt.length()). Also I initialized the encrypted text in the default constructor.","title":"method returns null along with a part of the output","body":"<p>Change the Cipher class to this</p>\n<pre><code>class Cipher {\n  public String encryptedText;\n  public int limit;\n  public char chr;\n  public String plainTxt;\n\n  public Cipher() {\n    encryptedText = &quot;&quot;;\n    limit = 0;\n  }\n\n  public String shifter() {\n    shiftCharacter();\n    limit += 1;\n    encryptedText += chr;\n    if (limit == plainTxt.length())\n        return encryptedText;\n    else\n        shifter();\n    return encryptedText;\n  }\n\n  public void shiftCharacter() {\n    if (plainTxt.charAt(limit) == 'z' || plainTxt.charAt(limit) == 'y')\n        chr = (char) ((int) plainTxt.charAt(limit) - 23);\n    else if (plainTxt.charAt(limit) == 'x')\n        chr = (char) ((int) plainTxt.charAt(limit) - 23);\n    else\n        chr = (char) ((int) plainTxt.charAt(limit) + 3);\n  } \n}\n</code></pre>\n<p>The changed the if(limit == 11) condition to if (limit == plainTxt.length()). Also I initialized the encrypted text in the default constructor.</p>\n"}],"owner":{"account_id":22592597,"reputation":15,"user_id":16775476,"display_name":"Kıvan&#231;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74091215,"answer_count":2,"score":0,"last_activity_date":1666050375,"creation_date":1665918887,"question_id":74086629,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class test\r\n    {\r\n    \tpublic static String plainTxt;\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the word you want to encrypt: &quot;);\r\n    \t\t\r\n    \t\tString word1 = scan.next();\r\n    \t\tString word2 = scan.next();\r\n    \t\tString word3 = scan.next();\r\n    \t\t\r\n    \t\tplainTxt = word1 + word2 + word3; \r\n    \t\t\r\n    \t\tCipher cipher = new Cipher();\r\n    \t\t\r\n    \t\tcipher.plainTxt1 = plainTxt;\r\n    \t\t\r\n    \t\tString cryptTxt = cipher.shifter();\r\n    \t\t\r\n    \t\tSystem.out.println(cryptTxt.substring(0, word1.length()) + &quot; &quot; + cryptTxt.substring(word1.length(), word1.length() + word2.length()) + &quot; &quot; +\r\n    \t\t\t\t   cryptTxt.substring(word1.length() + word2.length(), plainTxt.length()));\r\n    \t\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    class Cipher\r\n    {\r\n    \tpublic String output;\r\n    \tpublic int limit = 0;\r\n    \tpublic char chr;\r\n    \tpublic String plainTxt1;\r\n    \t\r\n    \tpublic Cipher()\r\n    \t{\r\n    \t\tlimit = 0;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String shifter()\r\n    \t{\r\n    \t\tif(plainTxt1.charAt(limit) == &#39;z&#39; || plainTxt1.charAt(limit) == &#39;y&#39;)\r\n    \t\t\tchr = (char)((int)plainTxt1.charAt(limit) - 23);\r\n    \t\telse if(plainTxt1.charAt(limit) == &#39;x&#39;)\r\n    \t\t\tchr = (char)((int)plainTxt1.charAt(limit) - 23);\r\n    \t\telse \r\n    \t\t\tchr = (char)((int)plainTxt1.charAt(limit) + 3);\t\r\n    \r\n    \t\tlimit += 1;\r\n    \t\t\r\n    \t\toutput += chr;\r\n    \t\t\r\n    \t\tif(limit == 11)\r\n    \t\t\treturn output;\r\n    \t\telse\r\n    \t\t\tshifter();\r\n    \t\t\r\n    \t\treturn output;\r\n    \t}\r\n    }\r\n\r\nhello\r\nIm a beginner and this was an alternative solution to a homework question I have. Ill not be using this solution as an answer but Im still curious if there is a way to use a recursive function as a loop to caeser cypher a given 14 character input. for context a caeser cypher is an algorithm where shift the input characters by a given amount to the right or left. For this one we shift 3 character to the right. My main question is why does the code above return null along with the first 8 characters of the output excluding whitespaces? ","title":"method returns null along with a part of the output","body":"<pre><code>import java.util.Scanner;\n\npublic class test\n{\n    public static String plainTxt;\n    \n    public static void main(String[] args)\n    {\n        \n        Scanner scan = new Scanner(System.in);\n\n        \n        System.out.print(&quot;Enter the word you want to encrypt: &quot;);\n        \n        String word1 = scan.next();\n        String word2 = scan.next();\n        String word3 = scan.next();\n        \n        plainTxt = word1 + word2 + word3; \n        \n        Cipher cipher = new Cipher();\n        \n        cipher.plainTxt1 = plainTxt;\n        \n        String cryptTxt = cipher.shifter();\n        \n        System.out.println(cryptTxt.substring(0, word1.length()) + &quot; &quot; + cryptTxt.substring(word1.length(), word1.length() + word2.length()) + &quot; &quot; +\n                   cryptTxt.substring(word1.length() + word2.length(), plainTxt.length()));\n    \n    }\n}\n\n\n\n\nclass Cipher\n{\n    public String output;\n    public int limit = 0;\n    public char chr;\n    public String plainTxt1;\n    \n    public Cipher()\n    {\n        limit = 0;\n    }\n    \n    \n    public String shifter()\n    {\n        if(plainTxt1.charAt(limit) == 'z' || plainTxt1.charAt(limit) == 'y')\n            chr = (char)((int)plainTxt1.charAt(limit) - 23);\n        else if(plainTxt1.charAt(limit) == 'x')\n            chr = (char)((int)plainTxt1.charAt(limit) - 23);\n        else \n            chr = (char)((int)plainTxt1.charAt(limit) + 3); \n\n        limit += 1;\n        \n        output += chr;\n        \n        if(limit == 11)\n            return output;\n        else\n            shifter();\n        \n        return output;\n    }\n}\n</code></pre>\n<p>hello\nIm a beginner and this was an alternative solution to a homework question I have. Ill not be using this solution as an answer but Im still curious if there is a way to use a recursive function as a loop to caeser cypher a given 14 character input. for context a caeser cypher is an algorithm where shift the input characters by a given amount to the right or left. For this one we shift 3 character to the right. My main question is why does the code above return null along with the first 8 characters of the output excluding whitespaces?</p>\n"},{"tags":["macos","java","netbeans","ant","swing"],"comments":[{"owner":{"account_id":55240,"reputation":1069,"user_id":165358,"display_name":"harrymc"},"score":0,"creation_date":1665850583,"post_id":74081916,"comment_id":130798997,"body_markdown":"Why are you not asking this on the Apache NetBeans forum?","body":"Why are you not asking this on the Apache NetBeans forum?"},{"owner":{"account_id":19142130,"reputation":1,"user_id":20213774,"display_name":"Bryan351018"},"score":0,"creation_date":1665851426,"post_id":74081916,"comment_id":130798998,"body_markdown":"Because Apache NetBeans doesn&#39;t have an official forum, and this issue seems to be system-specific (I have seen people put menu bars on their computers, and they were fine).","body":"Because Apache NetBeans doesn&#39;t have an official forum, and this issue seems to be system-specific (I have seen people put menu bars on their computers, and they were fine)."}],"answers":[{"tags":[],"owner":{"account_id":19142130,"reputation":1,"user_id":20213774,"display_name":"Bryan351018"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666050063,"creation_date":1666050063,"answer_id":74104259,"question_id":74081916,"body_markdown":"# Answer\r\nGo to `Options -&gt; Appearance -&gt; Look and Feel`, and change the `Preferred Look and Feel` to `Mac OS X`, then restart Apache NetBeans.\r\n\r\n# Comment on this answer\r\nThis is a solution, but it seems like a temporary one, as the bright colors of this look and feel are not very peaceful to human eyes.\r\n","title":"Apache NetBeans&#39; GUI designer for JFrame forms throws exception when adding a swing menu bar","body":"<h1>Answer</h1>\n<p>Go to <code>Options -&gt; Appearance -&gt; Look and Feel</code>, and change the <code>Preferred Look and Feel</code> to <code>Mac OS X</code>, then restart Apache NetBeans.</p>\n<h1>Comment on this answer</h1>\n<p>This is a solution, but it seems like a temporary one, as the bright colors of this look and feel are not very peaceful to human eyes.</p>\n"}],"owner":{"account_id":19142130,"reputation":1,"user_id":20213774,"display_name":"Bryan351018"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666050063,"creation_date":1665845429,"question_id":74081916,"body_markdown":"# Background\r\nRecently, I created a new NetBeans project using `New project -&gt; Java with Ant -&gt; Java Application`, and subsequently created a new jFrame form, by right-clicking the package icon ([here&#39;s what it looks like][1]), then selected `New -&gt; JFrame form`. After that, I started adding swing components from the `Palette` tab.\r\n\r\n# Issue\r\nWhen I tried to add a `Menu Bar` under `Swing Menus`, the component was added to the frame. However, a stacktrace was printed directly onto the entire frame, making it impossible to see any components on the frame.\r\nThe stacktrace reads:\r\n```\r\nThe following exception has been thrown during painting of the form. Use the Navigator window to fix or remove\r\nthe problematic component.\r\njava.lang.NullPointerException: Cannot invoke &quot;javax.swing.border.Border.paintBorder(java.awt.Component,\r\njava.awt.Graphics, int, int, int, int)&quot; because the return value of &quot;com.apple.laf.AquaMenuPainter $RecyclableBorder.get(&quot; is\r\nnull\r\nat java.desktop/com.apple.laf.AquaMenuPainter.paintMenuBarBackground(AquaMenuPainter.java:149)\r\nat java.desktop/com.apple.laf.AquaMenuBarUl.paint(AquaMenuBarUl.java:88)\r\nat java.desktop/javax.swing.plaf.ComponentUl.update(ComponentUl.java:161)\r\nat java.desktop/javax.swing.JComponent.paintComponent(Component.java:852)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1128)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/javax.swing.JLayeredPane.paint(LayeredPane.java:586)\r\nat java.desktop/javax.swing.jComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/java.awt.GraphicsCallback$PaintCallback.run(GraphicsCallback.java:39)\r\nat java.desktop/sun.awt.SunGraphicsCallback.runOneComponent(SunGraphicsCallback.java:75)\r\nat java.desktop/sun.awt.SunGraphicsCallback.runComponents(SunGraphicsCallback.java:112)\r\nat java.desktop/java.awt.Container.paint(Container.java:2005)\r\natorg.netbeans.modules.form.fakepeer.FakePeerContainer.paint(FakePeerContainer.java:64)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:975)\r\nat java.desktop/javax.swing.JComponent.paintUComponent.java:1137)\r\nat org.netbeans.modules.form.ComponentLayer$DesignerPanel.paint(ComponentLayer.java:165)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/javax.swing.JComponent.paintChildrenUComponent.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat org.netbeans.modules.form.FormDesigner$1.paintChildren(FormDesigner.java:195)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/javax.swing.JLayeredPane.paint(LayeredPane.java:586)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paintUComponent.java:1137)\r\nat java.desktop/javax.swing.JViewport.paint(Viewport.java:736)\r\nat java.desktop/javax.swing.jComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\natjava.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat java.desktop/javax.swing.JLayer.paint(Layer.java:476)\r\nat java.desktop/javax.swing.plaf.LayerUl.paint(LayerUl.java:85)\r\nat org.netbeans.core.multiview.SplitLayerUl.paint(SplitLayerUl.java:134)\r\nat java.desktop/javax.swing.plaf.ComponentUl.update(ComponentUl.java:161)\r\nat java.desktop/javax.swing.JComponent.paintComponent(Component.java:852)\r\nat java.desktop/javax.swing.JLayer.paint(Layer.java:471)\r\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\r\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\r\nat iava.desktop/iavax.swina.IComponent.paintChildren(IComponent.iava:961)\r\n```\r\nThere may be more lines in the stacktrace, but when I tried to scroll down (so that the menu bar was no longer visible on the `Design` tab), the stacktrace disappears and all other components appeared. When I scroll back up, the stacktrace reappears and all other components disappeared again.\r\nHere&#39;s [what it looks like][2] (the highlighted orange component is the menu bar).\r\n\r\n# Previous Investigations\r\nI have previously searched other related problems, including:\r\n\r\n - [This post on Stack Overflow][3]\r\n - [This post on GitHub][4]\r\n - [This post on Oracle Communities][5]\r\n\r\nUnfortunately, no solutions that I can find worked to solve the issue.\r\n\r\n# System Information\r\nHere is my system information according to NetBeans `About` menu item:\r\n```\r\nProduct Version: Apache NetBeans IDE 15\r\nJava: 18.0.2.1; Java HotSpot (TM) 64-Bit Server VM 18.0.2.1+1-1\r\nRuntime: Java(M) SE Runtime Environment 18.0.2.1+1-1\r\nSystem: Mac OS X version 12.4 running on x86_64; UTF-8; en_CN (nb)\r\nUser directory: /Users/bryan351018/Library/Application Support/NetBeans/15\r\nCache directory: /Users/bryan351018/Library/Caches/NetBeans/15\r\n```\r\nAnd here is the output of `java --version` on the command line:\r\n```\r\njava 18.0.2.1 2022-08-18\r\nJava(TM) SE Runtime Environment (build 18.0.2.1+1-1)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oIqrC.png\r\n  [2]: https://i.stack.imgur.com/t8aXc.jpg\r\n  [3]: https://stackoverflow.com/questions/23201030/what-is-a-look-and-feel-that-is-compatible-with-mac\r\n  [4]: https://github.com/Col-E/Recaf/issues/36\r\n  [5]: https://community.oracle.com/tech/developers/discussion/1366496/execption-has-been-thrown-during-painting-of-the-form/p2","title":"Apache NetBeans&#39; GUI designer for JFrame forms throws exception when adding a swing menu bar","body":"<h1>Background</h1>\n<p>Recently, I created a new NetBeans project using <code>New project -&gt; Java with Ant -&gt; Java Application</code>, and subsequently created a new jFrame form, by right-clicking the package icon (<a href=\"https://i.stack.imgur.com/oIqrC.png\" rel=\"nofollow noreferrer\">here's what it looks like</a>), then selected <code>New -&gt; JFrame form</code>. After that, I started adding swing components from the <code>Palette</code> tab.</p>\n<h1>Issue</h1>\n<p>When I tried to add a <code>Menu Bar</code> under <code>Swing Menus</code>, the component was added to the frame. However, a stacktrace was printed directly onto the entire frame, making it impossible to see any components on the frame.\nThe stacktrace reads:</p>\n<pre><code>The following exception has been thrown during painting of the form. Use the Navigator window to fix or remove\nthe problematic component.\njava.lang.NullPointerException: Cannot invoke &quot;javax.swing.border.Border.paintBorder(java.awt.Component,\njava.awt.Graphics, int, int, int, int)&quot; because the return value of &quot;com.apple.laf.AquaMenuPainter $RecyclableBorder.get(&quot; is\nnull\nat java.desktop/com.apple.laf.AquaMenuPainter.paintMenuBarBackground(AquaMenuPainter.java:149)\nat java.desktop/com.apple.laf.AquaMenuBarUl.paint(AquaMenuBarUl.java:88)\nat java.desktop/javax.swing.plaf.ComponentUl.update(ComponentUl.java:161)\nat java.desktop/javax.swing.JComponent.paintComponent(Component.java:852)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1128)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/javax.swing.JLayeredPane.paint(LayeredPane.java:586)\nat java.desktop/javax.swing.jComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/java.awt.GraphicsCallback$PaintCallback.run(GraphicsCallback.java:39)\nat java.desktop/sun.awt.SunGraphicsCallback.runOneComponent(SunGraphicsCallback.java:75)\nat java.desktop/sun.awt.SunGraphicsCallback.runComponents(SunGraphicsCallback.java:112)\nat java.desktop/java.awt.Container.paint(Container.java:2005)\natorg.netbeans.modules.form.fakepeer.FakePeerContainer.paint(FakePeerContainer.java:64)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:975)\nat java.desktop/javax.swing.JComponent.paintUComponent.java:1137)\nat org.netbeans.modules.form.ComponentLayer$DesignerPanel.paint(ComponentLayer.java:165)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/javax.swing.JComponent.paintChildrenUComponent.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat org.netbeans.modules.form.FormDesigner$1.paintChildren(FormDesigner.java:195)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/javax.swing.JLayeredPane.paint(LayeredPane.java:586)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paintUComponent.java:1137)\nat java.desktop/javax.swing.JViewport.paint(Viewport.java:736)\nat java.desktop/javax.swing.jComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\natjava.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat java.desktop/javax.swing.JLayer.paint(Layer.java:476)\nat java.desktop/javax.swing.plaf.LayerUl.paint(LayerUl.java:85)\nat org.netbeans.core.multiview.SplitLayerUl.paint(SplitLayerUl.java:134)\nat java.desktop/javax.swing.plaf.ComponentUl.update(ComponentUl.java:161)\nat java.desktop/javax.swing.JComponent.paintComponent(Component.java:852)\nat java.desktop/javax.swing.JLayer.paint(Layer.java:471)\nat java.desktop/javax.swing.JComponent.paintChildren(Component.java:961)\nat java.desktop/javax.swing.JComponent.paint(Component.java:1137)\nat iava.desktop/iavax.swina.IComponent.paintChildren(IComponent.iava:961)\n</code></pre>\n<p>There may be more lines in the stacktrace, but when I tried to scroll down (so that the menu bar was no longer visible on the <code>Design</code> tab), the stacktrace disappears and all other components appeared. When I scroll back up, the stacktrace reappears and all other components disappeared again.\nHere's <a href=\"https://i.stack.imgur.com/t8aXc.jpg\" rel=\"nofollow noreferrer\">what it looks like</a> (the highlighted orange component is the menu bar).</p>\n<h1>Previous Investigations</h1>\n<p>I have previously searched other related problems, including:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23201030/what-is-a-look-and-feel-that-is-compatible-with-mac\">This post on Stack Overflow</a></li>\n<li><a href=\"https://github.com/Col-E/Recaf/issues/36\" rel=\"nofollow noreferrer\">This post on GitHub</a></li>\n<li><a href=\"https://community.oracle.com/tech/developers/discussion/1366496/execption-has-been-thrown-during-painting-of-the-form/p2\" rel=\"nofollow noreferrer\">This post on Oracle Communities</a></li>\n</ul>\n<p>Unfortunately, no solutions that I can find worked to solve the issue.</p>\n<h1>System Information</h1>\n<p>Here is my system information according to NetBeans <code>About</code> menu item:</p>\n<pre><code>Product Version: Apache NetBeans IDE 15\nJava: 18.0.2.1; Java HotSpot (TM) 64-Bit Server VM 18.0.2.1+1-1\nRuntime: Java(M) SE Runtime Environment 18.0.2.1+1-1\nSystem: Mac OS X version 12.4 running on x86_64; UTF-8; en_CN (nb)\nUser directory: /Users/bryan351018/Library/Application Support/NetBeans/15\nCache directory: /Users/bryan351018/Library/Caches/NetBeans/15\n</code></pre>\n<p>And here is the output of <code>java --version</code> on the command line:</p>\n<pre><code>java 18.0.2.1 2022-08-18\nJava(TM) SE Runtime Environment (build 18.0.2.1+1-1)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2.1+1-1, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","android","html","android-studio","jsoup"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666050032,"creation_date":1666050032,"answer_id":74104257,"question_id":74103593,"body_markdown":"You can get elements by specifying the attribute name and its value.\r\n\r\n    String html = \r\n         &quot;&lt;div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;AboutSection-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;jobs-section-no-location\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;salary-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section= \\&quot;benefits-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;ratings-overview-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;reviews-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;qna-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;interviews-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;faq-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;LocationsSection\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;div data-tn-section=\\&quot;topic-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\r\n        + &quot;&lt;/div&gt;\\r\\n&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    Elements es = doc.select(&quot;div[data-tn-section=reviews-section]&quot;);\r\n    System.out.println(es);\r\n\r\noutput\r\n\r\n    &lt;div data-tn-section=&quot;reviews-section&quot; style=&quot;user-select: auto;&quot;&gt;&lt;/div&gt;\r\n","title":"How to get specific div eq() in list through jSoup in Android Studio","body":"<p>You can get elements by specifying the attribute name and its value.</p>\n<pre><code>String html = \n     &quot;&lt;div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;AboutSection-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;jobs-section-no-location\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;salary-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section= \\&quot;benefits-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;ratings-overview-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;reviews-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;qna-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;interviews-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;faq-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;LocationsSection\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;div data-tn-section=\\&quot;topic-section\\&quot; style=\\&quot;user-select: auto;\\&quot;&gt;&lt;/div&gt;\\r\\n&quot;\n    + &quot;&lt;/div&gt;\\r\\n&quot;;\nDocument doc = Jsoup.parse(html);\nElements es = doc.select(&quot;div[data-tn-section=reviews-section]&quot;);\nSystem.out.println(es);\n</code></pre>\n<p>output</p>\n<pre><code>&lt;div data-tn-section=&quot;reviews-section&quot; style=&quot;user-select: auto;&quot;&gt;&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":11343846,"reputation":433,"user_id":8316956,"display_name":"Humayun MHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74104257,"answer_count":1,"score":0,"last_activity_date":1666050032,"creation_date":1666043188,"question_id":74103593,"body_markdown":"I and building an android app using indeed data. For this, I am using jSoup in android studio.\r\nI want to get the full detail of company through indeed&#39;s company detail page.\r\n\r\nbut here is lil bit of difficulty am facing that almost all classes start with div. I want to use for loop here but because the main class and inside of its class all starts with div, and also there is no specific class name in main class, which i can mention to select that class.\r\n\r\nhere is the inspect code (Image).[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A9sm3.png\r\n\r\nNow I want data of reviews-section, but don&#39;t know how to access that specific section because it don&#39;t have its own class name and eq() doesn&#39;t work here because all the above sections have a div tag inside the section for further data.\r\n\r\nI want something attentc way to access every section individually or atleast review-section (7) and salary-section (4)","title":"How to get specific div eq() in list through jSoup in Android Studio","body":"<p>I and building an android app using indeed data. For this, I am using jSoup in android studio.\nI want to get the full detail of company through indeed's company detail page.</p>\n<p>but here is lil bit of difficulty am facing that almost all classes start with div. I want to use for loop here but because the main class and inside of its class all starts with div, and also there is no specific class name in main class, which i can mention to select that class.</p>\n<p>here is the inspect code (Image).<a href=\"https://i.stack.imgur.com/A9sm3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A9sm3.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I want data of reviews-section, but don't know how to access that specific section because it don't have its own class name and eq() doesn't work here because all the above sections have a div tag inside the section for further data.</p>\n<p>I want something attentc way to access every section individually or atleast review-section (7) and salary-section (4)</p>\n"},{"tags":["java","intellij-idea","libgdx"],"answers":[{"tags":[],"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666048792,"creation_date":1666048792,"answer_id":74104165,"question_id":74100778,"body_markdown":"LibGDX suggests to use its &quot;scene2d&quot; component if you need to build a UI.\r\n\r\nThe simplest example can be found on LibGDX&#39;s Wiki right in the article about scene2d:\r\nhttps://libgdx.com/wiki/graphics/2d/scene2d/scene2d\r\n\r\nActually, the first code example from the wiki will do - it is a bit modified by me and shoud be added to your implementation of Screen or Game:\r\n\r\n    private Stage stage;\r\n    \r\n    @Override\r\n    public void create () {\r\n    \tstage = new Stage(new ScreenViewport());\r\n    \tGdx.input.setInputProcessor(stage);\r\n\r\n        // Insert your UI elements here, for example:\r\n        Skin skin = new Skin(Gdx.files.internal(&quot;skin.json&quot;)); // https://libgdx.com/wiki/graphics/2d/scene2d/skin\r\n        Table menuContainer = new Table();\r\n        TextButton playButton = new TextButton(&quot;Play&quot;, skin);\r\n        playButton.addListener(new ClickListener() {\r\n            @Override\r\n            public void clicked (InputEvent event, float x, float y) {\r\n                // Called when player clicks on Play button\r\n            }\r\n        });\r\n        menuContainer.add(playButton);\r\n\r\n        TextButton exitButton = new TextButton(&quot;Exit&quot;, skin);\r\n        exitButton.addListener(new ClickListener() {\r\n            @Override\r\n            public void clicked (InputEvent event, float x, float y) {\r\n                // Called when player clicks on Exit button\r\n            }\r\n        });\r\n        menuContainer.add(exitButton);\r\n    }\r\n\r\n    @Override\r\n    public void resize (int width, int height) {\r\n    \t// See below for what true means.\r\n    \tstage.getViewport().update(width, height, true);\r\n    }\r\n\r\n    @Override\r\n    public void render () {\r\n    \tfloat delta = Gdx.graphics.getDeltaTime();\r\n    \tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n    \tstage.act(delta);\r\n    \tstage.draw();\r\n    }\r\n\r\n    @Override\r\n    public void dispose () {\r\n    \tstage.dispose();\r\n    }\r\n\r\n","title":"How to create a main menu using libgdx and java","body":"<p>LibGDX suggests to use its &quot;scene2d&quot; component if you need to build a UI.</p>\n<p>The simplest example can be found on LibGDX's Wiki right in the article about scene2d:\n<a href=\"https://libgdx.com/wiki/graphics/2d/scene2d/scene2d\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/graphics/2d/scene2d/scene2d</a></p>\n<p>Actually, the first code example from the wiki will do - it is a bit modified by me and shoud be added to your implementation of Screen or Game:</p>\n<pre><code>private Stage stage;\n\n@Override\npublic void create () {\n    stage = new Stage(new ScreenViewport());\n    Gdx.input.setInputProcessor(stage);\n\n    // Insert your UI elements here, for example:\n    Skin skin = new Skin(Gdx.files.internal(&quot;skin.json&quot;)); // https://libgdx.com/wiki/graphics/2d/scene2d/skin\n    Table menuContainer = new Table();\n    TextButton playButton = new TextButton(&quot;Play&quot;, skin);\n    playButton.addListener(new ClickListener() {\n        @Override\n        public void clicked (InputEvent event, float x, float y) {\n            // Called when player clicks on Play button\n        }\n    });\n    menuContainer.add(playButton);\n\n    TextButton exitButton = new TextButton(&quot;Exit&quot;, skin);\n    exitButton.addListener(new ClickListener() {\n        @Override\n        public void clicked (InputEvent event, float x, float y) {\n            // Called when player clicks on Exit button\n        }\n    });\n    menuContainer.add(exitButton);\n}\n\n@Override\npublic void resize (int width, int height) {\n    // See below for what true means.\n    stage.getViewport().update(width, height, true);\n}\n\n@Override\npublic void render () {\n    float delta = Gdx.graphics.getDeltaTime();\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n    stage.act(delta);\n    stage.draw();\n}\n\n@Override\npublic void dispose () {\n    stage.dispose();\n}\n</code></pre>\n"}],"owner":{"account_id":26651119,"reputation":3,"user_id":20265411,"display_name":"Oracleknightark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74104165,"answer_count":1,"score":0,"last_activity_date":1666048792,"creation_date":1666026309,"question_id":74100778,"body_markdown":"Ive been playing around with libgdx for the past couple of days and I wanted to see if someone could give a simple example of how a main menu screen is created with a start button and exit button. ","title":"How to create a main menu using libgdx and java","body":"<p>Ive been playing around with libgdx for the past couple of days and I wanted to see if someone could give a simple example of how a main menu screen is created with a start button and exit button.</p>\n"},{"tags":["java","oop","javafx","static-factory"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1666013332,"post_id":74098053,"comment_id":130827799,"body_markdown":"This is Item 1 in Joshua Bloch&#39;s *&quot;Effective Java&quot;*.","body":"This is Item 1 in Joshua Bloch&#39;s <i>&quot;Effective Java&quot;</i>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1666013466,"post_id":74098053,"comment_id":130827853,"body_markdown":"Factory methods have few advantages over constructor. For instance they are *not required* to return *new* instance each time, but can cache previously created and returned results and for same parameters return same already created object. Try to see if that is the case, for instance with code like `System.out.println(Font.font(name, size) == Font.font(name, size))`. Just use same `name` and `size` in both sides.","body":"Factory methods have few advantages over constructor. For instance they are <i>not required</i> to return <i>new</i> instance each time, but can cache previously created and returned results and for same parameters return same already created object. Try to see if that is the case, for instance with code like <code>System.out.println(Font.font(name, size) == Font.font(name, size))</code>. Just use same <code>name</code> and <code>size</code> in both sides."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1666013861,"post_id":74098053,"comment_id":130828031,"body_markdown":"@JohnKugelman It&#39;s a reasonable question in the general sense, just not one that fits this site. It&#39;s not a &quot;specific programming question&quot; but a question about software design, which is likely to draw opinions and discussion.","body":"@JohnKugelman It&#39;s a reasonable question in the general sense, just not one that fits this site. It&#39;s not a &quot;specific programming question&quot; but a question about software design, which is likely to draw opinions and discussion."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":3,"creation_date":1666014181,"post_id":74098053,"comment_id":130828145,"body_markdown":"I heartily disagree. This is a specific question about particular classes, not an opinion poll about the design pattern in general. One could quite reasonably write an answer that peeks at the source code for `javafx.scene.text.Font` and `javafx.scene.paint.Color` and explains what the static methods do and why the same thing could not be accomplished with constructors. Or an answer could dig up design rationale for JavaFX as a whole where the library designers explain why JavaFX uses static constructors throughout.","body":"I heartily disagree. This is a specific question about particular classes, not an opinion poll about the design pattern in general. One could quite reasonably write an answer that peeks at the source code for <code>javafx.scene.text.Font</code> and <code>javafx.scene.paint.Color</code> and explains what the static methods do and why the same thing could not be accomplished with constructors. Or an answer could dig up design rationale for JavaFX as a whole where the library designers explain why JavaFX uses static constructors throughout."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666015154,"post_id":74098053,"comment_id":130828539,"body_markdown":"Asking about the specific design choices of a library is off-topic as it is considered opinion-based.","body":"Asking about the specific design choices of a library is off-topic as it is considered opinion-based."},{"owner":{"account_id":1280204,"reputation":5191,"user_id":1234478,"accept_rate":100,"display_name":"dantiston"},"score":0,"creation_date":1666015312,"post_id":74098053,"comment_id":130828610,"body_markdown":"@JohnKugelman I agree that based on what you just wrote, looking for “design rationale”, this question belongs on [softwareengineering](https://softwareengineering.stackexchange.com/help/on-topic), see [the FAQ](https://meta.stackoverflow.com/questions/254570/choosing-between-stack-overflow-and-software-engineering).","body":"@JohnKugelman I agree that based on what you just wrote, looking for “design rationale”, this question belongs on <a href=\"https://softwareengineering.stackexchange.com/help/on-topic\">softwareengineering</a>, see <a href=\"https://meta.stackoverflow.com/questions/254570/choosing-between-stack-overflow-and-software-engineering\">the FAQ</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1666015632,"post_id":74098053,"comment_id":130828735,"body_markdown":"OK, so let me attempt an answer that is as specific as possible.","body":"OK, so let me attempt an answer that is as specific as possible."},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":2,"creation_date":1666021160,"post_id":74098053,"comment_id":130830933,"body_markdown":"Please see https://stackoverflow.com/tags/static-factory/info for a concise and authoritative explanation of Static Factory Methods in general.","body":"Please see <a href=\"https://stackoverflow.com/tags/static-factory/info\">stackoverflow.com/tags/static-factory/info</a> for a concise and authoritative explanation of Static Factory Methods in general."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1666028927,"creation_date":1666015487,"answer_id":74098559,"question_id":74098053,"body_markdown":"In general, there are several advantages and disadvantages to using static factory methods compared to using constructors. A good reference for this is Joshua Bloch&#39;s &quot;Effective Java&quot; (which I strongly recommend any Java programmer should read); in the second and third editions it is Item 1.\r\n\r\nFor the specific classes you mention:\r\n\r\n`Color`\r\n---\r\n\r\nSince factory methods have names, using factory methods allows for multiple methods with the same signature. E.g.\r\n\r\n    public static Color color(double red, double green, double blue);\r\n    public static Color hsb(double hue, double saturation, double brightness);\r\n\r\nThese could not be replaced by two different constructors, as they would be ambiguous.\r\n\r\nAdditionally, it could be argued that the factory methods provide more descriptive names. For example, the two methods\r\n\r\n\r\n    public static Color valueOf(String value);\r\n    public static Color web(String colorString);\r\n\r\nhave exactly the same functionality, but both are valuable from a design perspective. The `valueOf()` method allows for interaction with the `FXMLLoader`, whereas the `web(...)` method is more appropriately named (it takes a string in the same format as is used in the HTML specification).\r\n\r\n`Font`\r\n---\r\n\r\nThe rationale for this class is less clear, and knowing the exact reasons would require knowing the mind of the original API designers. However, note that the [API specification](https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/text/Font.html) of the static factory method differs from the constructor:\r\n\r\n    public static Font font(String family, double size)\r\n\r\n\r\n&gt; Searches for an appropriate font based on the font family name and size. This method is not guaranteed to return a specific font, but does its best to find one that fits the specified requirements. A null or empty value for family allows the implementation to select any suitable font.\r\n\r\n    public Font(String name, double size)\r\n\r\n&gt; Constructs a font using the specified full face name and size\r\n\r\nAs far as I can tell, the current implementation is actually the same, but the API specification allows for that to change in future releases. There may be other benefits too, e.g. the static factory method *could* cache fonts and return the same instance if that were determined to be a performance enhancement.\r\n\r\n","title":"Why does JavaFX use “static” constructors?","body":"<p>In general, there are several advantages and disadvantages to using static factory methods compared to using constructors. A good reference for this is Joshua Bloch's &quot;Effective Java&quot; (which I strongly recommend any Java programmer should read); in the second and third editions it is Item 1.</p>\n<p>For the specific classes you mention:</p>\n<h2><code>Color</code></h2>\n<p>Since factory methods have names, using factory methods allows for multiple methods with the same signature. E.g.</p>\n<pre><code>public static Color color(double red, double green, double blue);\npublic static Color hsb(double hue, double saturation, double brightness);\n</code></pre>\n<p>These could not be replaced by two different constructors, as they would be ambiguous.</p>\n<p>Additionally, it could be argued that the factory methods provide more descriptive names. For example, the two methods</p>\n<pre><code>public static Color valueOf(String value);\npublic static Color web(String colorString);\n</code></pre>\n<p>have exactly the same functionality, but both are valuable from a design perspective. The <code>valueOf()</code> method allows for interaction with the <code>FXMLLoader</code>, whereas the <code>web(...)</code> method is more appropriately named (it takes a string in the same format as is used in the HTML specification).</p>\n<h2><code>Font</code></h2>\n<p>The rationale for this class is less clear, and knowing the exact reasons would require knowing the mind of the original API designers. However, note that the <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/text/Font.html\" rel=\"noreferrer\">API specification</a> of the static factory method differs from the constructor:</p>\n<pre><code>public static Font font(String family, double size)\n</code></pre>\n<blockquote>\n<p>Searches for an appropriate font based on the font family name and size. This method is not guaranteed to return a specific font, but does its best to find one that fits the specified requirements. A null or empty value for family allows the implementation to select any suitable font.</p>\n</blockquote>\n<pre><code>public Font(String name, double size)\n</code></pre>\n<blockquote>\n<p>Constructs a font using the specified full face name and size</p>\n</blockquote>\n<p>As far as I can tell, the current implementation is actually the same, but the API specification allows for that to change in future releases. There may be other benefits too, e.g. the static factory method <em>could</em> cache fonts and return the same instance if that were determined to be a performance enhancement.</p>\n"}],"owner":{"account_id":14337166,"reputation":69,"user_id":19422364,"display_name":"HLR"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":3,"up_vote_count":7,"accepted_answer_id":74098559,"answer_count":1,"score":4,"last_activity_date":1666047190,"creation_date":1666013125,"question_id":74098053,"body_markdown":"In JavaFX, there are a few classes, for example javafx.scene.text.Font and javafx.scene.paint.Color that have static methods that act like constructors. In the Font class, it is possible to create a new Font object with the statement `new Font(name, size)`, but it is equivalent to calling the static method `Font.font(name, size)`, where the Font.font method returns the reference to a new Font object. What are the objective benefits that JavaFX gains from creating these ‘static’ constructors? They seem redundant. Why not just declare more overloaded constructors to achieve the same goal?","title":"Why does JavaFX use “static” constructors?","body":"<p>In JavaFX, there are a few classes, for example javafx.scene.text.Font and javafx.scene.paint.Color that have static methods that act like constructors. In the Font class, it is possible to create a new Font object with the statement <code>new Font(name, size)</code>, but it is equivalent to calling the static method <code>Font.font(name, size)</code>, where the Font.font method returns the reference to a new Font object. What are the objective benefits that JavaFX gains from creating these ‘static’ constructors? They seem redundant. Why not just declare more overloaded constructors to achieve the same goal?</p>\n"},{"tags":["java","list","generics"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666047008,"post_id":74103990,"comment_id":130838614,"body_markdown":"Assuming it has a public no-arg ctor, `givenList.getClass().getConstructor().newInstance()`","body":"Assuming it has a public no-arg ctor, <code>givenList.getClass().getConstructor().newInstance()</code>"},{"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"score":0,"creation_date":1666047149,"post_id":74103990,"comment_id":130838645,"body_markdown":"Usually it is not needed. Can you tell us more about why you need to know the exact type of the list? Maybe it can be solved using only the List type.","body":"Usually it is not needed. Can you tell us more about why you need to know the exact type of the list? Maybe it can be solved using only the List type."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666055844,"post_id":74103990,"comment_id":130839859,"body_markdown":"Change your signature to accept an empty list to be used by `sorter`, or a `Supplier&lt;List&gt;` to create a new empty list.","body":"Change your signature to accept an empty list to be used by <code>sorter</code>, or a <code>Supplier&lt;List&gt;</code> to create a new empty list."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666047017,"creation_date":1666047017,"answer_id":74104024,"question_id":74103990,"body_markdown":"There is not. You can try something like `givenList.getClass().getConstructor().newInstance()`. This is not at all guaranteed to work. More generally if you want a  copy, `givenList.clone()` is a much better idea.","title":"How to construct specific list implementation without knowing which one it is?","body":"<p>There is not. You can try something like <code>givenList.getClass().getConstructor().newInstance()</code>. This is not at all guaranteed to work. More generally if you want a  copy, <code>givenList.clone()</code> is a much better idea.</p>\n"}],"owner":{"account_id":26653639,"reputation":1,"user_id":20267540,"display_name":"TheMireStudios"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666047017,"creation_date":1666046606,"question_id":74103990,"body_markdown":"I want to create a list of the same type as the one passed in the parameter, so if givenList is an Arraylist then Copy should be one, if it is a linkedList then Copy should be one etc.\r\n\r\nIs there a way to do this without manually checking the type List has using instanceof? \r\n\r\n    public static &lt;E&gt; void sorter (List&lt;E&gt; givenList) {\r\n        List&lt;E&gt; copy = new ?????\r\n\r\n","title":"How to construct specific list implementation without knowing which one it is?","body":"<p>I want to create a list of the same type as the one passed in the parameter, so if givenList is an Arraylist then Copy should be one, if it is a linkedList then Copy should be one etc.</p>\n<p>Is there a way to do this without manually checking the type List has using instanceof?</p>\n<pre><code>public static &lt;E&gt; void sorter (List&lt;E&gt; givenList) {\n    List&lt;E&gt; copy = new ?????\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"score":0,"creation_date":1562855285,"post_id":56991490,"comment_id":100517560,"body_markdown":"Any error/issue?","body":"Any error/issue?"},{"owner":{"account_id":15251483,"reputation":1134,"user_id":11004692,"display_name":"Muhammad Shah"},"score":0,"creation_date":1562856445,"post_id":56991490,"comment_id":100518307,"body_markdown":"I have edited my post with errors. I am using IntelliJ IDE for development.  Complete code is on github.https://github.com/mhussainshah1/customvalidation .","body":"I have edited my post with errors. I am using IntelliJ IDE for development.  Complete code is on github.<a href=\"https://github.com/mhussainshah1/customvalidation\" rel=\"nofollow noreferrer\">github.com/mhussainshah1/customvalidation</a> ."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1562959209,"post_id":56991490,"comment_id":100558115,"body_markdown":"The validation is a configuration, not a component?","body":"The validation is a configuration, not a component?"},{"owner":{"account_id":15251483,"reputation":1134,"user_id":11004692,"display_name":"Muhammad Shah"},"score":0,"creation_date":1562989827,"post_id":56991490,"comment_id":100563542,"body_markdown":"There is no need to put `@Configuration` or `@Component` annotation because springboot initiate the custom validator at start. The solution to the problem is to add `spring.jpa.properties.javax.persistence.validation.mode: none` in the application.properties file.","body":"There is no need to put <code>@Configuration</code> or <code>@Component</code> annotation because springboot initiate the custom validator at start. The solution to the problem is to add <code>spring.jpa.properties.javax.persistence.validation.mode: none</code> in the application.properties file."},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":0,"creation_date":1562990640,"post_id":56991490,"comment_id":100563635,"body_markdown":"Far too much code for this site. Please see [mcve].","body":"Far too much code for this site. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":15251483,"reputation":1134,"user_id":11004692,"display_name":"Muhammad Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562996045,"creation_date":1562988171,"answer_id":57015876,"question_id":56991490,"body_markdown":"The solution to the problem is to add the following in the `application.properties` file.\r\n \r\n `properties spring.jpa.properties.javax.persistence.validation.mode:none`\r\n\r\n\r\nReference:\r\nHow to avoid double validation in Spring Boot applications, Sanjay Patel, 15 May, 2018\r\n&lt;https://www.naturalprogrammer.com/blog/16386/switch-off-jpa-validation-spring-boot&gt;","title":"How to save object having field with custom validator using spring boots?","body":"<p>The solution to the problem is to add the following in the <code>application.properties</code> file.</p>\n\n<p><code>properties spring.jpa.properties.javax.persistence.validation.mode:none</code></p>\n\n<p>Reference:\nHow to avoid double validation in Spring Boot applications, Sanjay Patel, 15 May, 2018\n<a href=\"https://www.naturalprogrammer.com/blog/16386/switch-off-jpa-validation-spring-boot\" rel=\"nofollow noreferrer\">https://www.naturalprogrammer.com/blog/16386/switch-off-jpa-validation-spring-boot</a></p>\n"}],"owner":{"account_id":15251483,"reputation":1134,"user_id":11004692,"display_name":"Muhammad Shah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1890,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":57015876,"answer_count":1,"score":-1,"last_activity_date":1666046997,"creation_date":1562855127,"question_id":56991490,"body_markdown":"Can anyone please help me why I can’t save object having field with custom validator in the spring boots?\r\n\r\nScenario:\r\nFirst I have to validate the field by custom validator(which is working fine) then save entity into the database(which breaks).\r\nI am using Spring boots framework on IntelliJ IDE. The code is on github. &lt;https://github.com/mhussainshah1/customvalidation&gt;\r\n\r\n\r\nI have Customer entity\r\n\r\n```java\r\n@Entity\r\npublic class Customer {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n \r\n    @ContactInfo //Custom Validator\r\n    @NotNull\r\n    private String contactInfo;\r\n \r\n    // standard constructor, getters, setters\r\n}\r\n```\r\nI have ContactInfoExpression entity\r\n\r\n```java\r\n@Entity\r\npublic class ContactInfoExpression {\r\n \r\n    @Id\r\n    @Column(name=&quot;expression_type&quot;)\r\n    private String type;\r\n  \r\n    private String pattern;\r\n \r\n    //standard constructor, getters, setters\r\n}\r\n```\r\nI have `ContactInfoExpressionRepository` and `CustomerRepository`\r\nwhich extends `CrudRepository&lt;T, Id&gt;`\r\n\r\nI use an H2 in-memory database with the following configuration in the application.properties file. The `contactInfoType` property can be set to one of the values email, phone or website\r\n\r\n```properties\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.jpa.show-sql=true\r\n\r\ncontactInfoType=email\r\n#contactInfoType=phone\r\n#contactInfoType=website\r\n```\r\n\r\nCustom Validator\r\n\r\n```java\r\n@Component\r\npublic class ContactInfoValidator implements ConstraintValidator&lt;ContactInfo, String&gt; {\r\n\r\n    private static final Logger LOG = LogManager.getLogger(ContactInfoValidator.class);\r\n\r\n    @Value(&quot;${contactInfoType}&quot;)\r\n    private String expressionType;\r\n\r\n    private String pattern;\r\n\r\n    @Autowired\r\n    private ContactInfoExpressionRepository contactInfoExpressionRepository;\r\n\r\n    @Override\r\n    public void initialize(ContactInfo contactInfo) {\r\n        if (StringUtils.isEmptyOrWhitespace(expressionType)) {\r\n            LOG.error(&quot;Contact info type missing!&quot;);\r\n        } else {\r\n            pattern = contactInfoExpressionRepository.findById(expressionType)\r\n                    .map(ContactInfoExpression::getPattern).get();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n        if (!StringUtils.isEmptyOrWhitespace(pattern)) {\r\n            return Pattern.matches(pattern, value);\r\n        }\r\n        LOG.error(&quot;Contact info pattern missing!&quot;);\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nCustom Constraint Annotation\r\n\r\n```java\r\n@Constraint(validatedBy = { ContactInfoValidator.class })\r\n@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ContactInfo {\r\n    String message() default &quot;Invalid value&quot;;\r\n \r\n    Class&lt;?&gt;[] groups() default {};\r\n \r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nI use class DataLoader to load data\r\n\r\n```java\r\n@Component\r\npublic class DataLoader implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    ContactInfoExpressionRepository contactInfoExpressionRepository;\r\n\r\n    @Autowired\r\n    CustomerRepository customerRepository;\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        String pattern = &quot;[a-z0-9!#$%&amp;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?&quot;;\r\n        ContactInfoExpression email = new ContactInfoExpression(&quot;email&quot;, pattern);\r\n        contactInfoExpressionRepository.save(email);\r\n\r\n        pattern = &quot;^([0-9]( |-)?)?(\\\\(?[0-9]{3}\\\\)?|[0-9]{3})( |-)?([0-9]{3}( |-)?[0-9]{4}|[a-zA-Z0-9]{7})$&quot;;\r\n        ContactInfoExpression phone = new ContactInfoExpression(&quot;phone&quot;, pattern);\r\n        contactInfoExpressionRepository.save(phone);\r\n\r\n        pattern = &quot;^(http:\\\\/\\\\/www\\\\.|https:\\\\/\\\\/www\\\\.|http:\\\\/\\\\/|https:\\\\/\\\\/)?[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?(\\\\/.*)?$&quot;;\r\n        ContactInfoExpression website = new ContactInfoExpression(&quot;website&quot;, pattern);\r\n        contactInfoExpressionRepository.save(website);\r\n\r\n        Customer customer1 = new Customer(&quot;mhussainshah79@gmail.com&quot;);\r\n        customerRepository.save(customer1);// Error: can`t save\r\n    }\r\n}\r\n```\r\nI can`t save the customer object having field with custom validator. I am getting the following error at runtime\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    Caused by: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n    Caused by: javax.persistence.RollbackException: Error while committing the transaction\r\n    Caused by: javax.validation.ValidationException: HV000032: Unable to initialize com.example.customvalidation.ContactInfoValidator.\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat com.example.customvalidation.ContactInfoValidator.initialize(ContactInfoValidator.java:41) ~[classes/:na]\r\n    \tat com.example.customvalidation.ContactInfoValidator.initialize(ContactInfoValidator.java:18) ~[classes/:na]","title":"How to save object having field with custom validator using spring boots?","body":"<p>Can anyone please help me why I can’t save object having field with custom validator in the spring boots?</p>\n<p>Scenario:\nFirst I have to validate the field by custom validator(which is working fine) then save entity into the database(which breaks).\nI am using Spring boots framework on IntelliJ IDE. The code is on github. <a href=\"https://github.com/mhussainshah1/customvalidation\" rel=\"nofollow noreferrer\">https://github.com/mhussainshah1/customvalidation</a></p>\n<p>I have Customer entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Customer {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n \n    @ContactInfo //Custom Validator\n    @NotNull\n    private String contactInfo;\n \n    // standard constructor, getters, setters\n}\n</code></pre>\n<p>I have ContactInfoExpression entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class ContactInfoExpression {\n \n    @Id\n    @Column(name=&quot;expression_type&quot;)\n    private String type;\n  \n    private String pattern;\n \n    //standard constructor, getters, setters\n}\n</code></pre>\n<p>I have <code>ContactInfoExpressionRepository</code> and <code>CustomerRepository</code>\nwhich extends <code>CrudRepository&lt;T, Id&gt;</code></p>\n<p>I use an H2 in-memory database with the following configuration in the application.properties file. The <code>contactInfoType</code> property can be set to one of the values email, phone or website</p>\n<pre><code>spring.h2.console.enabled=true\nspring.h2.console.path=/h2\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.jpa.show-sql=true\n\ncontactInfoType=email\n#contactInfoType=phone\n#contactInfoType=website\n</code></pre>\n<p>Custom Validator</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ContactInfoValidator implements ConstraintValidator&lt;ContactInfo, String&gt; {\n\n    private static final Logger LOG = LogManager.getLogger(ContactInfoValidator.class);\n\n    @Value(&quot;${contactInfoType}&quot;)\n    private String expressionType;\n\n    private String pattern;\n\n    @Autowired\n    private ContactInfoExpressionRepository contactInfoExpressionRepository;\n\n    @Override\n    public void initialize(ContactInfo contactInfo) {\n        if (StringUtils.isEmptyOrWhitespace(expressionType)) {\n            LOG.error(&quot;Contact info type missing!&quot;);\n        } else {\n            pattern = contactInfoExpressionRepository.findById(expressionType)\n                    .map(ContactInfoExpression::getPattern).get();\n        }\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        if (!StringUtils.isEmptyOrWhitespace(pattern)) {\n            return Pattern.matches(pattern, value);\n        }\n        LOG.error(&quot;Contact info pattern missing!&quot;);\n        return false;\n    }\n}\n</code></pre>\n<p>Custom Constraint Annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(validatedBy = { ContactInfoValidator.class })\n@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ContactInfo {\n    String message() default &quot;Invalid value&quot;;\n \n    Class&lt;?&gt;[] groups() default {};\n \n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>I use class DataLoader to load data</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DataLoader implements CommandLineRunner {\n\n    @Autowired\n    ContactInfoExpressionRepository contactInfoExpressionRepository;\n\n    @Autowired\n    CustomerRepository customerRepository;\n\n    @Override\n    public void run(String... args) throws Exception {\n        String pattern = &quot;[a-z0-9!#$%&amp;*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&amp;*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?&quot;;\n        ContactInfoExpression email = new ContactInfoExpression(&quot;email&quot;, pattern);\n        contactInfoExpressionRepository.save(email);\n\n        pattern = &quot;^([0-9]( |-)?)?(\\\\(?[0-9]{3}\\\\)?|[0-9]{3})( |-)?([0-9]{3}( |-)?[0-9]{4}|[a-zA-Z0-9]{7})$&quot;;\n        ContactInfoExpression phone = new ContactInfoExpression(&quot;phone&quot;, pattern);\n        contactInfoExpressionRepository.save(phone);\n\n        pattern = &quot;^(http:\\\\/\\\\/www\\\\.|https:\\\\/\\\\/www\\\\.|http:\\\\/\\\\/|https:\\\\/\\\\/)?[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?(\\\\/.*)?$&quot;;\n        ContactInfoExpression website = new ContactInfoExpression(&quot;website&quot;, pattern);\n        contactInfoExpressionRepository.save(website);\n\n        Customer customer1 = new Customer(&quot;mhussainshah79@gmail.com&quot;);\n        customerRepository.save(customer1);// Error: can`t save\n    }\n}\n</code></pre>\n<p>I can`t save the customer object having field with custom validator. I am getting the following error at runtime</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\nCaused by: javax.validation.ValidationException: HV000032: Unable to initialize com.example.customvalidation.ContactInfoValidator.\nCaused by: java.lang.NullPointerException: null\n    at com.example.customvalidation.ContactInfoValidator.initialize(ContactInfoValidator.java:41) ~[classes/:na]\n    at com.example.customvalidation.ContactInfoValidator.initialize(ContactInfoValidator.java:18) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","compression"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1541416780,"post_id":53153189,"comment_id":93197050,"body_markdown":"Use [Ascii85](https://en.wikipedia.org/wiki/Ascii85)?","body":"Use <a href=\"https://en.wikipedia.org/wiki/Ascii85\" rel=\"nofollow noreferrer\">Ascii85</a>?"},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":1,"creation_date":1541418930,"post_id":53153189,"comment_id":93198138,"body_markdown":"If &quot;I can&#39;t do anything about that&quot; means you can&#39;t modify the remote service then no, you can&#39;t lower the bandwidth between the remote and yourself.","body":"If &quot;I can&#39;t do anything about that&quot; means you can&#39;t modify the remote service then no, you can&#39;t lower the bandwidth between the remote and yourself."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":3,"creation_date":1541419995,"post_id":53153189,"comment_id":93198708,"body_markdown":"Send it with gzip or deflate streams which Java supports out-of-the-box. If the remote service is out of your hands but is a HTTP server, you can ask it to do gzip and/or deflate with the `Content-Encoding` header.","body":"Send it with gzip or deflate streams which Java supports out-of-the-box. If the remote service is out of your hands but is a HTTP server, you can ask it to do gzip and/or deflate with the <code>Content-Encoding</code> header."}],"answers":[{"tags":[],"owner":{"account_id":10453718,"reputation":3,"user_id":11935146,"display_name":"RPBCACUEAIIBH"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666046818,"creation_date":1666046735,"answer_id":74104001,"question_id":53153189,"body_markdown":"It depends...\r\n- What do you wanna do with it? Store it or send it?\r\n- Do you need it to be super web safe, or you can even use ascii command codes? (If you need to send it you may need it to be web safe, which means your character options is kinda limited, and that kinda excludes binary compression algorythms.)\r\n- How much time and knowledge you have to come up with a decent compression algorythm...\r\n\r\nUsing binary compression makes it difficult to view it on the screen, or even iterate through as character array as you normally would with strings. Non binary compression is kinda poor solution in this case, cause the characters appear in random order, so harder to find repeating substrings...\r\n\r\nThe easiest way I see is by turning into binary values, and discarding the extra 2 bits and padding, as base 64 actually fits into 6 bits not 8, so you can store 4 characters in 3 bytes, but then you need to convert them back to characters in order to view them on the screen... It can not be sent either cause some of the raw data may be interpreted as ascii control characters or non web safe ones, etc. but you can store it in binary files, and thus save space, and load it faster if that&#39;s the goal.","title":"Is there a way to compress a base64 string?","body":"<p>It depends...</p>\n<ul>\n<li>What do you wanna do with it? Store it or send it?</li>\n<li>Do you need it to be super web safe, or you can even use ascii command codes? (If you need to send it you may need it to be web safe, which means your character options is kinda limited, and that kinda excludes binary compression algorythms.)</li>\n<li>How much time and knowledge you have to come up with a decent compression algorythm...</li>\n</ul>\n<p>Using binary compression makes it difficult to view it on the screen, or even iterate through as character array as you normally would with strings. Non binary compression is kinda poor solution in this case, cause the characters appear in random order, so harder to find repeating substrings...</p>\n<p>The easiest way I see is by turning into binary values, and discarding the extra 2 bits and padding, as base 64 actually fits into 6 bits not 8, so you can store 4 characters in 3 bytes, but then you need to convert them back to characters in order to view them on the screen... It can not be sent either cause some of the raw data may be interpreted as ascii control characters or non web safe ones, etc. but you can store it in binary files, and thus save space, and load it faster if that's the goal.</p>\n"}],"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666046818,"creation_date":1541416076,"question_id":53153189,"body_markdown":"I have a base64 string which is too long (it encodes a pdf file).\r\nI get this string from a remote service so I can&#39;t do anything about that.\r\n\r\nI&#39;d like to further compress/decompress it so that the traffic from the remote service to my local service is lower.\r\n\r\nIs it possible?","title":"Is there a way to compress a base64 string?","body":"<p>I have a base64 string which is too long (it encodes a pdf file).\nI get this string from a remote service so I can't do anything about that.</p>\n\n<p>I'd like to further compress/decompress it so that the traffic from the remote service to my local service is lower.</p>\n\n<p>Is it possible?</p>\n"},{"tags":["java","facebook"],"answers":[{"tags":[],"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666046705,"creation_date":1397161161,"answer_id":22998192,"question_id":22996237,"body_markdown":"What you are asking about is a standard rest authentication mechnism called O-AUTH.\r\n\r\nHere is one decent library I use on occasion, this is specifically for facebook... I would read on how to do some of these o-auth things yourself. It seems scary but it isn&#39;t.\r\n\r\nIts alot like rest... alot of idea, no real concrete standard.\r\n\r\nhttps://developers.facebook.com/docs/facebook-login\r\n\r\nThis will get you started, but after you have connected to facebook and twitter... id recommend either building your own, or finding a fluid o-auth library for all your social networks.\r\n\r\nThe graph tag api is easy, once you get auth down, the rest of facebook (though pretty challenging) comes with time.","title":"Login to a webpage in Java with Facebook Connect","body":"<p>What you are asking about is a standard rest authentication mechnism called O-AUTH.</p>\n<p>Here is one decent library I use on occasion, this is specifically for facebook... I would read on how to do some of these o-auth things yourself. It seems scary but it isn't.</p>\n<p>Its alot like rest... alot of idea, no real concrete standard.</p>\n<p><a href=\"https://developers.facebook.com/docs/facebook-login\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/facebook-login</a></p>\n<p>This will get you started, but after you have connected to facebook and twitter... id recommend either building your own, or finding a fluid o-auth library for all your social networks.</p>\n<p>The graph tag api is easy, once you get auth down, the rest of facebook (though pretty challenging) comes with time.</p>\n"}],"owner":{"account_id":2570752,"reputation":477,"user_id":2229544,"accept_rate":70,"display_name":"user2229544"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":22998192,"answer_count":1,"score":0,"last_activity_date":1666046705,"creation_date":1397154799,"question_id":22996237,"body_markdown":"I have a webpage that I can login to using facebook connect.  I need to grab the html from a page but it requires a login first.  Does anyone know a way to authenticate myself using my facebook credentials in Java so I can grab the pages I need?","title":"Login to a webpage in Java with Facebook Connect","body":"<p>I have a webpage that I can login to using facebook connect.  I need to grab the html from a page but it requires a login first.  Does anyone know a way to authenticate myself using my facebook credentials in Java so I can grab the pages I need?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":18051501,"reputation":73,"user_id":13121054,"display_name":"GTindi1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666046641,"creation_date":1666046641,"answer_id":74103993,"question_id":74103972,"body_markdown":"So I actually found the bug! It was a spelling error on my VM arguments.\r\nHere&#39;s how I changed my module path to:\r\n\r\n    --module-path /home/tindi/Documents/javafx-sdk-19/lib --add-modules javafx.controls,javafx.fxml\r\n\r\n","title":"Error occurred during initialization of boot layer java.lang.module.FindException: Module java.fxml not found","body":"<p>So I actually found the bug! It was a spelling error on my VM arguments.\nHere's how I changed my module path to:</p>\n<pre><code>--module-path /home/tindi/Documents/javafx-sdk-19/lib --add-modules javafx.controls,javafx.fxml\n</code></pre>\n"}],"owner":{"account_id":18051501,"reputation":73,"user_id":13121054,"display_name":"GTindi1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666046641,"creation_date":1666046402,"question_id":74103972,"body_markdown":"I&#39;m trying to run a Java Project cloned from github but I&#39;m getting this error on my console:\r\n\r\n    Error occurred during initialization of boot layer java.lang.module.FindException: Module java.fxml not found\r\n\r\nHow do I fix it?","title":"Error occurred during initialization of boot layer java.lang.module.FindException: Module java.fxml not found","body":"<p>I'm trying to run a Java Project cloned from github but I'm getting this error on my console:</p>\n<pre><code>Error occurred during initialization of boot layer java.lang.module.FindException: Module java.fxml not found\n</code></pre>\n<p>How do I fix it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":0,"creation_date":1530716224,"post_id":51176396,"comment_id":89335626,"body_markdown":"Did you debug through it to see it&#39;s actually working from a to z?","body":"Did you debug through it to see it&#39;s actually working from a to z?"},{"owner":{"account_id":2230843,"reputation":116,"user_id":1968456,"display_name":"Rodrigo Martin Tato Rothamel"},"score":0,"creation_date":1530716297,"post_id":51176396,"comment_id":89335653,"body_markdown":"Yes, the debugger is your friend here... Maybe it&#39;s running an infinite loop. The contents of the file may not be what this algorithm is expecting.","body":"Yes, the debugger is your friend here... Maybe it&#39;s running an infinite loop. The contents of the file may not be what this algorithm is expecting."},{"owner":{"account_id":330849,"reputation":4116,"user_id":655172,"accept_rate":100,"display_name":"Tom"},"score":0,"creation_date":1530716400,"post_id":51176396,"comment_id":89335704,"body_markdown":"you could add a System.out.println(&quot;something&quot;) to the start and end from the main method...that way you can check if it starts and /or ends running","body":"you could add a System.out.println(&quot;something&quot;) to the start and end from the main method...that way you can check if it starts and /or ends running"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1530717001,"post_id":51176396,"comment_id":89336028,"body_markdown":"`if (wierszWej.length() == 0) return null;` You need to check if `wierszWej == null` first before trying to access `length()`, since `readLine` can return `null`.","body":"<code>if (wierszWej.length() == 0) return null;</code> You need to check if <code>wierszWej == null</code> first before trying to access <code>length()</code>, since <code>readLine</code> can return <code>null</code>."},{"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"score":0,"creation_date":1530717612,"post_id":51176396,"comment_id":89336354,"body_markdown":"I did add System.out.println(&quot;i do work&quot;); in the main but it does not print anything, so ye, i have no idea where is the problem :D","body":"I did add System.out.println(&quot;i do work&quot;); in the main but it does not print anything, so ye, i have no idea where is the problem :D"}],"answers":[{"tags":[],"owner":{"account_id":11077517,"reputation":71,"user_id":8133762,"display_name":"Martin Pek&#225;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530716572,"creation_date":1530716572,"answer_id":51176582,"question_id":51176396,"body_markdown":"So you want it to print something? If that&#39;s the problem, then you must make sure that the if-statement that tests whether the wynik is equal to &quot;zatopiony&quot; actually happens to be true. You program will only give an output, if this if-statement is true.","title":"Learning Java by book sierra k &quot;head first java&quot;. Example isnt running","body":"<p>So you want it to print something? If that's the problem, then you must make sure that the if-statement that tests whether the wynik is equal to \"zatopiony\" actually happens to be true. You program will only give an output, if this if-statement is true.</p>\n"},{"tags":[],"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666046587,"creation_date":1530725794,"answer_id":51178675,"question_id":51176396,"body_markdown":"I separated the classes into separate files with proper names located in the same folder. Still doesnt workin and i do get this error : error: cannot find symbol.\r\n\r\nthis error occurs for every separated class. I checked all common errors from this thread:\r\nhttps://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-compilation-error-mean\r\n\r\nFiles are saved with UTF-8 encoding if that means anyting. When i saves with BOM encoding i got a lot more errors\r\n","title":"Learning Java by book sierra k &quot;head first java&quot;. Example isnt running","body":"<p>I separated the classes into separate files with proper names located in the same folder. Still doesnt workin and i do get this error : error: cannot find symbol.</p>\n<p>this error occurs for every separated class. I checked all common errors from this thread:\n<a href=\"https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-compilation-error-mean\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a></p>\n<p>Files are saved with UTF-8 encoding if that means anyting. When i saves with BOM encoding i got a lot more errors</p>\n"}],"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666046587,"creation_date":1530715949,"question_id":51176396,"body_markdown":"im starting my adventure with learning to code in Java. Im stuck on an example from book. It does compile but there is no effect when I run it. The output is just blank. Im using Visual studio code. The example says that all 3 separate files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) should be in 1 folder. When i try to start a file with main also nothing happens. I decided to join them all into one file but still i do get no result. The code is basically one line battleship game example.\r\n\r\nftp://ftp.helion.pl/przyklady/javrg2.zip - in folder r05 there are files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) from the example that should work when in the same folder but they dont.\r\nDamn, its really hard to find whats wrong when you just start learning :P\r\n\r\nIts an example from chapter nr 5.\r\n\r\nI did follow all the rules and sugestions as in the book but even a straight copying the code does not help. the previous examples i did run without bigger issues.\r\n\r\n    import java.io.*; \r\n    class ProstyPortalGra {\r\n      public static void main(String[] args) {\r\n        int iloscRuchow = 0;\r\n        PomocnikGry pomocnik = new PomocnikGry();\r\n      \r\n        ProstyPortal portal = new ProstyPortal();\r\n        int liczbaLosowa = (int) (Math.random() * 5);\r\n      \r\n        int[] polozenie = {liczbaLosowa, liczbaLosowa+1, liczbaLosowa+2};\r\n        portal.setPolaPolozenia(polozenie);\r\n        boolean czyIstnieje = true;\r\n      \r\n        while (czyIstnieje == true) {\r\n          String pole = pomocnik.pobierzDaneWejsciowe(&quot;Podaj liczbę&quot;);\r\n          String wynik = portal.sprawdz(pole);\r\n          iloscRuchow++;\r\n          if (wynik.equals(&quot;zatopiony&quot;)) {\r\n            czyIstnieje = false;\r\n            System.out.println(iloscRuchow + &quot; ruch&#243;w&quot;);\r\n          } // koniec if\r\n        } // koniec while\r\n      } // koniec main\r\n      }\r\n    \r\n      class ProstyPortal {\r\n    \r\n        int [] polaPolozenia;\r\n        int iloscTrafien;\r\n      \r\n        public void setPolaPolozenia(int[] ppol) {\r\n          polaPolozenia = ppol;\r\n        }\r\n        \r\n        public String sprawdz(String stringPole) {\r\n          int strzal = Integer.parseInt(stringPole);\r\n          String wynik = &quot;pudło&quot;;\r\n          for (int pole : polaPolozenia) {\r\n            if (strzal == pole) {\r\n              wynik = &quot;trafiony&quot;;\r\n              iloscTrafien++;\r\n              break;\r\n            }\r\n          } // koniec pętli\r\n          if (iloscTrafien == polaPolozenia.length) {\r\n            wynik = &quot;zatopiony&quot;;\r\n          }\r\n          System.out.println(wynik);\r\n          return wynik;\r\n        } // koniec metody\r\n      } // koniec klasy\r\n    \r\n     class PomocnikGry {\r\n      public String pobierzDaneWejsciowe(String komunikat) {\r\n        String wierszWej = null;\r\n    \r\n        System.out.print(komunikat + &quot; &quot;);\r\n        try {\r\n          BufferedReader sw = new BufferedReader(\r\n            new InputStreamReader(System.in));\r\n          wierszWej = sw.readLine();\r\n          if (wierszWej.length() == 0) return null;\r\n        } catch (IOException e) {\r\n          System.out.println(&quot;IOException: &quot; + e);\r\n        }\r\n        return wierszWej;\r\n      }\r\n    }\r\n    \r\n      ","title":"Learning Java by book sierra k &quot;head first java&quot;. Example isnt running","body":"<p>im starting my adventure with learning to code in Java. Im stuck on an example from book. It does compile but there is no effect when I run it. The output is just blank. Im using Visual studio code. The example says that all 3 separate files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) should be in 1 folder. When i try to start a file with main also nothing happens. I decided to join them all into one file but still i do get no result. The code is basically one line battleship game example.</p>\n\n<p><a href=\"ftp://ftp.helion.pl/przyklady/javrg2.zip\" rel=\"nofollow noreferrer\">ftp://ftp.helion.pl/przyklady/javrg2.zip</a> - in folder r05 there are files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) from the example that should work when in the same folder but they dont.\nDamn, its really hard to find whats wrong when you just start learning :P</p>\n\n<p>Its an example from chapter nr 5.</p>\n\n<p>I did follow all the rules and sugestions as in the book but even a straight copying the code does not help. the previous examples i did run without bigger issues.</p>\n\n<pre><code>import java.io.*; \nclass ProstyPortalGra {\n  public static void main(String[] args) {\n    int iloscRuchow = 0;\n    PomocnikGry pomocnik = new PomocnikGry();\n\n    ProstyPortal portal = new ProstyPortal();\n    int liczbaLosowa = (int) (Math.random() * 5);\n\n    int[] polozenie = {liczbaLosowa, liczbaLosowa+1, liczbaLosowa+2};\n    portal.setPolaPolozenia(polozenie);\n    boolean czyIstnieje = true;\n\n    while (czyIstnieje == true) {\n      String pole = pomocnik.pobierzDaneWejsciowe(\"Podaj liczbę\");\n      String wynik = portal.sprawdz(pole);\n      iloscRuchow++;\n      if (wynik.equals(\"zatopiony\")) {\n        czyIstnieje = false;\n        System.out.println(iloscRuchow + \" ruchów\");\n      } // koniec if\n    } // koniec while\n  } // koniec main\n  }\n\n  class ProstyPortal {\n\n    int [] polaPolozenia;\n    int iloscTrafien;\n\n    public void setPolaPolozenia(int[] ppol) {\n      polaPolozenia = ppol;\n    }\n\n    public String sprawdz(String stringPole) {\n      int strzal = Integer.parseInt(stringPole);\n      String wynik = \"pudło\";\n      for (int pole : polaPolozenia) {\n        if (strzal == pole) {\n          wynik = \"trafiony\";\n          iloscTrafien++;\n          break;\n        }\n      } // koniec pętli\n      if (iloscTrafien == polaPolozenia.length) {\n        wynik = \"zatopiony\";\n      }\n      System.out.println(wynik);\n      return wynik;\n    } // koniec metody\n  } // koniec klasy\n\n class PomocnikGry {\n  public String pobierzDaneWejsciowe(String komunikat) {\n    String wierszWej = null;\n\n    System.out.print(komunikat + \" \");\n    try {\n      BufferedReader sw = new BufferedReader(\n        new InputStreamReader(System.in));\n      wierszWej = sw.readLine();\n      if (wierszWej.length() == 0) return null;\n    } catch (IOException e) {\n      System.out.println(\"IOException: \" + e);\n    }\n    return wierszWej;\n  }\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1666044589,"post_id":74103756,"comment_id":130838139,"body_markdown":"What makes you say it&#39;s a bad practice?  I can think of a couple reasons it _might_ be, depending on the use case, but it&#39;s really a question of what you&#39;re trying to do (and what that `Comparator` is doing).","body":"What makes you say it&#39;s a bad practice?  I can think of a couple reasons it <i>might</i> be, depending on the use case, but it&#39;s really a question of what you&#39;re trying to do (and what that <code>Comparator</code> is doing)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1666046795,"post_id":74103756,"comment_id":130838579,"body_markdown":"A set of such mutable entries backed by the map can easily be corrupted. Furthermore Set of Entry and Map of Map is too convoluted.","body":"A set of such mutable entries backed by the map can easily be corrupted. Furthermore Set of Entry and Map of Map is too convoluted."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666044636,"creation_date":1666044636,"answer_id":74103782,"question_id":74103756,"body_markdown":"Java [`Map.Entry`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html) objects are not intended for long term storage. From the docs (emphasis mine),\r\n\r\n&gt; A map entry (key-value pair). The `Map.entrySet` method returns a collection-view of the map, whose elements are of this class. The only way to obtain a reference to a map entry is from the iterator of this collection-view. **These Map.Entry objects are valid only for the duration of the iteration;** more formally, the behavior of a map entry is undefined if the backing map has been modified after the entry was returned by the iterator, except through the setValue operation on the map entry.\r\n\r\nIf anyone, for any reason, adds, removes, or modifies any part of the map after the fact, then your `TreeSet` entries now have undefined behavior. They might still be good, they might get nulled out, they might exhibit some random behavior.\r\n\r\nIf you want to store a pair of elements, then write a class that has two instance variables. If you&#39;re on a new enough Java version, then [records](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html) are great for this sort of thing.","title":"Why is adding an entry set as parameter to addall method a bad practice?","body":"<p>Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a> objects are not intended for long term storage. From the docs (emphasis mine),</p>\n<blockquote>\n<p>A map entry (key-value pair). The <code>Map.entrySet</code> method returns a collection-view of the map, whose elements are of this class. The only way to obtain a reference to a map entry is from the iterator of this collection-view. <strong>These Map.Entry objects are valid only for the duration of the iteration;</strong> more formally, the behavior of a map entry is undefined if the backing map has been modified after the entry was returned by the iterator, except through the setValue operation on the map entry.</p>\n</blockquote>\n<p>If anyone, for any reason, adds, removes, or modifies any part of the map after the fact, then your <code>TreeSet</code> entries now have undefined behavior. They might still be good, they might get nulled out, they might exhibit some random behavior.</p>\n<p>If you want to store a pair of elements, then write a class that has two instance variables. If you're on a new enough Java version, then <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"noreferrer\">records</a> are great for this sort of thing.</p>\n"}],"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1666074909,"accepted_answer_id":74103782,"answer_count":1,"score":0,"last_activity_date":1666045477,"creation_date":1666044428,"question_id":74103756,"body_markdown":"Why is the following code a bad practice and what is the solution for it?\r\n\r\n    TreeSet&lt;Map.Entry&lt;Integer, Map&lt;String, String&gt;&gt;&gt; sortedtable = new TreeSet&lt;&gt;(new ComparatorByDueDate());\r\n    \r\n    \r\n    public void sortTable(Map&lt;Integer, Map&lt;String, String&gt;&gt; table){\r\n         sortedtable.addAll(table.entrySet());\r\n    }\r\n\r\nUpdate: As per Sonar, it is a bad practice. I am asking the question here as the sonar explanation seems confusing.","title":"Why is adding an entry set as parameter to addall method a bad practice?","body":"<p>Why is the following code a bad practice and what is the solution for it?</p>\n<pre><code>TreeSet&lt;Map.Entry&lt;Integer, Map&lt;String, String&gt;&gt;&gt; sortedtable = new TreeSet&lt;&gt;(new ComparatorByDueDate());\n\n\npublic void sortTable(Map&lt;Integer, Map&lt;String, String&gt;&gt; table){\n     sortedtable.addAll(table.entrySet());\n}\n</code></pre>\n<p>Update: As per Sonar, it is a bad practice. I am asking the question here as the sonar explanation seems confusing.</p>\n"},{"tags":["java","spring","netty","activemq-artemis"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1663151366,"post_id":73715076,"comment_id":130170013,"body_markdown":"The `artemis-jms-client-all-2.19.1.jar` repackages all dependencies inside that jar. It includes all classes it needs. I would recommend against using the **all** dependency and just use the core one or individual dependencies.","body":"The <code>artemis-jms-client-all-2.19.1.jar</code> repackages all dependencies inside that jar. It includes all classes it needs. I would recommend against using the <b>all</b> dependency and just use the core one or individual dependencies."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1663161595,"post_id":73715076,"comment_id":130173825,"body_markdown":"FWIW, ActiveMQ Artemis 2.25.0 (i.e. the latest release at this point) uses Netty 4.1.79.Final.","body":"FWIW, ActiveMQ Artemis 2.25.0 (i.e. the latest release at this point) uses Netty 4.1.79.Final."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663150940,"creation_date":1663150940,"answer_id":73715232,"question_id":73715076,"body_markdown":"You have conflicting versions of the same dependency. When you keep your dependencies as they are, this will be only the first of a longer series of troubles to occur.\r\n\r\nTry to use an updated version of artemis-jms-client that dependes on the version of netty-common you need.\r\nDecide to either skip the netty-common dependency (since it is contained in the artemis-jms-client) or don&#39;t use the ...-all-... dependency of artemis-jms-client but rather us a version that uses transitive dependencies and loads the others via maven (or gradle or whatever build system you use).\r\n\r\nReordering classpath to resolve that kind of troubles is really a very delicate procedure I would never recommend to perform on third-party-dependencies.","title":"Correct the classpath if both JARs are needed","body":"<p>You have conflicting versions of the same dependency. When you keep your dependencies as they are, this will be only the first of a longer series of troubles to occur.</p>\n<p>Try to use an updated version of artemis-jms-client that dependes on the version of netty-common you need.\nDecide to either skip the netty-common dependency (since it is contained in the artemis-jms-client) or don't use the ...-all-... dependency of artemis-jms-client but rather us a version that uses transitive dependencies and loads the others via maven (or gradle or whatever build system you use).</p>\n<p>Reordering classpath to resolve that kind of troubles is really a very delicate procedure I would never recommend to perform on third-party-dependencies.</p>\n"}],"owner":{"account_id":3002442,"reputation":517,"user_id":6036363,"accept_rate":88,"display_name":"tmsblgh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666044814,"creation_date":1663150114,"question_id":73715076,"body_markdown":"I have the following dependencies:\r\n\r\n    [INFO]    +- org.apache.activemq:artemis-core-client:jar:2.19.1:compile\r\n    ...\r\n    [INFO]    |  \\- io.netty:netty-common:jar:4.1.79.Final:compile\r\n    [INFO]    +- org.apache.activemq:artemis-jms-client-all:jar:2.19.1:compile\r\n\r\nAfter a `spring-boot-starter-parent` and `spring-cloud` uplift the following message appeared after the application start:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n        io.netty.buffer.AbstractReferenceCountedByteBuf.&lt;init&gt;(AbstractReferenceCountedByteBuf.java:50)\r\n\r\n    The following method did not exist:\r\n\r\n        io.netty.util.internal.ReferenceCountUpdater.setInitialValue(Lio/netty/util/ReferenceCounted;)V\r\n\r\n    The calling method&#39;s class, io.netty.buffer.AbstractReferenceCountedByteBuf, is available from the following locations:\r\n\r\n        jar:file:/app/lib/netty-buffer-4.1.79.Final.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\r\n        jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\r\n\r\n    The calling method&#39;s class was loaded from the following location:\r\n\r\n        file:/app/lib/netty-buffer-4.1.79.Final.jar\r\n\r\n    The called method&#39;s class, io.netty.util.internal.ReferenceCountUpdater, is available from the following locations:\r\n\r\n        jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/util/internal/ReferenceCountUpdater.class\r\n        jar:file:/app/lib/netty-common-4.1.79.Final.jar!/io/netty/util/internal/ReferenceCountUpdater.class\r\n\r\n    The called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n        io.netty.util.internal.ReferenceCountUpdater: file:/app/lib/artemis-jms-client-all-2.19.1.jar\r\n\r\n\r\n    Action:\r\n\r\n    Correct the classpath of your application so that it contains compatible versions of the classes io.netty.buffer.AbstractReferenceCountedByteBuf and io.netty.util.internal.ReferenceCountUpdater\r\n\r\nSince both the `artemis-jms-client-all-2.19.1.jar` and `netty-common-4.1.79.Final.jar` is in use and only the `netty-common-4.1.79.Final.jar` has the necessary method (`setInitialValue()`) I cannot just remove one of the JARs.\r\n\r\nIs there a way to define the order of these?\r\nIs this order issue could have come from the uplift? It was more lazy previously?","title":"Correct the classpath if both JARs are needed","body":"<p>I have the following dependencies:</p>\n<pre><code>[INFO]    +- org.apache.activemq:artemis-core-client:jar:2.19.1:compile\n...\n[INFO]    |  \\- io.netty:netty-common:jar:4.1.79.Final:compile\n[INFO]    +- org.apache.activemq:artemis-jms-client-all:jar:2.19.1:compile\n</code></pre>\n<p>After a <code>spring-boot-starter-parent</code> and <code>spring-cloud</code> uplift the following message appeared after the application start:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    io.netty.buffer.AbstractReferenceCountedByteBuf.&lt;init&gt;(AbstractReferenceCountedByteBuf.java:50)\n\nThe following method did not exist:\n\n    io.netty.util.internal.ReferenceCountUpdater.setInitialValue(Lio/netty/util/ReferenceCounted;)V\n\nThe calling method's class, io.netty.buffer.AbstractReferenceCountedByteBuf, is available from the following locations:\n\n    jar:file:/app/lib/netty-buffer-4.1.79.Final.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\n    jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\n\nThe calling method's class was loaded from the following location:\n\n    file:/app/lib/netty-buffer-4.1.79.Final.jar\n\nThe called method's class, io.netty.util.internal.ReferenceCountUpdater, is available from the following locations:\n\n    jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/util/internal/ReferenceCountUpdater.class\n    jar:file:/app/lib/netty-common-4.1.79.Final.jar!/io/netty/util/internal/ReferenceCountUpdater.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    io.netty.util.internal.ReferenceCountUpdater: file:/app/lib/artemis-jms-client-all-2.19.1.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes io.netty.buffer.AbstractReferenceCountedByteBuf and io.netty.util.internal.ReferenceCountUpdater\n</code></pre>\n<p>Since both the <code>artemis-jms-client-all-2.19.1.jar</code> and <code>netty-common-4.1.79.Final.jar</code> is in use and only the <code>netty-common-4.1.79.Final.jar</code> has the necessary method (<code>setInitialValue()</code>) I cannot just remove one of the JARs.</p>\n<p>Is there a way to define the order of these?\nIs this order issue could have come from the uplift? It was more lazy previously?</p>\n"},{"tags":["java","neural-network","self-organizing-maps"],"comments":[{"owner":{"account_id":7614468,"reputation":151,"user_id":5774387,"display_name":"Robert Hamilton"},"score":0,"creation_date":1666044763,"post_id":73951036,"comment_id":130838181,"body_markdown":"I added an answer myself since this question has been asked before, but I will wait in case somebody has a better answer instead of marking this one.","body":"I added an answer myself since this question has been asked before, but I will wait in case somebody has a better answer instead of marking this one."}],"answers":[{"tags":[],"owner":{"account_id":7614468,"reputation":151,"user_id":5774387,"display_name":"Robert Hamilton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666044682,"creation_date":1666044682,"answer_id":74103789,"question_id":73951036,"body_markdown":"There is one source published at an [ACCU Conference][1] from 2006, written by the original authors of [JKNNL][2] (java kohonen neural network library). Although it does not directly tie into the apache commons library, it includes a self contained description of Kohonen filter which can shed light on the semantics used there.\r\n\r\nAs no true JAVA example code exists, we can look to this documentation for insight as requested in the asked question.\r\n \r\nIt can be thought of as an unsupervised classifier utilizing single layer NN in which the weights of each node are vectors that correspond to the center of a cluster (after classification).\r\n\r\nThe feedback is applied to only the nearest node (in the winner take all method) and is a weighted average of the input and the current &quot;weight&quot; in the node\r\n\r\n    weight[i] = (1-C)*weight[i] + C*input[i]\r\n\r\nwhere C is the learning rate parameter. When convergence is attained, each node will have its own set of weights and classification can be performed by finding the node  for which the distance between the weights and the input vector are the smallest.\r\n\r\n\r\n\r\n\r\n  [1]: https://accu.org/journals/overload/14/74/overload74.pdf\r\n  [2]: https://jknnl.sourceforge.net/","title":"Example Java code for Kohonen filter using apache.commons.math.ml","body":"<p>There is one source published at an <a href=\"https://accu.org/journals/overload/14/74/overload74.pdf\" rel=\"nofollow noreferrer\">ACCU Conference</a> from 2006, written by the original authors of <a href=\"https://jknnl.sourceforge.net/\" rel=\"nofollow noreferrer\">JKNNL</a> (java kohonen neural network library). Although it does not directly tie into the apache commons library, it includes a self contained description of Kohonen filter which can shed light on the semantics used there.</p>\n<p>As no true JAVA example code exists, we can look to this documentation for insight as requested in the asked question.</p>\n<p>It can be thought of as an unsupervised classifier utilizing single layer NN in which the weights of each node are vectors that correspond to the center of a cluster (after classification).</p>\n<p>The feedback is applied to only the nearest node (in the winner take all method) and is a weighted average of the input and the current &quot;weight&quot; in the node</p>\n<pre><code>weight[i] = (1-C)*weight[i] + C*input[i]\n</code></pre>\n<p>where C is the learning rate parameter. When convergence is attained, each node will have its own set of weights and classification can be performed by finding the node  for which the distance between the weights and the input vector are the smallest.</p>\n"}],"owner":{"account_id":7614468,"reputation":151,"user_id":5774387,"display_name":"Robert Hamilton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74103789,"answer_count":1,"score":0,"last_activity_date":1666044682,"creation_date":1664901573,"question_id":73951036,"body_markdown":"I am looking for any example code for implementing Kohonen SOM using the apache.commons.math3.neuralnet.sofm classes. To make the question less ambiguous, I&#39;ll share that I plan to explore using it to find anomalous features in image patches.  \r\nI&#39;ve looked in the javadocs for [ml.neuralnet.sofm.KohonenTrainingTask][1]  and the [ml.neuralnet.Network][2] that it uses, but as a beginner I find them confusing as there is little detail on the semantics of many of the parameters. The math4 docs are the same. So some example code could provide some insight. \r\n\r\nThus my question: is there any example code available?\r\n\r\nThere is a similar [question on stack overflow][3] but it is a couple of years old and no answer except for a broken link.\r\n\r\nBy the way, I am not locked in to apache.commons.math so if the answer is &quot;no&quot; that will be marked as correct. But in that case I would sincerely appreciate any insight into what alternative packages are in mainstream use for this purpose.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/sofm/KohonenTrainingTask.html\r\n  [2]: https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/Network.html\r\n  [3]: https://stackoverflow.com/questions/59650233/apache-math-commons-neural-net-any-usage-example","title":"Example Java code for Kohonen filter using apache.commons.math.ml","body":"<p>I am looking for any example code for implementing Kohonen SOM using the apache.commons.math3.neuralnet.sofm classes. To make the question less ambiguous, I'll share that I plan to explore using it to find anomalous features in image patches.<br />\nI've looked in the javadocs for <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/sofm/KohonenTrainingTask.html\" rel=\"nofollow noreferrer\">ml.neuralnet.sofm.KohonenTrainingTask</a>  and the <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/Network.html\" rel=\"nofollow noreferrer\">ml.neuralnet.Network</a> that it uses, but as a beginner I find them confusing as there is little detail on the semantics of many of the parameters. The math4 docs are the same. So some example code could provide some insight.</p>\n<p>Thus my question: is there any example code available?</p>\n<p>There is a similar <a href=\"https://stackoverflow.com/questions/59650233/apache-math-commons-neural-net-any-usage-example\">question on stack overflow</a> but it is a couple of years old and no answer except for a broken link.</p>\n<p>By the way, I am not locked in to apache.commons.math so if the answer is &quot;no&quot; that will be marked as correct. But in that case I would sincerely appreciate any insight into what alternative packages are in mainstream use for this purpose.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"score":1,"creation_date":1659431217,"post_id":72428001,"comment_id":129287415,"body_markdown":"Did you find solution to this? @nogridbag","body":"Did you find solution to this? @nogridbag"},{"owner":{"account_id":356037,"reputation":3541,"user_id":695318,"accept_rate":68,"display_name":"nogridbag"},"score":0,"creation_date":1659452859,"post_id":72428001,"comment_id":129295756,"body_markdown":"No unfortunately. The project using Thymeleaf was put on hold so I didn&#39;t spend any effort looking into alternatives.","body":"No unfortunately. The project using Thymeleaf was put on hold so I didn&#39;t spend any effort looking into alternatives."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666044304,"creation_date":1666044304,"answer_id":74103744,"question_id":72428001,"body_markdown":"You can do this by taking advantage of `th:assert`. If this assertion is not satisfied then thymeleaf will throw an exception during document processing and print a relevant error to know why it failed.\r\n\r\nSo your code will be \r\n\r\n    &lt;div th:assert=&quot;${amount} != null&quot; data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\r\n\r\nIf context variable `amount` is never set it would be null so then the assertion will fail which will produce the exception.","title":"Thymeleaf - throw exception is template variable not found in Context","body":"<p>You can do this by taking advantage of <code>th:assert</code>. If this assertion is not satisfied then thymeleaf will throw an exception during document processing and print a relevant error to know why it failed.</p>\n<p>So your code will be</p>\n<pre><code>&lt;div th:assert=&quot;${amount} != null&quot; data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\n</code></pre>\n<p>If context variable <code>amount</code> is never set it would be null so then the assertion will fail which will produce the exception.</p>\n"}],"owner":{"account_id":356037,"reputation":3541,"user_id":695318,"accept_rate":68,"display_name":"nogridbag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74103744,"answer_count":1,"score":5,"last_activity_date":1666044304,"creation_date":1653867587,"question_id":72428001,"body_markdown":"I want Thymeleaf to throw an exception if a variable used in a template is not found in the Context. It seems by default Thymeleaf will inject empty text in an HTML tag if the bound variable is not found in the Context. This seems dangerous as it essentially silently hides errors.\r\n\r\n    &lt;div data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\r\n\r\nCode:\r\n\r\n    Context context = new Context();\r\n    // never set &quot;amount&quot; variable\r\n\r\nOutput:\r\n\r\n    &lt;div&gt;&lt;/div&gt;\r\n\r\n\r\nI assumed there would be a &quot;strict&quot; mode where it would throw an exception with the variable name and additional context if the variable is not found in the Context. I&#39;ve been searching stackoverflow and the API docs but cannot find anything like this. I thought of overriding the Context `getVariable` so that it does a `containsVariable` check, but I&#39;m not sure if that has performance implications. Also, I cannot capture any metadata about where in the template it failed. Am I missing something obvious?\r\n\r\nI&#39;m using Thymeleaf as a standalone engine -- not as part of a web/spring app.","title":"Thymeleaf - throw exception is template variable not found in Context","body":"<p>I want Thymeleaf to throw an exception if a variable used in a template is not found in the Context. It seems by default Thymeleaf will inject empty text in an HTML tag if the bound variable is not found in the Context. This seems dangerous as it essentially silently hides errors.</p>\n<pre><code>&lt;div data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>Context context = new Context();\n// never set &quot;amount&quot; variable\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;div&gt;&lt;/div&gt;\n</code></pre>\n<p>I assumed there would be a &quot;strict&quot; mode where it would throw an exception with the variable name and additional context if the variable is not found in the Context. I've been searching stackoverflow and the API docs but cannot find anything like this. I thought of overriding the Context <code>getVariable</code> so that it does a <code>containsVariable</code> check, but I'm not sure if that has performance implications. Also, I cannot capture any metadata about where in the template it failed. Am I missing something obvious?</p>\n<p>I'm using Thymeleaf as a standalone engine -- not as part of a web/spring app.</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","localstack"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1666039133,"post_id":74102965,"comment_id":130836671,"body_markdown":"There&#39;s really nothing SpringBoot specific here. This is just some Java code calling the AWS SDK for Java. If it can&#39;t find the secret, then either the name you are giving it is incorrect, or the region is incorrect, or the access key/secret key you gave it is for a different account.","body":"There&#39;s really nothing SpringBoot specific here. This is just some Java code calling the AWS SDK for Java. If it can&#39;t find the secret, then either the name you are giving it is incorrect, or the region is incorrect, or the access key/secret key you gave it is for a different account."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1666039601,"post_id":74102965,"comment_id":130836821,"body_markdown":"So you&#39;re using something like localstack to do this, instead of actually using AWS? What&#39;s the value of `secretManagerUrl` in the Java code? Also, did you notice the region you show in the code is not the region shown in the error message?","body":"So you&#39;re using something like localstack to do this, instead of actually using AWS? What&#39;s the value of <code>secretManagerUrl</code> in the Java code? Also, did you notice the region you show in the code is not the region shown in the error message?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666039889,"post_id":74102965,"comment_id":130836889,"body_markdown":"@MarkB I forgot to add localstack properties. I added all them.","body":"@MarkB I forgot to add localstack properties. I added all them."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1666043869,"post_id":74102965,"comment_id":130837953,"body_markdown":"You still haven&#39;t shown what value the `secretManagerUrl` variable in the Java code contains. And you don&#39;t appear to be setting the SecretsManager URL in the application.properties file either.","body":"You still haven&#39;t shown what value the <code>secretManagerUrl</code> variable in the Java code contains. And you don&#39;t appear to be setting the SecretsManager URL in the application.properties file either."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666043933,"post_id":74102965,"comment_id":130837968,"body_markdown":"@MarkB `@Value(&quot;${cloud.aws.secrets-manager.end-point.uri}&quot;)\n    private String secretManagerUrl;`","body":"@MarkB <code>@Value(&quot;${cloud.aws.secrets-manager.end-point.uri}&quot;)     private String secretManagerUrl;</code>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666181590,"post_id":74102965,"comment_id":130874025,"body_markdown":"@MarkB I still couldn&#39;t fix the issue.","body":"@MarkB I still couldn&#39;t fix the issue."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668635554,"post_id":74102965,"comment_id":131456851,"body_markdown":"@MarkB I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml","body":"@MarkB I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : <a href=\"https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml\" title=\"cannot run sh file regarding aws configure in localstack in docker compose yml\">stackoverflow.com/questions/74363198/&hellip;</a>"},{"owner":{"account_id":4190612,"reputation":951,"user_id":3433309,"accept_rate":54,"display_name":"delpha"},"score":0,"creation_date":1688659000,"post_id":74102965,"comment_id":135106667,"body_markdown":"I am having the same issue with .Net, any solution for this ?","body":"I am having the same issue with .Net, any solution for this ?"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666041738,"creation_date":1666041738,"answer_id":74103372,"question_id":74102965,"body_markdown":"Let&#39;s understand what is aws account secret  and aws Secrets Manager:\r\n\r\n- aws account secret is used for client (java, shell, etc) authentication\r\n- aws Secrets Manager is a online service to centralize some secret of your app like database_host, database_password, some_api_key, etc\r\n\r\nTo finf the error, follow these steps\r\n\r\n## retrieve the value\r\n\r\nIf your secret was created correctly, try to retrieve it:\r\n\r\n```\r\naws secretsmanager get-secret-value --secret-id account-player1\r\n```\r\n\r\nIf you can&#39;t by shell, neither can the java. \r\n\r\n## id should contain the arn\r\n\r\nAccording to the some posts, the secret name should be the entire ARN:\r\n\r\nSo instead **&quot;aws/secret&quot;** of `String secretName = &quot;aws/secret&quot;;` use\r\n\r\n```\r\narn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\r\ndRTaw\r\n```\r\n\r\n## docs and posts\r\n\r\n- https://stackoverflow.com/questions/57821886/aws-secrets-manager-can-t-find-the-specified-secret\r\n- https://www.bitovi.com/blog/aws-secrets-manager-devops\r\n- https://airflow.apache.org/docs/apache-airflow-providers-amazon/2.3.0/secrets-backends/aws-secrets-manager.html\r\n- https://docs.aws.amazon.com/AmazonECS/latest/userguide/specifying-sensitive-data-secrets.html","title":"Spring Boot AWS Secrets Manager can&#39;t find the specified secret","body":"<p>Let's understand what is aws account secret  and aws Secrets Manager:</p>\n<ul>\n<li>aws account secret is used for client (java, shell, etc) authentication</li>\n<li>aws Secrets Manager is a online service to centralize some secret of your app like database_host, database_password, some_api_key, etc</li>\n</ul>\n<p>To finf the error, follow these steps</p>\n<h2>retrieve the value</h2>\n<p>If your secret was created correctly, try to retrieve it:</p>\n<pre><code>aws secretsmanager get-secret-value --secret-id account-player1\n</code></pre>\n<p>If you can't by shell, neither can the java.</p>\n<h2>id should contain the arn</h2>\n<p>According to the some posts, the secret name should be the entire ARN:</p>\n<p>So instead <strong>&quot;aws/secret&quot;</strong> of <code>String secretName = &quot;aws/secret&quot;;</code> use</p>\n<pre><code>arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\ndRTaw\n</code></pre>\n<h2>docs and posts</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/57821886/aws-secrets-manager-can-t-find-the-specified-secret\">AWS Secrets Manager can’t find the specified secret</a></li>\n<li><a href=\"https://www.bitovi.com/blog/aws-secrets-manager-devops\" rel=\"nofollow noreferrer\">https://www.bitovi.com/blog/aws-secrets-manager-devops</a></li>\n<li><a href=\"https://airflow.apache.org/docs/apache-airflow-providers-amazon/2.3.0/secrets-backends/aws-secrets-manager.html\" rel=\"nofollow noreferrer\">https://airflow.apache.org/docs/apache-airflow-providers-amazon/2.3.0/secrets-backends/aws-secrets-manager.html</a></li>\n<li><a href=\"https://docs.aws.amazon.com/AmazonECS/latest/userguide/specifying-sensitive-data-secrets.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonECS/latest/userguide/specifying-sensitive-data-secrets.html</a></li>\n</ul>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3713,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666044015,"creation_date":1666038965,"question_id":74102965,"body_markdown":"I have a problem about getting specified secret from AWS Secret Manager in my Spring Boot Example.\r\n\r\nI think localstack is useful for the process.\r\n\r\nHere is the localstack code snippet defined in docker-compose.\r\n\r\n      localstack:\r\n        image: localstack/localstack:latest\r\n        environment:\r\n          - SERVICES=s3\r\n          - EDGE_PORT=4566\r\n          - AWS_ACCESS_KEY_ID=test\r\n          - AWS_SECRET_ACCESS_KEY=test\r\n          - AWS_DEFAULT_REGION=eu-west-3\r\n        ports:\r\n          - &#39;4566-4597:4566-4597&#39;\r\n        volumes:\r\n          - &quot;${TMPDIR:-/tmp/localstack}:/tmp/localstack&quot;\r\n\r\nAfter I ran setup-aws.sh, I tried to run the Spring Boot example.\r\n\r\nI couldn&#39;t get secret value?\r\n\r\nHow can I fix it?\r\n\r\nHere is the application.properties file \r\n\r\n    cloud.aws.end-point.uri=http://s3.localhost.localstack.cloud:4566/\r\n    cloud.aws.secrets-manager.end-point.uri=http://localhost:4566  -&gt; secretManagerUrl\r\n    \r\n    s3.bucket.base.url=http://bucketnameproject.s3.localhost.localstack.cloud:4566/\r\n\r\nHere is the init method of AWSConfiguration file\r\n\r\n    public void init() throws JsonProcessingException {\r\n            String secretName = &quot;aws/secret&quot;;\r\n            String region = &quot;eu-west-3&quot;;\r\n    \r\n            AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard()\r\n                    .withEndpointConfiguration(new EndpointConfiguration(secretManagerUrl, region))\r\n                    .build();\r\n    \r\n            String secret;\r\n            GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\r\n                    .withSecretId(secretName);\r\n            GetSecretValueResult getSecretValueResult = null;\r\n    \r\n            getSecretValueResult = client.getSecretValue(getSecretValueRequest);\r\n    \r\n            secret = getSecretValueResult.getSecretString(); // HERE IS THE ERROR LOCATION\r\n    \r\n            ObjectMapper m = new ObjectMapper();\r\n            Map&lt;String, String&gt;  read = m.readValue(secret, Map.class);\r\n            read.forEach((key, value) -&gt; {\r\n                secretCache.put(&quot;accessKey&quot;, key);\r\n                secretCache.put(&quot;secretKey&quot;, value);\r\n            });\r\n        }\r\n\r\nHere is the setup-aws.sh shown below.\r\n\r\n    aws configure set aws_access_key_id &quot;test&quot;\r\n    aws configure set aws_secret_access_key &quot;test&quot;\r\n    aws configure set default.region eu-west-3\r\n    \r\n    \r\n    aws --endpoint-url=http://localhost:4566 secretsmanager create-secret --name aws/secret --secret-string &#39;{&quot;my_uname&quot;:&quot;username&quot;,&quot;my_pwd&quot;:&quot;password&quot;}&#39;\r\n    \r\n    aws --endpoint-url=http://localhost:4566  s3api create-bucket \\\r\n                  --bucket bucketnameproject \\\r\n                  --region eu-west-1 \\\r\n                  --create-bucket-configuration LocationConstraint=eu-west-3\r\n\r\nHere is the output of sh file\r\n\r\n    {\r\n        &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\r\n    dRTaw&quot;,\r\n        &quot;Name&quot;: &quot;aws/secret&quot;,\r\n        &quot;VersionId&quot;: &quot;ce0e8536-565a-4791-9259-8272d46e04be&quot;\r\n    }\r\n\r\n\r\n\r\nHere is the output of `aws --endpoint-url=http://localhost:4566/ secretsmanager list-secrets`\r\n\r\n        &quot;SecretList&quot;: [\r\n            {\r\n                &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-ScYdQq&quot;,\r\n                &quot;Name&quot;: &quot;aws/secret&quot;,\r\n                &quot;LastChangedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;,\r\n                &quot;SecretVersionsToStages&quot;: {\r\n                    &quot;eca973d8-c502-4c74-a646-8e412cd66973&quot;: [\r\n                        &quot;AWSCURRENT&quot;\r\n                    ]\r\n                },\r\n                &quot;CreatedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n\r\n\r\nHere is the error shown below.\r\n\r\n    com.amazonaws.services.secretsmanager.model.ResourceNotFoundException: Secrets Manager can&#39;t find the specified secret. (Service: AWSSecretsManager; Status Code: 400; Error Code: ResourceNotFoundException; Request ID: 55AQCW3AFW5RK39GQZGXAK6MVHG80K7W6SGYTUE5MTJ5X5TMLEMB; Proxy: null)","title":"Spring Boot AWS Secrets Manager can&#39;t find the specified secret","body":"<p>I have a problem about getting specified secret from AWS Secret Manager in my Spring Boot Example.</p>\n<p>I think localstack is useful for the process.</p>\n<p>Here is the localstack code snippet defined in docker-compose.</p>\n<pre><code>  localstack:\n    image: localstack/localstack:latest\n    environment:\n      - SERVICES=s3\n      - EDGE_PORT=4566\n      - AWS_ACCESS_KEY_ID=test\n      - AWS_SECRET_ACCESS_KEY=test\n      - AWS_DEFAULT_REGION=eu-west-3\n    ports:\n      - '4566-4597:4566-4597'\n    volumes:\n      - &quot;${TMPDIR:-/tmp/localstack}:/tmp/localstack&quot;\n</code></pre>\n<p>After I ran setup-aws.sh, I tried to run the Spring Boot example.</p>\n<p>I couldn't get secret value?</p>\n<p>How can I fix it?</p>\n<p>Here is the application.properties file</p>\n<pre><code>cloud.aws.end-point.uri=http://s3.localhost.localstack.cloud:4566/\ncloud.aws.secrets-manager.end-point.uri=http://localhost:4566  -&gt; secretManagerUrl\n\ns3.bucket.base.url=http://bucketnameproject.s3.localhost.localstack.cloud:4566/\n</code></pre>\n<p>Here is the init method of AWSConfiguration file</p>\n<pre><code>public void init() throws JsonProcessingException {\n        String secretName = &quot;aws/secret&quot;;\n        String region = &quot;eu-west-3&quot;;\n\n        AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard()\n                .withEndpointConfiguration(new EndpointConfiguration(secretManagerUrl, region))\n                .build();\n\n        String secret;\n        GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\n                .withSecretId(secretName);\n        GetSecretValueResult getSecretValueResult = null;\n\n        getSecretValueResult = client.getSecretValue(getSecretValueRequest);\n\n        secret = getSecretValueResult.getSecretString(); // HERE IS THE ERROR LOCATION\n\n        ObjectMapper m = new ObjectMapper();\n        Map&lt;String, String&gt;  read = m.readValue(secret, Map.class);\n        read.forEach((key, value) -&gt; {\n            secretCache.put(&quot;accessKey&quot;, key);\n            secretCache.put(&quot;secretKey&quot;, value);\n        });\n    }\n</code></pre>\n<p>Here is the setup-aws.sh shown below.</p>\n<pre><code>aws configure set aws_access_key_id &quot;test&quot;\naws configure set aws_secret_access_key &quot;test&quot;\naws configure set default.region eu-west-3\n\n\naws --endpoint-url=http://localhost:4566 secretsmanager create-secret --name aws/secret --secret-string '{&quot;my_uname&quot;:&quot;username&quot;,&quot;my_pwd&quot;:&quot;password&quot;}'\n\naws --endpoint-url=http://localhost:4566  s3api create-bucket \\\n              --bucket bucketnameproject \\\n              --region eu-west-1 \\\n              --create-bucket-configuration LocationConstraint=eu-west-3\n</code></pre>\n<p>Here is the output of sh file</p>\n<pre><code>{\n    &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\ndRTaw&quot;,\n    &quot;Name&quot;: &quot;aws/secret&quot;,\n    &quot;VersionId&quot;: &quot;ce0e8536-565a-4791-9259-8272d46e04be&quot;\n}\n</code></pre>\n<p>Here is the output of <code>aws --endpoint-url=http://localhost:4566/ secretsmanager list-secrets</code></p>\n<pre><code>    &quot;SecretList&quot;: [\n        {\n            &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-ScYdQq&quot;,\n            &quot;Name&quot;: &quot;aws/secret&quot;,\n            &quot;LastChangedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;,\n            &quot;SecretVersionsToStages&quot;: {\n                &quot;eca973d8-c502-4c74-a646-8e412cd66973&quot;: [\n                    &quot;AWSCURRENT&quot;\n                ]\n            },\n            &quot;CreatedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Here is the error shown below.</p>\n<pre><code>com.amazonaws.services.secretsmanager.model.ResourceNotFoundException: Secrets Manager can't find the specified secret. (Service: AWSSecretsManager; Status Code: 400; Error Code: ResourceNotFoundException; Request ID: 55AQCW3AFW5RK39GQZGXAK6MVHG80K7W6SGYTUE5MTJ5X5TMLEMB; Proxy: null)\n</code></pre>\n"},{"tags":["java","spring","jsp"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1515136184,"post_id":48108646,"comment_id":83192773,"body_markdown":"I think you should use `@RequestBody` rather than `@ModelAttribute`, and it would be better to use a class rather than a Map (just my thoughts).","body":"I think you should use <code>@RequestBody</code> rather than <code>@ModelAttribute</code>, and it would be better to use a class rather than a Map (just my thoughts)."}],"answers":[{"tags":[],"owner":{"account_id":2348592,"reputation":887,"user_id":2058085,"display_name":"Gnanasekaran Palanisamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515139523,"creation_date":1515139523,"answer_id":48109492,"question_id":48108646,"body_markdown":"\t@RequestMapping(value = &quot;submitReportQuery&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot; )\r\n    public String submitReportQuery(@RequestBody ReportQueryMapBean reportQueryMap)throws Exception{\r\n         //model.addAttribute(&quot;successful&quot;, true);\r\n         return &quot;queries/SelfServiceQueriesSubmitResults&quot;;\r\n    }\r\n\t\r\n\tpublic class ReportQueryMapBean {\r\n\t\t// to do delcare the bean fields to match the request\r\n\t\t// and corresponding getter and setter function\r\n\t}","title":"Spring MVC, pass json object to controler and return view with model attributes set","body":"<pre><code>@RequestMapping(value = \"submitReportQuery\", method = RequestMethod.POST, consumes=\"application/json\" )\npublic String submitReportQuery(@RequestBody ReportQueryMapBean reportQueryMap)throws Exception{\n     //model.addAttribute(\"successful\", true);\n     return \"queries/SelfServiceQueriesSubmitResults\";\n}\n\npublic class ReportQueryMapBean {\n    // to do delcare the bean fields to match the request\n    // and corresponding getter and setter function\n}\n</code></pre>\n"}],"owner":{"account_id":3088175,"reputation":1401,"user_id":3165626,"accept_rate":71,"display_name":"LegionDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1650,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48109492,"answer_count":1,"score":0,"last_activity_date":1666043878,"creation_date":1515135370,"question_id":48108646,"body_markdown":"I&#39;m trying to send data to my controller, have it do a service call and then return the result to be displayed on the view\r\n\r\nMy Ajax call looks like this\r\n\r\n    $.ajax({\r\n                url: &quot;&lt;c:url value=&quot;submitReportQuery&quot;/&gt;&quot;,\r\n                type: &quot;POST&quot;,\r\n                dataType: &quot;html&quot;,\r\n                contentType: &quot;application/json;&quot;,\r\n                data: JSON.stringify(reportQueryMap),\r\n                success: function (data) {\r\n                    $(&#39;#SelfServiceResults&#39;).html(data);\r\n                }\r\n            })\r\n\r\nand my controller looks like this \r\n\r\n    @RequestMapping(value = &quot;submitReportQuery&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot; )\r\n        public String submitReportQuery(@ModelAttribute Map&lt;String, String&gt; reportQueryMap/*, Model model, BindingResult bindingResult*/)throws Exception{\r\n             //model.addAttribute(&quot;successful&quot;, true);\r\n             return &quot;queries/SelfServiceQueriesSubmitResults&quot;;\r\n        }\r\n\r\nThe json object looks like this (it can have anything from 0-5 randomKeys) which I pass as a map to a service\r\nNote: the actual name of &quot;randomKey&quot; can change the key is a unknown\r\n\r\n    {\r\n    &quot;randomKey1&quot;:&quot;111&quot;,\r\n    &quot;randomKey2&quot;:&quot;222&quot;,\r\n    &quot;randomKey3&quot;:&quot;333&quot;,\r\n    &quot;reportType&quot;:&quot;Commission Processed BH&quot;,\r\n    &quot;reportProduct&quot;:&quot;LIFE&quot;,\r\n    &quot;reportMonth&quot;:&quot;January 2017&quot;,\r\n    &quot;queryRemark&quot;:&quot;nice&quot;\r\n    }\r\n\r\nI can&#39;t seem to get the &quot;successful&quot; attribute passed to the view, if I add the parts comented out I get this error \r\n\r\n    org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchMethodError: java.lang.String submitReportQuery(java.util.Map)\r\n\r\nI basically want [This][1] but it must return a view with attributes set on it\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18524524/passing-json-data-to-a-spring-mvc-controller","title":"Spring MVC, pass json object to controler and return view with model attributes set","body":"<p>I'm trying to send data to my controller, have it do a service call and then return the result to be displayed on the view</p>\n\n<p>My Ajax call looks like this</p>\n\n<pre><code>$.ajax({\n            url: \"&lt;c:url value=\"submitReportQuery\"/&gt;\",\n            type: \"POST\",\n            dataType: \"html\",\n            contentType: \"application/json;\",\n            data: JSON.stringify(reportQueryMap),\n            success: function (data) {\n                $('#SelfServiceResults').html(data);\n            }\n        })\n</code></pre>\n\n<p>and my controller looks like this </p>\n\n<pre><code>@RequestMapping(value = \"submitReportQuery\", method = RequestMethod.POST, consumes=\"application/json\" )\n    public String submitReportQuery(@ModelAttribute Map&lt;String, String&gt; reportQueryMap/*, Model model, BindingResult bindingResult*/)throws Exception{\n         //model.addAttribute(\"successful\", true);\n         return \"queries/SelfServiceQueriesSubmitResults\";\n    }\n</code></pre>\n\n<p>The json object looks like this (it can have anything from 0-5 randomKeys) which I pass as a map to a service\nNote: the actual name of \"randomKey\" can change the key is a unknown</p>\n\n<pre><code>{\n\"randomKey1\":\"111\",\n\"randomKey2\":\"222\",\n\"randomKey3\":\"333\",\n\"reportType\":\"Commission Processed BH\",\n\"reportProduct\":\"LIFE\",\n\"reportMonth\":\"January 2017\",\n\"queryRemark\":\"nice\"\n}\n</code></pre>\n\n<p>I can't seem to get the \"successful\" attribute passed to the view, if I add the parts comented out I get this error </p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchMethodError: java.lang.String submitReportQuery(java.util.Map)\n</code></pre>\n\n<p>I basically want <a href=\"https://stackoverflow.com/questions/18524524/passing-json-data-to-a-spring-mvc-controller\">This</a> but it must return a view with attributes set on it</p>\n"},{"tags":["java","cucumber","tagging","scenarios","smoke-testing"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1666028569,"post_id":74100878,"comment_id":130833519,"body_markdown":"Split the table into two and provide the required tag on top of the examples keyword containing the smoke scenario..","body":"Split the table into two and provide the required tag on top of the examples keyword containing the smoke scenario.."}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666043658,"creation_date":1666042941,"answer_id":74103556,"question_id":74100878,"body_markdown":"You can tag examples sections and have multiple examples sections.\r\n\r\n```feature\r\n@SmokeTest    \r\nScenario Outline: Number is or is not valid\r\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\r\n    Then I will receive the following &lt;message&gt;\r\n  \r\n    @SmokeTest\r\n    Examples: \r\n        | num    | message           |                                                                                     \r\n        | 0      | &quot;Processed event&quot; |   \r\n\r\n    Examples: You can also name these \r\n        | num    | message           |                                                                                                                                          \r\n        | 1      | &quot;Processed event&quot; |                                                                  \r\n        | 2      | &quot;Processed event&quot; | \r\n\r\n```                           ","title":"Cucumber: @SmokeTest Tagging one scenario out of a scenario outline","body":"<p>You can tag examples sections and have multiple examples sections.</p>\n<pre><code>@SmokeTest    \nScenario Outline: Number is or is not valid\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\n    Then I will receive the following &lt;message&gt;\n  \n    @SmokeTest\n    Examples: \n        | num    | message           |                                                                                     \n        | 0      | &quot;Processed event&quot; |   \n\n    Examples: You can also name these \n        | num    | message           |                                                                                                                                          \n        | 1      | &quot;Processed event&quot; |                                                                  \n        | 2      | &quot;Processed event&quot; | \n\n</code></pre>\n"}],"owner":{"account_id":1941751,"reputation":93,"user_id":1747816,"accept_rate":20,"display_name":"Kirsty Meredith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74103556,"answer_count":1,"score":1,"last_activity_date":1666043658,"creation_date":1666026902,"question_id":74100878,"body_markdown":"I am new to tagging in Cucumber.  I have built up an automation suite and have identified all tests which can be effectively tagged as Smoke Tests using the @SmokeTest tag.\r\n\r\nHowever is there a way to do the following?  I don&#39;t want to tag the whole of the Scenario Outline as a SmokeTest - but just want one test/response to be the Scenario as per below:\r\n\r\n**What I don&#39;t want - as this will test all scenarios**\r\n\r\n    @SmokeTest    \r\n    Scenario Outline: Number is or is not valid\r\n        Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\r\n        Then I will receive the following &lt;message&gt;\r\n        Examples:\r\n            | num    | message           |                                                                                     \r\n            | 0      | &quot;Processed event&quot; |                                                        \r\n            | 1      | &quot;Processed event&quot; |                                                                  \r\n            | 2      | &quot;Processed event&quot; |                                                                 \r\n            | 3      | &quot;Processed event&quot; |                                                                 \r\n            | 4      | &quot;Processed event&quot; |                                                                 \r\n            | 5      | &quot;Processed event&quot; |                                                                                                                                 \r\n            | 6      | &quot;Message failed&quot;  |\r\n            | -1     | &quot;Message failed&quot;  |\r\n            | &quot;One&quot;  | &quot;Message failed&quot;  |\r\n\r\n**What I would like to have - using the Number of 1 as tagged as my Smoke Test**\r\n\r\n    Scenario Outline: Number is or is not valid\r\n        Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\r\n        Then I will receive the following &lt;message&gt;\r\n        Examples:\r\n               | num    | message           |                                                                                     \r\n               | 0      | &quot;Processed event&quot; |                                                        \r\n    @SmokeTest | 1      | &quot;Processed event&quot; |                                                                  \r\n               | 2      | &quot;Processed event&quot; |                                                                 \r\n               | 3      | &quot;Processed event&quot; |                                                                 \r\n               | 4      | &quot;Processed event&quot; |                                                                 \r\n               | 5      | &quot;Processed event&quot; |                                                                                                                                 \r\n               | 6      | &quot;Message failed&quot;  |\r\n               | -1     | &quot;Message failed&quot;  |\r\n               | &quot;One&quot;  | &quot;Message failed&quot;  |\r\n\r\nIs this possible?  Or would it be better to create a separate scenario definition with the Smoke Test I just want?\r\n\r\nMany thanks!\r\n\r\nKirsty\r\n","title":"Cucumber: @SmokeTest Tagging one scenario out of a scenario outline","body":"<p>I am new to tagging in Cucumber.  I have built up an automation suite and have identified all tests which can be effectively tagged as Smoke Tests using the @SmokeTest tag.</p>\n<p>However is there a way to do the following?  I don't want to tag the whole of the Scenario Outline as a SmokeTest - but just want one test/response to be the Scenario as per below:</p>\n<p><strong>What I don't want - as this will test all scenarios</strong></p>\n<pre><code>@SmokeTest    \nScenario Outline: Number is or is not valid\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\n    Then I will receive the following &lt;message&gt;\n    Examples:\n        | num    | message           |                                                                                     \n        | 0      | &quot;Processed event&quot; |                                                        \n        | 1      | &quot;Processed event&quot; |                                                                  \n        | 2      | &quot;Processed event&quot; |                                                                 \n        | 3      | &quot;Processed event&quot; |                                                                 \n        | 4      | &quot;Processed event&quot; |                                                                 \n        | 5      | &quot;Processed event&quot; |                                                                                                                                 \n        | 6      | &quot;Message failed&quot;  |\n        | -1     | &quot;Message failed&quot;  |\n        | &quot;One&quot;  | &quot;Message failed&quot;  |\n</code></pre>\n<p><strong>What I would like to have - using the Number of 1 as tagged as my Smoke Test</strong></p>\n<pre><code>Scenario Outline: Number is or is not valid\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\n    Then I will receive the following &lt;message&gt;\n    Examples:\n           | num    | message           |                                                                                     \n           | 0      | &quot;Processed event&quot; |                                                        \n@SmokeTest | 1      | &quot;Processed event&quot; |                                                                  \n           | 2      | &quot;Processed event&quot; |                                                                 \n           | 3      | &quot;Processed event&quot; |                                                                 \n           | 4      | &quot;Processed event&quot; |                                                                 \n           | 5      | &quot;Processed event&quot; |                                                                                                                                 \n           | 6      | &quot;Message failed&quot;  |\n           | -1     | &quot;Message failed&quot;  |\n           | &quot;One&quot;  | &quot;Message failed&quot;  |\n</code></pre>\n<p>Is this possible?  Or would it be better to create a separate scenario definition with the Smoke Test I just want?</p>\n<p>Many thanks!</p>\n<p>Kirsty</p>\n"},{"tags":["java","zip","deflate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666012513,"post_id":74097426,"comment_id":130827437,"body_markdown":"*my data is stored deflated in a database*. So why not make that a zip file in the first place?","body":"<i>my data is stored deflated in a database</i>. So why not make that a zip file in the first place?"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1666169230,"post_id":74097426,"comment_id":130869508,"body_markdown":"@g00se this is part of another framework which cannot be changed","body":"@g00se this is part of another framework which cannot be changed"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666010691,"creation_date":1666010691,"answer_id":74097498,"question_id":74097426,"body_markdown":"`.setMethod(STORED)` is like calling `zip -0`: It&#39;s telling the Zip library that you want the data to be stored uncompressed. It&#39;s not what you want.\r\n\r\nThe zip library is __not capable__ of delivering on this.\r\n\r\nThere&#39;s a somewhat more expansive zip library out there that supports more of zip&#39;s features: [lingala-zip4j](https://github.com/srikanth-lingala/zip4j).\r\n\r\nI don&#39;t think that library can do the job either. So, if you want to do this, you&#39;d have to fork it. At least you now have a thing to fork.\r\n\r\nAssuming the data you have is compressed with DEFLATE, you can indeed do what you want - it&#39;s just a matter of writing the right zip header info. Forking lingala, or handwriting your own, given that the only thing you need it to do is emit zip files that most zip tools can read, is not actually all that complicated; the zip header structure is a bit weird but you just need enough to successfully compress your own data. Wikipedia for some reason has the [full breakdown of the zip format](https://en.wikipedia.org/wiki/ZIP_(file_format)) if you prefer to just write it from scratch instead of forking lingala.","title":"Write deflated byte[] into zip file","body":"<p><code>.setMethod(STORED)</code> is like calling <code>zip -0</code>: It's telling the Zip library that you want the data to be stored uncompressed. It's not what you want.</p>\n<p>The zip library is <strong>not capable</strong> of delivering on this.</p>\n<p>There's a somewhat more expansive zip library out there that supports more of zip's features: <a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">lingala-zip4j</a>.</p>\n<p>I don't think that library can do the job either. So, if you want to do this, you'd have to fork it. At least you now have a thing to fork.</p>\n<p>Assuming the data you have is compressed with DEFLATE, you can indeed do what you want - it's just a matter of writing the right zip header info. Forking lingala, or handwriting your own, given that the only thing you need it to do is emit zip files that most zip tools can read, is not actually all that complicated; the zip header structure is a bit weird but you just need enough to successfully compress your own data. Wikipedia for some reason has the <a href=\"https://en.wikipedia.org/wiki/ZIP_(file_format)\" rel=\"nofollow noreferrer\">full breakdown of the zip format</a> if you prefer to just write it from scratch instead of forking lingala.</p>\n"},{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666042889,"creation_date":1666042889,"answer_id":74103548,"question_id":74097426,"body_markdown":"You&#39;ll need to roll your own zip wrappers around the deflate data. The zip format is well documented in the [PKWare APPNOTE][1].\r\n\r\nFirst, you need to make sure that it actually is raw deflate data. It might be a zlib stream, or possibly even a gzip stream. If so, you will first need to strip those wrappers to get the raw deflate data.\r\n\r\nThen you will need to decompress the deflate data to get two pieces of information: the length of the uncomrpessed data, and the CRC-32 of the uncompressed data. Those will be required to fill in the zip headers.\r\n\r\nWith the raw deflate data, the uncompressed length, and the uncompressed CRC, it will be straightforward to create a single-entry zip file with that data. You will just need to make up a file name for the entry.\r\n\r\n\r\n  [1]: https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.9.TXT","title":"Write deflated byte[] into zip file","body":"<p>You'll need to roll your own zip wrappers around the deflate data. The zip format is well documented in the <a href=\"https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.9.TXT\" rel=\"nofollow noreferrer\">PKWare APPNOTE</a>.</p>\n<p>First, you need to make sure that it actually is raw deflate data. It might be a zlib stream, or possibly even a gzip stream. If so, you will first need to strip those wrappers to get the raw deflate data.</p>\n<p>Then you will need to decompress the deflate data to get two pieces of information: the length of the uncomrpessed data, and the CRC-32 of the uncompressed data. Those will be required to fill in the zip headers.</p>\n<p>With the raw deflate data, the uncompressed length, and the uncompressed CRC, it will be straightforward to create a single-entry zip file with that data. You will just need to make up a file name for the entry.</p>\n"}],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74097498,"answer_count":2,"score":0,"last_activity_date":1666042889,"creation_date":1666010398,"question_id":74097426,"body_markdown":"my data is stored deflated in a database.\r\nYou can donwload this data inflated as .txt via app.\r\nNow it should be possible to download the data as .zip\r\n\r\nI&#39;m looking for a solution without decompressing the data and compressing it again via\r\n```\r\n// byte[] deflated = ...;\r\n// File zipFile = ...;\r\ntry (FileOutputStream fos = new FileOutputStream(zipFile);\r\n        ZipOutputStream zos = new ZipOutputStream(fos))\r\n{\r\n    ZipEntry entry = new ZipEntry(&quot;data.txt&quot;);\r\n    zos.putNextEntry(entry);\r\n    zos.write(inflate(deflated));\r\n} catch (Exception e) {\r\n    // handling\r\n}\r\n```\r\nI tried to work with `entry.setMethod(ZipEntry.STORED)` but it didn&#39;t work.\r\nGoogle search only delivers solutions with uncompressed data.\r\nAny idea?\r\nGZip or 7z may be possible too.","title":"Write deflated byte[] into zip file","body":"<p>my data is stored deflated in a database.\nYou can donwload this data inflated as .txt via app.\nNow it should be possible to download the data as .zip</p>\n<p>I'm looking for a solution without decompressing the data and compressing it again via</p>\n<pre><code>// byte[] deflated = ...;\n// File zipFile = ...;\ntry (FileOutputStream fos = new FileOutputStream(zipFile);\n        ZipOutputStream zos = new ZipOutputStream(fos))\n{\n    ZipEntry entry = new ZipEntry(&quot;data.txt&quot;);\n    zos.putNextEntry(entry);\n    zos.write(inflate(deflated));\n} catch (Exception e) {\n    // handling\n}\n</code></pre>\n<p>I tried to work with <code>entry.setMethod(ZipEntry.STORED)</code> but it didn't work.\nGoogle search only delivers solutions with uncompressed data.\nAny idea?\nGZip or 7z may be possible too.</p>\n"},{"tags":["java","algorithm","linked-list","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644083763,"creation_date":1644083313,"answer_id":71000599,"question_id":71000488,"body_markdown":"The problem is that your code always returns the newly created node, but you should always return the *first* node in the list, which either is what it was when you got it, or is the new node in case the position was zero.\r\n\r\n### What to look at:\r\n\r\nI&#39;ll not provide the corrected code, but will give you two hints:\r\n\r\nBy moving `llist` ahead in the `for` loop, you lose the reference to that first node, so use a different variable for walking through the list.\r\n\r\nAlso, you should deal specifically with the case where `position` is 0, as this is the only case where the returned value is not the original `llist` value, but the new node&#39;s reference, much like you have in the `if` block.","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>The problem is that your code always returns the newly created node, but you should always return the <em>first</em> node in the list, which either is what it was when you got it, or is the new node in case the position was zero.</p>\n<h3>What to look at:</h3>\n<p>I'll not provide the corrected code, but will give you two hints:</p>\n<p>By moving <code>llist</code> ahead in the <code>for</code> loop, you lose the reference to that first node, so use a different variable for walking through the list.</p>\n<p>Also, you should deal specifically with the case where <code>position</code> is 0, as this is the only case where the returned value is not the original <code>llist</code> value, but the new node's reference, much like you have in the <code>if</code> block.</p>\n"},{"tags":[],"owner":{"account_id":20218149,"reputation":319,"user_id":14828354,"display_name":"VAIBHAV NIRMAL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644142090,"creation_date":1644142090,"answer_id":71006053,"question_id":71000488,"body_markdown":"Easiest solution No need of explaination : \r\nSolution : \r\n\r\n    static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode head, int data, int position) {\r\n            if (head == null) return null;\r\n            SinglyLinkedListNode temp = new SinglyLinkedListNode(data);\r\n            if (position == 0) {\r\n                temp.next = head;\r\n                return temp;\r\n            }\r\n            SinglyLinkedListNode p = head;\r\n            for (int i = 0; i&lt; position-1; i++) {\r\n                p = p.next;\r\n            }\r\n            SinglyLinkedListNode next = p.next;\r\n            p.next = temp;\r\n            temp.next = next;\r\n            return head;\r\n        }","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>Easiest solution No need of explaination :\nSolution :</p>\n<pre><code>static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode head, int data, int position) {\n        if (head == null) return null;\n        SinglyLinkedListNode temp = new SinglyLinkedListNode(data);\n        if (position == 0) {\n            temp.next = head;\n            return temp;\n        }\n        SinglyLinkedListNode p = head;\n        for (int i = 0; i&lt; position-1; i++) {\n            p = p.next;\n        }\n        SinglyLinkedListNode next = p.next;\n        p.next = temp;\n        temp.next = next;\n        return head;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14800473,"reputation":1,"user_id":10688855,"display_name":"Cui Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644565572,"creation_date":1644565572,"answer_id":71076649,"question_id":71000488,"body_markdown":"The problem requires you to return a linked list. When we are asked to return a linked list, actually we return the first node of the linked list. \r\n\r\nSo, your problem is the returned value in your code script is not the first node of the linked list. \r\n\r\nThe simplest solution is that you keep the first node in another variable, and  \r\n return that variable after you have done the insert thing.\r\nfor example:\r\n\r\n    SinglyLinkedListNode dumyNode = llist;\r\n    ......\r\n    return dumyNode;\r\n\r\n\r\n","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>The problem requires you to return a linked list. When we are asked to return a linked list, actually we return the first node of the linked list.</p>\n<p>So, your problem is the returned value in your code script is not the first node of the linked list.</p>\n<p>The simplest solution is that you keep the first node in another variable, and<br />\nreturn that variable after you have done the insert thing.\nfor example:</p>\n<pre><code>SinglyLinkedListNode dumyNode = llist;\n......\nreturn dumyNode;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10751443,"reputation":347,"user_id":7910725,"display_name":"Mabadai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666042425,"creation_date":1666042425,"answer_id":74103478,"question_id":71000488,"body_markdown":"Suppose given the correct Node class, you can try this approach (without index collision case):\r\n\r\n    private Node find(int index) {\r\n        Node curr = head;\r\n        for (int i = 0; i &lt; index; i++)\r\n            curr = curr.next;\r\n\r\n        return curr;\r\n    }   // end find()\r\n\r\n    public Object get(int index) throws IndexOutOfBoundsException {\r\n        if (index &gt;= 0 &amp;&amp; index &lt; size) {\r\n            Node curr = find(index);\r\n            return curr.data;\r\n        } else {\r\n            throw new IndexOutOfBoundsException();\r\n        }   // end if - else\r\n    }   // end get()\r\n\r\n    public void add(Object data, int index) throws IndexOutOfBoundsException {\r\n        if (index &gt;= 0 &amp;&amp; index &lt; size + 1) {\r\n            if (index == 0)\r\n                head = new Node(data);\r\n            else {\r\n                Node prev = find(index - 1);\r\n                prev.next = new Node(data);\r\n            } // end if - else\r\n            size++;\r\n        } else {\r\n            throw new IndexOutOfBoundsException();\r\n        }   // end if - else\r\n    }   // end add()","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>Suppose given the correct Node class, you can try this approach (without index collision case):</p>\n<pre><code>private Node find(int index) {\n    Node curr = head;\n    for (int i = 0; i &lt; index; i++)\n        curr = curr.next;\n\n    return curr;\n}   // end find()\n\npublic Object get(int index) throws IndexOutOfBoundsException {\n    if (index &gt;= 0 &amp;&amp; index &lt; size) {\n        Node curr = find(index);\n        return curr.data;\n    } else {\n        throw new IndexOutOfBoundsException();\n    }   // end if - else\n}   // end get()\n\npublic void add(Object data, int index) throws IndexOutOfBoundsException {\n    if (index &gt;= 0 &amp;&amp; index &lt; size + 1) {\n        if (index == 0)\n            head = new Node(data);\n        else {\n            Node prev = find(index - 1);\n            prev.next = new Node(data);\n        } // end if - else\n        size++;\n    } else {\n        throw new IndexOutOfBoundsException();\n    }   // end if - else\n}   // end add()\n</code></pre>\n"}],"owner":{"account_id":20372746,"reputation":1,"user_id":15296423,"display_name":"elo melo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1666042425,"creation_date":1644082461,"question_id":71000488,"body_markdown":"```\r\npublic static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode llist, int data, int position) {\r\n\tif(llist == null) {\r\n\t\tllist =  new SinglyLinkedListNode(data);\r\n\t\treturn llist;\r\n\t} else {\r\n\t\tfor (int i = 0; i &lt; position-1; i++) {\r\n\t\t\tllist = llist.next;\r\n\t\t}\r\n\t\tSinglyLinkedListNode temp = llist;\r\n\t\tllist.next = new SinglyLinkedListNode(data);\r\n\t\tllist = llist.next;\r\n\t\tllist.next = temp.next;\t\t\t\r\n\t\treturn llist;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThis is my code to place a custom index node in LinkedList. But hackerrank is not accepting my code. What&#39;s wrong with my algorithm? ","title":"Insert a node at a specific position in a linked list JAVA","body":"<pre><code>public static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode llist, int data, int position) {\n    if(llist == null) {\n        llist =  new SinglyLinkedListNode(data);\n        return llist;\n    } else {\n        for (int i = 0; i &lt; position-1; i++) {\n            llist = llist.next;\n        }\n        SinglyLinkedListNode temp = llist;\n        llist.next = new SinglyLinkedListNode(data);\n        llist = llist.next;\n        llist.next = temp.next;         \n        return llist;\n    }\n}\n</code></pre>\n<p>This is my code to place a custom index node in LinkedList. But hackerrank is not accepting my code. What's wrong with my algorithm?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666042882,"post_id":74103445,"comment_id":130837707,"body_markdown":"Where is methodA called from in option 1? And why don’t you like option 2 as the simplest approach?","body":"Where is methodA called from in option 1? And why don’t you like option 2 as the simplest approach?"},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1666043973,"post_id":74103445,"comment_id":130837980,"body_markdown":"@Abhijit Sarkar thanks. MethodA in option 1 can be referred by other beans while it is running. I am trying to let Method A wrap keep making progress if bean hasn&#39;t been recycled yet. I will choose Option 2 if only bean will be recycled right after `@PostDestroy` method is complete, however I can&#39;t find supporting document about it","body":"@Abhijit Sarkar thanks. MethodA in option 1 can be referred by other beans while it is running. I am trying to let Method A wrap keep making progress if bean hasn&#39;t been recycled yet. I will choose Option 2 if only bean will be recycled right after <code>@PostDestroy</code> method is complete, however I can&#39;t find supporting document about it"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666044678,"post_id":74103445,"comment_id":130838156,"body_markdown":"There’s no such thing as recycling a bean. Also, it sounds like you’re making a lot of assumptions about the order of operations at shutdown for option 1, and you’ve not yet furnished any reason for it to exist. I believe the answer is clear as daylight, go for option 2.","body":"There’s no such thing as recycling a bean. Also, it sounds like you’re making a lot of assumptions about the order of operations at shutdown for option 1, and you’ve not yet furnished any reason for it to exist. I believe the answer is clear as daylight, go for option 2."},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1666047062,"post_id":74103445,"comment_id":130838625,"body_markdown":"@AbhijitSarkar Recycling or removing or terminating, I think eventually the bean will no longer managed by Spring container, between the end of `@PreDestroy` and the bean being terminated, is there a gap or the latter occurs right after the former? I couldn&#39;t find any document about it.","body":"@AbhijitSarkar Recycling or removing or terminating, I think eventually the bean will no longer managed by Spring container, between the end of <code>@PreDestroy</code> and the bean being terminated, is there a gap or the latter occurs right after the former? I couldn&#39;t find any document about it."}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666042220,"creation_date":1666042220,"question_id":74103445,"body_markdown":"I plan to make some clean up work after Spring application is shutting down, However may questions is whether Spring container remove the bean right after `@PreDestroy` is complete, or there is still little time for the bean to do something, meaning methods in the bean outside `@PreDestroy` can still keep running until Spring container recycle the bean.\r\n\r\nI am thinking of two solutions:\r\n\r\n    //----&gt; Solution 1\r\n    private boolean onRemoval = false;\r\n    public void methodA(){\r\n        if(onRemoval){\r\n             //do something\r\n             //so only if application is shutting down and \r\n             //hit this point then we do clean up\r\n        }\r\n    }\r\n    @PreDestroy\r\n    public void turnOnFlag(){\r\n        onRemoval = true;\r\n    }\r\n\r\n    //----&gt; Solution 2\r\n    // no flag or indicator, clean up only in \r\n    //@PreDestroy because nothing can be done \r\n    //after @PreDestroy method is done\r\n    @PreDestroy\r\n    public void cleanUp(){\r\n        //clean up work\r\n    }\r\n\r\n\r\nMy question is does solution 1 feasible? I just want to confirm that whether bean is directly recycled right after `@PreDestroy` is complete, if so could you please share the source of the doc","title":"Does bean directly removed from container right after @PreDestroy?","body":"<p>I plan to make some clean up work after Spring application is shutting down, However may questions is whether Spring container remove the bean right after <code>@PreDestroy</code> is complete, or there is still little time for the bean to do something, meaning methods in the bean outside <code>@PreDestroy</code> can still keep running until Spring container recycle the bean.</p>\n<p>I am thinking of two solutions:</p>\n<pre><code>//----&gt; Solution 1\nprivate boolean onRemoval = false;\npublic void methodA(){\n    if(onRemoval){\n         //do something\n         //so only if application is shutting down and \n         //hit this point then we do clean up\n    }\n}\n@PreDestroy\npublic void turnOnFlag(){\n    onRemoval = true;\n}\n\n//----&gt; Solution 2\n// no flag or indicator, clean up only in \n//@PreDestroy because nothing can be done \n//after @PreDestroy method is done\n@PreDestroy\npublic void cleanUp(){\n    //clean up work\n}\n</code></pre>\n<p>My question is does solution 1 feasible? I just want to confirm that whether bean is directly recycled right after <code>@PreDestroy</code> is complete, if so could you please share the source of the doc</p>\n"},{"tags":["java","android","kotlin","google-maps"],"comments":[{"owner":{"account_id":4424972,"reputation":33482,"user_id":3603681,"display_name":"Professor Abronsius"},"score":1,"creation_date":1666041791,"post_id":74103322,"comment_id":130837400,"body_markdown":"presumably this is Java / Android - please edit the associated tags to correlate","body":"presumably this is Java / Android - please edit the associated tags to correlate"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1666042974,"post_id":74103322,"comment_id":130837730,"body_markdown":"I would start by removing `?: Application()` in both occurrences. You cannot just create an instance of `Application` and expect it to work. If for some reason `reactContext?.currentActivity?.application` evaluates to `null`, log something and skip the work. After that, confirm that `NavigationApi.getRoadSnappedLocationProvider()` returns the same instance in both the add and remove paths, and confirm that you have the same `locationListenerRef` instance in both the add and remove paths.","body":"I would start by removing <code>?: Application()</code> in both occurrences. You cannot just create an instance of <code>Application</code> and expect it to work. If for some reason <code>reactContext?.currentActivity?.application</code> evaluates to <code>null</code>, log something and skip the work. After that, confirm that <code>NavigationApi.getRoadSnappedLocationProvider()</code> returns the same instance in both the add and remove paths, and confirm that you have the same <code>locationListenerRef</code> instance in both the add and remove paths."},{"owner":{"account_id":10529483,"reputation":1907,"user_id":7759364,"accept_rate":67,"display_name":"Tzvetlin Velev"},"score":0,"creation_date":1666044931,"post_id":74103322,"comment_id":130838213,"body_markdown":"@CommonsWare yep.. the second part of your answer was the culprit. cheers","body":"@CommonsWare yep.. the second part of your answer was the culprit. cheers"}],"owner":{"account_id":10529483,"reputation":1907,"user_id":7759364,"accept_rate":67,"display_name":"Tzvetlin Velev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666041825,"creation_date":1666041346,"question_id":74103322,"body_markdown":"Ive implemented this interface \r\n```\r\nclass LocationListener(eventManager: RoadSnappedLocationProviderEventManager): RoadSnappedLocationProvider.LocationListener {\r\n    var eventMananagerRef: RoadSnappedLocationProviderEventManager? = null\r\n    init{\r\n        eventMananagerRef = eventManager;\r\n    }\r\n    override fun onLocationChanged(p0: Location?) {\r\n        Log.d(&quot;TZ&quot;, (&quot;TZZZ  $p0.toString()&quot;))\r\n        val params: WritableMap = Arguments.createMap()\r\n        params.putString(&quot;message&quot;, p0.toString())\r\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\r\n    }\r\n\r\n    override fun onRawLocationUpdate(p0: Location?) {\r\n        val params: WritableMap = Arguments.createMap()\r\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\r\n    }\r\n}\r\n```\r\n\r\nAnd I am attaching it to NavigationApi.getRoadSnappedLocationProvider like so:\r\n\r\n```\r\noverride fun onNavigatorReady(navigator: Navigator) {\r\n                mNavigator = navigator\r\n                locationListenerRef = LocationListener(eventManager)\r\n                Log.d(&quot;TZ starting snapped &quot;, locationListenerRef.toString())\r\n                NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).addLocationListener(locationListenerRef)\r\n            }\r\n```\r\n\r\nIt starts to fire location change events and when I call the method to remove it: \r\n```\r\nfun removeLocationListenerProvider(promise: Promise) {\r\n        try {\r\n            Log.d(&quot;TZ&quot;, (&quot;REMOVING LOCATION LISTENER + ${locationListenerRef.toString()}&quot;))\r\n            NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).removeLocationListener(locationListenerRef)\r\n            locationListenerRef = null\r\n            Log.d(&quot;TZ&quot;, &quot;REMOVED LOCATION LISTENER&quot;)\r\n        } catch(e: Exception) {\r\n            Log.d(&quot;TZ&quot;, e.toString())\r\n        }\r\n    }\r\n```\r\nI continue seeing the event handlers firing. Doc for road snapped location provider: https://developers.google.com/maps/documentation/navigation/android-sdk/v2/reference/com/google/android/libraries/navigation/RoadSnappedLocationProvider#removeLocationListener(com.google.android.libraries.navigation.RoadSnappedLocationProvider.LocationListener)\r\n","title":"Location Change listener continuing to broadcast events after being removed","body":"<p>Ive implemented this interface</p>\n<pre><code>class LocationListener(eventManager: RoadSnappedLocationProviderEventManager): RoadSnappedLocationProvider.LocationListener {\n    var eventMananagerRef: RoadSnappedLocationProviderEventManager? = null\n    init{\n        eventMananagerRef = eventManager;\n    }\n    override fun onLocationChanged(p0: Location?) {\n        Log.d(&quot;TZ&quot;, (&quot;TZZZ  $p0.toString()&quot;))\n        val params: WritableMap = Arguments.createMap()\n        params.putString(&quot;message&quot;, p0.toString())\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\n    }\n\n    override fun onRawLocationUpdate(p0: Location?) {\n        val params: WritableMap = Arguments.createMap()\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\n    }\n}\n</code></pre>\n<p>And I am attaching it to NavigationApi.getRoadSnappedLocationProvider like so:</p>\n<pre><code>override fun onNavigatorReady(navigator: Navigator) {\n                mNavigator = navigator\n                locationListenerRef = LocationListener(eventManager)\n                Log.d(&quot;TZ starting snapped &quot;, locationListenerRef.toString())\n                NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).addLocationListener(locationListenerRef)\n            }\n</code></pre>\n<p>It starts to fire location change events and when I call the method to remove it:</p>\n<pre><code>fun removeLocationListenerProvider(promise: Promise) {\n        try {\n            Log.d(&quot;TZ&quot;, (&quot;REMOVING LOCATION LISTENER + ${locationListenerRef.toString()}&quot;))\n            NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).removeLocationListener(locationListenerRef)\n            locationListenerRef = null\n            Log.d(&quot;TZ&quot;, &quot;REMOVED LOCATION LISTENER&quot;)\n        } catch(e: Exception) {\n            Log.d(&quot;TZ&quot;, e.toString())\n        }\n    }\n</code></pre>\n<p>I continue seeing the event handlers firing. Doc for road snapped location provider: <a href=\"https://developers.google.com/maps/documentation/navigation/android-sdk/v2/reference/com/google/android/libraries/navigation/RoadSnappedLocationProvider#removeLocationListener(com.google.android.libraries.navigation.RoadSnappedLocationProvider.LocationListener)\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/navigation/android-sdk/v2/reference/com/google/android/libraries/navigation/RoadSnappedLocationProvider#removeLocationListener(com.google.android.libraries.navigation.RoadSnappedLocationProvider.LocationListener)</a></p>\n"},{"tags":["java","rocksdb","leveldb"],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665355921,"creation_date":1665355921,"answer_id":74008912,"question_id":74003293,"body_markdown":"It allows more structure and the ability to only read the desired block. Blocks themselves are usually 4kb in size and thus allow for the ability to index via offset in the file.\r\n\r\nIf there were 1 giant block you would have to read the entire thing to grab 1 key","title":"Why SST needs multiple datablock","body":"<p>It allows more structure and the ability to only read the desired block. Blocks themselves are usually 4kb in size and thus allow for the ability to index via offset in the file.</p>\n<p>If there were 1 giant block you would have to read the entire thing to grab 1 key</p>\n"},{"tags":[],"owner":{"account_id":53944,"reputation":12056,"user_id":161331,"accept_rate":96,"display_name":"elmattic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666041745,"creation_date":1666041745,"answer_id":74103373,"question_id":74003293,"body_markdown":"When you have multiple data block in one `.sst` file you can compress those blocks and decompressed them on the fly. Keeping the block uncompressed in a dedicated cache is also possible.\r\n\r\nIf you had one unique data block this would be less efficient (decompression is not free) and would increase cache pressure.","title":"Why SST needs multiple datablock","body":"<p>When you have multiple data block in one <code>.sst</code> file you can compress those blocks and decompressed them on the fly. Keeping the block uncompressed in a dedicated cache is also possible.</p>\n<p>If you had one unique data block this would be less efficient (decompression is not free) and would increase cache pressure.</p>\n"}],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74103373,"answer_count":2,"score":1,"last_activity_date":1666041745,"creation_date":1665304941,"question_id":74003293,"body_markdown":"Got confused at the design of SST in LevelDB.  \r\nAs I known, there are multiple datablocks in a SSTable.  \r\nWhat is the advantages of multiple datablocks.  \r\nThanks.\r\n","title":"Why SST needs multiple datablock","body":"<p>Got confused at the design of SST in LevelDB.<br />\nAs I known, there are multiple datablocks in a SSTable.<br />\nWhat is the advantages of multiple datablocks.<br />\nThanks.</p>\n"},{"tags":["java","spring","junit","cucumber","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666041343,"creation_date":1666041343,"answer_id":74103320,"question_id":74098979,"body_markdown":"If you&#39;re on a recent version of Cucumber, then your step definitions classes are scenario scoped by default and should not be annotated with `@Component`.\r\n\r\nEach scenario gets a new instance of the step definition class.\r\n\r\nSo this is safe, even with parallel execution:\r\n\r\n\r\n```java\r\nprivate Scenario currentScenario;\r\n\r\n@Before\r\npublic void setup(final Scenario scenario) {\r\n  currentScenario = scenario;\r\n}\r\n```\r\n\r\nIf you have other classes without step definitions that should have a unique instance in each scenario you can combine `@Component` with `@ScenarioScoped`.\r\n\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps","title":"Cucumber with JUnit 5 per scenario Test Context on parallel execution","body":"<p>If you're on a recent version of Cucumber, then your step definitions classes are scenario scoped by default and should not be annotated with <code>@Component</code>.</p>\n<p>Each scenario gets a new instance of the step definition class.</p>\n<p>So this is safe, even with parallel execution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Scenario currentScenario;\n\n@Before\npublic void setup(final Scenario scenario) {\n  currentScenario = scenario;\n}\n</code></pre>\n<p>If you have other classes without step definitions that should have a unique instance in each scenario you can combine <code>@Component</code> with <code>@ScenarioScoped</code>.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps</a></p>\n"}],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74103320,"answer_count":1,"score":0,"last_activity_date":1666041343,"creation_date":1666017750,"question_id":74098979,"body_markdown":"Just recently I got to experience scenario parallel execution with Cucumber + JUnit 5 which works fine and I intend to use from now on. Previously since I also use *cucumber-spring*, I&#39;ve use Spring to manage a single TestContext instance as a bean annotated with ```@Component``` which I reset every Scenario using ```@Before```. Now that there are more scenarios running in parallel, naturally I need a threaded solution. My idea for a solution was roughly the following:\r\n```\r\n/* Store the Current Scenario in a Thread Local */\r\n\r\nprivate ThreadLocal&lt;Scenario&gt; currentScenario = new ThreadLocal&lt;&gt;();\r\n\r\n@Before\r\npublic void setup(final Scenario scenario) {\r\n  currentScenario.set(scenario);\r\n}\r\n```\r\n```\r\n/* Get Scenario from a Context Map with ScenarioId as the key */\r\n\r\nprivate Map&lt;String, TestContext&gt; contextMap = new HashMap&lt;&gt;();\r\n\r\npublic TestContext getContext(final Scenario scenario) {\r\n  return contextMap.get(scenario.getId());\r\n}\r\n```\r\n\r\nThe thing is, I don&#39;t know if the Scenario starts and end in a single thread or if this proposed solution is safe at all. Is there any other way to get access to the current Scenario&#39;s ```Scenario``` instance? Any other solutions for this problem? Thank you very much.","title":"Cucumber with JUnit 5 per scenario Test Context on parallel execution","body":"<p>Just recently I got to experience scenario parallel execution with Cucumber + JUnit 5 which works fine and I intend to use from now on. Previously since I also use <em>cucumber-spring</em>, I've use Spring to manage a single TestContext instance as a bean annotated with <code>@Component</code> which I reset every Scenario using <code>@Before</code>. Now that there are more scenarios running in parallel, naturally I need a threaded solution. My idea for a solution was roughly the following:</p>\n<pre><code>/* Store the Current Scenario in a Thread Local */\n\nprivate ThreadLocal&lt;Scenario&gt; currentScenario = new ThreadLocal&lt;&gt;();\n\n@Before\npublic void setup(final Scenario scenario) {\n  currentScenario.set(scenario);\n}\n</code></pre>\n<pre><code>/* Get Scenario from a Context Map with ScenarioId as the key */\n\nprivate Map&lt;String, TestContext&gt; contextMap = new HashMap&lt;&gt;();\n\npublic TestContext getContext(final Scenario scenario) {\n  return contextMap.get(scenario.getId());\n}\n</code></pre>\n<p>The thing is, I don't know if the Scenario starts and end in a single thread or if this proposed solution is safe at all. Is there any other way to get access to the current Scenario's <code>Scenario</code> instance? Any other solutions for this problem? Thank you very much.</p>\n"},{"tags":["java","elasticsearch","asynchronous","scroll","elasticsearch-high-level-restclient"],"comments":[{"owner":{"account_id":43144,"reputation":4481,"user_id":125953,"accept_rate":95,"display_name":"Justin"},"score":0,"creation_date":1666102179,"post_id":74102812,"comment_id":130852503,"body_markdown":"Can close, this was another error within other logic that was causing it to fail, bottom solution works fine. Apologies.","body":"Can close, this was another error within other logic that was causing it to fail, bottom solution works fine. Apologies."}],"owner":{"account_id":43144,"reputation":4481,"user_id":125953,"accept_rate":95,"display_name":"Justin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666040429,"creation_date":1666037949,"question_id":74102812,"body_markdown":"I have 150k documents within an index for which I need to dump the raw data; yes I actually need all the raw data. \r\n\r\nSo I am trying to figure out how to run a scroll query but would like to do so async, however I haven&#39;t been able to figure out how to get the ActionListeners to self ref so that it continues to make the calls until the documents within the scroll are exhausted.\r\n\r\nA synch approach is pretty straight forward\r\n\r\n    SearchRequest sr = new SearchRequest();\r\n    // search source builder, etc for index, query, etc\r\n\r\n    final Scroll scroll = new Scroll(TimeValue.timeValueMinutes(1L));\r\n    sr.scroll(scroll);\r\n\r\n    SearchResponse response = client.search(request, RequestOptions.DEFAULT);\r\n    String scrollId = response.getScrollId();\r\n    SearchHit[] hits = response.getHits().getHits();\r\n   \r\n    while ( hits != null &amp;&amp; hits.length &gt; 0) {\r\n        //add the hits to a data structure\r\n        SearchScrollRequest newRequest = new SearchScrollRequest(scrollId);\r\n        newRequest.scroll(scroll);\r\n        response = client.scroll(newRequest);\r\n        hits = response.getHits().getHits();\r\n    }\r\n\r\n\r\nSo how to implement an async callback that sends the data to a processEmulator, but then continues to call for more data. I think the issue is the callback needs to include ref to itself.\r\n\r\n\r\n    SearchRequest req = new SearchRequest();\r\n    SearchSourceBuilder sb = new SearchSourceBuilder();\r\n    sb.size(10000); // batches of 10k please\r\n    req.source(sb);\r\n    req.indices(&quot;my-data-index&quot;)\r\n    final Scroll scroll = new Scroll(TimeValue.timeValueMinutes(2L));\r\n    req.scroll(scroll);\r\n                    \r\n    SearchResponse res = client.search(req, RequestOptions.DEFAULT);\r\n    String scrollId = res.getScrollId();\r\n    SearchScrollRequest sr = new SearchScrollRequest(scrollId);\r\n\r\n    ActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\r\n         public void onResponse(SearchResponse searchResponse) {\r\n              List&lt;String&gt; results = getDataFromResponse(searchResponse);\r\n              if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                  if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                      emulateSendDateElsewhere(results); \r\n                      // call again? how do I self ref the callback from within the callback??\r\n                  }\r\n              }\r\n         }\r\n\r\n         @Override\r\n         public void onFailure(Exception e) {\r\n             LogUtil.writeLog(e);\r\n         }\r\n    };\r\n\r\n\r\n    client.scrollAsync(sr, RequestOptions.DEFAULT, callback);\r\n\r\n\r\n\r\nI have tried a couple things, one being a basically self-calling method like the following:\r\n\r\n    private void processAsyncAssetCall(String scrollId) {\r\n        SearchScrollRequest sr = new SearchScrollRequest(scrollId);\r\n        ActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\r\n            @Override\r\n            public void onResponse(SearchResponse searchResponse) {\r\n                List&lt;String&gt; results = getIdsFromSearchResponse(searchResponse);\r\n                if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                    if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                        emulateSendDateElsewhere(results);\r\n                        processAsyncAssetCall(scrollId);\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Exception e) {\r\n                LogUtil.writeLog(e);\r\n            }\r\n        };\r\n\r\n        RestHighLevelClient client = getInternalRepo().getClient();\r\n        client.scrollAsync(sr, RequestOptions.DEFAULT, callback);\r\n    }\r\n\r\nHowever this still only runs twice and then errors parsing the results.\r\n\r\nThanks\r\n","title":"Elasticsearch Java HLRC Async Scroll Query","body":"<p>I have 150k documents within an index for which I need to dump the raw data; yes I actually need all the raw data.</p>\n<p>So I am trying to figure out how to run a scroll query but would like to do so async, however I haven't been able to figure out how to get the ActionListeners to self ref so that it continues to make the calls until the documents within the scroll are exhausted.</p>\n<p>A synch approach is pretty straight forward</p>\n<pre><code>SearchRequest sr = new SearchRequest();\n// search source builder, etc for index, query, etc\n\nfinal Scroll scroll = new Scroll(TimeValue.timeValueMinutes(1L));\nsr.scroll(scroll);\n\nSearchResponse response = client.search(request, RequestOptions.DEFAULT);\nString scrollId = response.getScrollId();\nSearchHit[] hits = response.getHits().getHits();\n\nwhile ( hits != null &amp;&amp; hits.length &gt; 0) {\n    //add the hits to a data structure\n    SearchScrollRequest newRequest = new SearchScrollRequest(scrollId);\n    newRequest.scroll(scroll);\n    response = client.scroll(newRequest);\n    hits = response.getHits().getHits();\n}\n</code></pre>\n<p>So how to implement an async callback that sends the data to a processEmulator, but then continues to call for more data. I think the issue is the callback needs to include ref to itself.</p>\n<pre><code>SearchRequest req = new SearchRequest();\nSearchSourceBuilder sb = new SearchSourceBuilder();\nsb.size(10000); // batches of 10k please\nreq.source(sb);\nreq.indices(&quot;my-data-index&quot;)\nfinal Scroll scroll = new Scroll(TimeValue.timeValueMinutes(2L));\nreq.scroll(scroll);\n                \nSearchResponse res = client.search(req, RequestOptions.DEFAULT);\nString scrollId = res.getScrollId();\nSearchScrollRequest sr = new SearchScrollRequest(scrollId);\n\nActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\n     public void onResponse(SearchResponse searchResponse) {\n          List&lt;String&gt; results = getDataFromResponse(searchResponse);\n          if (results != null &amp;&amp; results.size() &gt; 0) {\n              if (results != null &amp;&amp; results.size() &gt; 0) {\n                  emulateSendDateElsewhere(results); \n                  // call again? how do I self ref the callback from within the callback??\n              }\n          }\n     }\n\n     @Override\n     public void onFailure(Exception e) {\n         LogUtil.writeLog(e);\n     }\n};\n\n\nclient.scrollAsync(sr, RequestOptions.DEFAULT, callback);\n</code></pre>\n<p>I have tried a couple things, one being a basically self-calling method like the following:</p>\n<pre><code>private void processAsyncAssetCall(String scrollId) {\n    SearchScrollRequest sr = new SearchScrollRequest(scrollId);\n    ActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\n        @Override\n        public void onResponse(SearchResponse searchResponse) {\n            List&lt;String&gt; results = getIdsFromSearchResponse(searchResponse);\n            if (results != null &amp;&amp; results.size() &gt; 0) {\n                if (results != null &amp;&amp; results.size() &gt; 0) {\n                    emulateSendDateElsewhere(results);\n                    processAsyncAssetCall(scrollId);\n                }\n            }\n        }\n\n        @Override\n        public void onFailure(Exception e) {\n            LogUtil.writeLog(e);\n        }\n    };\n\n    RestHighLevelClient client = getInternalRepo().getClient();\n    client.scrollAsync(sr, RequestOptions.DEFAULT, callback);\n}\n</code></pre>\n<p>However this still only runs twice and then errors parsing the results.</p>\n<p>Thanks</p>\n"},{"tags":["java","file"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666040356,"creation_date":1666040356,"answer_id":74103183,"question_id":74103114,"body_markdown":"```\r\nwhile ((currentLine = reader.readLine()) != null) {\r\n  whileCount++;\r\n  currentLine = reader.readLine();\r\n  ...\r\n}\r\n```\r\n\r\nThis _skips every other line in your file_.  `currentLine` is _already_ the next line in the file, and then you overwrite it with the line after that.  I think you only meant to read one line per loop.\r\n\r\nIt seems pretty clear that you should simply delete the last line I quoted:\r\n\r\n```\r\nwhile ((currentLine = reader.readLine()) != null) {\r\n  whileCount++;\r\n  ...\r\n}\r\n```","title":"Strange behavior reading files in Java","body":"<pre><code>while ((currentLine = reader.readLine()) != null) {\n  whileCount++;\n  currentLine = reader.readLine();\n  ...\n}\n</code></pre>\n<p>This <em>skips every other line in your file</em>.  <code>currentLine</code> is <em>already</em> the next line in the file, and then you overwrite it with the line after that.  I think you only meant to read one line per loop.</p>\n<p>It seems pretty clear that you should simply delete the last line I quoted:</p>\n<pre><code>while ((currentLine = reader.readLine()) != null) {\n  whileCount++;\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":17295982,"reputation":1,"user_id":12526632,"display_name":"EmanueleM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1666040406,"accepted_answer_id":74103183,"answer_count":1,"score":-2,"last_activity_date":1666040356,"creation_date":1666039926,"question_id":74103114,"body_markdown":"I&#39;m trying to read nearly 120,000 lines from a file, put the data into a new record, and add this record to a list.\r\n\r\nMy problem is that I can&#39;t load all the data getting weird behavior.\r\nIn particular, using BufferedReader a first time I can count the rows and the result is correct, but when I try with a while loop to load the data into memory I see that the loop iterates about 60,000 times and the final list with the data contains only about 5000 objects.\r\n\r\nI&#39;ve also tried using other classes for loading data, but I always get the same problem.\r\n\r\nI am currently using java 17 with spring and javafx.\r\n\r\nThank you.\r\n\r\n\r\nI am attaching the latest version of my method:\r\n\r\n    public void getFixList(FixReadyCallback callback) {\r\n        List&lt;Fix&gt; fixList;\r\n        int firstCount = 0;\r\n        int whileCount = 0;\r\n\r\n        try {\r\n            File file = new File(&quot;src/main/resources/fligh_data/fix.dat&quot;);\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\r\n\r\n            String currentLine = null;\r\n\r\n            while (reader.readLine() != null) {\r\n                firstCount++;\r\n            }\r\n            fixList = new ArrayList&lt;&gt;(firstCount);\r\n\r\n            reader.close();\r\n            reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\r\n\r\n            while ((currentLine = reader.readLine()) != null) {\r\n                whileCount++;\r\n                currentLine = reader.readLine();\r\n\r\n                if (currentLine.matches(\r\n                        &quot;[-]?[0-9]{2}\\\\.[0-9]{6}\\\\s+[-]?[0-9]{3}\\\\.[0-9]{6}\\\\s+[0-9A-Z]{2,5}&quot;)) {\r\n                    String[] splitted = currentLine.split(&quot;\\\\s+&quot;);\r\n\r\n                    String denomination = splitted[2];\r\n                    double latitude = Double.parseDouble(splitted[0]);\r\n                    double longitude = Double.parseDouble(splitted[1]);\r\n                    Coordinates coordinates = new Coordinates(latitude, longitude);\r\n\r\n                    fixList.add(new Fix(denomination, coordinates));\r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;FIRST_COUNT -&gt; &quot; + firstCount);\r\n            System.out.println(&quot;WHILE_COUNT -&gt; &quot; + whileCount);\r\n            System.out.println(&quot;LIST_SIZE -&gt; &quot; + fixList.size());\r\n\r\n            reader.close();\r\n            callback.onReady(fixList);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAnd the output of the terminal:\r\n\r\n    FIRST_COUNT -&gt; 119724\r\n    WHILE_COUNT -&gt; 59862\r\n    LIST_SIZE -&gt; 5128","title":"Strange behavior reading files in Java","body":"<p>I'm trying to read nearly 120,000 lines from a file, put the data into a new record, and add this record to a list.</p>\n<p>My problem is that I can't load all the data getting weird behavior.\nIn particular, using BufferedReader a first time I can count the rows and the result is correct, but when I try with a while loop to load the data into memory I see that the loop iterates about 60,000 times and the final list with the data contains only about 5000 objects.</p>\n<p>I've also tried using other classes for loading data, but I always get the same problem.</p>\n<p>I am currently using java 17 with spring and javafx.</p>\n<p>Thank you.</p>\n<p>I am attaching the latest version of my method:</p>\n<pre><code>public void getFixList(FixReadyCallback callback) {\n    List&lt;Fix&gt; fixList;\n    int firstCount = 0;\n    int whileCount = 0;\n\n    try {\n        File file = new File(&quot;src/main/resources/fligh_data/fix.dat&quot;);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\n\n        String currentLine = null;\n\n        while (reader.readLine() != null) {\n            firstCount++;\n        }\n        fixList = new ArrayList&lt;&gt;(firstCount);\n\n        reader.close();\n        reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\n\n        while ((currentLine = reader.readLine()) != null) {\n            whileCount++;\n            currentLine = reader.readLine();\n\n            if (currentLine.matches(\n                    &quot;[-]?[0-9]{2}\\\\.[0-9]{6}\\\\s+[-]?[0-9]{3}\\\\.[0-9]{6}\\\\s+[0-9A-Z]{2,5}&quot;)) {\n                String[] splitted = currentLine.split(&quot;\\\\s+&quot;);\n\n                String denomination = splitted[2];\n                double latitude = Double.parseDouble(splitted[0]);\n                double longitude = Double.parseDouble(splitted[1]);\n                Coordinates coordinates = new Coordinates(latitude, longitude);\n\n                fixList.add(new Fix(denomination, coordinates));\n            }\n        }\n\n        System.out.println(&quot;FIRST_COUNT -&gt; &quot; + firstCount);\n        System.out.println(&quot;WHILE_COUNT -&gt; &quot; + whileCount);\n        System.out.println(&quot;LIST_SIZE -&gt; &quot; + fixList.size());\n\n        reader.close();\n        callback.onReady(fixList);\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>And the output of the terminal:</p>\n<pre><code>FIRST_COUNT -&gt; 119724\nWHILE_COUNT -&gt; 59862\nLIST_SIZE -&gt; 5128\n</code></pre>\n"},{"tags":["java","oracle","apache-commons-dbcp"],"comments":[{"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"score":0,"creation_date":1665067445,"post_id":73965903,"comment_id":130616986,"body_markdown":"This is the error I get when I attempt to run this code. BasicDB - SQLException occurred : Cannot create JDBC driver of class &#39;oracle.jdbc.replay.OracleDataSourceImpl&#39; for connect URL &#39;jdbc:oracle:thin:@pdb_tac&#39;","body":"This is the error I get when I attempt to run this code. BasicDB - SQLException occurred : Cannot create JDBC driver of class &#39;oracle.jdbc.replay.OracleDataSourceImpl&#39; for connect URL &#39;jdbc:oracle:thin:@pdb_tac&#39;"},{"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"score":0,"creation_date":1666015480,"post_id":73965903,"comment_id":130828678,"body_markdown":"It seems I am using a Datasource where the DataDriver class name is.  Also the Basic Data Source won&#39;t accomplish what I am trying to accomplish.  Will need to look in DataSource and poolable connection factories.  Will post more once I nail this down.","body":"It seems I am using a Datasource where the DataDriver class name is.  Also the Basic Data Source won&#39;t accomplish what I am trying to accomplish.  Will need to look in DataSource and poolable connection factories.  Will post more once I nail this down."},{"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"score":0,"creation_date":1666039522,"post_id":73965903,"comment_id":130836799,"body_markdown":"Ok, so here is where I am now.  It seems I can get past the Cannot create JDBC driver class error but now I have run into this issue.","body":"Ok, so here is where I am now.  It seems I can get past the Cannot create JDBC driver class error but now I have run into this issue."}],"answers":[{"tags":[],"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666039872,"creation_date":1666039872,"answer_id":74103106,"question_id":73965903,"body_markdown":"Ok, so it has to do with using the DataSource instead of the DataDriver class.  I have run into another error so will create a new question for that. \r\n\r\n","title":"Apache DBCP and Oracle Transparent Application continuity","body":"<p>Ok, so it has to do with using the DataSource instead of the DataDriver class.  I have run into another error so will create a new question for that.</p>\n"}],"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666039872,"creation_date":1665001070,"question_id":73965903,"body_markdown":"We have an older application that can&#39;t failover when one node of our Oracle RAC goes down.  It seems it uses an older version of org.apache.commons.dbcp.BasicDataSource.  I can make this work when I use UCP from Oracle but when I use the apache version the app dies as soon as I shut down the node of the RAC it is connected to. Am I missing something or does it not work with Apache DBCP?  Thanks \r\n\r\nHere is my code.\r\n```\r\nimport org.apache.commons.dbcp.BasicDataSource;\r\n\r\nimport java.io.PrintStream;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\n\r\npublic class BasicDB{\r\n\r\n\r\n\r\n    final static String DB_URL =&quot;jdbc:oracle:thin:user/password@pdb_tac&quot;;\r\n    final static String driverClassName = &quot;oracle.jdbc.replay.OracleDataSourceImpl&quot;;\r\n\r\n    private void pressAnyKeyToContinue()\r\n    {\r\n        System.out.print(&quot;Press any key to continue...&quot;);\r\n        try { System.in.read(); }\r\n        catch(Exception e) { e.printStackTrace(); }\r\n    }\r\n    public String getInstanceName(Connection conn) throws SQLException {\r\n        PreparedStatement pstmt = conn.prepareStatement(&quot;select instance_name from v$instance&quot;);\r\n        String r = new String();\r\n\r\n        for(ResultSet result = pstmt.executeQuery(); result.next(); r = result.getString(&quot;instance_name&quot;)) {\r\n        }\r\n\r\n        pstmt.close();\r\n        return r;\r\n    }\r\n\r\n\r\n\r\n    private void doTx(Connection c, int numValue) throws SQLException {\r\n        String updsql = &quot;UPDATE test SET v=UPPER(v) WHERE id=?&quot;;\r\n        PreparedStatement pstmt = null;\r\n        pstmt = c.prepareStatement(updsql);\r\n        c.setAutoCommit(false);\r\n\r\n        for(int i = 0; i &lt; numValue; ++i) {\r\n            pstmt.setInt(1, i);\r\n            pstmt.executeUpdate();\r\n        }\r\n\r\n        c.commit();\r\n        pstmt.close();\r\n    }\r\n\r\n    public static void main(String[] args) throws SQLException {\r\n        Connection conn = null;\r\n        int numValue = 5000;\r\n;\r\n\r\n        try {\r\n\r\n            BasicDataSource bods = new BasicDataSource();\r\n            bods.setUrl(DB_URL);\r\n            bods.setDriverClassName(driverClassName);\r\n            bods.setDefaultAutoCommit(false);\r\n            BasicDB self = new BasicDB();\r\n            conn = bods.getConnection();\r\n            String var10001 = self.getInstanceName(conn);\r\n            var10000.println(&quot;Instance Name = &quot; + var10001);\r\n            System.out.println(&quot;Performing transactions&quot;);\r\n            self.pressAnyKeyToContinue();\r\n            self.doTx(conn, numValue);\r\n            var10001 = self.getInstanceName(conn);\r\n            var10000.println(&quot;Instance Name = &quot; + var10001);\r\n\r\n        } catch (Exception var8) {\r\n            var8.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n ","title":"Apache DBCP and Oracle Transparent Application continuity","body":"<p>We have an older application that can't failover when one node of our Oracle RAC goes down.  It seems it uses an older version of org.apache.commons.dbcp.BasicDataSource.  I can make this work when I use UCP from Oracle but when I use the apache version the app dies as soon as I shut down the node of the RAC it is connected to. Am I missing something or does it not work with Apache DBCP?  Thanks</p>\n<p>Here is my code.</p>\n<pre><code>import org.apache.commons.dbcp.BasicDataSource;\n\nimport java.io.PrintStream;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\n\npublic class BasicDB{\n\n\n\n    final static String DB_URL =&quot;jdbc:oracle:thin:user/password@pdb_tac&quot;;\n    final static String driverClassName = &quot;oracle.jdbc.replay.OracleDataSourceImpl&quot;;\n\n    private void pressAnyKeyToContinue()\n    {\n        System.out.print(&quot;Press any key to continue...&quot;);\n        try { System.in.read(); }\n        catch(Exception e) { e.printStackTrace(); }\n    }\n    public String getInstanceName(Connection conn) throws SQLException {\n        PreparedStatement pstmt = conn.prepareStatement(&quot;select instance_name from v$instance&quot;);\n        String r = new String();\n\n        for(ResultSet result = pstmt.executeQuery(); result.next(); r = result.getString(&quot;instance_name&quot;)) {\n        }\n\n        pstmt.close();\n        return r;\n    }\n\n\n\n    private void doTx(Connection c, int numValue) throws SQLException {\n        String updsql = &quot;UPDATE test SET v=UPPER(v) WHERE id=?&quot;;\n        PreparedStatement pstmt = null;\n        pstmt = c.prepareStatement(updsql);\n        c.setAutoCommit(false);\n\n        for(int i = 0; i &lt; numValue; ++i) {\n            pstmt.setInt(1, i);\n            pstmt.executeUpdate();\n        }\n\n        c.commit();\n        pstmt.close();\n    }\n\n    public static void main(String[] args) throws SQLException {\n        Connection conn = null;\n        int numValue = 5000;\n;\n\n        try {\n\n            BasicDataSource bods = new BasicDataSource();\n            bods.setUrl(DB_URL);\n            bods.setDriverClassName(driverClassName);\n            bods.setDefaultAutoCommit(false);\n            BasicDB self = new BasicDB();\n            conn = bods.getConnection();\n            String var10001 = self.getInstanceName(conn);\n            var10000.println(&quot;Instance Name = &quot; + var10001);\n            System.out.println(&quot;Performing transactions&quot;);\n            self.pressAnyKeyToContinue();\n            self.doTx(conn, numValue);\n            var10001 = self.getInstanceName(conn);\n            var10000.println(&quot;Instance Name = &quot; + var10001);\n\n        } catch (Exception var8) {\n            var8.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","for-loop","data-structures"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":4,"creation_date":1626377702,"post_id":68399701,"comment_id":120884000,"body_markdown":"I&#39;m surprised that your code passes as many cases as you say. The code is essentially only checking the last letter of the ransom note. That&#39;s because you set `flag` to `false` for every letter, and then set it `true` if a non-visited match is found. So the final `flag` value only depends on the outcome of the last letter.","body":"I&#39;m surprised that your code passes as many cases as you say. The code is essentially only checking the last letter of the ransom note. That&#39;s because you set <code>flag</code> to <code>false</code> for every letter, and then set it <code>true</code> if a non-visited match is found. So the final <code>flag</code> value only depends on the outcome of the last letter."},{"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"score":0,"creation_date":1626378095,"post_id":68399701,"comment_id":120884111,"body_markdown":"So what should I do???","body":"So what should I do???"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":3,"creation_date":1626378112,"post_id":68399701,"comment_id":120884115,"body_markdown":"Think again about your logic?","body":"Think again about your logic?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1626378784,"post_id":68399701,"comment_id":120884373,"body_markdown":"You can patch the code you already have, or start from scratch with a whole new design. I recommend the latter. Hint: `counting sets` for the magazine and the ransom note.","body":"You can patch the code you already have, or start from scratch with a whole new design. I recommend the latter. Hint: <code>counting sets</code> for the magazine and the ransom note."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626378844,"creation_date":1626378514,"answer_id":68400036,"question_id":68399701,"body_markdown":"The outer `for` loop should be exited if at the end of the inner loop, `flag` is still `false`, because that means you didn&#39;t find a match for that character. \r\n\r\nIt is of no use to continue with matching other characters when that happens, and worse, continuing can make `flag` `true` again in the last iteration of the outer loop, which would give a wrong result.\r\n\r\nSo add as the last line of the outer loop body:\r\n\r\n    if (!flag) return false;\r\n\r\nNote that this algorithm is not efficient on very large strings, as it has a time complexity of O(&#119898;&#119899;) where &#119898; and &#119899; are the lengths of the two strings. It can be done in O(&#119898;+&#119899;) if you use a map with frequency counts for each letter in the second string.","title":"Ransom Note-Leetcode","body":"<p>The outer <code>for</code> loop should be exited if at the end of the inner loop, <code>flag</code> is still <code>false</code>, because that means you didn't find a match for that character.</p>\n<p>It is of no use to continue with matching other characters when that happens, and worse, continuing can make <code>flag</code> <code>true</code> again in the last iteration of the outer loop, which would give a wrong result.</p>\n<p>So add as the last line of the outer loop body:</p>\n<pre><code>if (!flag) return false;\n</code></pre>\n<p>Note that this algorithm is not efficient on very large strings, as it has a time complexity of O(𝑚𝑛) where 𝑚 and 𝑛 are the lengths of the two strings. It can be done in O(𝑚+𝑛) if you use a map with frequency counts for each letter in the second string.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626382788,"creation_date":1626382788,"answer_id":68400700,"question_id":68399701,"body_markdown":"```java\r\npublic static boolean canConstruct(String ransomNote, String magazine) {\r\n    int[] arr = new int[26];\r\n\r\n    for (int i = 0; i &lt; magazine.length(); i++)\r\n        arr[magazine.charAt(i) - &#39;a&#39;]++;\r\n\r\n    for (int i = 0; i &lt; ransomNote.length(); i++) {\r\n        int offs = ransomNote.charAt(i) - &#39;a&#39;;\r\n\r\n        if (arr[offs] &gt; 0)\r\n            arr[offs]--;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n```","title":"Ransom Note-Leetcode","body":"<pre class=\"lang-java prettyprint-override\"><code>public static boolean canConstruct(String ransomNote, String magazine) {\n    int[] arr = new int[26];\n\n    for (int i = 0; i &lt; magazine.length(); i++)\n        arr[magazine.charAt(i) - 'a']++;\n\n    for (int i = 0; i &lt; ransomNote.length(); i++) {\n        int offs = ransomNote.charAt(i) - 'a';\n\n        if (arr[offs] &gt; 0)\n            arr[offs]--;\n        else\n            return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2181925,"reputation":1012,"user_id":5123867,"accept_rate":45,"display_name":"Lokesh Sanapalli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626423343,"creation_date":1626423343,"answer_id":68405741,"question_id":68399701,"body_markdown":"O(m+n) solution with O(max(m,n)) space complexity\r\n\r\n```c++\r\nclass Solution {\r\npublic:\r\n    bool canConstruct(string ransomNote, string magazine) {\r\n        unordered_map&lt;char, int&gt; m1;\r\n        unordered_map&lt;char, int&gt; m2;\r\n        unordered_set&lt;char&gt; s;\r\n        for(char&amp; c : ransomNote) {\r\n            m1[c]++;\r\n            s.insert(c);\r\n        }\r\n        for(char&amp; c : magazine) {\r\n            m2[c]++;\r\n        }\r\n        for(char c : s) {\r\n            if (m2.find(c) == m2.end() || m2.find(c)-&gt;second &lt; m1.find(c)-&gt;second) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n};\r\n```","title":"Ransom Note-Leetcode","body":"<p>O(m+n) solution with O(max(m,n)) space complexity</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>class Solution {\npublic:\n    bool canConstruct(string ransomNote, string magazine) {\n        unordered_map&lt;char, int&gt; m1;\n        unordered_map&lt;char, int&gt; m2;\n        unordered_set&lt;char&gt; s;\n        for(char&amp; c : ransomNote) {\n            m1[c]++;\n            s.insert(c);\n        }\n        for(char&amp; c : magazine) {\n            m2[c]++;\n        }\n        for(char c : s) {\n            if (m2.find(c) == m2.end() || m2.find(c)-&gt;second &lt; m1.find(c)-&gt;second) {\n                return false;\n            }\n        }\n        return true;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22546296,"reputation":1,"user_id":16736153,"display_name":"Kartik Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657819272,"creation_date":1657819272,"answer_id":72984385,"question_id":68399701,"body_markdown":"Python\r\n\r\n```\r\nclass Solution:\r\n    def canConstruct(self, ransomNote: str, magazine: str) -&gt; bool:\r\n        result = False\r\n        for i in ransomNote:\r\n            valueRansomNote = ransomNote.count(i)\r\n            valueMagazine = magazine.count(i)\r\n            if 1&lt;=valueRansomNote &lt;= valueMagazine:\r\n                result = True\r\n            else:\r\n                result = False\r\n                break\r\n        return result\r\n```","title":"Ransom Note-Leetcode","body":"<p>Python</p>\n<pre><code>class Solution:\n    def canConstruct(self, ransomNote: str, magazine: str) -&gt; bool:\n        result = False\n        for i in ransomNote:\n            valueRansomNote = ransomNote.count(i)\n            valueMagazine = magazine.count(i)\n            if 1&lt;=valueRansomNote &lt;= valueMagazine:\n                result = True\n            else:\n                result = False\n                break\n        return result\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4886486,"reputation":1233,"user_id":3938789,"accept_rate":60,"display_name":"mcfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660639044,"creation_date":1660639044,"answer_id":73371101,"question_id":68399701,"body_markdown":"**Java Solution**\r\n\r\n    class Solution {\r\n        public boolean canConstruct(String ransomNote, String magazine) {\r\n            \r\n            StringBuilder str = new StringBuilder(magazine); \r\n            StringBuilder rn = new StringBuilder(ransomNote);\r\n         \r\n            for(int i =0; i &lt; ransomNote.length();i++) \r\n            { \r\n                if(str.indexOf(ransomNote.substring(i,i+1))!=-1)\r\n                {\r\n                     str.deleteCharAt(str.indexOf(ransomNote.substring(i,i+1))); \r\n                     rn.deleteCharAt(rn.indexOf(ransomNote.substring(i,i+1)));   \r\n                }\r\n                  \r\n            }\r\n            \r\n            return rn.length()==0;\r\n            \r\n        }\r\n    }","title":"Ransom Note-Leetcode","body":"<p><strong>Java Solution</strong></p>\n<pre><code>class Solution {\n    public boolean canConstruct(String ransomNote, String magazine) {\n        \n        StringBuilder str = new StringBuilder(magazine); \n        StringBuilder rn = new StringBuilder(ransomNote);\n     \n        for(int i =0; i &lt; ransomNote.length();i++) \n        { \n            if(str.indexOf(ransomNote.substring(i,i+1))!=-1)\n            {\n                 str.deleteCharAt(str.indexOf(ransomNote.substring(i,i+1))); \n                 rn.deleteCharAt(rn.indexOf(ransomNote.substring(i,i+1)));   \n            }\n              \n        }\n        \n        return rn.length()==0;\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3725,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1666039560,"creation_date":1626376854,"question_id":68399701,"body_markdown":"I am trying the [383. Ransom Note](https://leetcode.com/problems/ransom-note/) LeetCode challenge:\r\n\r\n&gt; Given two strings `ransomNote` and `magazine`, return true if `ransomNote` can be constructed from `magazine` and false otherwise.\r\n&gt; \r\n&gt; Each letter in `magazine` can only be used once in `ransomNote`.\r\n&gt; \r\n&gt; ### Example 1:\r\n&gt;     Input: ransomNote = &quot;a&quot;, magazine = &quot;b&quot;\r\n&gt;     Output: false\r\n&gt;   \r\n&gt; ### Example 2:\r\n&gt;     Input: ransomNote = &quot;aa&quot;, magazine = &quot;ab&quot;\r\n&gt;     Output: false\r\n&gt;     \r\n&gt; ### Example 3:\r\n&gt;     Input: ransomNote = &quot;aa&quot;, magazine = &quot;aab&quot;\r\n&gt;     Output: true\r\n\r\nHere is my solution to the above LeetCode problem:\r\n  \r\n\r\n    class Solution {\r\n    \r\n        public boolean canConstruct(String ransomNote, String magazine) {\r\n    \r\n            if (ransomNote==null || ransomNote.length() == 0) return true;\r\n            if (magazine==null || magazine.length() == 0) return false;\r\n            boolean flag=false;\r\n            boolean visited[]=new boolean[magazine.length()];\r\n            Arrays.fill(visited,Boolean.FALSE);\r\n            for(int i=0;i&lt;ransomNote.length();i++){\r\n                flag=false;\r\n                for(int j=0;j&lt;magazine.length();j++){\r\n                    if(ransomNote.charAt(i)==magazine.charAt(j) &amp;&amp; !visited[j] ){\r\n                        visited[j]=true;\r\n                        flag=true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return flag;\r\n        }\r\n    }\r\n\r\nI&#39;m able to pass 110 cases out of 126 but there is some minor error in the code. I&#39;m unable to find the error even in my dry run.\r\n\r\nTest case that is not passing:\r\n\r\n    Input:\r\n    &quot;fihjjjjei&quot;\r\n    &quot;hjibagacbhadfaefdjaeaebgi&quot;\r\n    \r\n    Output: true\r\n    Expected: false\r\n\r\n\r\n","title":"Ransom Note-Leetcode","body":"<p>I am trying the <a href=\"https://leetcode.com/problems/ransom-note/\" rel=\"nofollow noreferrer\">383. Ransom Note</a> LeetCode challenge:</p>\n<blockquote>\n<p>Given two strings <code>ransomNote</code> and <code>magazine</code>, return true if <code>ransomNote</code> can be constructed from <code>magazine</code> and false otherwise.</p>\n<p>Each letter in <code>magazine</code> can only be used once in <code>ransomNote</code>.</p>\n<h3 id=\"example-1-nab7\">Example 1:</h3>\n<pre><code>Input: ransomNote = &quot;a&quot;, magazine = &quot;b&quot;\nOutput: false\n</code></pre>\n<h3 id=\"example-2-5qy7\">Example 2:</h3>\n<pre><code>Input: ransomNote = &quot;aa&quot;, magazine = &quot;ab&quot;\nOutput: false\n</code></pre>\n<h3 id=\"example-3-8439\">Example 3:</h3>\n<pre><code>Input: ransomNote = &quot;aa&quot;, magazine = &quot;aab&quot;\nOutput: true\n</code></pre>\n</blockquote>\n<p>Here is my solution to the above LeetCode problem:</p>\n<pre><code>class Solution {\n\n    public boolean canConstruct(String ransomNote, String magazine) {\n\n        if (ransomNote==null || ransomNote.length() == 0) return true;\n        if (magazine==null || magazine.length() == 0) return false;\n        boolean flag=false;\n        boolean visited[]=new boolean[magazine.length()];\n        Arrays.fill(visited,Boolean.FALSE);\n        for(int i=0;i&lt;ransomNote.length();i++){\n            flag=false;\n            for(int j=0;j&lt;magazine.length();j++){\n                if(ransomNote.charAt(i)==magazine.charAt(j) &amp;&amp; !visited[j] ){\n                    visited[j]=true;\n                    flag=true;\n                    break;\n                }\n            }\n        }\n        return flag;\n    }\n}\n</code></pre>\n<p>I'm able to pass 110 cases out of 126 but there is some minor error in the code. I'm unable to find the error even in my dry run.</p>\n<p>Test case that is not passing:</p>\n<pre><code>Input:\n&quot;fihjjjjei&quot;\n&quot;hjibagacbhadfaefdjaeaebgi&quot;\n\nOutput: true\nExpected: false\n</code></pre>\n"},{"tags":["java","stream","bit-manipulation"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1666037943,"post_id":74102603,"comment_id":130836307,"body_markdown":"It&#39;s slightly more complicated than just sorting by the number of 1 bits. If two values have the *same* number of 1 bits then those values are ordered smallest to largest as ints. I think `mapToInt(Integer::intValue)` is unboxing the stream.","body":"It&#39;s slightly more complicated than just sorting by the number of 1 bits. If two values have the <i>same</i> number of 1 bits then those values are ordered smallest to largest as ints. I think <code>mapToInt(Integer::intValue)</code> is unboxing the stream."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666038808,"post_id":74102603,"comment_id":130836578,"body_markdown":"`mapToInt(Integer::intValue)` just converts a `Stream&lt;Integer&gt;` to an `IntStream`.  That&#39;s it.  (Personally, I&#39;d write `mapToInt(x -&gt; x)`.)","body":"<code>mapToInt(Integer::intValue)</code> just converts a <code>Stream&lt;Integer&gt;</code> to an <code>IntStream</code>.  That&#39;s it.  (Personally, I&#39;d write <code>mapToInt(x -&gt; x)</code>.)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666039277,"creation_date":1666039277,"answer_id":74103016,"question_id":74102603,"body_markdown":"A little bit of IDE &quot;un-lambdaing&quot; later ;-) \r\n\r\n``` lang-java\r\nclass Solution {\r\n  public int[] sortByBits(int[] arr) {\r\n    return Arrays.stream(arr)\r\n        .boxed()    // boxing for sorting with Comparator\r\n        .sorted(new Comparator&lt;Integer&gt;() {\r\n          @Override\r\n          public int compare(Integer a, Integer b) {\r\n            if(Integer.bitCount(a) == Integer.bitCount(b)) { \r\n              // if both have the same number of bits\r\n              return a - b;    // smaller int value first\r\n            }\r\n            // otherwise least number of bits first\r\n            return Integer.bitCount(a) - Integer.bitCount(b); \r\n          }\r\n        })\r\n        .mapToInt(new ToIntFunction&lt;Integer&gt;() { // unboxing\r\n          @Override\r\n          public int applyAsInt(Integer integer) {\r\n            return integer.intValue();\r\n          }\r\n        }).toArray();  // array from stream\r\n  }\r\n}\r\n```","title":"I want to sort integers by the number of 1 bits","body":"<p>A little bit of IDE &quot;un-lambdaing&quot; later ;-)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n  public int[] sortByBits(int[] arr) {\n    return Arrays.stream(arr)\n        .boxed()    // boxing for sorting with Comparator\n        .sorted(new Comparator&lt;Integer&gt;() {\n          @Override\n          public int compare(Integer a, Integer b) {\n            if(Integer.bitCount(a) == Integer.bitCount(b)) { \n              // if both have the same number of bits\n              return a - b;    // smaller int value first\n            }\n            // otherwise least number of bits first\n            return Integer.bitCount(a) - Integer.bitCount(b); \n          }\n        })\n        .mapToInt(new ToIntFunction&lt;Integer&gt;() { // unboxing\n          @Override\n          public int applyAsInt(Integer integer) {\n            return integer.intValue();\n          }\n        }).toArray();  // array from stream\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26619556,"reputation":5,"user_id":20238472,"display_name":"schnuggyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74103016,"answer_count":1,"score":0,"last_activity_date":1666039277,"creation_date":1666036808,"question_id":74102603,"body_markdown":"```\r\nclass Solution {\r\n    public int[] sortByBits(int[] arr) {\r\n\t\treturn Arrays.stream(arr).boxed().sorted((a, b) -&gt; Integer.bitCount(a) == Integer.bitCount(b) ? a - b : Integer.bitCount(a) - Integer.bitCount(b)).mapToInt(Integer::intValue).toArray();\r\n    }\r\n}\r\n```\r\nI just started experimenting with java streams, and I found this solution for sorting integers by the number of 1 bits when given an array. I like the solution, but I don&#39;t understand whats going on after the stream is boxed. I&#39;d really appreciate it if someone can break down each step starting with &#39;.sorted(...&#39;\r\n\r\nMaybe if someone can provide a better easier to understand solution for what .sort is doing, I would very much appreciate it. \r\n\r\nLast thing I&#39;m a bit unclear about this solution is what the &#39;.mapToInt(Integer::intValue)&#39; is doing at the end of the statement. Specifically what is the purpose of &#39;intValue&#39;.\r\n\r\nSorry if my questions seem a bit primitive, I just discovered streams and I see a lot of potential for it. I want to make sure I really understand everything going on.  \r\n\r\n","title":"I want to sort integers by the number of 1 bits","body":"<pre><code>class Solution {\n    public int[] sortByBits(int[] arr) {\n        return Arrays.stream(arr).boxed().sorted((a, b) -&gt; Integer.bitCount(a) == Integer.bitCount(b) ? a - b : Integer.bitCount(a) - Integer.bitCount(b)).mapToInt(Integer::intValue).toArray();\n    }\n}\n</code></pre>\n<p>I just started experimenting with java streams, and I found this solution for sorting integers by the number of 1 bits when given an array. I like the solution, but I don't understand whats going on after the stream is boxed. I'd really appreciate it if someone can break down each step starting with '.sorted(...'</p>\n<p>Maybe if someone can provide a better easier to understand solution for what .sort is doing, I would very much appreciate it.</p>\n<p>Last thing I'm a bit unclear about this solution is what the '.mapToInt(Integer::intValue)' is doing at the end of the statement. Specifically what is the purpose of 'intValue'.</p>\n<p>Sorry if my questions seem a bit primitive, I just discovered streams and I see a lot of potential for it. I want to make sure I really understand everything going on.</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":1,"creation_date":1666003268,"post_id":74095975,"comment_id":130824042,"body_markdown":"what does it print ? what country and timezone do you have on your machine ? and what should it be ?","body":"what does it print ? what country and timezone do you have on your machine ? and what should it be ?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":6,"creation_date":1666003458,"post_id":74095975,"comment_id":130824111,"body_markdown":"You should immediately stop using `Date`, `Calendar` and `SimpleDateFormat`. They are [obsolete and troublesome](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api). Use classes from the `java.time` package instead.","body":"You should immediately stop using <code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>. They are <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">obsolete and troublesome</a>. Use classes from the <code>java.time</code> package instead."},{"owner":{"display_name":"user19336013"},"score":0,"creation_date":1666005380,"post_id":74095975,"comment_id":130824789,"body_markdown":"@SorinPenteleiciuc I want to use for Turkey","body":"@SorinPenteleiciuc I want to use for Turkey"},{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":0,"creation_date":1666007343,"post_id":74095975,"comment_id":130825523,"body_markdown":"You should get the timezone from the computer. What do you get UTC ?","body":"You should get the timezone from the computer. What do you get UTC ?"},{"owner":{"display_name":"user19336013"},"score":0,"creation_date":1666008820,"post_id":74095975,"comment_id":130826114,"body_markdown":"@SorinPenteleiciuc UTC+3","body":"@SorinPenteleiciuc UTC+3"}],"answers":[{"tags":[],"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666012193,"creation_date":1666012193,"answer_id":74097846,"question_id":74095975,"body_markdown":"Unfortunately you cannot really use the timezone because you get it from your operating system. If the OS gives you UTC, either configure it to Turkey or change it inside the application.\r\n\r\nSince you know your location, just do this:\r\n\r\n  \r\n\r\n     LocalDateTime date = LocalDateTime.now((ZoneId.of(&quot;Europe/Istanbul&quot;));\r\n\r\nThis question from below might help :\r\nhttps://stackoverflow.com/questions/63579732/how-can-i-get-calendar-getinstance-based-on-turkey-timezone\r\n\r\nYou can also deduce your timezone using your internet provider. Below there are 2 examples. \r\n\r\n     \r\n           \r\ntimezone example 1   \r\n\r\n           RestTemplate restTemplate = new RestTemplate();\r\n           String timezone = restTemplate.getForObject(&quot;https://ipapi.co/timezone&quot;, String.class);\r\n\r\n\r\ntimezone example 2\r\n\r\n            String timezone = restTemplate.getForObject(&quot;http://ip-api.com/line?fields=timezone&quot;, String.class);\r\n         \r\n\r\n\r\nAfter getting the timezone:  \r\n\r\n            LocalDateTime date = LocalDateTime.now(ZoneId.of(timezone));\r\n\r\n","title":"Figuring Out Local Time with Adding Manual Hour Method in Java","body":"<p>Unfortunately you cannot really use the timezone because you get it from your operating system. If the OS gives you UTC, either configure it to Turkey or change it inside the application.</p>\n<p>Since you know your location, just do this:</p>\n<pre><code> LocalDateTime date = LocalDateTime.now((ZoneId.of(&quot;Europe/Istanbul&quot;));\n</code></pre>\n<p>This question from below might help :\n<a href=\"https://stackoverflow.com/questions/63579732/how-can-i-get-calendar-getinstance-based-on-turkey-timezone\">how can i get Calendar.getInstance() based on Turkey timezone</a></p>\n<p>You can also deduce your timezone using your internet provider. Below there are 2 examples.</p>\n<p>timezone example 1</p>\n<pre><code>       RestTemplate restTemplate = new RestTemplate();\n       String timezone = restTemplate.getForObject(&quot;https://ipapi.co/timezone&quot;, String.class);\n</code></pre>\n<p>timezone example 2</p>\n<pre><code>        String timezone = restTemplate.getForObject(&quot;http://ip-api.com/line?fields=timezone&quot;, String.class);\n     \n</code></pre>\n<p>After getting the timezone:</p>\n<pre><code>        LocalDateTime date = LocalDateTime.now(ZoneId.of(timezone));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666038949,"creation_date":1666032354,"answer_id":74101817,"question_id":74095975,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime\r\n    .now( ZoneId.of( &quot;Europe/Istanbul&quot; ) )\r\n    .plusHours( 10 )\r\n\r\n# No, not `Calendar`\r\n\r\nNever use the terrible `Calendar` &amp; `SimpleDateFormat` legacy classes. \r\n\r\n# No, not `LocalDateTime`\r\n\r\nNever call `LocalDateTime.now`. I cannot imagine a case where that is the right thing to do. \r\n\r\nThe `LocalDateTime` class lacks the context of a time zone or offset from UTC.  So that class cannot represent a moment, a specific point on the timeline. \r\n\r\nTo track a moment, use: `Instant`, `OffsetDateTime`, or `ZonedDateTime` classes.\r\n\r\n# `ZoneId`\r\n\r\nSpecify your time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Istanbul&quot; ) ;\r\n\r\nOr get the JVM‘s current default time zone. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n\r\n# `ZonedDateTime`\r\n\r\nGet the current moment.\r\n\r\n    ZonedDateTime now = ZonedDateTime.now( z ) ;\r\n\r\nAdd time.\r\n\r\n    ZonedDateTime later = now.plusHours( 10 ) ;\r\n\r\n\r\n\r\n    ","title":"Figuring Out Local Time with Adding Manual Hour Method in Java","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime\n.now( ZoneId.of( &quot;Europe/Istanbul&quot; ) )\n.plusHours( 10 )\n</code></pre>\n<h1>No, not <code>Calendar</code></h1>\n<p>Never use the terrible <code>Calendar</code> &amp; <code>SimpleDateFormat</code> legacy classes.</p>\n<h1>No, not <code>LocalDateTime</code></h1>\n<p>Never call <code>LocalDateTime.now</code>. I cannot imagine a case where that is the right thing to do.</p>\n<p>The <code>LocalDateTime</code> class lacks the context of a time zone or offset from UTC.  So that class cannot represent a moment, a specific point on the timeline.</p>\n<p>To track a moment, use: <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code> classes.</p>\n<h1><code>ZoneId</code></h1>\n<p>Specify your time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Istanbul&quot; ) ;\n</code></pre>\n<p>Or get the JVM‘s current default time zone.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\n</code></pre>\n<h1><code>ZonedDateTime</code></h1>\n<p>Get the current moment.</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>Add time.</p>\n<pre><code>ZonedDateTime later = now.plusHours( 10 ) ;\n</code></pre>\n"}],"owner":{"display_name":"user19336013"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74097846,"answer_count":2,"score":0,"last_activity_date":1666038949,"creation_date":1666003078,"question_id":74095975,"body_markdown":"Hello I have a method which adds a time to my current time. \r\nWhat I am looking for is I want to add this code a local time info because doesnt get the local time in my country correctly.\r\nI searched in the stackoverflow but couldnt find a similar topic for this case.\r\nI am open your suggestions, thank you.\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Calendar cal = Calendar.getInstance();\r\n          cal.add(Calendar.HOUR_OF_DAY, 8);\r\n          DateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;);\r\n          System.out.println(dateFormat.format(cal.getTime()));\r\n        }\r\n    }\r\n\r\nI have changed the code with java.time utilities\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmssSSS&quot;);\r\n    \r\n          LocalDateTime date = LocalDateTime.now();\r\n          System.out.println(dateFormat.format(date));\r\n          System.out.println(dateFormat.format(date.plusHours(10)));  \r\n        }\r\n    }","title":"Figuring Out Local Time with Adding Manual Hour Method in Java","body":"<p>Hello I have a method which adds a time to my current time.\nWhat I am looking for is I want to add this code a local time info because doesnt get the local time in my country correctly.\nI searched in the stackoverflow but couldnt find a similar topic for this case.\nI am open your suggestions, thank you.</p>\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Calendar cal = Calendar.getInstance();\n      cal.add(Calendar.HOUR_OF_DAY, 8);\n      DateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;);\n      System.out.println(dateFormat.format(cal.getTime()));\n    }\n}\n</code></pre>\n<p>I have changed the code with java.time utilities</p>\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmssSSS&quot;);\n\n      LocalDateTime date = LocalDateTime.now();\n      System.out.println(dateFormat.format(date));\n      System.out.println(dateFormat.format(date.plusHours(10)));  \n    }\n}\n</code></pre>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":19505623,"reputation":172,"user_id":14270718,"display_name":"derpascal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666038782,"creation_date":1666037722,"answer_id":74102770,"question_id":74102175,"body_markdown":"Create an abstract class ToggledActionListener with only 1 abstract method like so:\r\n\r\n    public abstract class ToggledActionListener implements java.awt.event.ActionListener {\r\n    \r\n        private boolean isEnabled;\r\n    \r\n        public ToggledActionListener(){\r\n            isEnabled = true;\r\n        }\r\n    \r\n        public void setEnabled(boolean flag){\r\n            isEnabled = flag;\r\n        }\r\n    \r\n        public boolean isEnabled(){\r\n            return  isEnabled;\r\n        }\r\n    \r\n        @Override\r\n        public final void actionPerformed(ActionEvent e) {\r\n            if(isEnabled){\r\n                runIfAllowed(e);\r\n            }\r\n        }\r\n    \r\n        abstract void runIfAllowed(ActionEvent e);\r\n    }\r\n\r\nYou can then use it like:\r\n\r\n    someButton.addActionListener(someToggledActionListener);\r\nor\r\n\r\n    someButton.addActionListener(new ToggledActionListener({\r\n        @Override\r\n        void runIfAllowed(ActionEvent e){\r\n            //some code\r\n        }\r\n    });\r\n\r\nUse `someToggledActionLister.setEnabled(false)` to avoid cyclic event firing.\r\n\r\n","title":"Is it possible to disable swing Actionlistener#actionPerformed() method with reflection?","body":"<p>Create an abstract class ToggledActionListener with only 1 abstract method like so:</p>\n<pre><code>public abstract class ToggledActionListener implements java.awt.event.ActionListener {\n\n    private boolean isEnabled;\n\n    public ToggledActionListener(){\n        isEnabled = true;\n    }\n\n    public void setEnabled(boolean flag){\n        isEnabled = flag;\n    }\n\n    public boolean isEnabled(){\n        return  isEnabled;\n    }\n\n    @Override\n    public final void actionPerformed(ActionEvent e) {\n        if(isEnabled){\n            runIfAllowed(e);\n        }\n    }\n\n    abstract void runIfAllowed(ActionEvent e);\n}\n</code></pre>\n<p>You can then use it like:</p>\n<pre><code>someButton.addActionListener(someToggledActionListener);\n</code></pre>\n<p>or</p>\n<pre><code>someButton.addActionListener(new ToggledActionListener({\n    @Override\n    void runIfAllowed(ActionEvent e){\n        //some code\n    }\n});\n</code></pre>\n<p>Use <code>someToggledActionLister.setEnabled(false)</code> to avoid cyclic event firing.</p>\n"}],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74102770,"answer_count":1,"score":1,"last_activity_date":1666038782,"creation_date":1666034340,"question_id":74102175,"body_markdown":"I am referring to [this][1] exact problem with cyclic JComboBox updates.\r\nI was thinking, maybe instead of using flags or a mouselistener, is there a way of creating a toggleable actionlistener yourself?\r\n\r\n   I wrote this so far:\r\n    \r\n    public abstract class ToggledActionListener implements java.awt.event.ActionListener {\r\n    \r\n        private volatile boolean enabled;\r\n    \r\n        protected ToggledActionListener(){\r\n            enabled = true;\r\n        }\r\n    \r\n        public synchronized void setEnabled(boolean flag){\r\n            enabled = flag;\r\n        }\r\n    \r\n        public synchronized boolean isEnabled(){\r\n            return enabled;\r\n        }\r\n    \r\n    }\r\n\r\nNow I am trying to find a way to cancel any actionPerformed() calls from objects that extend this class **IF** enabled is false.\r\n\r\nIs this even possible?\r\n\r\n  [1]: https://stackoverflow.com/questions/5258596/how-to-avoid-firing-actionlistener-event-of-jcombobox-when-an-item-is-get-added","title":"Is it possible to disable swing Actionlistener#actionPerformed() method with reflection?","body":"<p>I am referring to <a href=\"https://stackoverflow.com/questions/5258596/how-to-avoid-firing-actionlistener-event-of-jcombobox-when-an-item-is-get-added\">this</a> exact problem with cyclic JComboBox updates.\nI was thinking, maybe instead of using flags or a mouselistener, is there a way of creating a toggleable actionlistener yourself?</p>\n<p>I wrote this so far:</p>\n<pre><code>public abstract class ToggledActionListener implements java.awt.event.ActionListener {\n\n    private volatile boolean enabled;\n\n    protected ToggledActionListener(){\n        enabled = true;\n    }\n\n    public synchronized void setEnabled(boolean flag){\n        enabled = flag;\n    }\n\n    public synchronized boolean isEnabled(){\n        return enabled;\n    }\n\n}\n</code></pre>\n<p>Now I am trying to find a way to cancel any actionPerformed() calls from objects that extend this class <strong>IF</strong> enabled is false.</p>\n<p>Is this even possible?</p>\n"},{"tags":["java","syntax-error","typeerror"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1666038191,"post_id":74102638,"comment_id":130836368,"body_markdown":"You can not supply alpha characters (like `x`) to the **Scanner#nextDouble()** method other than `+`, `-` and or course `.`. Numerical Digits only. You need to make sure there is no whitespace as well.","body":"You can not supply alpha characters (like <code>x</code>) to the <b>Scanner#nextDouble()</b> method other than <code>+</code>, <code>-</code> and or course <code>.</code>. Numerical Digits only. You need to make sure there is no whitespace as well."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666038258,"creation_date":1666038258,"answer_id":74102853,"question_id":74102638,"body_markdown":"Scanners default to the system locale. Your system locale is set to Dutch, or some other locale that uses commas as decimal separator. You have 2 options:\r\n\r\n1. Type `5,5` instead.\r\n2. Immediately after making a `new Scanner`, configure it to your liking. THat involves calling `cl.useLocale(Locale.ENGLISH);`, and probably also `cl.useDelimiter(&quot;\\\\R&quot;)` (which means: The user is expected to hit enter after every input. Versus the mostly useless &#39;any amount of whitespace&#39; default delimiter).\r\n","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException when I type a decimal number","body":"<p>Scanners default to the system locale. Your system locale is set to Dutch, or some other locale that uses commas as decimal separator. You have 2 options:</p>\n<ol>\n<li>Type <code>5,5</code> instead.</li>\n<li>Immediately after making a <code>new Scanner</code>, configure it to your liking. THat involves calling <code>cl.useLocale(Locale.ENGLISH);</code>, and probably also <code>cl.useDelimiter(&quot;\\\\R&quot;)</code> (which means: The user is expected to hit enter after every input. Versus the mostly useless 'any amount of whitespace' default delimiter).</li>\n</ol>\n"}],"owner":{"account_id":21843239,"reputation":1,"user_id":16136483,"display_name":"KATCHAW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666038813,"answer_count":1,"score":-1,"last_activity_date":1666038258,"creation_date":1666037033,"question_id":74102638,"body_markdown":"I do not understand what is wrong here:\r\n\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner cl = new Scanner(System.in);\r\n            double a = cl.nextDouble();\r\n            System.out.print(a);\r\n\r\n        }\r\n    }\r\n\r\nI get this error whenever I type x.x:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n\tat Main.main(Main.java:5)","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException when I type a decimal number","body":"<p>I do not understand what is wrong here:</p>\n<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner cl = new Scanner(System.in);\n        double a = cl.nextDouble();\n        System.out.print(a);\n\n    }\n}\n</code></pre>\n<p>I get this error whenever I type x.x:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\nat java.base/java.util.Scanner.throwFor(Scanner.java:939)\nat java.base/java.util.Scanner.next(Scanner.java:1594)\nat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\nat Main.main(Main.java:5)\n</code></pre>\n"},{"tags":["java","jsoup","exe"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1665396979,"post_id":74013286,"comment_id":130682750,"body_markdown":"Have you seen existing questions, like https://stackoverflow.com/questions/6353849/received-fatal-alert-handshake-failure-through-sslhandshakeexception ?","body":"Have you seen existing questions, like <a href=\"https://stackoverflow.com/questions/6353849/received-fatal-alert-handshake-failure-through-sslhandshakeexception\" title=\"received fatal alert handshake failure through sslhandshakeexception\">stackoverflow.com/questions/6353849/&hellip;</a> ?"},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":0,"creation_date":1665399110,"post_id":74013286,"comment_id":130683427,"body_markdown":"Upgraded to Openjdk 18.0.2.1 . Still the same error when running as EXE , but ok in Intellij","body":"Upgraded to Openjdk 18.0.2.1 . Still the same error when running as EXE , but ok in Intellij"},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":1,"creation_date":1665399264,"post_id":74013286,"comment_id":130683477,"body_markdown":"Yes, but I dont use certificates. And in Intellij everything is fine. It must have to do something with the runtime-image. I have seen comments about java - versions, therefore I upgraded to openjdk 18.0.2.1 , but this did not help to solve the problem.","body":"Yes, but I dont use certificates. And in Intellij everything is fine. It must have to do something with the runtime-image. I have seen comments about java - versions, therefore I upgraded to openjdk 18.0.2.1 , but this did not help to solve the problem."},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":0,"creation_date":1665407122,"post_id":74013286,"comment_id":130686174,"body_markdown":"I upgraded now to the latest java version Oracle 19. But it did not help.","body":"I upgraded now to the latest java version Oracle 19. But it did not help."},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":0,"creation_date":1665479274,"post_id":74013286,"comment_id":130704201,"body_markdown":"Using -Djavax.net.debug=ssl:handshake:verbose I created debug-output of the handshake.","body":"Using -Djavax.net.debug=ssl:handshake:verbose I created debug-output of the handshake."}],"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666038186,"creation_date":1665396748,"question_id":74013286,"body_markdown":"My app uses JSOUP to connect to websites. I am using JSOUP 1.15. In the development environment of Intellij everything as working fine.\r\nThen I generated an EXE file using jpackage.\r\nHer I am getting this error.\r\nThe trace is as follows:\r\n\r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\r\n    \tat org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\r\n    \tat org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\r\n    \tat com.workingelectrons.susannesrezeptbuch.GetRecipeFromChefkoch.&lt;init&gt;(GetRecipeFromChefkoch.java:32)\r\n    \tat com.workingelectrons.susannesrezeptbuch.ImportTab.startWebimport(ImportTab.java:192)\r\n    \tat com.workingelectrons.susannesrezeptbuch.ImportTab.lambda$startImport$3(ImportTab.java:120)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n    \tat javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Node.fireEvent(Unknown Source)\r\n    \tat javafx.controls@19/javafx.scene.control.Button.fire(Unknown Source)\r\n    \tat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\r\n    \tat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n    \tat javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n \r\nAs Java I am using openjdk 17.0.2\r\n\r\nThank you","title":"Received fatal alert: handshake_failure when running the program as EXE","body":"<p>My app uses JSOUP to connect to websites. I am using JSOUP 1.15. In the development environment of Intellij everything as working fine.\nThen I generated an EXE file using jpackage.\nHer I am getting this error.\nThe trace is as follows:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n    at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\n    at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\n    at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\n    at org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\n    at com.workingelectrons.susannesrezeptbuch.GetRecipeFromChefkoch.&lt;init&gt;(GetRecipeFromChefkoch.java:32)\n    at com.workingelectrons.susannesrezeptbuch.ImportTab.startWebimport(ImportTab.java:192)\n    at com.workingelectrons.susannesrezeptbuch.ImportTab.lambda$startImport$3(ImportTab.java:120)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n    at javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Node.fireEvent(Unknown Source)\n    at javafx.controls@19/javafx.scene.control.Button.fire(Unknown Source)\n    at javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\n    at javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n    at javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n    at java.base/java.security.AccessController.doPrivileged(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\n    at javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\n    at javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(Unknown Source)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>As Java I am using openjdk 17.0.2</p>\n<p>Thank you</p>\n"},{"tags":["java","ant","nxt","lego-mindstorms","lejos-nxj"],"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1605220586,"post_id":64812515,"comment_id":114592547,"body_markdown":"your problem isn&#39;t in Java but rather in C. Have you included the JNI library in your library path in C?","body":"your problem isn&#39;t in Java but rather in C. Have you included the JNI library in your library path in C?"},{"owner":{"account_id":14679134,"reputation":73,"user_id":10601232,"display_name":"Raymond17"},"score":0,"creation_date":1605220909,"post_id":64812515,"comment_id":114592637,"body_markdown":"i don&#39;t use C and Gcc these days , how i can do this ?","body":"i don&#39;t use C and Gcc these days , how i can do this ?"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1605221697,"post_id":64812515,"comment_id":114592881,"body_markdown":"I can&#39;t really tell what&#39;s happening here but I&#39;d guess that you are missing key components when compiling (it says you&#39;re using cc). So I&#39;d guess you&#39;re missing dependencies in your installation. I haven&#39;t had the pleasure of building LeJOS myself.","body":"I can&#39;t really tell what&#39;s happening here but I&#39;d guess that you are missing key components when compiling (it says you&#39;re using cc). So I&#39;d guess you&#39;re missing dependencies in your installation. I haven&#39;t had the pleasure of building LeJOS myself."},{"owner":{"account_id":14679134,"reputation":73,"user_id":10601232,"display_name":"Raymond17"},"score":0,"creation_date":1605222261,"post_id":64812515,"comment_id":114593049,"body_markdown":"i don&#39;t compile , just build with a ant command","body":"i don&#39;t compile , just build with a ant command"}],"answers":[{"tags":[],"owner":{"account_id":20562167,"reputation":36,"user_id":15092428,"display_name":"Daniel Dean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611784876,"creation_date":1611759547,"answer_id":65921727,"question_id":64812515,"body_markdown":"Did you ever manage to get this working? I eventually got it to work and had to change the following line in `build.xml`:\r\n\r\n    &lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/../include&quot;&gt;\r\n\r\nTo:\r\n\r\n    &lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/include&quot;&gt;\r\n\r\nApparently behaviour used to be to append `/jre` to `JAVA_HOME` hence the need for `/../` but it appears this no longer happens.\r\n\r\nHope this helps and you haven&#39;t given up.\r\n\r\nEdit: I should also add that you will need to use Java 8. After installing OpenJDK 8 (and editing the `build.xml`) I was able to run ant to complete the build and then compile, link and upload from the terminal. If you want to use eclipse with the plugin you will need to use version 2018-09 as that&#39;s the latest that works. Remeber to set the JRE to Java 8. After this everything works for me!","title":"jni.h no such file or directory","body":"<p>Did you ever manage to get this working? I eventually got it to work and had to change the following line in <code>build.xml</code>:</p>\n<pre><code>&lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/../include&quot;&gt;\n</code></pre>\n<p>To:</p>\n<pre><code>&lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/include&quot;&gt;\n</code></pre>\n<p>Apparently behaviour used to be to append <code>/jre</code> to <code>JAVA_HOME</code> hence the need for <code>/../</code> but it appears this no longer happens.</p>\n<p>Hope this helps and you haven't given up.</p>\n<p>Edit: I should also add that you will need to use Java 8. After installing OpenJDK 8 (and editing the <code>build.xml</code>) I was able to run ant to complete the build and then compile, link and upload from the terminal. If you want to use eclipse with the plugin you will need to use version 2018-09 as that's the latest that works. Remeber to set the JRE to Java 8. After this everything works for me!</p>\n"}],"owner":{"account_id":14679134,"reputation":73,"user_id":10601232,"display_name":"Raymond17"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65921727,"answer_count":1,"score":0,"last_activity_date":1666037267,"creation_date":1605218878,"question_id":64812515,"body_markdown":"To install leJos for NXJ brick i follow the documentation tutorial , i set the variables like this : `\r\n\r\n    export NXJ_HOME=$HOME/leJOS_NXJ_0.9.1beta-3\r\n    \r\n    export LEJOS_NXT_JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    \r\n    export PATH=$HOME/mohand/leJOS_NXJ_0.9.1beta-3/bin:$PATH\r\n\r\n` \r\ni go to build directory to make the ant command in the terminal and the build failed with the following error , i know the problem is surely in jni.h and i tried to fix it but i can&#39;t :\r\n\r\n   \r\n\r\n     Buildfile: /home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml\r\n    \r\n    jlibnxt:\r\n    \r\n    clean:\r\n    \r\n    jlibnxt:\r\n           [cc] 1 total files to be compiled.\r\n           [cc] In file included from /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/main_jlibnxt.c:30:0:\r\n           [cc] /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/jlibnxt.h:2:10: fatal error: jni.h: Aucun fichier ou dossier de ce type\r\n           [cc]  #include &lt;jni.h&gt;\r\n           [cc]           ^~~~~~~\r\n           [cc] compilation terminated.\r\n    \r\n    BUILD FAILED\r\n    /home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml:87: The following error occurred while executing this line:\r\n    /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/build.xml:39: gcc failed with return code 1\r\n    \r\n    Total time: 0 seconds\r\n\r\n","title":"jni.h no such file or directory","body":"<p>To install leJos for NXJ brick i follow the documentation tutorial , i set the variables like this : `</p>\n<pre><code>export NXJ_HOME=$HOME/leJOS_NXJ_0.9.1beta-3\n\nexport LEJOS_NXT_JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n\nexport PATH=$HOME/mohand/leJOS_NXJ_0.9.1beta-3/bin:$PATH\n</code></pre>\n<p>`\ni go to build directory to make the ant command in the terminal and the build failed with the following error , i know the problem is surely in jni.h and i tried to fix it but i can't :</p>\n<pre><code> Buildfile: /home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml\n\njlibnxt:\n\nclean:\n\njlibnxt:\n       [cc] 1 total files to be compiled.\n       [cc] In file included from /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/main_jlibnxt.c:30:0:\n       [cc] /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/jlibnxt.h:2:10: fatal error: jni.h: Aucun fichier ou dossier de ce type\n       [cc]  #include &lt;jni.h&gt;\n       [cc]           ^~~~~~~\n       [cc] compilation terminated.\n\nBUILD FAILED\n/home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml:87: The following error occurred while executing this line:\n/home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/build.xml:39: gcc failed with return code 1\n\nTotal time: 0 seconds\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666038308,"post_id":74102646,"comment_id":130836412,"body_markdown":"What&#39;s the question here?  You just throw an UnsupportedOperationException like any other exception.","body":"What&#39;s the question here?  You just throw an UnsupportedOperationException like any other exception."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666039892,"post_id":74102646,"comment_id":130836890,"body_markdown":"Please edit the question to include your code, and explain exactly where you are stuck.","body":"Please edit the question to include your code, and explain exactly where you are stuck."}],"owner":{"account_id":26652621,"reputation":1,"user_id":20266689,"display_name":"Robertggg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666037081,"creation_date":1666037081,"question_id":74102646,"body_markdown":"I am trying to create a method that throws the &#39;UnsupportedOperationException&#39; if the methods color and size are called","title":"How do I create a method that throws the &#39;UnsupportedOperationException&#39; if methods color and size are called","body":"<p>I am trying to create a method that throws the 'UnsupportedOperationException' if the methods color and size are called</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","autowired"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666007982,"post_id":74095937,"comment_id":130825764,"body_markdown":"Don&#39;t `new` services. Inject them as method parameters or as constructor dependency.","body":"Don&#39;t <code>new</code> services. Inject them as method parameters or as constructor dependency."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032107,"creation_date":1666032107,"answer_id":74101770,"question_id":74095937,"body_markdown":"What you can do is annotate the UserService class with @Scope and set the scope to request scope (see here https://www.baeldung.com/spring-bean-scopes).\r\n\r\nNow whenever you request a bean, you will get a complete new instance (and at this point the security context is set).\r\n\r\nSo TLDR:\r\n\r\n1. inject the UserService normally as a bean into your controller.\r\n2. Annotate the UserService with @Scope as described above","title":"How to make @Service to be called by &quot;new&quot; operator?","body":"<p>What you can do is annotate the UserService class with @Scope and set the scope to request scope (see here <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-bean-scopes</a>).</p>\n<p>Now whenever you request a bean, you will get a complete new instance (and at this point the security context is set).</p>\n<p>So TLDR:</p>\n<ol>\n<li>inject the UserService normally as a bean into your controller.</li>\n<li>Annotate the UserService with @Scope as described above</li>\n</ol>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1666036773,"creation_date":1666002766,"question_id":74095937,"body_markdown":"I&#39;m creating an electronic diary app, using java spring, but I faced with a small problem. I decided to create role system with a state pattern. So the logic of this system should look like this:\r\n\r\n1. In controller, after accepting request, it creates the object of context class.\r\nConstructor of context class gets concrete **RoleClass** in depends to user role.(it uses the factory)\r\n2. In controller we call the method of context we want to be executed\r\n3. In context we call the method of role we want to be executed.\r\n4. In role class we call the method of service we want to be executed.\r\n\r\nBut here I faced with a problem. I have a context class, which creates an object of **UserService** class, which contains a lot of **@Autowired** fields. So what I decided to do is to add ```@Service``` annotation to context class and there I added ```@Autowired``` annotation on constructor of **UserContext** class.\r\n\r\nHowever Spring autowires all the fields at the compilation stage, so there won&#39;t be any **UserPrincipal** in ```SecurityContextHolder``` when I start the program. So here I need to create an object of **UserContext** class at the request stage, in controller. That&#39;s why I added ```@Configurable``` annotation to **UserContext** class. But when **UserContext** class is creating, the autowired fields of **UserService** filing by null values.\r\n\r\nSo what can be a problem?\r\n\r\nBtw I understand that it better to create a constructor of **UserService** class, which will accept all the parameters(such as **UserRepository**), but here are another problems:\r\n1. I use **UserService** class a lot in other classes. For example I have a model, where I call this class. And here, after creating this object of class, the fields will be autowired automatically.\r\n```java\r\n@Getter @Setter\r\npublic class ClassGetModel {\r\n\r\n    private long id;\r\n\r\n    private int number;\r\n\r\n    private char letter;\r\n\r\n    private SchoolGetModel school;\r\n\r\n    private List&lt;UserGetModel&gt; students;\r\n\r\n    public static ClassGetModel toModel(ClassEntity schoolClass) {\r\n        ClassGetModel model = new ClassGetModel();\r\n        ModelMapper mapper = new ModelMapper();\r\n        mapper.getConfiguration().setSkipNullEnabled(true);\r\n        mapper.map(schoolClass, model);\r\n        model.setSchool(SchoolGetModel.toModel(schoolClass.getSchool()));\r\n        UserService userService = new UserService();\r\n        model.setStudents(userService.convertToUserGetModelList(schoolClass.getStudents()));\r\n        return model;\r\n    }\r\n}\r\n```\r\nAnd there is also a problem with the quantity of arguments of constructor. If my service has a lot of fields which is used in my program, I&#39;d have to give all of them to this constructor, even in **RoleFactory**.\r\n\r\nSo here&#39;s my code:\r\n**UserController**\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private UserContext userContext;\r\n\r\n    @GetMapping(&quot;/marks&quot;)\r\n    public ResponseEntity&lt;Object&gt; getMarks() {\r\n        try {\r\n            return ResponseEntity.ok(userContext.getMarks());\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\n\r\n**UserContext**\r\n```java\r\n@Service @Configurable @Scope(&quot;prototype&quot;)\r\npublic class UserContext {\r\n\r\n   @Autowired\r\n    public UserContext(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n    public List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\r\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\r\n        return userRole.getHomework();\r\n    }\r\n\r\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\r\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\r\n        return userRole.getMarks();\r\n    }\r\n}\r\n```\r\n**UserRole**\r\n```java\r\npublic interface UserRole {\r\n    default UserGetModel getUser(long id) throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;UserGetModel&gt; getAllUsers() {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity updateUser(UserUpdateModel newUserData) throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity deleteUser() throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarksByDate(String date) throws UserNotFoundException, ParseException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarksBySubject(String subjectName) throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarksByDateAndSubject(DateAndSubjectModel dateAndSubject) throws UserNotFoundException, ParseException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectGetModel getSubject(long id) throws SubjectNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectGetModel getSubject(String name) throws SubjectNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolGetModel getSchoolById(long schoolId) throws SchoolNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolGetModel getSchoolByNumber(int schoolNumber) throws SchoolNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;SchoolGetModel&gt; getSchools() {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassGetModel getSchoolClass(ClassGetByNumberModel classData) throws com.diary.diary.exception.school_class.ClassNotFoundException, SchoolNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;ClassGetModel&gt; getClasses() {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;HomeworkGetModel&gt; getHomeworkByDate(String date) throws UserNotFoundException, ParseException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;HomeworkGetModel&gt; getHomeworkBySubject(String subjectName) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity addClass(ClassAddModel classData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity deleteClass(long id) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity removeUserFromClass(AdminRemoveUserFromClassModel userClassModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolEntity addSchool(SchoolAddModel schoolData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolEntity deleteSchool(long id) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity removeUserFromSchool(AdminRemoveUserFromSchoolModel userSchoolModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectEntity addSubject(SubjectAddModel subjectData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectEntity updateSubject(SubjectUpdateModel newSubjectModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectEntity deleteSubject(SubjectDeleteModel subjectDeleteData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default TimetableEntity addTimetable(TimetableAddModel timetableData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default TimetableEntity updateTimetable(TimeTableUpdateModel newTimetableData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default TimetableEntity deleteTimetable(long id) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity addTimetableToClass(TimetableClassModel timetableClass) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity deleteTimetableFromClass(long classId) {\r\n        throw new NotImplementedException();\r\n    }\r\n}\r\n```\r\n\r\n**UserService**\r\n```java\r\n@Service @Configurable @Scope(&quot;prototype&quot;)\r\npublic class UserService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepo;\r\n    @Autowired\r\n    private RoleRepository roleRepo;\r\n\r\n    @Autowired\r\n    private MarkMethods markMethods;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder\r\n            = new BCryptPasswordEncoder();\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        UserEntity user = userRepo.findByLogin(username);\r\n        if(user == null) {\r\n            throw new UsernameNotFoundException(&quot;user with such login not found&quot;);\r\n        }\r\n        SimpleGrantedAuthority userRole = new SimpleGrantedAuthority(user.getRole().toString());\r\n        return new User(Long.toString(user.getId()), user.getPassword(), List.of(userRole));\r\n    }\r\n    \r\n    public UserGetModel getUser(long userID) throws UserNotFoundException {\r\n        UserEntity user = userRepo.findById(userID)\r\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;no user with such id&quot;));\r\n        return convertUserToGetModel(user);\r\n    }\r\n\r\n    public UserEntity getCurrentUser() throws UserNotFoundException {\r\n        Authentication authentication = SecurityContextHolder\r\n                .getContext().getAuthentication();\r\n        if(authentication == null) {\r\n            return null;\r\n        }\r\n        Long userId = Long.valueOf((String) authentication.getPrincipal());\r\n        return userRepo.findById(userId)\r\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;current user wasn&#39;t found&quot;));\r\n    }\r\n\r\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\r\n        checkUserRoleOrThrow(RoleNames.ADMIN, getCurrentUser());\r\n        UserEntity student = getCurrentUser();\r\n        return convertToMarkGetModelList(student.getMarks());\r\n    }\r\n```\r\n\r\nIf you know the way how it can be solved, please tell me. I&#39;d really appreciate it!","title":"How to make @Service to be called by &quot;new&quot; operator?","body":"<p>I'm creating an electronic diary app, using java spring, but I faced with a small problem. I decided to create role system with a state pattern. So the logic of this system should look like this:</p>\n<ol>\n<li>In controller, after accepting request, it creates the object of context class.\nConstructor of context class gets concrete <strong>RoleClass</strong> in depends to user role.(it uses the factory)</li>\n<li>In controller we call the method of context we want to be executed</li>\n<li>In context we call the method of role we want to be executed.</li>\n<li>In role class we call the method of service we want to be executed.</li>\n</ol>\n<p>But here I faced with a problem. I have a context class, which creates an object of <strong>UserService</strong> class, which contains a lot of <strong>@Autowired</strong> fields. So what I decided to do is to add <code>@Service</code> annotation to context class and there I added <code>@Autowired</code> annotation on constructor of <strong>UserContext</strong> class.</p>\n<p>However Spring autowires all the fields at the compilation stage, so there won't be any <strong>UserPrincipal</strong> in <code>SecurityContextHolder</code> when I start the program. So here I need to create an object of <strong>UserContext</strong> class at the request stage, in controller. That's why I added <code>@Configurable</code> annotation to <strong>UserContext</strong> class. But when <strong>UserContext</strong> class is creating, the autowired fields of <strong>UserService</strong> filing by null values.</p>\n<p>So what can be a problem?</p>\n<p>Btw I understand that it better to create a constructor of <strong>UserService</strong> class, which will accept all the parameters(such as <strong>UserRepository</strong>), but here are another problems:</p>\n<ol>\n<li>I use <strong>UserService</strong> class a lot in other classes. For example I have a model, where I call this class. And here, after creating this object of class, the fields will be autowired automatically.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class ClassGetModel {\n\n    private long id;\n\n    private int number;\n\n    private char letter;\n\n    private SchoolGetModel school;\n\n    private List&lt;UserGetModel&gt; students;\n\n    public static ClassGetModel toModel(ClassEntity schoolClass) {\n        ClassGetModel model = new ClassGetModel();\n        ModelMapper mapper = new ModelMapper();\n        mapper.getConfiguration().setSkipNullEnabled(true);\n        mapper.map(schoolClass, model);\n        model.setSchool(SchoolGetModel.toModel(schoolClass.getSchool()));\n        UserService userService = new UserService();\n        model.setStudents(userService.convertToUserGetModelList(schoolClass.getStudents()));\n        return model;\n    }\n}\n</code></pre>\n<p>And there is also a problem with the quantity of arguments of constructor. If my service has a lot of fields which is used in my program, I'd have to give all of them to this constructor, even in <strong>RoleFactory</strong>.</p>\n<p>So here's my code:\n<strong>UserController</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private UserContext userContext;\n\n    @GetMapping(&quot;/marks&quot;)\n    public ResponseEntity&lt;Object&gt; getMarks() {\n        try {\n            return ResponseEntity.ok(userContext.getMarks());\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p><strong>UserContext</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service @Configurable @Scope(&quot;prototype&quot;)\npublic class UserContext {\n\n   @Autowired\n    public UserContext(UserService userService) {\n        this.userService = userService;\n    }\n    public List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\n        return userRole.getHomework();\n    }\n\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\n        return userRole.getMarks();\n    }\n}\n</code></pre>\n<p><strong>UserRole</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRole {\n    default UserGetModel getUser(long id) throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;UserGetModel&gt; getAllUsers() {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity updateUser(UserUpdateModel newUserData) throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity deleteUser() throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarksByDate(String date) throws UserNotFoundException, ParseException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarksBySubject(String subjectName) throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarksByDateAndSubject(DateAndSubjectModel dateAndSubject) throws UserNotFoundException, ParseException {\n        throw new NotImplementedException();\n    }\n\n    default SubjectGetModel getSubject(long id) throws SubjectNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default SubjectGetModel getSubject(String name) throws SubjectNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default SchoolGetModel getSchoolById(long schoolId) throws SchoolNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default SchoolGetModel getSchoolByNumber(int schoolNumber) throws SchoolNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;SchoolGetModel&gt; getSchools() {\n        throw new NotImplementedException();\n    }\n\n    default ClassGetModel getSchoolClass(ClassGetByNumberModel classData) throws com.diary.diary.exception.school_class.ClassNotFoundException, SchoolNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;ClassGetModel&gt; getClasses() {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;HomeworkGetModel&gt; getHomeworkByDate(String date) throws UserNotFoundException, ParseException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;HomeworkGetModel&gt; getHomeworkBySubject(String subjectName) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity addClass(ClassAddModel classData) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity deleteClass(long id) {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity removeUserFromClass(AdminRemoveUserFromClassModel userClassModel) {\n        throw new NotImplementedException();\n    }\n\n    default SchoolEntity addSchool(SchoolAddModel schoolData) {\n        throw new NotImplementedException();\n    }\n\n    default SchoolEntity deleteSchool(long id) {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity removeUserFromSchool(AdminRemoveUserFromSchoolModel userSchoolModel) {\n        throw new NotImplementedException();\n    }\n\n    default SubjectEntity addSubject(SubjectAddModel subjectData) {\n        throw new NotImplementedException();\n    }\n\n    default SubjectEntity updateSubject(SubjectUpdateModel newSubjectModel) {\n        throw new NotImplementedException();\n    }\n\n    default SubjectEntity deleteSubject(SubjectDeleteModel subjectDeleteData) {\n        throw new NotImplementedException();\n    }\n\n    default TimetableEntity addTimetable(TimetableAddModel timetableData) {\n        throw new NotImplementedException();\n    }\n\n    default TimetableEntity updateTimetable(TimeTableUpdateModel newTimetableData) {\n        throw new NotImplementedException();\n    }\n\n    default TimetableEntity deleteTimetable(long id) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity addTimetableToClass(TimetableClassModel timetableClass) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity deleteTimetableFromClass(long classId) {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n<p><strong>UserService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service @Configurable @Scope(&quot;prototype&quot;)\npublic class UserService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepo;\n    @Autowired\n    private RoleRepository roleRepo;\n\n    @Autowired\n    private MarkMethods markMethods;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder\n            = new BCryptPasswordEncoder();\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        UserEntity user = userRepo.findByLogin(username);\n        if(user == null) {\n            throw new UsernameNotFoundException(&quot;user with such login not found&quot;);\n        }\n        SimpleGrantedAuthority userRole = new SimpleGrantedAuthority(user.getRole().toString());\n        return new User(Long.toString(user.getId()), user.getPassword(), List.of(userRole));\n    }\n    \n    public UserGetModel getUser(long userID) throws UserNotFoundException {\n        UserEntity user = userRepo.findById(userID)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;no user with such id&quot;));\n        return convertUserToGetModel(user);\n    }\n\n    public UserEntity getCurrentUser() throws UserNotFoundException {\n        Authentication authentication = SecurityContextHolder\n                .getContext().getAuthentication();\n        if(authentication == null) {\n            return null;\n        }\n        Long userId = Long.valueOf((String) authentication.getPrincipal());\n        return userRepo.findById(userId)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;current user wasn't found&quot;));\n    }\n\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\n        checkUserRoleOrThrow(RoleNames.ADMIN, getCurrentUser());\n        UserEntity student = getCurrentUser();\n        return convertToMarkGetModelList(student.getMarks());\n    }\n</code></pre>\n<p>If you know the way how it can be solved, please tell me. I'd really appreciate it!</p>\n"},{"tags":["java","groovy","java-io"],"comments":[{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1321735143,"post_id":8197049,"comment_id":10072868,"body_markdown":"Is this for a generic file, or are you trying to get the parent directory of your source file?  If the latter, I&#39;m not sure you understand Java compilation.  At runtime, `test.java` probably won&#39;t even exist on the computer where the program is being run.  It&#39;s the compiled `.class` file that is run.  So this will only work if you know where `ddd` is located, in which case there is no point in finding it programatically; just hard code it.","body":"Is this for a generic file, or are you trying to get the parent directory of your source file?  If the latter, I&#39;m not sure you understand Java compilation.  At runtime, <code>test.java</code> probably won&#39;t even exist on the computer where the program is being run.  It&#39;s the compiled <code>.class</code> file that is run.  So this will only work if you know where <code>ddd</code> is located, in which case there is no point in finding it programatically; just hard code it."}],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":1,"up_vote_count":171,"is_accepted":true,"score":170,"last_activity_date":1359841796,"creation_date":1321735179,"answer_id":8197136,"question_id":8197049,"body_markdown":"Use [`File`&#39;s `getParentFile()` method][1] and `String.lastIndexOf()` to retrieve *just* the immediate parent directory. \r\n\r\nMark&#39;s comment is a better solution than`lastIndexOf()`:\r\n\r\n    file.getParentFile().getName();\r\n\r\nThese solutions only works if the file has a parent file (e.g., created via one of the file constructors taking a parent `File`). When `getParentFile()` is null you&#39;ll need to resort to using `lastIndexOf`, or use something like [Apache Commons&#39; `FileNameUtils.getFullPath()`][2]:\r\n\r\n    FilenameUtils.getFullPathNoEndSeparator(file.getAbsolutePath());\r\n    =&gt; C:/aaa/bbb/ccc/ddd\r\n\r\nThere are several variants to retain/drop the prefix and trailing separator. You can either use the same `FilenameUtils` class to grab the name from the result, use `lastIndexOf`, etc.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/File.html#getParentFile%28%29\r\n  [2]: http://commons.apache.org/io/api-release/org/apache/commons/io/FilenameUtils.html#getFullPath%28java.lang.String%29","title":"How to get just the parent directory name of a specific file","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#getParentFile%28%29\" rel=\"noreferrer\"><code>File</code>'s <code>getParentFile()</code> method</a> and <code>String.lastIndexOf()</code> to retrieve <em>just</em> the immediate parent directory. </p>\n\n<p>Mark's comment is a better solution than<code>lastIndexOf()</code>:</p>\n\n<pre><code>file.getParentFile().getName();\n</code></pre>\n\n<p>These solutions only works if the file has a parent file (e.g., created via one of the file constructors taking a parent <code>File</code>). When <code>getParentFile()</code> is null you'll need to resort to using <code>lastIndexOf</code>, or use something like <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FilenameUtils.html#getFullPath%28java.lang.String%29\" rel=\"noreferrer\">Apache Commons' <code>FileNameUtils.getFullPath()</code></a>:</p>\n\n<pre><code>FilenameUtils.getFullPathNoEndSeparator(file.getAbsolutePath());\n=&gt; C:/aaa/bbb/ccc/ddd\n</code></pre>\n\n<p>There are several variants to retain/drop the prefix and trailing separator. You can either use the same <code>FilenameUtils</code> class to grab the name from the result, use <code>lastIndexOf</code>, etc.</p>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1518124993,"creation_date":1321735643,"answer_id":8197193,"question_id":8197049,"body_markdown":"    File f = new File(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);\r\n    System.out.println(f.getParentFile().getName())\r\n\r\n\r\n`f.getParentFile()` can be null, so you should check it.\r\n","title":"How to get just the parent directory name of a specific file","body":"<pre><code>File f = new File(\"C:/aaa/bbb/ccc/ddd/test.java\");\nSystem.out.println(f.getParentFile().getName())\n</code></pre>\n\n<p><code>f.getParentFile()</code> can be null, so you should check it.</p>\n"},{"tags":[],"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1405499708,"creation_date":1405499708,"answer_id":24775972,"question_id":8197049,"body_markdown":"Use below,\r\n\r\n    File file = new File(&quot;file/path&quot;);\r\n    String parentPath = file.getAbsoluteFile().getParent();","title":"How to get just the parent directory name of a specific file","body":"<p>Use below,</p>\n\n<pre><code>File file = new File(\"file/path\");\nString parentPath = file.getAbsoluteFile().getParent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":320632,"reputation":1333,"user_id":639016,"accept_rate":75,"display_name":"Fedir Tsapana"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413185643,"creation_date":1413185643,"answer_id":26334930,"question_id":8197049,"body_markdown":"If you have just String path and don&#39;t want to create new File object you can use something like:\r\n\r\n\tpublic static String getParentDirPath(String fileOrDirPath) {\r\n\t\tboolean endsWithSlash = fileOrDirPath.endsWith(File.separator);\r\n\t\treturn fileOrDirPath.substring(0, fileOrDirPath.lastIndexOf(File.separatorChar, \r\n\t\t\t\tendsWithSlash ? fileOrDirPath.length() - 2 : fileOrDirPath.length() - 1));\r\n\t}","title":"How to get just the parent directory name of a specific file","body":"<p>If you have just String path and don't want to create new File object you can use something like:</p>\n\n<pre><code>public static String getParentDirPath(String fileOrDirPath) {\n    boolean endsWithSlash = fileOrDirPath.endsWith(File.separator);\n    return fileOrDirPath.substring(0, fileOrDirPath.lastIndexOf(File.separatorChar, \n            endsWithSlash ? fileOrDirPath.length() - 2 : fileOrDirPath.length() - 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2082764,"reputation":61,"user_id":1854407,"display_name":"Crni03"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462525544,"creation_date":1442358855,"answer_id":32597164,"question_id":8197049,"body_markdown":"    File file = new File(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);\r\n    File curentPath = new File(file.getParent());\r\n    //get current path &quot;C:/aaa/bbb/ccc/ddd/&quot;\r\n\tString currentFolder= currentPath.getName().toString();\r\n    //get name of file to string &quot;ddd&quot;\r\n\r\nif you need to append folder &quot;ddd&quot; by another path use;\r\n    \r\n    String currentFolder= &quot;/&quot; + currentPath.getName().toString();\r\n","title":"How to get just the parent directory name of a specific file","body":"<pre><code>File file = new File(\"C:/aaa/bbb/ccc/ddd/test.java\");\nFile curentPath = new File(file.getParent());\n//get current path \"C:/aaa/bbb/ccc/ddd/\"\nString currentFolder= currentPath.getName().toString();\n//get name of file to string \"ddd\"\n</code></pre>\n\n<p>if you need to append folder \"ddd\" by another path use;</p>\n\n<pre><code>String currentFolder= \"/\" + currentPath.getName().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518707230,"creation_date":1518707230,"answer_id":48810331,"question_id":8197049,"body_markdown":"From java 7 I would prefer to use Path. You only need to put path into:\r\n\r\n    Path dddDirectoryPath = Paths.get(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);\r\n\r\n and create some get method:\r\n\r\n    public String getLastDirectoryName(Path directoryPath) {\r\n       int nameCount = directoryPath.getNameCount();\r\n       return directoryPath.getName(nameCount - 1);\r\n    }","title":"How to get just the parent directory name of a specific file","body":"<p>From java 7 I would prefer to use Path. You only need to put path into:</p>\n\n<pre><code>Path dddDirectoryPath = Paths.get(\"C:/aaa/bbb/ccc/ddd/test.java\");\n</code></pre>\n\n<p>and create some get method:</p>\n\n<pre><code>public String getLastDirectoryName(Path directoryPath) {\n   int nameCount = directoryPath.getNameCount();\n   return directoryPath.getName(nameCount - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6200,"reputation":34634,"user_id":10335,"accept_rate":80,"display_name":"neves"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1666036758,"creation_date":1519772942,"answer_id":49019436,"question_id":8197049,"body_markdown":"Since Java 7 you have the new **[Paths api](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html)**. The modern and cleanest solution is:\r\n\r\n    Paths.get(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;).getParent().toString();\r\n\r\nResult would be:\r\n\r\n    C:/aaa/bbb/ccc/ddd","title":"How to get just the parent directory name of a specific file","body":"<p>Since Java 7 you have the new <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html\" rel=\"noreferrer\">Paths api</a></strong>. The modern and cleanest solution is:</p>\n<pre><code>Paths.get(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;).getParent().toString();\n</code></pre>\n<p>Result would be:</p>\n<pre><code>C:/aaa/bbb/ccc/ddd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8841515,"reputation":47750,"user_id":6603816,"display_name":"yamenk"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1523530862,"creation_date":1523530862,"answer_id":49794832,"question_id":8197049,"body_markdown":"**In Groovy:**\r\n\r\nThere is no need to create a `File` instance to parse the string in groovy. It can be done as follows:\r\n\r\n    String path = &quot;C:/aaa/bbb/ccc/ddd/test.java&quot;\r\n    path.split(&#39;/&#39;)[-2]  // this will return ddd\r\n\r\nThe split will create the array `[C:, aaa, bbb, ccc, ddd, test.java]` and index `-2` will point to entry before the last one, which in this case is `ddd`","title":"How to get just the parent directory name of a specific file","body":"<p><strong>In Groovy:</strong></p>\n\n<p>There is no need to create a <code>File</code> instance to parse the string in groovy. It can be done as follows:</p>\n\n<pre><code>String path = \"C:/aaa/bbb/ccc/ddd/test.java\"\npath.split('/')[-2]  // this will return ddd\n</code></pre>\n\n<p>The split will create the array <code>[C:, aaa, bbb, ccc, ddd, test.java]</code> and index <code>-2</code> will point to entry before the last one, which in this case is <code>ddd</code></p>\n"},{"tags":[],"owner":{"account_id":15569653,"reputation":11,"user_id":11232448,"display_name":"Oscar Betgen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553090374,"creation_date":1553090374,"answer_id":55262516,"question_id":8197049,"body_markdown":"        //get the parentfolder name\r\n        File file = new File( System.getProperty(&quot;user.dir&quot;) + &quot;/.&quot;);\r\n        String parentPath = file.getParentFile().getName();","title":"How to get just the parent directory name of a specific file","body":"<pre><code>    //get the parentfolder name\n    File file = new File( System.getProperty(\"user.dir\") + \"/.\");\n    String parentPath = file.getParentFile().getName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6943530,"reputation":1212,"user_id":5328951,"display_name":"Yogesh Nikam Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598009031,"creation_date":1598009031,"answer_id":63521965,"question_id":8197049,"body_markdown":"For Kotlin :\r\n\r\n\r\n   \r\n\r\n     fun getFolderName() {\r\n                \r\n                val uri: Uri\r\n                val cursor: Cursor?\r\n        \r\n                uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\r\n                val projection = arrayOf(MediaStore.Audio.AudioColumns.DATA)\r\n                cursor = requireActivity().contentResolver.query(uri, projection, null, null, null)\r\n                if (cursor != null) {\r\n                    column_index_data = cursor.getColumnIndexOrThrow(MediaStore.Audio.AudioColumns.DATA)\r\n                }\r\n                \r\n                while (cursor!!.moveToNext()) {\r\n        \r\n                    absolutePathOfImage = cursor.getString(column_index_data)\r\n        \r\n        \r\n                    val fileName: String = File(absolutePathOfImage).parentFile.name\r\n        }\r\n    }","title":"How to get just the parent directory name of a specific file","body":"<p>For Kotlin :</p>\n<pre><code> fun getFolderName() {\n            \n            val uri: Uri\n            val cursor: Cursor?\n    \n            uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\n            val projection = arrayOf(MediaStore.Audio.AudioColumns.DATA)\n            cursor = requireActivity().contentResolver.query(uri, projection, null, null, null)\n            if (cursor != null) {\n                column_index_data = cursor.getColumnIndexOrThrow(MediaStore.Audio.AudioColumns.DATA)\n            }\n            \n            while (cursor!!.moveToNext()) {\n    \n                absolutePathOfImage = cursor.getString(column_index_data)\n    \n    \n                val fileName: String = File(absolutePathOfImage).parentFile.name\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":114058,"reputation":6905,"user_id":300097,"accept_rate":64,"display_name":"minil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283346,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":8197136,"answer_count":10,"score":138,"last_activity_date":1666036758,"creation_date":1321734526,"question_id":8197049,"body_markdown":"How to get `ddd` from the path name where the test.java resides.\r\n\r\n    File file = new File(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);","title":"How to get just the parent directory name of a specific file","body":"<p>How to get <code>ddd</code> from the path name where the test.java resides.</p>\n\n<pre><code>File file = new File(\"C:/aaa/bbb/ccc/ddd/test.java\");\n</code></pre>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662103039,"post_id":73566397,"comment_id":129932808,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26206146,"reputation":1,"user_id":19885707,"display_name":"usuario1444"},"score":0,"creation_date":1662371930,"post_id":73566397,"comment_id":129983015,"body_markdown":"We need good practices on how to perform a nodetool repair to our cluster","body":"We need good practices on how to perform a nodetool repair to our cluster"}],"answers":[{"tags":[],"owner":{"account_id":13821370,"reputation":55,"user_id":9976719,"display_name":"OvivO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666036668,"creation_date":1666036668,"answer_id":74102579,"question_id":73566397,"body_markdown":"either execute: &quot;nodetool repair -pr --full&quot; on each node sequentially or check out Cassandra Reaper tool, which does the job.","title":"Make a repair in Cassandra","body":"<p>either execute: &quot;nodetool repair -pr --full&quot; on each node sequentially or check out Cassandra Reaper tool, which does the job.</p>\n"}],"owner":{"account_id":26206146,"reputation":1,"user_id":19885707,"display_name":"usuario1444"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666036668,"creation_date":1662021232,"question_id":73566397,"body_markdown":"We have a cluster of 9 nodes, each node with 300&#160;GB (Version `Cassandra 3.11`), we have performed full repairs on each one of them, and they have been completed correctly, but we still have 3 nodes to repair, but the repair never ends.\r\n\r\nThey could indicate the good practices that we must carry out. \r\n","title":"Make a repair in Cassandra","body":"<p>We have a cluster of 9 nodes, each node with 300 GB (Version <code>Cassandra 3.11</code>), we have performed full repairs on each one of them, and they have been completed correctly, but we still have 3 nodes to repair, but the repair never ends.</p>\n<p>They could indicate the good practices that we must carry out.</p>\n"},{"tags":["java","boolean"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666035958,"creation_date":1666033291,"answer_id":74101985,"question_id":74101641,"body_markdown":"&lt;s&gt;after you print yes or no, you should reset the boolean to true again&lt;/s&gt;\r\n\r\nEDIT: @Suman Saurabh is correct here","title":"Value of Boolean in not changing from false to true","body":"<p><s>after you print yes or no, you should reset the boolean to true again</s></p>\n<p>EDIT: @Suman Saurabh is correct here</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666034109,"creation_date":1666033806,"answer_id":74102069,"question_id":74101641,"body_markdown":"As soon as your application find an even number it breaks the loop, which means it no longer reads the rest of the line.\r\nThe next invocation will start where the previous left off and consume that input.\r\n\r\nSo when the second &#39;2&#39; is read, the inner loop breaks and &#39;NO&#39; gets printed.\r\nFor the next loop the &#39;5&#39; is read which means there should be 5 values to be read. Then the value &#39;4&#39; is read, which is even again, and the code emits &#39;NO&#39; again. The values 3, 1 and 7 are never consumed.\r\n\r\nIt works as designed. To better understand, add lots of System.out.println statements, or learn how to use a debugger.\r\n\r\nBut to answer your question:\r\n\r\nThe first int specifies how many datasets you want to read.\r\nThe first int per dataset specifies how many data values are in the set. The remaining numbers resemble the data set.\r\n\r\nYour problem is that when you encounter an even number you do not read the remainder of the dataset, and you program treats the next integers as the specifier of the next dataset&#39;s length.\r\nWhat you need to change is that even when you encountered an even number you have to consume enough integers from your scanner so the dataset is read before you start reading the next.\r\nThat change can be as easy as removing the `break`.","title":"Value of Boolean in not changing from false to true","body":"<p>As soon as your application find an even number it breaks the loop, which means it no longer reads the rest of the line.\nThe next invocation will start where the previous left off and consume that input.</p>\n<p>So when the second '2' is read, the inner loop breaks and 'NO' gets printed.\nFor the next loop the '5' is read which means there should be 5 values to be read. Then the value '4' is read, which is even again, and the code emits 'NO' again. The values 3, 1 and 7 are never consumed.</p>\n<p>It works as designed. To better understand, add lots of System.out.println statements, or learn how to use a debugger.</p>\n<p>But to answer your question:</p>\n<p>The first int specifies how many datasets you want to read.\nThe first int per dataset specifies how many data values are in the set. The remaining numbers resemble the data set.</p>\n<p>Your problem is that when you encounter an even number you do not read the remainder of the dataset, and you program treats the next integers as the specifier of the next dataset's length.\nWhat you need to change is that even when you encountered an even number you have to consume enough integers from your scanner so the dataset is read before you start reading the next.\nThat change can be as easy as removing the <code>break</code>.</p>\n"}],"owner":{"account_id":23149737,"reputation":31,"user_id":17251952,"display_name":"Suman Saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74102069,"answer_count":2,"score":0,"last_activity_date":1666035958,"creation_date":1666031469,"question_id":74101641,"body_markdown":"The problem is, I have to print `NO` if given array have any Even element and `YES` if all elements is Odd,\r\nbut if my code print `NO` after that it will only print `NO`.\r\n\r\n&gt; **Given**\r\n&gt;\r\n&gt;    `t` = Total test case\r\n&gt;\r\n&gt;    `n` = Length of each array\r\n&gt;\r\n&gt;    and of course `n` elements also\r\n\r\n**Input**\r\n\r\n    2\r\n    5\r\n    1 2 5 4 3\r\n    1\r\n    7\r\n\r\n**Output**\r\n\r\n    NO\r\n    NO\r\n\r\n**Expected Output**\r\n\r\n    NO\r\n    YES\r\n    \r\n\r\n&gt; **Following is My Code**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class dsj {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int t = sc.nextInt();\r\n            while (t-- &gt; 0){\r\n                int n = sc.nextInt();\r\n                boolean k = true;\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    int x = sc.nextInt();\r\n                    if (x % 2 == 0) {\r\n                        k = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (k)\r\n                    System.out.println(&quot;YES&quot;);\r\n                else\r\n                    System.out.println(&quot;NO&quot;);\r\n                    \r\n            }\r\n            sc.close();\r\n        }\r\n    }\r\n\r\n\r\n&gt; **Please tell me what I am doing wrong**","title":"Value of Boolean in not changing from false to true","body":"<p>The problem is, I have to print <code>NO</code> if given array have any Even element and <code>YES</code> if all elements is Odd,\nbut if my code print <code>NO</code> after that it will only print <code>NO</code>.</p>\n<blockquote>\n<p><strong>Given</strong></p>\n<p><code>t</code> = Total test case</p>\n<p><code>n</code> = Length of each array</p>\n<p>and of course <code>n</code> elements also</p>\n</blockquote>\n<p><strong>Input</strong></p>\n<pre><code>2\n5\n1 2 5 4 3\n1\n7\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>NO\nNO\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>NO\nYES\n</code></pre>\n<blockquote>\n<p><strong>Following is My Code</strong></p>\n</blockquote>\n<pre><code>import java.util.Scanner;\n\npublic class dsj {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        while (t-- &gt; 0){\n            int n = sc.nextInt();\n            boolean k = true;\n            for (int i = 0; i &lt; n; i++) {\n                int x = sc.nextInt();\n                if (x % 2 == 0) {\n                    k = false;\n                    break;\n                }\n            }\n            if (k)\n                System.out.println(&quot;YES&quot;);\n            else\n                System.out.println(&quot;NO&quot;);\n                \n        }\n        sc.close();\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>Please tell me what I am doing wrong</strong></p>\n</blockquote>\n"},{"tags":["java","ssl","dns","keystore"],"answers":[{"tags":[],"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666035377,"creation_date":1666035377,"answer_id":74102348,"question_id":72195598,"body_markdown":"in order to select desired certificate you can specify certificate alias:\r\n\r\n    server.ssl.key-alias\r\n\r\nmore details about multiple certificates in one keystore is provided in [this link][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6371359/10436325","title":"How does Spring Boot decide which certificate will be used from keystore case of multiple domains?","body":"<p>in order to select desired certificate you can specify certificate alias:</p>\n<pre><code>server.ssl.key-alias\n</code></pre>\n<p>more details about multiple certificates in one keystore is provided in <a href=\"https://stackoverflow.com/a/6371359/10436325\">this link</a>.</p>\n"}],"owner":{"account_id":15285933,"reputation":327,"user_id":11028953,"display_name":"Mart123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666035377,"creation_date":1652244827,"question_id":72195598,"body_markdown":"We have case where we have to change our server URL, but one old deprecated service does not let us change our URL there so we decided to have 2 URL-s running at the same time behind the same server and for new services we would provide a new URL.\r\n\r\n```\r\nserver.port=8443\r\nserver.ssl.key-store=/ourkeystore\r\nserver.ssl.key-store-password=@keystore.key@\r\nserver.ssl.enabled=true\r\nserver.ssl.enabled-protocols=TLSv1.2\r\nserver.ssl.trust-store=ourtruststore\r\n```\r\n\r\nIf we have 2 certificates in keystore, then what I have to do for server to know which one to use based on the URL?","title":"How does Spring Boot decide which certificate will be used from keystore case of multiple domains?","body":"<p>We have case where we have to change our server URL, but one old deprecated service does not let us change our URL there so we decided to have 2 URL-s running at the same time behind the same server and for new services we would provide a new URL.</p>\n<pre><code>server.port=8443\nserver.ssl.key-store=/ourkeystore\nserver.ssl.key-store-password=@keystore.key@\nserver.ssl.enabled=true\nserver.ssl.enabled-protocols=TLSv1.2\nserver.ssl.trust-store=ourtruststore\n</code></pre>\n<p>If we have 2 certificates in keystore, then what I have to do for server to know which one to use based on the URL?</p>\n"},{"tags":["java","opencv","get","transform","perspective"],"answers":[{"tags":[],"owner":{"account_id":26461460,"reputation":1,"user_id":20103345,"display_name":"OWNER_2PLUS_AI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666035174,"creation_date":1666035174,"answer_id":74102312,"question_id":48141184,"body_markdown":"This means that you need to type float in the code and wherever you want to use float, you must convert it to int. This error indicates that you must use the value of float in your code.\r\n\r\nu should use **float** in ****getPerspectiveTransform****\r\n\r\n\r\n","title":"GetPerspectiveTransform function error | opencv | java","body":"<p>This means that you need to type float in the code and wherever you want to use float, you must convert it to int. This error indicates that you must use the value of float in your code.</p>\n<p>u should use <strong>float</strong> in <strong><strong>getPerspectiveTransform</strong></strong></p>\n"}],"owner":{"account_id":9835384,"reputation":63,"user_id":7285933,"display_name":"Fleczer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666035174,"creation_date":1515356417,"question_id":48141184,"body_markdown":"I am trying to make an automatic perspective correction of quadrangle objects.\r\n\r\nI am getting error when I am using getPerspectiveTransform function:\r\n\r\n    OpenCV Error: Assertion failed (src.checkVector(2, CV_32F) == 4 &amp;&amp; dst.checkVector(2, CV_32F) == 4) in cv::getPerspectiveTransform\r\n\r\n\r\nHere is my code:\r\n\r\n            Mat originalMat = new Mat();\r\n\t\t\toriginalMat=Imgcodecs.imread(&quot;photo.jpg&quot;);\r\n\t\t\tMat binaryMat = new Mat();\r\n\r\n\t        Imgproc.cvtColor(originalMat, binaryMat, Imgproc.COLOR_BGR2GRAY);\r\n\t        Imgproc.threshold(binaryMat, binaryMat, 0 , 255, Imgproc.THRESH_OTSU | Imgproc.THRESH_BINARY);\r\n\r\n\t        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n\t        Imgproc.findContours(binaryMat.clone(), contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n\t        int largestContour=0, tempContour, largestContourIndex=0;\r\n\r\n\t        if(contours.size()&gt;1)\r\n\t        for (int i = 0; i &lt; contours.size(); i++) {\r\n\r\n\t            MatOfPoint2f mop2f = new MatOfPoint2f();\r\n\t            contours.get(i).convertTo(mop2f, CvType.CV_32F);         \r\n\t            RotatedRect rect = Imgproc.minAreaRect(mop2f);           \r\n\r\n\t            tempContour = rect.boundingRect().width * rect.boundingRect().height;\r\n\t            if(largestContour &lt; tempContour){\r\n\t                largestContour = tempContour;\r\n\t                largestContourIndex = i;\r\n\t            }\r\n\t        }\r\n\r\n\r\n\t        Rect rectangle = Imgproc.boundingRect(contours.get(largestContourIndex));\r\n\t        Point[] boundingRectPoints = new Point[4];                              \r\n\t        boundingRectPoints[0] = new Point(rectangle.x,rectangle.y);\r\n\t        boundingRectPoints[1] = new Point((rectangle.x+rectangle.width),rectangle.y);\r\n\t        boundingRectPoints[2] = new Point(rectangle.x+rectangle.width,rectangle.y+rectangle.height);\r\n\t        boundingRectPoints[3] = new Point(rectangle.x,rectangle.y+rectangle.height);\r\n\t        MatOfPoint boundingRTMatOfPoint = new MatOfPoint(boundingRectPoints);\r\n\r\n\r\n\t        Mat beforeCorrectionMat = new Mat();\r\n\t        Mat afterCorrectionMat = new Mat();\r\n\t        contours.get(largestContourIndex).convertTo(beforeCorrectionMat, CvType.CV_32FC2);\r\n\t        boundingRTMatOfPoint.convertTo(afterCorrectionMat, CvType.CV_32FC2);\r\n\r\n\r\n\r\n\t        Mat transmtx = Imgproc.getPerspectiveTransform( beforeCorrectionMat, afterCorrectionMat);\r\n\t        Mat transformed = Mat.zeros(originalMat.height(), originalMat.width(), CvType.CV_8UC1);\r\n\t        Imgproc.warpPerspective(originalMat, transformed, transmtx, originalMat.size());\r\n\r\n\r\nI found similar question here: https://stackoverflow.com/questions/15683184/assertion-failed-when-im-trying-to-use-getperspectivetransform-on-android-ndk-t/16229928\r\n\r\nBut it doesn&#39;t help me.\r\nI would be very grateful for any help.","title":"GetPerspectiveTransform function error | opencv | java","body":"<p>I am trying to make an automatic perspective correction of quadrangle objects.</p>\n\n<p>I am getting error when I am using getPerspectiveTransform function:</p>\n\n<pre><code>OpenCV Error: Assertion failed (src.checkVector(2, CV_32F) == 4 &amp;&amp; dst.checkVector(2, CV_32F) == 4) in cv::getPerspectiveTransform\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>        Mat originalMat = new Mat();\n        originalMat=Imgcodecs.imread(\"photo.jpg\");\n        Mat binaryMat = new Mat();\n\n        Imgproc.cvtColor(originalMat, binaryMat, Imgproc.COLOR_BGR2GRAY);\n        Imgproc.threshold(binaryMat, binaryMat, 0 , 255, Imgproc.THRESH_OTSU | Imgproc.THRESH_BINARY);\n\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n        Imgproc.findContours(binaryMat.clone(), contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\n\n        int largestContour=0, tempContour, largestContourIndex=0;\n\n        if(contours.size()&gt;1)\n        for (int i = 0; i &lt; contours.size(); i++) {\n\n            MatOfPoint2f mop2f = new MatOfPoint2f();\n            contours.get(i).convertTo(mop2f, CvType.CV_32F);         \n            RotatedRect rect = Imgproc.minAreaRect(mop2f);           \n\n            tempContour = rect.boundingRect().width * rect.boundingRect().height;\n            if(largestContour &lt; tempContour){\n                largestContour = tempContour;\n                largestContourIndex = i;\n            }\n        }\n\n\n        Rect rectangle = Imgproc.boundingRect(contours.get(largestContourIndex));\n        Point[] boundingRectPoints = new Point[4];                              \n        boundingRectPoints[0] = new Point(rectangle.x,rectangle.y);\n        boundingRectPoints[1] = new Point((rectangle.x+rectangle.width),rectangle.y);\n        boundingRectPoints[2] = new Point(rectangle.x+rectangle.width,rectangle.y+rectangle.height);\n        boundingRectPoints[3] = new Point(rectangle.x,rectangle.y+rectangle.height);\n        MatOfPoint boundingRTMatOfPoint = new MatOfPoint(boundingRectPoints);\n\n\n        Mat beforeCorrectionMat = new Mat();\n        Mat afterCorrectionMat = new Mat();\n        contours.get(largestContourIndex).convertTo(beforeCorrectionMat, CvType.CV_32FC2);\n        boundingRTMatOfPoint.convertTo(afterCorrectionMat, CvType.CV_32FC2);\n\n\n\n        Mat transmtx = Imgproc.getPerspectiveTransform( beforeCorrectionMat, afterCorrectionMat);\n        Mat transformed = Mat.zeros(originalMat.height(), originalMat.width(), CvType.CV_8UC1);\n        Imgproc.warpPerspective(originalMat, transformed, transmtx, originalMat.size());\n</code></pre>\n\n<p>I found similar question here: <a href=\"https://stackoverflow.com/questions/15683184/assertion-failed-when-im-trying-to-use-getperspectivetransform-on-android-ndk-t/16229928\">Assertion failed when I&#39;m trying to use getPerspectiveTransform on Android-NDK to transform a perspective image</a></p>\n\n<p>But it doesn't help me.\nI would be very grateful for any help.</p>\n"},{"tags":["java","generics","language-design","super"],"comments":[{"owner":{"account_id":60816,"reputation":3394,"user_id":181551,"accept_rate":41,"display_name":"Alex Worden"},"score":0,"creation_date":1293736410,"post_id":2800369,"comment_id":5008316,"body_markdown":"Can you explain what you semantically intend to be the difference between &lt;S super T&gt; and &lt;? super T&gt;. Seems to me it&#39;s just splitting hairs over syntax.","body":"Can you explain what you semantically intend to be the difference between &lt;S super T&gt; and &lt;? super T&gt;. Seems to me it&#39;s just splitting hairs over syntax."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":3,"creation_date":1448374067,"post_id":2800369,"comment_id":55554124,"body_markdown":"You can&#39;t do `? super T[] toArray(? super T[] a)`, can you?","body":"You can&#39;t do <code>? super T[] toArray(? super T[] a)</code>, can you?"},{"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"score":1,"creation_date":1534414674,"post_id":2800369,"comment_id":90700750,"body_markdown":"And this is why there is an `Object[] toArray()` method in the Collection class.","body":"And this is why there is an <code>Object[] toArray()</code> method in the Collection class."}],"answers":[{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":16,"up_vote_count":73,"is_accepted":true,"score":57,"last_activity_date":1273471638,"creation_date":1273467845,"answer_id":2800425,"question_id":2800369,"body_markdown":"`super` to bound a named type parameter (e.g. `&lt;S super T&gt;`) as opposed to a wildcard (e.g. `&lt;? super T&gt;`) is **ILLEGAL** simply because even if it&#39;s allowed, it wouldn&#39;t do what you&#39;d hoped it would do, because since `Object` is the ultimate `super` of all reference types, and everything is an `Object`, _in effect there is no bound_.\r\n\r\nIn your specific example, since _any_ array of reference type is an `Object[]` (by Java array covariance), it can therefore be used as an argument to `&lt;S super T&gt; S[] toArray(S[] a)` (if such bound is legal) at compile-time, and it wouldn&#39;t prevent `ArrayStoreException` at run-time.\r\n\r\nWhat you&#39;re trying to propose is that given:\r\n\r\n    List&lt;Integer&gt; integerList;\r\n\r\nand given this *hypothetical* `super` bound on `toArray`:\r\n\r\n    &lt;S super T&gt; S[] toArray(S[] a) // hypothetical! currently illegal in Java\r\n\r\nthe compiler should only allow the following to compile:\r\n\r\n    integerList.toArray(new Integer[0]) // works fine!\r\n    integerList.toArray(new Number[0])  // works fine!\r\n    integerList.toArray(new Object[0])  // works fine!\r\n\r\nand no other array type arguments (since `Integer` only has those 3 types as `super`). That is, you&#39;re trying to prevent this from compiling:\r\n\r\n    integerList.toArray(new String[0])  // trying to prevent this from compiling\r\n\r\nbecause, by your argument, `String` is not a `super` of `Integer`. _However_, `Object` is a `super` of `Integer`, and a `String[]` is an `Object[]`, so the compiler *still* would let the above compile, even if hypothetically you can do `&lt;S super T&gt;`!\r\n\r\nSo the following _would still compile_ (just as the way they are right now), and `ArrayStoreException` at run-time could not be prevented by any compile-time checking using generic type bounds:\r\n\r\n    integerList.toArray(new String[0])  // compiles fine!\r\n    // throws ArrayStoreException at run-time\r\n\r\nGenerics and arrays don&#39;t mix, and this is one of the many places where it shows.\r\n\r\n---\r\n\r\n### A non-array example\r\n\r\nAgain, let&#39;s say that you have this generic method declaration:\r\n\r\n    &lt;T super Integer&gt; void add(T number) // hypothetical! currently illegal in Java\r\n\r\nAnd you have these variable declarations:\r\n\r\n    Integer anInteger\r\n    Number aNumber\r\n    Object anObject\r\n    String aString\r\n\r\nYour intention with `&lt;T super Integer&gt;` (if it&#39;s legal) is that it should allow `add(anInteger)`, and `add(aNumber)`, and of course `add(anObject)`, but NOT `add(aString)`. Well, `String` is an `Object`, so `add(aString)` would still compile anyway.\r\n\r\n---\r\n\r\n### See also\r\n\r\n* [Java Tutorials/Generics](http://java.sun.com/docs/books/tutorial/extra/generics/index.html)\r\n   * [Subtyping](http://java.sun.com/docs/books/tutorial/extra/generics/subtype.html)\r\n   * [More fun with wildcards](http://java.sun.com/docs/books/tutorial/extra/generics/morefun.html)\r\n\r\n### Related questions\r\n\r\nOn generics typing rules:\r\n\r\n* [Any simple way to explain why I cannot do `List&lt;Animal&gt; animals = new ArrayList&lt;Dog&gt;()`?](https://stackoverflow.com/questions/2346763/any-simple-way-to-explain-why-i-cannot-do-listanimal-animals-new-arraylistdo)\r\n* [java generics (not) covariance](https://stackoverflow.com/questions/2660827/java-generics-covariance)\r\n* [What is a raw type and why shouldn’t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it/)\r\n   * Explains how raw type `List` is different from `List&lt;Object&gt;` which is different from a `List&lt;?&gt;`\r\n\r\nOn using `super` and `extends`:\r\n\r\n* [`Java Generics: What is PECS?`](https://stackoverflow.com/questions/2723397/java-generics-what-is-pecs)\r\n   * From _Effective Java 2nd Edition_: &quot;producer `extends` consumer `super`&quot;\r\n* [What is the difference between `super` and `extends` in Java Generics](https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics)\r\n* [What is the difference between `&lt;E extends Number&gt;` and `&lt;Number&gt;`?](https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/)\r\n* [How can I add to `List&lt;? extends Number&gt;` data structures?](https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures) (YOU CAN&#39;T!)","title":"Bounding generics with &#39;super&#39; keyword","body":"<p><code>super</code> to bound a named type parameter (e.g. <code>&lt;S super T&gt;</code>) as opposed to a wildcard (e.g. <code>&lt;? super T&gt;</code>) is <strong>ILLEGAL</strong> simply because even if it's allowed, it wouldn't do what you'd hoped it would do, because since <code>Object</code> is the ultimate <code>super</code> of all reference types, and everything is an <code>Object</code>, <em>in effect there is no bound</em>.</p>\n\n<p>In your specific example, since <em>any</em> array of reference type is an <code>Object[]</code> (by Java array covariance), it can therefore be used as an argument to <code>&lt;S super T&gt; S[] toArray(S[] a)</code> (if such bound is legal) at compile-time, and it wouldn't prevent <code>ArrayStoreException</code> at run-time.</p>\n\n<p>What you're trying to propose is that given:</p>\n\n<pre><code>List&lt;Integer&gt; integerList;\n</code></pre>\n\n<p>and given this <em>hypothetical</em> <code>super</code> bound on <code>toArray</code>:</p>\n\n<pre><code>&lt;S super T&gt; S[] toArray(S[] a) // hypothetical! currently illegal in Java\n</code></pre>\n\n<p>the compiler should only allow the following to compile:</p>\n\n<pre><code>integerList.toArray(new Integer[0]) // works fine!\nintegerList.toArray(new Number[0])  // works fine!\nintegerList.toArray(new Object[0])  // works fine!\n</code></pre>\n\n<p>and no other array type arguments (since <code>Integer</code> only has those 3 types as <code>super</code>). That is, you're trying to prevent this from compiling:</p>\n\n<pre><code>integerList.toArray(new String[0])  // trying to prevent this from compiling\n</code></pre>\n\n<p>because, by your argument, <code>String</code> is not a <code>super</code> of <code>Integer</code>. <em>However</em>, <code>Object</code> is a <code>super</code> of <code>Integer</code>, and a <code>String[]</code> is an <code>Object[]</code>, so the compiler <em>still</em> would let the above compile, even if hypothetically you can do <code>&lt;S super T&gt;</code>!</p>\n\n<p>So the following <em>would still compile</em> (just as the way they are right now), and <code>ArrayStoreException</code> at run-time could not be prevented by any compile-time checking using generic type bounds:</p>\n\n<pre><code>integerList.toArray(new String[0])  // compiles fine!\n// throws ArrayStoreException at run-time\n</code></pre>\n\n<p>Generics and arrays don't mix, and this is one of the many places where it shows.</p>\n\n<hr>\n\n<h3>A non-array example</h3>\n\n<p>Again, let's say that you have this generic method declaration:</p>\n\n<pre><code>&lt;T super Integer&gt; void add(T number) // hypothetical! currently illegal in Java\n</code></pre>\n\n<p>And you have these variable declarations:</p>\n\n<pre><code>Integer anInteger\nNumber aNumber\nObject anObject\nString aString\n</code></pre>\n\n<p>Your intention with <code>&lt;T super Integer&gt;</code> (if it's legal) is that it should allow <code>add(anInteger)</code>, and <code>add(aNumber)</code>, and of course <code>add(anObject)</code>, but NOT <code>add(aString)</code>. Well, <code>String</code> is an <code>Object</code>, so <code>add(aString)</code> would still compile anyway.</p>\n\n<hr>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/index.html\" rel=\"noreferrer\">Java Tutorials/Generics</a>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/subtype.html\" rel=\"noreferrer\">Subtyping</a></li>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/morefun.html\" rel=\"noreferrer\">More fun with wildcards</a></li>\n</ul></li>\n</ul>\n\n<h3>Related questions</h3>\n\n<p>On generics typing rules:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2346763/any-simple-way-to-explain-why-i-cannot-do-listanimal-animals-new-arraylistdo\">Any simple way to explain why I cannot do <code>List&lt;Animal&gt; animals = new ArrayList&lt;Dog&gt;()</code>?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2660827/java-generics-covariance\">java generics (not) covariance</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it/\">What is a raw type and why shouldn’t we use it?</a>\n\n<ul>\n<li>Explains how raw type <code>List</code> is different from <code>List&lt;Object&gt;</code> which is different from a <code>List&lt;?&gt;</code></li>\n</ul></li>\n</ul>\n\n<p>On using <code>super</code> and <code>extends</code>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2723397/java-generics-what-is-pecs\"><code>Java Generics: What is PECS?</code></a>\n\n<ul>\n<li>From <em>Effective Java 2nd Edition</em>: \"producer <code>extends</code> consumer <code>super</code>\"</li>\n</ul></li>\n<li><a href=\"https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics\">What is the difference between <code>super</code> and <code>extends</code> in Java Generics</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/\">What is the difference between <code>&lt;E extends Number&gt;</code> and <code>&lt;Number&gt;</code>?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures\">How can I add to <code>List&lt;? extends Number&gt;</code> data structures?</a> (YOU CAN'T!)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":55500,"reputation":13703,"user_id":166235,"accept_rate":79,"display_name":"Rotsor"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1549070325,"creation_date":1302826016,"answer_id":5671079,"question_id":2800369,"body_markdown":"As no one has provided a satisfactory answer, the correct answer seems to be &quot;for no good reason&quot;.\r\n\r\npolygenelubricants provided a good overview of bad things happening with the java array covariance, which is a terrible feature by itself. Consider the following code fragment:\r\n\r\n    String[] strings = new String[1];\r\n    Object[] objects = strings;\r\n    objects[0] = 0;\r\n\r\nThis obviously wrong code compiles without resorting to any &quot;super&quot; construct, so array covariance should not be used as an argument.\r\n\r\nNow, here I have a perfectly valid example of code requiring `super` in the named type parameter:\r\n\r\n    class Nullable&lt;A&gt; {\r\n        private A value;\r\n        // Does not compile!!\r\n        public &lt;B super A&gt; B withDefault(B defaultValue) {\r\n            return value == null ? defaultValue : value;\r\n        }\r\n    }\r\n    \r\nPotentially supporting some nice usage:\r\n\r\n    Nullable&lt;Integer&gt; intOrNull = ...;\r\n    Integer i = intOrNull.withDefault(8);\r\n    Number n = intOrNull.withDefault(3.5);\r\n    Object o = intOrNull.withDefault(&quot;What&#39;s so bad about a String here?&quot;);\r\n\r\nThe latter code fragment does not compile if I remove the `B` altogether, so `B` is indeed needed.\r\n\r\nNote that the feature I&#39;m trying to implement is easily obtained if I invert the order of type parameter declarations, thus changing the `super` constraint to `extends`. However, this is only possible if I rewrite the method as a static one:\r\n\r\n    // This one actually works and I use it.\r\n    public static &lt;B, A extends B&gt; B withDefault(Nullable&lt;A&gt; nullable, B defaultValue) { ... }\r\n\r\nThe point is that this Java language restriction is indeed restricting some otherwise possible useful features and may require ugly workarounds. I wonder what would happen if we needed `withDefault` to be virtual.\r\n\r\nNow, to correlate with what polygenelubricants said, we use `B` here not to restrict the type of object passed as `defaultValue` (see the String used in the example), but rather to restrict the caller expectations about the object we return. As a simple rule, you use `extends` with the types you demand and `super` with the types you provide.\r\n","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>As no one has provided a satisfactory answer, the correct answer seems to be \"for no good reason\".</p>\n\n<p>polygenelubricants provided a good overview of bad things happening with the java array covariance, which is a terrible feature by itself. Consider the following code fragment:</p>\n\n<pre><code>String[] strings = new String[1];\nObject[] objects = strings;\nobjects[0] = 0;\n</code></pre>\n\n<p>This obviously wrong code compiles without resorting to any \"super\" construct, so array covariance should not be used as an argument.</p>\n\n<p>Now, here I have a perfectly valid example of code requiring <code>super</code> in the named type parameter:</p>\n\n<pre><code>class Nullable&lt;A&gt; {\n    private A value;\n    // Does not compile!!\n    public &lt;B super A&gt; B withDefault(B defaultValue) {\n        return value == null ? defaultValue : value;\n    }\n}\n</code></pre>\n\n<p>Potentially supporting some nice usage:</p>\n\n<pre><code>Nullable&lt;Integer&gt; intOrNull = ...;\nInteger i = intOrNull.withDefault(8);\nNumber n = intOrNull.withDefault(3.5);\nObject o = intOrNull.withDefault(\"What's so bad about a String here?\");\n</code></pre>\n\n<p>The latter code fragment does not compile if I remove the <code>B</code> altogether, so <code>B</code> is indeed needed.</p>\n\n<p>Note that the feature I'm trying to implement is easily obtained if I invert the order of type parameter declarations, thus changing the <code>super</code> constraint to <code>extends</code>. However, this is only possible if I rewrite the method as a static one:</p>\n\n<pre><code>// This one actually works and I use it.\npublic static &lt;B, A extends B&gt; B withDefault(Nullable&lt;A&gt; nullable, B defaultValue) { ... }\n</code></pre>\n\n<p>The point is that this Java language restriction is indeed restricting some otherwise possible useful features and may require ugly workarounds. I wonder what would happen if we needed <code>withDefault</code> to be virtual.</p>\n\n<p>Now, to correlate with what polygenelubricants said, we use <code>B</code> here not to restrict the type of object passed as <code>defaultValue</code> (see the String used in the example), but rather to restrict the caller expectations about the object we return. As a simple rule, you use <code>extends</code> with the types you demand and <code>super</code> with the types you provide.</p>\n"},{"tags":[],"owner":{"account_id":2315631,"reputation":67,"user_id":2032768,"display_name":"nxdrvr"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1412356546,"creation_date":1412351646,"answer_id":26182420,"question_id":2800369,"body_markdown":"Suppose we have:\r\n\t\r\n\r\n - basic classes  A &gt; B &gt; C   and D\r\n\r\n\t\tclass A{\r\n\t\t\tvoid methodA(){}\r\n\t\t};\r\n\t\tclass B extends  A{\r\n\t\t\tvoid methodB(){}\r\n\t\t}\r\n\r\n\t\tclass C extends  B{\r\n\t\t\tvoid methodC(){}\r\n\t\t}\r\n\r\n\t\tclass D {\r\n\t\t\tvoid methodD(){}\r\n\t\t}\r\n\r\n\r\n - job wrapper classes\r\n\r\n\r\n\t\tinterface Job&lt;T&gt; {\r\n\t\t\tvoid exec(T t);\r\n\t\t}\r\n\r\n\t\tclass JobOnA implements Job&lt;A&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(A a) {\r\n\t\t\t    a.methodA();\r\n\t\t\t}\r\n\t\t}\r\n\t\tclass JobOnB implements Job&lt;B&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(B b) {\r\n\t\t\t    b.methodB();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass JobOnC implements Job&lt;C&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(C c) {\r\n\t\t\t    c.methodC();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass JobOnD implements Job&lt;D&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(D d) {\r\n\t\t\t    d.methodD();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n - and one manager class with 4 different approaches to execute job on object\r\n\r\n\t\tclass Manager&lt;T&gt;{\r\n\t\t\tfinal T t;\r\n\t\t\tManager(T t){\r\n\t\t\t\tthis.t=t;\r\n\t\t\t}\r\n\t\t\tpublic void execute1(Job&lt;T&gt; job){\r\n\t\t\t\tjob.exec(t);\r\n\t\t\t}\r\n\r\n\t\t\tpublic &lt;U&gt; void execute2(Job&lt;U&gt; job){\r\n\t\t\t\tU u= (U) t;  //not safe\r\n\t\t\t\tjob.exec(u);\r\n\t\t\t}\r\n\r\n\t\t\tpublic &lt;U extends T&gt; void execute3(Job&lt;U&gt; job){\r\n\t\t\t\tU u= (U) t; //not safe\r\n\t\t\t\tjob.exec(u);\r\n\t\t\t}\r\n\r\n\t\t\t//desired feature, not compiled for now\r\n\t\t\tpublic &lt;U super T&gt; void execute4(Job&lt;U&gt; job){\r\n\t\t\t\tU u= (U) t; //safe\r\n\t\t\t\tjob.exec(u);\r\n\t\t\t}\r\n\t\t}\r\n - with usage\r\n\r\n\t\tvoid usage(){\r\n\t\t\tB b = new B();\r\n\t\t\tManager&lt;B&gt; managerB = new Manager&lt;&gt;(b);\r\n\r\n\t\t\t//TOO STRICT\r\n\t\t\tmanagerB.execute1(new JobOnA());\r\n\t\t\tmanagerB.execute1(new JobOnB()); //compiled\r\n\t\t\tmanagerB.execute1(new JobOnC());\r\n\t\t\tmanagerB.execute1(new JobOnD());\r\n\r\n\t\t\t//TOO MUCH FREEDOM\r\n\t\t\tmanagerB.execute2(new JobOnA()); //compiled\r\n\t\t\tmanagerB.execute2(new JobOnB()); //compiled\r\n\t\t\tmanagerB.execute2(new JobOnC()); //compiled !!\r\n\t\t\tmanagerB.execute2(new JobOnD()); //compiled !!\r\n\r\n\t\t\t//NOT ADEQUATE RESTRICTIONS\t\t\r\n\t\t\tmanagerB.execute3(new JobOnA());\r\n\t\t\tmanagerB.execute3(new JobOnB()); //compiled\r\n\t\t\tmanagerB.execute3(new JobOnC()); //compiled !!\r\n\t\t\tmanagerB.execute3(new JobOnD());\r\n\r\n\t\t\t//SHOULD BE\r\n\t\t\tmanagerB.execute4(new JobOnA());  //compiled\r\n\t\t\tmanagerB.execute4(new JobOnB());  //compiled\r\n\t\t\tmanagerB.execute4(new JobOnC());\r\n\t\t\tmanagerB.execute4(new JobOnD());\r\n\t\t}\r\n\r\nAny suggestions how to implement execute4 now ?\r\n\r\n\r\n==========edited =======\r\n\r\n        public void execute4(Job&lt;? super  T&gt; job){\r\n            job.exec( t);\r\n        }\r\n\r\n\r\nThanks to all :)\r\n\r\n\r\n========== edited ==========\r\n\r\n        private &lt;U&gt; void execute2(Job&lt;U&gt; job){\r\n            U u= (U) t;  //now it&#39;s safe\r\n            job.exec(u);\r\n        }\r\n        public void execute4(Job&lt;? super  T&gt; job){\r\n            execute2(job);\r\n        }\r\n\r\n\r\nmuch better, any code with U inside execute2\r\n\r\nsuper type  U becomes named  !\r\n\r\ninteresting discussion :)","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>Suppose we have:</p>\n\n<ul>\n<li><p>basic classes  A > B > C   and D</p>\n\n<pre><code>class A{\n    void methodA(){}\n};\nclass B extends  A{\n    void methodB(){}\n}\n\nclass C extends  B{\n    void methodC(){}\n}\n\nclass D {\n    void methodD(){}\n}\n</code></pre></li>\n<li><p>job wrapper classes</p>\n\n<pre><code>interface Job&lt;T&gt; {\n    void exec(T t);\n}\n\nclass JobOnA implements Job&lt;A&gt;{\n    @Override\n    public void exec(A a) {\n        a.methodA();\n    }\n}\nclass JobOnB implements Job&lt;B&gt;{\n    @Override\n    public void exec(B b) {\n        b.methodB();\n    }\n}\n\nclass JobOnC implements Job&lt;C&gt;{\n    @Override\n    public void exec(C c) {\n        c.methodC();\n    }\n}\n\nclass JobOnD implements Job&lt;D&gt;{\n    @Override\n    public void exec(D d) {\n        d.methodD();\n    }\n}\n</code></pre></li>\n<li><p>and one manager class with 4 different approaches to execute job on object</p>\n\n<pre><code>class Manager&lt;T&gt;{\n    final T t;\n    Manager(T t){\n        this.t=t;\n    }\n    public void execute1(Job&lt;T&gt; job){\n        job.exec(t);\n    }\n\n    public &lt;U&gt; void execute2(Job&lt;U&gt; job){\n        U u= (U) t;  //not safe\n        job.exec(u);\n    }\n\n    public &lt;U extends T&gt; void execute3(Job&lt;U&gt; job){\n        U u= (U) t; //not safe\n        job.exec(u);\n    }\n\n    //desired feature, not compiled for now\n    public &lt;U super T&gt; void execute4(Job&lt;U&gt; job){\n        U u= (U) t; //safe\n        job.exec(u);\n    }\n}\n</code></pre></li>\n<li><p>with usage</p>\n\n<pre><code>void usage(){\n    B b = new B();\n    Manager&lt;B&gt; managerB = new Manager&lt;&gt;(b);\n\n    //TOO STRICT\n    managerB.execute1(new JobOnA());\n    managerB.execute1(new JobOnB()); //compiled\n    managerB.execute1(new JobOnC());\n    managerB.execute1(new JobOnD());\n\n    //TOO MUCH FREEDOM\n    managerB.execute2(new JobOnA()); //compiled\n    managerB.execute2(new JobOnB()); //compiled\n    managerB.execute2(new JobOnC()); //compiled !!\n    managerB.execute2(new JobOnD()); //compiled !!\n\n    //NOT ADEQUATE RESTRICTIONS     \n    managerB.execute3(new JobOnA());\n    managerB.execute3(new JobOnB()); //compiled\n    managerB.execute3(new JobOnC()); //compiled !!\n    managerB.execute3(new JobOnD());\n\n    //SHOULD BE\n    managerB.execute4(new JobOnA());  //compiled\n    managerB.execute4(new JobOnB());  //compiled\n    managerB.execute4(new JobOnC());\n    managerB.execute4(new JobOnD());\n}\n</code></pre></li>\n</ul>\n\n<p>Any suggestions how to implement execute4 now ?</p>\n\n<p>==========edited =======</p>\n\n<pre><code>    public void execute4(Job&lt;? super  T&gt; job){\n        job.exec( t);\n    }\n</code></pre>\n\n<p>Thanks to all :)</p>\n\n<p>========== edited ==========</p>\n\n<pre><code>    private &lt;U&gt; void execute2(Job&lt;U&gt; job){\n        U u= (U) t;  //now it's safe\n        job.exec(u);\n    }\n    public void execute4(Job&lt;? super  T&gt; job){\n        execute2(job);\n    }\n</code></pre>\n\n<p>much better, any code with U inside execute2</p>\n\n<p>super type  U becomes named  !</p>\n\n<p>interesting discussion :)</p>\n"},{"tags":[],"owner":{"account_id":405514,"reputation":6101,"user_id":774444,"display_name":"Ben Schulz"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1448373215,"creation_date":1448373215,"answer_id":33895470,"question_id":2800369,"body_markdown":"The &quot;official&quot; answer to your question can be found in a [Sun/Oracle bug report](https://bugs.openjdk.java.net/browse/JDK-8061427).\r\n\r\n&gt;BT2:EVALUATION\r\n&gt;\r\n&gt;See\r\n&gt;\r\n&gt;http://lampwww.epfl.ch/~odersky/ftp/local-ti.ps\r\n&gt;\r\n&gt;particularly section 3 and the last paragraph on page 9. Admitting\r\n&gt;type variables on both sides of subtype constraints can result in a\r\n&gt;set of type equations with no single best solution; consequently,\r\n&gt;type inference cannot be done using any of the existing standard\r\n&gt;algorithms. That is why type variables have only &quot;extends&quot; bounds.\r\n&gt;\r\n&gt;Wildcards, on the other hand, do not have to be inferred, so there\r\n&gt;is no need for this constraint.\r\n&gt;\r\n&gt;###@###.### 2004-05-25\r\n&gt;\r\n&gt;Yes; the key point is that wildcards, even when captured, are only used\r\n&gt;as inputs of the inference process; nothing with (only) a lower bound needs\r\n&gt;to be inferred as a result.\r\n&gt;\r\n&gt;\r\n&gt;###@###.### 2004-05-26\r\n&gt;\r\n&gt;I see the problem. But I do not see how it is different from the problems\r\n&gt;we have with lower bounds on wildcards during inference, e.g.:\r\n&gt;\r\n&gt;List&amp;lt;? super Number&amp;gt; s;  \r\n&gt;boolean b;  \r\n&gt;...  \r\n&gt;s = b ? s : s;\r\n&gt;\r\n&gt;Currently, we infer List&amp;lt;X&amp;gt; where X extends Object as the type of the\r\n&gt;conditional expression, meaning that the assignment is illegal.\r\n&gt;\r\n&gt;###@###.### 2004-05-26 \r\n\r\nSadly, the conversation ends there. The paper to which the (now dead) link used to point is [Inferred Type Instantiation for GJ](http://lampwww.epfl.ch/~odersky/papers/localti02.html). From glancing at the last page, it boils down to: If lower bounds are admitted, type inference may yield multiple solutions, none of which is [principal](https://en.wikipedia.org/wiki/Principal_type).","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>The \"official\" answer to your question can be found in a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8061427\" rel=\"noreferrer\">Sun/Oracle bug report</a>.</p>\n\n<blockquote>\n  <p>BT2:EVALUATION</p>\n  \n  <p>See</p>\n  \n  <p><a href=\"http://lampwww.epfl.ch/~odersky/ftp/local-ti.ps\" rel=\"noreferrer\">http://lampwww.epfl.ch/~odersky/ftp/local-ti.ps</a></p>\n  \n  <p>particularly section 3 and the last paragraph on page 9. Admitting\n  type variables on both sides of subtype constraints can result in a\n  set of type equations with no single best solution; consequently,\n  type inference cannot be done using any of the existing standard\n  algorithms. That is why type variables have only \"extends\" bounds.</p>\n  \n  <p>Wildcards, on the other hand, do not have to be inferred, so there\n  is no need for this constraint.</p>\n  \n  <h3>@###.### 2004-05-25</h3>\n  \n  <p>Yes; the key point is that wildcards, even when captured, are only used\n  as inputs of the inference process; nothing with (only) a lower bound needs\n  to be inferred as a result.</p>\n  \n  <h3>@###.### 2004-05-26</h3>\n  \n  <p>I see the problem. But I do not see how it is different from the problems\n  we have with lower bounds on wildcards during inference, e.g.:</p>\n  \n  <p>List&lt;? super Number&gt; s;<br>\n  boolean b;<br>\n  ...<br>\n  s = b ? s : s;</p>\n  \n  <p>Currently, we infer List&lt;X&gt; where X extends Object as the type of the\n  conditional expression, meaning that the assignment is illegal.</p>\n  \n  <h3>@###.### 2004-05-26</h3>\n</blockquote>\n\n<p>Sadly, the conversation ends there. The paper to which the (now dead) link used to point is <a href=\"http://lampwww.epfl.ch/~odersky/papers/localti02.html\" rel=\"noreferrer\">Inferred Type Instantiation for GJ</a>. From glancing at the last page, it boils down to: If lower bounds are admitted, type inference may yield multiple solutions, none of which is <a href=\"https://en.wikipedia.org/wiki/Principal_type\" rel=\"noreferrer\">principal</a>.</p>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570777963,"creation_date":1570777963,"answer_id":58336010,"question_id":2800369,"body_markdown":"I really like the accepted answer, but I would like to put a slightly different perspective on it.\r\n\r\n`super` is supported in a typed parameter only to allow **contravariance** capabilities. When it comes to **covariance** and **contravariance** it&#39;s important to understand that Java only supports **use-site variance**. Unlike Kotlin or Scala, which allow **declaration-site variance**. Kotlin documentation explains it very well [here][1]. Or if you&#39;re more into Scala, [here][2]&#39;s one for you.\r\n\r\nIt basically means that in Java, you can not limit the way you&#39;re gonna use your class when you declare it in terms of PECS. The class can both consume and produce, and some of its methods can do it at the same time, like `toArray([])`, by the way.\r\n\r\nNow, the reason `extends` is allowed in classes and methods declarations is because it&#39;s more about **polymorphism** than it is about **variance**. And **polymorphism** is an intrinsic part of Java and OOP in general: *If a method can accept some supertype, a subtype can always safely be passed to it. And if a method, at declaration site as it&#39;s &quot;contract&quot;, should return some supertype, it&#39;s totally fine if it returns a subtype instead in its implementations*  \r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/generics.html\r\n  [2]: https://medium.com/javarevisited/variance-in-java-and-scala-63af925d21dc","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>I really like the accepted answer, but I would like to put a slightly different perspective on it.</p>\n\n<p><code>super</code> is supported in a typed parameter only to allow <strong>contravariance</strong> capabilities. When it comes to <strong>covariance</strong> and <strong>contravariance</strong> it's important to understand that Java only supports <strong>use-site variance</strong>. Unlike Kotlin or Scala, which allow <strong>declaration-site variance</strong>. Kotlin documentation explains it very well <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a>. Or if you're more into Scala, <a href=\"https://medium.com/javarevisited/variance-in-java-and-scala-63af925d21dc\" rel=\"nofollow noreferrer\">here</a>'s one for you.</p>\n\n<p>It basically means that in Java, you can not limit the way you're gonna use your class when you declare it in terms of PECS. The class can both consume and produce, and some of its methods can do it at the same time, like <code>toArray([])</code>, by the way.</p>\n\n<p>Now, the reason <code>extends</code> is allowed in classes and methods declarations is because it's more about <strong>polymorphism</strong> than it is about <strong>variance</strong>. And <strong>polymorphism</strong> is an intrinsic part of Java and OOP in general: <em>If a method can accept some supertype, a subtype can always safely be passed to it. And if a method, at declaration site as it's \"contract\", should return some supertype, it's totally fine if it returns a subtype instead in its implementations</em>  </p>\n"},{"tags":[],"owner":{"account_id":3905101,"reputation":29,"user_id":3232005,"display_name":"asmitB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666033478,"creation_date":1666033478,"answer_id":74102008,"question_id":2800369,"body_markdown":"The only reason is it makes no sense when declaring a type parameter with a super keyword when defining at a class level. \r\nThe only logical type-erasure strategy for Java would have been to fallback to the supertype of all objects, which is the Object class. \r\n\r\nA great example and explanation can be found here:\r\nhttp://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html#Why%20is%20there%20no%20lower%20bound%20for%20type%20parameters?\r\n\r\nA simple example for rules of type-erasure can be found here:\r\nhttps://www.tutorialspoint.com/java_generics/java_generics_type_erasure.htm#:~:text=Type%20erasure%20is%20a%20process,there%20is%20no%20runtime%20overhead.","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>The only reason is it makes no sense when declaring a type parameter with a super keyword when defining at a class level.\nThe only logical type-erasure strategy for Java would have been to fallback to the supertype of all objects, which is the Object class.</p>\n<p>A great example and explanation can be found here:\n<a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html#Why%20is%20there%20no%20lower%20bound%20for%20type%20parameters\" rel=\"nofollow noreferrer\">http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html#Why%20is%20there%20no%20lower%20bound%20for%20type%20parameters</a>?</p>\n<p>A simple example for rules of type-erasure can be found here:\n<a href=\"https://www.tutorialspoint.com/java_generics/java_generics_type_erasure.htm#:%7E:text=Type%20erasure%20is%20a%20process,there%20is%20no%20runtime%20overhead\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_generics/java_generics_type_erasure.htm#:~:text=Type%20erasure%20is%20a%20process,there%20is%20no%20runtime%20overhead</a>.</p>\n"}],"owner":{"account_id":614381,"reputation":711,"user_id":336962,"display_name":"mohsenof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17733,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":2800425,"answer_count":6,"score":70,"last_activity_date":1666033478,"creation_date":1273466934,"question_id":2800369,"body_markdown":"Why can I use `super` only with wildcards and not with type parameters?\r\n\r\nFor example, in the `Collection` interface, why is the `toArray` method not written like this\r\n\r\n    interface Collection&lt;T&gt;{\r\n        &lt;S super T&gt; S[] toArray(S[] a);\r\n    }\r\n","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>Why can I use <code>super</code> only with wildcards and not with type parameters?</p>\n\n<p>For example, in the <code>Collection</code> interface, why is the <code>toArray</code> method not written like this</p>\n\n<pre><code>interface Collection&lt;T&gt;{\n    &lt;S super T&gt; S[] toArray(S[] a);\n}\n</code></pre>\n"},{"tags":["java","jsp","web-applications","payment-gateway","payment"],"answers":[{"tags":[],"owner":{"account_id":4303172,"reputation":456,"user_id":3516360,"accept_rate":56,"display_name":"haipham23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666033430,"creation_date":1492597686,"answer_id":43493058,"question_id":43492943,"body_markdown":"\r\nThe general answer for this question is **NO**, don&#39;t store anything. Let&#39;s 3rd party payment gateway like Paypal do it for you.\r\n\r\nIt&#39;s not only about security (which you will likely do wrong), it also has to deal with regulations, such as the right to store sensitive data such as credit card.\r\n\r\nAn alternative, very-risky-and-should-be-avoided answer is to store it in browser&#39;s session storage. As for this [answer][1], session storage is reasonably secure. Remember to use HTTPS and have XSS prevention in place. But again, this is not recommended by me.\r\n\r\n\r\n  [1]: https://security.stackexchange.com/questions/36958/is-it-safe-to-store-password-in-html5-sessionstorage","title":"Storing payment info","body":"<p>The general answer for this question is <strong>NO</strong>, don't store anything. Let's 3rd party payment gateway like Paypal do it for you.</p>\n<p>It's not only about security (which you will likely do wrong), it also has to deal with regulations, such as the right to store sensitive data such as credit card.</p>\n<p>An alternative, very-risky-and-should-be-avoided answer is to store it in browser's session storage. As for this <a href=\"https://security.stackexchange.com/questions/36958/is-it-safe-to-store-password-in-html5-sessionstorage\">answer</a>, session storage is reasonably secure. Remember to use HTTPS and have XSS prevention in place. But again, this is not recommended by me.</p>\n"},{"tags":[],"owner":{"account_id":312557,"reputation":29237,"user_id":626692,"display_name":"Neville Kuyt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492600934,"creation_date":1492600934,"answer_id":43494326,"question_id":43492943,"body_markdown":"Your question is rather wide-ranging, and &quot;best practice&quot; is often another word for personal preference and prejudice.\r\n\r\nHowever...\r\n\r\nIn most countries, to process credit card details requires you to have an arrangement with your bank (often called &quot;cardholder not present&quot;), and the bank will impose fairly strict security requirements on you when you take up that arrangement. In the UK, these requirements are known as &quot;Payment Card Industry Data Security Standard (PCI DSS)&quot;. \r\n\r\nThere are varying options here - a large online store may invest in storing payment details on their infrastructure, but the cost for meeting the required security standards is significant.\r\n\r\nYou can also work through a [payment gateway][1] - an intermediary company which manages the interaction with the banks. They usually have several different integration options - from &quot;Paypal-like&quot; redirects to an API which allows you to collect the credit card data, and pass that through an API to verify payment. Many payment gateways allow you to store the payment details on their infrastructure (which is PCI compliant), and retrieve a token for future payments. \r\n\r\nThe process is something like:\r\n\r\n    customer places first order\r\n    customer enters payment details\r\n    payment gateway verifies payment details\r\n    payment gateway collects payment\r\n    payment gateway stores payment details\r\n    payment gateway sends token to website\r\n    website stores payment token with customer profile\r\n    customer places second order\r\n    website retrieves payment token\r\n    website asks &quot;use previous payment details&quot;\r\n    customer agrees\r\n    website sends token to payment gateway\r\n    payment gateway retrieves payment details\r\n    payment gateway collects payment\r\n    payment gateway tells website payment succeeded\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_online_payment_service_providers\r\n","title":"Storing payment info","body":"<p>Your question is rather wide-ranging, and \"best practice\" is often another word for personal preference and prejudice.</p>\n\n<p>However...</p>\n\n<p>In most countries, to process credit card details requires you to have an arrangement with your bank (often called \"cardholder not present\"), and the bank will impose fairly strict security requirements on you when you take up that arrangement. In the UK, these requirements are known as \"Payment Card Industry Data Security Standard (PCI DSS)\". </p>\n\n<p>There are varying options here - a large online store may invest in storing payment details on their infrastructure, but the cost for meeting the required security standards is significant.</p>\n\n<p>You can also work through a <a href=\"https://en.wikipedia.org/wiki/List_of_online_payment_service_providers\" rel=\"nofollow noreferrer\">payment gateway</a> - an intermediary company which manages the interaction with the banks. They usually have several different integration options - from \"Paypal-like\" redirects to an API which allows you to collect the credit card data, and pass that through an API to verify payment. Many payment gateways allow you to store the payment details on their infrastructure (which is PCI compliant), and retrieve a token for future payments. </p>\n\n<p>The process is something like:</p>\n\n<pre><code>customer places first order\ncustomer enters payment details\npayment gateway verifies payment details\npayment gateway collects payment\npayment gateway stores payment details\npayment gateway sends token to website\nwebsite stores payment token with customer profile\ncustomer places second order\nwebsite retrieves payment token\nwebsite asks \"use previous payment details\"\ncustomer agrees\nwebsite sends token to payment gateway\npayment gateway retrieves payment details\npayment gateway collects payment\npayment gateway tells website payment succeeded\n</code></pre>\n"}],"owner":{"account_id":8271934,"reputation":285,"user_id":6219373,"accept_rate":35,"display_name":"fobius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1666033430,"creation_date":1492597386,"question_id":43492943,"body_markdown":"This is more of a general question regarding the storage and retrieval of payment information for web commerce applications\r\n\r\nOur current approach is to have the user enter their payment details after a redirect on a 3rd party web form, similar to what one might do with PayPal.\r\n\r\nIn order to make it easier for repeat orders, obviously involves storing payment information details, such as credit card numbers, PII information.  \r\n\r\nSince this has serious security implications, I am wondering what the general accepted best practices are.  Is it basically recommended to handle all of this with other tools such as Stripe?  Or have others gone with in-house solution ?\r\n\r\nFor reference, we are working with Java Servlets/JSP.","title":"Storing payment info","body":"<p>This is more of a general question regarding the storage and retrieval of payment information for web commerce applications</p>\n\n<p>Our current approach is to have the user enter their payment details after a redirect on a 3rd party web form, similar to what one might do with PayPal.</p>\n\n<p>In order to make it easier for repeat orders, obviously involves storing payment information details, such as credit card numbers, PII information.  </p>\n\n<p>Since this has serious security implications, I am wondering what the general accepted best practices are.  Is it basically recommended to handle all of this with other tools such as Stripe?  Or have others gone with in-house solution ?</p>\n\n<p>For reference, we are working with Java Servlets/JSP.</p>\n"},{"tags":["java","string","wildcard"],"answers":[{"tags":[],"owner":{"account_id":14909312,"reputation":71,"user_id":10765376,"display_name":"Wireless4024"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666032848,"creation_date":1666032848,"answer_id":74101897,"question_id":74101196,"body_markdown":"First of all you should add method to compute matching level to be use in `*` match\r\n```java\r\nclass Topic {\r\n    private String name;\r\n    public String getName() {return name;}\r\n    public void setName(String name) {this.name = name;}\r\n    // add this method to compute level based on how many dot (.)\r\n    public int level() {return (int) this.name.chars().filter(it -&gt; it == &#39;.&#39;).count();}\r\n}\r\n```\r\n\r\n```java\r\npublic List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\r\n    List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\r\n\r\n    String topicString = topic.getName();\r\n    // if match topic is ends with `#` | eg. `topicString` = `&quot;t1.#&quot;`\r\n    if (topicString.endsWith(&quot;.#&quot;)) {\r\n        // drop `#` char | `topicPrefix` = `&quot;t1.&quot;`\r\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\r\n        for (Topic currentTopic : currentTopics) {\r\n            // check if topic name is start with `topicPrefix` (`&quot;t1.&quot;`)\r\n            // this will match any topic start with &quot;t1.&quot;\r\n            if (currentTopic.getName().startsWith(topicPrefix)) {\r\n                matchingTopics.add(currentTopic);\r\n            }\r\n        }\r\n    } else if (topicString.endsWith(&quot;.*&quot;)) {\r\n        // drop `*` char | `topicPrefix` = `&quot;t1.&quot;`\r\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\r\n        // level is based on dot as previous step `&quot;t1.*&quot;` is `1`\r\n        int topicLevel = topic.level();\r\n        for (Topic currentTopic : currentTopics) {\r\n            // check if topic is start with `topicPrefix` (`&quot;t1.&quot;`)\r\n            if (currentTopic.getName().startsWith(topicPrefix) \r\n                // AND check if topic is at same level\r\n                // `&quot;t1.t2&quot;`    have level 1 = match\r\n                // `&quot;t1.t2.t3&quot;` have level 2 = not match\r\n                &amp;&amp; currentTopic.level() == topicLevel) {\r\n                matchingTopics.add(currentTopic);\r\n            }\r\n        }\r\n    } else {\r\n        // your logic\r\n        for (Topic currentTopic : currentTopics) {\r\n            if (currentTopic.getName().equals(topicString)) {\r\n                matchingTopics.add(currentTopic);\r\n            }\r\n        }\r\n    }\r\n\r\n    return matchingTopics;\r\n}\r\n```","title":"Find matching topics strings with * and # wildcards in java","body":"<p>First of all you should add method to compute matching level to be use in <code>*</code> match</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Topic {\n    private String name;\n    public String getName() {return name;}\n    public void setName(String name) {this.name = name;}\n    // add this method to compute level based on how many dot (.)\n    public int level() {return (int) this.name.chars().filter(it -&gt; it == '.').count();}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\n    List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\n\n    String topicString = topic.getName();\n    // if match topic is ends with `#` | eg. `topicString` = `&quot;t1.#&quot;`\n    if (topicString.endsWith(&quot;.#&quot;)) {\n        // drop `#` char | `topicPrefix` = `&quot;t1.&quot;`\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\n        for (Topic currentTopic : currentTopics) {\n            // check if topic name is start with `topicPrefix` (`&quot;t1.&quot;`)\n            // this will match any topic start with &quot;t1.&quot;\n            if (currentTopic.getName().startsWith(topicPrefix)) {\n                matchingTopics.add(currentTopic);\n            }\n        }\n    } else if (topicString.endsWith(&quot;.*&quot;)) {\n        // drop `*` char | `topicPrefix` = `&quot;t1.&quot;`\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\n        // level is based on dot as previous step `&quot;t1.*&quot;` is `1`\n        int topicLevel = topic.level();\n        for (Topic currentTopic : currentTopics) {\n            // check if topic is start with `topicPrefix` (`&quot;t1.&quot;`)\n            if (currentTopic.getName().startsWith(topicPrefix) \n                // AND check if topic is at same level\n                // `&quot;t1.t2&quot;`    have level 1 = match\n                // `&quot;t1.t2.t3&quot;` have level 2 = not match\n                &amp;&amp; currentTopic.level() == topicLevel) {\n                matchingTopics.add(currentTopic);\n            }\n        }\n    } else {\n        // your logic\n        for (Topic currentTopic : currentTopics) {\n            if (currentTopic.getName().equals(topicString)) {\n                matchingTopics.add(currentTopic);\n            }\n        }\n    }\n\n    return matchingTopics;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666033376,"creation_date":1666033376,"answer_id":74101999,"question_id":74101196,"body_markdown":"One way to look at this is using regular expressions. Your specification might be translated as follows:\r\n\r\n    t1.* -&gt; t1.t2, t1.t3, t1.t4    \r\n    Regex: (t1\\.)(t[0-9])\r\n    Explanation: Any string (topic name) starting with t1. followed by exactly t and number\r\n\r\n    t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\r\n    Regex: (t1\\.)(t[0-9])(\\.(t[0-9]))?\r\n    Explanation: Any string (topic name) starting with t1., followed by exactly t and number, optionally followed by a dot, a t and a number\r\n\r\nOf course, this is a very simple definition which could be generalised according other matching rules. For your matching requirement it should work as the following test might show:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.List;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import static java.util.stream.Collectors.toList;\r\n    import static junit.framework.Assert.assertEquals;\r\n    \r\n    public class RegexTest {\r\n    \r\n        final List&lt;String&gt; topicNames = List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;, &quot;t1.t3.t5&quot;, &quot;t1.t4.t6&quot;);\r\n    \r\n        @Test\r\n        void regexForAsteriskSpecification(){\r\n            final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])&quot;);\r\n            java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\r\n            assertEquals(collect, List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;));\r\n        }\r\n    \r\n        @Test\r\n        void regexForHashtagSpecification(){\r\n            final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])(\\\\.(t[0-9]))?&quot;);\r\n            java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\r\n            assertEquals(collect, topicNames);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Find matching topics strings with * and # wildcards in java","body":"<p>One way to look at this is using regular expressions. Your specification might be translated as follows:</p>\n<pre><code>t1.* -&gt; t1.t2, t1.t3, t1.t4    \nRegex: (t1\\.)(t[0-9])\nExplanation: Any string (topic name) starting with t1. followed by exactly t and number\n\nt1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\nRegex: (t1\\.)(t[0-9])(\\.(t[0-9]))?\nExplanation: Any string (topic name) starting with t1., followed by exactly t and number, optionally followed by a dot, a t and a number\n</code></pre>\n<p>Of course, this is a very simple definition which could be generalised according other matching rules. For your matching requirement it should work as the following test might show:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.regex.Pattern;\n\nimport static java.util.stream.Collectors.toList;\nimport static junit.framework.Assert.assertEquals;\n\npublic class RegexTest {\n\n    final List&lt;String&gt; topicNames = List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;, &quot;t1.t3.t5&quot;, &quot;t1.t4.t6&quot;);\n\n    @Test\n    void regexForAsteriskSpecification(){\n        final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])&quot;);\n        java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\n        assertEquals(collect, List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;));\n    }\n\n    @Test\n    void regexForHashtagSpecification(){\n        final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])(\\\\.(t[0-9]))?&quot;);\n        java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\n        assertEquals(collect, topicNames);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14829651,"reputation":115,"user_id":10709485,"display_name":"wazowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74101897,"answer_count":2,"score":0,"last_activity_date":1666033376,"creation_date":1666028729,"question_id":74101196,"body_markdown":"I have a topic based publish subscribe service and I&#39;m working on topic matching. The current test tree I have is the following (each line represents a topic) :\r\n\r\n    t1.t2\r\n    t1.t3\r\n    t1.t4\r\n    t1.t3.t5\r\n    t1.t4.t6\r\n\r\nResults should be (when using a wildcard) : \r\n\r\n    t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\r\n    t1.* -&gt; t1.t2, t1.t3, t1.t4\r\n\r\nMy current code : \r\n     \r\n    public List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\r\n        List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\r\n\r\n        String topicString = topic.getName();\r\n\r\n        for (Topic t : currentTopics) {\r\n            String currentTopicString = t.getName();\r\n            if (topicString.equals(currentTopicString)) {\r\n                matchingTopics.add(t);\r\n            } else {\r\n                String[] topicStringSplit = topicString.split(&quot;\\\\.&quot;);\r\n\r\n                String[] currentTopicStringSplit = currentTopicString.split(&quot;\\\\.&quot;);\r\n\r\n                if (topicStringSplit.length == currentTopicStringSplit.length) {\r\n                    boolean match = true;\r\n\r\n                    for (int i = 0; i &lt; topicStringSplit.length; i++) {\r\n\r\n                        if (topicStringSplit[i].equals(&quot;*&quot;)) {\r\n                            continue;\r\n                        }\r\n                        else if (topicStringSplit[i].equals(&quot;#&quot;)) {\r\n                            continue;\r\n                        } else if (!topicStringSplit[i].equals(currentTopicStringSplit[i])) {\r\n                            // not a match\r\n                            match = false;\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n                    if (match) {\r\n                        matchingTopics.add(t);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return matchingTopics;\r\n    }\r\n\r\nThe asterisk wildcard (*) is working, however, I&#39;m having issues with the hashtag (#), hence left the logic the same for both for clarity.\r\n\r\nTest method\r\n\r\n       @Test\r\n    public void testTopicMatch() {\r\n        // t1.t2\r\n        // t1.t3\r\n        // t1.t4\r\n        // t1.t3.t5\r\n        // t1.t4.t6\r\n\r\n        // t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\r\n        // t1.* -&gt; t1.t2, t1.t3, t1.t4\r\n\r\n        List&lt;Topic&gt; topics = new ArrayList&lt;&gt;();\r\n\r\n        Topic t1t2 = new Topic();\r\n        t1t2.setName(&quot;t1.t2&quot;);\r\n        topics.add(t1t2);\r\n\r\n        Topic t1t3 = new Topic();\r\n        t1t3.setName(&quot;t1.t3&quot;);\r\n        topics.add(t1t3);\r\n\r\n        Topic t1t4 = new Topic();\r\n        t1t4.setName(&quot;t1.t4&quot;);\r\n        topics.add(t1t4);\r\n\r\n        Topic t1t3t5 = new Topic();\r\n        t1t3t5.setName(&quot;t1.t3.t5&quot;);\r\n        topics.add(t1t3t5);\r\n\r\n        Topic t1t4t6 = new Topic();\r\n        t1t4t6.setName(&quot;t1.t4.t6&quot;);\r\n        topics.add(t1t4t6);\r\n\r\n        Topic topicHashtag = new Topic();\r\n        topicHashtag.setName(&quot;t1.#&quot;);\r\n        List&lt;Topic&gt; res = getMatchingTopics(topicHashtag, topics);\r\n\r\n        for (Topic topic : res) {\r\n            System.out.println(topic.getName());\r\n        }\r\n\r\n\r\n    }","title":"Find matching topics strings with * and # wildcards in java","body":"<p>I have a topic based publish subscribe service and I'm working on topic matching. The current test tree I have is the following (each line represents a topic) :</p>\n<pre><code>t1.t2\nt1.t3\nt1.t4\nt1.t3.t5\nt1.t4.t6\n</code></pre>\n<p>Results should be (when using a wildcard) :</p>\n<pre><code>t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\nt1.* -&gt; t1.t2, t1.t3, t1.t4\n</code></pre>\n<p>My current code :</p>\n<pre><code>public List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\n    List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\n\n    String topicString = topic.getName();\n\n    for (Topic t : currentTopics) {\n        String currentTopicString = t.getName();\n        if (topicString.equals(currentTopicString)) {\n            matchingTopics.add(t);\n        } else {\n            String[] topicStringSplit = topicString.split(&quot;\\\\.&quot;);\n\n            String[] currentTopicStringSplit = currentTopicString.split(&quot;\\\\.&quot;);\n\n            if (topicStringSplit.length == currentTopicStringSplit.length) {\n                boolean match = true;\n\n                for (int i = 0; i &lt; topicStringSplit.length; i++) {\n\n                    if (topicStringSplit[i].equals(&quot;*&quot;)) {\n                        continue;\n                    }\n                    else if (topicStringSplit[i].equals(&quot;#&quot;)) {\n                        continue;\n                    } else if (!topicStringSplit[i].equals(currentTopicStringSplit[i])) {\n                        // not a match\n                        match = false;\n                        break;\n                    }\n\n                }\n                if (match) {\n                    matchingTopics.add(t);\n                }\n            }\n        }\n    }\n\n    return matchingTopics;\n}\n</code></pre>\n<p>The asterisk wildcard (*) is working, however, I'm having issues with the hashtag (#), hence left the logic the same for both for clarity.</p>\n<p>Test method</p>\n<pre><code>   @Test\npublic void testTopicMatch() {\n    // t1.t2\n    // t1.t3\n    // t1.t4\n    // t1.t3.t5\n    // t1.t4.t6\n\n    // t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\n    // t1.* -&gt; t1.t2, t1.t3, t1.t4\n\n    List&lt;Topic&gt; topics = new ArrayList&lt;&gt;();\n\n    Topic t1t2 = new Topic();\n    t1t2.setName(&quot;t1.t2&quot;);\n    topics.add(t1t2);\n\n    Topic t1t3 = new Topic();\n    t1t3.setName(&quot;t1.t3&quot;);\n    topics.add(t1t3);\n\n    Topic t1t4 = new Topic();\n    t1t4.setName(&quot;t1.t4&quot;);\n    topics.add(t1t4);\n\n    Topic t1t3t5 = new Topic();\n    t1t3t5.setName(&quot;t1.t3.t5&quot;);\n    topics.add(t1t3t5);\n\n    Topic t1t4t6 = new Topic();\n    t1t4t6.setName(&quot;t1.t4.t6&quot;);\n    topics.add(t1t4t6);\n\n    Topic topicHashtag = new Topic();\n    topicHashtag.setName(&quot;t1.#&quot;);\n    List&lt;Topic&gt; res = getMatchingTopics(topicHashtag, topics);\n\n    for (Topic topic : res) {\n        System.out.println(topic.getName());\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1666010842,"post_id":74097425,"comment_id":130826841,"body_markdown":"Well, to me it seems that your operations are different. Like, you execute different code on both cases. So its not done with a simple `filter (x -&gt; first || second)`. You would also need to remember the state which matched for your action. At which point, using streams isnt really helpful anymore. It would decay to a simple `allInvoices.forEach(invoice -&gt; { if (...) first(); else if (...) second(); }`.","body":"Well, to me it seems that your operations are different. Like, you execute different code on both cases. So its not done with a simple <code>filter (x -&gt; first || second)</code>. You would also need to remember the state which matched for your action. At which point, using streams isnt really helpful anymore. It would decay to a simple <code>allInvoices.forEach(invoice -&gt; { if (...) first(); else if (...) second(); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666010790,"creation_date":1666010790,"answer_id":74097529,"question_id":74097425,"body_markdown":"The only obvious way to do it would be:\r\n\r\n```\r\nallInvoices.stream()\r\n    .forEach(invoice -&gt; {\r\n      if (invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED)) {\r\n        submitInvoiceForPayment(invoice);\r\n      }\r\n      if (!invoice.getIsNotified()) {\r\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\r\n      }\r\n    });\r\n```\r\n\r\nwhich is basically just a for loop.\r\n\r\nI&#39;d stick with it as it is, or use a for loop.","title":"Is there any way to Merge these two java-stream operations?","body":"<p>The only obvious way to do it would be:</p>\n<pre><code>allInvoices.stream()\n    .forEach(invoice -&gt; {\n      if (invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED)) {\n        submitInvoiceForPayment(invoice);\n      }\n      if (!invoice.getIsNotified()) {\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\n      }\n    });\n</code></pre>\n<p>which is basically just a for loop.</p>\n<p>I'd stick with it as it is, or use a for loop.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666012085,"creation_date":1666011327,"answer_id":74097647,"question_id":74097425,"body_markdown":"Functional programming features doesn&#39;t buy you anything in this case because your code needs to operate via [*side-effects*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects) (*which might lead to unexpected behavior if someone would modify these streams by making them parallel*), and also because these *side-effects* should be triggered by different conditions.\r\n\r\nI would suggest sticking with a plain `for`-loop:\r\n\r\n```\r\nfor (Invoice invoice : allInvoices) {\r\n    if (!invoice.getIsNotified())\r\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\r\n    if (isIssued(invoice))\r\n        submitInvoiceForPayment(invoice);\r\n}\r\n```\r\n\r\n    public static boolean isIssued(Invoice invoice) {\r\n        return invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED);\r\n    }","title":"Is there any way to Merge these two java-stream operations?","body":"<p>Functional programming features doesn't buy you anything in this case because your code needs to operate via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><em>side-effects</em></a> (<em>which might lead to unexpected behavior if someone would modify these streams by making them parallel</em>), and also because these <em>side-effects</em> should be triggered by different conditions.</p>\n<p>I would suggest sticking with a plain <code>for</code>-loop:</p>\n<pre><code>for (Invoice invoice : allInvoices) {\n    if (!invoice.getIsNotified())\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\n    if (isIssued(invoice))\n        submitInvoiceForPayment(invoice);\n}\n</code></pre>\n<pre><code>public static boolean isIssued(Invoice invoice) {\n    return invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED);\n}\n</code></pre>\n"}],"owner":{"account_id":11697003,"reputation":99,"user_id":8563402,"display_name":"Dana Amiri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74097647,"answer_count":2,"score":1,"last_activity_date":1666033096,"creation_date":1666010396,"question_id":74097425,"body_markdown":"I have a list of invoices that each can have an `ISSUED` status or `IsNotfied` field that could be `false` or both conditions. I want to know, is there any way that I can do the operations simultaneously and do the operation in only one stream?\r\n\r\n```\r\nallInvoices.stream()\r\n    .filter(invoice -&gt; invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED))\r\n    .forEach(this::submitInvoiceForPayment);\r\n\r\nallInvoices.stream()\r\n    .filter(invoice -&gt; !invoice.getIsNotified())\r\n    .forEach(invoice -&gt; sendInvoiceNotification(invoice.getInvoiceDocument(), invoice));\r\n```","title":"Is there any way to Merge these two java-stream operations?","body":"<p>I have a list of invoices that each can have an <code>ISSUED</code> status or <code>IsNotfied</code> field that could be <code>false</code> or both conditions. I want to know, is there any way that I can do the operations simultaneously and do the operation in only one stream?</p>\n<pre><code>allInvoices.stream()\n    .filter(invoice -&gt; invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED))\n    .forEach(this::submitInvoiceForPayment);\n\nallInvoices.stream()\n    .filter(invoice -&gt; !invoice.getIsNotified())\n    .forEach(invoice -&gt; sendInvoiceNotification(invoice.getInvoiceDocument(), invoice));\n</code></pre>\n"},{"tags":["java","guava","event-bus","event-driven","event-driven-design"],"answers":[{"tags":[],"owner":{"account_id":5847352,"reputation":135,"user_id":7220826,"display_name":"Susurration"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032878,"creation_date":1666032878,"answer_id":74101906,"question_id":72802738,"body_markdown":"From the EventBus Javadocs:\r\n&gt;The EventBus guarantees that it will not call a subscriber method from multiple threads simultaneously, unless the method explicitly allows it by bearing the AllowConcurrentEvents annotation. If this annotation is not present, subscriber methods need not worry about being reentrant, unless also called from outside the EventBus.\r\n\r\nYou should annotate your subscriber method with `@AllowConcurrentEvents`","title":"Guava Async eventbus listeners are triggered sequentially","body":"<p>From the EventBus Javadocs:</p>\n<blockquote>\n<p>The EventBus guarantees that it will not call a subscriber method from multiple threads simultaneously, unless the method explicitly allows it by bearing the AllowConcurrentEvents annotation. If this annotation is not present, subscriber methods need not worry about being reentrant, unless also called from outside the EventBus.</p>\n</blockquote>\n<p>You should annotate your subscriber method with <code>@AllowConcurrentEvents</code></p>\n"}],"owner":{"account_id":6406114,"reputation":49,"user_id":6544607,"accept_rate":100,"display_name":"forcehandler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666032878,"creation_date":1656511377,"question_id":72802738,"body_markdown":"I&#39;m working on a Java application which emits events which should be handled asynchronously, since the event handling is IO dependent and I want it to be decoupled from core logic.\r\n\r\nI&#39;m trying out Guava EventBus for this use case. In order to enable async event handling, I&#39;m using AsyncEventBus with cached thread pool executor. \r\n\r\nWhen multiple events are fired, the event listeners seem to be executed in sequential order, despite running on different threads.\r\n\r\nEvent generator class\r\n\r\n```\r\npublic class MyEventEmitter {\r\n    private static final Logger logger = LogManager.getLogger(MyEventEmitter.class);\r\n    private EventBus eventBus;\r\n    public MyEventEmitter(EventBus eventBus) {\r\n        this.eventBus = eventBus;\r\n    }\r\n    public void emitEvent() {\r\n        logger.info(&quot;[TEST] Emitting event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nEvent listener class\r\n```\r\n\r\npublic class EventListener {\r\n\r\n    private static final Logger logger = LogManager.getLogger(EventListener.class);\r\n    private static int eventsHandled;\r\n    private EventBus eventBus;\r\n    public EventListener(EventBus eventBus) {\r\n        this.eventBus = eventBus;\r\n        this.eventBus.register(this);\r\n    }\r\n\r\n    @Subscribe\r\n    public void stringEventDelayed(String event) throws InterruptedException{\r\n        eventsHandled++;\r\n        logger.info(&quot;[TEST] Async Event START &quot; + event);\r\n        Thread.sleep(1000);\r\n        logger.info(&quot;[TEST] Async Event END &quot; + event);\r\n\r\n    }\r\n}\r\n```\r\n\r\nEventBus setup\r\n\r\n```\r\npublic class MainModule extends AbstractModule {\r\n\r\n    @Override\r\n    protected void configure() {\r\n    }\r\n\r\n    @Provides\r\n    public EventListener getEventListener(EventBus eventBus){\r\n        return new EventListener(eventBus);\r\n    }\r\n\r\n    @Singleton\r\n    @Provides\r\n    public EventBus getEventBus(){\r\n        return new AsyncEventBus(Executors.newFixedThreadPool(4));\r\n    }\r\n\r\n    @Provides\r\n    public MyEventEmitter getMyEventEmitter(EventBus eventBus){\r\n        return new MyEventEmitter(eventBus);\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere&#39;s what the output logs look like:\r\n\r\n```\r\n[INFO ] 2022-06-29 19:26:22.333 [main] EventListener - [TEST] EventListener setup\r\n [INFO ] 2022-06-29 19:26:22.345 [main] MyEventEmitter - [TEST] Emitting event\r\n [INFO ] 2022-06-29 19:26:22.346 [pool-2-thread-1] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-1] EventListener - [TEST] Async Event END String event\r\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-4] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:24.353 [pool-2-thread-4] EventListener - [TEST] Async Event END String event\r\n [INFO ] 2022-06-29 19:26:24.359 [pool-2-thread-3] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-3] EventListener - [TEST] Async Event END String event\r\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-2] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:26.364 [pool-2-thread-2] EventListener - [TEST] Async Event END String event\r\n```\r\n\r\nAs can be seen above, all async listeners seem to be executed one after the other rather than concurrently.\r\n\r\nI&#39;ve tried changing Executor types, tried debugging locally, and tried searching but couldn&#39;t find anything specific to my issue.","title":"Guava Async eventbus listeners are triggered sequentially","body":"<p>I'm working on a Java application which emits events which should be handled asynchronously, since the event handling is IO dependent and I want it to be decoupled from core logic.</p>\n<p>I'm trying out Guava EventBus for this use case. In order to enable async event handling, I'm using AsyncEventBus with cached thread pool executor.</p>\n<p>When multiple events are fired, the event listeners seem to be executed in sequential order, despite running on different threads.</p>\n<p>Event generator class</p>\n<pre><code>public class MyEventEmitter {\n    private static final Logger logger = LogManager.getLogger(MyEventEmitter.class);\n    private EventBus eventBus;\n    public MyEventEmitter(EventBus eventBus) {\n        this.eventBus = eventBus;\n    }\n    public void emitEvent() {\n        logger.info(&quot;[TEST] Emitting event&quot;);\n        eventBus.post(&quot;String event&quot;);\n        eventBus.post(&quot;String event&quot;);\n        eventBus.post(&quot;String event&quot;);\n        eventBus.post(&quot;String event&quot;);\n    }\n}\n\n</code></pre>\n<p>Event listener class</p>\n<pre><code>\npublic class EventListener {\n\n    private static final Logger logger = LogManager.getLogger(EventListener.class);\n    private static int eventsHandled;\n    private EventBus eventBus;\n    public EventListener(EventBus eventBus) {\n        this.eventBus = eventBus;\n        this.eventBus.register(this);\n    }\n\n    @Subscribe\n    public void stringEventDelayed(String event) throws InterruptedException{\n        eventsHandled++;\n        logger.info(&quot;[TEST] Async Event START &quot; + event);\n        Thread.sleep(1000);\n        logger.info(&quot;[TEST] Async Event END &quot; + event);\n\n    }\n}\n</code></pre>\n<p>EventBus setup</p>\n<pre><code>public class MainModule extends AbstractModule {\n\n    @Override\n    protected void configure() {\n    }\n\n    @Provides\n    public EventListener getEventListener(EventBus eventBus){\n        return new EventListener(eventBus);\n    }\n\n    @Singleton\n    @Provides\n    public EventBus getEventBus(){\n        return new AsyncEventBus(Executors.newFixedThreadPool(4));\n    }\n\n    @Provides\n    public MyEventEmitter getMyEventEmitter(EventBus eventBus){\n        return new MyEventEmitter(eventBus);\n    }\n}\n</code></pre>\n<p>Here's what the output logs look like:</p>\n<pre><code>[INFO ] 2022-06-29 19:26:22.333 [main] EventListener - [TEST] EventListener setup\n [INFO ] 2022-06-29 19:26:22.345 [main] MyEventEmitter - [TEST] Emitting event\n [INFO ] 2022-06-29 19:26:22.346 [pool-2-thread-1] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-1] EventListener - [TEST] Async Event END String event\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-4] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:24.353 [pool-2-thread-4] EventListener - [TEST] Async Event END String event\n [INFO ] 2022-06-29 19:26:24.359 [pool-2-thread-3] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-3] EventListener - [TEST] Async Event END String event\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-2] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:26.364 [pool-2-thread-2] EventListener - [TEST] Async Event END String event\n</code></pre>\n<p>As can be seen above, all async listeners seem to be executed one after the other rather than concurrently.</p>\n<p>I've tried changing Executor types, tried debugging locally, and tried searching but couldn't find anything specific to my issue.</p>\n"},{"tags":["java","httpclient","settimeout"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032819,"creation_date":1666032819,"answer_id":74101890,"question_id":74101805,"body_markdown":"One thing you can implement for sure is to follow this example: https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientAbortMethod.java\r\n\r\nIt demonstrates how a client can fire a request, but eventually change it&#39;s mind and tell the server it no longer wants to receive the response.\r\nCombine this with a &#39;watchdog&#39; thread that fires after some time/when the time runs out.","title":"how to set a timeout to a java httpClient per request","body":"<p>One thing you can implement for sure is to follow this example: <a href=\"https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientAbortMethod.java\" rel=\"nofollow noreferrer\">https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientAbortMethod.java</a></p>\n<p>It demonstrates how a client can fire a request, but eventually change it's mind and tell the server it no longer wants to receive the response.\nCombine this with a 'watchdog' thread that fires after some time/when the time runs out.</p>\n"}],"owner":{"account_id":3896512,"reputation":193,"user_id":3225404,"display_name":"lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666032819,"creation_date":1666032300,"question_id":74101805,"body_markdown":"I use a httpClient of apache in java to call REST APIs which is configured as below in a static block of class, what I want is to change the connection timeout per request. is it possible? how? \r\n\r\n\r\n  \r\n\r\n     static {\r\n        PoolingHttpClientConnectionManager pool = new PoolingHttpClientConnectionManager();\r\n        pool.setMaxTotal(ChatSettings.HTTP_CLIENT_THREAD_POOL_SIZE);\r\n        httpClient = HttpClients\r\n                .custom()\r\n                .setConnectionManager(pool)\r\n                .setDefaultRequestConfig(\r\n                        RequestConfig\r\n                                .custom()\r\n                                .setConnectTimeout(DEFAULT_HTTP_TIMEOUT)\r\n                                .setSocketTimeout(DEFAULT_HTTP_TIMEOUT)\r\n                                .build()\r\n                )\r\n                .build();\r\n    }\r\n\r\n\r\n","title":"how to set a timeout to a java httpClient per request","body":"<p>I use a httpClient of apache in java to call REST APIs which is configured as below in a static block of class, what I want is to change the connection timeout per request. is it possible? how?</p>\n<pre><code> static {\n    PoolingHttpClientConnectionManager pool = new PoolingHttpClientConnectionManager();\n    pool.setMaxTotal(ChatSettings.HTTP_CLIENT_THREAD_POOL_SIZE);\n    httpClient = HttpClients\n            .custom()\n            .setConnectionManager(pool)\n            .setDefaultRequestConfig(\n                    RequestConfig\n                            .custom()\n                            .setConnectTimeout(DEFAULT_HTTP_TIMEOUT)\n                            .setSocketTimeout(DEFAULT_HTTP_TIMEOUT)\n                            .build()\n            )\n            .build();\n}\n</code></pre>\n"},{"tags":["java","swing","jpanel","layout-manager","cardlayout"],"comments":[{"owner":{"account_id":64324,"reputation":76480,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":6,"creation_date":1337649101,"post_id":10694584,"comment_id":13882744,"body_markdown":"I think you&#39;ve done a good job phrasing your question in a constructive way.  I hope it doesn&#39;t get closed.","body":"I think you&#39;ve done a good job phrasing your question in a constructive way.  I hope it doesn&#39;t get closed."},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1337654584,"post_id":10694584,"comment_id":13883643,"body_markdown":"Thanks for that - I deliberately tried to make it a constructive question, and am glad to get some good feedback.","body":"Thanks for that - I deliberately tried to make it a constructive question, and am glad to get some good feedback."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1337655440,"post_id":10694584,"comment_id":13883778,"body_markdown":"*&quot;but I only load and display the panels as they are actually required.&quot;* Lazy instantiation can be used with `CardLayout` as well, and it supports 1000s of panels.","body":"<i>&quot;but I only load and display the panels as they are actually required.&quot;</i> Lazy instantiation can be used with <code>CardLayout</code> as well, and it supports 1000s of panels."},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1337655865,"post_id":10694584,"comment_id":13883845,"body_markdown":"Thanks @AndrewThompson, I wasn&#39;t sure if that was supported with `CardLayout`, so was kinda throwing that in there to get some verification whether it did/didn&#39;t support such an activity.","body":"Thanks @AndrewThompson, I wasn&#39;t sure if that was supported with <code>CardLayout</code>, so was kinda throwing that in there to get some verification whether it did/didn&#39;t support such an activity."},{"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"score":1,"creation_date":1354609255,"post_id":10694584,"comment_id":18810468,"body_markdown":"@WATTOStudios Please don&#39;t approve [suggested edits like this](http://stackoverflow.com/review/suggested-edits/827006). If needed, refer to this [meta post](http://meta.stackexchange.com/q/157423/165773) for details.","body":"@WATTOStudios Please don&#39;t approve <a href=\"http://stackoverflow.com/review/suggested-edits/827006\">suggested edits like this</a>. If needed, refer to this <a href=\"http://meta.stackexchange.com/q/157423/165773\">meta post</a> for details."},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1354618690,"post_id":10694584,"comment_id":18814691,"body_markdown":"Apologies for that, I do remember that post, unfortunately I was reviewing on my mobile and the wrong button was pressed. I know there were a few of these, but am glad it requires multiple people for the final verdict. I really should post on Meta about a mobile-friendly review page, or an undo button.","body":"Apologies for that, I do remember that post, unfortunately I was reviewing on my mobile and the wrong button was pressed. I know there were a few of these, but am glad it requires multiple people for the final verdict. I really should post on Meta about a mobile-friendly review page, or an undo button."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1666032503,"creation_date":1337649388,"answer_id":10694622,"question_id":10694584,"body_markdown":"* With CardLayout, it&#39;s easier to have loose coupling (though not impossible with roll your own)\r\n* With CardLayout, the preferredSize of the card-holder is that of the largest card it holds.\r\n* CardLayout is harder to fark-up, and allows almost trivial contiguous component swapping its `next()` and `prev()` methods.\r\n* You can easily associate the desired component with a constant -- no need to have to create a `Map&lt;String, Component&gt;` for this purpose as it&#39;s already there for you. I&#39;ve not infrequently used enums for this.\r\n* No need to remember to call `repaint()` and `revalidate()` when swapping components.\r\n* It&#39;s built for and allows for easy re-use of components.\r\n","title":"What&#39;s so special about CardLayout vs manual adding/removal of JPanels?","body":"<ul>\n<li>With CardLayout, it's easier to have loose coupling (though not impossible with roll your own)</li>\n<li>With CardLayout, the preferredSize of the card-holder is that of the largest card it holds.</li>\n<li>CardLayout is harder to fark-up, and allows almost trivial contiguous component swapping its <code>next()</code> and <code>prev()</code> methods.</li>\n<li>You can easily associate the desired component with a constant -- no need to have to create a <code>Map&lt;String, Component&gt;</code> for this purpose as it's already there for you. I've not infrequently used enums for this.</li>\n<li>No need to remember to call <code>repaint()</code> and <code>revalidate()</code> when swapping components.</li>\n<li>It's built for and allows for easy re-use of components.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1337649513,"creation_date":1337649513,"answer_id":10694640,"question_id":10694584,"body_markdown":"`CardLayout` has been thoroughly tested and proven to work. It correctly acquires the [component-tree lock][1] and performs component [validation][2] in order to ensure that nothing can go wrong. Your solution, while it may work most of the time, will fail under certain circumstances.\r\n\r\nThis all boils to reinventing the wheel: Why would you want to when such a time-tested class is already available?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#getTreeLock%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#validate%28%29","title":"What&#39;s so special about CardLayout vs manual adding/removal of JPanels?","body":"<p><code>CardLayout</code> has been thoroughly tested and proven to work. It correctly acquires the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#getTreeLock%28%29\">component-tree lock</a> and performs component <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#validate%28%29\">validation</a> in order to ensure that nothing can go wrong. Your solution, while it may work most of the time, will fail under certain circumstances.</p>\n\n<p>This all boils to reinventing the wheel: Why would you want to when such a time-tested class is already available?</p>\n"}],"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":3,"up_vote_count":18,"accepted_answer_id":10694622,"answer_count":2,"score":15,"last_activity_date":1666032503,"creation_date":1337648773,"question_id":10694584,"body_markdown":"There have been many times on StackOverflow where a user asks a question like this...\r\n\r\n&gt; I have a main `JPanel` that contains a child `JPanel`. When the user clicks a\r\n&gt; button, the child `JPanel` should change to a different `JPanel`. How can I\r\n&gt; achieve this.\r\n\r\n    \r\nMore often than not, the user has actually tried to implement this problem, but can&#39;t get it working.\r\n\r\nWhenever I answer this question, I tell them to do something like this (put simply)...\r\n\r\n    JPanel myFrame = new JPanel();\r\n    myFrame.remove(oldPanel);\r\n    myFrame.add(newPanel);\r\n    \r\nI see this as quite a legitimate answer, and I personally have used this in many of my own Java projects without problem. However, I always get downvotes for my answer, and everyone just says &quot;Use a `CardLayout`&quot;.\r\n\r\nSo my question is, why is everyone so fascinated with `CardLayout`, to the point where my answer deserves a downvote? Why should I choose to use a `CardLayout` rather than adding/removing panels using my code above?\r\n\r\nAs a further question, would you still be suggesting `CardLayout` for interfaces that have dynamic JPanels. For example, most of my programs implement a custom plugin framework where there could be many hundreds of `JPanels`, but I only load and display the panels as they are actually required. For the normal use of the program, most of the panels would never actually be loaded or required. For this type of scenario, would my coding approach be the best solution, as I understand that `CardLayout` would require me to actually create all of the `JPanels` even though most will never be used?","title":"What&#39;s so special about CardLayout vs manual adding/removal of JPanels?","body":"<p>There have been many times on StackOverflow where a user asks a question like this...</p>\n\n<blockquote>\n  <p>I have a main <code>JPanel</code> that contains a child <code>JPanel</code>. When the user clicks a\n  button, the child <code>JPanel</code> should change to a different <code>JPanel</code>. How can I\n  achieve this.</p>\n</blockquote>\n\n<p>More often than not, the user has actually tried to implement this problem, but can't get it working.</p>\n\n<p>Whenever I answer this question, I tell them to do something like this (put simply)...</p>\n\n<pre><code>JPanel myFrame = new JPanel();\nmyFrame.remove(oldPanel);\nmyFrame.add(newPanel);\n</code></pre>\n\n<p>I see this as quite a legitimate answer, and I personally have used this in many of my own Java projects without problem. However, I always get downvotes for my answer, and everyone just says \"Use a <code>CardLayout</code>\".</p>\n\n<p>So my question is, why is everyone so fascinated with <code>CardLayout</code>, to the point where my answer deserves a downvote? Why should I choose to use a <code>CardLayout</code> rather than adding/removing panels using my code above?</p>\n\n<p>As a further question, would you still be suggesting <code>CardLayout</code> for interfaces that have dynamic JPanels. For example, most of my programs implement a custom plugin framework where there could be many hundreds of <code>JPanels</code>, but I only load and display the panels as they are actually required. For the normal use of the program, most of the panels would never actually be loaded or required. For this type of scenario, would my coding approach be the best solution, as I understand that <code>CardLayout</code> would require me to actually create all of the <code>JPanels</code> even though most will never be used?</p>\n"},{"tags":["java","soapui"],"comments":[{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1490274345,"post_id":42973954,"comment_id":73045739,"body_markdown":"Is that your client side exception? What does the server say ?","body":"Is that your client side exception? What does the server say ?"},{"owner":{"account_id":302770,"reputation":4294,"user_id":611315,"accept_rate":12,"display_name":"ChanGan"},"score":0,"creation_date":1490274635,"post_id":42973954,"comment_id":73045956,"body_markdown":"The same is working fine in browser. but when call from Soapui i am getting the error.","body":"The same is working fine in browser. but when call from Soapui i am getting the error."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1490591775,"post_id":42973954,"comment_id":73161787,"body_markdown":"Please run your client with `-Djavax.net.debug=ssl,handshake` and post the result in your question. If your server is doing client authentication please also supply the relevant client-side settings.","body":"Please run your client with <code>-Djavax.net.debug=ssl,handshake</code> and post the result in your question. If your server is doing client authentication please also supply the relevant client-side settings."}],"answers":[{"tags":[],"owner":{"account_id":302770,"reputation":4294,"user_id":611315,"accept_rate":12,"display_name":"ChanGan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1490690465,"creation_date":1490687782,"answer_id":43063766,"question_id":42973954,"body_markdown":"By removing protocols TLS 1.0 in the registry works fine.\r\n\r\nhttps://stackoverflow.com/questions/36265534/invoke-webrequest-ssl-fails \r\nthis post is useful to resolve this issue.\r\n","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>By removing protocols TLS 1.0 in the registry works fine.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36265534/invoke-webrequest-ssl-fails\">Invoke-WebRequest SSL fails?</a> \nthis post is useful to resolve this issue.</p>\n"},{"tags":[],"owner":{"account_id":6263943,"reputation":249,"user_id":4870257,"display_name":"Sumit Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491196019,"creation_date":1491196019,"answer_id":43176842,"question_id":42973954,"body_markdown":"I think you are using company connection and company firewall is blocking the connection.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>I think you are using company connection and company firewall is blocking the connection.</p>\n"},{"tags":[],"owner":{"account_id":10773948,"reputation":221,"user_id":7926632,"display_name":"SergiSPN"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1501071352,"creation_date":1493222348,"answer_id":43639216,"question_id":42973954,"body_markdown":"**WINDOWS**\r\n\r\nOption 1:\r\n\r\n1. find the following file on your computer (make sure you have write access to the file): `C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\SoapUI-5.2.1.vmoptions`\r\n\r\n2. Add the following line to the file:\r\n\r\n`-Dsoapui.https.protocols=&quot;SSLv3,TLSv1.2&quot;`\r\n\r\n3. Run SoapUI with the .exe file (`SoapUI-5.2.1.exe`)\r\n\r\nOption 2: (if option 1 does not work for you).\r\n\r\n1. Edit the following batch file on your computer (make sure you have write access to the file): `C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\soapui.bat`\t\r\n2. Add the following line to the file (after: `if &quot;%SOAPUI_HOME%&quot; == &quot;&quot; goto START`):\r\n\r\n`set JAVA_OPTS=%JAVA_OPTS% -Dsoapui.https.protocols=&quot;SSLv3,TLSv1.2&quot;`\r\n\r\n3. Run SoapUI with the batch file (`soapui.bat`)\r\n\r\n\r\n\r\n**MAC (OSX)**\r\n\r\nThe default install location for Mac is in the root Applications folder, and the `vmoptions.txt` file is in there. Right-click the SOAPUI .app file (in the /Applications folder), and choose &quot;Show Package Contents&quot; to get to the internal files.\r\n\r\n    /Applications/SoapUI-X.X.X.app/Contents/vmoptions.txt\r\n \r\nAdd the following line to the `vmoptions.txt` file:\r\n\r\n    -Dsoapui.https.protocols=TLSv1.2\r\n\r\n\r\n**LINUX**\r\n\r\n1. Edit: `bin/SoapUI-5.3.0.vmoptions` in SoapUI directory\r\n\r\n2. Add the following line to the file:\r\n\r\n`-Dsoapui.https.protocols=TLSv1.2`\r\n\r\n\r\n\r\nI hope it helps.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p><strong>WINDOWS</strong></p>\n\n<p>Option 1:</p>\n\n<ol>\n<li><p>find the following file on your computer (make sure you have write access to the file): <code>C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\SoapUI-5.2.1.vmoptions</code></p></li>\n<li><p>Add the following line to the file:</p></li>\n</ol>\n\n<p><code>-Dsoapui.https.protocols=\"SSLv3,TLSv1.2\"</code></p>\n\n<ol start=\"3\">\n<li>Run SoapUI with the .exe file (<code>SoapUI-5.2.1.exe</code>)</li>\n</ol>\n\n<p>Option 2: (if option 1 does not work for you).</p>\n\n<ol>\n<li>Edit the following batch file on your computer (make sure you have write access to the file): <code>C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\soapui.bat</code>   </li>\n<li>Add the following line to the file (after: <code>if \"%SOAPUI_HOME%\" == \"\" goto START</code>):</li>\n</ol>\n\n<p><code>set JAVA_OPTS=%JAVA_OPTS% -Dsoapui.https.protocols=\"SSLv3,TLSv1.2\"</code></p>\n\n<ol start=\"3\">\n<li>Run SoapUI with the batch file (<code>soapui.bat</code>)</li>\n</ol>\n\n<p><strong>MAC (OSX)</strong></p>\n\n<p>The default install location for Mac is in the root Applications folder, and the <code>vmoptions.txt</code> file is in there. Right-click the SOAPUI .app file (in the /Applications folder), and choose \"Show Package Contents\" to get to the internal files.</p>\n\n<pre><code>/Applications/SoapUI-X.X.X.app/Contents/vmoptions.txt\n</code></pre>\n\n<p>Add the following line to the <code>vmoptions.txt</code> file:</p>\n\n<pre><code>-Dsoapui.https.protocols=TLSv1.2\n</code></pre>\n\n<p><strong>LINUX</strong></p>\n\n<ol>\n<li><p>Edit: <code>bin/SoapUI-5.3.0.vmoptions</code> in SoapUI directory</p></li>\n<li><p>Add the following line to the file:</p></li>\n</ol>\n\n<p><code>-Dsoapui.https.protocols=TLSv1.2</code></p>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":878978,"reputation":969,"user_id":215067,"display_name":"TomEberhard"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1499966979,"creation_date":1499966979,"answer_id":45087405,"question_id":42973954,"body_markdown":"For testing purposes only: If all else fails, you can also just use http instead of https. Just edit the url in the SoapUI window for the request.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>For testing purposes only: If all else fails, you can also just use http instead of https. Just edit the url in the SoapUI window for the request.</p>\n"},{"tags":[],"owner":{"account_id":4937231,"reputation":329,"user_id":3975004,"display_name":"Krzysztof Cieśliński"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1508853015,"creation_date":1508853015,"answer_id":46912316,"question_id":42973954,"body_markdown":"Tried all solutions but nothing worked. It started to work after ignoring jre directory in SoapUI. So if above solutions won&#39;t work for you then try this:\r\n\r\n 1. Close SoapUI\r\n 2. Go to SoapUi directory for example: C:\\Program Files\\SmartBear\\SoapUI-5.3.0\\\r\n 3. Rename directory &quot;jre&quot; to &quot;jre.ignore&quot;\r\n 4. Done. Open SoapUi and it should work now.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>Tried all solutions but nothing worked. It started to work after ignoring jre directory in SoapUI. So if above solutions won't work for you then try this:</p>\n\n<ol>\n<li>Close SoapUI</li>\n<li>Go to SoapUi directory for example: C:\\Program Files\\SmartBear\\SoapUI-5.3.0\\</li>\n<li>Rename directory \"jre\" to \"jre.ignore\"</li>\n<li>Done. Open SoapUi and it should work now.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1041561,"reputation":125,"user_id":1047499,"display_name":"LysanderM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032172,"creation_date":1665469295,"answer_id":74023761,"question_id":42973954,"body_markdown":"In my case, none of the suggestions above were worked, except for this one. (I&#39;ve added only this line to SoapUI-X.X.X.vmoptions file located in SergiSPN&#39;s answer above)\r\n\r\n    -Djava.net.preferIPv4Stack=true\r\n\r\nThere must have been some sort of restriction for IPv6 in our company&#39;s infrastructure, which I had no idea what it was.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>In my case, none of the suggestions above were worked, except for this one. (I've added only this line to SoapUI-X.X.X.vmoptions file located in SergiSPN's answer above)</p>\n<pre><code>-Djava.net.preferIPv4Stack=true\n</code></pre>\n<p>There must have been some sort of restriction for IPv6 in our company's infrastructure, which I had no idea what it was.</p>\n"}],"owner":{"account_id":302770,"reputation":4294,"user_id":611315,"accept_rate":12,"display_name":"ChanGan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64467,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43063766,"answer_count":6,"score":15,"last_activity_date":1666032172,"creation_date":1490266401,"question_id":42973954,"body_markdown":"I am getting ERROR:\r\n&gt;java.net.SocketException: Connection reset. \r\n\r\nI have followed the below link to resolve the issue. But no luck..\r\n\r\n* https://stackoverflow.com/questions/13994164/soapui-certificate-authentication\r\n\r\n* http://geekswithblogs.net/gvdmaaden/archive/2011/02/24/how-to-configure-soapui-with-client-certificate-authentication.aspx\r\n\r\nI have given the error logs below. Can any one look this and let me know how to resolve this issue?\r\n\r\n    Thu Mar 23 16:11:51 IST 2017:ERROR:java.net.SocketException: Connection reset\r\n       java.net.SocketException: Connection reset\r\n       \tat java.net.SocketInputStream.read(Unknown Source)\r\n       \tat java.net.SocketInputStream.read(Unknown Source)\r\n       \tat sun.security.ssl.InputRecord.readFully(Unknown Source)\r\n       \tat sun.security.ssl.InputRecord.read(Unknown Source)\r\n       \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n       \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n       \tat sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\r\n       \tat sun.security.ssl.AppOutputStream.write(Unknown Source)\r\n       \tat org.apache.http.impl.io.AbstractSessionOutputBuffer.flushBuffer(AbstractSessionOutputBuffer.java:131)\r\n       \tat org.apache.http.impl.io.AbstractSessionOutputBuffer.flush(AbstractSessionOutputBuffer.java:138)\r\n       \tat org.apache.http.impl.conn.LoggingSessionOutputBuffer.flush(LoggingSessionOutputBuffer.java:95)\r\n       \tat org.apache.http.impl.AbstractHttpClientConnection.doFlush(AbstractHttpClientConnection.java:270)\r\n       \tat org.apache.http.impl.AbstractHttpClientConnection.flush(AbstractHttpClientConnection.java:275)\r\n       \tat org.apache.http.impl.conn.AbstractClientConnAdapter.flush(AbstractClientConnAdapter.java:197)\r\n       \tat org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:258)\r\n       \tat com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$SoapUIHttpRequestExecutor.doSendRequest(HttpClientSupport.java:113)\r\n       \tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123)\r\n       \tat org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:633)\r\n       \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:454)\r\n       \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\r\n       \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\r\n       \tat com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$Helper.execute(HttpClientSupport.java:247)\r\n       \tat com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport.execute(HttpClientSupport.java:362)\r\n       \tat com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.submitRequest(HttpClientRequestTransport.java:324)\r\n       \tat com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.sendRequest(HttpClientRequestTransport.java:237)\r\n       \tat com.eviware.soapui.impl.wsdl.WsdlSubmit.run(WsdlSubmit.java:127)\r\n       \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n       \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n       \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n       \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n       \tat java.lang.Thread.run(Unknown Source)\r\n\r\n","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>I am getting ERROR:</p>\n\n<blockquote>\n  <p>java.net.SocketException: Connection reset. </p>\n</blockquote>\n\n<p>I have followed the below link to resolve the issue. But no luck..</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/13994164/soapui-certificate-authentication\">SOAPUI Certificate authentication</a></p></li>\n<li><p><a href=\"http://geekswithblogs.net/gvdmaaden/archive/2011/02/24/how-to-configure-soapui-with-client-certificate-authentication.aspx\" rel=\"noreferrer\">http://geekswithblogs.net/gvdmaaden/archive/2011/02/24/how-to-configure-soapui-with-client-certificate-authentication.aspx</a></p></li>\n</ul>\n\n<p>I have given the error logs below. Can any one look this and let me know how to resolve this issue?</p>\n\n<pre><code>Thu Mar 23 16:11:51 IST 2017:ERROR:java.net.SocketException: Connection reset\n   java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(Unknown Source)\n    at java.net.SocketInputStream.read(Unknown Source)\n    at sun.security.ssl.InputRecord.readFully(Unknown Source)\n    at sun.security.ssl.InputRecord.read(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\n    at sun.security.ssl.AppOutputStream.write(Unknown Source)\n    at org.apache.http.impl.io.AbstractSessionOutputBuffer.flushBuffer(AbstractSessionOutputBuffer.java:131)\n    at org.apache.http.impl.io.AbstractSessionOutputBuffer.flush(AbstractSessionOutputBuffer.java:138)\n    at org.apache.http.impl.conn.LoggingSessionOutputBuffer.flush(LoggingSessionOutputBuffer.java:95)\n    at org.apache.http.impl.AbstractHttpClientConnection.doFlush(AbstractHttpClientConnection.java:270)\n    at org.apache.http.impl.AbstractHttpClientConnection.flush(AbstractHttpClientConnection.java:275)\n    at org.apache.http.impl.conn.AbstractClientConnAdapter.flush(AbstractClientConnAdapter.java:197)\n    at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:258)\n    at com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$SoapUIHttpRequestExecutor.doSendRequest(HttpClientSupport.java:113)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:633)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:454)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\n    at com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$Helper.execute(HttpClientSupport.java:247)\n    at com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport.execute(HttpClientSupport.java:362)\n    at com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.submitRequest(HttpClientRequestTransport.java:324)\n    at com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.sendRequest(HttpClientRequestTransport.java:237)\n    at com.eviware.soapui.impl.wsdl.WsdlSubmit.run(WsdlSubmit.java:127)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":17859989,"reputation":61,"user_id":12973717,"display_name":"Gary Liao"},"score":0,"creation_date":1666023945,"post_id":74100118,"comment_id":130832068,"body_markdown":"If you have `@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)` , say we have a `private String name;`, you have to set props in .properties file like this `A.B.C.test.name=myName`, isn&#39;t it ?","body":"If you have <code>@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)</code> , say we have a <code>private String name;</code>, you have to set props in .properties file like this <code>A.B.C.test.name=myName</code>, isn&#39;t it ?"},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1666024026,"post_id":74100118,"comment_id":130832103,"body_markdown":"if you are using a properties file use A.B.C.test = value or if you are using yml file then it should be \nspring:\n   application:\n      name: demoservice","body":"if you are using a properties file use A.B.C.test = value or if you are using yml file then it should be  spring:    application:       name: demoservice"}],"answers":[{"tags":[],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666024202,"creation_date":1666024202,"answer_id":74100384,"question_id":74100118,"body_markdown":"if you are using a properties file use \r\n```\r\nA.B.C.test = value \r\n```\r\nor if you are using yml file then it should be \r\n```\r\nA:\r\n B:\r\n  C: \r\n   test: value\r\n```","title":"Spring boot application properties override","body":"<p>if you are using a properties file use</p>\n<pre><code>A.B.C.test = value \n</code></pre>\n<p>or if you are using yml file then it should be</p>\n<pre><code>A:\n B:\n  C: \n   test: value\n</code></pre>\n"}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666032114,"creation_date":1666022838,"question_id":74100118,"body_markdown":"I have a problem with my application properties&#39; file.\r\n\r\nI have some property defined in application.properties\r\nlike below\r\n```yml\r\nA:\r\n B:\r\n  C:\r\n   test: lala\r\n```\r\nI have some properties defined in application-local.properties\r\n```yml\r\nA:\r\n processor: juju\r\n```\r\nLet&#39;s assume I run the application using the local profile.\r\nThe problem is that in my ConfigurationProperties, the property A.B.C.test is null\r\n```java\r\n@Data\r\n@Validated\r\n@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)\r\n```","title":"Spring boot application properties override","body":"<p>I have a problem with my application properties' file.</p>\n<p>I have some property defined in application.properties\nlike below</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>A:\n B:\n  C:\n   test: lala\n</code></pre>\n<p>I have some properties defined in application-local.properties</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>A:\n processor: juju\n</code></pre>\n<p>Let's assume I run the application using the local profile.\nThe problem is that in my ConfigurationProperties, the property A.B.C.test is null</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Validated\n@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)\n</code></pre>\n"},{"tags":["java","swing","jpanel","layout-manager"],"comments":[{"owner":{"account_id":8341637,"reputation":665,"user_id":6266782,"accept_rate":100,"display_name":"J&#233;r&#232;m Le Blond"},"score":3,"creation_date":1466514855,"post_id":37945424,"comment_id":63339399,"body_markdown":"If I understood what you explained, you can use a GridBagLayout","body":"If I understood what you explained, you can use a GridBagLayout"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1466514966,"post_id":37945424,"comment_id":63339494,"body_markdown":"1) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) Provide ASCII art or a simple drawing of the *intended* layout of the GUI at minimum size, and if resizable, with more width and height.","body":"1) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) Provide ASCII art or a simple drawing of the <i>intended</i> layout of the GUI at minimum size, and if resizable, with more width and height."},{"owner":{"account_id":8015557,"reputation":86,"user_id":6078437,"accept_rate":83,"display_name":"scarecrow-"},"score":0,"creation_date":1466515047,"post_id":37945424,"comment_id":63339553,"body_markdown":"you can use netbeans drag and drop gui creator.","body":"you can use netbeans drag and drop gui creator."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1466515367,"post_id":37945424,"comment_id":63339817,"body_markdown":"@scarecrow- The problem with that approach is that unless a programmer knows how to code it by hand, using a GUI designer will produce a poor (&amp; fragile) GUI. Please refrain from giving layout advice until you have more experience at creating cross-platform GUIs.","body":"@scarecrow- The problem with that approach is that unless a programmer knows how to code it by hand, using a GUI designer will produce a poor (&amp; fragile) GUI. Please refrain from giving layout advice until you have more experience at creating cross-platform GUIs."}],"answers":[{"tags":[],"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466516777,"creation_date":1466516777,"answer_id":37946243,"question_id":37945424,"body_markdown":"You could use `MigLayout` as your only LayoutManager. It&#39;s pretty mighty and usually offers everything that the other managers do too. \r\n\r\nWith this it&#39;s pretty simple to center the components:\r\n\r\n\tpublic class MultiplyExample extends JFrame{\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\r\n\t\tJLabel testLabel = new JLabel(&quot;2*2 = 4&quot;); \r\n\t\tpublic MultiplyExample(){\r\n\t\t\tsuper(&quot;Example&quot;);\r\n\t\t\tsetBounds(300, 50, 200, 200);\r\n            // Set the MigLayout, so that columns and then rows get centered\r\n\t\t\tsetLayout(new MigLayout(&quot;center, center&quot;));\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tadd(testLabel);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tJFrame testFrame = new MultiplyExample();\r\n\t\t\ttestFrame.setVisible(true);\r\n\t\t}\r\n\t}\r\n\r\nResult:\r\n\r\n[![Centered Example][1]][1]\r\n\r\nHere is a demo what the `MigLayout` has to offer:\r\n\r\nhttp://www.miglayout.com/swingdemoapp.jnlp\r\n\r\nHere is a quickstart-guide:\r\n\r\nhttp://www.miglayout.com/QuickStart.pdf\r\n\r\nIf you **have** to use `BorderLayout`, you could put your components onto another panel and put this one into the center by using `BorderLayout.CENTER`:\r\n\r\n    pane.add(button, BorderLayout.CENTER);\r\n\r\n  [1]: http://i.stack.imgur.com/Z4pjk.png","title":"Is there a way of moving JPanel in BorderLayout?","body":"<p>You could use <code>MigLayout</code> as your only LayoutManager. It's pretty mighty and usually offers everything that the other managers do too. </p>\n\n<p>With this it's pretty simple to center the components:</p>\n\n<pre><code>public class MultiplyExample extends JFrame{\n    private static final long serialVersionUID = 1L;\n\n    JLabel testLabel = new JLabel(\"2*2 = 4\"); \n    public MultiplyExample(){\n        super(\"Example\");\n        setBounds(300, 50, 200, 200);\n        // Set the MigLayout, so that columns and then rows get centered\n        setLayout(new MigLayout(\"center, center\"));\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        add(testLabel);\n    }\n\n    public static void main(String[] args) {\n        JFrame testFrame = new MultiplyExample();\n        testFrame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z4pjk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4pjk.png\" alt=\"Centered Example\"></a></p>\n\n<p>Here is a demo what the <code>MigLayout</code> has to offer:</p>\n\n<p><a href=\"http://www.miglayout.com/swingdemoapp.jnlp\" rel=\"nofollow noreferrer\">http://www.miglayout.com/swingdemoapp.jnlp</a></p>\n\n<p>Here is a quickstart-guide:</p>\n\n<p><a href=\"http://www.miglayout.com/QuickStart.pdf\" rel=\"nofollow noreferrer\">http://www.miglayout.com/QuickStart.pdf</a></p>\n\n<p>If you <strong>have</strong> to use <code>BorderLayout</code>, you could put your components onto another panel and put this one into the center by using <code>BorderLayout.CENTER</code>:</p>\n\n<pre><code>pane.add(button, BorderLayout.CENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666031747,"creation_date":1466520094,"answer_id":37947531,"question_id":37945424,"body_markdown":"&gt; My objective is to push the &quot;2*1&quot; a little bit down, to sort of &quot;center&quot; it.\r\n\r\nIf you just want more space at the top then you can use a `Border`:\r\n\r\n   operacao.setBorder( new EmptyBorder(...) );\r\n\r\nRead the section from the Swing tutorial on [How to Use Borders](http://docs.oracle.com/javase/tutorial/uiswing/components/border.html) for more information. \r\n\r\nIf you want to actually center it you can use a `BoxLayout`:\r\n\r\n    Box box = Box.createVerticalBox();\r\n    box.add( Box.createVerticalGlue() );\r\n    box.add( topPanel );\r\n    box.add( Box.createVerticalGlue() );\r\n    box.add( bottomPanel );\r\n\r\nThe tutorial also has a section on `How to Use BoxLayout`. Search the table of contents.","title":"Is there a way of moving JPanel in BorderLayout?","body":"<blockquote>\n<p>My objective is to push the &quot;2*1&quot; a little bit down, to sort of &quot;center&quot; it.</p>\n</blockquote>\n<p>If you just want more space at the top then you can use a <code>Border</code>:</p>\n<p>operacao.setBorder( new EmptyBorder(...) );</p>\n<p>Read the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to Use Borders</a> for more information.</p>\n<p>If you want to actually center it you can use a <code>BoxLayout</code>:</p>\n<pre><code>Box box = Box.createVerticalBox();\nbox.add( Box.createVerticalGlue() );\nbox.add( topPanel );\nbox.add( Box.createVerticalGlue() );\nbox.add( bottomPanel );\n</code></pre>\n<p>The tutorial also has a section on <code>How to Use BoxLayout</code>. Search the table of contents.</p>\n"}],"owner":{"display_name":"user6361676"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37947531,"answer_count":2,"score":1,"last_activity_date":1666031747,"creation_date":1466514660,"question_id":37945424,"body_markdown":"I am using a `BorderLayout` for the frame (the first one that &quot;caught&quot; my attention in the tuts) and a `FlowLayout` for the labels (the one I found appropriate for what I do), and the result shows up like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy objective is to push the &quot;2*1&quot; a little bit down, to sort of &quot;center&quot; it.\r\n\r\nI looked around and found a lot of people saying to use a null layout, but then saying it&#39;s not the best alternative (even though my window is not resizable), and the other solution I found was using a combo of layouts (unless I misunderstood). \r\n\r\nThe question is the one on top of this, plus if not, what really is the best alternative? (The following is the code that makes this window (minus the vars and other methods, to simplify visualization).\r\n\r\n    public Frame() {\r\n\t\tsuper(&quot;Jogo de Multiplicar!&quot;);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tsetSize(300, 200);\r\n\t\tsetResizable(false);\r\n\t\tgetContentPane().setBackground(pink);\r\n\t\t\t\t\r\n\t\tmensagem = new TransparentPanel();\r\n\t\toperacao = new TransparentPanel();\t\r\n\r\n        //added stuff in mensagem and operacao\r\n\r\n\t\tadd(operacao);\r\n\t\tadd(mensagem, BorderLayout.SOUTH);\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/a5bSD.png","title":"Is there a way of moving JPanel in BorderLayout?","body":"<p>I am using a <code>BorderLayout</code> for the frame (the first one that \"caught\" my attention in the tuts) and a <code>FlowLayout</code> for the labels (the one I found appropriate for what I do), and the result shows up like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/a5bSD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a5bSD.png\" alt=\"enter image description here\"></a></p>\n\n<p>My objective is to push the \"2*1\" a little bit down, to sort of \"center\" it.</p>\n\n<p>I looked around and found a lot of people saying to use a null layout, but then saying it's not the best alternative (even though my window is not resizable), and the other solution I found was using a combo of layouts (unless I misunderstood). </p>\n\n<p>The question is the one on top of this, plus if not, what really is the best alternative? (The following is the code that makes this window (minus the vars and other methods, to simplify visualization).</p>\n\n<pre><code>public Frame() {\n    super(\"Jogo de Multiplicar!\");\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setLayout(new BorderLayout());\n    setSize(300, 200);\n    setResizable(false);\n    getContentPane().setBackground(pink);\n\n    mensagem = new TransparentPanel();\n    operacao = new TransparentPanel();  \n\n    //added stuff in mensagem and operacao\n\n    add(operacao);\n    add(mensagem, BorderLayout.SOUTH);\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"score":0,"creation_date":1666020951,"post_id":73985240,"comment_id":130830819,"body_markdown":"It would be helpful to have a stack trace showing the actual errors. Also, why is the `userType` field in the `User` class designated as a `@JoinTable`?","body":"It would be helpful to have a stack trace showing the actual errors. Also, why is the <code>userType</code> field in the <code>User</code> class designated as a <code>@JoinTable</code>?"}],"answers":[{"tags":[],"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666031555,"creation_date":1666031555,"answer_id":74101657,"question_id":73985240,"body_markdown":"The dark brown section of the spreadsheet is confusing, because it suggests there&#39;s a CompanyUser table that you haven&#39;t mentioned elsewhere. Is that an issue?\r\n\r\nRegardless, it&#39;s a shame you can&#39;t adjust the schema, because this design has a lot of flaws. However, it should still be possible to use it. I&#39;m a little stale on Java and Spring/Boot, and I don&#39;t have a useful way to test them easily, but you may have better luck with these:\r\n    \r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    class User {\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private UUID id;\r\n\r\n        @Column(name=&quot;email&quot;)\r\n        private String email;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_type&quot;, table=&quot;user_type&quot;, referencedColumnName = &quot;name&quot;)\r\n        private UserType userType;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_type&quot;)\r\n    class UserType {\r\n        @Id\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_role&quot;)\r\n    class UserRole {\r\n        @Id\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;company&quot;)\r\n    class Company{\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private UUID id;\r\n\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_company_access&quot;, uniqueConstraints = {\r\n            @UniqueConstraint(columnNames = { &quot;user_id&quot;, &quot;company_id&quot; })\r\n    })\r\n    class UserCompanyAccess {\r\n\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private UUID id;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;role&quot;, table=&quot;user_role&quot;, referencedColumnName = &quot;name&quot;)\r\n        private UserRole userRole;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_id&quot;, table=&quot;user&quot;, referencedColumnName = &quot;id&quot;)\r\n        private User user;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;company_id&quot;, table=&quot;company&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Company company;\r\n    }\r\n\r\nExplanation: The user_company_access table is where everything ultimately gets tied together. It&#39;s designed such that any particular combination of user and company to be unique, and @UniqueConstraint enables that in the code; you don&#39;t really need an embeddable object for that. ","title":"Spring Data JPA XRef With PK Object Mapping","body":"<p>The dark brown section of the spreadsheet is confusing, because it suggests there's a CompanyUser table that you haven't mentioned elsewhere. Is that an issue?</p>\n<p>Regardless, it's a shame you can't adjust the schema, because this design has a lot of flaws. However, it should still be possible to use it. I'm a little stale on Java and Spring/Boot, and I don't have a useful way to test them easily, but you may have better luck with these:</p>\n<pre><code>@Entity\n@Table(name=&quot;user&quot;)\nclass User {\n    @Id\n    @Column(name=&quot;id&quot;)\n    private UUID id;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_type&quot;, table=&quot;user_type&quot;, referencedColumnName = &quot;name&quot;)\n    private UserType userType;\n}\n\n\n@Entity\n@Table(name=&quot;user_type&quot;)\nclass UserType {\n    @Id\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n\n@Entity\n@Table(name=&quot;user_role&quot;)\nclass UserRole {\n    @Id\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n\n@Entity\n@Table(name=&quot;company&quot;)\nclass Company{\n    @Id\n    @Column(name=&quot;id&quot;)\n    private UUID id;\n\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n\n@Entity\n@Table(name=&quot;user_company_access&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = { &quot;user_id&quot;, &quot;company_id&quot; })\n})\nclass UserCompanyAccess {\n\n    @Id\n    @Column(name=&quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;role&quot;, table=&quot;user_role&quot;, referencedColumnName = &quot;name&quot;)\n    private UserRole userRole;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, table=&quot;user&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, table=&quot;company&quot;, referencedColumnName = &quot;id&quot;)\n    private Company company;\n}\n</code></pre>\n<p>Explanation: The user_company_access table is where everything ultimately gets tied together. It's designed such that any particular combination of user and company to be unique, and @UniqueConstraint enables that in the code; you don't really need an embeddable object for that.</p>\n"}],"owner":{"account_id":390125,"reputation":4499,"user_id":749979,"accept_rate":100,"display_name":"GSUgambit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74101657,"answer_count":1,"score":0,"last_activity_date":1666031555,"creation_date":1665135580,"question_id":73985240,"body_markdown":"I&#39;m having a hard time getting Spring Data to persist the values into an XREF Table. I&#39;m attempting to talk to an existing DB so i cannot change the schema which would have made this easier.\r\n\r\n\r\n[![Here is shortened schema][1]][1]\r\n\r\nClasses\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_type&quot;)\r\n    class UserType {\r\n       @Id\r\n       @Column(name=&quot;name&quot;)\r\n       private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_role&quot;)\r\n    class UserRole {\r\n       @Id\r\n       @Column(name=&quot;name&quot;)\r\n       private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;company&quot;)\r\n    class Company{\r\n       @Id\r\n       @Column(name=&quot;id&quot;)\r\n       private UUID id;\r\n    \r\n       @Column(name=&quot;name&quot;)\r\n       private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    class User {\r\n       @Id\r\n       @Column(name=&quot;id&quot;)\r\n       private UUID id;\r\n    \r\n       @Column(name=&quot;email&quot;)\r\n       private String email;\r\n\r\n       @ManyToOne\r\n       @JoinTable\r\n       private UserType userType;\r\n\r\n       //not sure what to do here or which JoinTable/ManyToOne/Etc\r\n       private UserCompanyAccess userCompanyAccess;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;user_company_access&quot;)\r\n    class UserCompanyAccess {\r\n    \r\n        @EmbeddedId\r\n        private UserCompanyAccessId userCompanyAccessId;\r\n\r\n        // not sure of relationships here either\r\n        private User user;\r\n        private Company company;\r\n        private UserRole userRole;\r\n        \r\n        @Embeddable\r\n        static class UserAccessCompanyId implements Serializable {\r\n            @Column(name=&quot;id&quot;)\r\n            private UUID id;\r\n        } \r\n    }\r\n\r\nI have tried many different combinations of @JoinColumns specifying the user(id) and userAccessCompany(user_id) as well with company. The code compiles but at runtime hibernate either throws an error saying company_id not provided or other random exceptions regarding trying to compare uuid to character varying etc which was really weird. Any help would be appreciated. I have done many @OneToMany/@ManyToOne/@ManyToMany but somehow never through spring data with an XREF table where the PK is not a composite of the 2 joining tables. That&#39;s what is throwing me off. Otherwise the @EmbeddedId would be the combination of the two.\r\n\r\n  [1]: https://i.stack.imgur.com/FT0gk.png","title":"Spring Data JPA XRef With PK Object Mapping","body":"<p>I'm having a hard time getting Spring Data to persist the values into an XREF Table. I'm attempting to talk to an existing DB so i cannot change the schema which would have made this easier.</p>\n<p><a href=\"https://i.stack.imgur.com/FT0gk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FT0gk.png\" alt=\"Here is shortened schema\" /></a></p>\n<p>Classes</p>\n<pre><code>@Entity\n@Table(name=&quot;user_type&quot;)\nclass UserType {\n   @Id\n   @Column(name=&quot;name&quot;)\n   private String name;\n}\n\n@Entity\n@Table(name=&quot;user_role&quot;)\nclass UserRole {\n   @Id\n   @Column(name=&quot;name&quot;)\n   private String name;\n}\n\n@Entity\n@Table(name=&quot;company&quot;)\nclass Company{\n   @Id\n   @Column(name=&quot;id&quot;)\n   private UUID id;\n\n   @Column(name=&quot;name&quot;)\n   private String name;\n}\n\n@Entity\n@Table(name=&quot;user&quot;)\nclass User {\n   @Id\n   @Column(name=&quot;id&quot;)\n   private UUID id;\n\n   @Column(name=&quot;email&quot;)\n   private String email;\n\n   @ManyToOne\n   @JoinTable\n   private UserType userType;\n\n   //not sure what to do here or which JoinTable/ManyToOne/Etc\n   private UserCompanyAccess userCompanyAccess;\n}\n\n@Entity\n@Table(name=&quot;user_company_access&quot;)\nclass UserCompanyAccess {\n\n    @EmbeddedId\n    private UserCompanyAccessId userCompanyAccessId;\n\n    // not sure of relationships here either\n    private User user;\n    private Company company;\n    private UserRole userRole;\n    \n    @Embeddable\n    static class UserAccessCompanyId implements Serializable {\n        @Column(name=&quot;id&quot;)\n        private UUID id;\n    } \n}\n</code></pre>\n<p>I have tried many different combinations of @JoinColumns specifying the user(id) and userAccessCompany(user_id) as well with company. The code compiles but at runtime hibernate either throws an error saying company_id not provided or other random exceptions regarding trying to compare uuid to character varying etc which was really weird. Any help would be appreciated. I have done many @OneToMany/@ManyToOne/@ManyToMany but somehow never through spring data with an XREF table where the PK is not a composite of the 2 joining tables. That's what is throwing me off. Otherwise the @EmbeddedId would be the combination of the two.</p>\n"},{"tags":["java","list","interface"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666029039,"post_id":74100934,"comment_id":130833676,"body_markdown":"List&lt;WordFrequency&gt; list = new ArrayList&lt;&gt;();","body":"List&lt;WordFrequency&gt; list = new ArrayList&lt;&gt;();"},{"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"score":0,"creation_date":1666029334,"post_id":74100934,"comment_id":130833770,"body_markdown":"I did that, but how do I add elements to this list? the interface does not have data members in it. @ChengThao","body":"I did that, but how do I add elements to this list? the interface does not have data members in it. @ChengThao"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666029664,"post_id":74100934,"comment_id":130833892,"body_markdown":"The interface will be implemented by a subclass (as written in your question). When you implement an interface, you will inherit the _methods_ defined within the interface. From there, it&#39;s the subclass&#39;s job to keep track of data members.","body":"The interface will be implemented by a subclass (as written in your question). When you implement an interface, you will inherit the <i>methods</i> defined within the interface. From there, it&#39;s the subclass&#39;s job to keep track of data members."},{"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"score":0,"creation_date":1666030124,"post_id":74100934,"comment_id":130834045,"body_markdown":"@Rogue I thought so too, but the question states that the return type of the list would be List&lt;WordFrequency&gt; which is the interface. I created a list of this type but I am not able to add anything to it since it expects object of WordFrequency which can&#39;t be created? So how do I add elements to this list?","body":"@Rogue I thought so too, but the question states that the return type of the list would be List&lt;WordFrequency&gt; which is the interface. I created a list of this type but I am not able to add anything to it since it expects object of WordFrequency which can&#39;t be created? So how do I add elements to this list?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666030172,"post_id":74100934,"comment_id":130834053,"body_markdown":"@redmelon7896 you need to provide an implementation of WordFrequency.  You could pass the information through the constructor, or through set methods.  You then create objects of this implementation and add to the list.","body":"@redmelon7896 you need to provide an implementation of WordFrequency.  You could pass the information through the constructor, or through set methods.  You then create objects of this implementation and add to the list."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666030777,"post_id":74100934,"comment_id":130834231,"body_markdown":"You can do `WordFrequency freq = new ConcreteWordFrequency(...);` just like you can do `List&lt;A&gt; list = new ArrayList&lt;&gt;();`. Being a subtype does not forgo being the interface you implement.","body":"You can do <code>WordFrequency freq = new ConcreteWordFrequency(...);</code> just like you can do <code>List&lt;A&gt; list = new ArrayList&lt;&gt;();</code>. Being a subtype does not forgo being the interface you implement."},{"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"score":0,"creation_date":1666030991,"post_id":74100934,"comment_id":130834297,"body_markdown":"@Rogue why didn&#39;t I think of this lol. Would&#39;ve been so straightforward like that. Thanks for clearing it up!","body":"@Rogue why didn&#39;t I think of this lol. Would&#39;ve been so straightforward like that. Thanks for clearing it up!"}],"answers":[{"tags":[],"owner":{"account_id":26495067,"reputation":34,"user_id":20132955,"display_name":"OCEAN OESTREICHER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666030420,"creation_date":1666030420,"answer_id":74101461,"question_id":74100934,"body_markdown":"Simply, you must have an concrete object that implements the interface. Then you can add that object to your list because it will now be a WordFrequency object in addition to whatever object it is by default. You will also need an object that implements the WordFrequencyAnalyzer interface as well. \r\n\r\nThe interface is a contract which guarantees that any object implementing the interface will have certain behaviors. It abstracts the implementation away and allows objects to be more polymorphic.\r\n\r\nThis is a good resources on interfaces\r\n\r\nhttps://www.geeksforgeeks.org/interfaces-in-java/","title":"Return List of Interface in Java","body":"<p>Simply, you must have an concrete object that implements the interface. Then you can add that object to your list because it will now be a WordFrequency object in addition to whatever object it is by default. You will also need an object that implements the WordFrequencyAnalyzer interface as well.</p>\n<p>The interface is a contract which guarantees that any object implementing the interface will have certain behaviors. It abstracts the implementation away and allows objects to be more polymorphic.</p>\n<p>This is a good resources on interfaces</p>\n<p><a href=\"https://www.geeksforgeeks.org/interfaces-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/interfaces-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":3305539,"reputation":4664,"user_id":2780480,"display_name":"Jagrut Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666030597,"creation_date":1666030597,"answer_id":74101491,"question_id":74100934,"body_markdown":"You can consider this example as a starting point for your use case:\r\n\r\n**interface**\r\n\r\n    public interface WordFrequency {\r\n        String getWord();\r\n        int getFrequency();\r\n    }\r\n\r\n**The implementation of above interface**\r\n\r\n    public class WordFreqImpl implements WordFrequency {\r\n    \r\n        final String w;\r\n        final Integer f;\r\n    \r\n        public WordFreqImpl(String word, Integer freq) {\r\n            w = word;\r\n            f = freq;\r\n    \r\n        }\r\n        @Override\r\n        public String getWord() {\r\n            return w;\r\n        }\r\n    \r\n        @Override\r\n        public int getFrequency() {\r\n            return f;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;&quot; +\r\n                    &quot;w=&quot; + w +\r\n                    &quot;, f=&quot; + f;\r\n        }\r\n    }\r\n\r\n**demo of getting the list per your requirement**\r\n\r\n    public class WordFreqDemo {\r\n        public static void main(String[] args) {\r\n            Map&lt;String,Integer&gt; m = new HashMap&lt;&gt;();\r\n            m.put(&quot;k1&quot;,1);\r\n            m.put(&quot;k2&quot;,2);\r\n            m.put(&quot;k3&quot;,3);\r\n    \r\n            List&lt;WordFrequency&gt; wordFrequencyList = new ArrayList&lt;&gt;();\r\n    \r\n            for (Map.Entry&lt;String, Integer&gt; entry: m.entrySet()) {\r\n                wordFrequencyList.add(new WordFreqImpl(entry.getKey(), entry.getValue()) {\r\n                });\r\n            }\r\n    \r\n            for (WordFrequency w: wordFrequencyList) {\r\n                System.out.println(w);\r\n            }\r\n            \r\n            // return wordFrequencyList as per use case\r\n        }\r\n    }\r\n\r\n**output**\r\n\r\n    w=k1, f=1\r\n    w=k2, f=2\r\n    w=k3, f=3\r\n\r\n\r\n","title":"Return List of Interface in Java","body":"<p>You can consider this example as a starting point for your use case:</p>\n<p><strong>interface</strong></p>\n<pre><code>public interface WordFrequency {\n    String getWord();\n    int getFrequency();\n}\n</code></pre>\n<p><strong>The implementation of above interface</strong></p>\n<pre><code>public class WordFreqImpl implements WordFrequency {\n\n    final String w;\n    final Integer f;\n\n    public WordFreqImpl(String word, Integer freq) {\n        w = word;\n        f = freq;\n\n    }\n    @Override\n    public String getWord() {\n        return w;\n    }\n\n    @Override\n    public int getFrequency() {\n        return f;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;&quot; +\n                &quot;w=&quot; + w +\n                &quot;, f=&quot; + f;\n    }\n}\n</code></pre>\n<p><strong>demo of getting the list per your requirement</strong></p>\n<pre><code>public class WordFreqDemo {\n    public static void main(String[] args) {\n        Map&lt;String,Integer&gt; m = new HashMap&lt;&gt;();\n        m.put(&quot;k1&quot;,1);\n        m.put(&quot;k2&quot;,2);\n        m.put(&quot;k3&quot;,3);\n\n        List&lt;WordFrequency&gt; wordFrequencyList = new ArrayList&lt;&gt;();\n\n        for (Map.Entry&lt;String, Integer&gt; entry: m.entrySet()) {\n            wordFrequencyList.add(new WordFreqImpl(entry.getKey(), entry.getValue()) {\n            });\n        }\n\n        for (WordFrequency w: wordFrequencyList) {\n            System.out.println(w);\n        }\n        \n        // return wordFrequencyList as per use case\n    }\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>w=k1, f=1\nw=k2, f=2\nw=k3, f=3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666031390,"creation_date":1666031390,"answer_id":74101628,"question_id":74100934,"body_markdown":"Still an answer showing `record` as ad-hoc data class, and `Stream`-.\r\n\r\nThe `n` highest frequency entries from the map:\r\n\r\n    record Fr(String word, int frequency) implements WordFrequency {\r\n        @Override\r\n        public String getWord() {\r\n           return word;\r\n        }\r\n        @Override\r\n        public int getFrequency() {\r\n            return frequency;\r\n        }\r\n    }\r\n\r\n    Map&lt;String,Integer&gt; m = ...\r\n    List&lt;WordFrequency&gt; wfs = m.entrySet().stream()\r\n        .sorted(e -&gt; Comparator.comparingInt(e.getValue()).reversed()\r\n                               .thenComparing(e.getKey()))\r\n        .limit(n)\r\n        .map(e -&gt; new Fr(e.getKey(), e.getValue())\r\n        .collect(Collectors.toList()):\r\n\r\n","title":"Return List of Interface in Java","body":"<p>Still an answer showing <code>record</code> as ad-hoc data class, and <code>Stream</code>-.</p>\n<p>The <code>n</code> highest frequency entries from the map:</p>\n<pre><code>record Fr(String word, int frequency) implements WordFrequency {\n    @Override\n    public String getWord() {\n       return word;\n    }\n    @Override\n    public int getFrequency() {\n        return frequency;\n    }\n}\n\nMap&lt;String,Integer&gt; m = ...\nList&lt;WordFrequency&gt; wfs = m.entrySet().stream()\n    .sorted(e -&gt; Comparator.comparingInt(e.getValue()).reversed()\n                           .thenComparing(e.getKey()))\n    .limit(n)\n    .map(e -&gt; new Fr(e.getKey(), e.getValue())\n    .collect(Collectors.toList()):\n</code></pre>\n"}],"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74101491,"answer_count":3,"score":0,"last_activity_date":1666031390,"creation_date":1666027246,"question_id":74100934,"body_markdown":"I have to create a word counter program. It is not very difficult logically but I am getting stuck with interfaces. So first I have to create an class which implements the defined interface:\r\n\r\n```\r\npublic interface WordFrequency {\r\nString getWord();\r\nint getFrequency();\r\n}\r\n```\r\n\r\nAnd I have to create another class which implements another interface as defined:\r\n```\r\npublic interface WordFrequencyAnalyzer {\r\nint calculateHighestFrequency(String text);\r\nint calculateFrequencyForWord (String text, String word);\r\nList&lt;WordFrequency&gt; calculateMostFrequentNWords (String text, int n);\r\n}\r\n```\r\n\r\nNow, the third method in this interface returns a list of the previous interface. I will maintain the frequencies of words in a Map. This method requires me to return the words with N highest frequencies in the given text. It would be very easy to just sort the map with descending values and return accordingly, but how do I create a list of this particular interface with the correct values from the map to return in the required format?\r\n\r\nEdit: I am using ```Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;()``` to store the words and their frequencies. This is what I need to store in ```List&lt;WordFrequency&gt;``` and return. ","title":"Return List of Interface in Java","body":"<p>I have to create a word counter program. It is not very difficult logically but I am getting stuck with interfaces. So first I have to create an class which implements the defined interface:</p>\n<pre><code>public interface WordFrequency {\nString getWord();\nint getFrequency();\n}\n</code></pre>\n<p>And I have to create another class which implements another interface as defined:</p>\n<pre><code>public interface WordFrequencyAnalyzer {\nint calculateHighestFrequency(String text);\nint calculateFrequencyForWord (String text, String word);\nList&lt;WordFrequency&gt; calculateMostFrequentNWords (String text, int n);\n}\n</code></pre>\n<p>Now, the third method in this interface returns a list of the previous interface. I will maintain the frequencies of words in a Map. This method requires me to return the words with N highest frequencies in the given text. It would be very easy to just sort the map with descending values and return accordingly, but how do I create a list of this particular interface with the correct values from the map to return in the required format?</p>\n<p>Edit: I am using <code>Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;()</code> to store the words and their frequencies. This is what I need to store in <code>List&lt;WordFrequency&gt;</code> and return.</p>\n"},{"tags":["java","if-statement","format"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666023208,"post_id":74100109,"comment_id":130831751,"body_markdown":"what&#39;s wrong with many IF&#39;s? as it is I dont see a problem. the question is are there going to be changes? added IF&#39;s?","body":"what&#39;s wrong with many IF&#39;s? as it is I dont see a problem. the question is are there going to be changes? added IF&#39;s?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666023255,"post_id":74100109,"comment_id":130831768,"body_markdown":"First of all, you should strive for correctness, instead of worrying about the number of `if` statement. Your method is name “getDataBetween” but you’re not trying to find “data” between the datetimes but return all or through a meaningless exception `RuntimeException(&quot;Error!&quot;)`. It also would be strange if the return type “`Fototball`” is correct. Why is the variable of type `Footballer` called “`string`”?","body":"First of all, you should strive for correctness, instead of worrying about the number of <code>if</code> statement. Your method is name “getDataBetween” but you’re not trying to find “data” between the datetimes but return all or through a meaningless exception <code>RuntimeException(&quot;Error!&quot;)</code>. It also would be strange if the return type “<code>Fototball</code>” is correct. Why is the variable of type <code>Footballer</code> called “<code>string</code>”?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1666023262,"post_id":74100109,"comment_id":130831773,"body_markdown":"Well, you can get rid of most of the `else`s (all but one) - but that wasn&#39;t your question.","body":"Well, you can get rid of most of the <code>else</code>s (all but one) - but that wasn&#39;t your question."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1666024148,"post_id":74100109,"comment_id":130832146,"body_markdown":"One technique for eliminating complexity with dates in this case would be to substitute the &quot;beginning of x&quot; for the null `dateFrom` case and the &quot;end of x&quot; for the null `dateTo` case - for example if the applications is concerned with a single &quot;season&quot; then subsitute start-of-season and end-of-season.  This may reduce the processing complexity - but just a guess without seeing more code.","body":"One technique for eliminating complexity with dates in this case would be to substitute the &quot;beginning of x&quot; for the null <code>dateFrom</code> case and the &quot;end of x&quot; for the null <code>dateTo</code> case - for example if the applications is concerned with a single &quot;season&quot; then subsitute start-of-season and end-of-season.  This may reduce the processing complexity - but just a guess without seeing more code."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666023673,"creation_date":1666023673,"answer_id":74100267,"question_id":74100109,"body_markdown":"I would try to eliminate the nested if.  \r\n\r\n```\r\npublic Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\r\n    \r\n    if (dateFrom == null &amp;&amp; dateTo == null) \r\n        throw new RuntimeException(&quot;Null!!&quot;);\r\n        \r\n    if (dateTo == null || dateFrom == null) \r\n        return dataWithoutTo(dateFrom, dateTo);\r\n        \r\n    if (!Football.this.firstNode.getDateTime().isAfter(dateFrom) || \r\n        !Football.this.getLast().getDateTime().isBefore(dateTo))\r\n        throw new RuntimeException(&quot;Error!&quot;);\r\n    \r\n     Footballer string = new Footballer(giocatore);\r\n     for (int i = 0; i &lt; size(); i++) \r\n         string.add(Football.this.get(i));\r\n     return string;\r\n}\r\n```","title":"How to avoid so many “if” statements?","body":"<p>I would try to eliminate the nested if.</p>\n<pre><code>public Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\n    \n    if (dateFrom == null &amp;&amp; dateTo == null) \n        throw new RuntimeException(&quot;Null!!&quot;);\n        \n    if (dateTo == null || dateFrom == null) \n        return dataWithoutTo(dateFrom, dateTo);\n        \n    if (!Football.this.firstNode.getDateTime().isAfter(dateFrom) || \n        !Football.this.getLast().getDateTime().isBefore(dateTo))\n        throw new RuntimeException(&quot;Error!&quot;);\n    \n     Footballer string = new Footballer(giocatore);\n     for (int i = 0; i &lt; size(); i++) \n         string.add(Football.this.get(i));\n     return string;\n}\n</code></pre>\n"}],"owner":{"account_id":26614428,"reputation":11,"user_id":20234103,"display_name":"borkovicz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1666031355,"creation_date":1666022795,"question_id":74100109,"body_markdown":"I have a problem. I have side methods like:\r\ndataWithoutFrom and dataWithoutTo and main method:\r\n\r\n    public Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\r\n        Footballer string = new Footballer(giocatore);\r\n        if (dateFrom == null &amp;&amp; dateTo == null) {\r\n            throw new RuntimeException(&quot;Null!!&quot;);\r\n        } else if (dateTo == null) {\r\n            return dataWithoutTo(dateFrom, dateTo);\r\n        } else if (dateFrom == null) {\r\n            return dataWithoutFrom(dateFrom, dateTo);\r\n        } else {\r\n            if (Football.this.firstNode.getDateTime().isAfter(dateFrom) &amp;&amp; Football.this.getLast().getDateTime().isBefore(dateTo)) {\r\n                for (int i = 0; i &lt; size(); i++) {\r\n                    string.add(Football.this.get(i));\r\n                }\r\n            } else {\r\n                throw new RuntimeException(&quot;Error!&quot;);\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n\r\nHow to format this code without so many IF&#39;s??? \r\nRegards","title":"How to avoid so many “if” statements?","body":"<p>I have a problem. I have side methods like:\ndataWithoutFrom and dataWithoutTo and main method:</p>\n<pre><code>public Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\n    Footballer string = new Footballer(giocatore);\n    if (dateFrom == null &amp;&amp; dateTo == null) {\n        throw new RuntimeException(&quot;Null!!&quot;);\n    } else if (dateTo == null) {\n        return dataWithoutTo(dateFrom, dateTo);\n    } else if (dateFrom == null) {\n        return dataWithoutFrom(dateFrom, dateTo);\n    } else {\n        if (Football.this.firstNode.getDateTime().isAfter(dateFrom) &amp;&amp; Football.this.getLast().getDateTime().isBefore(dateTo)) {\n            for (int i = 0; i &lt; size(); i++) {\n                string.add(Football.this.get(i));\n            }\n        } else {\n            throw new RuntimeException(&quot;Error!&quot;);\n        }\n    }\n    return string;\n}\n</code></pre>\n<p>How to format this code without so many IF's???\nRegards</p>\n"},{"tags":["java","compile-time-constant"],"comments":[{"owner":{"account_id":21911,"reputation":10474,"user_id":2127508,"display_name":"barrowc"},"score":2,"creation_date":1285817361,"post_id":3827393,"comment_id":4063421,"body_markdown":"Any reason not to use an enum in this case?","body":"Any reason not to use an enum in this case?"},{"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"score":1,"creation_date":1285817471,"post_id":3827393,"comment_id":4063437,"body_markdown":"I didn&#39;t think Java had enums. `public static final int`s are scattered all through the JDK, so that&#39;s what I went with.","body":"I didn&#39;t think Java had enums. <code>public static final int</code>s are scattered all through the JDK, so that&#39;s what I went with."},{"owner":{"account_id":21911,"reputation":10474,"user_id":2127508,"display_name":"barrowc"},"score":1,"creation_date":1285817826,"post_id":3827393,"comment_id":4063479,"body_markdown":"See http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.9 or http://download.oracle.com/javase/1.5.0/docs/guide/language/enums.html","body":"See <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.9\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/third_edition/html/classes.html#&zwnj;&#8203;8.9</a> or <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/language/enums.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/guide/language/enums.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":4,"creation_date":1285822145,"post_id":3827393,"comment_id":4063820,"body_markdown":"And read Effective Java (http://java.sun.com/docs/books/effective), Item 30: Use enums instead of int constants","body":"And read Effective Java (<a href=\"http://java.sun.com/docs/books/effective\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/effective</a>), Item 30: Use enums instead of int constants"},{"owner":{"account_id":179512,"reputation":3361,"user_id":412234,"accept_rate":92,"display_name":"Kevin Kostlan"},"score":0,"creation_date":1373056371,"post_id":3827393,"comment_id":25432925,"body_markdown":"Many solutions suggest enums, which are useful for more complex cases. It may not be worth making a whole new file, instead just set BAR=0;BAZ=1; etc.","body":"Many solutions suggest enums, which are useful for more complex cases. It may not be worth making a whole new file, instead just set BAR=0;BAZ=1; etc."},{"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"score":0,"creation_date":1458155572,"post_id":3827393,"comment_id":59738338,"body_markdown":"@FastSnail I wholeheartedly disagree. First, this question is about Java language constructs, that question is about Android development on the surface and actually about solving a class of problems with an enum. Second, this question was asked and answered two years before that question.","body":"@FastSnail I wholeheartedly disagree. First, this question is about Java language constructs, that question is about Android development on the surface and actually about solving a class of problems with an enum. Second, this question was asked and answered two years before that question."},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1458156250,"post_id":3827393,"comment_id":59738734,"body_markdown":"@AustinHyde omg i can&#39;t believe i did this .i try to make a comment yesterday with a link .so user can see name like in above &quot;select item ...&quot;.so i just made a comment in this page [i was reading this question ] .and i catch the format of link by marking as duplicate .then i edit the comment to see the format .i immediately retracted close vote.i forget to delete it.I&#39;m so sorry for disturbing","body":"@AustinHyde omg i can&#39;t believe i did this .i try to make a comment yesterday with a link .so user can see name like in above &quot;select item ...&quot;.so i just made a comment in this page [i was reading this question ] .and i catch the format of link by marking as duplicate .then i edit the comment to see the format .i immediately retracted close vote.i forget to delete it.I&#39;m so sorry for disturbing"},{"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"score":0,"creation_date":1458166422,"post_id":3827393,"comment_id":59744419,"body_markdown":"@FastSnail It&#39;s okay :)","body":"@FastSnail It&#39;s okay :)"},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1577469205,"post_id":3827393,"comment_id":105181079,"body_markdown":"Late to the party, but just as a historical note:  _&quot;I didn&#39;t think Java had enums. `public static final int`s are scattered all through the JDK, so that&#39;s what I went with.&quot;_  At the time the JDK was written, Java **didn&#39;t** have enums.  That feature was added years later; changing the standard classes in the JDK/JRE would have messed with binary compatibility.  (Classes added later do use enums here and there.)","body":"Late to the party, but just as a historical note:  <i>&quot;I didn&#39;t think Java had enums. <code>public static final int</code>s are scattered all through the JDK, so that&#39;s what I went with.&quot;</i>  At the time the JDK was written, Java <b>didn&#39;t</b> have enums.  That feature was added years later; changing the standard classes in the JDK/JRE would have messed with binary compatibility.  (Classes added later do use enums here and there.)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":187,"is_accepted":true,"score":186,"last_activity_date":1556279005,"creation_date":1285816292,"answer_id":3827424,"question_id":3827393,"body_markdown":"&gt; I understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn&#39;t Foo.BA_ constant?\r\n\r\nWhile they are constant from the perspective of any code that executes after the fields have been initialized, they are not a *compile time constant* in the sense required by the JLS; see [&#167;15.28 Constant Expressions][1] for the specification of a *constant expression*&lt;sup&gt;1&lt;/sup&gt;.  This refers to [&#167;4.12.4 Final Variables][2] which defines a &quot;constant variable&quot; as follows:\r\n\r\n&gt; We call a variable, of primitive type or type String, that is final and initialized with a compile-time constant expression (&#167;15.28) a constant variable. Whether a variable is a constant variable or not may have implications with respect to class initialization (&#167;12.4.1), binary compatibility (&#167;13.1, &#167;13.4.9) and definite assignment (&#167;16).\r\n\r\nIn your example, the Foo.BA* variables do not have initializers, and hence do not qualify as &quot;constant variables&quot;.  The fix is simple; change the Foo.BA* variable declarations to have initializers that are compile-time constant expressions.\r\n\r\nIn other examples (where the initializers are already compile-time constant expressions), declaring the variable as `final` may be what is needed.\r\n\r\nYou could change your code to use an `enum` rather than `int` constants, but that brings another couple of different restrictions:\r\n\r\n  - You *must* include a `default` case, even if you have `case` for every known value of the `enum`; see https://stackoverflow.com/questions/5013194/why-is-default-required-for-a-switch-on-an-enum-in-this-code/5013598#5013598\r\n  - The `case` labels must all be explicit `enum` values, not expressions that evaluate to `enum` values.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - The constant expression restrictions can be summarized as follows.   Constant expressions a) can use primitive types and `String` only, b) allow primaries that are literals (apart from `null`) and constant variables only, c) allow constant expressions possibly parenthesised as subexpressions, d) allow operators except for assignment operators, `++`, `--` or `instanceof`, and e) allow type casts to primitive types or `String` only.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;Note that this doesn&#39;t include any form of method or lambda calls, `new`, `.class`. `.length` or array subscripting.  Furthermore, any use of array values, `enum` values, values of primitive wrapper types, boxing and unboxing are all excluded because of a).&lt;/sup&gt;\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#10931","title":"Java switch statement: Constant expression required, but it IS constant","body":"<blockquote>\n  <p>I understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn't Foo.BA_ constant?</p>\n</blockquote>\n\n<p>While they are constant from the perspective of any code that executes after the fields have been initialized, they are not a <em>compile time constant</em> in the sense required by the JLS; see <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">§15.28 Constant Expressions</a> for the specification of a <em>constant expression</em><sup>1</sup>.  This refers to <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#10931\" rel=\"noreferrer\">§4.12.4 Final Variables</a> which defines a \"constant variable\" as follows:</p>\n\n<blockquote>\n  <p>We call a variable, of primitive type or type String, that is final and initialized with a compile-time constant expression (§15.28) a constant variable. Whether a variable is a constant variable or not may have implications with respect to class initialization (§12.4.1), binary compatibility (§13.1, §13.4.9) and definite assignment (§16).</p>\n</blockquote>\n\n<p>In your example, the Foo.BA* variables do not have initializers, and hence do not qualify as \"constant variables\".  The fix is simple; change the Foo.BA* variable declarations to have initializers that are compile-time constant expressions.</p>\n\n<p>In other examples (where the initializers are already compile-time constant expressions), declaring the variable as <code>final</code> may be what is needed.</p>\n\n<p>You could change your code to use an <code>enum</code> rather than <code>int</code> constants, but that brings another couple of different restrictions:</p>\n\n<ul>\n<li>You <em>must</em> include a <code>default</code> case, even if you have <code>case</code> for every known value of the <code>enum</code>; see <a href=\"https://stackoverflow.com/questions/5013194/why-is-default-required-for-a-switch-on-an-enum-in-this-code/5013598#5013598\">Why is default required for a switch on an enum?</a></li>\n<li>The <code>case</code> labels must all be explicit <code>enum</code> values, not expressions that evaluate to <code>enum</code> values.</li>\n</ul>\n\n<hr>\n\n<p><sup>1 - The constant expression restrictions can be summarized as follows.   Constant expressions a) can use primitive types and <code>String</code> only, b) allow primaries that are literals (apart from <code>null</code>) and constant variables only, c) allow constant expressions possibly parenthesised as subexpressions, d) allow operators except for assignment operators, <code>++</code>, <code>--</code> or <code>instanceof</code>, and e) allow type casts to primitive types or <code>String</code> only.</sup></p>\n\n<p><sup>Note that this doesn't include any form of method or lambda calls, <code>new</code>, <code>.class</code>. <code>.length</code> or array subscripting.  Furthermore, any use of array values, <code>enum</code> values, values of primitive wrapper types, boxing and unboxing are all excluded because of a).</sup></p>\n"},{"tags":[],"owner":{"account_id":191704,"reputation":3230,"user_id":432433,"display_name":"Sheldon L. Cooper"},"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1285816995,"creation_date":1285816428,"answer_id":3827431,"question_id":3827393,"body_markdown":"Because those are not compile time constants.  Consider the following valid code:\r\n\r\n\tpublic static final int BAR = new Random().nextInt();\r\n\r\nYou can only know the value of `BAR` in runtime.","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Because those are not compile time constants.  Consider the following valid code:</p>\n\n<pre><code>public static final int BAR = new Random().nextInt();\n</code></pre>\n\n<p>You can only know the value of <code>BAR</code> in runtime.</p>\n"},{"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1666031345,"creation_date":1285817328,"answer_id":3827488,"question_id":3827393,"body_markdown":"You get _Constant expression required_ because you left the values off your constants. Try:\r\n\r\n    public abstract class Foo {\r\n        ...\r\n        public static final int BAR=0;\r\n        public static final int BAZ=1;\r\n        public static final int BAM=2;\r\n        ...\r\n    }\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>You get <em>Constant expression required</em> because you left the values off your constants. Try:</p>\n<pre><code>public abstract class Foo {\n    ...\n    public static final int BAR=0;\n    public static final int BAZ=1;\n    public static final int BAM=2;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279927,"reputation":1473,"user_id":575358,"accept_rate":55,"display_name":"thenosic"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1328016014,"creation_date":1311258438,"answer_id":6777666,"question_id":3827393,"body_markdown":"You can use an enum like in this example:\r\n\r\n    public class MainClass {\r\n    enum Choice { Choice1, Choice2, Choice3 }\r\n    public static void main(String[] args) {\r\n    Choice ch = Choice.Choice1;\r\n\r\n    switch(ch) {\r\n      case Choice1:\r\n        System.out.println(&quot;Choice1 selected&quot;);\r\n        break;\r\n     case Choice2:\r\n       System.out.println(&quot;Choice2 selected&quot;);\r\n       break;\r\n     case Choice3:\r\n       System.out.println(&quot;Choice3 selected&quot;);\r\n       break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nSource:\r\n[Switch statement with enum][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0040__Data-Type/Switchstatementwithenum.htm","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>You can use an enum like in this example:</p>\n\n<pre><code>public class MainClass {\nenum Choice { Choice1, Choice2, Choice3 }\npublic static void main(String[] args) {\nChoice ch = Choice.Choice1;\n\nswitch(ch) {\n  case Choice1:\n    System.out.println(\"Choice1 selected\");\n    break;\n case Choice2:\n   System.out.println(\"Choice2 selected\");\n   break;\n case Choice3:\n   System.out.println(\"Choice3 selected\");\n   break;\n    }\n  }\n}\n</code></pre>\n\n<p>Source:\n<a href=\"http://www.java2s.com/Tutorial/Java/0040__Data-Type/Switchstatementwithenum.htm\" rel=\"noreferrer\">Switch statement with enum</a></p>\n"},{"tags":[],"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1311268699,"creation_date":1311268699,"answer_id":6780052,"question_id":3827393,"body_markdown":"I recommend you to use enums :)\r\n\r\nCheck this out:\r\n\r\n    public enum Foo \r\n    {\r\n        BAR(&quot;bar&quot;),\r\n        BAZ(&quot;baz&quot;),\r\n        BAM(&quot;bam&quot;);\r\n    \r\n        private final String description;\r\n    \r\n        private Foo(String description)\r\n        {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getDescription()\r\n        {\r\n            return description;\r\n        }\r\n    }\r\n\r\nThen you can use it like this:\r\n\r\n    System.out.println(Foo.BAR.getDescription());","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>I recommend you to use enums :)</p>\n\n<p>Check this out:</p>\n\n<pre><code>public enum Foo \n{\n    BAR(\"bar\"),\n    BAZ(\"baz\"),\n    BAM(\"bam\");\n\n    private final String description;\n\n    private Foo(String description)\n    {\n        this.description = description;\n    }\n\n    public String getDescription()\n    {\n        return description;\n    }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>System.out.println(Foo.BAR.getDescription());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2410471,"reputation":5958,"user_id":2105657,"accept_rate":60,"display_name":"Teo Inke"},"down_vote_count":4,"up_vote_count":65,"is_accepted":false,"score":61,"last_activity_date":1424899007,"creation_date":1424899007,"answer_id":28729765,"question_id":3827393,"body_markdown":"I got this error on Android, and my solution was just to use:\r\n\r\n    public static final int TAKE_PICTURE = 1;\r\n\r\ninstead of \r\n\r\n    public static int TAKE_PICTURE = 1;","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>I got this error on Android, and my solution was just to use:</p>\n\n<pre><code>public static final int TAKE_PICTURE = 1;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>public static int TAKE_PICTURE = 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2599464,"reputation":2558,"user_id":2252297,"display_name":"Samer Murad"},"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1611231402,"creation_date":1518719735,"answer_id":48814117,"question_id":3827393,"body_markdown":"This was answered ages ago and probably not relevant, but just in case.\r\nWhen I was confronted with this issue, I simply used an `if` statement instead of `switch`, it solved the error.\r\nIt is of course a workaround and probably not the &quot;right&quot; solution, but in my case it was just enough.\r\n\r\n### Edit: 2021.01.21\r\nThis Answer is a bit misleading, And I would like to clarify it.\r\n 1. Replacing a `switch` statement with an `if` should not be considered as a goto solution, there are very good reasons why both concepts of `switch` and `if` exist in software development, as well as performance matters to consider when choosing between the two.\r\n 2. Although I provide a solution to the presented error, My answer sheds no light on &quot;why&quot; the problem occurs but instead offers a way around the problem.\r\n\r\nIn my specific case, using an `if` statement instead was just enough to solve the problem. Developers should take the time and decide if this is the right solution for the current problem you have at hand.\r\n\r\nThus this answer should be considered solely as a workaround in specific cases as stated in my first response, and by no means as the correct answer to this question","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>This was answered ages ago and probably not relevant, but just in case.\nWhen I was confronted with this issue, I simply used an <code>if</code> statement instead of <code>switch</code>, it solved the error.\nIt is of course a workaround and probably not the &quot;right&quot; solution, but in my case it was just enough.</p>\n<h3>Edit: 2021.01.21</h3>\n<p>This Answer is a bit misleading, And I would like to clarify it.</p>\n<ol>\n<li>Replacing a <code>switch</code> statement with an <code>if</code> should not be considered as a goto solution, there are very good reasons why both concepts of <code>switch</code> and <code>if</code> exist in software development, as well as performance matters to consider when choosing between the two.</li>\n<li>Although I provide a solution to the presented error, My answer sheds no light on &quot;why&quot; the problem occurs but instead offers a way around the problem.</li>\n</ol>\n<p>In my specific case, using an <code>if</code> statement instead was just enough to solve the problem. Developers should take the time and decide if this is the right solution for the current problem you have at hand.</p>\n<p>Thus this answer should be considered solely as a workaround in specific cases as stated in my first response, and by no means as the correct answer to this question</p>\n"},{"tags":[],"owner":{"account_id":8953873,"reputation":17297,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526327896,"creation_date":1526327896,"answer_id":50338099,"question_id":3827393,"body_markdown":"Sometimes the **switch variable** can also make that error for example:&lt;/br&gt;\r\n\r\n    switch(view.getTag()) {//which is an Object type\r\n\r\n       case 0://will give compiler error that says Constant expression required\r\n\r\n       //...\r\n    }\r\n\r\nTo solve you should cast the variable to int(in this case). So:&lt;/br&gt;\r\n\r\n    switch((int)view.getTag()) {//will be int\r\n    \r\n       case 0: //No Error\r\n    \r\n       //...\r\n    }","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Sometimes the <strong>switch variable</strong> can also make that error for example:</p>\n\n<pre><code>switch(view.getTag()) {//which is an Object type\n\n   case 0://will give compiler error that says Constant expression required\n\n   //...\n}\n</code></pre>\n\n<p>To solve you should cast the variable to int(in this case). So:</p>\n\n<pre><code>switch((int)view.getTag()) {//will be int\n\n   case 0: //No Error\n\n   //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543051511,"creation_date":1543051511,"answer_id":53456830,"question_id":3827393,"body_markdown":"Got this error in Android while doing something like this:\r\n\r\n     roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                switch (parent.getItemAtPosition(position)) {\r\n                    case ADMIN_CONSTANT: //Threw the error\r\n                        \r\n                }\r\n\r\ndespite declaring a constant:\r\n\r\n  `public static final String  ADMIN_CONSTANT= &quot;Admin&quot;;`\r\n\r\n\r\nI resolved the issue by changing my code to this:\r\n\r\n    roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                \r\n                String selectedItem = String.valueOf(parent.getItemAtPosition(position));\r\n                switch (selectedItem) {\r\n                    case ADMIN_CONSTANT:\r\n\r\n                }\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Got this error in Android while doing something like this:</p>\n\n<pre><code> roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            switch (parent.getItemAtPosition(position)) {\n                case ADMIN_CONSTANT: //Threw the error\n\n            }\n</code></pre>\n\n<p>despite declaring a constant:</p>\n\n<p><code>public static final String  ADMIN_CONSTANT= \"Admin\";</code></p>\n\n<p>I resolved the issue by changing my code to this:</p>\n\n<pre><code>roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            String selectedItem = String.valueOf(parent.getItemAtPosition(position));\n            switch (selectedItem) {\n                case ADMIN_CONSTANT:\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11621134,"reputation":1666,"user_id":8650422,"display_name":"Hanako"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543941815,"creation_date":1543941815,"answer_id":53617735,"question_id":3827393,"body_markdown":"In my case, I was getting this exception because\r\n\r\n    switch (tipoWebServ) {\r\n                                case VariablesKmDialog.OBTENER_KM:\r\n                                    resultObtenerKm(result);\r\n                                    break;\r\n                                case var.MODIFICAR_KM:\r\n                                    resultModificarKm(result);\r\n                                    break;\r\n                            }\r\n\r\nin the second case I was calling the constant from the instance `var.MODIFICAR_KM:` but I should use `VariablesKmDialog.OBTENER_KM` directly from the class.","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>In my case, I was getting this exception because</p>\n\n<pre><code>switch (tipoWebServ) {\n                            case VariablesKmDialog.OBTENER_KM:\n                                resultObtenerKm(result);\n                                break;\n                            case var.MODIFICAR_KM:\n                                resultModificarKm(result);\n                                break;\n                        }\n</code></pre>\n\n<p>in the second case I was calling the constant from the instance <code>var.MODIFICAR_KM:</code> but I should use <code>VariablesKmDialog.OBTENER_KM</code> directly from the class.</p>\n"},{"tags":[],"owner":{"account_id":2152996,"reputation":2186,"user_id":1908827,"display_name":"Akash Yellappa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568825846,"creation_date":1568825539,"answer_id":57997505,"question_id":3827393,"body_markdown":"If you&#39;re using it in a switch case then you need to get the type of the enum even before you plug that value in the switch. For instance :\r\n\r\n\r\n  \r\n\r\n&gt;   SomeEnum someEnum = SomeEnum.values()[1];\r\n\r\n    \r\n    switch (someEnum) {\r\n                case GRAPES:\r\n                case BANANA: ...\r\n\r\nAnd the enum is like:\r\n\r\n    public enum SomeEnum {\r\n    \r\n        GRAPES(&quot;Grapes&quot;, 0),\r\n        BANANA(&quot;Banana&quot;, 1),\r\n        \r\n        private String typeName;\r\n        private int typeId;\r\n    \r\n        SomeEnum(String typeName, int typeId){\r\n            this.typeName = typeName;\r\n            this.typeId = typeId;\r\n        }\r\n    }\r\n\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>If you're using it in a switch case then you need to get the type of the enum even before you plug that value in the switch. For instance :</p>\n\n<blockquote>\n  <p>SomeEnum someEnum = SomeEnum.values()[1];</p>\n</blockquote>\n\n<pre><code>switch (someEnum) {\n            case GRAPES:\n            case BANANA: ...\n</code></pre>\n\n<p>And the enum is like:</p>\n\n<pre><code>public enum SomeEnum {\n\n    GRAPES(\"Grapes\", 0),\n    BANANA(\"Banana\", 1),\n\n    private String typeName;\n    private int typeId;\n\n    SomeEnum(String typeName, int typeId){\n        this.typeName = typeName;\n        this.typeId = typeId;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571644801,"creation_date":1571644801,"answer_id":58482099,"question_id":3827393,"body_markdown":"Below code is self-explanatory,\r\nWe can use an enum with a switch case:\r\n\r\n    /**\r\n     *\r\n     */\r\n    enum ClassNames {\r\n        STRING(String.class, String.class.getSimpleName()),\r\n        BOOLEAN(Boolean.class, Boolean.class.getSimpleName()),\r\n        INTEGER(Integer.class, Integer.class.getSimpleName()),\r\n        LONG(Long.class, Long.class.getSimpleName());\r\n        private Class typeName;\r\n        private String simpleName;\r\n        ClassNames(Class typeName, String simpleName){\r\n            this.typeName = typeName;\r\n            this.simpleName = simpleName;\r\n        }\r\n    }\r\n\r\nBased on the class values from the enum can be mapped:\r\n\r\n  \r\n\r\n     switch (ClassNames.valueOf(clazz.getSimpleName())) {\r\n            case STRING:\r\n                String castValue = (String) keyValue;\r\n                break;\r\n            case BOOLEAN:\r\n                break;\r\n            case Integer:\r\n                break;\r\n            case LONG:\r\n                break;\r\n            default:\r\n                isValid = false;\r\n        \r\n        }\r\n\r\nHope it helps :)\r\n ","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Below code is self-explanatory,\nWe can use an enum with a switch case:</p>\n\n<pre><code>/**\n *\n */\nenum ClassNames {\n    STRING(String.class, String.class.getSimpleName()),\n    BOOLEAN(Boolean.class, Boolean.class.getSimpleName()),\n    INTEGER(Integer.class, Integer.class.getSimpleName()),\n    LONG(Long.class, Long.class.getSimpleName());\n    private Class typeName;\n    private String simpleName;\n    ClassNames(Class typeName, String simpleName){\n        this.typeName = typeName;\n        this.simpleName = simpleName;\n    }\n}\n</code></pre>\n\n<p>Based on the class values from the enum can be mapped:</p>\n\n<pre><code> switch (ClassNames.valueOf(clazz.getSimpleName())) {\n        case STRING:\n            String castValue = (String) keyValue;\n            break;\n        case BOOLEAN:\n            break;\n        case Integer:\n            break;\n        case LONG:\n            break;\n        default:\n            isValid = false;\n\n    }\n</code></pre>\n\n<p>Hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":1263788,"reputation":271,"user_id":1699597,"display_name":"Dinesh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1662024145,"creation_date":1575305439,"answer_id":59143371,"question_id":3827393,"body_markdown":"I recommend using the following way:\r\n\r\n    public enum Animal {\r\n        DOG(&quot;dog&quot;), TIGER(&quot;tiger&quot;), LION(&quot;lion&quot;);\r\n        private final String name;\r\n\r\n        Animal(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\n\r\n    public class DemoSwitchUsage {\r\n    \r\n         private String getAnimal(String name) {\r\n             Animal animalName = Animal.valueOf(name);\r\n             switch(animalName) {\r\n             case DOG:\r\n                 // write the code required.\r\n                 break;\r\n             case LION:\r\n                 // Write the code required.\r\n                 break;\r\n             default:\r\n                 break;\r\n             }\r\n         }\r\n    }\r\n\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>I recommend using the following way:</p>\n<pre><code>public enum Animal {\n    DOG(&quot;dog&quot;), TIGER(&quot;tiger&quot;), LION(&quot;lion&quot;);\n    private final String name;\n\n    Animal(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return this.name;\n    }\n}\n\n\npublic class DemoSwitchUsage {\n\n     private String getAnimal(String name) {\n         Animal animalName = Animal.valueOf(name);\n         switch(animalName) {\n         case DOG:\n             // write the code required.\n             break;\n         case LION:\n             // Write the code required.\n             break;\n         default:\n             break;\n         }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14336278,"reputation":27,"user_id":10355652,"display_name":"Marvel Alvarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635451071,"creation_date":1635451071,"answer_id":69760173,"question_id":3827393,"body_markdown":"The problem is with the int and Integer (i do not why), change the int to string and it work&#39;s\r\n\r\n    public abstract class Foo {\r\n        ...\r\n        public static final String BAR;\r\n        public static final String BAZ;\r\n        public static final String BAM;\r\n        ...\r\n    }\r\n    public static String lookup(String constant) {\r\n        switch (constant) {\r\n            case Foo.BAR: return &quot;bar&quot;;\r\n            case Foo.BAZ: return &quot;baz&quot;;\r\n            case Foo.BAM: return &quot;bam&quot;;\r\n            default: return &quot;unknown&quot;;\r\n        }\r\n    }\r\n\r\n\r\n ","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>The problem is with the int and Integer (i do not why), change the int to string and it work's</p>\n<pre><code>public abstract class Foo {\n    ...\n    public static final String BAR;\n    public static final String BAZ;\n    public static final String BAM;\n    ...\n}\npublic static String lookup(String constant) {\n    switch (constant) {\n        case Foo.BAR: return &quot;bar&quot;;\n        case Foo.BAZ: return &quot;baz&quot;;\n        case Foo.BAM: return &quot;bam&quot;;\n        default: return &quot;unknown&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333572,"favorite_count":0,"down_vote_count":0,"up_vote_count":223,"accepted_answer_id":3827424,"answer_count":14,"score":223,"last_activity_date":1666031345,"creation_date":1285815764,"question_id":3827393,"body_markdown":"So, I am working on this class that has a few static constants:\r\n\r\n    public abstract class Foo {\r\n        ...\r\n        public static final int BAR;\r\n        public static final int BAZ;\r\n        public static final int BAM;\r\n        ...\r\n    }\r\n\r\nThen, I would like a way to get a relevant string based on the constant:\r\n\r\n    public static String lookup(int constant) {\r\n        switch (constant) {\r\n            case Foo.BAR: return &quot;bar&quot;;\r\n            case Foo.BAZ: return &quot;baz&quot;;\r\n            case Foo.BAM: return &quot;bam&quot;;\r\n            default: return &quot;unknown&quot;;\r\n        }\r\n    }\r\n\r\nHowever, when I compile, I get a `constant expression required` error on each of the 3 case labels.\r\n\r\nI understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn&#39;t `Foo.BA_` constant?","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>So, I am working on this class that has a few static constants:</p>\n\n<pre><code>public abstract class Foo {\n    ...\n    public static final int BAR;\n    public static final int BAZ;\n    public static final int BAM;\n    ...\n}\n</code></pre>\n\n<p>Then, I would like a way to get a relevant string based on the constant:</p>\n\n<pre><code>public static String lookup(int constant) {\n    switch (constant) {\n        case Foo.BAR: return \"bar\";\n        case Foo.BAZ: return \"baz\";\n        case Foo.BAM: return \"bam\";\n        default: return \"unknown\";\n    }\n}\n</code></pre>\n\n<p>However, when I compile, I get a <code>constant expression required</code> error on each of the 3 case labels.</p>\n\n<p>I understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn't <code>Foo.BA_</code> constant?</p>\n"},{"tags":["java","android","android-preferences"],"answers":[{"tags":[],"owner":{"account_id":71316,"reputation":34203,"user_id":206367,"accept_rate":93,"display_name":"t0mm13b"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1666030915,"creation_date":1342660575,"answer_id":11552672,"question_id":11552579,"body_markdown":"Use a singleton class that wraps around the `SharedPreference` settings.. something like this:\r\n\r\n    public class PrefSingleton{\r\n       private static PrefSingleton mInstance;\r\n       private Context mContext;\r\n       //\r\n       private SharedPreferences mMyPreferences;\r\n    \r\n       private PrefSingleton(){ }\r\n    \r\n       public static PrefSingleton getInstance(){\r\n           if (mInstance == null) mInstance = new PrefSingleton();\r\n           return mInstance;\r\n       }\r\n    \r\n       public void Initialize(Context ctxt){\r\n           mContext = ctxt;\r\n           //\r\n           mMyPreferences = PreferenceManager.getDefaultSharedPreferences(mContext);\r\n       }\r\n    }\r\n\r\nAnd create wrapper functions around what your examples represented in the question, for example,\r\n\r\n`PrefSingleton.getInstance().writePreference(&quot;exampleSetting&quot;, &quot;off&quot;);`\r\n\r\nand the implementation could be something like this:\r\n\r\n    // Within Singleton class\r\n    \r\n    public void writePreference(String key, String value){\r\n         Editor e = mMyPreference.edit();\r\n         e.putString(key, value);\r\n         e.commit();\r\n    }\r\n\r\nFrom your first activity, activate the singleton class, in this manner, something like this:\r\n\r\n    PrefSingleton.getInstance().Initialize(getApplicationContext());\r\n\r\nUsing global static classes can be a bad idea and goes against the practice of programming fundamentals. **BUT** having said that, as nit-picky aside, it will ensure only the one and only object of the class `PrefSingleton` can exist and be accessible regardless of what activities the code is at.","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>Use a singleton class that wraps around the <code>SharedPreference</code> settings.. something like this:</p>\n<pre><code>public class PrefSingleton{\n   private static PrefSingleton mInstance;\n   private Context mContext;\n   //\n   private SharedPreferences mMyPreferences;\n\n   private PrefSingleton(){ }\n\n   public static PrefSingleton getInstance(){\n       if (mInstance == null) mInstance = new PrefSingleton();\n       return mInstance;\n   }\n\n   public void Initialize(Context ctxt){\n       mContext = ctxt;\n       //\n       mMyPreferences = PreferenceManager.getDefaultSharedPreferences(mContext);\n   }\n}\n</code></pre>\n<p>And create wrapper functions around what your examples represented in the question, for example,</p>\n<p><code>PrefSingleton.getInstance().writePreference(&quot;exampleSetting&quot;, &quot;off&quot;);</code></p>\n<p>and the implementation could be something like this:</p>\n<pre><code>// Within Singleton class\n\npublic void writePreference(String key, String value){\n     Editor e = mMyPreference.edit();\n     e.putString(key, value);\n     e.commit();\n}\n</code></pre>\n<p>From your first activity, activate the singleton class, in this manner, something like this:</p>\n<pre><code>PrefSingleton.getInstance().Initialize(getApplicationContext());\n</code></pre>\n<p>Using global static classes can be a bad idea and goes against the practice of programming fundamentals. <strong>BUT</strong> having said that, as nit-picky aside, it will ensure only the one and only object of the class <code>PrefSingleton</code> can exist and be accessible regardless of what activities the code is at.</p>\n"},{"tags":[],"owner":{"account_id":1249558,"reputation":5689,"user_id":1210260,"accept_rate":71,"display_name":"gobernador"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1342707321,"creation_date":1342661343,"answer_id":11552754,"question_id":11552579,"body_markdown":"I would extend `Application` and include the `SharedPreferences.Editor` as a field with a getter.\r\n\r\n    public class APP extends Application {\r\n        private final SharedPreferences settings = getSharedPreferences(&quot;prefs&quot;, 0);\r\n        private final SharedPreferences.Editor editor = settings.edit();\r\n\r\n        public SharedPreferences.Editor editSharePrefs() {\r\n            return editor;\r\n        }\r\n    }\r\n\r\nThen you can access it from any `Activity` with\r\n\r\n    ((APP) getApplication()).editSharePrefs().putString(&quot;examplesetting&quot;, &quot;off&quot;);\r\n    ((APP) getApplication()).editsharePrefs().commit();\r\n\r\nAlternatively, you could also throw in the method\r\n\r\n        public static APP getAPP(Context context) {\r\n            return (APP) context.getApplicationContext();\r\n        }\r\n\r\nAlthough, this would simply change the calls you make to \r\n\r\n    APP.getAPP(this).editSharePrefs().putString(&quot;examplesetting&quot;, &quot;off&quot;);\r\n    APP.getAPP(this).editsharePrefs().commit();\r\n\r\nSo it really is a personal preference, which looks cleaner to you.","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>I would extend <code>Application</code> and include the <code>SharedPreferences.Editor</code> as a field with a getter.</p>\n\n<pre><code>public class APP extends Application {\n    private final SharedPreferences settings = getSharedPreferences(\"prefs\", 0);\n    private final SharedPreferences.Editor editor = settings.edit();\n\n    public SharedPreferences.Editor editSharePrefs() {\n        return editor;\n    }\n}\n</code></pre>\n\n<p>Then you can access it from any <code>Activity</code> with</p>\n\n<pre><code>((APP) getApplication()).editSharePrefs().putString(\"examplesetting\", \"off\");\n((APP) getApplication()).editsharePrefs().commit();\n</code></pre>\n\n<p>Alternatively, you could also throw in the method</p>\n\n<pre><code>    public static APP getAPP(Context context) {\n        return (APP) context.getApplicationContext();\n    }\n</code></pre>\n\n<p>Although, this would simply change the calls you make to </p>\n\n<pre><code>APP.getAPP(this).editSharePrefs().putString(\"examplesetting\", \"off\");\nAPP.getAPP(this).editsharePrefs().commit();\n</code></pre>\n\n<p>So it really is a personal preference, which looks cleaner to you.</p>\n"},{"tags":[],"owner":{"account_id":1328746,"reputation":46,"user_id":1273060,"display_name":"Clover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342664700,"creation_date":1342664700,"answer_id":11553080,"question_id":11552579,"body_markdown":"Use a Helper class to get all you want,make the methods static.This is how ADW do.","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>Use a Helper class to get all you want,make the methods static.This is how ADW do.</p>\n"},{"tags":[],"owner":{"display_name":"user1869209"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363293320,"creation_date":1363293320,"answer_id":15419635,"question_id":11552579,"body_markdown":"I would do this following :\r\n\r\n    public class BaseActivity extends Activity {\r\n    \r\n            protected boolean setInHistory;\r\n            protected SharedPreferences sharedPrefs;\r\n\r\n              \t@Override\r\n\t        protected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsharedPrefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n\t\tsetInHistory = true;\r\n\t       }\r\n\r\n    \r\n    }\r\n\r\n\r\n    public class MainActivity extends BaseActivity {\r\n\r\n             public void onCreate(Bundle savedInstanceState) {\r\n                   super.onCreate(savedInstanceState);\r\n                    setContentView(R.layout.activity_main);\r\n\r\n                  System.out.println(setInHistory+&quot; &lt;-- setInhistory&quot;);\r\n\r\n              }\r\n    }\r\n\r\nThen can access sharedPrefs because it is protected then it&#39;s accessible through the package.\r\n\r\n    In the console you have : true &lt;-- setInhistory","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>I would do this following :</p>\n\n<pre><code>public class BaseActivity extends Activity {\n\n        protected boolean setInHistory;\n        protected SharedPreferences sharedPrefs;\n\n            @Override\n        protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    sharedPrefs = PreferenceManager.getDefaultSharedPreferences(this);\n    setInHistory = true;\n       }\n\n\n}\n\n\npublic class MainActivity extends BaseActivity {\n\n         public void onCreate(Bundle savedInstanceState) {\n               super.onCreate(savedInstanceState);\n                setContentView(R.layout.activity_main);\n\n              System.out.println(setInHistory+\" &lt;-- setInhistory\");\n\n          }\n}\n</code></pre>\n\n<p>Then can access sharedPrefs because it is protected then it's accessible through the package.</p>\n\n<pre><code>In the console you have : true &lt;-- setInhistory\n</code></pre>\n"}],"owner":{"account_id":261970,"reputation":14545,"user_id":546509,"accept_rate":70,"display_name":"Ethan Allen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18939,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1666030915,"creation_date":1342659767,"question_id":11552579,"body_markdown":"Is there a way to make SharedPreferences global throughout my whole app? Right now I&#39;m using these lines in a lot of places throughout my code to store simple on/off settings for a number of preferences that my users can set. I just want to call them once globally if possible:\r\n\r\n    SharedPreferences settings = getSharedPreferences(&quot;prefs&quot;, 0);\r\n    SharedPreferences.Editor editor = settings.edit();\r\n\r\nAny tips on how to be able to call just these line in all classes would be awesome:\r\n\r\n    editor.putString(&quot;examplesetting&quot;, &quot;off&quot;);\r\n    editor.commit(); \r\n\r\nand\r\n\r\n    String checkedSetting = settings.getString(&quot;examplesetting&quot;, &quot;&quot;);","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>Is there a way to make SharedPreferences global throughout my whole app? Right now I'm using these lines in a lot of places throughout my code to store simple on/off settings for a number of preferences that my users can set. I just want to call them once globally if possible:</p>\n\n<pre><code>SharedPreferences settings = getSharedPreferences(\"prefs\", 0);\nSharedPreferences.Editor editor = settings.edit();\n</code></pre>\n\n<p>Any tips on how to be able to call just these line in all classes would be awesome:</p>\n\n<pre><code>editor.putString(\"examplesetting\", \"off\");\neditor.commit(); \n</code></pre>\n\n<p>and</p>\n\n<pre><code>String checkedSetting = settings.getString(\"examplesetting\", \"\");\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666025236,"post_id":74100515,"comment_id":130832476,"body_markdown":"You probably need an int array that keeps track of count of vowels in each of the string.","body":"You probably need an int array that keeps track of count of vowels in each of the string."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1666025600,"post_id":74100515,"comment_id":130832595,"body_markdown":"missing a for loop to count the vowels of each string","body":"missing a for loop to count the vowels of each string"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666031135,"post_id":74100515,"comment_id":130834345,"body_markdown":"This is the third question from you - and all about the same problem","body":"This is the third question from you - and all about the same problem"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666025819,"creation_date":1666025819,"answer_id":74100682,"question_id":74100515,"body_markdown":"You can define a function to count the number of vowels as shown below and then use the same in your loop:\r\n\r\n    int vowelsCount(String str) {\r\n        int vowels = 0;\r\n        for (int i = 0; i &lt; str.length(); i++)\r\n            if (str.charAt(i) == &#39;a&#39; || str.charAt(i) == &#39;e&#39; || str.charAt(i) == &#39;i&#39; || str.charAt(i) == &#39;o&#39;\r\n                    || str.charAt(i) == &#39;u&#39;)\r\n                vowels++;\r\n\r\n        return vowels;\r\n    }\r\n\r\n\r\n**Full Demo**:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner keyboard = new Scanner(System.in);\r\n            String[] values = new String[5];\r\n    \r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                System.out.print(&quot;Enter the string:&quot;);\r\n                values[i] = keyboard.nextLine();\r\n            }\r\n    \r\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\r\n            for (int n = 0; n &lt; values.length; n++) {\r\n                System.out.printf(&quot;%15s %15s %15s %15s%n&quot;, n + 1, values[n], values[n].length(), vowelsCount(values[n]));\r\n            }\r\n        }\r\n    \r\n        static int vowelsCount(String str) {\r\n            int vowels = 0;\r\n            for (int i = 0; i &lt; str.length(); i++)\r\n                if (str.charAt(i) == &#39;a&#39; || str.charAt(i) == &#39;e&#39; || str.charAt(i) == &#39;i&#39; || str.charAt(i) == &#39;o&#39;\r\n                        || str.charAt(i) == &#39;u&#39;)\r\n                    vowels++;\r\n    \r\n            return vowels;\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n     Number           Value          Length         Number of Vowels\r\n          1      wonderland              10               3\r\n          2         program               7               2\r\n          3          school               6               2\r\n          4           hello               5               2\r\n          5           mouse               5               3","title":"Number of vowels from string array","body":"<p>You can define a function to count the number of vowels as shown below and then use the same in your loop:</p>\n<pre><code>int vowelsCount(String str) {\n    int vowels = 0;\n    for (int i = 0; i &lt; str.length(); i++)\n        if (str.charAt(i) == 'a' || str.charAt(i) == 'e' || str.charAt(i) == 'i' || str.charAt(i) == 'o'\n                || str.charAt(i) == 'u')\n            vowels++;\n\n    return vowels;\n}\n</code></pre>\n<p><strong>Full Demo</strong>:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        String[] values = new String[5];\n\n        for (int i = 0; i &lt; values.length; i++) {\n            System.out.print(&quot;Enter the string:&quot;);\n            values[i] = keyboard.nextLine();\n        }\n\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\n        for (int n = 0; n &lt; values.length; n++) {\n            System.out.printf(&quot;%15s %15s %15s %15s%n&quot;, n + 1, values[n], values[n].length(), vowelsCount(values[n]));\n        }\n    }\n\n    static int vowelsCount(String str) {\n        int vowels = 0;\n        for (int i = 0; i &lt; str.length(); i++)\n            if (str.charAt(i) == 'a' || str.charAt(i) == 'e' || str.charAt(i) == 'i' || str.charAt(i) == 'o'\n                    || str.charAt(i) == 'u')\n                vowels++;\n\n        return vowels;\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code> Number           Value          Length         Number of Vowels\n      1      wonderland              10               3\n      2         program               7               2\n      3          school               6               2\n      4           hello               5               2\n      5           mouse               5               3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666030913,"creation_date":1666027051,"answer_id":74100903,"question_id":74100515,"body_markdown":"```\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner keyboard=new Scanner(System.in);\r\n\t\tint vowels = 0, length = 0;\r\n\t\tString[] values = new String[5];\r\n\t\tfor (int i = 0; i&lt;values.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;Enter the string:&quot;);\r\n\t\t\tvalues[i] = keyboard.next();\r\n\t\t}\r\n\t\tSystem.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\r\n\t\tint[] number = new int[5];\r\n\t\tfor(int n=0; n&lt;number.length;n++) {\r\n\t\t\tvowels = values[n].length() - values[n].replaceAll(&quot;[aeiouAEIOU]&quot;, &quot;&quot;).length();\r\n\t\t\tSystem.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels );\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI compare the length of the `String` with the length of the `String` without vowels.\r\n\r\n`replaceAll()` expects a regular expression as first argument. Because I leave the second argument empty, all vowels will be removed.\r\n\r\nOutput:\r\n```\r\n         Number           Value          Length         Number of Vowels\r\n              1           Hello               5               2\r\n              2              My               2               0\r\n              3            name               4               2\r\n              4              is               2               1\r\n              5       Bumblebee               9               4\r\n```","title":"Number of vowels from string array","body":"<pre><code>    public static void main(String[] args) {\n        Scanner keyboard=new Scanner(System.in);\n        int vowels = 0, length = 0;\n        String[] values = new String[5];\n        for (int i = 0; i&lt;values.length; i++)\n        {\n            System.out.print(&quot;Enter the string:&quot;);\n            values[i] = keyboard.next();\n        }\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\n        int[] number = new int[5];\n        for(int n=0; n&lt;number.length;n++) {\n            vowels = values[n].length() - values[n].replaceAll(&quot;[aeiouAEIOU]&quot;, &quot;&quot;).length();\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels );\n            System.out.println();\n        }\n    }\n</code></pre>\n<p>I compare the length of the <code>String</code> with the length of the <code>String</code> without vowels.</p>\n<p><code>replaceAll()</code> expects a regular expression as first argument. Because I leave the second argument empty, all vowels will be removed.</p>\n<p>Output:</p>\n<pre><code>         Number           Value          Length         Number of Vowels\n              1           Hello               5               2\n              2              My               2               0\n              3            name               4               2\n              4              is               2               1\n              5       Bumblebee               9               4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666029635,"creation_date":1666027434,"answer_id":74100977,"question_id":74100515,"body_markdown":"**Using Java 8**\r\n\r\n*You can try this approach using java 8 concepts as shown below:*\r\n\r\n**Approach Here:**\r\n\r\nI have converted the input array into list using Arrays.asList and then converted each input string into char stream and find the count of vowels in each string.\r\n\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner keyboard = new Scanner(System.in);\r\n            String[] values = new String[5];\r\n    \r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                System.out.print(&quot;Enter the string:&quot;);\r\n                values[i] = keyboard.nextLine();\r\n            }\r\n            AtomicInteger counter = new AtomicInteger(1);\r\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\r\n            Arrays.asList(values).forEach(x -&gt; {\r\n                long count = x.chars().filter(ch -&gt; (ch == &#39;a&#39; || ch == &#39;e&#39; ||\r\n                        ch == &#39;i&#39; || ch == &#39;o&#39; || ch == &#39;u&#39;)).count();\r\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, counter.getAndIncrement(), x, x.length(), count);\r\n            });\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Enter the string:wonderland\r\n    Enter the string:program\r\n    Enter the string:school\r\n    Enter the string:hello\r\n    Enter the string:mouse\r\n    \r\n             Number           Value          Length         Number of Vowels\r\n                  1      wonderland              10               3\r\n                  2         program               7               2\r\n                  3          school               6               2\r\n                  4           hello               5               2\r\n                  5           mouse               5               3","title":"Number of vowels from string array","body":"<p><strong>Using Java 8</strong></p>\n<p><em>You can try this approach using java 8 concepts as shown below:</em></p>\n<p><strong>Approach Here:</strong></p>\n<p>I have converted the input array into list using Arrays.asList and then converted each input string into char stream and find the count of vowels in each string.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        Scanner keyboard = new Scanner(System.in);\n        String[] values = new String[5];\n\n        for (int i = 0; i &lt; values.length; i++) {\n            System.out.print(&quot;Enter the string:&quot;);\n            values[i] = keyboard.nextLine();\n        }\n        AtomicInteger counter = new AtomicInteger(1);\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\n        Arrays.asList(values).forEach(x -&gt; {\n            long count = x.chars().filter(ch -&gt; (ch == 'a' || ch == 'e' ||\n                    ch == 'i' || ch == 'o' || ch == 'u')).count();\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, counter.getAndIncrement(), x, x.length(), count);\n        });\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Enter the string:wonderland\nEnter the string:program\nEnter the string:school\nEnter the string:hello\nEnter the string:mouse\n\n         Number           Value          Length         Number of Vowels\n              1      wonderland              10               3\n              2         program               7               2\n              3          school               6               2\n              4           hello               5               2\n              5           mouse               5               3\n</code></pre>\n"}],"owner":{"account_id":26592288,"reputation":17,"user_id":20215300,"display_name":"QJack"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1666095862,"answer_count":3,"score":-1,"last_activity_date":1666030913,"creation_date":1666024982,"question_id":74100515,"body_markdown":"The way I find the number of vowels is wrong, but I don&#39;t know how to fix it can you help me?\r\nthis is my program:\r\n\r\n    import java.util.Scanner;\r\n\r\npublic class Array2 {\r\n\r\n   public static void main(String[] args)\r\n   { \r\n   \r\n   \r\n      Scanner keyboard=new Scanner(System.in);   \r\n      int vowels = 0, length = 0;\r\n      \r\n      String[] values = new String[5]; \r\n      \r\n      for (int i = 0; i&lt;values.length; i++)\r\n      {\r\n         System.out.print(&quot;Enter the string:&quot;);\r\n         values[i] = keyboard.nextLine();\r\n         \r\n            if(values[i].charAt(i) == &#39;a&#39; ||values[i].charAt(i) == &#39;e&#39; || values[i].charAt(i) == &#39;i&#39; || values[i].charAt(i) == &#39;o&#39; || values[i].charAt(i) == &#39;u&#39;)\r\n         {\r\n            vowels++;\r\n         }\r\n         \r\n      }\r\n\r\n   \r\n      System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;); \r\n      int[] number = new int[5]; \r\n      for(int n=0; n&lt;number.length;n++)\r\n      {  \r\n      \r\n\r\n         System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels ); \r\n         System.out.println();  \r\n      }  \r\n   \r\n   } \r\n}\r\n\r\noutput:\r\n\r\n          Number         Value            Length         Number of Vowels\r\n              1      wonderland              10               1\r\n\r\n              2         program               7               1\r\n\r\n              3          school               6               1\r\n\r\n              4           hello               5               1\r\n\r\n              5           mouse               5               1\r\n\r\nI don&#39;t know why my number of vowels is wrong.","title":"Number of vowels from string array","body":"<p>The way I find the number of vowels is wrong, but I don't know how to fix it can you help me?\nthis is my program:</p>\n<pre><code>import java.util.Scanner;\n</code></pre>\n<p>public class Array2 {</p>\n<p>public static void main(String[] args)\n{</p>\n<pre><code>  Scanner keyboard=new Scanner(System.in);   \n  int vowels = 0, length = 0;\n  \n  String[] values = new String[5]; \n  \n  for (int i = 0; i&lt;values.length; i++)\n  {\n     System.out.print(&quot;Enter the string:&quot;);\n     values[i] = keyboard.nextLine();\n     \n        if(values[i].charAt(i) == 'a' ||values[i].charAt(i) == 'e' || values[i].charAt(i) == 'i' || values[i].charAt(i) == 'o' || values[i].charAt(i) == 'u')\n     {\n        vowels++;\n     }\n     \n  }\n\n\n  System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;); \n  int[] number = new int[5]; \n  for(int n=0; n&lt;number.length;n++)\n  {  \n  \n\n     System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels ); \n     System.out.println();  \n  }  \n</code></pre>\n<p>}\n}</p>\n<p>output:</p>\n<pre><code>      Number         Value            Length         Number of Vowels\n          1      wonderland              10               1\n\n          2         program               7               1\n\n          3          school               6               1\n\n          4           hello               5               1\n\n          5           mouse               5               1\n</code></pre>\n<p>I don't know why my number of vowels is wrong.</p>\n"},{"tags":["java","android","facebook"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648550841,"post_id":71647683,"comment_id":126647370,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":24718465,"reputation":21,"user_id":18607870,"display_name":"Burak G&#246;kalp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666030827,"creation_date":1648471509,"question_id":71647683,"body_markdown":"I have recently launched an app that has anonymous and google login enabled on firebase(atm google sign in is not activated in the app).\r\n\r\nFirebase Crashlytics has some crash reports with &quot;Didn&#39;t find class &quot;com.facebook.CustomTabActivity&quot;&quot; on some devices but my app has nothing to with facebook or facebook login. I checked AndroidManifest or buildgraddle files and there is absolutely nothing regarding facebook login.\r\n\r\nWhen I used Search Everywhere function in Android Studio with &quot;facebook&quot;, it brings implementation &#39;com.google.firebase:firebase-auth-ktx:21.0.1&#39; since it includes methods regarding all login types available on Firebase.\r\n\r\nCrash occured on devices GCE x86 phone (Android 9), Pixel 6 (Android 12) and Pixel 5 (Android 11)\r\n\r\nApp doesn&#39;t crash on my and my families phones Galaxy A7, A31, A71 (Android 7, 11, 11 respectively)\r\n\r\nAll crash reports look pretty much below:\r\n\r\n```\r\nCaused by java.lang.ClassNotFoundException\r\nDidn&#39;t find class &quot;com.facebook.CustomTabActivity&quot; on path: DexPathList[[zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/base.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.en.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/lib/arm64, /system/lib64, /system_ext/lib64]]\r\ndalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\r\njava.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\njava.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\nandroid.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\r\nandroidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\r\nandroid.app.Instrumentation.newActivity (Instrumentation.java:1253)\r\nandroid.app.ActivityThread.performLaunchActivity (ActivityThread.java:3335)\r\nandroid.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3595)\r\nandroid.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\r\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\nandroid.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2066)\r\nandroid.os.Handler.dispatchMessage (Handler.java:106)\r\nandroid.os.Looper.loop (Looper.java:223)\r\nandroid.app.ActivityThread.main (ActivityThread.java:7664)\r\njava.lang.reflect.Method.invoke (Method.java)\r\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\r\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:947)\r\n```\r\n\r\nI could not find any solution on internet, worst part is I can&#39;t reproduce the crash on my phone\r\n\r\nCan anyone help?","title":"Didn&#39;t find class &quot;com.facebook.CustomTabActivity&quot;","body":"<p>I have recently launched an app that has anonymous and google login enabled on firebase(atm google sign in is not activated in the app).</p>\n<p>Firebase Crashlytics has some crash reports with &quot;Didn't find class &quot;com.facebook.CustomTabActivity&quot;&quot; on some devices but my app has nothing to with facebook or facebook login. I checked AndroidManifest or buildgraddle files and there is absolutely nothing regarding facebook login.</p>\n<p>When I used Search Everywhere function in Android Studio with &quot;facebook&quot;, it brings implementation 'com.google.firebase:firebase-auth-ktx:21.0.1' since it includes methods regarding all login types available on Firebase.</p>\n<p>Crash occured on devices GCE x86 phone (Android 9), Pixel 6 (Android 12) and Pixel 5 (Android 11)</p>\n<p>App doesn't crash on my and my families phones Galaxy A7, A31, A71 (Android 7, 11, 11 respectively)</p>\n<p>All crash reports look pretty much below:</p>\n<pre><code>Caused by java.lang.ClassNotFoundException\nDidn't find class &quot;com.facebook.CustomTabActivity&quot; on path: DexPathList[[zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/base.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.en.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/lib/arm64, /system/lib64, /system_ext/lib64]]\ndalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\njava.lang.ClassLoader.loadClass (ClassLoader.java:379)\njava.lang.ClassLoader.loadClass (ClassLoader.java:312)\nandroid.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\nandroidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\nandroid.app.Instrumentation.newActivity (Instrumentation.java:1253)\nandroid.app.ActivityThread.performLaunchActivity (ActivityThread.java:3335)\nandroid.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3595)\nandroid.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\nandroid.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2066)\nandroid.os.Handler.dispatchMessage (Handler.java:106)\nandroid.os.Looper.loop (Looper.java:223)\nandroid.app.ActivityThread.main (ActivityThread.java:7664)\njava.lang.reflect.Method.invoke (Method.java)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:947)\n</code></pre>\n<p>I could not find any solution on internet, worst part is I can't reproduce the crash on my phone</p>\n<p>Can anyone help?</p>\n"},{"tags":["java","jms","message-queue","spring-jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657387304,"post_id":72921850,"comment_id":128800445,"body_markdown":"How do you know the consumer is stopping? Have you taken any thread dumps from the consumer application? If so, can you paste one into the question?","body":"How do you know the consumer is stopping? Have you taken any thread dumps from the consumer application? If so, can you paste one into the question?"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1657468997,"post_id":72921850,"comment_id":128812237,"body_markdown":"Thanks for the response. I have not taken thread dump. I&#39;m consuming from the queue and if the consumer is stopped the lag in queue get increased. It gets normal once I restart the pod","body":"Thanks for the response. I have not taken thread dump. I&#39;m consuming from the queue and if the consumer is stopped the lag in queue get increased. It gets normal once I restart the pod"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657481303,"post_id":72921850,"comment_id":128814692,"body_markdown":"You need to get some thread dumps to see what the consuming application is actually doing when it stalls. It may be hung in another call (e.g. sending the message to Kafka).","body":"You need to get some thread dumps to see what the consuming application is actually doing when it stalls. It may be hung in another call (e.g. sending the message to Kafka)."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657649487,"post_id":72921850,"comment_id":128859386,"body_markdown":"Any feedback here?","body":"Any feedback here?"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1657944827,"post_id":72921850,"comment_id":128935618,"body_markdown":"waiting for @JmsListener stop consuming messages so that I can take thread dump","body":"waiting for @JmsListener stop consuming messages so that I can take thread dump"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658321219,"post_id":72921850,"comment_id":129022112,"body_markdown":"org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@b14cd7f:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])\n\ngetting this log","body":"org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocke&zwnj;&#8203;t([org.apache.tomcat&zwnj;&#8203;.util.net.NioEndpoin&zwnj;&#8203;t$NioSocketWrapper@b&zwnj;&#8203;14cd7f:org.apache.to&zwnj;&#8203;mcat.util.net.NioCha&zwnj;&#8203;nnel@686840e4:java.n&zwnj;&#8203;io.channels.SocketCh&zwnj;&#8203;annel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])  getting this log"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658324127,"post_id":72921850,"comment_id":129023502,"body_markdown":"That appears unrelated to the consumer issue at this point.","body":"That appears unrelated to the consumer issue at this point."},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658338304,"post_id":72921850,"comment_id":129029380,"body_markdown":"One more observation, I have 2 pods and they both stopped with the interval of 2 sec and same logs","body":"One more observation, I have 2 pods and they both stopped with the interval of 2 sec and same logs"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658340484,"post_id":72921850,"comment_id":129030104,"body_markdown":"If they&#39;re both using the same shared resource (e.g. Kafka instance) that would make sense. Did you ever get those thread dumps? If so, please add them to the question.","body":"If they&#39;re both using the same shared resource (e.g. Kafka instance) that would make sense. Did you ever get those thread dumps? If so, please add them to the question."},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658411030,"post_id":72921850,"comment_id":129048979,"body_markdown":"is there any alternatige for @JmsListener for consuming records?\nyes I&#39;m using shared resource. Now I dont have thread dump will get it next time when listener stops","body":"is there any alternatige for @JmsListener for consuming records? yes I&#39;m using shared resource. Now I dont have thread dump will get it next time when listener stops"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658413040,"post_id":72921850,"comment_id":129049853,"body_markdown":"Yes, there are alternatives to Spring&#39;s JmsListener. The simplest is just using the JMS API directly. However, changing your application at this point would be premature since you don&#39;t have a clear understanding of root cause of the problem.","body":"Yes, there are alternatives to Spring&#39;s JmsListener. The simplest is just using the JMS API directly. However, changing your application at this point would be premature since you don&#39;t have a clear understanding of root cause of the problem."},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658469969,"post_id":72921850,"comment_id":129063335,"body_markdown":"@JustinBertram added thread dump\nhttps://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit","body":"@JustinBertram added thread dump <a href=\"https://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658820631,"post_id":72921850,"comment_id":129139800,"body_markdown":"@JustinBertram did you find something?","body":"@JustinBertram did you find something?"}],"answers":[{"tags":[],"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666030815,"creation_date":1666030815,"answer_id":74101527,"question_id":72921850,"body_markdown":"Well, after discussing with network and devops team and checking the logs from server side we found out that this was caused by firewall due to which network was getting dropped","title":"Why @JMSListener stops listening events without any error or exception in Spring Boot application","body":"<p>Well, after discussing with network and devops team and checking the logs from server side we found out that this was caused by firewall due to which network was getting dropped</p>\n"}],"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666030815,"creation_date":1657374166,"question_id":72921850,"body_markdown":"I&#39;m consuming events from Tibco EMS using `@JMSListener(destination = &quot;myDestination&quot;, concurrency = &quot;1-2&quot;)` and pushing them to Kafka.\r\n\r\nHere&#39;s my `ConfigClass`:\r\n```java\r\n@Configuration\r\n@EnableJms\r\npublic class ConfigClass {\r\n     @Bean(name = &quot;emsConFactory&quot;)\r\n     public ConnectionFactory connectionFactory() throws JMSException {\r\n          final TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\r\n    \r\n          factory.setServerUrl(url);\r\n          factory.setUserName(userName);\r\n          factory.setUserPassword(password);\r\n    \r\n          return factory;\r\n     }\r\n    \r\n     @Bean\r\n     public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() throws JMSException {\r\n          DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n          factory.setConnectionFactory(connectionFactory());\r\n          return factory;\r\n     }\r\n}\r\n```\r\nBut the consumer is stopping without any exception or error.\r\n\r\nLogs after consuming last msg:\r\n```\r\n2022-07-20 17:24:42.215 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507) and timeout 30000 to node 2: {acks=-1,timeout=30000,partitionSizes=[jms-json-horeca-ims-feed-1=419]}\r\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Received PRODUCE response from node 2 for request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507): ProduceResponseData(responses=[TopicProduceResponse(name=&#39;jms-json-horeca-ims-feed&#39;, partitionResponses=[PartitionProduceResponse(index=1, errorCode=0, baseOffset=3236704, logAppendTimeMs=-1, logStartOffset=2214655, recordErrors=[], errorMessage=null)])], throttleTimeMs=0)\r\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId: 8365; Set last ack&#39;d sequence number for topic-partition jms-json-horeca-ims-feed-1 to 248953\r\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-80-exec-3] latch=2\r\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@b14cd7f:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])\r\n2022-07-20 17:24:48.538 DEBUG 1 --- [nio-80-Acceptor] o.apache.tomcat.util.threads.LimitLatch  : Counting up[http-nio-80-Acceptor] latch=2\r\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [113]\r\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@43d1784a:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/10.0.79.46:39190]], Read from buffer: [0]\r\n```\r\n\r\nThread dump:\r\n\r\nhttps://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit?usp=sharing","title":"Why @JMSListener stops listening events without any error or exception in Spring Boot application","body":"<p>I'm consuming events from Tibco EMS using <code>@JMSListener(destination = &quot;myDestination&quot;, concurrency = &quot;1-2&quot;)</code> and pushing them to Kafka.</p>\n<p>Here's my <code>ConfigClass</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\npublic class ConfigClass {\n     @Bean(name = &quot;emsConFactory&quot;)\n     public ConnectionFactory connectionFactory() throws JMSException {\n          final TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\n    \n          factory.setServerUrl(url);\n          factory.setUserName(userName);\n          factory.setUserPassword(password);\n    \n          return factory;\n     }\n    \n     @Bean\n     public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() throws JMSException {\n          DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n          factory.setConnectionFactory(connectionFactory());\n          return factory;\n     }\n}\n</code></pre>\n<p>But the consumer is stopping without any exception or error.</p>\n<p>Logs after consuming last msg:</p>\n<pre><code>2022-07-20 17:24:42.215 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507) and timeout 30000 to node 2: {acks=-1,timeout=30000,partitionSizes=[jms-json-horeca-ims-feed-1=419]}\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Received PRODUCE response from node 2 for request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507): ProduceResponseData(responses=[TopicProduceResponse(name='jms-json-horeca-ims-feed', partitionResponses=[PartitionProduceResponse(index=1, errorCode=0, baseOffset=3236704, logAppendTimeMs=-1, logStartOffset=2214655, recordErrors=[], errorMessage=null)])], throttleTimeMs=0)\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId: 8365; Set last ack'd sequence number for topic-partition jms-json-horeca-ims-feed-1 to 248953\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-80-exec-3] latch=2\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@b14cd7f:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])\n2022-07-20 17:24:48.538 DEBUG 1 --- [nio-80-Acceptor] o.apache.tomcat.util.threads.LimitLatch  : Counting up[http-nio-80-Acceptor] latch=2\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [113]\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@43d1784a:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/10.0.79.46:39190]], Read from buffer: [0]\n</code></pre>\n<p>Thread dump:</p>\n<p><a href=\"https://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit?usp=sharing\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit?usp=sharing</a></p>\n"},{"tags":["java"],"owner":{"account_id":3465916,"reputation":884,"user_id":2901466,"accept_rate":69,"display_name":"cluemein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1406218805,"answer_count":0,"score":-1,"last_activity_date":1666030772,"creation_date":1403190192,"question_id":24309861,"body_markdown":"I am trying to use the local version of css-validator, but can&#39;t seem to get it to work.  I think everything is set up correctly, but whenever I run it with the command given as an example by w3c, it gives errors.  Some people say I am missing something in my path or something like that, but I am not sure which path they are talking about (build path or environmental variables), and I don&#39;t know what exactly needs to be put into this path either.  \r\n\r\nI have looked for detailed instructions, but the most detailed instruction I found was that it needed to be in lib (which lib, I see hundreds of them).  For reference, here is the documentation of css-validator.jar that I have found so far (which is not much, consisting of nothing but a command to run in cmd prompt):\r\nhttp://jigsaw.w3.org/css-validator/DOWNLOAD.html\r\n\r\nThis is the part most relevant from there:\r\nNote : the css-validator.jar file must be located at the exact same level as the lib/ folder to work properly.\r\n\r\n\r\nAlso, I tried using the jcabi.w3c wrapper(which I thought it said it only needed one dependency, but another website said it needed more, including glassfish jersey-core), but it talks about all these dependencies that I don&#39;t know where to put them (its xml, but it doesn&#39;t seem to match an Ivy document) and many I don&#39;t even have or know how to set up. \r\n\r\n The w3c wrapper simply says &quot;No main in selection&quot; when I try to run it (which is a message I have never even seen before in cmd).  So how do I get this thing working?  Where is the documentation (more than 3 lines that W3C provides please,)?  \r\n\r\n\r\nAlso, the error I am getting when trying to use css-validator.jar:\r\n\r\n    C:\\Users\\burnjc\\Downloads&gt;java -jar css-validator.jar http://www.w3.org/\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/w3c/tools/resourc\r\n    es/ProtocolException\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2531)\r\n        at java.lang.Class.getMethod0(Class.java:2774)\r\n        at java.lang.Class.getMethod(Class.java:1663)\r\n        at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:494)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:486)\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.tools.resources.ProtocolExc\r\n    eption\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        ... 6 more\r\n\r\n","title":"Are there any detailed instructions for how to use css-validator.jar?","body":"<p>I am trying to use the local version of css-validator, but can't seem to get it to work.  I think everything is set up correctly, but whenever I run it with the command given as an example by w3c, it gives errors.  Some people say I am missing something in my path or something like that, but I am not sure which path they are talking about (build path or environmental variables), and I don't know what exactly needs to be put into this path either.  </p>\n\n<p>I have looked for detailed instructions, but the most detailed instruction I found was that it needed to be in lib (which lib, I see hundreds of them).  For reference, here is the documentation of css-validator.jar that I have found so far (which is not much, consisting of nothing but a command to run in cmd prompt):\n<a href=\"http://jigsaw.w3.org/css-validator/DOWNLOAD.html\" rel=\"nofollow\">http://jigsaw.w3.org/css-validator/DOWNLOAD.html</a></p>\n\n<p>This is the part most relevant from there:\nNote : the css-validator.jar file must be located at the exact same level as the lib/ folder to work properly.</p>\n\n<p>Also, I tried using the jcabi.w3c wrapper(which I thought it said it only needed one dependency, but another website said it needed more, including glassfish jersey-core), but it talks about all these dependencies that I don't know where to put them (its xml, but it doesn't seem to match an Ivy document) and many I don't even have or know how to set up. </p>\n\n<p>The w3c wrapper simply says \"No main in selection\" when I try to run it (which is a message I have never even seen before in cmd).  So how do I get this thing working?  Where is the documentation (more than 3 lines that W3C provides please,)?  </p>\n\n<p>Also, the error I am getting when trying to use css-validator.jar:</p>\n\n<pre><code>C:\\Users\\burnjc\\Downloads&gt;java -jar css-validator.jar http://www.w3.org/\nException in thread \"main\" java.lang.NoClassDefFoundError: org/w3c/tools/resourc\nes/ProtocolException\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2531)\n    at java.lang.Class.getMethod0(Class.java:2774)\n    at java.lang.Class.getMethod(Class.java:1663)\n    at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:494)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:486)\n\nCaused by: java.lang.ClassNotFoundException: org.w3c.tools.resources.ProtocolExc\neption\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot","maven","esapi"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653466558,"post_id":72374032,"comment_id":127856699,"body_markdown":"Welcome to stackoverflow. It cannot find a properties file in the location it is expecting it, this has nothing to do with conflicting dependencies. Please add the **full stacktrace** instead of a snippet.","body":"Welcome to stackoverflow. It cannot find a properties file in the location it is expecting it, this has nothing to do with conflicting dependencies. Please add the <b>full stacktrace</b> instead of a snippet."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653467463,"post_id":72374032,"comment_id":127857038,"body_markdown":"@M.Deinum When we see this error generally we think for that but in my case we are not   providing / using the file anywhere in the code then how come it is working for some other project and same dependancies?","body":"@M.Deinum When we see this error generally we think for that but in my case we are not   providing / using the file anywhere in the code then how come it is working for some other project and same dependancies?"},{"owner":{"account_id":9603898,"reputation":396,"user_id":7130482,"display_name":"Einstein_AB"},"score":0,"creation_date":1653472039,"post_id":72374032,"comment_id":127858755,"body_markdown":"@NamanSharma I am currently struggling to integrate ESAPI with my springboot project. \nI have tried the documentation guide as well. Can you help me with a minimal example of steps that would be needed for the setup. I would really appreciate the help","body":"@NamanSharma I am currently struggling to integrate ESAPI with my springboot project.  I have tried the documentation guide as well. Can you help me with a minimal example of steps that would be needed for the setup. I would really appreciate the help"},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653472875,"post_id":72374032,"comment_id":127859096,"body_markdown":"@Einstein_AB I found this link usefull : [link](https://blog.katastros.com/a?ID=00750-6b758253-3217-4515-a80d-fa6952730423)","body":"@Einstein_AB I found this link usefull : <a href=\"https://blog.katastros.com/a?ID=00750-6b758253-3217-4515-a80d-fa6952730423\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653473625,"post_id":72374032,"comment_id":127859338,"body_markdown":"It requires a properties file to be configured, without that file it won&#39;t work. So provide the said file. Judging from this it eventually finds something and you are just triggered by the warnings...","body":"It requires a properties file to be configured, without that file it won&#39;t work. So provide the said file. Judging from this it eventually finds something and you are just triggered by the warnings..."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653475413,"post_id":72374032,"comment_id":127859906,"body_markdown":"@M.Deinum Check the updated description that&#39;s what the actual exception is that is comming from service also note this exception i am getting in my local only when the same service is deployed on server where it has only those dependancy which are required by the service it works as expected but in local as i have some other projects which use other version of this dependancy it is causing the above issue.","body":"@M.Deinum Check the updated description that&#39;s what the actual exception is that is comming from service also note this exception i am getting in my local only when the same service is deployed on server where it has only those dependancy which are required by the service it works as expected but in local as i have some other projects which use other version of this dependancy it is causing the above issue."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653477416,"post_id":72374032,"comment_id":127860607,"body_markdown":"That error is about creating an instance **not** the loading of a properties file. As stated you are mixing things and get triggered by the warnings. If you want to add something add the **full stacktrace** as that will contain a cause (probably some mixing of versions, incompatible other things).","body":"That error is about creating an instance <b>not</b> the loading of a properties file. As stated you are mixing things and get triggered by the warnings. If you want to add something add the <b>full stacktrace</b> as that will contain a cause (probably some mixing of versions, incompatible other things)."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653483091,"post_id":72374032,"comment_id":127862858,"body_markdown":"@M.Deinum I have added the complete stacktrace.","body":"@M.Deinum I have added the complete stacktrace."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653483332,"post_id":72374032,"comment_id":127862978,"body_markdown":"Well if you read the stacktrace it is pretty clear `java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory`... Apparenty you are either missing some (additional?) dependency or you are mixing different versions of that dependency. Or that class is loaded dynamically based on a property in your properties file and that name/location of the class has changed.","body":"Well if you read the stacktrace it is pretty clear <code>java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory</code>... Apparenty you are either missing some (additional?) dependency or you are mixing different versions of that dependency. Or that class is loaded dynamically based on a property in your properties file and that name/location of the class has changed."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653484612,"post_id":72374032,"comment_id":127863548,"body_markdown":"@M.Deinum yeah that is what i am trying to say when the service is deployed on the server it picks the correct version as there are no other dependancies present apart from the one&#39;s that are declared in service, but since my local has the previous version of this dependancy it is conflicting in my local when i try to remove the depedency manually and update the project the depedency folder is created again, as i mentioned earlier that i was able to resolve this for other project by deleting the dependency manually but for some reason not working for this project.","body":"@M.Deinum yeah that is what i am trying to say when the service is deployed on the server it picks the correct version as there are no other dependancies present apart from the one&#39;s that are declared in service, but since my local has the previous version of this dependancy it is conflicting in my local when i try to remove the depedency manually and update the project the depedency folder is created again, as i mentioned earlier that i was able to resolve this for other project by deleting the dependency manually but for some reason not working for this project."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653484757,"post_id":72374032,"comment_id":127863617,"body_markdown":"There is no conflicting dependency... There is only one, unless you included both.","body":"There is no conflicting dependency... There is only one, unless you included both."}],"answers":[{"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653520255,"creation_date":1653520255,"answer_id":72385034,"question_id":72374032,"body_markdown":"Based on your actual exception stack trace that you present, I think this line points to the problem:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\r\n\r\n(About 10 lines or so from the bottom.)\r\n\r\nYou mentioned that you had went from ESAPI 2.1.0.1 to 2.4.0.0. Back during ESAPI 2.2.1.0 (which you skipped over), we refactored the Logger class names to add support for SLF4J. So, I&#39;m guessing that you didn&#39;t read those release notes, which is understandable. However, as a result of the refactoring, there were some required changes that needed to be made in your **ESAPI.properties** file and it looks as though you didn&#39;t make those.  Specifically, you need to  to update your `ESAPI.Logger` property with one of the new class names in your and possibly make some other related changes as discussed in https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.2.1.0-release-notes.txt#L128-L155 and several successive release notes. (I left that paragraph in the release notes for several releases over a couple of years, but I finally pulled it out of 2.3.0.0 because we had so much other important stuff in there that we didn&#39;t want people to skim over.)ESAPI.Logger\r\n\r\nAnyhow, had you just used the stock configuration files from the esapi.2.4.0.0-configuration.jar, it likely would have worked, but like most people migrating, they don&#39;t think they need to update the **ESAPI.properties** file. And since the stack trace is so long, you almost have to know what you&#39;re looking for to find the root cause. But I think that should fix your problem. It if doesn&#39;t, let me know as there could always be other things wrong as well.\r\n\r\nHope that helps.","title":"Failed To Load ESAPI.properties Error In Java Spring Boot 2.6.7 After Updating The ESAPI Dependancy","body":"<p>Based on your actual exception stack trace that you present, I think this line points to the problem:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\n</code></pre>\n<p>(About 10 lines or so from the bottom.)</p>\n<p>You mentioned that you had went from ESAPI 2.1.0.1 to 2.4.0.0. Back during ESAPI 2.2.1.0 (which you skipped over), we refactored the Logger class names to add support for SLF4J. So, I'm guessing that you didn't read those release notes, which is understandable. However, as a result of the refactoring, there were some required changes that needed to be made in your <strong>ESAPI.properties</strong> file and it looks as though you didn't make those.  Specifically, you need to  to update your <code>ESAPI.Logger</code> property with one of the new class names in your and possibly make some other related changes as discussed in <a href=\"https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.2.1.0-release-notes.txt#L128-L155\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.2.1.0-release-notes.txt#L128-L155</a> and several successive release notes. (I left that paragraph in the release notes for several releases over a couple of years, but I finally pulled it out of 2.3.0.0 because we had so much other important stuff in there that we didn't want people to skim over.)ESAPI.Logger</p>\n<p>Anyhow, had you just used the stock configuration files from the esapi.2.4.0.0-configuration.jar, it likely would have worked, but like most people migrating, they don't think they need to update the <strong>ESAPI.properties</strong> file. And since the stack trace is so long, you almost have to know what you're looking for to find the root cause. But I think that should fix your problem. It if doesn't, let me know as there could always be other things wrong as well.</p>\n<p>Hope that helps.</p>\n"}],"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666030461,"creation_date":1653466032,"question_id":72374032,"body_markdown":"Getting \r\n```\r\njava.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\r\n```\r\nAfter updating the ESAPI dependency from 2.1.0.1 to 2.4.0.0 in one of my projects. Although i was able to remove this error in another project by removing the previous version of the dependancy when i am trying the similar approach in another project it is still giving the error. Tried maven clean install , maven update &amp; eclipse:eclipse as well no help from these. is there any way i can find what the actual cause of this is as the current solution that i have is to clean the .m2 folder redownload the dependancy again but that is very lengthy process. Also i am not sure why the old one is conflicting with the new one when i try maven dependancy i am only seeing the newer version in the output. Although i am not using the library in this project it is coming as part of dependancy we have.\r\n\r\n\r\nThe StackTrace\r\n\r\n    ESAPI: WARNING: System property [org.owasp.esapi.opsteam] is not set\r\n    ESAPI: WARNING: System property [org.owasp.esapi.devteam] is not set\r\n    ESAPI: Attempting to load ESAPI.properties via file I/O.\r\n    ESAPI: Attempting to load ESAPI.properties as resource file via file I/O.\r\n    ESAPI: Not found in &#39;org.owasp.esapi.resources&#39; directory or file not readable: C:\\git\\xyzproject\\ESAPI.properties\r\n    ESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\ESAPI.properties\r\n    ESAPI: Not found in &#39;user.home&#39; (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\ESAPI.properties\r\n    ESAPI: Loading ESAPI.properties via file I/O failed. Exception was: java.io.FileNotFoundException\r\n    ESAPI: Attempting to load ESAPI.properties via the classpath.\r\n    ESAPI: SUCCESSFULLY LOADED ESAPI.properties via the CLASSPATH from &#39;/ (root)&#39; using current thread context class loader!\r\n    ESAPI: SecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\r\n    ESAPI: SecurityConfiguration for Validator.ConfigurationFile not found in ESAPI.properties. Using default: validation.properties\r\n    ESAPI: Attempting to load validation.properties via file I/O.\r\n    ESAPI: Attempting to load validation.properties as resource file via file I/O.\r\n    ESAPI: Not found in &#39;org.owasp.esapi.resources&#39; directory or file not readable: C:\\git\\xyzproject\\validation.properties\r\n    ESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\validation.properties\r\n    ESAPI: Not found in &#39;user.home&#39; (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\validation.properties\r\n    ESAPI: Loading validation.properties via file I/O failed.\r\n    ESAPI: Attempting to load validation.properties via the classpath.\r\n    ESAPI: validation.properties could not be loaded by any means. fail.. Caught java.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\r\n    ESAPI: SecurityConfiguration for ESAPI.printProperties not found in ESAPI.properties. Using default: false\r\n    ESAPI: SecurityConfiguration for Encryptor.CipherTransformation not found in ESAPI.properties. Using default: AES/CBC/PKCS5Padding\r\n    ESAPI: SecurityConfiguration for ESAPI.Encoder not found in ESAPI.properties. Using default: org.owasp.esapi.reference.DefaultEncoder\r\n    ESAPI: SecurityConfiguration for ESAPI.Logger not found in ESAPI.properties. Using default: org.owasp.esapi.logging.java.JavaLogFactory\r\n\r\n\r\n\r\n\r\nThe actual Exception that is thrown\r\n\r\n\r\n    org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n\r\n\r\n\r\nComplete StackTrace\r\n\r\n    java.util.concurrent.ExecutionException: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1907)\r\n    at com.xyz.handleAffiliationRelationAggregationRequest(GetAffiliationJSONEndpoint.java:85)\r\n    at com.xyz$$FastClassBySpringCGLIB$$5366cde1.invoke(&lt;generated&gt;)\r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)\r\n    at com.xyz.common.metrics.MetricAdvice.calculateMethodMetric(MetricAdvice.java:64)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:497)\r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    at com.xyz$$EnhancerBySpringCGLIB$$5920ce53.handleAffiliationRelationAggregationRequest(&lt;generated&gt;)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:497)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    at com.xyz.common.web.RequestFilter.doFilterInternal(RequestFilter.java:77)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\r\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\r\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1423)\r\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n    at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\r\n    at org.owasp.esapi.ESAPI.encoder(ESAPI.java:101)\r\n    at com.xyz.logging.util.JavaLogger.espiEncodeString(JavaLogger.java:278)\r\n    at com.xyz.logging.util.JavaLogger.debug(JavaLogger.java:38)\r\n    at com.xyz.tag.util.Logger.debug(Logger.java:55)\r\n    at com.xyz.tag.exception.ApplicationException.&lt;init&gt;(ApplicationException.java:57)\r\n    at com.xyz.tag.exception.ExceptionFactory.createException(ExceptionFactory.java:126)\r\n    at com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:61)\r\n    at com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:30)\r\n    at com.xyz.aggregation.exception.ExceptionUtilService.createSPSException(ExceptionUtilService.java:39)\r\n    at com.xyz.aggregation.GetAffiliationAggregationHelper.getAggregatedAffiliationRelations(GetAffiliationAggregationHelper.java:90)\r\n    at com.xyz.aggregation.GetAffiliationAggregationHelper$$FastClassBySpringCGLIB$$8448cc4c.invoke(&lt;generated&gt;)\r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor$$Lambda$1512/375283757.call(Unknown Source)\r\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:278)\r\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport$$Lambda$1513/259319007.get(Unknown Source)\r\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1582)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            ... 1 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:497)\r\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\r\n            ... 23 more\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\r\n    at java.lang.Class.forName0(Native Method)\r\n    at java.lang.Class.forName(Class.java:264)\r\n    at org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\r\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\r\n    at org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\r\n    at org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\r\n    at org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:83)\r\n    at org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:67)\r\n            ... 28 more","title":"Failed To Load ESAPI.properties Error In Java Spring Boot 2.6.7 After Updating The ESAPI Dependancy","body":"<p>Getting</p>\n<pre><code>java.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\n</code></pre>\n<p>After updating the ESAPI dependency from 2.1.0.1 to 2.4.0.0 in one of my projects. Although i was able to remove this error in another project by removing the previous version of the dependancy when i am trying the similar approach in another project it is still giving the error. Tried maven clean install , maven update &amp; eclipse:eclipse as well no help from these. is there any way i can find what the actual cause of this is as the current solution that i have is to clean the .m2 folder redownload the dependancy again but that is very lengthy process. Also i am not sure why the old one is conflicting with the new one when i try maven dependancy i am only seeing the newer version in the output. Although i am not using the library in this project it is coming as part of dependancy we have.</p>\n<p>The StackTrace</p>\n<pre><code>ESAPI: WARNING: System property [org.owasp.esapi.opsteam] is not set\nESAPI: WARNING: System property [org.owasp.esapi.devteam] is not set\nESAPI: Attempting to load ESAPI.properties via file I/O.\nESAPI: Attempting to load ESAPI.properties as resource file via file I/O.\nESAPI: Not found in 'org.owasp.esapi.resources' directory or file not readable: C:\\git\\xyzproject\\ESAPI.properties\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\ESAPI.properties\nESAPI: Not found in 'user.home' (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\ESAPI.properties\nESAPI: Loading ESAPI.properties via file I/O failed. Exception was: java.io.FileNotFoundException\nESAPI: Attempting to load ESAPI.properties via the classpath.\nESAPI: SUCCESSFULLY LOADED ESAPI.properties via the CLASSPATH from '/ (root)' using current thread context class loader!\nESAPI: SecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\nESAPI: SecurityConfiguration for Validator.ConfigurationFile not found in ESAPI.properties. Using default: validation.properties\nESAPI: Attempting to load validation.properties via file I/O.\nESAPI: Attempting to load validation.properties as resource file via file I/O.\nESAPI: Not found in 'org.owasp.esapi.resources' directory or file not readable: C:\\git\\xyzproject\\validation.properties\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\validation.properties\nESAPI: Not found in 'user.home' (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\validation.properties\nESAPI: Loading validation.properties via file I/O failed.\nESAPI: Attempting to load validation.properties via the classpath.\nESAPI: validation.properties could not be loaded by any means. fail.. Caught java.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\nESAPI: SecurityConfiguration for ESAPI.printProperties not found in ESAPI.properties. Using default: false\nESAPI: SecurityConfiguration for Encryptor.CipherTransformation not found in ESAPI.properties. Using default: AES/CBC/PKCS5Padding\nESAPI: SecurityConfiguration for ESAPI.Encoder not found in ESAPI.properties. Using default: org.owasp.esapi.reference.DefaultEncoder\nESAPI: SecurityConfiguration for ESAPI.Logger not found in ESAPI.properties. Using default: org.owasp.esapi.logging.java.JavaLogFactory\n</code></pre>\n<p>The actual Exception that is thrown</p>\n<pre><code>org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\n</code></pre>\n<p>Complete StackTrace</p>\n<pre><code>java.util.concurrent.ExecutionException: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\nat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\nat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1907)\nat com.xyz.handleAffiliationRelationAggregationRequest(GetAffiliationJSONEndpoint.java:85)\nat com.xyz$$FastClassBySpringCGLIB$$5366cde1.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)\nat com.xyz.common.metrics.MetricAdvice.calculateMethodMetric(MetricAdvice.java:64)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\nat com.xyz$$EnhancerBySpringCGLIB$$5920ce53.handleAffiliationRelationAggregationRequest(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\nat com.xyz.common.web.RequestFilter.doFilterInternal(RequestFilter.java:77)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\nat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\nat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1423)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\nat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\nat org.owasp.esapi.ESAPI.encoder(ESAPI.java:101)\nat com.xyz.logging.util.JavaLogger.espiEncodeString(JavaLogger.java:278)\nat com.xyz.logging.util.JavaLogger.debug(JavaLogger.java:38)\nat com.xyz.tag.util.Logger.debug(Logger.java:55)\nat com.xyz.tag.exception.ApplicationException.&lt;init&gt;(ApplicationException.java:57)\nat com.xyz.tag.exception.ExceptionFactory.createException(ExceptionFactory.java:126)\nat com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:61)\nat com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:30)\nat com.xyz.aggregation.exception.ExceptionUtilService.createSPSException(ExceptionUtilService.java:39)\nat com.xyz.aggregation.GetAffiliationAggregationHelper.getAggregatedAffiliationRelations(GetAffiliationAggregationHelper.java:90)\nat com.xyz.aggregation.GetAffiliationAggregationHelper$$FastClassBySpringCGLIB$$8448cc4c.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\nat org.springframework.aop.interceptor.AsyncExecutionInterceptor$$Lambda$1512/375283757.call(Unknown Source)\nat org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:278)\nat org.springframework.aop.interceptor.AsyncExecutionAspectSupport$$Lambda$1513/259319007.get(Unknown Source)\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1582)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        ... 1 more\nCaused by: java.lang.reflect.InvocationTargetException\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\n        ... 23 more\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:264)\nat org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\nat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\nat org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\nat org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\nat org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:83)\nat org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:67)\n        ... 28 more\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666030460,"creation_date":1666030460,"answer_id":74101466,"question_id":74100466,"body_markdown":"Try using `and` method which accepts a custom expression instead of `andExpression`\r\n```\r\n     Aggregation.newAggregation(\r\n        Aggregation.project(&quot;productType&quot;, &quot;created&quot;)\r\n            .and(DateOperators.zonedDateOf(&quot;created&quot;, Timezone.valueOf(&quot;Europe/Zurich&quot;)).toString(&quot;%Y.%m.%d&quot;))\r\n    );\r\n```","title":"Using MongoDB dateToString with timezone in project aggregation from spring boot","body":"<p>Try using <code>and</code> method which accepts a custom expression instead of <code>andExpression</code></p>\n<pre><code>     Aggregation.newAggregation(\n        Aggregation.project(&quot;productType&quot;, &quot;created&quot;)\n            .and(DateOperators.zonedDateOf(&quot;created&quot;, Timezone.valueOf(&quot;Europe/Zurich&quot;)).toString(&quot;%Y.%m.%d&quot;))\n    );\n</code></pre>\n"}],"owner":{"account_id":1427796,"reputation":93,"user_id":1350889,"display_name":"user1350889"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666030460,"creation_date":1666024688,"question_id":74100466,"body_markdown":"I want to created following MongoDB aggregation pipeline from Java Spring Boot\r\n```\r\n  &quot;pipeline&quot;: [\r\n    {\r\n      &quot;$project&quot;: {\r\n        productType: 1,\r\n        created: 1,\r\n        date: {\r\n          $dateToString: {\r\n            timezone: &quot;Europe/Zurich&quot;,\r\n            format: &quot;%Y.%m.%d&quot;,\r\n            date: &quot;$created&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ]\r\n```\r\n\r\nThis code is working and creates the pipeline - unfortunately without the timezone part:\r\n```\r\n  Aggregation agg = newAggregation(\r\n          project(&quot;productType&quot;, &quot;created&quot;)\r\n                  .andExpression(&quot;created&quot;).dateAsFormattedString(&quot;%Y.%m.%d&quot;).as(&quot;date&quot;)\r\n  );\r\n```\r\n\r\nHow to adapt the Java Code so that **$dateToString** uses **timezone** and the result looks like this:\r\n```\r\n_id: &quot;def166b4-967d-45ae-8b1c-1f05f8a1fc20&quot;\r\nproductType: &quot;car&quot;\r\ncreated: 2019-04-13T23:23:42.617+00:00\r\ndate: &quot;2019.04.14&quot;\r\n```\r\n","title":"Using MongoDB dateToString with timezone in project aggregation from spring boot","body":"<p>I want to created following MongoDB aggregation pipeline from Java Spring Boot</p>\n<pre><code>  &quot;pipeline&quot;: [\n    {\n      &quot;$project&quot;: {\n        productType: 1,\n        created: 1,\n        date: {\n          $dateToString: {\n            timezone: &quot;Europe/Zurich&quot;,\n            format: &quot;%Y.%m.%d&quot;,\n            date: &quot;$created&quot;\n          }\n        }\n      }\n    }\n  ]\n</code></pre>\n<p>This code is working and creates the pipeline - unfortunately without the timezone part:</p>\n<pre><code>  Aggregation agg = newAggregation(\n          project(&quot;productType&quot;, &quot;created&quot;)\n                  .andExpression(&quot;created&quot;).dateAsFormattedString(&quot;%Y.%m.%d&quot;).as(&quot;date&quot;)\n  );\n</code></pre>\n<p>How to adapt the Java Code so that <strong>$dateToString</strong> uses <strong>timezone</strong> and the result looks like this:</p>\n<pre><code>_id: &quot;def166b4-967d-45ae-8b1c-1f05f8a1fc20&quot;\nproductType: &quot;car&quot;\ncreated: 2019-04-13T23:23:42.617+00:00\ndate: &quot;2019.04.14&quot;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9039,"page":953,"page_size":100}
