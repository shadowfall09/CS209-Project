{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":5,"creation_date":1378418248,"post_id":18646600,"comment_id":27456001,"body_markdown":"Are you attempting to declare a `boolean` variable named `isLeapYear` or a method named `isLeapYear` that returns a `boolean`?","body":"Are you attempting to declare a <code>boolean</code> variable named <code>isLeapYear</code> or a method named <code>isLeapYear</code> that returns a <code>boolean</code>?"},{"owner":{"account_id":1382218,"reputation":244,"user_id":1314972,"display_name":"drewdles"},"score":0,"creation_date":1378418351,"post_id":18646600,"comment_id":27456034,"body_markdown":"having (int year) after isLeapYear is invalid. Remove it and it should work","body":"having (int year) after isLeapYear is invalid. Remove it and it should work"},{"owner":{"account_id":3255568,"reputation":13,"user_id":2744756,"display_name":"user2744756"},"score":0,"creation_date":1378418903,"post_id":18646600,"comment_id":27456223,"body_markdown":"I believe I am supposed to implement a method","body":"I believe I am supposed to implement a method"}],"answers":[{"tags":[],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378419197,"creation_date":1378418318,"answer_id":18646643,"question_id":18646600,"body_markdown":"    boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\r\n\r\nThe above line makes no sense at all. Do you want it to be a method?\r\n\r\nIf so it should be:\r\n\r\n    private static boolean isLeapYear(int year) {\r\n        return ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\r\n    }\r\n\r\nand you would call it like so:\r\n\r\n    boolean isLeapYear = isLeapYear(year); //note that the fact that both the boolean\r\n                                           //variable and the method name are \r\n                                           //identical is coincidence; the variable\r\n                                           //can be named whatever you want (as long\r\n                                           //as it makes sense).\r\n\r\nor you can just do:\r\n\r\n    if(isLeapYear(year)) {\r\n        ...\r\n    } else {\r\n        ...\r\n    }\r\n\r\nOr if you just want a `boolean` variable:\r\n\r\n    boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));","title":"Basic programming in java-Leap Year","body":"<pre><code>boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n</code></pre>\n\n<p>The above line makes no sense at all. Do you want it to be a method?</p>\n\n<p>If so it should be:</p>\n\n<pre><code>private static boolean isLeapYear(int year) {\n    return ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n}\n</code></pre>\n\n<p>and you would call it like so:</p>\n\n<pre><code>boolean isLeapYear = isLeapYear(year); //note that the fact that both the boolean\n                                       //variable and the method name are \n                                       //identical is coincidence; the variable\n                                       //can be named whatever you want (as long\n                                       //as it makes sense).\n</code></pre>\n\n<p>or you can just do:</p>\n\n<pre><code>if(isLeapYear(year)) {\n    ...\n} else {\n    ...\n}\n</code></pre>\n\n<p>Or if you just want a <code>boolean</code> variable:</p>\n\n<pre><code>boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378418331,"creation_date":1378418331,"answer_id":18646647,"question_id":18646600,"body_markdown":"Looks like you got a basic syntax error here. Either isLeapYear is a either a function or a variable, and you are mixing the two. You should have something like \r\n\r\n    boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));","title":"Basic programming in java-Leap Year","body":"<p>Looks like you got a basic syntax error here. Either isLeapYear is a either a function or a variable, and you are mixing the two. You should have something like </p>\n\n<pre><code>boolean isLeapYear = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2915411,"reputation":13804,"user_id":2498729,"accept_rate":69,"display_name":"But I&#39;m Not A Wrapper Class"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378433348,"creation_date":1378418521,"answer_id":18646680,"question_id":18646600,"body_markdown":"Here is what your code should sort of look like (not tested):\r\n\r\n    public class LeapYear{\r\n      //main method (always runs when you compile then run)\r\n      public static void main(String[ ] args){\r\n        //int year = readInt();\r\n        int hardCodedYear = 4;\r\n        System.out.prinln(isLeapYear(hardCodedYear));//method call and print results\r\n      }\r\n   \r\n      //create method \r\n      public boolean isLeapYear(int year){\r\n        //check if its leap year (not sure if this is correct)\r\n        if (year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 ==0){\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    \r\n    }","title":"Basic programming in java-Leap Year","body":"<p>Here is what your code should sort of look like (not tested):</p>\n\n<pre><code>public class LeapYear{\n  //main method (always runs when you compile then run)\n  public static void main(String[ ] args){\n    //int year = readInt();\n    int hardCodedYear = 4;\n    System.out.prinln(isLeapYear(hardCodedYear));//method call and print results\n  }\n\n  //create method \n  public boolean isLeapYear(int year){\n    //check if its leap year (not sure if this is correct)\n    if (year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 ==0){\n      return true;\n    }\n    return false;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23791619,"reputation":1,"user_id":17802991,"display_name":"Nano Fibres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641112835,"creation_date":1641112835,"answer_id":70554625,"question_id":18646600,"body_markdown":"I think, the code should be like this - \r\n\r\n    public class Leapyr\r\n    {\r\n        boolean isLeapYear(int year)\r\n        {\r\n            if((year%4==0) &amp;&amp; (year%100!=0) || (year%400==0))\r\n            {\r\n                return true;\r\n            }\r\n            else \r\n            {\r\n                return false;\r\n            }\r\n        }\r\n        public static void main (int y)\r\n        {\r\n            Leapyr yr=new Leapyr();\r\n            boolean rslt;\r\n            rslt=yr.isLeapYear(y);\r\n            if(rslt==true)\r\n            {\r\n                System.out.println(&quot;Year is Leap Year&quot;);\r\n            }\r\n            else \r\n            {\r\n                System.out.println(&quot;Year is not a Leap Year&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nwhen you initiate the `main()` it works properly. I&#39;ve tested it myself.\r\n            ","title":"Basic programming in java-Leap Year","body":"<p>I think, the code should be like this -</p>\n<pre><code>public class Leapyr\n{\n    boolean isLeapYear(int year)\n    {\n        if((year%4==0) &amp;&amp; (year%100!=0) || (year%400==0))\n        {\n            return true;\n        }\n        else \n        {\n            return false;\n        }\n    }\n    public static void main (int y)\n    {\n        Leapyr yr=new Leapyr();\n        boolean rslt;\n        rslt=yr.isLeapYear(y);\n        if(rslt==true)\n        {\n            System.out.println(&quot;Year is Leap Year&quot;);\n        }\n        else \n        {\n            System.out.println(&quot;Year is not a Leap Year&quot;);\n        }\n    }\n}\n</code></pre>\n<p>when you initiate the <code>main()</code> it works properly. I've tested it myself.</p>\n"}],"owner":{"account_id":3255568,"reputation":13,"user_id":2744756,"display_name":"user2744756"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6187,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":4,"score":-3,"last_activity_date":1641112835,"creation_date":1378418113,"question_id":18646600,"body_markdown":"So for a basic programming class, we have to make a program that tells if a year is a leap year. We aren&#39;t using the scanner method; rather, the year will be an argument. We have to use a boolean called isLaeapYear(int year). Here is my code\r\n\r\n    public class LeapYear{\r\n      public static void main(String[ ] args){\r\n        int year = readInt();\r\n         boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\r\n        if (isLeapYear)\r\n        {\r\n          return true;\r\n        }\r\n        else {\r\n          return false;\r\n        }\r\n        \r\n    \r\n      }\r\n    }\r\n\r\nFor some reason, it won&#39;t compile it says that a ; is expected after isLeapYear in my boolean line. Any suggestions? Thanks!\r\n          ","title":"Basic programming in java-Leap Year","body":"<p>So for a basic programming class, we have to make a program that tells if a year is a leap year. We aren't using the scanner method; rather, the year will be an argument. We have to use a boolean called isLaeapYear(int year). Here is my code</p>\n\n<pre><code>public class LeapYear{\n  public static void main(String[ ] args){\n    int year = readInt();\n     boolean isLeapYear(int year) = ((year %4 == 0) &amp;&amp; (year % 100 !=0) || (year % 400 == 0));\n    if (isLeapYear)\n    {\n      return true;\n    }\n    else {\n      return false;\n    }\n\n\n  }\n}\n</code></pre>\n\n<p>For some reason, it won't compile it says that a ; is expected after isLeapYear in my boolean line. Any suggestions? Thanks!</p>\n"},{"tags":["java","python","dictionary"],"answers":[{"tags":[],"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393410813,"creation_date":1393410813,"answer_id":22038670,"question_id":22038504,"body_markdown":"You can use the [Google Translate API](http://code.google.com/p/google-api-translate-java/), its very easy to implement. For sure you will need an internet connection for it to work.\r\n\r\n    Translator translate = Translator.getInstance();\r\n    String text = translate.translate(&quot;Good morning&quot;, Language.ENGLISH, Language.KOREAN)","title":"Java code to translate using a particular language dictionary","body":"<p>You can use the <a href=\"http://code.google.com/p/google-api-translate-java/\" rel=\"nofollow\">Google Translate API</a>, its very easy to implement. For sure you will need an internet connection for it to work.</p>\n\n<pre><code>Translator translate = Translator.getInstance();\nString text = translate.translate(\"Good morning\", Language.ENGLISH, Language.KOREAN)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297611,"reputation":996,"user_id":603220,"accept_rate":75,"display_name":"Big Bad Baerni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393415929,"creation_date":1393415929,"answer_id":22040684,"question_id":22038504,"body_markdown":"Using a map is one possible &amp; easy way (as shown in the short example). Though you still would need to do a big effort for problems like upper/lower case of words, punctuation, verbs etc.\r\n\r\n        Map&lt;String, String&gt; dictionary = new HashMap&lt;String, String&gt;();\r\n        dictionary.put(&quot;this&quot;, &quot;das&quot;);\r\n        dictionary.put(&quot;is&quot;, &quot;ist&quot;);\r\n        dictionary.put(&quot;my&quot;, &quot;mein&quot;);\r\n        dictionary.put(&quot;house&quot;, &quot;haus&quot;);\r\n\r\n        String translate = &quot;this is my new house&quot;;\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        StringTokenizer st = new StringTokenizer(translate, &quot; &quot;);\r\n        while (st.hasMoreTokens()) {\r\n            String key = st.nextToken();\r\n            String translatedWord = dictionary.get(key);\r\n            if (translatedWord != null) {\r\n                result.append(translatedWord);\r\n            } else {\r\n                result.append(&quot;*&quot; + key + &quot;*&quot;); // Unknown word\r\n            }\r\n            result.append(&quot; &quot;);\r\n        }\r\n\r\n        System.out.println(result.toString());\r\n","title":"Java code to translate using a particular language dictionary","body":"<p>Using a map is one possible &amp; easy way (as shown in the short example). Though you still would need to do a big effort for problems like upper/lower case of words, punctuation, verbs etc.</p>\n\n<pre><code>    Map&lt;String, String&gt; dictionary = new HashMap&lt;String, String&gt;();\n    dictionary.put(\"this\", \"das\");\n    dictionary.put(\"is\", \"ist\");\n    dictionary.put(\"my\", \"mein\");\n    dictionary.put(\"house\", \"haus\");\n\n    String translate = \"this is my new house\";\n    StringBuilder result = new StringBuilder();\n\n    StringTokenizer st = new StringTokenizer(translate, \" \");\n    while (st.hasMoreTokens()) {\n        String key = st.nextToken();\n        String translatedWord = dictionary.get(key);\n        if (translatedWord != null) {\n            result.append(translatedWord);\n        } else {\n            result.append(\"*\" + key + \"*\"); // Unknown word\n        }\n        result.append(\" \");\n    }\n\n    System.out.println(result.toString());\n</code></pre>\n"}],"owner":{"account_id":3313596,"reputation":33,"user_id":2786437,"accept_rate":50,"display_name":"user2786437"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641112411,"creation_date":1393410460,"question_id":22038504,"body_markdown":"I am not that good at java program, i am trying to do something like this please help.\r\n\r\nI want to make a simple translator for one particular language, say **korean**.\r\n\r\nCan i download a korean - english dictionary from internet and use it as a hash map or a dictionary datastructure to search for korean word based on the english input i give?\r\n","title":"Java code to translate using a particular language dictionary","body":"<p>I am not that good at java program, i am trying to do something like this please help.</p>\n\n<p>I want to make a simple translator for one particular language, say <strong>korean</strong>.</p>\n\n<p>Can i download a korean - english dictionary from internet and use it as a hash map or a dictionary datastructure to search for korean word based on the english input i give?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6599622,"reputation":1183,"user_id":5098338,"accept_rate":49,"display_name":"jahra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527497657,"creation_date":1527496538,"answer_id":50562241,"question_id":50562057,"body_markdown":"    public static Character getDelim(String fieldseparator, Character defaultDelim) {\r\n        if (isNotEmpty(fieldseparator)) {\r\n            return fieldseparator.equals(&quot;\\\\t&quot;) ? &#39;\\t&#39; : getFromUnicode(fieldseparator);\r\n        }\r\n        return defaultDelim;\r\n    }\r\n\r\n    private static Character getFromUnicode(String fieldseparator) {\r\n        Integer i = Ints.tryParse(fieldseparator);\r\n        return i != null ? String.valueOf(Character.toChars(i)).charAt(0) : fieldseparator.charAt(0);\r\n    }\r\n\r\n    private static boolean isNotEmpty(String fieldseparator) {\r\n        return fieldseparator != null &amp;&amp; !fieldseparator.isEmpty();\r\n    }","title":"Refactor this method to reduce its Cognitive Complexity","body":"<pre><code>public static Character getDelim(String fieldseparator, Character defaultDelim) {\n    if (isNotEmpty(fieldseparator)) {\n        return fieldseparator.equals(\"\\\\t\") ? '\\t' : getFromUnicode(fieldseparator);\n    }\n    return defaultDelim;\n}\n\nprivate static Character getFromUnicode(String fieldseparator) {\n    Integer i = Ints.tryParse(fieldseparator);\n    return i != null ? String.valueOf(Character.toChars(i)).charAt(0) : fieldseparator.charAt(0);\n}\n\nprivate static boolean isNotEmpty(String fieldseparator) {\n    return fieldseparator != null &amp;&amp; !fieldseparator.isEmpty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10487526,"reputation":3438,"user_id":7730554,"display_name":"Andreas H&#252;tter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641111726,"creation_date":1640902920,"answer_id":70537264,"question_id":50562057,"body_markdown":"For a general explanation about cognitive complexity and how it is calculated, please have a look at this answer: https://stackoverflow.com/a/62867219/7730554.\r\n\r\nFirst of all, I want to state that I am not trying to come up with a better solution than already provided by jahra (which is great). I rather want to share how cognitive complexity can be reduced by taking safe baby steps applying well-known refactoring techniques. The final result is of course very similar to the one already shown in the existing answer.\r\n\r\nConcerning this specific example you can pretty easy achieve a cognitive complexity reduction by applying simple refactorings such as *[Replace Nested Condition with Guard Clause][1]*, [*Consolidate Duplicate Conditional Fragments*][2] and *[Extract Method][3]*. I applied these as shown in the following code listings as emphasized in the code comments.\r\n\r\nNote: nowadays most IDEs already provide these refactorings as ***automated refactorings*** out of the box, in my case I used IntelliJ (for Java) which provides all of the mentioned refactorings so I did not have to these manually. Other technology stacks provide similar features, e.g. Rider or ReSharper for .Net, PHPStorm for PHP, etc.\r\n\r\nLet&#39;s first calculate the cognitive complexity of the original code (see comments to follow the calculation of each relevant statement):\r\n\r\n    // Total cognitive complexity: 9\r\n    public char findDelimiter_original(String fieldseparator)\r\n    {\r\n        char delim = &#39;\\0&#39;;\r\n        if (fieldseparator != null // +1 for the if condition\r\n                &amp;&amp; !fieldseparator.isEmpty()) { // +1 for the binary operator\r\n            if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +2 for the nested if (nesting = 1)\r\n                delim = &#39;\\t&#39;;\r\n            } else { // +1 for else\r\n                // handling unicode separator\r\n                Integer i = Ints.tryParse(fieldseparator);\r\n                if (i != null) { // +3 for the double nested if (nesting = 2)\r\n                    fieldseparator = String.valueOf(Character.toChars(i));\r\n                    delim = fieldseparator.charAt(0);\r\n                } else { // +1 for the else\r\n                    delim = fieldseparator.charAt(0);\r\n                }\r\n            }\r\n        }\r\n        return delim;\r\n    }\r\n\r\nSo the original code leaves us with a **cognitive complexity of 9**.\r\n\r\nIn the next step I applied the *[Replace Nested Condition with Guard Clause][1]* and the [*Consolidate Duplicate Conditional Fragments*][2] refactorings. \r\n\r\nNote: using IntelliJ *Replace Nested Condition with Guard Clause* can be easily achieved via &quot;Invert if condition&quot; while *Consolidate Duplicate Conditional Fragments* can be achieved via &quot;Extract common part from if&quot; from the IntelliJ context menu.\r\n\r\n    // Total cognitive complexity: 4\r\n    public char findDelimiter_guardClauses(String fieldseparator)\r\n    {\r\n        // Applied &quot;guard clause&quot; refactoring by inverting if\r\n        if (fieldseparator == null // +1 for the if condition\r\n                || fieldseparator.isEmpty()) { // +1 for the binary operator\r\n            return &#39;\\0&#39;;\r\n        }\r\n\r\n        // Applied &quot;guard clause&quot; refactoring by inverting if\r\n        if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +1 the if condition\r\n            return &#39;\\t&#39;;\r\n        }\r\n\r\n        // Applied &quot;consolidate duplicate conditional fragments&quot; refactoring\r\n        // handling unicode separator\r\n        Integer i = Ints.tryParse(fieldseparator);\r\n        if (i != null) { // +1\r\n            fieldseparator = String.valueOf(Character.toChars(i));\r\n        }\r\n        return fieldseparator.charAt(0);\r\n    }\r\n\r\nThis now leaves us with a **reduced cognitive complexity of 4** which is already great, but we can still do better, especially in terms of readability.\r\n\r\nIn the last step I applied the *Extract Method* refactoring which is also available in IntelliJ as automated refactoring.\r\n\r\n    // Total cognitive complexity: 2\r\n    public char findDelimiter_extractMethod(String fieldseparator)\r\n    {\r\n        // Applied &quot;extract method&quot; refactoring\r\n        if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\r\n            return &#39;\\0&#39;;\r\n        }\r\n\r\n        // Applied &quot;extract method&quot; refactoring\r\n        if (fieldSeparatorIsTab(fieldseparator)) { // +1 for the if condition\r\n            return &#39;\\t&#39;;\r\n        }\r\n\r\n        // Applied &quot;extract method&quot; refactoring\r\n        return handleUnicodeString(fieldseparator).charAt(0);\r\n    }\r\n\r\n    // Total complexity: 1\r\n    private String handleUnicodeString(String fieldseparator) {\r\n        Integer i = Ints.tryParse(fieldseparator);\r\n        if (i != null) { // +1 for the if condition\r\n            fieldseparator = String.valueOf(Character.toChars(i));\r\n        }\r\n        return fieldseparator;\r\n    }\r\n\r\n    // Total cognitive complexity: 0\r\n    private boolean fieldSeparatorIsTab(String fieldseparator) {\r\n        return fieldseparator.equals(&quot;\\\\t&quot;);\r\n    }\r\n\r\n    // Total cognitive complexity: 1\r\n    private boolean hasNoSeparator(String fieldseparator) {\r\n        return fieldseparator == null || fieldseparator.isEmpty(); // +1 for the binary operator\r\n    }\r\n\r\nThe overall code (including the extracted private methods) still has an overall cognitive complexity of 4, while the **main method now only has a cognitive complexity of 2**.\r\n\r\nFinally we can replace the last if condition with the ternery operator (which is also provided by IntelliJ via &quot;replace if else with ?&quot;.\r\n\r\n    // Total cognitive complexity: 2\r\n    public char findDelimiter_extractMethod(String fieldseparator)\r\n    {\r\n        // Applied &quot;extract method&quot; refactoring\r\n        if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\r\n            return &#39;\\0&#39;;\r\n        }\r\n\r\n        // Introduced ternary operator\r\n        // +1 for the ternary operator\r\n        return fieldSeparatorIsTab(fieldseparator) ? &#39;\\t&#39; : handleUnicodeString(fieldseparator).charAt(0);\r\n    }\r\n\r\n  [1]: https://refactoring.guru/replace-nested-conditional-with-guard-clauses\r\n  [2]: https://refactoring.guru/consolidate-duplicate-conditional-fragments\r\n  [3]: https://refactoring.guru/extract-method","title":"Refactor this method to reduce its Cognitive Complexity","body":"<p>For a general explanation about cognitive complexity and how it is calculated, please have a look at this answer: <a href=\"https://stackoverflow.com/a/62867219/7730554\">https://stackoverflow.com/a/62867219/7730554</a>.</p>\n<p>First of all, I want to state that I am not trying to come up with a better solution than already provided by jahra (which is great). I rather want to share how cognitive complexity can be reduced by taking safe baby steps applying well-known refactoring techniques. The final result is of course very similar to the one already shown in the existing answer.</p>\n<p>Concerning this specific example you can pretty easy achieve a cognitive complexity reduction by applying simple refactorings such as <em><a href=\"https://refactoring.guru/replace-nested-conditional-with-guard-clauses\" rel=\"nofollow noreferrer\">Replace Nested Condition with Guard Clause</a></em>, <a href=\"https://refactoring.guru/consolidate-duplicate-conditional-fragments\" rel=\"nofollow noreferrer\"><em>Consolidate Duplicate Conditional Fragments</em></a> and <em><a href=\"https://refactoring.guru/extract-method\" rel=\"nofollow noreferrer\">Extract Method</a></em>. I applied these as shown in the following code listings as emphasized in the code comments.</p>\n<p>Note: nowadays most IDEs already provide these refactorings as <em><strong>automated refactorings</strong></em> out of the box, in my case I used IntelliJ (for Java) which provides all of the mentioned refactorings so I did not have to these manually. Other technology stacks provide similar features, e.g. Rider or ReSharper for .Net, PHPStorm for PHP, etc.</p>\n<p>Let's first calculate the cognitive complexity of the original code (see comments to follow the calculation of each relevant statement):</p>\n<pre><code>// Total cognitive complexity: 9\npublic char findDelimiter_original(String fieldseparator)\n{\n    char delim = '\\0';\n    if (fieldseparator != null // +1 for the if condition\n            &amp;&amp; !fieldseparator.isEmpty()) { // +1 for the binary operator\n        if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +2 for the nested if (nesting = 1)\n            delim = '\\t';\n        } else { // +1 for else\n            // handling unicode separator\n            Integer i = Ints.tryParse(fieldseparator);\n            if (i != null) { // +3 for the double nested if (nesting = 2)\n                fieldseparator = String.valueOf(Character.toChars(i));\n                delim = fieldseparator.charAt(0);\n            } else { // +1 for the else\n                delim = fieldseparator.charAt(0);\n            }\n        }\n    }\n    return delim;\n}\n</code></pre>\n<p>So the original code leaves us with a <strong>cognitive complexity of 9</strong>.</p>\n<p>In the next step I applied the <em><a href=\"https://refactoring.guru/replace-nested-conditional-with-guard-clauses\" rel=\"nofollow noreferrer\">Replace Nested Condition with Guard Clause</a></em> and the <a href=\"https://refactoring.guru/consolidate-duplicate-conditional-fragments\" rel=\"nofollow noreferrer\"><em>Consolidate Duplicate Conditional Fragments</em></a> refactorings.</p>\n<p>Note: using IntelliJ <em>Replace Nested Condition with Guard Clause</em> can be easily achieved via &quot;Invert if condition&quot; while <em>Consolidate Duplicate Conditional Fragments</em> can be achieved via &quot;Extract common part from if&quot; from the IntelliJ context menu.</p>\n<pre><code>// Total cognitive complexity: 4\npublic char findDelimiter_guardClauses(String fieldseparator)\n{\n    // Applied &quot;guard clause&quot; refactoring by inverting if\n    if (fieldseparator == null // +1 for the if condition\n            || fieldseparator.isEmpty()) { // +1 for the binary operator\n        return '\\0';\n    }\n\n    // Applied &quot;guard clause&quot; refactoring by inverting if\n    if (fieldseparator.equals(&quot;\\\\t&quot;)) { // +1 the if condition\n        return '\\t';\n    }\n\n    // Applied &quot;consolidate duplicate conditional fragments&quot; refactoring\n    // handling unicode separator\n    Integer i = Ints.tryParse(fieldseparator);\n    if (i != null) { // +1\n        fieldseparator = String.valueOf(Character.toChars(i));\n    }\n    return fieldseparator.charAt(0);\n}\n</code></pre>\n<p>This now leaves us with a <strong>reduced cognitive complexity of 4</strong> which is already great, but we can still do better, especially in terms of readability.</p>\n<p>In the last step I applied the <em>Extract Method</em> refactoring which is also available in IntelliJ as automated refactoring.</p>\n<pre><code>// Total cognitive complexity: 2\npublic char findDelimiter_extractMethod(String fieldseparator)\n{\n    // Applied &quot;extract method&quot; refactoring\n    if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\n        return '\\0';\n    }\n\n    // Applied &quot;extract method&quot; refactoring\n    if (fieldSeparatorIsTab(fieldseparator)) { // +1 for the if condition\n        return '\\t';\n    }\n\n    // Applied &quot;extract method&quot; refactoring\n    return handleUnicodeString(fieldseparator).charAt(0);\n}\n\n// Total complexity: 1\nprivate String handleUnicodeString(String fieldseparator) {\n    Integer i = Ints.tryParse(fieldseparator);\n    if (i != null) { // +1 for the if condition\n        fieldseparator = String.valueOf(Character.toChars(i));\n    }\n    return fieldseparator;\n}\n\n// Total cognitive complexity: 0\nprivate boolean fieldSeparatorIsTab(String fieldseparator) {\n    return fieldseparator.equals(&quot;\\\\t&quot;);\n}\n\n// Total cognitive complexity: 1\nprivate boolean hasNoSeparator(String fieldseparator) {\n    return fieldseparator == null || fieldseparator.isEmpty(); // +1 for the binary operator\n}\n</code></pre>\n<p>The overall code (including the extracted private methods) still has an overall cognitive complexity of 4, while the <strong>main method now only has a cognitive complexity of 2</strong>.</p>\n<p>Finally we can replace the last if condition with the ternery operator (which is also provided by IntelliJ via &quot;replace if else with ?&quot;.</p>\n<pre><code>// Total cognitive complexity: 2\npublic char findDelimiter_extractMethod(String fieldseparator)\n{\n    // Applied &quot;extract method&quot; refactoring\n    if (hasNoSeparator(fieldseparator)) { // +1 for the if condition\n        return '\\0';\n    }\n\n    // Introduced ternary operator\n    // +1 for the ternary operator\n    return fieldSeparatorIsTab(fieldseparator) ? '\\t' : handleUnicodeString(fieldseparator).charAt(0);\n}\n</code></pre>\n"}],"owner":{"display_name":"user9821941"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19794,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641111726,"creation_date":1527495947,"question_id":50562057,"body_markdown":"I&#39;m having a problem with refactoring this part of the code. How to reduce the cognitive complexity of this code\r\n\r\n    if (fieldseparator != null &amp;&amp; !fieldseparator.isEmpty()) {\r\n            if (fieldseparator.equals(&quot;\\\\t&quot;)) {\r\n                delim = &#39;\\t&#39;;\r\n            } else {\r\n                // handling unicode separator\r\n                Integer i = Ints.tryParse(fieldseparator);\r\n                if (i != null) {\r\n                    fieldseparator = String.valueOf(Character.toChars(i));\r\n                    delim = fieldseparator.charAt(0);\r\n                } else {\r\n                    delim = fieldseparator.charAt(0);\r\n                }\r\n            }\r\n        }","title":"Refactor this method to reduce its Cognitive Complexity","body":"<p>I'm having a problem with refactoring this part of the code. How to reduce the cognitive complexity of this code</p>\n\n<pre><code>if (fieldseparator != null &amp;&amp; !fieldseparator.isEmpty()) {\n        if (fieldseparator.equals(\"\\\\t\")) {\n            delim = '\\t';\n        } else {\n            // handling unicode separator\n            Integer i = Ints.tryParse(fieldseparator);\n            if (i != null) {\n                fieldseparator = String.valueOf(Character.toChars(i));\n                delim = fieldseparator.charAt(0);\n            } else {\n                delim = fieldseparator.charAt(0);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","methods","deep-copy","stringbuffer"],"answers":[{"tags":[],"owner":{"account_id":135720,"reputation":2208,"user_id":338784,"accept_rate":75,"display_name":"Jihed Amine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432583697,"creation_date":1432575742,"answer_id":30443454,"question_id":30443349,"body_markdown":"Reference copy = A new variable pointing to the original object.\r\n\r\nShallow copy = Create a new copy of the original object and assign identical values to its primitive properties but use the same references as the original object for the properties that refer to other objects. \r\n\r\nDeep copy = Create a new copy of the original object and recursively create new copies for every object reference in the original object references chain.\r\n\r\nExample:\r\n\r\n    class C {\r\n    int b;\r\n    A ref1; // in shallow copy, use the same object reference. In deep copy, create a copy on this class instance\r\n    }\r\n\r\n---\r\n\r\nTo answer your second question on why `hal.equals(hel)` returns false: It&#39;s because this is the same as == check. To compare two arrays contents, you&#39;d have to use `Arrays.equals(array1, array2);`","title":"Reference, Shallow, and Deep Copy","body":"<p>Reference copy = A new variable pointing to the original object.</p>\n\n<p>Shallow copy = Create a new copy of the original object and assign identical values to its primitive properties but use the same references as the original object for the properties that refer to other objects. </p>\n\n<p>Deep copy = Create a new copy of the original object and recursively create new copies for every object reference in the original object references chain.</p>\n\n<p>Example:</p>\n\n<pre><code>class C {\nint b;\nA ref1; // in shallow copy, use the same object reference. In deep copy, create a copy on this class instance\n}\n</code></pre>\n\n<hr>\n\n<p>To answer your second question on why <code>hal.equals(hel)</code> returns false: It's because this is the same as == check. To compare two arrays contents, you'd have to use <code>Arrays.equals(array1, array2);</code></p>\n"},{"tags":[],"owner":{"account_id":1857085,"reputation":12517,"user_id":1682419,"display_name":"Jerry101"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432594052,"creation_date":1432575972,"answer_id":30443510,"question_id":30443349,"body_markdown":"Your `refCopy()` is fine.\r\n\r\n`shalCopy()` needs to construct a `new` array, then copy in the input `StringBuffer` references so it shares those `StringBuffer` objects. Write a loop or use `arrayCopy`.\r\n\r\n`deepCopy()` needs to construct a `new` array and then make copies of all the input `StringBuffers`.\r\n\r\nCan you fill in the details? If we do your assignment for you, you might not learn from it as well.\r\n\r\n**Update:** Your updated `shalCopy()` method gets the right result in this case but (1) it should use `bar.length` (its input array length) instead of assuming its input array has length `n`, and (2) the first assignment `buf = new StringBuffer[n]` is pointless and misleading since the code immediately replaces that with another array. Also, this will be more instructive if you write an explicit loop rather than call `Arrays.copyOf()`.\r\n\r\nYour updated `deepCopy()` does not get the right result, and it repeats the above problems. `clone()` is not what&#39;s needed, is not so useful in general, and does not shed any light on the problem at hand, that is, it&#39;s not instructive here. Instead, try constructing a new array and using a loop to (deep) copy all the StringBuffer objects, not their references.\r\n\r\nHere&#39;s how you can tell if your code works:\r\n\r\n* A **reference copy** `dest = refCopy(source)` should make the variable `dest` refer to the same instance as `source`. So changing e.g. `dest[0] = null` will also change `source[0]`.\r\n* A **shallow copy** `dest = shalCopy(source)` should make the variable `dest` refer to a new array that contains the very same instances that are in `source`. So changing `dest[0] = null` will not change `source[0]`, but modifying a shared instance, e.g. `dest[1].append(&quot;!&quot;)` will modify `source[1]`.\r\n* A **deep copy** `dest = deepCopy(source)` should make the variable `dest` refer to a separate array that contains separate instances that are not in `source`. So neither of the above changes to `dest` will modify `source`.","title":"Reference, Shallow, and Deep Copy","body":"<p>Your <code>refCopy()</code> is fine.</p>\n\n<p><code>shalCopy()</code> needs to construct a <code>new</code> array, then copy in the input <code>StringBuffer</code> references so it shares those <code>StringBuffer</code> objects. Write a loop or use <code>arrayCopy</code>.</p>\n\n<p><code>deepCopy()</code> needs to construct a <code>new</code> array and then make copies of all the input <code>StringBuffers</code>.</p>\n\n<p>Can you fill in the details? If we do your assignment for you, you might not learn from it as well.</p>\n\n<p><strong>Update:</strong> Your updated <code>shalCopy()</code> method gets the right result in this case but (1) it should use <code>bar.length</code> (its input array length) instead of assuming its input array has length <code>n</code>, and (2) the first assignment <code>buf = new StringBuffer[n]</code> is pointless and misleading since the code immediately replaces that with another array. Also, this will be more instructive if you write an explicit loop rather than call <code>Arrays.copyOf()</code>.</p>\n\n<p>Your updated <code>deepCopy()</code> does not get the right result, and it repeats the above problems. <code>clone()</code> is not what's needed, is not so useful in general, and does not shed any light on the problem at hand, that is, it's not instructive here. Instead, try constructing a new array and using a loop to (deep) copy all the StringBuffer objects, not their references.</p>\n\n<p>Here's how you can tell if your code works:</p>\n\n<ul>\n<li>A <strong>reference copy</strong> <code>dest = refCopy(source)</code> should make the variable <code>dest</code> refer to the same instance as <code>source</code>. So changing e.g. <code>dest[0] = null</code> will also change <code>source[0]</code>.</li>\n<li>A <strong>shallow copy</strong> <code>dest = shalCopy(source)</code> should make the variable <code>dest</code> refer to a new array that contains the very same instances that are in <code>source</code>. So changing <code>dest[0] = null</code> will not change <code>source[0]</code>, but modifying a shared instance, e.g. <code>dest[1].append(\"!\")</code> will modify <code>source[1]</code>.</li>\n<li>A <strong>deep copy</strong> <code>dest = deepCopy(source)</code> should make the variable <code>dest</code> refer to a separate array that contains separate instances that are not in <code>source</code>. So neither of the above changes to <code>dest</code> will modify <code>source</code>.</li>\n</ul>\n"}],"owner":{"account_id":6351005,"reputation":173,"user_id":4930066,"accept_rate":60,"display_name":"userb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3823,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1641111718,"creation_date":1432575252,"question_id":30443349,"body_markdown":"I have been researching and reading what these three (Reference copy, Shallow copy and Deep copy) methods do and how to create them; and I am still having a hard time understanding how to implement the said methods in my code. \r\n\r\nThe first method suppose to be a reference method (refCopy), the second should be a shallow method (shalCopy) and last a deep copy method(deepCopy). Not sure if these are correct. Any help on how to execute these copies correctly will be greatly appreciated. \r\n\r\n\r\nThis is my code so far:\r\n\r\n\r\n\r\n\r\n\r\n    public class ArrayRefCopy implements Cloneable {\r\n    \tprivate static int n = 3;\r\n    \tprivate static StringBuffer[] buf = new StringBuffer[4];\r\n    \tpublic static void main(String[] args){\r\n    \t\t\r\n    \t\tStringBuffer[] hel = new StringBuffer[n];\r\n    \t\thel[0] = new StringBuffer(&quot;hello&quot;);\r\n    \t\thel[1] = new StringBuffer(&quot;hallo&quot;);\r\n    \t\thel[2] = new StringBuffer(&quot;hey&quot;);\r\n    \t\t\r\n    \t\trefCopy(hel);\r\n    \t\tSystem.out.println(Arrays.toString(hel));\r\n    \t\tshalCopy(hel);\r\n    \t\tSystem.out.println(Arrays.toString(hel));\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static StringBuffer[] refCopy(StringBuffer[] bra){\r\n    \t\t\r\n    \t\tStringBuffer[] ber = bra;\r\n    \t\treturn ber;\r\n    \t}\r\n    \t\r\n    \tpublic static StringBuffer[] shalCopy(StringBuffer[] bar){\r\n    \t\t\r\n    \t\treturn buf = bar;\r\n    \t}\r\n    \t\r\n    \tpublic static StringBuffer[] deepCopy(StringBuffer[] bri){\r\n    \t\t\r\n    \t\tStringBuffer[] deep = new StringBuffer[n];\r\n    \t\treturn deep = bri.clone();\r\n    \t}\r\n    }\r\n\r\n\r\n=========================================================================\r\n\r\nI changed the last two methods to this (created objects in them):\r\n\r\n    public static StringBuffer[] shalCopy(StringBuffer[] bar){\r\n            StringBuffer[] buf = new StringBuffer[n];\r\n            return buf = Arrays.copyOf(bar, n);\r\n        }\r\n    \r\n        public static StringBuffer[] deepCopy(StringBuffer[] bri){\r\n    \r\n            StringBuffer[] deep = new StringBuffer[n];\r\n            return deep = bri.clone();\r\n        }\r\n\r\nBut when I do this:\r\n\r\n\r\n\r\n    StringBuffer[] hel = new StringBuffer[n];\r\n            hel[0] = new StringBuffer(&quot;hello&quot;);\r\n            hel[1] = new StringBuffer(&quot;hallo&quot;);\r\n            hel[2] = new StringBuffer(&quot;hey&quot;);\r\n    \r\n            StringBuffer[] hal = new StringBuffer[n];\r\n            hal = deepCopy(hel);\r\n    \r\n    \r\n            System.out.println(hal.equals(hel));\r\n\r\n\r\n\r\nIt gives me false. I thought clone would completely copy the object with its values. Why is it giving me false?\r\n\r\n\r\n**UPDATE:**\r\n\r\n    public static StringBuffer[] shalCopy(StringBuffer[] bar){\r\n    \t\tStringBuffer[] buf = new StringBuffer[bar.length];\r\n    \t\tfor(int i = 0; i &lt; bar.length; i++){\r\n    \t\t\tbuf[i] = bar[i];\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\treturn buf;\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t\r\n    \t\r\n    \tpublic static StringBuffer[] deepCopy(StringBuffer[] bri){\r\n    \t\t\r\n    \t\tStringBuffer[] deep = new StringBuffer[bri.length];\r\n    \t\tfor(int i=0; i &lt; bri.length; i++){\r\n    \t\t\tbri[i] = new StringBuffer(bri[i]);\r\n    \t\t\tdeep[i] = bri[i];\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn deep;\r\n    \t\t\r\n    \t}\r\n\r\n","title":"Reference, Shallow, and Deep Copy","body":"<p>I have been researching and reading what these three (Reference copy, Shallow copy and Deep copy) methods do and how to create them; and I am still having a hard time understanding how to implement the said methods in my code. </p>\n\n<p>The first method suppose to be a reference method (refCopy), the second should be a shallow method (shalCopy) and last a deep copy method(deepCopy). Not sure if these are correct. Any help on how to execute these copies correctly will be greatly appreciated. </p>\n\n<p>This is my code so far:</p>\n\n<pre><code>public class ArrayRefCopy implements Cloneable {\n    private static int n = 3;\n    private static StringBuffer[] buf = new StringBuffer[4];\n    public static void main(String[] args){\n\n        StringBuffer[] hel = new StringBuffer[n];\n        hel[0] = new StringBuffer(\"hello\");\n        hel[1] = new StringBuffer(\"hallo\");\n        hel[2] = new StringBuffer(\"hey\");\n\n        refCopy(hel);\n        System.out.println(Arrays.toString(hel));\n        shalCopy(hel);\n        System.out.println(Arrays.toString(hel));\n\n\n    }\n\n    public static StringBuffer[] refCopy(StringBuffer[] bra){\n\n        StringBuffer[] ber = bra;\n        return ber;\n    }\n\n    public static StringBuffer[] shalCopy(StringBuffer[] bar){\n\n        return buf = bar;\n    }\n\n    public static StringBuffer[] deepCopy(StringBuffer[] bri){\n\n        StringBuffer[] deep = new StringBuffer[n];\n        return deep = bri.clone();\n    }\n}\n</code></pre>\n\n<p>=========================================================================</p>\n\n<p>I changed the last two methods to this (created objects in them):</p>\n\n<pre><code>public static StringBuffer[] shalCopy(StringBuffer[] bar){\n        StringBuffer[] buf = new StringBuffer[n];\n        return buf = Arrays.copyOf(bar, n);\n    }\n\n    public static StringBuffer[] deepCopy(StringBuffer[] bri){\n\n        StringBuffer[] deep = new StringBuffer[n];\n        return deep = bri.clone();\n    }\n</code></pre>\n\n<p>But when I do this:</p>\n\n<pre><code>StringBuffer[] hel = new StringBuffer[n];\n        hel[0] = new StringBuffer(\"hello\");\n        hel[1] = new StringBuffer(\"hallo\");\n        hel[2] = new StringBuffer(\"hey\");\n\n        StringBuffer[] hal = new StringBuffer[n];\n        hal = deepCopy(hel);\n\n\n        System.out.println(hal.equals(hel));\n</code></pre>\n\n<p>It gives me false. I thought clone would completely copy the object with its values. Why is it giving me false?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>public static StringBuffer[] shalCopy(StringBuffer[] bar){\n        StringBuffer[] buf = new StringBuffer[bar.length];\n        for(int i = 0; i &lt; bar.length; i++){\n            buf[i] = bar[i];\n        }\n\n            return buf;\n        }\n\n\n\n\n    public static StringBuffer[] deepCopy(StringBuffer[] bri){\n\n        StringBuffer[] deep = new StringBuffer[bri.length];\n        for(int i=0; i &lt; bri.length; i++){\n            bri[i] = new StringBuffer(bri[i]);\n            deep[i] = bri[i];\n        }\n\n        return deep;\n\n    }\n</code></pre>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1640988283,"post_id":70545904,"comment_id":124705170,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1640988320,"post_id":70545904,"comment_id":124705174,"body_markdown":"can you share tha table definition ? Do `desc user;` and show us by [edit]ing your post","body":"can you share tha table definition ? Do <code>desc user;</code> and show us by <a href=\"https://stackoverflow.com/posts/70545904/edit\">edit</a>ing your post"},{"owner":{"account_id":20528397,"reputation":1,"user_id":15066306,"display_name":"luucid"},"score":0,"creation_date":1640989459,"post_id":70545904,"comment_id":124705354,"body_markdown":"i really dont know how this stack overflow thing works im new, so im sorry if i break some rules","body":"i really dont know how this stack overflow thing works im new, so im sorry if i break some rules"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1640989550,"post_id":70545904,"comment_id":124705368,"body_markdown":"Just leave userId out of the insert statement.","body":"Just leave userId out of the insert statement."},{"owner":{"account_id":20528397,"reputation":1,"user_id":15066306,"display_name":"luucid"},"score":0,"creation_date":1640989677,"post_id":70545904,"comment_id":124705397,"body_markdown":"yea i already did that but it said &quot;Field &#39;userId&#39; doesn&#39;t have a default value&quot;","body":"yea i already did that but it said &quot;Field &#39;userId&#39; doesn&#39;t have a default value&quot;"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1640991111,"post_id":70545904,"comment_id":124705575,"body_markdown":"it sounds like maybe your alter table didn&#39;t succeed?  could you edit your question and show (as text, not an image) the output of `show create table users;`?  @azro that provides so much more helpful information than desc","body":"it sounds like maybe your alter table didn&#39;t succeed?  could you edit your question and show (as text, not an image) the output of <code>show create table users;</code>?  @azro that provides so much more helpful information than desc"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1640996567,"post_id":70545904,"comment_id":124706179,"body_markdown":"I mean `show create table user;`","body":"I mean <code>show create table user;</code>"},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1641042323,"post_id":70545904,"comment_id":124710820,"body_markdown":"Also, don&#39;t make SQL statements by concatenating strings like that - you are wide open to SQL Injection attacks. Use PreparedStatement with setValue.","body":"Also, don&#39;t make SQL statements by concatenating strings like that - you are wide open to SQL Injection attacks. Use PreparedStatement with setValue."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640992504,"creation_date":1640992504,"answer_id":70546167,"question_id":70545904,"body_markdown":"You can&#39;t make a column AUTO_INCREMENT unless it&#39;s has a key (that is, index) on it. Best if it&#39;s a PRIMARY KEY or UNIQUE KEY.\r\n\r\nBut I see in your example of describe table, the column is not a key:\r\n\r\n    |Field   |Type         |Null|key|Default|Extra|\r\n    |--------|-------------|----|---|-------|-----|\r\n    |userId  |int          |NO  |___|NULL   |     |\r\n\r\n                                 ^^^ ideally this should say &quot;PRI&quot;\r\n\r\nSo your ALTER TABLE to make the column AUTO_INCREMENT probably failed. You can confirm this:\r\n\r\n    SHOW CREATE TABLE `user`\\G\r\n\r\nDo you see the `AUTO_INCREMENT` option next to the `userId` column? I don&#39;t think you will.\r\n\r\nYou can try again to make the column a primary key _and_ make it AUTO_INCREMENT:\r\n\r\n    ALTER TABLE `user`\r\n     ADD PRIMARY KEY (`userId`),\r\n     MODIFY `userId` INT AUTO_INCREMENT;\r\n\r\nDon&#39;t bother with `INT(255)`. The length argument for an integer is a common source of confusion. [It has almost no purpose or effect][1], and it&#39;s [deprecated in MySQL 8.0][2].\r\n\r\nDon&#39;t bother making the column `NOT NULL`. That will happen automatically as you add the PRIMARY KEY constraint.\r\n\r\nDon&#39;t bother setting the `AUTO_INCREMENT=8`. The next AI value will automatically be set to the highest value in that column, plus one. It can never be less than the greatest value in that column.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3135804/types-in-mysql-bigint20-vs-int20/3135854#3135854\r\n  [2]: https://bugs.mysql.com/bug.php?id=99385","title":"How do I create a query in Java for auto increment table?","body":"<p>You can't make a column AUTO_INCREMENT unless it's has a key (that is, index) on it. Best if it's a PRIMARY KEY or UNIQUE KEY.</p>\n<p>But I see in your example of describe table, the column is not a key:</p>\n<pre><code>|Field   |Type         |Null|key|Default|Extra|\n|--------|-------------|----|---|-------|-----|\n|userId  |int          |NO  |___|NULL   |     |\n\n                             ^^^ ideally this should say &quot;PRI&quot;\n</code></pre>\n<p>So your ALTER TABLE to make the column AUTO_INCREMENT probably failed. You can confirm this:</p>\n<pre><code>SHOW CREATE TABLE `user`\\G\n</code></pre>\n<p>Do you see the <code>AUTO_INCREMENT</code> option next to the <code>userId</code> column? I don't think you will.</p>\n<p>You can try again to make the column a primary key <em>and</em> make it AUTO_INCREMENT:</p>\n<pre><code>ALTER TABLE `user`\n ADD PRIMARY KEY (`userId`),\n MODIFY `userId` INT AUTO_INCREMENT;\n</code></pre>\n<p>Don't bother with <code>INT(255)</code>. The length argument for an integer is a common source of confusion. <a href=\"https://stackoverflow.com/questions/3135804/types-in-mysql-bigint20-vs-int20/3135854#3135854\">It has almost no purpose or effect</a>, and it's <a href=\"https://bugs.mysql.com/bug.php?id=99385\" rel=\"nofollow noreferrer\">deprecated in MySQL 8.0</a>.</p>\n<p>Don't bother making the column <code>NOT NULL</code>. That will happen automatically as you add the PRIMARY KEY constraint.</p>\n<p>Don't bother setting the <code>AUTO_INCREMENT=8</code>. The next AI value will automatically be set to the highest value in that column, plus one. It can never be less than the greatest value in that column.</p>\n"},{"tags":[],"owner":{"account_id":18239208,"reputation":149,"user_id":13276541,"display_name":"Ahmed Mera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641028750,"creation_date":1640993421,"answer_id":70546221,"question_id":70545904,"body_markdown":"Try this code, must work if you already defined userId is an auto_increament.\r\n\r\n    String query = &quot;INSERT INTO user(username,password,gender,country,role)  VALUES(&#39;&quot;+uu+&quot;&#39;, &#39;&quot;+pp+&quot;&#39;, &#39;&quot;+gg+&quot;&#39;,&#39;&quot;+cc+&quot;&#39;, &#39;&quot;+rr+&quot;&#39;)&quot;;\r\n","title":"How do I create a query in Java for auto increment table?","body":"<p>Try this code, must work if you already defined userId is an auto_increament.</p>\n<pre><code>String query = &quot;INSERT INTO user(username,password,gender,country,role)  VALUES('&quot;+uu+&quot;', '&quot;+pp+&quot;', '&quot;+gg+&quot;','&quot;+cc+&quot;', '&quot;+rr+&quot;')&quot;;\n</code></pre>\n"}],"owner":{"account_id":20528397,"reputation":1,"user_id":15066306,"display_name":"luucid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641110342,"creation_date":1640988144,"question_id":70545904,"body_markdown":"I was trying to create an insert query in Java to MySQL server but the thing is it keep asking for value for column &quot;user id&quot; even though I&#39;ve already define it as AUTO_INCREMENT. I&#39;ve tried to set the value to NULL too but it said &quot;column user id cannot be null&quot;.\r\n\r\nFrom what I know in SQL you don&#39;t have to define value for auto increment type right ?\r\n\r\nQuery:\r\n\r\n    String query = &quot;INSERT INTO \r\n    user(userId, username, password, gender, country, role) \r\n    VALUES(NULL,&#39;&quot;+uu+&quot;&#39;, &#39;&quot;+pp+&quot;&#39;, &#39;&quot;+gg+&quot;&#39;,&#39;&quot;+cc+&quot;&#39;, &#39;&quot;+rr+&quot;&#39;)&quot;;\r\n\r\nErrors :\r\n\r\n&gt; java.sql.SQLIntegrityConstraintViolationException: Column &#39;userId&#39; cannot be null\r\n&gt;\r\n&gt; at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)  \r\n&gt; at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)  \r\n&gt; at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1333)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2106)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1243)\r\n\tat main.Connect.updateData(Connect.java:43)\r\n\tat main.Regis.actionPerformed(Regis.java:189)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n\tat java.awt.Component.processMouseEvent(Unknown Source)\r\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n\tat java.awt.Component.processEvent(Unknown Source)\r\n\tat java.awt.Container.processEvent(Unknown Source)\r\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$500(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)\r\n\r\nTable definition :\r\n\r\n```\r\n|Column  |Type         |Null|key|Default|Extra|\r\n+--------+-------------+----+---+-------+-----+\r\n|userId  |int          |NO  |___|NULL   |     |\r\n|username|varchar(255) |NO  |___|NULL   |     |\r\n|password|varchar(255) |NO  |___|NULL   |     |\r\n|gender  |varchar(255) |NO  |___|NULL   |     |\r\n|country |varchar(255) |NO  |___|NULL   |     |\r\n|role    |varchar(255) |NO  |___|NULL   |     |\r\n```\r\n\r\n\r\nNote : from the `.sql` file that I get there is alter table code for table user\r\n\r\n    ALTER TABLE `user`\r\n    MODIFY `userId` int(255) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;\r\n\r\n\r\n\r\n\r\n","title":"How do I create a query in Java for auto increment table?","body":"<p>I was trying to create an insert query in Java to MySQL server but the thing is it keep asking for value for column &quot;user id&quot; even though I've already define it as AUTO_INCREMENT. I've tried to set the value to NULL too but it said &quot;column user id cannot be null&quot;.</p>\n<p>From what I know in SQL you don't have to define value for auto increment type right ?</p>\n<p>Query:</p>\n<pre><code>String query = &quot;INSERT INTO \nuser(userId, username, password, gender, country, role) \nVALUES(NULL,'&quot;+uu+&quot;', '&quot;+pp+&quot;', '&quot;+gg+&quot;','&quot;+cc+&quot;', '&quot;+rr+&quot;')&quot;;\n</code></pre>\n<p>Errors :</p>\n<blockquote>\n<p>java.sql.SQLIntegrityConstraintViolationException: Column 'userId' cannot be null</p>\n<p>at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)<br />\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)<br />\nat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1333)\nat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2106)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1243)\nat main.Connect.updateData(Connect.java:43)\nat main.Regis.actionPerformed(Regis.java:189)\nat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\nat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\nat java.awt.Component.processMouseEvent(Unknown Source)\nat javax.swing.JComponent.processMouseEvent(Unknown Source)\nat java.awt.Component.processEvent(Unknown Source)\nat java.awt.Container.processEvent(Unknown Source)\nat java.awt.Component.dispatchEventImpl(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Window.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\nat java.awt.EventQueue.access$500(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue.dispatchEvent(Unknown Source)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.run(Unknown Source)</p>\n</blockquote>\n<p>Table definition :</p>\n<pre><code>|Column  |Type         |Null|key|Default|Extra|\n+--------+-------------+----+---+-------+-----+\n|userId  |int          |NO  |___|NULL   |     |\n|username|varchar(255) |NO  |___|NULL   |     |\n|password|varchar(255) |NO  |___|NULL   |     |\n|gender  |varchar(255) |NO  |___|NULL   |     |\n|country |varchar(255) |NO  |___|NULL   |     |\n|role    |varchar(255) |NO  |___|NULL   |     |\n</code></pre>\n<p>Note : from the <code>.sql</code> file that I get there is alter table code for table user</p>\n<pre><code>ALTER TABLE `user`\nMODIFY `userId` int(255) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;\n</code></pre>\n"},{"tags":["java","android","timestamp"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641109441,"creation_date":1641109441,"answer_id":70554367,"question_id":70554266,"body_markdown":"You can get this output with this logic. \r\n\r\n1. Store the value you want to reset to the preset value using shared preferences\r\n2. Store the date-time value from the system using the sharedPrefs.\r\n3. On App startup check if the local time matches the time in sharedPrefereces.\r\n\r\nIf it matches -&gt; do nothing\r\nif it does not -&gt; reset\r\n\r\nPS: Here shared preferences is just an example you can use room/datastore or anything to perform this check on app startup.","title":"How to reset a value after 24 hour passed in android","body":"<p>You can get this output with this logic.</p>\n<ol>\n<li>Store the value you want to reset to the preset value using shared preferences</li>\n<li>Store the date-time value from the system using the sharedPrefs.</li>\n<li>On App startup check if the local time matches the time in sharedPrefereces.</li>\n</ol>\n<p>If it matches -&gt; do nothing\nif it does not -&gt; reset</p>\n<p>PS: Here shared preferences is just an example you can use room/datastore or anything to perform this check on app startup.</p>\n"}],"owner":{"account_id":22595079,"reputation":73,"user_id":16777508,"display_name":"Cynthia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641109441,"creation_date":1641108319,"question_id":70554266,"body_markdown":"#### I want make a kind of a daily login reward.\r\n\r\nI have a button named `ClaimReward` and A user can claim reward one time in a day!. if user claimed the reward then `disable` the `button` and if\r\n24 hours passed then again `enabled` the `button`.\r\n\r\n#### My try\r\n\r\n    I stored a today&#39;s date in firebase realtime database in millis (long) or timestamp - 1353534920\r\n\r\nSo, how can I do this in android\r\n\r\n\r\n\r\n","title":"How to reset a value after 24 hour passed in android","body":"<h4>I want make a kind of a daily login reward.</h4>\n<p>I have a button named <code>ClaimReward</code> and A user can claim reward one time in a day!. if user claimed the reward then <code>disable</code> the <code>button</code> and if\n24 hours passed then again <code>enabled</code> the <code>button</code>.</p>\n<h4>My try</h4>\n<pre><code>I stored a today's date in firebase realtime database in millis (long) or timestamp - 1353534920\n</code></pre>\n<p>So, how can I do this in android</p>\n"},{"tags":["java","hibernate","criteria"],"comments":[{"owner":{"account_id":1021804,"reputation":12875,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":0,"creation_date":1391429071,"post_id":21526867,"comment_id":32503504,"body_markdown":"Check connection URL `jdbc:oracle:thin:@localhost:1521:xe` [see here](http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html). Also check log","body":"Check connection URL <code>jdbc:oracle:thin:@localhost:1521:xe</code> <a href=\"http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow noreferrer\">see here</a>. Also check log"},{"owner":{"account_id":2345376,"reputation":3008,"user_id":2055782,"accept_rate":58,"display_name":"Mohsin AR"},"score":0,"creation_date":1391429152,"post_id":21526867,"comment_id":32503573,"body_markdown":"this [link](http://www.mkyong.com/hibernate/hibernate-criteria-examples/) will help you","body":"this <a href=\"http://www.mkyong.com/hibernate/hibernate-criteria-examples/\" rel=\"nofollow noreferrer\">link</a> will help you"},{"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"score":0,"creation_date":1391429336,"post_id":21526867,"comment_id":32503683,"body_markdown":"actually I have another URL here `jdbc:oracle:thin:@URL:xe`, I&#39;ve written `8080` only here for security of my server...@Aniket","body":"actually I have another URL here <code>jdbc:oracle:thin:@URL:xe</code>, I&#39;ve written <code>8080</code> only here for security of my server...@Aniket"},{"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"score":0,"creation_date":1391429516,"post_id":21526867,"comment_id":32503803,"body_markdown":"not getting any exception or error.....only the O/P is `List length =======  0`","body":"not getting any exception or error.....only the O/P is <code>List length =======  0</code>"}],"answers":[{"tags":[],"owner":{"account_id":3729156,"reputation":337,"user_id":3102118,"accept_rate":72,"display_name":"Bhaskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391434616,"creation_date":1391434616,"answer_id":21528842,"question_id":21526867,"body_markdown":"While working with Criteria API, we need to provide the expression or alias which basically sets the Criteria which is ought to be implemented in the calling method/class.\r\n\r\nConsider, that I want to SET a criteria for an ORDER bean which has orderId, orderName, orderType as its input attributes on the basis of which I will set the criteria or fetch the data. My approach will be something like this:\r\n\r\n    hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\r\n    Criteria criteria = hibernateSession_destination.createCriteria(Order.class);\r\n    criteria.add(Expression.eq(&quot;orderId&quot;, orderId)); //1\r\n    criteria.add(Expression.like(&quot;orderType&quot;, siteType)); //2\r\n    criteria.add(Expression.in(&quot;orderId&quot;, siteId)); //3\r\n    List list = criteria.list();\r\n    System.out.println(&quot;List length =======  &quot; + list.size());\r\n\r\nNote: It&#39;s not necessary for me to include all of 1,2,3 marked above. But for setting Order Criteria. You can use this as a work-around if you are not able to fetch the entire schema due to any restrictions.\r\n\r\nHowever, you may also need to check your db connectivity. This may be an issue which isn&#39;t allowing your application to fetch the data.","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>While working with Criteria API, we need to provide the expression or alias which basically sets the Criteria which is ought to be implemented in the calling method/class.</p>\n\n<p>Consider, that I want to SET a criteria for an ORDER bean which has orderId, orderName, orderType as its input attributes on the basis of which I will set the criteria or fetch the data. My approach will be something like this:</p>\n\n<pre><code>hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\nCriteria criteria = hibernateSession_destination.createCriteria(Order.class);\ncriteria.add(Expression.eq(\"orderId\", orderId)); //1\ncriteria.add(Expression.like(\"orderType\", siteType)); //2\ncriteria.add(Expression.in(\"orderId\", siteId)); //3\nList list = criteria.list();\nSystem.out.println(\"List length =======  \" + list.size());\n</code></pre>\n\n<p>Note: It's not necessary for me to include all of 1,2,3 marked above. But for setting Order Criteria. You can use this as a work-around if you are not able to fetch the entire schema due to any restrictions.</p>\n\n<p>However, you may also need to check your db connectivity. This may be an issue which isn't allowing your application to fetch the data.</p>\n"},{"tags":[],"owner":{"account_id":3585414,"reputation":909,"user_id":2992722,"accept_rate":25,"display_name":"Mathews"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1411576059,"creation_date":1411576059,"answer_id":26021969,"question_id":21526867,"body_markdown":"For those who are still looking for an answer to this question as I was, Please check your hibernate config xml and make sure your hibernate entity is declared there","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>For those who are still looking for an answer to this question as I was, Please check your hibernate config xml and make sure your hibernate entity is declared there</p>\n"},{"tags":[],"owner":{"account_id":20486425,"reputation":13,"user_id":15033479,"display_name":"Pramit Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641109308,"creation_date":1641108495,"answer_id":70554285,"question_id":21526867,"body_markdown":"Please use this :\r\n    \r\n\r\n&gt; List&lt;Class_name&gt; list = criteria.list();\r\n\r\ninstead of directly using:   \r\n    \r\n\r\n&gt; List list = criteria.list();\r\n\r\nWe should always mention the class for which we are fetching the list.For example,if i want the data for my Student class from the database using Criteria api then,i would use somthing like this:\r\n\r\n\r\n    SessionFactory factory= new Configuration().configure().buildSessionFactory(); \r\n    Session session =factory.openSession(); \r\n    Criteria criteria=session.createCriteria(Student.class);\r\n    List&lt;Student&gt; list=criteria.list();\r\n     \r\n       for(Student student:list)\r\n        {\r\n        \tSystem.out.println(&quot;Criteria Demo:&quot;+student.getName());\t\r\n        \r\n        }\r\n\r\n","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>Please use this :</p>\n<blockquote>\n<p>List&lt;Class_name&gt; list = criteria.list();</p>\n</blockquote>\n<p>instead of directly using:</p>\n<blockquote>\n<p>List list = criteria.list();</p>\n</blockquote>\n<p>We should always mention the class for which we are fetching the list.For example,if i want the data for my Student class from the database using Criteria api then,i would use somthing like this:</p>\n<pre><code>SessionFactory factory= new Configuration().configure().buildSessionFactory(); \nSession session =factory.openSession(); \nCriteria criteria=session.createCriteria(Student.class);\nList&lt;Student&gt; list=criteria.list();\n \n   for(Student student:list)\n    {\n        System.out.println(&quot;Criteria Demo:&quot;+student.getName()); \n    \n    }\n</code></pre>\n"}],"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12022,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26021969,"answer_count":3,"score":4,"last_activity_date":1641109308,"creation_date":1391428791,"question_id":21526867,"body_markdown":"I didn&#39;t understand why I am getting empty list from `criteria`, and I have data in my table.\r\n\r\ncode where I&#39;m getting List:\r\n\r\n    hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\r\n            \r\n            Criteria criteria = hibernateSession_destination.createCriteria(nr_rec_backup_rule.class);\r\n            List list = criteria.list();\r\n            System.out.println(&quot;List length =======  &quot; + list.size()); // prints size = 0\r\n\r\nMy HibernateUtilReports.java :\r\n\r\n    public enum HibernateUtilReports {\r\n        INSTANCE;\r\n        public static SessionFactory sessionFactory = null;\r\n    \r\n    private synchronized SessionFactory getSessionFactory(){\r\n        \r\n        if(sessionFactory == null){\r\n            Configuration config = new Configuration();\r\n            config.addAnnotatedClass(contaque_recording_log.class);\r\n            config.addAnnotatedClass(contaque_servers.class);\r\n            config.configure(&quot;reportshibernate.cfg.xml&quot;); // is here any error???\r\n            \r\n            Properties configProperties = config.getProperties();\r\n            ServiceRegistryBuilder serviceRegisteryBuilder = new ServiceRegistryBuilder();\r\n            ServiceRegistry serviceRegistry = serviceRegisteryBuilder.applySettings(configProperties).buildServiceRegistry();\r\n            sessionFactory = config.buildSessionFactory(serviceRegistry);\r\n        }\r\n        return sessionFactory;\r\n    }\r\n    \r\n    public Session getSession(){\r\n        return getSessionFactory().openSession();\r\n    }\r\n    }\r\n\r\nMy reportshibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@8080/xe&lt;/property&gt; \r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;user&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;1234&lt;/property&gt;\r\n           \r\n            &lt;property name=&quot;c3p0.minPoolSize&quot;&gt;2&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.maxPoolSize&quot;&gt;100&lt;/property&gt;\r\n        &lt;property name=&quot;c3p0.timeout&quot;&gt;1000&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;false&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.zeroDateTimeBehavior&quot;&gt;convertToNull&lt;/property&gt;\r\n        \r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\nWhere am I going wrong???\r\n\r\n**Edited:**\r\n\r\n&gt; Note: Since &quot;show_sql&quot; is set to &#39;true&#39; in my xml, but I am not getting any SQL query on my console.\r\n\r\n","title":"why Hibernate criteria return empty list if I have data in my table?","body":"<p>I didn't understand why I am getting empty list from <code>criteria</code>, and I have data in my table.</p>\n\n<p>code where I'm getting List:</p>\n\n<pre><code>hibernateSession_destination = HibernateUtilReports.INSTANCE.getSession();\n\n        Criteria criteria = hibernateSession_destination.createCriteria(nr_rec_backup_rule.class);\n        List list = criteria.list();\n        System.out.println(\"List length =======  \" + list.size()); // prints size = 0\n</code></pre>\n\n<p>My HibernateUtilReports.java :</p>\n\n<pre><code>public enum HibernateUtilReports {\n    INSTANCE;\n    public static SessionFactory sessionFactory = null;\n\nprivate synchronized SessionFactory getSessionFactory(){\n\n    if(sessionFactory == null){\n        Configuration config = new Configuration();\n        config.addAnnotatedClass(contaque_recording_log.class);\n        config.addAnnotatedClass(contaque_servers.class);\n        config.configure(\"reportshibernate.cfg.xml\"); // is here any error???\n\n        Properties configProperties = config.getProperties();\n        ServiceRegistryBuilder serviceRegisteryBuilder = new ServiceRegistryBuilder();\n        ServiceRegistry serviceRegistry = serviceRegisteryBuilder.applySettings(configProperties).buildServiceRegistry();\n        sessionFactory = config.buildSessionFactory(serviceRegistry);\n    }\n    return sessionFactory;\n}\n\npublic Session getSession(){\n    return getSessionFactory().openSession();\n}\n}\n</code></pre>\n\n<p>My reportshibernate.cfg.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"connection.driver_class\"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:oracle:thin:@8080/xe&lt;/property&gt; \n        &lt;property name=\"hibernate.connection.username\"&gt;user&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;1234&lt;/property&gt;\n\n        &lt;property name=\"c3p0.minPoolSize\"&gt;2&lt;/property&gt;\n    &lt;property name=\"c3p0.maxPoolSize\"&gt;100&lt;/property&gt;\n    &lt;property name=\"c3p0.timeout\"&gt;1000&lt;/property&gt;\n    &lt;property name=\"hibernate.cache.use_second_level_cache\"&gt;false&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.zeroDateTimeBehavior\"&gt;convertToNull&lt;/property&gt;\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>Where am I going wrong???</p>\n\n<p><strong>Edited:</strong></p>\n\n<blockquote>\n  <p>Note: Since \"show_sql\" is set to 'true' in my xml, but I am not getting any SQL query on my console.</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1478660600,"post_id":40499018,"comment_id":68243193,"body_markdown":"What difficulty exactly? What happens when you run your code, and what did you expect to happen instead? Any errors?","body":"What difficulty exactly? What happens when you run your code, and what did you expect to happen instead? Any errors?"},{"owner":{"account_id":8388724,"reputation":45,"user_id":6298178,"accept_rate":50,"display_name":"natsuVsnaruto"},"score":0,"creation_date":1478672034,"post_id":40499018,"comment_id":68245611,"body_markdown":"My codes run well, in login part, but when i close my app without logging out, and open again, it still make me direct to login activity, so i want it to direct immediately to mainactivity.","body":"My codes run well, in login part, but when i close my app without logging out, and open again, it still make me direct to login activity, so i want it to direct immediately to mainactivity."},{"owner":{"account_id":3099350,"reputation":1405,"user_id":2623882,"display_name":"Amit Bhati"},"score":0,"creation_date":1478682689,"post_id":40499018,"comment_id":68249576,"body_markdown":"maintain a boolean isLogin in sharedPreferance, and check it in onCreate() of your activity, if its return true then redirect to your mainActivity.","body":"maintain a boolean isLogin in sharedPreferance, and check it in onCreate() of your activity, if its return true then redirect to your mainActivity."}],"answers":[{"tags":[],"owner":{"account_id":3099350,"reputation":1405,"user_id":2623882,"display_name":"Amit Bhati"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1479274914,"creation_date":1478683128,"answer_id":40503408,"question_id":40499018,"body_markdown":"Made change in below code-\r\n\r\nMaintain a boolean variable in sharedPreferance and will work for you.\r\n\r\n    SharedPreferences sharedPreferences;\r\n        SharedPreferences.Editor editor;\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login);\r\n    \r\n    sharedPreferences =getSharedPreferences(getPackageName(), MODE_PRIVATE);\r\n            editor = sharedPreferences.edit();\r\n    \r\n    if(sharedPreferences.getBoolean(&quot;isLogin&quot;,false))\r\n    {\r\n            Intent intent = new Intent(Login.this , MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n    }\r\n    \r\n        OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\r\n    \r\n        if(opr.isDone()) {\r\n            Log.d(TAG,&quot;Got cached sign-in&quot;);\r\n            GoogleSignInResult result = opr.get();\r\n            handleSignInResult(result);\r\n        } else {\r\n            SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\r\n            mStatusView = (TextView) findViewById(R.id.status_text);\r\n            mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    switch (v.getId()) {\r\n                        case R.id.sign_in_button:\r\n                            signInWithGoogle();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n     private void signInWithGoogle(){\r\n        if(mGoogleApiClient != null) {\r\n            mGoogleApiClient.disconnect();\r\n        }\r\n    \r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\r\n    \r\n        final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n    \r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode,resultCode,data);\r\n    \r\n        if(requestCode == RC_SIGN_IN) {\r\n            GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\r\n            handleSignInResult(result);\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    private void handleSignInResult(GoogleSignInResult result) {\r\n        Log.d(TAG, &quot;handleSignInResult:&quot; + result.isSuccess());\r\n        if(result.isSuccess()) {\r\n            GoogleSignInAccount account = result.getSignInAccount();\r\n            mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\r\n            //TODO: Start another explicit intent here. but this time, start MainActivity\r\n    \r\n            sharedPreferences.edit().putBoolean(&quot;isLogin&quot;,true).apply();\r\n            Intent intent = new Intent(Login.this , MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n    \r\n        } else {\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to check if user is already login in google auth. in android","body":"<p>Made change in below code-</p>\n\n<p>Maintain a boolean variable in sharedPreferance and will work for you.</p>\n\n<pre><code>SharedPreferences sharedPreferences;\n    SharedPreferences.Editor editor;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.login);\n\nsharedPreferences =getSharedPreferences(getPackageName(), MODE_PRIVATE);\n        editor = sharedPreferences.edit();\n\nif(sharedPreferences.getBoolean(\"isLogin\",false))\n{\n        Intent intent = new Intent(Login.this , MainActivity.class);\n        startActivity(intent);\n        finish();\n}\n\n    OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\n\n    if(opr.isDone()) {\n        Log.d(TAG,\"Got cached sign-in\");\n        GoogleSignInResult result = opr.get();\n        handleSignInResult(result);\n    } else {\n        SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\n        mStatusView = (TextView) findViewById(R.id.status_text);\n        mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                switch (v.getId()) {\n                    case R.id.sign_in_button:\n                        signInWithGoogle();\n                }\n            }\n        });\n    }\n}\n private void signInWithGoogle(){\n    if(mGoogleApiClient != null) {\n        mGoogleApiClient.disconnect();\n    }\n\n    GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\n    mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\n\n    final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\n    startActivityForResult(signInIntent, RC_SIGN_IN);\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode,resultCode,data);\n\n    if(requestCode == RC_SIGN_IN) {\n        GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\n        handleSignInResult(result);\n    }\n}\n\n\n\nprivate void handleSignInResult(GoogleSignInResult result) {\n    Log.d(TAG, \"handleSignInResult:\" + result.isSuccess());\n    if(result.isSuccess()) {\n        GoogleSignInAccount account = result.getSignInAccount();\n        mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\n        //TODO: Start another explicit intent here. but this time, start MainActivity\n\n        sharedPreferences.edit().putBoolean(\"isLogin\",true).apply();\n        Intent intent = new Intent(Login.this , MainActivity.class);\n        startActivity(intent);\n        finish();\n\n    } else {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6544716,"reputation":686,"user_id":5061078,"display_name":"Lips_coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479281794,"creation_date":1479281794,"answer_id":40626424,"question_id":40499018,"body_markdown":"For Google Login check whether user is signed in or not:\r\n\r\n    if (mGoogleApiClient != null &amp;&amp; mGoogleApiClient.isConnected()) {\r\n       // User is signed in.\r\n       // ...\r\n    } else {\r\n       // User is not signed in. \r\n       // Perform your operation.\r\n    }","title":"How to check if user is already login in google auth. in android","body":"<p>For Google Login check whether user is signed in or not:</p>\n\n<pre><code>if (mGoogleApiClient != null &amp;&amp; mGoogleApiClient.isConnected()) {\n   // User is signed in.\n   // ...\n} else {\n   // User is not signed in. \n   // Perform your operation.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3927584,"reputation":181,"user_id":3247364,"display_name":"Syed Atir Mohiuddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479288603,"creation_date":1479288603,"answer_id":40628392,"question_id":40499018,"body_markdown":"  Assuming that you are checking authentication status from any Activity for e.g. Main Activity (Incase fragment get a singleton instance of your context from any activity which it is triggered from).  \r\n\r\n    GoogleApiClient mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                    .addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this)\r\n                    .addApi(Plus.API)\r\n                    .addScope(Plus.SCOPE_PLUS_LOGIN)\r\n                    .build();\r\n        \r\n        if (mGoogleApiClient.isConnected()) {\r\n                //Todo\r\n            }\r\n        }","title":"How to check if user is already login in google auth. in android","body":"<p>Assuming that you are checking authentication status from any Activity for e.g. Main Activity (Incase fragment get a singleton instance of your context from any activity which it is triggered from).  </p>\n\n<pre><code>GoogleApiClient mGoogleApiClient = new GoogleApiClient.Builder(this)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .addApi(Plus.API)\n                .addScope(Plus.SCOPE_PLUS_LOGIN)\n                .build();\n\n    if (mGoogleApiClient.isConnected()) {\n            //Todo\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8469613,"reputation":2411,"user_id":6352712,"accept_rate":89,"display_name":"Serg Burlaka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599505070,"creation_date":1599505070,"answer_id":63782909,"question_id":40499018,"body_markdown":"\r\n\r\n \r\n\r\n GoogleApiClient mGoogleApiClient is deprecated now!\r\nSo according [doc][1]\r\n\r\n\r\n       // Check for existing Google Sign In account, if the user is already signed in\r\n    // the GoogleSignInAccount will be non-null.\r\n    GoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\r\n    updateUI(account);\r\n\r\n\r\nFor example:\r\n\r\n \r\n\r\n     if (GoogleSignIn.getLastSignedInAccount(context) == null) {\r\n                Log.d(TAG_SIGN_FLOW, &quot;User is not signed in, so make login in&quot;)\r\n    \r\n                val signInOptions: GoogleSignInOptions = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                    .requestEmail()\r\n                    .requestScopes(Scope(DriveScopes.DRIVE_FILE))\r\n                    .build()\r\n                startActivityForResult(GoogleSignIn.getClient(this.requireActivity(), signInOptions).signInIntent, REQUEST_CODE_SIGN_IN)\r\n            } else {\r\n                Log.d(TAG_SIGN_FLOW, &quot;User has already been login&quot;)\r\n            }\r\n\r\n [1]: https://developers.google.com/identity/sign-in/android/sign-in#check_for_an_existing_signed-in_user","title":"How to check if user is already login in google auth. in android","body":"<p>GoogleApiClient mGoogleApiClient is deprecated now!\nSo according <a href=\"https://developers.google.com/identity/sign-in/android/sign-in#check_for_an_existing_signed-in_user\" rel=\"nofollow noreferrer\">doc</a></p>\n<pre><code>   // Check for existing Google Sign In account, if the user is already signed in\n// the GoogleSignInAccount will be non-null.\nGoogleSignInAccount account = GoogleSignIn.getLastSignedInAccount(this);\nupdateUI(account);\n</code></pre>\n<p>For example:</p>\n<pre><code> if (GoogleSignIn.getLastSignedInAccount(context) == null) {\n            Log.d(TAG_SIGN_FLOW, &quot;User is not signed in, so make login in&quot;)\n\n            val signInOptions: GoogleSignInOptions = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestEmail()\n                .requestScopes(Scope(DriveScopes.DRIVE_FILE))\n                .build()\n            startActivityForResult(GoogleSignIn.getClient(this.requireActivity(), signInOptions).signInIntent, REQUEST_CODE_SIGN_IN)\n        } else {\n            Log.d(TAG_SIGN_FLOW, &quot;User has already been login&quot;)\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19738023,"reputation":43,"user_id":14452038,"display_name":"Jimmy Wire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641109255,"creation_date":1640960820,"answer_id":70543191,"question_id":40499018,"body_markdown":"To check whether user is logged in and immediately open the MainActivity override the `onStart` method:\r\n```\r\n@Override\r\n protected void onStart() {\r\n super.onStart()\r\n\r\n FirebaseAuth auth = FirebaseAuth.getInstance();\r\n FirebaseUser fUser = auth.getCurrentUser();\r\n\r\n if (fUser != null){\r\n  startActivity(new Intent(LoginActivity.this, MainActivity.class));\r\n  }\r\n\r\n}\r\n```","title":"How to check if user is already login in google auth. in android","body":"<p>To check whether user is logged in and immediately open the MainActivity override the <code>onStart</code> method:</p>\n<pre><code>@Override\n protected void onStart() {\n super.onStart()\n\n FirebaseAuth auth = FirebaseAuth.getInstance();\n FirebaseUser fUser = auth.getCurrentUser();\n\n if (fUser != null){\n  startActivity(new Intent(LoginActivity.this, MainActivity.class));\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8388724,"reputation":45,"user_id":6298178,"accept_rate":50,"display_name":"natsuVsnaruto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1641109255,"creation_date":1478654273,"question_id":40499018,"body_markdown":"I&#39;m a new android developer and a student. I&#39;m having difficulty of if the user is already login in my app. I will show some of my codes. I greatly appreciate for the help and answer.\r\n\r\nLogin.java\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.login);\r\n\r\n        OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\r\n\r\n        if(opr.isDone()) {\r\n            Log.d(TAG,&quot;Got cached sign-in&quot;);\r\n            GoogleSignInResult result = opr.get();\r\n            handleSignInResult(result);\r\n        } else {\r\n            SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\r\n            mStatusView = (TextView) findViewById(R.id.status_text);\r\n            mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    switch (v.getId()) {\r\n                        case R.id.sign_in_button:\r\n                            signInWithGoogle();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n     private void signInWithGoogle(){\r\n        if(mGoogleApiClient != null) {\r\n            mGoogleApiClient.disconnect();\r\n        }\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\r\n        mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\r\n\r\n        final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\r\n        startActivityForResult(signInIntent, RC_SIGN_IN);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode,resultCode,data);\r\n\r\n        if(requestCode == RC_SIGN_IN) {\r\n            GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\r\n            handleSignInResult(result);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void handleSignInResult(GoogleSignInResult result) {\r\n        Log.d(TAG, &quot;handleSignInResult:&quot; + result.isSuccess());\r\n        if(result.isSuccess()) {\r\n            GoogleSignInAccount account = result.getSignInAccount();\r\n            mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\r\n            //TODO: Start another explicit intent here. but this time, start MainActivity\r\n            Intent intent = new Intent(Login.this , MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n            \r\n        } else {\r\n            \r\n        }\r\n    }\r\n\r\n\r\nwhere did i go wrong ?\r\n\r\n","title":"How to check if user is already login in google auth. in android","body":"<p>I'm a new android developer and a student. I'm having difficulty of if the user is already login in my app. I will show some of my codes. I greatly appreciate for the help and answer.</p>\n\n<p>Login.java</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.login);\n\n    OptionalPendingResult&lt;GoogleSignInResult&gt; opr = Auth.GoogleSignInApi.silentSignIn(mGoogleApiClient);\n\n    if(opr.isDone()) {\n        Log.d(TAG,\"Got cached sign-in\");\n        GoogleSignInResult result = opr.get();\n        handleSignInResult(result);\n    } else {\n        SignInButton mGoogleSignInButton = (SignInButton) findViewById(R.id.sign_in_button);\n        mStatusView = (TextView) findViewById(R.id.status_text);\n        mGoogleSignInButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                switch (v.getId()) {\n                    case R.id.sign_in_button:\n                        signInWithGoogle();\n                }\n            }\n        });\n    }\n}\n private void signInWithGoogle(){\n    if(mGoogleApiClient != null) {\n        mGoogleApiClient.disconnect();\n    }\n\n    GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN).requestEmail().build();\n    mGoogleApiClient = new GoogleApiClient.Builder(this).addApi(Auth.GOOGLE_SIGN_IN_API,gso).build();\n\n    final Intent signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient);\n    startActivityForResult(signInIntent, RC_SIGN_IN);\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode,resultCode,data);\n\n    if(requestCode == RC_SIGN_IN) {\n        GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent(data);\n        handleSignInResult(result);\n    }\n}\n\n\n\nprivate void handleSignInResult(GoogleSignInResult result) {\n    Log.d(TAG, \"handleSignInResult:\" + result.isSuccess());\n    if(result.isSuccess()) {\n        GoogleSignInAccount account = result.getSignInAccount();\n        mStatusView.setText(getString(R.string.signed_in_fmt, account.getDisplayName()));\n        //TODO: Start another explicit intent here. but this time, start MainActivity\n        Intent intent = new Intent(Login.this , MainActivity.class);\n        startActivity(intent);\n        finish();\n\n    } else {\n\n    }\n}\n</code></pre>\n\n<p>where did i go wrong ?</p>\n"},{"tags":["java","android","httprequest"],"answers":[{"tags":[],"owner":{"account_id":19712643,"reputation":772,"user_id":14447117,"display_name":"Alfredo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641108751,"creation_date":1641108751,"answer_id":70554303,"question_id":70553832,"body_markdown":"Most files (docs, sheets, presentation, etc..) can be downloaded by replacing **edit** with **export?format=** in the URL.\r\n\r\n    https://docs.google.com/document/d/FILE-ID/edit\r\n    https://docs.google.com/document/d/FILE-ID/export?format=doc\r\n\r\nThere are a lot of formats available (pdf/doc/pptx/xlsx/csv/jpg/etc...)\r\n\r\nThe above solution usually works fine with pdfs, images, native google files and microsoft office files. However, if you are \r\ntrying to download another type of file, you can use the next URL.\r\n\r\n    https://drive.google.com/uc?export=download&amp;id=FILE-ID\r\n\r\n[More URL tricks here][1]\r\n\r\n\r\n  [1]: https://www.labnol.org/internet/direct-links-for-google-drive/28356/","title":"How to download public Google drive file using http request in android using Java?","body":"<p>Most files (docs, sheets, presentation, etc..) can be downloaded by replacing <strong>edit</strong> with <strong>export?format=</strong> in the URL.</p>\n<pre><code>https://docs.google.com/document/d/FILE-ID/edit\nhttps://docs.google.com/document/d/FILE-ID/export?format=doc\n</code></pre>\n<p>There are a lot of formats available (pdf/doc/pptx/xlsx/csv/jpg/etc...)</p>\n<p>The above solution usually works fine with pdfs, images, native google files and microsoft office files. However, if you are\ntrying to download another type of file, you can use the next URL.</p>\n<pre><code>https://drive.google.com/uc?export=download&amp;id=FILE-ID\n</code></pre>\n<p><a href=\"https://www.labnol.org/internet/direct-links-for-google-drive/28356/\" rel=\"nofollow noreferrer\">More URL tricks here</a></p>\n"}],"owner":{"account_id":23803364,"reputation":1,"user_id":17813249,"display_name":"Roshan Sing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641108751,"creation_date":1641101637,"question_id":70553832,"body_markdown":"I have tried so many ways to download google drive public file but unable to find any answer?\r\nIf anyone knows how to do that please help me.\r\n\r\nNote: without using Google drive api","title":"How to download public Google drive file using http request in android using Java?","body":"<p>I have tried so many ways to download google drive public file but unable to find any answer?\nIf anyone knows how to do that please help me.</p>\n<p>Note: without using Google drive api</p>\n"},{"tags":["java","android","libgdx","storage","scoped-storage"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641106703,"creation_date":1641106703,"answer_id":70554152,"question_id":70553358,"body_markdown":"A lott of fuss.\r\n\r\nYou can in the classic way save your files to the public Documents directory.\r\n\r\nOr use SAF with ACTION_OPEN_DOCUMENT_TREE for that directory.\r\n\r\nBoth dont need &#39;all files access&#39;.","title":"Saving Text Files - Scoped Storage Android 11","body":"<p>A lott of fuss.</p>\n<p>You can in the classic way save your files to the public Documents directory.</p>\n<p>Or use SAF with ACTION_OPEN_DOCUMENT_TREE for that directory.</p>\n<p>Both dont need 'all files access'.</p>\n"}],"owner":{"account_id":4579791,"reputation":1487,"user_id":3717168,"accept_rate":55,"display_name":"Tekkerue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70554152,"answer_count":1,"score":0,"last_activity_date":1641106703,"creation_date":1641093075,"question_id":70553358,"body_markdown":"Is there a way to create and save text files outside of the Android/data folder in external storage? I am creating a music app and I added a preset manager so users can save, load, and edit preset files (which worked great before Android 11), I dont want these files to be automatically removed if the app is uninstalled. That would be like if Photoshop deleted all of your Photoshop documents when Photoshop is uninstalled, thats terrible! These are files that the user saves and they can be deleted separately if the user wants to.\r\n\r\nThere has to be a way around this but I havent been able to find anything that works. `ACTION_OPEN_DOCUMENT_TREE` looked very promising, until I saw that Android has removed this option too.\r\n\r\nhttps://developer.android.com/about/versions/11/privacy/storage\r\n\r\n&gt; You can no longer use the ACTION_OPEN_DOCUMENT_TREE intent action to\r\n&gt; request access to the following directories:\r\n&gt; * The root directory of the internal storage volume.\r\n&gt; * The root directory of each SD card volume that the device manufacturer considers to be reliable, regardless of whether the card\r\n&gt; is emulated or removable. A reliable volume is one that an app can\r\n&gt; successfully access most of the time.\r\n&gt; * The Download directory.\r\n\r\nIve read Google Play only allows `MANAGE_EXTERNAL_STORAGE` in apps that need it (like file browsers, or anti-virus, etc) which likely will not work in my case. I dont want to rely on only targeting older APIs so `requestLegacyExternalStorage` wont work either.\r\n\r\nEverything Ive looked into appears to be a dead end. Is there anything else I can do?\r\n\r\nHere is a short test program (Im using LibGDX), which at the moment can only save to the root location:\r\n\r\n    Android/data/com.mygdx.filetest/files/\r\n\r\n**[core] FileTest.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import com.badlogic.gdx.ApplicationListener;\r\n    import com.badlogic.gdx.Files;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.files.FileHandle;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    \r\n    public class FileTest implements ApplicationListener {\r\n        private NativePermissions permissions;\r\n        private Files.FileType fileType;\r\n        private String directory = &quot;TestDir/&quot;;\r\n        private String name = &quot;text.txt&quot;;\r\n           \r\n        public FileTest(final NativePermissions permissions){     \r\n            this.permissions = permissions;\r\n        }\r\n        \r\n        @Override\r\n        public void create(){\r\n            fileType = getFileType();\r\n            if (permissions != null){\r\n                permissions.checkExternalStoragePermission();\r\n            } else {\r\n                permissionGranted();\r\n            }\r\n        }\r\n        private Files.FileType getFileType(){\r\n            switch(Gdx.app.getType()) {\r\n                case Android:\r\n                    return Files.FileType.External;\r\n                default:\r\n                    return Files.FileType.Local;\r\n            }\r\n        }\r\n        \r\n        @Override public void render(){ ScreenUtils.clear(0.4f, 0.4f, 0.4f, 1); }\r\n        @Override public void resize(int width, int height) {}\r\n        @Override public void pause(){}\r\n        @Override public void resume(){}\r\n        @Override public void dispose (){}\r\n        \r\n        public void permissionGranted() {\r\n            FileHandle fileHandle = Gdx.files.getFileHandle(directory+name, fileType); \r\n            if (fileHandle!=null) fileHandle.writeString(&quot;test&quot;, false);\r\n        }\r\n    }\r\n\r\n**[android] AndroidLauncher.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import android.Manifest;\r\n    import android.app.AlertDialog;\r\n    import android.content.DialogInterface;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.core.app.ActivityCompat;\r\n    \r\n    import com.badlogic.gdx.backends.android.AndroidApplication;\r\n    import com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\r\n    \r\n    public class AndroidLauncher extends AndroidApplication {\r\n        private final FileTest application;\r\n        private final int STORAGE_PERMISSION_CODE = 1;\r\n        private boolean dialogBoxShowing = false;\r\n        \r\n        public AndroidLauncher(){\r\n            final AndroidPermissions permissions = new AndroidPermissions(this);\r\n            application = new FileTest(permissions);\r\n        }\r\n        \r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\r\n            initialize(application, config);\r\n        }\r\n        @Override\r\n        public void onRequestPermissionsResult(final int requestCode, final String permissions[], final int[] grantResults) {\r\n            dialogBoxShowing = false;\r\n            if (requestCode == STORAGE_PERMISSION_CODE) {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(this, &quot;Permission GRANTED&quot;, Toast.LENGTH_SHORT).show();\r\n                    permissionGranted();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission DENIED&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n        public void promptExternalStoragePermission() {\r\n            if (dialogBoxShowing) return;\r\n            dialogBoxShowing = true;\r\n            this.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(AndroidLauncher.this);\r\n                    builder.setMessage(&quot;To save user presets and custom settings, allow access to your phones storage.&quot;);\r\n                    builder.setCancelable(false);\r\n                    // reverse these buttons to put &quot;NO&quot; on left and &quot;YES&quot; on right\r\n                    builder.setPositiveButton(&quot;NOT NOW&quot;, new DialogInterface.OnClickListener(){\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialogBoxShowing = false;\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n                    builder.setNegativeButton(&quot;CONTINUE&quot;, new DialogInterface.OnClickListener(){\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            ActivityCompat.requestPermissions(AndroidLauncher.this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\r\n                        }\r\n                    });\r\n                    builder.create().show();\r\n                }\r\n            });\r\n        }\r\n        public void permissionGranted(){ application.permissionGranted(); }\r\n    }\r\n\r\n**[core] NativePermissions.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    public interface NativePermissions {\r\n        public void checkExternalStoragePermission();\r\n    }\r\n\r\n**[android] AndroidPermissions.java**\r\n\r\n    package com.mygdx.filetest;\r\n    \r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    \r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    public class AndroidPermissions implements NativePermissions {\r\n        private final AndroidLauncher context;\r\n        \r\n        public AndroidPermissions(final AndroidLauncher context){\r\n            this.context = context;\r\n        }\r\n        \r\n        @Override\r\n        public void checkExternalStoragePermission() {\r\n            if (ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED){\r\n                context.permissionGranted();\r\n            } else {\r\n                context.promptExternalStoragePermission();\r\n            }\r\n        }\r\n    }\r\n**[android] AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.mygdx.filetest&quot;&gt;\r\n        \r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:isGame=&quot;true&quot;\r\n            android:appCategory=&quot;game&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/GdxTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;com.mygdx.filetest.AndroidLauncher&quot;\r\n                android:label=&quot;@string/app_name&quot; \r\n                android:screenOrientation=&quot;fullUser&quot;\r\n                android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n","title":"Saving Text Files - Scoped Storage Android 11","body":"<p>Is there a way to create and save text files outside of the Android/data folder in external storage? I am creating a music app and I added a preset manager so users can save, load, and edit preset files (which worked great before Android 11), I dont want these files to be automatically removed if the app is uninstalled. That would be like if Photoshop deleted all of your Photoshop documents when Photoshop is uninstalled, thats terrible! These are files that the user saves and they can be deleted separately if the user wants to.</p>\n<p>There has to be a way around this but I havent been able to find anything that works. <code>ACTION_OPEN_DOCUMENT_TREE</code> looked very promising, until I saw that Android has removed this option too.</p>\n<p><a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a></p>\n<blockquote>\n<p>You can no longer use the ACTION_OPEN_DOCUMENT_TREE intent action to\nrequest access to the following directories:</p>\n<ul>\n<li>The root directory of the internal storage volume.</li>\n<li>The root directory of each SD card volume that the device manufacturer considers to be reliable, regardless of whether the card\nis emulated or removable. A reliable volume is one that an app can\nsuccessfully access most of the time.</li>\n<li>The Download directory.</li>\n</ul>\n</blockquote>\n<p>Ive read Google Play only allows <code>MANAGE_EXTERNAL_STORAGE</code> in apps that need it (like file browsers, or anti-virus, etc) which likely will not work in my case. I dont want to rely on only targeting older APIs so <code>requestLegacyExternalStorage</code> wont work either.</p>\n<p>Everything Ive looked into appears to be a dead end. Is there anything else I can do?</p>\n<p>Here is a short test program (Im using LibGDX), which at the moment can only save to the root location:</p>\n<pre><code>Android/data/com.mygdx.filetest/files/\n</code></pre>\n<p><strong>[core] FileTest.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport com.badlogic.gdx.ApplicationListener;\nimport com.badlogic.gdx.Files;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.files.FileHandle;\nimport com.badlogic.gdx.utils.ScreenUtils;\n\npublic class FileTest implements ApplicationListener {\n    private NativePermissions permissions;\n    private Files.FileType fileType;\n    private String directory = &quot;TestDir/&quot;;\n    private String name = &quot;text.txt&quot;;\n       \n    public FileTest(final NativePermissions permissions){     \n        this.permissions = permissions;\n    }\n    \n    @Override\n    public void create(){\n        fileType = getFileType();\n        if (permissions != null){\n            permissions.checkExternalStoragePermission();\n        } else {\n            permissionGranted();\n        }\n    }\n    private Files.FileType getFileType(){\n        switch(Gdx.app.getType()) {\n            case Android:\n                return Files.FileType.External;\n            default:\n                return Files.FileType.Local;\n        }\n    }\n    \n    @Override public void render(){ ScreenUtils.clear(0.4f, 0.4f, 0.4f, 1); }\n    @Override public void resize(int width, int height) {}\n    @Override public void pause(){}\n    @Override public void resume(){}\n    @Override public void dispose (){}\n    \n    public void permissionGranted() {\n        FileHandle fileHandle = Gdx.files.getFileHandle(directory+name, fileType); \n        if (fileHandle!=null) fileHandle.writeString(&quot;test&quot;, false);\n    }\n}\n</code></pre>\n<p><strong>[android] AndroidLauncher.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport android.Manifest;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport androidx.core.app.ActivityCompat;\n\nimport com.badlogic.gdx.backends.android.AndroidApplication;\nimport com.badlogic.gdx.backends.android.AndroidApplicationConfiguration;\n\npublic class AndroidLauncher extends AndroidApplication {\n    private final FileTest application;\n    private final int STORAGE_PERMISSION_CODE = 1;\n    private boolean dialogBoxShowing = false;\n    \n    public AndroidLauncher(){\n        final AndroidPermissions permissions = new AndroidPermissions(this);\n        application = new FileTest(permissions);\n    }\n    \n    @Override\n    protected void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        AndroidApplicationConfiguration config = new AndroidApplicationConfiguration();\n        initialize(application, config);\n    }\n    @Override\n    public void onRequestPermissionsResult(final int requestCode, final String permissions[], final int[] grantResults) {\n        dialogBoxShowing = false;\n        if (requestCode == STORAGE_PERMISSION_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(this, &quot;Permission GRANTED&quot;, Toast.LENGTH_SHORT).show();\n                permissionGranted();\n            } else {\n                Toast.makeText(this, &quot;Permission DENIED&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n    public void promptExternalStoragePermission() {\n        if (dialogBoxShowing) return;\n        dialogBoxShowing = true;\n        this.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                final AlertDialog.Builder builder = new AlertDialog.Builder(AndroidLauncher.this);\n                builder.setMessage(&quot;To save user presets and custom settings, allow access to your phones storage.&quot;);\n                builder.setCancelable(false);\n                // reverse these buttons to put &quot;NO&quot; on left and &quot;YES&quot; on right\n                builder.setPositiveButton(&quot;NOT NOW&quot;, new DialogInterface.OnClickListener(){\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialogBoxShowing = false;\n                        dialog.dismiss();\n                    }\n                });\n                builder.setNegativeButton(&quot;CONTINUE&quot;, new DialogInterface.OnClickListener(){\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        ActivityCompat.requestPermissions(AndroidLauncher.this, new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\n                    }\n                });\n                builder.create().show();\n            }\n        });\n    }\n    public void permissionGranted(){ application.permissionGranted(); }\n}\n</code></pre>\n<p><strong>[core] NativePermissions.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\npublic interface NativePermissions {\n    public void checkExternalStoragePermission();\n}\n</code></pre>\n<p><strong>[android] AndroidPermissions.java</strong></p>\n<pre><code>package com.mygdx.filetest;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\n\nimport androidx.core.content.ContextCompat;\n\npublic class AndroidPermissions implements NativePermissions {\n    private final AndroidLauncher context;\n    \n    public AndroidPermissions(final AndroidLauncher context){\n        this.context = context;\n    }\n    \n    @Override\n    public void checkExternalStoragePermission() {\n        if (ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED){\n            context.permissionGranted();\n        } else {\n            context.promptExternalStoragePermission();\n        }\n    }\n}\n</code></pre>\n<p><strong>[android] AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.mygdx.filetest&quot;&gt;\n    \n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    \n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/ic_launcher&quot;\n        android:isGame=&quot;true&quot;\n        android:appCategory=&quot;game&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/GdxTheme&quot; &gt;\n        &lt;activity\n            android:name=&quot;com.mygdx.filetest.AndroidLauncher&quot;\n            android:label=&quot;@string/app_name&quot; \n            android:screenOrientation=&quot;fullUser&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|navigation|orientation|screenSize|screenLayout&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","types","variable-types"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1640849872,"post_id":70528596,"comment_id":124673535,"body_markdown":"Because Java arithmetic operators promote their operands to `int` or `long`.  So what you are actually seeing is equivalent to (for example) `((int) Byte.MIN_VALUE) - 5` ... which does not overflow `int`.","body":"Because Java arithmetic operators promote their operands to <code>int</code> or <code>long</code>.  So what you are actually seeing is equivalent to (for example) <code>((int) Byte.MIN_VALUE) - 5</code> ... which does not overflow <code>int</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1641109139,"post_id":70528596,"comment_id":124720504,"body_markdown":"@user16320675 - I think that that is the opposite of what the OP means by &quot;exceeding the limit&quot;.  The result will be `-128` which in the OP&#39;s sense is still within the limit of `byte`.  Look carefully at the OP&#39;s examples to understand what the question is asking.","body":"@user16320675 - I think that that is the opposite of what the OP means by &quot;exceeding the limit&quot;.  The result will be <code>-128</code> which in the OP&#39;s sense is still within the limit of <code>byte</code>.  Look carefully at the OP&#39;s examples to understand what the question is asking."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1641109333,"post_id":70528596,"comment_id":124720525,"body_markdown":"@Mahub - How to overcome it?  Cast the result to a `byte` or `short`.  Or use `+=`, `-=` and so on.","body":"@Mahub - How to overcome it?  Cast the result to a <code>byte</code> or <code>short</code>.  Or use <code>+=</code>, <code>-=</code> and so on."}],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1640850695,"answer_count":0,"score":0,"last_activity_date":1641106525,"creation_date":1640849189,"question_id":70528596,"body_markdown":"In Java Integer and Long data type does not exceed their limit.\r\n\r\n    System.out.println(&quot;Min Integer Value: &quot; + Integer.MIN_VALUE);\r\n    System.out.println(&quot;Max Integer Value: &quot; + Integer.MAX_VALUE);\r\n    System.out.println(&quot;Busted Min Integer Value: &quot; + (Integer.MIN_VALUE - 1));\r\n    System.out.println(&quot;Busted Max Integer Value: &quot; + (Integer.MAX_VALUE + 1));\r\n\r\n    System.out.println(&quot;Min Long Value: &quot; + Long.MIN_VALUE);\r\n    System.out.println(&quot;Max Long Value: &quot; + Long.MAX_VALUE);\r\n    System.out.println(&quot;Busted Min Long Value: &quot; + (Long.MIN_VALUE - 1));\r\n    System.out.println(&quot;Busted Max Long Value: &quot; + (Long.MAX_VALUE + 1));\r\n\r\nOutput:\r\n\r\n    Min Integer Value: -2147483648\r\n    Max Integer Value: 2147483647\r\n    Busted Min Integer Value: 2147483647\r\n    Busted Max Integer Value: -2147483648\r\n    \r\n    Min Long Value: -9223372036854775808\r\n    Max Long Value: 9223372036854775807\r\n    Busted Min Long Value: 9223372036854775807\r\n    Busted Max Long Value: -9223372036854775808\r\n\r\nBut Short and Byte go over their limit.\r\n\r\n    System.out.println(&quot;Min Short Value: &quot; + Short.MIN_VALUE);\r\n    System.out.println(&quot;Max Short Value: &quot; + Short.MAX_VALUE);\r\n    System.out.println(&quot;Overflow Min Short Value: &quot; + (Short.MIN_VALUE - 5));\r\n    System.out.println(&quot;Overflow Max Short Value: &quot; + (Short.MAX_VALUE + 10));\r\n    \r\n    System.out.println(&quot;Min Byte Value: &quot; + Byte.MIN_VALUE);\r\n    System.out.println(&quot;Max Byte Value: &quot; + Byte.MAX_VALUE);\r\n    System.out.println(&quot;Overflow Min Byte Value: &quot; + (Byte.MIN_VALUE - 5));\r\n    System.out.println(&quot;Overflow Max Byte Value: &quot; + (Byte.MAX_VALUE + 10));\r\n\r\nOutput:\r\n\r\n    Min Short Value: -32768\r\n    Max Short Value: 32767\r\n    Overflow Min Short Value: -32773\r\n    Overflow Max Short Value: 32777\r\n    \r\n    Min Byte Value: -128\r\n    Max Byte Value: 127\r\n    Overflow Min Byte Value: -133\r\n    Overflow Max Byte Value: 137\r\n\r\n**Why short and byte behave like that?**\r\n\r\n**How to overcome this problem?**","title":"Why Byte and Short type exceed their limit in java? How to overcome this?","body":"<p>In Java Integer and Long data type does not exceed their limit.</p>\n<pre><code>System.out.println(&quot;Min Integer Value: &quot; + Integer.MIN_VALUE);\nSystem.out.println(&quot;Max Integer Value: &quot; + Integer.MAX_VALUE);\nSystem.out.println(&quot;Busted Min Integer Value: &quot; + (Integer.MIN_VALUE - 1));\nSystem.out.println(&quot;Busted Max Integer Value: &quot; + (Integer.MAX_VALUE + 1));\n\nSystem.out.println(&quot;Min Long Value: &quot; + Long.MIN_VALUE);\nSystem.out.println(&quot;Max Long Value: &quot; + Long.MAX_VALUE);\nSystem.out.println(&quot;Busted Min Long Value: &quot; + (Long.MIN_VALUE - 1));\nSystem.out.println(&quot;Busted Max Long Value: &quot; + (Long.MAX_VALUE + 1));\n</code></pre>\n<p>Output:</p>\n<pre><code>Min Integer Value: -2147483648\nMax Integer Value: 2147483647\nBusted Min Integer Value: 2147483647\nBusted Max Integer Value: -2147483648\n\nMin Long Value: -9223372036854775808\nMax Long Value: 9223372036854775807\nBusted Min Long Value: 9223372036854775807\nBusted Max Long Value: -9223372036854775808\n</code></pre>\n<p>But Short and Byte go over their limit.</p>\n<pre><code>System.out.println(&quot;Min Short Value: &quot; + Short.MIN_VALUE);\nSystem.out.println(&quot;Max Short Value: &quot; + Short.MAX_VALUE);\nSystem.out.println(&quot;Overflow Min Short Value: &quot; + (Short.MIN_VALUE - 5));\nSystem.out.println(&quot;Overflow Max Short Value: &quot; + (Short.MAX_VALUE + 10));\n\nSystem.out.println(&quot;Min Byte Value: &quot; + Byte.MIN_VALUE);\nSystem.out.println(&quot;Max Byte Value: &quot; + Byte.MAX_VALUE);\nSystem.out.println(&quot;Overflow Min Byte Value: &quot; + (Byte.MIN_VALUE - 5));\nSystem.out.println(&quot;Overflow Max Byte Value: &quot; + (Byte.MAX_VALUE + 10));\n</code></pre>\n<p>Output:</p>\n<pre><code>Min Short Value: -32768\nMax Short Value: 32767\nOverflow Min Short Value: -32773\nOverflow Max Short Value: 32777\n\nMin Byte Value: -128\nMax Byte Value: 127\nOverflow Min Byte Value: -133\nOverflow Max Byte Value: 137\n</code></pre>\n<p><strong>Why short and byte behave like that?</strong></p>\n<p><strong>How to overcome this problem?</strong></p>\n"},{"tags":["java","android","service","timer","timertask"],"answers":[{"tags":[],"owner":{"account_id":315449,"reputation":4648,"user_id":631147,"display_name":"Mike dg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1303738346,"creation_date":1303738346,"answer_id":5778816,"question_id":5778409,"body_markdown":"Sounds like you need a [Partial Wake Lock][1]\r\nThis will stop the CPU from going into a sleep state when the screen is off. Be warned though, misuse can cause battery issues and you need a permission to use wake locks.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/PowerManager.html","title":"Android Timer ticks late when phone screen locked","body":"<p>Sounds like you need a <a href=\"http://developer.android.com/reference/android/os/PowerManager.html\" rel=\"noreferrer\">Partial Wake Lock</a>\nThis will stop the CPU from going into a sleep state when the screen is off. Be warned though, misuse can cause battery issues and you need a permission to use wake locks.</p>\n"}],"owner":{"account_id":195892,"reputation":1550,"user_id":439051,"accept_rate":100,"display_name":"Yasin YILDIRIM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4365,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5778816,"answer_count":1,"score":9,"last_activity_date":1641105085,"creation_date":1303735270,"question_id":5778409,"body_markdown":"I have a service that runs a TimerTask in a method, which must count every second and do something after some time. My service works properly and when i start the method in service, timer starts to tick every second (1000 milliseconds). The problem is, when device&#39;s screen turns off, my timer stops sometimes and doesn&#39;t count properly. I can see in the log file that timer stops for 15 seconds, then runs 5 seconds, then stops again... When the device is connected to computer, timer always works normally, this problem occurs when i disconnect the device from computer.\r\n\r\nHere&#39;s my service:\r\n\r\n    public class MyService extends Service {\r\n    \tprivate String TAG = getClass().getName();\r\n\r\n    \tpublic void count() {\r\n    \t\t\r\n    \t\tLog.i(TAG, &quot;Service Count Method Start&quot;);\r\n    \t\t\r\n    \t\tint counter;\r\n    \t\tTimer mTimer = new Timer();\r\n    \t\t\r\n    \t\tmTimer.schedule(new TimerTask() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tLog.i(TAG, &quot;Timer count value : &quot; + counter);\r\n    \t\t\t\t\r\n    \t\t\t\tif (!someCondition) {\r\n    \t\t\t\t\tcounter++;\r\n    \t\t\t\t\tif (DefaultApplication.notOnDisplayTime &gt;= 180) {\r\n    \t\t\t\t\t\tLog.d(TAG, &quot;APPLICATION REACHED TIME LIMIT!&quot;);\r\n    \t\t\t\t\t\tsomeCondition = true;\r\n\r\n    \t\t\t\t\t} else\r\n    \t\t\t\t    \t    \tsomeCondition = false;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tcounter = 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}, 0, 1000);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn mBinder;\r\n    \t}\r\n    \t\r\n    \tpublic class MyServiceBinder extends Binder {\r\n    \t\tpublic MyService getService() {\r\n    \t\t\treturn MyService.this;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate final IBinder mBinder = new MyServiceBinder();\r\n    \t@Override\r\n    \tpublic boolean onUnbind(Intent intent) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tLog.i(TAG, &quot;MyService Unbound&quot;);\r\n    \t\treturn super.onUnbind(intent);\r\n    \t}\r\n    }\r\n\r\n\r\nAnd here&#39;s the logcat output:\r\n\r\n        04-25 14:35:22.951 I/com.mypackagename.MyService( 6745): Timer count value : 73\r\n        04-25 14:35:23.949 I/com.mypackagename.MyService( 6745): Timer count value : 74\r\n        04-25 14:35:24.019 D/dalvikvm( 6832): GC_FOR_MALLOC freed 6656 objects / 495856 bytes in 61ms\r\n        04-25 14:35:24.951 I/com.mypackagename.MyService( 6745): Timer count value : 75\r\n        04-25 14:35:25.951 I/com.mypackagename.MyService( 6745): Timer count value : 76\r\n\r\n*#### Screen is getting locked here ####*\r\n\r\n        04-25 14:35:26.929 I/power ( 96): *** set_screen_state 0]\r\n        04-25 14:35:26.959 V/KeyguardViewMediator( 96): password timeout now\r\n        04-25 14:35:26.959 D/KeyguardViewManager( 96): show()\r\n        04-25 14:35:26.999 D/Sensors ( 96): close_akm, fd=138\r\n        04-25 14:35:26.999 I/com.mypackagename.MyService( 6745): Timer count value : 77\r\n        04-25 14:35:27.039 D/HtcLockScreen( 96): onScreenRestart\r\n        04-25 14:35:27.039 I/HtcLockScreen( 96): updateStatusViewByPriority, mIsSimCheckView = false, mIsBatteryInfo = false, mIsMusicPlaying = false, mIsAirPlaneMode = false\r\n        04-25 14:35:27.049 I/HtcLockScreen( 96): HtcLockScreen:onResume \r\n        04-25 14:35:27.069 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\r\n        04-25 14:35:27.079 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\r\n        04-25 14:35:27.109 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=0, pid=96, w=480, h=762 success\r\n        04-25 14:35:27.339 D/alogcat ( 6832): stopping ...\r\n        04-25 14:35:27.339 D/alogcat ( 6832): paused\r\n        04-25 14:35:27.609 D/SurfaceFlinger( 96): About to give-up screen, flinger = 0xb4e28\r\n        04-25 14:35:27.669 D/AK8973 ( 72): Compass CLOSE\r\n\r\n*#### Screen Locked ####*\r\n\r\n        04-25 14:35:27.949 I/com.mypackagename.MyService( 6745): Timer count value : 78\r\n        04-25 14:35:28.949 I/com.mypackagename.MyService( 6745): Timer count value : 79\r\n        04-25 14:35:44.602 I/com.mypackagename.MyService( 6745): Timer count value : 80\r\n        04-25 14:35:45.603 I/com.mypackagename.MyService( 6745): Timer count value : 81\r\n        04-25 14:35:45.784 I/wpa_supplicant( 256): CTRL-EVENT-SCAN-RESULTS Ready\r\n        04-25 14:35:45.799 D/LocationMasfClient( 96): getNetworkLocation(): Returning cache location with accuracy 75.0\r\n        04-25 14:35:46.603 I/com.mypackagename.MyService( 6745): Timer count value : 82\r\n        04-25 14:35:47.603 I/com.mypackagename.MyService( 6745): Timer count value : 83\r\n        04-25 14:35:48.604 I/com.mypackagename.MyService( 6745): Timer count value : 84\r\n        04-25 14:35:49.604 I/com.mypackagename.MyService( 6745): Timer count value : 85\r\n        04-25 14:36:10.558 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=1, pid=96, w=480, h=762 success\r\n        04-25 14:36:11.033 I/com.mypackagename.MyService( 6745): Timer count value : 86\r\n        04-25 14:36:13.269 I/com.mypackagename.MyService( 6745): Timer count value : 87\r\n        04-25 14:36:13.289 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\r\n        04-25 14:36:14.039 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\r\n        04-25 14:36:14.269 I/com.mypackagename.MyService( 6745): Timer count value : 88\r\n        04-25 14:36:17.009 I/com.mypackagename.MyService( 6745): Timer count value : 89\r\n        04-25 14:36:29.512 I/com.mypackagename.MyService( 6745): Timer count value : 90\r\n\r\nYou can see that after the screen locked, timer doesn&#39;t seem to tick every second. It stops for 15 - 20 seconds periods then works normally for 5 seconds...\r\n\r\nAny opinion about how to prevent timer to stop when device screen locked?","title":"Android Timer ticks late when phone screen locked","body":"<p>I have a service that runs a TimerTask in a method, which must count every second and do something after some time. My service works properly and when i start the method in service, timer starts to tick every second (1000 milliseconds). The problem is, when device's screen turns off, my timer stops sometimes and doesn't count properly. I can see in the log file that timer stops for 15 seconds, then runs 5 seconds, then stops again... When the device is connected to computer, timer always works normally, this problem occurs when i disconnect the device from computer.</p>\n\n<p>Here's my service:</p>\n\n<pre><code>public class MyService extends Service {\n    private String TAG = getClass().getName();\n\n    public void count() {\n\n        Log.i(TAG, \"Service Count Method Start\");\n\n        int counter;\n        Timer mTimer = new Timer();\n\n        mTimer.schedule(new TimerTask() {\n\n            @Override\n            public void run() {\n\n\n                Log.i(TAG, \"Timer count value : \" + counter);\n\n                if (!someCondition) {\n                    counter++;\n                    if (DefaultApplication.notOnDisplayTime &gt;= 180) {\n                        Log.d(TAG, \"APPLICATION REACHED TIME LIMIT!\");\n                        someCondition = true;\n\n                    } else\n                                someCondition = false;\n                } else {\n                    counter = 0;\n                }\n            }\n        }, 0, 1000);\n\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO Auto-generated method stub\n        return mBinder;\n    }\n\n    public class MyServiceBinder extends Binder {\n        public MyService getService() {\n            return MyService.this;\n        }\n    }\n\n    private final IBinder mBinder = new MyServiceBinder();\n    @Override\n    public boolean onUnbind(Intent intent) {\n        // TODO Auto-generated method stub\n        Log.i(TAG, \"MyService Unbound\");\n        return super.onUnbind(intent);\n    }\n}\n</code></pre>\n\n<p>And here's the logcat output:</p>\n\n<pre><code>    04-25 14:35:22.951 I/com.mypackagename.MyService( 6745): Timer count value : 73\n    04-25 14:35:23.949 I/com.mypackagename.MyService( 6745): Timer count value : 74\n    04-25 14:35:24.019 D/dalvikvm( 6832): GC_FOR_MALLOC freed 6656 objects / 495856 bytes in 61ms\n    04-25 14:35:24.951 I/com.mypackagename.MyService( 6745): Timer count value : 75\n    04-25 14:35:25.951 I/com.mypackagename.MyService( 6745): Timer count value : 76\n</code></pre>\n\n<p><em>#### Screen is getting locked here ####</em></p>\n\n<pre><code>    04-25 14:35:26.929 I/power ( 96): *** set_screen_state 0]\n    04-25 14:35:26.959 V/KeyguardViewMediator( 96): password timeout now\n    04-25 14:35:26.959 D/KeyguardViewManager( 96): show()\n    04-25 14:35:26.999 D/Sensors ( 96): close_akm, fd=138\n    04-25 14:35:26.999 I/com.mypackagename.MyService( 6745): Timer count value : 77\n    04-25 14:35:27.039 D/HtcLockScreen( 96): onScreenRestart\n    04-25 14:35:27.039 I/HtcLockScreen( 96): updateStatusViewByPriority, mIsSimCheckView = false, mIsBatteryInfo = false, mIsMusicPlaying = false, mIsAirPlaneMode = false\n    04-25 14:35:27.049 I/HtcLockScreen( 96): HtcLockScreen:onResume \n    04-25 14:35:27.069 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\n    04-25 14:35:27.079 D/SurfaceFlinger( 96): Layer::setBuffers(this=0x785580), pid=96, w=480, h=762\n    04-25 14:35:27.109 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=0, pid=96, w=480, h=762 success\n    04-25 14:35:27.339 D/alogcat ( 6832): stopping ...\n    04-25 14:35:27.339 D/alogcat ( 6832): paused\n    04-25 14:35:27.609 D/SurfaceFlinger( 96): About to give-up screen, flinger = 0xb4e28\n    04-25 14:35:27.669 D/AK8973 ( 72): Compass CLOSE\n</code></pre>\n\n<p><em>#### Screen Locked ####</em></p>\n\n<pre><code>    04-25 14:35:27.949 I/com.mypackagename.MyService( 6745): Timer count value : 78\n    04-25 14:35:28.949 I/com.mypackagename.MyService( 6745): Timer count value : 79\n    04-25 14:35:44.602 I/com.mypackagename.MyService( 6745): Timer count value : 80\n    04-25 14:35:45.603 I/com.mypackagename.MyService( 6745): Timer count value : 81\n    04-25 14:35:45.784 I/wpa_supplicant( 256): CTRL-EVENT-SCAN-RESULTS Ready\n    04-25 14:35:45.799 D/LocationMasfClient( 96): getNetworkLocation(): Returning cache location with accuracy 75.0\n    04-25 14:35:46.603 I/com.mypackagename.MyService( 6745): Timer count value : 82\n    04-25 14:35:47.603 I/com.mypackagename.MyService( 6745): Timer count value : 83\n    04-25 14:35:48.604 I/com.mypackagename.MyService( 6745): Timer count value : 84\n    04-25 14:35:49.604 I/com.mypackagename.MyService( 6745): Timer count value : 85\n    04-25 14:36:10.558 D/SurfaceFlinger( 96): Layer::requestBuffer(this=0x785580), index=1, pid=96, w=480, h=762 success\n    04-25 14:36:11.033 I/com.mypackagename.MyService( 6745): Timer count value : 86\n    04-25 14:36:13.269 I/com.mypackagename.MyService( 6745): Timer count value : 87\n    04-25 14:36:13.289 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\n    04-25 14:36:14.039 D/com.mypackagename.utils.XUtil( 6745): return 0 char $\n    04-25 14:36:14.269 I/com.mypackagename.MyService( 6745): Timer count value : 88\n    04-25 14:36:17.009 I/com.mypackagename.MyService( 6745): Timer count value : 89\n    04-25 14:36:29.512 I/com.mypackagename.MyService( 6745): Timer count value : 90\n</code></pre>\n\n<p>You can see that after the screen locked, timer doesn't seem to tick every second. It stops for 15 - 20 seconds periods then works normally for 5 seconds...</p>\n\n<p>Any opinion about how to prevent timer to stop when device screen locked?</p>\n"},{"tags":["java","jsp-tags"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1306390611,"post_id":6134139,"comment_id":7120077,"body_markdown":"My first question would be, are you using Eclipse for Java EE Developers?","body":"My first question would be, are you using Eclipse for Java EE Developers?"},{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":0,"creation_date":1306395159,"post_id":6134139,"comment_id":7121108,"body_markdown":"Yes, I downloaded the package for Java EE.","body":"Yes, I downloaded the package for Java EE."}],"answers":[{"tags":[],"owner":{"account_id":80269,"reputation":880,"user_id":227081,"accept_rate":88,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1306390411,"creation_date":1306390411,"answer_id":6134428,"question_id":6134139,"body_markdown":"If Eclipse doesn&#39;t automatically pick up the XSD from the library, you can always add it manually:\r\nWindow &gt; Preferences &gt; XML &gt; XML Catalog\r\n\r\nIn my case it was already present in the plugin section. It probably came with one of the Eclipse Java EE plugins.","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>If Eclipse doesn't automatically pick up the XSD from the library, you can always add it manually:\nWindow > Preferences > XML > XML Catalog</p>\n\n<p>In my case it was already present in the plugin section. It probably came with one of the Eclipse Java EE plugins.</p>\n"},{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1312703256,"creation_date":1312699731,"answer_id":6971237,"question_id":6134139,"body_markdown":"I didn&#39;t bother looking at this problem for over a month, because anyway everything was working in Tomcat. Recently I tried GlassFish and JBoss. While GlassFish 3.1.1 didn&#39;t complain, JBoss 7.0 refused to run the application, because of tld problems. In the meantime I&#39;ve also updated Eclipse Helios to Indigo.\r\n\r\nI figured out that I was using DTD and Schema at the same time, which can&#39;t be good. I ditched the DTD and kept only the Schema. I had to rename a few tags, such as tlibversion to tlib-version, shortname to short-name, bodycontent to body-content, tagclass to tag-class, remove the info tag, which I substituted with XML comments. I guess it&#39;s probably a newer version of the specs, because in the example I followed they were named without hyphens.\r\n\r\nAfter that everything worked: Eclipse didn&#39;t give any warning any more, JBoss ran the application perfectly. For reference here is the working tld:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;taglib\r\n\t\t\txsi:schemaLocation=&quot;\r\n\t\t\t\thttp://java.sun.com/xml/ns/javaee \r\n\t\t\t\thttp://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd&quot;\r\n\t\t\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n\t\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\tversion=&quot;2.1&quot;&gt;\r\n\t\t&lt;tlib-version&gt;1.0&lt;/tlib-version&gt; \r\n\t\t&lt;short-name&gt;StivloTags&lt;/short-name&gt;\r\n\t\t&lt;uri&gt;http://www.stefanolocati.it/&lt;/uri&gt;\r\n\r\n\t\t&lt;!-- Example from http://www.stardeveloper.com/articles/display.html?article=2001081301&amp;amp;page=1 --&gt;\r\n\t\t&lt;tag&gt; \r\n\t\t\t&lt;name&gt;firstTag&lt;/name&gt; \r\n\t\t\t&lt;tag-class&gt;obliquid.tag.FirstTag&lt;/tag-class&gt;\r\n\t\t\t&lt;body-content&gt;empty&lt;/body-content&gt; \r\n\t\t\t&lt;attribute&gt;\r\n\t\t\t\t&lt;name&gt;name&lt;/name&gt;\r\n\t\t\t\t&lt;required&gt;false&lt;/required&gt;\r\n\t\t\t&lt;/attribute&gt;\r\n\t\t&lt;/tag&gt; \r\n\t\t\r\n\t\t&lt;!-- Truncate text after maxLength or 80 chars, adding &quot;&amp;amp;hellip;&quot; if the the text was longer --&gt;\r\n\t\t&lt;tag&gt;\r\n\t\t\t&lt;name&gt;ellipsis&lt;/name&gt;\r\n\t\t\t&lt;tag-class&gt;obliquid.tag.Ellipsis&lt;/tag-class&gt;\r\n\t\t\t&lt;body-content&gt;scriptless&lt;/body-content&gt;\r\n\t\t\t&lt;attribute&gt;\r\n\t\t\t\t &lt;name&gt;maxLength&lt;/name&gt;\r\n\t\t\t\t &lt;required&gt;false&lt;/required&gt;\r\n\t\t\t&lt;/attribute&gt;\r\n\t\t&lt;/tag&gt;\r\n\t\t\r\n\t&lt;/taglib&gt;\r\n\r\n","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>I didn't bother looking at this problem for over a month, because anyway everything was working in Tomcat. Recently I tried GlassFish and JBoss. While GlassFish 3.1.1 didn't complain, JBoss 7.0 refused to run the application, because of tld problems. In the meantime I've also updated Eclipse Helios to Indigo.</p>\n\n<p>I figured out that I was using DTD and Schema at the same time, which can't be good. I ditched the DTD and kept only the Schema. I had to rename a few tags, such as tlibversion to tlib-version, shortname to short-name, bodycontent to body-content, tagclass to tag-class, remove the info tag, which I substituted with XML comments. I guess it's probably a newer version of the specs, because in the example I followed they were named without hyphens.</p>\n\n<p>After that everything worked: Eclipse didn't give any warning any more, JBoss ran the application perfectly. For reference here is the working tld:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;taglib\n        xsi:schemaLocation=\"\n            http://java.sun.com/xml/ns/javaee \n            http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd\"\n        xmlns=\"http://java.sun.com/xml/ns/javaee\" \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        version=\"2.1\"&gt;\n    &lt;tlib-version&gt;1.0&lt;/tlib-version&gt; \n    &lt;short-name&gt;StivloTags&lt;/short-name&gt;\n    &lt;uri&gt;http://www.stefanolocati.it/&lt;/uri&gt;\n\n    &lt;!-- Example from http://www.stardeveloper.com/articles/display.html?article=2001081301&amp;amp;page=1 --&gt;\n    &lt;tag&gt; \n        &lt;name&gt;firstTag&lt;/name&gt; \n        &lt;tag-class&gt;obliquid.tag.FirstTag&lt;/tag-class&gt;\n        &lt;body-content&gt;empty&lt;/body-content&gt; \n        &lt;attribute&gt;\n            &lt;name&gt;name&lt;/name&gt;\n            &lt;required&gt;false&lt;/required&gt;\n        &lt;/attribute&gt;\n    &lt;/tag&gt; \n\n    &lt;!-- Truncate text after maxLength or 80 chars, adding \"&amp;amp;hellip;\" if the the text was longer --&gt;\n    &lt;tag&gt;\n        &lt;name&gt;ellipsis&lt;/name&gt;\n        &lt;tag-class&gt;obliquid.tag.Ellipsis&lt;/tag-class&gt;\n        &lt;body-content&gt;scriptless&lt;/body-content&gt;\n        &lt;attribute&gt;\n             &lt;name&gt;maxLength&lt;/name&gt;\n             &lt;required&gt;false&lt;/required&gt;\n        &lt;/attribute&gt;\n    &lt;/tag&gt;\n\n&lt;/taglib&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21444556,"reputation":11,"user_id":15798369,"display_name":"VIVEK SINGH LATWAL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641104938,"creation_date":1641104938,"answer_id":70554037,"question_id":6134139,"body_markdown":"its &lt;br&gt; [java.sun.com/dtd/web-jsptaglibrary_1_2.dtd][1]\r\nnot &lt;br&gt;\r\nhttp://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd\r\n\r\ngo to the second link you will see. &lt;br&gt;\r\nfaced the same problem . the file itself said that the location is changed.\r\n\r\n\r\n  [1]: http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>its <br> <a href=\"http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd\" rel=\"nofollow noreferrer\">java.sun.com/dtd/web-jsptaglibrary_1_2.dtd</a>\nnot <br>\n<a href=\"http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd\" rel=\"nofollow noreferrer\">http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd</a></p>\n<p>go to the second link you will see. <br>\nfaced the same problem . the file itself said that the location is changed.</p>\n"}],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15911,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":6134428,"answer_count":3,"score":7,"last_activity_date":1641104938,"creation_date":1306388279,"question_id":6134139,"body_markdown":"I&#39;ve written my JSP custom tag with the following TLD:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;taglib\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd&quot;\r\n      xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      version=&quot;2.1&quot;&gt;\r\n      &lt;tlibversion&gt;1.0&lt;/tlibversion&gt; \r\n      &lt;jspversion&gt;2.1&lt;/jspversion&gt;\r\n      ...\r\n\r\nNow Eclipse Helios complains that &quot;No grammar constraints (DTD or XML schema) detected for the document.&quot;\r\n\r\nI know how to disable the warning, I was instead wondering how to solve the problem by providing DTD or schema information.\r\n\r\nBy the way in the above piece of XML I have:\r\n\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd&quot;\r\n\r\nbut it doesn&#39;t seem to help.\r\n\r\n**UPDATE** on Peter&#39;s suggestion I went to check in my Window &gt; Preferences &gt; XML &gt; XML Catalog and I found the following that may fit:\r\n\r\n    Entry element:  Public\r\n    Location:   dtdsAndSchemas/web-jsptaglibrary_1_2.dtd in jar file \r\n    usr/local/eclipse/plugins/org.eclipse.jst.standard.schemas_1.1.0.v201003031644.jar\r\n    URI:       jar:file:/usr/local/eclipse/plugins/org\r\n      .eclipse.jst.standard.schemas_1.1.0.v201003031644.jar!/dtdsAndSchemas\r\n      /web-jsptaglibrary_1_2.dtd\r\n    Key type:   Public ID\r\n    Key:    -//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\r\n\r\nSo I tried to add the following to my tld:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE taglib PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot; \r\n    &quot;http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n\r\nNow I&#39;ve the following errors:\r\n\r\nMultiple annotations found at this line:\r\n\r\n* Attribute &quot;xsi:schemaLocation&quot; must be declared for element type &quot;taglib&quot;.\r\n* Attribute &quot;version&quot; must be declared for element type &quot;taglib&quot;.\r\n* Attribute &quot;xmlns&quot; with value &quot;http://java.sun.com/xml/ns/javaee&quot; must have a value of &quot;http://java.sun.com/JSP/ TagLibraryDescriptor&quot;.\r\n\r\n* schema_reference.4: Failed to read schema document &#39;web-jsptaglibrary_2_1.xsd&#39;, because\r\n\r\n    1) could not find the document; \r\n    2) the document could not be read; \r\n    3) the root element of the document is not &lt;xsd:schema&gt;.\r\n\r\n* The content of element type &quot;taglib&quot; must match &quot;(tlib-version,jsp-version,short-name,uri?,display-name?,small-icon?,large-icon?,description?,validator?,listener*,tag+)&quot;.\r\n* Attribute &quot;xmlns:xsi&quot; must be declared for element type &quot;taglib&quot;.\r\n","title":"JSP custom tags: missing DTD/XML Schema","body":"<p>I've written my JSP custom tag with the following TLD:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;taglib\n  xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd\"\n  xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  version=\"2.1\"&gt;\n  &lt;tlibversion&gt;1.0&lt;/tlibversion&gt; \n  &lt;jspversion&gt;2.1&lt;/jspversion&gt;\n  ...\n</code></pre>\n\n<p>Now Eclipse Helios complains that \"No grammar constraints (DTD or XML schema) detected for the document.\"</p>\n\n<p>I know how to disable the warning, I was instead wondering how to solve the problem by providing DTD or schema information.</p>\n\n<p>By the way in the above piece of XML I have:</p>\n\n<pre><code>xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee web-jsptaglibrary_2_1.xsd\"\n</code></pre>\n\n<p>but it doesn't seem to help.</p>\n\n<p><strong>UPDATE</strong> on Peter's suggestion I went to check in my Window > Preferences > XML > XML Catalog and I found the following that may fit:</p>\n\n<pre><code>Entry element:  Public\nLocation:   dtdsAndSchemas/web-jsptaglibrary_1_2.dtd in jar file \nusr/local/eclipse/plugins/org.eclipse.jst.standard.schemas_1.1.0.v201003031644.jar\nURI:       jar:file:/usr/local/eclipse/plugins/org\n  .eclipse.jst.standard.schemas_1.1.0.v201003031644.jar!/dtdsAndSchemas\n  /web-jsptaglibrary_1_2.dtd\nKey type:   Public ID\nKey:    -//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\n</code></pre>\n\n<p>So I tried to add the following to my tld:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE taglib PUBLIC \"-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN\" \n\"http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_2.dtd\"&gt;\n</code></pre>\n\n<p>Now I've the following errors:</p>\n\n<p>Multiple annotations found at this line:</p>\n\n<ul>\n<li>Attribute \"xsi:schemaLocation\" must be declared for element type \"taglib\".</li>\n<li>Attribute \"version\" must be declared for element type \"taglib\".</li>\n<li><p>Attribute \"xmlns\" with value \"http://java.sun.com/xml/ns/javaee\" must have a value of \"http://java.sun.com/JSP/ TagLibraryDescriptor\".</p></li>\n<li><p>schema_reference.4: Failed to read schema document 'web-jsptaglibrary_2_1.xsd', because</p>\n\n<p>1) could not find the document; \n2) the document could not be read; \n3) the root element of the document is not .</p></li>\n<li><p>The content of element type \"taglib\" must match \"(tlib-version,jsp-version,short-name,uri?,display-name?,small-icon?,large-icon?,description?,validator?,listener*,tag+)\".</p></li>\n<li>Attribute \"xmlns:xsi\" must be declared for element type \"taglib\".</li>\n</ul>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1641113325,"post_id":70554031,"comment_id":124721073,"body_markdown":"This is not dynamic programming. There is no memoization. Calculating the time complexity is quite complex here. It involves Catalan numbers. Look into that.","body":"This is not dynamic programming. There is no memoization. Calculating the time complexity is quite complex here. It involves Catalan numbers. Look into that."},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1641114669,"post_id":70554031,"comment_id":124721288,"body_markdown":"No memoization, but it uses tabulation, right @trincot? It builds the solution in a bottom-up manner. Previous step result is stored &amp; used to calculate the current step result.","body":"No memoization, but it uses tabulation, right @trincot? It builds the solution in a bottom-up manner. Previous step result is stored &amp; used to calculate the current step result."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1641119258,"post_id":70554031,"comment_id":124721994,"body_markdown":"Yes, it uses tabulation, although still in a top-down manner, as *n* set objects are created before getting to the base case.","body":"Yes, it uses tabulation, although still in a top-down manner, as <i>n</i> set objects are created before getting to the base case."},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1641136310,"post_id":70554031,"comment_id":124725366,"body_markdown":"I still think it is bottom-up manner. Line &quot;for (String s : generateParenthesis(n - 1)) {&quot;  will first satisfy the base case. Then it will incrementally build the result case using tabulation.","body":"I still think it is bottom-up manner. Line &quot;for (String s : generateParenthesis(n - 1)) {&quot;  will first satisfy the base case. Then it will incrementally build the result case using tabulation."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1641136585,"post_id":70554031,"comment_id":124725434,"body_markdown":"Think of how it would be with top-down. Surely you also then need the base cases before you can increment the result. That is not what distinguishes bottom up from top down.","body":"Think of how it would be with top-down. Surely you also then need the base cases before you can increment the result. That is not what distinguishes bottom up from top down."}],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641104834,"creation_date":1641104834,"question_id":70554031,"body_markdown":"```\r\npublic List&lt;String&gt; generateParenthesis(int n) {\r\n    if (n &lt; 1) {\r\n        return Arrays.asList(&quot;&quot;);\r\n    } else if (n == 1) {\r\n        return Arrays.asList(&quot;()&quot;);\r\n    } else {\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(n * 2);\r\n        for (String s : generateParenthesis(n - 1)) {\r\n            char[] ca = s.toCharArray();\r\n            int len = s.length();\r\n            for (int i = 0; i &lt; len; i++) {\r\n                set.add(String.copyValueOf(ca, 0, i) + &quot;()&quot;\r\n                        + String.copyValueOf(ca, i, len - i));\r\n            }\r\n        }\r\n        return new ArrayList&lt;String&gt;(set);\r\n    }\r\n}\r\n```\r\nI found the above code online from an old post https://rekinyz.wordpress.com/2015/02/13/generate-parentheses/. It is a bottom-up dynamic programming approach for generating all valid parentheses which would work. But I am not sure how to explain the worst time complexity of this solution. Can  someone plz tell what is the time complexity of this code &amp; why it is so? Original article doesn&#39;t  have anything about the time complexity.","title":"What is the time complexity of below DP code for generating all balanced parentheses?","body":"<pre><code>public List&lt;String&gt; generateParenthesis(int n) {\n    if (n &lt; 1) {\n        return Arrays.asList(&quot;&quot;);\n    } else if (n == 1) {\n        return Arrays.asList(&quot;()&quot;);\n    } else {\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(n * 2);\n        for (String s : generateParenthesis(n - 1)) {\n            char[] ca = s.toCharArray();\n            int len = s.length();\n            for (int i = 0; i &lt; len; i++) {\n                set.add(String.copyValueOf(ca, 0, i) + &quot;()&quot;\n                        + String.copyValueOf(ca, i, len - i));\n            }\n        }\n        return new ArrayList&lt;String&gt;(set);\n    }\n}\n</code></pre>\n<p>I found the above code online from an old post <a href=\"https://rekinyz.wordpress.com/2015/02/13/generate-parentheses/\" rel=\"nofollow noreferrer\">https://rekinyz.wordpress.com/2015/02/13/generate-parentheses/</a>. It is a bottom-up dynamic programming approach for generating all valid parentheses which would work. But I am not sure how to explain the worst time complexity of this solution. Can  someone plz tell what is the time complexity of this code &amp; why it is so? Original article doesn't  have anything about the time complexity.</p>\n"},{"tags":["java","selenium","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641098172,"post_id":70552998,"comment_id":124719490,"body_markdown":"You already have a jlink config and a module info file. It might be better for you to use the openjfx plugin to create a jlink based runtime image or use jpackage rather than  trying to create an unsupported maven shade fat jar. If you do use jlink, check that the module info is requiring all of the modules you need.","body":"You already have a jlink config and a module info file. It might be better for you to use the openjfx plugin to create a jlink based runtime image or use jpackage rather than  trying to create an unsupported maven shade fat jar. If you do use jlink, check that the module info is requiring all of the modules you need."}],"answers":[{"tags":[],"owner":{"account_id":18320560,"reputation":160,"user_id":13341425,"display_name":"JackElia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641104405,"creation_date":1641104405,"answer_id":70554007,"question_id":70552998,"body_markdown":"As @jewelsea said, it was a duplicate of https://stackoverflow.com/questions/67679962/cant-compile-my-javafx-and-selenium-project-due-to-google-autoservice-processor.\r\n\r\nOnce I changed\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nto this\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nEverything worked!","title":"Compilation failure error given when doing Maven Install in IntelliJ with JavaFX and Selenium","body":"<p>As @jewelsea said, it was a duplicate of <a href=\"https://stackoverflow.com/questions/67679962/cant-compile-my-javafx-and-selenium-project-due-to-google-autoservice-processor\">Can&#39;t compile my javafx and selenium project due to google autoservice processor (&quot;Unable to get public no-arg constructor&quot;)</a>.</p>\n<p>Once I changed</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>to this</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\n                            &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\n                            &lt;version&gt;1.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Everything worked!</p>\n"}],"owner":{"account_id":18320560,"reputation":160,"user_id":13341425,"display_name":"JackElia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641114434,"answer_count":1,"score":1,"last_activity_date":1641104405,"creation_date":1641086351,"question_id":70552998,"body_markdown":"My code is able to be run and works perfectly, but when I try to make a fat jar with Maven Install, it gives the error:\r\n```\r\nCompilation failure\r\nBad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: com.google.auto.service.processor.AutoServiceProcessor Unable to get public no-arg constructor\r\n```\r\n\r\nI&#39;m not sure what&#39;s causing it, maybe Selenium? I was able to get mvn install to work when I had the default JavaFX project, but once I ported in my code for Data Storage, Selenium, and my custom GUI it stopped working.\r\n\r\nHeres my project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVL4R.png\r\n\r\nHere is my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PleaseWork&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PleaseWork&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;fun/n/learn/annotation/LogMeCustomAnnotationProcessor.java&lt;/include&gt;\r\n                                &lt;!--include dependencies required for LogMeCustomAnnotationProcessor --&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=\r\n                                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have 2 mains, Main_1 does not extend Application and is being used to run Main ","title":"Compilation failure error given when doing Maven Install in IntelliJ with JavaFX and Selenium","body":"<p>My code is able to be run and works perfectly, but when I try to make a fat jar with Maven Install, it gives the error:</p>\n<pre><code>Compilation failure\nBad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: com.google.auto.service.processor.AutoServiceProcessor Unable to get public no-arg constructor\n</code></pre>\n<p>I'm not sure what's causing it, maybe Selenium? I was able to get mvn install to work when I had the default JavaFX project, but once I ported in my code for Data Storage, Selenium, and my custom GUI it stopped working.</p>\n<p>Heres my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/hVL4R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVL4R.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PleaseWork&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PleaseWork&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;11.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;11.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;fun/n/learn/annotation/LogMeCustomAnnotationProcessor.java&lt;/include&gt;\n                                &lt;!--include dependencies required for LogMeCustomAnnotationProcessor --&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\n                                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;com.example.pleasework.Main_1&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have 2 mains, Main_1 does not extend Application and is being used to run Main</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":5,"creation_date":1289776152,"post_id":4179587,"comment_id":4516305,"body_markdown":"I can&#39;t recommend Herlihy&#39;s &quot;Art of Multiprocessor Programming&quot; highly enough.  It&#39;s challenging, but it addresses this issue head-on, it&#39;s seminal stuff, and it is accompanied by a set of good PPT slides and great Java example code, unusual for a book of this theoretical depth.","body":"I can&#39;t recommend Herlihy&#39;s &quot;Art of Multiprocessor Programming&quot; highly enough.  It&#39;s challenging, but it addresses this issue head-on, it&#39;s seminal stuff, and it is accompanied by a set of good PPT slides and great Java example code, unusual for a book of this theoretical depth."}],"answers":[{"tags":[],"owner":{"account_id":208094,"reputation":6180,"user_id":458368,"accept_rate":64,"display_name":"JOTN"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1289767706,"creation_date":1289767706,"answer_id":4179618,"question_id":4179587,"body_markdown":"Check Wikipedia&#39;s explanation:\r\n\r\nhttp://en.wikipedia.org/wiki/Linearizability#Linearizability_versus_serializability\r\n\r\nIt can also be a bit confusing because we also use the term serialize to refer to converting a class into data stream for storage or network transmission.  \r\n","title":"What is the difference between linearizability and serializability?","body":"<p>Check Wikipedia's explanation:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Linearizability#Linearizability_versus_serializability\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Linearizability#Linearizability_versus_serializability</a></p>\n\n<p>It can also be a bit confusing because we also use the term serialize to refer to converting a class into data stream for storage or network transmission.  </p>\n"},{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1601514081,"creation_date":1289773145,"answer_id":4180031,"question_id":4179587,"body_markdown":"The central distinction between the two is that **serializability** is a *global* property; a property of an entire history of operations/transactions.  **Linearizability** is a *local property*; a property of a single operation/transaction.  Another distinction is that linearizability includes a notion of **real-time**, which serializability does not:  the linearization point of an operation must lie between its invocation and response times.  (See Tim Harris: *Transactional Memory, 2ed*.  See Herlihy&#39;s slides from *The Art of Multiprocessor Programming, the section on Linearizability*, which are [available here][1], for some examples and proofs.\r\n\r\nBoth properties are aimed at the same goal: sequential consistency.  From Herlihy&#39;s paper:\r\n\r\n&gt; Much work on databases and distributed systems uses serializability as the basic correctness condition for concurrent computations. In this model, a transaction is a thread of control that applies a finite sequence of primitive operations to a set of objects shared with other transactions. A history is serializable if it is equivalent to one in which transactions appear to execute sequentially, i.e., without interleaving. A (partial) precedence order can be defined on non-overlapping pairs of transactions in the obvious way. A history is strictly serializable if the transactions order in the sequential history is compatible with their precedence order...\r\n&gt; \r\n&gt; ...Linearizability can be viewed as a special case of strict serializability where transactions are restricted to consist of a single operation applied to a single object. Nevertheless, this single-operation restriction has far-reaching practical and formal consequences, giving linearizable computations a different flavor from their serializable counterparts. An immediate practical consequence is that concurrency control mechanisms appropriate for serializability are typically inappropriate for linearizability because they introduce unnecessary overhead and place unnecessary restrictions on concurrency.\r\n\r\nReferences:\r\n-----------\r\n\r\n* Harris, Tim, James Larus, and Ravi Rajwar:  *Transactional Memory, 2ed*.  Synthesis Lectures on Computer Architecture.  Morgn &amp; Claypool, 2010.  ISBN 9781608452354.  URL: http://www.morganclaypool.com/doi/abs/10.2200/S00272ED1V01Y201006CAC011?journalCode=cac\r\n\r\n* Herlihy, Maurice and Jeanette Wing: *Linearizability: A Correctness Condition for Concurrent Objects*.  ACM Trans. Prog. Lang. and Sys.  Vol. 12, No. 3, July 1990, Pages 463-492. URL\r\nhttp://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf\r\n\r\n* Papadimitriou, Christos:  *The Serializability of Concurrent Database Updates*.  Journal of the ACM Vol 26. No 4. October 1979, pp 631-653. URL http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\r\n\r\n* Herlihy, Maurice and Nir Shavit: *The Art of Multiprocessor Programming*.  Elsevier, 2008.  ISBN 978-0-12-370591-4.  URL: http://www.elsevier.com/wps/find/bookdescription.cws_home/714091/description#description PPT slides on linearizability are here: http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\r\n\r\n* Attiya, Hagit and Jennifer Welch: *Sequential Consistency versus Linearizability*. ACM Transactions on Computer Systems Vol. 12, No. 2, May 1994, Pages 91-122. URL http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.133.4969&amp;rep=rep1&amp;type=pdf\r\n\r\nMore Details:\r\n-------------\r\n\r\nIf you really care about this, read the paper that introduced the definitions.  For linearizability, that&#39;s [*Linearizability: A Correctness Condition for Concurrent Objects*, Herlihy and Wing][2].  It&#39;s dense, but worth the attention.  Note that in the software transactional memory community, it&#39;s an open question whether linearizability is the right goal / property to aim for.\r\n\r\n**Serializability** is about the outcome of a collection of operations/the &quot;system&quot; being expressible as a specific ordering (&quot;as if execution took place in a specific order...&quot;) of all the operations.  Linearizability is a property of a single subset of operations in the system... an operation/set of operations are linearizable if they appear to the other operations as if they occurred at a specific instant in (logical) time with respect to the others.  The canonical paper here is [Papadimitriou, *The Serializability of Concurrent Database Updates*][3].\r\n\r\nThink &quot;atomic operation&quot; when you&#39;re thinking about &quot;linearizable.&quot;  A (set of) operations are linearizable when they (appear to) occur atomically with respect to other parts of the system.  A common formulation is &quot;provide the illusion that each operation takes effect instantaneously between its invocation and response.&quot;  The formulation of **linearizability** is due to [Herlihy][4], which emphasizes that this is a local property, vs. other kinds of sequential consistency properties like &quot;serializability&quot; which are global.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140411210603/http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\r\n  [2]: http://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf\r\n  [3]: http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\r\n  [4]: http://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf","title":"What is the difference between linearizability and serializability?","body":"<p>The central distinction between the two is that <strong>serializability</strong> is a <em>global</em> property; a property of an entire history of operations/transactions.  <strong>Linearizability</strong> is a <em>local property</em>; a property of a single operation/transaction.  Another distinction is that linearizability includes a notion of <strong>real-time</strong>, which serializability does not:  the linearization point of an operation must lie between its invocation and response times.  (See Tim Harris: <em>Transactional Memory, 2ed</em>.  See Herlihy's slides from <em>The Art of Multiprocessor Programming, the section on Linearizability</em>, which are <a href=\"https://web.archive.org/web/20140411210603/http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\" rel=\"noreferrer\">available here</a>, for some examples and proofs.</p>\n<p>Both properties are aimed at the same goal: sequential consistency.  From Herlihy's paper:</p>\n<blockquote>\n<p>Much work on databases and distributed systems uses serializability as the basic correctness condition for concurrent computations. In this model, a transaction is a thread of control that applies a finite sequence of primitive operations to a set of objects shared with other transactions. A history is serializable if it is equivalent to one in which transactions appear to execute sequentially, i.e., without interleaving. A (partial) precedence order can be defined on non-overlapping pairs of transactions in the obvious way. A history is strictly serializable if the transactions order in the sequential history is compatible with their precedence order...</p>\n<p>...Linearizability can be viewed as a special case of strict serializability where transactions are restricted to consist of a single operation applied to a single object. Nevertheless, this single-operation restriction has far-reaching practical and formal consequences, giving linearizable computations a different flavor from their serializable counterparts. An immediate practical consequence is that concurrency control mechanisms appropriate for serializability are typically inappropriate for linearizability because they introduce unnecessary overhead and place unnecessary restrictions on concurrency.</p>\n</blockquote>\n<h2>References:</h2>\n<ul>\n<li><p>Harris, Tim, James Larus, and Ravi Rajwar:  <em>Transactional Memory, 2ed</em>.  Synthesis Lectures on Computer Architecture.  Morgn &amp; Claypool, 2010.  ISBN 9781608452354.  URL: <a href=\"http://www.morganclaypool.com/doi/abs/10.2200/S00272ED1V01Y201006CAC011?journalCode=cac\" rel=\"noreferrer\">http://www.morganclaypool.com/doi/abs/10.2200/S00272ED1V01Y201006CAC011?journalCode=cac</a></p>\n</li>\n<li><p>Herlihy, Maurice and Jeanette Wing: <em>Linearizability: A Correctness Condition for Concurrent Objects</em>.  ACM Trans. Prog. Lang. and Sys.  Vol. 12, No. 3, July 1990, Pages 463-492. URL\n<a href=\"http://www.cs.brown.edu/%7Emph/HerlihyW90/p463-herlihy.pdf\" rel=\"noreferrer\">http://www.cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf</a></p>\n</li>\n<li><p>Papadimitriou, Christos:  <em>The Serializability of Concurrent Database Updates</em>.  Journal of the ACM Vol 26. No 4. October 1979, pp 631-653. URL <a href=\"http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\" rel=\"noreferrer\">http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf</a></p>\n</li>\n<li><p>Herlihy, Maurice and Nir Shavit: <em>The Art of Multiprocessor Programming</em>.  Elsevier, 2008.  ISBN 978-0-12-370591-4.  URL: <a href=\"http://www.elsevier.com/wps/find/bookdescription.cws_home/714091/description#description\" rel=\"noreferrer\">http://www.elsevier.com/wps/find/bookdescription.cws_home/714091/description#description</a> PPT slides on linearizability are here: <a href=\"http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx\" rel=\"noreferrer\">http://pub.ist.ac.at/courses/ppc10/slides/Linearizability.pptx</a></p>\n</li>\n<li><p>Attiya, Hagit and Jennifer Welch: <em>Sequential Consistency versus Linearizability</em>. ACM Transactions on Computer Systems Vol. 12, No. 2, May 1994, Pages 91-122. URL <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.133.4969&amp;rep=rep1&amp;type=pdf\" rel=\"noreferrer\">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.133.4969&amp;rep=rep1&amp;type=pdf</a></p>\n</li>\n</ul>\n<h2>More Details:</h2>\n<p>If you really care about this, read the paper that introduced the definitions.  For linearizability, that's <a href=\"http://www.cs.brown.edu/%7Emph/HerlihyW90/p463-herlihy.pdf\" rel=\"noreferrer\"><em>Linearizability: A Correctness Condition for Concurrent Objects</em>, Herlihy and Wing</a>.  It's dense, but worth the attention.  Note that in the software transactional memory community, it's an open question whether linearizability is the right goal / property to aim for.</p>\n<p><strong>Serializability</strong> is about the outcome of a collection of operations/the &quot;system&quot; being expressible as a specific ordering (&quot;as if execution took place in a specific order...&quot;) of all the operations.  Linearizability is a property of a single subset of operations in the system... an operation/set of operations are linearizable if they appear to the other operations as if they occurred at a specific instant in (logical) time with respect to the others.  The canonical paper here is <a href=\"http://publications.csail.mit.edu/lcs/pubs/pdf/MIT-LCS-TR-210.pdf\" rel=\"noreferrer\">Papadimitriou, <em>The Serializability of Concurrent Database Updates</em></a>.</p>\n<p>Think &quot;atomic operation&quot; when you're thinking about &quot;linearizable.&quot;  A (set of) operations are linearizable when they (appear to) occur atomically with respect to other parts of the system.  A common formulation is &quot;provide the illusion that each operation takes effect instantaneously between its invocation and response.&quot;  The formulation of <strong>linearizability</strong> is due to <a href=\"http://www.cs.brown.edu/%7Emph/HerlihyW90/p463-herlihy.pdf\" rel=\"noreferrer\">Herlihy</a>, which emphasizes that this is a local property, vs. other kinds of sequential consistency properties like &quot;serializability&quot; which are global.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289776104,"creation_date":1289775725,"answer_id":4180214,"question_id":4179587,"body_markdown":"See @andersoj&#39;s answer for a clear description of the difference between serializability and linearizability.\r\n\r\nThis is only indirectly relevant to Java concurrent programming.  In general, a concurrent Java program does not need to have either a serializable or linearizable history.  In the cases that do, serializability is generally sufficient for a program (Java or otherwise) for &quot;correctness&quot;, though particular problems could require the stronger linearizability property.  But either way, it is the *problem* that determines the correctness requirements, not Java.\r\n\r\n","title":"What is the difference between linearizability and serializability?","body":"<p>See @andersoj's answer for a clear description of the difference between serializability and linearizability.</p>\n\n<p>This is only indirectly relevant to Java concurrent programming.  In general, a concurrent Java program does not need to have either a serializable or linearizable history.  In the cases that do, serializability is generally sufficient for a program (Java or otherwise) for \"correctness\", though particular problems could require the stronger linearizability property.  But either way, it is the <em>problem</em> that determines the correctness requirements, not Java.</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1416940028,"creation_date":1416940028,"answer_id":27134026,"question_id":4179587,"body_markdown":"There&#39;s a great explanation by Peter Bailis here:\r\n\r\n - [Linearizability versus Serializability][1] \r\n\r\n&quot;In plain English, under **linearizability**, writes should appear to be instantaneous. Imprecisely, once a write completes, all later reads (where later is defined by wall-clock start time) should return the value of that write or the value of a later write. Once a read returns a particular value, all later reads should return that value or the value of a later write.&quot;\r\n\r\n&quot;**Serializability** is a guarantee about transactions, or groups of one or more operations over one or more objects. It guarantees that the execution of a set of transactions (usually containing read and write operations) over multiple items is equivalent to some serial execution (total ordering) of the transactions.&quot;\r\n\r\n  [1]: http://www.bailis.org/blog/linearizability-versus-serializability/","title":"What is the difference between linearizability and serializability?","body":"<p>There's a great explanation by Peter Bailis here:</p>\n\n<ul>\n<li><a href=\"http://www.bailis.org/blog/linearizability-versus-serializability/\">Linearizability versus Serializability</a> </li>\n</ul>\n\n<p>\"In plain English, under <strong>linearizability</strong>, writes should appear to be instantaneous. Imprecisely, once a write completes, all later reads (where later is defined by wall-clock start time) should return the value of that write or the value of a later write. Once a read returns a particular value, all later reads should return that value or the value of a later write.\"</p>\n\n<p>\"<strong>Serializability</strong> is a guarantee about transactions, or groups of one or more operations over one or more objects. It guarantees that the execution of a set of transactions (usually containing read and write operations) over multiple items is equivalent to some serial execution (total ordering) of the transactions.\"</p>\n"},{"tags":[],"owner":{"account_id":2300934,"reputation":4140,"user_id":2021245,"display_name":"Ming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588077527,"creation_date":1588077527,"answer_id":61480375,"question_id":4179587,"body_markdown":"A good way to understand this is to look at this problem from a database standpoint. (I know you ask for a context of java, sorry)\r\n\r\nAssuming, you are a database. You accepts multiple transactions operating on the same object **concurrently** but you only have **one single disk arm**. \r\n\r\nWhen you received multiple transactions at the same time, you will have to re-order those operations within transactions in some way so you poor disk arm can handle them one-by-one. \r\n\r\n**Serializable**\r\n\r\nyou have the ability re-arrange those transactions to make it looks like they happens sequentially (one by one). \r\nAs you can imagine, it&#39;s not always possible if you accept arbitrary transactions (e.g. one bad transaction last 10 years). \r\nSo naturally, you enforce some restrictions or conflict prevention mechanisms then you can say &quot;I&#39;m serializable! :)&quot; .\r\n\r\n**Linearizable**\r\n\r\nNot only do you need to do what `serialization` needs you to do. You also take a good look at those transactions. And try very hard to re-arrange those transactions in a sequential fashion without breaking the semantic order of transactions. As you might have noticed, `semantic order` is the key. \r\nBasically, in order to claim that you are `linearizable`, you will have to assume/find a `linearization point` for every transactions and then order them according to the `linearization point`. \r\n\r\nTherefore, it&#39;s uncommon for a versatile RDMS database to say `Hey I&#39;m linearizable!`. \r\nBut, it&#39;s not uncommon if you are a Key-Value database. \r\n\r\ne.g. As a KV database, you can say &quot;I am `linearizable`!&quot; if you can ensure a `read` will always get the latest possible write. \r\n(assuming the moment of sending response for the `read` operation is the `linearization point`)\r\nThis sounds trivial, but will be a major challenge if you are a distributed KV database.\r\nAlso note that `serializability` doesn&#39;t require you to give the same guarantee.","title":"What is the difference between linearizability and serializability?","body":"<p>A good way to understand this is to look at this problem from a database standpoint. (I know you ask for a context of java, sorry)</p>\n\n<p>Assuming, you are a database. You accepts multiple transactions operating on the same object <strong>concurrently</strong> but you only have <strong>one single disk arm</strong>. </p>\n\n<p>When you received multiple transactions at the same time, you will have to re-order those operations within transactions in some way so you poor disk arm can handle them one-by-one. </p>\n\n<p><strong>Serializable</strong></p>\n\n<p>you have the ability re-arrange those transactions to make it looks like they happens sequentially (one by one). \nAs you can imagine, it's not always possible if you accept arbitrary transactions (e.g. one bad transaction last 10 years). \nSo naturally, you enforce some restrictions or conflict prevention mechanisms then you can say \"I'm serializable! :)\" .</p>\n\n<p><strong>Linearizable</strong></p>\n\n<p>Not only do you need to do what <code>serialization</code> needs you to do. You also take a good look at those transactions. And try very hard to re-arrange those transactions in a sequential fashion without breaking the semantic order of transactions. As you might have noticed, <code>semantic order</code> is the key. \nBasically, in order to claim that you are <code>linearizable</code>, you will have to assume/find a <code>linearization point</code> for every transactions and then order them according to the <code>linearization point</code>. </p>\n\n<p>Therefore, it's uncommon for a versatile RDMS database to say <code>Hey I'm linearizable!</code>. \nBut, it's not uncommon if you are a Key-Value database. </p>\n\n<p>e.g. As a KV database, you can say \"I am <code>linearizable</code>!\" if you can ensure a <code>read</code> will always get the latest possible write. \n(assuming the moment of sending response for the <code>read</code> operation is the <code>linearization point</code>)\nThis sounds trivial, but will be a major challenge if you are a distributed KV database.\nAlso note that <code>serializability</code> doesn't require you to give the same guarantee.</p>\n"},{"tags":[],"owner":{"account_id":3278379,"reputation":105,"user_id":2759660,"display_name":"mridul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641103989,"creation_date":1641103989,"answer_id":70553986,"question_id":4179587,"body_markdown":"Imagine you have your distributed system running on 3 machines (3 replicas). We simply want to write and read value of key &quot;A&quot;. \r\n\r\n**Linearizable**\r\n\r\nIn this model, our system will work like this - As soon as write(A) is done, we can read the latest value from any of the three replicas. Meaning, once an action (write/read) is done, its impact is visible to all future actions across the whole system (Like an atomic operation). \r\n\r\nHere, the order of operation doesn&#39;t matter. So, in reality, we want to do write and read, but the system can do read and write and its fine and will still be Linearizable. Paxos/Raft algorithms provide this for a transaction for majority nodes.  \r\n\r\n**Serializable**\r\n\r\nIn this model, all the replicas (machines) will process actions/events in same order. So, if one of the replica does write(A) and read(A), other replicas will do in same order. \r\n\r\nHere, it&#39;s possible to get stale data from other replicas. Let&#39;s say - replica_1 does write(A). Read(A) from replica_1 will return latest value, but if we read from replica_2, we may get old value. The only guarantee is whenever (no time limit) replica_2 will process in same order - write and then read. Zookeeper provides this. \r\n\r\n\r\nThis is a good blog to learn more about this - \r\nhttp://www.bailis.org/blog/linearizability-versus-serializability/\r\n\r\nLet me know if my understanding is incorrect. Happy to learn and grow !","title":"What is the difference between linearizability and serializability?","body":"<p>Imagine you have your distributed system running on 3 machines (3 replicas). We simply want to write and read value of key &quot;A&quot;.</p>\n<p><strong>Linearizable</strong></p>\n<p>In this model, our system will work like this - As soon as write(A) is done, we can read the latest value from any of the three replicas. Meaning, once an action (write/read) is done, its impact is visible to all future actions across the whole system (Like an atomic operation).</p>\n<p>Here, the order of operation doesn't matter. So, in reality, we want to do write and read, but the system can do read and write and its fine and will still be Linearizable. Paxos/Raft algorithms provide this for a transaction for majority nodes.</p>\n<p><strong>Serializable</strong></p>\n<p>In this model, all the replicas (machines) will process actions/events in same order. So, if one of the replica does write(A) and read(A), other replicas will do in same order.</p>\n<p>Here, it's possible to get stale data from other replicas. Let's say - replica_1 does write(A). Read(A) from replica_1 will return latest value, but if we read from replica_2, we may get old value. The only guarantee is whenever (no time limit) replica_2 will process in same order - write and then read. Zookeeper provides this.</p>\n<p>This is a good blog to learn more about this -\n<a href=\"http://www.bailis.org/blog/linearizability-versus-serializability/\" rel=\"nofollow noreferrer\">http://www.bailis.org/blog/linearizability-versus-serializability/</a></p>\n<p>Let me know if my understanding is incorrect. Happy to learn and grow !</p>\n"}],"owner":{"account_id":33601,"reputation":28353,"user_id":94169,"accept_rate":77,"display_name":"softwarematter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27819,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":4180031,"answer_count":6,"score":88,"last_activity_date":1641103989,"creation_date":1289767271,"question_id":4179587,"body_markdown":"What is the difference between linearizability and serializability (in the context of Java)? Can you please explain the difference between these with an example or provide a good reference?","title":"What is the difference between linearizability and serializability?","body":"<p>What is the difference between linearizability and serializability (in the context of Java)? Can you please explain the difference between these with an example or provide a good reference?</p>\n"},{"tags":["java","logarithm"],"comments":[{"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"score":0,"creation_date":1641102395,"post_id":70553834,"comment_id":124719833,"body_markdown":"Does this help? https://stackoverflow.com/a/40746823/5811874","body":"Does this help? <a href=\"https://stackoverflow.com/a/40746823/5811874\">stackoverflow.com/a/40746823/5811874</a>"}],"answers":[{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641103961,"creation_date":1641103961,"answer_id":70553981,"question_id":70553834,"body_markdown":"Although I flagged my own question as a duplicate, I&#39;m posting what I found.\r\n\r\nThe problem is that the input is not just positive but also including zero and that&#39;s why the way of simply dividing &lt;i&gt;log&lt;sub&gt;whatever&lt;/sub&gt;v&lt;/i&gt; with &lt;i&gt;log&lt;sub&gt;whatever&lt;/sub&gt;2&lt;/i&gt; won&#39;t work cuz &lt;i&gt;log&lt;sub&gt;whatever&lt;/sub&gt;0&lt;/i&gt; is not defined.\r\n\r\nHere comes what I concluded with https://stackoverflow.com/a/680040/330457.\r\n\r\n```java\r\n    static int size(final int value) {\r\n        if (value &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\r\n        }\r\n        if (value == 0) {\r\n            return 1;\r\n        }\r\n        return Integer.SIZE - Integer.numberOfLeadingZeros(value);\r\n    }\r\n```\r\n\r\n```\r\nsize for 909663241: 30  (RANDOM)\r\nsize for 1: 1           (ONE)\r\nsize for 0: 1           (ZERO)\r\nsize for 2147483647: 31 (Integer.MAX_VALUE)\r\n```","title":"How can I calculate required bits for an unsigned value?","body":"<p>Although I flagged my own question as a duplicate, I'm posting what I found.</p>\n<p>The problem is that the input is not just positive but also including zero and that's why the way of simply dividing <i>log<sub>whatever</sub>v</i> with <i>log<sub>whatever</sub>2</i> won't work cuz <i>log<sub>whatever</sub>0</i> is not defined.</p>\n<p>Here comes what I concluded with <a href=\"https://stackoverflow.com/a/680040/330457\">https://stackoverflow.com/a/680040/330457</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static int size(final int value) {\n        if (value &lt; 0) {\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\n        }\n        if (value == 0) {\n            return 1;\n        }\n        return Integer.SIZE - Integer.numberOfLeadingZeros(value);\n    }\n</code></pre>\n<pre><code>size for 909663241: 30  (RANDOM)\nsize for 1: 1           (ONE)\nsize for 0: 1           (ZERO)\nsize for 2147483647: 31 (Integer.MAX_VALUE)\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641121464,"answer_count":1,"score":0,"last_activity_date":1641103961,"creation_date":1641101663,"question_id":70553834,"body_markdown":"For a given unsigned `int` value, I tried following method for the number of bits for storing given value.\r\n\r\n```java\r\n    // Returns the number of required bits for (storing) specified unsigned value.\r\n    static int size(final int value) {\r\n        if (value &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\r\n        }\r\n        return (int) Math.ceil(Math.log10(value) / Math.log10(2));\r\n    }\r\n```\r\n\r\nAnd here comes what I got.\r\n\r\n```\r\nsize for 1310394095: 31              (RANDOM)\r\nsize for 1: 0                        (1; Not Good; should be 1)\r\nsize_NotNegative_Zero() is @Disabled (0; ERROR; Expecting actual: -2147483648 ...)\r\nsize for 2147483647: 31              (Integer.MAX_VALUE)\r\n```\r\n\r\nThe `31` for `Integer.MAX_VALUE` seems OK.\r\n\r\nHow can I fix this?","title":"How can I calculate required bits for an unsigned value?","body":"<p>For a given unsigned <code>int</code> value, I tried following method for the number of bits for storing given value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Returns the number of required bits for (storing) specified unsigned value.\n    static int size(final int value) {\n        if (value &lt; 0) {\n            throw new IllegalArgumentException(&quot;value(&quot; + value + &quot;) is negative&quot;);\n        }\n        return (int) Math.ceil(Math.log10(value) / Math.log10(2));\n    }\n</code></pre>\n<p>And here comes what I got.</p>\n<pre><code>size for 1310394095: 31              (RANDOM)\nsize for 1: 0                        (1; Not Good; should be 1)\nsize_NotNegative_Zero() is @Disabled (0; ERROR; Expecting actual: -2147483648 ...)\nsize for 2147483647: 31              (Integer.MAX_VALUE)\n</code></pre>\n<p>The <code>31</code> for <code>Integer.MAX_VALUE</code> seems OK.</p>\n<p>How can I fix this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1641099349,"post_id":70553583,"comment_id":124719570,"body_markdown":"It&#39;s known as a &quot;factory&quot; method.  You pass it the properties you want it to use and it will create a new instance of the class for you","body":"It&#39;s known as a &quot;factory&quot; method.  You pass it the properties you want it to use and it will create a new instance of the class for you"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641098574,"creation_date":1641098574,"answer_id":70553646,"question_id":70553583,"body_markdown":"LocalDate provides a static method named `of` that allocates a new instance.\r\n\r\nAny class can do this.\r\n\r\n        class MyClass {\r\n              :\r\n           static MyClass makeOne(int someArg) {\r\n               :\r\n              MyClass thing = new MyClass();\r\n               :\r\n              return thing;\r\n           }\r\n            :\r\n         }\r\n           \r\n`makeOne` might equally be named `of` if that makes sense.\r\n   \r\nSo, you&#39;re right, &#39;new&#39; is how instances get created, but that doesn&#39;t mean the &#39;new&#39; call is written in **your** code.\r\n","title":"How to create the object of class LocalDate in Java? And why not use new keyword?","body":"<p>LocalDate provides a static method named <code>of</code> that allocates a new instance.</p>\n<p>Any class can do this.</p>\n<pre><code>    class MyClass {\n          :\n       static MyClass makeOne(int someArg) {\n           :\n          MyClass thing = new MyClass();\n           :\n          return thing;\n       }\n        :\n     }\n       \n</code></pre>\n<p><code>makeOne</code> might equally be named <code>of</code> if that makes sense.</p>\n<p>So, you're right, 'new' is how instances get created, but that doesn't mean the 'new' call is written in <strong>your</strong> code.</p>\n"},{"tags":[],"owner":{"display_name":"user17783874"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641099272,"creation_date":1641099272,"answer_id":70553687,"question_id":70553583,"body_markdown":"The [LocalDate][1] class has a private constructor. So you cannot instantiate a new instance of the [LocalDate][1] class using the new keyword. But the [LocalDate][1] class implements a static function [of][2], which lets you specify the year, month, and day of the month, and the function returns the new constructed [LocalDate][1] object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#of-int-int-int-","title":"How to create the object of class LocalDate in Java? And why not use new keyword?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> class has a private constructor. So you cannot instantiate a new instance of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> class using the new keyword. But the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> class implements a static function <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#of-int-int-int-\" rel=\"nofollow noreferrer\">of</a>, which lets you specify the year, month, and day of the month, and the function returns the new constructed <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a> object.</p>\n"}],"owner":{"account_id":22704205,"reputation":39,"user_id":16871178,"display_name":"Aditya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70553687,"answer_count":2,"score":1,"last_activity_date":1641099272,"creation_date":1641097048,"question_id":70553583,"body_markdown":"I am using this code to create the object of class **LocalDate** in Java.time package but it does not require the keyword **new**. Can anyone tell me how this exactly works.\r\n\r\n    LocalDate date = LocalDate.of(year, month, day);\r\n\r\n ","title":"How to create the object of class LocalDate in Java? And why not use new keyword?","body":"<p>I am using this code to create the object of class <strong>LocalDate</strong> in Java.time package but it does not require the keyword <strong>new</strong>. Can anyone tell me how this exactly works.</p>\n<pre><code>LocalDate date = LocalDate.of(year, month, day);\n</code></pre>\n"},{"tags":["java","sorting","comparator","comparable","custom-sort"],"answers":[{"tags":[],"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641097188,"creation_date":1641097188,"answer_id":70553587,"question_id":70551690,"body_markdown":"It&#39;s not a sorted array, so that you can just go from one element to the one with the lesser priority.The Iterator provided in method iterator() is not guaranteed to traverse the elements of the PriorityQueue in any particular order. If you need ordered traversal, consider using \r\n\r\n    Arrays.sort(pq.toArray()).\r\n\r\nOr you can \r\n\r\n        while (!str.isEmpty()) {\r\n            Parse p = str.peek();\r\n            str.remove();\r\n            System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\r\n        }\r\n\r\nBut this will empty the queue.\r\n\r\nI do now know why are you using priority queue. If you just want sorted list then use List and then sort the list using comparable/comparator.","title":"Log sorting - Custom sorting is not working","body":"<p>It's not a sorted array, so that you can just go from one element to the one with the lesser priority.The Iterator provided in method iterator() is not guaranteed to traverse the elements of the PriorityQueue in any particular order. If you need ordered traversal, consider using</p>\n<pre><code>Arrays.sort(pq.toArray()).\n</code></pre>\n<p>Or you can</p>\n<pre><code>    while (!str.isEmpty()) {\n        Parse p = str.peek();\n        str.remove();\n        System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\n    }\n</code></pre>\n<p>But this will empty the queue.</p>\n<p>I do now know why are you using priority queue. If you just want sorted list then use List and then sort the list using comparable/comparator.</p>\n"}],"owner":{"account_id":6382693,"reputation":63,"user_id":4951525,"display_name":"dmah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70553587,"answer_count":1,"score":1,"last_activity_date":1641097188,"creation_date":1641069236,"question_id":70551690,"body_markdown":"Trying to sort the array 0f log versions in ascending order. I can get it to work by directly implementing Comparator as\r\n```\r\n Arrays.sort(input, new CustomComparator())\r\n```\r\nand writing the same logic as below code(from the Parse class) in the CustomComparator class. However, when i try to sort it by adding the values in a Queue, the sorting does not work.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class LogSorting {\r\n\r\n    public static void main(String[] args) {\r\n        String[] input = {&quot;2.10.0&quot;, &quot;1.0.100&quot;, &quot;1.0.1&quot;, &quot;1.1.100&quot;, &quot;2.1.10&quot;, &quot;1.1.1&quot;};\r\n        PriorityQueue&lt;Parse&gt; str = new PriorityQueue&lt;&gt;();\r\n        for (String i : input) {\r\n            String[] result = i.split(&quot;\\\\.&quot;);\r\n            str.add(new Parse(Integer.parseInt(result[0]), Integer.parseInt(result[1]), Integer.parseInt(result[2])));\r\n        }\r\n        for (Parse p : str) {\r\n            System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\r\n        }\r\n    }\r\n}\r\n\r\nclass Parse implements Comparable&lt;Parse&gt; {\r\n    int major;\r\n    int minor;\r\n    int patch;\r\n\r\n    Parse(int major, int minor, int patch) {\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.patch = patch;\r\n    }\r\n\r\n    public int compareTo(Parse p) {\r\n\r\n        if (major == p.major &amp;&amp; minor == p.minor)\r\n            return Integer.compare(patch, p.patch);\r\n        if (major == p.major)\r\n            return Integer.compare(minor, p.minor);\r\n        return Integer.compare(major, p.major);\r\n    }\r\n}\r\n\r\n```\r\noutput \r\n```\r\n1 0 1\r\n\r\n1 1 100\r\n\r\n1 0 100\r\n\r\n2 10 0\r\n\r\n2 1 10\r\n\r\n1 1 1\r\n```\r\n\r\nThe output should be sorted as\r\n1 0 1, 1 0 100, 1 1 1, 1 1 100, 2 1 10, 2 10 0","title":"Log sorting - Custom sorting is not working","body":"<p>Trying to sort the array 0f log versions in ascending order. I can get it to work by directly implementing Comparator as</p>\n<pre><code> Arrays.sort(input, new CustomComparator())\n</code></pre>\n<p>and writing the same logic as below code(from the Parse class) in the CustomComparator class. However, when i try to sort it by adding the values in a Queue, the sorting does not work.</p>\n<pre><code>import java.util.*;\n\npublic class LogSorting {\n\n    public static void main(String[] args) {\n        String[] input = {&quot;2.10.0&quot;, &quot;1.0.100&quot;, &quot;1.0.1&quot;, &quot;1.1.100&quot;, &quot;2.1.10&quot;, &quot;1.1.1&quot;};\n        PriorityQueue&lt;Parse&gt; str = new PriorityQueue&lt;&gt;();\n        for (String i : input) {\n            String[] result = i.split(&quot;\\\\.&quot;);\n            str.add(new Parse(Integer.parseInt(result[0]), Integer.parseInt(result[1]), Integer.parseInt(result[2])));\n        }\n        for (Parse p : str) {\n            System.out.println(p.major + &quot; &quot; + p.minor + &quot; &quot; + p.patch);\n        }\n    }\n}\n\nclass Parse implements Comparable&lt;Parse&gt; {\n    int major;\n    int minor;\n    int patch;\n\n    Parse(int major, int minor, int patch) {\n        this.major = major;\n        this.minor = minor;\n        this.patch = patch;\n    }\n\n    public int compareTo(Parse p) {\n\n        if (major == p.major &amp;&amp; minor == p.minor)\n            return Integer.compare(patch, p.patch);\n        if (major == p.major)\n            return Integer.compare(minor, p.minor);\n        return Integer.compare(major, p.major);\n    }\n}\n\n</code></pre>\n<p>output</p>\n<pre><code>1 0 1\n\n1 1 100\n\n1 0 100\n\n2 10 0\n\n2 1 10\n\n1 1 1\n</code></pre>\n<p>The output should be sorted as\n1 0 1, 1 0 100, 1 1 1, 1 1 100, 2 1 10, 2 10 0</p>\n"},{"tags":["java","minecraft","bukkit"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641096794,"post_id":70553534,"comment_id":124719373,"body_markdown":"`rootData` is null.  It is not expected to be that.","body":"<code>rootData</code> is null.  It is not expected to be that."},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1641096973,"post_id":70553534,"comment_id":124719389,"body_markdown":"Does this answer your question? [Java: How to check if object is null?](https://stackoverflow.com/questions/2033088/java-how-to-check-if-object-is-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2033088/java-how-to-check-if-object-is-null\">Java: How to check if object is null?</a>"}],"owner":{"account_id":23802964,"reputation":1,"user_id":17812897,"display_name":"instanse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641121482,"answer_count":0,"score":0,"last_activity_date":1641097165,"creation_date":1641096140,"question_id":70553534,"body_markdown":" This is my code that causes the error:\r\n\r\n```java\r\npublic void onJoin(PlayerJoinEvent event ){\r\n    Player player = event.getPlayer();\r\n\r\n    if (this.rootdata.getBoolean(&quot;CustomJoin.custom-message&quot;)) {\r\n        final List&lt;String&gt; message = (List&lt;String&gt;)this.langdata.getStringList(&quot;CustomJoinMessage.message&quot;);\r\n        for (final String send : message) {\r\n            MsgUtil.sendMessage(player, send);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Caused by: java.lang.NullPointerException: Cannot invoke &quot;dev.instanse.aHub.file.RootFile.getBoolean(String)&quot; because &quot;this.rootdata&quot; is null","body":"<p>This is my code that causes the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onJoin(PlayerJoinEvent event ){\n    Player player = event.getPlayer();\n\n    if (this.rootdata.getBoolean(&quot;CustomJoin.custom-message&quot;)) {\n        final List&lt;String&gt; message = (List&lt;String&gt;)this.langdata.getStringList(&quot;CustomJoinMessage.message&quot;);\n        for (final String send : message) {\n            MsgUtil.sendMessage(player, send);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans-8"],"answers":[{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641096679,"creation_date":1641096679,"answer_id":70553565,"question_id":70551969,"body_markdown":"The global default policy has been set by the file `java\\jre\\lib\\security\\java.policy` in the JRE. And it is shared by all of the Java programs that run in the JVM on the node. Default permissions for the java.policy file can be found [here][1].\r\n\r\nFor more information, please look at [Specifying Permissions with the Security Policy][2] and [Default Policy Implementation and Policy File Syntax][3]\r\n\r\nExample of a custom policy file could be found [here][4] and this policy file tells the Java security manager what to allow and disallow.\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/was/8.5.5?topic=security-javapolicy-file-permissions\r\n  [2]: https://docs.oracle.com/javase/tutorial/ext/security/policy.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/security/userperm/policy.html","title":"How do I grant &#39;all&#39; permissions to a netbeans project? | netbeans 8.2","body":"<p>The global default policy has been set by the file <code>java\\jre\\lib\\security\\java.policy</code> in the JRE. And it is shared by all of the Java programs that run in the JVM on the node. Default permissions for the java.policy file can be found <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=security-javapolicy-file-permissions\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For more information, please look at <a href=\"https://docs.oracle.com/javase/tutorial/ext/security/policy.html\" rel=\"nofollow noreferrer\">Specifying Permissions with the Security Policy</a> and <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html\" rel=\"nofollow noreferrer\">Default Policy Implementation and Policy File Syntax</a></p>\n<p>Example of a custom policy file could be found <a href=\"https://docs.oracle.com/javase/tutorial/security/userperm/policy.html\" rel=\"nofollow noreferrer\">here</a> and this policy file tells the Java security manager what to allow and disallow.</p>\n"}],"owner":{"display_name":"user17712850"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70553565,"answer_count":1,"score":1,"last_activity_date":1641096679,"creation_date":1641072340,"question_id":70551969,"body_markdown":"I don&#39;t have a policy file or at least i can&#39;t find it, how do i grant `all` permissions to my java projects? I&#39;ve seen solutions to edit a `my.policy` file and grant all permissions and add its path to `VM Options` but where can I find or how do I generate a policy file?","title":"How do I grant &#39;all&#39; permissions to a netbeans project? | netbeans 8.2","body":"<p>I don't have a policy file or at least i can't find it, how do i grant <code>all</code> permissions to my java projects? I've seen solutions to edit a <code>my.policy</code> file and grant all permissions and add its path to <code>VM Options</code> but where can I find or how do I generate a policy file?</p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":491970,"reputation":5764,"user_id":1076562,"display_name":"Justin Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610234275,"creation_date":1610234275,"answer_id":65648592,"question_id":65647310,"body_markdown":"This is expected behavior for the Upcoming Invoice endpoint.  Have a look at [the documentation for previewing a proration](https://stripe.com/docs/billing/subscriptions/prorations#preview-proration) which shows the same thing you&#39;re seeing in the example result:\r\n\r\n&gt; You can expand the example response below to see:\r\n&gt;\r\n&gt; - The credit for unused time at the previous price on lines 36-38.\r\n&gt; - The cost for time spent at the new price on lines 107-109.\r\n&gt; - The new subtotal and total for the invoice on lines 276-279.\r\n\r\nYou&#39;re previewing the *upcoming* Invoice, which means it&#39;s going to Invoice for both the current period&#39;s change *and* the next period&#39;s regular amount.  There are two line items for the change in the current period and one line item for the upcoming period.\r\n\r\n&gt; Now if I go through with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros.\r\n\r\nIt sounds like you&#39;re making this change and then immediately generating an Invoice rather than waiting for the Invoice that would normally be generated as a result of the Subscription.","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>This is expected behavior for the Upcoming Invoice endpoint.  Have a look at <a href=\"https://stripe.com/docs/billing/subscriptions/prorations#preview-proration\" rel=\"nofollow noreferrer\">the documentation for previewing a proration</a> which shows the same thing you're seeing in the example result:</p>\n<blockquote>\n<p>You can expand the example response below to see:</p>\n<ul>\n<li>The credit for unused time at the previous price on lines 36-38.</li>\n<li>The cost for time spent at the new price on lines 107-109.</li>\n<li>The new subtotal and total for the invoice on lines 276-279.</li>\n</ul>\n</blockquote>\n<p>You're previewing the <em>upcoming</em> Invoice, which means it's going to Invoice for both the current period's change <em>and</em> the next period's regular amount.  There are two line items for the change in the current period and one line item for the upcoming period.</p>\n<blockquote>\n<p>Now if I go through with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros.</p>\n</blockquote>\n<p>It sounds like you're making this change and then immediately generating an Invoice rather than waiting for the Invoice that would normally be generated as a result of the Subscription.</p>\n"},{"tags":[],"owner":{"account_id":1135574,"reputation":461,"user_id":1120690,"accept_rate":80,"display_name":"sm0ke21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610238868,"creation_date":1610238868,"answer_id":65649068,"question_id":65647310,"body_markdown":"I can see that the documentation example does indeed follow the same pattern. It contains 3 lines. 2 for the prorated charges and one for the actual item.\r\n\r\nSo the gist of this is that the *upcoming* invoice (on the subscription renew date) will include the prorated charges and the new installment charge.\r\n\r\nSo if I want to present my customer with what the upcoming invoice will look like if they upgrade/downgrade *now* I have to manually subtract the item price from the response.\r\n\r\nThe invoice generated is 34.99 because I am issuing the invoice roughly at the same time as the upcoming invoice preview modifying the subscription item&#39;s price.","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>I can see that the documentation example does indeed follow the same pattern. It contains 3 lines. 2 for the prorated charges and one for the actual item.</p>\n<p>So the gist of this is that the <em>upcoming</em> invoice (on the subscription renew date) will include the prorated charges and the new installment charge.</p>\n<p>So if I want to present my customer with what the upcoming invoice will look like if they upgrade/downgrade <em>now</em> I have to manually subtract the item price from the response.</p>\n<p>The invoice generated is 34.99 because I am issuing the invoice roughly at the same time as the upcoming invoice preview modifying the subscription item's price.</p>\n"},{"tags":[],"owner":{"account_id":2023842,"reputation":13,"user_id":1809414,"display_name":"Rich Harvey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631790122,"creation_date":1631790122,"answer_id":69207259,"question_id":65647310,"body_markdown":"Just hit the same issue.  I managed to get the correct upcoming invoice (ie 2 lines one for the rebate and 1 for the new charge)  by setting the proration_behavior to &quot;always_invoice&quot;","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>Just hit the same issue.  I managed to get the correct upcoming invoice (ie 2 lines one for the rebate and 1 for the new charge)  by setting the proration_behavior to &quot;always_invoice&quot;</p>\n"},{"tags":[],"owner":{"account_id":3115098,"reputation":327,"user_id":2636056,"accept_rate":71,"display_name":"Grobbed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641096672,"creation_date":1641096672,"answer_id":70553564,"question_id":65647310,"body_markdown":"Just wanted to extend on @Rich Harvey&#39;s answer in case anybody else runs into this issue.\r\n\r\nThe reason the actual invoice and the preview invoice are different, is because you set `proration_behavior: &quot;always_invoice&quot;` when you actually apply the change to the subscription, thus creating an invoice right away with just the proration amounts.\r\n\r\nHowever, in your preview, the change is being applied to the **next** invoice, thus charging the full price for the subscription + the proration amounts.\r\n\r\nTo fix this, simply set `subscription_proration_behavior = &#39;always_invoice&#39;` for the invoice preview:\r\n\r\n```\r\nInvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\r\n        .setCustomer(userId)\r\n        .setSubscription(subscriptionId)\r\n\r\n        .addSubscriptionItem(\r\n                InvoiceUpcomingParams.SubscriptionItem.builder()\r\n                .setId(subscription.getItems().getData().get(0).getId())\r\n                .setPrice(priceId)\r\n                .build()\r\n        ).setSubscriptionProrationDate(prorationDate)\r\n        .setSubscriptionProrationBehavior(&#39;always_invoice&#39;)\r\n        .build();\r\n``` \r\n\r\nSee the [Documentation][1] for `.setSubscriptionProrationBehavior()`\r\n\r\n\r\n  [1]: https://stripe.dev/stripe-java/com/stripe/param/InvoiceUpcomingParams.Builder.html#setSubscriptionProrationBehavior(com.stripe.param.InvoiceUpcomingParams.SubscriptionProrationBehavior)","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>Just wanted to extend on @Rich Harvey's answer in case anybody else runs into this issue.</p>\n<p>The reason the actual invoice and the preview invoice are different, is because you set <code>proration_behavior: &quot;always_invoice&quot;</code> when you actually apply the change to the subscription, thus creating an invoice right away with just the proration amounts.</p>\n<p>However, in your preview, the change is being applied to the <strong>next</strong> invoice, thus charging the full price for the subscription + the proration amounts.</p>\n<p>To fix this, simply set <code>subscription_proration_behavior = 'always_invoice'</code> for the invoice preview:</p>\n<pre><code>InvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\n        .setCustomer(userId)\n        .setSubscription(subscriptionId)\n\n        .addSubscriptionItem(\n                InvoiceUpcomingParams.SubscriptionItem.builder()\n                .setId(subscription.getItems().getData().get(0).getId())\n                .setPrice(priceId)\n                .build()\n        ).setSubscriptionProrationDate(prorationDate)\n        .setSubscriptionProrationBehavior('always_invoice')\n        .build();\n</code></pre>\n<p>See the <a href=\"https://stripe.dev/stripe-java/com/stripe/param/InvoiceUpcomingParams.Builder.html#setSubscriptionProrationBehavior(com.stripe.param.InvoiceUpcomingParams.SubscriptionProrationBehavior)\" rel=\"nofollow noreferrer\">Documentation</a> for <code>.setSubscriptionProrationBehavior()</code></p>\n"}],"owner":{"account_id":1135574,"reputation":461,"user_id":1120690,"accept_rate":80,"display_name":"sm0ke21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1641096672,"creation_date":1610224227,"question_id":65647310,"body_markdown":"I am trying to preview an upcoming invoice with prorated charges.\r\n\r\nThe client is changing from a 30 euros / Year plan to a 65 euros / Year plan on day 1 (important for proration date calculations).\r\n\r\nAccording to the documentation [here](https://stripe.com/docs/billing/subscriptions/prorations) the client should be charged:\r\n\r\n- -30 euros for the remaining time on the old plan\r\n- 65 euros for the remaining time on the new plan\r\n\r\nWhich comes out to 35 euros in total. The next invoice issued should be for 35 euros.\r\nThe following call is made using the Java library to fetch the upcoming invoice:\r\n\r\n```\r\nInvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\r\n        .setCustomer(userId)\r\n        .setSubscription(subscriptionId)\r\n        .addSubscriptionItem(\r\n                InvoiceUpcomingParams.SubscriptionItem.builder()\r\n                .setId(subscription.getItems().getData().get(0).getId())\r\n                .setPrice(priceId)\r\n                .build()\r\n        ).setSubscriptionProrationDate(prorationDate)\r\n        .build();\r\n```\r\n\r\nThe resulting invoice has the following properties:\r\n\r\n* amountPaid: 0\r\n* amountDue: 9999\r\n* amountRemaining: 9999\r\n* subTotal: 9999\r\n\r\n\r\n...and the following invoice lines (ids have been obfuscated):\r\n\r\n```\r\n{\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;amount&quot;: -3000,\r\n            &quot;currency&quot;: &quot;eur&quot;,\r\n            &quot;description&quot;: &quot;Unused time on xxxxx after 09 Jan 2021&quot;,\r\n            &quot;discount_amounts&quot;: [],\r\n            &quot;discountable&quot;: false,\r\n            &quot;discounts&quot;: [],\r\n            &quot;id&quot;: &quot;---&quot;,\r\n            &quot;invoice_item&quot;: &quot;---&quot;,\r\n            &quot;livemode&quot;: false,\r\n            &quot;metadata&quot;: {},\r\n            &quot;object&quot;: &quot;line_item&quot;,\r\n            &quot;period&quot;: {\r\n                &quot;end&quot;: 1641756061,\r\n                &quot;start&quot;: 1610222989\r\n            },\r\n            &quot;plan&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;aggregate_usage&quot;: null,\r\n                &quot;amount&quot;: 3000,\r\n                &quot;amount_decimal&quot;: 3000,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220277,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;interval&quot;: &quot;year&quot;,\r\n                &quot;interval_count&quot;: 1,\r\n                &quot;livemode&quot;: false,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;plan&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_usage&quot;: null,\r\n                &quot;trial_period_days&quot;: null,\r\n                &quot;usage_type&quot;: &quot;licensed&quot;\r\n            },\r\n            &quot;price&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220277,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;livemode&quot;: false,\r\n                &quot;lookup_key&quot;: null,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;price&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;recurring&quot;: {\r\n                    &quot;aggregate_usage&quot;: null,\r\n                    &quot;interval&quot;: &quot;year&quot;,\r\n                    &quot;interval_count&quot;: 1,\r\n                    &quot;trial_period_days&quot;: null,\r\n                    &quot;usage_type&quot;: &quot;licensed&quot;\r\n                },\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_quantity&quot;: null,\r\n                &quot;type&quot;: &quot;recurring&quot;,\r\n                &quot;unit_amount&quot;: 3000,\r\n                &quot;unit_amount_decimal&quot;: 3000\r\n            },\r\n            &quot;proration&quot;: true,\r\n            &quot;quantity&quot;: 1,\r\n            &quot;subscription&quot;: &quot;---&quot;,\r\n            &quot;subscription_item&quot;: &quot;---&quot;,\r\n            &quot;tax_amounts&quot;: [],\r\n            &quot;tax_rates&quot;: [],\r\n            &quot;type&quot;: &quot;invoiceitem&quot;,\r\n            &quot;unified_proration&quot;: null\r\n        },\r\n        {\r\n            &quot;amount&quot;: 6499,\r\n            &quot;currency&quot;: &quot;eur&quot;,\r\n            &quot;description&quot;: &quot;Remaining time on xxxx after 09 Jan 2021&quot;,\r\n            &quot;discount_amounts&quot;: [],\r\n            &quot;discountable&quot;: false,\r\n            &quot;discounts&quot;: [],\r\n            &quot;id&quot;: &quot;---&quot;,\r\n            &quot;invoice_item&quot;: &quot;---&quot;,\r\n            &quot;livemode&quot;: false,\r\n            &quot;metadata&quot;: {},\r\n            &quot;object&quot;: &quot;line_item&quot;,\r\n            &quot;period&quot;: {\r\n                &quot;end&quot;: 1641756061,\r\n                &quot;start&quot;: 1610222989\r\n            },\r\n            &quot;plan&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;aggregate_usage&quot;: null,\r\n                &quot;amount&quot;: 6500,\r\n                &quot;amount_decimal&quot;: 6500,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;interval&quot;: &quot;year&quot;,\r\n                &quot;interval_count&quot;: 1,\r\n                &quot;livemode&quot;: false,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;plan&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_usage&quot;: null,\r\n                &quot;trial_period_days&quot;: null,\r\n                &quot;usage_type&quot;: &quot;licensed&quot;\r\n            },\r\n            &quot;price&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;livemode&quot;: false,\r\n                &quot;lookup_key&quot;: null,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;price&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;recurring&quot;: {\r\n                    &quot;aggregate_usage&quot;: null,\r\n                    &quot;interval&quot;: &quot;year&quot;,\r\n                    &quot;interval_count&quot;: 1,\r\n                    &quot;trial_period_days&quot;: null,\r\n                    &quot;usage_type&quot;: &quot;licensed&quot;\r\n                },\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_quantity&quot;: null,\r\n                &quot;type&quot;: &quot;recurring&quot;,\r\n                &quot;unit_amount&quot;: 6500,\r\n                &quot;unit_amount_decimal&quot;: 6500\r\n            },\r\n            &quot;proration&quot;: true,\r\n            &quot;quantity&quot;: 1,\r\n            &quot;subscription&quot;: &quot;---&quot;,\r\n            &quot;subscription_item&quot;: &quot;---&quot;,\r\n            &quot;tax_amounts&quot;: [],\r\n            &quot;tax_rates&quot;: [],\r\n            &quot;type&quot;: &quot;invoiceitem&quot;,\r\n            &quot;unified_proration&quot;: null\r\n        },\r\n        {\r\n            &quot;amount&quot;: 6500,\r\n            &quot;currency&quot;: &quot;eur&quot;,\r\n            &quot;description&quot;: &quot;1 &#215; xxxx (at 65.00 / year)&quot;,\r\n            &quot;discount_amounts&quot;: [],\r\n            &quot;discountable&quot;: true,\r\n            &quot;discounts&quot;: [],\r\n            &quot;id&quot;: &quot;---&quot;,\r\n            &quot;invoice_item&quot;: null,\r\n            &quot;livemode&quot;: false,\r\n            &quot;metadata&quot;: {},\r\n            &quot;object&quot;: &quot;line_item&quot;,\r\n            &quot;period&quot;: {\r\n                &quot;end&quot;: 1673292061,\r\n                &quot;start&quot;: 1641756061\r\n            },\r\n            &quot;plan&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;aggregate_usage&quot;: null,\r\n                &quot;amount&quot;: 6500,\r\n                &quot;amount_decimal&quot;: 6500,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;interval&quot;: &quot;year&quot;,\r\n                &quot;interval_count&quot;: 1,\r\n                &quot;livemode&quot;: false,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;plan&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_usage&quot;: null,\r\n                &quot;trial_period_days&quot;: null,\r\n                &quot;usage_type&quot;: &quot;licensed&quot;\r\n            },\r\n            &quot;price&quot;: {\r\n                &quot;active&quot;: true,\r\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\r\n                &quot;created&quot;: 1598220248,\r\n                &quot;currency&quot;: &quot;eur&quot;,\r\n                &quot;deleted&quot;: null,\r\n                &quot;id&quot;: &quot;---&quot;,\r\n                &quot;livemode&quot;: false,\r\n                &quot;lookup_key&quot;: null,\r\n                &quot;metadata&quot;: {},\r\n                &quot;nickname&quot;: null,\r\n                &quot;object&quot;: &quot;price&quot;,\r\n                &quot;product&quot;: &quot;---&quot;,\r\n                &quot;recurring&quot;: {\r\n                    &quot;aggregate_usage&quot;: null,\r\n                    &quot;interval&quot;: &quot;year&quot;,\r\n                    &quot;interval_count&quot;: 1,\r\n                    &quot;trial_period_days&quot;: null,\r\n                    &quot;usage_type&quot;: &quot;licensed&quot;\r\n                },\r\n                &quot;tiers&quot;: null,\r\n                &quot;tiers_mode&quot;: null,\r\n                &quot;transform_quantity&quot;: null,\r\n                &quot;type&quot;: &quot;recurring&quot;,\r\n                &quot;unit_amount&quot;: 6500,\r\n                &quot;unit_amount_decimal&quot;: 6500\r\n            },\r\n            &quot;proration&quot;: false,\r\n            &quot;quantity&quot;: 1,\r\n            &quot;subscription&quot;: &quot;---&quot;,\r\n            &quot;subscription_item&quot;: &quot;---&quot;,\r\n            &quot;tax_amounts&quot;: [],\r\n            &quot;tax_rates&quot;: [],\r\n            &quot;type&quot;: &quot;subscription&quot;,\r\n            &quot;unified_proration&quot;: null\r\n        }\r\n    ],\r\n    &quot;has_more&quot;: false,\r\n    &quot;object&quot;: &quot;list&quot;,\r\n    &quot;request_options&quot;: null,\r\n    &quot;request_params&quot;: null,\r\n    &quot;url&quot;: &quot;---&quot;\r\n}\r\n```\r\n\r\nIn short the invoice lines contain the following:\r\n\r\n* Unused time on xxxxx after 09 Jan 2021: -3000\r\n* Remaining time on xxxxx after 09 Jan 2021: 6499\r\n* 1 &#215; xxxxx (at 65.00 / year): 6500\r\n\r\n## Issue 1 ##\r\n**I believe this to be wrong**. According to the documentation [here](https://stripe.com/docs/billing/subscriptions/prorations) the charge should be: *64.99 - 30 = 34.99 euros*\r\n\r\nNow if I **go through** with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros. So there seems to be something wrong with either how I call the upcoming invoice API or what it returns.\r\n\r\nWhat am I missing? Am I supposed to deduct the price of the subscription from the *amountDue* myself?","title":"Previewing upcoming invoices with proration issues with Stripe [Java]","body":"<p>I am trying to preview an upcoming invoice with prorated charges.</p>\n<p>The client is changing from a 30 euros / Year plan to a 65 euros / Year plan on day 1 (important for proration date calculations).</p>\n<p>According to the documentation <a href=\"https://stripe.com/docs/billing/subscriptions/prorations\" rel=\"nofollow noreferrer\">here</a> the client should be charged:</p>\n<ul>\n<li>-30 euros for the remaining time on the old plan</li>\n<li>65 euros for the remaining time on the new plan</li>\n</ul>\n<p>Which comes out to 35 euros in total. The next invoice issued should be for 35 euros.\nThe following call is made using the Java library to fetch the upcoming invoice:</p>\n<pre><code>InvoiceUpcomingParams params = InvoiceUpcomingParams.builder()\n        .setCustomer(userId)\n        .setSubscription(subscriptionId)\n        .addSubscriptionItem(\n                InvoiceUpcomingParams.SubscriptionItem.builder()\n                .setId(subscription.getItems().getData().get(0).getId())\n                .setPrice(priceId)\n                .build()\n        ).setSubscriptionProrationDate(prorationDate)\n        .build();\n</code></pre>\n<p>The resulting invoice has the following properties:</p>\n<ul>\n<li>amountPaid: 0</li>\n<li>amountDue: 9999</li>\n<li>amountRemaining: 9999</li>\n<li>subTotal: 9999</li>\n</ul>\n<p>...and the following invoice lines (ids have been obfuscated):</p>\n<pre><code>{\n    &quot;data&quot;: [\n        {\n            &quot;amount&quot;: -3000,\n            &quot;currency&quot;: &quot;eur&quot;,\n            &quot;description&quot;: &quot;Unused time on xxxxx after 09 Jan 2021&quot;,\n            &quot;discount_amounts&quot;: [],\n            &quot;discountable&quot;: false,\n            &quot;discounts&quot;: [],\n            &quot;id&quot;: &quot;---&quot;,\n            &quot;invoice_item&quot;: &quot;---&quot;,\n            &quot;livemode&quot;: false,\n            &quot;metadata&quot;: {},\n            &quot;object&quot;: &quot;line_item&quot;,\n            &quot;period&quot;: {\n                &quot;end&quot;: 1641756061,\n                &quot;start&quot;: 1610222989\n            },\n            &quot;plan&quot;: {\n                &quot;active&quot;: true,\n                &quot;aggregate_usage&quot;: null,\n                &quot;amount&quot;: 3000,\n                &quot;amount_decimal&quot;: 3000,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220277,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;interval&quot;: &quot;year&quot;,\n                &quot;interval_count&quot;: 1,\n                &quot;livemode&quot;: false,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;plan&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_usage&quot;: null,\n                &quot;trial_period_days&quot;: null,\n                &quot;usage_type&quot;: &quot;licensed&quot;\n            },\n            &quot;price&quot;: {\n                &quot;active&quot;: true,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220277,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;livemode&quot;: false,\n                &quot;lookup_key&quot;: null,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;price&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;recurring&quot;: {\n                    &quot;aggregate_usage&quot;: null,\n                    &quot;interval&quot;: &quot;year&quot;,\n                    &quot;interval_count&quot;: 1,\n                    &quot;trial_period_days&quot;: null,\n                    &quot;usage_type&quot;: &quot;licensed&quot;\n                },\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_quantity&quot;: null,\n                &quot;type&quot;: &quot;recurring&quot;,\n                &quot;unit_amount&quot;: 3000,\n                &quot;unit_amount_decimal&quot;: 3000\n            },\n            &quot;proration&quot;: true,\n            &quot;quantity&quot;: 1,\n            &quot;subscription&quot;: &quot;---&quot;,\n            &quot;subscription_item&quot;: &quot;---&quot;,\n            &quot;tax_amounts&quot;: [],\n            &quot;tax_rates&quot;: [],\n            &quot;type&quot;: &quot;invoiceitem&quot;,\n            &quot;unified_proration&quot;: null\n        },\n        {\n            &quot;amount&quot;: 6499,\n            &quot;currency&quot;: &quot;eur&quot;,\n            &quot;description&quot;: &quot;Remaining time on xxxx after 09 Jan 2021&quot;,\n            &quot;discount_amounts&quot;: [],\n            &quot;discountable&quot;: false,\n            &quot;discounts&quot;: [],\n            &quot;id&quot;: &quot;---&quot;,\n            &quot;invoice_item&quot;: &quot;---&quot;,\n            &quot;livemode&quot;: false,\n            &quot;metadata&quot;: {},\n            &quot;object&quot;: &quot;line_item&quot;,\n            &quot;period&quot;: {\n                &quot;end&quot;: 1641756061,\n                &quot;start&quot;: 1610222989\n            },\n            &quot;plan&quot;: {\n                &quot;active&quot;: true,\n                &quot;aggregate_usage&quot;: null,\n                &quot;amount&quot;: 6500,\n                &quot;amount_decimal&quot;: 6500,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;interval&quot;: &quot;year&quot;,\n                &quot;interval_count&quot;: 1,\n                &quot;livemode&quot;: false,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;plan&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_usage&quot;: null,\n                &quot;trial_period_days&quot;: null,\n                &quot;usage_type&quot;: &quot;licensed&quot;\n            },\n            &quot;price&quot;: {\n                &quot;active&quot;: true,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;livemode&quot;: false,\n                &quot;lookup_key&quot;: null,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;price&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;recurring&quot;: {\n                    &quot;aggregate_usage&quot;: null,\n                    &quot;interval&quot;: &quot;year&quot;,\n                    &quot;interval_count&quot;: 1,\n                    &quot;trial_period_days&quot;: null,\n                    &quot;usage_type&quot;: &quot;licensed&quot;\n                },\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_quantity&quot;: null,\n                &quot;type&quot;: &quot;recurring&quot;,\n                &quot;unit_amount&quot;: 6500,\n                &quot;unit_amount_decimal&quot;: 6500\n            },\n            &quot;proration&quot;: true,\n            &quot;quantity&quot;: 1,\n            &quot;subscription&quot;: &quot;---&quot;,\n            &quot;subscription_item&quot;: &quot;---&quot;,\n            &quot;tax_amounts&quot;: [],\n            &quot;tax_rates&quot;: [],\n            &quot;type&quot;: &quot;invoiceitem&quot;,\n            &quot;unified_proration&quot;: null\n        },\n        {\n            &quot;amount&quot;: 6500,\n            &quot;currency&quot;: &quot;eur&quot;,\n            &quot;description&quot;: &quot;1  xxxx (at 65.00 / year)&quot;,\n            &quot;discount_amounts&quot;: [],\n            &quot;discountable&quot;: true,\n            &quot;discounts&quot;: [],\n            &quot;id&quot;: &quot;---&quot;,\n            &quot;invoice_item&quot;: null,\n            &quot;livemode&quot;: false,\n            &quot;metadata&quot;: {},\n            &quot;object&quot;: &quot;line_item&quot;,\n            &quot;period&quot;: {\n                &quot;end&quot;: 1673292061,\n                &quot;start&quot;: 1641756061\n            },\n            &quot;plan&quot;: {\n                &quot;active&quot;: true,\n                &quot;aggregate_usage&quot;: null,\n                &quot;amount&quot;: 6500,\n                &quot;amount_decimal&quot;: 6500,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;interval&quot;: &quot;year&quot;,\n                &quot;interval_count&quot;: 1,\n                &quot;livemode&quot;: false,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;plan&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_usage&quot;: null,\n                &quot;trial_period_days&quot;: null,\n                &quot;usage_type&quot;: &quot;licensed&quot;\n            },\n            &quot;price&quot;: {\n                &quot;active&quot;: true,\n                &quot;billing_scheme&quot;: &quot;per_unit&quot;,\n                &quot;created&quot;: 1598220248,\n                &quot;currency&quot;: &quot;eur&quot;,\n                &quot;deleted&quot;: null,\n                &quot;id&quot;: &quot;---&quot;,\n                &quot;livemode&quot;: false,\n                &quot;lookup_key&quot;: null,\n                &quot;metadata&quot;: {},\n                &quot;nickname&quot;: null,\n                &quot;object&quot;: &quot;price&quot;,\n                &quot;product&quot;: &quot;---&quot;,\n                &quot;recurring&quot;: {\n                    &quot;aggregate_usage&quot;: null,\n                    &quot;interval&quot;: &quot;year&quot;,\n                    &quot;interval_count&quot;: 1,\n                    &quot;trial_period_days&quot;: null,\n                    &quot;usage_type&quot;: &quot;licensed&quot;\n                },\n                &quot;tiers&quot;: null,\n                &quot;tiers_mode&quot;: null,\n                &quot;transform_quantity&quot;: null,\n                &quot;type&quot;: &quot;recurring&quot;,\n                &quot;unit_amount&quot;: 6500,\n                &quot;unit_amount_decimal&quot;: 6500\n            },\n            &quot;proration&quot;: false,\n            &quot;quantity&quot;: 1,\n            &quot;subscription&quot;: &quot;---&quot;,\n            &quot;subscription_item&quot;: &quot;---&quot;,\n            &quot;tax_amounts&quot;: [],\n            &quot;tax_rates&quot;: [],\n            &quot;type&quot;: &quot;subscription&quot;,\n            &quot;unified_proration&quot;: null\n        }\n    ],\n    &quot;has_more&quot;: false,\n    &quot;object&quot;: &quot;list&quot;,\n    &quot;request_options&quot;: null,\n    &quot;request_params&quot;: null,\n    &quot;url&quot;: &quot;---&quot;\n}\n</code></pre>\n<p>In short the invoice lines contain the following:</p>\n<ul>\n<li>Unused time on xxxxx after 09 Jan 2021: -3000</li>\n<li>Remaining time on xxxxx after 09 Jan 2021: 6499</li>\n<li>1  xxxxx (at 65.00 / year): 6500</li>\n</ul>\n<h2>Issue 1</h2>\n<p><strong>I believe this to be wrong</strong>. According to the documentation <a href=\"https://stripe.com/docs/billing/subscriptions/prorations\" rel=\"nofollow noreferrer\">here</a> the charge should be: <em>64.99 - 30 = 34.99 euros</em></p>\n<p>Now if I <strong>go through</strong> with the actual subscription update the invoice that Stripe generates is indeed for 34.99 euros. So there seems to be something wrong with either how I call the upcoming invoice API or what it returns.</p>\n<p>What am I missing? Am I supposed to deduct the price of the subscription from the <em>amountDue</em> myself?</p>\n"},{"tags":["java","timezone"],"answers":[{"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1320077938,"creation_date":1320076888,"answer_id":7956252,"question_id":7956044,"body_markdown":"In one of my JREs, there&#39;s a file in `JRE_PATH\\lib\\zi` named `ZoneInfoMappings`. In the first line it displays the data you are looking for.\r\n\r\nI&#39;m going to search for a less hackish way, will update answer if I find something.\r\n\r\nUPDATE:\r\nSeems that there&#39;s no API to get this data. However, the code in the class `sun.util.calendar.ZoneInfoFile` shows how to parse it.","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>In one of my JREs, there's a file in <code>JRE_PATH\\lib\\zi</code> named <code>ZoneInfoMappings</code>. In the first line it displays the data you are looking for.</p>\n\n<p>I'm going to search for a less hackish way, will update answer if I find something.</p>\n\n<p>UPDATE:\nSeems that there's no API to get this data. However, the code in the class <code>sun.util.calendar.ZoneInfoFile</code> shows how to parse it.</p>\n"},{"tags":[],"owner":{"account_id":51988,"reputation":569,"user_id":155341,"accept_rate":29,"display_name":"Jim P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360876998,"creation_date":1360876998,"answer_id":14884295,"question_id":7956044,"body_markdown":"Here&#39;s a hackish thing that worked for me in both IBM and Oracle JREs:\r\n\r\n    public static void main(String args[]) throws Exception {\r\n        File f = new File(System.getProperty(&quot;java.home&quot;) + File.separator + &quot;lib&quot; + File.separator + &quot;zi&quot; + File.separator + &quot;ZoneInfoMappings&quot;);\r\n        if (f.exists()) {\r\n            FileInputStream fis = new FileInputStream(f);\r\n            byte[] buf = new byte[11];\r\n            try {\r\n                fis.skip(11);\r\n                fis.read(buf);\r\n                System.out.print(&quot;Olson Database version is &quot;);\r\n                System.out.println(new String(buf));\r\n            } finally {\r\n                fis.close();\r\n            }\r\n        }       \r\n    }\r\n      \r\nMy jdk1.6.0_29 jre says tzdata2012i, and my websphere7 JDK says tzdata2011g\r\n\r\nYou can google those to see whether your JDK is updated, and which zones have what tz changes.    \r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>Here's a hackish thing that worked for me in both IBM and Oracle JREs:</p>\n\n<pre><code>public static void main(String args[]) throws Exception {\n    File f = new File(System.getProperty(\"java.home\") + File.separator + \"lib\" + File.separator + \"zi\" + File.separator + \"ZoneInfoMappings\");\n    if (f.exists()) {\n        FileInputStream fis = new FileInputStream(f);\n        byte[] buf = new byte[11];\n        try {\n            fis.skip(11);\n            fis.read(buf);\n            System.out.print(\"Olson Database version is \");\n            System.out.println(new String(buf));\n        } finally {\n            fis.close();\n        }\n    }       \n}\n</code></pre>\n\n<p>My jdk1.6.0_29 jre says tzdata2012i, and my websphere7 JDK says tzdata2011g</p>\n\n<p>You can google those to see whether your JDK is updated, and which zones have what tz changes.    </p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1580511343,"creation_date":1484966661,"answer_id":41775223,"question_id":7956044,"body_markdown":"# `ZoneRulesProvider.getVersions`\r\n\r\nIn Java 8, you can use [`ZoneRulesProvider.getVersions(&quot;UTC&quot;)`][1]:\r\n\r\n &gt; The exact meaning and format of the version is provider specific. The version must follow lexicographical order, thus the returned map will be order from the oldest known rules to the newest available rules. The default &#39;TZDB&#39; group uses version numbering consisting of the year followed by a letter, such as &#39;2009e&#39; or &#39;2012f&#39;.\r\n\r\nExample:\r\n\r\n\tSystem.out.println(\r\n        java.time.zone.ZoneRulesProvider\r\n                      .getVersions(&quot;UTC&quot;)\r\n                      .lastEntry()\r\n                      .getKey()\r\n    );\r\n\r\nIn my Oracle Java 8u91, I get:\r\n\r\n`2016a`\r\n\r\nSee this [code run live at IdeOne.com][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/zone/ZoneRulesProvider.html#getVersions-java.lang.String-\r\n  [2]: https://ideone.com/r8AqCw","title":"Java - find tzdata version in use regardless of JRE version","body":"<h1><code>ZoneRulesProvider.getVersions</code></h1>\n\n<p>In Java 8, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/zone/ZoneRulesProvider.html#getVersions-java.lang.String-\" rel=\"noreferrer\"><code>ZoneRulesProvider.getVersions(\"UTC\")</code></a>:</p>\n\n<blockquote>\n  <p>The exact meaning and format of the version is provider specific. The version must follow lexicographical order, thus the returned map will be order from the oldest known rules to the newest available rules. The default 'TZDB' group uses version numbering consisting of the year followed by a letter, such as '2009e' or '2012f'.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(\n    java.time.zone.ZoneRulesProvider\n                  .getVersions(\"UTC\")\n                  .lastEntry()\n                  .getKey()\n);\n</code></pre>\n\n<p>In my Oracle Java 8u91, I get:</p>\n\n<p><code>2016a</code></p>\n\n<p>See this <a href=\"https://ideone.com/r8AqCw\" rel=\"noreferrer\">code run live at IdeOne.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":3140348,"reputation":2256,"user_id":2655914,"accept_rate":43,"display_name":"Muralidharan.rade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495559456,"creation_date":1495559456,"answer_id":44141098,"question_id":7956044,"body_markdown":"In windows, use\r\n\r\n    findstr tzdata &lt;java-home&gt;\\lib\\zi\\ZoneInfoMappings\r\n\r\nThe following reference and link was useful for complete understanding of the tzdata in JRE. \r\n\r\nhttp://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\r\n\r\nTo determine TZData in other platforms, please refer\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html\r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>In windows, use</p>\n\n<pre><code>findstr tzdata &lt;java-home&gt;\\lib\\zi\\ZoneInfoMappings\n</code></pre>\n\n<p>The following reference and link was useful for complete understanding of the tzdata in JRE. </p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html</a></p>\n\n<p>To determine TZData in other platforms, please refer\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/time-zone001.html</a></p>\n"},{"tags":[],"owner":{"account_id":4973669,"reputation":23,"user_id":4013042,"display_name":"Bob Wojack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628699376,"creation_date":1628699376,"answer_id":68745780,"question_id":7956044,"body_markdown":"The upvoted solution works, but instead of writing and executing code, one can also ask the TZ Updater tool itself for each installed JRE:\r\n\r\n    &lt;PATH to JRE bin dir&gt;/java -jar tzupdater.jar -V\r\n\r\nSample Output:\r\n\r\n    tzupdater version 2.3.2-b02\r\n    JRE tzdata version: tzdata2018g\r\n    tzupdater tool would update with tzdata version: tzdata2021a\r\n\r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>The upvoted solution works, but instead of writing and executing code, one can also ask the TZ Updater tool itself for each installed JRE:</p>\n<pre><code>&lt;PATH to JRE bin dir&gt;/java -jar tzupdater.jar -V\n</code></pre>\n<p>Sample Output:</p>\n<pre><code>tzupdater version 2.3.2-b02\nJRE tzdata version: tzdata2018g\ntzupdater tool would update with tzdata version: tzdata2021a\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10171463,"reputation":71,"user_id":7511632,"display_name":"kkid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641092090,"creation_date":1640764807,"answer_id":70516639,"question_id":7956044,"body_markdown":"If you are using Azul JDK, you can find this information here: \r\nJAVA_HOME/jre/lib/tzdb.dat\r\n\r\nExample (Linux):\r\n\r\n```\r\n$ stings tzdb.dat | grep -i &quot;America/Sao_Paulo&quot;\r\nAmerica/Sao_Paulo\r\n```\r\n","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>If you are using Azul JDK, you can find this information here:\nJAVA_HOME/jre/lib/tzdb.dat</p>\n<p>Example (Linux):</p>\n<pre><code>$ stings tzdb.dat | grep -i &quot;America/Sao_Paulo&quot;\nAmerica/Sao_Paulo\n</code></pre>\n"}],"owner":{"account_id":472335,"reputation":4034,"user_id":880767,"accept_rate":100,"display_name":"johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13114,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7956252,"answer_count":6,"score":10,"last_activity_date":1641092090,"creation_date":1320075941,"question_id":7956044,"body_markdown":"We have a simple utility app that reads all the time zone data used in a JRE and displays it all in a simple table. We need to use an older version of the JRE (6_24) for an upcoming product release (due to other issues apparently), but we also need to include newer time zone updates in that release (that would otherwise be included in, say, 6_29). We&#39;re already packaging a private JRE that will be installed, so getting the time zone updates into that private JRE using the [TZUpdater tool](http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html) is not the issue - The issue is reading/verifying which version of the [tzdata](http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html) (e.g. tzdata2010o, tzdata2011k) is being read with the utility app (i.e. which version is being used in the JRE the app is running in). The app currently displays the _JRE version_ in the title bar, but with the time zone updates, that&#39;s no longer sufficient to determine which _time zone data_ version is in use.\r\n\r\nI&#39;ve looked into the [TimeZone](http://download.oracle.com/javase/6/docs/api/java/util/TimeZone.html) class, but it doesn&#39;t seem to provide this information - perhaps there is a system property that holds this info? The TZUpdater tool knows which version is being used, so it must be available somewhere - I can&#39;t imagine they would analytically determine which version is in use in the update tool... Anybody know where to locate this info?","title":"Java - find tzdata version in use regardless of JRE version","body":"<p>We have a simple utility app that reads all the time zone data used in a JRE and displays it all in a simple table. We need to use an older version of the JRE (6_24) for an upcoming product release (due to other issues apparently), but we also need to include newer time zone updates in that release (that would otherwise be included in, say, 6_29). We're already packaging a private JRE that will be installed, so getting the time zone updates into that private JRE using the <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"noreferrer\">TZUpdater tool</a> is not the issue - The issue is reading/verifying which version of the <a href=\"http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html\" rel=\"noreferrer\">tzdata</a> (e.g. tzdata2010o, tzdata2011k) is being read with the utility app (i.e. which version is being used in the JRE the app is running in). The app currently displays the <em>JRE version</em> in the title bar, but with the time zone updates, that's no longer sufficient to determine which <em>time zone data</em> version is in use.</p>\n\n<p>I've looked into the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/TimeZone.html\" rel=\"noreferrer\">TimeZone</a> class, but it doesn't seem to provide this information - perhaps there is a system property that holds this info? The TZUpdater tool knows which version is being used, so it must be available somewhere - I can't imagine they would analytically determine which version is in use in the update tool... Anybody know where to locate this info?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":7097254,"reputation":4695,"user_id":5430306,"display_name":"Rafsanjani"},"score":0,"creation_date":1641090328,"post_id":70553159,"comment_id":124718689,"body_markdown":"What version of room and android gradle plugin do you have","body":"What version of room and android gradle plugin do you have"},{"owner":{"account_id":9513597,"reputation":101,"user_id":7070758,"display_name":"Austin Weaver"},"score":0,"creation_date":1641090629,"post_id":70553159,"comment_id":124718722,"body_markdown":"@Rafsanjani from that build.gradle file, Room version 2.4.0, unless you&#39;re asking about something else. Where would I find the android gradle plugin version?","body":"@Rafsanjani from that build.gradle file, Room version 2.4.0, unless you&#39;re asking about something else. Where would I find the android gradle plugin version?"}],"owner":{"account_id":9513597,"reputation":101,"user_id":7070758,"display_name":"Austin Weaver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641091345,"creation_date":1641089336,"question_id":70553159,"body_markdown":"I&#39;m in the process of converting my android app from using simple file IO to using a proper database, so I&#39;ve been going through the tutorials for Android Jetpack&#39;s Room. I&#39;m having problems  trying to specify the room.schemaLocation argument. My build.gradle file looks like this:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;29.0.2&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.austinweaver.myapp&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 31\r\n        multiDexEnabled true\r\n        versionCode 13\r\n        versionName &quot;2.4.2&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n*       javaCompileOptions {\r\n*           annotationProcessorOptions {\r\n*               arguments += [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\r\n*           }\r\n*       }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation (&#39;io.socket:socket.io-client:2.0.0&#39;) {\r\n        exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n    }\r\n    implementation &quot;androidx.room:room-runtime:2.4.0&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:2.4.0&quot;\r\n    androidTestImplementation &quot;androidx.room:room-testing:2.4.0&quot;\r\n}\r\n```\r\n\r\nThe block marked with the *s is the issue: without it, my app runs fine but tells me to specify the room.schemaLocation. With that block, the gradle sync works but then the app build fails with the following message:\r\n\r\n```\r\nUnable to find method &#39;java.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;&#39;\r\njava.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;\r\n\r\nGradle&#39;s dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\r\n\r\nRe-download dependencies and sync project (requires network)\r\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\r\n\r\nStop Gradle build processes (requires restart)\r\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\r\n\r\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\r\n```\r\n\r\nI&#39;ve tried restarting Android Studio and tried some scattered solutions I found by trying to google the error message, but all the relevant things I found were deprecated or didn&#39;t work.\r\n\r\nLet me know if there&#39;s any information I should have included here, because I&#39;m not sure what else in my project even relates to this. Thanks for any help!\r\n\r\nEdit: my project-level build.gradle:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.3&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```","title":"Problem Specifying Jetpack Room Schema Location","body":"<p>I'm in the process of converting my android app from using simple file IO to using a proper database, so I've been going through the tutorials for Android Jetpack's Room. I'm having problems  trying to specify the room.schemaLocation argument. My build.gradle file looks like this:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;29.0.2&quot;\n    defaultConfig {\n        applicationId &quot;com.austinweaver.myapp&quot;\n        minSdkVersion 16\n        targetSdkVersion 31\n        multiDexEnabled true\n        versionCode 13\n        versionName &quot;2.4.2&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n*       javaCompileOptions {\n*           annotationProcessorOptions {\n*               arguments += [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\n*           }\n*       }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.preference:preference:1.1.1'\n    implementation 'com.google.android.gms:play-services-auth:20.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'com.google.android.gms:play-services-ads:20.5.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation ('io.socket:socket.io-client:2.0.0') {\n        exclude group: 'org.json', module: 'json'\n    }\n    implementation &quot;androidx.room:room-runtime:2.4.0&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:2.4.0&quot;\n    androidTestImplementation &quot;androidx.room:room-testing:2.4.0&quot;\n}\n</code></pre>\n<p>The block marked with the *s is the issue: without it, my app runs fine but tells me to specify the room.schemaLocation. With that block, the gradle sync works but then the app build fails with the following message:</p>\n<pre><code>Unable to find method 'java.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;'\njava.nio.file.Path.of(Ljava/lang/String;[Ljava/lang/String;)Ljava/nio/file/Path;\n\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\n\nRe-download dependencies and sync project (requires network)\nThe state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem.\n\nStop Gradle build processes (requires restart)\nYour project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\n\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes.\n</code></pre>\n<p>I've tried restarting Android Studio and tried some scattered solutions I found by trying to google the error message, but all the relevant things I found were deprecated or didn't work.</p>\n<p>Let me know if there's any information I should have included here, because I'm not sure what else in my project even relates to this. Thanks for any help!</p>\n<p>Edit: my project-level build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.3'\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n"},{"tags":["java","mysql","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641090758,"creation_date":1641090758,"answer_id":70553243,"question_id":70552935,"body_markdown":"Security Warning: Do not allow the Internet to access Cloud SQL.\r\n\r\nYour question states **without a need for Authorized networks**. If that is a requirement, then you must implement a server to proxy requests for Cloud SQL. That server will need to use the Cloud SQL Auth Proxy or have access via private IP.\r\n\r\n[About the Cloud SQL Auth proxy][1]\r\n\r\nTo allow public Internet access, use the address range **0.0.0.0/0**. This means adding that value as an authorized network. \r\n\r\n[Authorizing with authorized networks][2]\r\n\r\nYou can also use the CLI:\r\n\r\n    gcloud sql instances patch INSTANCE --authorized-networks=0.0.0.0/0\r\n\r\n[gcloud sql instances patch][3]\r\n\r\n\r\n  [1]: https://cloud.google.com/sql/docs/mysql/sql-proxy\r\n  [2]: https://cloud.google.com/sql/docs/mysql/authorize-networks\r\n  [3]: https://cloud.google.com/sdk/gcloud/reference/sql/instances/patch#--authorized-networks","title":"access to database without a need for Authorized networks in cloud sql","body":"<p>Security Warning: Do not allow the Internet to access Cloud SQL.</p>\n<p>Your question states <strong>without a need for Authorized networks</strong>. If that is a requirement, then you must implement a server to proxy requests for Cloud SQL. That server will need to use the Cloud SQL Auth Proxy or have access via private IP.</p>\n<p><a href=\"https://cloud.google.com/sql/docs/mysql/sql-proxy\" rel=\"nofollow noreferrer\">About the Cloud SQL Auth proxy</a></p>\n<p>To allow public Internet access, use the address range <strong>0.0.0.0/0</strong>. This means adding that value as an authorized network.</p>\n<p><a href=\"https://cloud.google.com/sql/docs/mysql/authorize-networks\" rel=\"nofollow noreferrer\">Authorizing with authorized networks</a></p>\n<p>You can also use the CLI:</p>\n<pre><code>gcloud sql instances patch INSTANCE --authorized-networks=0.0.0.0/0\n</code></pre>\n<p><a href=\"https://cloud.google.com/sdk/gcloud/reference/sql/instances/patch#--authorized-networks\" rel=\"nofollow noreferrer\">gcloud sql instances patch</a></p>\n"}],"owner":{"account_id":20523307,"reputation":1,"user_id":16133159,"display_name":"GAMEOVER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641090758,"creation_date":1641084926,"question_id":70552935,"body_markdown":"i made a java application that anybody can use it from different location, i want to every user to have the access to the database in the cloud sql , my question is how can i access to the database  without a need for Authorized networks ","title":"access to database without a need for Authorized networks in cloud sql","body":"<p>i made a java application that anybody can use it from different location, i want to every user to have the access to the database in the cloud sql , my question is how can i access to the database  without a need for Authorized networks</p>\n"},{"tags":["java","logging","log4j2","pci-compliance"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1641090330,"post_id":70553186,"comment_id":124718690,"body_markdown":"The best plan is to mask the data *before* you create the log entry.  For example, if the above is the result of calling `toString()` on an object, change the `toString()` method, or create the log message in a way that doesn&#39;t call `toString()`.","body":"The best plan is to mask the data <i>before</i> you create the log entry.  For example, if the above is the result of calling <code>toString()</code> on an object, change the <code>toString()</code> method, or create the log message in a way that doesn&#39;t call <code>toString()</code>."}],"owner":{"account_id":7365374,"reputation":21,"user_id":5607228,"display_name":"Sachin Pardeshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641089684,"creation_date":1641089684,"question_id":70553186,"body_markdown":"I want to mask track data , card data and etc , my pattern of logging is as follows \r\nplain text  : userID=1234|trackData=789654asdas|pin=897|userName=445566\r\nMasked text : userID=1234|trackData=|pin=|userName=445566\r\n\r\ni don&#39;t want to print this data which is sensitive , \r\nis there any way to do so ,\r\nalso i am not using spring boot or spring mvc architecture , this is normal rest api&#39;s.","title":"Masking Card Data Using log4j2","body":"<p>I want to mask track data , card data and etc , my pattern of logging is as follows\nplain text  : userID=1234|trackData=789654asdas|pin=897|userName=445566\nMasked text : userID=1234|trackData=|pin=|userName=445566</p>\n<p>i don't want to print this data which is sensitive ,\nis there any way to do so ,\nalso i am not using spring boot or spring mvc architecture , this is normal rest api's.</p>\n"},{"tags":["java","android-studio","android-fragments","onclicklistener","android-cardview"],"owner":{"account_id":22774850,"reputation":37,"user_id":16931704,"display_name":"Chief Simz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641087848,"creation_date":1641087848,"question_id":70553078,"body_markdown":"I have multiple card views in my Main Fragment that go to different fragments within the app usin  onClickListener functionality. \r\n\r\nHowever, when the cardviews are selected the fragment that shows is always the last replaced. \r\n\r\nEx: In main activity all the card views, when selected, show the affirmations fragment. No matter if they have been connected to their proper fragment.\r\n\r\nMainActivity.java\r\n\r\n    @Override\r\n    public void onCardSelected() {\r\n        fragmentManager = getSupportFragmentManager();\r\n        fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.container_fragment, new ProfileFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new BibleFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new ShopFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new NotiFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new CalFragment());\r\n        fragmentTransaction.replace(R.id.container_fragment, new AffFragment());\r\n        fragmentTransaction.commit();\r\n    }\r\n\r\nMainFragment.java\r\n\r\n    public class MainFragment extends Fragment {\r\n    private onFragmentBtnSelected listener;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState)\r\n    {\r\n       View view = inflater.inflate(R.layout.fragment_main,container,false);\r\n       CardView clickCardProfile = view.findViewById(R.id.cardProfile);\r\n       CardView clickCardBible = view.findViewById(R.id.cardBible);\r\n       CardView clickCardShop = view.findViewById(R.id.cardShop);\r\n       CardView clickCardNoti = view.findViewById(R.id.cardNotifications);\r\n       CardView clickCardCalendar = view.findViewById(R.id.cardCalendar);\r\n       CardView clickCardAffirmations = view.findViewById(R.id.cardAffirmations);\r\n\r\n      /*Button clickme = view.findViewById(R.id.clickHF);\r\n       clickme.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View v) {\r\n               listener.onBtnSelected();\r\n           }\r\n       });\r\n       return view;*/\r\n       clickCardProfile.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View v) {\r\n               listener.onCardSelected();\r\n           }\r\n       });\r\n       //return view;\r\n       clickCardBible.setOnClickListener(new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View v) {\r\n               listener.onCardSelected();\r\n           }\r\n       });\r\n       //return view;\r\n       clickCardShop.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       clickCardNoti.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       clickCardCalendar.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       clickCardAffirmations.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                listener.onCardSelected();\r\n            }\r\n        });\r\n       return view;\r\n    }\r\n    @Override\r\n    public void onAttach(@NonNull Context context){\r\n        super.onAttach(context);\r\n        if(context instanceof onFragmentBtnSelected ){\r\n            listener =(onFragmentBtnSelected) context;\r\n        }\r\n        else {\r\n            throw new ClassCastException(context.toString() + &quot; must implement listiner&quot;);\r\n        }\r\n    }\r\n    public interface onFragmentBtnSelected{\r\n        //public void onBtnSelected();\r\n        public void onCardSelected();\r\n    }\r\n\r\nWould I need to create an interface method for each of the buttons, and separate the respective  replace statements or is there a way to have them all in the same method and switch from fragment to fragment?","title":"How to handle multiple card views / buttons on a fragment","body":"<p>I have multiple card views in my Main Fragment that go to different fragments within the app usin  onClickListener functionality.</p>\n<p>However, when the cardviews are selected the fragment that shows is always the last replaced.</p>\n<p>Ex: In main activity all the card views, when selected, show the affirmations fragment. No matter if they have been connected to their proper fragment.</p>\n<p>MainActivity.java</p>\n<pre><code>@Override\npublic void onCardSelected() {\n    fragmentManager = getSupportFragmentManager();\n    fragmentTransaction = fragmentManager.beginTransaction();\n    fragmentTransaction.replace(R.id.container_fragment, new ProfileFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new BibleFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new ShopFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new NotiFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new CalFragment());\n    fragmentTransaction.replace(R.id.container_fragment, new AffFragment());\n    fragmentTransaction.commit();\n}\n</code></pre>\n<p>MainFragment.java</p>\n<pre><code>public class MainFragment extends Fragment {\nprivate onFragmentBtnSelected listener;\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n                         @Nullable Bundle savedInstanceState)\n{\n   View view = inflater.inflate(R.layout.fragment_main,container,false);\n   CardView clickCardProfile = view.findViewById(R.id.cardProfile);\n   CardView clickCardBible = view.findViewById(R.id.cardBible);\n   CardView clickCardShop = view.findViewById(R.id.cardShop);\n   CardView clickCardNoti = view.findViewById(R.id.cardNotifications);\n   CardView clickCardCalendar = view.findViewById(R.id.cardCalendar);\n   CardView clickCardAffirmations = view.findViewById(R.id.cardAffirmations);\n\n  /*Button clickme = view.findViewById(R.id.clickHF);\n   clickme.setOnClickListener(new View.OnClickListener() {\n       @Override\n       public void onClick(View v) {\n           listener.onBtnSelected();\n       }\n   });\n   return view;*/\n   clickCardProfile.setOnClickListener(new View.OnClickListener() {\n       @Override\n       public void onClick(View v) {\n           listener.onCardSelected();\n       }\n   });\n   //return view;\n   clickCardBible.setOnClickListener(new View.OnClickListener() {\n       @Override\n       public void onClick(View v) {\n           listener.onCardSelected();\n       }\n   });\n   //return view;\n   clickCardShop.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   clickCardNoti.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   clickCardCalendar.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   clickCardAffirmations.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            listener.onCardSelected();\n        }\n    });\n   return view;\n}\n@Override\npublic void onAttach(@NonNull Context context){\n    super.onAttach(context);\n    if(context instanceof onFragmentBtnSelected ){\n        listener =(onFragmentBtnSelected) context;\n    }\n    else {\n        throw new ClassCastException(context.toString() + &quot; must implement listiner&quot;);\n    }\n}\npublic interface onFragmentBtnSelected{\n    //public void onBtnSelected();\n    public void onCardSelected();\n}\n</code></pre>\n<p>Would I need to create an interface method for each of the buttons, and separate the respective  replace statements or is there a way to have them all in the same method and switch from fragment to fragment?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":10,"creation_date":1345705145,"post_id":12086298,"comment_id":16155914,"body_markdown":"member variables are not polymorphic, only methods are **See Also** - [http://stackoverflow.com/questions/11974428/java-code-snippet-output-explanation-required](http://stackoverflow.com/questions/11974428/java-code-snippet-output-explanation-required)","body":"member variables are not polymorphic, only methods are <b>See Also</b> - <a href=\"http://stackoverflow.com/questions/11974428/java-code-snippet-output-explanation-required\">http://stackoverflow.com/questions/11974428/java-code-snippe&zwnj;&#8203;t-output-explanation&zwnj;&#8203;-required</a>"},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1345705443,"post_id":12086298,"comment_id":16148566,"body_markdown":"http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept/12078801#12078801","body":"<a href=\"http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept/12078801#12078801\" title=\"java variables shadowed methods overridden concept\">stackoverflow.com/questions/12078751/&hellip;</a>"},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1345705460,"post_id":12086298,"comment_id":16148573,"body_markdown":"possible dup : http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept","body":"possible dup : <a href=\"http://stackoverflow.com/questions/12078751/java-variables-shadowed-methods-overridden-concept\" title=\"java variables shadowed methods overridden concept\">stackoverflow.com/questions/12078751/&hellip;</a>"},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":3,"creation_date":1345705908,"post_id":12086298,"comment_id":16148719,"body_markdown":"@user1012372 this is an example of *field hiding*, not *overriding*.","body":"@user1012372 this is an example of <i>field hiding</i>, not <i>overriding</i>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1641087670,"creation_date":1345707408,"answer_id":12086862,"question_id":12086298,"body_markdown":"&gt;  Why instance variable of a superclass is not overridden in subclass method see my code below ...\r\n\r\nBecause instance variables CANNOT be overridden in Java.  In Java, only methods can be overridden.  \r\n\r\nWhen you declare a field with the same name as an existing field in a superclass, the new field *hides* the existing field.  The existing field from the superclass is still present in the subclass, and can even be used ... subject to the normal Java access rules.\r\n\r\n(In your example, an instance of `C` has two distinct fields called `a`, containing distinct values.)\r\n\r\n----------------\r\n\r\n&gt; Because instance variables CANNOT be overridden in Java, but why? why is it done in this manner in Java? What&#39;s the reason?\r\n\r\nWhy did they design it that way?  \r\n\r\n 1. Because overriding variables would fundamentally break code in the superclass.  For example, if an override changes the variable&#39;s type, that is likely to change the behavior of methods declared in the parent class that used the original variable.  At worst, it renders them uncompilable.  \r\n\r\n    For example:\r\n\r\n           public class Sup {\r\n               private int foo;\r\n               public int getFoo() {\r\n                   return foo;\r\n               }\r\n           }\r\n    \r\n           public class Sub extends Sup {\r\n               private int[] foo;\r\n               ...\r\n           }\r\n\r\n    If `Sub.foo` overrides (i.e. replaces) `Sup.foo`, how can `getFoo()` work?  In the subclass context, it would be trying to return a value of a field of the wrong type!\r\n\r\n 2. If fields that were overridden were not private, it would be even worse.  That would break the Liskov Substitutability Principle (LSP) in a pretty fundamental way.  That removes the basis for polymorphism.\r\n\r\n 3. On the flipside, overriding fields would not achieve anything that cannot be done *better* in other ways.  For example, a good design declares all instance variables as private and provides getters/setters for them as required.  The getters/setters *can* be overridden, and the parent class can &quot;protect&quot; itself against undesirable overrides by using the private fields directly, or declaring the getters/setters` final`.\r\n\r\n-----------------\r\n\r\nReferences:  \r\n\r\n  - Java Tutorial - [Hiding Fields][1]\r\n  - JLS [Example 8.3.1.1-3 - Hiding of Instance Fields][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10217","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<blockquote>\n<p>Why instance variable of a superclass is not overridden in subclass method see my code below ...</p>\n</blockquote>\n<p>Because instance variables CANNOT be overridden in Java.  In Java, only methods can be overridden.</p>\n<p>When you declare a field with the same name as an existing field in a superclass, the new field <em>hides</em> the existing field.  The existing field from the superclass is still present in the subclass, and can even be used ... subject to the normal Java access rules.</p>\n<p>(In your example, an instance of <code>C</code> has two distinct fields called <code>a</code>, containing distinct values.)</p>\n<hr />\n<blockquote>\n<p>Because instance variables CANNOT be overridden in Java, but why? why is it done in this manner in Java? What's the reason?</p>\n</blockquote>\n<p>Why did they design it that way?</p>\n<ol>\n<li><p>Because overriding variables would fundamentally break code in the superclass.  For example, if an override changes the variable's type, that is likely to change the behavior of methods declared in the parent class that used the original variable.  At worst, it renders them uncompilable.</p>\n<p>For example:</p>\n<pre><code>   public class Sup {\n       private int foo;\n       public int getFoo() {\n           return foo;\n       }\n   }\n\n   public class Sub extends Sup {\n       private int[] foo;\n       ...\n   }\n</code></pre>\n<p>If <code>Sub.foo</code> overrides (i.e. replaces) <code>Sup.foo</code>, how can <code>getFoo()</code> work?  In the subclass context, it would be trying to return a value of a field of the wrong type!</p>\n</li>\n<li><p>If fields that were overridden were not private, it would be even worse.  That would break the Liskov Substitutability Principle (LSP) in a pretty fundamental way.  That removes the basis for polymorphism.</p>\n</li>\n<li><p>On the flipside, overriding fields would not achieve anything that cannot be done <em>better</em> in other ways.  For example, a good design declares all instance variables as private and provides getters/setters for them as required.  The getters/setters <em>can</em> be overridden, and the parent class can &quot;protect&quot; itself against undesirable overrides by using the private fields directly, or declaring the getters/setters<code> final</code>.</p>\n</li>\n</ol>\n<hr />\n<p>References:</p>\n<ul>\n<li>Java Tutorial - <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/hidevariables.html\" rel=\"nofollow noreferrer\">Hiding Fields</a></li>\n<li>JLS <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10217\" rel=\"nofollow noreferrer\">Example 8.3.1.1-3 - Hiding of Instance Fields</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1482917,"reputation":798,"user_id":1391837,"accept_rate":0,"display_name":"Shree"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1376273314,"creation_date":1376268277,"answer_id":18178166,"question_id":12086298,"body_markdown":"You may refer following section / examples in [Java language specification](http://docs.oracle.com/javase/specs/jls/se7/html/index.html) that explains about the topic.  \r\n\r\n1. Example 8.3.1.1-3. [Hiding of Instance Variables](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10238)\r\n2. Section 8.4.8. [Inheritance, Overriding, and Hiding](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8) and related examples\r\n\r\nRest of my post is an additional information for those who are interested in scratching the surface of jvm internals on this subject. We can start by examining the byte codes generated for class A using javap. Following disassembles the byte codes into a human readable text based instructions (mnemonics).\r\n\r\n    javap -c A.class \r\n\r\nWithout getting lost in many details of the entire dis-assembly, we can focus on the lines corresponding to b.print and b.a\r\n\r\n\r\n    9: invokevirtual #4                  // Method B.print:()V\r\n    ...\r\n    ...\r\n    16: getfield      #6                  // Field B.a:I\r\n\r\n\r\nWe can immediately infer that the op codes used for accessing the method and a variable are different. If you are from a C++ school, you could sense that all method calls are virtual by default in java.\r\n\r\nNow let us write another class A1 identical to A, but just has a casting for accessing variable &#39;a&#39; in C. \r\n&gt; public class A1  {  \r\n&gt;  &amp;nbsp;&amp;nbsp;public static void main(String[] args) {  \r\n&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;B b=new C();  \r\n&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;b.print(); //casting is irrelevant here because methods are anyway bound at runtime \r\n&gt;  &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(((C)b).a);// the casting allows us to access of value of a in C  \r\n&gt;   &amp;nbsp;&amp;nbsp;}  \r\n} &lt;br/&gt;\r\n\r\n\r\nCompile the file and disassemble the class.  \r\n&gt; javap -c A1.class \r\n\r\nYou would notice that dis-assembly now points to C.a instead of B.a  \r\n&gt; 19: getfield      #6                  // Field C.a:I\r\n\r\n\r\nif you want to dig deep into this, here goes additional information:   \r\n- invokevirtual corresponds to opcode 0xb6  \r\n- getfield corresponds to opcode 0xb4\r\n\r\nYou can find a JVM specification that explains comprehensively about these opcodes at  - http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html  \r\nCheck out in amazon.com for &quot;Java Virtual Machine&quot; books that could make life little more easier for decoding the specification.","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>You may refer following section / examples in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"noreferrer\">Java language specification</a> that explains about the topic.  </p>\n\n<ol>\n<li>Example 8.3.1.1-3. <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#d5e10238\" rel=\"noreferrer\">Hiding of Instance Variables</a></li>\n<li>Section 8.4.8. <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.8\" rel=\"noreferrer\">Inheritance, Overriding, and Hiding</a> and related examples</li>\n</ol>\n\n<p>Rest of my post is an additional information for those who are interested in scratching the surface of jvm internals on this subject. We can start by examining the byte codes generated for class A using javap. Following disassembles the byte codes into a human readable text based instructions (mnemonics).</p>\n\n<pre><code>javap -c A.class \n</code></pre>\n\n<p>Without getting lost in many details of the entire dis-assembly, we can focus on the lines corresponding to b.print and b.a</p>\n\n<pre><code>9: invokevirtual #4                  // Method B.print:()V\n...\n...\n16: getfield      #6                  // Field B.a:I\n</code></pre>\n\n<p>We can immediately infer that the op codes used for accessing the method and a variable are different. If you are from a C++ school, you could sense that all method calls are virtual by default in java.</p>\n\n<p>Now let us write another class A1 identical to A, but just has a casting for accessing variable 'a' in C. </p>\n\n<blockquote>\n  <p>public class A1  {<br>\n   &nbsp;&nbsp;public static void main(String[] args) {<br>\n   &nbsp;&nbsp;&nbsp;&nbsp;B b=new C();<br>\n   &nbsp;&nbsp;&nbsp;&nbsp;b.print(); //casting is irrelevant here because methods are anyway bound at runtime \n   &nbsp;&nbsp;&nbsp;&nbsp;System.out.println(((C)b).a);// the casting allows us to access of value of a in C<br>\n    &nbsp;&nbsp;}<br>\n  } <br/></p>\n</blockquote>\n\n<p>Compile the file and disassemble the class.  </p>\n\n<blockquote>\n  <p>javap -c A1.class </p>\n</blockquote>\n\n<p>You would notice that dis-assembly now points to C.a instead of B.a  </p>\n\n<blockquote>\n  <p>19: getfield      #6                  // Field C.a:I</p>\n</blockquote>\n\n<p>if you want to dig deep into this, here goes additional information:<br>\n- invokevirtual corresponds to opcode 0xb6<br>\n- getfield corresponds to opcode 0xb4</p>\n\n<p>You can find a JVM specification that explains comprehensively about these opcodes at  - <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html</a><br>\nCheck out in amazon.com for \"Java Virtual Machine\" books that could make life little more easier for decoding the specification.</p>\n"},{"tags":[],"owner":{"account_id":4482535,"reputation":464,"user_id":5161634,"accept_rate":0,"display_name":"Sriharsha g.r.v"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474198795,"creation_date":1474195974,"answer_id":39556852,"question_id":12086298,"body_markdown":"I have modified your code for easy Explanation ,instead of variable &#39;a&#39; ,lets say the Class C  contains variable &#39;c&#39;.\r\nIts for the same reason why class C cannot access the instance variable of Class c itself without Typecasting.\r\nExample Given below\r\n\r\n    class B\r\n    {\r\n         int a=10;\r\n         public void print()\r\n         {\r\n             System.out.println(&quot;inside B super class&quot;);\r\n         }\r\n    \r\n    }\r\n     class C extends B\r\n     {\r\n         int x=20;\r\n         public void print()\r\n         {\r\n             System.out.println(&quot;inside C sub class&quot;);\r\n         }\r\n    \r\n    \r\n     }\r\n    public class A  {\r\n        public static void main(String[] args) {\r\n            B b=new C();\r\n      \r\n            System.out.println(b.x);//will throw compile error unless b is type casted to Class C\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nSo,in java,the compiler  goes by the reference,not by the instance.\r\nTo get over this compiler uses **Runtime polymorphism**,but it is for the methods,not the instance variables.\r\nSo variables cannot be accessed without type-casting\r\nand\r\nthe methods unless,overridden(Runtime polymoprhism),cannot be accessed without type-casting.\r\n\r\n\r\n\r\nSo,in our case.it is obvious for refrence of Superclass carrying an instance of subclass,to view in the superclass.  ","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>I have modified your code for easy Explanation ,instead of variable 'a' ,lets say the Class C  contains variable 'c'.\nIts for the same reason why class C cannot access the instance variable of Class c itself without Typecasting.\nExample Given below</p>\n\n<pre><code>class B\n{\n     int a=10;\n     public void print()\n     {\n         System.out.println(\"inside B super class\");\n     }\n\n}\n class C extends B\n {\n     int x=20;\n     public void print()\n     {\n         System.out.println(\"inside C sub class\");\n     }\n\n\n }\npublic class A  {\n    public static void main(String[] args) {\n        B b=new C();\n\n        System.out.println(b.x);//will throw compile error unless b is type casted to Class C\n\n    }\n\n}\n</code></pre>\n\n<p>So,in java,the compiler  goes by the reference,not by the instance.\nTo get over this compiler uses <strong>Runtime polymorphism</strong>,but it is for the methods,not the instance variables.\nSo variables cannot be accessed without type-casting\nand\nthe methods unless,overridden(Runtime polymoprhism),cannot be accessed without type-casting.</p>\n\n<p>So,in our case.it is obvious for refrence of Superclass carrying an instance of subclass,to view in the superclass.  </p>\n"},{"tags":[],"owner":{"account_id":4836106,"reputation":562,"user_id":3902762,"accept_rate":50,"display_name":"Varun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1486844859,"creation_date":1486844859,"answer_id":42180865,"question_id":12086298,"body_markdown":"As instance variables don&#39;t get overridden in java there is no run time polymorphism associated with them and hence at compile time only it is decided by reference.\r\n\r\nIn your code \r\n    \r\n    B b = new C();\r\n    b.print();\r\n\r\n    As b is of type Class B which is Parent to C and hence as there is no \r\n    run time polymorphism it is decided at compile time to call instance \r\n    variable of Class B.\r\n    \r\n\r\n\r\n\r\n    ","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>As instance variables don't get overridden in java there is no run time polymorphism associated with them and hence at compile time only it is decided by reference.</p>\n\n<p>In your code </p>\n\n<pre><code>B b = new C();\nb.print();\n\nAs b is of type Class B which is Parent to C and hence as there is no \nrun time polymorphism it is decided at compile time to call instance \nvariable of Class B.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3483018,"reputation":383,"user_id":2914579,"display_name":"Dheeru Mundluru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501844979,"creation_date":1501844979,"answer_id":45505307,"question_id":12086298,"body_markdown":"Here is my perspective at a design/conceptual level on why instance variables are not overridden. To keep it simple, if we consider abstract classes, they define abstract methods and expect them to be overridden. **There has been never been anything like abstract variables**. If there was, then we could expect language to support it by overriding. So, when an abstract class is being designed, then the designer defines some **common concrete state** and common behavior (including abstract methods) for subtypes. Almost always if state is to be inherited (protected access), then it would be simply inherited and I believe in very few cases some of it could be re-defined, but very rarely re-declared. So, state is naturally being expected to be simply inherited while behavior is being expected to be inherited and overridden.","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>Here is my perspective at a design/conceptual level on why instance variables are not overridden. To keep it simple, if we consider abstract classes, they define abstract methods and expect them to be overridden. <strong>There has been never been anything like abstract variables</strong>. If there was, then we could expect language to support it by overriding. So, when an abstract class is being designed, then the designer defines some <strong>common concrete state</strong> and common behavior (including abstract methods) for subtypes. Almost always if state is to be inherited (protected access), then it would be simply inherited and I believe in very few cases some of it could be re-defined, but very rarely re-declared. So, state is naturally being expected to be simply inherited while behavior is being expected to be inherited and overridden.</p>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1544847757,"creation_date":1541779992,"answer_id":53229414,"question_id":12086298,"body_markdown":"Because variables in Java do not follow polymorphism and overriding is only applicable to methods but not to variables.\n\nIn Java, when the child and parent class both have a variable with the same name, Child class&#39;s variable hides the parent class&#39;s variable, even if their types are different. And this concept is known as **Variable Hiding**.\n\n\nIn the case of method overriding, overriding methods completely replaces the inherited methods but in variable hiding child class hides the inherited variables instead of replacing which basically means is that the object of Child class contains both variables but Child&#39;s variable hides Parent&#39;s variable. so when we try to access the variable within Child class, it will be accessed from the child class.\n\nIf we are trying to access the variable outside of Parent and Child class, then the instance variable is chosen from the reference type.\n\n### Why Instance Variable Is Chosen from Reference Type Instead Of Instance\n\nAs explained in [How Does JVM Handle Method Overloading and Overriding Internally][1],  at compile time overriding method calls are treated from the reference class only but all overridden methods get replaced by the overriding method at the runtime using a vtable and this phenomenon is called **runtime polymorphism**.\n\nSimilarly, at compile time variable access is also treated from the reference type but as we discussed variables do not follow overriding or runtime polymorphism, so they are not replaced by child class variables at the runtime and still refer to the reference type.\n\n### Why Variables do not Follow Overriding Or Why They Follow Hiding\n\n\nBecause variable overriding might break methods inherited from the parent if we change the variable&#39;s type in the child class.\n\nWe know every child class inherits variables and methods (state and behavior) from its parent class. Imagine if Java allows variable overriding and we change the type of a variable from `int` to `Object` in the child class. It will break any method which is using that variable and because the child has inherited those methods from the parent, the compiler will give errors in the child class.\n\nAnd as mentioned, if Java allows variable overriding then Child&#39;s variable cannot substitute Parent&#39;s variable and this would break the Liskov Substitutability Principle (LSP).\n\n\nYou can read more on my articles [What is Variable Shadowing and Hiding in Java][2], [Why Instance Variable Of Super Class Is Not Overridden In Sub Class][3]\n\n\n  [1]: https://programmingmitra.com/2017/05/how-does-jvm-handle-method-overriding-internally.html\n  [2]: https://programmingmitra.com/2018/02/what-is-variable-shadowing-and-hiding.html\n  [3]: https://programmingmitra.com/2018/11/why-instance-variable-of-super-class-is-not-overridden-In-sub-class.html","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>Because variables in Java do not follow polymorphism and overriding is only applicable to methods but not to variables.</p>\n<p>In Java, when the child and parent class both have a variable with the same name, Child class's variable hides the parent class's variable, even if their types are different. And this concept is known as <strong>Variable Hiding</strong>.</p>\n<p>In the case of method overriding, overriding methods completely replaces the inherited methods but in variable hiding child class hides the inherited variables instead of replacing which basically means is that the object of Child class contains both variables but Child's variable hides Parent's variable. so when we try to access the variable within Child class, it will be accessed from the child class.</p>\n<p>If we are trying to access the variable outside of Parent and Child class, then the instance variable is chosen from the reference type.</p>\n<h3>Why Instance Variable Is Chosen from Reference Type Instead Of Instance</h3>\n<p>As explained in <a href=\"https://programmingmitra.com/2017/05/how-does-jvm-handle-method-overriding-internally.html\" rel=\"nofollow noreferrer\">How Does JVM Handle Method Overloading and Overriding Internally</a>,  at compile time overriding method calls are treated from the reference class only but all overridden methods get replaced by the overriding method at the runtime using a vtable and this phenomenon is called <strong>runtime polymorphism</strong>.</p>\n<p>Similarly, at compile time variable access is also treated from the reference type but as we discussed variables do not follow overriding or runtime polymorphism, so they are not replaced by child class variables at the runtime and still refer to the reference type.</p>\n<h3>Why Variables do not Follow Overriding Or Why They Follow Hiding</h3>\n<p>Because variable overriding might break methods inherited from the parent if we change the variable's type in the child class.</p>\n<p>We know every child class inherits variables and methods (state and behavior) from its parent class. Imagine if Java allows variable overriding and we change the type of a variable from <code>int</code> to <code>Object</code> in the child class. It will break any method which is using that variable and because the child has inherited those methods from the parent, the compiler will give errors in the child class.</p>\n<p>And as mentioned, if Java allows variable overriding then Child's variable cannot substitute Parent's variable and this would break the Liskov Substitutability Principle (LSP).</p>\n<p>You can read more on my articles <a href=\"https://programmingmitra.com/2018/02/what-is-variable-shadowing-and-hiding.html\" rel=\"nofollow noreferrer\">What is Variable Shadowing and Hiding in Java</a>, <a href=\"https://programmingmitra.com/2018/11/why-instance-variable-of-super-class-is-not-overridden-In-sub-class.html\" rel=\"nofollow noreferrer\">Why Instance Variable Of Super Class Is Not Overridden In Sub Class</a></p>\n"},{"tags":[],"owner":{"account_id":16013228,"reputation":11,"user_id":11556710,"display_name":"Mathew Klimek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558847429,"creation_date":1558847429,"answer_id":56310818,"question_id":12086298,"body_markdown":"Like others have mentioned, you cannot override a super class&#39;s instance variables, but **you can use constructors to assign the proper values for your objects.** For example, you can use constructors to make the value of &#39;a&#39; equal to &#39;20&#39; in class C. \r\n\r\nThis is your original code that is augmented using constructors to set the value for &#39;a&#39; equal to &#39;20&#39; in class C. \r\n\r\nLong story short, we are using the arguments of an object instance and of a constructors to pass up a value to the superclass. \r\n\r\n\r\n\r\n     public class B {\r\n        \tprivate int a; //initialize int a\r\n        \tpublic int getA() { //create a getter for a\r\n        \t\treturn a;\r\n        \t}\r\n        public B(int size) { //constructor that takes an int\r\n        \t\ta = size; //sets a to the value in the parameters\r\n        \t}\r\n            public void print() {\r\n                System.out.println(&quot;inside B superclass&quot;);\r\n            }\r\n        }\r\n    \r\n    public class C extends B{\r\n    \tpublic C(int a) { //C constructor takes an int\r\n    \t\tsuper(a); //it send the name up to its superclass (B)\r\n    \t}\r\n        public void print() {\r\n            System.out.println(&quot;inside C subclass&quot;);\r\n        }\r\n    }\r\n    \r\n    public class A {\r\n        public static void main(String[] args) {\r\n            B b = new C(20); //Creates a new object &#39;b&#39; of type C\r\n            b.print(); // prints: inside C subclass\r\n            System.out.println(b.getA()); // prints the value &#39;20&#39;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>Like others have mentioned, you cannot override a super class's instance variables, but <strong>you can use constructors to assign the proper values for your objects.</strong> For example, you can use constructors to make the value of 'a' equal to '20' in class C. </p>\n\n<p>This is your original code that is augmented using constructors to set the value for 'a' equal to '20' in class C. </p>\n\n<p>Long story short, we are using the arguments of an object instance and of a constructors to pass up a value to the superclass. </p>\n\n<pre><code> public class B {\n        private int a; //initialize int a\n        public int getA() { //create a getter for a\n            return a;\n        }\n    public B(int size) { //constructor that takes an int\n            a = size; //sets a to the value in the parameters\n        }\n        public void print() {\n            System.out.println(\"inside B superclass\");\n        }\n    }\n\npublic class C extends B{\n    public C(int a) { //C constructor takes an int\n        super(a); //it send the name up to its superclass (B)\n    }\n    public void print() {\n        System.out.println(\"inside C subclass\");\n    }\n}\n\npublic class A {\n    public static void main(String[] args) {\n        B b = new C(20); //Creates a new object 'b' of type C\n        b.print(); // prints: inside C subclass\n        System.out.println(b.getA()); // prints the value '20'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":996598,"reputation":6067,"user_id":1012372,"accept_rate":49,"display_name":"Jayesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44554,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":12086862,"answer_count":7,"score":45,"last_activity_date":1641087670,"creation_date":1345705027,"question_id":12086298,"body_markdown":"See my code below, in which the method `print` is overridden but variable `a` is not. Why is it allowed to declare duplicate variables in a subclass?\r\n\r\n\tclass B {\r\n\t\tint a = 10;\r\n\t\tpublic void print() {\r\n\t\t\tSystem.out.println(&quot;inside B superclass&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclass C extends B {\r\n\t\tint a = 20;\r\n\t\tpublic void print() {\r\n\t\t\tSystem.out.println(&quot;inside C subclass&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class A {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tB b = new C();\r\n\t\t\tb.print(); // prints: inside C subclass\r\n\t\t\tSystem.out.println(b.a); // prints superclass variable value 10\r\n\t\t}\r\n\t}","title":"Why is an instance variable of the superclass not overridden by a subclass?","body":"<p>See my code below, in which the method <code>print</code> is overridden but variable <code>a</code> is not. Why is it allowed to declare duplicate variables in a subclass?</p>\n\n<pre><code>class B {\n    int a = 10;\n    public void print() {\n        System.out.println(\"inside B superclass\");\n    }\n}\n\nclass C extends B {\n    int a = 20;\n    public void print() {\n        System.out.println(\"inside C subclass\");\n    }\n}\n\npublic class A {\n    public static void main(String[] args) {\n        B b = new C();\n        b.print(); // prints: inside C subclass\n        System.out.println(b.a); // prints superclass variable value 10\n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.concurrent","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641086755,"creation_date":1641086108,"answer_id":70552979,"question_id":70549671,"body_markdown":"Your reasoning is based on the assumption that 2 writer-threads could potentially enter the `contendedLock()` method and the second writer would be parked indefinitely by itself which is, of course, impossible as the `putVal`\r\nis [synchronized on the root node](https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1031) of the tree in question.\r\n\r\nIn fact, the `lockState` is only used to orchestrate readers vs writers through CAS and only if both reader and writer try to access the same RB-tree (i.e. they both operate on a key with identical hash). \r\n\r\nIn that case the writer-thread would park itself once it found `lockState=READER` (and then added the `WAITER` bit to the `lockState` through OR (`s | WAITER`). This value (00000110) will later be used in the `finally` block by the reader to unpark the writer-thread (once it clears the reading state by adding `-READER`, that is -4, and sees the previous value was also 00000110)","title":"Is it possible to get a deadlock with ConcurrentHashMap with two threads lockRoot","body":"<p>Your reasoning is based on the assumption that 2 writer-threads could potentially enter the <code>contendedLock()</code> method and the second writer would be parked indefinitely by itself which is, of course, impossible as the <code>putVal</code>\nis <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1031\" rel=\"nofollow noreferrer\">synchronized on the root node</a> of the tree in question.</p>\n<p>In fact, the <code>lockState</code> is only used to orchestrate readers vs writers through CAS and only if both reader and writer try to access the same RB-tree (i.e. they both operate on a key with identical hash).</p>\n<p>In that case the writer-thread would park itself once it found <code>lockState=READER</code> (and then added the <code>WAITER</code> bit to the <code>lockState</code> through OR (<code>s | WAITER</code>). This value (00000110) will later be used in the <code>finally</code> block by the reader to unpark the writer-thread (once it clears the reading state by adding <code>-READER</code>, that is -4, and sees the previous value was also 00000110)</p>\n"}],"owner":{"account_id":9813199,"reputation":43,"user_id":7270583,"display_name":"Kevin Ni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70552979,"answer_count":1,"score":1,"last_activity_date":1641086755,"creation_date":1641049252,"question_id":70549671,"body_markdown":"if two threads put vals into one tree at same time\r\n\r\n    private final void contendedLock() {\r\n            boolean waiting = false;\r\n            for (int s;;) {\r\n                if (((s = lockState) &amp; ~WAITER) == 0) {\r\n                    if (U.compareAndSwapInt(this, LOCKSTATE, s, WRITER)) {\r\n                        if (waiting)\r\n                            waiter = null;\r\n                        return;\r\n                    }\r\n                }\r\n                else if ((s &amp; WAITER) == 0) {\r\n                    if (U.compareAndSwapInt(this, LOCKSTATE, s, s | WAITER)) {\r\n                        waiting = true;\r\n                        waiter = Thread.currentThread();\r\n                    }\r\n                }\r\n                else if (waiting)\r\n                    LockSupport.park(this);\r\n            }\r\n        }\r\n\r\nThread1:CAS the lockstate to WRITER\r\n\r\nThread2:CAS the lockstate to (WRITER|WAITER)\r\n\r\nThread2:LockSupport.park(this)\r\n\r\nThread1:unlockRoot\r\n\r\n    private final void unlockRoot() {\r\n            lockState = 0;\r\n        }\r\n\r\nthen who can unpark the Thread2?\r\n\r\nthe finally part of find() method need to be done in strict conditions\r\n \r\n\r\n    finally {\r\n                            Thread w;\r\n                            if (U.getAndAddInt(this, LOCKSTATE, -READER) ==\r\n                                (READER|WAITER) &amp;&amp; (w = waiter) != null)\r\n                                LockSupport.unpark(w);\r\n                        }\r\n\r\n\r\ncan somebody tell me if I was thinking wrong?","title":"Is it possible to get a deadlock with ConcurrentHashMap with two threads lockRoot","body":"<p>if two threads put vals into one tree at same time</p>\n<pre><code>private final void contendedLock() {\n        boolean waiting = false;\n        for (int s;;) {\n            if (((s = lockState) &amp; ~WAITER) == 0) {\n                if (U.compareAndSwapInt(this, LOCKSTATE, s, WRITER)) {\n                    if (waiting)\n                        waiter = null;\n                    return;\n                }\n            }\n            else if ((s &amp; WAITER) == 0) {\n                if (U.compareAndSwapInt(this, LOCKSTATE, s, s | WAITER)) {\n                    waiting = true;\n                    waiter = Thread.currentThread();\n                }\n            }\n            else if (waiting)\n                LockSupport.park(this);\n        }\n    }\n</code></pre>\n<p>Thread1:CAS the lockstate to WRITER</p>\n<p>Thread2:CAS the lockstate to (WRITER|WAITER)</p>\n<p>Thread2:LockSupport.park(this)</p>\n<p>Thread1:unlockRoot</p>\n<pre><code>private final void unlockRoot() {\n        lockState = 0;\n    }\n</code></pre>\n<p>then who can unpark the Thread2?</p>\n<p>the finally part of find() method need to be done in strict conditions</p>\n<pre><code>finally {\n                        Thread w;\n                        if (U.getAndAddInt(this, LOCKSTATE, -READER) ==\n                            (READER|WAITER) &amp;&amp; (w = waiter) != null)\n                            LockSupport.unpark(w);\n                    }\n</code></pre>\n<p>can somebody tell me if I was thinking wrong?</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":2075778,"reputation":249,"user_id":1849165,"display_name":"Senthil"},"score":2,"creation_date":1641022036,"post_id":70547255,"comment_id":124708184,"body_markdown":"`ExecutorService` interface extends `Executor` interface. ExecutorService provides few more additional methods for coordination like shutDown and awaitTermination. So it is based on your use case. As a good practice, you can always use `ExecutorService`","body":"<code>ExecutorService</code> interface extends <code>Executor</code> interface. ExecutorService provides few more additional methods for coordination like shutDown and awaitTermination. So it is based on your use case. As a good practice, you can always use <code>ExecutorService</code>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641086124,"creation_date":1641025096,"answer_id":70547671,"question_id":70547255,"body_markdown":"&gt; Q: When would be a scenario when I would use Executor over ExecutorService? \r\n\r\nA: When you **know** that you are never going to use any of the `ExecutorService` methods.\r\n\r\nThere are few situations where you *wouldn&#39;t* need to manage the executor service in some way, there are few applications where you wouldn&#39;t need to manage the service.\r\n\r\n(Hypothetically ... if you were creating your own task execution mechanism that didn&#39;t involve running the tasks in local threads, the management functions of `ExecutorService` might be a poor fit.)\r\n\r\n-----------------\r\n\r\n&gt; Q: Can I use `ExecutorService` everywhere?\r\n\r\nA: Assuming that you instantiated an instance of `ExecutorService`, yes.\r\n\r\n-----------------\r\n\r\n&gt; Q: Is there a way to add an explicit shutdown for an Executor&#39;s execute or what is the general practice around it?\r\n\r\nIf you are asking if you can shut down the entire `Executor`, no there isn&#39;t a way.\r\n\r\n`Executor` service is an interface.  In the general sense, it could be implemented in a way that can&#39;t be shut down at all.  But either way, if you don&#39;t know how the executor is implemented, then you don&#39;t know how to tell it to shut itself down.\r\n\r\n(Sure ... if you know that it is likely to be a `ExecutorService`, then you *could* type cast it to `ExecutorService` and then call `ExecutorService.shutdown()`.)\r\n\r\nOn the other hand, if you are asking if you can cancel a specific task submitted by `Executor.execute`, the answer is also No.\r\n\r\nBut if you use the `ExecutorService.submit` methods, you will get a `Future` for each task.  You *may* be able to use `Future.cancel()` to stop the corresponding task from running or interrupt it if it is currently running.\r\n\r\n","title":"When should I use Executor over ExecutorService","body":"<blockquote>\n<p>Q: When would be a scenario when I would use Executor over ExecutorService?</p>\n</blockquote>\n<p>A: When you <strong>know</strong> that you are never going to use any of the <code>ExecutorService</code> methods.</p>\n<p>There are few situations where you <em>wouldn't</em> need to manage the executor service in some way, there are few applications where you wouldn't need to manage the service.</p>\n<p>(Hypothetically ... if you were creating your own task execution mechanism that didn't involve running the tasks in local threads, the management functions of <code>ExecutorService</code> might be a poor fit.)</p>\n<hr />\n<blockquote>\n<p>Q: Can I use <code>ExecutorService</code> everywhere?</p>\n</blockquote>\n<p>A: Assuming that you instantiated an instance of <code>ExecutorService</code>, yes.</p>\n<hr />\n<blockquote>\n<p>Q: Is there a way to add an explicit shutdown for an Executor's execute or what is the general practice around it?</p>\n</blockquote>\n<p>If you are asking if you can shut down the entire <code>Executor</code>, no there isn't a way.</p>\n<p><code>Executor</code> service is an interface.  In the general sense, it could be implemented in a way that can't be shut down at all.  But either way, if you don't know how the executor is implemented, then you don't know how to tell it to shut itself down.</p>\n<p>(Sure ... if you know that it is likely to be a <code>ExecutorService</code>, then you <em>could</em> type cast it to <code>ExecutorService</code> and then call <code>ExecutorService.shutdown()</code>.)</p>\n<p>On the other hand, if you are asking if you can cancel a specific task submitted by <code>Executor.execute</code>, the answer is also No.</p>\n<p>But if you use the <code>ExecutorService.submit</code> methods, you will get a <code>Future</code> for each task.  You <em>may</em> be able to use <code>Future.cancel()</code> to stop the corresponding task from running or interrupt it if it is currently running.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641050744,"creation_date":1641050744,"answer_id":70549801,"question_id":70547255,"body_markdown":"You should use the `ExecutorService` interface to *manage* the executor service.  This interface would normally be used by the object that creates or owns the executor service.\r\n\r\nAn object or method that just needs to execute stuff using an executor that is managed elsewhere should take parameters of type `Executor`.  You can pass an instance of `ExecutorService`, since it implements `Executor`.","title":"When should I use Executor over ExecutorService","body":"<p>You should use the <code>ExecutorService</code> interface to <em>manage</em> the executor service.  This interface would normally be used by the object that creates or owns the executor service.</p>\n<p>An object or method that just needs to execute stuff using an executor that is managed elsewhere should take parameters of type <code>Executor</code>.  You can pass an instance of <code>ExecutorService</code>, since it implements <code>Executor</code>.</p>\n"}],"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70547671,"answer_count":2,"score":2,"last_activity_date":1641086124,"creation_date":1641018199,"question_id":70547255,"body_markdown":"I am learning multi-threading and I came across [this SO post][1].  \r\n\r\n- [Executor][2] just executes stuff we give it.\r\n\r\n- [ExecutorService][3] adds startup, shutdown, and the ability to wait for and look at the status of jobs we&#39;ve submitted for execution on top of Executor (which it extends).\r\n\r\nI am still trying to wrap my head around the usage of Executor and ExecutorService. \r\n1. When would be a scenario when I would use Executor over ExecutorService? Can I use ExecutorService everywhere?\r\n2. Is there a way to add an explicit `shutdown` for an Executor&#39;s execute or what is the general practice around it? \r\n\r\nThe below code where I use `Executor` doesn&#39;t terminate. Is this the right way to use an Executor or am I missing something here? How can I properly terminate the code? I am aware that Executor doesn&#39;t have a `shutdown`. So is it expected for this program to not terminate?\r\n\r\n```\r\nimport java.util.concurrent.*;\r\n\r\npublic class A {\r\n    public static void main(String[] args) {\r\n        Executor executor = Executors.newFixedThreadPool(3);\r\n        executor.execute(() -&gt;\r\n                System.out.println(&quot;Executor Class: &quot; +\r\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\r\n                        Thread.currentThread().getName()));\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf I replace the above with `ExecutorService` and add a `shutdown`, the program terminates fine.\r\n\r\n```\r\nimport java.util.concurrent.*;\r\n\r\npublic class A {\r\n    public static void main(String[] args) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(3);\r\n        executor.submit(() -&gt;\r\n                System.out.println(&quot;ExecutorService Class: &quot; +\r\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\r\n                        Thread.currentThread().getName()));\r\n        executor.shutdown();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/15052317/whats-the-difference-between-executor-and-executorservice\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executor.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html","title":"When should I use Executor over ExecutorService","body":"<p>I am learning multi-threading and I came across <a href=\"https://stackoverflow.com/questions/15052317/whats-the-difference-between-executor-and-executorservice\">this SO post</a>.</p>\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executor.html\" rel=\"nofollow noreferrer\">Executor</a> just executes stuff we give it.</p>\n</li>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a> adds startup, shutdown, and the ability to wait for and look at the status of jobs we've submitted for execution on top of Executor (which it extends).</p>\n</li>\n</ul>\n<p>I am still trying to wrap my head around the usage of Executor and ExecutorService.</p>\n<ol>\n<li>When would be a scenario when I would use Executor over ExecutorService? Can I use ExecutorService everywhere?</li>\n<li>Is there a way to add an explicit <code>shutdown</code> for an Executor's execute or what is the general practice around it?</li>\n</ol>\n<p>The below code where I use <code>Executor</code> doesn't terminate. Is this the right way to use an Executor or am I missing something here? How can I properly terminate the code? I am aware that Executor doesn't have a <code>shutdown</code>. So is it expected for this program to not terminate?</p>\n<pre><code>import java.util.concurrent.*;\n\npublic class A {\n    public static void main(String[] args) {\n        Executor executor = Executors.newFixedThreadPool(3);\n        executor.execute(() -&gt;\n                System.out.println(&quot;Executor Class: &quot; +\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\n                        Thread.currentThread().getName()));\n    }\n}\n\n</code></pre>\n<p>If I replace the above with <code>ExecutorService</code> and add a <code>shutdown</code>, the program terminates fine.</p>\n<pre><code>import java.util.concurrent.*;\n\npublic class A {\n    public static void main(String[] args) {\n        ExecutorService executor = Executors.newFixedThreadPool(3);\n        executor.submit(() -&gt;\n                System.out.println(&quot;ExecutorService Class: &quot; +\n                        Thread.currentThread().getId() + &quot;, Name: &quot; +\n                        Thread.currentThread().getName()));\n        executor.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":6,"creation_date":1641070972,"post_id":70551852,"comment_id":124716064,"body_markdown":"&quot;*`int num = 000000;`*&quot; - That&#39;s the same as `int num = 0;`. Therefore `Integer.toString(num);` will evaluate to `&quot;0&quot;`.","body":"&quot;<i><code>int num = 000000;</code></i>&quot; - That&#39;s the same as <code>int num = 0;</code>. Therefore <code>Integer.toString(num);</code> will evaluate to <code>&quot;0&quot;</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1641071166,"post_id":70551852,"comment_id":124716094,"body_markdown":"Start with a `String`. Or just `int[] numbers = new int[6];` (note that `0` is the default value in an `int[]`).","body":"Start with a <code>String</code>. Or just <code>int[] numbers = new int[6];</code> (note that <code>0</code> is the default value in an <code>int[]</code>)."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1641099073,"post_id":70551852,"comment_id":124719553,"body_markdown":"As in arithmetic, there is only one zero value, no matter how many times you write the character &#39;0&#39;.","body":"As in arithmetic, there is only one zero value, no matter how many times you write the character &#39;0&#39;."}],"answers":[{"tags":[],"owner":{"account_id":15591203,"reputation":66,"user_id":11248197,"display_name":"ErayZaxy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641072462,"creation_date":1641072087,"answer_id":70551950,"question_id":70551852,"body_markdown":"    int num = 000000;\r\n\r\nThis is the same as\r\n\r\n    int num = 0;\r\nInstead start with a string and then continue\r\n\r\n    class Main{\r\n        public static void main(String[] args) {\r\n    \r\n            String temp = &quot;000000&quot;;\r\n\r\n            int[] numbers = new int[temp.length()];\r\n            for (int i = 0; i &lt; temp.length(); i++) {\r\n                numbers[i] = temp.charAt(i) - &#39;0&#39;;\r\n            }\r\n            System.out.println(Arrays.toString(numbers));\r\n    \r\n        }\r\n    }\r\nOr if you just want zeroes inside the array you could also just do this\r\n\r\n    int[] numbers = new int[6]\r\n\r\nYou could even do this and add any number you like\r\n\r\n    int[] numbers = new int[5]//will make an array of size 5 with all elements 0\r\n    Arrays.fill(numbers, 1);//will set all elements to 1\r\n\r\n","title":"How do I convert int of zeros to int [] (array of digts)?","body":"<pre><code>int num = 000000;\n</code></pre>\n<p>This is the same as</p>\n<pre><code>int num = 0;\n</code></pre>\n<p>Instead start with a string and then continue</p>\n<pre><code>class Main{\n    public static void main(String[] args) {\n\n        String temp = &quot;000000&quot;;\n\n        int[] numbers = new int[temp.length()];\n        for (int i = 0; i &lt; temp.length(); i++) {\n            numbers[i] = temp.charAt(i) - '0';\n        }\n        System.out.println(Arrays.toString(numbers));\n\n    }\n}\n</code></pre>\n<p>Or if you just want zeroes inside the array you could also just do this</p>\n<pre><code>int[] numbers = new int[6]\n</code></pre>\n<p>You could even do this and add any number you like</p>\n<pre><code>int[] numbers = new int[5]//will make an array of size 5 with all elements 0\nArrays.fill(numbers, 1);//will set all elements to 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641085975,"creation_date":1641085975,"answer_id":70552977,"question_id":70551852,"body_markdown":"Use the Arrays class to convert a string of `decimal digits` to an `int array` of those digits.\r\n```\r\nString digitString = &quot;000000&quot;;\r\nint[] digits = new int[digitString.length()];\r\nArrays.setAll(digits, i-&gt; digitString.charAt(i)-&#39;0&#39;);\r\nSystem.out.println(Arrays.toString(digits));\r\n```\r\nprints\r\n```\r\n[0,0,0,0,0,0]\r\n```\r\nThere are simpler ways if the digits are all the same.  But the above will work for a string of any decimal digits.\r\n","title":"How do I convert int of zeros to int [] (array of digts)?","body":"<p>Use the Arrays class to convert a string of <code>decimal digits</code> to an <code>int array</code> of those digits.</p>\n<pre><code>String digitString = &quot;000000&quot;;\nint[] digits = new int[digitString.length()];\nArrays.setAll(digits, i-&gt; digitString.charAt(i)-'0');\nSystem.out.println(Arrays.toString(digits));\n</code></pre>\n<p>prints</p>\n<pre><code>[0,0,0,0,0,0]\n</code></pre>\n<p>There are simpler ways if the digits are all the same.  But the above will work for a string of any decimal digits.</p>\n"}],"owner":{"account_id":23265104,"reputation":11,"user_id":17350773,"display_name":"Abdihakim Mohamed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70552977,"answer_count":2,"score":-1,"last_activity_date":1641085975,"creation_date":1641070896,"question_id":70551852,"body_markdown":"This did not work when I tried it.\r\n\r\n  \r\n\r\n    class Main{\r\n        public static void main(String[] args) {\r\n    \r\n            int num = 000000;\r\n    \r\n            String temp = Integer.toString(num);\r\n            int[] numbers = new int[temp.length()];\r\n            for (int i = 0; i &lt; temp.length(); i++) {\r\n                numbers[i] = temp.charAt(i) - &#39;0&#39;;\r\n            }\r\n            System.out.println(Arrays.toString(numbers));\r\n    \r\n        }\r\n    }\r\n\r\n\r\nit only outputs one zero.\r\n","title":"How do I convert int of zeros to int [] (array of digts)?","body":"<p>This did not work when I tried it.</p>\n<pre><code>class Main{\n    public static void main(String[] args) {\n\n        int num = 000000;\n\n        String temp = Integer.toString(num);\n        int[] numbers = new int[temp.length()];\n        for (int i = 0; i &lt; temp.length(); i++) {\n            numbers[i] = temp.charAt(i) - '0';\n        }\n        System.out.println(Arrays.toString(numbers));\n\n    }\n}\n</code></pre>\n<p>it only outputs one zero.</p>\n"},{"tags":["java","mysql","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1641065345,"post_id":70549533,"comment_id":124715167,"body_markdown":"should a driver be allowed to holder multiple licenses?","body":"should a driver be allowed to holder multiple licenses?"},{"owner":{"account_id":7890262,"reputation":613,"user_id":5960663,"accept_rate":64,"display_name":"Mason Stedman"},"score":0,"creation_date":1641077781,"post_id":70549533,"comment_id":124717230,"body_markdown":"Do you actually want just driver ID to be the PK or driverID + license","body":"Do you actually want just driver ID to be the PK or driverID + license"},{"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"score":0,"creation_date":1641079983,"post_id":70549533,"comment_id":124717521,"body_markdown":"@PanagiotisBougioukos No, only one license","body":"@PanagiotisBougioukos No, only one license"},{"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"score":0,"creation_date":1641080009,"post_id":70549533,"comment_id":124717524,"body_markdown":"@MasonStedman No I want it to be a composite key of driverID and License Number","body":"@MasonStedman No I want it to be a composite key of driverID and License Number"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1641080068,"post_id":70549533,"comment_id":124717533,"body_markdown":"@Ghost0fAlexandria then my answer under is the one you need","body":"@Ghost0fAlexandria then my answer under is the one you need"},{"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"score":0,"creation_date":1641080507,"post_id":70549533,"comment_id":124717591,"body_markdown":"@PanagiotisBougioukos then surely I have to modify the SQL tables accordingly, correct?","body":"@PanagiotisBougioukos then surely I have to modify the SQL tables accordingly, correct?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1641080653,"post_id":70549533,"comment_id":124717606,"body_markdown":"you either modify the SQL tables by yourself or you let the ORM provider do it for you when you update the entity layer with the annotations I have provided to you and you set the property `spring.jpa.hibernate:.ddl-auto: update`","body":"you either modify the SQL tables by yourself or you let the ORM provider do it for you when you update the entity layer with the annotations I have provided to you and you set the property <code>spring.jpa.hibernate:.ddl-auto: update</code>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1641080981,"post_id":70549533,"comment_id":124717656,"body_markdown":"@Ghost0fAlexandria please accept the answer if it has helped you solve your problem. You can always upvote as well ;)","body":"@Ghost0fAlexandria please accept the answer if it has helped you solve your problem. You can always upvote as well ;)"}],"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641085174,"creation_date":1641047705,"question_id":70549533,"body_markdown":"I want to represent a one-to-one relationship with a driver and a license where the license is a weak entity having a composite key of the license number and the driver number.\r\nThe driver number is a foreign key that refers to the primary key of the user table.\r\n```SQL\r\nCREATE TABLE user (\r\n\tuser_id SMALLINT NOT NULL GENERATED ALWAYS AS IDENTITY,\r\n\tname VARCHAR(50) NOT NULL,\r\n  \temail VARCHAR(50) NOT NULL UNIQUE,\r\n  \tPRIMARY KEY (user_id)\r\n);\r\n```\r\n```sql\r\nCREATE TABLE license (\r\n  \tdriver SMALLINT NOT NULL,\r\n  \tlicense_number SMALLINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,\r\n  \texpiration_date timestamp NOT NULL,\r\n  \tPRIMARY KEY (driver, license_number),\r\n  \tFOREIGN KEY (driver) REFERENCES user(user_id)\r\n);\r\n```\r\nHow can I use the annotation ```@EmbeddedKey``` and ```@Embeddable```?\r\nMy understanding is that there should be a new class called LicenseId that implements serializable and has two fields (the license number and the driver id), But I don&#39;t know how to tell JPA that this driver Id refers to the primary Id of the user\r\nWhat I have done so far in terms of classes and entities:\r\n```java\r\nimport javax.persistence.Embeddable;\r\nimport java.io.Serializable;\r\n\r\n@Embeddable\r\npublic class LicenseId implements Serializable {\r\n    private int driver;\r\n    private int licenseNumber;\r\n}\r\n```\r\n```java\r\nimport javax.persistence.Column;\r\nimport javax.persistence.EmbeddedId;\r\nimport javax.persistence.Entity;\r\nimport java.sql.Date;\r\nimport java.sql.Timestamp;\r\n\r\n@Entity\r\npublic class License {\r\n\r\n    @EmbeddedId\r\n    private LicenseId licenseId;\r\n\r\n    @Column(name = &quot;expiration_date&quot;, nullable = false)\r\n    private Timestamp expirationDate;\r\n\r\n}\r\n```","title":"How to represent weak entity (License) having a composite key of License Number and Driver Number where Driver Number is a foreign key","body":"<p>I want to represent a one-to-one relationship with a driver and a license where the license is a weak entity having a composite key of the license number and the driver number.\nThe driver number is a foreign key that refers to the primary key of the user table.</p>\n<pre><code>CREATE TABLE user (\n    user_id SMALLINT NOT NULL GENERATED ALWAYS AS IDENTITY,\n    name VARCHAR(50) NOT NULL,\n    email VARCHAR(50) NOT NULL UNIQUE,\n    PRIMARY KEY (user_id)\n);\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE license (\n    driver SMALLINT NOT NULL,\n    license_number SMALLINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,\n    expiration_date timestamp NOT NULL,\n    PRIMARY KEY (driver, license_number),\n    FOREIGN KEY (driver) REFERENCES user(user_id)\n);\n</code></pre>\n<p>How can I use the annotation <code>@EmbeddedKey</code> and <code>@Embeddable</code>?\nMy understanding is that there should be a new class called LicenseId that implements serializable and has two fields (the license number and the driver id), But I don't know how to tell JPA that this driver Id refers to the primary Id of the user\nWhat I have done so far in terms of classes and entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Embeddable;\nimport java.io.Serializable;\n\n@Embeddable\npublic class LicenseId implements Serializable {\n    private int driver;\n    private int licenseNumber;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Column;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.Entity;\nimport java.sql.Date;\nimport java.sql.Timestamp;\n\n@Entity\npublic class License {\n\n    @EmbeddedId\n    private LicenseId licenseId;\n\n    @Column(name = &quot;expiration_date&quot;, nullable = false)\n    private Timestamp expirationDate;\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":4273680,"reputation":1417,"user_id":3494901,"display_name":"aboyko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1641084964,"creation_date":1442057682,"answer_id":32538311,"question_id":32532133,"body_markdown":"1. Go to `Window -&gt; Preferences`\r\n2. Once the preferences dialog appears, go to `Java -&gt; Installed JRE`\r\n3. Add your JRE, if it&#39;s not in the list, check-mark it, `Apply`, `OK`","title":"How to set custom JRE System library path value in Spring Tool Suite?","body":"<ol>\n<li>Go to <code>Window -&gt; Preferences</code></li>\n<li>Once the preferences dialog appears, go to <code>Java -&gt; Installed JRE</code></li>\n<li>Add your JRE, if it's not in the list, check-mark it, <code>Apply</code>, <code>OK</code></li>\n</ol>\n"}],"owner":{"account_id":551884,"reputation":330,"user_id":916875,"display_name":"ajup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32538311,"answer_count":1,"score":1,"last_activity_date":1641084964,"creation_date":1442005667,"question_id":32532133,"body_markdown":"I&#39;m trying to set the default value for the JRE system library in Spring Tool Suite and it&#39;s setting it to 1.6 version but I need it to be 1.6.0_xx by default.\r\n\r\nI have set the value for JAVA_HOME to be C:\\..\\java\\jdk1.6.0_xx and in the PATH variable it set to C:\\..\\java\\jdk1.6.0_xx\\bin. After I configured it this way, I was able to build my maven projects successfully via the command line but when I attempt to build the Maven project from STS I get this error\r\n\r\n**Error occurred during initialization of VM\r\njava/lang/NoClassDefFoundError: java/lang/Object**\r\n\r\nIs there any workaround for this error?","title":"How to set custom JRE System library path value in Spring Tool Suite?","body":"<p>I'm trying to set the default value for the JRE system library in Spring Tool Suite and it's setting it to 1.6 version but I need it to be 1.6.0_xx by default.</p>\n\n<p>I have set the value for JAVA_HOME to be C:..\\java\\jdk1.6.0_xx and in the PATH variable it set to C:..\\java\\jdk1.6.0_xx\\bin. After I configured it this way, I was able to build my maven projects successfully via the command line but when I attempt to build the Maven project from STS I get this error</p>\n\n<p><strong>Error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object</strong></p>\n\n<p>Is there any workaround for this error?</p>\n"},{"tags":["java","pdf","file-conversion"],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8882,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641084568,"creation_date":1638569702,"answer_id":70221226,"question_id":70220010,"body_markdown":"Windows vanilla print() is text based so print to pdf via notepad or other text modes will simply produce a pdf containing output as if a file was viewed in text format. You dont need all that codeopen an rtf in notepad and print to pdf will do the same.\r\n\r\nFor printing html or xml (text) we could do better by using Edge. However for images we need to route via paint/image apps or for MS documents we need a MS document handler.\r\n\r\nBy far the simplest way **to translate MS RTF/Doc/DocX/Odt to MS PDF without libraries is via the already licensed shell application &quot;Write&quot;** or &quot;WordPad&quot;, there are limitations in that the RTF must be WordPad compatible without throwing a &quot;some features are not supported&quot; message. Note tables must have a border width to be printed as visible lines and transparency in images can give odd results so ideally keep them simple. Background images are rarely supported. Keep RTF stupidly simple as if written in a plain text line editor or batch file. the page will be current MS PDF default (here it is using previous A4 Landscape) *unless you pre-adjust orientation or format with PrintUI.*\r\n\r\nAvoid trying to hand write images as rich text :-) it is possible but life is not long enough, here are the first few lines of this sample RTF :-\r\n\r\n```\r\n{\\rtf1\\ansi\\ansicpg1252\\deff0\\nouicompat\r\n\r\n{\\fonttbl\r\n{\\f0\\fnil\\fcharset0 Calibri;}\r\n{\\f1\\froman\\fcharset0 Times New Roman;}\r\n{\\f2\\fnil\\fcharset0 Segoe UI;}\r\n}\r\n\r\n{\\colortbl ;\\red255\\green0\\blue0;}\r\n{\\*\\generator Riched20 10.0.19041}\r\n\r\n\\viewkind4\\uc1\r\n\\pard\\sa200\\sl240\\slmult1\\f0\\fs22\\lang9\r\n\r\n{\\pict{\\*\\picprop}\\wmetafile8\\picw24818\\pich5001\\picwgoal3495\\pichgoal705 \r\n010009000003a6ae000000007dae000000000400000003010800050000000b0200000000050000\r\n000c02bd00aa03030000001e00040000000701040004000000070104007dae0000410b2000cc00\r\nbd00aa0300000000bd00aa030000000028000000aa030000bd0000000100040000000000000000\r\n000000000000000000000000000000000000000000ffffff00ccffff003399ff00c0c0c0008080\r\n800033333300000000000000000000000000000000000000000000000000000000000000000000\r\n000000111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n111111111111111111111111111111111111111111111111111111111111111111111111111111\r\n```\r\nand the image requires another 2290 lines of text, before the simpler table. \r\n\r\n**Thus use Word or WordPad to insert a picture or inject decoded img2rtf for images.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**For command line printing just shell the command such as this**\r\n\r\n```\r\nwrite /pt file.doc &quot;printer name&quot; &quot;printer driver name&quot; &quot;port address&quot;\r\n```\r\n- You can use write (usually 2 stubs) or wordpad (the main engine)\r\n- /pt is print to\r\n- for &quot;Microsoft Print to PDF&quot; both printer and driver have the same name\r\n- the port address can be a remote pdf printer or default Portprompt: or a port filename\r\n\r\n  [1]: https://i.stack.imgur.com/zifxR.png","title":"Convert a document to PDF using &quot;Microsoft Print to PDF&quot; and Java","body":"<p>Windows vanilla print() is text based so print to pdf via notepad or other text modes will simply produce a pdf containing output as if a file was viewed in text format. You dont need all that codeopen an rtf in notepad and print to pdf will do the same.</p>\n<p>For printing html or xml (text) we could do better by using Edge. However for images we need to route via paint/image apps or for MS documents we need a MS document handler.</p>\n<p>By far the simplest way <strong>to translate MS RTF/Doc/DocX/Odt to MS PDF without libraries is via the already licensed shell application &quot;Write&quot;</strong> or &quot;WordPad&quot;, there are limitations in that the RTF must be WordPad compatible without throwing a &quot;some features are not supported&quot; message. Note tables must have a border width to be printed as visible lines and transparency in images can give odd results so ideally keep them simple. Background images are rarely supported. Keep RTF stupidly simple as if written in a plain text line editor or batch file. the page will be current MS PDF default (here it is using previous A4 Landscape) <em>unless you pre-adjust orientation or format with PrintUI.</em></p>\n<p>Avoid trying to hand write images as rich text :-) it is possible but life is not long enough, here are the first few lines of this sample RTF :-</p>\n<pre><code>{\\rtf1\\ansi\\ansicpg1252\\deff0\\nouicompat\n\n{\\fonttbl\n{\\f0\\fnil\\fcharset0 Calibri;}\n{\\f1\\froman\\fcharset0 Times New Roman;}\n{\\f2\\fnil\\fcharset0 Segoe UI;}\n}\n\n{\\colortbl ;\\red255\\green0\\blue0;}\n{\\*\\generator Riched20 10.0.19041}\n\n\\viewkind4\\uc1\n\\pard\\sa200\\sl240\\slmult1\\f0\\fs22\\lang9\n\n{\\pict{\\*\\picprop}\\wmetafile8\\picw24818\\pich5001\\picwgoal3495\\pichgoal705 \n010009000003a6ae000000007dae000000000400000003010800050000000b0200000000050000\n000c02bd00aa03030000001e00040000000701040004000000070104007dae0000410b2000cc00\nbd00aa0300000000bd00aa030000000028000000aa030000bd0000000100040000000000000000\n000000000000000000000000000000000000000000ffffff00ccffff003399ff00c0c0c0008080\n800033333300000000000000000000000000000000000000000000000000000000000000000000\n000000111111111111111111111111111111111111111111111111111111111111111111111111\n111111111111111111111111111111111111111111111111111111111111111111111111111111\n111111111111111111111111111111111111111111111111111111111111111111111111111111\n</code></pre>\n<p>and the image requires another 2290 lines of text, before the simpler table.</p>\n<p><strong>Thus use Word or WordPad to insert a picture or inject decoded img2rtf for images.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zifxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zifxR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>For command line printing just shell the command such as this</strong></p>\n<pre><code>write /pt file.doc &quot;printer name&quot; &quot;printer driver name&quot; &quot;port address&quot;\n</code></pre>\n<ul>\n<li>You can use write (usually 2 stubs) or wordpad (the main engine)</li>\n<li>/pt is print to</li>\n<li>for &quot;Microsoft Print to PDF&quot; both printer and driver have the same name</li>\n<li>the port address can be a remote pdf printer or default Portprompt: or a port filename</li>\n</ul>\n"}],"owner":{"account_id":23538799,"reputation":21,"user_id":17583340,"display_name":"AlexAtPlunet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641084568,"creation_date":1638561377,"question_id":70220010,"body_markdown":"I am currently testing to convert RTF/DOC documents into PDF on a Microsoft Windows host. I have a working peace of code that uses the API of Microsoft Word but due to license costs I would like to get rid of it.\r\n\r\nI had the idea that it might be possible to convert RTFs to PDF by just &quot;sending&quot; them to the Microsoft Print To PDF printer.\r\n\r\nThe issue I got here is that I can on the one hand access the printer and I also get an output, but the file is corrupted.\r\n\r\nIf I just rename the generated file back from .pdf to .rtf and open it in Microsoft Word the content looks something like this (it is just an excerpt of the whole content):\r\n```\r\n\\rtf1\\adeflang1025\\ansi\\ansicpg1252\\uc1\\adeff1\\deff0\\stshfdbch0\\stshfloch0\\stshfhich0\\stshfbi0\\deflang1031\\deflangfe1031\\themelang1031\\themelangfe0\\themelangcs0{\\fonttbl{\\f0\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\f1\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604020202020204}Arial{\\*\\falt Arial};}{\\f2\\fbidi \\fmodern\\fcharset0\\fprq1{\\*\\panose 02070309020205020404}Courier New{\\*\\falt ?l?r ???fc};}\r\n{\\f3\\fbidi \\froman\\fcharset2\\fprq2{\\*\\panose 05050102010706020507}Symbol{\\*\\falt Symbol};}{\\f10\\fbidi \\fnil\\fcharset2\\fprq2{\\*\\panose 05000000000000000000}Wingdings;}{\\f34\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria Math;}\r\n{\\f38\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604030504040204}Tahoma;}{\\f39\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 00000000000000000000}Arial Black;}\r\n{\\flomajor\\f31500\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbmajor\\f31501\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\fhimajor\\f31502\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria;}{\\fbimajor\\f31503\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\flominor\\f31504\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbminor\\f31505\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\fhiminor\\f31506\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020f0502020204030204}Calibri;}{\\fbiminor\\f31507\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\r\n{\\f40\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\f41\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}{\\f43\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}\r\n{\\f44\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}{\\f45\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\f46\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\r\n{\\f47\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\f48\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}{\\f50\\fbidi \\fswiss\\fcharset238\\fprq2 Arial CE{\\*\\falt Arial};}\r\n{\\f51\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Cyr{\\*\\falt Arial};}{\\f53\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Greek{\\*\\falt Arial};}{\\f54\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Tur{\\*\\falt Arial};}\r\n{\\f55\\fbidi \\fswiss\\fcharset177\\fprq2 Arial (Hebrew){\\*\\falt Arial};}{\\f56\\fbidi \\fswiss\\fcharset178\\fprq2 Arial (Arabic){\\*\\falt Arial};}{\\f57\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Baltic{\\*\\falt Arial};}\r\n{\\f58\\fbidi \\fswiss\\fcharset163\\fprq2 Arial (Vietnamese){\\*\\falt Arial};}{\\f60\\fbidi \\fmodern\\fcharset238\\fprq1 Courier New CE{\\*\\falt ?l?r ???fc};}{\\f61\\fbidi \\fmodern\\fcharset204\\fprq1 Courier New Cyr{\\*\\falt ?l?r ???fc};}\r\n{\\f63\\fbidi \\fmodern\\fcharset161\\fprq1 Courier New Greek{\\*\\falt ?l?r ???fc};}{\\f64\\fbidi \\fmodern\\fcharset162\\fprq1 Courier New Tur{\\*\\falt ?l?r ???fc};}{\\f65\\fbidi \\fmodern\\fcharset177\\fprq1 Courier New (Hebrew){\\*\\falt ?l?r ???fc};}\r\n{\\f66\\fbidi \\fmodern\\fcharset178\\fprq1 Courier New (Arabic){\\*\\falt ?l?r ???fc};}{\\f67\\fbidi \\fmodern\\fcharset186\\fprq1 Courier New Baltic{\\*\\falt ?l?r ???fc};}{\\f68\\fbidi \\fmodern\\fcharset163\\fprq1 Courier New (Vietnamese){\\*\\falt ?l?r ???fc};}\r\n{\\f380\\fbidi \\froman\\fcharset238\\fprq2 Cambria Math CE;}{\\f381\\fbidi \\froman\\fcharset204\\fprq2 Cambria Math Cyr;}{\\f383\\fbidi \\froman\\fcharset161\\fprq2 Cambria Math Greek;}{\\f384\\fbidi \\froman\\fcharset162\\fprq2 Cambria Math Tur;}\r\n{\\f387\\fbidi \\froman\\fcharset186\\fprq2 Cambria Math Baltic;}{\\f388\\fbidi \\froman\\fcharset163\\fprq2 Cambria Math (Vietnamese);}{\\f420\\fbidi \\fswiss\\fcharset238\\fprq2 Tahoma CE;}{\\f421\\fbidi \\fswiss\\fcharset204\\fprq2 Tahoma Cyr;}\r\n{\\f423\\fbidi \\fswiss\\fcharset161\\fprq2 Tahoma Greek;}{\\f424\\fbidi \\fswiss\\fcharset162\\fprq2 Tahoma Tur;}{\\f425\\fbidi \\fswiss\\fcharset177\\fprq2 Tahoma (Hebrew);}{\\f426\\fbidi \\fswiss\\fcharset178\\fprq2 Tahoma (Arabic);}\r\n{\\f427\\fbidi \\fswiss\\fcharset186\\fprq2 Tahoma Baltic;}{\\f428\\fbidi \\fswiss\\fcharset163\\fprq2 Tahoma (Vietnamese);}{\\f429\\fbidi \\fswiss\\fcharset222\\fprq2 Tahoma (Thai);}{\\f430\\fbidi \\fswiss\\fcharset238\\fprq2 Arial Black CE;}\r\n{\\f431\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Black Cyr;}{\\f433\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Black Greek;}{\\f434\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Black Tur;}{\\f437\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Black Baltic;}\r\n{\\flomajor\\f31508\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\flomajor\\f31509\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\r\n{\\flomajor\\f31511\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\flomajor\\f31512\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\r\n{\\flomajor\\f31513\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\flomajor\\f31514\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\r\n{\\flomajor\\f31515\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\flomajor\\f31516\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31518\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\fdbmajor\\f31519\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31521\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\fdbmajor\\f31522\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31523\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\fdbmajor\\f31524\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\r\n{\\fdbmajor\\f31525\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\fdbmajor\\f31526\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\r\n{\\fhimajor\\f31528\\fbidi \\froman\\fcharset238\\fprq2 Cambria CE;}{\\fhimajor\\f31529\\fbidi \\froman\\fcharset204\\fprq2 Cambria Cyr;}{\\fhimajor\\f31531\\fbidi \\froman\\fcharset161\\fprq2 Cambria Greek;}{\\fhimajor\\f31532\\fbidi \\froman\\fcharset162\\fprq2 Cambria Tur;}\r\n{\\fhimajor\\f31535\\fbidi \\froman\\fcharset186\\fprq2 Cambria Baltic;}{\\fhimajor\\f31536\\fbidi \\froman\\fcharset163\\fprq2 Cambria (Vietnamese);}{\\fbimajor\\f31538\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}\r\n```\r\n\r\nI am assuming that I do not read the file correctly. Or maybe not writing it correctly? Not sure.\r\nMaybe an attribute is missing - I just think it is a little thing that it is wrong.\r\n\r\nI have the following code:\r\n\r\n```\r\nimport javax.print.Doc;\r\nimport javax.print.DocFlavor;\r\nimport javax.print.DocPrintJob;\r\nimport javax.print.PrintService;\r\nimport javax.print.PrintServiceLookup;\r\nimport javax.print.SimpleDoc;\r\nimport javax.print.attribute.HashPrintRequestAttributeSet;\r\nimport javax.print.attribute.PrintRequestAttributeSet;\r\nimport javax.print.attribute.standard.Copies;\r\nimport javax.print.attribute.standard.Destination;\r\nimport javax.print.event.PrintJobAdapter;\r\nimport javax.print.event.PrintJobEvent;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.net.URISyntaxException;\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class Program {\r\n\r\n\r\n    public static final String myPath = &quot;C:/Project Files/Template&quot;;\r\n    public static final String myFile =  &quot;CreditNoteEnglish.rtf&quot;;\r\n    public static final String myFile2 =  &quot;CreditNoteEnglish.pdf&quot;;\r\n    public static void  main (String[] args)\r\n    {\r\n        try {\r\n            convertToPDF_PerPrint(myPath, myFile);\r\n        } catch (URISyntaxException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    private static void convertToPDF_PerPrint( String Verzeichnis,  String pFileName) throws URISyntaxException {\r\n        final String defaultPrinterName = &quot;Microsoft Print To PDF&quot;;\r\n        DocFlavor docType = DocFlavor.INPUT_STREAM.AUTOSENSE;\r\n        PrintRequestAttributeSet printerSettings = new HashPrintRequestAttributeSet();\r\n        PrintService PDFPrinter = null;\r\n        File myFile = new File(Verzeichnis + &quot;/&quot; + pFileName);\r\n        File outFile = new File (Verzeichnis + &quot;/&quot; + myFile2);\r\n       // printerSettings.add(MediaSizeName.ISO_A4);\r\n        printerSettings.add(new Destination(outFile.toURI()));\r\n        printerSettings.add(new Copies(1));\r\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(docType,printerSettings);\r\n        try\r\n        {\r\n            if(printServices.length == 0)\r\n            {\r\n                throw new Exception(&quot;No printers found for given attributes&quot;);\r\n            }\r\n            System.out.println ( &quot;Available printers: &quot; + Arrays.asList ( printServices ) );\r\n\r\n            for(PrintService availableService : printServices)\r\n            {\r\n                if(availableService.getName().contains(&quot;PDF&quot;))\r\n                {\r\n                    PDFPrinter = availableService;\r\n                    break;\r\n                }\r\n            }            if (PDFPrinter == null)\r\n        {\r\n            throw new IllegalStateException(&quot;Can not find PDF printer.&quot;);\r\n        }\r\n\r\n            FileInputStream fileAsStream = new FileInputStream(myFile);\r\n\r\n            System.out.println ( Verzeichnis + &quot;\\\\&quot; + pFileName );\r\n            System.out.println ( fileAsStream.read() );\r\n            DocPrintJob myPrintJob =  PDFPrinter.createPrintJob();\r\n            Doc myConvertableFile = new SimpleDoc(fileAsStream, DocFlavor.INPUT_STREAM.AUTOSENSE,null);\r\n            PrintJobWatcher watcher = new PrintJobWatcher(myPrintJob);\r\n            myPrintJob.print(myConvertableFile, printerSettings);\r\n            watcher.waitForDone();\r\n            fileAsStream.close();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n\r\nclass PrintJobWatcher {\r\n\r\n    boolean done = false;\r\n\r\n    PrintJobWatcher(DocPrintJob job) {\r\n        job.addPrintJobListener(new PrintJobAdapter() {\r\n            public void printJobCanceled(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            public void printJobCompleted(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            public void printJobFailed(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            public void printJobNoMoreEvents(PrintJobEvent pje) {\r\n                allDone();\r\n            }\r\n\r\n            void allDone() {\r\n                synchronized (PrintJobWatcher.this) {\r\n                    done = true;\r\n                    System.out.println(&quot;Printing done ...&quot;);\r\n                    PrintJobWatcher.this.notify();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public synchronized void waitForDone() {\r\n        try {\r\n            while (!done) {\r\n                wait();\r\n            }\r\n        } catch (InterruptedException e) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDoes anyone have an idea why it is not possible to make Microsoft Print to PDF Printer generating a proper PDF when using the code above?\r\n\r\nAny hints will be highly appreciated.\r\n\r\nThank you very much.","title":"Convert a document to PDF using &quot;Microsoft Print to PDF&quot; and Java","body":"<p>I am currently testing to convert RTF/DOC documents into PDF on a Microsoft Windows host. I have a working peace of code that uses the API of Microsoft Word but due to license costs I would like to get rid of it.</p>\n<p>I had the idea that it might be possible to convert RTFs to PDF by just &quot;sending&quot; them to the Microsoft Print To PDF printer.</p>\n<p>The issue I got here is that I can on the one hand access the printer and I also get an output, but the file is corrupted.</p>\n<p>If I just rename the generated file back from .pdf to .rtf and open it in Microsoft Word the content looks something like this (it is just an excerpt of the whole content):</p>\n<pre><code>\\rtf1\\adeflang1025\\ansi\\ansicpg1252\\uc1\\adeff1\\deff0\\stshfdbch0\\stshfloch0\\stshfhich0\\stshfbi0\\deflang1031\\deflangfe1031\\themelang1031\\themelangfe0\\themelangcs0{\\fonttbl{\\f0\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\f1\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604020202020204}Arial{\\*\\falt Arial};}{\\f2\\fbidi \\fmodern\\fcharset0\\fprq1{\\*\\panose 02070309020205020404}Courier New{\\*\\falt ?l?r ???fc};}\n{\\f3\\fbidi \\froman\\fcharset2\\fprq2{\\*\\panose 05050102010706020507}Symbol{\\*\\falt Symbol};}{\\f10\\fbidi \\fnil\\fcharset2\\fprq2{\\*\\panose 05000000000000000000}Wingdings;}{\\f34\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria Math;}\n{\\f38\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020b0604030504040204}Tahoma;}{\\f39\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 00000000000000000000}Arial Black;}\n{\\flomajor\\f31500\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbmajor\\f31501\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\fhimajor\\f31502\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02040503050406030204}Cambria;}{\\fbimajor\\f31503\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\flominor\\f31504\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}{\\fdbminor\\f31505\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\fhiminor\\f31506\\fbidi \\fswiss\\fcharset0\\fprq2{\\*\\panose 020f0502020204030204}Calibri;}{\\fbiminor\\f31507\\fbidi \\froman\\fcharset0\\fprq2{\\*\\panose 02020603050405020304}Times New Roman{\\*\\falt Courier New};}\n{\\f40\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\f41\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}{\\f43\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}\n{\\f44\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}{\\f45\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\f46\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\n{\\f47\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\f48\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}{\\f50\\fbidi \\fswiss\\fcharset238\\fprq2 Arial CE{\\*\\falt Arial};}\n{\\f51\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Cyr{\\*\\falt Arial};}{\\f53\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Greek{\\*\\falt Arial};}{\\f54\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Tur{\\*\\falt Arial};}\n{\\f55\\fbidi \\fswiss\\fcharset177\\fprq2 Arial (Hebrew){\\*\\falt Arial};}{\\f56\\fbidi \\fswiss\\fcharset178\\fprq2 Arial (Arabic){\\*\\falt Arial};}{\\f57\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Baltic{\\*\\falt Arial};}\n{\\f58\\fbidi \\fswiss\\fcharset163\\fprq2 Arial (Vietnamese){\\*\\falt Arial};}{\\f60\\fbidi \\fmodern\\fcharset238\\fprq1 Courier New CE{\\*\\falt ?l?r ???fc};}{\\f61\\fbidi \\fmodern\\fcharset204\\fprq1 Courier New Cyr{\\*\\falt ?l?r ???fc};}\n{\\f63\\fbidi \\fmodern\\fcharset161\\fprq1 Courier New Greek{\\*\\falt ?l?r ???fc};}{\\f64\\fbidi \\fmodern\\fcharset162\\fprq1 Courier New Tur{\\*\\falt ?l?r ???fc};}{\\f65\\fbidi \\fmodern\\fcharset177\\fprq1 Courier New (Hebrew){\\*\\falt ?l?r ???fc};}\n{\\f66\\fbidi \\fmodern\\fcharset178\\fprq1 Courier New (Arabic){\\*\\falt ?l?r ???fc};}{\\f67\\fbidi \\fmodern\\fcharset186\\fprq1 Courier New Baltic{\\*\\falt ?l?r ???fc};}{\\f68\\fbidi \\fmodern\\fcharset163\\fprq1 Courier New (Vietnamese){\\*\\falt ?l?r ???fc};}\n{\\f380\\fbidi \\froman\\fcharset238\\fprq2 Cambria Math CE;}{\\f381\\fbidi \\froman\\fcharset204\\fprq2 Cambria Math Cyr;}{\\f383\\fbidi \\froman\\fcharset161\\fprq2 Cambria Math Greek;}{\\f384\\fbidi \\froman\\fcharset162\\fprq2 Cambria Math Tur;}\n{\\f387\\fbidi \\froman\\fcharset186\\fprq2 Cambria Math Baltic;}{\\f388\\fbidi \\froman\\fcharset163\\fprq2 Cambria Math (Vietnamese);}{\\f420\\fbidi \\fswiss\\fcharset238\\fprq2 Tahoma CE;}{\\f421\\fbidi \\fswiss\\fcharset204\\fprq2 Tahoma Cyr;}\n{\\f423\\fbidi \\fswiss\\fcharset161\\fprq2 Tahoma Greek;}{\\f424\\fbidi \\fswiss\\fcharset162\\fprq2 Tahoma Tur;}{\\f425\\fbidi \\fswiss\\fcharset177\\fprq2 Tahoma (Hebrew);}{\\f426\\fbidi \\fswiss\\fcharset178\\fprq2 Tahoma (Arabic);}\n{\\f427\\fbidi \\fswiss\\fcharset186\\fprq2 Tahoma Baltic;}{\\f428\\fbidi \\fswiss\\fcharset163\\fprq2 Tahoma (Vietnamese);}{\\f429\\fbidi \\fswiss\\fcharset222\\fprq2 Tahoma (Thai);}{\\f430\\fbidi \\fswiss\\fcharset238\\fprq2 Arial Black CE;}\n{\\f431\\fbidi \\fswiss\\fcharset204\\fprq2 Arial Black Cyr;}{\\f433\\fbidi \\fswiss\\fcharset161\\fprq2 Arial Black Greek;}{\\f434\\fbidi \\fswiss\\fcharset162\\fprq2 Arial Black Tur;}{\\f437\\fbidi \\fswiss\\fcharset186\\fprq2 Arial Black Baltic;}\n{\\flomajor\\f31508\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\flomajor\\f31509\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\n{\\flomajor\\f31511\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\flomajor\\f31512\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\n{\\flomajor\\f31513\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\flomajor\\f31514\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\n{\\flomajor\\f31515\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\flomajor\\f31516\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\n{\\fdbmajor\\f31518\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}{\\fdbmajor\\f31519\\fbidi \\froman\\fcharset204\\fprq2 Times New Roman Cyr{\\*\\falt Courier New};}\n{\\fdbmajor\\f31521\\fbidi \\froman\\fcharset161\\fprq2 Times New Roman Greek{\\*\\falt Courier New};}{\\fdbmajor\\f31522\\fbidi \\froman\\fcharset162\\fprq2 Times New Roman Tur{\\*\\falt Courier New};}\n{\\fdbmajor\\f31523\\fbidi \\froman\\fcharset177\\fprq2 Times New Roman (Hebrew){\\*\\falt Courier New};}{\\fdbmajor\\f31524\\fbidi \\froman\\fcharset178\\fprq2 Times New Roman (Arabic){\\*\\falt Courier New};}\n{\\fdbmajor\\f31525\\fbidi \\froman\\fcharset186\\fprq2 Times New Roman Baltic{\\*\\falt Courier New};}{\\fdbmajor\\f31526\\fbidi \\froman\\fcharset163\\fprq2 Times New Roman (Vietnamese){\\*\\falt Courier New};}\n{\\fhimajor\\f31528\\fbidi \\froman\\fcharset238\\fprq2 Cambria CE;}{\\fhimajor\\f31529\\fbidi \\froman\\fcharset204\\fprq2 Cambria Cyr;}{\\fhimajor\\f31531\\fbidi \\froman\\fcharset161\\fprq2 Cambria Greek;}{\\fhimajor\\f31532\\fbidi \\froman\\fcharset162\\fprq2 Cambria Tur;}\n{\\fhimajor\\f31535\\fbidi \\froman\\fcharset186\\fprq2 Cambria Baltic;}{\\fhimajor\\f31536\\fbidi \\froman\\fcharset163\\fprq2 Cambria (Vietnamese);}{\\fbimajor\\f31538\\fbidi \\froman\\fcharset238\\fprq2 Times New Roman CE{\\*\\falt Courier New};}\n</code></pre>\n<p>I am assuming that I do not read the file correctly. Or maybe not writing it correctly? Not sure.\nMaybe an attribute is missing - I just think it is a little thing that it is wrong.</p>\n<p>I have the following code:</p>\n<pre><code>import javax.print.Doc;\nimport javax.print.DocFlavor;\nimport javax.print.DocPrintJob;\nimport javax.print.PrintService;\nimport javax.print.PrintServiceLookup;\nimport javax.print.SimpleDoc;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\nimport javax.print.attribute.PrintRequestAttributeSet;\nimport javax.print.attribute.standard.Copies;\nimport javax.print.attribute.standard.Destination;\nimport javax.print.event.PrintJobAdapter;\nimport javax.print.event.PrintJobEvent;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.net.URISyntaxException;\nimport java.util.Arrays;\n\n\npublic class Program {\n\n\n    public static final String myPath = &quot;C:/Project Files/Template&quot;;\n    public static final String myFile =  &quot;CreditNoteEnglish.rtf&quot;;\n    public static final String myFile2 =  &quot;CreditNoteEnglish.pdf&quot;;\n    public static void  main (String[] args)\n    {\n        try {\n            convertToPDF_PerPrint(myPath, myFile);\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private static void convertToPDF_PerPrint( String Verzeichnis,  String pFileName) throws URISyntaxException {\n        final String defaultPrinterName = &quot;Microsoft Print To PDF&quot;;\n        DocFlavor docType = DocFlavor.INPUT_STREAM.AUTOSENSE;\n        PrintRequestAttributeSet printerSettings = new HashPrintRequestAttributeSet();\n        PrintService PDFPrinter = null;\n        File myFile = new File(Verzeichnis + &quot;/&quot; + pFileName);\n        File outFile = new File (Verzeichnis + &quot;/&quot; + myFile2);\n       // printerSettings.add(MediaSizeName.ISO_A4);\n        printerSettings.add(new Destination(outFile.toURI()));\n        printerSettings.add(new Copies(1));\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(docType,printerSettings);\n        try\n        {\n            if(printServices.length == 0)\n            {\n                throw new Exception(&quot;No printers found for given attributes&quot;);\n            }\n            System.out.println ( &quot;Available printers: &quot; + Arrays.asList ( printServices ) );\n\n            for(PrintService availableService : printServices)\n            {\n                if(availableService.getName().contains(&quot;PDF&quot;))\n                {\n                    PDFPrinter = availableService;\n                    break;\n                }\n            }            if (PDFPrinter == null)\n        {\n            throw new IllegalStateException(&quot;Can not find PDF printer.&quot;);\n        }\n\n            FileInputStream fileAsStream = new FileInputStream(myFile);\n\n            System.out.println ( Verzeichnis + &quot;\\\\&quot; + pFileName );\n            System.out.println ( fileAsStream.read() );\n            DocPrintJob myPrintJob =  PDFPrinter.createPrintJob();\n            Doc myConvertableFile = new SimpleDoc(fileAsStream, DocFlavor.INPUT_STREAM.AUTOSENSE,null);\n            PrintJobWatcher watcher = new PrintJobWatcher(myPrintJob);\n            myPrintJob.print(myConvertableFile, printerSettings);\n            watcher.waitForDone();\n            fileAsStream.close();\n        }\n        catch(Exception e)\n        {\n            System.out.println(e);\n        }\n    }\n}\n\nclass PrintJobWatcher {\n\n    boolean done = false;\n\n    PrintJobWatcher(DocPrintJob job) {\n        job.addPrintJobListener(new PrintJobAdapter() {\n            public void printJobCanceled(PrintJobEvent pje) {\n                allDone();\n            }\n\n            public void printJobCompleted(PrintJobEvent pje) {\n                allDone();\n            }\n\n            public void printJobFailed(PrintJobEvent pje) {\n                allDone();\n            }\n\n            public void printJobNoMoreEvents(PrintJobEvent pje) {\n                allDone();\n            }\n\n            void allDone() {\n                synchronized (PrintJobWatcher.this) {\n                    done = true;\n                    System.out.println(&quot;Printing done ...&quot;);\n                    PrintJobWatcher.this.notify();\n                }\n            }\n        });\n    }\n\n    public synchronized void waitForDone() {\n        try {\n            while (!done) {\n                wait();\n            }\n        } catch (InterruptedException e) {\n        }\n    }\n}\n</code></pre>\n<p>Does anyone have an idea why it is not possible to make Microsoft Print to PDF Printer generating a proper PDF when using the code above?</p>\n<p>Any hints will be highly appreciated.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","google-colaboratory","automl","h2o.ai"],"answers":[{"tags":[],"owner":{"account_id":9714878,"reputation":1195,"user_id":7205625,"display_name":"Rumesh Madhusanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641084535,"creation_date":1641037254,"answer_id":70548631,"question_id":66847980,"body_markdown":"You can use localtunnel to expose the port that H2O.ai runs on:\r\n\r\nInstall localtunnel: \r\n\r\n    !npm install -g localtunnel\r\n\r\nStart localtunnel:\r\n\r\n    !lt --port 54321\r\nThen you can navigate to the url it returns and access H2O.ai notebook.\r\n","title":"How to access H2O Flow when using Google Colab","body":"<p>You can use localtunnel to expose the port that H2O.ai runs on:</p>\n<p>Install localtunnel:</p>\n<pre><code>!npm install -g localtunnel\n</code></pre>\n<p>Start localtunnel:</p>\n<pre><code>!lt --port 54321\n</code></pre>\n<p>Then you can navigate to the url it returns and access H2O.ai notebook.</p>\n"}],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641084535,"creation_date":1616984033,"question_id":66847980,"body_markdown":"Does anyone know how to access H2O Flow when using Google Colab?\r\n\r\nMy code is as follows:\r\n\r\n```\r\n!pip install H2O\r\n```\r\n\r\n```python\r\nimport h2o\r\nh2o.init(bind_to_localhost=False, log_dir=&quot;./&quot;)\r\nfrom google.colab.output import eval_js\r\nprint(eval_js(&quot;google.colab.kernel.proxyPort(54321)&quot;))\r\n```\r\n\r\nthis code shows the following output:\r\n\r\n```\r\nChecking whether there is an H2O instance running at http://localhost:54321 ..... not found.\r\nAttempting to start a local H2O server...\r\n  Java Version: openjdk version &quot;11.0.10&quot; 2021-01-19; OpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04); OpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\r\n  Starting server from /usr/local/lib/python3.7/dist-packages/h2o/backend/bin/h2o.jar\r\n  Ice root: /tmp/tmp5mullu7m\r\n  JVM stdout: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.out\r\n  JVM stderr: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.err\r\n  Server is running at http://127.0.0.1:54321\r\nConnecting to H2O server at http://127.0.0.1:54321 ... successful.\r\n\r\nH2O_cluster_uptime: \t02 secs\r\nH2O_cluster_timezone: \tEtc/UTC\r\nH2O_data_parsing_timezone: \tUTC\r\nH2O_cluster_version: \t3.32.1.1\r\nH2O_cluster_version_age: \t3 days\r\nH2O_cluster_name: \tH2O_from_python_unknownUser_0ttq4b\r\nH2O_cluster_total_nodes: \t1\r\nH2O_cluster_free_memory: \t3.180 Gb\r\nH2O_cluster_total_cores: \t2\r\nH2O_cluster_allowed_cores: \t2\r\nH2O_cluster_status: \taccepting new members, healthy\r\nH2O_connection_url: \thttp://127.0.0.1:54321\r\nH2O_connection_proxy: \t{&quot;http&quot;: null, &quot;https&quot;: null}\r\nH2O_internal_security: \tFalse\r\nH2O_API_Extensions: \tAmazon S3, XGBoost, Algos, AutoML, Core V3, TargetEncoder, Core V4\r\nPython_version: \t3.7.10 final\r\n\r\nhttps://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/\r\n```\r\n\r\nand clicking https://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/ returns HTTP 500 error with &quot;Not Implemented&quot; message instead of H2O Flow (Web UI) page.\r\n\r\nIt seems that the message is returned by [Persist](https://github.com/h2oai/h2o-3/blob/master/h2o-core/src/main/java/water/persist/Persist.java) class.\r\n","title":"How to access H2O Flow when using Google Colab","body":"<p>Does anyone know how to access H2O Flow when using Google Colab?</p>\n<p>My code is as follows:</p>\n<pre><code>!pip install H2O\n</code></pre>\n<pre class=\"lang-py prettyprint-override\"><code>import h2o\nh2o.init(bind_to_localhost=False, log_dir=&quot;./&quot;)\nfrom google.colab.output import eval_js\nprint(eval_js(&quot;google.colab.kernel.proxyPort(54321)&quot;))\n</code></pre>\n<p>this code shows the following output:</p>\n<pre><code>Checking whether there is an H2O instance running at http://localhost:54321 ..... not found.\nAttempting to start a local H2O server...\n  Java Version: openjdk version &quot;11.0.10&quot; 2021-01-19; OpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04); OpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\n  Starting server from /usr/local/lib/python3.7/dist-packages/h2o/backend/bin/h2o.jar\n  Ice root: /tmp/tmp5mullu7m\n  JVM stdout: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.out\n  JVM stderr: /tmp/tmp5mullu7m/h2o_unknownUser_started_from_python.err\n  Server is running at http://127.0.0.1:54321\nConnecting to H2O server at http://127.0.0.1:54321 ... successful.\n\nH2O_cluster_uptime:     02 secs\nH2O_cluster_timezone:   Etc/UTC\nH2O_data_parsing_timezone:  UTC\nH2O_cluster_version:    3.32.1.1\nH2O_cluster_version_age:    3 days\nH2O_cluster_name:   H2O_from_python_unknownUser_0ttq4b\nH2O_cluster_total_nodes:    1\nH2O_cluster_free_memory:    3.180 Gb\nH2O_cluster_total_cores:    2\nH2O_cluster_allowed_cores:  2\nH2O_cluster_status:     accepting new members, healthy\nH2O_connection_url:     http://127.0.0.1:54321\nH2O_connection_proxy:   {&quot;http&quot;: null, &quot;https&quot;: null}\nH2O_internal_security:  False\nH2O_API_Extensions:     Amazon S3, XGBoost, Algos, AutoML, Core V3, TargetEncoder, Core V4\nPython_version:     3.7.10 final\n\nhttps://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/\n</code></pre>\n<p>and clicking <a href=\"https://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/\" rel=\"nofollow noreferrer\">https://0258qgrdz6tx-496ff2e9c6d22116-54321-colab.googleusercontent.com/</a> returns HTTP 500 error with &quot;Not Implemented&quot; message instead of H2O Flow (Web UI) page.</p>\n<p>It seems that the message is returned by <a href=\"https://github.com/h2oai/h2o-3/blob/master/h2o-core/src/main/java/water/persist/Persist.java\" rel=\"nofollow noreferrer\">Persist</a> class.</p>\n"},{"tags":["java","android","nginx","ssl","mobile"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641084632,"post_id":70552789,"comment_id":124718097,"body_markdown":"is this not just a dupe of https://stackoverflow.com/questions/34766380/volley-signature-uses-an-insecure-hash-function","body":"is this not just a dupe of <a href=\"https://stackoverflow.com/questions/34766380/volley-signature-uses-an-insecure-hash-function\" title=\"volley signature uses an insecure hash function\">stackoverflow.com/questions/34766380/&hellip;</a>"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1641084709,"post_id":70552789,"comment_id":124718103,"body_markdown":"if android is detecting this is a weak hash, it&#39;s probably a bigger issue than just trying to fix it for your app, so not sure this is an android issue, probably something you have to resolve with your certificate","body":"if android is detecting this is a weak hash, it&#39;s probably a bigger issue than just trying to fix it for your app, so not sure this is an android issue, probably something you have to resolve with your certificate"},{"owner":{"account_id":18806833,"reputation":1,"user_id":13715976,"display_name":"Matthew Uy"},"score":0,"creation_date":1641108203,"post_id":70552789,"comment_id":124720398,"body_markdown":"@local_nobody thanks for the input. What we don&#39;t wanna do is fix our app.","body":"@local_nobody thanks for the input. What we don&#39;t wanna do is fix our app."}],"owner":{"account_id":18806833,"reputation":1,"user_id":13715976,"display_name":"Matthew Uy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641082329,"creation_date":1641082329,"question_id":70552789,"body_markdown":"The android app stops connecting to the server after installing a new ssl. The ssl was bought from godaddy. It was working perfectly when I used the current ssl, but it&#39;s about to expire so I installed the new ssl. I don&#39;t think there was a problem when installing the ssl. I included the intermediate cert (gd_bundle-g2-g1.crt) but still the problem exists.\r\n\r\nHere is the error that I am getting from the mobile app: (log from logcat).\r\n\r\n    OkHttpClient: &lt;-- HTTP FAILED: javax.net.ssl.SSLHandshakeException: Unacceptable certificate: OU=Go Daddy Class 2 Certification Authority, O=&quot;The Go Daddy Group, Inc.&quot;, C=US W/System.err: Caused by: java.security.cert.CertificateException: Signature uses an insecure hash function:\r\n\r\nAny help would be appreciated.","title":"android app not connecting to server after renewing ssl","body":"<p>The android app stops connecting to the server after installing a new ssl. The ssl was bought from godaddy. It was working perfectly when I used the current ssl, but it's about to expire so I installed the new ssl. I don't think there was a problem when installing the ssl. I included the intermediate cert (gd_bundle-g2-g1.crt) but still the problem exists.</p>\n<p>Here is the error that I am getting from the mobile app: (log from logcat).</p>\n<pre><code>OkHttpClient: &lt;-- HTTP FAILED: javax.net.ssl.SSLHandshakeException: Unacceptable certificate: OU=Go Daddy Class 2 Certification Authority, O=&quot;The Go Daddy Group, Inc.&quot;, C=US W/System.err: Caused by: java.security.cert.CertificateException: Signature uses an insecure hash function:\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","user-interface","javafx","pane"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1641082167,"post_id":70552756,"comment_id":124717780,"body_markdown":"work through a tutorial about how to use layouts - when stuck come back with a [mcve] demonstrating what&#39;s wrong","body":"work through a tutorial about how to use layouts - when stuck come back with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what&#39;s wrong"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641084276,"post_id":70552756,"comment_id":124718059,"body_markdown":"[bouncing ball app](https://gist.github.com/james-d/8327842)","body":"<a href=\"https://gist.github.com/james-d/8327842\" rel=\"nofollow noreferrer\">bouncing ball app</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641098807,"post_id":70552756,"comment_id":124719537,"body_markdown":"the minX of the Pane seems to get smaller as the ball goes off the edge of it -&gt; dont let the ball go off the edge.","body":"the minX of the Pane seems to get smaller as the ball goes off the edge of it -&gt; dont let the ball go off the edge."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641098840,"post_id":70552756,"comment_id":124719542,"body_markdown":"Another example: [breakout game](https://gist.github.com/jewelsea/910dae32ef6d1bd4257850031aefcba2) (more complex).","body":"Another example: <a href=\"https://gist.github.com/jewelsea/910dae32ef6d1bd4257850031aefcba2\" rel=\"nofollow noreferrer\">breakout game</a> (more complex)."},{"owner":{"account_id":13853453,"reputation":81,"user_id":10000830,"display_name":"Makori SM"},"score":0,"creation_date":1641138267,"post_id":70552756,"comment_id":124725793,"body_markdown":"@jewelsea so from what you&#39;re saying/your second example I&#39;m getting the impression that Panes always resize? As in there&#39;s no way to really get the bounds without just extracting them out into a second object at creation?","body":"@jewelsea so from what you&#39;re saying/your second example I&#39;m getting the impression that Panes always resize? As in there&#39;s no way to really get the bounds without just extracting them out into a second object at creation?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1641138702,"post_id":70552756,"comment_id":124725901,"body_markdown":"@MakoriSM No, thats not what I think jewelsea is saying. If you check the current bounds of the pane when you love the ball, and just dont move the ball outside those bounds, then the bounds should never change.","body":"@MakoriSM No, thats not what I think jewelsea is saying. If you check the current bounds of the pane when you love the ball, and just dont move the ball outside those bounds, then the bounds should never change."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1641138756,"post_id":70552756,"comment_id":124725916,"body_markdown":"Read the links and try to implement it the same way. If you cant do it, create and post a [mre] demonstrating the problem.","body":"Read the links and try to implement it the same way. If you cant do it, create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":13853453,"reputation":81,"user_id":10000830,"display_name":"Makori SM"},"score":0,"creation_date":1641140850,"post_id":70552756,"comment_id":124726410,"body_markdown":"@James_D I&#39;m able to do it in that way, but that&#39;s a different implementation to the one I proposed, one that only is necessary if my assumption that &quot;you can&#39;t check the ball once it has gone off the edge because the Pane will always resize&quot; is true. I want to know if there is no way to prevent this Pane resizing.","body":"@James_D I&#39;m able to do it in that way, but that&#39;s a different implementation to the one I proposed, one that only is necessary if my assumption that &quot;you can&#39;t check the ball once it has gone off the edge because the Pane will always resize&quot; is true. I want to know if there is no way to prevent this Pane resizing."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1641141018,"post_id":70552756,"comment_id":124726456,"body_markdown":"@MakoriSM Move it and then move it back if it moved off the edge of the pane, as compared to move it only if moving it doesnt move it off the edge of the pane just seems like a terrible choice anyway. Its not really possible to answer the question youre asking without more information though.","body":"@MakoriSM Move it and then move it back if it moved off the edge of the pane, as compared to move it only if moving it doesnt move it off the edge of the pane just seems like a terrible choice anyway. Its not really possible to answer the question youre asking without more information though."}],"owner":{"account_id":13853453,"reputation":81,"user_id":10000830,"display_name":"Makori SM"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1641143124,"answer_count":0,"score":3,"last_activity_date":1641081730,"creation_date":1641081730,"question_id":70552756,"body_markdown":"I am currently using JavaFX `Pane` and have a ball class (an `Imageview`) within it that I want to bounce off the edges of it like is detailed [here][1] however the `minX` of the Pane seems to get smaller as the ball goes off the edge of it. \r\n\r\nIt seems the `Pane` resizes to fit all the nodes added to it, meaning I can&#39;t ever check if the ball goes off the left side of the `Pane`. Is there a way to prevent this resizing or a better way to check the edges of the Pane?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx","title":"How can I prevent my Javafx Pane from resizing to fit it&#39;s children","body":"<p>I am currently using JavaFX <code>Pane</code> and have a ball class (an <code>Imageview</code>) within it that I want to bounce off the edges of it like is detailed <a href=\"https://stackoverflow.com/questions/20022889/how-to-make-the-ball-bounce-off-the-walls-in-javafx\">here</a> however the <code>minX</code> of the Pane seems to get smaller as the ball goes off the edge of it.</p>\n<p>It seems the <code>Pane</code> resizes to fit all the nodes added to it, meaning I can't ever check if the ball goes off the left side of the <code>Pane</code>. Is there a way to prevent this resizing or a better way to check the edges of the Pane?</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641288354,"post_id":70552751,"comment_id":124760246,"body_markdown":"You aren&#39;t measuring runtime as you don&#39;t know that the process has ended: `p.waitFor()`","body":"You aren&#39;t measuring runtime as you don&#39;t know that the process has ended: <code>p.waitFor()</code>"},{"owner":{"account_id":16626227,"reputation":111,"user_id":12015272,"display_name":"Curious Person"},"score":0,"creation_date":1641347711,"post_id":70552751,"comment_id":124780314,"body_markdown":"Can you provide an answer?","body":"Can you provide an answer?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641395715,"post_id":70552751,"comment_id":124794436,"body_markdown":"External tools such as a profiler, VisualVM, the attach API, `ps` and `jmap` may help you find details of memory use of another running Java process.","body":"External tools such as a profiler, VisualVM, the attach API, <code>ps</code> and <code>jmap</code> may help you find details of memory use of another running Java process."}],"owner":{"account_id":16626227,"reputation":111,"user_id":12015272,"display_name":"Curious Person"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1641081581,"creation_date":1641081581,"question_id":70552751,"body_markdown":"Say I have a Java program A from which I call another Java program B, with the help of Process:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;java B&quot;);\r\n\r\nI also want to calculate the memory used by program B from program A, but am unable to figure it out. I can measure the runtime by the following:\r\n\r\n    long start = System.currentTimeMillis();\r\n    Process p = Runtime.getRuntime().exec(&quot;java B&quot;);\r\n    long end = System.currentTimeMillis();\r\n    long runtime = end - start;\r\n\r\nI was wondering if we could do something similar, to measure the memory of B from A? I tried doing Runtime.getRuntime().totalMemory(), but that will fetch the memory of program A not B.","title":"Measure memory used by a program from another program","body":"<p>Say I have a Java program A from which I call another Java program B, with the help of Process:</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;java B&quot;);\n</code></pre>\n<p>I also want to calculate the memory used by program B from program A, but am unable to figure it out. I can measure the runtime by the following:</p>\n<pre><code>long start = System.currentTimeMillis();\nProcess p = Runtime.getRuntime().exec(&quot;java B&quot;);\nlong end = System.currentTimeMillis();\nlong runtime = end - start;\n</code></pre>\n<p>I was wondering if we could do something similar, to measure the memory of B from A? I tried doing Runtime.getRuntime().totalMemory(), but that will fetch the memory of program A not B.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1641089024,"post_id":70551748,"comment_id":124718554,"body_markdown":"What is the JSON structure you are expecting for `CustomClass_2`? Could you please include some sample JSON data.","body":"What is the JSON structure you are expecting for <code>CustomClass_2</code>? Could you please include some sample JSON data."}],"answers":[{"tags":[],"owner":{"account_id":355707,"reputation":2299,"user_id":694804,"display_name":"jCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641080872,"creation_date":1641080872,"answer_id":70552703,"question_id":70551748,"body_markdown":"First, the `JsonSyntaxException` is thrown in the &quot;wrong&quot; case where the data to deserialize does not match the string data, so maybe this can be ignored because the other case will deserialize the string correctly.\r\nIf you need to suppress this exception, then you might consider using some different approach to define your objects. This might also be the case when `Collection`s will be serialized as objects and not as arrays and therefore the &quot;wrong&quot; deserialization is done.\r\n\r\nSecond, it seems that deriving from a `Collection` (and `List`) and adding fields to derived classes, GSON will only serialize the `Collection`&#39;s elements, according to [this source][1]. For this kind of classes, you might need a custom `TypeAdapter` implementation to achieve the desired JSON string.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/CollectionTypeAdapterFactory.java#L95","title":"GSON parse serialized instance of uncertain type","body":"<p>First, the <code>JsonSyntaxException</code> is thrown in the &quot;wrong&quot; case where the data to deserialize does not match the string data, so maybe this can be ignored because the other case will deserialize the string correctly.\nIf you need to suppress this exception, then you might consider using some different approach to define your objects. This might also be the case when <code>Collection</code>s will be serialized as objects and not as arrays and therefore the &quot;wrong&quot; deserialization is done.</p>\n<p>Second, it seems that deriving from a <code>Collection</code> (and <code>List</code>) and adding fields to derived classes, GSON will only serialize the <code>Collection</code>'s elements, according to <a href=\"https://github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/internal/bind/CollectionTypeAdapterFactory.java#L95\" rel=\"nofollow noreferrer\">this source</a>. For this kind of classes, you might need a custom <code>TypeAdapter</code> implementation to achieve the desired JSON string.</p>\n"}],"owner":{"account_id":1612506,"reputation":163,"user_id":1491069,"display_name":"Alberto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641080872,"creation_date":1641069926,"question_id":70551748,"body_markdown":"In the following example I have to parse a json string which is the serialization of an object that may be either instance of CustomClass_1 or of CustomClass_2 and I don&#39;t know it beforehand. The problems are as follows:\r\n\r\n - I get an exception com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY\r\n - the json string produced by GSON from the instance of CustomClass_2 is just the string *[&quot;item&quot;]* as if the object was just an instance of the superclass *ArrayList&lt;String&gt;*\r\n\r\nAny suggestion to achieve what I want?\r\n\r\n    class CustomClass_1 {\r\n      String type;\r\n\r\n      CustomClass_1(){\r\n        type = &quot;CustomClass_1&quot;;\r\n      }\r\n    }\r\n    \r\n    class CustomClass_2 extends ArrayList&lt;String&gt; {\r\n      String type;\r\n\r\n      CustomClass_2(){\r\n        super();\r\n        type = &quot;CustomClass_2&quot;;\r\n        this.add(&quot;item&quot;);\r\n      }\r\n    }\r\n\r\n    public class DeserializationTest {\r\n\r\n      @Test\r\n      public void testIncomingMessageParsing(){\r\n        String serialized_object = receive();\r\n        CustomClass_1 cc1 = null;\r\n        CustomClass_2 cc2 = null;\r\n        try{\r\n          cc1 = (new Gson()).fromJson(serialized_object, CustomClass_1.class);\r\n        } catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n        try{\r\n          cc2 = (new Gson()).fromJson(serialized_object, CustomClass_2.class);\r\n        } catch (Exception e){\r\n          e.printStackTrace();\r\n        }\r\n        if (cc1 != null &amp;&amp; cc1.type.equals(&quot;CustomClass_1&quot;)) {\r\n          System.out.println(&quot;It&#39;s a CustomClass_1.&quot;);\r\n        } else if (cc2 != null &amp;&amp; cc2.type.equals(&quot;CustomClass_2&quot;)) {\r\n          System.out.println(&quot;It&#39;s a CustomClass_2.&quot;);\r\n        }\r\n      }\r\n\r\n      String receive(){\r\n        CustomClass_1 cc1 = new CustomClass_1();\r\n        CustomClass_2 cc2 = new CustomClass_2();\r\n        String serialized_object = &quot;&quot;;\r\n        Gson gson = new Gson();\r\n        boolean head = (new Random()).nextBoolean();\r\n        if (head){\r\n          serialized_object = gson.toJson(cc1);\r\n        } else {\r\n          serialized_object = gson.toJson(cc2);\r\n        }\r\n        return serialized_object;\r\n      }\r\n    } // end of class","title":"GSON parse serialized instance of uncertain type","body":"<p>In the following example I have to parse a json string which is the serialization of an object that may be either instance of CustomClass_1 or of CustomClass_2 and I don't know it beforehand. The problems are as follows:</p>\n<ul>\n<li>I get an exception com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY</li>\n<li>the json string produced by GSON from the instance of CustomClass_2 is just the string <em>[&quot;item&quot;]</em> as if the object was just an instance of the superclass <em>ArrayList</em></li>\n</ul>\n<p>Any suggestion to achieve what I want?</p>\n<pre><code>class CustomClass_1 {\n  String type;\n\n  CustomClass_1(){\n    type = &quot;CustomClass_1&quot;;\n  }\n}\n\nclass CustomClass_2 extends ArrayList&lt;String&gt; {\n  String type;\n\n  CustomClass_2(){\n    super();\n    type = &quot;CustomClass_2&quot;;\n    this.add(&quot;item&quot;);\n  }\n}\n\npublic class DeserializationTest {\n\n  @Test\n  public void testIncomingMessageParsing(){\n    String serialized_object = receive();\n    CustomClass_1 cc1 = null;\n    CustomClass_2 cc2 = null;\n    try{\n      cc1 = (new Gson()).fromJson(serialized_object, CustomClass_1.class);\n    } catch (Exception e){\n      e.printStackTrace();\n    }\n    try{\n      cc2 = (new Gson()).fromJson(serialized_object, CustomClass_2.class);\n    } catch (Exception e){\n      e.printStackTrace();\n    }\n    if (cc1 != null &amp;&amp; cc1.type.equals(&quot;CustomClass_1&quot;)) {\n      System.out.println(&quot;It's a CustomClass_1.&quot;);\n    } else if (cc2 != null &amp;&amp; cc2.type.equals(&quot;CustomClass_2&quot;)) {\n      System.out.println(&quot;It's a CustomClass_2.&quot;);\n    }\n  }\n\n  String receive(){\n    CustomClass_1 cc1 = new CustomClass_1();\n    CustomClass_2 cc2 = new CustomClass_2();\n    String serialized_object = &quot;&quot;;\n    Gson gson = new Gson();\n    boolean head = (new Random()).nextBoolean();\n    if (head){\n      serialized_object = gson.toJson(cc1);\n    } else {\n      serialized_object = gson.toJson(cc2);\n    }\n    return serialized_object;\n  }\n} // end of class\n</code></pre>\n"},{"tags":["java","decimalformat"],"answers":[{"tags":[],"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1334334446,"creation_date":1334334446,"answer_id":10144691,"question_id":10144636,"body_markdown":"This is intentional behavior.  From [the documentation][1]:\n\n&gt;Rounding\n&gt;\n&gt;DecimalFormat uses half-even rounding (see ROUND_HALF_EVEN) for formatting.\n\nAbout [ROUND_HALF_EVEN][2]:\n\n&gt;Rounding mode to round towards the &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case, round towards the even neighbor. Behaves as for ROUND_HALF_UP if the digit to the left of the discarded fraction is odd; behaves as for ROUND_HALF_DOWN if it&#39;s even. Note that this is the rounding mode that minimizes cumulative error when applied repeatedly over a sequence of calculations.\n\nThis is also known as banker&#39;s rounding.\n\n[`Math.Round`][3] on the other hand uses the following formula, which is &quot;normal&quot; rounding:\n\n    (long)Math.floor(a + 0.5d)\n\n\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/text/DecimalFormat.html\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29","title":"Rounding with DecimalFormat in Java","body":"<p>This is intentional behavior.  From <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Rounding</p>\n<p>DecimalFormat uses half-even rounding (see ROUND_HALF_EVEN) for formatting.</p>\n</blockquote>\n<p>About <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html#ROUND_HALF_EVEN\" rel=\"noreferrer\">ROUND_HALF_EVEN</a>:</p>\n<blockquote>\n<p>Rounding mode to round towards the &quot;nearest neighbor&quot; unless both neighbors are equidistant, in which case, round towards the even neighbor. Behaves as for ROUND_HALF_UP if the digit to the left of the discarded fraction is odd; behaves as for ROUND_HALF_DOWN if it's even. Note that this is the rounding mode that minimizes cumulative error when applied repeatedly over a sequence of calculations.</p>\n</blockquote>\n<p>This is also known as banker's rounding.</p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29\" rel=\"noreferrer\"><code>Math.Round</code></a> on the other hand uses the following formula, which is &quot;normal&quot; rounding:</p>\n<pre><code>(long)Math.floor(a + 0.5d)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1358,"reputation":13478,"user_id":1813,"accept_rate":83,"display_name":"Jon Bright"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1641080438,"creation_date":1334334473,"answer_id":10144696,"question_id":10144636,"body_markdown":"The default rounding mode of [`DecimalFormat`][1] is [`RoundingMode.HALF_EVEN`][2].  This means that it rounds up, or rounds down if the number is nearer to the next neighbour.  When the number is exactly between two neighbours (in your case, 2 and 3), it rounds to the nearest even number (in your case, 2).\r\n\r\nAs you can see, when you tried it with 3.5, it rounded to 4.\r\n\r\nIf you want the more &quot;intuitive&quot; behaviour, known as schoolhouse rounding as it is often taught to children, use [`RoundingMode.HALF_UP`][3].\r\n\r\n    setRoundingMode(RoundingMode.HALF_UP)\r\n\r\nIf the number is exactly between two neighbours, `HALF_UP` will always round upwards.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_UP","title":"Rounding with DecimalFormat in Java","body":"<p>The default rounding mode of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\"><code>DecimalFormat</code></a> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_EVEN\" rel=\"nofollow noreferrer\"><code>RoundingMode.HALF_EVEN</code></a>.  This means that it rounds up, or rounds down if the number is nearer to the next neighbour.  When the number is exactly between two neighbours (in your case, 2 and 3), it rounds to the nearest even number (in your case, 2).</p>\n<p>As you can see, when you tried it with 3.5, it rounded to 4.</p>\n<p>If you want the more &quot;intuitive&quot; behaviour, known as schoolhouse rounding as it is often taught to children, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#HALF_UP\" rel=\"nofollow noreferrer\"><code>RoundingMode.HALF_UP</code></a>.</p>\n<pre><code>setRoundingMode(RoundingMode.HALF_UP)\n</code></pre>\n<p>If the number is exactly between two neighbours, <code>HALF_UP</code> will always round upwards.</p>\n"}],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24441,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":10144691,"answer_count":2,"score":19,"last_activity_date":1641080438,"creation_date":1334334201,"question_id":10144636,"body_markdown":"Let&#39;s look at the following statements in Java.\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.4)); //returns 2\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.5)); //returns 2  &lt;---Concentrate here\r\n    System.out.println(Math.round(2.5));                    //returns 3\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.6)); //returns 3\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(3.5)); //returns 4\r\n\r\nIn the above statements, all other cases are obvious except the following.\r\n\r\n    System.out.println(new DecimalFormat(&quot;0&quot;).format(2.5));\r\n\r\nIt should return `3` but it returns `2`. How?","title":"Rounding with DecimalFormat in Java","body":"<p>Let's look at the following statements in Java.</p>\n\n<pre><code>System.out.println(new DecimalFormat(\"0\").format(2.4)); //returns 2\n\nSystem.out.println(new DecimalFormat(\"0\").format(2.5)); //returns 2  &lt;---Concentrate here\nSystem.out.println(Math.round(2.5));                    //returns 3\n\nSystem.out.println(new DecimalFormat(\"0\").format(2.6)); //returns 3\nSystem.out.println(new DecimalFormat(\"0\").format(3.5)); //returns 4\n</code></pre>\n\n<p>In the above statements, all other cases are obvious except the following.</p>\n\n<pre><code>System.out.println(new DecimalFormat(\"0\").format(2.5));\n</code></pre>\n\n<p>It should return <code>3</code> but it returns <code>2</code>. How?</p>\n"},{"tags":["java","spring","junit","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":2214769,"reputation":300,"user_id":1955694,"display_name":"Rauf Aghayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641080202,"creation_date":1641080202,"answer_id":70552658,"question_id":70552502,"body_markdown":"If you want to do a unit test, you should exclude the security part here. You can set up MockMvc with a custom security config, see: \r\n\r\n    RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    public class SecuredControllerSpringBootIntegrationTest {\r\n    \r\n        @Autowired\r\n        private WebApplicationContext context;\r\n    \r\n        private MockMvc mvc;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            mvc = MockMvcBuilders\r\n              .webAppContextSetup(context)\r\n              .apply(springSecurity())\r\n              .build();\r\n        }\r\n    \r\n        // ... other methods\r\n    \r\n        @WithMockUser(&quot;spring&quot;)\r\n        @Test\r\n        public void givenAuthRequestOnPrivateService_shouldSucceedWith200() throws Exception {\r\n            mvc.perform(get(&quot;/private/hello&quot;).contentType(MediaType.APPLICATION_JSON))\r\n              .andExpect(status().isOk());\r\n        }\r\n    }  \r\n\r\nFor more details: https://www.baeldung.com/spring-security-integration-tests","title":"How to mock a class that implements UserDetailsService","body":"<p>If you want to do a unit test, you should exclude the security part here. You can set up MockMvc with a custom security config, see:</p>\n<pre><code>RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\npublic class SecuredControllerSpringBootIntegrationTest {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    @Before\n    public void setup() {\n        mvc = MockMvcBuilders\n          .webAppContextSetup(context)\n          .apply(springSecurity())\n          .build();\n    }\n\n    // ... other methods\n\n    @WithMockUser(&quot;spring&quot;)\n    @Test\n    public void givenAuthRequestOnPrivateService_shouldSucceedWith200() throws Exception {\n        mvc.perform(get(&quot;/private/hello&quot;).contentType(MediaType.APPLICATION_JSON))\n          .andExpect(status().isOk());\n    }\n}  \n</code></pre>\n<p>For more details: <a href=\"https://www.baeldung.com/spring-security-integration-tests\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-integration-tests</a></p>\n"}],"owner":{"account_id":8077755,"reputation":682,"user_id":6088149,"accept_rate":100,"display_name":"exSnake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641080202,"creation_date":1641078246,"question_id":70552502,"body_markdown":"I have a Client/Server architecture application with SpringBoot for a University Project.\r\n\r\nI&#39;m trying to UnitTest my ManageUserController using JUnit and MockMvc.\r\n\r\nI need to test that a method, behind a certain path that is accessible to everyone (POST, &quot;api/v1/user/signup&quot;), will return a successful status code, so I mocked the ManageUserService to return me a newUser when registrate(user) has been called.\r\n\r\nManageUserServiceImpl implements UserDetailsService overriding loadUserByUsername from Springboot Security to check if a user is registered, to validate his password and his role.\r\n\r\nProblem is that even if it&#39;s a path is accessible to everyone, when I run the test, 403 Forbidden is returned. I found the problem is in a certain way the UserDetailsService, because if i remove it everything seem to be working, i&#39;m strugglin with this from yesterday, searching for a solution but i don&#39;t know how to work it out.\r\n\r\nThis is my SecurityConfig:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\r\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/v1/user/login&quot;);\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().antMatchers(&quot;/api/v1/user/signup&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        http.addFilter(customAuthenticationFilter);\r\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        http.exceptionHandling((e) -&gt; e.accessDeniedHandler(new AccessDeniedHandler() {\r\n            @Override\r\n            public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\r\n                response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n                response.setHeader(&quot;error&quot;, &quot;Autorizzazione fallita&quot;);\r\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n                response.getWriter().write(&quot;{\\&quot;message\\&quot;: \\&quot;Non sei autorizzato per questa funzionalit&#224;\\&quot;, \\&quot;status\\&quot;: \\&quot;error\\&quot;}&quot;);\r\n            }\r\n        }));\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\nManageUserController\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/user&quot;)\r\npublic class ManageUserController {\r\n\r\n    private ManageUserService service;\r\n\r\n    @Autowired\r\n    public ManageUserController(ManageUserService service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @PostMapping(&quot;signup&quot;)\r\n    ResponseEntity&lt;Object&gt; signup(@RequestBody User user) {\r\n        User newUser = null;\r\n        try {\r\n            newUser = service.signup(user);\r\n        } catch (IllegalArgumentException e) {\r\n            return ResponseHandler.generateResponse(HttpStatus.BAD_REQUEST, e.getMessage());\r\n        }\r\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n        response.put(&quot;utente&quot;, newUser);\r\n        return ResponseHandler.generateResponse(HttpStatus.CREATED, &quot;response&quot;,\r\n                response);\r\n    }\r\n}\r\n```\r\n\r\nManageUserService\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Transactional\r\npublic class ManageUserServiceImpl implements ManageUserService, UserDetailsService {\r\n\r\n    private final UtenteRepository utenteRepository;\r\n    private final RuoloRepository ruoloRepository;\r\n    private final BCryptPasswordEncoder passwordEncoder;\r\n\r\n\r\n    @Override\r\n    public User signup(User user) throws IllegalArgumentException {\r\n        if (user == null) {\r\n            throw new IllegalArgumentException(&quot;Invalid User&quot;);\r\n        }\r\n        if (utenteRepository.existsByEmail(user.getEmail())) {\r\n            throw new IllegalArgumentException(&quot;Email already exists&quot;);\r\n        }\r\n        user.setRuolo(ruoloRepository.findByName(&quot;TRAINER&quot;));\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        return utenteRepository.save(user);\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * This method find an user from email\r\n     *\r\n     * @param email email of the user to search for\r\n     * @return UserDetails\r\n     * @throws UsernameNotFoundException\r\n     */\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        User user = utenteRepository.findByEmail(email);\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;User not found in DB&quot;);\r\n        }\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n\r\n        authorities.add(new SimpleGrantedAuthority(user.getRuolo().getNome()));\r\n\r\n        return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), authorities);\r\n    }\r\n\r\n}\r\n```\r\n\r\nManageUserControllerTest\r\n\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\n@RunWith(SpringRunner.class)\r\n@ContextConfiguration(classes = BackendApplicationTest.class)\r\n@WebMvcTest(ManageUserController.class)\r\nclass ManageUserControllerTest {\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private ManageUserService gestioneUtenzaService;\r\n\r\n    @Test\r\n    void createMockMvc() {\r\n        Assert.assertNotNull(mockMvc);\r\n    }\r\n\r\n    @Test\r\n    void signupTest() throws Exception {\r\n        String url = &quot;/api/v1/user/signup&quot;;\r\n        Ruolo ruoloPrep = new Role(1L, &quot;TRAINER&quot;, null, null);\r\n        String utenteJson = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot;: \\&quot;Name\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;surname\\&quot;: \\&quot;Surname\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;birth\\&quot;: \\&quot;2000-03-03\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;gender\\&quot;: \\&quot;M\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;email\\&quot;: \\&quot;test@gmail.com\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;password\\&quot;: \\&quot;1234*\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;confirmPassword\\&quot;: \\&quot;1234*\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n        User user = new User(null, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\r\n        User newUser = new User(1L, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\r\n        when(gestioneUtenzaService.signup(user)).thenReturn(newUser);\r\n        mockMvc.perform(post(url).content(utenteJson).contentType(MediaType.APPLICATION_JSON)).andDo(print()).andExpect(status().isOk());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAny clue of how i could mock the UserDetailsService too and why i still get 403 even with a path that have a permitAll()?\r\nIf i run the server and use Postman to make the request, everything is working fine.","title":"How to mock a class that implements UserDetailsService","body":"<p>I have a Client/Server architecture application with SpringBoot for a University Project.</p>\n<p>I'm trying to UnitTest my ManageUserController using JUnit and MockMvc.</p>\n<p>I need to test that a method, behind a certain path that is accessible to everyone (POST, &quot;api/v1/user/signup&quot;), will return a successful status code, so I mocked the ManageUserService to return me a newUser when registrate(user) has been called.</p>\n<p>ManageUserServiceImpl implements UserDetailsService overriding loadUserByUsername from Springboot Security to check if a user is registered, to validate his password and his role.</p>\n<p>Problem is that even if it's a path is accessible to everyone, when I run the test, 403 Forbidden is returned. I found the problem is in a certain way the UserDetailsService, because if i remove it everything seem to be working, i'm strugglin with this from yesterday, searching for a solution but i don't know how to work it out.</p>\n<p>This is my SecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/v1/user/login&quot;);\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().antMatchers(&quot;/api/v1/user/signup&quot;).permitAll()\n                .anyRequest().authenticated();\n        http.addFilter(customAuthenticationFilter);\n        http.addFilterBefore(new CustomAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n        http.exceptionHandling((e) -&gt; e.accessDeniedHandler(new AccessDeniedHandler() {\n            @Override\n            public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException, ServletException {\n                response.setStatus(HttpStatus.UNAUTHORIZED.value());\n                response.setHeader(&quot;error&quot;, &quot;Autorizzazione fallita&quot;);\n                response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n                response.getWriter().write(&quot;{\\&quot;message\\&quot;: \\&quot;Non sei autorizzato per questa funzionalit\\&quot;, \\&quot;status\\&quot;: \\&quot;error\\&quot;}&quot;);\n            }\n        }));\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>ManageUserController</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v1/user&quot;)\npublic class ManageUserController {\n\n    private ManageUserService service;\n\n    @Autowired\n    public ManageUserController(ManageUserService service) {\n        this.service = service;\n    }\n\n    @PostMapping(&quot;signup&quot;)\n    ResponseEntity&lt;Object&gt; signup(@RequestBody User user) {\n        User newUser = null;\n        try {\n            newUser = service.signup(user);\n        } catch (IllegalArgumentException e) {\n            return ResponseHandler.generateResponse(HttpStatus.BAD_REQUEST, e.getMessage());\n        }\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;utente&quot;, newUser);\n        return ResponseHandler.generateResponse(HttpStatus.CREATED, &quot;response&quot;,\n                response);\n    }\n}\n</code></pre>\n<p>ManageUserService</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Slf4j\n@Transactional\npublic class ManageUserServiceImpl implements ManageUserService, UserDetailsService {\n\n    private final UtenteRepository utenteRepository;\n    private final RuoloRepository ruoloRepository;\n    private final BCryptPasswordEncoder passwordEncoder;\n\n\n    @Override\n    public User signup(User user) throws IllegalArgumentException {\n        if (user == null) {\n            throw new IllegalArgumentException(&quot;Invalid User&quot;);\n        }\n        if (utenteRepository.existsByEmail(user.getEmail())) {\n            throw new IllegalArgumentException(&quot;Email already exists&quot;);\n        }\n        user.setRuolo(ruoloRepository.findByName(&quot;TRAINER&quot;));\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        return utenteRepository.save(user);\n    }\n\n\n\n    /**\n     * This method find an user from email\n     *\n     * @param email email of the user to search for\n     * @return UserDetails\n     * @throws UsernameNotFoundException\n     */\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = utenteRepository.findByEmail(email);\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User not found in DB&quot;);\n        }\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n\n        authorities.add(new SimpleGrantedAuthority(user.getRuolo().getNome()));\n\n        return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(), authorities);\n    }\n\n}\n</code></pre>\n<p>ManageUserControllerTest</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = BackendApplicationTest.class)\n@WebMvcTest(ManageUserController.class)\nclass ManageUserControllerTest {\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private ManageUserService gestioneUtenzaService;\n\n    @Test\n    void createMockMvc() {\n        Assert.assertNotNull(mockMvc);\n    }\n\n    @Test\n    void signupTest() throws Exception {\n        String url = &quot;/api/v1/user/signup&quot;;\n        Ruolo ruoloPrep = new Role(1L, &quot;TRAINER&quot;, null, null);\n        String utenteJson = &quot;{\\n&quot; +\n                &quot;    \\&quot;name\\&quot;: \\&quot;Name\\&quot;,\\n&quot; +\n                &quot;    \\&quot;surname\\&quot;: \\&quot;Surname\\&quot;,\\n&quot; +\n                &quot;    \\&quot;birth\\&quot;: \\&quot;2000-03-03\\&quot;,\\n&quot; +\n                &quot;    \\&quot;gender\\&quot;: \\&quot;M\\&quot;,\\n&quot; +\n                &quot;    \\&quot;email\\&quot;: \\&quot;test@gmail.com\\&quot;,\\n&quot; +\n                &quot;    \\&quot;password\\&quot;: \\&quot;1234*\\&quot;,\\n&quot; +\n                &quot;    \\&quot;confirmPassword\\&quot;: \\&quot;1234*\\&quot;\\n&quot; +\n                &quot;}&quot;;\n        User user = new User(null, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\n        User newUser = new User(1L, &quot;Name&quot;, &quot;Surname&quot;, &quot;test@gmail.com&quot;, &quot;1234&quot;, true, LocalDate.parse(&quot;2000-03-03&quot;), null,null, &quot;M&quot;, null, null, null,null, null, null, null, null, null);\n        when(gestioneUtenzaService.signup(user)).thenReturn(newUser);\n        mockMvc.perform(post(url).content(utenteJson).contentType(MediaType.APPLICATION_JSON)).andDo(print()).andExpect(status().isOk());\n    }\n\n}\n\n</code></pre>\n<p>Any clue of how i could mock the UserDetailsService too and why i still get 403 even with a path that have a permitAll()?\nIf i run the server and use Postman to make the request, everything is working fine.</p>\n"},{"tags":["java","minecraft","potion"],"answers":[{"tags":[],"owner":{"account_id":18446687,"reputation":15,"user_id":13437790,"display_name":"JXc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640626913,"creation_date":1640626913,"answer_id":70498713,"question_id":70497060,"body_markdown":"You need to give a integer as the effect &quot;strength&quot;. I don&#39;t know what the Tier belongs to, but maybe that will interrupt it?\r\n\r\nTry to use:\r\n\r\n    Potion heal = new Potion(PotionType.INSTANT_HEAL, 2, false)\r\n\r\n\r\n","title":"Potion Tier 2 bug with toItemStack() method","body":"<p>You need to give a integer as the effect &quot;strength&quot;. I don't know what the Tier belongs to, but maybe that will interrupt it?</p>\n<p>Try to use:</p>\n<pre><code>Potion heal = new Potion(PotionType.INSTANT_HEAL, 2, false)\n</code></pre>\n"}],"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641079973,"creation_date":1640616953,"question_id":70497060,"body_markdown":"this code doesn&#39;t work when I put tier_two or 2. However, if I put it to 1 or One it works. Does someone have an idea ?\r\n \r\n\r\n    Potion heal = new Potion(PotionType.INSTANT_HEAL, Tier.TWO, true);\r\n    contents[3] = heal.toItemStack(1);\r\n\r\nFor information the content is an ItemMeta [] which I use to create a kit","title":"Potion Tier 2 bug with toItemStack() method","body":"<p>this code doesn't work when I put tier_two or 2. However, if I put it to 1 or One it works. Does someone have an idea ?</p>\n<pre><code>Potion heal = new Potion(PotionType.INSTANT_HEAL, Tier.TWO, true);\ncontents[3] = heal.toItemStack(1);\n</code></pre>\n<p>For information the content is an ItemMeta [] which I use to create a kit</p>\n"},{"tags":["java","multithreading","jpa"],"owner":{"account_id":7425507,"reputation":621,"user_id":5648134,"accept_rate":100,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641079719,"creation_date":1641079719,"question_id":70552609,"body_markdown":"I have a simple POJO entity class Passenger with a set of Addresses. The below is Passenger class and Address class\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;tbl_pass&quot;)\r\n    public class Passenger implements Serializable, Cloneable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;pid&quot;)\r\n        private int pid;\r\n    \r\n        @Column(name = &quot;pname&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;ploc&quot;)\r\n        private int location;\r\n    \r\n        @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;passenger&quot;, orphanRemoval = true)\r\n        private Set&lt;TripOrder&gt; orders;\r\n    \r\n    \r\n        @OneToMany(mappedBy = &quot;passenger&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        private Set&lt;MyAddress&gt; myAddresses;\r\n    \r\n    \r\n        @Override\r\n        public Passenger clone() throws CloneNotSupportedException {\r\n            Passenger clone = (Passenger) super.clone();\r\n            return clone;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.getPid() + &quot; &quot; + this.getName();\r\n        }\r\n    }\r\nThe below is the MyAddress class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tbl_add&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class MyAddress implements Serializable, Cloneable {\r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;city&quot;)\r\n        private String City;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;pid&quot;)\r\n        private Passenger passenger;\r\n    }\r\n\r\nThe below is my Service layer, the save() method is just inherited from interface CrudRepository\r\n\r\n    @Transactional\r\n    @Async(value = &quot;myTaskExecutor&quot;)\r\n    public CompletableFuture&lt;Passenger&gt; saveOne(Passenger passenger){\r\n        Passenger save = passengerRepository.save(passenger);\r\n        return CompletableFuture.completedFuture(save);\r\n    }\r\n\r\nand my threadpool:\r\n\r\n    @Configuration\r\n    public class ExecutorConfig {\r\n    \r\n        @Bean\r\n        public ThreadPoolTaskExecutor myTaskExecutor(){\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setCorePoolSize(20);\r\n            taskExecutor.setQueueCapacity(10);\r\n            taskExecutor.setMaxPoolSize(40);\r\n            taskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\r\n            taskExecutor.initialize();\r\n            return taskExecutor;\r\n        }\r\n    \r\n    }\r\n\r\nI passed the below test method successfully:\r\n\r\n        @Test\r\n        public void test1() throws CloneNotSupportedException {\r\n            String[] name = new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\r\n            String[] city = new String[]{&quot;Alexander City&quot;, &quot;Andalusia&quot;,  &quot;Anniston&quot;,&quot;Athens&quot;, &quot;Atmore&quot;, &quot;Auburn&quot;,&quot;Bessemer&quot;, &quot;Birmingham&quot;, &quot;Chickasaw&quot;, &quot;Clanton&quot;, &quot;Cullman&quot;, &quot;Decatur&quot;, &quot;Demopolis&quot;, &quot;Dothan&quot;, &quot;Enterprise&quot;, &quot;Eufaula&quot;, &quot;Florence&quot;, &quot;Fort Payne&quot;, &quot;Gadsden&quot;, &quot;Greenville&quot;, &quot;Guntersville&quot;, &quot;Huntsville&quot;, &quot;Jasper&quot;, &quot;Marion&quot;, &quot;Mobile&quot;, &quot;Montgomery&quot;};\r\n            Passenger passenger = new Passenger();\r\n            Random random = new Random();\r\n            for(int i=0;i&lt;200;i++){\r\n                Passenger p = passenger.clone();\r\n                int nextInt = random.nextInt(26);\r\n                p.setName(name[nextInt]);\r\n                p.setLocation(nextInt);\r\n                HashSet&lt;MyAddress&gt; set = new HashSet&lt;&gt;();\r\n                MyAddress myAddress = new MyAddress();\r\n                myAddress.setCity(city[nextInt]);\r\n                myAddress.setPassenger(p);\r\n                set.add(myAddress);\r\n                p.setMyAddresses(set);\r\n                p.getMyAddresses().add(myAddress);\r\n                passengerService.saveOne(p);\r\n            }\r\n            List&lt;Passenger&gt; allPassengers = passengerService.findPassengers();\r\n            Assertions.assertEquals(allPassengers.size(), 200);\r\n            allPassengers.forEach(x -&gt; Assertions.assertNotEquals(0, x.getMyAddresses().size()));\r\n        }\r\n\r\nBut then I truncate my tables and change the loop from **200** to **2**\r\n\r\n    @Test\r\n    public void test1() throws CloneNotSupportedException {\r\n        String[] name = new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\r\n        String[] city = new String[]{&quot;Alexander City&quot;, &quot;Andalusia&quot;,  &quot;Anniston&quot;,&quot;Athens&quot;, &quot;Atmore&quot;, &quot;Auburn&quot;,&quot;Bessemer&quot;, &quot;Birmingham&quot;, &quot;Chickasaw&quot;, &quot;Clanton&quot;, &quot;Cullman&quot;, &quot;Decatur&quot;, &quot;Demopolis&quot;, &quot;Dothan&quot;, &quot;Enterprise&quot;, &quot;Eufaula&quot;, &quot;Florence&quot;, &quot;Fort Payne&quot;, &quot;Gadsden&quot;, &quot;Greenville&quot;, &quot;Guntersville&quot;, &quot;Huntsville&quot;, &quot;Jasper&quot;, &quot;Marion&quot;, &quot;Mobile&quot;, &quot;Montgomery&quot;};\r\n        Passenger passenger = new Passenger();\r\n        Random random = new Random();\r\n        for(int i=0;i&lt;2;i++){\r\n            Passenger p = passenger.clone();\r\n            int nextInt = random.nextInt(26);\r\n            p.setName(name[nextInt]);\r\n            p.setLocation(nextInt);\r\n            HashSet&lt;MyAddress&gt; set = new HashSet&lt;&gt;();\r\n            MyAddress myAddress = new MyAddress();\r\n            myAddress.setCity(city[nextInt]);\r\n            myAddress.setPassenger(p);\r\n            set.add(myAddress);\r\n            p.setMyAddresses(set);\r\n            p.getMyAddresses().add(myAddress);\r\n            passengerService.saveOne(p);\r\n        }\r\n        List&lt;Passenger&gt; allPassengers = passengerService.findPassengers();\r\n        Assertions.assertEquals(allPassengers.size(), 2);\r\n        allPassengers.forEach(x -&gt; Assertions.assertNotEquals(0, x.getMyAddresses().size()));\r\n    }\r\n\r\nI receive the below information:\r\n\r\n        2022-01-01 18:04:56.028  INFO 12452 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-01-01 18:04:56.645  INFO 12452 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-01-01 18:04:56.745  INFO 12452 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\r\n    2022-01-01 18:04:59.216  INFO 12452 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-01-01 18:04:59.231  INFO 12452 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-01-01 18:05:02.813  WARN 12452 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-01-01 18:05:04.350  INFO 12452 --- [           main] com.zjw.jpareview.PassengerTest          : Started PassengerTest in 14.188 seconds (JVM running for 17.218)\r\n    Hibernate: insert into tbl_pass (ploc, pname) values (?, ?)\r\n    Hibernate: insert into tbl_pass (ploc, pname) values (?, ?)\r\n    Hibernate: select passenger0_.pid as pid1_2_, passenger0_.ploc as ploc2_2_, passenger0_.pname as pname3_2_ from tbl_pass passenger0_\r\n    Hibernate: insert into tbl_add (city, pid) values (?, ?)\r\n    Hibernate: insert into tbl_add (city, pid) values (?, ?)\r\n    \r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :0\r\n    Actual   :2\r\n    &lt;Click to see difference&gt;\r\n    \tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\r\n    \tat org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\r\n    \tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:150)\r\n    \tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:145)\r\n    \tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:527)\r\n    \tat com.zjw.jpareview.PassengerTest.test1(PassengerTest.java:81)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)    \r\n    2022-01-01 18:05:04.691  INFO 12452 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-01-01 18:05:04.691  INFO 12452 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-01-01 18:05:04.738  WARN 12452 --- [yTaskExecutor-2] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@15b49e1a marked as broken because of SQLSTATE(08S01), ErrorCode(0)\r\n    \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet successfully received from the server was 69 milliseconds ago. The last packet sent successfully to the server was 69 milliseconds ago.\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) [HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:784) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:752) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]\r\n    \tat com.sun.proxy.$Proxy107.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat com.sun.proxy.$Proxy115.save(Unknown Source) ~[na:na]\r\n    \tat com.zjw.jpareview.service.PassengerService.saveOne(PassengerService.java:60) ~[classes/:na]\r\n    \tat com.zjw.jpareview.service.PassengerService$$FastClassBySpringCGLIB$$7e1892a3.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:276) ~[spring-aop-5.3.14.jar:5.3.14]\r\n    \tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604) ~[na:1.8.0_302]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_302]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_302]\r\n    \tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_302]\r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    \r\n    The last packet successfully received from the server was 69 milliseconds ago. The last packet sent successfully to the server was 69 milliseconds ago.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_302]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_302]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_302]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_302]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:520) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:700) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:639) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:987) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.NativeSession.execSQL(NativeSession.java:666) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:930) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \t... 96 common frames omitted\r\n    Caused by: javax.net.ssl.SSLException: Socket closed\r\n    \tat sun.security.ssl.Alert.createSSLException(Alert.java:127) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:324) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:267) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.TransportContext.fatal(TransportContext.java:262) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1563) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:973) ~[na:1.8.0_302]\r\n    \tat java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:1.8.0_302]\r\n    \tat com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \tat com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:514) ~[mysql-connector-java-8.0.27.jar:8.0.27]\r\n    \t... 101 common frames omitted\r\n    Caused by: java.net.SocketException: Socket closed\r\n    \tat java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_302]\r\n    \tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[na:1.8.0_302]\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:171) ~[na:1.8.0_302]\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1341) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketImpl.access$300(SSLSocketImpl.java:73) ~[na:1.8.0_302]\r\n    \tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:957) ~[na:1.8.0_302]\r\n    \t... 111 common frames omitted\r\n    \r\n    2022-01-01 18:05:04.738  WARN 12452 --- [yTaskExecutor-1] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@43e37fbe marked as broken because of SQLSTATE(08S01), ErrorCode(0)\r\nI saw those SQL statements, which are expected, but why did they get rollbacked? and how come 200 works but 2 not working? Appreciate it if anyone can help me understand it.","title":"Spring Data JPA Save method not working as expected with threadpool got exception","body":"<p>I have a simple POJO entity class Passenger with a set of Addresses. The below is Passenger class and Address class</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;tbl_pass&quot;)\npublic class Passenger implements Serializable, Cloneable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;pid&quot;)\n    private int pid;\n\n    @Column(name = &quot;pname&quot;)\n    private String name;\n\n    @Column(name = &quot;ploc&quot;)\n    private int location;\n\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;passenger&quot;, orphanRemoval = true)\n    private Set&lt;TripOrder&gt; orders;\n\n\n    @OneToMany(mappedBy = &quot;passenger&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private Set&lt;MyAddress&gt; myAddresses;\n\n\n    @Override\n    public Passenger clone() throws CloneNotSupportedException {\n        Passenger clone = (Passenger) super.clone();\n        return clone;\n    }\n\n\n    @Override\n    public String toString() {\n        return this.getPid() + &quot; &quot; + this.getName();\n    }\n}\n</code></pre>\n<p>The below is the MyAddress class:</p>\n<pre><code>@Entity\n@Table(name = &quot;tbl_add&quot;)\n@Getter\n@Setter\npublic class MyAddress implements Serializable, Cloneable {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;city&quot;)\n    private String City;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;pid&quot;)\n    private Passenger passenger;\n}\n</code></pre>\n<p>The below is my Service layer, the save() method is just inherited from interface CrudRepository</p>\n<pre><code>@Transactional\n@Async(value = &quot;myTaskExecutor&quot;)\npublic CompletableFuture&lt;Passenger&gt; saveOne(Passenger passenger){\n    Passenger save = passengerRepository.save(passenger);\n    return CompletableFuture.completedFuture(save);\n}\n</code></pre>\n<p>and my threadpool:</p>\n<pre><code>@Configuration\npublic class ExecutorConfig {\n\n    @Bean\n    public ThreadPoolTaskExecutor myTaskExecutor(){\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(20);\n        taskExecutor.setQueueCapacity(10);\n        taskExecutor.setMaxPoolSize(40);\n        taskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n\n}\n</code></pre>\n<p>I passed the below test method successfully:</p>\n<pre><code>    @Test\n    public void test1() throws CloneNotSupportedException {\n        String[] name = new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\n        String[] city = new String[]{&quot;Alexander City&quot;, &quot;Andalusia&quot;,  &quot;Anniston&quot;,&quot;Athens&quot;, &quot;Atmore&quot;, &quot;Auburn&quot;,&quot;Bessemer&quot;, &quot;Birmingham&quot;, &quot;Chickasaw&quot;, &quot;Clanton&quot;, &quot;Cullman&quot;, &quot;Decatur&quot;, &quot;Demopolis&quot;, &quot;Dothan&quot;, &quot;Enterprise&quot;, &quot;Eufaula&quot;, &quot;Florence&quot;, &quot;Fort Payne&quot;, &quot;Gadsden&quot;, &quot;Greenville&quot;, &quot;Guntersville&quot;, &quot;Huntsville&quot;, &quot;Jasper&quot;, &quot;Marion&quot;, &quot;Mobile&quot;, &quot;Montgomery&quot;};\n        Passenger passenger = new Passenger();\n        Random random = new Random();\n        for(int i=0;i&lt;200;i++){\n            Passenger p = passenger.clone();\n            int nextInt = random.nextInt(26);\n            p.setName(name[nextInt]);\n            p.setLocation(nextInt);\n            HashSet&lt;MyAddress&gt; set = new HashSet&lt;&gt;();\n            MyAddress myAddress = new MyAddress();\n            myAddress.setCity(city[nextInt]);\n            myAddress.setPassenger(p);\n            set.add(myAddress);\n            p.setMyAddresses(set);\n            p.getMyAddresses().add(myAddress);\n            passengerService.saveOne(p);\n        }\n        List&lt;Passenger&gt; allPassengers = passengerService.findPassengers();\n        Assertions.assertEquals(allPassengers.size(), 200);\n        allPassengers.forEach(x -&gt; Assertions.assertNotEquals(0, x.getMyAddresses().size()));\n    }\n</code></pre>\n<p>But then I truncate my tables and change the loop from <strong>200</strong> to <strong>2</strong></p>\n<pre><code>@Test\npublic void test1() throws CloneNotSupportedException {\n    String[] name = new String[]{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\n    String[] city = new String[]{&quot;Alexander City&quot;, &quot;Andalusia&quot;,  &quot;Anniston&quot;,&quot;Athens&quot;, &quot;Atmore&quot;, &quot;Auburn&quot;,&quot;Bessemer&quot;, &quot;Birmingham&quot;, &quot;Chickasaw&quot;, &quot;Clanton&quot;, &quot;Cullman&quot;, &quot;Decatur&quot;, &quot;Demopolis&quot;, &quot;Dothan&quot;, &quot;Enterprise&quot;, &quot;Eufaula&quot;, &quot;Florence&quot;, &quot;Fort Payne&quot;, &quot;Gadsden&quot;, &quot;Greenville&quot;, &quot;Guntersville&quot;, &quot;Huntsville&quot;, &quot;Jasper&quot;, &quot;Marion&quot;, &quot;Mobile&quot;, &quot;Montgomery&quot;};\n    Passenger passenger = new Passenger();\n    Random random = new Random();\n    for(int i=0;i&lt;2;i++){\n        Passenger p = passenger.clone();\n        int nextInt = random.nextInt(26);\n        p.setName(name[nextInt]);\n        p.setLocation(nextInt);\n        HashSet&lt;MyAddress&gt; set = new HashSet&lt;&gt;();\n        MyAddress myAddress = new MyAddress();\n        myAddress.setCity(city[nextInt]);\n        myAddress.setPassenger(p);\n        set.add(myAddress);\n        p.setMyAddresses(set);\n        p.getMyAddresses().add(myAddress);\n        passengerService.saveOne(p);\n    }\n    List&lt;Passenger&gt; allPassengers = passengerService.findPassengers();\n    Assertions.assertEquals(allPassengers.size(), 2);\n    allPassengers.forEach(x -&gt; Assertions.assertNotEquals(0, x.getMyAddresses().size()));\n}\n</code></pre>\n<p>I receive the below information:</p>\n<pre><code>    2022-01-01 18:04:56.028  INFO 12452 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-01-01 18:04:56.645  INFO 12452 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-01-01 18:04:56.745  INFO 12452 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\n2022-01-01 18:04:59.216  INFO 12452 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-01-01 18:04:59.231  INFO 12452 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-01-01 18:05:02.813  WARN 12452 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-01-01 18:05:04.350  INFO 12452 --- [           main] com.zjw.jpareview.PassengerTest          : Started PassengerTest in 14.188 seconds (JVM running for 17.218)\nHibernate: insert into tbl_pass (ploc, pname) values (?, ?)\nHibernate: insert into tbl_pass (ploc, pname) values (?, ?)\nHibernate: select passenger0_.pid as pid1_2_, passenger0_.ploc as ploc2_2_, passenger0_.pname as pname3_2_ from tbl_pass passenger0_\nHibernate: insert into tbl_add (city, pid) values (?, ?)\nHibernate: insert into tbl_add (city, pid) values (?, ?)\n\norg.opentest4j.AssertionFailedError: \nExpected :0\nActual   :2\n&lt;Click to see difference&gt;\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\n    at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:150)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:145)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:527)\n    at com.zjw.jpareview.PassengerTest.test1(PassengerTest.java:81)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)    \n2022-01-01 18:05:04.691  INFO 12452 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-01-01 18:05:04.691  INFO 12452 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-01-01 18:05:04.738  WARN 12452 --- [yTaskExecutor-2] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@15b49e1a marked as broken because of SQLSTATE(08S01), ErrorCode(0)\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 69 milliseconds ago. The last packet sent successfully to the server was 69 milliseconds ago.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) [HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:784) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:752) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:510) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:543) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:474) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:459) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:293) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) [hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:760) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:746) ~[hibernate-core-5.6.3.Final.jar:5.6.3.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.14.jar:5.3.14]\n    at com.sun.proxy.$Proxy107.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:624) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.14.jar:5.3.14]\n    at com.sun.proxy.$Proxy115.save(Unknown Source) ~[na:na]\n    at com.zjw.jpareview.service.PassengerService.saveOne(PassengerService.java:60) ~[classes/:na]\n    at com.zjw.jpareview.service.PassengerService$$FastClassBySpringCGLIB$$7e1892a3.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115) ~[spring-aop-5.3.14.jar:5.3.14]\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:276) ~[spring-aop-5.3.14.jar:5.3.14]\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604) ~[na:1.8.0_302]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_302]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_302]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_302]\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 69 milliseconds ago. The last packet sent successfully to the server was 69 milliseconds ago.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_302]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_302]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_302]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_302]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:520) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:700) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:639) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:987) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:666) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:930) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    ... 96 common frames omitted\nCaused by: javax.net.ssl.SSLException: Socket closed\n    at sun.security.ssl.Alert.createSSLException(Alert.java:127) ~[na:1.8.0_302]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:324) ~[na:1.8.0_302]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) ~[na:1.8.0_302]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:262) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1563) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:973) ~[na:1.8.0_302]\n    at java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:1.8.0_302]\n    at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:514) ~[mysql-connector-java-8.0.27.jar:8.0.27]\n    ... 101 common frames omitted\nCaused by: java.net.SocketException: Socket closed\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_302]\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) ~[na:1.8.0_302]\n    at java.net.SocketInputStream.read(SocketInputStream.java:171) ~[na:1.8.0_302]\n    at java.net.SocketInputStream.read(SocketInputStream.java:141) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1341) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketImpl.access$300(SSLSocketImpl.java:73) ~[na:1.8.0_302]\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:957) ~[na:1.8.0_302]\n    ... 111 common frames omitted\n\n2022-01-01 18:05:04.738  WARN 12452 --- [yTaskExecutor-1] com.zaxxer.hikari.pool.ProxyConnection   : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@43e37fbe marked as broken because of SQLSTATE(08S01), ErrorCode(0)\n</code></pre>\n<p>I saw those SQL statements, which are expected, but why did they get rollbacked? and how come 200 works but 2 not working? Appreciate it if anyone can help me understand it.</p>\n"},{"tags":["java","recursion","stack-overflow","factorial"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1640826620,"post_id":70526512,"comment_id":124670001,"body_markdown":"Did you try debugging?","body":"Did you try debugging?"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":4,"creation_date":1640826748,"post_id":70526512,"comment_id":124670023,"body_markdown":"The range of n is 0 &lt;= n &lt;= 10,000. They don&#39;t want you using recursion to solve this. You&#39;ll also run into overflows, so you probably want to do something clever with math and what trailing zeros represent to solve it.","body":"The range of n is 0 &lt;= n &lt;= 10,000. They don&#39;t want you using recursion to solve this. You&#39;ll also run into overflows, so you probably want to do something clever with math and what trailing zeros represent to solve it."},{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":3,"creation_date":1640826856,"post_id":70526512,"comment_id":124670034,"body_markdown":"A signed integer can hold values up to `2,147,483,648`. `120!` is `6689502913449127057588118054090372586752746333138029810295671352301633557244962989366874165271984981308157637893214090552534408589408121859898481114389650005964960521256960000000000000000000000000000`. You can&#39;t use integers for this, regardless of whether you use recursion or a simple `for` loop.","body":"A signed integer can hold values up to <code>2,147,483,648</code>. <code>120!</code> is <code>668950291344912705758811805409037258675274633313802981029567&zwnj;&#8203;13523016335572449629&zwnj;&#8203;89366874165271984981&zwnj;&#8203;30815763789321409055&zwnj;&#8203;25344085894081218598&zwnj;&#8203;98481114389650005964&zwnj;&#8203;96052125696000000000&zwnj;&#8203;0000000000000000000</code>. You can&#39;t use integers for this, regardless of whether you use recursion or a simple <code>for</code> loop."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1640827530,"post_id":70526512,"comment_id":124670134,"body_markdown":"Why?  Because the number of stack frames (depth of recursion) exceeds the size of the stack your allocated.   You do understand that each recursive call stacks one more frame?","body":"Why?  Because the number of stack frames (depth of recursion) exceeds the size of the stack your allocated.   You do understand that each recursive call stacks one more frame?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":6,"creation_date":1640827657,"post_id":70526512,"comment_id":124670158,"body_markdown":"HINT: You do not need to calculate the actual value of the factorial in order to determine the number of trailing zeroes... ask yourself which multiplication operation(s) cause the addition of another trailing zero.","body":"HINT: You do not need to calculate the actual value of the factorial in order to determine the number of trailing zeroes... ask yourself which multiplication operation(s) cause the addition of another trailing zero."},{"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"score":0,"creation_date":1640884848,"post_id":70526512,"comment_id":124684010,"body_markdown":"@DavidEhrmann, @ meagar, @ Jim Garrison thank you, that was helpful!","body":"@DavidEhrmann, @ meagar, @ Jim Garrison thank you, that was helpful!"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1640885079,"creation_date":1640827922,"answer_id":70526623,"question_id":70526512,"body_markdown":"A properly constructed recursive implementation with the default stack size for the JVM on my machine will work up to at least 9000!  (seems to go to 9119!) before there is a stack overflow.  So the 10000 limit was probably choose explicitly to trigger this issue so you would think of a non-recursive implementation.\r\n\r\nHere I have implemented both a loop and recursion.\r\n\r\n```\r\nimport java.math.BigInteger;\r\n\r\npublic class BigFactorial {\r\n    public static void main(String[] args) {\r\n        printResult(120, factorialLoop(120));\r\n        printResult(120, factorialRecursive(120));\r\n    }\r\n\r\n    static BigInteger factorialLoop(int n) {\r\n        BigInteger f = BigInteger.ONE;\r\n        for (int i = 2; i &lt;= n; i++) {\r\n            f = f.multiply(BigInteger.valueOf(i));\r\n        }\r\n        return f;\r\n    }\r\n    \r\n     static BigInteger factorialRecursive(int n) {\r\n        if (n == 1)\r\n            return BigInteger.ONE;\r\n        return BigInteger.valueOf(n).multiply(factorialRecursive(n-1));\r\n    }\r\n\r\n    static void printResult(int n, BigInteger f) {\r\n        System.out.println(n + &quot;! = &quot; + f);\r\n        String fStr = f.toString();\r\n        int len = fStr.length();\r\n        for (int i = len - 1; i &gt;= 0; i--) {\r\n            if (fStr.charAt(i) != &#39;0&#39;) {\r\n                System.out.println(&quot;There are &quot; + (len - 1 - i) + &quot; trailing zeros.&quot;);\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"why is there a stack overflow error in a recursive solution to finding the factorials of a number?","body":"<p>A properly constructed recursive implementation with the default stack size for the JVM on my machine will work up to at least 9000!  (seems to go to 9119!) before there is a stack overflow.  So the 10000 limit was probably choose explicitly to trigger this issue so you would think of a non-recursive implementation.</p>\n<p>Here I have implemented both a loop and recursion.</p>\n<pre><code>import java.math.BigInteger;\n\npublic class BigFactorial {\n    public static void main(String[] args) {\n        printResult(120, factorialLoop(120));\n        printResult(120, factorialRecursive(120));\n    }\n\n    static BigInteger factorialLoop(int n) {\n        BigInteger f = BigInteger.ONE;\n        for (int i = 2; i &lt;= n; i++) {\n            f = f.multiply(BigInteger.valueOf(i));\n        }\n        return f;\n    }\n    \n     static BigInteger factorialRecursive(int n) {\n        if (n == 1)\n            return BigInteger.ONE;\n        return BigInteger.valueOf(n).multiply(factorialRecursive(n-1));\n    }\n\n    static void printResult(int n, BigInteger f) {\n        System.out.println(n + &quot;! = &quot; + f);\n        String fStr = f.toString();\n        int len = fStr.length();\n        for (int i = len - 1; i &gt;= 0; i--) {\n            if (fStr.charAt(i) != '0') {\n                System.out.println(&quot;There are &quot; + (len - 1 - i) + &quot; trailing zeros.&quot;);\n                break;\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17433563"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640828718,"creation_date":1640828718,"answer_id":70526680,"question_id":70526512,"body_markdown":"The reason you get a *stack overflow error*, is because you use recursion when you calculate the factorial with `findFactorial`. Change it to use a loop instead of recursion, as shown here [Find factorial of large numbers in Java](https://stackoverflow.com/questions/11446973/find-factorial-of-large-numbers-in-java). Thus your method `findFactorial` becomes:\r\n\r\n```\r\nBigInteger findFactorial(int n) {\r\n    BigInteger fact = BigInteger.valueOf(1);\r\n    for (int i = 2; i &lt;= n; i++)\r\n        fact = fact.multiply(BigInteger.valueOf(i));\r\n    return fact;\r\n}\r\n```\r\n\r\nThen in your method that calls `findFactorial` change the lines:\r\n\r\n```\r\nint fact = findFactorial(n);\r\nString ansString = Integer.toString(fact);\r\n```\r\n\r\nto\r\n\r\n```\r\nBigInteger fact = findFactorial(n);\r\nString ansString = BigInteger.toString(fact);\r\n```","title":"why is there a stack overflow error in a recursive solution to finding the factorials of a number?","body":"<p>The reason you get a <em>stack overflow error</em>, is because you use recursion when you calculate the factorial with <code>findFactorial</code>. Change it to use a loop instead of recursion, as shown here <a href=\"https://stackoverflow.com/questions/11446973/find-factorial-of-large-numbers-in-java\">Find factorial of large numbers in Java</a>. Thus your method <code>findFactorial</code> becomes:</p>\n<pre><code>BigInteger findFactorial(int n) {\n    BigInteger fact = BigInteger.valueOf(1);\n    for (int i = 2; i &lt;= n; i++)\n        fact = fact.multiply(BigInteger.valueOf(i));\n    return fact;\n}\n</code></pre>\n<p>Then in your method that calls <code>findFactorial</code> change the lines:</p>\n<pre><code>int fact = findFactorial(n);\nString ansString = Integer.toString(fact);\n</code></pre>\n<p>to</p>\n<pre><code>BigInteger fact = findFactorial(n);\nString ansString = BigInteger.toString(fact);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640833589,"creation_date":1640833589,"answer_id":70527047,"question_id":70526512,"body_markdown":"Here&#39;s a simple way using for loops,   \r\n\r\nChange the value of `your_number` to any number before running this code.  \r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n        \t    String factorial = findFactorial(new BigInteger(&quot;your_number&quot;)).toString();\r\n                char[] factorialArray = factorial.toCharArray();\r\n                int numberOfZeros = 0;\r\n        \r\n                for (int i = factorialArray.length - 1; i &gt;= 0; i--) {\r\n                    if(factorialArray[i] == &#39;0&#39;) {\r\n                        numberOfZeros++;\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n        \r\n                System.out.println(numberOfZeros);\r\n            }\r\n        \r\n            static BigInteger fact = new BigInteger(&quot;1&quot;);\r\n        \r\n            static BigInteger findFactorial(BigInteger integer) {\r\n                for (int i = 1; i &lt;= integer.intValueExact(); i++) {\r\n                    fact = fact.multiply(BigInteger.valueOf(i));\r\n                }\r\n        \r\n                return fact;\r\n            }\r\n\r\n","title":"why is there a stack overflow error in a recursive solution to finding the factorials of a number?","body":"<p>Here's a simple way using for loops,</p>\n<p>Change the value of <code>your_number</code> to any number before running this code.</p>\n<pre><code>public static void main(String[] args) {\n            String factorial = findFactorial(new BigInteger(&quot;your_number&quot;)).toString();\n            char[] factorialArray = factorial.toCharArray();\n            int numberOfZeros = 0;\n    \n            for (int i = factorialArray.length - 1; i &gt;= 0; i--) {\n                if(factorialArray[i] == '0') {\n                    numberOfZeros++;\n                }\n                else {\n                    break;\n                }\n            }\n    \n            System.out.println(numberOfZeros);\n        }\n    \n        static BigInteger fact = new BigInteger(&quot;1&quot;);\n    \n        static BigInteger findFactorial(BigInteger integer) {\n            for (int i = 1; i &lt;= integer.intValueExact(); i++) {\n                fact = fact.multiply(BigInteger.valueOf(i));\n            }\n    \n            return fact;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641079604,"creation_date":1640836009,"answer_id":70527269,"question_id":70526512,"body_markdown":"You said:\r\n\r\n&gt; Given an integer n, return the number of trailing zeroes in n!\r\n&gt;\r\n&gt;Constraints:\r\n&gt;\r\n&gt; - 0 &lt;= n &lt;= 10&lt;sup&gt;4&lt;/sup&gt;\r\n\r\nFirst, your solution won&#39;t work because an `int` can&#39;t hold that large a number. \r\nYou need to use `BigInteger` as shown below.\r\n\r\nThe following recursive form will compute &lt;b&gt;10&lt;sup&gt;4&lt;/sup&gt;!&lt;/b&gt; without much noticeable delay.\r\n```\r\npublic static BigInteger factorial(int n) {\r\n\t if (n == 1 || n == 0) {\r\n\t\t return BigInteger.ONE;\r\n\t }\r\n\t return factorial(n-1).multiply(BigInteger.valueOf(n));\r\n}\r\nString fact = factorial(1000).toString();\r\nSystem.out.println(fact.replaceAll(&quot;\\\\d+?(0*)$&quot;, &quot;$1&quot;).length());\r\n```\r\nprints\r\n```\r\n249\r\n```\r\nBut you don&#39;t need to compute the factorial to solve the actual problem. Consider the following.\r\n\r\nThe product of all the numbers from `1 to N` must have divisors of 10 (i.e. 2 and 5).  5 will occur the least number of times so that is where you need to focus.  The number of trailing zeros is equal to the number of times that `10 divides N`.  And since `5` may divide a given term more than once (e.g. 25, and 125) you need to update the divisor as well.\r\n```\r\nint n = 1000; // factorial candidate\r\nint sum = 0;\r\nint k;\r\nfor (int d = 5; (k = n/d) &gt; 0; d*=5) {\r\n\t   sum += k;\r\n}\r\nSystem.out.printf(&quot;%d! has %d trailing zeros&quot;, n, sum);\r\n```\r\nprints\r\n```\r\n1000! has 249 trailing zeros\r\n```\r\nAnd here is the recursive solution (although not as efficient).\r\n```\r\npublic static int trailingZeros (int n) {\r\n\tif (n &gt; 0) {\r\n\t\treturn trailingZeros(n/5) + n/5;\r\n\t}\r\n\treturn 0;\r\n}","title":"why is there a stack overflow error in a recursive solution to finding the factorials of a number?","body":"<p>You said:</p>\n<blockquote>\n<p>Given an integer n, return the number of trailing zeroes in n!</p>\n<p>Constraints:</p>\n<ul>\n<li>0 &lt;= n &lt;= 10<sup>4</sup></li>\n</ul>\n</blockquote>\n<p>First, your solution won't work because an <code>int</code> can't hold that large a number.\nYou need to use <code>BigInteger</code> as shown below.</p>\n<p>The following recursive form will compute <b>10<sup>4</sup>!</b> without much noticeable delay.</p>\n<pre><code>public static BigInteger factorial(int n) {\n     if (n == 1 || n == 0) {\n         return BigInteger.ONE;\n     }\n     return factorial(n-1).multiply(BigInteger.valueOf(n));\n}\nString fact = factorial(1000).toString();\nSystem.out.println(fact.replaceAll(&quot;\\\\d+?(0*)$&quot;, &quot;$1&quot;).length());\n</code></pre>\n<p>prints</p>\n<pre><code>249\n</code></pre>\n<p>But you don't need to compute the factorial to solve the actual problem. Consider the following.</p>\n<p>The product of all the numbers from <code>1 to N</code> must have divisors of 10 (i.e. 2 and 5).  5 will occur the least number of times so that is where you need to focus.  The number of trailing zeros is equal to the number of times that <code>10 divides N</code>.  And since <code>5</code> may divide a given term more than once (e.g. 25, and 125) you need to update the divisor as well.</p>\n<pre><code>int n = 1000; // factorial candidate\nint sum = 0;\nint k;\nfor (int d = 5; (k = n/d) &gt; 0; d*=5) {\n       sum += k;\n}\nSystem.out.printf(&quot;%d! has %d trailing zeros&quot;, n, sum);\n</code></pre>\n<p>prints</p>\n<pre><code>1000! has 249 trailing zeros\n</code></pre>\n<p>And here is the recursive solution (although not as efficient).</p>\n<pre><code>public static int trailingZeros (int n) {\n    if (n &gt; 0) {\n        return trailingZeros(n/5) + n/5;\n    }\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70527269,"answer_count":4,"score":-2,"last_activity_date":1641079604,"creation_date":1640826447,"question_id":70526512,"body_markdown":"I&#39;m solving [LeetCode #172](https://leetcode.com/problems/factorial-trailing-zeroes/):\r\n\r\n&gt; Given an integer n, return the number of trailing zeroes in n!\r\n&gt;\r\n&gt; Constraints:\r\n&gt;\r\n&gt; * &lt;code&gt;0 &lt;= n &lt;= 10&lt;sup&gt;4&lt;/sup&gt;&lt;/code&gt;\r\n\r\nMy code finds the answer of n! first and then counts the number of trailing zeroes. However, running the code throws a stack overflow exception, and I can&#39;t for the life of me figure out why.\r\n\r\nThis is the code:\r\n\r\n    class Solution {\r\n        public int trailingZeroes(int n){ \r\n            int fact = findFactorial(n);   // 120\r\n            int ans = 0;\r\n            \r\n            // how many zeroes does fact have? \r\n            String ansString = Integer.toString(fact);\r\n        \r\n            // edge - if string is only one character long\r\n            if (ansString.length()==1) {\r\n              return 0;  \r\n            } \r\n            \r\n            // loop from the end counting the continuous zeroes\r\n            for (int i= ansString.length()-1 ; i &gt; 0; i--){\r\n                Character cha = ansString.charAt(i);\r\n                \r\n                if (cha.equals(&#39;0&#39;)) {\r\n                    ans++;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            return ans;\r\n        }\r\n        \r\n        public int findFactorial(int n){\r\n            // base case\r\n            if (n==1) return 1;\r\n            \r\n            // reduct towards base case\r\n            else {\r\n                int f = n * findFactorial(n-1);\r\n                return f;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n","title":"why is there a stack overflow error in a recursive solution to finding the factorials of a number?","body":"<p>I'm solving <a href=\"https://leetcode.com/problems/factorial-trailing-zeroes/\" rel=\"nofollow noreferrer\">LeetCode #172</a>:</p>\n<blockquote>\n<p>Given an integer n, return the number of trailing zeroes in n!</p>\n<p>Constraints:</p>\n<ul>\n<li><code>0 &lt;= n &lt;= 10<sup>4</sup></code></li>\n</ul>\n</blockquote>\n<p>My code finds the answer of n! first and then counts the number of trailing zeroes. However, running the code throws a stack overflow exception, and I can't for the life of me figure out why.</p>\n<p>This is the code:</p>\n<pre><code>class Solution {\n    public int trailingZeroes(int n){ \n        int fact = findFactorial(n);   // 120\n        int ans = 0;\n        \n        // how many zeroes does fact have? \n        String ansString = Integer.toString(fact);\n    \n        // edge - if string is only one character long\n        if (ansString.length()==1) {\n          return 0;  \n        } \n        \n        // loop from the end counting the continuous zeroes\n        for (int i= ansString.length()-1 ; i &gt; 0; i--){\n            Character cha = ansString.charAt(i);\n            \n            if (cha.equals('0')) {\n                ans++;\n            }\n            else {\n                break;\n            }\n        }\n        \n        return ans;\n    }\n    \n    public int findFactorial(int n){\n        // base case\n        if (n==1) return 1;\n        \n        // reduct towards base case\n        else {\n            int f = n * findFactorial(n-1);\n            return f;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jquery","spring-boot","pagination","thymeleaf"],"owner":{"account_id":17765013,"reputation":15,"user_id":12900140,"display_name":"Cirrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641078957,"creation_date":1641078957,"question_id":70552558,"body_markdown":"I&#39;m trying to only display 9 elements in my page from my list. \r\n\r\nThe next page I want to be able to display the next elements of the list.\r\nI&#39;ve been trying to figure out but I have no clue how to do it.\r\n\r\nHere is my code\r\n\r\nHtml\r\n\r\n    div class=&quot;row-first&quot;&gt;\r\n      &lt;div class=&quot;row-section&quot; th:with=&quot;var=${9}&quot; th:with=&quot;page=${1}&quot;&gt;  \r\n        &lt;div class=&quot;column&quot;  th:each=&quot;shoes,iterStat : ${shoesList}&quot;   th:if=&quot;${iterStat.index} &lt; ${var}&quot;&gt;\r\n        \r\n\r\nThis code manages to show only 9 elements in my page, but i want to use the variable &quot;var&quot; to change the index of my list depending on the number of my page\r\n\r\n\r\nJavascript\r\n\r\n     $(function () {\r\n\t  var pageElements = /*[[${var}]]*/ 9;\r\n      window.pagObj = $(&#39;#pagination&#39;).twbsPagination({\r\n          totalPages: 35,\r\n          visiblePages: 3,\r\n          first: false,\r\n          last: false,\r\n          prev:&quot;&amp;#10094;&quot;,\r\n          next: &quot;&amp;#10095;&quot;,\r\n          prevClass: &quot;previous&quot;,\r\n          nextClass:&quot;nextpage&quot;,\r\n     \r\n          \r\n          onPageClick: function (event, page) {\r\n              console.info(page + &#39; (from options)&#39;);\r\n             \r\n          }\r\n      }).on(&#39;page&#39;, function (event, page) {\r\n          console.info(page + &#39; (from event listening)&#39;);\r\n          pageElements = pageElements * page;\r\n          console.info(pageElements);\r\n      });\r\n\r\n\r\nIm using this library for pagination:\r\nhttps://esimakin.github.io/twbs-pagination/#options-and-events \r\n\r\n  ","title":"How to only show 9 elements in each page thymeleaf","body":"<p>I'm trying to only display 9 elements in my page from my list.</p>\n<p>The next page I want to be able to display the next elements of the list.\nI've been trying to figure out but I have no clue how to do it.</p>\n<p>Here is my code</p>\n<p>Html</p>\n<pre><code>div class=&quot;row-first&quot;&gt;\n  &lt;div class=&quot;row-section&quot; th:with=&quot;var=${9}&quot; th:with=&quot;page=${1}&quot;&gt;  \n    &lt;div class=&quot;column&quot;  th:each=&quot;shoes,iterStat : ${shoesList}&quot;   th:if=&quot;${iterStat.index} &lt; ${var}&quot;&gt;\n    \n</code></pre>\n<p>This code manages to show only 9 elements in my page, but i want to use the variable &quot;var&quot; to change the index of my list depending on the number of my page</p>\n<p>Javascript</p>\n<pre><code> $(function () {\n  var pageElements = /*[[${var}]]*/ 9;\n  window.pagObj = $('#pagination').twbsPagination({\n      totalPages: 35,\n      visiblePages: 3,\n      first: false,\n      last: false,\n      prev:&quot;&amp;#10094;&quot;,\n      next: &quot;&amp;#10095;&quot;,\n      prevClass: &quot;previous&quot;,\n      nextClass:&quot;nextpage&quot;,\n \n      \n      onPageClick: function (event, page) {\n          console.info(page + ' (from options)');\n         \n      }\n  }).on('page', function (event, page) {\n      console.info(page + ' (from event listening)');\n      pageElements = pageElements * page;\n      console.info(pageElements);\n  });\n</code></pre>\n<p>Im using this library for pagination:\n<a href=\"https://esimakin.github.io/twbs-pagination/#options-and-events\" rel=\"nofollow noreferrer\">https://esimakin.github.io/twbs-pagination/#options-and-events</a></p>\n"},{"tags":["java","spring-boot","maven","mariadb"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1641042150,"post_id":70548812,"comment_id":124710796,"body_markdown":"Do any of the answers to this question help: https://stackoverflow.com/questions/7759170/mysql-table-doesnt-exist-but-it-does-or-it-should ?","body":"Do any of the answers to this question help: <a href=\"https://stackoverflow.com/questions/7759170/mysql-table-doesnt-exist-but-it-does-or-it-should\" title=\"mysql table doesnt exist but it does or it should\">stackoverflow.com/questions/7759170/&hellip;</a> ?"},{"owner":{"account_id":4904225,"reputation":61,"user_id":3951406,"display_name":"Abhi D."},"score":0,"creation_date":1641058018,"post_id":70548812,"comment_id":124713732,"body_markdown":"No, none of the thing suggested in that post solved my issue","body":"No, none of the thing suggested in that post solved my issue"}],"answers":[{"tags":[],"owner":{"account_id":2253135,"reputation":215,"user_id":1984943,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641078824,"creation_date":1641078824,"answer_id":70552545,"question_id":70548812,"body_markdown":"MariaDB is case-sensitive for table names by default. From your screenshot it looks like your query is trying to access `STRESS.STRESSRESULT` instead of `stress.stressresult`.\r\n\r\nThere is an option to lower-case all table names by default:\r\n\r\nTry putting this in your config:\r\n\r\n```\r\n[mariadb]\r\nlower_case_table_names=1\r\n```\r\n\r\nThat should fix your issue.\r\n\r\nDetailed info about this parameter can be found here:\r\nhttps://mariadb.com/kb/en/server-system-variables/#lower_case_table_names","title":"Database error with Java Spring boot Project","body":"<p>MariaDB is case-sensitive for table names by default. From your screenshot it looks like your query is trying to access <code>STRESS.STRESSRESULT</code> instead of <code>stress.stressresult</code>.</p>\n<p>There is an option to lower-case all table names by default:</p>\n<p>Try putting this in your config:</p>\n<pre><code>[mariadb]\nlower_case_table_names=1\n</code></pre>\n<p>That should fix your issue.</p>\n<p>Detailed info about this parameter can be found here:\n<a href=\"https://mariadb.com/kb/en/server-system-variables/#lower_case_table_names\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/server-system-variables/#lower_case_table_names</a></p>\n"}],"owner":{"account_id":4904225,"reputation":61,"user_id":3951406,"display_name":"Abhi D."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70552545,"answer_count":1,"score":0,"last_activity_date":1641078824,"creation_date":1641039296,"question_id":70548812,"body_markdown":"I am trying to run a Java Spring Boot survey project (Maven Architecture) in my local machine by following steps --\r\n\r\n 1. mvn clean package\r\n 2. connect to created jar file&lt;br&gt;\r\n \r\n\r\n&gt; java -jar target/filename.jar\r\n\r\n 3. Open browser and browse to localhost:8080\r\n\r\nProject is running ok, I can input survey data, but I am getting following error while trying to show result data from database --\r\n[![Database error][1]][1]\r\n\r\n\r\nAlthough I have found that the table &quot;stressresult&quot; already exist in database --\r\n[![Table with data][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PCrpw.png\r\n  [2]: https://i.stack.imgur.com/3nUXY.png\r\n\r\nWhat&#39;s wrong here? Can anybody kindly help?\r\n\r\n**Local Machine** --&gt;&lt;br&gt;\r\nOS: Debian 11.x 64-bit&lt;br&gt;\r\nDatabase: MariaDB 10.6.5&lt;br&gt;\r\nWeb server: nginx&lt;br&gt;\r\nJava: Oracle JDK 17&lt;br&gt;","title":"Database error with Java Spring boot Project","body":"<p>I am trying to run a Java Spring Boot survey project (Maven Architecture) in my local machine by following steps --</p>\n<ol>\n<li>mvn clean package</li>\n<li>connect to created jar file<br></li>\n</ol>\n<blockquote>\n<p>java -jar target/filename.jar</p>\n</blockquote>\n<ol start=\"3\">\n<li>Open browser and browse to localhost:8080</li>\n</ol>\n<p>Project is running ok, I can input survey data, but I am getting following error while trying to show result data from database --\n<a href=\"https://i.stack.imgur.com/PCrpw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PCrpw.png\" alt=\"Database error\" /></a></p>\n<p>Although I have found that the table &quot;stressresult&quot; already exist in database --\n<a href=\"https://i.stack.imgur.com/3nUXY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3nUXY.png\" alt=\"Table with data\" /></a></p>\n<p>What's wrong here? Can anybody kindly help?</p>\n<p><strong>Local Machine</strong> --&gt;<br>\nOS: Debian 11.x 64-bit<br>\nDatabase: MariaDB 10.6.5<br>\nWeb server: nginx<br>\nJava: Oracle JDK 17<br></p>\n"},{"tags":["java","mariadb"],"answers":[{"tags":[],"owner":{"account_id":2253135,"reputation":215,"user_id":1984943,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641078428,"creation_date":1641078428,"answer_id":70552512,"question_id":70548549,"body_markdown":"There is no user-defined/composite types support in MariaDB or MySQL:\r\n\r\nhttps://mariadb.com/kb/en/does-mariadb-support-user-defined-types-udts/\r\n\r\nSQL Server or PostgreSQL would be a better fit for that.","title":"How to make Row data type in MariaDB","body":"<p>There is no user-defined/composite types support in MariaDB or MySQL:</p>\n<p><a href=\"https://mariadb.com/kb/en/does-mariadb-support-user-defined-types-udts/\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/does-mariadb-support-user-defined-types-udts/</a></p>\n<p>SQL Server or PostgreSQL would be a better fit for that.</p>\n"}],"owner":{"account_id":23798455,"reputation":3,"user_id":17808999,"display_name":"GregorS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70552512,"answer_count":1,"score":0,"last_activity_date":1641078428,"creation_date":1641036269,"question_id":70548549,"body_markdown":"I would like to use [SQLData][1] (something like that) to store some data. But I cant find suitable statment to create that thing. Currently tried using\r\n```\r\nCREATE ROW TYPE `myType` (`name` VARCHAR(16) NOT NULL, `id` BIGINT(10) NOT NULL);\r\n```\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/informix-servers/12.10?topic=interface-sqldata-examples","title":"How to make Row data type in MariaDB","body":"<p>I would like to use <a href=\"https://www.ibm.com/docs/en/informix-servers/12.10?topic=interface-sqldata-examples\" rel=\"nofollow noreferrer\">SQLData</a> (something like that) to store some data. But I cant find suitable statment to create that thing. Currently tried using</p>\n<pre><code>CREATE ROW TYPE `myType` (`name` VARCHAR(16) NOT NULL, `id` BIGINT(10) NOT NULL);\n</code></pre>\n"},{"tags":["java","android-studio","editor","documentation"],"answers":[{"tags":[],"owner":{"account_id":10493557,"reputation":742,"user_id":7734566,"display_name":"5ec20ab0"},"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1600171005,"creation_date":1535041497,"answer_id":51990330,"question_id":51989093,"body_markdown":"Note: as of AS 3.6.2 (or, maybe, even earlier) this is irrelevant and does not answer the question.\r\n\r\n*Answer for older Android Studio versions:*\r\n\r\nYou Must Download Documentation for Android SDK from SDK Manager\r\n\r\n![screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m1g0Y.png","title":"No reference documentation in Android Studio","body":"<p>Note: as of AS 3.6.2 (or, maybe, even earlier) this is irrelevant and does not answer the question.</p>\n<p><em>Answer for older Android Studio versions:</em></p>\n<p>You Must Download Documentation for Android SDK from SDK Manager</p>\n<p><img src=\"https://i.stack.imgur.com/m1g0Y.png\" alt=\"screenshot\" /></p>\n"},{"tags":[],"owner":{"account_id":4591218,"reputation":580,"user_id":3724453,"display_name":"Baracus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1605213066,"creation_date":1605208558,"answer_id":64810354,"question_id":51989093,"body_markdown":"In Android Studio 4.1.1, I solved the problem by installing the Android SDK platform for my compile build version. In my case, that was Android 10.0 (API Level 29).\r\n\r\n 1. Open **File &gt; Settings** to open the Settings window.\r\n 2. Go to **Appearance &amp; Behavior &gt; System Settings &gt; Android SDK**.\r\n 3. Select your target build in the SDK Platforms tab (for example, Android 10.0).\r\n 4. Click **OK** to install the SDK platform.\r\n\r\nOnce it is done installing, check whether the documentation popups are back.\r\n\r\nP.S. The target build is the `compileSdkVersion` setting in the `build.gradle` file.","title":"No reference documentation in Android Studio","body":"<p>In Android Studio 4.1.1, I solved the problem by installing the Android SDK platform for my compile build version. In my case, that was Android 10.0 (API Level 29).</p>\n<ol>\n<li>Open <strong>File &gt; Settings</strong> to open the Settings window.</li>\n<li>Go to <strong>Appearance &amp; Behavior &gt; System Settings &gt; Android SDK</strong>.</li>\n<li>Select your target build in the SDK Platforms tab (for example, Android 10.0).</li>\n<li>Click <strong>OK</strong> to install the SDK platform.</li>\n</ol>\n<p>Once it is done installing, check whether the documentation popups are back.</p>\n<p>P.S. The target build is the <code>compileSdkVersion</code> setting in the <code>build.gradle</code> file.</p>\n"},{"tags":[],"owner":{"account_id":16985420,"reputation":81,"user_id":12286321,"display_name":"Amani Arman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1605398834,"creation_date":1605398834,"answer_id":64839972,"question_id":51989093,"body_markdown":"This is a solution that works for me on Android Studio 4.0. It&#39;s a bit hacky and relies on making Android Studio realize that it is missing the source files for the current SDK you are on. This is what I did: \r\n\r\nWarning: it is hacky and might seem illogical but it worked!\r\n \r\nCreate a HashMap (for Kotlin users search the docs, you can probably follow)\r\n``Map&lt;String, String&gt; testMap = new  HashMap&lt;&gt;(); `` Then add any random thing to the Hashmap: ``testMap.put(&quot;test&quot;, &quot;test&quot;);``\r\n\r\nNow the important part.\r\nPut your cursor on the ``put()`` method that you just call above, go to definition by holding ``ctrl + b`` or ``cmd+b for mac users``. It should then ask you if you want to decompile the byte code and just click &quot;decide later.&quot; When it opens up, you should see at the top, a sentence that says something like &quot;Cannot find source for Android API: xx(depending on what version your compile sdk is set to in build.gradle(app))&quot; there will also be an option to download the source or refresh(if you&#39;ve already downloaded). Obviously download, it should then bring a popup called SDK Quick-fix and should download the source. After that is done, you can click refresh and after a few minutes (it&#39;ll take a while) you should have your docs restored! \r\n\r\nHope it works out!","title":"No reference documentation in Android Studio","body":"<p>This is a solution that works for me on Android Studio 4.0. It's a bit hacky and relies on making Android Studio realize that it is missing the source files for the current SDK you are on. This is what I did:</p>\n<p>Warning: it is hacky and might seem illogical but it worked!</p>\n<p>Create a HashMap (for Kotlin users search the docs, you can probably follow)\n<code>Map&lt;String, String&gt; testMap = new  HashMap&lt;&gt;(); </code> Then add any random thing to the Hashmap: <code>testMap.put(&quot;test&quot;, &quot;test&quot;);</code></p>\n<p>Now the important part.\nPut your cursor on the <code>put()</code> method that you just call above, go to definition by holding <code>ctrl + b</code> or <code>cmd+b for mac users</code>. It should then ask you if you want to decompile the byte code and just click &quot;decide later.&quot; When it opens up, you should see at the top, a sentence that says something like &quot;Cannot find source for Android API: xx(depending on what version your compile sdk is set to in build.gradle(app))&quot; there will also be an option to download the source or refresh(if you've already downloaded). Obviously download, it should then bring a popup called SDK Quick-fix and should download the source. After that is done, you can click refresh and after a few minutes (it'll take a while) you should have your docs restored!</p>\n<p>Hope it works out!</p>\n"},{"tags":[],"owner":{"account_id":15108696,"reputation":518,"user_id":10971802,"display_name":"Jaineel Mamtora"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605464071,"creation_date":1605464071,"answer_id":64848076,"question_id":51989093,"body_markdown":"For all those using Android 4.1.1 or higher, I found this bug in API Level 30. Maybe it would be solved in the future.\r\n\r\nFirstly make sure, you have installed the latest and stable Android SDK available. (Currently API Level 29).\r\n\r\nFor now, in build.gradle(app), I changed:\r\n\r\n    android {\r\n      compileSdkVersion 30\r\n      // other code\r\n    \r\n      defaultConfig {\r\n        targetSdkVersion 30\r\n        // other code\r\n      }\r\n    }\r\n\r\nto:\r\n\r\n    android {\r\n      compileSdkVersion 29\r\n      // other code\r\n    \r\n      defaultConfig {\r\n        targetSdkVersion 29\r\n        // other code\r\n      }\r\n    }\r\n\r\n\r\nThe documentation will work now. \r\nHope this works!","title":"No reference documentation in Android Studio","body":"<p>For all those using Android 4.1.1 or higher, I found this bug in API Level 30. Maybe it would be solved in the future.</p>\n<p>Firstly make sure, you have installed the latest and stable Android SDK available. (Currently API Level 29).</p>\n<p>For now, in build.gradle(app), I changed:</p>\n<pre><code>android {\n  compileSdkVersion 30\n  // other code\n\n  defaultConfig {\n    targetSdkVersion 30\n    // other code\n  }\n}\n</code></pre>\n<p>to:</p>\n<pre><code>android {\n  compileSdkVersion 29\n  // other code\n\n  defaultConfig {\n    targetSdkVersion 29\n    // other code\n  }\n}\n</code></pre>\n<p>The documentation will work now.\nHope this works!</p>\n"},{"tags":[],"owner":{"account_id":20094084,"reputation":321,"user_id":14733963,"display_name":"Cyn45"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1606727799,"creation_date":1606727799,"answer_id":65070770,"question_id":51989093,"body_markdown":"So for me the solution in Android Studio 4.1.1 was that I forgot to download the sources for SDK 30.\r\n\r\n1. Go to **Tools** &gt; **SDK Manager** \r\n2. Check **Show Package Details** \r\n3. See if **Sources for Android 30** is checked","title":"No reference documentation in Android Studio","body":"<p>So for me the solution in Android Studio 4.1.1 was that I forgot to download the sources for SDK 30.</p>\n<ol>\n<li>Go to <strong>Tools</strong> &gt; <strong>SDK Manager</strong></li>\n<li>Check <strong>Show Package Details</strong></li>\n<li>See if <strong>Sources for Android 30</strong> is checked</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18290093,"reputation":61,"user_id":13317090,"display_name":"Tor Brick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641078269,"creation_date":1641078269,"answer_id":70552504,"question_id":51989093,"body_markdown":"I had a hard time (AGAIN) finding the &quot;Show Package Details&quot; check box, so I included a picture.\r\n\r\nYou need to download the sources for the SDK version you are targeting.\r\n\r\n 1. Appearance &amp; Behavior &gt; System Setting &gt; Android SDK (Or shift+shift\r\n    &quot;SDK manager&quot;)\r\n    \r\n    \r\n 2. On the &quot;SDK Platforms&quot; tab, check the &quot;Show Package Details&quot; box in\r\n    the lower right hand corner.\r\n    \r\n    \r\n 3. Check the box for the Android version you are targeting, hit &quot;OK&quot; to\r\n    download.\r\n\r\n[Android SDK Settings &quot;Show Package Details&quot; highlighted][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lnqn1.png","title":"No reference documentation in Android Studio","body":"<p>I had a hard time (AGAIN) finding the &quot;Show Package Details&quot; check box, so I included a picture.</p>\n<p>You need to download the sources for the SDK version you are targeting.</p>\n<ol>\n<li><p>Appearance &amp; Behavior &gt; System Setting &gt; Android SDK (Or shift+shift\n&quot;SDK manager&quot;)</p>\n</li>\n<li><p>On the &quot;SDK Platforms&quot; tab, check the &quot;Show Package Details&quot; box in\nthe lower right hand corner.</p>\n</li>\n<li><p>Check the box for the Android version you are targeting, hit &quot;OK&quot; to\ndownload.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Lnqn1.png\" rel=\"nofollow noreferrer\">Android SDK Settings &quot;Show Package Details&quot; highlighted</a></p>\n"}],"owner":{"account_id":10982382,"reputation":1530,"user_id":8069085,"display_name":"j3App"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7111,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":51990330,"answer_count":6,"score":34,"last_activity_date":1641078269,"creation_date":1535037420,"question_id":51989093,"body_markdown":"A new problem just popped up yesterday. When I hover over a method or press Ctrl-Q, I used to get documentation info for that particular method.\r\n\r\nBut now I just get (pressing Ctrl-Q on `SharedPreferences.getLong()`):\r\n\r\n    Following external urls were checked:\r\n                http://developer.android.com/reference/android/content/SharedPreferences.html#getLong-java.lang.String-long-\r\n                http://developer.android.com/reference/android/content/SharedPreferences.html#getLong(java.lang.String, long) \r\n            \r\n        The documentation for this element is not found. Please add all the needed paths to API docs in Project Settings.\r\n            android.content.SharedPreferences\r\n            public abstract long getLong(String s, long l)\r\n\r\nI googled a lot, but couldn&#39;t find an answer.\r\nWhich paths do I need to add and where?","title":"No reference documentation in Android Studio","body":"<p>A new problem just popped up yesterday. When I hover over a method or press Ctrl-Q, I used to get documentation info for that particular method.</p>\n\n<p>But now I just get (pressing Ctrl-Q on <code>SharedPreferences.getLong()</code>):</p>\n\n<pre><code>Following external urls were checked:\n            http://developer.android.com/reference/android/content/SharedPreferences.html#getLong-java.lang.String-long-\n            http://developer.android.com/reference/android/content/SharedPreferences.html#getLong(java.lang.String, long) \n\n    The documentation for this element is not found. Please add all the needed paths to API docs in Project Settings.\n        android.content.SharedPreferences\n        public abstract long getLong(String s, long l)\n</code></pre>\n\n<p>I googled a lot, but couldn't find an answer.\nWhich paths do I need to add and where?</p>\n"},{"tags":["java","android","youtube","exoplayer"],"comments":[{"owner":{"account_id":1308536,"reputation":2467,"user_id":2123586,"accept_rate":67,"display_name":"Zsolt Boldizsar"},"score":2,"creation_date":1434451707,"post_id":29607104,"comment_id":49772439,"body_markdown":"Have you managed to generate the DASH url?","body":"Have you managed to generate the DASH url?"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":2,"creation_date":1513081610,"post_id":29607104,"comment_id":82506017,"body_markdown":"Is there any valid way to generate DASH url from video ID","body":"Is there any valid way to generate DASH url from video ID"},{"owner":{"account_id":1750961,"reputation":13745,"user_id":1600058,"accept_rate":47,"display_name":"Amit Prajapati"},"score":0,"creation_date":1545211504,"post_id":29607104,"comment_id":94543686,"body_markdown":"@SuryaPrakashKushawah But i thing youtube not allow to extract video, unofficial solution.","body":"@SuryaPrakashKushawah But i thing youtube not allow to extract video, unofficial solution."}],"answers":[{"tags":[],"owner":{"account_id":4064027,"reputation":109,"user_id":3339673,"display_name":"GAG&#39;sB"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1433628592,"creation_date":1433627308,"answer_id":30687907,"question_id":29607104,"body_markdown":"You will have to get the HTTP response from the youtube URL (in your case real URL) and then search for the section &quot;url_encoded_fmt_stream_map&quot;. In that section you will get a URI which needs to be decoded twice to get the DASH URL you are looking for. ","title":"How to play Youtube video in ExoPlayer in Android?","body":"<p>You will have to get the HTTP response from the youtube URL (in your case real URL) and then search for the section \"url_encoded_fmt_stream_map\". In that section you will get a URI which needs to be decoded twice to get the DASH URL you are looking for. </p>\n"},{"tags":[],"owner":{"account_id":5048402,"reputation":706,"user_id":4053677,"display_name":"Karim Abdell Salam"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1547898942,"creation_date":1438198451,"answer_id":31709557,"question_id":29607104,"body_markdown":"I had the same issue but i finally found the simplest solution and its working so good \r\n\r\n 1. First you need to call this url..\r\n\r\n    HTTP GET: https://www.youtube.com/get_video_info?&amp;video_id=[video_id]&amp;el=info&amp;ps=default&amp;eurl=&amp;gl=US&amp;hl=en\r\n \r\nand don&#39;t forget to change the last id with the target one.\r\n\r\n\r\n 2. now you will get notice to download a file called get_video_info with no extesion.  \r\n 3. try to open this file using notepad and so.  \r\n 4. Now you have the right data but you can&#39;t read it because its encoded \r\n You need HTML decoder to reed this data use this one:\r\nhttp://meyerweb.com/eric/tools/dencoder/\r\n\r\n-just paste your data and press decode a several times to ensure it decoded well \r\n\r\nfinally search for a key called dashmpd \r\nand enjoy ur URL\r\n----------------------------------------------\r\nOr use this Simple Solution \r\n\r\n    private void extractYoutubeUrl() {\r\n        @SuppressLint(&quot;StaticFieldLeak&quot;) YouTubeExtractor mExtractor = new YouTubeExtractor(this) {\r\n            @Override\r\n            protected void onExtractionComplete(SparseArray&lt;YtFile&gt; sparseArray, VideoMeta videoMeta) {\r\n                if (sparseArray != null) {\r\n                    playVideo(sparseArray.get(17).getUrl());\r\n                }\r\n            }\r\n        };\r\n        mExtractor.extract(mYoutubeLink, true, true);\r\n\r\n-------------\r\n    implementation &#39;com.github.HaarigerHarald:android-youtubeExtractor:v1.7.0&#39;\r\n","title":"How to play Youtube video in ExoPlayer in Android?","body":"<p>I had the same issue but i finally found the simplest solution and its working so good </p>\n\n<ol>\n<li><p>First you need to call this url..</p>\n\n<p>HTTP GET: <a href=\"https://www.youtube.com/get_video_info?&amp;video_id=[video_id]&amp;el=info&amp;ps=default&amp;eurl=&amp;gl=US&amp;hl=en\" rel=\"nofollow noreferrer\">https://www.youtube.com/get_video_info?&amp;video_id=[video_id]&amp;el=info&amp;ps=default&amp;eurl=&amp;gl=US&amp;hl=en</a></p></li>\n</ol>\n\n<p>and don't forget to change the last id with the target one.</p>\n\n<ol start=\"2\">\n<li>now you will get notice to download a file called get_video_info with no extesion.  </li>\n<li>try to open this file using notepad and so.  </li>\n<li>Now you have the right data but you can't read it because its encoded \nYou need HTML decoder to reed this data use this one:\n<a href=\"http://meyerweb.com/eric/tools/dencoder/\" rel=\"nofollow noreferrer\">http://meyerweb.com/eric/tools/dencoder/</a></li>\n</ol>\n\n<p>-just paste your data and press decode a several times to ensure it decoded well </p>\n\n<p>finally search for a key called dashmpd </p>\n\n<h2>and enjoy ur URL</h2>\n\n<p>Or use this Simple Solution </p>\n\n<pre><code>private void extractYoutubeUrl() {\n    @SuppressLint(\"StaticFieldLeak\") YouTubeExtractor mExtractor = new YouTubeExtractor(this) {\n        @Override\n        protected void onExtractionComplete(SparseArray&lt;YtFile&gt; sparseArray, VideoMeta videoMeta) {\n            if (sparseArray != null) {\n                playVideo(sparseArray.get(17).getUrl());\n            }\n        }\n    };\n    mExtractor.extract(mYoutubeLink, true, true);\n</code></pre>\n\n<hr>\n\n<pre><code>implementation 'com.github.HaarigerHarald:android-youtubeExtractor:v1.7.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138234,"reputation":772,"user_id":343029,"accept_rate":80,"display_name":"MARK002-MAB"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1505415116,"creation_date":1487162668,"answer_id":42249798,"question_id":29607104,"body_markdown":"I&#39;ve written a class that retrieves actual YouTube video streaming URL for format like DASH and HLS using [ http://www.youtube.com/get_video_info?&amp;video_id=[video_id]&amp;el=info&amp;ps=default&amp;eurl=&amp;gl=US&amp;hl=en][1] url with video ID as described by [Karim Abdell Salam][2]. I have also tested the URL in an app that uses [ExoPlayer][3] and it works:\r\n\r\n    import java.io.BufferedInputStream;\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.io.OutputStream;\r\n\timport java.io.UnsupportedEncodingException;\r\n\timport java.net.HttpURLConnection;\r\n\timport java.net.MalformedURLException;\r\n\timport java.net.ProtocolException;\r\n\timport java.net.URL;\r\n\timport java.net.URLDecoder;\r\n\timport java.util.Map;\r\n\timport java.util.TreeMap;\r\n\r\n\t/**\r\n\t * Represents youtube video information retriever.\r\n\t */\r\n\tpublic class YouTubeVideoInfoRetriever\r\n\t{\r\n\t\tprivate static final String URL_YOUTUBE_GET_VIDEO_INFO = &quot;http://www.youtube.com/get_video_info?&amp;video_id=&quot;;\r\n\r\n\t\tpublic static final String KEY_DASH_VIDEO = &quot;dashmpd&quot;;\r\n\t\tpublic static final String KEY_HLS_VIDEO = &quot;hlsvp&quot;;\r\n\r\n\t\tprivate TreeMap&lt;String, String&gt; kvpList = new TreeMap&lt;&gt;();\r\n\r\n\t\tpublic void retrieve(String videoId) throws IOException\r\n\t\t{\r\n\t\t\tString targetUrl = URL_YOUTUBE_GET_VIDEO_INFO + videoId+&quot;&amp;el=info&amp;ps=default&amp;eurl=&amp;gl=US&amp;hl=en&quot;;\r\n\t\t\tSimpleHttpClient client = new SimpleHttpClient();\r\n\t\t\tString output = client.execute(targetUrl, SimpleHttpClient.HTTP_GET, SimpleHttpClient.DEFAULT_TIMEOUT);\r\n\t\t\tparse(output);\r\n\t\t}\r\n\r\n\t\tpublic String getInfo(String key)\r\n\t\t{\r\n\t\t\treturn kvpList.get(key);\r\n\t\t}\r\n\r\n\t\tpublic void printAll()\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;TOTAL VARIABLES=&quot; + kvpList.size());\r\n\r\n\t\t\tfor(Map.Entry&lt;String, String&gt; entry : kvpList.entrySet())\r\n\t\t\t{\r\n\t\t\t\tSystem.out.print( &quot;&quot; + entry.getKey() + &quot;=&quot;);\r\n\t\t\t\tSystem.out.println(&quot;&quot; + entry.getValue() + &quot;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void parse(String data) throws UnsupportedEncodingException\r\n\t\t{\r\n\t\t\tString[] splits = data.split(&quot;&amp;&quot;);\r\n\t\t\tString kvpStr = &quot;&quot;;\r\n\r\n\t\t\tif(splits.length &lt; 1)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tkvpList.clear();\r\n\r\n\t\t\tfor(int i = 0; i &lt; splits.length; ++i)\r\n\t\t\t{\r\n\t\t\t\tkvpStr = splits[i];\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\t// Data is encoded multiple times\r\n\t\t\t\t\tkvpStr = URLDecoder.decode(kvpStr, SimpleHttpClient.ENCODING_UTF_8);\r\n\t\t\t\t\tkvpStr = URLDecoder.decode(kvpStr, SimpleHttpClient.ENCODING_UTF_8);\r\n\r\n\t\t\t\t\tString[] kvpSplits = kvpStr.split(&quot;=&quot;, 2);\r\n\r\n\t\t\t\t\tif(kvpSplits.length == 2)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkvpList.put(kvpSplits[0], kvpSplits[1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(kvpSplits.length == 1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkvpList.put(kvpSplits[0], &quot;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (UnsupportedEncodingException ex)\r\n\t\t\t\t{\r\n\t\t\t\t\tthrow ex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static class SimpleHttpClient\r\n\t\t{\r\n\t\t\tpublic static final String ENCODING_UTF_8 = &quot;UTF-8&quot;;\r\n\t\t\tpublic static final int DEFAULT_TIMEOUT = 10000;\r\n\r\n\t\t\tpublic static final String HTTP_GET = &quot;GET&quot;;\r\n\r\n\t\t\tpublic String execute(String urlStr, String httpMethod, int timeout) throws IOException\r\n\t\t\t{\r\n\t\t\t\tURL url = null;\r\n\t\t\t\tHttpURLConnection conn = null;\r\n\t\t\t\tInputStream inStream = null;\r\n\t\t\t\tOutputStream outStream = null;\r\n\t\t\t\tString response = null;\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\turl = new URL(urlStr);\r\n\t\t\t\t\tconn = (HttpURLConnection) url.openConnection();\r\n\t\t\t\t\tconn.setConnectTimeout(timeout);\r\n\t\t\t\t\tconn.setRequestMethod(httpMethod);\r\n\r\n\t\t\t\t\tinStream = new BufferedInputStream(conn.getInputStream());\r\n\t\t\t\t\tresponse = getInput(inStream);\r\n\t\t\t\t}\r\n\t\t\t\tfinally\r\n\t\t\t\t{\r\n\t\t\t\t\tif(conn != null &amp;&amp; conn.getErrorStream() != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tString errorResponse = &quot; : &quot;;\r\n\t\t\t\t\t\terrorResponse = errorResponse + getInput(conn.getErrorStream());\r\n\t\t\t\t\t\tresponse = response + errorResponse;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (conn != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconn.disconnect();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn response;\r\n\t\t\t}\r\n\r\n\t\t\tprivate String getInput(InputStream in) throws IOException\r\n\t\t\t{\r\n\t\t\t\tStringBuilder sb = new StringBuilder(8192);\r\n\t\t\t\tbyte[] b = new byte[1024];\r\n\t\t\t\tint bytesRead = 0;\r\n\r\n\t\t\t\twhile (true)\r\n\t\t\t\t{\r\n\t\t\t\t\tbytesRead = in.read(b);\r\n\t\t\t\t\tif (bytesRead &lt; 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString s = new String(b, 0, bytesRead, ENCODING_UTF_8);\r\n\t\t\t\t\tsb.append(s);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn sb.toString();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\nHere is the test code:\r\n\r\n    public static void main(String[] args)\r\n\t{\r\n\t\tString youTubeVideoID = &quot;v1uyQZNg2vE&quot;;\r\n\r\n\t\tYouTubeVideoInfoRetriever retriever = new YouTubeVideoInfoRetriever();\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tretriever.retrieve(youTubeVideoID);\r\n\t\t\tSystem.out.println(retriever.getInfo(YouTubeVideoInfoRetriever.KEY_DASH_VIDEO));\r\n\t\t}\r\n\t\tcatch (IOException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: http://www.youtube.com/get_video_info?&amp;video_id=v1uyQZNg2vE\r\n  [2]: https://stackoverflow.com/a/31709557/343029\r\n  [3]: https://google.github.io/ExoPlayer/","title":"How to play Youtube video in ExoPlayer in Android?","body":"<p>I've written a class that retrieves actual YouTube video streaming URL for format like DASH and HLS using <a href=\"http://www.youtube.com/get_video_info?&amp;video_id=v1uyQZNg2vE\" rel=\"noreferrer\"> http://www.youtube.com/get_video_info?&amp;video_id=[video_id]&amp;el=info&amp;ps=default&amp;eurl=&amp;gl=US&amp;hl=en</a> url with video ID as described by <a href=\"https://stackoverflow.com/a/31709557/343029\">Karim Abdell Salam</a>. I have also tested the URL in an app that uses <a href=\"https://google.github.io/ExoPlayer/\" rel=\"noreferrer\">ExoPlayer</a> and it works:</p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.ProtocolException;\nimport java.net.URL;\nimport java.net.URLDecoder;\nimport java.util.Map;\nimport java.util.TreeMap;\n\n/**\n * Represents youtube video information retriever.\n */\npublic class YouTubeVideoInfoRetriever\n{\n    private static final String URL_YOUTUBE_GET_VIDEO_INFO = \"http://www.youtube.com/get_video_info?&amp;video_id=\";\n\n    public static final String KEY_DASH_VIDEO = \"dashmpd\";\n    public static final String KEY_HLS_VIDEO = \"hlsvp\";\n\n    private TreeMap&lt;String, String&gt; kvpList = new TreeMap&lt;&gt;();\n\n    public void retrieve(String videoId) throws IOException\n    {\n        String targetUrl = URL_YOUTUBE_GET_VIDEO_INFO + videoId+\"&amp;el=info&amp;ps=default&amp;eurl=&amp;gl=US&amp;hl=en\";\n        SimpleHttpClient client = new SimpleHttpClient();\n        String output = client.execute(targetUrl, SimpleHttpClient.HTTP_GET, SimpleHttpClient.DEFAULT_TIMEOUT);\n        parse(output);\n    }\n\n    public String getInfo(String key)\n    {\n        return kvpList.get(key);\n    }\n\n    public void printAll()\n    {\n        System.out.println(\"TOTAL VARIABLES=\" + kvpList.size());\n\n        for(Map.Entry&lt;String, String&gt; entry : kvpList.entrySet())\n        {\n            System.out.print( \"\" + entry.getKey() + \"=\");\n            System.out.println(\"\" + entry.getValue() + \"\");\n        }\n    }\n\n    private void parse(String data) throws UnsupportedEncodingException\n    {\n        String[] splits = data.split(\"&amp;\");\n        String kvpStr = \"\";\n\n        if(splits.length &lt; 1)\n        {\n            return;\n        }\n\n        kvpList.clear();\n\n        for(int i = 0; i &lt; splits.length; ++i)\n        {\n            kvpStr = splits[i];\n\n            try\n            {\n                // Data is encoded multiple times\n                kvpStr = URLDecoder.decode(kvpStr, SimpleHttpClient.ENCODING_UTF_8);\n                kvpStr = URLDecoder.decode(kvpStr, SimpleHttpClient.ENCODING_UTF_8);\n\n                String[] kvpSplits = kvpStr.split(\"=\", 2);\n\n                if(kvpSplits.length == 2)\n                {\n                    kvpList.put(kvpSplits[0], kvpSplits[1]);\n                }\n                else if(kvpSplits.length == 1)\n                {\n                    kvpList.put(kvpSplits[0], \"\");\n                }\n            }\n            catch (UnsupportedEncodingException ex)\n            {\n                throw ex;\n            }\n        }\n    }\n\n    public static class SimpleHttpClient\n    {\n        public static final String ENCODING_UTF_8 = \"UTF-8\";\n        public static final int DEFAULT_TIMEOUT = 10000;\n\n        public static final String HTTP_GET = \"GET\";\n\n        public String execute(String urlStr, String httpMethod, int timeout) throws IOException\n        {\n            URL url = null;\n            HttpURLConnection conn = null;\n            InputStream inStream = null;\n            OutputStream outStream = null;\n            String response = null;\n\n            try\n            {\n                url = new URL(urlStr);\n                conn = (HttpURLConnection) url.openConnection();\n                conn.setConnectTimeout(timeout);\n                conn.setRequestMethod(httpMethod);\n\n                inStream = new BufferedInputStream(conn.getInputStream());\n                response = getInput(inStream);\n            }\n            finally\n            {\n                if(conn != null &amp;&amp; conn.getErrorStream() != null)\n                {\n                    String errorResponse = \" : \";\n                    errorResponse = errorResponse + getInput(conn.getErrorStream());\n                    response = response + errorResponse;\n                }\n\n                if (conn != null)\n                {\n                    conn.disconnect();\n                }\n            }\n\n            return response;\n        }\n\n        private String getInput(InputStream in) throws IOException\n        {\n            StringBuilder sb = new StringBuilder(8192);\n            byte[] b = new byte[1024];\n            int bytesRead = 0;\n\n            while (true)\n            {\n                bytesRead = in.read(b);\n                if (bytesRead &lt; 0)\n                {\n                    break;\n                }\n                String s = new String(b, 0, bytesRead, ENCODING_UTF_8);\n                sb.append(s);\n            }\n\n            return sb.toString();\n        }\n\n    }\n}\n</code></pre>\n\n<p>Here is the test code:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    String youTubeVideoID = \"v1uyQZNg2vE\";\n\n    YouTubeVideoInfoRetriever retriever = new YouTubeVideoInfoRetriever();\n\n    try\n    {\n        retriever.retrieve(youTubeVideoID);\n        System.out.println(retriever.getInfo(YouTubeVideoInfoRetriever.KEY_DASH_VIDEO));\n    }\n    catch (IOException e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7607906,"reputation":2016,"user_id":7297151,"accept_rate":75,"display_name":"sajad abbasi"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1546467392,"creation_date":1546467392,"answer_id":54013887,"question_id":29607104,"body_markdown":"to play youtube video in exoplayer we can use this library\r\n     \r\n    https://github.com/HaarigerHarald/android-youtubeExtractor\r\n\r\nand simply get the url like this and then play in exoplyer\r\n\r\n    String youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\r\n    \r\n    new YouTubeExtractor(this) {\r\n        @Override\r\n        public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\r\n            if (ytFiles != null) {\r\n                int itag = 22;\r\n    \t    String downloadUrl = ytFiles.get(itag).getUrl();\r\n            }\r\n        }\r\n    }.extract(youtubeLink, true, true);","title":"How to play Youtube video in ExoPlayer in Android?","body":"<p>to play youtube video in exoplayer we can use this library</p>\n\n<pre><code>https://github.com/HaarigerHarald/android-youtubeExtractor\n</code></pre>\n\n<p>and simply get the url like this and then play in exoplyer</p>\n\n<pre><code>String youtubeLink = \"http://youtube.com/watch?v=xxxx\";\n\nnew YouTubeExtractor(this) {\n    @Override\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\n        if (ytFiles != null) {\n            int itag = 22;\n        String downloadUrl = ytFiles.get(itag).getUrl();\n        }\n    }\n}.extract(youtubeLink, true, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13882612,"reputation":1495,"user_id":10022587,"display_name":"Hamdy Abd El Fattah"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641077634,"creation_date":1641077634,"answer_id":70552455,"question_id":29607104,"body_markdown":"**That is the library that was used**\r\n\r\n    implementation &#39;com.github.HaarigerHarald:android-youtubeExtractor:master-SNAPSHOT&#39;\r\n\r\n**That is base url add to them video id** \r\n\r\n    val YouTubeBase=&quot;https://www.youtube.com/watch?v=&quot;\r\n**that is library used**\r\n**I will use a loop to get all video quality (420,720,180) because if the video doesn&#39;t contain the 1080 not work with u so that I will loop for all quality** \r\n**but if it found more quality it will choose best quality, u can edit this by rverse array called iTags if u want to get low quality**\r\n\r\n        object : YouTubeExtractor(requireContext()) {\r\n            override fun onExtractionComplete(\r\n                ytFiles: SparseArray&lt;YtFile&gt;?,\r\n                videoMeta: VideoMeta?\r\n            ) {\r\n                if (ytFiles != null) {\r\n\r\n                    val iTag = 137//tag of video 1080\r\n                    val audioTag = 140 //tag m4a audio\r\n                    // 720, 1080, 480\r\n                    var videoUrl = &quot;&quot;\r\n                    val iTags: List&lt;Int&gt; = listOf(22, 137, 18)\r\n                    for (i in iTags) {\r\n                        val ytFile = ytFiles.get(i)\r\n                        if (ytFile != null) {\r\n                            val downloadUrl = ytFile.url\r\n                            if (downloadUrl != null &amp;&amp; downloadUrl.isNotEmpty()) {\r\n                                videoUrl = downloadUrl\r\n                            }\r\n                        }\r\n                    }\r\n                    if (videoUrl == &quot;&quot;)\r\n                        videoUrl = ytFiles[iTag].url\r\n                    val audioUrl = ytFiles[audioTag].url\r\n                    val audioSource: MediaSource = ProgressiveMediaSource\r\n                        .Factory(DefaultHttpDataSource.Factory())\r\n                        .createMediaSource(MediaItem.fromUri(audioUrl))\r\n                    val videoSource: MediaSource = ProgressiveMediaSource\r\n                        .Factory(DefaultHttpDataSource.Factory())\r\n                        .createMediaSource(MediaItem.fromUri(videoUrl))\r\n                    player?.setMediaSource(\r\n                        MergingMediaSource(true, videoSource, audioSource), true\r\n                    )\r\n                }\r\n            }\r\n\r\n        }.extract(youtubeLink)\r\n\r\n**That is my code in the last project i hope to help u in used library with Exo player**\r\n\r\n    package com.hamdy.showtime.ui.ui.video_player\r\n    \r\n    import android.os.Bundle\r\n    import androidx.fragment.app.Fragment\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import com.google.android.exoplayer2.ExoPlayer\r\n    import com.hamdy.showtime.databinding.FragmentVideoPlayerBinding\r\n    import at.huber.youtubeExtractor.VideoMeta\r\n    import at.huber.youtubeExtractor.YtFile\r\n    import android.util.SparseArray\r\n    import at.huber.youtubeExtractor.YouTubeExtractor\r\n    import com.google.android.exoplayer2.MediaItem\r\n    import com.google.android.exoplayer2.Player\r\n    import com.google.android.exoplayer2.source.MediaSource\r\n    import com.google.android.exoplayer2.source.MergingMediaSource\r\n    import com.google.android.exoplayer2.source.ProgressiveMediaSource\r\n    import com.google.android.exoplayer2.upstream.DefaultHttpDataSource\r\n    import com.google.android.exoplayer2.util.Util\r\n    import com.hamdy.showtime.ui.util.YouTubeBase\r\n    \r\n    \r\n    class VideoPlayerFragment : Fragment(), Player.Listener {\r\n        private lateinit var youtubeLink: String\r\n        private lateinit var binding: FragmentVideoPlayerBinding\r\n        var player: ExoPlayer? = null\r\n        private var playWhenReady = true\r\n        private var currentWindow = 0\r\n        private var playbackPosition = 0L\r\n    \r\n        override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View {\r\n            binding = FragmentVideoPlayerBinding.inflate(inflater, container, false)\r\n            return binding.root\r\n        }\r\n    \r\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n            youtubeLink = YouTubeBase + arguments?.get(&quot;url&quot;).toString()\r\n    \r\n            initializePlayer()\r\n    \r\n        }\r\n    \r\n        private fun initializePlayer() {\r\n            player = ExoPlayer.Builder(requireContext()).build()\r\n            binding.videoView.player = player\r\n    \r\n            object : YouTubeExtractor(requireContext()) {\r\n                override fun onExtractionComplete(\r\n                    ytFiles: SparseArray&lt;YtFile&gt;?,\r\n                    videoMeta: VideoMeta?\r\n                ) {\r\n                    if (ytFiles != null) {\r\n    \r\n                        val iTag = 137//tag of video 1080\r\n                        val audioTag = 140 //tag m4a audio\r\n                        // 720, 1080, 480\r\n                        var videoUrl = &quot;&quot;\r\n                        val iTags: List&lt;Int&gt; = listOf(22, 137, 18)\r\n                        for (i in iTags) {\r\n                            val ytFile = ytFiles.get(i)\r\n                            if (ytFile != null) {\r\n                                val downloadUrl = ytFile.url\r\n                                if (downloadUrl != null &amp;&amp; downloadUrl.isNotEmpty()) {\r\n                                    videoUrl = downloadUrl\r\n                                }\r\n                            }\r\n                        }\r\n                        if (videoUrl == &quot;&quot;)\r\n                            videoUrl = ytFiles[iTag].url\r\n                        val audioUrl = ytFiles[audioTag].url\r\n                        val audioSource: MediaSource = ProgressiveMediaSource\r\n                            .Factory(DefaultHttpDataSource.Factory())\r\n                            .createMediaSource(MediaItem.fromUri(audioUrl))\r\n                        val videoSource: MediaSource = ProgressiveMediaSource\r\n                            .Factory(DefaultHttpDataSource.Factory())\r\n                            .createMediaSource(MediaItem.fromUri(videoUrl))\r\n                        player?.setMediaSource(\r\n                            MergingMediaSource(true, videoSource, audioSource), true\r\n                        )\r\n                        player?.prepare()\r\n                        player?.playWhenReady = playWhenReady\r\n                        player?.seekTo(currentWindow, playbackPosition)\r\n                        player?.addListener(this@VideoPlayerFragment)\r\n                    }\r\n                }\r\n    \r\n            }.extract(youtubeLink)\r\n    \r\n        }\r\n    \r\n        override fun onPlayerStateChanged(playWhenReady: Boolean, playbackState: Int) {\r\n            if (playbackState == Player.STATE_READY) {\r\n                binding.progressBar.visibility = View.INVISIBLE\r\n            } else {\r\n                binding.progressBar.visibility = View.VISIBLE\r\n            }\r\n        }\r\n    \r\n    \r\n        override fun onStart() {\r\n            super.onStart()\r\n            if (Util.SDK_INT &gt;= 24 || player == null) {\r\n                initializePlayer()\r\n    \r\n            }\r\n        }\r\n    \r\n        override fun onResume() {\r\n            super.onResume()\r\n            if (Util.SDK_INT &lt; 24 || player == null) {\r\n                initializePlayer()\r\n    \r\n            }\r\n        }\r\n    \r\n        override fun onPause() {\r\n            if (Util.SDK_INT &lt; 24) releasePlayer()\r\n            super.onPause()\r\n        }\r\n    \r\n        private fun releasePlayer() {\r\n            if (player != null) {\r\n                playWhenReady = player!!.playWhenReady\r\n                playbackPosition = player!!.currentPosition\r\n                currentWindow = player!!.currentMediaItemIndex\r\n                player?.release()\r\n                player = null\r\n            }\r\n    \r\n        }\r\n    }\r\n","title":"How to play Youtube video in ExoPlayer in Android?","body":"<p><strong>That is the library that was used</strong></p>\n<pre><code>implementation 'com.github.HaarigerHarald:android-youtubeExtractor:master-SNAPSHOT'\n</code></pre>\n<p><strong>That is base url add to them video id</strong></p>\n<pre><code>val YouTubeBase=&quot;https://www.youtube.com/watch?v=&quot;\n</code></pre>\n<p><strong>that is library used</strong>\n<strong>I will use a loop to get all video quality (420,720,180) because if the video doesn't contain the 1080 not work with u so that I will loop for all quality</strong>\n<strong>but if it found more quality it will choose best quality, u can edit this by rverse array called iTags if u want to get low quality</strong></p>\n<pre><code>    object : YouTubeExtractor(requireContext()) {\n        override fun onExtractionComplete(\n            ytFiles: SparseArray&lt;YtFile&gt;?,\n            videoMeta: VideoMeta?\n        ) {\n            if (ytFiles != null) {\n\n                val iTag = 137//tag of video 1080\n                val audioTag = 140 //tag m4a audio\n                // 720, 1080, 480\n                var videoUrl = &quot;&quot;\n                val iTags: List&lt;Int&gt; = listOf(22, 137, 18)\n                for (i in iTags) {\n                    val ytFile = ytFiles.get(i)\n                    if (ytFile != null) {\n                        val downloadUrl = ytFile.url\n                        if (downloadUrl != null &amp;&amp; downloadUrl.isNotEmpty()) {\n                            videoUrl = downloadUrl\n                        }\n                    }\n                }\n                if (videoUrl == &quot;&quot;)\n                    videoUrl = ytFiles[iTag].url\n                val audioUrl = ytFiles[audioTag].url\n                val audioSource: MediaSource = ProgressiveMediaSource\n                    .Factory(DefaultHttpDataSource.Factory())\n                    .createMediaSource(MediaItem.fromUri(audioUrl))\n                val videoSource: MediaSource = ProgressiveMediaSource\n                    .Factory(DefaultHttpDataSource.Factory())\n                    .createMediaSource(MediaItem.fromUri(videoUrl))\n                player?.setMediaSource(\n                    MergingMediaSource(true, videoSource, audioSource), true\n                )\n            }\n        }\n\n    }.extract(youtubeLink)\n</code></pre>\n<p><strong>That is my code in the last project i hope to help u in used library with Exo player</strong></p>\n<pre><code>package com.hamdy.showtime.ui.ui.video_player\n\nimport android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.google.android.exoplayer2.ExoPlayer\nimport com.hamdy.showtime.databinding.FragmentVideoPlayerBinding\nimport at.huber.youtubeExtractor.VideoMeta\nimport at.huber.youtubeExtractor.YtFile\nimport android.util.SparseArray\nimport at.huber.youtubeExtractor.YouTubeExtractor\nimport com.google.android.exoplayer2.MediaItem\nimport com.google.android.exoplayer2.Player\nimport com.google.android.exoplayer2.source.MediaSource\nimport com.google.android.exoplayer2.source.MergingMediaSource\nimport com.google.android.exoplayer2.source.ProgressiveMediaSource\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSource\nimport com.google.android.exoplayer2.util.Util\nimport com.hamdy.showtime.ui.util.YouTubeBase\n\n\nclass VideoPlayerFragment : Fragment(), Player.Listener {\n    private lateinit var youtubeLink: String\n    private lateinit var binding: FragmentVideoPlayerBinding\n    var player: ExoPlayer? = null\n    private var playWhenReady = true\n    private var currentWindow = 0\n    private var playbackPosition = 0L\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        binding = FragmentVideoPlayerBinding.inflate(inflater, container, false)\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        youtubeLink = YouTubeBase + arguments?.get(&quot;url&quot;).toString()\n\n        initializePlayer()\n\n    }\n\n    private fun initializePlayer() {\n        player = ExoPlayer.Builder(requireContext()).build()\n        binding.videoView.player = player\n\n        object : YouTubeExtractor(requireContext()) {\n            override fun onExtractionComplete(\n                ytFiles: SparseArray&lt;YtFile&gt;?,\n                videoMeta: VideoMeta?\n            ) {\n                if (ytFiles != null) {\n\n                    val iTag = 137//tag of video 1080\n                    val audioTag = 140 //tag m4a audio\n                    // 720, 1080, 480\n                    var videoUrl = &quot;&quot;\n                    val iTags: List&lt;Int&gt; = listOf(22, 137, 18)\n                    for (i in iTags) {\n                        val ytFile = ytFiles.get(i)\n                        if (ytFile != null) {\n                            val downloadUrl = ytFile.url\n                            if (downloadUrl != null &amp;&amp; downloadUrl.isNotEmpty()) {\n                                videoUrl = downloadUrl\n                            }\n                        }\n                    }\n                    if (videoUrl == &quot;&quot;)\n                        videoUrl = ytFiles[iTag].url\n                    val audioUrl = ytFiles[audioTag].url\n                    val audioSource: MediaSource = ProgressiveMediaSource\n                        .Factory(DefaultHttpDataSource.Factory())\n                        .createMediaSource(MediaItem.fromUri(audioUrl))\n                    val videoSource: MediaSource = ProgressiveMediaSource\n                        .Factory(DefaultHttpDataSource.Factory())\n                        .createMediaSource(MediaItem.fromUri(videoUrl))\n                    player?.setMediaSource(\n                        MergingMediaSource(true, videoSource, audioSource), true\n                    )\n                    player?.prepare()\n                    player?.playWhenReady = playWhenReady\n                    player?.seekTo(currentWindow, playbackPosition)\n                    player?.addListener(this@VideoPlayerFragment)\n                }\n            }\n\n        }.extract(youtubeLink)\n\n    }\n\n    override fun onPlayerStateChanged(playWhenReady: Boolean, playbackState: Int) {\n        if (playbackState == Player.STATE_READY) {\n            binding.progressBar.visibility = View.INVISIBLE\n        } else {\n            binding.progressBar.visibility = View.VISIBLE\n        }\n    }\n\n\n    override fun onStart() {\n        super.onStart()\n        if (Util.SDK_INT &gt;= 24 || player == null) {\n            initializePlayer()\n\n        }\n    }\n\n    override fun onResume() {\n        super.onResume()\n        if (Util.SDK_INT &lt; 24 || player == null) {\n            initializePlayer()\n\n        }\n    }\n\n    override fun onPause() {\n        if (Util.SDK_INT &lt; 24) releasePlayer()\n        super.onPause()\n    }\n\n    private fun releasePlayer() {\n        if (player != null) {\n            playWhenReady = player!!.playWhenReady\n            playbackPosition = player!!.currentPosition\n            currentWindow = player!!.currentMediaItemIndex\n            player?.release()\n            player = null\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1750961,"reputation":13745,"user_id":1600058,"accept_rate":47,"display_name":"Amit Prajapati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47332,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"answer_count":5,"score":49,"last_activity_date":1641077634,"creation_date":1428933341,"question_id":29607104,"body_markdown":" I am trying to play youtube video in exoplayer but here is some confusion I don&#39;t know what is DASH url, \r\n I have only real youtube url like &quot;https://www.youtube.com/watch?v=v1uyQZNg2vE&quot; , I have no idea how to generate dash url form real url.\r\n \r\n  Dash Url:\r\n\r\n\tnew Sample(&quot;Google Glass&quot;,\r\n\t        &quot;http://www.youtube.com/api/manifest/dash/id/bf5bb2419360daf1/source/youtube?&quot;\r\n\t        + &quot;as=fmp4_audio_clear,fmp4_sd_hd_clear&amp;sparams=ip,ipbits,expire,as&amp;ip=0.0.0.0&amp;&quot;\r\n\t        + &quot;ipbits=0&amp;expire=19000000000&amp;signature=255F6B3C07C753C88708C07EA31B7A1A10703C8D.&quot;\r\n\t        + &quot;2D6A28B21F921D0B245CDCF36F7EB54A2B5ABFC2&amp;key=ik0&quot;, DemoUtil.TYPE_DASH),\r\n\r\n  Real Url :\r\n\r\n     https://www.youtube.com/watch?v=v1uyQZNg2vE\r\n","title":"How to play Youtube video in ExoPlayer in Android?","body":"<p>I am trying to play youtube video in exoplayer but here is some confusion I don't know what is DASH url, \n I have only real youtube url like \"<a href=\"https://www.youtube.com/watch?v=v1uyQZNg2vE\" rel=\"noreferrer\">https://www.youtube.com/watch?v=v1uyQZNg2vE</a>\" , I have no idea how to generate dash url form real url.</p>\n\n<p>Dash Url:</p>\n\n<pre><code>new Sample(\"Google Glass\",\n        \"http://www.youtube.com/api/manifest/dash/id/bf5bb2419360daf1/source/youtube?\"\n        + \"as=fmp4_audio_clear,fmp4_sd_hd_clear&amp;sparams=ip,ipbits,expire,as&amp;ip=0.0.0.0&amp;\"\n        + \"ipbits=0&amp;expire=19000000000&amp;signature=255F6B3C07C753C88708C07EA31B7A1A10703C8D.\"\n        + \"2D6A28B21F921D0B245CDCF36F7EB54A2B5ABFC2&amp;key=ik0\", DemoUtil.TYPE_DASH),\n</code></pre>\n\n<p>Real Url :</p>\n\n<pre><code> https://www.youtube.com/watch?v=v1uyQZNg2vE\n</code></pre>\n"},{"tags":["java","netbeans","match","criteria"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1414212763,"post_id":26559436,"comment_id":41739514,"body_markdown":"Are you going to use a database?","body":"Are you going to use a database?"},{"owner":{"account_id":5228714,"reputation":1,"user_id":4179864,"display_name":"Dakota Vaughn"},"score":0,"creation_date":1414212907,"post_id":26559436,"comment_id":41739535,"body_markdown":"I assume that would be the best route. I&#39;ve never built a website from scratch I&#39;ll be researching this goal for a while. I just need a good foundation to get me going.","body":"I assume that would be the best route. I&#39;ve never built a website from scratch I&#39;ll be researching this goal for a while. I just need a good foundation to get me going."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1414213111,"post_id":26559436,"comment_id":41739558,"body_markdown":"Are you familiar with `JDBC`? Can you write SQL Queries?","body":"Are you familiar with <code>JDBC</code>? Can you write SQL Queries?"},{"owner":{"account_id":5228714,"reputation":1,"user_id":4179864,"display_name":"Dakota Vaughn"},"score":0,"creation_date":1414213541,"post_id":26559436,"comment_id":41739600,"body_markdown":"I&#39;m familiar with Google haha. I love to research and learn about this stuff because I&#39;m going to school for Computer IT so if you recommend I become more familiar with those then I will.","body":"I&#39;m familiar with Google haha. I love to research and learn about this stuff because I&#39;m going to school for Computer IT so if you recommend I become more familiar with those then I will."},{"owner":{"account_id":5228714,"reputation":1,"user_id":4179864,"display_name":"Dakota Vaughn"},"score":0,"creation_date":1414213740,"post_id":26559436,"comment_id":41739633,"body_markdown":"I took Programming with Java for one semester so I know how to create simple applications and have a good basic understanding. But I&#39;ve never implemented data online or between two users. Just one user responding to questions, options, etc. I really will be starting with almost no knowledge of the deep technical workings of this goal.","body":"I took Programming with Java for one semester so I know how to create simple applications and have a good basic understanding. But I&#39;ve never implemented data online or between two users. Just one user responding to questions, options, etc. I really will be starting with almost no knowledge of the deep technical workings of this goal."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1414214012,"post_id":26559436,"comment_id":41739679,"body_markdown":"Good luck with that. If after just &quot;Intro to Java&quot; you can create a functional dynamic site - you have a really bright future ahead of you.","body":"Good luck with that. If after just &quot;Intro to Java&quot; you can create a functional dynamic site - you have a really bright future ahead of you."},{"owner":{"account_id":5228714,"reputation":1,"user_id":4179864,"display_name":"Dakota Vaughn"},"score":0,"creation_date":1414214856,"post_id":26559436,"comment_id":41739803,"body_markdown":"Yeah, like I said, just looking for the right direction. I have about a year to complete this so I&#39;ll continue researching and asking questions. Thanks for the help.","body":"Yeah, like I said, just looking for the right direction. I have about a year to complete this so I&#39;ll continue researching and asking questions. Thanks for the help."}],"answers":[{"tags":[],"owner":{"account_id":189125,"reputation":771,"user_id":428273,"accept_rate":30,"display_name":"Muton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414224295,"creation_date":1414224295,"answer_id":26560438,"question_id":26559436,"body_markdown":"You would probably want to use a database to store your users and also all possible sets of attributes that can be completed to make a match. Here&#39;s one way of creating such a database with PostgreSQL:\r\n\r\n    create table person (\r\n      id int primary key,\r\n      first_name text not null,\r\n      attributes text[]\r\n    );\r\n\r\n    create table match (\r\n      id int primary key,\r\n      attributes text[] \r\n    );\r\n\r\n    insert into person values (1, &#39;Bob&#39;, array[&#39;A&#39;]);\r\n    insert into person values (2, &#39;Alice&#39;, array[&#39;B&#39;,&#39;D&#39;]);\r\n    insert into person values (3, &#39;Carol&#39;, array[&#39;B&#39;,&#39;C&#39;]);\r\n    insert into person values (4, &#39;Ted&#39;, array[&#39;D&#39;]);\r\n    insert into match values (1, array[&#39;A&#39;,&#39;B&#39;,&#39;D&#39;]);\r\n\r\nI&#39;m using arrays instead junction tables to be less verbose. You can now find all persons that complete set #1 for Alice for example by running the following query:\r\n\r\n    select\r\n      id,\r\n      first_name\r\n    from  \r\n      (select\r\n        p2.id as id,\r\n        p2.first_name as first_name,\r\n        array(      \r\n          select unnest(p1.attributes) union select unnest(p2.attributes)\r\n        ) as match_potential\r\n      from\r\n        person p1\r\n        inner join person p2 on (p1.id = 2 and p2.id &lt;&gt; 2)) as p\r\n    where\r\n      p.match_potential @&gt; (select attributes from match where id = 1);\r\n\r\nBob and Alice are now a match.\r\n\r\nYou would need to do something more sophisticated in the end but something like this should get you started on your website and would allow you to build your first prototype you can use to test your concept.\r\n","title":"Matching Users Based On Info They Have Submitted","body":"<p>You would probably want to use a database to store your users and also all possible sets of attributes that can be completed to make a match. Here's one way of creating such a database with PostgreSQL:</p>\n\n<pre><code>create table person (\n  id int primary key,\n  first_name text not null,\n  attributes text[]\n);\n\ncreate table match (\n  id int primary key,\n  attributes text[] \n);\n\ninsert into person values (1, 'Bob', array['A']);\ninsert into person values (2, 'Alice', array['B','D']);\ninsert into person values (3, 'Carol', array['B','C']);\ninsert into person values (4, 'Ted', array['D']);\ninsert into match values (1, array['A','B','D']);\n</code></pre>\n\n<p>I'm using arrays instead junction tables to be less verbose. You can now find all persons that complete set #1 for Alice for example by running the following query:</p>\n\n<pre><code>select\n  id,\n  first_name\nfrom  \n  (select\n    p2.id as id,\n    p2.first_name as first_name,\n    array(      \n      select unnest(p1.attributes) union select unnest(p2.attributes)\n    ) as match_potential\n  from\n    person p1\n    inner join person p2 on (p1.id = 2 and p2.id &lt;&gt; 2)) as p\nwhere\n  p.match_potential @&gt; (select attributes from match where id = 1);\n</code></pre>\n\n<p>Bob and Alice are now a match.</p>\n\n<p>You would need to do something more sophisticated in the end but something like this should get you started on your website and would allow you to build your first prototype you can use to test your concept.</p>\n"}],"owner":{"account_id":5228714,"reputation":1,"user_id":4179864,"display_name":"Dakota Vaughn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641076945,"creation_date":1414212567,"question_id":26559436,"body_markdown":"Now I know this is a very broad question, and that is why I expect a broad answer. I&#39;m just looking to be steered in the right direction.\r\nSimply put, I am intending to make a website where users can include specific data in their profile and be matched with other users that have entered corresponding data in order to create a &quot;match&quot;.\r\nSimilar to a dating site that matches users based on best &quot;chemistry&quot;. However, this is even simpler than that. I do have coding experience in NetBeans and am constantly expanding my knowledge of website development. \r\n\r\nFor example:\r\n\r\n    101, 102 and 103 = MATCH  \r\n    User A - Data [User lists they have 101]\r\n    User B - Data [User lists they have 102 and 103]\r\n\r\nEither User A or B uses &quot;Find Users Who Complete Your Set&quot; and a table or column lists said users who complete this set.\r\n\r\nSo, if anyone can at least point me in the right direction, that would be greatly appreciated! I have made several website on Webs.com but I don&#39;t believe their tools come with anything similar to filling this need. I intend to program this matching system using Java (likely with NetBeans) and implementing into the website. Thanks guys!!!\r\n","title":"Matching Users Based On Info They Have Submitted","body":"<p>Now I know this is a very broad question, and that is why I expect a broad answer. I'm just looking to be steered in the right direction.\nSimply put, I am intending to make a website where users can include specific data in their profile and be matched with other users that have entered corresponding data in order to create a \"match\".\nSimilar to a dating site that matches users based on best \"chemistry\". However, this is even simpler than that. I do have coding experience in NetBeans and am constantly expanding my knowledge of website development. </p>\n\n<p>For example:</p>\n\n<pre><code>101, 102 and 103 = MATCH  \nUser A - Data [User lists they have 101]\nUser B - Data [User lists they have 102 and 103]\n</code></pre>\n\n<p>Either User A or B uses \"Find Users Who Complete Your Set\" and a table or column lists said users who complete this set.</p>\n\n<p>So, if anyone can at least point me in the right direction, that would be greatly appreciated! I have made several website on Webs.com but I don't believe their tools come with anything similar to filling this need. I intend to program this matching system using Java (likely with NetBeans) and implementing into the website. Thanks guys!!!</p>\n"},{"tags":["java","android","nfc"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640913238,"creation_date":1640893392,"answer_id":70536014,"question_id":70535906,"body_markdown":"**Update 2**\r\n\r\nLooking at the source of the [ndef object][1] the `mNdefMsg` you highlighted is the cached Ndef message that the System Reads before passing you the Tag object\r\n\r\nAs you seem have a custom behaving tag and may be this tag won&#39;t allow you to read the same data twice without going through a disconnect/connect mechanism.\r\n\r\nBased on you debug data I would use `ndef.getCachedNdefMessage()` to read this data you are highlighting but this might not get you want you want.\r\n\r\nSome Background, when the Android NFC service detects a Tag normally it tries to read and Ndef message from it as it might need to parse the Ndef message itself.\r\n\r\nWhen you call `ndef.getNdefMessage()` it actually re-reads the data directly from the Tag and ignores what the System NFC service has previous read.\r\n\r\nI would try enabling `FLAG_READER_SKIP_NDEF_CHECK` to stop the system reading the Ndef Message and using up you one chance to read the custom Tag .\r\n\r\nSo try add that flag e.g.\r\n\r\n``` lang-java\r\n\r\nnfcAdapter.enableReaderMode(this, new NfcAdapter.ReaderCallback() {\r\n                    @Override\r\n                    public void onTagDiscovered(Tag tag) {\r\n                        Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\r\n                        readMessage(tag);\r\n                        tagInRange = true;\r\n                    }\r\n                },\r\n                NfcAdapter.FLAG_READER_NFC_A\r\n                        | NfcAdapter.FLAG_READER_SKIP_NDEF_CHECK\r\n                        | NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS, options);\r\n\r\n```\r\n\r\n**Original**\r\n\r\nI think the problem is your `ndef.close()` is in the wrong place.\r\n\r\nYou should not close the tag unless you never want to communicate with it again.\r\n\r\nAt the moment on the first iteration of the while loop, it does the try block with the `ndef.connect();` and the `finally` is always executed after the code in the preceding try block.\r\n\r\nReally you should only `ndef.close()`  outside the while block.\r\n\r\nAdjusted code (You should also catch the `TagLostException` from `getNdefMessage` )\r\n\r\n``` lang-java\r\nprivate void readMessage(Tag tag) {\r\n    Log.d(&quot;Tag&quot;, &quot;Starting thread&quot;);\r\n    new Thread(() -&gt; {\r\n\r\n        try {\r\n            Thread.sleep(1800);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        final Ndef ndef = Ndef.get(tag);\r\n        Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\r\n    \r\n        try { \r\n          ndef.connect();\r\n        } catch (IOException e) {\r\n                e.printStackTrace();\r\n                tagInRange = false;\r\n                System.out.println(&quot;Failed to Connect&quot;);\r\n        }\r\n\r\n        while (tagInRange) {\r\n\r\n            try {\r\n                msg = ndef.getNdefMessage();\r\n\r\n                Log.d(&quot;Tag&quot;, &quot;Running on UI thread&quot;);\r\n                if (msg == null) {\r\n                    Log.d(&quot;Tag&quot;, String.valueOf(ndef));\r\n                    continue;\r\n                }\r\n                runOnUiThread(() -&gt; {\r\n                    parseMessage(msg);\r\n                    dataElapsedTime += 0.2;\r\n                });\r\n\r\n            } catch (TagLostException | IOException | FormatException e) {\r\n                e.printStackTrace();\r\n                tagInRange = false;\r\n                System.out.println(&quot;Tag Connection Lost&quot;);\r\n            }\r\n        }\r\n\t\t\r\n\t\t// End of while loop try close just on the safe side\r\n\t\t\r\n\t\ttry {\r\n                    ndef.close();\r\n                    Log.d(&quot;tag&quot;, &quot;Tag connection closed successfully&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n    }).start();\r\n\r\n}\r\n```\r\n\r\nNote you might think the raw tag debug output still has an Ndef Message in it, but as you have not disabled `FLAG_READER_SKIP_NDEF_CHECK` then this is probably the cached data for `ndef.getCachedNdefMessage()`\r\n\r\nIf you look at the docs for [ndef.getCachedNdefMessage][2] you will see that it says that it causes no RF activity as this just returns the NDEF message that the System NFC read when it first detected the Tag and passed to you in the Tag Object.\r\n\r\nWhere as `getNdefMessage` cause I/O (RF) activity and reads the **current** Ndef message at time of calling (which might be different to the one the system read previously)\r\n\r\n**Update**\r\n\r\nI seem to remember you cannot call `connect()` multiple times and and the docs say &quot;Only one TagTechnology object can be connected to a Tag at a time. &quot; even though it is the same Tag tech it is probably not the same instance, so in the example I&#39;ve moved connect out of the while loop.\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/android10-release/core/java/android/nfc/tech/Ndef.java#184\r\n  [2]: https://developer.android.com/reference/android/nfc/tech/Ndef#getCachedNdefMessage()","title":"Why does getNdefMessage() returns null even though debugger shows ndef object has a message payload that is supposedly correctly formatted?","body":"<p><strong>Update 2</strong></p>\n<p>Looking at the source of the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/android10-release/core/java/android/nfc/tech/Ndef.java#184\" rel=\"nofollow noreferrer\">ndef object</a> the <code>mNdefMsg</code> you highlighted is the cached Ndef message that the System Reads before passing you the Tag object</p>\n<p>As you seem have a custom behaving tag and may be this tag won't allow you to read the same data twice without going through a disconnect/connect mechanism.</p>\n<p>Based on you debug data I would use <code>ndef.getCachedNdefMessage()</code> to read this data you are highlighting but this might not get you want you want.</p>\n<p>Some Background, when the Android NFC service detects a Tag normally it tries to read and Ndef message from it as it might need to parse the Ndef message itself.</p>\n<p>When you call <code>ndef.getNdefMessage()</code> it actually re-reads the data directly from the Tag and ignores what the System NFC service has previous read.</p>\n<p>I would try enabling <code>FLAG_READER_SKIP_NDEF_CHECK</code> to stop the system reading the Ndef Message and using up you one chance to read the custom Tag .</p>\n<p>So try add that flag e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nnfcAdapter.enableReaderMode(this, new NfcAdapter.ReaderCallback() {\n                    @Override\n                    public void onTagDiscovered(Tag tag) {\n                        Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\n                        readMessage(tag);\n                        tagInRange = true;\n                    }\n                },\n                NfcAdapter.FLAG_READER_NFC_A\n                        | NfcAdapter.FLAG_READER_SKIP_NDEF_CHECK\n                        | NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS, options);\n\n</code></pre>\n<p><strong>Original</strong></p>\n<p>I think the problem is your <code>ndef.close()</code> is in the wrong place.</p>\n<p>You should not close the tag unless you never want to communicate with it again.</p>\n<p>At the moment on the first iteration of the while loop, it does the try block with the <code>ndef.connect();</code> and the <code>finally</code> is always executed after the code in the preceding try block.</p>\n<p>Really you should only <code>ndef.close()</code>  outside the while block.</p>\n<p>Adjusted code (You should also catch the <code>TagLostException</code> from <code>getNdefMessage</code> )</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void readMessage(Tag tag) {\n    Log.d(&quot;Tag&quot;, &quot;Starting thread&quot;);\n    new Thread(() -&gt; {\n\n        try {\n            Thread.sleep(1800);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        final Ndef ndef = Ndef.get(tag);\n        Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\n    \n        try { \n          ndef.connect();\n        } catch (IOException e) {\n                e.printStackTrace();\n                tagInRange = false;\n                System.out.println(&quot;Failed to Connect&quot;);\n        }\n\n        while (tagInRange) {\n\n            try {\n                msg = ndef.getNdefMessage();\n\n                Log.d(&quot;Tag&quot;, &quot;Running on UI thread&quot;);\n                if (msg == null) {\n                    Log.d(&quot;Tag&quot;, String.valueOf(ndef));\n                    continue;\n                }\n                runOnUiThread(() -&gt; {\n                    parseMessage(msg);\n                    dataElapsedTime += 0.2;\n                });\n\n            } catch (TagLostException | IOException | FormatException e) {\n                e.printStackTrace();\n                tagInRange = false;\n                System.out.println(&quot;Tag Connection Lost&quot;);\n            }\n        }\n        \n        // End of while loop try close just on the safe side\n        \n        try {\n                    ndef.close();\n                    Log.d(&quot;tag&quot;, &quot;Tag connection closed successfully&quot;);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n    }).start();\n\n}\n</code></pre>\n<p>Note you might think the raw tag debug output still has an Ndef Message in it, but as you have not disabled <code>FLAG_READER_SKIP_NDEF_CHECK</code> then this is probably the cached data for <code>ndef.getCachedNdefMessage()</code></p>\n<p>If you look at the docs for <a href=\"https://developer.android.com/reference/android/nfc/tech/Ndef#getCachedNdefMessage()\" rel=\"nofollow noreferrer\">ndef.getCachedNdefMessage</a> you will see that it says that it causes no RF activity as this just returns the NDEF message that the System NFC read when it first detected the Tag and passed to you in the Tag Object.</p>\n<p>Where as <code>getNdefMessage</code> cause I/O (RF) activity and reads the <strong>current</strong> Ndef message at time of calling (which might be different to the one the system read previously)</p>\n<p><strong>Update</strong></p>\n<p>I seem to remember you cannot call <code>connect()</code> multiple times and and the docs say &quot;Only one TagTechnology object can be connected to a Tag at a time. &quot; even though it is the same Tag tech it is probably not the same instance, so in the example I've moved connect out of the while loop.</p>\n"},{"tags":[],"owner":{"account_id":5573063,"reputation":189,"user_id":4417581,"accept_rate":55,"display_name":"Aayush Chadha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641076832,"creation_date":1641076832,"answer_id":70552391,"question_id":70535906,"body_markdown":"This issue was finally resolved by understanding the following things:\r\n\r\n1. The mNdefmessage variable in the ndef object corresponds to the cached message and would remain unchanged as long as the same tag instance is connected. I was reading the object wrong and presuming that that is the message I want. Thanks to Andrew for pointing this out!\r\n\r\n2. The null I was receiving was not a result of where the connect/close were called and the android code needed minimal changes from what was initially posted. In the documentation for the function ```getNdefMessage()```, it says, function may return null if tag is initialised stage. This turned out to be the real issue, which was only spotted when I set my tag (NHS3152) to blink an LED when starting up and noticed it was restarting several times after taking a set of readings from a connected resistor which shouldn&#39;t be happening (this also led to a lot of tag lost/null object exceptions).\r\n\r\n3. Since the documentation on this is scanty, the reason the tag was restarting/reset turned out to be its inability to handle voltages over a certain threshold on its output pins when powered by the NFC field only and connected to a load. This led to the strange scenario of everything working just fine when the tag was being read while connected to a debugging board (LPCLink2) or being powered by the NFC but not connected to a load. This was finally addressed by changing the output voltage on the DAC pin.","title":"Why does getNdefMessage() returns null even though debugger shows ndef object has a message payload that is supposedly correctly formatted?","body":"<p>This issue was finally resolved by understanding the following things:</p>\n<ol>\n<li><p>The mNdefmessage variable in the ndef object corresponds to the cached message and would remain unchanged as long as the same tag instance is connected. I was reading the object wrong and presuming that that is the message I want. Thanks to Andrew for pointing this out!</p>\n</li>\n<li><p>The null I was receiving was not a result of where the connect/close were called and the android code needed minimal changes from what was initially posted. In the documentation for the function <code>getNdefMessage()</code>, it says, function may return null if tag is initialised stage. This turned out to be the real issue, which was only spotted when I set my tag (NHS3152) to blink an LED when starting up and noticed it was restarting several times after taking a set of readings from a connected resistor which shouldn't be happening (this also led to a lot of tag lost/null object exceptions).</p>\n</li>\n<li><p>Since the documentation on this is scanty, the reason the tag was restarting/reset turned out to be its inability to handle voltages over a certain threshold on its output pins when powered by the NFC field only and connected to a load. This led to the strange scenario of everything working just fine when the tag was being read while connected to a debugging board (LPCLink2) or being powered by the NFC but not connected to a load. This was finally addressed by changing the output voltage on the DAC pin.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5573063,"reputation":189,"user_id":4417581,"accept_rate":55,"display_name":"Aayush Chadha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70552391,"answer_count":2,"score":0,"last_activity_date":1641076832,"creation_date":1640892531,"question_id":70535906,"body_markdown":"I am trying to continuously poll an NFC tag using an android phone (OnePlus 6T if it&#39;s relevant). When my tag is only powered by NFC, I get null values even though the debugger shows the payload being not null and supposedly correctly formatted (screenshot below).\r\n\r\n**Debugger output when getNdefMessage returns null**\r\n\r\n[![Debugger output when getNdefMessage returns null ][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/NlSIP.jpg\r\n\r\n**Debugger output when the returned value is not null**\r\n\r\n[![Debugger output when the returned value is not null][2]][2]\r\n\r\n  [2]: https://i.stack.imgur.com/gSviJ.jpg\r\n\r\nThe code I am using to poll the tag, based on https://stackoverflow.com/questions/37045486/continuously-detect-an-nfc-tag-on-android and https://stackoverflow.com/questions/69825924/is-it-possible-to-read-an-nfc-tag-from-a-card-without-using-an-intent\r\n\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        if (nfcAdapter != null) {\r\n            if (!nfcAdapter.isEnabled()) {\r\n                Intent intent = new Intent(Settings.ACTION_WIRELESS_SETTINGS);\r\n                startActivity(intent);\r\n            }\r\n\r\n            Bundle options = new Bundle();\r\n\r\n            options.putInt(NfcAdapter.EXTRA_READER_PRESENCE_CHECK_DELAY, 250);\r\n\r\n            nfcAdapter.enableReaderMode(this, new NfcAdapter.ReaderCallback() {\r\n                        @Override\r\n                        public void onTagDiscovered(Tag tag) {\r\n                            Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\r\n                            readMessage(tag);\r\n                            tagInRange = true;\r\n                        }\r\n                    },\r\n                    NfcAdapter.FLAG_READER_NFC_A\r\n                            | NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS, options);\r\n\r\n        }\r\n    }\r\n\r\nRead message function, ```msg``` variable is a ```private volatile NdefMessage```:\r\n\r\n    private void readMessage(Tag tag) {\r\n        Log.d(&quot;Tag&quot;, &quot;Starting thread&quot;);\r\n        new Thread(() -&gt; {\r\n\r\n            try {\r\n                Thread.sleep(1800);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            final Ndef ndef = Ndef.get(tag);\r\n            Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\r\n\r\n            while (tagInRange) {\r\n\r\n                try {\r\n                    ndef.connect();\r\n                    msg = ndef.getNdefMessage();\r\n\r\n                    Log.d(&quot;Tag&quot;, &quot;Running on UI thread&quot;);\r\n                    if (msg == null) {\r\n                        Log.d(&quot;Tag&quot;, String.valueOf(ndef));\r\n                        continue;\r\n                    }\r\n                    runOnUiThread(() -&gt; {\r\n                        parseMessage(msg);\r\n                        dataElapsedTime += 0.2;\r\n                    });\r\n\r\n                } catch (IOException | FormatException e) {\r\n                    e.printStackTrace();\r\n                    tagInRange = false;\r\n                    System.out.println(&quot;Tag Connection Lost&quot;);\r\n                }\r\n\r\n                finally {\r\n\r\n                    try {\r\n                        ndef.close();\r\n                        Log.d(&quot;tag&quot;, &quot;Tag connection closed successfully&quot;);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n\r\n\r\n            }\r\n\r\n        }).start();\r\n\r\n    }\r\n\r\nDoes the getNdefMessage function use some sort of lazy loading? Or is this the result of multiple threads being spawned and some strange race condition occurring?","title":"Why does getNdefMessage() returns null even though debugger shows ndef object has a message payload that is supposedly correctly formatted?","body":"<p>I am trying to continuously poll an NFC tag using an android phone (OnePlus 6T if it's relevant). When my tag is only powered by NFC, I get null values even though the debugger shows the payload being not null and supposedly correctly formatted (screenshot below).</p>\n<p><strong>Debugger output when getNdefMessage returns null</strong></p>\n<p><a href=\"https://i.stack.imgur.com/NlSIP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NlSIP.jpg\" alt=\"Debugger output when getNdefMessage returns null \" /></a></p>\n<p><strong>Debugger output when the returned value is not null</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gSviJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSviJ.jpg\" alt=\"Debugger output when the returned value is not null\" /></a></p>\n<p>The code I am using to poll the tag, based on <a href=\"https://stackoverflow.com/questions/37045486/continuously-detect-an-nfc-tag-on-android\">Continuously detect an NFC tag on Android</a> and <a href=\"https://stackoverflow.com/questions/69825924/is-it-possible-to-read-an-nfc-tag-from-a-card-without-using-an-intent\">Is it possible to read an NFC tag from a card without using an intent?</a></p>\n<pre><code>protected void onResume() {\n    super.onResume();\n\n    if (nfcAdapter != null) {\n        if (!nfcAdapter.isEnabled()) {\n            Intent intent = new Intent(Settings.ACTION_WIRELESS_SETTINGS);\n            startActivity(intent);\n        }\n\n        Bundle options = new Bundle();\n\n        options.putInt(NfcAdapter.EXTRA_READER_PRESENCE_CHECK_DELAY, 250);\n\n        nfcAdapter.enableReaderMode(this, new NfcAdapter.ReaderCallback() {\n                    @Override\n                    public void onTagDiscovered(Tag tag) {\n                        Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\n                        readMessage(tag);\n                        tagInRange = true;\n                    }\n                },\n                NfcAdapter.FLAG_READER_NFC_A\n                        | NfcAdapter.FLAG_READER_NO_PLATFORM_SOUNDS, options);\n\n    }\n}\n</code></pre>\n<p>Read message function, <code>msg</code> variable is a <code>private volatile NdefMessage</code>:</p>\n<pre><code>private void readMessage(Tag tag) {\n    Log.d(&quot;Tag&quot;, &quot;Starting thread&quot;);\n    new Thread(() -&gt; {\n\n        try {\n            Thread.sleep(1800);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        final Ndef ndef = Ndef.get(tag);\n        Log.d(&quot;Tag&quot;, &quot;New tag detected, attempting connect&quot;);\n\n        while (tagInRange) {\n\n            try {\n                ndef.connect();\n                msg = ndef.getNdefMessage();\n\n                Log.d(&quot;Tag&quot;, &quot;Running on UI thread&quot;);\n                if (msg == null) {\n                    Log.d(&quot;Tag&quot;, String.valueOf(ndef));\n                    continue;\n                }\n                runOnUiThread(() -&gt; {\n                    parseMessage(msg);\n                    dataElapsedTime += 0.2;\n                });\n\n            } catch (IOException | FormatException e) {\n                e.printStackTrace();\n                tagInRange = false;\n                System.out.println(&quot;Tag Connection Lost&quot;);\n            }\n\n            finally {\n\n                try {\n                    ndef.close();\n                    Log.d(&quot;tag&quot;, &quot;Tag connection closed successfully&quot;);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n            }\n\n\n        }\n\n    }).start();\n\n}\n</code></pre>\n<p>Does the getNdefMessage function use some sort of lazy loading? Or is this the result of multiple threads being spawned and some strange race condition occurring?</p>\n"},{"tags":["java","spring","servlets"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1641072213,"post_id":70551831,"comment_id":124716245,"body_markdown":"The response body may not be readily available. What if you&#39;re streaming a 4GB file to the client? Also `HttpServletResponse` is a `javax.servlet` class, so it&#39;s not trying to be user friendly. A Spring based approach is surely easier to achieve, I&#39;m sure someone&#39;s done the hard work for you if you keep doing some more searching.","body":"The response body may not be readily available. What if you&#39;re streaming a 4GB file to the client? Also <code>HttpServletResponse</code> is a <code>javax.servlet</code> class, so it&#39;s not trying to be user friendly. A Spring based approach is surely easier to achieve, I&#39;m sure someone&#39;s done the hard work for you if you keep doing some more searching."},{"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"score":0,"creation_date":1641076110,"post_id":70551831,"comment_id":124716978,"body_markdown":"Indeed someone has done the hard work. Managed to find a Filter based solution with `ContentCachingResponseWrapper` that does the job. Thanks","body":"Indeed someone has done the hard work. Managed to find a Filter based solution with <code>ContentCachingResponseWrapper</code> that does the job. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641072908,"creation_date":1641072908,"answer_id":70552017,"question_id":70551831,"body_markdown":"`HttpServletRequest`/`Response` classes are designed to stream the data directly from/to the browser. They are there to handle the I/O communication over the network, but they do not need to store the whole request/response body.\r\n\r\nThis allows servlets to directly stream data, and by the time you would want to log the response, the data has already been sent over the network (well, except with async processing but that makes things even more complicated for your purposes). A default implementation wouldnt know that it had to keep a copy of the data for logging purposes.\r\n\r\nThis is why you need to implement a `Filter` that would wrap the request/response in order to keep and log the body, as you have pointed in your link. In general you will probably want to customize this behavior in order to select only specific requests, limit the size, define how to log it etc. so a default implementation is not provided, but you have a lot of solutions.","title":"Why does HttpServletResponse not have a simple String of the response body?","body":"<p><code>HttpServletRequest</code>/<code>Response</code> classes are designed to stream the data directly from/to the browser. They are there to handle the I/O communication over the network, but they do not need to store the whole request/response body.</p>\n<p>This allows servlets to directly stream data, and by the time you would want to log the response, the data has already been sent over the network (well, except with async processing but that makes things even more complicated for your purposes). A default implementation wouldnt know that it had to keep a copy of the data for logging purposes.</p>\n<p>This is why you need to implement a <code>Filter</code> that would wrap the request/response in order to keep and log the body, as you have pointed in your link. In general you will probably want to customize this behavior in order to select only specific requests, limit the size, define how to log it etc. so a default implementation is not provided, but you have a lot of solutions.</p>\n"}],"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70552017,"answer_count":1,"score":0,"last_activity_date":1641076201,"creation_date":1641070723,"question_id":70551831,"body_markdown":"I&#39;ve been trying to find a way to log the response body of requests in my spring boot application. I&#39;ve abandoned this for now and will just log in each controller before returning, because the effort to get this to work (globally, for all controllers with a Filter or request interceptor) seems inordinately large / overly complicated.\r\n\r\nIn python django projects, it seems this could be as simple as a middleware with something like `log.info(response.body)`.\r\n\r\nI&#39;m new to Java, so I am sure there is a valid reason, but can someone explain WHY?\r\n\r\nTo try to get a string representation of the response body in java, from an HttpServletResponse involves all sorts of wrangling like [this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2158647/logging-response-body-html-from-httpservletresponse-using-spring-mvc-handlerin","title":"Why does HttpServletResponse not have a simple String of the response body?","body":"<p>I've been trying to find a way to log the response body of requests in my spring boot application. I've abandoned this for now and will just log in each controller before returning, because the effort to get this to work (globally, for all controllers with a Filter or request interceptor) seems inordinately large / overly complicated.</p>\n<p>In python django projects, it seems this could be as simple as a middleware with something like <code>log.info(response.body)</code>.</p>\n<p>I'm new to Java, so I am sure there is a valid reason, but can someone explain WHY?</p>\n<p>To try to get a string representation of the response body in java, from an HttpServletResponse involves all sorts of wrangling like <a href=\"https://stackoverflow.com/questions/2158647/logging-response-body-html-from-httpservletresponse-using-spring-mvc-handlerin\">this</a></p>\n"},{"tags":["java","eclipse","macos","installation"],"comments":[{"owner":{"account_id":17428198,"reputation":4384,"user_id":12632699,"display_name":"SwissCodeMen"},"score":0,"creation_date":1584656360,"post_id":60765789,"comment_id":107511510,"body_markdown":"look at this question -&gt; [Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac](https://stackoverflow.com/questions/52652846/cant-install-eclipse-failed-to-create-the-java-virtual-machine-on-mac/56532418)","body":"look at this question -&gt; <a href=\"https://stackoverflow.com/questions/52652846/cant-install-eclipse-failed-to-create-the-java-virtual-machine-on-mac/56532418\">Can&#39;t install Eclipse - &quot;Failed to create the Java Virtual Machine&quot; on Mac</a>"},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1584657435,"post_id":60765789,"comment_id":107511817,"body_markdown":"Please never post error messages as screenshots only","body":"Please never post error messages as screenshots only"},{"owner":{"account_id":184020,"reputation":3308,"user_id":419805,"accept_rate":100,"display_name":"It Grunt"},"score":0,"creation_date":1584659836,"post_id":60765789,"comment_id":107512471,"body_markdown":"Be sure to set your JAVA_HOME variable since you have installed different versions between the JDK and JRE.","body":"Be sure to set your JAVA_HOME variable since you have installed different versions between the JDK and JRE."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1584688700,"post_id":60765789,"comment_id":107518525,"body_markdown":"Eclipse seems to have problems with Java 14 on macOS, it is easiest to use an earlier release of Java.","body":"Eclipse seems to have problems with Java 14 on macOS, it is easiest to use an earlier release of Java."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1584692729,"post_id":60765789,"comment_id":107519844,"body_markdown":"Java 14 problem is Eclipse bug [561273](https://bugs.eclipse.org/bugs/show_bug.cgi?id=561273)","body":"Java 14 problem is Eclipse bug <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=561273\" rel=\"nofollow noreferrer\">561273</a>"},{"owner":{"account_id":2164650,"reputation":2895,"user_id":1918003,"accept_rate":82,"display_name":"masber"},"score":0,"creation_date":1585760905,"post_id":60765789,"comment_id":107878649,"body_markdown":"This issue also happens with adoptopenjdk openjdk11","body":"This issue also happens with adoptopenjdk openjdk11"}],"answers":[{"tags":[],"owner":{"account_id":18011443,"reputation":5,"user_id":13091000,"display_name":"FireHyperx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584662653,"creation_date":1584662653,"answer_id":60766792,"question_id":60765789,"body_markdown":"I had the same issue myself a while back. In your Eclipsepedia it provided an example of what the eclipse.ini file looks like when your trying to specify a JVM. So just change the eclipse.ini file and then make sure that you have all of the correct documents in that path to match the example.","title":"Eclipse Installation on macOS","body":"<p>I had the same issue myself a while back. In your Eclipsepedia it provided an example of what the eclipse.ini file looks like when your trying to specify a JVM. So just change the eclipse.ini file and then make sure that you have all of the correct documents in that path to match the example.</p>\n"},{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1587050633,"creation_date":1584696794,"answer_id":60771575,"question_id":60765789,"body_markdown":"Eclipse on macOS will not start with Java 14 installed, this is being tracked in Eclipse bug [561273](https://bugs.eclipse.org/bugs/show_bug.cgi?id=561273).\r\n\r\nInstalling Java 8 as well does not help. You need to remove the Java 14 install. You could use the Java 13.0.2 release instead.\r\n\r\nEclipse have determined that the root cause of this issue is a change in Java 14 which is described in this bug report [JDK-8238225](https://bugs.openjdk.java.net/browse/JDK-8238225). The fix for this should be in Java 14.0.1\r\n\r\nUpdate: Eclipse runs fine with Oracle Java 14.0.1 so the issue has been fixed.","title":"Eclipse Installation on macOS","body":"<p>Eclipse on macOS will not start with Java 14 installed, this is being tracked in Eclipse bug <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=561273\" rel=\"nofollow noreferrer\">561273</a>.</p>\n\n<p>Installing Java 8 as well does not help. You need to remove the Java 14 install. You could use the Java 13.0.2 release instead.</p>\n\n<p>Eclipse have determined that the root cause of this issue is a change in Java 14 which is described in this bug report <a href=\"https://bugs.openjdk.java.net/browse/JDK-8238225\" rel=\"nofollow noreferrer\">JDK-8238225</a>. The fix for this should be in Java 14.0.1</p>\n\n<p>Update: Eclipse runs fine with Oracle Java 14.0.1 so the issue has been fixed.</p>\n"},{"tags":[],"owner":{"account_id":2572892,"reputation":621,"user_id":4636579,"accept_rate":67,"display_name":"Coliban"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587368094,"creation_date":1587304853,"answer_id":61305556,"question_id":60765789,"body_markdown":"I also asked this question which was closed, that&#39;s why I answer what I have found out: Eclipse will not install on Mac OS Catalina 10.15.4, saying the above error message\r\n\r\n&gt; Failed to create the Java Virtual Machine.\r\n\r\nDeinstalling jdk and install an older one wouldn&#39;t help on its own because Eclipse is refusing to install in the first place (as mentioned above). What I have done:\r\n\r\n - i&#180;ve installed an JDK with boost (you can try several, mine worked with Version 13)\r\n - I edited the installer:\r\n - 1. Download the dmg file\r\n - 2. convert the dmg-file with &quot;hdiutil convert /dev/disk3s1  -format UDRW -o devimage&quot;\r\n - 3. mount the converted dmg-file with: &quot;hdiutil attach -owners on  devimage.dmg -shadow&quot;\r\n - 4. Edit the /Volumes/Eclipse/Eclipse.app/Contents/Info.plist: there is  a section which is commented and there you can try the jdk version. You have to give the full path to the java executable, for example: \r\n&gt; \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n - Then my eclipse started from the (already) mounted Eclipse image without complaining\r\n\r\n\r\n\r\n\r\n ","title":"Eclipse Installation on macOS","body":"<p>I also asked this question which was closed, that's why I answer what I have found out: Eclipse will not install on Mac OS Catalina 10.15.4, saying the above error message</p>\n\n<blockquote>\n  <p>Failed to create the Java Virtual Machine.</p>\n</blockquote>\n\n<p>Deinstalling jdk and install an older one wouldn't help on its own because Eclipse is refusing to install in the first place (as mentioned above). What I have done:</p>\n\n<ul>\n<li>ive installed an JDK with boost (you can try several, mine worked with Version 13)</li>\n<li>I edited the installer:</li>\n<li><ol>\n<li>Download the dmg file</li>\n</ol></li>\n<li><ol start=\"2\">\n<li>convert the dmg-file with \"hdiutil convert /dev/disk3s1  -format UDRW -o devimage\"</li>\n</ol></li>\n<li><ol start=\"3\">\n<li>mount the converted dmg-file with: \"hdiutil attach -owners on  devimage.dmg -shadow\"</li>\n</ol></li>\n<li><ol start=\"4\">\n<li>Edit the /Volumes/Eclipse/Eclipse.app/Contents/Info.plist: there is  a section which is commented and there you can try the jdk version. You have to give the full path to the java executable, for example: \n\n<blockquote>\n  <p></p>\n</blockquote></li>\n</ol></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java&lt;/string&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ul>\n<li>Then my eclipse started from the (already) mounted Eclipse image without complaining</li>\n</ul>\n"}],"owner":{"account_id":17411750,"reputation":63,"user_id":12618831,"display_name":"Oier Mentxaka Gomez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6085,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60771575,"answer_count":3,"score":6,"last_activity_date":1641074704,"creation_date":1584655837,"question_id":60765789,"body_markdown":"I have formatted my Mac due to some storage issues. Before this, I used Eclipse in a proper way. Now i have installed the JDK ![Screenshot][1]\r\nThen, i have installed Java ![Screenshot][2] \r\n\r\nUntil now everything seems to be correct but when I open the Eclipse installer... ![Failed to create the java virtual machine screenshot][3]\r\n\r\nWhat can I do to fix this? I need to work with this the soon as possible. \r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7mALa.png\r\n  [2]: https://i.stack.imgur.com/XyM95.png\r\n  [3]: https://i.stack.imgur.com/OwD6a.png","title":"Eclipse Installation on macOS","body":"<p>I have formatted my Mac due to some storage issues. Before this, I used Eclipse in a proper way. Now i have installed the JDK <img src=\"https://i.stack.imgur.com/7mALa.png\" alt=\"Screenshot\">\nThen, i have installed Java <img src=\"https://i.stack.imgur.com/XyM95.png\" alt=\"Screenshot\"> </p>\n\n<p>Until now everything seems to be correct but when I open the Eclipse installer... <img src=\"https://i.stack.imgur.com/OwD6a.png\" alt=\"Failed to create the java virtual machine screenshot\"></p>\n\n<p>What can I do to fix this? I need to work with this the soon as possible. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1641203834,"post_id":70552042,"comment_id":124738054,"body_markdown":"Use `Library.function(java.lang.invoke.MethodHandles.Lookup lookup);` instead.","body":"Use <code>Library.function(java.lang.invoke.MethodHandles.Lookup lookup);</code> instead."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1641203890,"post_id":70552042,"comment_id":124738068,"body_markdown":"An unnamed module exports and opens all it&#39;s packages.","body":"An unnamed module exports and opens all it&#39;s packages."},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1642436242,"post_id":70552042,"comment_id":125064646,"body_markdown":"Could you say what Java version your library will work on? I mean do you consider only Java 9+ or Java 8 either?","body":"Could you say what Java version your library will work on? I mean do you consider only Java 9+ or Java 8 either?"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1642584184,"post_id":70552042,"comment_id":125106726,"body_markdown":"@Pavel_K The library will be written in Java 17. I checked the [JLS 7.7.5](https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.5) and I think Johannes Kuhn&#39;s comment is correct though I haven&#39;t had time to test it.","body":"@Pavel_K The library will be written in Java 17. I checked the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.5\" rel=\"nofollow noreferrer\">JLS 7.7.5</a> and I think Johannes Kuhn&#39;s comment is correct though I haven&#39;t had time to test it."}],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1641073102,"creation_date":1641073102,"question_id":70552042,"body_markdown":"I&#39;m currently writing a library that uses reflection to access among other things the private fields of a class. Users are expected to use it in a way like `Library.function(Class&lt;?&gt; cls);`\r\n\r\nI&#39;m thinking about putting the packages of that library in a module. However, I&#39;m not sure whether my library would be able to access classes provided by users if they choose to not use Java&#39;s module system.\r\n\r\nFrom my understanding, the module system works like this:\r\n- If I don&#39;t modularize my library and the user doesn&#39;t use the module system either, no problem here.\r\n- If I don&#39;t modularize my library and the user uses the module system, the packages of my library will be placed in an automatic module which has access to all other modules (other named, and automatic modules, and the unnamed module)\r\n- If I modularize my library and the user uses the module system, they either have to `exports` or `opens` packages.\r\n\r\nI&#39;m not sure what happens in the remainig case in which I modularize my library but a user does not. Will they be able to call my library with some class of their own? If yes, what&#39;s the reason for it? If not, would I be better off not using the module system?\r\n","title":"Can a reflection library that uses Java&#39;s module system access non modularized code?","body":"<p>I'm currently writing a library that uses reflection to access among other things the private fields of a class. Users are expected to use it in a way like <code>Library.function(Class&lt;?&gt; cls);</code></p>\n<p>I'm thinking about putting the packages of that library in a module. However, I'm not sure whether my library would be able to access classes provided by users if they choose to not use Java's module system.</p>\n<p>From my understanding, the module system works like this:</p>\n<ul>\n<li>If I don't modularize my library and the user doesn't use the module system either, no problem here.</li>\n<li>If I don't modularize my library and the user uses the module system, the packages of my library will be placed in an automatic module which has access to all other modules (other named, and automatic modules, and the unnamed module)</li>\n<li>If I modularize my library and the user uses the module system, they either have to <code>exports</code> or <code>opens</code> packages.</li>\n</ul>\n<p>I'm not sure what happens in the remainig case in which I modularize my library but a user does not. Will they be able to call my library with some class of their own? If yes, what's the reason for it? If not, would I be better off not using the module system?</p>\n"},{"tags":["java","android","android-studio","air","code-signing-certificate"],"answers":[{"tags":[],"owner":{"account_id":1637843,"reputation":123,"user_id":1510851,"accept_rate":67,"display_name":"Marco Polo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433312164,"creation_date":1433312164,"answer_id":30612196,"question_id":30610576,"body_markdown":"Ok I worked this out for anyone wondering what the deal with converting p12 to jks.\r\nWhen I converted my old p12 certificate I used the inbfo on this page:\r\nhttp://www.webfarmr.eu/2010/04/import-pkcs12-private-keys-into-jks-keystores-using-java-keytool/\r\n\r\nI used the following command(with my own file names):\r\nkeytool -importkeystore -srckeystore alice.p12 -srcstoretype PKCS12 -destkeystore alice.jks . \r\n\r\nThis creates a default alias in the new keystore called &quot;1&quot; and the password for that actual key is the same password that was originally used in flashbuilder to create the old p12 certificate. \r\n","title":"Converting P12 to JKS Certificate Adode AIR to Native Android Issues","body":"<p>Ok I worked this out for anyone wondering what the deal with converting p12 to jks.\nWhen I converted my old p12 certificate I used the inbfo on this page:\n<a href=\"http://www.webfarmr.eu/2010/04/import-pkcs12-private-keys-into-jks-keystores-using-java-keytool/\" rel=\"nofollow\">http://www.webfarmr.eu/2010/04/import-pkcs12-private-keys-into-jks-keystores-using-java-keytool/</a></p>\n\n<p>I used the following command(with my own file names):\nkeytool -importkeystore -srckeystore alice.p12 -srcstoretype PKCS12 -destkeystore alice.jks . </p>\n\n<p>This creates a default alias in the new keystore called \"1\" and the password for that actual key is the same password that was originally used in flashbuilder to create the old p12 certificate. </p>\n"}],"owner":{"account_id":1637843,"reputation":123,"user_id":1510851,"accept_rate":67,"display_name":"Marco Polo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641073023,"creation_date":1433303857,"question_id":30610576,"body_markdown":"I have an app in the play store which I built in Adbobe AIR and I&#39;m now looking to upgrade it with a version built in native Android via Android Studio. \r\n\r\nWhen it comes to certificate signing I have some issues...\r\nWhen originally exporting the APK from flashbuilder I generated a self signed certificate as a .p12 file and it asked for a password for this when you first generate the certificate and then use it each time. That worked fine...\r\n\r\nNow when creating the new native java app Android Studio obviously requires .jks to sign with.\r\n\r\nI have apparently successfully converted the old .p12 to jks using the keytool in java using the technique highlighted here in one of the comments:\r\nhttp://www.webfarmr.eu/2010/04/import-pkcs12-private-keys-into-jks-keystores-using-java-keytool/\r\n\r\nWhen I attempt to Generate Signed APK for the app from Android Studio it prompts for:\r\n\r\n - &quot;Key store path&quot; - Ive got that\r\n - &quot;Key store password&quot; - got that.\r\n - &quot;Key alias&quot; - How do I find this out?? \r\n - &quot;Key password&quot; - Where was this set originally??\r\n\r\nSo basically I&#39;m stuck not knowing what the key alias and key password is because these things are never asked for when the .p12 was created in FlashBuilder originally.\r\n\r\nAny help around how to accomplish this conversion would be appreciated.\r\n\r\nThanks Marco\r\n\r\n","title":"Converting P12 to JKS Certificate Adode AIR to Native Android Issues","body":"<p>I have an app in the play store which I built in Adbobe AIR and I'm now looking to upgrade it with a version built in native Android via Android Studio. </p>\n\n<p>When it comes to certificate signing I have some issues...\nWhen originally exporting the APK from flashbuilder I generated a self signed certificate as a .p12 file and it asked for a password for this when you first generate the certificate and then use it each time. That worked fine...</p>\n\n<p>Now when creating the new native java app Android Studio obviously requires .jks to sign with.</p>\n\n<p>I have apparently successfully converted the old .p12 to jks using the keytool in java using the technique highlighted here in one of the comments:\n<a href=\"http://www.webfarmr.eu/2010/04/import-pkcs12-private-keys-into-jks-keystores-using-java-keytool/\" rel=\"nofollow\">http://www.webfarmr.eu/2010/04/import-pkcs12-private-keys-into-jks-keystores-using-java-keytool/</a></p>\n\n<p>When I attempt to Generate Signed APK for the app from Android Studio it prompts for:</p>\n\n<ul>\n<li>\"Key store path\" - Ive got that</li>\n<li>\"Key store password\" - got that.</li>\n<li>\"Key alias\" - How do I find this out?? </li>\n<li>\"Key password\" - Where was this set originally??</li>\n</ul>\n\n<p>So basically I'm stuck not knowing what the key alias and key password is because these things are never asked for when the .p12 was created in FlashBuilder originally.</p>\n\n<p>Any help around how to accomplish this conversion would be appreciated.</p>\n\n<p>Thanks Marco</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1640987931,"post_id":70545831,"comment_id":124705126,"body_markdown":"What do you mean by &quot;the mvn command runs successfully&quot;?","body":"What do you mean by &quot;the mvn command runs successfully&quot;?"},{"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":0,"creation_date":1640988094,"post_id":70545831,"comment_id":124705144,"body_markdown":"@daniu Ive updated the question, the maven command runs successfully when I execute against the project.","body":"@daniu Ive updated the question, the maven command runs successfully when I execute against the project."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1640988366,"post_id":70545831,"comment_id":124705182,"body_markdown":"It does sound like a path issue. I&#39;d try using a shell as the entry so you can check if it&#39;s mvn or java?","body":"It does sound like a path issue. I&#39;d try using a shell as the entry so you can check if it&#39;s mvn or java?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641020867,"post_id":70545831,"comment_id":124708091,"body_markdown":"Give full path to maven binary.","body":"Give full path to maven binary."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640996001,"creation_date":1640996001,"answer_id":70546360,"question_id":70545831,"body_markdown":"Check first if `tar -xzC /usr/share/maven --strip-components=1` did what you thought it should.\r\n\r\nIn other words, in your Dockerfile, add for testing a `RUN ls -alrth /usr/bin/mvn` et `RUN find /usr/share/maven/` to double-check the symlink `/usr/bin/mvn` actually reference an *existing* `/usr/share/maven/bin/mvn` file.\r\n\r\nYou can also do the same with a `docker run -it --rm test/insert bash`.","title":"Dockerfile to run a Java 11 class","body":"<p>Check first if <code>tar -xzC /usr/share/maven --strip-components=1</code> did what you thought it should.</p>\n<p>In other words, in your Dockerfile, add for testing a <code>RUN ls -alrth /usr/bin/mvn</code> et <code>RUN find /usr/share/maven/</code> to double-check the symlink <code>/usr/bin/mvn</code> actually reference an <em>existing</em> <code>/usr/share/maven/bin/mvn</code> file.</p>\n<p>You can also do the same with a <code>docker run -it --rm test/insert bash</code>.</p>\n"}],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70546360,"answer_count":1,"score":1,"last_activity_date":1641072264,"creation_date":1640987086,"question_id":70545831,"body_markdown":"I&#39;m attempting to write the simplest docker file that will run a main class named `InsertVolume` in package `scripts`. Here is my `Dockerfile` : \r\n\r\n    FROM adoptopenjdk/openjdk11:latest\r\n    \r\n    ENV MAVEN_VERSION 3.3.9\r\n    \r\n    RUN mkdir -p /usr/share/maven \\\r\n      &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\r\n        | tar -xzC /usr/share/maven --strip-components=1 \\\r\n      &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\r\n    \r\n    CMD &quot;mvn compile exec:java -Dexec.mainClass=\\&quot;scripts.InsertVolume\\&quot;&quot;\r\n\r\nHere is the result of running command\r\n\r\n     docker build -f Dockerfile -t test/insert .\r\n :\r\n\r\n    [+] Building 0.8s (6/6) FINISHED                                                                                                                                                                                                                                          \r\n     =&gt; [internal] load build definition from Dockerfile                                                                                                                                                                                                                 0.0s\r\n     =&gt; =&gt; transferring dockerfile: 37B                                                                                                                                                                                                                                  0.0s\r\n     =&gt; [internal] load .dockerignore                                                                                                                                                                                                                                    0.0s\r\n     =&gt; =&gt; transferring context: 2B                                                                                                                                                                                                                                      0.0s\r\n     =&gt; [internal] load metadata for docker.io/adoptopenjdk/openjdk11:latest                                                                                                                                                                                             0.7s\r\n     =&gt; [1/2] FROM docker.io/adoptopenjdk/openjdk11:latest@sha256:ec7b07fa180861542ae8af31fbdad43f2f133170b43d29204a4b89e8f56a4c6f                                                                                                                                       0.0s\r\n     =&gt; CACHED [2/2] RUN mkdir -p /usr/share/maven   &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz     | tar -xzC /usr/share/maven --strip-components=1   &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn             0.0s\r\n     =&gt; exporting to image                                                                                                                                                                                                                                               0.0s\r\n     =&gt; =&gt; exporting layers                                                                                                                                                                                                                                              0.0s\r\n     =&gt; =&gt; writing image sha256:22b094dc17fc3e41b7db6cea72819e5fef1edff6dedf4c291345546fb4f53019                                                                                                                                                                         0.0s\r\n     =&gt; =&gt; naming to docker.io/test/insert                                                                                                                                                                                                                       0.0s\r\n    \r\n    Use &#39;docker scan&#39; to run Snyk tests against images to find vulnerabilities and learn how to fix them\r\n\r\nWhen I then attempt to run the image using : \r\n\r\n    docker run test/insert\r\n\r\nI receive error : \r\n\r\n\r\n    docker: Error response from daemon: OCI runtime create failed: container_linux.go:367: starting container process caused: exec: &quot;mvn compile exec:java -Dexec.mainClass=\\&quot;scripts.InsertVolume\\&quot;&quot;: executable file not found in $PATH: unknown.\r\n\r\n\r\nThe mvn command `mvn compile exec:java -Dexec.mainClass=&quot;scripts.InsertVolume&quot;` runs successfully when I execute against the project (not using docker).\r\n\r\nHow to modify the `Dockerfile` so that it compiles and executed the class `scripts.InsertVolume` ?\r\n\r\nUsing `mvn compile` within the Dockerfile should enable the main class to be run ?\r\n\r\nUpdate : \r\n\r\nAfter some debugging I got this to work with following Dockerfile : \r\n\r\n    FROM adoptopenjdk/openjdk11:latest\r\n    \r\n    ENV MAVEN_VERSION 3.3.9\r\n    \r\n    RUN mkdir -p /usr/share/maven \\\r\n      &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\r\n        | tar -xzC /usr/share/maven --strip-components=1 \\\r\n      &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\r\n    \r\n    COPY pom.xml /build/\r\n    COPY src /build/src/\r\n    \r\n    WORKDIR /build/\r\n    \r\n    RUN mvn clean package\r\n    \r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;target/test-1.0-SNAPSHOT.jar&quot;]\r\n    \r\n    # docker build -f Dockerfile -t test/insert .\r\n    # docker run -it --rm test/insert\r\n\r\nThe crux of the update is copying the project src and building using commands :\r\n\r\n    COPY pom.xml /build/\r\n    COPY src /build/src/\r\n    \r\n    WORKDIR /build/\r\n    \r\n    RUN mvn clean package\r\n\r\n","title":"Dockerfile to run a Java 11 class","body":"<p>I'm attempting to write the simplest docker file that will run a main class named <code>InsertVolume</code> in package <code>scripts</code>. Here is my <code>Dockerfile</code> :</p>\n<pre><code>FROM adoptopenjdk/openjdk11:latest\n\nENV MAVEN_VERSION 3.3.9\n\nRUN mkdir -p /usr/share/maven \\\n  &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\n    | tar -xzC /usr/share/maven --strip-components=1 \\\n  &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\n\nCMD &quot;mvn compile exec:java -Dexec.mainClass=\\&quot;scripts.InsertVolume\\&quot;&quot;\n</code></pre>\n<p>Here is the result of running command</p>\n<pre><code> docker build -f Dockerfile -t test/insert .\n</code></pre>\n<p>:</p>\n<pre><code>[+] Building 0.8s (6/6) FINISHED                                                                                                                                                                                                                                          \n =&gt; [internal] load build definition from Dockerfile                                                                                                                                                                                                                 0.0s\n =&gt; =&gt; transferring dockerfile: 37B                                                                                                                                                                                                                                  0.0s\n =&gt; [internal] load .dockerignore                                                                                                                                                                                                                                    0.0s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                                                                                                      0.0s\n =&gt; [internal] load metadata for docker.io/adoptopenjdk/openjdk11:latest                                                                                                                                                                                             0.7s\n =&gt; [1/2] FROM docker.io/adoptopenjdk/openjdk11:latest@sha256:ec7b07fa180861542ae8af31fbdad43f2f133170b43d29204a4b89e8f56a4c6f                                                                                                                                       0.0s\n =&gt; CACHED [2/2] RUN mkdir -p /usr/share/maven   &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz     | tar -xzC /usr/share/maven --strip-components=1   &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn             0.0s\n =&gt; exporting to image                                                                                                                                                                                                                                               0.0s\n =&gt; =&gt; exporting layers                                                                                                                                                                                                                                              0.0s\n =&gt; =&gt; writing image sha256:22b094dc17fc3e41b7db6cea72819e5fef1edff6dedf4c291345546fb4f53019                                                                                                                                                                         0.0s\n =&gt; =&gt; naming to docker.io/test/insert                                                                                                                                                                                                                       0.0s\n\nUse 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them\n</code></pre>\n<p>When I then attempt to run the image using :</p>\n<pre><code>docker run test/insert\n</code></pre>\n<p>I receive error :</p>\n<pre><code>docker: Error response from daemon: OCI runtime create failed: container_linux.go:367: starting container process caused: exec: &quot;mvn compile exec:java -Dexec.mainClass=\\&quot;scripts.InsertVolume\\&quot;&quot;: executable file not found in $PATH: unknown.\n</code></pre>\n<p>The mvn command <code>mvn compile exec:java -Dexec.mainClass=&quot;scripts.InsertVolume&quot;</code> runs successfully when I execute against the project (not using docker).</p>\n<p>How to modify the <code>Dockerfile</code> so that it compiles and executed the class <code>scripts.InsertVolume</code> ?</p>\n<p>Using <code>mvn compile</code> within the Dockerfile should enable the main class to be run ?</p>\n<p>Update :</p>\n<p>After some debugging I got this to work with following Dockerfile :</p>\n<pre><code>FROM adoptopenjdk/openjdk11:latest\n\nENV MAVEN_VERSION 3.3.9\n\nRUN mkdir -p /usr/share/maven \\\n  &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\n    | tar -xzC /usr/share/maven --strip-components=1 \\\n  &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\n\nCOPY pom.xml /build/\nCOPY src /build/src/\n\nWORKDIR /build/\n\nRUN mvn clean package\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;target/test-1.0-SNAPSHOT.jar&quot;]\n\n# docker build -f Dockerfile -t test/insert .\n# docker run -it --rm test/insert\n</code></pre>\n<p>The crux of the update is copying the project src and building using commands :</p>\n<pre><code>COPY pom.xml /build/\nCOPY src /build/src/\n\nWORKDIR /build/\n\nRUN mvn clean package\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","multipartfile"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1639750979,"post_id":70392548,"comment_id":124435427,"body_markdown":"Are you facing this problem only from the swagger client?","body":"Are you facing this problem only from the swagger client?"},{"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"score":0,"creation_date":1639916200,"post_id":70392548,"comment_id":124465440,"body_markdown":"Yes, I want to get it working with the swagger UI","body":"Yes, I want to get it working with the swagger UI"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1639919115,"post_id":70392548,"comment_id":124466017,"body_markdown":"You need to provide more details including swagger version etc otherwise it would be hard to depict the issue if any.","body":"You need to provide more details including swagger version etc otherwise it would be hard to depict the issue if any."},{"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"score":0,"creation_date":1639920242,"post_id":70392548,"comment_id":124466243,"body_markdown":"@harry updated with open api configuration. I use Open API 3.0","body":"@harry updated with open api configuration. I use Open API 3.0"},{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":1,"creation_date":1640794339,"post_id":70392548,"comment_id":124661251,"body_markdown":"You&#39;re mixing two things here. Posting a JSON object and posting multipart data. I would recommend not doing this. Post only multipart data to some endpoint","body":"You&#39;re mixing two things here. Posting a JSON object and posting multipart data. I would recommend not doing this. Post only multipart data to some endpoint"}],"answers":[{"tags":[],"owner":{"account_id":4642086,"reputation":23628,"user_id":3761628,"accept_rate":88,"display_name":"eol"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641071008,"creation_date":1640811488,"answer_id":70524943,"question_id":70392548,"body_markdown":"This seems to be an issue with how the springdoc-openapi-ui builds the form-data request. I was able to reproduce this and noticed that it sends a multipart-request like (intercepted through browser&#39;s dev-tools):\r\n\r\n    -----------------------------207598777410513073071314493349\r\n    Content-Disposition: form-data; name=&quot;specializationDto&quot;\\r\\n\\r\\n{\\r\\n  &quot;something&quot;: &quot;someValue&quot;\\r\\n}\r\n    \r\n    \r\n    -----------------------------207598777410513073071314493349\r\n    Content-Disposition: form-data; name=&quot;files&quot;; filename=&quot;somefile.txt&quot;\r\n    Content-Type: application/octet-stream\r\n    \r\n    &lt;content&gt;\r\n    \r\n    -----------------------------207598777410513073071314493349\r\n    Content-Disposition: form-data; name=&quot;files&quot;; filename=&quot;somefile.txt&quot;\r\n    Content-Type: application/octet-stream\r\n    \r\n    &lt;content&gt;\r\n\r\nWith that payload Spring is not able to deserialize the `specializationDto`, resulting in the &quot;no matching editors or conversion strategy found&quot; exception that you&#39;ve observed. However, if you send the request through postman or curl with (note the dot-notation for the specializationDto object)\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/upload&#39; \\\r\n    --form &#39;files=@&quot;/path/to/somefile&quot;&#39; \\\r\n    --form &#39;files=@&quot;/path/to/somefile&quot;&#39; \\\r\n    --form &#39;specializationDto.something=&quot;someValue&quot;&#39;\r\n\r\nthen Spring is able to parse it correctly. Here&#39;s my rest-mapping that will log the following as expected:\r\n\r\n        @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST, \r\n                        consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n        public void upload(@ModelAttribute TeacherDto requestDto) {\r\n            System.out.println(requestDto);\r\n        }\r\n\r\n\r\n    // logs:\r\n    TeacherDto(specializationDto=SpecializationDto(something=someValue), files=[org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@78186ea6, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@461c9cbc])\r\n\r\nI suggest you open a bug on their github [page][1].\r\n\r\nEDIT:\r\n\r\nAfter OP opened a github ticket, here&#39;s part of the author&#39;s feedback:\r\n\r\n&gt; [...] With spring, you can use @RequestPart spring annotation to describe\r\n&gt; the different parts, with the related encoding media type. Note that\r\n&gt; there is a limitation with the current swagger-ui implementation as\r\n&gt; the encoding attribute is not respected on the request.[...]\r\n\r\nThey also provided a possible workaround, which looks like this:\r\n\r\n    @PostMapping(consumes =  MediaType.MULTIPART_FORM_DATA_VALUE,\r\n    \t\tproduces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Object&gt; saveNewTeacher( @RequestPart(value = &quot;specializationDto&quot;) @Parameter(schema =@Schema(type = &quot;string&quot;, format = &quot;binary&quot;))  final SpecializationDto specializationDto,\r\n    \t\t@RequestPart(value = &quot;files&quot;)  final List&lt;MultipartFile&gt; files){\r\n    \treturn null;\r\n    }\r\n\r\n  [1]: https://github.com/springdoc/springdoc-openapi/issues","title":"Spring MVC POST request with dto that contains multipart files and other dtos","body":"<p>This seems to be an issue with how the springdoc-openapi-ui builds the form-data request. I was able to reproduce this and noticed that it sends a multipart-request like (intercepted through browser's dev-tools):</p>\n<pre><code>-----------------------------207598777410513073071314493349\nContent-Disposition: form-data; name=&quot;specializationDto&quot;\\r\\n\\r\\n{\\r\\n  &quot;something&quot;: &quot;someValue&quot;\\r\\n}\n\n\n-----------------------------207598777410513073071314493349\nContent-Disposition: form-data; name=&quot;files&quot;; filename=&quot;somefile.txt&quot;\nContent-Type: application/octet-stream\n\n&lt;content&gt;\n\n-----------------------------207598777410513073071314493349\nContent-Disposition: form-data; name=&quot;files&quot;; filename=&quot;somefile.txt&quot;\nContent-Type: application/octet-stream\n\n&lt;content&gt;\n</code></pre>\n<p>With that payload Spring is not able to deserialize the <code>specializationDto</code>, resulting in the &quot;no matching editors or conversion strategy found&quot; exception that you've observed. However, if you send the request through postman or curl with (note the dot-notation for the specializationDto object)</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/upload' \\\n--form 'files=@&quot;/path/to/somefile&quot;' \\\n--form 'files=@&quot;/path/to/somefile&quot;' \\\n--form 'specializationDto.something=&quot;someValue&quot;'\n</code></pre>\n<p>then Spring is able to parse it correctly. Here's my rest-mapping that will log the following as expected:</p>\n<pre><code>    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST, \n                    consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n    public void upload(@ModelAttribute TeacherDto requestDto) {\n        System.out.println(requestDto);\n    }\n\n\n// logs:\nTeacherDto(specializationDto=SpecializationDto(something=someValue), files=[org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@78186ea6, org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@461c9cbc])\n</code></pre>\n<p>I suggest you open a bug on their github <a href=\"https://github.com/springdoc/springdoc-openapi/issues\" rel=\"nofollow noreferrer\">page</a>.</p>\n<p>EDIT:</p>\n<p>After OP opened a github ticket, here's part of the author's feedback:</p>\n<blockquote>\n<p>[...] With spring, you can use @RequestPart spring annotation to describe\nthe different parts, with the related encoding media type. Note that\nthere is a limitation with the current swagger-ui implementation as\nthe encoding attribute is not respected on the request.[...]</p>\n</blockquote>\n<p>They also provided a possible workaround, which looks like this:</p>\n<pre><code>@PostMapping(consumes =  MediaType.MULTIPART_FORM_DATA_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Object&gt; saveNewTeacher( @RequestPart(value = &quot;specializationDto&quot;) @Parameter(schema =@Schema(type = &quot;string&quot;, format = &quot;binary&quot;))  final SpecializationDto specializationDto,\n        @RequestPart(value = &quot;files&quot;)  final List&lt;MultipartFile&gt; files){\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1796,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70524943,"answer_count":1,"score":4,"last_activity_date":1641071008,"creation_date":1639740822,"question_id":70392548,"body_markdown":"I have a DTO that contains other DTOs and a list of multipart files. I am trying to process that DTO but I can&#39;t seem to be able to read the requst.\r\n\r\n````\r\nclass TeacherDTO {\r\n   private SpecializationDto specializationDto;\r\n   private List&lt;MultipartFile&gt; files;\r\n}\r\n\r\n@PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE},\r\n            produces = {MediaType.APPLICATION_JSON_VALUE})\r\npublic ResponseEntity&lt;Object&gt; saveNewTeacher(@ModelAttribute @Valid TeacherDTO teacherDto){\r\n\r\n//process request\r\n\r\n}\r\n`````\r\nWhen creating an example request from Swagger UI, I get the following exception:\r\n````\r\ntype &#39;java.lang.String&#39; to required type &#39;SpecializationDto&#39; for property &#39;specializationDto&#39;: no matching editors or conversion strategy found\r\n````\r\n\r\nIf I put @RequestBody instead of @ModelAttribute then I get \r\n````\r\nContent type &#39;multipart/form-data;boundary=----WebKitFormBoundaryVEgYwEbpl1bAOjAs;charset=UTF-8&#39; not supported]\r\n`````\r\n\r\nSwagger dependencies: \r\n`````\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n   &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n   &lt;version&gt;1.5.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n   &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\r\n   &lt;version&gt;1.5.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n`````\r\n\r\nOpenAPI3.0 config:\r\n````\r\n\r\n\r\n@Configuration\r\npublic class OpenApi30Config {\r\n\r\n  private final String moduleName;\r\n  private final String apiVersion;\r\n\r\n  public OpenApi30Config(\r\n      @Value(&quot;${spring.application.name}&quot;) String moduleName,\r\n      @Value(&quot;${api.version}&quot;) String apiVersion) {\r\n    this.moduleName = moduleName;\r\n    this.apiVersion = apiVersion;\r\n  }\r\n\r\n  @Bean\r\n  public OpenAPI customOpenAPI() {\r\n    final var securitySchemeName = &quot;bearerAuth&quot;;\r\n    final var apiTitle = String.format(&quot;%s API&quot;, StringUtils.capitalize(moduleName));\r\n    return new OpenAPI()\r\n        .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\r\n        .components(\r\n            new Components()\r\n                .addSecuritySchemes(securitySchemeName,\r\n                    new SecurityScheme()\r\n                        .name(securitySchemeName)\r\n                        .type(SecurityScheme.Type.HTTP)\r\n                        .scheme(&quot;bearer&quot;)\r\n                        .bearerFormat(&quot;JWT&quot;)\r\n                )\r\n        )\r\n        .info(new Info().title(apiTitle).version(apiVersion));\r\n  }\r\n}\r\n`````","title":"Spring MVC POST request with dto that contains multipart files and other dtos","body":"<p>I have a DTO that contains other DTOs and a list of multipart files. I am trying to process that DTO but I can't seem to be able to read the requst.</p>\n<pre><code>class TeacherDTO {\n   private SpecializationDto specializationDto;\n   private List&lt;MultipartFile&gt; files;\n}\n\n@PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE},\n            produces = {MediaType.APPLICATION_JSON_VALUE})\npublic ResponseEntity&lt;Object&gt; saveNewTeacher(@ModelAttribute @Valid TeacherDTO teacherDto){\n\n//process request\n\n}\n</code></pre>\n<p>When creating an example request from Swagger UI, I get the following exception:</p>\n<pre><code>type 'java.lang.String' to required type 'SpecializationDto' for property 'specializationDto': no matching editors or conversion strategy found\n</code></pre>\n<p>If I put @RequestBody instead of @ModelAttribute then I get</p>\n<pre><code>Content type 'multipart/form-data;boundary=----WebKitFormBoundaryVEgYwEbpl1bAOjAs;charset=UTF-8' not supported]\n</code></pre>\n<p>Swagger dependencies:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n   &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n   &lt;version&gt;1.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n   &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n   &lt;version&gt;1.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>OpenAPI3.0 config:</p>\n<pre><code>\n\n@Configuration\npublic class OpenApi30Config {\n\n  private final String moduleName;\n  private final String apiVersion;\n\n  public OpenApi30Config(\n      @Value(&quot;${spring.application.name}&quot;) String moduleName,\n      @Value(&quot;${api.version}&quot;) String apiVersion) {\n    this.moduleName = moduleName;\n    this.apiVersion = apiVersion;\n  }\n\n  @Bean\n  public OpenAPI customOpenAPI() {\n    final var securitySchemeName = &quot;bearerAuth&quot;;\n    final var apiTitle = String.format(&quot;%s API&quot;, StringUtils.capitalize(moduleName));\n    return new OpenAPI()\n        .addSecurityItem(new SecurityRequirement().addList(securitySchemeName))\n        .components(\n            new Components()\n                .addSecuritySchemes(securitySchemeName,\n                    new SecurityScheme()\n                        .name(securitySchemeName)\n                        .type(SecurityScheme.Type.HTTP)\n                        .scheme(&quot;bearer&quot;)\n                        .bearerFormat(&quot;JWT&quot;)\n                )\n        )\n        .info(new Info().title(apiTitle).version(apiVersion));\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","classpath","pom.xml"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1641070255,"post_id":70551370,"comment_id":124715949,"body_markdown":"Your jar must contain the classpath in the meta information when using `-jar`.","body":"Your jar must contain the classpath in the meta information when using <code>-jar</code>."},{"owner":{"account_id":10256311,"reputation":196,"user_id":11235680,"display_name":"Bouji"},"score":0,"creation_date":1641073020,"post_id":70551370,"comment_id":124716374,"body_markdown":"Building a fat jar does resolve the problem. Need to see if it&#39;s not a bad practice though as the jar is for deployment on server.","body":"Building a fat jar does resolve the problem. Need to see if it&#39;s not a bad practice though as the jar is for deployment on server."}],"answers":[{"tags":[],"owner":{"account_id":16109305,"reputation":360,"user_id":11627994,"display_name":"Baran Bursal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641070859,"creation_date":1641070859,"answer_id":70551848,"question_id":70551370,"body_markdown":"In jar&#39;s MANIFEST file there must be dependencies that needed for the application to run. Ensure that you have them.\r\n\r\nAlso `-jar` doesn&#39;t include classpath other than file itself. You can try to run with:\r\n\r\n    java -cp &lt;path&gt;myJar-SNAPSHOT.jar;&lt;path to missing&gt; &lt;your main class&gt;","title":"SLF4J .NoClassDefFoundError when running by command line on jar file","body":"<p>In jar's MANIFEST file there must be dependencies that needed for the application to run. Ensure that you have them.</p>\n<p>Also <code>-jar</code> doesn't include classpath other than file itself. You can try to run with:</p>\n<pre><code>java -cp &lt;path&gt;myJar-SNAPSHOT.jar;&lt;path to missing&gt; &lt;your main class&gt;\n</code></pre>\n"}],"owner":{"account_id":10256311,"reputation":196,"user_id":11235680,"display_name":"Bouji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641073026,"answer_count":1,"score":0,"last_activity_date":1641070859,"creation_date":1641065951,"question_id":70551370,"body_markdown":"I have an app that runs well if I start it using the Intellij button after a mvn clean install (all using the GUI). \r\n\r\nI try to run the generated jar file using the command line:\r\n\r\n    java -jar myJar.jar\r\n\r\nBut I can&#39;t stop running into these errors:\r\n\r\n    java -jar .\\myJar-SNAPSHOT.jar\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n        at data.SecretProvider.&lt;clinit&gt;(SecretProvider.java:14)\r\n\r\nAgain, if I run the app using Intellij, no errors and the logs work. \r\n\r\nI think it&#39;s the way I package my jar in the pom.xml, but I have very to no knowledge about it. \r\nHere&#39;s the pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.bouji&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myjar&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;dv8tion&lt;/id&gt;\r\n            &lt;name&gt;m2-dv8tion&lt;/name&gt;\r\n            &lt;url&gt;https://m2.dv8tion.net/releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0-alpha.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.77&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.163&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jool&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.960&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;CatBot&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nTried reading similar issues on here, but it seems to always be specific to the error/ide. \r\n\r\n","title":"SLF4J .NoClassDefFoundError when running by command line on jar file","body":"<p>I have an app that runs well if I start it using the Intellij button after a mvn clean install (all using the GUI).</p>\n<p>I try to run the generated jar file using the command line:</p>\n<pre><code>java -jar myJar.jar\n</code></pre>\n<p>But I can't stop running into these errors:</p>\n<pre><code>java -jar .\\myJar-SNAPSHOT.jar\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at data.SecretProvider.&lt;clinit&gt;(SecretProvider.java:14)\n</code></pre>\n<p>Again, if I run the app using Intellij, no errors and the logs work.</p>\n<p>I think it's the way I package my jar in the pom.xml, but I have very to no knowledge about it.\nHere's the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.bouji&lt;/groupId&gt;\n&lt;artifactId&gt;myjar&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;dv8tion&lt;/id&gt;\n        &lt;name&gt;m2-dv8tion&lt;/name&gt;\n        &lt;url&gt;https://m2.dv8tion.net/releases&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n        &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0-alpha.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sedmelluq&lt;/groupId&gt;\n        &lt;artifactId&gt;lavaplayer&lt;/artifactId&gt;\n        &lt;version&gt;1.3.77&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.11.163&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n        &lt;artifactId&gt;jool&lt;/artifactId&gt;\n        &lt;version&gt;0.9.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.11.960&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;!-- Build an executable JAR --&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;CatBot&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Tried reading similar issues on here, but it seems to always be specific to the error/ide.</p>\n"},{"tags":["java","html","spring","jsp","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":4381528,"reputation":74,"user_id":3573046,"display_name":"steves165"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464266110,"creation_date":1464266110,"answer_id":37461025,"question_id":37460759,"body_markdown":"JSP files are rendered as HTML anyway, so there is no need to have plain HTML files in your server. You can just give a plain HTML file the extension JSP and it will render fine.\r\n\r\nAlternatively you could set up a HTML renderer within your servlet, which will render HTML. Views are explained here http://docs.spring.io/spring-webflow/docs/current/reference/html/views.html\r\n\r\nAlso you shouldn&#39;t need to reference a file by its extension, in your link you only need &#39;mcq&#39; not &#39;mcq.html&#39;.\r\n\r\nThe other solution is to put your HTML file in the static resources directory, items in the static resources will not be passed through the renderer (However I would not recommend this method as it can cause your project to become unmanageable).","title":"Can&#39;t redirect from jsp to html","body":"<p>JSP files are rendered as HTML anyway, so there is no need to have plain HTML files in your server. You can just give a plain HTML file the extension JSP and it will render fine.</p>\n\n<p>Alternatively you could set up a HTML renderer within your servlet, which will render HTML. Views are explained here <a href=\"http://docs.spring.io/spring-webflow/docs/current/reference/html/views.html\" rel=\"nofollow\">http://docs.spring.io/spring-webflow/docs/current/reference/html/views.html</a></p>\n\n<p>Also you shouldn't need to reference a file by its extension, in your link you only need 'mcq' not 'mcq.html'.</p>\n\n<p>The other solution is to put your HTML file in the static resources directory, items in the static resources will not be passed through the renderer (However I would not recommend this method as it can cause your project to become unmanageable).</p>\n"},{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476725854,"creation_date":1476725854,"answer_id":40092463,"question_id":37460759,"body_markdown":"See:\r\n\r\nhttps://docs.oracle.com/cd/E21764_01/web.1111/e13712/configurewebapp.htm#WBAPP158\r\n\r\n&gt; **Accessing Information in WEB-INF**\r\n&gt; \r\n&gt; The WEB-INF directory is not part of the public document tree of the\r\n&gt; application. **No file contained in the WEB-INF directory can be served\r\n&gt; directly to a client by the container**. **However, the contents of the\r\n&gt; WEB-INF directory are visible to servlet code using the getResource\r\n&gt; and getResourceAsStream() method calls on the ServletContext or\r\n&gt; includes/forwards using the RequestDispatcher**. \r\n\r\nEssentially then you cannot link directly to a resource under WEB-INF. You need to either move your JSP files to some location under webapp root e.g. /webapp/pages/ or, link to a Servlet or Spring Controller which forwards to your JSP resources.\r\n\r\nBest practice is never to link directly to JSP files. You are using Spring should should be mapping to a Controller URL.\r\n\r\n","title":"Can&#39;t redirect from jsp to html","body":"<p>See:</p>\n\n<p><a href=\"https://docs.oracle.com/cd/E21764_01/web.1111/e13712/configurewebapp.htm#WBAPP158\" rel=\"nofollow\">https://docs.oracle.com/cd/E21764_01/web.1111/e13712/configurewebapp.htm#WBAPP158</a></p>\n\n<blockquote>\n  <p><strong>Accessing Information in WEB-INF</strong></p>\n  \n  <p>The WEB-INF directory is not part of the public document tree of the\n  application. <strong>No file contained in the WEB-INF directory can be served\n  directly to a client by the container</strong>. <strong>However, the contents of the\n  WEB-INF directory are visible to servlet code using the getResource\n  and getResourceAsStream() method calls on the ServletContext or\n  includes/forwards using the RequestDispatcher</strong>. </p>\n</blockquote>\n\n<p>Essentially then you cannot link directly to a resource under WEB-INF. You need to either move your JSP files to some location under webapp root e.g. /webapp/pages/ or, link to a Servlet or Spring Controller which forwards to your JSP resources.</p>\n\n<p>Best practice is never to link directly to JSP files. You are using Spring should should be mapping to a Controller URL.</p>\n"},{"tags":[],"owner":{"account_id":10477800,"reputation":11,"user_id":15316041,"display_name":"younessov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641069141,"creation_date":1641067985,"answer_id":70551581,"question_id":37460759,"body_markdown":"\r\nI think you must specify **/WEB-INF/mcq.jsp** instead of **mcq.jsp**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Spring 3.0 MVC Series&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;a href=&quot;/WEB-INF/mcq.jsp&quot;&gt;Get on new adventure.&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can&#39;t redirect from jsp to html","body":"<p>I think you must specify <strong>/WEB-INF/mcq.jsp</strong> instead of <strong>mcq.jsp</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Spring 3.0 MVC Series&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;a href=\"/WEB-INF/mcq.jsp\"&gt;Get on new adventure.&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":4390036,"reputation":544,"user_id":3578771,"accept_rate":67,"display_name":"kenthewala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":937,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641069141,"creation_date":1464265372,"question_id":37460759,"body_markdown":"My project structure is as following\r\n\r\n    gk1\r\n      |_src\r\n          |_main\r\n               |_java\r\n                    |_resources\r\n                    |_webapp\r\n                          |_WEB-INF\r\n                          |_index.jsp\r\n                          |_mcq.jsp\r\n\r\nmy web.xml file looks as\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n      version=&quot;3.0&quot;&gt;\r\n    \r\n      &lt;display-name&gt;gk1&lt;/display-name&gt;\r\n      &lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\r\n    \t\t&lt;/servlet-class&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t\t&lt;async-supported&gt;true&lt;/async-supported&gt;\r\n    \t\t\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n      &lt;welcome-file-list&gt;\r\n    \t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    \t\t\r\n    \t&lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nmy index.jsp is as following\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Spring 3.0 MVC Series&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;a href=&quot;mcq.jsp&quot;&gt;Get on new adventure.&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nwhen i start project, and click on &quot;Get on new adventure.&quot; it doesn&#39;t redirect me to the mcq.html file. it says the resource is not available. But when i Change the mcq.html to mcq.jsp, it runs fine. What should i do to resolve this. I need to show an html page only.","title":"Can&#39;t redirect from jsp to html","body":"<p>My project structure is as following</p>\n\n<pre><code>gk1\n  |_src\n      |_main\n           |_java\n                |_resources\n                |_webapp\n                      |_WEB-INF\n                      |_index.jsp\n                      |_mcq.jsp\n</code></pre>\n\n<p>my web.xml file looks as</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n  version=\"3.0\"&gt;\n\n  &lt;display-name&gt;gk1&lt;/display-name&gt;\n  &lt;servlet&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;async-supported&gt;true&lt;/async-supported&gt;\n\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n  &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>my index.jsp is as following</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Spring 3.0 MVC Series&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;a href=\"mcq.jsp\"&gt;Get on new adventure.&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>when i start project, and click on \"Get on new adventure.\" it doesn't redirect me to the mcq.html file. it says the resource is not available. But when i Change the mcq.html to mcq.jsp, it runs fine. What should i do to resolve this. I need to show an html page only.</p>\n"},{"tags":["java","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641067937,"creation_date":1641067937,"answer_id":70551578,"question_id":70551550,"body_markdown":"Looking at the [sources of OpenJDK 8][jdk8ConcurrentHashMapSoruces], the class `Segment` bears a comment: \r\n\r\n&gt;         /**\r\n&gt;          * Stripped-down version of helper class used in previous version,\r\n&gt;          * declared for the sake of serialization compatibility\r\n&gt;          */\r\n&gt;         static class Segment&lt;K,V&gt; extends ReentrantLock implements Serializable {\r\n&gt;             ...\r\n&gt;         }\r\n\r\nSo it seems to be present only for backwards-compatibility.\r\n\r\n[jdk8ConcurrentHashMapSoruces]: http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#l1370","title":"Segment class in ConcurrentHashMap usage","body":"<p>Looking at the <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ConcurrentHashMap.java#l1370\" rel=\"nofollow noreferrer\">sources of OpenJDK 8</a>, the class <code>Segment</code> bears a comment:</p>\n<blockquote>\n<pre><code>    /**\n     * Stripped-down version of helper class used in previous version,\n     * declared for the sake of serialization compatibility\n     */\n    static class Segment&lt;K,V&gt; extends ReentrantLock implements Serializable {\n        ...\n    }\n</code></pre>\n</blockquote>\n<p>So it seems to be present only for backwards-compatibility.</p>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70551578,"answer_count":1,"score":1,"last_activity_date":1641067937,"creation_date":1641067659,"question_id":70551550,"body_markdown":"Looking into implementation of ConcurrentHashMap, I see that when trying to manipulate it(put/remove), value is found and this value is then used as lock for synchronized code which performs actual manipulation. This way only that bucket is locked where value actually exists.\r\n\r\nI also see a class Segment declared and in many resources available online its mentioned that this is used to implement concurrency. But I couldn&#39;t find any code in implementation using Segment for synchronization implementation.\r\n\r\nSo what actually I miss here?\r\n\r\nI am looking into java 11.","title":"Segment class in ConcurrentHashMap usage","body":"<p>Looking into implementation of ConcurrentHashMap, I see that when trying to manipulate it(put/remove), value is found and this value is then used as lock for synchronized code which performs actual manipulation. This way only that bucket is locked where value actually exists.</p>\n<p>I also see a class Segment declared and in many resources available online its mentioned that this is used to implement concurrency. But I couldn't find any code in implementation using Segment for synchronization implementation.</p>\n<p>So what actually I miss here?</p>\n<p>I am looking into java 11.</p>\n"},{"tags":["java","class","generics","casting","stack"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1641065739,"creation_date":1641065739,"answer_id":70551346,"question_id":70551317,"body_markdown":"You can refer to a typed array by adding `[]` after the class name:\r\n\r\n```java\r\nmyStack = new Stack&lt;MyClass&gt;(MyClass[].class, 100);\r\n```","title":"Parameter to pass in for type Class&lt;T[]&gt;","body":"<p>You can refer to a typed array by adding <code>[]</code> after the class name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myStack = new Stack&lt;MyClass&gt;(MyClass[].class, 100);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1641067300,"creation_date":1641066577,"answer_id":70551434,"question_id":70551317,"body_markdown":"The overall design of this implementation is brittle. We are mixing two language constructs: arrays and generics. These two constructs differ in two major ways: arrays are covariant and retained, while generics are invariant and erased (see [this question][eagertoLearnQuestion] by [eagertoLearn][eagertoLearn] as to why). Mixing both is a recipe for disaster.  \r\nFurthermore, we need the component type to call [`Array::newInstance`][ArrayNewInstanceApi]. Right now, we pass along the container-type.\r\n\r\nI would recommend to use an `Object[]` as backing data structure and make the accessors generic to guarantee type-safety. This is also the approach taken by [`ArrayList`][ArrayListSource]. This approach will result in (at least) one unchecked cast that cannot be avoided. I leave it to the reader to\r\n\r\n- find the unchecked cast in `ArrayList`\r\n- argue why the cast is rectified and will never result in an actual `ClassCastException` as long as the interal array is never leaked.\r\n\r\n[eagertoLearnQuestion]: https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant\r\n\r\n[eagertoLearn]: https://stackoverflow.com/users/2708477/eagertolearn\r\n\r\n[ArrayNewInstanceApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Array.html#newInstance(java.lang.Class,int)\r\n\r\n[ArrayListSource]: https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java","title":"Parameter to pass in for type Class&lt;T[]&gt;","body":"<p>The overall design of this implementation is brittle. We are mixing two language constructs: arrays and generics. These two constructs differ in two major ways: arrays are covariant and retained, while generics are invariant and erased (see <a href=\"https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant\">this question</a> by <a href=\"https://stackoverflow.com/users/2708477/eagertolearn\">eagertoLearn</a> as to why). Mixing both is a recipe for disaster.<br />\nFurthermore, we need the component type to call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Array.html#newInstance(java.lang.Class,int)\" rel=\"nofollow noreferrer\"><code>Array::newInstance</code></a>. Right now, we pass along the container-type.</p>\n<p>I would recommend to use an <code>Object[]</code> as backing data structure and make the accessors generic to guarantee type-safety. This is also the approach taken by <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>. This approach will result in (at least) one unchecked cast that cannot be avoided. I leave it to the reader to</p>\n<ul>\n<li>find the unchecked cast in <code>ArrayList</code></li>\n<li>argue why the cast is rectified and will never result in an actual <code>ClassCastException</code> as long as the interal array is never leaked.</li>\n</ul>\n"}],"owner":{"account_id":19631673,"reputation":38,"user_id":14369848,"display_name":"nix_s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70551434,"answer_count":2,"score":0,"last_activity_date":1641067300,"creation_date":1641065429,"question_id":70551317,"body_markdown":"I am trying to make a generic Stack class as shown\r\n\r\n    public class Stack&lt;T&gt; {\r\n        public Stack(Class&lt;T[]&gt; type, int capacity) {\r\n            this.capacity = capacity;\r\n            array = type.cast(Array.newInstance(type,capacity));\r\n        }\r\n    }\r\n\r\nbut am unsure of what to put in for type when instantiating since I thought of doing\r\n\r\n    MyClass[] c = new MyClass[0];\r\n    myStack = new Stack&lt;MyClass&gt;(c.getClass(), 100);\r\n\r\nhowever I get the following error of\r\n\r\n    Required type: Class &lt;MyClass[]&gt;\r\n    Provided: Class &lt;capture of ? extends MyClass[]&gt;\r\n\r\nso I thought of using\r\n\r\n    c.getClass().cast()\\\r\n\r\nbut I am unsure of what to put inside of cast() since it won&#39;t take\r\n\r\n    Class&lt;MyClass[]&gt;\r\n\r\nnow I am stuck.","title":"Parameter to pass in for type Class&lt;T[]&gt;","body":"<p>I am trying to make a generic Stack class as shown</p>\n<pre><code>public class Stack&lt;T&gt; {\n    public Stack(Class&lt;T[]&gt; type, int capacity) {\n        this.capacity = capacity;\n        array = type.cast(Array.newInstance(type,capacity));\n    }\n}\n</code></pre>\n<p>but am unsure of what to put in for type when instantiating since I thought of doing</p>\n<pre><code>MyClass[] c = new MyClass[0];\nmyStack = new Stack&lt;MyClass&gt;(c.getClass(), 100);\n</code></pre>\n<p>however I get the following error of</p>\n<pre><code>Required type: Class &lt;MyClass[]&gt;\nProvided: Class &lt;capture of ? extends MyClass[]&gt;\n</code></pre>\n<p>so I thought of using</p>\n<pre><code>c.getClass().cast()\\\n</code></pre>\n<p>but I am unsure of what to put inside of cast() since it won't take</p>\n<pre><code>Class&lt;MyClass[]&gt;\n</code></pre>\n<p>now I am stuck.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"owner":{"account_id":17805138,"reputation":21,"user_id":12930998,"display_name":"Jakub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641067025,"creation_date":1641055622,"question_id":70550298,"body_markdown":"I&#39;ve created 2 entity classes that are connected with each other. I&#39;ve also made a simple service, rest controller, configuration class, unit test and method with @Scheduled annotation. Service class looks like this:\r\n```java\r\n@Service\r\npublic class EntityService {\r\n\r\n    @Autowired\r\n    private Entity1Repository entity1Repository;\r\n\r\n    @Autowired\r\n    private Entity2Repository entity2Repository;\r\n\r\n    public void saveEntity1() {\r\n        entity1Repository.save(new Entity1(new Entity2(&quot;&quot;)));\r\n\r\n        entity2Repository.save(new Entity2(&quot;&quot;));\r\n        entity1Repository.save(new Entity1(entity2Repository.findAll().get(0)));\r\n    }\r\n}\r\n```\r\nConfiguration class has method:\r\n```java\r\n@Bean\r\npublic CommandLineRunner test(EntityService service) {\r\n    return args -&gt; service.saveEntity1();\r\n}\r\n```\r\nRest controller, unit test and @Scheduled method are similar to the configuration, they just call saveEntity1 method from the service class.\r\n&lt;br&gt;\r\nThe problem is that saveEntity1 method throws exception:\r\n```\r\norg.hibernate.PersistentObjectException: detached entity passed to persist: com.example.test.Entity2\r\n```\r\nEvery time it&#39;s not called from rest controller.\r\n&lt;br&gt;\r\n\r\nAfter changing cascade to ```CascadeType.MERGE``` I was able to execute:\r\n```java\r\nentity2Repository.save(new Entity2(&quot;&quot;));\r\nentity1Repository.save(new Entity1(entity2Repository.findAll().get(0)));\r\n```\r\nin EntityService from configuration etc without throwing an exception, but the line:\r\n```java\r\nentity1Repository.save(new Entity1(new Entity2(&quot;&quot;)));\r\n```\r\nwas still throwing exception.\r\n&lt;br&gt;\r\nMy goal is to be able to use my service from rest controller, configuration, unit test etc\r\n&lt;br&gt;\r\nHere are my entity classes:\r\n```java\r\n@Entity\r\n@Table(name = &quot;entity1&quot;)\r\npublic class Entity1 implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @JoinColumn(name = &quot;entity2_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @ManyToOne(optional = false, cascade = CascadeType.ALL)\r\n    private Entity2 entity2;\r\n\r\n    public Entity1() {\r\n    }\r\n\r\n    public Entity1(Entity2 ent) {\r\n        this.entity2 = ent;\r\n    }\r\n\r\n    public Entity1(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Entity2 getEntity2Id() {\r\n        return entity2;\r\n    }\r\n\r\n    public void setEntity2Id(Entity2 entity2Id) {\r\n        this.entity2 = entity2Id;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;entity2&quot;)\r\npublic class Entity2 implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String str;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;entity2&quot;)\r\n    private List&lt;Entity1&gt; entity1List;\r\n\r\n    public Entity2() {\r\n    }\r\n\r\n    public Entity2(String str) {\r\n        this.str = str;\r\n    }\r\n\r\n    public Entity2(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getStr() {\r\n        return str;\r\n    }\r\n\r\n    public void setStr(String str) {\r\n        this.str = str;\r\n    }\r\n\r\n    public List&lt;Entity1&gt; getEntity1List() {\r\n        return entity1List;\r\n    }\r\n\r\n    public void setEntity1List(List&lt;Entity1&gt; entity1List) {\r\n        this.entity1List = entity1List;\r\n    }\r\n}\r\n```","title":"How to make Jpa repository work in unit tests and configuration?","body":"<p>I've created 2 entity classes that are connected with each other. I've also made a simple service, rest controller, configuration class, unit test and method with @Scheduled annotation. Service class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class EntityService {\n\n    @Autowired\n    private Entity1Repository entity1Repository;\n\n    @Autowired\n    private Entity2Repository entity2Repository;\n\n    public void saveEntity1() {\n        entity1Repository.save(new Entity1(new Entity2(&quot;&quot;)));\n\n        entity2Repository.save(new Entity2(&quot;&quot;));\n        entity1Repository.save(new Entity1(entity2Repository.findAll().get(0)));\n    }\n}\n</code></pre>\n<p>Configuration class has method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic CommandLineRunner test(EntityService service) {\n    return args -&gt; service.saveEntity1();\n}\n</code></pre>\n<p>Rest controller, unit test and @Scheduled method are similar to the configuration, they just call saveEntity1 method from the service class.\n<br>\nThe problem is that saveEntity1 method throws exception:</p>\n<pre><code>org.hibernate.PersistentObjectException: detached entity passed to persist: com.example.test.Entity2\n</code></pre>\n<p>Every time it's not called from rest controller.\n<br></p>\n<p>After changing cascade to <code>CascadeType.MERGE</code> I was able to execute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entity2Repository.save(new Entity2(&quot;&quot;));\nentity1Repository.save(new Entity1(entity2Repository.findAll().get(0)));\n</code></pre>\n<p>in EntityService from configuration etc without throwing an exception, but the line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entity1Repository.save(new Entity1(new Entity2(&quot;&quot;)));\n</code></pre>\n<p>was still throwing exception.\n<br>\nMy goal is to be able to use my service from rest controller, configuration, unit test etc\n<br>\nHere are my entity classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;entity1&quot;)\npublic class Entity1 implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @JoinColumn(name = &quot;entity2_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ManyToOne(optional = false, cascade = CascadeType.ALL)\n    private Entity2 entity2;\n\n    public Entity1() {\n    }\n\n    public Entity1(Entity2 ent) {\n        this.entity2 = ent;\n    }\n\n    public Entity1(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Entity2 getEntity2Id() {\n        return entity2;\n    }\n\n    public void setEntity2Id(Entity2 entity2Id) {\n        this.entity2 = entity2Id;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;entity2&quot;)\npublic class Entity2 implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String str;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;entity2&quot;)\n    private List&lt;Entity1&gt; entity1List;\n\n    public Entity2() {\n    }\n\n    public Entity2(String str) {\n        this.str = str;\n    }\n\n    public Entity2(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getStr() {\n        return str;\n    }\n\n    public void setStr(String str) {\n        this.str = str;\n    }\n\n    public List&lt;Entity1&gt; getEntity1List() {\n        return entity1List;\n    }\n\n    public void setEntity1List(List&lt;Entity1&gt; entity1List) {\n        this.entity1List = entity1List;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","picasso"],"answers":[{"tags":[],"owner":{"account_id":13917119,"reputation":11,"user_id":10048600,"display_name":"Czral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641066638,"creation_date":1641066638,"answer_id":70551443,"question_id":70534391,"body_markdown":"Have you tried using the error code?\r\n\r\nPicasso allows you to use an image as error (in case the intended image is not loaded properly) like:\r\n\r\n        Uri otherPath = Uri.parse(&quot;android.resource://com.example.package/drawable/&quot; + logoSym);\r\n        Picasso.get().load(otherPath).error(R.drawable.image).into(holder.logoId);\r\n\r\nBe careful that in the error(...), an Integer value is acceptable, such error(R.drawable.image)\r\n\r\n","title":"Picasso loading drawable-night only","body":"<p>Have you tried using the error code?</p>\n<p>Picasso allows you to use an image as error (in case the intended image is not loaded properly) like:</p>\n<pre><code>    Uri otherPath = Uri.parse(&quot;android.resource://com.example.package/drawable/&quot; + logoSym);\n    Picasso.get().load(otherPath).error(R.drawable.image).into(holder.logoId);\n</code></pre>\n<p>Be careful that in the error(...), an Integer value is acceptable, such error(R.drawable.image)</p>\n"}],"owner":{"account_id":23473715,"reputation":13,"user_id":17526828,"display_name":"Dixio Developers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641066638,"creation_date":1640882733,"question_id":70534391,"body_markdown":"I have been trying to figure out a way to make Picasso load drawable because I want something different.\r\n\r\nI figured out the way and this is what I am using,\r\n\r\n```\r\n        String logoSym;\r\n        logoSym = datum.getSymbol().toLowerCase(Locale.ROOT);\r\n\r\n        Uri otherPath = Uri.parse(&quot;android.resource://com.example.package/drawable/&quot; + logoSym);\r\n        Picasso.get().load(otherPath).into(holder.logoId);\r\n```\r\n\r\nNow the problem is, I have drawable and drawable-night. Also I am using Shared Prefences as in my app settings, I made an option there to switch between Dark and Light mode.\r\n\r\nSo the problem is, If the drawable I am trying to load in Picasso have its -night version too in drawable-night. The drawable will only be loaded in night mode and if I switch back to light mode. There will be no drawable loaded.\r\n\r\nBut if I will delete the night version of it from drawable-night. Then the light version will be loaded in light mode and the night mode too.\r\n\r\nPlease help me out, I have no idea whats wrong.","title":"Picasso loading drawable-night only","body":"<p>I have been trying to figure out a way to make Picasso load drawable because I want something different.</p>\n<p>I figured out the way and this is what I am using,</p>\n<pre><code>        String logoSym;\n        logoSym = datum.getSymbol().toLowerCase(Locale.ROOT);\n\n        Uri otherPath = Uri.parse(&quot;android.resource://com.example.package/drawable/&quot; + logoSym);\n        Picasso.get().load(otherPath).into(holder.logoId);\n</code></pre>\n<p>Now the problem is, I have drawable and drawable-night. Also I am using Shared Prefences as in my app settings, I made an option there to switch between Dark and Light mode.</p>\n<p>So the problem is, If the drawable I am trying to load in Picasso have its -night version too in drawable-night. The drawable will only be loaded in night mode and if I switch back to light mode. There will be no drawable loaded.</p>\n<p>But if I will delete the night version of it from drawable-night. Then the light version will be loaded in light mode and the night mode too.</p>\n<p>Please help me out, I have no idea whats wrong.</p>\n"},{"tags":["java","rotation","maps","coordinates","processing"],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641066337,"creation_date":1474817906,"answer_id":39688678,"question_id":39688569,"body_markdown":"You could just call the `rotate()` function. From [the reference](https://processing.org/reference/rotate_.html):\r\n\r\n    translate(width/2, height/2);\r\n    rotate(PI/3.0);\r\n    rect(-26, -26, 52, 52);\r\n\r\n[![rotated square][1]][1]\r\n\r\nNote that you also have to call the `translate()` function to set the point to be rotated around, then draw relative to that point.\r\n\r\nIf you don&#39;t want to use the `rotate()` function, then you&#39;re first going to have to figure out what point to rotate around, and then rotate around that point. Googling &quot;rotate a point around another point&quot; returns a bunch of results, including this Stack Overflow post: https://stackoverflow.com/questions/2259476/rotating-a-point-about-another-point-2d\n\n [1]: https://i.stack.imgur.com/XvEPJ.png","title":"Rotating lat,long coordinates that have been converted to pixels","body":"<p>You could just call the <code>rotate()</code> function. From <a href=\"https://processing.org/reference/rotate_.html\" rel=\"nofollow noreferrer\">the reference</a>:</p>\n<pre><code>translate(width/2, height/2);\nrotate(PI/3.0);\nrect(-26, -26, 52, 52);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XvEPJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XvEPJ.png\" alt=\"rotated square\" /></a></p>\n<p>Note that you also have to call the <code>translate()</code> function to set the point to be rotated around, then draw relative to that point.</p>\n<p>If you don't want to use the <code>rotate()</code> function, then you're first going to have to figure out what point to rotate around, and then rotate around that point. Googling &quot;rotate a point around another point&quot; returns a bunch of results, including this Stack Overflow post: <a href=\"https://stackoverflow.com/questions/2259476/rotating-a-point-about-another-point-2d\">Rotating a point about another point (2D)</a></p>\n"}],"owner":{"account_id":2511864,"reputation":85,"user_id":2184146,"accept_rate":50,"display_name":"OptOut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39688678,"answer_count":1,"score":1,"last_activity_date":1641066337,"creation_date":1474817233,"question_id":39688569,"body_markdown":"I am trying to display a map of a city using lat/long coordinates from a `.csv` file. These values have to be converted into `x` and `y` values in order to be displayed on the screen using Processing. My teacher gave me this code that does just this however for my coordinates the outputted map is rotated 90 degrees. \r\n\r\n\t// 1. normalize the value between the minimum and maximum latitude or longitude values (new value between 0 and 1)\r\n\t// 2. blow up the value between 0 and 1 by muliplying by the width or height of the screen (reduced by the margin 2 * 20 pixel)\r\n\t// 3. shift the position by 20 pixel for the margin\r\n\tfloat xPosition = 20 + (width-40) * norm(l.longitude, minLongCoord, maxLongCoord);\r\n\tfloat yPosition = 20 + (height-40) * norm(l.latitude, minLatCoord, maxLatCoord);\r\n\r\nDoes anyone know how to rotate the `x` and `y` positions 90 degrees and in turn the outputted map from coordinates?\r\n\r\nEDIT: The problem with translate is that if i have a mouse clicked function see what shape the mouse is over, the click and what shape the mouse is over are not aligned.","title":"Rotating lat,long coordinates that have been converted to pixels","body":"<p>I am trying to display a map of a city using lat/long coordinates from a <code>.csv</code> file. These values have to be converted into <code>x</code> and <code>y</code> values in order to be displayed on the screen using Processing. My teacher gave me this code that does just this however for my coordinates the outputted map is rotated 90 degrees. </p>\n\n<pre><code>// 1. normalize the value between the minimum and maximum latitude or longitude values (new value between 0 and 1)\n// 2. blow up the value between 0 and 1 by muliplying by the width or height of the screen (reduced by the margin 2 * 20 pixel)\n// 3. shift the position by 20 pixel for the margin\nfloat xPosition = 20 + (width-40) * norm(l.longitude, minLongCoord, maxLongCoord);\nfloat yPosition = 20 + (height-40) * norm(l.latitude, minLatCoord, maxLatCoord);\n</code></pre>\n\n<p>Does anyone know how to rotate the <code>x</code> and <code>y</code> positions 90 degrees and in turn the outputted map from coordinates?</p>\n\n<p>EDIT: The problem with translate is that if i have a mouse clicked function see what shape the mouse is over, the click and what shape the mouse is over are not aligned.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1453474475,"creation_date":1453474475,"answer_id":34949543,"question_id":34949422,"body_markdown":"    comboBox.getSelectionModel().selectFirst();","title":"How to set default value in comboBox javafx?","body":"<pre><code>comboBox.getSelectionModel().selectFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1833026,"reputation":1627,"user_id":1663987,"accept_rate":78,"display_name":"simpleuser"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1517466482,"creation_date":1493764234,"answer_id":43748243,"question_id":34949422,"body_markdown":"    comboBox.getSelectionModel().select(index);\r\n\r\nwhere `index` is the [integer position][1] of the item to select in the selection model, or a [value][2] from and of the same type as the arrayList.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/SingleSelectionModel.html#select-int-\r\n  [2]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/SingleSelectionModel.html#select-T-","title":"How to set default value in comboBox javafx?","body":"<pre><code>comboBox.getSelectionModel().select(index);\n</code></pre>\n\n<p>where <code>index</code> is the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/SingleSelectionModel.html#select-int-\" rel=\"noreferrer\">integer position</a> of the item to select in the selection model, or a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/SingleSelectionModel.html#select-T-\" rel=\"noreferrer\">value</a> from and of the same type as the arrayList.</p>\n"},{"tags":[],"owner":{"account_id":21460035,"reputation":1,"user_id":15810990,"display_name":"Alen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641065331,"creation_date":1641065331,"answer_id":70551305,"question_id":34949422,"body_markdown":"\r\n\r\n    comboBox.getSelectionModel().clearSelection();\r\n\r\nI was just looking for a way to leave it in the same way I had started with, in my case with an introductory text","title":"How to set default value in comboBox javafx?","body":"<pre><code>comboBox.getSelectionModel().clearSelection();\n</code></pre>\n<p>I was just looking for a way to leave it in the same way I had started with, in my case with an introductory text</p>\n"}],"owner":{"account_id":5334553,"reputation":1551,"user_id":4254056,"accept_rate":58,"display_name":"Shersha Fn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63018,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":34949543,"answer_count":3,"score":26,"last_activity_date":1641065331,"creation_date":1453474065,"question_id":34949422,"body_markdown":"I need to set a default value for a `ComboBox` from an `ObservableArrayList`, I am trying to set the first value in my `ArrayList` as a default value.\r\n\r\n    List = FXCollections.observableArrayList(arrayList);\r\n    comboBox.setItems(List);\r\n\r\n       ","title":"How to set default value in comboBox javafx?","body":"<p>I need to set a default value for a <code>ComboBox</code> from an <code>ObservableArrayList</code>, I am trying to set the first value in my <code>ArrayList</code> as a default value.</p>\n\n<pre><code>List = FXCollections.observableArrayList(arrayList);\ncomboBox.setItems(List);\n</code></pre>\n"},{"tags":["java","selenium","email","smtp"],"answers":[{"tags":[],"owner":{"account_id":23577973,"reputation":88,"user_id":17623544,"display_name":"mistelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639069889,"creation_date":1639069889,"answer_id":70293962,"question_id":70293840,"body_markdown":"SMTP have 2 different ports \r\nPORTS for **SSL** 465\r\nPORTS for **TLS/STARTTLS** 587 \r\ndid you try with another ports ? ","title":"Java Mail Exception Error Unknown SMTP host: smtp.gmail.com is E-mail is not send","body":"<p>SMTP have 2 different ports\nPORTS for <strong>SSL</strong> 465\nPORTS for <strong>TLS/STARTTLS</strong> 587\ndid you try with another ports ?</p>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639133348,"creation_date":1639133348,"answer_id":70303314,"question_id":70293840,"body_markdown":"Please try with port 25.\r\n\r\n    props.setProperty(&quot;mail.smtp.port&quot;, &quot;25&quot;);","title":"Java Mail Exception Error Unknown SMTP host: smtp.gmail.com is E-mail is not send","body":"<p>Please try with port 25.</p>\n<pre><code>props.setProperty(&quot;mail.smtp.port&quot;, &quot;25&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639337313,"creation_date":1639337313,"answer_id":70326969,"question_id":70293840,"body_markdown":"I understand that you&#39;ve setup gmail account and enabled less secured apps, but Gmail account automatically turns off &quot;allow less secured apps&quot; option after some period of inactivity. If this code worked before,  try to check your gmail account settings again.","title":"Java Mail Exception Error Unknown SMTP host: smtp.gmail.com is E-mail is not send","body":"<p>I understand that you've setup gmail account and enabled less secured apps, but Gmail account automatically turns off &quot;allow less secured apps&quot; option after some period of inactivity. If this code worked before,  try to check your gmail account settings again.</p>\n"},{"tags":[],"owner":{"account_id":17350862,"reputation":15,"user_id":12569370,"display_name":"MASUM RAZA"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641065172,"creation_date":1641065172,"answer_id":70551293,"question_id":70293840,"body_markdown":"In my case i  was change ports after that it&#39;s working properly","title":"Java Mail Exception Error Unknown SMTP host: smtp.gmail.com is E-mail is not send","body":"<p>In my case i  was change ports after that it's working properly</p>\n"}],"owner":{"account_id":17350862,"reputation":15,"user_id":12569370,"display_name":"MASUM RAZA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70293962,"answer_count":4,"score":0,"last_activity_date":1641065172,"creation_date":1639069323,"question_id":70293840,"body_markdown":"I am trying to send Emails through Gmail but exception &quot;**Unknown SMTP host: smtp.gmail.com**&quot;.\r\nI already **Turned on** Less secure app access and Two Step Verification should be **turned off**.\r\n\r\n\r\n    public class MonitoringMail\r\n    {\r\n    \tpublic void sendMail(String mailServer, String from, String[] to, String subject, String messageBody) throws MessagingException, AddressException\r\n    \t{\r\n    \t\tboolean debug = false;\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \t\tprops.put(&quot;mail.smtp.EnableSSL.enable&quot;,&quot;true&quot;);\r\n    \t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \r\n    \t\tprops.put(&quot;mail.smtp.host&quot;, mailServer); \r\n    \t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \t\t\r\n    \t     props.setProperty(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);   \r\n    \t     props.setProperty(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);   \r\n    \t     props.setProperty(&quot;mail.smtp.port&quot;, &quot;465&quot;);   \r\n    \t     props.setProperty(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;); \r\n    \r\n    \t\t\r\n    \t\t  Authenticator auth = new SMTPAuthenticator();\r\n    \t\t    Session session = Session.getDefaultInstance(props, auth);\r\n    \r\n    \t\t    session.setDebug(debug);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tTransport bus = session.getTransport(&quot;smtp&quot;);\r\n    \t\t\tbus.connect();\r\n                Message message = new MimeMessage(session);\r\n            \r\n             //X-Priority values are generally numbers like 1 (for highest priority), 3 (normal) and 5 (lowest).\r\n                \r\n                 message.addHeader(&quot;X-Priority&quot;, &quot;1&quot;);\r\n                 message.setFrom(new InternetAddress(from));\r\n                 InternetAddress[] addressTo = new InternetAddress[to.length];\r\n                 for (int i = 0; i &lt; to.length; i++)\r\n          \t\t addressTo[i] = new InternetAddress(to[i]);\r\n                 message.setRecipients(Message.RecipientType .TO, addressTo);\r\n                 message.setSubject(subject);\r\n                      \r\n                 \r\n                 BodyPart body = new MimeBodyPart();\r\n    \r\n                // body.setText(messageBody);\r\n                body.setContent(messageBody,&quot;text/html&quot;);\r\n    \r\n                 MimeMultipart multipart = new MimeMultipart();\r\n                 multipart.addBodyPart(body);\r\n                // multipart.addBodyPart(attachment);\r\n                 message.setContent(multipart);\r\n                 Transport.send(message);\r\n                 System.out.println(&quot;Sucessfully Sent mail to All Users&quot;);\r\n             \t bus.close();\r\n        \t\t\r\n    \t\t}\r\n    \t\tcatch (MessagingException mex)\r\n    \t\t{\r\n                mex.printStackTrace();\r\n            }\t\t\r\n    \t} \r\n\r\nIt&#39;s working earlier but one week later I got an exception.\r\nI try to resolve this exception and I spent 3 days but I cant resolve these issues please try to resolve this.\r\n ","title":"Java Mail Exception Error Unknown SMTP host: smtp.gmail.com is E-mail is not send","body":"<p>I am trying to send Emails through Gmail but exception &quot;<strong>Unknown SMTP host: smtp.gmail.com</strong>&quot;.\nI already <strong>Turned on</strong> Less secure app access and Two Step Verification should be <strong>turned off</strong>.</p>\n<pre><code>public class MonitoringMail\n{\n    public void sendMail(String mailServer, String from, String[] to, String subject, String messageBody) throws MessagingException, AddressException\n    {\n        boolean debug = false;\n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.EnableSSL.enable&quot;,&quot;true&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n        props.put(&quot;mail.smtp.host&quot;, mailServer); \n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        \n         props.setProperty(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);   \n         props.setProperty(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);   \n         props.setProperty(&quot;mail.smtp.port&quot;, &quot;465&quot;);   \n         props.setProperty(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;); \n\n        \n          Authenticator auth = new SMTPAuthenticator();\n            Session session = Session.getDefaultInstance(props, auth);\n\n            session.setDebug(debug);\n        \n        try\n        {\n            \n            \n            Transport bus = session.getTransport(&quot;smtp&quot;);\n            bus.connect();\n            Message message = new MimeMessage(session);\n        \n         //X-Priority values are generally numbers like 1 (for highest priority), 3 (normal) and 5 (lowest).\n            \n             message.addHeader(&quot;X-Priority&quot;, &quot;1&quot;);\n             message.setFrom(new InternetAddress(from));\n             InternetAddress[] addressTo = new InternetAddress[to.length];\n             for (int i = 0; i &lt; to.length; i++)\n             addressTo[i] = new InternetAddress(to[i]);\n             message.setRecipients(Message.RecipientType .TO, addressTo);\n             message.setSubject(subject);\n                  \n             \n             BodyPart body = new MimeBodyPart();\n\n            // body.setText(messageBody);\n            body.setContent(messageBody,&quot;text/html&quot;);\n\n             MimeMultipart multipart = new MimeMultipart();\n             multipart.addBodyPart(body);\n            // multipart.addBodyPart(attachment);\n             message.setContent(multipart);\n             Transport.send(message);\n             System.out.println(&quot;Sucessfully Sent mail to All Users&quot;);\n             bus.close();\n            \n        }\n        catch (MessagingException mex)\n        {\n            mex.printStackTrace();\n        }       \n    } \n</code></pre>\n<p>It's working earlier but one week later I got an exception.\nI try to resolve this exception and I spent 3 days but I cant resolve these issues please try to resolve this.</p>\n"},{"tags":["java","switch-statement","output"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1641059450,"post_id":70550692,"comment_id":124714046,"body_markdown":"You seem to be using the [for-switch loop antipattern](https://en.wikipedia.org/wiki/Loop-switch_sequence). I&#39;d recommend learning away from that kind of design, and using methods instead. The usages of `switch` here are poor and forced (there&#39;s no use in having a switch for a correct/incorrect answer).","body":"You seem to be using the <a href=\"https://en.wikipedia.org/wiki/Loop-switch_sequence\" rel=\"nofollow noreferrer\">for-switch loop antipattern</a>. I&#39;d recommend learning away from that kind of design, and using methods instead. The usages of <code>switch</code> here are poor and forced (there&#39;s no use in having a switch for a correct/incorrect answer)."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1641060540,"post_id":70550692,"comment_id":124714270,"body_markdown":"`correctChecker = &quot;Pheobe&quot;.equals(answer);` -- you don&#39;t need any kind of branching statement to determine if one `String` is equal to another. Nesting `switch` statements is *confusing*.","body":"<code>correctChecker = &quot;Pheobe&quot;.equals(answer);</code> -- you don&#39;t need any kind of branching statement to determine if one <code>String</code> is equal to another. Nesting <code>switch</code> statements is <i>confusing</i>."},{"owner":{"account_id":5747143,"reputation":13,"user_id":4538050,"display_name":"Christina DeRyke"},"score":0,"creation_date":1641066001,"post_id":70550692,"comment_id":124715271,"body_markdown":"I&#39;m only using this program to learn how to use the switch. I&#39;ve never used a switch statement, I&#39;ve always ignored it because I didn&#39;t think it was the best way to handle most situations I have encountered. I still want to figure out how to use it effectively in case I need it in the future.","body":"I&#39;m only using this program to learn how to use the switch. I&#39;ve never used a switch statement, I&#39;ve always ignored it because I didn&#39;t think it was the best way to handle most situations I have encountered. I still want to figure out how to use it effectively in case I need it in the future."},{"owner":{"account_id":5747143,"reputation":13,"user_id":4538050,"display_name":"Christina DeRyke"},"score":0,"creation_date":1641068406,"post_id":70550692,"comment_id":124715663,"body_markdown":"It&#39;s working now. I did switch it away from the nested switch statements, but at least the inner and outer commands will help me do that if I need to in the future. Thank you all for your help.","body":"It&#39;s working now. I did switch it away from the nested switch statements, but at least the inner and outer commands will help me do that if I need to in the future. Thank you all for your help."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641062972,"creation_date":1641062972,"answer_id":70551094,"question_id":70550692,"body_markdown":"There are many, many problems with this code. The primary issue is that `break` breaks the closest construct it can break, which in your case is the __inner__ `switch`. Whereas your intent is clearly to break out of both. Either [A] add another `break` right before the `case 1:` statement, or [B] use a labelled break; put something like `outer:` _before_ the first (primary/outer) `switch`, and then make all those statements `break outer;`.\r\n\r\nBut, really, none of this (either the outer or the inner) are in any way sensible in switch form. I get that this is a learning exercise, but I&#39;d think of something else to learn with.\r\n\r\nAlso, it&#39;s Phoebe, not Pheobe.\r\n","title":"Why isn&#39;t my output showing after my switch statement","body":"<p>There are many, many problems with this code. The primary issue is that <code>break</code> breaks the closest construct it can break, which in your case is the <strong>inner</strong> <code>switch</code>. Whereas your intent is clearly to break out of both. Either [A] add another <code>break</code> right before the <code>case 1:</code> statement, or [B] use a labelled break; put something like <code>outer:</code> <em>before</em> the first (primary/outer) <code>switch</code>, and then make all those statements <code>break outer;</code>.</p>\n<p>But, really, none of this (either the outer or the inner) are in any way sensible in switch form. I get that this is a learning exercise, but I'd think of something else to learn with.</p>\n<p>Also, it's Phoebe, not Pheobe.</p>\n"},{"tags":[],"owner":{"account_id":17940403,"reputation":70,"user_id":13035798,"display_name":"o.no"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641064999,"creation_date":1641064590,"answer_id":70551248,"question_id":70550692,"body_markdown":"This definitely isn&#39;t the best way of achieving a quiz game, but if you&#39;re using this as a learning exercise then the best course of action is to take the advice from @rzwitserloot. \r\n\r\nAdd a break after your main switch statement cases as opposed to the inner switch statement.\r\n\r\nThere is no real use having an inner switch statement though when you can use `correctChecker = &quot;Pheobe&quot;.equals(answer);` to get a true or false boolean value in a single line. \r\n\r\nThis just means you can avoid the second switch statement which makes it way less confusing.\r\n\r\nAltogether your cases could look something like this:\r\n\r\n    \r\n        case 0: \r\n            System.out.println(&quot;Who read the spell that gave the Charmed Ones their powers?&quot;);\r\n            System.out.println(&quot;Enter your answer&quot;);\r\n\r\n            answer = myScanner.nextLine();\r\n            correctChecker = &quot;Pheobe&quot;.equals(answer);\r\n            break;\r\n            \r\n            }\r\nIn future, it would be better to store questions and answers in an array and use the for loop to iterate through that. [This](https://www.youtube.com/watch?time_continue=686&amp;v=nCIjHTlztNg&amp;feature=emb_title) is a good tutorial on the subject.\r\n\r\nGood luck with the rest of your project!","title":"Why isn&#39;t my output showing after my switch statement","body":"<p>This definitely isn't the best way of achieving a quiz game, but if you're using this as a learning exercise then the best course of action is to take the advice from @rzwitserloot.</p>\n<p>Add a break after your main switch statement cases as opposed to the inner switch statement.</p>\n<p>There is no real use having an inner switch statement though when you can use <code>correctChecker = &quot;Pheobe&quot;.equals(answer);</code> to get a true or false boolean value in a single line.</p>\n<p>This just means you can avoid the second switch statement which makes it way less confusing.</p>\n<p>Altogether your cases could look something like this:</p>\n<pre><code>    case 0: \n        System.out.println(&quot;Who read the spell that gave the Charmed Ones their powers?&quot;);\n        System.out.println(&quot;Enter your answer&quot;);\n\n        answer = myScanner.nextLine();\n        correctChecker = &quot;Pheobe&quot;.equals(answer);\n        break;\n        \n        }\n</code></pre>\n<p>In future, it would be better to store questions and answers in an array and use the for loop to iterate through that. <a href=\"https://www.youtube.com/watch?time_continue=686&amp;v=nCIjHTlztNg&amp;feature=emb_title\" rel=\"nofollow noreferrer\">This</a> is a good tutorial on the subject.</p>\n<p>Good luck with the rest of your project!</p>\n"}],"owner":{"account_id":5747143,"reputation":13,"user_id":4538050,"display_name":"Christina DeRyke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70551248,"answer_count":2,"score":1,"last_activity_date":1641064999,"creation_date":1641059080,"question_id":70550692,"body_markdown":"I&#39;m learning Java right now and I&#39;ve never used switch statements before. I tried to enter a simple charmed quiz, but something in the switch statement isn&#39;t working.\r\n\r\nI&#39;ve tried putting text at various points in the program to test if the program every reaches that code. I have a good response inside the actual switch, so If I answer Question 1 wrong the text prompt will show up. But any later than inside the switch statement and none of my scoring output appears until all iterations of the for loop are complete. I have tried moving the &quot;correct/incorrect&quot; output to various points and none of them seem to work.\r\n\r\n    Scanner myScanner = new Scanner(System.in);\r\n\r\n\tSystem.out.println(&quot;Enter your name!&quot;);\r\n\tString name = myScanner.nextLine();\r\n\tint wrongCounter = 0;\r\n\tboolean correctChecker = false;\r\n\tint score = 0;\r\n\tString answer;\r\n\r\n\tSystem.out.println(&quot;Welcome to the Charmed Quiz, &quot; + name + &quot;!&quot;);\r\n\r\n\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\tif (wrongCounter &lt; 4) {\r\n\t\t\tswitch(i) {\r\n\t\t\tcase 0: \r\n\t\t\t\tSystem.out.println(&quot;Who read the spell that gave the Charmed Ones their powers?&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Enter your answer&quot;);\r\n\r\n\t\t\t\tanswer = myScanner.nextLine();\r\n\r\n\t\t\t\tswitch (answer) {\r\n\t\t\t\tcase &quot;Pheobe&quot;:\r\n\t\t\t\t\tcorrectChecker = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcorrectChecker = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out\r\n\t\t\t\t\t\t.println(&quot;Who travelled to a cursed town with Prue when Pheobe was shot in a premonition?&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Enter your answer&quot;);\r\n\r\n\t\t\t\tanswer = myScanner.nextLine();\r\n\r\n\t\t\t\tswitch (answer) {\r\n\t\t\t\tcase &quot;Cole&quot;:\r\n\t\t\t\t\tcorrectChecker = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcorrectChecker = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\r\n\r\n\t\tif (correctChecker == true) {\r\n\t\t\tscore++;\r\n\t\t\tSystem.out.println(&quot;Correct!&quot;);\r\n\t\t} else {\r\n\t\t\twrongCounter++;\r\n\t\t\tSystem.out.println(&quot;Incorrect!&quot;);\r\n\r\n\t\t}\r\n\r\n","title":"Why isn&#39;t my output showing after my switch statement","body":"<p>I'm learning Java right now and I've never used switch statements before. I tried to enter a simple charmed quiz, but something in the switch statement isn't working.</p>\n<p>I've tried putting text at various points in the program to test if the program every reaches that code. I have a good response inside the actual switch, so If I answer Question 1 wrong the text prompt will show up. But any later than inside the switch statement and none of my scoring output appears until all iterations of the for loop are complete. I have tried moving the &quot;correct/incorrect&quot; output to various points and none of them seem to work.</p>\n<pre><code>Scanner myScanner = new Scanner(System.in);\n\nSystem.out.println(&quot;Enter your name!&quot;);\nString name = myScanner.nextLine();\nint wrongCounter = 0;\nboolean correctChecker = false;\nint score = 0;\nString answer;\n\nSystem.out.println(&quot;Welcome to the Charmed Quiz, &quot; + name + &quot;!&quot;);\n\nfor (int i = 0; i &lt; 10; i++) {\n    if (wrongCounter &lt; 4) {\n        switch(i) {\n        case 0: \n            System.out.println(&quot;Who read the spell that gave the Charmed Ones their powers?&quot;);\n            System.out.println(&quot;Enter your answer&quot;);\n\n            answer = myScanner.nextLine();\n\n            switch (answer) {\n            case &quot;Pheobe&quot;:\n                correctChecker = true;\n                break;\n            default:\n                correctChecker = false;\n                break;\n            }\n        case 1:\n            System.out\n                    .println(&quot;Who travelled to a cursed town with Prue when Pheobe was shot in a premonition?&quot;);\n            System.out.println(&quot;Enter your answer&quot;);\n\n            answer = myScanner.nextLine();\n\n            switch (answer) {\n            case &quot;Cole&quot;:\n                correctChecker = true;\n                break;\n            default:\n                correctChecker = false;\n                break;\n            }\n        }\n        \n    \n\n    if (correctChecker == true) {\n        score++;\n        System.out.println(&quot;Correct!&quot;);\n    } else {\n        wrongCounter++;\n        System.out.println(&quot;Incorrect!&quot;);\n\n    }\n</code></pre>\n"},{"tags":["java","lwjgl"],"owner":{"account_id":23800879,"reputation":21,"user_id":17811099,"display_name":"Bricky_Stix22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641064837,"creation_date":1641064815,"question_id":70551266,"body_markdown":"Right now, whenever my player turns, the camera turns with it.  This was intentional, but I changed my mind on that feature when I inputted other camera controls, and right now, I can&#39;t seem to disable that functionality without breaking the whole camera system.  I&#39;m working with OpenGL and LWJGL, but I don&#39;t think knowledge in those will be too necessary for this.  I basically want the camera not to turn as the player does.  Thank you for your time, and have a \r\n\r\nHere is the camera class:\r\n\r\n    package entities;\r\n\r\n    import org.lwjgl.input.Keyboard;\r\n    import org.lwjgl.util.vector.Vector3f;\r\n \r\n    public class Camera {\r\n    private float distanceFromPlayer = 50;\r\n    private float angleAroundPlayer = 0;\r\n\r\n    private Vector3f position = new Vector3f(10,20,10);\r\n    private float pitch = 45;\r\n    private float yaw;\r\n    private float roll;\r\n\r\n    private Player player;\r\n\r\n    public Camera(Player player){\r\n        this.player = player;\r\n    }\r\n\r\n    public void move(){\r\n        if(Keyboard.isKeyDown(Keyboard.KEY_LEFT)){\r\n            angleAroundPlayer -= 1;\r\n        }\r\n        if(Keyboard.isKeyDown(Keyboard.KEY_RIGHT)){\r\n            angleAroundPlayer += 1;\r\n        }\r\n\r\n        if(Keyboard.isKeyDown(Keyboard.KEY_UP)){\r\n            pitch += 1;\r\n        }\r\n\r\n        if(Keyboard.isKeyDown(Keyboard.KEY_DOWN)){\r\n            pitch -= 1;\r\n        }\r\n\r\n        float horizontalDistance = calculateHorizontalDistance();\r\n        float verticalDistance = calculateVerticalDistance();\r\n        calculateCameraPosition(horizontalDistance,verticalDistance);\r\n        this.yaw = 180 - (player.getRotY() + angleAroundPlayer);\r\n    }\r\n\r\n    public Vector3f getPosition() {\r\n        return position;\r\n    }\r\n\r\n    public float getPitch() {\r\n        return pitch;\r\n    }\r\n\r\n    public float getYaw() {\r\n        return yaw;\r\n    }\r\n\r\n    public float getRoll() {\r\n        return roll;\r\n    }\r\n\r\n    private float calculateHorizontalDistance(){\r\n        return (float)(distanceFromPlayer * Math.cos(Math.toRadians(pitch)));\r\n    }\r\n\r\n    private float calculateVerticalDistance(){\r\n        return (float)(distanceFromPlayer * Math.sin(Math.toRadians(pitch)));\r\n    }\r\n\r\n    private void calculateCameraPosition(float horizontalDistance, float verticalDistance){\r\n        float theta = player.getRotY() + angleAroundPlayer;\r\n        float offsetX = (float)(horizontalDistance * Math.sin(Math.toRadians(theta)));\r\n        float offsetZ = (float)(horizontalDistance * Math.cos(Math.toRadians(theta)));\r\n        position.x = player.getPosition().x - offsetX;\r\n        position.z = player.getPosition().z - offsetZ;\r\n        position.y = player.getPosition().y + verticalDistance;\r\n    }\r\n    }\r\n\r\nAnd here is the player class:\r\n    package entities;\r\n\r\n    import models.TexturedModel;\r\n    import org.lwjgl.input.Keyboard;\r\n    import org.lwjgl.util.vector.Vector3f;\r\n    import renderEngine.DisplayManager;\r\n\r\n    public class Player extends Entity{\r\n\r\n    private static final float RUN_SPEED = 20;\r\n    private static final float TURN_SPEED = 180;\r\n    private static final float GRAVITY = -50;\r\n    private static final float JUMP_POWER = 40;\r\n    private static final float TERRAIN_HEIGHT = 0.5f;\r\n\r\n    private float currentSpeed = 0;\r\n    private float currentTurnSpeed = 0;\r\n    private float upwardsSpeed = 0;\r\n\r\n    private boolean isInAir = false;\r\n\r\n    public Player(TexturedModel model, Vector3f position, float rotX, float rotY, float rotZ, float scale) {\r\n        super(model, position, rotX, rotY, rotZ, scale);\r\n    }\r\n\r\n    public void move(){\r\n        checkInputs();super.increaseRotation(0,currentTurnSpeed * DisplayManager.getFrameTimeSeconds(),0);\r\n        float distance = currentSpeed * DisplayManager.getFrameTimeSeconds();\r\n        float dx = (float) (distance * Math.sin(Math.toRadians(super.getRotY())));\r\n        float dz = (float) (distance * Math.cos(Math.toRadians(super.getRotY())));\r\n        super.increasePosition(dx,0,dz);\r\n        upwardsSpeed += GRAVITY * DisplayManager.getFrameTimeSeconds();\r\n        super.increasePosition(0,upwardsSpeed * DisplayManager.getFrameTimeSeconds(),0);\r\n        if(super.getPosition().y &lt; TERRAIN_HEIGHT){\r\n            upwardsSpeed =0;\r\n            isInAir = false;\r\n            super.getPosition().y = TERRAIN_HEIGHT;\r\n        }\r\n    }\r\n\r\n    private void jump(){\r\n        if(!isInAir){\r\n            this.upwardsSpeed = JUMP_POWER;\r\n            isInAir = true;\r\n        }\r\n    }\r\n\r\n    private void checkInputs(){\r\n        if(Keyboard.isKeyDown(Keyboard.KEY_W)){\r\n            this.currentSpeed = RUN_SPEED;\r\n        }\r\n        else if (Keyboard.isKeyDown(Keyboard.KEY_S)) {\r\n            this.currentSpeed = -RUN_SPEED;\r\n        }\r\n        else{\r\n            this.currentSpeed = 0;\r\n        }\r\n\r\n        if(Keyboard.isKeyDown(Keyboard.KEY_D)){\r\n            this.currentTurnSpeed = -TURN_SPEED;\r\n        }\r\n\r\n        else if(Keyboard.isKeyDown(Keyboard.KEY_A)){\r\n            this.currentTurnSpeed = TURN_SPEED;\r\n        }\r\n\r\n        else{\r\n            this.currentTurnSpeed = 0;\r\n        }\r\n\r\n        if(Keyboard.isKeyDown(Keyboard.KEY_SPACE)){\r\n            jump();\r\n        }\r\n    }\r\n    }\r\n\r\nAnd if needed, here is the Entity Class:\r\n    package entities;\r\n\r\n    import models.TexturedModel;\r\n    import org.lwjgl.util.vector.Vector3f;\r\n\r\n    public class Entity {\r\n    private TexturedModel model;\r\n    private Vector3f position;\r\n    private float rotX,rotY,rotZ;\r\n    private float scale;\r\n\r\n    public Entity(TexturedModel model, Vector3f position, float rotX, float rotY, float rotZ,float scale){\r\n        this.model = model;\r\n        this.position = position;\r\n        this.rotX = rotX;\r\n        this.rotY = rotY;\r\n        this.rotZ = rotZ;\r\n        this.scale = scale;\r\n    }\r\n\r\n    public void increasePosition(float dx, float dy, float dz){\r\n        this.position.x += dx;\r\n        this.position.y += dy;\r\n        this.position.z += dz;\r\n    }\r\n\r\n    public void increaseRotation(float dx, float dy, float dz){\r\n        this.rotX += dx;\r\n        this.rotY += dy;\r\n        this.rotZ += dz;\r\n    }\r\n\r\n    public TexturedModel getModel() {\r\n        return model;\r\n    }\r\n\r\n    public Vector3f getPosition() {\r\n        return position;\r\n    }\r\n\r\n    public float getRotX() {\r\n        return rotX;\r\n    }\r\n\r\n    public float getRotY() {\r\n        return rotY;\r\n    }\r\n\r\n    public float getRotZ() {\r\n        return rotZ;\r\n    }\r\n\r\n    public float getScale() {\r\n        return scale;\r\n    }\r\n\r\n    public void setModel(TexturedModel model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public void setPosition(Vector3f position) {\r\n        this.position = position;\r\n    }\r\n\r\n    public void setRotX(float rotX) {\r\n        this.rotX = rotX;\r\n    }\r\n\r\n    public void setRotY(float rotY) {\r\n        this.rotY = rotY;\r\n    }\r\n\r\n    public void setRotZ(float rotZ) {\r\n        this.rotZ = rotZ;\r\n    }\r\n\r\n    public void setScale(float scale) {\r\n        this.scale = scale;\r\n    }\r\n    }","title":"How would I make the camera not rotate as the player rotates?","body":"<p>Right now, whenever my player turns, the camera turns with it.  This was intentional, but I changed my mind on that feature when I inputted other camera controls, and right now, I can't seem to disable that functionality without breaking the whole camera system.  I'm working with OpenGL and LWJGL, but I don't think knowledge in those will be too necessary for this.  I basically want the camera not to turn as the player does.  Thank you for your time, and have a</p>\n<p>Here is the camera class:</p>\n<pre><code>package entities;\n\nimport org.lwjgl.input.Keyboard;\nimport org.lwjgl.util.vector.Vector3f;\n\npublic class Camera {\nprivate float distanceFromPlayer = 50;\nprivate float angleAroundPlayer = 0;\n\nprivate Vector3f position = new Vector3f(10,20,10);\nprivate float pitch = 45;\nprivate float yaw;\nprivate float roll;\n\nprivate Player player;\n\npublic Camera(Player player){\n    this.player = player;\n}\n\npublic void move(){\n    if(Keyboard.isKeyDown(Keyboard.KEY_LEFT)){\n        angleAroundPlayer -= 1;\n    }\n    if(Keyboard.isKeyDown(Keyboard.KEY_RIGHT)){\n        angleAroundPlayer += 1;\n    }\n\n    if(Keyboard.isKeyDown(Keyboard.KEY_UP)){\n        pitch += 1;\n    }\n\n    if(Keyboard.isKeyDown(Keyboard.KEY_DOWN)){\n        pitch -= 1;\n    }\n\n    float horizontalDistance = calculateHorizontalDistance();\n    float verticalDistance = calculateVerticalDistance();\n    calculateCameraPosition(horizontalDistance,verticalDistance);\n    this.yaw = 180 - (player.getRotY() + angleAroundPlayer);\n}\n\npublic Vector3f getPosition() {\n    return position;\n}\n\npublic float getPitch() {\n    return pitch;\n}\n\npublic float getYaw() {\n    return yaw;\n}\n\npublic float getRoll() {\n    return roll;\n}\n\nprivate float calculateHorizontalDistance(){\n    return (float)(distanceFromPlayer * Math.cos(Math.toRadians(pitch)));\n}\n\nprivate float calculateVerticalDistance(){\n    return (float)(distanceFromPlayer * Math.sin(Math.toRadians(pitch)));\n}\n\nprivate void calculateCameraPosition(float horizontalDistance, float verticalDistance){\n    float theta = player.getRotY() + angleAroundPlayer;\n    float offsetX = (float)(horizontalDistance * Math.sin(Math.toRadians(theta)));\n    float offsetZ = (float)(horizontalDistance * Math.cos(Math.toRadians(theta)));\n    position.x = player.getPosition().x - offsetX;\n    position.z = player.getPosition().z - offsetZ;\n    position.y = player.getPosition().y + verticalDistance;\n}\n}\n</code></pre>\n<p>And here is the player class:\npackage entities;</p>\n<pre><code>import models.TexturedModel;\nimport org.lwjgl.input.Keyboard;\nimport org.lwjgl.util.vector.Vector3f;\nimport renderEngine.DisplayManager;\n\npublic class Player extends Entity{\n\nprivate static final float RUN_SPEED = 20;\nprivate static final float TURN_SPEED = 180;\nprivate static final float GRAVITY = -50;\nprivate static final float JUMP_POWER = 40;\nprivate static final float TERRAIN_HEIGHT = 0.5f;\n\nprivate float currentSpeed = 0;\nprivate float currentTurnSpeed = 0;\nprivate float upwardsSpeed = 0;\n\nprivate boolean isInAir = false;\n\npublic Player(TexturedModel model, Vector3f position, float rotX, float rotY, float rotZ, float scale) {\n    super(model, position, rotX, rotY, rotZ, scale);\n}\n\npublic void move(){\n    checkInputs();super.increaseRotation(0,currentTurnSpeed * DisplayManager.getFrameTimeSeconds(),0);\n    float distance = currentSpeed * DisplayManager.getFrameTimeSeconds();\n    float dx = (float) (distance * Math.sin(Math.toRadians(super.getRotY())));\n    float dz = (float) (distance * Math.cos(Math.toRadians(super.getRotY())));\n    super.increasePosition(dx,0,dz);\n    upwardsSpeed += GRAVITY * DisplayManager.getFrameTimeSeconds();\n    super.increasePosition(0,upwardsSpeed * DisplayManager.getFrameTimeSeconds(),0);\n    if(super.getPosition().y &lt; TERRAIN_HEIGHT){\n        upwardsSpeed =0;\n        isInAir = false;\n        super.getPosition().y = TERRAIN_HEIGHT;\n    }\n}\n\nprivate void jump(){\n    if(!isInAir){\n        this.upwardsSpeed = JUMP_POWER;\n        isInAir = true;\n    }\n}\n\nprivate void checkInputs(){\n    if(Keyboard.isKeyDown(Keyboard.KEY_W)){\n        this.currentSpeed = RUN_SPEED;\n    }\n    else if (Keyboard.isKeyDown(Keyboard.KEY_S)) {\n        this.currentSpeed = -RUN_SPEED;\n    }\n    else{\n        this.currentSpeed = 0;\n    }\n\n    if(Keyboard.isKeyDown(Keyboard.KEY_D)){\n        this.currentTurnSpeed = -TURN_SPEED;\n    }\n\n    else if(Keyboard.isKeyDown(Keyboard.KEY_A)){\n        this.currentTurnSpeed = TURN_SPEED;\n    }\n\n    else{\n        this.currentTurnSpeed = 0;\n    }\n\n    if(Keyboard.isKeyDown(Keyboard.KEY_SPACE)){\n        jump();\n    }\n}\n}\n</code></pre>\n<p>And if needed, here is the Entity Class:\npackage entities;</p>\n<pre><code>import models.TexturedModel;\nimport org.lwjgl.util.vector.Vector3f;\n\npublic class Entity {\nprivate TexturedModel model;\nprivate Vector3f position;\nprivate float rotX,rotY,rotZ;\nprivate float scale;\n\npublic Entity(TexturedModel model, Vector3f position, float rotX, float rotY, float rotZ,float scale){\n    this.model = model;\n    this.position = position;\n    this.rotX = rotX;\n    this.rotY = rotY;\n    this.rotZ = rotZ;\n    this.scale = scale;\n}\n\npublic void increasePosition(float dx, float dy, float dz){\n    this.position.x += dx;\n    this.position.y += dy;\n    this.position.z += dz;\n}\n\npublic void increaseRotation(float dx, float dy, float dz){\n    this.rotX += dx;\n    this.rotY += dy;\n    this.rotZ += dz;\n}\n\npublic TexturedModel getModel() {\n    return model;\n}\n\npublic Vector3f getPosition() {\n    return position;\n}\n\npublic float getRotX() {\n    return rotX;\n}\n\npublic float getRotY() {\n    return rotY;\n}\n\npublic float getRotZ() {\n    return rotZ;\n}\n\npublic float getScale() {\n    return scale;\n}\n\npublic void setModel(TexturedModel model) {\n    this.model = model;\n}\n\npublic void setPosition(Vector3f position) {\n    this.position = position;\n}\n\npublic void setRotX(float rotX) {\n    this.rotX = rotX;\n}\n\npublic void setRotY(float rotY) {\n    this.rotY = rotY;\n}\n\npublic void setRotZ(float rotZ) {\n    this.rotZ = rotZ;\n}\n\npublic void setScale(float scale) {\n    this.scale = scale;\n}\n}\n</code></pre>\n"},{"tags":["java","cryptography","hmac"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1641061370,"post_id":70550062,"comment_id":124714429,"body_markdown":"Why do you need Keyed Hash function to generate the key? From passwords, one can use PBKDF2, Scrypt, and Argon2. Or use [HKDF](https://crypto.stackexchange.com/q/76588/18298) though not available in JAVA afaik.","body":"Why do you need Keyed Hash function to generate the key? From passwords, one can use PBKDF2, Scrypt, and Argon2. Or use <a href=\"https://crypto.stackexchange.com/q/76588/18298\">HKDF</a> though not available in JAVA afaik."},{"owner":{"account_id":6344365,"reputation":2506,"user_id":4925383,"accept_rate":35,"display_name":"automatictester"},"score":0,"creation_date":1641062643,"post_id":70550062,"comment_id":124714684,"body_markdown":"I am looking for a common in Java way to generate a key suitable for use with indicated algorithm, same way this would be done for HMAC-SHA256 (see above), AES etc.","body":"I am looking for a common in Java way to generate a key suitable for use with indicated algorithm, same way this would be done for HMAC-SHA256 (see above), AES etc."},{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":2,"creation_date":1641062935,"post_id":70550062,"comment_id":124714744,"body_markdown":"HMAC key should be uniform random... Why just don&#39;t you generate with [SecureRandom](https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html)","body":"HMAC key should be uniform random... Why just don&#39;t you generate with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">SecureRandom</a>"},{"owner":{"account_id":6344365,"reputation":2506,"user_id":4925383,"accept_rate":35,"display_name":"automatictester"},"score":0,"creation_date":1641063295,"post_id":70550062,"comment_id":124714830,"body_markdown":"I know I could use SecureRandom. I am curious if there is a build-in support for generating such keys using `KeyGenerator.getInstance()`.","body":"I know I could use SecureRandom. I am curious if there is a build-in support for generating such keys using <code>KeyGenerator.getInstance()</code>."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641056952,"creation_date":1641056952,"answer_id":70550450,"question_id":70550062,"body_markdown":"KMAC bases on KECCAK/SHA-3 which is [available since Java 9](https://openjdk.java.net/jeps/287). \r\n\r\nUnfortunately this does only apply to the basic SHA-3 algorithm, not it&#39;s [H]MAC implementation (checked in [Java 11][1]).\r\n\r\nIn [Java 17][2] there the following SHA-3 based Mac implementations are available:\r\n* HmacSHA3-224\r\n* HmacSHA3-256\r\n* HmacSHA3-384\r\n* HmacSHA3-512\r\n\r\nIf I understand it correctly none of them is equivalent to KMAC. KMAC is a special MAC implementation designed for KECCAK and it&#39;s properties.  \r\n\r\nSo the only alternative is a third party implementation of KMAC like the one from BouncyCastle: https://javadoc.io/static/org.bouncycastle/bcprov-jdk14/1.69/org/bouncycastle/crypto/macs/KMAC.html\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html","title":"KMAC algorithm for KeyGenerator in Java","body":"<p>KMAC bases on KECCAK/SHA-3 which is <a href=\"https://openjdk.java.net/jeps/287\" rel=\"nofollow noreferrer\">available since Java 9</a>.</p>\n<p>Unfortunately this does only apply to the basic SHA-3 algorithm, not it's [H]MAC implementation (checked in <a href=\"https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html\" rel=\"nofollow noreferrer\">Java 11</a>).</p>\n<p>In <a href=\"https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html\" rel=\"nofollow noreferrer\">Java 17</a> there the following SHA-3 based Mac implementations are available:</p>\n<ul>\n<li>HmacSHA3-224</li>\n<li>HmacSHA3-256</li>\n<li>HmacSHA3-384</li>\n<li>HmacSHA3-512</li>\n</ul>\n<p>If I understand it correctly none of them is equivalent to KMAC. KMAC is a special MAC implementation designed for KECCAK and it's properties.</p>\n<p>So the only alternative is a third party implementation of KMAC like the one from BouncyCastle: <a href=\"https://javadoc.io/static/org.bouncycastle/bcprov-jdk14/1.69/org/bouncycastle/crypto/macs/KMAC.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.bouncycastle/bcprov-jdk14/1.69/org/bouncycastle/crypto/macs/KMAC.html</a></p>\n"}],"owner":{"account_id":6344365,"reputation":2506,"user_id":4925383,"accept_rate":35,"display_name":"automatictester"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1641064319,"creation_date":1641053009,"question_id":70550062,"body_markdown":"One can generate a symmetric key for use with HMAC-SHA256 with:\r\n\r\n        String algorithm = &quot;HmacSHA256&quot;;\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm);\r\n        keyGenerator.init(256);\r\n        SecretKey secretKey = keyGenerator.generateKey();\r\n        byte[] key = secretKey.getEncoded();\r\n\r\nWhat algorithm name should be used for KMAC?","title":"KMAC algorithm for KeyGenerator in Java","body":"<p>One can generate a symmetric key for use with HMAC-SHA256 with:</p>\n<pre><code>    String algorithm = &quot;HmacSHA256&quot;;\n    KeyGenerator keyGenerator = KeyGenerator.getInstance(algorithm);\n    keyGenerator.init(256);\n    SecretKey secretKey = keyGenerator.generateKey();\n    byte[] key = secretKey.getEncoded();\n</code></pre>\n<p>What algorithm name should be used for KMAC?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1481595885,"post_id":41112809,"comment_id":69429996,"body_markdown":"Because index often start with 0. Size = 3, index are 0,1,2.","body":"Because index often start with 0. Size = 3, index are 0,1,2."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1481595906,"post_id":41112809,"comment_id":69430000,"body_markdown":"Where do you use `length`? In `charAt`. What restrictions does `charAt` impose on its arguments?","body":"Where do you use <code>length</code>? In <code>charAt</code>. What restrictions does <code>charAt</code> impose on its arguments?"},{"owner":{"account_id":5584735,"reputation":468,"user_id":7121505,"display_name":"Dan Armstrong"},"score":0,"creation_date":1481609587,"post_id":41112809,"comment_id":69433549,"body_markdown":"This is one of those problems that can be a bit more involved than you might expect.  Are you going to handle only the Unicode Basic Multilingual Plane, or are you going to support Surrogate Pairs?  Please see http://stackoverflow.com/questions/7476535/how-to-get-a-reversed-string-unicode-safe","body":"This is one of those problems that can be a bit more involved than you might expect.  Are you going to handle only the Unicode Basic Multilingual Plane, or are you going to support Surrogate Pairs?  Please see <a href=\"http://stackoverflow.com/questions/7476535/how-to-get-a-reversed-string-unicode-safe\" title=\"how to get a reversed string unicode safe\">stackoverflow.com/questions/7476535/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":333792,"reputation":601,"user_id":659841,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481595927,"creation_date":1481595927,"answer_id":41112828,"question_id":41112809,"body_markdown":"Strings, and more generally, arrays, are zero indexed in C, C++, Java. Character 1 is at position 0, character 2 is at position 1, etc. \r\n\r\nFor the last character, &#39;n&#39;, it is at position &#39;n-1&#39;.","title":"Why exactly is this required in a reverse string program for Java?","body":"<p>Strings, and more generally, arrays, are zero indexed in C, C++, Java. Character 1 is at position 0, character 2 is at position 1, etc. </p>\n\n<p>For the last character, 'n', it is at position 'n-1'.</p>\n"},{"tags":[],"owner":{"account_id":6411785,"reputation":1903,"user_id":4971315,"accept_rate":45,"display_name":"Roberto Attias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481595946,"creation_date":1481595946,"answer_id":41112832,"question_id":41112809,"body_markdown":"a string of length n has characters at index 0 - (n-1), hence the initialization. It would be more appropriate to call that var index.","title":"Why exactly is this required in a reverse string program for Java?","body":"<p>a string of length n has characters at index 0 - (n-1), hence the initialization. It would be more appropriate to call that var index.</p>\n"},{"tags":[],"owner":{"account_id":6497034,"reputation":2165,"user_id":5029307,"accept_rate":25,"display_name":"Travis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481595976,"creation_date":1481595976,"answer_id":41112835,"question_id":41112809,"body_markdown":"Most data structures are indexed starting from &quot;0&quot; rather than &quot;1&quot;.  (I.e. the index of the first element is &quot;0&quot;)  As such, the index of the last element is equal to the number of elements (i.e. length) - 1.  Thus, if you want to start from the last element, then you must start from index `length - 1`.","title":"Why exactly is this required in a reverse string program for Java?","body":"<p>Most data structures are indexed starting from \"0\" rather than \"1\".  (I.e. the index of the first element is \"0\")  As such, the index of the last element is equal to the number of elements (i.e. length) - 1.  Thus, if you want to start from the last element, then you must start from index <code>length - 1</code>.</p>\n"},{"tags":[],"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481596110,"creation_date":1481596110,"answer_id":41112861,"question_id":41112809,"body_markdown":"Usually you can check `Javadoc` on Eclipse (if you are using it) to see more information about your code.\r\nSaid that, this is literally from `Javadoc`\r\n\r\n&gt; char java.lang.String.charAt(int index)\r\n&gt; \r\n&gt; Returns the char value at the specified index. An index ranges from 0\r\n&gt; to length() - 1. The first char value of the sequence is at index 0,\r\n&gt; the next at index 1, and so on, as for array indexing.\r\n\r\nIf still not clear maybe an image could help:\r\n\r\n[![ArrayLengthVsIndexs][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fc2u9.png","title":"Why exactly is this required in a reverse string program for Java?","body":"<p>Usually you can check <code>Javadoc</code> on Eclipse (if you are using it) to see more information about your code.\nSaid that, this is literally from <code>Javadoc</code></p>\n\n<blockquote>\n  <p>char java.lang.String.charAt(int index)</p>\n  \n  <p>Returns the char value at the specified index. An index ranges from 0\n  to length() - 1. The first char value of the sequence is at index 0,\n  the next at index 1, and so on, as for array indexing.</p>\n</blockquote>\n\n<p>If still not clear maybe an image could help:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fc2u9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fc2u9.png\" alt=\"ArrayLengthVsIndexs\"></a></p>\n"},{"tags":[],"owner":{"account_id":23791619,"reputation":1,"user_id":17802991,"display_name":"Nano Fibres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641060133,"creation_date":1641060133,"answer_id":70550787,"question_id":41112809,"body_markdown":"To answer your question, lets get back to some basics.\r\n\r\nWhen we learnt `Strings` for first time, we stated its each letter&#39;s positions i.e. `Index Position` , starting from 0 till the end. \r\n\r\n**But here a twist comes.**\r\n\r\nWhen we use the `length()` function, it tells the total number of characters in the string, hence, it counts the first letter as `1` and and not `0` as in the case of `Index Position`.\r\n\r\nSo, while executing a loop which is using the `string&#39;s length value`, we reduce the `length value` by 1 so as to get the proper index positions of all the characters of the particular string.\r\n\r\n**Eg -** \r\n\r\n*I am happy.*\r\n\r\nIn this sentence, the `length` is `10` but the `index position` of `I` is `0` and similarly, the `index position` of `y` is `9`.\r\n\r\nHope you understood the thing.\r\n\r\n","title":"Why exactly is this required in a reverse string program for Java?","body":"<p>To answer your question, lets get back to some basics.</p>\n<p>When we learnt <code>Strings</code> for first time, we stated its each letter's positions i.e. <code>Index Position</code> , starting from 0 till the end.</p>\n<p><strong>But here a twist comes.</strong></p>\n<p>When we use the <code>length()</code> function, it tells the total number of characters in the string, hence, it counts the first letter as <code>1</code> and and not <code>0</code> as in the case of <code>Index Position</code>.</p>\n<p>So, while executing a loop which is using the <code>string's length value</code>, we reduce the <code>length value</code> by 1 so as to get the proper index positions of all the characters of the particular string.</p>\n<p><strong>Eg -</strong></p>\n<p><em>I am happy.</em></p>\n<p>In this sentence, the <code>length</code> is <code>10</code> but the <code>index position</code> of <code>I</code> is <code>0</code> and similarly, the <code>index position</code> of <code>y</code> is <code>9</code>.</p>\n<p>Hope you understood the thing.</p>\n"},{"tags":[],"owner":{"account_id":17940403,"reputation":70,"user_id":13035798,"display_name":"o.no"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641063292,"creation_date":1641062695,"answer_id":70551063,"question_id":41112809,"body_markdown":"A string can be of any length, but when accessing .charAt() **you&#39;re accessing a data structure with an index**. \r\n\r\nThese work on a system that starts with the **first element at 0** in Java, as opposed to 1. \r\n\r\nFor example, if you wanted to access the first letter in the string, it would be start.charAt(0).\r\n\r\n[![array structure][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/DTsRl.png\r\n\r\nIf the length of the variable &#39;start&#39; is equal to n, then the index must be n - 1 (length - 1) to access the same corresponding value/char in the data structure.\r\n\r\nIf you don&#39;t use length - 1, you effectively **access a char that doesn&#39;t exist**. Say that the length of &#39;start&#39; is 8, then characters will only occupy .charAt(0) to .charAt(7). If you try to access .charAt(8) using just length, there is no data to access as it&#39;s beyond the array limit and therefore will fail to execute.\r\n\r\nI&#39;ll do a quick rundown of the code too as I always feel theory helps with a familiar context. I don&#39;t wish to be patronising, I just want to reinforce the knowledge.\r\n\r\n    start = input.nextLine();\r\n\r\n    int length = start.length();\r\n\r\n    for(length = length - 1 ; length &gt;= 0 ; length--)\r\n\r\n        end = end + start.charAt(length);\r\n\r\n\r\n    \r\n\r\nIn your code example you:\r\n\r\n 1. Take in an input (start)\r\n\r\n 2. Find the length of the input (length)\r\n\r\n 3. Enter a for loop, where &#39;length&#39; is **subtracted by 1 to get the correct index**. If &#39;length&#39; is bigger than or equal to 0, it is decremented by 1 (moving the index down by 1).\r\n\r\n 4. The char at the index position in the array is then added to the variable &#39;end&#39;.\r\n\r\nThis is then repeated to take the indexed letter from the string &#39;start&#39; and place them at the front of the new string &#39;end&#39;, therefore reversing the order.\r\n\r\n\r\nHope this has helped!\r\n  ","title":"Why exactly is this required in a reverse string program for Java?","body":"<p>A string can be of any length, but when accessing .charAt() <strong>you're accessing a data structure with an index</strong>.</p>\n<p>These work on a system that starts with the <strong>first element at 0</strong> in Java, as opposed to 1.</p>\n<p>For example, if you wanted to access the first letter in the string, it would be start.charAt(0).</p>\n<p><a href=\"https://i.stack.imgur.com/DTsRl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTsRl.png\" alt=\"array structure\" /></a></p>\n<p>If the length of the variable 'start' is equal to n, then the index must be n - 1 (length - 1) to access the same corresponding value/char in the data structure.</p>\n<p>If you don't use length - 1, you effectively <strong>access a char that doesn't exist</strong>. Say that the length of 'start' is 8, then characters will only occupy .charAt(0) to .charAt(7). If you try to access .charAt(8) using just length, there is no data to access as it's beyond the array limit and therefore will fail to execute.</p>\n<p>I'll do a quick rundown of the code too as I always feel theory helps with a familiar context. I don't wish to be patronising, I just want to reinforce the knowledge.</p>\n<pre><code>start = input.nextLine();\n\nint length = start.length();\n\nfor(length = length - 1 ; length &gt;= 0 ; length--)\n\n    end = end + start.charAt(length);\n</code></pre>\n<p>In your code example you:</p>\n<ol>\n<li><p>Take in an input (start)</p>\n</li>\n<li><p>Find the length of the input (length)</p>\n</li>\n<li><p>Enter a for loop, where 'length' is <strong>subtracted by 1 to get the correct index</strong>. If 'length' is bigger than or equal to 0, it is decremented by 1 (moving the index down by 1).</p>\n</li>\n<li><p>The char at the index position in the array is then added to the variable 'end'.</p>\n</li>\n</ol>\n<p>This is then repeated to take the indexed letter from the string 'start' and place them at the front of the new string 'end', therefore reversing the order.</p>\n<p>Hope this has helped!</p>\n"}],"owner":{"account_id":9838875,"reputation":15,"user_id":7288398,"display_name":"Pendi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":6,"score":0,"last_activity_date":1641063292,"creation_date":1481595781,"question_id":41112809,"body_markdown":"I&#39;m relatively new to Java and I have been looking at a reverse string code for Java. I understand the majority of it, but this one part of the code I do not understand. At the For loop I am required to subtract -1 from the integer length. Why exactly am I needed to do this? Without this the code fails to execute, and I&#39;d like to know to grasp a greater understanding of loops in the future\r\n\r\n\r\n\r\n\tString start = &quot;&quot;;\r\n\t\r\n\tString end = &quot;&quot;;\r\n\t\r\n\tScanner input = new Scanner(System.in);\r\n\t\r\n\tSystem.out.println(&quot;Enter a string&quot;);\r\n\t\r\n\tstart = input.nextLine();\r\n\t\r\n\tint length = start.length();\r\n\r\n\tfor(length = length - 1 ; length &gt;= 0 ; length--)\r\n\t\t\r\n\t\tend = end + start.charAt(length);\r\n\t\r\n\tSystem.out.println(&quot;This string reversed is &quot; + end);\r\n\r\n","title":"Why exactly is this required in a reverse string program for Java?","body":"<p>I'm relatively new to Java and I have been looking at a reverse string code for Java. I understand the majority of it, but this one part of the code I do not understand. At the For loop I am required to subtract -1 from the integer length. Why exactly am I needed to do this? Without this the code fails to execute, and I'd like to know to grasp a greater understanding of loops in the future</p>\n\n<pre><code>String start = \"\";\n\nString end = \"\";\n\nScanner input = new Scanner(System.in);\n\nSystem.out.println(\"Enter a string\");\n\nstart = input.nextLine();\n\nint length = start.length();\n\nfor(length = length - 1 ; length &gt;= 0 ; length--)\n\n    end = end + start.charAt(length);\n\nSystem.out.println(\"This string reversed is \" + end);\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":17487526,"reputation":71,"user_id":12680269,"display_name":"Alexey Gorelik"},"score":0,"creation_date":1641069655,"post_id":70550906,"comment_id":124715844,"body_markdown":"Hi! When you pass a Candidate object inside the CandidateController, do you set any party to it?\nIn other case you will override your &quot;party&quot; value with null that comes from controller, which removes your Candidate from already existing Party.","body":"Hi! When you pass a Candidate object inside the CandidateController, do you set any party to it? In other case you will override your &quot;party&quot; value with null that comes from controller, which removes your Candidate from already existing Party."},{"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"score":0,"creation_date":1641070421,"post_id":70550906,"comment_id":124715980,"body_markdown":"Inside the method, it fetches the candidates from the candidateService, using the candidateId that&#39;s passed as a PathVariable and then sets all the values to the values passed in the RequestBody candidate. Are you saying that I need to add the party_id or something like that to the RequestBody so that it will keep the Candidate in the party?","body":"Inside the method, it fetches the candidates from the candidateService, using the candidateId that&#39;s passed as a PathVariable and then sets all the values to the values passed in the RequestBody candidate. Are you saying that I need to add the party_id or something like that to the RequestBody so that it will keep the Candidate in the party?"},{"owner":{"account_id":17487526,"reputation":71,"user_id":12680269,"display_name":"Alexey Gorelik"},"score":0,"creation_date":1641071053,"post_id":70550906,"comment_id":124716076,"body_markdown":"Sorry, missed a part when you retrieve an entity by id in controller. Look a bit counterintuitive for me. I thought that you might just pass empty object from RequestBody to service and save it.","body":"Sorry, missed a part when you retrieve an entity by id in controller. Look a bit counterintuitive for me. I thought that you might just pass empty object from RequestBody to service and save it."},{"owner":{"account_id":17487526,"reputation":71,"user_id":12680269,"display_name":"Alexey Gorelik"},"score":0,"creation_date":1641071536,"post_id":70550906,"comment_id":124716158,"body_markdown":"Still, as far as I know, there are only 1 way to exclude candidate from party - set &quot;party&quot; field as null. Could you please check your service .save() method inside your .edit() method? Is party object exists there for the candidate you&#39;re trying to edit?","body":"Still, as far as I know, there are only 1 way to exclude candidate from party - set &quot;party&quot; field as null. Could you please check your service .save() method inside your .edit() method? Is party object exists there for the candidate you&#39;re trying to edit?"},{"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"score":0,"creation_date":1641071783,"post_id":70550906,"comment_id":124716192,"body_markdown":"The save method is just\npublic Candidate save(Candidate candidate) {return candidateRepository.save(candidate); }\nSo as far as I&#39;m seeing, it should be just saving the whole candidate object, and not changing any fields itself","body":"The save method is just public Candidate save(Candidate candidate) {return candidateRepository.save(candidate); } So as far as I&#39;m seeing, it should be just saving the whole candidate object, and not changing any fields itself"},{"owner":{"account_id":17487526,"reputation":71,"user_id":12680269,"display_name":"Alexey Gorelik"},"score":0,"creation_date":1641072036,"post_id":70550906,"comment_id":124716221,"body_markdown":"I mean &quot;candidateService.editCandidate()&quot; method. Last row in this method is &quot;return candidateRepository.save(candidate)&quot;. Could you please check your candidate object there? Does it have &quot;party&quot; field as not null value?","body":"I mean &quot;candidateService.editCandidate()&quot; method. Last row in this method is &quot;return candidateRepository.save(candidate)&quot;. Could you please check your candidate object there? Does it have &quot;party&quot; field as not null value?"},{"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"score":0,"creation_date":1641072189,"post_id":70550906,"comment_id":124716238,"body_markdown":"I&#39;m not sure how to check that unfortunately :/ Currently it&#39;s got candidate.setParty(candidate.getParty); but that doesn&#39;t seem to be applying because the party for the candidate I&#39;m editing isn&#39;t null, but it&#39;s still being set to null after calling the method.","body":"I&#39;m not sure how to check that unfortunately :/ Currently it&#39;s got candidate.setParty(candidate.getParty); but that doesn&#39;t seem to be applying because the party for the candidate I&#39;m editing isn&#39;t null, but it&#39;s still being set to null after calling the method."},{"owner":{"account_id":17487526,"reputation":71,"user_id":12680269,"display_name":"Alexey Gorelik"},"score":0,"creation_date":1641072330,"post_id":70550906,"comment_id":124716265,"body_markdown":"Well, you can just debug you code, set a breakpoint on necessary line and check your object values.","body":"Well, you can just debug you code, set a breakpoint on necessary line and check your object values."},{"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"score":0,"creation_date":1641072893,"post_id":70550906,"comment_id":124716355,"body_markdown":"https://gyazo.com/ad9958eae5e4a27d6cc44db80adc6671 Not sure If set the breakpoint right because I&#39;ve never done it before, but I set it on the line where I call candidateService.editCandidate(candidate) in the CandidateController and it&#39;s showing the party as null here.","body":"<a href=\"https://gyazo.com/ad9958eae5e4a27d6cc44db80adc6671\" rel=\"nofollow noreferrer\">gyazo.com/ad9958eae5e4a27d6cc44db80adc6671</a> Not sure If set the breakpoint right because I&#39;ve never done it before, but I set it on the line where I call candidateService.editCandidate(candidate) in the CandidateController and it&#39;s showing the party as null here."},{"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"score":0,"creation_date":1641073265,"post_id":70550906,"comment_id":124716414,"body_markdown":"Could it be because my database is only referencing the party_id and so the Party in the Candidate is null? I just tried fetching the Candidate using the candidateService.findById(candidateId) method and even though it&#39;s getting a candidate that is part of a party, the Party is still null.","body":"Could it be because my database is only referencing the party_id and so the Party in the Candidate is null? I just tried fetching the Candidate using the candidateService.findById(candidateId) method and even though it&#39;s getting a candidate that is part of a party, the Party is still null."},{"owner":{"account_id":17487526,"reputation":71,"user_id":12680269,"display_name":"Alexey Gorelik"},"score":0,"creation_date":1641073543,"post_id":70550906,"comment_id":124716476,"body_markdown":"Yes, it should be because &quot;party&quot; field inside Candidate object is null. So, during save operation (inside your &quot;edit&quot; method) you also pass a reference to party as null and because of that you remove your candidate from a aprty.","body":"Yes, it should be because &quot;party&quot; field inside Candidate object is null. So, during save operation (inside your &quot;edit&quot; method) you also pass a reference to party as null and because of that you remove your candidate from a aprty."},{"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"score":0,"creation_date":1641073780,"post_id":70550906,"comment_id":124716521,"body_markdown":"Is there a way to fix that without just adding the candidate back to the party after he&#39;s been edited? The only way I can think of right now is by making a method that first calls removeCandidate, then editCandidate, then addCandidateToParty, but that seems way more drawn out than I feel it should be.","body":"Is there a way to fix that without just adding the candidate back to the party after he&#39;s been edited? The only way I can think of right now is by making a method that first calls removeCandidate, then editCandidate, then addCandidateToParty, but that seems way more drawn out than I feel it should be."},{"owner":{"account_id":1069908,"reputation":405,"user_id":1069452,"display_name":"Johannes"},"score":0,"creation_date":1641567042,"post_id":70550906,"comment_id":124844425,"body_markdown":"@Sintry have you managed to solve your problem?","body":"@Sintry have you managed to solve your problem?"},{"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"score":0,"creation_date":1641655987,"post_id":70550906,"comment_id":124863976,"body_markdown":"@Johannnes unfortunately not. I got around it by having 2 separate methods, one that would take just a candidateId as a PathVariable and one that took a candidateId and PartyId that effectively just added the candidate back to the party after they were edited.","body":"@Johannnes unfortunately not. I got around it by having 2 separate methods, one that would take just a candidateId as a PathVariable and one that took a candidateId and PartyId that effectively just added the candidate back to the party after they were edited."},{"owner":{"account_id":1069908,"reputation":405,"user_id":1069452,"display_name":"Johannes"},"score":0,"creation_date":1641659001,"post_id":70550906,"comment_id":124864715,"body_markdown":"I assume your application returns a JSON to Postman: When it does, the @JsonBackReference on the &quot;party&quot; field in the Candidate.class makes it return &quot;null&quot; for the Candidate&#39;s &quot;party&quot; within the JSON. And if you edit the Candidate in Postman and send it back to your application &quot;party&quot; is still &quot;null&quot;. Does that make sense for you? Please check what&#39;s in the JSON that your application returns to Postman when you simply get one specific Candidate whom you know to be in a party.","body":"I assume your application returns a JSON to Postman: When it does, the @JsonBackReference on the &quot;party&quot; field in the Candidate.class makes it return &quot;null&quot; for the Candidate&#39;s &quot;party&quot; within the JSON. And if you edit the Candidate in Postman and send it back to your application &quot;party&quot; is still &quot;null&quot;. Does that make sense for you? Please check what&#39;s in the JSON that your application returns to Postman when you simply get one specific Candidate whom you know to be in a party."}],"owner":{"account_id":19771183,"reputation":11,"user_id":14478116,"display_name":"Sintry"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641061259,"creation_date":1641061259,"question_id":70550906,"body_markdown":"I&#39;m making a program that models a recent local election in my area, and I have a Candidate Entity and a Party Entity with a OneToMany relationship (Party can have many Candidates and Candidates can have one party).\r\n\r\nI&#39;m using JpaRepository, Hibernate and Postman to test the endpoints, and all are working as I want them to, but for some reason, when I edit a Candidate that is in a party, the Candidate gets removed from the party, even if I explicitly state the Party of the Candidate in the editCandidate method.\r\n\r\nHere are my Entity&#39;s and Controllers/Services:\r\n\r\n```\r\npackage localelection.programming24hrstartagain.entities;\r\n\r\n\r\nimport com.fasterxml.jackson.annotation.JsonBackReference;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter @Setter\r\n@Table(name = &quot;candidates&quot;)\r\npublic class Candidate {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;candidate_id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n    private String surname;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;party_id&quot;, referencedColumnName = &quot;party_id&quot;)\r\n    private Party party;\r\n\r\n    public Candidate(String name, String surname) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n    }\r\n\r\n    public Candidate(String name, String surname, Party party) {\r\n        this.name = name;\r\n        this.surname = surname;\r\n        this.party = party;\r\n    }\r\n}\r\n```\r\nCandidate\r\n\r\n```\r\npackage localelection.programming24hrstartagain.entities;\r\n\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter @Setter\r\n@Table(name = &quot;parties&quot;)\r\npublic class Party {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;party_id&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n    private int votes;\r\n\r\n    @OneToMany(mappedBy = &quot;party&quot;)\r\n    private Set&lt;Candidate&gt; candidates = new HashSet&lt;&gt;();\r\n\r\n    public void addCandidate(Candidate candidate) {\r\n        candidates.add(candidate);\r\n    }\r\n\r\n    public void removeCandidate(Candidate candidate) {\r\n        candidates.remove(candidate);\r\n    }\r\n\r\n    public Party(String name, int votes) {\r\n        this.name = name;\r\n        this.votes = votes;\r\n    }\r\n}\r\n```\r\nParty\r\n\r\n```\r\npackage localelection.programming24hrstartagain.services;\r\n\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport localelection.programming24hrstartagain.entities.Candidate;\r\nimport localelection.programming24hrstartagain.entities.Party;\r\nimport localelection.programming24hrstartagain.repositories.CandidateRepository;\r\nimport localelection.programming24hrstartagain.repositories.PartyRepository;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class CandidateService {\r\n\r\n    CandidateRepository candidateRepository;\r\n    PartyRepository partyRepository;\r\n\r\n    public CandidateService(CandidateRepository candidateRepository, PartyRepository partyRepository) {\r\n        this.candidateRepository = candidateRepository;\r\n        this.partyRepository = partyRepository;\r\n    }\r\n\r\n    public Iterable&lt;Candidate&gt; getAll() {\r\n        return candidateRepository.findAll();\r\n    }\r\n\r\n    public Candidate findById(Long candidateId) {\r\n        return candidateRepository.findById(candidateId).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;No Candidate found for ID: &quot; + candidateId));\r\n    }\r\n\r\n    public Iterable&lt;Candidate&gt; getCandidateByParty(Long partyId) {\r\n        return candidateRepository.findCandidateByPartyId(partyId);\r\n    }\r\n\r\n    public void deleteCandidate(Long candidateId) {\r\n        candidateRepository.deleteById(candidateId);\r\n    }\r\n\r\n    public Candidate save(Candidate candidate) {\r\n        return candidateRepository.save(candidate);\r\n    }\r\n\r\n    public Candidate editCandidate(Candidate candidate) {\r\n        //candidate.setId(candidate.getId());\r\n        candidate.setName(candidate.getName());\r\n        candidate.setSurname(candidate.getSurname());\r\n        candidate.setParty(candidate.getParty());\r\n        return candidateRepository.save(candidate);\r\n    }\r\n\r\n\r\n}\r\n```\r\nCandidateService\r\n\r\n```\r\npackage localelection.programming24hrstartagain.services;\r\n\r\nimport localelection.programming24hrstartagain.entities.Party;\r\nimport localelection.programming24hrstartagain.repositories.CandidateRepository;\r\nimport localelection.programming24hrstartagain.repositories.PartyRepository;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class PartyService {\r\n\r\n    PartyRepository partyRepository;\r\n    CandidateRepository candidateRepository;\r\n\r\n    public PartyService(PartyRepository partyRepository, CandidateRepository candidateRepository) {\r\n        this.partyRepository = partyRepository;\r\n        this.candidateRepository = candidateRepository;\r\n    }\r\n\r\n    public Iterable&lt;Party&gt; getAll() {\r\n        return partyRepository.findAll();\r\n    }\r\n\r\n    public Party findById(Long partyId) {\r\n        return partyRepository.findById(partyId).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;No Candidate found for ID: &quot; + partyId));\r\n    }\r\n\r\n    public Party save(Party party) {\r\n        return partyRepository.save(party);\r\n    }\r\n\r\n}\r\n```\r\nPartyService\r\n\r\n```\r\npackage localelection.programming24hrstartagain.controllers;\r\n\r\n\r\nimport localelection.programming24hrstartagain.entities.Candidate;\r\nimport localelection.programming24hrstartagain.entities.Party;\r\nimport localelection.programming24hrstartagain.services.CandidateService;\r\nimport localelection.programming24hrstartagain.services.PartyService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@CrossOrigin\r\n@RestController\r\n@RequestMapping(&quot;/candidates&quot;)\r\npublic class CandidateController {\r\n\r\n    @Autowired\r\n    CandidateService candidateService;\r\n\r\n    @Autowired\r\n    PartyService partyService;\r\n\r\n    // Create candidate\r\n\r\n    // WORKING\r\n    @PostMapping(&quot;/new&quot;)\r\n    public Candidate addCandidate(@RequestBody Candidate candidate) {\r\n        return candidateService.save(candidate);\r\n    }\r\n\r\n    // Add candidate to a given party\r\n\r\n    // WORKING\r\n    @PutMapping(&quot;/add/{candidateId}/{partyId}&quot;)\r\n    public Party addCandidateToParty(@PathVariable Long candidateId, @PathVariable Long partyId) {\r\n        Candidate candidate = candidateService.findById(candidateId);\r\n        Party party = partyService.findById(partyId);\r\n\r\n        candidate.setParty(party);\r\n        candidateService.save(candidate);\r\n\r\n        return party;\r\n    }\r\n\r\n//    // Edit candidates for a given party\r\n//\r\n//    // Not working as intended. Currently edits candidates, but removes them from their party.\r\n//    @PutMapping(&quot;/edit/{candidateId}&quot;)\r\n//    public Candidate editCandidate(@PathVariable Long candidateId, @RequestBody Candidate candidate) {\r\n//        candidate = candidateService.findById(candidateId);\r\n//        Party party = candidate.getParty();\r\n//        return candidateService.editCandidate(candidate);\r\n//    }\r\n\r\n    // Edit candidates for a given party\r\n\r\n    // Not working as intended. Currently edits candidates, but removes them from their party.\r\n    @PutMapping(&quot;/edit/{candidateId}&quot;)\r\n    public Candidate editCandidate(@PathVariable Long candidateId, @RequestBody Candidate candidate) {\r\n        candidate.setId(candidateId);\r\n        return candidateService.editCandidate(candidate);\r\n    }\r\n\r\n    // Remove candidate from a party without deleting them\r\n\r\n    // Working\r\n    @Transactional\r\n    @PutMapping(&quot;/remove/{candidateId}/{partyId}&quot;)\r\n    public Party removeCandidate(@PathVariable Long partyId, @PathVariable Long candidateId) {\r\n        Party party = partyService.findById(partyId);\r\n        Candidate candidate = candidateService.findById(candidateId);\r\n\r\n        party.removeCandidate(candidate);\r\n        candidate.setParty(null);\r\n        partyService.save(party);\r\n        candidateService.save(candidate);\r\n        return partyService.findById(partyId);\r\n    }\r\n\r\n\r\n    // Delete candidates for a given party\r\n\r\n    // WORKING AS INTENDED\r\n    // Will delete a candidate if Party == null. If it != null, it will remove candidate from party\r\n    // and then it will delete the candidate. Prevents deletion of party when deleting candidate\r\n    // which was a problem I was facing.\r\n    @Transactional\r\n    @DeleteMapping(&quot;/delete/{candidateId}&quot;)\r\n    public void deleteCandidate(@PathVariable Long candidateId) {\r\n        if (candidateService.findById(candidateId).getParty()!= null){\r\n            removeCandidate(candidateService.findById(candidateId).getParty().getId(), candidateId);\r\n        }\r\n        candidateService.deleteCandidate(candidateId);\r\n    }\r\n\r\n    // Get all Candidates\r\n\r\n    // Working\r\n    @GetMapping(&quot;/all&quot;)\r\n    public Iterable&lt;Candidate&gt; getAllCandidates(){\r\n        return candidateService.getAll();\r\n    }\r\n\r\n    // Get all candidates for a given party\r\n\r\n    // Working\r\n    @GetMapping(&quot;/parties/{partyId}&quot;)\r\n    public Iterable&lt;Candidate&gt; getCandidatesForParty(@PathVariable Long partyId){\r\n        return candidateService.getCandidateByParty(partyId);\r\n    }\r\n\r\n}\r\n```\r\nCandidateController\r\n\r\n```\r\npackage localelection.programming24hrstartagain.controllers;\r\n\r\n\r\nimport localelection.programming24hrstartagain.entities.Party;\r\nimport localelection.programming24hrstartagain.services.CandidateService;\r\nimport localelection.programming24hrstartagain.services.PartyService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@CrossOrigin\r\n@RestController\r\n@RequestMapping(&quot;/parties&quot;)\r\npublic class PartyController {\r\n\r\n    @Autowired\r\n    CandidateService candidateService;\r\n\r\n    @Autowired\r\n    PartyService partyService;\r\n\r\n    // Working\r\n    @PostMapping(&quot;/new&quot;)\r\n    public Party addParty(@RequestBody Party party) {\r\n        return partyService.save(party);\r\n    }\r\n\r\n\r\n    // Working\r\n    @GetMapping(&quot;/all&quot;)\r\n    public Iterable&lt;Party&gt; getAllParties(){\r\n        return partyService.getAll();\r\n    }\r\n\r\n    // Working\r\n    @GetMapping(&quot;/{partyId}&quot;)\r\n    public Party getPartyById(@PathVariable Long partyId) {\r\n        return partyService.findById(partyId);\r\n    }\r\n\r\n\r\n}\r\n```\r\nPartyController\r\n\r\nThe endpoint in question is in the CandidateController. It works fine when the Candidate doesn&#39;t have a party, but when the Candidate is inside a Party, it edits them, but removes them from their Party.\r\n\r\nIs there a way to stop this from happening? I&#39;ve tried explicitly stating the Party, as can be seen in the CandidateService Class&#39; editCandidate method, but it doesn&#39;t work. \r\n\r\nI&#39;ve also tried explicitly stating the Candidates Party in the CandidateController, but again, it doesn&#39;t work as intended.\r\n\r\nI&#39;ve been looking all over for a solution, but all I can find is stuff on deleting a Child Entity when it&#39;s Parent is deleted and threads surrounding deletion.\r\n\r\nI would really appreciate someone pointing out where I&#39;m going wrong.\r\n\r\nFor clarification: There is no Error being thrown. It works without complaint, just doesn&#39;t give me the intended result.\r\n\r\nhttps://gyazo.com/ccd3fd11d5a5983cb6671fd6dfa47553 - Party entity in DB\r\n\r\nhttps://gyazo.com/df7028e390e613a27fb4bd01724804c4 - Candidate entity in DB\r\n\r\n","title":"How can I prevent a child entity being removed from it&#39;s parent when I edit the child entity?","body":"<p>I'm making a program that models a recent local election in my area, and I have a Candidate Entity and a Party Entity with a OneToMany relationship (Party can have many Candidates and Candidates can have one party).</p>\n<p>I'm using JpaRepository, Hibernate and Postman to test the endpoints, and all are working as I want them to, but for some reason, when I edit a Candidate that is in a party, the Candidate gets removed from the party, even if I explicitly state the Party of the Candidate in the editCandidate method.</p>\n<p>Here are my Entity's and Controllers/Services:</p>\n<pre><code>package localelection.programming24hrstartagain.entities;\n\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Entity\n@NoArgsConstructor\n@Getter @Setter\n@Table(name = &quot;candidates&quot;)\npublic class Candidate {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;candidate_id&quot;)\n    private Long id;\n\n    private String name;\n    private String surname;\n\n    @JsonBackReference\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;party_id&quot;, referencedColumnName = &quot;party_id&quot;)\n    private Party party;\n\n    public Candidate(String name, String surname) {\n        this.name = name;\n        this.surname = surname;\n    }\n\n    public Candidate(String name, String surname, Party party) {\n        this.name = name;\n        this.surname = surname;\n        this.party = party;\n    }\n}\n</code></pre>\n<p>Candidate</p>\n<pre><code>package localelection.programming24hrstartagain.entities;\n\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@NoArgsConstructor\n@Getter @Setter\n@Table(name = &quot;parties&quot;)\npublic class Party {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;party_id&quot;)\n    private Long id;\n\n    private String name;\n    private int votes;\n\n    @OneToMany(mappedBy = &quot;party&quot;)\n    private Set&lt;Candidate&gt; candidates = new HashSet&lt;&gt;();\n\n    public void addCandidate(Candidate candidate) {\n        candidates.add(candidate);\n    }\n\n    public void removeCandidate(Candidate candidate) {\n        candidates.remove(candidate);\n    }\n\n    public Party(String name, int votes) {\n        this.name = name;\n        this.votes = votes;\n    }\n}\n</code></pre>\n<p>Party</p>\n<pre><code>package localelection.programming24hrstartagain.services;\n\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport localelection.programming24hrstartagain.entities.Candidate;\nimport localelection.programming24hrstartagain.entities.Party;\nimport localelection.programming24hrstartagain.repositories.CandidateRepository;\nimport localelection.programming24hrstartagain.repositories.PartyRepository;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.util.List;\n\n@Service\npublic class CandidateService {\n\n    CandidateRepository candidateRepository;\n    PartyRepository partyRepository;\n\n    public CandidateService(CandidateRepository candidateRepository, PartyRepository partyRepository) {\n        this.candidateRepository = candidateRepository;\n        this.partyRepository = partyRepository;\n    }\n\n    public Iterable&lt;Candidate&gt; getAll() {\n        return candidateRepository.findAll();\n    }\n\n    public Candidate findById(Long candidateId) {\n        return candidateRepository.findById(candidateId).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;No Candidate found for ID: &quot; + candidateId));\n    }\n\n    public Iterable&lt;Candidate&gt; getCandidateByParty(Long partyId) {\n        return candidateRepository.findCandidateByPartyId(partyId);\n    }\n\n    public void deleteCandidate(Long candidateId) {\n        candidateRepository.deleteById(candidateId);\n    }\n\n    public Candidate save(Candidate candidate) {\n        return candidateRepository.save(candidate);\n    }\n\n    public Candidate editCandidate(Candidate candidate) {\n        //candidate.setId(candidate.getId());\n        candidate.setName(candidate.getName());\n        candidate.setSurname(candidate.getSurname());\n        candidate.setParty(candidate.getParty());\n        return candidateRepository.save(candidate);\n    }\n\n\n}\n</code></pre>\n<p>CandidateService</p>\n<pre><code>package localelection.programming24hrstartagain.services;\n\nimport localelection.programming24hrstartagain.entities.Party;\nimport localelection.programming24hrstartagain.repositories.CandidateRepository;\nimport localelection.programming24hrstartagain.repositories.PartyRepository;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.util.List;\n\n@Service\npublic class PartyService {\n\n    PartyRepository partyRepository;\n    CandidateRepository candidateRepository;\n\n    public PartyService(PartyRepository partyRepository, CandidateRepository candidateRepository) {\n        this.partyRepository = partyRepository;\n        this.candidateRepository = candidateRepository;\n    }\n\n    public Iterable&lt;Party&gt; getAll() {\n        return partyRepository.findAll();\n    }\n\n    public Party findById(Long partyId) {\n        return partyRepository.findById(partyId).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;No Candidate found for ID: &quot; + partyId));\n    }\n\n    public Party save(Party party) {\n        return partyRepository.save(party);\n    }\n\n}\n</code></pre>\n<p>PartyService</p>\n<pre><code>package localelection.programming24hrstartagain.controllers;\n\n\nimport localelection.programming24hrstartagain.entities.Candidate;\nimport localelection.programming24hrstartagain.entities.Party;\nimport localelection.programming24hrstartagain.services.CandidateService;\nimport localelection.programming24hrstartagain.services.PartyService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@CrossOrigin\n@RestController\n@RequestMapping(&quot;/candidates&quot;)\npublic class CandidateController {\n\n    @Autowired\n    CandidateService candidateService;\n\n    @Autowired\n    PartyService partyService;\n\n    // Create candidate\n\n    // WORKING\n    @PostMapping(&quot;/new&quot;)\n    public Candidate addCandidate(@RequestBody Candidate candidate) {\n        return candidateService.save(candidate);\n    }\n\n    // Add candidate to a given party\n\n    // WORKING\n    @PutMapping(&quot;/add/{candidateId}/{partyId}&quot;)\n    public Party addCandidateToParty(@PathVariable Long candidateId, @PathVariable Long partyId) {\n        Candidate candidate = candidateService.findById(candidateId);\n        Party party = partyService.findById(partyId);\n\n        candidate.setParty(party);\n        candidateService.save(candidate);\n\n        return party;\n    }\n\n//    // Edit candidates for a given party\n//\n//    // Not working as intended. Currently edits candidates, but removes them from their party.\n//    @PutMapping(&quot;/edit/{candidateId}&quot;)\n//    public Candidate editCandidate(@PathVariable Long candidateId, @RequestBody Candidate candidate) {\n//        candidate = candidateService.findById(candidateId);\n//        Party party = candidate.getParty();\n//        return candidateService.editCandidate(candidate);\n//    }\n\n    // Edit candidates for a given party\n\n    // Not working as intended. Currently edits candidates, but removes them from their party.\n    @PutMapping(&quot;/edit/{candidateId}&quot;)\n    public Candidate editCandidate(@PathVariable Long candidateId, @RequestBody Candidate candidate) {\n        candidate.setId(candidateId);\n        return candidateService.editCandidate(candidate);\n    }\n\n    // Remove candidate from a party without deleting them\n\n    // Working\n    @Transactional\n    @PutMapping(&quot;/remove/{candidateId}/{partyId}&quot;)\n    public Party removeCandidate(@PathVariable Long partyId, @PathVariable Long candidateId) {\n        Party party = partyService.findById(partyId);\n        Candidate candidate = candidateService.findById(candidateId);\n\n        party.removeCandidate(candidate);\n        candidate.setParty(null);\n        partyService.save(party);\n        candidateService.save(candidate);\n        return partyService.findById(partyId);\n    }\n\n\n    // Delete candidates for a given party\n\n    // WORKING AS INTENDED\n    // Will delete a candidate if Party == null. If it != null, it will remove candidate from party\n    // and then it will delete the candidate. Prevents deletion of party when deleting candidate\n    // which was a problem I was facing.\n    @Transactional\n    @DeleteMapping(&quot;/delete/{candidateId}&quot;)\n    public void deleteCandidate(@PathVariable Long candidateId) {\n        if (candidateService.findById(candidateId).getParty()!= null){\n            removeCandidate(candidateService.findById(candidateId).getParty().getId(), candidateId);\n        }\n        candidateService.deleteCandidate(candidateId);\n    }\n\n    // Get all Candidates\n\n    // Working\n    @GetMapping(&quot;/all&quot;)\n    public Iterable&lt;Candidate&gt; getAllCandidates(){\n        return candidateService.getAll();\n    }\n\n    // Get all candidates for a given party\n\n    // Working\n    @GetMapping(&quot;/parties/{partyId}&quot;)\n    public Iterable&lt;Candidate&gt; getCandidatesForParty(@PathVariable Long partyId){\n        return candidateService.getCandidateByParty(partyId);\n    }\n\n}\n</code></pre>\n<p>CandidateController</p>\n<pre><code>package localelection.programming24hrstartagain.controllers;\n\n\nimport localelection.programming24hrstartagain.entities.Party;\nimport localelection.programming24hrstartagain.services.CandidateService;\nimport localelection.programming24hrstartagain.services.PartyService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@CrossOrigin\n@RestController\n@RequestMapping(&quot;/parties&quot;)\npublic class PartyController {\n\n    @Autowired\n    CandidateService candidateService;\n\n    @Autowired\n    PartyService partyService;\n\n    // Working\n    @PostMapping(&quot;/new&quot;)\n    public Party addParty(@RequestBody Party party) {\n        return partyService.save(party);\n    }\n\n\n    // Working\n    @GetMapping(&quot;/all&quot;)\n    public Iterable&lt;Party&gt; getAllParties(){\n        return partyService.getAll();\n    }\n\n    // Working\n    @GetMapping(&quot;/{partyId}&quot;)\n    public Party getPartyById(@PathVariable Long partyId) {\n        return partyService.findById(partyId);\n    }\n\n\n}\n</code></pre>\n<p>PartyController</p>\n<p>The endpoint in question is in the CandidateController. It works fine when the Candidate doesn't have a party, but when the Candidate is inside a Party, it edits them, but removes them from their Party.</p>\n<p>Is there a way to stop this from happening? I've tried explicitly stating the Party, as can be seen in the CandidateService Class' editCandidate method, but it doesn't work.</p>\n<p>I've also tried explicitly stating the Candidates Party in the CandidateController, but again, it doesn't work as intended.</p>\n<p>I've been looking all over for a solution, but all I can find is stuff on deleting a Child Entity when it's Parent is deleted and threads surrounding deletion.</p>\n<p>I would really appreciate someone pointing out where I'm going wrong.</p>\n<p>For clarification: There is no Error being thrown. It works without complaint, just doesn't give me the intended result.</p>\n<p><a href=\"https://gyazo.com/ccd3fd11d5a5983cb6671fd6dfa47553\" rel=\"nofollow noreferrer\">https://gyazo.com/ccd3fd11d5a5983cb6671fd6dfa47553</a> - Party entity in DB</p>\n<p><a href=\"https://gyazo.com/df7028e390e613a27fb4bd01724804c4\" rel=\"nofollow noreferrer\">https://gyazo.com/df7028e390e613a27fb4bd01724804c4</a> - Candidate entity in DB</p>\n"},{"tags":["java","android","audio","android-mediaplayer","java-audio"],"comments":[{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1640673666,"post_id":70491706,"comment_id":124628970,"body_markdown":"The core Java package for audio, which includes format conversion, is `javax.sound.sampled`, with a tutorial for this at https://docs.oracle.com/javase/tutorial/sound/converters.html#114640. But I don&#39;t think this package is accessible in Android. However, Android has some pretty excellent tools of its own for audio. I suggest you edit your question to include the `android` or `android-mediaplayer` tag.","body":"The core Java package for audio, which includes format conversion, is <code>javax.sound.sampled</code>, with a tutorial for this at <a href=\"https://docs.oracle.com/javase/tutorial/sound/converters.html#114640\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/sound/converters.html#114640</a>&zwnj;&#8203;. But I don&#39;t think this package is accessible in Android. However, Android has some pretty excellent tools of its own for audio. I suggest you edit your question to include the <code>android</code> or <code>android-mediaplayer</code> tag."},{"owner":{"account_id":20227341,"reputation":47,"user_id":14834847,"display_name":"user14834847"},"score":0,"creation_date":1641060650,"post_id":70491706,"comment_id":124714295,"body_markdown":"Thank you for your suggestion! I have editted tags.","body":"Thank you for your suggestion! I have editted tags."}],"answers":[{"tags":[],"owner":{"account_id":21735601,"reputation":962,"user_id":16043632,"display_name":"Phoenix"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640580970,"creation_date":1640580970,"answer_id":70491803,"question_id":70491706,"body_markdown":"Double-check that the terms of the license are compatible with your use case but perhaps [TarsosDSP](https://github.com/JorenSix/TarsosDSP) is what you are looking for","title":"Audio resample method in java","body":"<p>Double-check that the terms of the license are compatible with your use case but perhaps <a href=\"https://github.com/JorenSix/TarsosDSP\" rel=\"nofollow noreferrer\">TarsosDSP</a> is what you are looking for</p>\n"}],"owner":{"account_id":20227341,"reputation":47,"user_id":14834847,"display_name":"user14834847"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641060598,"creation_date":1640579693,"question_id":70491706,"body_markdown":"I have a project which is to convert a python audio processing application to Android, which means I need to translate the code from python to java.\r\n\r\nThe python code uses the librosa library to resample audio files (```librosa.resample(y, orig_samplerate, target_samplerate, res_type=&#39;sinc_fastest&#39;```)\r\n\r\nIs there any package in java I can use to achieve the same result (have to use the ```sinc_fastest``` resample type)? I am new to java, please give me some help! Thanks!\r\n\r\n```jlibrosa``` in java seems have the similar function as the ```librosa``` in python, but I did not find the resample function.","title":"Audio resample method in java","body":"<p>I have a project which is to convert a python audio processing application to Android, which means I need to translate the code from python to java.</p>\n<p>The python code uses the librosa library to resample audio files (<code>librosa.resample(y, orig_samplerate, target_samplerate, res_type='sinc_fastest'</code>)</p>\n<p>Is there any package in java I can use to achieve the same result (have to use the <code>sinc_fastest</code> resample type)? I am new to java, please give me some help! Thanks!</p>\n<p><code>jlibrosa</code> in java seems have the similar function as the <code>librosa</code> in python, but I did not find the resample function.</p>\n"},{"tags":["java","http","mockito","retrofit2","response"],"comments":[{"owner":{"account_id":3946188,"reputation":2133,"user_id":3258708,"accept_rate":88,"display_name":"Matt"},"score":0,"creation_date":1641050066,"post_id":70549692,"comment_id":124712093,"body_markdown":"Check your imports. Seems like you&#39;ve imported the wrong `when`.","body":"Check your imports. Seems like you&#39;ve imported the wrong <code>when</code>."},{"owner":{"account_id":23131741,"reputation":19,"user_id":17236579,"display_name":"Dan798"},"score":0,"creation_date":1641050831,"post_id":70549692,"comment_id":124712221,"body_markdown":"Can someone please post a working example? (Mocking a retrofit2 response) I think I&#39;ll manage to fix it from there.","body":"Can someone please post a working example? (Mocking a retrofit2 response) I think I&#39;ll manage to fix it from there."}],"answers":[{"tags":[],"owner":{"account_id":14281475,"reputation":321,"user_id":10316073,"display_name":"&#193;lvaro San Mart&#237;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641060544,"creation_date":1641060544,"answer_id":70550833,"question_id":70549692,"body_markdown":"\r\n\r\n&lt;blockquote&gt; \r\n\r\nI usually use Mockito like this\r\n\r\nImport Retrofit Mock\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;retrofit-mock&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.retrofit}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCreate and use the mock\r\n\r\n    import retrofit2.mock.Calls;\r\n    import static org.mockito.Mockito.when;\r\n    import static org.mockito.Mockito.mock;\r\n    \r\n    ...\r\n    \r\n    Api api = mock(Api.class); // Mockito mock\r\n    \r\n    ...\r\n    \r\n    when(api.doSomething(param)).thenReturn(Calls.response(response));\r\n\r\nRetrofit Mock is used only to generate the response.\r\n\r\n&lt;/blockquote&gt;\r\n\r\nI found [this answer][1], I hope this helps you\r\n\r\n  [1]: https://stackoverflow.com/a/50743963/10316073","title":"How to mock a retrofit2 error response with Mockito thenReturn?","body":"<blockquote> \n<p>I usually use Mockito like this</p>\n<p>Import Retrofit Mock</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n    &lt;artifactId&gt;retrofit-mock&lt;/artifactId&gt;\n    &lt;version&gt;${version.retrofit}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Create and use the mock</p>\n<pre><code>import retrofit2.mock.Calls;\nimport static org.mockito.Mockito.when;\nimport static org.mockito.Mockito.mock;\n\n...\n\nApi api = mock(Api.class); // Mockito mock\n\n...\n\nwhen(api.doSomething(param)).thenReturn(Calls.response(response));\n</code></pre>\n<p>Retrofit Mock is used only to generate the response.</p>\n</blockquote>\n<p>I found <a href=\"https://stackoverflow.com/a/50743963/10316073\">this answer</a>, I hope this helps you</p>\n"}],"owner":{"account_id":23131741,"reputation":19,"user_id":17236579,"display_name":"Dan798"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641060544,"creation_date":1641049483,"question_id":70549692,"body_markdown":"I have this code that I want to test:\r\n\r\n    public List&lt;Map&lt;String, Object&gt;&gt; getMaps (Query query) throws CustomException {\r\n       Response&lt;MapsResponse&gt; response = mapsApi.get(); // this is a retrofit2 response\r\n       if (!response.isSuccessful()) {\r\n          handle(response); // throws CustomException\r\n       }\r\n       .\r\n       .\r\n       .\r\n    }\r\n\r\nSo I mocked it with mockito, but when I try to do:\r\n\r\n    retrofit2.Response&lt;MapsResponse&gt; response = retrofit2.Response.error(500, ResponseBody.create(null, content))\r\n    when(mapsApi.get()).thenReturn(response);\r\n\r\nIt says it cannot resolve method &#39;thenReturn...&#39;\r\n\r\nDoes anyone know how can I mock an error response (error HTTP code) that will trigger my exception? Thanks!\r\n","title":"How to mock a retrofit2 error response with Mockito thenReturn?","body":"<p>I have this code that I want to test:</p>\n<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getMaps (Query query) throws CustomException {\n   Response&lt;MapsResponse&gt; response = mapsApi.get(); // this is a retrofit2 response\n   if (!response.isSuccessful()) {\n      handle(response); // throws CustomException\n   }\n   .\n   .\n   .\n}\n</code></pre>\n<p>So I mocked it with mockito, but when I try to do:</p>\n<pre><code>retrofit2.Response&lt;MapsResponse&gt; response = retrofit2.Response.error(500, ResponseBody.create(null, content))\nwhen(mapsApi.get()).thenReturn(response);\n</code></pre>\n<p>It says it cannot resolve method 'thenReturn...'</p>\n<p>Does anyone know how can I mock an error response (error HTTP code) that will trigger my exception? Thanks!</p>\n"},{"tags":["java","android","android-studio","duplicates","androidx"],"answers":[{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1641058958,"creation_date":1641058958,"answer_id":70550678,"question_id":70550502,"body_markdown":"Lifecycle operates under a single version constraint - that means that every Lifecycle artifact you are using in your app should have the exact same version number (unfortunately, this is not something that Gradle will enforce for you).\r\n\r\nYour error states that one of your dependencies is pulling in a dependency on `androidx.lifecycle:lifecycle-common-java8:2.3.0`, which doesn&#39;t match the `2.4.0` version you are using of your other Lifecycle dependencies.\r\n\r\nTherefore to fix your issue, add a dependency on the 2.4.0 version of `lifecycle-common-java8`:\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.4.0&#39;","title":"Duplicate class androidx.lifecycle.DefaultLifecycleObserver in modules in Android Studio app (Java)","body":"<p>Lifecycle operates under a single version constraint - that means that every Lifecycle artifact you are using in your app should have the exact same version number (unfortunately, this is not something that Gradle will enforce for you).</p>\n<p>Your error states that one of your dependencies is pulling in a dependency on <code>androidx.lifecycle:lifecycle-common-java8:2.3.0</code>, which doesn't match the <code>2.4.0</code> version you are using of your other Lifecycle dependencies.</p>\n<p>Therefore to fix your issue, add a dependency on the 2.4.0 version of <code>lifecycle-common-java8</code>:</p>\n<pre><code>implementation 'androidx.lifecycle:lifecycle-common-java8:2.4.0'\n</code></pre>\n"}],"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4732,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70550678,"answer_count":1,"score":4,"last_activity_date":1641058958,"creation_date":1641057477,"question_id":70550502,"body_markdown":"I searched for a long time on the Internet how to solve this error but did not find it.I tried to do a search as written [here](https://developer.android.com/studio/build/dependencies#resolution_errors), but I did not find anything, maybe because I do not understand how to use it. What is this error? How to solve it? Help me pls.\r\nP.S. Any necessary files or additional information I can add.\r\n\r\n```Duplicate class androidx.lifecycle.DefaultLifecycleObserver found in modules lifecycle-common-2.4.0.jar (androidx.lifecycle:lifecycle-common:2.4.0) and lifecycle-common-java8-2.3.0.jar (androidx.lifecycle:lifecycle-common-java8:2.3.0)```\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\nandroid {\r\n    android {\r\n        dexOptions {\r\n            javaMaxHeapSize &quot;4G&quot;\r\n        }\r\n    }\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;31.0.0&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.###.###&quot;\r\n        minSdkVersion 26\r\n        targetSdkVersion 31\r\n        versionCode 20\r\n        versionName &quot;2.3&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &#39;androidx.core:core-ktx:1.6.0&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility 1.8\r\n        targetCompatibility 1.8\r\n    }\r\n}\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.3.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.3.5&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.gridlayout:gridlayout:1.0.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.0.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout-compose:1.0.0-rc02&#39;\r\n    implementation &#39;androidx.startup:startup-runtime:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.4.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:20.0.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.0.0&#39;\r\n\r\n    implementation &#39;com.google.android.play:core:1.10.2&#39;\r\n    debugImplementation &#39;androidx.test:core:1.4.0&#39;\r\n    debugImplementation &#39;androidx.test:monitor:1.5.0&#39;\r\n    debugImplementation &#39;androidx.test.services:storage:1.4.1&#39;\r\n    implementation &#39;com.github.florent37:expansionpanel:1.1.1&#39;\r\n    implementation &#39;org.jsoup:jsoup:1.14.3&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n}\r\n```","title":"Duplicate class androidx.lifecycle.DefaultLifecycleObserver in modules in Android Studio app (Java)","body":"<p>I searched for a long time on the Internet how to solve this error but did not find it.I tried to do a search as written <a href=\"https://developer.android.com/studio/build/dependencies#resolution_errors\" rel=\"nofollow noreferrer\">here</a>, but I did not find anything, maybe because I do not understand how to use it. What is this error? How to solve it? Help me pls.\nP.S. Any necessary files or additional information I can add.</p>\n<p><code>Duplicate class androidx.lifecycle.DefaultLifecycleObserver found in modules lifecycle-common-2.4.0.jar (androidx.lifecycle:lifecycle-common:2.4.0) and lifecycle-common-java8-2.3.0.jar (androidx.lifecycle:lifecycle-common-java8:2.3.0)</code></p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\nandroid {\n    android {\n        dexOptions {\n            javaMaxHeapSize &quot;4G&quot;\n        }\n    }\n    compileSdkVersion 30\n    buildToolsVersion &quot;31.0.0&quot;\n    defaultConfig {\n        applicationId &quot;com.###.###&quot;\n        minSdkVersion 26\n        targetSdkVersion 31\n        versionCode 20\n        versionName &quot;2.3&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    configurations.all {\n        resolutionStrategy {\n            force 'androidx.core:core-ktx:1.6.0'\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility 1.8\n        targetCompatibility 1.8\n    }\n}\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.gridlayout:gridlayout:1.0.0'\n    implementation 'com.google.android.gms:play-services-maps:18.0.1'\n    implementation 'androidx.constraintlayout:constraintlayout-compose:1.0.0-rc02'\n    implementation 'androidx.startup:startup-runtime:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    implementation platform('com.google.firebase:firebase-bom:28.4.1')\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n    implementation 'com.google.android.gms:play-services-auth:20.0.0'\n    implementation 'com.google.firebase:firebase-analytics:20.0.2'\n    implementation 'com.google.firebase:firebase-database:20.0.3'\n    implementation 'com.google.firebase:firebase-firestore:24.0.0'\n    implementation 'com.google.firebase:firebase-messaging:23.0.0'\n\n    implementation 'com.google.android.play:core:1.10.2'\n    debugImplementation 'androidx.test:core:1.4.0'\n    debugImplementation 'androidx.test:monitor:1.5.0'\n    debugImplementation 'androidx.test.services:storage:1.4.1'\n    implementation 'com.github.florent37:expansionpanel:1.1.1'\n    implementation 'org.jsoup:jsoup:1.14.3'\n    implementation 'androidx.core:core-ktx:1.6.0'\n}\n</code></pre>\n"},{"tags":["java","swagger","jhipster"],"comments":[{"owner":{"account_id":331432,"reputation":3297,"user_id":656094,"accept_rate":40,"display_name":"Panthro"},"score":0,"creation_date":1457306341,"post_id":33726926,"comment_id":59334631,"body_markdown":"if you enable it as per zapl answer, you can see it by pointing to `/swagger-ui/index.html`","body":"if you enable it as per zapl answer, you can see it by pointing to <code>&#47;swagger-ui&#47;index.html</code>"}],"answers":[{"tags":[],"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1447634952,"creation_date":1447634952,"answer_id":33726980,"question_id":33726926,"body_markdown":"The Swagger configuration is in [`config/apidoc/SwaggerConfiguration.java`](https://github.com/jhipster/jhipster-sample-app/blob/master/src/main/java/com/mycompany/myapp/config/apidoc/SwaggerConfiguration.java)\r\n\r\nYou could simply remove the line that excludes the prod profile:\r\n\r\n    @Profile(&quot;!&quot;+Constants.SPRING_PROFILE_PRODUCTION)\r\n\r\n","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>The Swagger configuration is in <a href=\"https://github.com/jhipster/jhipster-sample-app/blob/master/src/main/java/com/mycompany/myapp/config/apidoc/SwaggerConfiguration.java\" rel=\"nofollow\"><code>config/apidoc/SwaggerConfiguration.java</code></a></p>\n\n<p>You could simply remove the line that excludes the prod profile:</p>\n\n<pre><code>@Profile(\"!\"+Constants.SPRING_PROFILE_PRODUCTION)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473185,"reputation":676,"user_id":2154472,"accept_rate":40,"display_name":"Trong Tran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463280509,"creation_date":1463280509,"answer_id":37234050,"question_id":33726926,"body_markdown":"No, never do that. Please see ***webapp/app/app.constants.js*** file. It will be generated **automatically** when you are run gulp command. If you want to show Swagger API, please look into that file.\r\n\r\n\r\n    (function () {\r\n    &quot;use strict&quot;;\r\n    // DO NOT EDIT THIS FILE, EDIT THE GULP TASK NGCONSTANT SETTINGS INSTEAD WHICH GENERATES THIS FILE\r\n    angular.module(&quot;sosickApp&quot;)\r\n\r\n    .constant(&quot;ENV&quot;, &quot;dev&quot;)\r\n\r\n    .constant(&quot;VERSION&quot;, &quot;0.0.1-SNAPSHOT&quot;)\r\n\r\n    ;\r\n    })();\r\n\r\n\r\nAnd gulpfile.js task:\r\n\r\n    gulp.task(&#39;ngconstant:dev&#39;, function () {\r\n    return ngConstant({\r\n        dest: &#39;app.constants.js&#39;,\r\n        name: &#39;sosickApp&#39;,\r\n        deps: false,\r\n        noFile: true,\r\n        interpolate: /\\{%=(.+?)%\\}/g,\r\n        wrap:\r\n            &#39;(function () {\\n&#39; +\r\n            &#39;    &quot;use strict&quot;;\\n&#39; +\r\n            &#39;    // DO NOT EDIT THIS FILE, EDIT THE GULP TASK NGCONSTANT SETTINGS INSTEAD WHICH GENERATES THIS FILE\\n&#39; +\r\n            &#39;    {%= __ngModule %}\\n&#39; +\r\n            &#39;})();\\n&#39;,\r\n        constants: {\r\n            ENV: &#39;dev&#39;,\r\n            VERSION: util.parseVersion()\r\n        }\r\n    })\r\n    .pipe(gulp.dest(config.app + &#39;app/&#39;));\r\n    });\r\n\r\n\r\nGood luck!","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>No, never do that. Please see <strong><em>webapp/app/app.constants.js</em></strong> file. It will be generated <strong>automatically</strong> when you are run gulp command. If you want to show Swagger API, please look into that file.</p>\n\n<pre><code>(function () {\n\"use strict\";\n// DO NOT EDIT THIS FILE, EDIT THE GULP TASK NGCONSTANT SETTINGS INSTEAD WHICH GENERATES THIS FILE\nangular.module(\"sosickApp\")\n\n.constant(\"ENV\", \"dev\")\n\n.constant(\"VERSION\", \"0.0.1-SNAPSHOT\")\n\n;\n})();\n</code></pre>\n\n<p>And gulpfile.js task:</p>\n\n<pre><code>gulp.task('ngconstant:dev', function () {\nreturn ngConstant({\n    dest: 'app.constants.js',\n    name: 'sosickApp',\n    deps: false,\n    noFile: true,\n    interpolate: /\\{%=(.+?)%\\}/g,\n    wrap:\n        '(function () {\\n' +\n        '    \"use strict\";\\n' +\n        '    // DO NOT EDIT THIS FILE, EDIT THE GULP TASK NGCONSTANT SETTINGS INSTEAD WHICH GENERATES THIS FILE\\n' +\n        '    {%= __ngModule %}\\n' +\n        '})();\\n',\n    constants: {\n        ENV: 'dev',\n        VERSION: util.parseVersion()\n    }\n})\n.pipe(gulp.dest(config.app + 'app/'));\n});\n</code></pre>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":2473185,"reputation":676,"user_id":2154472,"accept_rate":40,"display_name":"Trong Tran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1475116041,"creation_date":1475116041,"answer_id":39760403,"question_id":33726926,"body_markdown":"Latest JHipster is allowed setting to show/hide Swagger API.","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>Latest JHipster is allowed setting to show/hide Swagger API.</p>\n"},{"tags":[],"owner":{"account_id":10012236,"reputation":71,"user_id":7404738,"display_name":"nash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582265541,"creation_date":1515147487,"answer_id":48111464,"question_id":33726926,"body_markdown":"In the latest release add ths code to application.prod.yml\r\n\r\n    profiles:\r\n      include: \r\n        -swagger","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>In the latest release add ths code to application.prod.yml</p>\n\n<pre><code>profiles:\n  include: \n    -swagger\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3320406,"reputation":340,"user_id":2791725,"accept_rate":78,"display_name":"San"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515609549,"creation_date":1515609549,"answer_id":48194062,"question_id":33726926,"body_markdown":"In JHipster version 4.5.6, with Maven, you can enable swagger profiles directly:\r\n\r\n&gt; ./mvnw -Pprod,swagger\r\n\r\nWith Gradle, you can also use those profiles directly:\r\n\r\n&gt; ./gradlew -Pprod -Pswagger\r\n\r\n*Please note that by default, the swagger profile is disabled in prod and enabled in dev by setting the spring.profiles.include property in application.yml.* \r\n\r\nFor more information, refer [jhipster profiles][1]\r\n\r\n\r\n  [1]: http://www.jhipster.tech/profiles/","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>In JHipster version 4.5.6, with Maven, you can enable swagger profiles directly:</p>\n\n<blockquote>\n  <p>./mvnw -Pprod,swagger</p>\n</blockquote>\n\n<p>With Gradle, you can also use those profiles directly:</p>\n\n<blockquote>\n  <p>./gradlew -Pprod -Pswagger</p>\n</blockquote>\n\n<p><em>Please note that by default, the swagger profile is disabled in prod and enabled in dev by setting the spring.profiles.include property in application.yml.</em> </p>\n\n<p>For more information, refer <a href=\"http://www.jhipster.tech/profiles/\" rel=\"nofollow noreferrer\">jhipster profiles</a></p>\n"},{"tags":[],"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562154332,"creation_date":1562154332,"answer_id":56869397,"question_id":33726926,"body_markdown":"Maybe this is too to answer, but on the current JHipster, it can be enabled via command line args or via 2 files:\r\n\r\n- application.yml\r\n\r\n&gt;     spring:\r\n    profiles:\r\n        active: dev\r\n        include:\r\n            - swagger\r\n\r\n- application-profile.ts\r\nFind some lines with isSwaggerEnabled then change to true\r\n&gt; isSwaggerEnabled: true\r\n\r\nThen you can access via /swagger-ui/index.html on browser\r\nHope this helps","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>Maybe this is too to answer, but on the current JHipster, it can be enabled via command line args or via 2 files:</p>\n\n<ul>\n<li>application.yml</li>\n</ul>\n\n<blockquote>\n<pre><code>spring:\nprofiles:\n    active: dev\n    include:\n        - swagger\n</code></pre>\n</blockquote>\n\n<ul>\n<li>application-profile.ts\nFind some lines with isSwaggerEnabled then change to true\n\n<blockquote>\n  <p>isSwaggerEnabled: true</p>\n</blockquote></li>\n</ul>\n\n<p>Then you can access via /swagger-ui/index.html on browser\nHope this helps</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587157345,"creation_date":1587157345,"answer_id":61280615,"question_id":33726926,"body_markdown":"For everyone who is here because want to google out why the swagger isn&#39;t enabled on prod in heroku installation despite of setting it a correct `swagger` profile property as in the answers here into `application-prod.yml`, `application-heroku.yml`, `SPRING_PROFILES_ACTIVE` env variable, `mvn` start-up parameters in `MAVEN_CUSTOM_OPTS` env variable in `heroku:config` custom env variables...\r\n\r\nIt looks like the actual profile that will be used by the heroku prod run is in `Procfile`. So I have to change it after tried all the possibilities above. Hope this message will save someone&#39;s time.\r\n\r\nEnabling swagger to prod isn&#39;t a good practise, but actually is ok for out business needs, so we even don&#39;t try to make it private.","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>For everyone who is here because want to google out why the swagger isn't enabled on prod in heroku installation despite of setting it a correct <code>swagger</code> profile property as in the answers here into <code>application-prod.yml</code>, <code>application-heroku.yml</code>, <code>SPRING_PROFILES_ACTIVE</code> env variable, <code>mvn</code> start-up parameters in <code>MAVEN_CUSTOM_OPTS</code> env variable in <code>heroku:config</code> custom env variables...</p>\n\n<p>It looks like the actual profile that will be used by the heroku prod run is in <code>Procfile</code>. So I have to change it after tried all the possibilities above. Hope this message will save someone's time.</p>\n\n<p>Enabling swagger to prod isn't a good practise, but actually is ok for out business needs, so we even don't try to make it private.</p>\n"},{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635368672,"creation_date":1635368672,"answer_id":69745478,"question_id":33726926,"body_markdown":"with jhipster 7.3.0\r\n```\r\n./mvnw -Pprod,api-docs\r\n```\r\nyou should see the log below\r\n```\r\n----------------------------------------------------------\r\n        Application &#39;APP&#39; is running! Access URLs:\r\n        Local:          http://localhost:9099/\r\n        External:       http://127.0.0.1:9099/\r\n        Profile(s):     [prod, api-docs]\r\n----------------------------------------------------------\r\n```\r\nand in admin panel you can see the API under the menu\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EWRsC.png","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>with jhipster 7.3.0</p>\n<pre><code>./mvnw -Pprod,api-docs\n</code></pre>\n<p>you should see the log below</p>\n<pre><code>----------------------------------------------------------\n        Application 'APP' is running! Access URLs:\n        Local:          http://localhost:9099/\n        External:       http://127.0.0.1:9099/\n        Profile(s):     [prod, api-docs]\n----------------------------------------------------------\n</code></pre>\n<p>and in admin panel you can see the API under the menu\n<a href=\"https://i.stack.imgur.com/EWRsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EWRsC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14447918,"reputation":64,"user_id":10436446,"display_name":"Peter Malcovsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641057683,"creation_date":1641057683,"answer_id":70550517,"question_id":33726926,"body_markdown":"with jhipster 7.4.1 and Heroku:\r\nEdit your `Procfile`\r\n\r\nInstead of\r\n```\r\nweb: java $JAVA_OPTS -Xmx256m -jar target/*.jar --spring.profiles.active=prod,heroku\r\n```\r\nPut this\r\n```\r\nweb: java $JAVA_OPTS -Xmx256m -jar target/*.jar --spring.profiles.active=prod,api-docs,heroku\r\n```\r\nI.e. add `api-docs` to active profiles.\r\n\r\nI can now see Administration / API menu in PROD","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>with jhipster 7.4.1 and Heroku:\nEdit your <code>Procfile</code></p>\n<p>Instead of</p>\n<pre><code>web: java $JAVA_OPTS -Xmx256m -jar target/*.jar --spring.profiles.active=prod,heroku\n</code></pre>\n<p>Put this</p>\n<pre><code>web: java $JAVA_OPTS -Xmx256m -jar target/*.jar --spring.profiles.active=prod,api-docs,heroku\n</code></pre>\n<p>I.e. add <code>api-docs</code> to active profiles.</p>\n<p>I can now see Administration / API menu in PROD</p>\n"}],"owner":{"account_id":296908,"reputation":1223,"user_id":602139,"accept_rate":80,"display_name":"codemonkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11253,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33726980,"answer_count":9,"score":8,"last_activity_date":1641057683,"creation_date":1447634549,"question_id":33726926,"body_markdown":"I&#39;d like to be able to see the swagger rest api documentation in my jhipster app, even while it is running under the prod profile.  Currently it only shows in the dev profile and I&#39;m not sure where this is configured.","title":"How can I enable the swagger ui on a jhipster app in prod profile?","body":"<p>I'd like to be able to see the swagger rest api documentation in my jhipster app, even while it is running under the prod profile.  Currently it only shows in the dev profile and I'm not sure where this is configured.</p>\n"},{"tags":["java","c#","java-io"],"comments":[{"owner":{"account_id":27103,"reputation":35282,"user_id":71141,"accept_rate":82,"display_name":"Etienne de Martel"},"score":1,"creation_date":1641003162,"post_id":70546608,"comment_id":124706748,"body_markdown":"Java does not have a native way to open named shared memory like that.  Java memory mapped files (through the `FileChannel` class) need to be, well, backed by a file on disk. If you really need to use named shared memory, you could use JNI to do that, as explained [in this answer](https://stackoverflow.com/a/15415998/71141), but really, since you&#39;re about to use a Windows specific feature, why use Java at all?","body":"Java does not have a native way to open named shared memory like that.  Java memory mapped files (through the <code>FileChannel</code> class) need to be, well, backed by a file on disk. If you really need to use named shared memory, you could use JNI to do that, as explained <a href=\"https://stackoverflow.com/a/15415998/71141\">in this answer</a>, but really, since you&#39;re about to use a Windows specific feature, why use Java at all?"},{"owner":{"account_id":10755898,"reputation":2412,"user_id":7913860,"display_name":"Danilo Lemes"},"score":0,"creation_date":1641028661,"post_id":70546608,"comment_id":124708883,"body_markdown":"I see! Went for Java because its the language Im most comfortable with and I want to do a simple jetpack compose desktop app with Kotlin","body":"I see! Went for Java because its the language Im most comfortable with and I want to do a simple jetpack compose desktop app with Kotlin"}],"answers":[{"tags":[],"owner":{"account_id":10755898,"reputation":2412,"user_id":7913860,"display_name":"Danilo Lemes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641057390,"creation_date":1641057390,"answer_id":70550491,"question_id":70546608,"body_markdown":"So as mentioned by [@Etienne de Martel][1], we&#39;re not able to read it straight from Java without any help of JNA or JNI... Luckily there&#39;s another [thread][2] here on SO that pointed my in the right direction...\r\n\r\nWhat I needed to do was:\r\n\r\n```java\r\npublic interface Kernel32Impl extends com.sun.jna.platform.win32.Kernel32 {\r\n    Kernel32Impl KERNEL_32 = Native.load(&quot;kernel32&quot;, Kernel32Impl.class, W32APIOptions.DEFAULT_OPTIONS);\r\n    HANDLE OpenFileMapping(int lfProtect, boolean bInherit, String lpName);\r\n    HANDLE OpenEvent(int i, boolean bManualReset, String lpName);\r\n}\r\n```\r\n\r\nand finally in Kotlin\r\n```kotlin\r\nclass WindowsService {\r\n\r\n    var lastError: Int = 0\r\n        private set\r\n\r\n    fun openMemoryMapFile(filename: String): WinNT.HANDLE? {\r\n        val memMapFile = Kernel32Impl.KERNEL_32.OpenFileMapping(WinNT.SECTION_MAP_READ, false, filename)\r\n        lastError = Kernel32Impl.KERNEL_32.GetLastError()\r\n\r\n        return memMapFile\r\n    }\r\n\r\n    fun closeHandle(handle: WinNT.HANDLE) {\r\n        Kernel32Impl.KERNEL_32.CloseHandle(handle)\r\n    }\r\n\r\n    fun mapViewOfFile(handle: WinNT.HANDLE?): Pointer? {\r\n        handle ?: return null\r\n\r\n        return Kernel32.INSTANCE.MapViewOfFile(handle, WinNT.SECTION_MAP_READ, 0, 0, 0)\r\n    }\r\n\r\n    fun unmapViewOfFile(pointer: Pointer) {\r\n        Kernel32Impl.KERNEL_32.UnmapViewOfFile(pointer)\r\n        lastError = Kernel32Impl.INSTANCE.GetLastError()\r\n    }\r\n}\r\n```\r\n\r\nThen on the actual usage of that:\r\n```kotlin\r\nwindowsService.openMemoryMapFile(MEMORY_MAP_FILE_NAME)?.let { handle -&gt;\r\n            windowsService.mapViewOfFile(handle)?.let { pointer -&gt;\r\n                val buffer = ByteBuffer.allocateDirect(BLOCK_SIZE)\r\n                buffer.put(pointer.getByteArray(0, BLOCK_SIZE))\r\n                buffer.order(ByteOrder.LITTLE_ENDIAN)\r\n                buffer.rewind()\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/71141/etienne-de-martel\r\n  [2]: https://stackoverflow.com/questions/62211495/java-memory-mapped-file-from-windows-system","title":"Read C#&#39;s MemoryMappedFile in Java","body":"<p>So as mentioned by <a href=\"https://stackoverflow.com/users/71141/etienne-de-martel\">@Etienne de Martel</a>, we're not able to read it straight from Java without any help of JNA or JNI... Luckily there's another <a href=\"https://stackoverflow.com/questions/62211495/java-memory-mapped-file-from-windows-system\">thread</a> here on SO that pointed my in the right direction...</p>\n<p>What I needed to do was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Kernel32Impl extends com.sun.jna.platform.win32.Kernel32 {\n    Kernel32Impl KERNEL_32 = Native.load(&quot;kernel32&quot;, Kernel32Impl.class, W32APIOptions.DEFAULT_OPTIONS);\n    HANDLE OpenFileMapping(int lfProtect, boolean bInherit, String lpName);\n    HANDLE OpenEvent(int i, boolean bManualReset, String lpName);\n}\n</code></pre>\n<p>and finally in Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class WindowsService {\n\n    var lastError: Int = 0\n        private set\n\n    fun openMemoryMapFile(filename: String): WinNT.HANDLE? {\n        val memMapFile = Kernel32Impl.KERNEL_32.OpenFileMapping(WinNT.SECTION_MAP_READ, false, filename)\n        lastError = Kernel32Impl.KERNEL_32.GetLastError()\n\n        return memMapFile\n    }\n\n    fun closeHandle(handle: WinNT.HANDLE) {\n        Kernel32Impl.KERNEL_32.CloseHandle(handle)\n    }\n\n    fun mapViewOfFile(handle: WinNT.HANDLE?): Pointer? {\n        handle ?: return null\n\n        return Kernel32.INSTANCE.MapViewOfFile(handle, WinNT.SECTION_MAP_READ, 0, 0, 0)\n    }\n\n    fun unmapViewOfFile(pointer: Pointer) {\n        Kernel32Impl.KERNEL_32.UnmapViewOfFile(pointer)\n        lastError = Kernel32Impl.INSTANCE.GetLastError()\n    }\n}\n</code></pre>\n<p>Then on the actual usage of that:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>windowsService.openMemoryMapFile(MEMORY_MAP_FILE_NAME)?.let { handle -&gt;\n            windowsService.mapViewOfFile(handle)?.let { pointer -&gt;\n                val buffer = ByteBuffer.allocateDirect(BLOCK_SIZE)\n                buffer.put(pointer.getByteArray(0, BLOCK_SIZE))\n                buffer.order(ByteOrder.LITTLE_ENDIAN)\n                buffer.rewind()\n</code></pre>\n"}],"owner":{"account_id":10755898,"reputation":2412,"user_id":7913860,"display_name":"Danilo Lemes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70550491,"answer_count":1,"score":0,"last_activity_date":1641057390,"creation_date":1641001602,"question_id":70546608,"body_markdown":"Hi and happy new year!\r\n\r\nI&#39;ve been looking for a way of doing this piece of code in Java/Kotlin, if possible...\r\n\r\n```cs\r\nMemoryMappedFile memfile = MemoryMappedFile.OpenExisting(&quot;MAHMSharedMemory&quot;);\r\nBinaryReader br = new BinaryReader(memfile.CreateViewStream());\r\nbr.BaseStream.Seek(0, SeekOrigin.Begin);\r\n```\r\n\r\nThe docs of `OpenExisting` states that:\r\n&gt; Opens an existing memory-mapped file that has the specified name in system memory.\r\n\r\nAnd the docs of `CreateViewStream` tells me:\r\n&gt; Creates a stream that maps to a view of the memory-mapped file.\r\n\r\nWhat would be the Java/Kotlin equivalent of those two methods?","title":"Read C#&#39;s MemoryMappedFile in Java","body":"<p>Hi and happy new year!</p>\n<p>I've been looking for a way of doing this piece of code in Java/Kotlin, if possible...</p>\n<pre class=\"lang-cs prettyprint-override\"><code>MemoryMappedFile memfile = MemoryMappedFile.OpenExisting(&quot;MAHMSharedMemory&quot;);\nBinaryReader br = new BinaryReader(memfile.CreateViewStream());\nbr.BaseStream.Seek(0, SeekOrigin.Begin);\n</code></pre>\n<p>The docs of <code>OpenExisting</code> states that:</p>\n<blockquote>\n<p>Opens an existing memory-mapped file that has the specified name in system memory.</p>\n</blockquote>\n<p>And the docs of <code>CreateViewStream</code> tells me:</p>\n<blockquote>\n<p>Creates a stream that maps to a view of the memory-mapped file.</p>\n</blockquote>\n<p>What would be the Java/Kotlin equivalent of those two methods?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1641057380,"post_id":70550471,"comment_id":124713576,"body_markdown":"maybe some cached version of the class? try cleaning all previous classes","body":"maybe some cached version of the class? try cleaning all previous classes"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1641057448,"post_id":70550471,"comment_id":124713589,"body_markdown":"Is there a case mismatch with the file naming?","body":"Is there a case mismatch with the file naming?"},{"owner":{"account_id":1373173,"reputation":89,"user_id":3621482,"display_name":"Double_A"},"score":0,"creation_date":1641057797,"post_id":70550471,"comment_id":124713675,"body_markdown":"The file name needs to match the main Class name.","body":"The file name needs to match the main Class name."},{"owner":{"account_id":23800130,"reputation":1,"user_id":17810475,"display_name":"Gaurav Sharma"},"score":0,"creation_date":1641057799,"post_id":70550471,"comment_id":124713677,"body_markdown":"&quot;try cleaning all previous classes&quot;\nIt didnot worked at all.","body":"&quot;try cleaning all previous classes&quot; It didnot worked at all."},{"owner":{"account_id":23800130,"reputation":1,"user_id":17810475,"display_name":"Gaurav Sharma"},"score":0,"creation_date":1641057924,"post_id":70550471,"comment_id":124713709,"body_markdown":"&quot;The file name needs to match the main Class name.&quot;\nThe file name is exactly the same as main class name.","body":"&quot;The file name needs to match the main Class name.&quot; The file name is exactly the same as main class name."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1641057945,"post_id":70550471,"comment_id":124713713,"body_markdown":"Does your class have a package statement at the start? Is the filename actually `Main.class` (and not `main.class`)?","body":"Does your class have a package statement at the start? Is the filename actually <code>Main.class</code> (and not <code>main.class</code>)?"},{"owner":{"account_id":23800130,"reputation":1,"user_id":17810475,"display_name":"Gaurav Sharma"},"score":0,"creation_date":1641058308,"post_id":70550471,"comment_id":124713793,"body_markdown":"I have saved the file with name &quot;Main.java&quot; after compilation 2 files are created automatically in the same directory by the compiler named as &quot;Main.class&quot; and &quot;Circle.class&quot;.","body":"I have saved the file with name &quot;Main.java&quot; after compilation 2 files are created automatically in the same directory by the compiler named as &quot;Main.class&quot; and &quot;Circle.class&quot;."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1641259938,"post_id":70550471,"comment_id":124754749,"body_markdown":"Open a new empty folder then create `Main.java`, I can **Run Code** successfully. Open Command Palette and choose `Java: Clean Java Language Server Workspace`, if not help, please try coding in a new folder.","body":"Open a new empty folder then create <code>Main.java</code>, I can <b>Run Code</b> successfully. Open Command Palette and choose <code>Java: Clean Java Language Server Workspace</code>, if not help, please try coding in a new folder."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1641745929,"post_id":70550471,"comment_id":124881032,"body_markdown":"Windows has a case-insensitive file system but Java is case-sensitive. Remove the old .java file and save again, making sure the file name is the same as the class name (plus the `.java` extension).","body":"Windows has a case-insensitive file system but Java is case-sensitive. Remove the old .java file and save again, making sure the file name is the same as the class name (plus the <code>.java</code> extension)."}],"owner":{"account_id":23800130,"reputation":1,"user_id":17810475,"display_name":"Gaurav Sharma"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641057200,"creation_date":1641057127,"question_id":70550471,"body_markdown":"Here is my code:-\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static float radius = 10.0f;\r\n    public static void main(String[] a){\r\n        Circle c1 = new Circle();\r\n        c1.radius = 10.0f;\r\n        System.out.println(&quot;area of circle = &quot; + c1.area());\r\n    }\r\n}\r\n\r\nclass Circle{\r\n\r\n    public float radius;\r\n    public float area(){\r\n        return 3.141f * radius * radius;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen I try to **Run Code** on Visual Studio Code I am getting the following error message: \r\n\r\n&gt; Error: Could not find or load main class main\r\nCaused by: java.lang.NoClassDefFoundError: Main (wrong name: main)\r\n\r\nbut when I click on **Debug Java** the code gives the output: **area of circle = 314.1** which is the desired output.\r\n\r\nI actually wants to what&#39;s the problem which is causing error while running the code.","title":"Error: Could not find or load main class main Caused by: java.lang.NoClassDefFoundError: Main (wrong name: main)","body":"<p>Here is my code:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static float radius = 10.0f;\n    public static void main(String[] a){\n        Circle c1 = new Circle();\n        c1.radius = 10.0f;\n        System.out.println(&quot;area of circle = &quot; + c1.area());\n    }\n}\n\nclass Circle{\n\n    public float radius;\n    public float area(){\n        return 3.141f * radius * radius;\n    }\n}\n</code></pre>\n<p>When I try to <strong>Run Code</strong> on Visual Studio Code I am getting the following error message:</p>\n<blockquote>\n<p>Error: Could not find or load main class main\nCaused by: java.lang.NoClassDefFoundError: Main (wrong name: main)</p>\n</blockquote>\n<p>but when I click on <strong>Debug Java</strong> the code gives the output: <strong>area of circle = 314.1</strong> which is the desired output.</p>\n<p>I actually wants to what's the problem which is causing error while running the code.</p>\n"},{"tags":["java","string","swing","character","foreground"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1629819260,"post_id":68909973,"comment_id":121784572,"body_markdown":"*What are the similar codes that I can use with java Netbeans.* - Netbeans is not a GUI. We have no idea what GUI you are using. Is it Swing? Is it JavaFX? Is it something else.","body":"<i>What are the similar codes that I can use with java Netbeans.</i> - Netbeans is not a GUI. We have no idea what GUI you are using. Is it Swing? Is it JavaFX? Is it something else."},{"owner":{"account_id":14397423,"reputation":1,"user_id":10400260,"display_name":"Farah Alani"},"score":0,"creation_date":1629819887,"post_id":68909973,"comment_id":121784886,"body_markdown":"Yes, I am using swing .. sorry I didn&#39;t specify","body":"Yes, I am using swing .. sorry I didn&#39;t specify"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1629820080,"post_id":68909973,"comment_id":121784970,"body_markdown":"Read the Swing tutorial on [Using Text Components](https://docs.oracle.com/javase/tutorial/uiswing/components/text.html) for Swing basics. If you want to use HTML you use a JEditorPane. If you want styled text you use a JTextPane. The tutorial has examples of both.","body":"Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\" rel=\"nofollow noreferrer\">Using Text Components</a> for Swing basics. If you want to use HTML you use a JEditorPane. If you want styled text you use a JTextPane. The tutorial has examples of both."},{"owner":{"account_id":14397423,"reputation":1,"user_id":10400260,"display_name":"Farah Alani"},"score":0,"creation_date":1629820924,"post_id":68909973,"comment_id":121785329,"body_markdown":"I think you misunderstood my question, I need to change the color for a specific character in a word... This means I have the word (Hello) and with some conditions, the letter (o) should be a different color.","body":"I think you misunderstood my question, I need to change the color for a specific character in a word... This means I have the word (Hello) and with some conditions, the letter (o) should be a different color."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1629821024,"post_id":68909973,"comment_id":121785374,"body_markdown":"No, I completely understand. You need to read the tutorial and download the demo code to understand how to do this. Swing is different than Android so you need to do some reading to understand how it is done in Swing. Swing use a `Document` to hold the text and the attributes of the text. You can set attributes for individual characters or for paragraphs of text.","body":"No, I completely understand. You need to read the tutorial and download the demo code to understand how to do this. Swing is different than Android so you need to do some reading to understand how it is done in Swing. Swing use a <code>Document</code> to hold the text and the attributes of the text. You can set attributes for individual characters or for paragraphs of text."},{"owner":{"account_id":14397423,"reputation":1,"user_id":10400260,"display_name":"Farah Alani"},"score":0,"creation_date":1629821164,"post_id":68909973,"comment_id":121785437,"body_markdown":"Ok, Thanks. I will read the tutorial.","body":"Ok, Thanks. I will read the tutorial."}],"answers":[{"tags":[],"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629821196,"creation_date":1629818646,"answer_id":68910007,"question_id":68909973,"body_markdown":"Are you using Java Swing?\r\n\r\nIf yes, you can put `&quot;&lt;html&gt;YOUR TEXT&lt;/html&gt;&quot;` with needly customizations for you design.\r\n\r\nPut it inside an `new JLabel(&quot;&lt;html&gt;YOUR...&quot;);` It is the principle of Java graphics design, and today we have the JavaFX that will replace these method of interface programming","title":"Coloring specified character of String","body":"<p>Are you using Java Swing?</p>\n<p>If yes, you can put <code>&quot;&lt;html&gt;YOUR TEXT&lt;/html&gt;&quot;</code> with needly customizations for you design.</p>\n<p>Put it inside an <code>new JLabel(&quot;&lt;html&gt;YOUR...&quot;);</code> It is the principle of Java graphics design, and today we have the JavaFX that will replace these method of interface programming</p>\n"},{"tags":[],"owner":{"display_name":"user16755113"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641057114,"creation_date":1629959453,"answer_id":68933552,"question_id":68909973,"body_markdown":"Your solution.\r\n\r\nYou can change the colour of the label.\r\n\r\nAdd this to your jframe or jlabel as you have used in your project.\r\n\r\nThank you\r\n\r\n    Label label = new Label(&quot;Your text&quot;);\r\n    //sets the colour of text\r\n    label.setForeground(Color.BLACK);\r\n    //sets the backround of text\r\n    label.setBackground(Color.BLUE);","title":"Coloring specified character of String","body":"<p>Your solution.</p>\n<p>You can change the colour of the label.</p>\n<p>Add this to your jframe or jlabel as you have used in your project.</p>\n<p>Thank you</p>\n<pre><code>Label label = new Label(&quot;Your text&quot;);\n//sets the colour of text\nlabel.setForeground(Color.BLACK);\n//sets the backround of text\nlabel.setBackground(Color.BLUE);\n</code></pre>\n"}],"owner":{"account_id":14397423,"reputation":1,"user_id":10400260,"display_name":"Farah Alani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641057114,"creation_date":1629818504,"question_id":68909973,"body_markdown":"I searched for this issue and I found the below codes, but these codes are for Java-Android. What are the similar codes that I can use with Java \r\n\r\nThe codes are:\r\n\r\n    ArrayList&lt;Integer&gt; positions = new ArrayList();\r\n    Pattern p = Pattern.compile(&quot;mp&quot;);  // insert your pattern here\r\n    Matcher m = p.matcher(&quot;Simple Text, bumping , jumping&quot;);\r\n    while (m.find()) {\r\n        positions.add(m.start());\r\n    }\r\n    \r\n    Spannable spanning = new SpannableString(&quot;Simple Text&quot;);        \r\n    spanning.setSpan(new ForegroundColorSpan(Color.BLUE),positions.get(i), positions.get(i)+1, \r\n    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        \r\n    textview.setText(spanning);","title":"Coloring specified character of String","body":"<p>I searched for this issue and I found the below codes, but these codes are for Java-Android. What are the similar codes that I can use with Java</p>\n<p>The codes are:</p>\n<pre><code>ArrayList&lt;Integer&gt; positions = new ArrayList();\nPattern p = Pattern.compile(&quot;mp&quot;);  // insert your pattern here\nMatcher m = p.matcher(&quot;Simple Text, bumping , jumping&quot;);\nwhile (m.find()) {\n    positions.add(m.start());\n}\n\nSpannable spanning = new SpannableString(&quot;Simple Text&quot;);        \nspanning.setSpan(new ForegroundColorSpan(Color.BLUE),positions.get(i), positions.get(i)+1, \nSpannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n    \ntextview.setText(spanning);\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","copy-paste"],"answers":[{"tags":[],"owner":{"account_id":15957942,"reputation":154,"user_id":11515732,"display_name":"Aderoju Israel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593194146,"creation_date":1593194146,"answer_id":62600355,"question_id":62600263,"body_markdown":"Use clipboard manager \r\n```\r\nClipboardManager clipboard = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE); \r\n ClipData clip = ClipData.newPlainText(label, text);\r\n clipboard.setPrimaryClip(clip);\r\n```","title":"How to use Clipboard service in Adapter class of a RecyclerView","body":"<p>Use clipboard manager</p>\n<pre><code>ClipboardManager clipboard = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE); \n ClipData clip = ClipData.newPlainText(label, text);\n clipboard.setPrimaryClip(clip);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18747402,"reputation":324,"user_id":13669218,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622900451,"creation_date":1622900451,"answer_id":67850167,"question_id":62600263,"body_markdown":"In an adapter class, you need to get the context from the parent activity in order to use `getSystemService`.\r\nYou can get the context in multiple ways, but I got it from the recyclerview `itemView`. \r\n\r\nSimply put `itemView.context` in front of `getSystemService`.\r\n\r\n**Kotlin Code:**\r\n```\r\nval clipboard = itemView.context.getSystemService(Context.CLIPBOARD_SERVICE) as ClipboardManager\r\nval clip: ClipData = ClipData.newPlainText(&quot;simple text&quot;, &quot;Hello, World!&quot;)\r\nclipboard.setPrimaryClip(clip)\r\n```","title":"How to use Clipboard service in Adapter class of a RecyclerView","body":"<p>In an adapter class, you need to get the context from the parent activity in order to use <code>getSystemService</code>.\nYou can get the context in multiple ways, but I got it from the recyclerview <code>itemView</code>.</p>\n<p>Simply put <code>itemView.context</code> in front of <code>getSystemService</code>.</p>\n<p><strong>Kotlin Code:</strong></p>\n<pre><code>val clipboard = itemView.context.getSystemService(Context.CLIPBOARD_SERVICE) as ClipboardManager\nval clip: ClipData = ClipData.newPlainText(&quot;simple text&quot;, &quot;Hello, World!&quot;)\nclipboard.setPrimaryClip(clip)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20181161,"reputation":83,"user_id":14801674,"display_name":"Moh&#39;d Khamis Songoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641056944,"creation_date":1641056944,"answer_id":70550448,"question_id":62600263,"body_markdown":"It&#39;s my first time to see a RecyclerAdapter without an Instance of context, to follow my solution you will need it Here are steps.\r\n1. Make sure you have created a Context instance (as a field, and you should have it in your Recycler Adapter Construtor as a parameter) - i call this Context instance a contextInstance through  this solution.\r\n\r\n2. The you should have something like this in your click listener.\r\nClipboardManager manager = (ClipboardManager) contextInstance.getSystemService(Context.CLIPBOARD_SERVICE);\r\n\r\nTHAT IS WHAT ANSWER YOUR QUESTION.. HERE IS LOGIC NOW TO COPY DATA.\r\n\r\n3. \r\nClipData clip = ClipData.newPlainText(&quot;TheLebelYouWant&quot;, myData);// myData is a data to Copy, consult question asked.\r\nmanager.setPrimaryClip(clip);","title":"How to use Clipboard service in Adapter class of a RecyclerView","body":"<p>It's my first time to see a RecyclerAdapter without an Instance of context, to follow my solution you will need it Here are steps.</p>\n<ol>\n<li><p>Make sure you have created a Context instance (as a field, and you should have it in your Recycler Adapter Construtor as a parameter) - i call this Context instance a contextInstance through  this solution.</p>\n</li>\n<li><p>The you should have something like this in your click listener.\nClipboardManager manager = (ClipboardManager) contextInstance.getSystemService(Context.CLIPBOARD_SERVICE);</p>\n</li>\n</ol>\n<p>THAT IS WHAT ANSWER YOUR QUESTION.. HERE IS LOGIC NOW TO COPY DATA.</p>\n<p>3.\nClipData clip = ClipData.newPlainText(&quot;TheLebelYouWant&quot;, myData);// myData is a data to Copy, consult question asked.\nmanager.setPrimaryClip(clip);</p>\n"}],"owner":{"account_id":15768758,"reputation":33,"user_id":11378384,"display_name":"Khushwant Pratap yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67850167,"answer_count":3,"score":0,"last_activity_date":1641056944,"creation_date":1593193759,"question_id":62600263,"body_markdown":"I am making an android app in which I am using  RecyclerView to display text, I want to copy the text of TextView with the help of an button. But when I am using `getSystemService(Context.CLIPBOARD_SERVICE)`, it is giving me error `cannot resolve method`.\r\nHere is my Adapter class,\r\n\r\n    package in.codemantri.quotes;\r\n    \r\n    import android.content.ClipboardManager;\r\n    import android.content.ClipData;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n        private String[] data;\r\n        public MyAdapter(String[] data) {\r\n            this.data=data;\r\n        }\r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater inflater=LayoutInflater.from(parent.getContext());\r\n            View view=inflater.inflate(R.layout.shayari_layout, parent, false);\r\n            return new MyViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull final MyViewHolder holder, int position) {\r\n    \r\n            final String mydata=data[position];\r\n            holder.textView.setText(mydata);\r\n            holder.btnWhatsapp.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent whatsappIntent = new Intent();\r\n                    whatsappIntent.setAction(Intent.ACTION_SEND);\r\n                    whatsappIntent.putExtra(Intent.EXTRA_TEXT, mydata);\r\n                    whatsappIntent.setType(&quot;text/plain&quot;);\r\n                    whatsappIntent.setPackage(&quot;com.whatsapp&quot;);\r\n                    try {\r\n                        holder.itemView.getContext().startActivity(whatsappIntent);\r\n                    }\r\n                    catch (android.content.ActivityNotFoundException ex) {\r\n    \r\n                    }\r\n                }\r\n            });\r\n            holder.btnFacebook.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent facebookIntent = new Intent();\r\n                    facebookIntent.setAction(Intent.ACTION_SEND);\r\n                    facebookIntent.putExtra(Intent.EXTRA_TEXT, mydata);\r\n                    facebookIntent.setType(&quot;text/plain&quot;);\r\n                    facebookIntent.setPackage(&quot;com.facebook.katana&quot;);\r\n                    try {\r\n                        holder.itemView.getContext().startActivity(facebookIntent);\r\n                    }\r\n                    catch (android.content.ActivityNotFoundException ex) {\r\n    \r\n                    }\r\n                }\r\n            });\r\n            holder.btnFacebook.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent facebookIntentLite = new Intent();\r\n                    facebookIntentLite.setAction(Intent.ACTION_SEND);\r\n                    facebookIntentLite.putExtra(Intent.EXTRA_TEXT, mydata);\r\n                    facebookIntentLite.setType(&quot;text/plain&quot;);\r\n                    facebookIntentLite.setPackage(&quot;com.facebook.lite&quot;);\r\n                    try {\r\n                        holder.itemView.getContext().startActivity(facebookIntentLite);\r\n                    }\r\n                    catch (android.content.ActivityNotFoundException ex) {\r\n    \r\n                    }\r\n                }\r\n            });\r\n            // Share Button Implemantation\r\n            holder.btnShare.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent shareIntent=new Intent();\r\n                    shareIntent.setAction(Intent.ACTION_SEND);\r\n                    shareIntent.putExtra(Intent.EXTRA_TEXT, mydata);\r\n                    shareIntent.setType(&quot;text/plain&quot;);\r\n                    shareIntent=Intent.createChooser(shareIntent, &quot;Share via&quot;);\r\n                    holder.itemView.getContext().startActivity(shareIntent);\r\n                }\r\n            });\r\n            holder.btnCopy.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    ClipboardManager clipboardManager=getSystemService(Context.CLIPBOARD_SERVICE); //Getting Error Here\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return data.length;\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            TextView textView;\r\n            ImageView btnWhatsapp, btnFacebook, btnShare, btnCopy;\r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                textView=itemView.findViewById(R.id.shayari_textView);\r\n                btnWhatsapp=itemView.findViewById(R.id.btn_whatsapp);\r\n                btnFacebook=itemView.findViewById(R.id.btn_facebook);\r\n                btnShare=itemView.findViewById(R.id.btn_share);\r\n                btnCopy=itemView.findViewById(R.id.btn_copy);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to use Clipboard service in Adapter class of a RecyclerView","body":"<p>I am making an android app in which I am using  RecyclerView to display text, I want to copy the text of TextView with the help of an button. But when I am using <code>getSystemService(Context.CLIPBOARD_SERVICE)</code>, it is giving me error <code>cannot resolve method</code>.\nHere is my Adapter class,</p>\n<pre><code>package in.codemantri.quotes;\n\nimport android.content.ClipboardManager;\nimport android.content.ClipData;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n    private String[] data;\n    public MyAdapter(String[] data) {\n        this.data=data;\n    }\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater=LayoutInflater.from(parent.getContext());\n        View view=inflater.inflate(R.layout.shayari_layout, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull final MyViewHolder holder, int position) {\n\n        final String mydata=data[position];\n        holder.textView.setText(mydata);\n        holder.btnWhatsapp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent whatsappIntent = new Intent();\n                whatsappIntent.setAction(Intent.ACTION_SEND);\n                whatsappIntent.putExtra(Intent.EXTRA_TEXT, mydata);\n                whatsappIntent.setType(&quot;text/plain&quot;);\n                whatsappIntent.setPackage(&quot;com.whatsapp&quot;);\n                try {\n                    holder.itemView.getContext().startActivity(whatsappIntent);\n                }\n                catch (android.content.ActivityNotFoundException ex) {\n\n                }\n            }\n        });\n        holder.btnFacebook.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent facebookIntent = new Intent();\n                facebookIntent.setAction(Intent.ACTION_SEND);\n                facebookIntent.putExtra(Intent.EXTRA_TEXT, mydata);\n                facebookIntent.setType(&quot;text/plain&quot;);\n                facebookIntent.setPackage(&quot;com.facebook.katana&quot;);\n                try {\n                    holder.itemView.getContext().startActivity(facebookIntent);\n                }\n                catch (android.content.ActivityNotFoundException ex) {\n\n                }\n            }\n        });\n        holder.btnFacebook.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent facebookIntentLite = new Intent();\n                facebookIntentLite.setAction(Intent.ACTION_SEND);\n                facebookIntentLite.putExtra(Intent.EXTRA_TEXT, mydata);\n                facebookIntentLite.setType(&quot;text/plain&quot;);\n                facebookIntentLite.setPackage(&quot;com.facebook.lite&quot;);\n                try {\n                    holder.itemView.getContext().startActivity(facebookIntentLite);\n                }\n                catch (android.content.ActivityNotFoundException ex) {\n\n                }\n            }\n        });\n        // Share Button Implemantation\n        holder.btnShare.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent shareIntent=new Intent();\n                shareIntent.setAction(Intent.ACTION_SEND);\n                shareIntent.putExtra(Intent.EXTRA_TEXT, mydata);\n                shareIntent.setType(&quot;text/plain&quot;);\n                shareIntent=Intent.createChooser(shareIntent, &quot;Share via&quot;);\n                holder.itemView.getContext().startActivity(shareIntent);\n            }\n        });\n        holder.btnCopy.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ClipboardManager clipboardManager=getSystemService(Context.CLIPBOARD_SERVICE); //Getting Error Here\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.length;\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        TextView textView;\n        ImageView btnWhatsapp, btnFacebook, btnShare, btnCopy;\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            textView=itemView.findViewById(R.id.shayari_textView);\n            btnWhatsapp=itemView.findViewById(R.id.btn_whatsapp);\n            btnFacebook=itemView.findViewById(R.id.btn_facebook);\n            btnShare=itemView.findViewById(R.id.btn_share);\n            btnCopy=itemView.findViewById(R.id.btn_copy);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","classloader","rmi","java-security-manager"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1641045153,"post_id":70549148,"comment_id":124711271,"body_markdown":"(Hi &amp; Welcome!;)&quot;There is no replacement for the Security Manager. See [JEP 411](https://openjdk.java.net/jeps/411) for discussion and alternatives.&quot;","body":"(Hi &amp; Welcome!;)&quot;There is no replacement for the Security Manager. See <a href=\"https://openjdk.java.net/jeps/411\" rel=\"nofollow noreferrer\">JEP 411</a> for discussion and alternatives.&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641045651,"post_id":70549148,"comment_id":124711352,"body_markdown":"...so: &quot;don&#39;t worry until&quot; 27/29, as i understand: (jep411+) https://en.wikipedia.org/wiki/Java_version_history","body":"...so: &quot;don&#39;t worry until&quot; 27/29, as i understand: (jep411+) <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_version_history</a>"},{"owner":{"account_id":3720402,"reputation":41,"user_id":3095608,"display_name":"Any1"},"score":1,"creation_date":1641056368,"post_id":70549148,"comment_id":124713346,"body_markdown":"I know about jep411, but I can&#39;t find any solution/alternative given in it for this classical RMI use case of SecurityManager.","body":"I know about jep411, but I can&#39;t find any solution/alternative given in it for this classical RMI use case of SecurityManager."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1642986027,"post_id":70549148,"comment_id":125212686,"body_markdown":"@Progman The codebase is a well-known feature of RMI. It would be familiar to anybody competent to answer the question.","body":"@Progman The codebase is a well-known feature of RMI. It would be familiar to anybody competent to answer the question."}],"owner":{"account_id":3720402,"reputation":41,"user_id":3095608,"display_name":"Any1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1641056768,"creation_date":1641043377,"question_id":70549148,"body_markdown":"I&#39;m using RMI to invoke a method that is specified to return an object of class `ClassX`.\r\n\r\n```\r\nClassX xObj = remoteObject.meth(...); \r\n```\r\n\r\nIf the remote method actually returns an instance of a locally unknown subclass `SubclassOfX` of `ClassX`, this class `SubclassOfX` is automatically downloaded from a `codebase` (as specified by the annotation on the serialized instance of `SubclassOfX`).&lt;br&gt;\r\n(for those who need it: [codebase concept in RMI](https://stackoverflow.com/questions/10465314/what-exactly-is-the-point-of-the-codebase-in-java-rmi))\r\n\r\nBefore Java17, a SecurityManager (and a policy file) had to be used to allow class loading from the codebase. But starting with Java17, the **SecurityManager is deprecated and marked for removal**.\r\n\r\n**My question now: how to allow/control class loading from a codebase in the future?**\r\n\r\n**Edit1**: And just to answer to comment citing jep411: I know about this document, but there is no solution/alternative given in it for this RMI use case of SecurityManager.","title":"RMI class loading from codebase without deprecated SecurityManager?","body":"<p>I'm using RMI to invoke a method that is specified to return an object of class <code>ClassX</code>.</p>\n<pre><code>ClassX xObj = remoteObject.meth(...); \n</code></pre>\n<p>If the remote method actually returns an instance of a locally unknown subclass <code>SubclassOfX</code> of <code>ClassX</code>, this class <code>SubclassOfX</code> is automatically downloaded from a <code>codebase</code> (as specified by the annotation on the serialized instance of <code>SubclassOfX</code>).<br>\n(for those who need it: <a href=\"https://stackoverflow.com/questions/10465314/what-exactly-is-the-point-of-the-codebase-in-java-rmi\">codebase concept in RMI</a>)</p>\n<p>Before Java17, a SecurityManager (and a policy file) had to be used to allow class loading from the codebase. But starting with Java17, the <strong>SecurityManager is deprecated and marked for removal</strong>.</p>\n<p><strong>My question now: how to allow/control class loading from a codebase in the future?</strong></p>\n<p><strong>Edit1</strong>: And just to answer to comment citing jep411: I know about this document, but there is no solution/alternative given in it for this RMI use case of SecurityManager.</p>\n"},{"tags":["java","docker","java-8","dockerfile","ubuntu-16.04"],"comments":[{"owner":{"account_id":11131634,"reputation":147,"user_id":8171460,"display_name":"Abdullah G"},"score":0,"creation_date":1524121482,"post_id":49914574,"comment_id":86844936,"body_markdown":"You should use java hub https://hub.docker.com/_/java/","body":"You should use java hub <a href=\"https://hub.docker.com/_/java/\" rel=\"nofollow noreferrer\">hub.docker.com/_/java</a>"},{"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"score":0,"creation_date":1524121695,"post_id":49914574,"comment_id":86845059,"body_markdown":"@AbdullahG... I do not want to use openjdk","body":"@AbdullahG... I do not want to use openjdk"},{"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"score":0,"creation_date":1524122168,"post_id":49914574,"comment_id":86845345,"body_markdown":"I found solution","body":"I found solution"},{"owner":{"account_id":11131634,"reputation":147,"user_id":8171460,"display_name":"Abdullah G"},"score":0,"creation_date":1524122320,"post_id":49914574,"comment_id":86845438,"body_markdown":"I guess hash is a url parameter. &#39;fb4372174a714e6b8c52526dc134031e&#39; is a hash in this url ;  http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.rpm.","body":"I guess hash is a url parameter. &#39;fb4372174a714e6b8c52526dc134031e&#39; is a hash in this url ;  <a href=\"http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.rpm\" rel=\"nofollow noreferrer\">download.oracle.com/otn-pub/java/jdk/10.0.1+10/&hellip;</a>."},{"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"score":0,"creation_date":1524122721,"post_id":49914574,"comment_id":86845702,"body_markdown":"Correct.\nBut how do we find it ?","body":"Correct. But how do we find it ?"},{"owner":{"account_id":11131634,"reputation":147,"user_id":8171460,"display_name":"Abdullah G"},"score":2,"creation_date":1524123196,"post_id":49914574,"comment_id":86845987,"body_markdown":"in there : http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html","body":"in there : <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/downloads/&hellip;</a>"},{"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"score":0,"creation_date":1524125364,"post_id":49914574,"comment_id":86847287,"body_markdown":"Copy link address on download link and you will get hash ! I should have done that before. \n@AbdullahG thanks a lot :)","body":"Copy link address on download link and you will get hash ! I should have done that before.  @AbdullahG thanks a lot :)"}],"answers":[{"tags":[],"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1547066121,"creation_date":1524122156,"answer_id":49914935,"question_id":49914574,"body_markdown":"I think oracle has fixed `broken web8upd`.\r\n\r\nSo now dockerfile specified [on github][1] works perfectly !\r\n\r\nJust copy-pasting same dockerfile with some modifications :\r\n\r\n    FROM ubuntu:16.04\r\n    \r\n    # To solve add-apt-repository : command not found\r\n    RUN apt-get -y install software-properties-common\r\n    \r\n    # Install Java\r\n    RUN \\\r\n      echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections &amp;&amp; \\\r\n      add-apt-repository -y ppa:webupd8team/java &amp;&amp; \\\r\n      apt-get update &amp;&amp; \\\r\n      apt-get install -y oracle-java8-installer --allow-unauthenticated &amp;&amp; \\\r\n      rm -rf /var/lib/apt/lists/* &amp;&amp; \\\r\n      rm -rf /var/cache/oracle-jdk8-installer\r\n    \r\n    \r\n    # Define commonly used JAVA_HOME variable\r\n    ENV JAVA_HOME /usr/lib/jvm/java-8-oracle\r\n\r\nPlease note : `rm -rf /var/lib/apt/lists/*` will remove all lists fetched by `apt-get update`.\r\n\r\nSo if you want to install more things after installing `Java`, remove `rm -rf /var/lib/apt/lists/*` otherwise you have to run `apt-get update` again. \r\n\r\n  [1]: https://github.com/dockerfile/java/blob/master/oracle-java8/Dockerfile\r\n","title":"Install JDK 8 update 172 in dockerfile with ubuntu image","body":"<p>I think oracle has fixed <code>broken web8upd</code>.</p>\n\n<p>So now dockerfile specified <a href=\"https://github.com/dockerfile/java/blob/master/oracle-java8/Dockerfile\" rel=\"noreferrer\">on github</a> works perfectly !</p>\n\n<p>Just copy-pasting same dockerfile with some modifications :</p>\n\n<pre><code>FROM ubuntu:16.04\n\n# To solve add-apt-repository : command not found\nRUN apt-get -y install software-properties-common\n\n# Install Java\nRUN \\\n  echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | debconf-set-selections &amp;&amp; \\\n  add-apt-repository -y ppa:webupd8team/java &amp;&amp; \\\n  apt-get update &amp;&amp; \\\n  apt-get install -y oracle-java8-installer --allow-unauthenticated &amp;&amp; \\\n  rm -rf /var/lib/apt/lists/* &amp;&amp; \\\n  rm -rf /var/cache/oracle-jdk8-installer\n\n\n# Define commonly used JAVA_HOME variable\nENV JAVA_HOME /usr/lib/jvm/java-8-oracle\n</code></pre>\n\n<p>Please note : <code>rm -rf /var/lib/apt/lists/*</code> will remove all lists fetched by <code>apt-get update</code>.</p>\n\n<p>So if you want to install more things after installing <code>Java</code>, remove <code>rm -rf /var/lib/apt/lists/*</code> otherwise you have to run <code>apt-get update</code> again. </p>\n"},{"tags":[],"owner":{"account_id":4491083,"reputation":1783,"user_id":3652157,"accept_rate":17,"display_name":"Rawan-25"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630919280,"creation_date":1630919280,"answer_id":69071994,"question_id":49914574,"body_markdown":"Please check the below code just copy and paste in dockerfile \r\nfor install java\r\n\r\n    FROM ubuntu:18.04\r\n    \r\n    \r\n     \r\n    # Install &quot;software-properties-common&quot; (for the &quot;add-apt-repository&quot;)\r\n    RUN apt-get update &amp;&amp; apt-get install -y \\\r\n        software-properties-common\r\n    # Add the &quot;JAVA&quot; ppa\r\n    RUN add-apt-repository -y \\\r\n        ppa:webupd8team/java\r\n    \r\n    # Install OpenJDK-8\r\n    RUN apt-get update &amp;&amp; \\\r\n        apt-get install -y openjdk-8-jdk &amp;&amp; \\\r\n        apt-get install -y ant &amp;&amp; \\\r\n        apt-get clean;\r\n    \r\n    # Fix certificate issues\r\n    RUN apt-get update &amp;&amp; \\\r\n        apt-get install ca-certificates-java &amp;&amp; \\\r\n        apt-get clean &amp;&amp; \\\r\n        update-ca-certificates -f \\\r\n        rm -rf /var/lib/apt/lists/* &amp;&amp; \\\r\n        rm -rf /var/cache/oracle-jdk8-installer\r\n    \r\n    # Setup JAVA_HOME -- useful for docker commandline\r\n    ENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\r\n    RUN export JAVA_HOME\r\n\r\n","title":"Install JDK 8 update 172 in dockerfile with ubuntu image","body":"<p>Please check the below code just copy and paste in dockerfile\nfor install java</p>\n<pre><code>FROM ubuntu:18.04\n\n\n \n# Install &quot;software-properties-common&quot; (for the &quot;add-apt-repository&quot;)\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    software-properties-common\n# Add the &quot;JAVA&quot; ppa\nRUN add-apt-repository -y \\\n    ppa:webupd8team/java\n\n# Install OpenJDK-8\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y openjdk-8-jdk &amp;&amp; \\\n    apt-get install -y ant &amp;&amp; \\\n    apt-get clean;\n\n# Fix certificate issues\nRUN apt-get update &amp;&amp; \\\n    apt-get install ca-certificates-java &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    update-ca-certificates -f \\\n    rm -rf /var/lib/apt/lists/* &amp;&amp; \\\n    rm -rf /var/cache/oracle-jdk8-installer\n\n# Setup JAVA_HOME -- useful for docker commandline\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\nRUN export JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1727809,"reputation":3553,"user_id":1664788,"accept_rate":21,"display_name":"Vivek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641054856,"creation_date":1641054625,"answer_id":70550208,"question_id":49914574,"body_markdown":"The above solutions didn&#39;t work for me but helped to get started. Here&#39;s the one that&#39;s working for me\r\n\r\nFileName : ubuntu_oraclejdk8\r\n\r\n    FROM ubuntu:18.04\r\n     \r\n    # Install &quot;software-properties-common&quot; (for the &quot;add-apt-repository&quot;)\r\n    RUN apt-get update &amp;&amp; apt-get install -y \\\r\n        software-properties-common\r\n    \r\n    ## Install Oracle&#39;s JDK\r\n    # add oracle jdk repository\r\n    RUN add-apt-repository ppa:ts.sch.gr/ppa \\\r\n    # accept oracle license\r\n      &amp;&amp; echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\r\n      &amp;&amp; echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections \\\r\n      &amp;&amp; apt-get update \\\r\n    # install oracle jdk 8 and make it default\r\n      &amp;&amp; apt-get -y install oracle-java8-installer \\\r\n      &amp;&amp; apt-get -y install oracle-java8-set-default \\\r\n    # clean up\r\n      &amp;&amp; apt-get clean all \\\r\n      &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    CMD [&quot;bash&quot;]\r\n\r\nDocker steps to make it work\r\n\r\n    $ docker build -t ubuntu_oraclejdk8 - &lt; ubuntu_oraclejdk8\r\n    $ docker run -it ubuntu_oraclejdk8\r\n\r\n ","title":"Install JDK 8 update 172 in dockerfile with ubuntu image","body":"<p>The above solutions didn't work for me but helped to get started. Here's the one that's working for me</p>\n<p>FileName : ubuntu_oraclejdk8</p>\n<pre><code>FROM ubuntu:18.04\n \n# Install &quot;software-properties-common&quot; (for the &quot;add-apt-repository&quot;)\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    software-properties-common\n\n## Install Oracle's JDK\n# add oracle jdk repository\nRUN add-apt-repository ppa:ts.sch.gr/ppa \\\n# accept oracle license\n  &amp;&amp; echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections \\\n  &amp;&amp; echo debconf shared/accepted-oracle-license-v1-1 seen true | debconf-set-selections \\\n  &amp;&amp; apt-get update \\\n# install oracle jdk 8 and make it default\n  &amp;&amp; apt-get -y install oracle-java8-installer \\\n  &amp;&amp; apt-get -y install oracle-java8-set-default \\\n# clean up\n  &amp;&amp; apt-get clean all \\\n  &amp;&amp; rm -rf /var/lib/apt/lists/*\nCMD [&quot;bash&quot;]\n</code></pre>\n<p>Docker steps to make it work</p>\n<pre><code>$ docker build -t ubuntu_oraclejdk8 - &lt; ubuntu_oraclejdk8\n$ docker run -it ubuntu_oraclejdk8\n</code></pre>\n"}],"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21822,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":49914935,"answer_count":3,"score":5,"last_activity_date":1641054856,"creation_date":1524120975,"question_id":49914574,"body_markdown":"I am used to download java in my dockerfile like this :\r\n\r\n    # Install Java\r\n    ENV JAVA_VERSION_MAJOR 8\r\n    ENV JAVA_VERSION_MINOR 162\r\n    ENV JAVA_VERSION_BUILD 12\r\n    ENV JAVA_DOWNLOAD_HASH 0da788060d494f5095bf8624735fa2f1\r\n    RUN mkdir -p /usr/lib/jvm \\\r\n    \t&amp;&amp; cd /usr/lib/jvm \\\r\n    \t&amp;&amp; wget -nv --no-check-certificate --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; http://download.oracle.com/otn-pub/java/jdk/${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-b${JAVA_VERSION_BUILD}/${JAVA_DOWNLOAD_HASH}/jdk-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz \\\r\n    \t&amp;&amp; tar xf jdk-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz \\\r\n    \t&amp;&amp; rm jdk-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz \\\r\n    \t&amp;&amp; update-alternatives --install &quot;/usr/bin/java&quot; &quot;java&quot; &quot;/usr/lib/jvm/jdk1.${JAVA_VERSION_MAJOR}.0_${JAVA_VERSION_MINOR}/bin/java&quot; 1\r\n    ENV JAVA_HOME /usr/lib/jvm/jdk1.${JAVA_VERSION_MAJOR}.0_${JAVA_VERSION_MINOR}\r\n\r\nApparently, oracle has released new update [8u172][1] and download within dockerfile is failing with `ERROR 404: Not Found.`\r\n\r\nMy question is , how do I find out `JAVA_DOWNLOAD_HASH` variable ?\r\n\r\nRest of variable values are clear to me :\r\n\r\n    JAVA_VERSION_MAJOR 8\r\n    JAVA_VERSION_MINOR 172\r\n    JAVA_VERSION_BUILD 11\r\n\r\nPlease note that my base docker image is : `ubuntu:16.04`\r\n\r\nMy installation of java within ubuntu is inspired from [here][2]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/8u172-relnotes-4308893.html\r\n  [2]: https://github.com/dockerfile/java/issues/36","title":"Install JDK 8 update 172 in dockerfile with ubuntu image","body":"<p>I am used to download java in my dockerfile like this :</p>\n\n<pre><code># Install Java\nENV JAVA_VERSION_MAJOR 8\nENV JAVA_VERSION_MINOR 162\nENV JAVA_VERSION_BUILD 12\nENV JAVA_DOWNLOAD_HASH 0da788060d494f5095bf8624735fa2f1\nRUN mkdir -p /usr/lib/jvm \\\n    &amp;&amp; cd /usr/lib/jvm \\\n    &amp;&amp; wget -nv --no-check-certificate --no-cookies --header \"Cookie: oraclelicense=accept-securebackup-cookie\" http://download.oracle.com/otn-pub/java/jdk/${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-b${JAVA_VERSION_BUILD}/${JAVA_DOWNLOAD_HASH}/jdk-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz \\\n    &amp;&amp; tar xf jdk-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz \\\n    &amp;&amp; rm jdk-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz \\\n    &amp;&amp; update-alternatives --install \"/usr/bin/java\" \"java\" \"/usr/lib/jvm/jdk1.${JAVA_VERSION_MAJOR}.0_${JAVA_VERSION_MINOR}/bin/java\" 1\nENV JAVA_HOME /usr/lib/jvm/jdk1.${JAVA_VERSION_MAJOR}.0_${JAVA_VERSION_MINOR}\n</code></pre>\n\n<p>Apparently, oracle has released new update <a href=\"http://www.oracle.com/technetwork/java/javase/8u172-relnotes-4308893.html\" rel=\"noreferrer\">8u172</a> and download within dockerfile is failing with <code>ERROR 404: Not Found.</code></p>\n\n<p>My question is , how do I find out <code>JAVA_DOWNLOAD_HASH</code> variable ?</p>\n\n<p>Rest of variable values are clear to me :</p>\n\n<pre><code>JAVA_VERSION_MAJOR 8\nJAVA_VERSION_MINOR 172\nJAVA_VERSION_BUILD 11\n</code></pre>\n\n<p>Please note that my base docker image is : <code>ubuntu:16.04</code></p>\n\n<p>My installation of java within ubuntu is inspired from <a href=\"https://github.com/dockerfile/java/issues/36\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1640782191,"post_id":70519620,"comment_id":124656861,"body_markdown":"would you explain what `count` variable is?","body":"would you explain what <code>count</code> variable is?"},{"owner":{"account_id":10848519,"reputation":27,"user_id":7977127,"accept_rate":0,"display_name":"Bubunia Patra"},"score":0,"creation_date":1640782567,"post_id":70519620,"comment_id":124656983,"body_markdown":"I am sorry if I got your question right. As I mentioned I have different counts and all are integers.","body":"I am sorry if I got your question right. As I mentioned I have different counts and all are integers."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1640782767,"post_id":70519620,"comment_id":124657061,"body_markdown":"Well, you could put them in an array and use a `for` loop with something like `if (counts[i] &gt; max) { max = counts[i]; }`. Or just use `IntStream.of(a, b, c, d, e).sum()`.","body":"Well, you could put them in an array and use a <code>for</code> loop with something like <code>if (counts[i] &gt; max) { max = counts[i]; }</code>. Or just use <code>IntStream.of(a, b, c, d, e).sum()</code>."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1640782908,"post_id":70519620,"comment_id":124657113,"body_markdown":"I don&#39;t understand things like &#39;Acount&#39;, &#39;Bcount&#39; or else. You mean that there are several int values and wanna get biggest int value? If it is, optimization is not necessary.","body":"I don&#39;t understand things like &#39;Acount&#39;, &#39;Bcount&#39; or else. You mean that there are several int values and wanna get biggest int value? If it is, optimization is not necessary."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640783022,"post_id":70519620,"comment_id":124657160,"body_markdown":"This *smells* like a premature optimization.  But the most efficient will be something like this: `int max = acount; if (bcount &gt; max) { max = bcount; } if (ccount &gt; max) { max = ccount; }` and so on.  But the saving you are making will probably be so small that **it is not worth the effort to optimize this**.","body":"This <i>smells</i> like a premature optimization.  But the most efficient will be something like this: <code>int max = acount; if (bcount &gt; max) { max = bcount; } if (ccount &gt; max) { max = ccount; }</code> and so on.  But the saving you are making will probably be so small that <b>it is not worth the effort to optimize this</b>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1640791648,"post_id":70519620,"comment_id":124660263,"body_markdown":"* Of course, I mean `max()` instead of `sum()`.","body":"* Of course, I mean <code>max()</code> instead of <code>sum()</code>."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1640805443,"post_id":70519620,"comment_id":124664777,"body_markdown":"Which inefficient_method did you try?","body":"Which inefficient_method did you try?"},{"owner":{"account_id":10848519,"reputation":27,"user_id":7977127,"accept_rate":0,"display_name":"Bubunia Patra"},"score":0,"creation_date":1640922676,"post_id":70519620,"comment_id":124691940,"body_markdown":"@AlexRudenko: I have tried the below 2 methods 1. Using Recursion 2. Using plain loops for comparing and updating the max value. I  needed this groups help to find the best optimized method.","body":"@AlexRudenko: I have tried the below 2 methods 1. Using Recursion 2. Using plain loops for comparing and updating the max value. I  needed this groups help to find the best optimized method."}],"answers":[{"tags":[],"owner":{"account_id":22960237,"reputation":118,"user_id":17090226,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641054839,"creation_date":1640786397,"answer_id":70520453,"question_id":70519620,"body_markdown":"There are many ways to do this, it is up to whichever you find easier to read.\r\nYou could firstly use an IntStream:\r\n\r\n    int max = IntStream.of(ACount, BCount, CCount, DCount, ECount).max().getAsInt();\r\n\r\nor, you could use an array of integers either manually going through each value:\r\n\r\n    int[] list = {ACount, BCount, CCount, DCount, ECount};\r\n    int max = Integer.MIN_VALUE;\r\n    for (int i : list) {\r\n        if (i &gt; max) max = i;\r\n    }\r\n\r\nor sorting the list and grabbing the largest value. This might be better if you have to access the smallest value as well.\r\n\r\n    int[] list = {ACount, BCount, CCount, DCount, ECount};\r\n    Arrays.sort(list);\r\n    int max = list[list.length - 1];\r\n\r\nor, you could just use nested math max methods:\r\n\r\n    int max = Math.max(Math.max(Math.max(ACount, BCount), CCount), Math.max(DCount, ECount));\r\n\r\nHowever, it is important to note that computers are fast enough to not need every small optimization. Something as small as comparing 5 int values will not take long no matter how you do it, so it is generally better to make your code more readable rather than more efficient in these situations, as often the minuscule gain is not worth the decrease in readability.","title":"Optimized methods to compare and evaluate the largest count among 5 different count variables in JAVA","body":"<p>There are many ways to do this, it is up to whichever you find easier to read.\nYou could firstly use an IntStream:</p>\n<pre><code>int max = IntStream.of(ACount, BCount, CCount, DCount, ECount).max().getAsInt();\n</code></pre>\n<p>or, you could use an array of integers either manually going through each value:</p>\n<pre><code>int[] list = {ACount, BCount, CCount, DCount, ECount};\nint max = Integer.MIN_VALUE;\nfor (int i : list) {\n    if (i &gt; max) max = i;\n}\n</code></pre>\n<p>or sorting the list and grabbing the largest value. This might be better if you have to access the smallest value as well.</p>\n<pre><code>int[] list = {ACount, BCount, CCount, DCount, ECount};\nArrays.sort(list);\nint max = list[list.length - 1];\n</code></pre>\n<p>or, you could just use nested math max methods:</p>\n<pre><code>int max = Math.max(Math.max(Math.max(ACount, BCount), CCount), Math.max(DCount, ECount));\n</code></pre>\n<p>However, it is important to note that computers are fast enough to not need every small optimization. Something as small as comparing 5 int values will not take long no matter how you do it, so it is generally better to make your code more readable rather than more efficient in these situations, as often the minuscule gain is not worth the decrease in readability.</p>\n"},{"tags":[],"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640786921,"creation_date":1640786921,"answer_id":70520541,"question_id":70519620,"body_markdown":"You have to compare n values, so I don&#39;t think it&#39;s possible to do this better than O(n).\r\n\r\nThe &quot;efficiency&quot; depends on your use case. If you only have 5 values, and you only need to do it once, then I&#39;d argue that starting up a stream is probably not going to be the best approach. Though it may not be very important, since the loss of a few milliseconds just once is usually not a big deal. But if you get the JVM to JIT (Just In Time Compilation) with running it for a billion values, then checking out the different runtimes is my preferred way to figure out the most &quot;effective&quot; way.\r\n\r\nIn the below you can run it with different values for how many `ints` are in the array and how many times you&#39;d like to run your max function. As I mentioned, I&#39;ve found that streams are not very efficient when I only have 5 values.\r\n\r\nYou should probably not be running the test on a workstation, since those have lots of other stuff they need to do. I&#39;ve found my own to be very unpredictable when trying to time things, though it seems to consistently give me the best output for the `justLoop` method.\r\n\r\n```\r\nC:\\..snip..&gt;java Testing.java\r\nTernary    : 23561\r\nJustLoop   : 12663\r\nMathMax    : 35049\r\nStream     : 46596\r\n```\r\n\r\nThe code just has 4 different ways of getting the max:\r\n  - Using a ternary, that will write to the max on every loop\r\n  - A regular for loop and an if-statement\r\n  - Using `Math.max()` instead of the if-statement.\r\n  - Using `IntStream` and its `max()` function.\r\n\r\nIt starts by creating an array of ints. Then it calls a timer function passing in one of the 4 different methods:\r\n\r\n```java\r\nimport java.util.stream.IntStream;\r\n\r\npublic class Testing {\r\n  public static void main(String args[]){\r\n    int repeat = 10000;\r\n    int arraySize = 10000;\r\n    int[] countsRandom = randomCounts(arraySize);\r\n    printIt(&quot;Ternary&quot;,  timeIt(() -&gt; regularLoopTernary(countsRandom), repeat));\r\n    printIt(&quot;JustLoop&quot;, timeIt(() -&gt; justLoop(countsRandom), repeat));\r\n    printIt(&quot;MathMax&quot;,  timeIt(() -&gt; justLoopWithMathMax(countsRandom), repeat));\r\n    printIt(&quot;Stream&quot;,   timeIt(() -&gt; stream(countsRandom), repeat));\r\n  }\r\n  \r\n  public static int regularLoopTernary(int[] counts) {\r\n    int max = Integer.MIN_VALUE;\r\n    for (int i : counts) {\r\n      max = i &gt; max ? i : max;\r\n    }\r\n    return max;\r\n  }\r\n\r\n  public static int justLoop(int[] counts) {\r\n    int max = Integer.MIN_VALUE;\r\n    for (int i : counts) {\r\n      if (i &gt; max) {\r\n        max = i;\r\n      }\r\n    }\r\n    return max;\r\n  }\r\n\r\n  public static int justLoopWithMathMax(int[] counts) {\r\n    int max = Integer.MIN_VALUE;\r\n    for (int i : counts) {\r\n      max = Math.max(max, i);\r\n    }\r\n    return max;\r\n  }\r\n\r\n  public static int stream(int[] counts) {\r\n    return IntStream.of(counts)\r\n                    .max()\r\n                    .orElseThrow();\r\n  }\r\n\r\n  // get some ints\r\n  public static int[] randomCounts(int amount) {\r\n    return IntStream.range(0, amount)\r\n                    .map(i -&gt; (int) (Math.random() * Integer.MAX_VALUE))\r\n                    .toArray();\r\n  }\r\n\r\n  // get the averge time only\r\n  public static long timeIt(Runnable runMe, int times) {\r\n    long start = System.nanoTime();\r\n    for (int i = 0; i &lt; times; i++) {\r\n      runMe.run();\r\n    }\r\n    return (System.nanoTime() - start) / times;\r\n  }\r\n\r\n  public static void printIt(String title, long averagetime) {\r\n    System.out.printf(&quot;%-10s : %d%n&quot;, title, averagetime);\r\n  }\r\n}\r\n```\r\n","title":"Optimized methods to compare and evaluate the largest count among 5 different count variables in JAVA","body":"<p>You have to compare n values, so I don't think it's possible to do this better than O(n).</p>\n<p>The &quot;efficiency&quot; depends on your use case. If you only have 5 values, and you only need to do it once, then I'd argue that starting up a stream is probably not going to be the best approach. Though it may not be very important, since the loss of a few milliseconds just once is usually not a big deal. But if you get the JVM to JIT (Just In Time Compilation) with running it for a billion values, then checking out the different runtimes is my preferred way to figure out the most &quot;effective&quot; way.</p>\n<p>In the below you can run it with different values for how many <code>ints</code> are in the array and how many times you'd like to run your max function. As I mentioned, I've found that streams are not very efficient when I only have 5 values.</p>\n<p>You should probably not be running the test on a workstation, since those have lots of other stuff they need to do. I've found my own to be very unpredictable when trying to time things, though it seems to consistently give me the best output for the <code>justLoop</code> method.</p>\n<pre><code>C:\\..snip..&gt;java Testing.java\nTernary    : 23561\nJustLoop   : 12663\nMathMax    : 35049\nStream     : 46596\n</code></pre>\n<p>The code just has 4 different ways of getting the max:</p>\n<ul>\n<li>Using a ternary, that will write to the max on every loop</li>\n<li>A regular for loop and an if-statement</li>\n<li>Using <code>Math.max()</code> instead of the if-statement.</li>\n<li>Using <code>IntStream</code> and its <code>max()</code> function.</li>\n</ul>\n<p>It starts by creating an array of ints. Then it calls a timer function passing in one of the 4 different methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.IntStream;\n\npublic class Testing {\n  public static void main(String args[]){\n    int repeat = 10000;\n    int arraySize = 10000;\n    int[] countsRandom = randomCounts(arraySize);\n    printIt(&quot;Ternary&quot;,  timeIt(() -&gt; regularLoopTernary(countsRandom), repeat));\n    printIt(&quot;JustLoop&quot;, timeIt(() -&gt; justLoop(countsRandom), repeat));\n    printIt(&quot;MathMax&quot;,  timeIt(() -&gt; justLoopWithMathMax(countsRandom), repeat));\n    printIt(&quot;Stream&quot;,   timeIt(() -&gt; stream(countsRandom), repeat));\n  }\n  \n  public static int regularLoopTernary(int[] counts) {\n    int max = Integer.MIN_VALUE;\n    for (int i : counts) {\n      max = i &gt; max ? i : max;\n    }\n    return max;\n  }\n\n  public static int justLoop(int[] counts) {\n    int max = Integer.MIN_VALUE;\n    for (int i : counts) {\n      if (i &gt; max) {\n        max = i;\n      }\n    }\n    return max;\n  }\n\n  public static int justLoopWithMathMax(int[] counts) {\n    int max = Integer.MIN_VALUE;\n    for (int i : counts) {\n      max = Math.max(max, i);\n    }\n    return max;\n  }\n\n  public static int stream(int[] counts) {\n    return IntStream.of(counts)\n                    .max()\n                    .orElseThrow();\n  }\n\n  // get some ints\n  public static int[] randomCounts(int amount) {\n    return IntStream.range(0, amount)\n                    .map(i -&gt; (int) (Math.random() * Integer.MAX_VALUE))\n                    .toArray();\n  }\n\n  // get the averge time only\n  public static long timeIt(Runnable runMe, int times) {\n    long start = System.nanoTime();\n    for (int i = 0; i &lt; times; i++) {\n      runMe.run();\n    }\n    return (System.nanoTime() - start) / times;\n  }\n\n  public static void printIt(String title, long averagetime) {\n    System.out.printf(&quot;%-10s : %d%n&quot;, title, averagetime);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10848519,"reputation":27,"user_id":7977127,"accept_rate":0,"display_name":"Bubunia Patra"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1641054839,"creation_date":1640781975,"question_id":70519620,"body_markdown":"I want to see if there is a efficient method to compare counts like (Acount, BCount, CCount,DCount, ECount) and evaluate the which count is largest in JAVA?\r\n\r\nThe program can use recursion but I wanted to know any optimized method to achieve this.","title":"Optimized methods to compare and evaluate the largest count among 5 different count variables in JAVA","body":"<p>I want to see if there is a efficient method to compare counts like (Acount, BCount, CCount,DCount, ECount) and evaluate the which count is largest in JAVA?</p>\n<p>The program can use recursion but I wanted to know any optimized method to achieve this.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1639324031,"post_id":70325068,"comment_id":124314377,"body_markdown":"Well somewhere in your `query` method you&#39;re providing the string `pets` where a `long` is expected. Where&#39;s line `100` in your code?","body":"Well somewhere in your <code>query</code> method you&#39;re providing the string <code>pets</code> where a <code>long</code> is expected. Where&#39;s line <code>100</code> in your code?"},{"owner":{"account_id":19634596,"reputation":21,"user_id":14372097,"display_name":"santosh pokhrel"},"score":0,"creation_date":1639324198,"post_id":70325068,"comment_id":124314424,"body_markdown":"selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};       it is line no 100","body":"selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};       it is line no 100"}],"answers":[{"tags":[],"owner":{"account_id":19634596,"reputation":21,"user_id":14372097,"display_name":"santosh pokhrel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639380361,"creation_date":1639380361,"answer_id":70331173,"question_id":70325068,"body_markdown":"    Just add break after the case: Pet. The code is;\r\n       case PETS:\r\n                    cursor = database.query(Petcontract.PetsEntry.TABLE_NAME, projection, selection, selectionArgs, null, null, sortOrder);\r\n                    break;  //dont&#39;t forget to add break statement in Pet case.\r\n                case PET_ID:","title":"How to fix Asynctask error caused by Caused by: java.lang.NumberFormatException: For input string: &quot;pets&quot;","body":"<pre><code>Just add break after the case: Pet. The code is;\n   case PETS:\n                cursor = database.query(Petcontract.PetsEntry.TABLE_NAME, projection, selection, selectionArgs, null, null, sortOrder);\n                break;  //dont't forget to add break statement in Pet case.\n            case PET_ID:\n</code></pre>\n"}],"owner":{"account_id":19634596,"reputation":21,"user_id":14372097,"display_name":"santosh pokhrel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1641054719,"creation_date":1639323825,"question_id":70325068,"body_markdown":"I&#39;m getting this error: \r\n\r\n&gt; Caused by: java.lang.NumberFormatException: For input string: &quot;pets&quot; while trying to insert data into the database. While clicking on the insert option on the mainActivity it was supposed to insert data into the database and show that data into MainActivity but cuz of the error my application is getting crashed. How to solve this error? The error is caused in PetProvider query&#39;s Pet_ID at selection args point. \r\n\r\nThe code of PetProvider is shown below:\r\n\r\n&gt; `2021-12-12 02:21:07.435 11934-11959/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1  \r\n&gt; Process: com.example.myapplication, PID: 11934  \r\n&gt; \r\n&gt; java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n&gt;\r\n&gt; at android.os.AsyncTask$4.done(AsyncTask.java:415)  \r\n&gt; at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)  \r\n&gt; at java.util.concurrent.FutureTask.setException(FutureTask.java:252)  \r\n&gt; at java.util.concurrent.FutureTask.run(FutureTask.java:271)  \r\n&gt; at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)  \r\n&gt; at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)  \r\n&gt; at java.lang.Thread.run(Thread.java:923)\r\n&gt;\r\n&gt; Caused by: java.lang.NumberFormatException: For input string: &quot;pets&quot;  \r\n&gt;\r\n&gt; at java.lang.Long.parseLong(Long.java:594)  \r\n&gt; at java.lang.Long.parseLong(Long.java:636)  \r\n&gt; at android.content.ContentUris.parseId(ContentUris.java:89)  \r\n&gt; at com.example.myapplication.data.PetProvider.query(PetProvider.java:100)  \r\n&gt; at android.content.ContentProvider.query(ContentProvider.java:1379)  \r\n&gt; at android.content.ContentProvider.query(ContentProvider.java:1475)  \r\n&gt; at android.content.ContentProvider$Transport.query(ContentProvider.java:278)  \r\n&gt; at android.content.ContentResolver.query(ContentResolver.java:1185)  \r\n&gt; at android.content.ContentResolver.query(ContentResolver.java:1116)  \r\n&gt; at android.content.CursorLoader.loadInBackground(CursorLoader.java:71)  \r\n&gt; at android.content.CursorLoader.loadInBackground(CursorLoader.java:46)  \r\n&gt; at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:321)\r\n                at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:74)\r\n                at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:62)\r\n                at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n                at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n                at java.lang.Thread.run(Thread.java:923)&#160;\r\n        `\r\n        `package com.example.myapplication.data;\r\n        \r\n        import android.content.ContentProvider;\r\n        import android.content.ContentResolver;\r\n        import android.content.ContentUris;\r\n        import android.content.ContentValues;\r\n        import android.content.Context;\r\n        import android.content.UriMatcher;\r\n        import android.database.Cursor;\r\n        import android.database.sqlite.SQLiteDatabase;\r\n        import android.net.Uri;\r\n        import android.util.Log;\r\n        import android.widget.EditText;\r\n        import android.widget.Toast;\r\n        \r\n        import androidx.annotation.NonNull;\r\n        import androidx.annotation.Nullable;\r\n        \r\n        import java.nio.file.Path;\r\n        \r\n        \r\n        public class PetProvider extends ContentProvider {\r\n        \r\n            private PetdbHepler petdbHepler;\r\n            public static String CONTENT_AUTHORITY = &quot;com.example.myapplication&quot;;\r\n        \r\n            //To make this a usable URI, we use the parse method which takes in a URI string and returns a Uri.\r\n            public static Uri BASE_CONTENT_URI = Uri.parse(&quot;content://&quot; + CONTENT_AUTHORITY);\r\n        \r\n            //This constants stores the path for each of the tables which will be appended to the base content URI.\r\n        \r\n            public static final String PATH_PETS = &quot;pets&quot;;\r\n        \r\n            public static final String LOG_TAG = PetProvider.class.getSimpleName();\r\n        \r\n        \r\n            /**\r\n             * URI matcher code for the content URI for the pets table\r\n             */\r\n            private static final int PETS = 100;\r\n        \r\n            /**\r\n             * URI matcher code for the content URI for a single pet in the pets table\r\n             */\r\n            private static final int PET_ID = 101;\r\n        \r\n            /**\r\n             * UriMatcher object to match a content URI to a corresponding code.\r\n             * The input passed into the constructor represents the code to return for the root URI.\r\n             * It&#39;s common to use NO_MATCH as the input for this case.\r\n             */\r\n            private static final UriMatcher sUriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\r\n        \r\n            // Static initializer. This is run the first time anything is called from this class.\r\n            static {\r\n                // The calls to addURI() go here, for all of the content URI patterns that the provider\r\n                // should recognize. All paths added to the UriMatcher have a corresponding code to return\r\n                // when a match is found.\r\n        \r\n                sUriMatcher.addURI(CONTENT_AUTHORITY, PATH_PETS, PETS);\r\n                sUriMatcher.addURI(CONTENT_AUTHORITY, PATH_PETS + &quot;/#&quot;, PET_ID);\r\n        \r\n            }\r\n        \r\n        \r\n            @Override\r\n            public boolean onCreate() {\r\n                petdbHepler = new PetdbHepler(getContext());\r\n                return false;\r\n            }\r\n        \r\n            @Nullable\r\n            @Override\r\n            public Cursor query(@NonNull Uri uri, @Nullable String[] projection, @Nullable String selection, @Nullable String[] selectionArgs, @Nullable String sortOrder) {\r\n                //steps To follow to query the database\r\n                //first we nedd to get access to the database\r\n                //second we need to pass the uri and check if the query is for whole table or for a single pet using uri matcher\r\n                //atlast we need to switch according to the uri\r\n                // so here is our code\r\n        \r\n                SQLiteDatabase database = petdbHepler.getReadableDatabase(); /*since we are only querying the database we need to use\r\n                                                               getReadableDatabase and this step is to access the database which is first step*/\r\n                Cursor cursor;\r\n                int matcher = sUriMatcher.match(uri);//second we need to pass the uri and check if the query is for whole table or for a single pet using uri matcher\r\n                switch (matcher) {\r\n                    case PETS:\r\n                        cursor = database.query(Petcontract.PetsEntry.TABLE_NAME, projection, selection, selectionArgs, null, null, sortOrder);\r\n                    case PET_ID:\r\n                        // For the PET_ID code, extract out the ID from the URI.\r\n                        // For an example URI such as &quot;content://com.example.android.pets/pets/3&quot;,\r\n                        // the selection will be &quot;_id=?&quot; and the selection argument will be a\r\n                        // String array containing the actual ID of 3 in this case.\r\n                        //\r\n                        // For every &quot;?&quot; in the selection, we need to have an element in the selection\r\n                        // arguments that will fill in the &quot;?&quot;. Since we have 1 question mark in the\r\n                        // selection, we have 1 String in the selection arguments&#39; String array.\r\n        \r\n        \r\n                        selection = Petcontract.PetsEntry._ID + &quot;?&quot;;\r\n                        selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\r\n                        cursor = database.query(Petcontract.PetsEntry.TABLE_NAME, projection, selection, selectionArgs, null, null, sortOrder);\r\n                        Log.e(&quot;PetProvider&quot;, &quot;Hereis the problem&quot;);\r\n                        break;\r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;cannot query unknown uri&quot; + uri);\r\n                }\r\n                // Set notification URI on the Cursor,\r\n                // so we know what content URI the Cursor was created for.\r\n                // If the data at this URI changes, then we know we need to update the Cursor\r\n                cursor.setNotificationUri(getContext().getContentResolver(), uri);\r\n                return cursor;\r\n            }\r\n        \r\n            @Nullable\r\n            @Override\r\n            public String getType(@NonNull Uri uri) {\r\n                return null;\r\n            }\r\n        \r\n            @Nullable\r\n            @Override\r\n            public Uri insert(@NonNull Uri uri, @Nullable ContentValues contentValues) {\r\n                final int match = sUriMatcher.match(uri);\r\n                switch (match) {\r\n                    case PETS:\r\n                        return insertPet(uri, contentValues);\r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;Insertion is not supported for &quot; + uri);\r\n                }\r\n            }\r\n        \r\n           private Uri insertPet(Uri uri, ContentValues contentValues){\r\n               // Check that the name is not null\r\n               String name = contentValues.getAsString(Petcontract.PetsEntry.COLUMN_NAME);\r\n               if (name == null) {\r\n                   throw new IllegalArgumentException(&quot;Pet requires a name&quot;);\r\n               }\r\n        \r\n               // Check that the gender is valid\r\n               Integer gender = contentValues.getAsInteger(Petcontract.PetsEntry.COLUMN_GENDER);\r\n               if (gender == null) {\r\n                   throw new IllegalArgumentException(&quot;Pet requires valid gender&quot;);\r\n               }\r\n        \r\n               // If the weight is provided, check that it&#39;s greater than or equal to 0 kg\r\n               Integer weight = contentValues.getAsInteger(Petcontract.PetsEntry.COLUMN_WEIGHT);\r\n               if (weight != null &amp;&amp; weight &lt; 0) {\r\n                   throw new IllegalArgumentException(&quot;Pet requires valid weight&quot;);\r\n               }\r\n                SQLiteDatabase sqLiteDatabase = petdbHepler.getWritableDatabase();\r\n                long id = sqLiteDatabase.insert(Petcontract.PetsEntry.TABLE_NAME, null, contentValues);\r\n               // Notify all listeners that the data has changed for the pet content URI\r\n               getContext().getContentResolver().notifyChange(uri, null);\r\n        \r\n               return  ContentUris.withAppendedId(Petcontract.PetsEntry.content_uri, id);\r\n           }\r\n        \r\n        \r\n            @Override\r\n            public int delete(@NonNull Uri uri, @Nullable String selection, @Nullable String[] selectionArgs) {\r\n                // Get writeable database\r\n                SQLiteDatabase database =petdbHepler.getWritableDatabase();\r\n                int rowsDeleted;\r\n                final int match = sUriMatcher.match(uri);\r\n                switch (match) {\r\n                    case PETS:\r\n                        // Delete all rows that match the selection and selection args\r\n                        return database.delete(Petcontract.PetsEntry.TABLE_NAME, selection, selectionArgs);\r\n                    case PET_ID:\r\n                        // Delete a single row given by the ID in the URI\r\n                        selection = Petcontract.PetsEntry._ID + &quot;=?&quot;;\r\n                        selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\r\n                        rowsDeleted = database.delete(Petcontract.PetsEntry.TABLE_NAME, selection, selectionArgs);\r\n                        // If 1 or more rows were deleted, then notify all listeners that the data at the\r\n                        // given URI has changed\r\n                        if (rowsDeleted != 0) {\r\n                            getContext().getContentResolver().notifyChange(uri, null);\r\n                            return database.delete(Petcontract.PetsEntry.TABLE_NAME, selection, selectionArgs);\r\n                        }\r\n                        else{\r\n                            return rowsDeleted;\r\n                        }\r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;Deletion is not supported for &quot; + uri);\r\n                }\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public int update(@NonNull Uri uri, @Nullable ContentValues values, @Nullable String selection, @Nullable String[] selectionArgs) {\r\n                SQLiteDatabase database = petdbHepler.getWritableDatabase();\r\n                int rowsUpdated = database.update(Petcontract.PetsEntry.TABLE_NAME, values, selection, selectionArgs);\r\n        \r\n                if (rowsUpdated != 0) {\r\n                    getContext().getContentResolver().notifyChange(uri, null);\r\n                    return rowsUpdated;\r\n                }\r\n                else\r\n                {\r\n                    return database.update(Petcontract.PetsEntry.TABLE_NAME, values, selection, selectionArgs);\r\n                }\r\n            }\r\n        }`","title":"How to fix Asynctask error caused by Caused by: java.lang.NumberFormatException: For input string: &quot;pets&quot;","body":"<p>I'm getting this error:</p>\n<blockquote>\n<p>Caused by: java.lang.NumberFormatException: For input string: &quot;pets&quot; while trying to insert data into the database. While clicking on the insert option on the mainActivity it was supposed to insert data into the database and show that data into MainActivity but cuz of the error my application is getting crashed. How to solve this error? The error is caused in PetProvider query's Pet_ID at selection args point.</p>\n</blockquote>\n<p>The code of PetProvider is shown below:</p>\n<blockquote>\n<p>`2021-12-12 02:21:07.435 11934-11959/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1<br />\nProcess: com.example.myapplication, PID: 11934</p>\n<p>java.lang.RuntimeException: An error occurred while executing doInBackground()</p>\n<p>at android.os.AsyncTask$4.done(AsyncTask.java:415)<br />\nat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)<br />\nat java.util.concurrent.FutureTask.setException(FutureTask.java:252)<br />\nat java.util.concurrent.FutureTask.run(FutureTask.java:271)<br />\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)<br />\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)<br />\nat java.lang.Thread.run(Thread.java:923)</p>\n<p>Caused by: java.lang.NumberFormatException: For input string: &quot;pets&quot;</p>\n<p>at java.lang.Long.parseLong(Long.java:594)<br />\nat java.lang.Long.parseLong(Long.java:636)<br />\nat android.content.ContentUris.parseId(ContentUris.java:89)<br />\nat com.example.myapplication.data.PetProvider.query(PetProvider.java:100)<br />\nat android.content.ContentProvider.query(ContentProvider.java:1379)<br />\nat android.content.ContentProvider.query(ContentProvider.java:1475)<br />\nat android.content.ContentProvider$Transport.query(ContentProvider.java:278)<br />\nat android.content.ContentResolver.query(ContentResolver.java:1185)<br />\nat android.content.ContentResolver.query(ContentResolver.java:1116)<br />\nat android.content.CursorLoader.loadInBackground(CursorLoader.java:71)<br />\nat android.content.CursorLoader.loadInBackground(CursorLoader.java:46)<br />\nat android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:321)\nat android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:74)\nat android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:62)\nat android.os.AsyncTask$3.call(AsyncTask.java:394)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nat java.lang.Thread.run(Thread.java:923)\n<code> </code>package com.example.myapplication.data;</p>\n</blockquote>\n<pre><code>    import android.content.ContentProvider;\n    import android.content.ContentResolver;\n    import android.content.ContentUris;\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.content.UriMatcher;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.net.Uri;\n    import android.util.Log;\n    import android.widget.EditText;\n    import android.widget.Toast;\n    \n    import androidx.annotation.NonNull;\n    import androidx.annotation.Nullable;\n    \n    import java.nio.file.Path;\n    \n    \n    public class PetProvider extends ContentProvider {\n    \n        private PetdbHepler petdbHepler;\n        public static String CONTENT_AUTHORITY = &quot;com.example.myapplication&quot;;\n    \n        //To make this a usable URI, we use the parse method which takes in a URI string and returns a Uri.\n        public static Uri BASE_CONTENT_URI = Uri.parse(&quot;content://&quot; + CONTENT_AUTHORITY);\n    \n        //This constants stores the path for each of the tables which will be appended to the base content URI.\n    \n        public static final String PATH_PETS = &quot;pets&quot;;\n    \n        public static final String LOG_TAG = PetProvider.class.getSimpleName();\n    \n    \n        /**\n         * URI matcher code for the content URI for the pets table\n         */\n        private static final int PETS = 100;\n    \n        /**\n         * URI matcher code for the content URI for a single pet in the pets table\n         */\n        private static final int PET_ID = 101;\n    \n        /**\n         * UriMatcher object to match a content URI to a corresponding code.\n         * The input passed into the constructor represents the code to return for the root URI.\n         * It's common to use NO_MATCH as the input for this case.\n         */\n        private static final UriMatcher sUriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n    \n        // Static initializer. This is run the first time anything is called from this class.\n        static {\n            // The calls to addURI() go here, for all of the content URI patterns that the provider\n            // should recognize. All paths added to the UriMatcher have a corresponding code to return\n            // when a match is found.\n    \n            sUriMatcher.addURI(CONTENT_AUTHORITY, PATH_PETS, PETS);\n            sUriMatcher.addURI(CONTENT_AUTHORITY, PATH_PETS + &quot;/#&quot;, PET_ID);\n    \n        }\n    \n    \n        @Override\n        public boolean onCreate() {\n            petdbHepler = new PetdbHepler(getContext());\n            return false;\n        }\n    \n        @Nullable\n        @Override\n        public Cursor query(@NonNull Uri uri, @Nullable String[] projection, @Nullable String selection, @Nullable String[] selectionArgs, @Nullable String sortOrder) {\n            //steps To follow to query the database\n            //first we nedd to get access to the database\n            //second we need to pass the uri and check if the query is for whole table or for a single pet using uri matcher\n            //atlast we need to switch according to the uri\n            // so here is our code\n    \n            SQLiteDatabase database = petdbHepler.getReadableDatabase(); /*since we are only querying the database we need to use\n                                                           getReadableDatabase and this step is to access the database which is first step*/\n            Cursor cursor;\n            int matcher = sUriMatcher.match(uri);//second we need to pass the uri and check if the query is for whole table or for a single pet using uri matcher\n            switch (matcher) {\n                case PETS:\n                    cursor = database.query(Petcontract.PetsEntry.TABLE_NAME, projection, selection, selectionArgs, null, null, sortOrder);\n                case PET_ID:\n                    // For the PET_ID code, extract out the ID from the URI.\n                    // For an example URI such as &quot;content://com.example.android.pets/pets/3&quot;,\n                    // the selection will be &quot;_id=?&quot; and the selection argument will be a\n                    // String array containing the actual ID of 3 in this case.\n                    //\n                    // For every &quot;?&quot; in the selection, we need to have an element in the selection\n                    // arguments that will fill in the &quot;?&quot;. Since we have 1 question mark in the\n                    // selection, we have 1 String in the selection arguments' String array.\n    \n    \n                    selection = Petcontract.PetsEntry._ID + &quot;?&quot;;\n                    selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\n                    cursor = database.query(Petcontract.PetsEntry.TABLE_NAME, projection, selection, selectionArgs, null, null, sortOrder);\n                    Log.e(&quot;PetProvider&quot;, &quot;Hereis the problem&quot;);\n                    break;\n                default:\n                    throw new IllegalArgumentException(&quot;cannot query unknown uri&quot; + uri);\n            }\n            // Set notification URI on the Cursor,\n            // so we know what content URI the Cursor was created for.\n            // If the data at this URI changes, then we know we need to update the Cursor\n            cursor.setNotificationUri(getContext().getContentResolver(), uri);\n            return cursor;\n        }\n    \n        @Nullable\n        @Override\n        public String getType(@NonNull Uri uri) {\n            return null;\n        }\n    \n        @Nullable\n        @Override\n        public Uri insert(@NonNull Uri uri, @Nullable ContentValues contentValues) {\n            final int match = sUriMatcher.match(uri);\n            switch (match) {\n                case PETS:\n                    return insertPet(uri, contentValues);\n                default:\n                    throw new IllegalArgumentException(&quot;Insertion is not supported for &quot; + uri);\n            }\n        }\n    \n       private Uri insertPet(Uri uri, ContentValues contentValues){\n           // Check that the name is not null\n           String name = contentValues.getAsString(Petcontract.PetsEntry.COLUMN_NAME);\n           if (name == null) {\n               throw new IllegalArgumentException(&quot;Pet requires a name&quot;);\n           }\n    \n           // Check that the gender is valid\n           Integer gender = contentValues.getAsInteger(Petcontract.PetsEntry.COLUMN_GENDER);\n           if (gender == null) {\n               throw new IllegalArgumentException(&quot;Pet requires valid gender&quot;);\n           }\n    \n           // If the weight is provided, check that it's greater than or equal to 0 kg\n           Integer weight = contentValues.getAsInteger(Petcontract.PetsEntry.COLUMN_WEIGHT);\n           if (weight != null &amp;&amp; weight &lt; 0) {\n               throw new IllegalArgumentException(&quot;Pet requires valid weight&quot;);\n           }\n            SQLiteDatabase sqLiteDatabase = petdbHepler.getWritableDatabase();\n            long id = sqLiteDatabase.insert(Petcontract.PetsEntry.TABLE_NAME, null, contentValues);\n           // Notify all listeners that the data has changed for the pet content URI\n           getContext().getContentResolver().notifyChange(uri, null);\n    \n           return  ContentUris.withAppendedId(Petcontract.PetsEntry.content_uri, id);\n       }\n    \n    \n        @Override\n        public int delete(@NonNull Uri uri, @Nullable String selection, @Nullable String[] selectionArgs) {\n            // Get writeable database\n            SQLiteDatabase database =petdbHepler.getWritableDatabase();\n            int rowsDeleted;\n            final int match = sUriMatcher.match(uri);\n            switch (match) {\n                case PETS:\n                    // Delete all rows that match the selection and selection args\n                    return database.delete(Petcontract.PetsEntry.TABLE_NAME, selection, selectionArgs);\n                case PET_ID:\n                    // Delete a single row given by the ID in the URI\n                    selection = Petcontract.PetsEntry._ID + &quot;=?&quot;;\n                    selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\n                    rowsDeleted = database.delete(Petcontract.PetsEntry.TABLE_NAME, selection, selectionArgs);\n                    // If 1 or more rows were deleted, then notify all listeners that the data at the\n                    // given URI has changed\n                    if (rowsDeleted != 0) {\n                        getContext().getContentResolver().notifyChange(uri, null);\n                        return database.delete(Petcontract.PetsEntry.TABLE_NAME, selection, selectionArgs);\n                    }\n                    else{\n                        return rowsDeleted;\n                    }\n                default:\n                    throw new IllegalArgumentException(&quot;Deletion is not supported for &quot; + uri);\n            }\n    \n        }\n    \n        @Override\n        public int update(@NonNull Uri uri, @Nullable ContentValues values, @Nullable String selection, @Nullable String[] selectionArgs) {\n            SQLiteDatabase database = petdbHepler.getWritableDatabase();\n            int rowsUpdated = database.update(Petcontract.PetsEntry.TABLE_NAME, values, selection, selectionArgs);\n    \n            if (rowsUpdated != 0) {\n                getContext().getContentResolver().notifyChange(uri, null);\n                return rowsUpdated;\n            }\n            else\n            {\n                return database.update(Petcontract.PetsEntry.TABLE_NAME, values, selection, selectionArgs);\n            }\n        }\n    }`\n</code></pre>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1578147305,"creation_date":1578103967,"answer_id":59587358,"question_id":59587115,"body_markdown":"You can use any `@FXML` injected node from your controller class,\r\n\r\nLet&#39;s say you have a button \r\n    \r\n    @FXML private Button show;\r\n\r\nNow use that button `show.getParent().getScene().getWindow()` to get the current stage,\r\n\r\n    public void showResult(boolean win) throws IOException {\r\n        if (win == true) {\r\n            Parent menu_parent = FXMLLoader.load(getClass()\r\n                                   .getResource(&quot;/FXML/FXMLWinScreen.fxml&quot;));\r\n            Scene SceneMenu = new Scene(menu_parent);\r\n            Stage stage = (Stage)show.getParent().getScene().getWindow();\r\n            stage.setScene(SceneMenu);\r\n            stage.show();\r\n        }\r\n    }\r\n\r\nBut make SURE that `showResult` executes after the controller initialization and the node is injected.","title":"How to switch to new scenes without an Mouse/Drag/etc. event?","body":"<p>You can use any <code>@FXML</code> injected node from your controller class,</p>\n\n<p>Let's say you have a button </p>\n\n<pre><code>@FXML private Button show;\n</code></pre>\n\n<p>Now use that button <code>show.getParent().getScene().getWindow()</code> to get the current stage,</p>\n\n<pre><code>public void showResult(boolean win) throws IOException {\n    if (win == true) {\n        Parent menu_parent = FXMLLoader.load(getClass()\n                               .getResource(\"/FXML/FXMLWinScreen.fxml\"));\n        Scene SceneMenu = new Scene(menu_parent);\n        Stage stage = (Stage)show.getParent().getScene().getWindow();\n        stage.setScene(SceneMenu);\n        stage.show();\n    }\n}\n</code></pre>\n\n<p>But make SURE that <code>showResult</code> executes after the controller initialization and the node is injected.</p>\n"}],"owner":{"account_id":17161947,"reputation":65,"user_id":12421370,"display_name":"mip42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59587358,"answer_count":1,"score":1,"last_activity_date":1641054637,"creation_date":1578100379,"question_id":59587115,"body_markdown":"In my code I can switch to another scene using buttons like this:\r\n\r\n```\r\npublic void handleButtonClick(MouseEvent event) throws IOException {\r\n\t\tParent menu_parent = FXMLLoader.load(getClass().getResource(&quot;/FXML/FXMLmm2.fxml&quot;));\r\n\t\tScene SceneMenu = new Scene(menu_parent);\r\n\t\tStage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n\t\tstage.setScene(SceneMenu);\r\n\t\tstage.show();\r\n}\r\n```\r\n\r\nNow I have a method in the controller class which should open a scene without an event:\r\n\r\n```\r\npublic void showResult(boolean win) throws IOException {\r\n\t\tif (win == true) {\r\n\t\t\tParent menu_parent = FXMLLoader.load(getClass().getResource(&quot;/FXML/FXMLWinScreen.fxml&quot;));\r\n\t\t\tScene SceneMenu = new Scene(menu_parent);\r\n\t\t\tStage stage = new Stage();\r\n\t\t\tstage.setScene(SceneMenu);\r\n\t\t\tstage.show();\r\n\t\t}\r\n```\r\n\r\nThe problem is, I don&#39;t know how to get the node for the stage, this program is only working when I open a whole new stage/window.\r\n\r\nHow can I switch to a new Scene without an events and opening a new stage?","title":"How to switch to new scenes without an Mouse/Drag/etc. event?","body":"<p>In my code I can switch to another scene using buttons like this:</p>\n<pre><code>public void handleButtonClick(MouseEvent event) throws IOException {\n        Parent menu_parent = FXMLLoader.load(getClass().getResource(&quot;/FXML/FXMLmm2.fxml&quot;));\n        Scene SceneMenu = new Scene(menu_parent);\n        Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        stage.setScene(SceneMenu);\n        stage.show();\n}\n</code></pre>\n<p>Now I have a method in the controller class which should open a scene without an event:</p>\n<pre><code>public void showResult(boolean win) throws IOException {\n        if (win == true) {\n            Parent menu_parent = FXMLLoader.load(getClass().getResource(&quot;/FXML/FXMLWinScreen.fxml&quot;));\n            Scene SceneMenu = new Scene(menu_parent);\n            Stage stage = new Stage();\n            stage.setScene(SceneMenu);\n            stage.show();\n        }\n</code></pre>\n<p>The problem is, I don't know how to get the node for the stage, this program is only working when I open a whole new stage/window.</p>\n<p>How can I switch to a new Scene without an events and opening a new stage?</p>\n"},{"tags":["java","multithreading","random"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641054600,"creation_date":1641054600,"answer_id":70550202,"question_id":70550152,"body_markdown":"Sure. Each thread makes an instance of `Random` and then pulls the same number of bytes out of it (namely: 1 int between 0 and 100 inclusive). Thus, if they are all the same random sequence, you&#39;d get the same results.\r\n\r\nInitialize them all with a set seed value and you get what you want. If you prefer, you can do this so that every invocation of this process, you get a different seed value (so, random seed), but that all randoms run the same way:\r\n\r\nMain:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n   Test w1,w2,w3;\r\n   \r\n   long seed = new Random().nextLong();\r\n    w1 = new Test(1, seed);\r\n    w2 = new Test(2, seed);\r\n    w3 = new Test(3, seed);\r\n    \r\n    w1.start();\r\n    w2.start();\r\n    w3.start();\r\n}\r\n```\r\n\r\nclass:\r\n\r\n```java\r\npublic class Test extends Thread {\r\n  private final int number;\r\n  private final Random rnd;\r\n\r\n  public Test(int number, long seed) {\r\n    this.number = number;\r\n    this.rnd = new Random(seed);\r\n  }\r\n  \r\n  @Override\r\n  public void run() {\r\n    int pom = rnd.nextInt(101);\r\n    System.out.println(&quot;Random number: &quot;+pom+&quot;, number of thread: &quot;+number);\r\n  }\r\n}\r\n```\r\n\r\nI also cleaned up some style issues (`private final` on the fields, it makes more sense to me to have the instance of `Random` be a field instead of having a field to store the `seed` separately.","title":"Random number and threads","body":"<p>Sure. Each thread makes an instance of <code>Random</code> and then pulls the same number of bytes out of it (namely: 1 int between 0 and 100 inclusive). Thus, if they are all the same random sequence, you'd get the same results.</p>\n<p>Initialize them all with a set seed value and you get what you want. If you prefer, you can do this so that every invocation of this process, you get a different seed value (so, random seed), but that all randoms run the same way:</p>\n<p>Main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n   Test w1,w2,w3;\n   \n   long seed = new Random().nextLong();\n    w1 = new Test(1, seed);\n    w2 = new Test(2, seed);\n    w3 = new Test(3, seed);\n    \n    w1.start();\n    w2.start();\n    w3.start();\n}\n</code></pre>\n<p>class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test extends Thread {\n  private final int number;\n  private final Random rnd;\n\n  public Test(int number, long seed) {\n    this.number = number;\n    this.rnd = new Random(seed);\n  }\n  \n  @Override\n  public void run() {\n    int pom = rnd.nextInt(101);\n    System.out.println(&quot;Random number: &quot;+pom+&quot;, number of thread: &quot;+number);\n  }\n}\n</code></pre>\n<p>I also cleaned up some style issues (<code>private final</code> on the fields, it makes more sense to me to have the instance of <code>Random</code> be a field instead of having a field to store the <code>seed</code> separately.</p>\n"}],"owner":{"account_id":23560691,"reputation":5,"user_id":17602095,"display_name":"forvev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70550202,"answer_count":1,"score":0,"last_activity_date":1641054600,"creation_date":1641054044,"question_id":70550152,"body_markdown":"I&#39;ve got problem with threads. I&#39;m running &quot;run&quot; method using three object, each in a different thread. \r\n\r\nIs it possible to get the same number from three threads? I suppoused that the answer is no, but is it possible after some change ?\r\n\r\nMain:\r\n\r\n    public static void main(String[] args) {\r\n        \r\n       Test w1,w2,w3;\r\n        \r\n        w1 = new Test(1);\r\n        w2 = new Test(2);\r\n        w3 = new Test(3);\r\n        \r\n        w1.start();\r\n        w2.start();\r\n        w3.start();\r\n\r\n    }\r\n\r\nclass:\r\n\r\n    public class Test extends Thread implements Runnable{\r\n    int number;\r\n\r\n    public Test(int number) {\r\n        this.number = number;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        Random rnd = new Random();\r\n        \r\n        //int pom = ThreadLocalRandom.current().nextInt(101);\r\n        int pom = rnd.nextInt(101);\r\n        System.out.println(&quot;Random number: &quot;+pom+&quot;, number of thread: &quot;+number);\r\n    }\r\n}\r\n","title":"Random number and threads","body":"<p>I've got problem with threads. I'm running &quot;run&quot; method using three object, each in a different thread.</p>\n<p>Is it possible to get the same number from three threads? I suppoused that the answer is no, but is it possible after some change ?</p>\n<p>Main:</p>\n<pre><code>public static void main(String[] args) {\n    \n   Test w1,w2,w3;\n    \n    w1 = new Test(1);\n    w2 = new Test(2);\n    w3 = new Test(3);\n    \n    w1.start();\n    w2.start();\n    w3.start();\n\n}\n</code></pre>\n<p>class:</p>\n<pre><code>public class Test extends Thread implements Runnable{\nint number;\n\npublic Test(int number) {\n    this.number = number;\n}\n\n@Override\npublic void run() {\n    Random rnd = new Random();\n    \n    //int pom = ThreadLocalRandom.current().nextInt(101);\n    int pom = rnd.nextInt(101);\n    System.out.println(&quot;Random number: &quot;+pom+&quot;, number of thread: &quot;+number);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","rest","jpa","spring-rest"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1641048440,"post_id":70549581,"comment_id":124711800,"body_markdown":"I wouldnt nest orders under users. Just because a user has a set of orders doesnt mean it owns the orders. If theyre independently persisted entities with their own ids - i.e globally unique then just have `/orders/orderid`.","body":"I wouldnt nest orders under users. Just because a user has a set of orders doesnt mean it owns the orders. If theyre independently persisted entities with their own ids - i.e globally unique then just have <code>&#47;orders&#47;orderid</code>."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1641049247,"post_id":70549581,"comment_id":124711949,"body_markdown":"In this case the orders are dependent on users, because when we delete a user, then all his orders will be deleted. User should be able to add orders, edit them etc, so there should be an endpoint in user controller I believe. Order controller is used to see all the orders. WDYT?","body":"In this case the orders are dependent on users, because when we delete a user, then all his orders will be deleted. User should be able to add orders, edit them etc, so there should be an endpoint in user controller I believe. Order controller is used to see all the orders. WDYT?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641053425,"creation_date":1641052961,"answer_id":70550057,"question_id":70549581,"body_markdown":"[Zalando API Guideline][1] has some view on this matter which they suggest we SHOULD limit the number of resource types because of the following reasons :\r\n\r\n&gt; To keep maintenance and service evolution manageable, we should follow\r\n&gt; &quot;functional segmentation&quot; and &quot;separation of concern&quot; design\r\n&gt; principles and do not mix different business functionalities in same\r\n&gt; API definition. In practice this means that the number of resource\r\n&gt; types exposed via an API should be limited. In this context a resource\r\n&gt; type is defined as a set of highly related resources such as a\r\n&gt; collection, its members and any direct sub-resources.\r\n\r\nApply to your case , basically they suggest only has the following resource types : \r\n\r\n- /users\r\n- /orders\r\n\r\nAnd no need to have `/users/{username}/orders/` as `/orders` already serve the same purpose. If you want to get orders for an user , simply use `/orders?user=foobar`\r\n\r\n\r\n  [1]: https://opensource.zalando.com/restful-api-guidelines/#146","title":"How to design endpoints for bi-directional entity mapping","body":"<p><a href=\"https://opensource.zalando.com/restful-api-guidelines/#146\" rel=\"nofollow noreferrer\">Zalando API Guideline</a> has some view on this matter which they suggest we SHOULD limit the number of resource types because of the following reasons :</p>\n<blockquote>\n<p>To keep maintenance and service evolution manageable, we should follow\n&quot;functional segmentation&quot; and &quot;separation of concern&quot; design\nprinciples and do not mix different business functionalities in same\nAPI definition. In practice this means that the number of resource\ntypes exposed via an API should be limited. In this context a resource\ntype is defined as a set of highly related resources such as a\ncollection, its members and any direct sub-resources.</p>\n</blockquote>\n<p>Apply to your case , basically they suggest only has the following resource types :</p>\n<ul>\n<li>/users</li>\n<li>/orders</li>\n</ul>\n<p>And no need to have <code>/users/{username}/orders/</code> as <code>/orders</code> already serve the same purpose. If you want to get orders for an user , simply use <code>/orders?user=foobar</code></p>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70550057,"answer_count":1,"score":1,"last_activity_date":1641053425,"creation_date":1641048281,"question_id":70549581,"body_markdown":"There are two entities, `User` and `Order`. The `User` entity has a `Set&lt;Order&gt;` of orders, and it&#39;s a bi-directional mapping. \r\n\r\nNow I have two controllers, one controller is called `OrderController` and it has some endpoints to retrieve all orders, etc. The second controller is called `UserController` and it has some endpoints related to the user, but it also has endpoints such as `/users/{username}/orders` and `/users/{username}/orders/{orderId}`. \r\n\r\nThe question is where should I add an endpoint to persist an order? Should it be a `POST` in `OrderController` i.e. `/orders` or should it be in `UserController` as `/users/{username}/orders` endpoint? Orders are created by a user and the `OrderController` is only used to retrieve all orders, not only for the specific user.\r\n\r\nDo you have any tips on how should it be designed?","title":"How to design endpoints for bi-directional entity mapping","body":"<p>There are two entities, <code>User</code> and <code>Order</code>. The <code>User</code> entity has a <code>Set&lt;Order&gt;</code> of orders, and it's a bi-directional mapping.</p>\n<p>Now I have two controllers, one controller is called <code>OrderController</code> and it has some endpoints to retrieve all orders, etc. The second controller is called <code>UserController</code> and it has some endpoints related to the user, but it also has endpoints such as <code>/users/{username}/orders</code> and <code>/users/{username}/orders/{orderId}</code>.</p>\n<p>The question is where should I add an endpoint to persist an order? Should it be a <code>POST</code> in <code>OrderController</code> i.e. <code>/orders</code> or should it be in <code>UserController</code> as <code>/users/{username}/orders</code> endpoint? Orders are created by a user and the <code>OrderController</code> is only used to retrieve all orders, not only for the specific user.</p>\n<p>Do you have any tips on how should it be designed?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1640981313,"post_id":70545171,"comment_id":124703996,"body_markdown":"Resources, properties, preferences, databases, et al.; your requirements may help choose among design alternative.","body":"Resources, properties, preferences, databases, et al.; your requirements may help choose among design alternative."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1640982040,"post_id":70545171,"comment_id":124704141,"body_markdown":"Use a property file. See https://stackoverflow.com/questions/8285595/reading-properties-file-in-java/13667185","body":"Use a property file. See <a href=\"https://stackoverflow.com/questions/8285595/reading-properties-file-in-java/13667185\" title=\"reading properties file in java\">stackoverflow.com/questions/8285595/&hellip;</a>"},{"owner":{"account_id":23690827,"reputation":29,"user_id":17715191,"display_name":"68Doom68"},"score":0,"creation_date":1640983153,"post_id":70545171,"comment_id":124704350,"body_markdown":"Thanks guys, I&#39;ll take a look at the properties thing.","body":"Thanks guys, I&#39;ll take a look at the properties thing."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1641002444,"post_id":70545171,"comment_id":124706701,"body_markdown":"If you are going to use a database and config properties, then I recommend [integrating JavaFX and SpringBoot](https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service). There are many tutorials at spring.io and baeldung which explain how to use spring data and configuration, for example [properties and Spring](https://www.baeldung.com/properties-with-spring) and [spring dara](https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa).  Spring is not best for everyone, so measure against your requirements.","body":"If you are going to use a database and config properties, then I recommend <a href=\"https://stackoverflow.com/questions/57887944/adding-spring-dependency-injection-in-javafx-jpa-repo-service\">integrating JavaFX and SpringBoot</a>. There are many tutorials at spring.io and baeldung which explain how to use spring data and configuration, for example <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">properties and Spring</a> and <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">spring dara</a>.  Spring is not best for everyone, so measure against your requirements."},{"owner":{"account_id":23690827,"reputation":29,"user_id":17715191,"display_name":"68Doom68"},"score":1,"creation_date":1641042746,"post_id":70545171,"comment_id":124710881,"body_markdown":"Hi, I also think Spring is the best choice. My project is only very small and serves as an illustration for the bosses. Later, when I can continue to work on it, I will certainly go the way with Spring. But I still have to learn a little, as I have only programmed as a hobby so far.\nIncidentally, that with the properties worked great and it&#39;s already built in. Thanks again for the good tip.","body":"Hi, I also think Spring is the best choice. My project is only very small and serves as an illustration for the bosses. Later, when I can continue to work on it, I will certainly go the way with Spring. But I still have to learn a little, as I have only programmed as a hobby so far. Incidentally, that with the properties worked great and it&#39;s already built in. Thanks again for the good tip."}],"answers":[{"tags":[],"owner":{"account_id":23690827,"reputation":29,"user_id":17715191,"display_name":"68Doom68"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641052676,"creation_date":1641052676,"answer_id":70550027,"question_id":70545171,"body_markdown":"You&#39;re right, of course I&#39;ll be happy to do that.\r\nFirst I created a property file in the project folder and call it app.properties:\r\n\r\n    db_url=jdbc:mysql://localhost:3306/db name\r\n    db_user=user name\r\n    db_pwd=secret password\r\n    instructions_folder=/home/username/documents/\r\n\r\nThen I created a class that loads the properties and makes them available throughout the project.\r\n\r\n    public class AppProperties {\r\n    \r\n        // FILENAME = Path to properties-file\r\n        // Store and protect it where ever you want\r\n        private final String FILENAME = &quot;app.properties&quot;;\r\n        \r\n        private static final AppProperties config_file = new AppProperties();\r\n        private Properties prop = new Properties();\r\n        private String msg = &quot;&quot;;\r\n    \r\n        private AppProperties(){\r\n            InputStream input = null;\r\n    \r\n            try{\r\n                input = new FileInputStream(FILENAME);\r\n    \r\n                // Load a properties\r\n                prop.load(input);\r\n            }catch(IOException ex){\r\n                msg = &quot;Can&#39;t find/open property file&quot;;\r\n                ex.printStackTrace();\r\n            }finally{\r\n                if (input != null){\r\n                    try{\r\n                        input.close();\r\n                    }catch(IOException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        public String getProperty (String key){\r\n            return prop.getProperty(key);\r\n        }\r\n    \r\n        public String getMsg () {\r\n            return msg;\r\n        }\r\n    \r\n        // == Singleton design pattern == //\r\n        // Where ever you call this methode in application\r\n        // you always get the same and only instance (config_file)\r\n        public static AppProperties getInstance(){\r\n            return config_file;\r\n        }\r\n    }\r\nIn the DBUtilitis class, where I do my database queries, I now load the properties into final variables and use them in the query methods.\r\n\r\n    private static final String db_url = AppProperties.getInstance().getProperty(&quot;db_url&quot;);\r\n        private static final String db_user = AppProperties.getInstance().getProperty(&quot;db_user&quot;);\r\n        private static final String db_pwd = AppProperties.getInstance().getProperty(&quot;db_pwd&quot;);\r\n\r\nIf I have not completely misunderstood this, the advantage of property files is that they can be stored and protected somewhere on the server. I hope the solution is not completely wrong - it works well anyway. I am always happy to receive suggestions and / or improvements.","title":"Config-file for JavaFX-Project","body":"<p>You're right, of course I'll be happy to do that.\nFirst I created a property file in the project folder and call it app.properties:</p>\n<pre><code>db_url=jdbc:mysql://localhost:3306/db name\ndb_user=user name\ndb_pwd=secret password\ninstructions_folder=/home/username/documents/\n</code></pre>\n<p>Then I created a class that loads the properties and makes them available throughout the project.</p>\n<pre><code>public class AppProperties {\n\n    // FILENAME = Path to properties-file\n    // Store and protect it where ever you want\n    private final String FILENAME = &quot;app.properties&quot;;\n    \n    private static final AppProperties config_file = new AppProperties();\n    private Properties prop = new Properties();\n    private String msg = &quot;&quot;;\n\n    private AppProperties(){\n        InputStream input = null;\n\n        try{\n            input = new FileInputStream(FILENAME);\n\n            // Load a properties\n            prop.load(input);\n        }catch(IOException ex){\n            msg = &quot;Can't find/open property file&quot;;\n            ex.printStackTrace();\n        }finally{\n            if (input != null){\n                try{\n                    input.close();\n                }catch(IOException e){\n                    e.printStackTrace();\n                }\n            }\n\n        }\n    }\n\n    public String getProperty (String key){\n        return prop.getProperty(key);\n    }\n\n    public String getMsg () {\n        return msg;\n    }\n\n    // == Singleton design pattern == //\n    // Where ever you call this methode in application\n    // you always get the same and only instance (config_file)\n    public static AppProperties getInstance(){\n        return config_file;\n    }\n}\n</code></pre>\n<p>In the DBUtilitis class, where I do my database queries, I now load the properties into final variables and use them in the query methods.</p>\n<pre><code>private static final String db_url = AppProperties.getInstance().getProperty(&quot;db_url&quot;);\n    private static final String db_user = AppProperties.getInstance().getProperty(&quot;db_user&quot;);\n    private static final String db_pwd = AppProperties.getInstance().getProperty(&quot;db_pwd&quot;);\n</code></pre>\n<p>If I have not completely misunderstood this, the advantage of property files is that they can be stored and protected somewhere on the server. I hope the solution is not completely wrong - it works well anyway. I am always happy to receive suggestions and / or improvements.</p>\n"}],"owner":{"account_id":23690827,"reputation":29,"user_id":17715191,"display_name":"68Doom68"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70550027,"answer_count":1,"score":0,"last_activity_date":1641052676,"creation_date":1640978979,"question_id":70545171,"body_markdown":"I would like to add a file or class to my JavaFX project that only contains the configuration data of the project, e.g. the access data for the database, system paths etc. How would you do this?\r\nJust write everything in a normal class? There is definitely a better way, right?\r\n\r\n","title":"Config-file for JavaFX-Project","body":"<p>I would like to add a file or class to my JavaFX project that only contains the configuration data of the project, e.g. the access data for the database, system paths etc. How would you do this?\nJust write everything in a normal class? There is definitely a better way, right?</p>\n"},{"tags":["java","generics","design-patterns"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641049210,"post_id":70549652,"comment_id":124711943,"body_markdown":"`&lt;T&gt;` is a generic parameters. I recommend reading a tutorial on the topic, e.g. [this one from `oracle.com`](https://docs.oracle.com/javase/tutorial/java/generics/).","body":"<code>&lt;T&gt;</code> is a generic parameters. I recommend reading a tutorial on the topic, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">this one from <code>oracle.com</code></a>."},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1641049586,"post_id":70549652,"comment_id":124711990,"body_markdown":"@Turing85 - I understand generics. What I don&#39;t understand is in what situation or application would a method of that form (taking a Class, returning an instance of that class) be useful?","body":"@Turing85 - I understand generics. What I don&#39;t understand is in what situation or application would a method of that form (taking a Class, returning an instance of that class) be useful?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641049623,"post_id":70549652,"comment_id":124711995,"body_markdown":"In this case, it would be helpful if you [edit] the post and clarify your question.","body":"In this case, it would be helpful if you <a href=\"https://stackoverflow.com/posts/70549652/edit\">edit</a> the post and clarify your question."},{"owner":{"account_id":11421497,"reputation":58712,"user_id":8372853,"display_name":"cigien"},"score":0,"creation_date":1641050103,"post_id":70549652,"comment_id":124712098,"body_markdown":"Are you looking for this https://stackoverflow.com/questions/6503942/how-to-interpret-java-generics-like-t-t-t-v-queryt-classt ?","body":"Are you looking for this <a href=\"https://stackoverflow.com/questions/6503942/how-to-interpret-java-generics-like-t-t-t-v-queryt-classt\" title=\"how to interpret java generics like t t t v queryt classt\">stackoverflow.com/questions/6503942/&hellip;</a> ?"},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":2,"creation_date":1641050161,"post_id":70549652,"comment_id":124712108,"body_markdown":"Or https://stackoverflow.com/q/462297/6296561 or https://stackoverflow.com/q/9406025/6296561 ?","body":"Or <a href=\"https://stackoverflow.com/q/462297/6296561\">stackoverflow.com/q/462297/6296561</a> or <a href=\"https://stackoverflow.com/q/9406025/6296561\">stackoverflow.com/q/9406025/6296561</a> ?"},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":2,"creation_date":1641051006,"post_id":70549652,"comment_id":124712241,"body_markdown":"Ah, thank you @Zoe! This statement in one of your links, _&quot;to enable one specific idiom1 - use of Class objects as type-safe object factories&quot;_, made it clear to me. The Oracle page linked from there is great too.","body":"Ah, thank you @Zoe! This statement in one of your links, <i>&quot;to enable one specific idiom1 - use of Class objects as type-safe object factories&quot;</i>, made it clear to me. The Oracle page linked from there is great too."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641049837,"creation_date":1641049322,"answer_id":70549681,"question_id":70549652,"body_markdown":"    &lt;T&gt; T resolve(Class&lt;T&gt; var1);\r\n\r\n`&lt;T&gt;` declares a formal type variable.  So the method returns something of type T.\r\n\r\n`Class&lt;T&gt;` is the class of T, so it requires an argument of type &#39;the Class that is the class of T&#39;.   You&#39;ll sometimes see this in Java, since the erasure of generic types makes it necessary to specify the actual class.\r\n\r\n[Here](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#checkedList(java.util.List,java.lang.Class)) is an actual example from the Java standard library.\r\n\r\n    public static &lt;E&gt; List&lt;E&gt; checkedList(List&lt;E&gt; list, Class&lt;E&gt; type)\r\n\r\nUse is like this\r\n\r\n    List&lt;String&gt; myList2 = Collections.checkedList(myList1, String.class);\r\n\r\nThe body of a generic method cannot, for example, call `new T()`, due to type erasure.  Given the class object, it can obtain a constructor for the specific class and thus allocate an instance of T.\r\n","title":"What does &lt;T&gt; T resolve(Class&lt;T&gt; var1); do?","body":"<pre><code>&lt;T&gt; T resolve(Class&lt;T&gt; var1);\n</code></pre>\n<p><code>&lt;T&gt;</code> declares a formal type variable.  So the method returns something of type T.</p>\n<p><code>Class&lt;T&gt;</code> is the class of T, so it requires an argument of type 'the Class that is the class of T'.   You'll sometimes see this in Java, since the erasure of generic types makes it necessary to specify the actual class.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#checkedList(java.util.List,java.lang.Class)\" rel=\"nofollow noreferrer\">Here</a> is an actual example from the Java standard library.</p>\n<pre><code>public static &lt;E&gt; List&lt;E&gt; checkedList(List&lt;E&gt; list, Class&lt;E&gt; type)\n</code></pre>\n<p>Use is like this</p>\n<pre><code>List&lt;String&gt; myList2 = Collections.checkedList(myList1, String.class);\n</code></pre>\n<p>The body of a generic method cannot, for example, call <code>new T()</code>, due to type erasure.  Given the class object, it can obtain a constructor for the specific class and thus allocate an instance of T.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641052545,"creation_date":1641049494,"answer_id":70549694,"question_id":70549652,"body_markdown":"It gets an object of a certain type.\r\n\r\n`&lt;T&gt;` is a generic. Generics are wildcards for types. This means that in the context of the method, `T` is a type (like a class or an interface).\r\n\r\nThe generic is inferred when calling the method but note that generics are only checked at compile-time, not at runtime. \r\n\r\nThe method signature also declares `T` as the return type. This means that the method should return an object of the wildcard (generic) type.\r\n\r\n`Class` is an object representing a type. Any type has a corresponding `Class`-object that can be obtained via `YourType.class` or `objectFromType.getClass()`.\r\n\r\n`Class&lt;T&gt;` means you have a `Class` object of the `T`-type. This is needed since methods cannot know the real type of the generic (this limitation of Java is called _type erasure_).\r\n\r\n```none\r\n&lt;T&gt; T resolve(Class&lt;T&gt; var1);\r\n ^  ^         ^\r\n |  |         |- object declaring the type at runtime so the method knows the actual type\r\n |  |- return type (it returns an object of the generic) \r\n |- generic (wildcard type) declaration\r\n```\r\n\r\n&gt; Edit: I understand generics, etc. I&#39;m more wondering in what case would a method of that form (taking a Class and returning an instance of it) be useful?\r\n\r\nAs mentioned, the information of the actual type of `T` is erased at runtime. If the method wants the actual type of the generic, it needs a `Class`-object.\r\n\r\nReturning an instance of a class when just knowing the class may be useful in different scenarios, for example for dependency injection. For the actual use-case, you need to dive deeper in the code (usage, documentation and the implementation of `resolve`). ","title":"What does &lt;T&gt; T resolve(Class&lt;T&gt; var1); do?","body":"<p>It gets an object of a certain type.</p>\n<p><code>&lt;T&gt;</code> is a generic. Generics are wildcards for types. This means that in the context of the method, <code>T</code> is a type (like a class or an interface).</p>\n<p>The generic is inferred when calling the method but note that generics are only checked at compile-time, not at runtime.</p>\n<p>The method signature also declares <code>T</code> as the return type. This means that the method should return an object of the wildcard (generic) type.</p>\n<p><code>Class</code> is an object representing a type. Any type has a corresponding <code>Class</code>-object that can be obtained via <code>YourType.class</code> or <code>objectFromType.getClass()</code>.</p>\n<p><code>Class&lt;T&gt;</code> means you have a <code>Class</code> object of the <code>T</code>-type. This is needed since methods cannot know the real type of the generic (this limitation of Java is called <em>type erasure</em>).</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;T&gt; T resolve(Class&lt;T&gt; var1);\n ^  ^         ^\n |  |         |- object declaring the type at runtime so the method knows the actual type\n |  |- return type (it returns an object of the generic) \n |- generic (wildcard type) declaration\n</code></pre>\n<blockquote>\n<p>Edit: I understand generics, etc. I'm more wondering in what case would a method of that form (taking a Class and returning an instance of it) be useful?</p>\n</blockquote>\n<p>As mentioned, the information of the actual type of <code>T</code> is erased at runtime. If the method wants the actual type of the generic, it needs a <code>Class</code>-object.</p>\n<p>Returning an instance of a class when just knowing the class may be useful in different scenarios, for example for dependency injection. For the actual use-case, you need to dive deeper in the code (usage, documentation and the implementation of <code>resolve</code>).</p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1641051911,"accepted_answer_id":70549694,"answer_count":2,"score":-3,"last_activity_date":1641052545,"creation_date":1641049046,"question_id":70549652,"body_markdown":"I was digging into some infrastructure code, when I came across this method declaration:\r\n\r\n    &lt;T&gt; T resolve(Class&lt;T&gt; var1);\r\n\r\nIs this some kind of pattern or technique? If so, what&#39;s its purpose?\r\n\r\n**Edit:** I understand generics, etc. I&#39;m more wondering in what case would a method of that form (taking a Class and returning an instance of it) be useful?\r\n\r\nHere&#39;s more of the context, in case it helps:\r\n\r\n\r\n    public interface Environment {\r\n      String domain();\r\n    \r\n      Client client();\r\n    \r\n      Config config();\r\n    \r\n      Environment.RoutingEngine routingEngine();\r\n    \r\n      Closer closer();\r\n    \r\n      &lt;T&gt; T resolve(Class&lt;T&gt; var1);\r\n    \r\n      public interface RoutingEngine {\r\n        Environment.RoutingEngine registerAutoRoutes(RouteProvider var1);\r\n    \r\n        Environment.RoutingEngine registerAutoRoute(Route&lt;? extends AsyncHandler&lt;?&gt;&gt; var1);\r\n    \r\n        Environment.RoutingEngine registerRoutes(Stream&lt;? extends Route&lt;? extends AsyncHandler&lt;? extends Response&lt;ByteString&gt;&gt;&gt;&gt; var1);\r\n    \r\n        Environment.RoutingEngine registerRoute(Route&lt;? extends AsyncHandler&lt;? extends Response&lt;ByteString&gt;&gt;&gt; var1);\r\n      }\r\n    }\r\n\r\nAnd an example use of it, though I doubt it helps:\r\n\r\n      static void configure(final Environment environment) {\r\n        final GrpcServer grpcServer = environment.resolve(GrpcServer.class);\r\n        grpcServer.addService(new ExampleResource());\r\n      }","title":"What does &lt;T&gt; T resolve(Class&lt;T&gt; var1); do?","body":"<p>I was digging into some infrastructure code, when I came across this method declaration:</p>\n<pre><code>&lt;T&gt; T resolve(Class&lt;T&gt; var1);\n</code></pre>\n<p>Is this some kind of pattern or technique? If so, what's its purpose?</p>\n<p><strong>Edit:</strong> I understand generics, etc. I'm more wondering in what case would a method of that form (taking a Class and returning an instance of it) be useful?</p>\n<p>Here's more of the context, in case it helps:</p>\n<pre><code>public interface Environment {\n  String domain();\n\n  Client client();\n\n  Config config();\n\n  Environment.RoutingEngine routingEngine();\n\n  Closer closer();\n\n  &lt;T&gt; T resolve(Class&lt;T&gt; var1);\n\n  public interface RoutingEngine {\n    Environment.RoutingEngine registerAutoRoutes(RouteProvider var1);\n\n    Environment.RoutingEngine registerAutoRoute(Route&lt;? extends AsyncHandler&lt;?&gt;&gt; var1);\n\n    Environment.RoutingEngine registerRoutes(Stream&lt;? extends Route&lt;? extends AsyncHandler&lt;? extends Response&lt;ByteString&gt;&gt;&gt;&gt; var1);\n\n    Environment.RoutingEngine registerRoute(Route&lt;? extends AsyncHandler&lt;? extends Response&lt;ByteString&gt;&gt;&gt; var1);\n  }\n}\n</code></pre>\n<p>And an example use of it, though I doubt it helps:</p>\n<pre><code>  static void configure(final Environment environment) {\n    final GrpcServer grpcServer = environment.resolve(GrpcServer.class);\n    grpcServer.addService(new ExampleResource());\n  }\n</code></pre>\n"},{"tags":["java","reentrantlock"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1641052142,"post_id":70549886,"comment_id":124712461,"body_markdown":"Because thats what youve asked your thread to do - it spins and constantly locks the lock.","body":"Because thats what youve asked your thread to do - it spins and constantly locks the lock."},{"owner":{"account_id":23799552,"reputation":1,"user_id":17809986,"display_name":"RYZ34M"},"score":0,"creation_date":1641052445,"post_id":70549886,"comment_id":124712529,"body_markdown":"I know, but i unlock it before going for the next iteration, shouldn&#39;t it be enough for another thread attempting to lock to be successful?","body":"I know, but i unlock it before going for the next iteration, shouldn&#39;t it be enough for another thread attempting to lock to be successful?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1641054199,"post_id":70549886,"comment_id":124712889,"body_markdown":"Because the thread continues running, and thus comes at the lock again in (almost) no time. When you use sleep, you explicitly yield for a long time allowing other threads the chance to lock. You could try if `Thread.yield()` is sufficient to give other threads a chance, however - without checking the problem you&#39;re trying to solve in too much depth - your problem is probably better solved by using a `BlockingQueue` for communication between threads.","body":"Because the thread continues running, and thus comes at the lock again in (almost) no time. When you use sleep, you explicitly yield for a long time allowing other threads the chance to lock. You could try if <code>Thread.yield()</code> is sufficient to give other threads a chance, however - without checking the problem you&#39;re trying to solve in too much depth - your problem is probably better solved by using a <code>BlockingQueue</code> for communication between threads."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1641054774,"post_id":70549886,"comment_id":124713016,"body_markdown":"Try using a fair version of the lock.","body":"Try using a fair version of the lock."},{"owner":{"account_id":23799552,"reputation":1,"user_id":17809986,"display_name":"RYZ34M"},"score":0,"creation_date":1641057334,"post_id":70549886,"comment_id":124713566,"body_markdown":"@MarkRotteveel I think I&#39;ll use the Thread.yield() option, thank you very much.","body":"@MarkRotteveel I think I&#39;ll use the Thread.yield() option, thank you very much."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641068403,"post_id":70549886,"comment_id":124715662,"body_markdown":"As an aside, it is best not to ignore `InterruptedException`. See this article for a detailed explanation https://www.yegor256.com/2015/10/20/interrupted-exception.html There are also several Q&amp;As about this on Stack Overflow.","body":"As an aside, it is best not to ignore <code>InterruptedException</code>. See this article for a detailed explanation <a href=\"https://www.yegor256.com/2015/10/20/interrupted-exception.html\" rel=\"nofollow noreferrer\">yegor256.com/2015/10/20/interrupted-exception.html</a> There are also several Q&amp;As about this on Stack Overflow."},{"owner":{"account_id":23799552,"reputation":1,"user_id":17809986,"display_name":"RYZ34M"},"score":0,"creation_date":1641080386,"post_id":70549886,"comment_id":124717579,"body_markdown":"@TimMoore I&#39;ll check it out, thank you!","body":"@TimMoore I&#39;ll check it out, thank you!"},{"owner":{"account_id":23799552,"reputation":1,"user_id":17809986,"display_name":"RYZ34M"},"score":0,"creation_date":1641080722,"post_id":70549886,"comment_id":124717615,"body_markdown":"@SotiriosDelimanolis That&#39;s what I was looking for. I wasn&#39;t aware of that option. Thank you very much.","body":"@SotiriosDelimanolis That&#39;s what I was looking for. I wasn&#39;t aware of that option. Thank you very much."}],"owner":{"account_id":23799552,"reputation":1,"user_id":17809986,"display_name":"RYZ34M"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641051437,"creation_date":1641051437,"question_id":70549886,"body_markdown":"So, in the code below I&#39;m trying to code a simple client with a demultiplexer. \r\n\r\nI have a thread responsible for receiving and storing in queues all TCP packets. This thread is obviously in a loop, where it locks the map that contains the queues, stores the packet in the correct queue and signals the thread waiting for the packet, and then unlocks the map. But I&#39;ve came across a problem, this thread keeps locking the map while the other threads just sit and watch, unless I put the thread to sleep for a small time.\r\n\r\nCan you help me understand what is happening?\r\n\r\nThank you, and here&#39;s the Client Code:\r\n\r\n```\r\npublic class Client {\r\n\r\n    private static class Entry{\r\n        private final Deque&lt;Frame&gt; queue = new ArrayDeque&lt;&gt;();\r\n        private final Condition cond;\r\n\r\n        public Entry(ReentrantLock lock){ cond = lock.newCondition(); }\r\n\r\n        public void addMsg(Frame frame){\r\n            queue.add(frame);\r\n        }\r\n\r\n        public Frame getMsg(){\r\n            return queue.poll();\r\n        }\r\n\r\n        public Condition getCond(){\r\n            return cond;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Entry{&quot; +\r\n                    &quot;queue=&quot; + queue +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    private static class Demultiplexer {\r\n        private TaggedConnection tc;\r\n        private IOException ioe            = null;\r\n        private boolean keepDemultiplexing = true;\r\n        private Map&lt;Integer, Entry&gt; queues = new HashMap&lt;&gt;();\r\n        private ReentrantLock rtlock       = new ReentrantLock();\r\n\r\n        public Demultiplexer(TaggedConnection tc) throws IOException {\r\n            this.tc = tc;\r\n        }\r\n\r\n        public void start() {\r\n\r\n            Thread demultiplexingThread = new Thread(() -&gt; {\r\n                while (keepDemultiplexing) {\r\n                    try {\r\n                        rtlock.lock();\r\n\r\n                        //Receive frame\r\n                        Frame frame = tc.receive();\r\n\r\n                        if(frame != null) {\r\n                            //Get entry\r\n                            int number = frame.getNumber();\r\n                            Entry entry = queues.get(number);\r\n\r\n                            //Ignores messages without a corresponding entry\r\n                            if (entry != null) {\r\n                                entry.addMsg(frame);\r\n                                entry.getCond().signal();\r\n                            }\r\n                        }\r\n                    } catch (IOException ioe) {\r\n                        this.ioe = ioe;\r\n                        keepDemultiplexing = false;\r\n                        queues.values().forEach( entry -&gt; entry.getCond().signal() );\r\n                    } finally { rtlock.unlock(); }\r\n\r\n                    //TODO - why do i need this sleep, so that the other threads can lock?\r\n                    try { Thread.sleep(10); }\r\n                    catch (InterruptedException ignored) {}\r\n                }\r\n\r\n                try { tc.close(); }\r\n                catch (IOException ioe) { this.ioe = ioe; }\r\n            });\r\n\r\n            demultiplexingThread.start();\r\n        }\r\n\r\n        public Frame receive(int number) throws IOException {\r\n            Frame frame = null;\r\n\r\n            try {\r\n                rtlock.lock();\r\n\r\n                Entry entry = queues.get(number);\r\n\r\n                //Entry has to be created before expecting a receive\r\n                if (entry != null) {\r\n                    while ((frame = entry.getMsg()) == null) {\r\n                        entry.getCond().await();\r\n                        if (ioe != null) { throw ioe; }\r\n                    }\r\n                }\r\n            } catch (InterruptedException ignored) {\r\n            } finally { rtlock.unlock(); }\r\n\r\n            return frame;\r\n        }\r\n\r\n        public void send(Frame frame, boolean oneWay) throws IOException {\r\n\r\n            if (frame == null) throw new IllegalArgumentException();\r\n\r\n            int number = frame.getNumber();\r\n\r\n            try {\r\n                rtlock.lock();\r\n\r\n                //Verifies the existence of the entry needed to receive the answers\r\n                if (!oneWay) {\r\n                    Entry entry = queues.get(number);\r\n                    if (entry == null) {\r\n                        entry = new Entry(rtlock);\r\n                        queues.put(number, entry);\r\n                    }\r\n                }\r\n\r\n                tc.send(frame);\r\n\r\n            } finally { rtlock.unlock(); }\r\n        }\r\n\r\n        public void finishedReceivingMessages(int number){\r\n            try{\r\n                rtlock.lock();\r\n                queues.remove(number);\r\n            }finally { rtlock.unlock(); }\r\n        }\r\n\r\n        public void close() {\r\n            keepDemultiplexing = false;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Socket s = new Socket(&quot;localhost&quot;, 12345);\r\n        s.setSoTimeout(100);\r\n        Demultiplexer m = new Demultiplexer(new TaggedConnection(s));\r\n\r\n        Thread[] threads = {\r\n\r\n                new Thread(() -&gt; {\r\n                    try  {\r\n                        // send request\r\n                        m.send(new Frame(0,1, &quot;Ola&quot;.getBytes()),false);\r\n                        Thread.sleep(100);\r\n                        // get reply\r\n                        Frame frame = m.receive(0);\r\n                        System.out.println(&quot;(1) Reply: &quot; + new String(frame.getData()));\r\n                        m.finishedReceivingMessages(0);\r\n                    }  catch (Exception ignored) {}\r\n                }),\r\n\r\n                new Thread(() -&gt; {\r\n                    try  {\r\n                        // send request\r\n                        m.send(new Frame(1,3, &quot;Hello&quot;.getBytes()),false);\r\n                        Thread.sleep(100);\r\n                        // get reply\r\n                        Frame frame = m.receive(1);\r\n                        System.out.println(&quot;(2) Reply: &quot; + new String(frame.getData()));\r\n                        m.finishedReceivingMessages(1);\r\n                    }  catch (Exception ignored) {}\r\n                }),\r\n\r\n                new Thread(() -&gt; {\r\n                    try  {\r\n                        // One-way\r\n                        m.send(new Frame(2,0, &quot;:-p&quot;.getBytes()),true);\r\n                    }  catch (Exception ignored) {}\r\n                }),\r\n\r\n                new Thread(() -&gt; {\r\n                    try  {\r\n                        // Get stream of messages until empty msg\r\n                        m.send(new Frame(3,2, &quot;ABCDE&quot;.getBytes()),false);\r\n                        for (;;) {\r\n                            Frame frame = m.receive(3);\r\n                            if (frame.getData().length == 0)\r\n                                break;\r\n                            System.out.println(&quot;(4) From stream: &quot; + new String(frame.getData()));\r\n                        }\r\n                        m.finishedReceivingMessages(3);\r\n                    } catch (Exception ignored) {}\r\n                }),\r\n\r\n                new Thread(() -&gt; {\r\n                    try  {\r\n                        // Get stream of messages until empty msg\r\n                        m.send(new Frame(4,4, &quot;123&quot;.getBytes()),false);\r\n                        for (;;) {\r\n                            Frame frame = m.receive(4);\r\n                            if (frame.getData().length == 0)\r\n                                break;\r\n                            System.out.println(&quot;(5) From stream: &quot; + new String(frame.getData()));\r\n                        }\r\n                        m.finishedReceivingMessages(4);\r\n                    } catch (Exception ignored) {}\r\n                })\r\n\r\n        };\r\n\r\n        m.start();\r\n        for (Thread t: threads) t.start();\r\n        for (Thread t: threads) t.join();\r\n        m.close();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class TaggedConnection implements AutoCloseable {\r\n    private Socket socket;\r\n    private DataOutputStream dos;\r\n    private DataInputStream dis;\r\n    private ReentrantLock rLock = new ReentrantLock();\r\n    private ReentrantLock wLock = new ReentrantLock();\r\n\r\n    public TaggedConnection(Socket socket) throws IOException {\r\n        this.socket = socket;\r\n        this.dos    = new DataOutputStream(socket.getOutputStream());\r\n        this.dis    = new DataInputStream(socket.getInputStream());\r\n    }\r\n\r\n    public void send(Frame frame) throws IOException {\r\n        send(frame.getNumber(), frame.getTag(),frame.getData());\r\n    }\r\n\r\n    public void send(int number, int tag, byte[] data) throws IOException {\r\n        wLock.lock();\r\n        try {\r\n            dos.writeInt(number);\r\n            dos.writeInt(tag);\r\n            dos.writeInt(data.length);\r\n            dos.write(data);\r\n            dos.flush();\r\n        } finally { wLock.unlock(); }\r\n    }\r\n\r\n    public Frame receive() throws IOException {\r\n        int number, tag, dataSize;\r\n        byte[] data;\r\n\r\n        try{\r\n            rLock.lock();\r\n            number   = dis.readInt();\r\n            tag      = dis.readInt();\r\n            dataSize = dis.readInt();\r\n            data     = new byte[dataSize];\r\n            dis.readFully(data);\r\n        } catch (SocketTimeoutException ste){ return null;\r\n        } finally { rLock.unlock(); }\r\n\r\n        return new Frame(number, tag, data);\r\n    }\r\n\r\n    public void close() throws IOException {\r\n        socket.shutdownInput();\r\n        socket.shutdownOutput();\r\n        socket.close();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Frame {\r\n    private final int number;\r\n    private final int tag;\r\n    private final byte[] data;\r\n\r\n    public Frame(int number, int tag, byte[] data) {\r\n        this.number = number; this.tag = tag; this.data = data;\r\n    }\r\n\r\n    public int getNumber() {\r\n        return number;\r\n    }\r\n\r\n    public int getTag() {\r\n        return tag;\r\n    }\r\n\r\n    public byte[] getData() {\r\n        return data.clone();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Why does the same thread keeps locking (reentrant lock) unless I use a sleep?","body":"<p>So, in the code below I'm trying to code a simple client with a demultiplexer.</p>\n<p>I have a thread responsible for receiving and storing in queues all TCP packets. This thread is obviously in a loop, where it locks the map that contains the queues, stores the packet in the correct queue and signals the thread waiting for the packet, and then unlocks the map. But I've came across a problem, this thread keeps locking the map while the other threads just sit and watch, unless I put the thread to sleep for a small time.</p>\n<p>Can you help me understand what is happening?</p>\n<p>Thank you, and here's the Client Code:</p>\n<pre><code>public class Client {\n\n    private static class Entry{\n        private final Deque&lt;Frame&gt; queue = new ArrayDeque&lt;&gt;();\n        private final Condition cond;\n\n        public Entry(ReentrantLock lock){ cond = lock.newCondition(); }\n\n        public void addMsg(Frame frame){\n            queue.add(frame);\n        }\n\n        public Frame getMsg(){\n            return queue.poll();\n        }\n\n        public Condition getCond(){\n            return cond;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Entry{&quot; +\n                    &quot;queue=&quot; + queue +\n                    '}';\n        }\n    }\n\n    private static class Demultiplexer {\n        private TaggedConnection tc;\n        private IOException ioe            = null;\n        private boolean keepDemultiplexing = true;\n        private Map&lt;Integer, Entry&gt; queues = new HashMap&lt;&gt;();\n        private ReentrantLock rtlock       = new ReentrantLock();\n\n        public Demultiplexer(TaggedConnection tc) throws IOException {\n            this.tc = tc;\n        }\n\n        public void start() {\n\n            Thread demultiplexingThread = new Thread(() -&gt; {\n                while (keepDemultiplexing) {\n                    try {\n                        rtlock.lock();\n\n                        //Receive frame\n                        Frame frame = tc.receive();\n\n                        if(frame != null) {\n                            //Get entry\n                            int number = frame.getNumber();\n                            Entry entry = queues.get(number);\n\n                            //Ignores messages without a corresponding entry\n                            if (entry != null) {\n                                entry.addMsg(frame);\n                                entry.getCond().signal();\n                            }\n                        }\n                    } catch (IOException ioe) {\n                        this.ioe = ioe;\n                        keepDemultiplexing = false;\n                        queues.values().forEach( entry -&gt; entry.getCond().signal() );\n                    } finally { rtlock.unlock(); }\n\n                    //TODO - why do i need this sleep, so that the other threads can lock?\n                    try { Thread.sleep(10); }\n                    catch (InterruptedException ignored) {}\n                }\n\n                try { tc.close(); }\n                catch (IOException ioe) { this.ioe = ioe; }\n            });\n\n            demultiplexingThread.start();\n        }\n\n        public Frame receive(int number) throws IOException {\n            Frame frame = null;\n\n            try {\n                rtlock.lock();\n\n                Entry entry = queues.get(number);\n\n                //Entry has to be created before expecting a receive\n                if (entry != null) {\n                    while ((frame = entry.getMsg()) == null) {\n                        entry.getCond().await();\n                        if (ioe != null) { throw ioe; }\n                    }\n                }\n            } catch (InterruptedException ignored) {\n            } finally { rtlock.unlock(); }\n\n            return frame;\n        }\n\n        public void send(Frame frame, boolean oneWay) throws IOException {\n\n            if (frame == null) throw new IllegalArgumentException();\n\n            int number = frame.getNumber();\n\n            try {\n                rtlock.lock();\n\n                //Verifies the existence of the entry needed to receive the answers\n                if (!oneWay) {\n                    Entry entry = queues.get(number);\n                    if (entry == null) {\n                        entry = new Entry(rtlock);\n                        queues.put(number, entry);\n                    }\n                }\n\n                tc.send(frame);\n\n            } finally { rtlock.unlock(); }\n        }\n\n        public void finishedReceivingMessages(int number){\n            try{\n                rtlock.lock();\n                queues.remove(number);\n            }finally { rtlock.unlock(); }\n        }\n\n        public void close() {\n            keepDemultiplexing = false;\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        Socket s = new Socket(&quot;localhost&quot;, 12345);\n        s.setSoTimeout(100);\n        Demultiplexer m = new Demultiplexer(new TaggedConnection(s));\n\n        Thread[] threads = {\n\n                new Thread(() -&gt; {\n                    try  {\n                        // send request\n                        m.send(new Frame(0,1, &quot;Ola&quot;.getBytes()),false);\n                        Thread.sleep(100);\n                        // get reply\n                        Frame frame = m.receive(0);\n                        System.out.println(&quot;(1) Reply: &quot; + new String(frame.getData()));\n                        m.finishedReceivingMessages(0);\n                    }  catch (Exception ignored) {}\n                }),\n\n                new Thread(() -&gt; {\n                    try  {\n                        // send request\n                        m.send(new Frame(1,3, &quot;Hello&quot;.getBytes()),false);\n                        Thread.sleep(100);\n                        // get reply\n                        Frame frame = m.receive(1);\n                        System.out.println(&quot;(2) Reply: &quot; + new String(frame.getData()));\n                        m.finishedReceivingMessages(1);\n                    }  catch (Exception ignored) {}\n                }),\n\n                new Thread(() -&gt; {\n                    try  {\n                        // One-way\n                        m.send(new Frame(2,0, &quot;:-p&quot;.getBytes()),true);\n                    }  catch (Exception ignored) {}\n                }),\n\n                new Thread(() -&gt; {\n                    try  {\n                        // Get stream of messages until empty msg\n                        m.send(new Frame(3,2, &quot;ABCDE&quot;.getBytes()),false);\n                        for (;;) {\n                            Frame frame = m.receive(3);\n                            if (frame.getData().length == 0)\n                                break;\n                            System.out.println(&quot;(4) From stream: &quot; + new String(frame.getData()));\n                        }\n                        m.finishedReceivingMessages(3);\n                    } catch (Exception ignored) {}\n                }),\n\n                new Thread(() -&gt; {\n                    try  {\n                        // Get stream of messages until empty msg\n                        m.send(new Frame(4,4, &quot;123&quot;.getBytes()),false);\n                        for (;;) {\n                            Frame frame = m.receive(4);\n                            if (frame.getData().length == 0)\n                                break;\n                            System.out.println(&quot;(5) From stream: &quot; + new String(frame.getData()));\n                        }\n                        m.finishedReceivingMessages(4);\n                    } catch (Exception ignored) {}\n                })\n\n        };\n\n        m.start();\n        for (Thread t: threads) t.start();\n        for (Thread t: threads) t.join();\n        m.close();\n    }\n}\n</code></pre>\n<pre><code>public class TaggedConnection implements AutoCloseable {\n    private Socket socket;\n    private DataOutputStream dos;\n    private DataInputStream dis;\n    private ReentrantLock rLock = new ReentrantLock();\n    private ReentrantLock wLock = new ReentrantLock();\n\n    public TaggedConnection(Socket socket) throws IOException {\n        this.socket = socket;\n        this.dos    = new DataOutputStream(socket.getOutputStream());\n        this.dis    = new DataInputStream(socket.getInputStream());\n    }\n\n    public void send(Frame frame) throws IOException {\n        send(frame.getNumber(), frame.getTag(),frame.getData());\n    }\n\n    public void send(int number, int tag, byte[] data) throws IOException {\n        wLock.lock();\n        try {\n            dos.writeInt(number);\n            dos.writeInt(tag);\n            dos.writeInt(data.length);\n            dos.write(data);\n            dos.flush();\n        } finally { wLock.unlock(); }\n    }\n\n    public Frame receive() throws IOException {\n        int number, tag, dataSize;\n        byte[] data;\n\n        try{\n            rLock.lock();\n            number   = dis.readInt();\n            tag      = dis.readInt();\n            dataSize = dis.readInt();\n            data     = new byte[dataSize];\n            dis.readFully(data);\n        } catch (SocketTimeoutException ste){ return null;\n        } finally { rLock.unlock(); }\n\n        return new Frame(number, tag, data);\n    }\n\n    public void close() throws IOException {\n        socket.shutdownInput();\n        socket.shutdownOutput();\n        socket.close();\n    }\n}\n</code></pre>\n<pre><code>public class Frame {\n    private final int number;\n    private final int tag;\n    private final byte[] data;\n\n    public Frame(int number, int tag, byte[] data) {\n        this.number = number; this.tag = tag; this.data = data;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public int getTag() {\n        return tag;\n    }\n\n    public byte[] getData() {\n        return data.clone();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23798055,"reputation":1,"user_id":17808647,"display_name":"Appleandroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641051077,"creation_date":1641051077,"answer_id":70549841,"question_id":70549264,"body_markdown":"Thanks to the people over at the [official Slay the Spire Discord][1] for the help.\r\n\r\nFor others who are experiencing the same issue, go to line 439 in DefaultMod.java\r\n```\r\n           And change this to &quot;YourModID&quot;\r\n                       V\r\nnew AutoAdd(&quot;${project.artifactId}&quot;) // ${project.artifactId}\r\n```\r\nThe comments on this part were a bit misleading, I thought I have to change it from &quot;DefaultMod&quot; to &quot;${project.artifactId}&quot;.\r\n\r\nAnd the other 2 warning messages are normal behavior, they can be ignored.\r\n\r\n  [1]: https://discord.com/invite/slaythespire","title":"Slay the Spire Default Mod Base: Game Crashed When Trying to Play as The Default","body":"<p>Thanks to the people over at the <a href=\"https://discord.com/invite/slaythespire\" rel=\"nofollow noreferrer\">official Slay the Spire Discord</a> for the help.</p>\n<p>For others who are experiencing the same issue, go to line 439 in DefaultMod.java</p>\n<pre><code>           And change this to &quot;YourModID&quot;\n                       V\nnew AutoAdd(&quot;${project.artifactId}&quot;) // ${project.artifactId}\n</code></pre>\n<p>The comments on this part were a bit misleading, I thought I have to change it from &quot;DefaultMod&quot; to &quot;${project.artifactId}&quot;.</p>\n<p>And the other 2 warning messages are normal behavior, they can be ignored.</p>\n"}],"owner":{"account_id":23798055,"reputation":1,"user_id":17808647,"display_name":"Appleandroid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70549841,"answer_count":1,"score":0,"last_activity_date":1641051077,"creation_date":1641044729,"question_id":70549264,"body_markdown":"I&#39;m following the [Default Mod Base][1] tutorial and I stumbled on a problem. The game crashed when I try to start a new run as the Default:\r\n```\r\nGame crashed.\r\nVersion Info:\r\n - Java version (1.8.0_312)\r\n - Slay the Spire (12-22-2020)\r\n - ModTheSpire (3.23.4)\r\nMod list:\r\n - basemod (5.35.1)\r\n - stslib (1.24.1)\r\n - TestMod (0.0.1)\r\n\r\nCause:\r\njava.lang.NullPointerException\r\n\tat com.megacrit.cardcrawl.characters.AbstractPlayer.initializeStarterDeck(AbstractPlayer.java:450)\r\n\tat com.megacrit.cardcrawl.dungeons.AbstractDungeon.&lt;init&gt;(AbstractDungeon.java:362)\r\n\tat com.megacrit.cardcrawl.dungeons.Exordium.&lt;init&gt;(Exordium.java:50)\r\n\tat com.megacrit.cardcrawl.core.CardCrawlGame.getDungeon(CardCrawlGame.java:1379)\r\n\tat com.megacrit.cardcrawl.core.CardCrawlGame.update(CardCrawlGame.java:861)\r\n\tat com.megacrit.cardcrawl.core.CardCrawlGame.render(CardCrawlGame.java:419)\r\n\tat com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop(LwjglApplication.java:225)\r\n\tat com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:126)Disconnected from the target VM, address: &#39;127.0.0.1:51595&#39;, transport: &#39;socket&#39;\r\nSetting breakpad minidump AppID = 646570\r\nSteam_SetMinidumpSteamID:  Caching Steam ID:  -cut for privacy sake- [API loaded no]\r\n```\r\nBecause of this, I used BaseMod&#39;s debug console to see if I can manually add the cards, relics, potions etc.\r\n\r\nThe things from the DefaultMod that work:\r\n- All 4 relics\r\n- The potion *(The GitHub page stated the mod has 1 character specific potion and 1 non-character specific potion, but I see only the non-character specific potion in the potion json file)*\r\n- None of the powers\r\n- Not sure how to add/test orbs\r\n- The event\r\n- And none of the cards\r\n\r\n\r\n\r\nAlso, these messages showed up when debugging ModTheSpire through IntelliJ.\r\n\r\nThis one is during the ModTheSpire mod selection window:\r\n```\r\nsrc\\clientdll\\steamclient.cpp (397) : Couldn&#39;t fit all the environmental variables in allotted space\r\nsubbed items: 7\r\nresult: OK\r\nnumResultsReturned: 7\r\ntotalMatchingResults: 7\r\nisCachedData: false\r\nSetting breakpad minidump AppID = 646570\r\nSteam_SetMinidumpSteamID:  Caching Steam ID:  -cut for privacy sake- [API loaded no]\r\n```\r\n\r\nAnd this one is during the patching process (I think?), it&#39;s a window that shows what ModTheSpire has logged to the console before starting the game:\r\n```\r\n[Thread-5] WARN io.sentry.DefaultSentryClientFactory - No &#39;stacktrace.app.packages&#39; was configured, this option is highly recommended as it affects stacktrace grouping and display on Sentry. See documentation: https://docs.sentry.io/clients/java/config/#in-application-stack-frames\r\n```\r\nThank you for your help.\r\n\r\n  [1]: https://github.com/Alchyr/StS-DefaultModBase","title":"Slay the Spire Default Mod Base: Game Crashed When Trying to Play as The Default","body":"<p>I'm following the <a href=\"https://github.com/Alchyr/StS-DefaultModBase\" rel=\"nofollow noreferrer\">Default Mod Base</a> tutorial and I stumbled on a problem. The game crashed when I try to start a new run as the Default:</p>\n<pre><code>Game crashed.\nVersion Info:\n - Java version (1.8.0_312)\n - Slay the Spire (12-22-2020)\n - ModTheSpire (3.23.4)\nMod list:\n - basemod (5.35.1)\n - stslib (1.24.1)\n - TestMod (0.0.1)\n\nCause:\njava.lang.NullPointerException\n    at com.megacrit.cardcrawl.characters.AbstractPlayer.initializeStarterDeck(AbstractPlayer.java:450)\n    at com.megacrit.cardcrawl.dungeons.AbstractDungeon.&lt;init&gt;(AbstractDungeon.java:362)\n    at com.megacrit.cardcrawl.dungeons.Exordium.&lt;init&gt;(Exordium.java:50)\n    at com.megacrit.cardcrawl.core.CardCrawlGame.getDungeon(CardCrawlGame.java:1379)\n    at com.megacrit.cardcrawl.core.CardCrawlGame.update(CardCrawlGame.java:861)\n    at com.megacrit.cardcrawl.core.CardCrawlGame.render(CardCrawlGame.java:419)\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop(LwjglApplication.java:225)\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:126)Disconnected from the target VM, address: '127.0.0.1:51595', transport: 'socket'\nSetting breakpad minidump AppID = 646570\nSteam_SetMinidumpSteamID:  Caching Steam ID:  -cut for privacy sake- [API loaded no]\n</code></pre>\n<p>Because of this, I used BaseMod's debug console to see if I can manually add the cards, relics, potions etc.</p>\n<p>The things from the DefaultMod that work:</p>\n<ul>\n<li>All 4 relics</li>\n<li>The potion <em>(The GitHub page stated the mod has 1 character specific potion and 1 non-character specific potion, but I see only the non-character specific potion in the potion json file)</em></li>\n<li>None of the powers</li>\n<li>Not sure how to add/test orbs</li>\n<li>The event</li>\n<li>And none of the cards</li>\n</ul>\n<p>Also, these messages showed up when debugging ModTheSpire through IntelliJ.</p>\n<p>This one is during the ModTheSpire mod selection window:</p>\n<pre><code>src\\clientdll\\steamclient.cpp (397) : Couldn't fit all the environmental variables in allotted space\nsubbed items: 7\nresult: OK\nnumResultsReturned: 7\ntotalMatchingResults: 7\nisCachedData: false\nSetting breakpad minidump AppID = 646570\nSteam_SetMinidumpSteamID:  Caching Steam ID:  -cut for privacy sake- [API loaded no]\n</code></pre>\n<p>And this one is during the patching process (I think?), it's a window that shows what ModTheSpire has logged to the console before starting the game:</p>\n<pre><code>[Thread-5] WARN io.sentry.DefaultSentryClientFactory - No 'stacktrace.app.packages' was configured, this option is highly recommended as it affects stacktrace grouping and display on Sentry. See documentation: https://docs.sentry.io/clients/java/config/#in-application-stack-frames\n</code></pre>\n<p>Thank you for your help.</p>\n"},{"tags":["java","raspberry-pi","kiosk-mode"],"answers":[{"tags":[],"owner":{"account_id":1880347,"reputation":161,"user_id":1700704,"display_name":"Derecho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396034503,"creation_date":1396034503,"answer_id":22721442,"question_id":22721344,"body_markdown":"There are multiple ways how you could start an application, such as that java program, rather than a desktop environment.\r\n\r\nOne of the possibilities would be to follow the steps under *Run a Script at Login* on this website:\r\nhttp://www.opentechguides.com/how-to/article/raspberry-pi/5/raspberry-pi-auto-start.html\r\n\r\nYou may want to take a look at *Auto Login* as well.","title":"Raspberry Pi &quot;Kiosk&quot; mode","body":"<p>There are multiple ways how you could start an application, such as that java program, rather than a desktop environment.</p>\n\n<p>One of the possibilities would be to follow the steps under <em>Run a Script at Login</em> on this website:\n<a href=\"http://www.opentechguides.com/how-to/article/raspberry-pi/5/raspberry-pi-auto-start.html\" rel=\"nofollow\">http://www.opentechguides.com/how-to/article/raspberry-pi/5/raspberry-pi-auto-start.html</a></p>\n\n<p>You may want to take a look at <em>Auto Login</em> as well.</p>\n"},{"tags":[],"owner":{"account_id":3294993,"reputation":3172,"user_id":2772465,"display_name":"6EQUJ5"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396102085,"creation_date":1396100931,"answer_id":22731914,"question_id":22721344,"body_markdown":"You need to first setup autologin for the pi user as described in the first answer.\r\n\r\nIf you are running raspbian with the default LXDE session you will need to change the file `/etc/xdg/lxsession/LXDE/autostart`.  Doing it this way means you can still use the autologin feature.  By default this runs `lxpanel`, `pcmanfm` and `xscreensaver`, which together comprise the desktop I assume you don&#39;t want to run.\r\n\r\nSo you can put your program in that file and remove those entries, such that\r\n\r\n    @lxpanel --profile LXDE\r\n    @pcmanfm --desktop --profile LXDE\r\n    @xscreensaver -no-splash\r\n\r\nBecomes instead\r\n\r\n    @/path/to/your/program/launcher_script\r\n\r\nNote that this affects all user accounts, but you need to do it because otherwise the user you setup to autologin will have those programs running.\r\n\r\nRather than running your kiosk program directly I would run a script that runs your kiosk app, so you can deal with error handling and other setup tasks.\r\n\r\nFor example, you may also want to disable power management so that your screen doesn&#39;t turn itself off. To do this you will probably want to run the following first, to disable DPMS power management and screensaver activation and blanking:\r\n\r\n    xset -dpms\r\n    xset s off\r\n    xset -s noblank\r\n\r\nYou would then run your actual Java code in a &#39;while true&#39; shell loop to restart it in case it crashes, but you might want to have some logic to detect a fast restart loop...","title":"Raspberry Pi &quot;Kiosk&quot; mode","body":"<p>You need to first setup autologin for the pi user as described in the first answer.</p>\n\n<p>If you are running raspbian with the default LXDE session you will need to change the file <code>/etc/xdg/lxsession/LXDE/autostart</code>.  Doing it this way means you can still use the autologin feature.  By default this runs <code>lxpanel</code>, <code>pcmanfm</code> and <code>xscreensaver</code>, which together comprise the desktop I assume you don't want to run.</p>\n\n<p>So you can put your program in that file and remove those entries, such that</p>\n\n<pre><code>@lxpanel --profile LXDE\n@pcmanfm --desktop --profile LXDE\n@xscreensaver -no-splash\n</code></pre>\n\n<p>Becomes instead</p>\n\n<pre><code>@/path/to/your/program/launcher_script\n</code></pre>\n\n<p>Note that this affects all user accounts, but you need to do it because otherwise the user you setup to autologin will have those programs running.</p>\n\n<p>Rather than running your kiosk program directly I would run a script that runs your kiosk app, so you can deal with error handling and other setup tasks.</p>\n\n<p>For example, you may also want to disable power management so that your screen doesn't turn itself off. To do this you will probably want to run the following first, to disable DPMS power management and screensaver activation and blanking:</p>\n\n<pre><code>xset -dpms\nxset s off\nxset -s noblank\n</code></pre>\n\n<p>You would then run your actual Java code in a 'while true' shell loop to restart it in case it crashes, but you might want to have some logic to detect a fast restart loop...</p>\n"}],"owner":{"account_id":1905098,"reputation":695,"user_id":1720132,"accept_rate":19,"display_name":"Maxii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641051024,"creation_date":1396034197,"question_id":22721344,"body_markdown":"Is there a way to set up a raspberry pi in a sort of &quot;kiosk&quot; mode where only the gui of one java program is automatically started after login? ","title":"Raspberry Pi &quot;Kiosk&quot; mode","body":"<p>Is there a way to set up a raspberry pi in a sort of \"kiosk\" mode where only the gui of one java program is automatically started after login? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1562603839,"post_id":56939146,"comment_id":100418626,"body_markdown":"You can test the value of j and then print  -  if it is the correct position.","body":"You can test the value of j and then print  -  if it is the correct position."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1562604235,"creation_date":1562603979,"answer_id":56939250,"question_id":56939146,"body_markdown":"The hyphens are printed after an odd number of stars.\r\n\r\nAfter one star in line one.\r\n\r\nAfter three stars in line two.\r\n\r\nAfter five stars in line three.\r\n\r\nand so on..\r\n\r\n\r\nWe can find when to print hyphen from the outer loop variable `i`.\r\n\r\nHence, you can see if the value of `j` is equal to `2i` and print hyphen if true.\r\n\r\n\r\n\r\n    for (int i = 0; i &lt; 6; i++)\r\n    {\r\n        for (int j = 0; j &lt;= 11; j++)\r\n        {\r\n            System.out.print(&quot;*&quot;);\r\n            if (j == i * 2) {\r\n                System.out.print(&quot; - &quot;);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }","title":"How to print star pattern in java?","body":"<p>The hyphens are printed after an odd number of stars.</p>\n\n<p>After one star in line one.</p>\n\n<p>After three stars in line two.</p>\n\n<p>After five stars in line three.</p>\n\n<p>and so on..</p>\n\n<p>We can find when to print hyphen from the outer loop variable <code>i</code>.</p>\n\n<p>Hence, you can see if the value of <code>j</code> is equal to <code>2i</code> and print hyphen if true.</p>\n\n<pre><code>for (int i = 0; i &lt; 6; i++)\n{\n    for (int j = 0; j &lt;= 11; j++)\n    {\n        System.out.print(\"*\");\n        if (j == i * 2) {\n            System.out.print(\" - \");\n        }\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562604438,"creation_date":1562604438,"answer_id":56939371,"question_id":56939146,"body_markdown":"What about a very simple approach: just shift original string 2 positions right:\r\n\r\n    public static void printStarPattern() {\r\n        String str = &quot;* - ***********&quot;;\r\n        int length = str.length();\r\n        int offs = 2;\r\n\r\n        for (int row = 0; row &lt; 6; row++) {\r\n            System.out.println(str);\r\n            // rotate string to &#39;offs&#39; positions right\r\n            str = str.substring(str.length() - offs) + str.substring(0, length - offs);\r\n        }\r\n    }","title":"How to print star pattern in java?","body":"<p>What about a very simple approach: just shift original string 2 positions right:</p>\n\n<pre><code>public static void printStarPattern() {\n    String str = \"* - ***********\";\n    int length = str.length();\n    int offs = 2;\n\n    for (int row = 0; row &lt; 6; row++) {\n        System.out.println(str);\n        // rotate string to 'offs' positions right\n        str = str.substring(str.length() - offs) + str.substring(0, length - offs);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14220411,"reputation":775,"user_id":10272902,"display_name":"Sachin Muthumala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562604447,"creation_date":1562604447,"answer_id":56939373,"question_id":56939146,"body_markdown":"Try this one. you have to declare new variable &quot;count = 0&quot; and iterate by 2 in outer loop. \r\n\r\n    public static void main(String[] args) {\r\n        int count = 1;\r\n        for(int i = 0; i &lt; 6; i++){\r\n            for(int j =0 ; j&lt;13; j++){\r\n                if(count==j){\r\n                    System.out.print(&quot; - &quot;);\r\n                }\r\n                else\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            count = count+2;\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nOutput : \r\n\r\n    * - ***********\r\n    *** - *********\r\n    ***** - *******\r\n    ******* - *****\r\n    ********* - ***\r\n    *********** - *","title":"How to print star pattern in java?","body":"<p>Try this one. you have to declare new variable \"count = 0\" and iterate by 2 in outer loop. </p>\n\n<pre><code>public static void main(String[] args) {\n    int count = 1;\n    for(int i = 0; i &lt; 6; i++){\n        for(int j =0 ; j&lt;13; j++){\n            if(count==j){\n                System.out.print(\" - \");\n            }\n            else\n                System.out.print(\"*\");\n        }\n        count = count+2;\n        System.out.println(\"\");\n    }\n}\n</code></pre>\n\n<p>Output : </p>\n\n<pre><code>* - ***********\n*** - *********\n***** - *******\n******* - *****\n********* - ***\n*********** - *\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21055194,"reputation":96,"user_id":15474635,"display_name":"Deepesh Saraswat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641051021,"creation_date":1641051021,"answer_id":70549832,"question_id":56939146,"body_markdown":"    public class RectangleHyphen {\r\n    public static void main(String[] args) {\r\n        for (int i = 0, c =1; i &lt; 6; i++,c+=2) {\r\n            for (int j = 0; j &lt; 14; j++) {\r\n              if (j==c) {\r\n                  System.out.print(&quot;_&quot;);\r\n              }else\r\n                  System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n\r\n","title":"How to print star pattern in java?","body":"<pre><code>public class RectangleHyphen {\npublic static void main(String[] args) {\n    for (int i = 0, c =1; i &lt; 6; i++,c+=2) {\n        for (int j = 0; j &lt; 14; j++) {\n          if (j==c) {\n              System.out.print(&quot;_&quot;);\n          }else\n              System.out.print(&quot;*&quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16279160,"reputation":21,"user_id":11755617,"display_name":"Kieron hong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1333,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56939250,"answer_count":4,"score":1,"last_activity_date":1641051021,"creation_date":1562603492,"question_id":56939146,"body_markdown":"how to print following star pattern using java?\r\n\r\n    * - ***********\r\n    *** - *********\r\n    ***** - *******\r\n    ******* - *****\r\n    ********* - ***\r\n    *********** - *\r\n\r\nI&#39;m new in java and I have try to print the rectangle loop but how to print the - inside the rectangle?\r\n\r\n\tpublic static void main(String[] args) {\r\n        for (int i = 0; i &lt; 6; i++)\r\n        {\r\n            for (int j = 0; j &lt;= 14; j++)\r\n            {\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }","title":"How to print star pattern in java?","body":"<p>how to print following star pattern using java?</p>\n\n<pre><code>* - ***********\n*** - *********\n***** - *******\n******* - *****\n********* - ***\n*********** - *\n</code></pre>\n\n<p>I'm new in java and I have try to print the rectangle loop but how to print the - inside the rectangle?</p>\n\n<pre><code>public static void main(String[] args) {\n    for (int i = 0; i &lt; 6; i++)\n    {\n        for (int j = 0; j &lt;= 14; j++)\n        {\n            System.out.print(\"*\");\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","intellij-idea"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1633169607,"post_id":69414617,"comment_id":122692396,"body_markdown":"https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html","body":"<a href=\"https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html\" rel=\"nofollow noreferrer\">docs.scala-lang.org/overviews/jdk-compatibility/overview.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user14676730"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641050976,"creation_date":1641050976,"answer_id":70549829,"question_id":69414617,"body_markdown":"I had the same issue and resolved it by unticking the &quot;Use compile server&quot; checkbox!\r\n\r\n\r\n[![Untick the &quot;Use compile server&quot; checkbox][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KgD5d.png","title":"How to solve &#39;Cannot start Scala compile server&#39; for Intellij Idea?","body":"<p>I had the same issue and resolved it by unticking the &quot;Use compile server&quot; checkbox!</p>\n<p><a href=\"https://i.stack.imgur.com/KgD5d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KgD5d.png\" alt=\"Untick the &quot;Use compile server&quot; checkbox\" /></a></p>\n"}],"owner":{"account_id":7983637,"reputation":11,"user_id":6023975,"display_name":"Nur Diana Madinah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641050976,"creation_date":1633156913,"question_id":69414617,"body_markdown":"I am new in using Scala and Intellij Idea. This error message occured after i update the new version of intellij idea Community. can anyone help me for this error? I&#39;ve been trying for a week by searching in here but the solution does not help. I&#39;m really don&#39;t know what should i do\r\n&gt; 2:35 PM\tCannot start Scala compile server: JDK for compiler process not found: Unexpected sdk type: &#39;IDEA JDK&#39; for sdk IntelliJ IDEA Community Edition IC-211.7142.45: version 16 (C:/Users/HP/AppData/Local/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5284.40)\r\n","title":"How to solve &#39;Cannot start Scala compile server&#39; for Intellij Idea?","body":"<p>I am new in using Scala and Intellij Idea. This error message occured after i update the new version of intellij idea Community. can anyone help me for this error? I've been trying for a week by searching in here but the solution does not help. I'm really don't know what should i do</p>\n<blockquote>\n<p>2:35 PM   Cannot start Scala compile server: JDK for compiler process not found: Unexpected sdk type: 'IDEA JDK' for sdk IntelliJ IDEA Community Edition IC-211.7142.45: version 16 (C:/Users/HP/AppData/Local/JetBrains/Toolbox/apps/IDEA-C/ch-0/212.5284.40)</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"score":0,"creation_date":1640988185,"post_id":70545888,"comment_id":124705153,"body_markdown":"Probably changing the applicationId might be sufficient, btw, it&#39;s not stuck, it&#39;s processing a lot of different files from your project. In huge code bases it may take up to 10 minutes (I had this experience on a 7700HQ, 16 GB of RAM) It looks frozen but everything&#39;s fine, give it some time and grab a cup of coffee","body":"Probably changing the applicationId might be sufficient, btw, it&#39;s not stuck, it&#39;s processing a lot of different files from your project. In huge code bases it may take up to 10 minutes (I had this experience on a 7700HQ, 16 GB of RAM) It looks frozen but everything&#39;s fine, give it some time and grab a cup of coffee"},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1640988333,"post_id":70545888,"comment_id":124705177,"body_markdown":"sir its a small project , and I waited for 1 hour also and android studio was completely stucked, secondly only changing applicationId wasn&#39;t sufficient as it was throwing errors","body":"sir its a small project , and I waited for 1 hour also and android studio was completely stucked, secondly only changing applicationId wasn&#39;t sufficient as it was throwing errors"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640988352,"post_id":70545888,"comment_id":124705181,"body_markdown":"Does this answer your question? [Rename package in Android Studio](https://stackoverflow.com/questions/16804093/rename-package-in-android-studio)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16804093/rename-package-in-android-studio\">Rename package in Android Studio</a>"},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1640988459,"post_id":70545888,"comment_id":124705202,"body_markdown":"nopes @hfontanez","body":"nopes @hfontanez"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640988798,"post_id":70545888,"comment_id":124705252,"body_markdown":"@TanmayAgarwal what is different? It sounds like the same problem to me. You may want to include in your post why the solution in that link does not work. Trust me, you will want to do this your question will be closed. I know this from recent personal experience. The more information on this post as to what have you tried the better.","body":"@TanmayAgarwal what is different? It sounds like the same problem to me. You may want to include in your post why the solution in that link does not work. Trust me, you will want to do this your question will be closed. I know this from recent personal experience. The more information on this post as to what have you tried the better."},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1640988920,"post_id":70545888,"comment_id":124705266,"body_markdown":"actually sir issue is, this is the simplest method when we change package name from here and i always do from here but this time i am getting these new options, so i want help, its not about my question, its easiest method to change package name which always works and this time not working so i was needing help.","body":"actually sir issue is, this is the simplest method when we change package name from here and i always do from here but this time i am getting these new options, so i want help, its not about my question, its easiest method to change package name which always works and this time not working so i was needing help."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640988945,"post_id":70545888,"comment_id":124705268,"body_markdown":"&quot;I waited for 1 hour also and android studio was completely stucked [sic]&quot; This may sound silly but, have you tried rebooting your computer?","body":"&quot;I waited for 1 hour also and android studio was completely stucked [sic]&quot; This may sound silly but, have you tried rebooting your computer?"},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1640989108,"post_id":70545888,"comment_id":124705294,"body_markdown":"sir i tried everything and still the issue occurs","body":"sir i tried everything and still the issue occurs"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1640991181,"post_id":70545888,"comment_id":124705580,"body_markdown":"I have experienced similar issues with Eclipse in my home computer. The SSD is old (2013) and every once in a while Eclipse hangs while doing the simplest of things (i.e. renaming a variable). No matter how long I wait for, I have to ultimately kill the task. When I restart Eclipse, the changes are not done. Then, when I least expect it, I can do the same tasks without issues. I am convinced this a problem with my system, and not with Eclipse. Perhaps your problem is similar to mine. You can try reinstalling Android Studio. You have nothing to lose but a little bit of time.","body":"I have experienced similar issues with Eclipse in my home computer. The SSD is old (2013) and every once in a while Eclipse hangs while doing the simplest of things (i.e. renaming a variable). No matter how long I wait for, I have to ultimately kill the task. When I restart Eclipse, the changes are not done. Then, when I least expect it, I can do the same tasks without issues. I am convinced this a problem with my system, and not with Eclipse. Perhaps your problem is similar to mine. You can try reinstalling Android Studio. You have nothing to lose but a little bit of time."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1640995176,"post_id":70545888,"comment_id":124706048,"body_markdown":"Maybe one of your dependencies has a package starting with `com.example` so it is telling you it cannot change those. Try going into one of your classes and renaming the package from the `package` name of the file and see if it gives you the option to change other files in the same package to the new one. This would allow you to change the complete package address, not the upper level `com.example` package, so it shouldn&#39;t have this conflict.","body":"Maybe one of your dependencies has a package starting with <code>com.example</code> so it is telling you it cannot change those. Try going into one of your classes and renaming the package from the <code>package</code> name of the file and see if it gives you the option to change other files in the same package to the new one. This would allow you to change the complete package address, not the upper level <code>com.example</code> package, so it shouldn&#39;t have this conflict."},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1641025067,"post_id":70545888,"comment_id":124708452,"body_markdown":"okay let me check that @Tenfour04","body":"okay let me check that @Tenfour04"},{"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"score":0,"creation_date":1641025265,"post_id":70545888,"comment_id":124708469,"body_markdown":"i tried but now also same issue @Tenfour04","body":"i tried but now also same issue @Tenfour04"}],"owner":{"account_id":19165804,"reputation":476,"user_id":14000547,"display_name":"Tanmay Agarwal"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641048707,"creation_date":1640987974,"question_id":70545888,"body_markdown":"I am trying to rename my app package because by mistake I set it as com.example.tanmayagarwalquix , so i want to change that &quot;example&quot; part to &quot;tanbruh&quot; and &quot;tanmayagarwalquix&quot; to &quot;tanmayagarwalquiz&quot; , so i right clicked on &quot;example&quot; and then clicked on refractor then rename but this time its showing some strange warning (unlike it always shows rename package or rename directory options) and when I click on rename all then tried typing tanbruh but android studio get stucked, i had tried many times this same issue occuring, i had tried changing from manifest , and build.gradle also still issue occurs, Has anyone encountered this and is able to help me?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nand when i clicked on rename all and change &quot;example&quot; to &quot;tanbruh&quot;, then android studio stucked and nothing happened :-\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/omyHg.png\r\n  [2]: https://i.stack.imgur.com/yFyW5.png\r\n  [3]: https://i.stack.imgur.com/QkX6M.png\r\n  [4]: https://i.stack.imgur.com/oiGoM.png\r\n\r\nthis question is different from suggested question because this is the easiest way to edit package name unlike copy pasting to a new package and this way of changing package name always works but i don&#39;t know why this time its not working, please help :)","title":"unable to change package name in android studio","body":"<p>I am trying to rename my app package because by mistake I set it as com.example.tanmayagarwalquix , so i want to change that &quot;example&quot; part to &quot;tanbruh&quot; and &quot;tanmayagarwalquix&quot; to &quot;tanmayagarwalquiz&quot; , so i right clicked on &quot;example&quot; and then clicked on refractor then rename but this time its showing some strange warning (unlike it always shows rename package or rename directory options) and when I click on rename all then tried typing tanbruh but android studio get stucked, i had tried many times this same issue occuring, i had tried changing from manifest , and build.gradle also still issue occurs, Has anyone encountered this and is able to help me?</p>\n<p><a href=\"https://i.stack.imgur.com/omyHg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/omyHg.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yFyW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yFyW5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QkX6M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QkX6M.png\" alt=\"enter image description here\" /></a></p>\n<p>and when i clicked on rename all and change &quot;example&quot; to &quot;tanbruh&quot;, then android studio stucked and nothing happened :-</p>\n<p><a href=\"https://i.stack.imgur.com/oiGoM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oiGoM.png\" alt=\"enter image description here\" /></a></p>\n<p>this question is different from suggested question because this is the easiest way to edit package name unlike copy pasting to a new package and this way of changing package name always works but i don't know why this time its not working, please help :)</p>\n"},{"tags":["java","spring-boot","docker","tomcat","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1640997424,"post_id":70546175,"comment_id":124706280,"body_markdown":"There&#39;s no port bindings because you&#39;re unnecessarily disabling Docker networking.  Remove the `network_mode: host` setting.","body":"There&#39;s no port bindings because you&#39;re unnecessarily disabling Docker networking.  Remove the <code>network_mode: host</code> setting."},{"owner":{"account_id":16461356,"reputation":23,"user_id":11892332,"display_name":"GMarsh"},"score":0,"creation_date":1641016335,"post_id":70546175,"comment_id":124707725,"body_markdown":"I removed network_mode and extra_hosts plus removed the export of DOCKER_HOST and was able to get the port binding working. I am still unable to access the tomcat container from the browser with localhost:8080","body":"I removed network_mode and extra_hosts plus removed the export of DOCKER_HOST and was able to get the port binding working. I am still unable to access the tomcat container from the browser with localhost:8080"},{"owner":{"account_id":16461356,"reputation":23,"user_id":11892332,"display_name":"GMarsh"},"score":0,"creation_date":1642526058,"post_id":70546175,"comment_id":125091902,"body_markdown":"In my application I need to access a MySQL DB located on the host.  Setting `network_mode: host` in the docker-compose.yaml file makes this possible.","body":"In my application I need to access a MySQL DB located on the host.  Setting <code>network_mode: host</code> in the docker-compose.yaml file makes this possible."},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1642529231,"post_id":70546175,"comment_id":125093173,"body_markdown":"That shouldn&#39;t be necessary; [From inside of a Docker container, how do I connect to the localhost of the machine?](https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach) describes several approaches that don&#39;t require host networking.  If you use `network_mode: host` to disable Docker networking then there are no port remappings; it&#39;s not possible to establish them and they won&#39;t be shown in `docker ps`.","body":"That shouldn&#39;t be necessary; <a href=\"https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach\">From inside of a Docker container, how do I connect to the localhost of the machine?</a> describes several approaches that don&#39;t require host networking.  If you use <code>network_mode: host</code> to disable Docker networking then there are no port remappings; it&#39;s not possible to establish them and they won&#39;t be shown in <code>docker ps</code>."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641048437,"creation_date":1640993805,"answer_id":70546238,"question_id":70546175,"body_markdown":"Although you indicated your `Dockerfile` is derived from a Tomcat 9 base image:\r\n\r\n```\r\nFROM tomcat:9-jdk8\r\n```\r\n\r\naccording to your logs it seems you are using Tomcat 10 instead:\r\n\r\n```\r\nServer version name:   Apache Tomcat/10.0.14\r\n```\r\n\r\nIn the later case, please, be aware that currently Spring doesn&#39;t support Tomcat 10 and the new `jakarta.*` namespace. As explained in  this [related SO question](https://stackoverflow.com/questions/70431951/spring-boot-2-x-on-tomcat-10-issue), there is an [open issue](https://github.com/spring-projects/spring-framework/issues/25354) for that.\r\n\r\nTo solve the problem, you can use a Tomcat 9 version based docker image.\r\n\r\nIf you are already using a Tomcat 9 version based docker image, then be sure to follow the different steps indicated in the [Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment.war) to successfully deploy your war.\r\n\r\nBasically, you need to:\r\n\r\n- Provide a `SpringBootServletInitializer` subclass in your application:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class MyApplication extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(MyApplication.class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n- Package your application as a war file. For instance, with Maven provide the following configuration:\r\n\r\n```xml\r\n&lt;packaging&gt;war&lt;/packaging&gt;\r\n````\r\n\r\n- If necessary, mark the Tomcat dependency as `provided`:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;!-- ... --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- ... --&gt;\r\n&lt;/dependencies&gt;\r\n``` ","title":"Unable to reach the host from a Tomcat Docker Container using docker-compose","body":"<p>Although you indicated your <code>Dockerfile</code> is derived from a Tomcat 9 base image:</p>\n<pre><code>FROM tomcat:9-jdk8\n</code></pre>\n<p>according to your logs it seems you are using Tomcat 10 instead:</p>\n<pre><code>Server version name:   Apache Tomcat/10.0.14\n</code></pre>\n<p>In the later case, please, be aware that currently Spring doesn't support Tomcat 10 and the new <code>jakarta.*</code> namespace. As explained in  this <a href=\"https://stackoverflow.com/questions/70431951/spring-boot-2-x-on-tomcat-10-issue\">related SO question</a>, there is an <a href=\"https://github.com/spring-projects/spring-framework/issues/25354\" rel=\"nofollow noreferrer\">open issue</a> for that.</p>\n<p>To solve the problem, you can use a Tomcat 9 version based docker image.</p>\n<p>If you are already using a Tomcat 9 version based docker image, then be sure to follow the different steps indicated in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.traditional-deployment.war\" rel=\"nofollow noreferrer\">Spring Boot documentation</a> to successfully deploy your war.</p>\n<p>Basically, you need to:</p>\n<ul>\n<li>Provide a <code>SpringBootServletInitializer</code> subclass in your application:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MyApplication extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(MyApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n}\n</code></pre>\n<ul>\n<li>Package your application as a war file. For instance, with Maven provide the following configuration:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n<ul>\n<li>If necessary, mark the Tomcat dependency as <code>provided</code>:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;!-- ... --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- ... --&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":16461356,"reputation":23,"user_id":11892332,"display_name":"GMarsh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1089,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70546238,"answer_count":1,"score":2,"last_activity_date":1641048504,"creation_date":1640992676,"question_id":70546175,"body_markdown":"I have a docker-compose version 1.25.0 and Docker version 20.10.12.  I am running on Ubuntu 21.04.\r\nI have a Spring Boot program as a .war file that I run inside of tomcat.  The program works fine outside the docker container but when I run inside the docker container I am unable to access it in the browser.\r\n\r\nMy Dockerfile is this :\r\n```\r\nFROM tomcat:9-jdk8\r\nADD ./build/libs/studentLetter-1.0.2.war /usr/local/tomcat/webapps/\r\nEXPOSE 8080\r\nRUN mkdir -p /home/gmarsh/workdir\r\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n```\r\nMy docker-compose.yml file contains this :\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nservices:\r\n    app:\r\n      build: ./\r\n      image: wbsgrader-online-img\r\n      ports:\r\n        - 8080:8080\r\n      extra_hosts:\r\n        - dockerhost:$DOCKER_HOST\r\n      network_mode: &quot;host&quot;\r\n```\r\nwhere  DOCKER_HOST is exported as this in my .profile\r\n```\r\nexport DOCKER_HOST=`/sbin/ifconfig docker0 | grep &#39;inet addr:&#39; | cut -d: -f2 | awk &#39;{ print $1}&#39;`\r\n```\r\nI enter at the terminal  \r\n\r\n&gt; docker-compose up --build -d\r\n\r\n \r\nthe output is :\r\n```\r\nBuilding app\r\nStep 1/4 : FROM tomcat:latest\r\n ---&gt; fb5657adc892\r\nStep 2/4 : ADD ./build/libs/studentLetter-1.0.2.war /usr/local/tomcat/webapps/\r\n ---&gt; Using cache\r\n ---&gt; 891060c813d6\r\nStep 3/4 : EXPOSE 8080\r\n ---&gt; Using cache\r\n ---&gt; fbd16298db6c\r\nStep 4/4 : CMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n ---&gt; Using cache\r\n ---&gt; 432a1484e8ae\r\nSuccessfully built 432a1484e8ae\r\nSuccessfully tagged wbsgrader-img:latest\r\nCreating onlinewbsgrader_app_1 ... done\r\n```\r\n\r\nand the output in docker-compose logs is :\r\n```\r\nAttaching to onlinewbsgrader_app_1\r\napp_1  | NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\napp_1  | 31-Dec-2021 22:57:51.711 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.0.14\r\napp_1  | 31-Dec-2021 22:57:51.716 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 2 2021 22:01:36 UTC\r\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.0.14.0\r\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.11.0-41-generic\r\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\napp_1  | 31-Dec-2021 22:57:51.718 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11\r\napp_1  | 31-Dec-2021 22:57:51.718 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.13+8\r\napp_1  | 31-Dec-2021 22:57:51.718 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\napp_1  | 31-Dec-2021 22:57:51.719 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\r\napp_1  | 31-Dec-2021 22:57:51.719 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\r\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\r\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\napp_1  | 31-Dec-2021 22:57:51.738 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\napp_1  | 31-Dec-2021 22:57:51.738 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\napp_1  | 31-Dec-2021 22:57:51.738 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\r\napp_1  | 31-Dec-2021 22:57:51.739 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\r\napp_1  | 31-Dec-2021 22:57:51.739 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\r\napp_1  | 31-Dec-2021 22:57:51.744 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\r\napp_1  | 31-Dec-2021 22:57:51.744 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\r\napp_1  | 31-Dec-2021 22:57:51.748 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\r\napp_1  | 31-Dec-2021 22:57:52.344 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\napp_1  | 31-Dec-2021 22:57:52.382 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [967] milliseconds\r\napp_1  | 31-Dec-2021 22:57:52.463 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\napp_1  | 31-Dec-2021 22:57:52.463 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.0.14]\r\napp_1  | 31-Dec-2021 22:57:52.484 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/studentLetter-1.0.2.war]\r\napp_1  | 31-Dec-2021 22:57:58.056 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\napp_1  | 31-Dec-2021 22:57:58.134 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/studentLetter-1.0.2.war] has finished in [5,650] ms\r\napp_1  | 31-Dec-2021 22:57:58.141 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\napp_1  | 31-Dec-2021 22:57:58.153 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [5770] milliseconds\r\n```\r\nAs it shows in the logs the catalina service has started and my program .war file has deployed to /usr/local/tomcat/webapps inside the docker container.\r\n\r\nWhen I type http://localhost:8080/  in the browser address bar I get an HTTP Status 404  Not Found error.\r\n\r\nWhen I type \r\n\r\n&gt; docker ps\r\n\r\nI get this :\r\n```\r\nCONTAINER ID   IMAGE           COMMAND             CREATED          STATUS          PORTS     NAMES\r\n097a4da40100   wbsgrader-img   &quot;catalina.sh run&quot;   10 minutes ago   Up 10 minutes             onlinewbsgrader_app_1\r\n```\r\nNotice the ports are missing in the display.  It looks like the port binding isn&#39;t happening for some reason. \r\n\r\n How do I get the port binding to work using docker-compose and gain browser access through localhost ?\r\n\r\n\r\n ","title":"Unable to reach the host from a Tomcat Docker Container using docker-compose","body":"<p>I have a docker-compose version 1.25.0 and Docker version 20.10.12.  I am running on Ubuntu 21.04.\nI have a Spring Boot program as a .war file that I run inside of tomcat.  The program works fine outside the docker container but when I run inside the docker container I am unable to access it in the browser.</p>\n<p>My Dockerfile is this :</p>\n<pre><code>FROM tomcat:9-jdk8\nADD ./build/libs/studentLetter-1.0.2.war /usr/local/tomcat/webapps/\nEXPOSE 8080\nRUN mkdir -p /home/gmarsh/workdir\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n<p>My docker-compose.yml file contains this :</p>\n<pre><code>version: '3.8'\n\nservices:\n    app:\n      build: ./\n      image: wbsgrader-online-img\n      ports:\n        - 8080:8080\n      extra_hosts:\n        - dockerhost:$DOCKER_HOST\n      network_mode: &quot;host&quot;\n</code></pre>\n<p>where  DOCKER_HOST is exported as this in my .profile</p>\n<pre><code>export DOCKER_HOST=`/sbin/ifconfig docker0 | grep 'inet addr:' | cut -d: -f2 | awk '{ print $1}'`\n</code></pre>\n<p>I enter at the terminal</p>\n<blockquote>\n<p>docker-compose up --build -d</p>\n</blockquote>\n<p>the output is :</p>\n<pre><code>Building app\nStep 1/4 : FROM tomcat:latest\n ---&gt; fb5657adc892\nStep 2/4 : ADD ./build/libs/studentLetter-1.0.2.war /usr/local/tomcat/webapps/\n ---&gt; Using cache\n ---&gt; 891060c813d6\nStep 3/4 : EXPOSE 8080\n ---&gt; Using cache\n ---&gt; fbd16298db6c\nStep 4/4 : CMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n ---&gt; Using cache\n ---&gt; 432a1484e8ae\nSuccessfully built 432a1484e8ae\nSuccessfully tagged wbsgrader-img:latest\nCreating onlinewbsgrader_app_1 ... done\n</code></pre>\n<p>and the output in docker-compose logs is :</p>\n<pre><code>Attaching to onlinewbsgrader_app_1\napp_1  | NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\napp_1  | 31-Dec-2021 22:57:51.711 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/10.0.14\napp_1  | 31-Dec-2021 22:57:51.716 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 2 2021 22:01:36 UTC\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 10.0.14.0\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.11.0-41-generic\napp_1  | 31-Dec-2021 22:57:51.717 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\napp_1  | 31-Dec-2021 22:57:51.718 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/local/openjdk-11\napp_1  | 31-Dec-2021 22:57:51.718 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           11.0.13+8\napp_1  | 31-Dec-2021 22:57:51.718 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\napp_1  | 31-Dec-2021 22:57:51.719 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\napp_1  | 31-Dec-2021 22:57:51.719 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\napp_1  | 31-Dec-2021 22:57:51.736 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\napp_1  | 31-Dec-2021 22:57:51.737 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\napp_1  | 31-Dec-2021 22:57:51.738 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\napp_1  | 31-Dec-2021 22:57:51.738 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\napp_1  | 31-Dec-2021 22:57:51.738 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\napp_1  | 31-Dec-2021 22:57:51.739 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\napp_1  | 31-Dec-2021 22:57:51.739 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\napp_1  | 31-Dec-2021 22:57:51.744 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.31] using APR version [1.7.0].\napp_1  | 31-Dec-2021 22:57:51.744 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\napp_1  | 31-Dec-2021 22:57:51.748 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]\napp_1  | 31-Dec-2021 22:57:52.344 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\napp_1  | 31-Dec-2021 22:57:52.382 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [967] milliseconds\napp_1  | 31-Dec-2021 22:57:52.463 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\napp_1  | 31-Dec-2021 22:57:52.463 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/10.0.14]\napp_1  | 31-Dec-2021 22:57:52.484 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/studentLetter-1.0.2.war]\napp_1  | 31-Dec-2021 22:57:58.056 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\napp_1  | 31-Dec-2021 22:57:58.134 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/studentLetter-1.0.2.war] has finished in [5,650] ms\napp_1  | 31-Dec-2021 22:57:58.141 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\napp_1  | 31-Dec-2021 22:57:58.153 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [5770] milliseconds\n</code></pre>\n<p>As it shows in the logs the catalina service has started and my program .war file has deployed to /usr/local/tomcat/webapps inside the docker container.</p>\n<p>When I type http://localhost:8080/  in the browser address bar I get an HTTP Status 404  Not Found error.</p>\n<p>When I type</p>\n<blockquote>\n<p>docker ps</p>\n</blockquote>\n<p>I get this :</p>\n<pre><code>CONTAINER ID   IMAGE           COMMAND             CREATED          STATUS          PORTS     NAMES\n097a4da40100   wbsgrader-img   &quot;catalina.sh run&quot;   10 minutes ago   Up 10 minutes             onlinewbsgrader_app_1\n</code></pre>\n<p>Notice the ports are missing in the display.  It looks like the port binding isn't happening for some reason.</p>\n<p>How do I get the port binding to work using docker-compose and gain browser access through localhost ?</p>\n"},{"tags":["java","unit-testing","java-8","spring-data-jpa","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1640971280,"post_id":70544223,"comment_id":124701999,"body_markdown":"Try debugging to see if the code is actually called. If it is, then it might be a limitation of Jacoco, see https://www.eclemma.org/jacoco/trunk/doc/counters.html for more information. Also this line looks suspect `final user = Mock(User) as Specification` what are you trying to achieve here.#","body":"Try debugging to see if the code is actually called. If it is, then it might be a limitation of Jacoco, see <a href=\"https://www.eclemma.org/jacoco/trunk/doc/counters.html\" rel=\"nofollow noreferrer\">eclemma.org/jacoco/trunk/doc/counters.html</a> for more information. Also this line looks suspect <code>final user = Mock(User) as Specification</code> what are you trying to achieve here.#"},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":0,"creation_date":1640973045,"post_id":70544223,"comment_id":124702386,"body_markdown":"I ran a debug, the moment it gets to  ``` return (root, query, builder) -&gt; ``` it does not get in. And the Mock part, I was trying to force a User to be of type Specification because the method returns ```Specification&lt;User&gt;```","body":"I ran a debug, the moment it gets to  ``` return (root, query, builder) -&gt; ``` it does not get in. And the Mock part, I was trying to force a User to be of type Specification because the method returns <code>Specification&lt;User&gt;</code>"},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":2,"creation_date":1640976100,"post_id":70544223,"comment_id":124703002,"body_markdown":"You can&#39;t cast from `User` to `Specification&lt;User&gt;` that is not how generics work. Also be sure to use the correct `Specification`,  i.e. use type alias or fully qualified class name, to avoid conflicts with `spock.lang.Specification`. Also, mocking `UserRepository` looks suspect, you&#39;ll probably want to use a `@DataJpaTest` and inject the repository.","body":"You can&#39;t cast from <code>User</code> to <code>Specification&lt;User&gt;</code> that is not how generics work. Also be sure to use the correct <code>Specification</code>,  i.e. use type alias or fully qualified class name, to avoid conflicts with <code>spock.lang.Specification</code>. Also, mocking <code>UserRepository</code> looks suspect, you&#39;ll probably want to use a <code>@DataJpaTest</code> and inject the repository."},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":0,"creation_date":1640978282,"post_id":70544223,"comment_id":124703434,"body_markdown":"@LeonardBr&#252;nings Thanks!! I changed the was I was creating ```Specification&lt;User&gt;``` and how I was mocking the repository and used ```@DataJpaTest```. Now the class is 100% covered! Thank you","body":"@LeonardBr&#252;nings Thanks!! I changed the was I was creating <code>Specification&lt;User&gt;</code> and how I was mocking the repository and used <code>@DataJpaTest</code>. Now the class is 100% covered! Thank you"},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1640985902,"post_id":70544223,"comment_id":124704788,"body_markdown":"You can answer your own question with the solution you came up with.","body":"You can answer your own question with the solution you came up with."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1641005480,"post_id":70544223,"comment_id":124706931,"body_markdown":"This question is a good example of why it is such a bad idea to post code snippets only instead of full classes including package names and imports: A Spock `spock.lang.Specification` is not the same as a JPA `org.springframework.data.jpa.domain.Specification`. That immediately jumped out at me when reading your question for the first time just now. Leonard pointed that out already. I think, if you still use the JPA specification class anywhere in your working solution, you should explicitly show that in your answer instead of hiding it behind `// omitted` comments. Others could learn from it.","body":"This question is a good example of why it is such a bad idea to post code snippets only instead of full classes including package names and imports: A Spock <code>spock.lang.Specification</code> is not the same as a JPA <code>org.springframework.data.jpa.domain.Specification</code>. That immediately jumped out at me when reading your question for the first time just now. Leonard pointed that out already. I think, if you still use the JPA specification class anywhere in your working solution, you should explicitly show that in your answer instead of hiding it behind <code>&#47;&#47; omitted</code> comments. Others could learn from it."},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":0,"creation_date":1641006750,"post_id":70544223,"comment_id":124707031,"body_markdown":"@kriegaex thank you for pointing that out. I have tried to add some imports.","body":"@kriegaex thank you for pointing that out. I have tried to add some imports."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1641007418,"post_id":70544223,"comment_id":124707068,"body_markdown":"I was referring to your question, where it would have been most helpful for others to spot that you import two different `Specification` classes. But also in your edited answer, the imports are incomplete, no `Specification` there, not even the Spock one. So now I am not sure again whether you still use `org.springframework.data.jpa.domain.Specification` in your test or not. Please learn what an [MCVE](https://stackoverflow.com/help/mcve) is and why information hiding is such a bad idea if you want other people&#39;s debugging support. &#128578;","body":"I was referring to your question, where it would have been most helpful for others to spot that you import two different <code>Specification</code> classes. But also in your edited answer, the imports are incomplete, no <code>Specification</code> there, not even the Spock one. So now I am not sure again whether you still use <code>org.springframework.data.jpa.domain.Specification</code> in your test or not. Please learn what an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> is and why information hiding is such a bad idea if you want other people&#39;s debugging support. "},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":0,"creation_date":1641007929,"post_id":70544223,"comment_id":124707096,"body_markdown":"Next time, I will most certainly prepare an MCVE. Because currently I just extent or import most functionality.","body":"Next time, I will most certainly prepare an MCVE. Because currently I just extent or import most functionality."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1641008544,"post_id":70544223,"comment_id":124707133,"body_markdown":"Thanks for the new edit. Now I see that you still **import** both `Specification` classes. The way you are doing this suggests that the first import will be ignored and the second one wins. With the test code still being incomplete, readers still cannot see if you actually **use** the JPA specification class or not. You did not answer that question either. If you do use it, I have further comments for you. You are making it really hard to help you. Wouldn&#39;t it be much easier to share your full test than to edit it 5 times, adding bits and pieces, but still keeping it opaque and incomplete?","body":"Thanks for the new edit. Now I see that you still <b>import</b> both <code>Specification</code> classes. The way you are doing this suggests that the first import will be ignored and the second one wins. With the test code still being incomplete, readers still cannot see if you actually <b>use</b> the JPA specification class or not. You did not answer that question either. If you do use it, I have further comments for you. You are making it really hard to help you. Wouldn&#39;t it be much easier to share your full test than to edit it 5 times, adding bits and pieces, but still keeping it opaque and incomplete?"},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":0,"creation_date":1641015348,"post_id":70544223,"comment_id":124707623,"body_markdown":"Yes I use ```org.springframework.data.jpa.domain.Specification ```. I do realize that this sample code does not explain well my architecture. But the ```Specification``` classes can not conflict because they are in two different classes and I just import or extend to use their functionality. I tried to put everything together to catch the solution as best as I could. Next time I will prepare an MVCE.","body":"Yes I use <code>org.springframework.data.jpa.domain.Specification </code>. I do realize that this sample code does not explain well my architecture. But the <code>Specification</code> classes can not conflict because they are in two different classes and I just import or extend to use their functionality. I tried to put everything together to catch the solution as best as I could. Next time I will prepare an MVCE."},{"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"score":0,"creation_date":1641048398,"post_id":70544223,"comment_id":124711792,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/240629/discussion-between-chabo-and-kriegaex).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/240629/discussion-between-chabo-and-kriegaex\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641007733,"creation_date":1640993829,"answer_id":70546240,"question_id":70544223,"body_markdown":"Thank you @LeonardBr&#252;nings for the guidance.\r\n\r\nSo, the mistakes I was making were two:\r\n\r\n 1. I was mocking the repository the wrong way instead of using @DataJpaTest and then injecting the repository.\r\n 2. I was creating my generic class wrong\r\n\r\n The code below worked with 100% coverage, of course, bits have been omitted\r\n\r\n```Groovy\r\n   import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest\r\n   import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager\r\n   import javax.persistence.EntityManager\r\n   import javax.persistence.PersistenceContext\r\n   import org.springframework.beans.factory.annotation.Autowired\r\n   import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase\r\n   import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest\r\n   import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager\r\n   import org.springframework.data.jpa.domain.Specification\r\n   import org.springframework.core.env.Environment\r\n   import spock.lang.Specification\r\n\r\n\r\n    @DatabaseTests\r\n    @DataJpaTest\r\n    class UserRepositoryTest extends Specification {\r\n\r\n      @Autowired\r\n      private TestEntityManager testEntityManager\r\n    \r\n      @Autowired\r\n      private UserRepository userRepository\r\n    \r\n      def &quot;should_find paged_users_using_search_criteria&quot;() {\r\n        given:\r\n        final id = randomUUID()\r\n    \r\n        and:\r\n        final orderable = new Orderable()\r\n        final pageable = new PageableFor()\r\n        final user = new UserId(&#39;an user&#39;)\r\n      \r\n        final organization = persistAndDetach(new Organization(id: id, name: &#39;organization&#39;))\r\n        final user = persistAndDetach(new User(\r\n        ....\r\n        // omitted\r\n        ....\r\n        ))\r\n    \r\n        final criteria = new SearchCriteria(\r\n        ....\r\n        // omitted\r\n         ....\r\n        )\r\n    \r\n        when:\r\n        final foundPage = userRepository.findAll(criteria, orderable, pageable)\r\n    \r\n        then:\r\n        foundPage.content[0]== user\r\n      }\r\n    }\r\n\r\n     protected &lt;T&gt; T persistAndDetach(T entity) {\r\n        final persisted = testEntityManager.persistAndFlush(entity)\r\n        testEntityManager.detach(persisted)\r\n        return persisted\r\n      }\r\n\r\n```","title":"Spring Data JPA Specifications AND operation of predicates unit test not excepted or covered","body":"<p>Thank you @LeonardBrnings for the guidance.</p>\n<p>So, the mistakes I was making were two:</p>\n<ol>\n<li>I was mocking the repository the wrong way instead of using @DataJpaTest and then injecting the repository.</li>\n<li>I was creating my generic class wrong</li>\n</ol>\n<p>The code below worked with 100% coverage, of course, bits have been omitted</p>\n<pre><code>   import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest\n   import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager\n   import javax.persistence.EntityManager\n   import javax.persistence.PersistenceContext\n   import org.springframework.beans.factory.annotation.Autowired\n   import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase\n   import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest\n   import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager\n   import org.springframework.data.jpa.domain.Specification\n   import org.springframework.core.env.Environment\n   import spock.lang.Specification\n\n\n    @DatabaseTests\n    @DataJpaTest\n    class UserRepositoryTest extends Specification {\n\n      @Autowired\n      private TestEntityManager testEntityManager\n    \n      @Autowired\n      private UserRepository userRepository\n    \n      def &quot;should_find paged_users_using_search_criteria&quot;() {\n        given:\n        final id = randomUUID()\n    \n        and:\n        final orderable = new Orderable()\n        final pageable = new PageableFor()\n        final user = new UserId('an user')\n      \n        final organization = persistAndDetach(new Organization(id: id, name: 'organization'))\n        final user = persistAndDetach(new User(\n        ....\n        // omitted\n        ....\n        ))\n    \n        final criteria = new SearchCriteria(\n        ....\n        // omitted\n         ....\n        )\n    \n        when:\n        final foundPage = userRepository.findAll(criteria, orderable, pageable)\n    \n        then:\n        foundPage.content[0]== user\n      }\n    }\n\n     protected &lt;T&gt; T persistAndDetach(T entity) {\n        final persisted = testEntityManager.persistAndFlush(entity)\n        testEntityManager.detach(persisted)\n        return persisted\n      }\n\n</code></pre>\n"}],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641048359,"creation_date":1640969649,"question_id":70544223,"body_markdown":"I have written unit tests for my class and they seem to run fine. But the challenge is I can&#39;t get full coverage or get the **builder.and(...)** operation part to execute or be covered. \r\n\r\nAny idea what could be going on? Thank you \r\n\r\n**This is the utility class to create Predicates**\r\n\r\n```java\r\n\r\nimport static java.util.Objects.nonNull;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\nimport javax.persistence.criteria.Predicate;\r\nimport lombok.experimental.UtilityClass;\r\nimport org.springframework.data.jpa.domain.Specification;\r\n\r\n@UtilityClass\r\npublic class UsersSearchSpecificationFactory {\r\n\r\n  public static Specification&lt;User&gt; createSpecification(UsersSearchCriteria criteria) {\r\n    final List&lt;Specification&lt;User&gt;&gt; specificationList = new ArrayList&lt;&gt;();\r\n    if (nonNull(criteria.getAge()))\r\n      specificationList.add(ageSpecification(criteria.getAge()));\r\n\r\n    if (nonNull(criteria.getAccountType()))\r\n      specificationList.add(accountTypeSpecification(criteria.getAccountType()));\r\n\r\n    if (nonNull(criteria.getAge())) {\r\n      specificationList.add(idSpecification(criteria.getId()));\r\n    }\r\n\r\n    return (root, query, builder) -&gt; {\r\n      return builder.and(\r\n          specificationList.stream()\r\n              .map(specification -&gt; specification.toPredicate(root, query, builder))\r\n              .toArray(Predicate[]::new)\r\n      );\r\n    };\r\n  }\r\n\r\n  private static Specification&lt;User&gt; ageSpecification(String value) {\r\n    return (root, query, builder) -&gt; builder.isMember(value, root.get(&quot;age&quot;));\r\n  }\r\n\r\n  private static Specification&lt;User&gt; accountTypeSpecification(String value) {\r\n    return (root, query, builder) -&gt; builder.equal(root.get(&quot;accountType&quot;), value);\r\n  }\r\n\r\n  private static Specification&lt;User&gt; idSpecification(UUID value) {\r\n    return (root, query, builder) -&gt; builder.equal(root.get(&quot;id&quot;), value);\r\n  }\r\n}\r\n\r\n```\r\n\r\n**This is the Repository interface:**\r\n```java\r\n\r\n    import java.util.UUID;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageRequest;\r\n    import org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    interface UserRepository extends CrudRepository&lt;User, UUID&gt;, JpaSpecificationExecutor&lt;User&gt; {\r\n    \r\n      Page&lt;User&gt; findAll(UsersSearchCriteria criteria, Orderable orderable, PageRequest pageable);\r\n    }\r\n\r\n```\r\n\r\n**The Spock Specification logic is in here** \r\n\r\n```groovy\r\n\r\n    import javax.persistence.EntityManager\r\n    import javax.persistence.PersistenceContext\r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager\r\n    \r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase\r\n    class DatabaseSpecification extends InternalSpecification{\r\n    \r\n      @Autowired\r\n      private TestEntityManager tem\r\n    \r\n      @PersistenceContext\r\n      private EntityManager em\r\n    \r\n    \r\n      protected &lt;T&gt; T persist(T entity) {\r\n        final persisted = tem.persistAndFlush(entity)\r\n        tem.detach(persisted)\r\n        return persisted\r\n      }\r\n    }\r\n\r\n```\r\n**This is my test:**\r\n\r\n\r\n```groovy\r\n  \r\n\r\n    import static java.util.UUID.randomUUID\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.data.domain.PageRequest\r\n    \r\n    class UserRepositoryTest extends DatabaseSpecification {\r\n\r\n    def &quot;should_find_user&quot;() {\r\n        given:\r\n        userRepository = Mock(UserRepository)\r\n    \r\n        and:\r\n        final user = Mock(User) as Specification\r\n        final criteria = new UserSearchCriteria(\r\n            filter: &#39;userFilter&#39;,\r\n            id: &#39;id&#39;\r\n        )\r\n        final orderable = new orderable()\r\n        final pageable = new pageable()\r\n    \r\n    \r\n        when:\r\n        final foundUser = userRepositoryImpl.findAll(criteria, orderable, pageable)\r\n    \r\n        then:\r\n        1 * userRepositoryImpl.repository.findAll(_ as Specification, _ as Pageable) &gt;&gt; new PageImpl&lt;&gt;([user])\r\n    \r\n        and:\r\n        foundUser.content.get(0) == user\r\n      }\r\n    }\r\n\r\n```","title":"Spring Data JPA Specifications AND operation of predicates unit test not excepted or covered","body":"<p>I have written unit tests for my class and they seem to run fine. But the challenge is I can't get full coverage or get the <strong>builder.and(...)</strong> operation part to execute or be covered.</p>\n<p>Any idea what could be going on? Thank you</p>\n<p><strong>This is the utility class to create Predicates</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport static java.util.Objects.nonNull;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.UUID;\nimport javax.persistence.criteria.Predicate;\nimport lombok.experimental.UtilityClass;\nimport org.springframework.data.jpa.domain.Specification;\n\n@UtilityClass\npublic class UsersSearchSpecificationFactory {\n\n  public static Specification&lt;User&gt; createSpecification(UsersSearchCriteria criteria) {\n    final List&lt;Specification&lt;User&gt;&gt; specificationList = new ArrayList&lt;&gt;();\n    if (nonNull(criteria.getAge()))\n      specificationList.add(ageSpecification(criteria.getAge()));\n\n    if (nonNull(criteria.getAccountType()))\n      specificationList.add(accountTypeSpecification(criteria.getAccountType()));\n\n    if (nonNull(criteria.getAge())) {\n      specificationList.add(idSpecification(criteria.getId()));\n    }\n\n    return (root, query, builder) -&gt; {\n      return builder.and(\n          specificationList.stream()\n              .map(specification -&gt; specification.toPredicate(root, query, builder))\n              .toArray(Predicate[]::new)\n      );\n    };\n  }\n\n  private static Specification&lt;User&gt; ageSpecification(String value) {\n    return (root, query, builder) -&gt; builder.isMember(value, root.get(&quot;age&quot;));\n  }\n\n  private static Specification&lt;User&gt; accountTypeSpecification(String value) {\n    return (root, query, builder) -&gt; builder.equal(root.get(&quot;accountType&quot;), value);\n  }\n\n  private static Specification&lt;User&gt; idSpecification(UUID value) {\n    return (root, query, builder) -&gt; builder.equal(root.get(&quot;id&quot;), value);\n  }\n}\n\n</code></pre>\n<p><strong>This is the Repository interface:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    import java.util.UUID;\n    import org.springframework.data.domain.Page;\n    import org.springframework.data.domain.PageRequest;\n    import org.springframework.data.jpa.repository.JpaSpecificationExecutor;\n    import org.springframework.data.repository.CrudRepository;\n    \n    interface UserRepository extends CrudRepository&lt;User, UUID&gt;, JpaSpecificationExecutor&lt;User&gt; {\n    \n      Page&lt;User&gt; findAll(UsersSearchCriteria criteria, Orderable orderable, PageRequest pageable);\n    }\n\n</code></pre>\n<p><strong>The Spock Specification logic is in here</strong></p>\n<pre><code>\n    import javax.persistence.EntityManager\n    import javax.persistence.PersistenceContext\n    import org.springframework.beans.factory.annotation.Autowired\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest\n    import org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager\n    \n    @DataJpaTest\n    @AutoConfigureTestDatabase\n    class DatabaseSpecification extends InternalSpecification{\n    \n      @Autowired\n      private TestEntityManager tem\n    \n      @PersistenceContext\n      private EntityManager em\n    \n    \n      protected &lt;T&gt; T persist(T entity) {\n        final persisted = tem.persistAndFlush(entity)\n        tem.detach(persisted)\n        return persisted\n      }\n    }\n\n</code></pre>\n<p><strong>This is my test:</strong></p>\n<pre><code>  \n\n    import static java.util.UUID.randomUUID\n    \n    import org.springframework.beans.factory.annotation.Autowired\n    import org.springframework.data.domain.PageRequest\n    \n    class UserRepositoryTest extends DatabaseSpecification {\n\n    def &quot;should_find_user&quot;() {\n        given:\n        userRepository = Mock(UserRepository)\n    \n        and:\n        final user = Mock(User) as Specification\n        final criteria = new UserSearchCriteria(\n            filter: 'userFilter',\n            id: 'id'\n        )\n        final orderable = new orderable()\n        final pageable = new pageable()\n    \n    \n        when:\n        final foundUser = userRepositoryImpl.findAll(criteria, orderable, pageable)\n    \n        then:\n        1 * userRepositoryImpl.repository.findAll(_ as Specification, _ as Pageable) &gt;&gt; new PageImpl&lt;&gt;([user])\n    \n        and:\n        foundUser.content.get(0) == user\n      }\n    }\n\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","completable-future"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1433757943,"post_id":30705981,"comment_id":49470094,"body_markdown":"Both would work so it depends on what you want to do with the executor: if you don&#39;t need it any more the use the former - if you want to reuse it use the latter... Also in your first code snippet you only keep a reference to the last CompletableFuture...","body":"Both would work so it depends on what you want to do with the executor: if you don&#39;t need it any more the use the former - if you want to reuse it use the latter... Also in your first code snippet you only keep a reference to the last CompletableFuture..."},{"owner":{"account_id":3129228,"reputation":669,"user_id":6206509,"accept_rate":80,"display_name":"Albatross"},"score":3,"creation_date":1631817342,"post_id":30705981,"comment_id":122332095,"body_markdown":"I did not quite understand `this.growSeedFutureList = `. What is the type of `growSeedFutureList` ? Is this some new syntax of adding elements to list ? Can somebody please clarify? Is there any way to achieve this without having list ?","body":"I did not quite understand <code>this.growSeedFutureList = </code>. What is the type of <code>growSeedFutureList</code> ? Is this some new syntax of adding elements to list ? Can somebody please clarify? Is there any way to achieve this without having list ?"}],"answers":[{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1433763543,"creation_date":1433763543,"answer_id":30708189,"question_id":30705981,"body_markdown":"Both ways are equivalent only when the executor (growSeedExecutor) is used solely for the given task. The first way may lead to following: Another tasks need parallelization, and new executor is created for each task. Some developer sees too many executors created, and decide to use single common executor, but failed to delete all executor shutdowns...\r\n\r\nSo the second way (join()) is more reliable, since is less complex. But each new future should be added to the growSeedFutureList, not assigned to.","title":"What is the recommended way to wait till the Completable future threads finish","body":"<p>Both ways are equivalent only when the executor (growSeedExecutor) is used solely for the given task. The first way may lead to following: Another tasks need parallelization, and new executor is created for each task. Some developer sees too many executors created, and decide to use single common executor, but failed to delete all executor shutdowns...</p>\n\n<p>So the second way (join()) is more reliable, since is less complex. But each new future should be added to the growSeedFutureList, not assigned to.</p>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1528893057,"creation_date":1528893057,"answer_id":50837343,"question_id":30705981,"body_markdown":"If you really want to wait on all futures, you can simply call `join()` on each of them:\r\n\r\n    growSeedFutureList.forEach(CompletableFuture::join);\r\n\r\nThe main difference compared to using `allOf()` is that this will throw an exception as soon as it reaches a future completed with an exception, whereas the `allOf().join()` version will only throw an exception after all futures have completed (exceptionally or not).\r\n\r\nAnother small difference is that this does not create the intermediary `allOf` stage. Such a stage remains useful if you want to do something asynchronously after all futures have completed, instead of just waiting for all of them to complete.\r\n\r\nThe solution with the executor on the other side has several drawbacks:\r\n\r\n* it prevents to reuse the executor as it requires its shutdown;\r\n* it requires you to use that executor for all operations  it will not work with `CompletableFuture`s that are managed in another way;\r\n* it does not clearly shows your intent, which is to wait for all futures to complete;\r\n* it is more complex to implement;\r\n* it does not handle exceptional completion  no exception will be thrown by `awaitTermination()` if one of the tasks failed.","title":"What is the recommended way to wait till the Completable future threads finish","body":"<p>If you really want to wait on all futures, you can simply call <code>join()</code> on each of them:</p>\n\n<pre><code>growSeedFutureList.forEach(CompletableFuture::join);\n</code></pre>\n\n<p>The main difference compared to using <code>allOf()</code> is that this will throw an exception as soon as it reaches a future completed with an exception, whereas the <code>allOf().join()</code> version will only throw an exception after all futures have completed (exceptionally or not).</p>\n\n<p>Another small difference is that this does not create the intermediary <code>allOf</code> stage. Such a stage remains useful if you want to do something asynchronously after all futures have completed, instead of just waiting for all of them to complete.</p>\n\n<p>The solution with the executor on the other side has several drawbacks:</p>\n\n<ul>\n<li>it prevents to reuse the executor as it requires its shutdown;</li>\n<li>it requires you to use that executor for all operations  it will not work with <code>CompletableFuture</code>s that are managed in another way;</li>\n<li>it does not clearly shows your intent, which is to wait for all futures to complete;</li>\n<li>it is more complex to implement;</li>\n<li>it does not handle exceptional completion  no exception will be thrown by <code>awaitTermination()</code> if one of the tasks failed.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9386539,"reputation":31,"user_id":7573816,"display_name":"pratik thakkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641047621,"creation_date":1641047621,"answer_id":70549527,"question_id":30705981,"body_markdown":"A bit late for the reply but hope this code helps someone looking. This uses the common forkJoin pool executor\r\n\r\n    package com.company;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    public class CompletableFutureExample {\r\n        public static void main(String args[]){\r\n            List&lt;CompletableFuture&gt; futureList=new ArrayList&lt;&gt;();\r\n            for(int i=0;i&lt;10;i++) {\r\n                futureList.add(CompletableFuture.supplyAsync(()-&gt;getThreadName()).thenAccept(name-&gt;printThreadName(name)));\r\n            }\r\n            futureList.forEach(CompletableFuture::join);\r\n        }\r\n    \r\n        static String getThreadName(){\r\n            String threadDetails=Thread.currentThread().getName();\r\n            System.out.println(&quot;thread deteails::::&quot;+threadDetails);\r\n            return threadDetails;\r\n        }\r\n        static void printThreadName(String value){\r\n            System.out.println(&quot;thread string value::&quot;+value);\r\n        }\r\n    }\r\n\r\n","title":"What is the recommended way to wait till the Completable future threads finish","body":"<p>A bit late for the reply but hope this code helps someone looking. This uses the common forkJoin pool executor</p>\n<pre><code>package com.company;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\npublic class CompletableFutureExample {\n    public static void main(String args[]){\n        List&lt;CompletableFuture&gt; futureList=new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;10;i++) {\n            futureList.add(CompletableFuture.supplyAsync(()-&gt;getThreadName()).thenAccept(name-&gt;printThreadName(name)));\n        }\n        futureList.forEach(CompletableFuture::join);\n    }\n\n    static String getThreadName(){\n        String threadDetails=Thread.currentThread().getName();\n        System.out.println(&quot;thread deteails::::&quot;+threadDetails);\n        return threadDetails;\n    }\n    static void printThreadName(String value){\n        System.out.println(&quot;thread string value::&quot;+value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1136458,"reputation":10832,"user_id":1652954,"accept_rate":58,"display_name":"Amrmsmb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97198,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":30708189,"answer_count":3,"score":69,"last_activity_date":1641047621,"creation_date":1433757025,"question_id":30705981,"body_markdown":"I am using `CompletableFuture` as shown below in the code. But concerning the way I should wait till all runnables finish, I found two ways and I do not know the difference between them and which one is the best practice? They are as follows:\r\n\r\n\r\n**Code**:\r\n\r\n\tthis.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedSERun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\r\n\tthis.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedNWRun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\r\n\tthis.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedNERun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\r\n\tthis.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedSWRun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\r\n\t\t\t\t\t\r\n**First approach to wait till all runnables finish**:\r\n\r\n\tthis.growSeedExecutor.shutdown();\r\n\tthis.growSeedExecutor.awaitTermination(1, TimeUnit.DAYS);\r\n\r\n**Second approach to wait till all runnables finish**:\r\n\r\n\tCompletableFuture.allOf(this.growSeedFutureList).join();\r\n\t\r\nPlease let me know which one is recommended.","title":"What is the recommended way to wait till the Completable future threads finish","body":"<p>I am using <code>CompletableFuture</code> as shown below in the code. But concerning the way I should wait till all runnables finish, I found two ways and I do not know the difference between them and which one is the best practice? They are as follows:</p>\n\n<p><strong>Code</strong>:</p>\n\n<pre><code>this.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedSERun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\nthis.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedNWRun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\nthis.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedNERun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\nthis.growSeedFutureList = CompletableFuture.runAsync(new GrowSeedSWRun(this.saliencyMat, this.seedXY, this.seedVal), this.growSeedExecutor);\n</code></pre>\n\n<p><strong>First approach to wait till all runnables finish</strong>:</p>\n\n<pre><code>this.growSeedExecutor.shutdown();\nthis.growSeedExecutor.awaitTermination(1, TimeUnit.DAYS);\n</code></pre>\n\n<p><strong>Second approach to wait till all runnables finish</strong>:</p>\n\n<pre><code>CompletableFuture.allOf(this.growSeedFutureList).join();\n</code></pre>\n\n<p>Please let me know which one is recommended.</p>\n"},{"tags":["java","spring","spring-webflux","reactor"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1641043875,"post_id":70549142,"comment_id":124711047,"body_markdown":"`flatMap` looks fine. Whats the issue?","body":"<code>flatMap</code> looks fine. Whats the issue?"},{"owner":{"account_id":22190797,"reputation":73,"user_id":16433021,"display_name":"mifloma"},"score":0,"creation_date":1641044739,"post_id":70549142,"comment_id":124711205,"body_markdown":"The second `flatMap` is the issue. I can&#39;t define the tuple (a, b) as input. The code in my question doesn&#39;t compile.","body":"The second <code>flatMap</code> is the issue. I can&#39;t define the tuple (a, b) as input. The code in my question doesn&#39;t compile."},{"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"score":0,"creation_date":1641045973,"post_id":70549142,"comment_id":124711411,"body_markdown":"@mifloma I think you need a map there, are RepositoryB and ServiceA returning Mono?","body":"@mifloma I think you need a map there, are RepositoryB and ServiceA returning Mono?"},{"owner":{"account_id":22190797,"reputation":73,"user_id":16433021,"display_name":"mifloma"},"score":0,"creation_date":1641046331,"post_id":70549142,"comment_id":124711467,"body_markdown":"@LiviuStirb Yes, both return a Mono.","body":"@LiviuStirb Yes, both return a Mono."}],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641045988,"creation_date":1641044035,"answer_id":70549204,"question_id":70549142,"body_markdown":"You may want to use [`Mono.zipWhen`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-), to zip the two `Monos` into a `Tuple`:\r\n\r\n```\r\npublic Mono&lt;BigDecimal&gt; calculate(UUID id) {\r\n    return repositoryB.findById(id)\r\n            .zipWhen(b -&gt; serviceA.find(b.getId())\r\n            .map(t -&gt; t.getT1().add(t.getT2()));\r\n}\r\n```\r\n\r\nAlso, please note, you can not add two `BigDecimals` with `+`.","title":"Webflux combine two Monos with dependency","body":"<p>You may want to use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zipWhen-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Mono.zipWhen</code></a>, to zip the two <code>Monos</code> into a <code>Tuple</code>:</p>\n<pre><code>public Mono&lt;BigDecimal&gt; calculate(UUID id) {\n    return repositoryB.findById(id)\n            .zipWhen(b -&gt; serviceA.find(b.getId())\n            .map(t -&gt; t.getT1().add(t.getT2()));\n}\n</code></pre>\n<p>Also, please note, you can not add two <code>BigDecimals</code> with <code>+</code>.</p>\n"}],"owner":{"account_id":22190797,"reputation":73,"user_id":16433021,"display_name":"mifloma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70549204,"answer_count":1,"score":1,"last_activity_date":1641045988,"creation_date":1641043343,"question_id":70549142,"body_markdown":"I want to create a Spring-Webflux-Service that combines the data of two sources with a dependency. I&#39;m new to Webflux so I have no idea how to do that. Here is some pseudo code to shows what I`m trying to do:\r\n\r\n```java\r\n@Service\r\npublic class ServiceB {\r\n\r\n    private RepositoryB repositoryB;\r\n    private ServiceA serviceA;\r\n\r\n    public Mono&lt;BigDecimal&gt; calculate(UUID id) {\r\n        return repositoryB.findById(id)\r\n                .flatMap(b -&gt; serviceA.find(b.getId()))\r\n                .flatMap((a, b) -&gt; a + b);\r\n\r\n    }\r\n```\r\n\r\nThe result of `repositoryB` includes the identifier of the data I want to find with `serviceA`. At least I want to work on both datasets. What method could I use instead of the first `flatMap`? ","title":"Webflux combine two Monos with dependency","body":"<p>I want to create a Spring-Webflux-Service that combines the data of two sources with a dependency. I'm new to Webflux so I have no idea how to do that. Here is some pseudo code to shows what I`m trying to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ServiceB {\n\n    private RepositoryB repositoryB;\n    private ServiceA serviceA;\n\n    public Mono&lt;BigDecimal&gt; calculate(UUID id) {\n        return repositoryB.findById(id)\n                .flatMap(b -&gt; serviceA.find(b.getId()))\n                .flatMap((a, b) -&gt; a + b);\n\n    }\n</code></pre>\n<p>The result of <code>repositoryB</code> includes the identifier of the data I want to find with <code>serviceA</code>. At least I want to work on both datasets. What method could I use instead of the first <code>flatMap</code>?</p>\n"},{"tags":["java","spring","spring-boot","enums","enumerate"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641042883,"creation_date":1641042883,"answer_id":70549108,"question_id":70549032,"body_markdown":"Use a `BiConsumer&lt;Tempclass, String&gt;` taking an instance of `TempClass` and a `String` and set the appropriate field in the class.\r\n\r\n    VALUE1(Tempclass::getField1, Tempclass::setField1),\r\n    VALUE2(Tempclass::getField2, Tempclass::setField2);\r\n\r\n    private final BiConsumer&lt;Tempclass, String&gt; setter;\r\n\r\nGet the setter from the enum and pass the values to the `accept` method of the BiConsumer.\r\n\r\n    enumInstance.getSetter().accept(tempClassInstance, &quot;some-value&quot;);","title":"set class fields based on enum value","body":"<p>Use a <code>BiConsumer&lt;Tempclass, String&gt;</code> taking an instance of <code>TempClass</code> and a <code>String</code> and set the appropriate field in the class.</p>\n<pre><code>VALUE1(Tempclass::getField1, Tempclass::setField1),\nVALUE2(Tempclass::getField2, Tempclass::setField2);\n\nprivate final BiConsumer&lt;Tempclass, String&gt; setter;\n</code></pre>\n<p>Get the setter from the enum and pass the values to the <code>accept</code> method of the BiConsumer.</p>\n<pre><code>enumInstance.getSetter().accept(tempClassInstance, &quot;some-value&quot;);\n</code></pre>\n"}],"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70549108,"answer_count":1,"score":1,"last_activity_date":1641045446,"creation_date":1641042011,"question_id":70549032,"body_markdown":"```\r\nenum Temp {\r\n  VALUE1(Tempclass::getField1)\r\n  VLAUE2(Tempclass::getField2)\r\n  private final Function&lt;Tempclass, String&gt; type;\r\n}\r\n\r\nclass Tempclass {\r\n  String field1;\r\n  String field2;\r\n}\r\n``` \r\nUsing the above code I can get the value of `Tempclass` fields based on `enum` values.\r\nNow how to set the fields of `Tempclass` based on `enum` value ex: if `enum` `VALUE2` is selected, then i need to set the `Tempclass` `field2` to the input value.","title":"set class fields based on enum value","body":"<pre><code>enum Temp {\n  VALUE1(Tempclass::getField1)\n  VLAUE2(Tempclass::getField2)\n  private final Function&lt;Tempclass, String&gt; type;\n}\n\nclass Tempclass {\n  String field1;\n  String field2;\n}\n</code></pre>\n<p>Using the above code I can get the value of <code>Tempclass</code> fields based on <code>enum</code> values.\nNow how to set the fields of <code>Tempclass</code> based on <code>enum</code> value ex: if <code>enum</code> <code>VALUE2</code> is selected, then i need to set the <code>Tempclass</code> <code>field2</code> to the input value.</p>\n"},{"tags":["java","batch-file","cmd","processbuilder"],"comments":[{"owner":{"account_id":2469917,"reputation":54362,"user_id":2152082,"display_name":"Stephan"},"score":1,"creation_date":1612442585,"post_id":66044711,"comment_id":116771507,"body_markdown":"maybe it can&#39;t find `psexec` (the working folder might not be what you expect it to be). Give it the fully qualified file name (`&quot;drive:\\path to\\psexec.exe&quot;`)","body":"maybe it can&#39;t find <code>psexec</code> (the working folder might not be what you expect it to be). Give it the fully qualified file name (<code>&quot;drive:\\path to\\psexec.exe&quot;</code>)"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":1,"creation_date":1612443974,"post_id":66044711,"comment_id":116772127,"body_markdown":"Also don&#39;t define an environment variable, just use the returned `for` variable directly. For example: `For /F &quot;Tokens=2-3&quot; %%G In (&#39;P:\\ath\\To\\psexec.exe -nobanner \\\\Server query session 2^&gt; NUL&#39;) Do If /I &quot;%%G&quot; == &quot;UsersName&quot; P:\\ath\\To\\psexec.exe -accepteula -s -i %%H \\\\Server -w &quot;%SystemDrive%\\Users\\UsersName\\Desktop\\CMDTest&quot; cmd.exe /C &quot;Start &quot;CMDTest&quot; /I RunCatalina.bat&quot;`.","body":"Also don&#39;t define an environment variable, just use the returned <code>for</code> variable directly. For example: <code>For &#47;F &quot;Tokens=2-3&quot; %%G In (&#39;P:\\ath\\To\\psexec.exe -nobanner \\\\Server query session 2^&gt; NUL&#39;) Do If &#47;I &quot;%%G&quot; == &quot;UsersName&quot; P:\\ath\\To\\psexec.exe -accepteula -s -i %%H \\\\Server -w &quot;%SystemDrive%\\Users\\UsersName\\Desktop\\CMDTest&quot; cmd.exe &#47;C &quot;Start &quot;CMDTest&quot; &#47;I RunCatalina.bat&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":16562127,"reputation":73,"user_id":11967792,"display_name":"abhijit.bhatta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641043537,"creation_date":1641043537,"answer_id":70549162,"question_id":66044711,"body_markdown":"I was able to resolve this. We had multiple Tomcats running on the same server, and as a result, the home directory read was incorrect, and as a result, would either not launch tomcat, or would launch a different tomcat.\r\nThe solution was to have a separate batfile on a different server to run the startup bat, and set the env variables as required for the current tomcat instance. The variables in this case will be specific to the current cmd session, and wo t overwrite system variables.","title":"Variables defined in batfile are displayed as blank when batfile is run using java processbuilder","body":"<p>I was able to resolve this. We had multiple Tomcats running on the same server, and as a result, the home directory read was incorrect, and as a result, would either not launch tomcat, or would launch a different tomcat.\nThe solution was to have a separate batfile on a different server to run the startup bat, and set the env variables as required for the current tomcat instance. The variables in this case will be specific to the current cmd session, and wo t overwrite system variables.</p>\n"}],"owner":{"account_id":16562127,"reputation":73,"user_id":11967792,"display_name":"abhijit.bhatta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1641043537,"creation_date":1612438226,"question_id":66044711,"body_markdown":"I have a batfile to run a tomcat instance on a remote server. The batfile contains a variable for Session ID , and looks as below.\r\n\r\n```\r\ncmdkey.exe /add:Server /user:Server\\Username /pass:Password\r\nFOR /F &quot;tokens=3 delims= &quot; %%I IN (&#39;psexec -nobanner \\\\Server query session ^| findstr &quot;Username&quot;&#39;) DO set ID=%%I\r\necho %ID%\r\nPsExec.exe -accepteula -s -i %ID% \\\\Server -w &quot;C:\\Users\\Username\\Desktop\\CMDTest&quot; cmd /c &quot;start /i &quot;CMDTest&quot; RunCatalina.bat&quot;\r\ncmdkey.exe /delete:Server\r\n\r\n```\r\nThe batfile executes as expected when run independently.\r\nHowever, when I run it using the java processbuilder, the Variable ID is passed as blank.\r\n\r\nProcessBuilder Code:\r\n\r\n```\r\n\tpublic static void runBatFileOutput(String batName,String Path) throws Throwable {\r\n\t\tProcessBuilder pb = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, batName);\r\n\t\tFile dir = new File(Path);\r\n\t\tpb.directory(dir);\r\n\t\tProcess p = pb.start();\r\n\t\tInputStream is = p.getInputStream();\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n\r\n\t\tString line = null;\r\n\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t   System.out.println(line);\r\n\t\t}\r\n\t}\r\n\r\n```\r\n","title":"Variables defined in batfile are displayed as blank when batfile is run using java processbuilder","body":"<p>I have a batfile to run a tomcat instance on a remote server. The batfile contains a variable for Session ID , and looks as below.</p>\n<pre><code>cmdkey.exe /add:Server /user:Server\\Username /pass:Password\nFOR /F &quot;tokens=3 delims= &quot; %%I IN ('psexec -nobanner \\\\Server query session ^| findstr &quot;Username&quot;') DO set ID=%%I\necho %ID%\nPsExec.exe -accepteula -s -i %ID% \\\\Server -w &quot;C:\\Users\\Username\\Desktop\\CMDTest&quot; cmd /c &quot;start /i &quot;CMDTest&quot; RunCatalina.bat&quot;\ncmdkey.exe /delete:Server\n\n</code></pre>\n<p>The batfile executes as expected when run independently.\nHowever, when I run it using the java processbuilder, the Variable ID is passed as blank.</p>\n<p>ProcessBuilder Code:</p>\n<pre><code>    public static void runBatFileOutput(String batName,String Path) throws Throwable {\n        ProcessBuilder pb = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, batName);\n        File dir = new File(Path);\n        pb.directory(dir);\n        Process p = pb.start();\n        InputStream is = p.getInputStream();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n           System.out.println(line);\n        }\n    }\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8275,"page":1717,"page_size":100}
