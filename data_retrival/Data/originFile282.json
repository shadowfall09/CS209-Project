{"items":[{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1637926572,"post_id":70123650,"comment_id":123959253,"body_markdown":"&quot;info&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false} --&gt; This field shows value, it should return {&quot;templated&quot;:false} value, do you see any error in log?  or just clear browser cache and hit again.","body":"&quot;info&quot;:{&quot;href&quot;:&quot;<a href=\"https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false\" rel=\"nofollow noreferrer\">localhost:8443/actuator/info&quot;,&quot;templated&quot;:fa&zwnj;&#8203;lse</a>} --&gt; This field shows value, it should return {&quot;templated&quot;:false} value, do you see any error in log?  or just clear browser cache and hit again."},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637929314,"post_id":70123650,"comment_id":123960208,"body_markdown":"I&#39;m making the call with curl no nho cache, and there is no error in the log.","body":"I&#39;m making the call with curl no nho cache, and there is no error in the log."},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1637929371,"post_id":70123650,"comment_id":123960230,"body_markdown":"if you hit the url in the browser, you get the expected response?","body":"if you hit the url in the browser, you get the expected response?"},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637929461,"post_id":70123650,"comment_id":123960257,"body_markdown":"not always an empty object","body":"not always an empty object"},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1637929599,"post_id":70123650,"comment_id":123960295,"body_markdown":"means you get ONLY some times empty object?","body":"means you get ONLY some times empty object?"},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637929814,"post_id":70123650,"comment_id":123960370,"body_markdown":"when i call / actuator / info i always get an empty json {}","body":"when i call / actuator / info i always get an empty json {}"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1637930430,"post_id":70123650,"comment_id":123960593,"body_markdown":"The info endpoint will return an empty object unless you have enabled one or more info contributors. What did you expect the response to contain?","body":"The info endpoint will return an empty object unless you have enabled one or more info contributors. What did you expect the response to contain?"},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637930935,"post_id":70123650,"comment_id":123960757,"body_markdown":"In my application.properties I entered info.app.name = @ project.name @, I expected actuator / info to return me {app: {name: name}}","body":"In my application.properties I entered info.app.name = @ project.name @, I expected actuator / info to return me {app: {name: name}}"}],"answers":[{"tags":[],"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1690497000,"creation_date":1637935437,"answer_id":70125660,"question_id":70123650,"body_markdown":"I solved the problem, just add in the application.properties file\r\n\r\n    management.info.env.enabled=true\r\n\r\nand the value of\r\n\r\n    info.app.name=@project.name@\r\n\r\nis returned by `/actuator/info`","title":"Spring boot 2.6 actuator info","body":"<p>I solved the problem, just add in the application.properties file</p>\n<pre><code>management.info.env.enabled=true\n</code></pre>\n<p>and the value of</p>\n<pre><code>info.app.name=@project.name@\n</code></pre>\n<p>is returned by <code>/actuator/info</code></p>\n"}],"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3838,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70125660,"answer_count":1,"score":6,"last_activity_date":1690497000,"creation_date":1637925896,"question_id":70123650,"body_markdown":"I am using actuator and in the application.properties file i have the following fields\r\n\r\n    management.endpoints.web.exposure.include=health,info\r\n    management.endpoint.info.enabled=true\r\n    management.info.defaults.enabled=true\r\n\r\nwhen I call the url `/actuator` I see\r\n\r\n    {&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator&quot;,&quot;templated&quot;:false},&quot;health&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health&quot;,&quot;templated&quot;:false},&quot;health-path&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health/{*path}&quot;,&quot;templated&quot;:true},&quot;info&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false}}}\r\n\r\nbut when I call `/actuator/info` it returns me `{}`\r\n\r\nWhat am I doing wrong?\r\n\r\nThanks","title":"Spring boot 2.6 actuator info","body":"<p>I am using actuator and in the application.properties file i have the following fields</p>\n<pre><code>management.endpoints.web.exposure.include=health,info\nmanagement.endpoint.info.enabled=true\nmanagement.info.defaults.enabled=true\n</code></pre>\n<p>when I call the url <code>/actuator</code> I see</p>\n<pre><code>{&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator&quot;,&quot;templated&quot;:false},&quot;health&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health&quot;,&quot;templated&quot;:false},&quot;health-path&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health/{*path}&quot;,&quot;templated&quot;:true},&quot;info&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false}}}\n</code></pre>\n<p>but when I call <code>/actuator/info</code> it returns me <code>{}</code></p>\n<p>What am I doing wrong?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","kotlin","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690392321,"post_id":76768266,"comment_id":135348488,"body_markdown":"Does this answer your question? [Is Spring Boot WebClient OAuth2 client\\_credentials supported?](https://stackoverflow.com/questions/55894460/is-spring-boot-webclient-oauth2-client-credentials-supported)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55894460/is-spring-boot-webclient-oauth2-client-credentials-supported\">Is Spring Boot WebClient OAuth2 client_credentials supported?</a>"}],"owner":{"account_id":22967541,"reputation":1,"user_id":20192552,"display_name":"Gl.k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690494506,"creation_date":1690349500,"question_id":76768266,"body_markdown":"I am trying to add authorization to the application using client credentials. \r\n\r\nConfiguration class:\r\n\r\n```\r\n@Configuration\r\nclass CompanyScoringAuthClient {\r\n    \r\n    @Bean\r\n    fun oAuth2ClientManager(clientRegistrations: ClientRegistrationRepository): OAuth2AuthorizedClientManager {\r\n        val clientService = InMemoryOAuth2AuthorizedClientService(clientRegistrations)\r\n        return AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrations, clientService)\r\n    }\r\n\r\n    @Bean\r\n    fun authRestTemplate(clientManager: OAuth2AuthorizedClientManager): RestTemplate {\r\n        val restTemplate = RestTemplate()\r\n        restTemplate.interceptors.add {  request, body, execution -&gt;\r\n            val authorizeRequest = OAuth2AuthorizeRequest\r\n                .withClientRegistrationId(&quot;siam&quot;)\r\n                .principal(&quot;anon&quot;)\r\n                .build()\r\n            val client = clientManager.authorize(authorizeRequest)\r\n\r\n            request.headers.add(&quot;Authorization&quot;, &quot;Bearer ${client!!.accessToken.tokenValue}&quot;)\r\n            execution.execute(request, body) }\r\n        return restTemplate\r\n    }\r\n\r\n}\r\n```\r\nProperties:\r\n\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          siam:\r\n            client-id: ***********\r\n            client-secret: ***********\r\n            provider: keycloak\r\n            authorization-grant-type: client_credentials\r\n\r\n        provider:\r\n          keycloak:\r\n            jwk-set-uri: ***********\r\n            token-uri: ***********\r\n```\r\n\r\nBut every time I get an error: \r\n\r\n    IllegalArgumentException: Invalid Authorization Grant Type (client_credentials) for Client Registration with Id: siam\r\n\r\n\r\nTried `webflux`, different configurations.","title":"Client credentials with Spring OAuth","body":"<p>I am trying to add authorization to the application using client credentials.</p>\n<p>Configuration class:</p>\n<pre><code>@Configuration\nclass CompanyScoringAuthClient {\n    \n    @Bean\n    fun oAuth2ClientManager(clientRegistrations: ClientRegistrationRepository): OAuth2AuthorizedClientManager {\n        val clientService = InMemoryOAuth2AuthorizedClientService(clientRegistrations)\n        return AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrations, clientService)\n    }\n\n    @Bean\n    fun authRestTemplate(clientManager: OAuth2AuthorizedClientManager): RestTemplate {\n        val restTemplate = RestTemplate()\n        restTemplate.interceptors.add {  request, body, execution -&gt;\n            val authorizeRequest = OAuth2AuthorizeRequest\n                .withClientRegistrationId(&quot;siam&quot;)\n                .principal(&quot;anon&quot;)\n                .build()\n            val client = clientManager.authorize(authorizeRequest)\n\n            request.headers.add(&quot;Authorization&quot;, &quot;Bearer ${client!!.accessToken.tokenValue}&quot;)\n            execution.execute(request, body) }\n        return restTemplate\n    }\n\n}\n</code></pre>\n<p>Properties:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          siam:\n            client-id: ***********\n            client-secret: ***********\n            provider: keycloak\n            authorization-grant-type: client_credentials\n\n        provider:\n          keycloak:\n            jwk-set-uri: ***********\n            token-uri: ***********\n</code></pre>\n<p>But every time I get an error:</p>\n<pre><code>IllegalArgumentException: Invalid Authorization Grant Type (client_credentials) for Client Registration with Id: siam\n</code></pre>\n<p>Tried <code>webflux</code>, different configurations.</p>\n"},{"tags":["java","selenium","selenium-webdriver","jsoup"],"answers":[{"tags":[],"owner":{"account_id":4874355,"reputation":74,"user_id":3929927,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408003141,"creation_date":1408003141,"answer_id":25302878,"question_id":25295943,"body_markdown":"I couldn&#39;t exactly tell you why this mismatch is caused but I have an idea of how you could solve this problem. \r\n\r\nI had similar problems with javascript phrases on pages. Normally such elements have to be clicked to get into. But if this element isn&#39;t clickable or a click doesn&#39;t sole the problem you could also search the information you need by using unique Xpath&#39;s. \r\n\r\nI&#39;m not sure if you using Selenium IDE already but maybe you could record navigating to this element and use the thrown java code from the Selenium IDE to get the required Information.\r\n\r\n... I only have seen this problem while using Selenium remote control not the Selenium WebDriver...","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>I couldn't exactly tell you why this mismatch is caused but I have an idea of how you could solve this problem. </p>\n\n<p>I had similar problems with javascript phrases on pages. Normally such elements have to be clicked to get into. But if this element isn't clickable or a click doesn't sole the problem you could also search the information you need by using unique Xpath's. </p>\n\n<p>I'm not sure if you using Selenium IDE already but maybe you could record navigating to this element and use the thrown java code from the Selenium IDE to get the required Information.</p>\n\n<p>... I only have seen this problem while using Selenium remote control not the Selenium WebDriver...</p>\n"},{"tags":[],"owner":{"account_id":8813403,"reputation":23,"user_id":6585691,"display_name":"Charles Woodson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472053945,"creation_date":1472053945,"answer_id":39127877,"question_id":25295943,"body_markdown":"I think the problem could also be solved by using xpaths.  The easiest way to get the correct xpath is using firebug with firefox.  Right click on the element in developer tools and click copy xpath.  Firebug&#39;s incredibly accurate when producing xpaths.  It has solved many problems like that one for me.\r\n\r\n*Even if you aren&#39;t using firefox, most of the time you can use the same xpath from firebug in chrome webdriver testing.\r\n\r\nIt&#39;s a life saver.\r\n\r\nWarning though, sometimes the path is long like:\r\n\r\n    final static String planTitlePath = &quot;/html/body/div[1]/div[2]/div[1]/div[2]/div[5]/div/div/div/div/section/div/div[2]/div/ol/li/div[1]/plan-card/h4/span&quot;;","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>I think the problem could also be solved by using xpaths.  The easiest way to get the correct xpath is using firebug with firefox.  Right click on the element in developer tools and click copy xpath.  Firebug's incredibly accurate when producing xpaths.  It has solved many problems like that one for me.</p>\n\n<p>*Even if you aren't using firefox, most of the time you can use the same xpath from firebug in chrome webdriver testing.</p>\n\n<p>It's a life saver.</p>\n\n<p>Warning though, sometimes the path is long like:</p>\n\n<pre><code>final static String planTitlePath = \"/html/body/div[1]/div[2]/div[1]/div[2]/div[5]/div/div/div/div/section/div/div[2]/div/ol/li/div[1]/plan-card/h4/span\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3306323,"reputation":4878,"user_id":2781031,"accept_rate":69,"display_name":"Vasanth Nag K V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1477541499,"creation_date":1477541499,"answer_id":40275973,"question_id":25295943,"body_markdown":"i found the solution to this and now that huddle is crossed. actually what happened was , when i was trying to do getPageSource, selenium was actually getting the frame source of one of the frames (&quot;body&quot; - as mentioned above), i accidentally figured that out. Next to solve my problem i wanted to come one step back from where i was so i can select this iframe = (name=&quot;top&quot;) which was the target where i had the content as shown in the image. to Achieve this i used Selenium&#39;s defaultContent() function and came back one step then with switchTO().frame() went into the frame of my desire and accomplished the task\r\n\r\nhope this helps!! and thanks for everyone who tried to help me on this.","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>i found the solution to this and now that huddle is crossed. actually what happened was , when i was trying to do getPageSource, selenium was actually getting the frame source of one of the frames (\"body\" - as mentioned above), i accidentally figured that out. Next to solve my problem i wanted to come one step back from where i was so i can select this iframe = (name=\"top\") which was the target where i had the content as shown in the image. to Achieve this i used Selenium's defaultContent() function and came back one step then with switchTO().frame() went into the frame of my desire and accomplished the task</p>\n\n<p>hope this helps!! and thanks for everyone who tried to help me on this.</p>\n"}],"owner":{"account_id":3306323,"reputation":4878,"user_id":2781031,"accept_rate":69,"display_name":"Vasanth Nag K V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2345,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40275973,"answer_count":3,"score":5,"last_activity_date":1690494501,"creation_date":1407963264,"question_id":25295943,"body_markdown":"i am trying to navigate through pages using selenium web driver and i am stuck at one point\r\nplease refer to the image where i have shown the output of inspect element for that page that i am working on.\r\n\r\n\r\n\r\n\r\n![inspect element output][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bFFyG.png\r\n\r\n\r\n\r\n\r\nbut in the page source (which i saw on the browser and also using Jsoup) looks like this,\r\n\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;frameset rows=&quot;75,60,*&quot; resize=&quot;no&quot; SCROLLING=&quot;NO&quot; name=main border=&quot;0&quot;&gt;   \r\n    &lt;frame src=&quot;/frame/topnewprof.shtml&quot; name=&quot;top&quot; SCROLLING=NO&gt;\r\n    &lt;frame src=&quot;/frame/blank.html&quot; name=&quot;menu&quot; SCROLLING=NO &gt;\r\n    &lt;frame src=&quot;/itrade/user/welcome.exe?action=chk_seckey_stat&quot; name=&quot;body&quot; SCROLLING=AUTO&gt;\r\n    &lt;/frameset&gt;\r\n    &lt;body&gt;&amp;nbsp;\r\n    &lt;/BODY&gt;&lt;/html&gt;\r\n\r\n\r\nwhy is this mismatch? and the yellow stuff that i have highlight in the image above has the element that i need!! \r\nhow will i get there using selenium??\r\ni know that we can navigate into the iframe using selenium&#39;s `switchTo().frame()` but even if i get into any of the three frames as shown above in the page source information, i&#39;m not able to find the information i need, \r\ncan this be achieved ? is it even possible?","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>i am trying to navigate through pages using selenium web driver and i am stuck at one point\nplease refer to the image where i have shown the output of inspect element for that page that i am working on.</p>\n<p><img src=\"https://i.stack.imgur.com/bFFyG.png\" alt=\"inspect element output\" /></p>\n<p>but in the page source (which i saw on the browser and also using Jsoup) looks like this,</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;frameset rows=&quot;75,60,*&quot; resize=&quot;no&quot; SCROLLING=&quot;NO&quot; name=main border=&quot;0&quot;&gt;   \n&lt;frame src=&quot;/frame/topnewprof.shtml&quot; name=&quot;top&quot; SCROLLING=NO&gt;\n&lt;frame src=&quot;/frame/blank.html&quot; name=&quot;menu&quot; SCROLLING=NO &gt;\n&lt;frame src=&quot;/itrade/user/welcome.exe?action=chk_seckey_stat&quot; name=&quot;body&quot; SCROLLING=AUTO&gt;\n&lt;/frameset&gt;\n&lt;body&gt;&amp;nbsp;\n&lt;/BODY&gt;&lt;/html&gt;\n</code></pre>\n<p>why is this mismatch? and the yellow stuff that i have highlight in the image above has the element that i need!!\nhow will i get there using selenium??\ni know that we can navigate into the iframe using selenium's <code>switchTo().frame()</code> but even if i get into any of the three frames as shown above in the page source information, i'm not able to find the information i need,\ncan this be achieved ? is it even possible?</p>\n"},{"tags":["python","java","python-3.x","databricks","azure-databricks"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1652085541,"post_id":72166643,"comment_id":127511571,"body_markdown":"Does this answer your question? [How to run stored procedure on SQL server from Spark (Databricks) JDBC python?](https://stackoverflow.com/questions/66670313/how-to-run-stored-procedure-on-sql-server-from-spark-databricks-jdbc-python)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66670313/how-to-run-stored-procedure-on-sql-server-from-spark-databricks-jdbc-python\">How to run stored procedure on SQL server from Spark (Databricks) JDBC python?</a>"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652089854,"post_id":72166643,"comment_id":127513027,"body_markdown":"`import java.sql.DriverManager` is for Java (and Scala), and implies running on the JVM (Java Virtual Machine).","body":"<code>import java.sql.DriverManager</code> is for Java (and Scala), and implies running on the JVM (Java Virtual Machine)."},{"owner":{"account_id":15647486,"reputation":561,"user_id":11289386,"display_name":"Phuri Chalermkiatsakul"},"score":0,"creation_date":1652242790,"post_id":72166643,"comment_id":127556224,"body_markdown":"Hello, it seems the code you are trying to run is for Scala notebook not Python.","body":"Hello, it seems the code you are trying to run is for Scala notebook not Python."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1653315253,"post_id":72166643,"comment_id":127815390,"body_markdown":"JPype? https://stackoverflow.com/questions/46353440/connecting-and-testing-a-jdbc-driver-from-python","body":"JPype? <a href=\"https://stackoverflow.com/questions/46353440/connecting-and-testing-a-jdbc-driver-from-python\" title=\"connecting and testing a jdbc driver from python\">stackoverflow.com/questions/46353440/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1081265,"reputation":5264,"user_id":1078199,"accept_rate":86,"display_name":"charmoniumQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690494294,"creation_date":1690494294,"answer_id":76783578,"question_id":72166643,"body_markdown":"There is no `java` package you can install for CPython (with no modifier, Python refers to CPython); Run the code in Jython rather than CPython.\r\n\r\nJython integrates with Java and lets you import packages in Java&#39;s `java.*` namespace, such as `java.sql.DriverManager`. See [here](https://jython.readthedocs.io/en/latest/ModulesPackages/) for more details.","title":"ModuleNotFoundError: No module named &#39;java&#39;","body":"<p>There is no <code>java</code> package you can install for CPython (with no modifier, Python refers to CPython); Run the code in Jython rather than CPython.</p>\n<p>Jython integrates with Java and lets you import packages in Java's <code>java.*</code> namespace, such as <code>java.sql.DriverManager</code>. See <a href=\"https://jython.readthedocs.io/en/latest/ModulesPackages/\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"}],"owner":{"account_id":1277077,"reputation":22495,"user_id":1232087,"accept_rate":60,"display_name":"nam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1414,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690494294,"creation_date":1652066084,"question_id":72166643,"body_markdown":"In my Python notebook in Azure Databricks, the following import statement gives the error shown below. It seems I am missing some package.\r\n\r\nWhat package am I missing, and how can I install it?\r\n\r\n**Ref**: [This][1] post. Please note this linked post is using Scala, but I am using Python as I don&#39;t know Scala.\r\n\r\n    import java.sql.DriverManager\r\n\r\nError:\r\n&gt;ModuleNotFoundError: No module named &#39;java&#39;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63065753/1232087","title":"ModuleNotFoundError: No module named &#39;java&#39;","body":"<p>In my Python notebook in Azure Databricks, the following import statement gives the error shown below. It seems I am missing some package.</p>\n<p>What package am I missing, and how can I install it?</p>\n<p><strong>Ref</strong>: <a href=\"https://stackoverflow.com/a/63065753/1232087\">This</a> post. Please note this linked post is using Scala, but I am using Python as I don't know Scala.</p>\n<pre><code>import java.sql.DriverManager\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>ModuleNotFoundError: No module named 'java'</p>\n</blockquote>\n"},{"tags":["java","netty"],"answers":[{"tags":[],"owner":{"account_id":4995828,"reputation":4085,"user_id":4124076,"display_name":"Manish Maheshwari"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1690493791,"creation_date":1413748657,"answer_id":26454764,"question_id":26446922,"body_markdown":"The `handler`, which is defined in the AbstractBootstrap  is used when writing Netty based clients.\r\n\r\nWhen writing netty based servers, that can work upon multiple accepted channels, use a child handler which will handle I/O and data for the accepted channels, by using `childHandler` as defined in the ServerBootstrap. \r\n","title":"What is the difference between handler( ChannelHandler c) and childHandler( ChannelHandler c) for ServerBootstrap?","body":"<p>The <code>handler</code>, which is defined in the AbstractBootstrap  is used when writing Netty based clients.</p>\n<p>When writing netty based servers, that can work upon multiple accepted channels, use a child handler which will handle I/O and data for the accepted channels, by using <code>childHandler</code> as defined in the ServerBootstrap.</p>\n"},{"tags":[],"owner":{"account_id":11681394,"reputation":157,"user_id":8552977,"display_name":"Jacky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505930236,"creation_date":1505925469,"answer_id":46327458,"question_id":26446922,"body_markdown":"Handler method will be executed on ServerBootstrap initialization, however `childHandler` will be executed when connection completes.\r\n\r\n    b.group(bossGroup, workerGroup)\r\n        .channel(NioServerSocketChannel.class)\r\n        .handler(new LoggingHandler(LogLevel.INFO))\r\n        .childHandler(new ServerInitializer(this.hander));\r\n\r\nWhen you start the server, you can see the log as below:\r\n\r\n    2017-09-20 08:44:34,034\tINFO\tnioEventLoopGroup-2-1\tLoggingHandler:150   [id: 0x920c9647, L:/0:0:0:0:0:0:0:0:6030] ACTIVE\r\n    2017-09-20 08:44:34,034\tINFO\tnioEventLoopGroup-3-1\tLoggingHandler:150   [id: 0x048bb39e, L:/0:0:0:0:0:0:0:0:6031] ACTIVE\r\n\r\n","title":"What is the difference between handler( ChannelHandler c) and childHandler( ChannelHandler c) for ServerBootstrap?","body":"<p>Handler method will be executed on ServerBootstrap initialization, however <code>childHandler</code> will be executed when connection completes.</p>\n\n<pre><code>b.group(bossGroup, workerGroup)\n    .channel(NioServerSocketChannel.class)\n    .handler(new LoggingHandler(LogLevel.INFO))\n    .childHandler(new ServerInitializer(this.hander));\n</code></pre>\n\n<p>When you start the server, you can see the log as below:</p>\n\n<pre><code>2017-09-20 08:44:34,034 INFO    nioEventLoopGroup-2-1   LoggingHandler:150   [id: 0x920c9647, L:/0:0:0:0:0:0:0:0:6030] ACTIVE\n2017-09-20 08:44:34,034 INFO    nioEventLoopGroup-3-1   LoggingHandler:150   [id: 0x048bb39e, L:/0:0:0:0:0:0:0:0:6031] ACTIVE\n</code></pre>\n"}],"owner":{"account_id":1888031,"reputation":8546,"user_id":1706851,"accept_rate":76,"display_name":"JBT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3896,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26454764,"answer_count":2,"score":7,"last_activity_date":1690493791,"creation_date":1413688378,"question_id":26446922,"body_markdown":"I am new to Netty. One thing I find confusing is that ServerBootstrap has two methods: handler( ChannelHandler c), which is inherited from AbstractBootstrap, and childHandler( ChannelHandler c), both of which seem to be doing the same thing, based on the javadoc. So, is that true? Are there any differences between the two methods?","title":"What is the difference between handler( ChannelHandler c) and childHandler( ChannelHandler c) for ServerBootstrap?","body":"<p>I am new to Netty. One thing I find confusing is that ServerBootstrap has two methods: handler( ChannelHandler c), which is inherited from AbstractBootstrap, and childHandler( ChannelHandler c), both of which seem to be doing the same thing, based on the javadoc. So, is that true? Are there any differences between the two methods?</p>\n"},{"tags":["java","pdf","openpdf"],"answers":[{"tags":[],"owner":{"account_id":8347648,"reputation":656,"user_id":6270875,"accept_rate":100,"display_name":"hiaclibe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690489495,"creation_date":1690489495,"answer_id":76783180,"question_id":76783179,"body_markdown":"Hope that helps someone out there. I used following\r\n\r\n```\r\ncom.lowagie.text.pdf.PdfStamper.setFullCompression();\r\ncom.lowagie.text.pdf.PdfStamper.getWriter().setFullCompression();\r\ncom.lowagie.text.pdf.PdfWriter.setFullCompression();\r\ncom.lowagie.text.pdf.PdfWriter.setCompressionLevel(com.lowagie.text.pdf.PdfStream.BEST_COMPRESSION);\r\n```\r\n\r\nAnd instead using\r\n```\r\nImage image = Image.getInstance(((java.io.File) singlePageTiff).getAbsolutePath());\r\n//or\r\nImage image = Image.getInstance((java.awt.image.BufferedImage) pageImage, null, forceBlackAndWhite);\r\n```\r\n\r\nI used a compressed Image\r\n```\r\njava.awt.image.BufferedImage pageImage = ...\r\nint width = pageImage.getWidth(); \r\nint height  = pageImage.getHeight();\r\nboolean reverseBits = false;\r\nint typeCCITT = com.lowagie.text.Image.CCITTG4; \r\n//see com.lowagie.text.Image.CCITT_BLACKIS1; \r\nint parameters = 0;          \r\nbyte[] data = ((java.awt.image.DataBufferByte) pageImage.getRaster().getDataBuffer()).getData();\r\nObjects.requireNonNull(data);\r\nint[] transparency = null;\r\nbyte[] g4 = com.lowagie.text.pdf.codec.CCITTG4Encoder.compress(data, width, height);\r\ncom.lowagie.text.Image image = com.lowagie.text.Image.getInstance(width, height, reverseBits, typeCCITT, parameters, g4, transparency);\r\n```\r\n\r\n\r\n","title":"OpenPDF shrink PDF","body":"<p>Hope that helps someone out there. I used following</p>\n<pre><code>com.lowagie.text.pdf.PdfStamper.setFullCompression();\ncom.lowagie.text.pdf.PdfStamper.getWriter().setFullCompression();\ncom.lowagie.text.pdf.PdfWriter.setFullCompression();\ncom.lowagie.text.pdf.PdfWriter.setCompressionLevel(com.lowagie.text.pdf.PdfStream.BEST_COMPRESSION);\n</code></pre>\n<p>And instead using</p>\n<pre><code>Image image = Image.getInstance(((java.io.File) singlePageTiff).getAbsolutePath());\n//or\nImage image = Image.getInstance((java.awt.image.BufferedImage) pageImage, null, forceBlackAndWhite);\n</code></pre>\n<p>I used a compressed Image</p>\n<pre><code>java.awt.image.BufferedImage pageImage = ...\nint width = pageImage.getWidth(); \nint height  = pageImage.getHeight();\nboolean reverseBits = false;\nint typeCCITT = com.lowagie.text.Image.CCITTG4; \n//see com.lowagie.text.Image.CCITT_BLACKIS1; \nint parameters = 0;          \nbyte[] data = ((java.awt.image.DataBufferByte) pageImage.getRaster().getDataBuffer()).getData();\nObjects.requireNonNull(data);\nint[] transparency = null;\nbyte[] g4 = com.lowagie.text.pdf.codec.CCITTG4Encoder.compress(data, width, height);\ncom.lowagie.text.Image image = com.lowagie.text.Image.getInstance(width, height, reverseBits, typeCCITT, parameters, g4, transparency);\n</code></pre>\n"}],"owner":{"account_id":8347648,"reputation":656,"user_id":6270875,"accept_rate":100,"display_name":"hiaclibe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690491805,"creation_date":1690489495,"question_id":76783179,"body_markdown":"**Setup**:\r\nCreating OpenPDF from multipage TIFF with adding each TIFF page as com.lowagie.text.Image\r\n\r\n```\r\n...\r\ncom.lowagie.text.Document pdfDocument = new com.lowagie.text.Document();\r\ncom.lowagie.text.Image image01 = getPage(pageNumber);\r\ndocument.add(image01);\r\n...\r\n```\r\n\r\n**The Problem**: The file size\r\n\r\n**Question**: How to reduce file size?","title":"OpenPDF shrink PDF","body":"<p><strong>Setup</strong>:\nCreating OpenPDF from multipage TIFF with adding each TIFF page as com.lowagie.text.Image</p>\n<pre><code>...\ncom.lowagie.text.Document pdfDocument = new com.lowagie.text.Document();\ncom.lowagie.text.Image image01 = getPage(pageNumber);\ndocument.add(image01);\n...\n</code></pre>\n<p><strong>The Problem</strong>: The file size</p>\n<p><strong>Question</strong>: How to reduce file size?</p>\n"},{"tags":["java","spring-boot","spring-boot-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690473589,"creation_date":1690472579,"answer_id":76781424,"question_id":76781330,"body_markdown":"&gt; How does SpringBoot 2.7.x support multi-version JDK ?\r\n\r\nIt&#39;s called [Toolchains support][1]. Which allows you to specify a different JDK version for different builds for Spring Boot application, \r\nIt (almost not new) feature in Apache Maven that allows you to specify a different version of the JDK(s).\r\nTo do so you can simply add `toolchains.xml` file in your project&#39;s root directory which in that specifies the JDK version that you wish to use for building and running your application.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n      &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;version&gt;11&lt;/version&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n          &lt;jdkHome&gt;/pathtojdk11/jdk11&lt;/jdkHome&gt;\r\n          ...\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n      &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;version&gt;17&lt;/version&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n          &lt;jdkHome&gt;/pathtojdk17/jdk17&lt;/jdkHome&gt;\r\n          ...\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\nGradle also does, see [here][2].\r\n\r\n&gt; Could anyone tell me how SpingBoot resolve `ClassNotFoundException` problem?  \r\n\r\nSpring does not,It&#39;s not related to framework actually it occur during `runtime` when the JVM is unable to find a class that is referenced in your code (same like JDK version changes) and they are many strategies to prevent it most of them are related to build tools and their plugins.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-toolchains.html\r\n  [2]: https://docs.gradle.org/current/userguide/toolchains.html","title":"How does SpringBoot 2.7.x support multi-version JDK","body":"<blockquote>\n<p>How does SpringBoot 2.7.x support multi-version JDK ?</p>\n</blockquote>\n<p>It's called <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">Toolchains support</a>. Which allows you to specify a different JDK version for different builds for Spring Boot application,\nIt (almost not new) feature in Apache Maven that allows you to specify a different version of the JDK(s).\nTo do so you can simply add <code>toolchains.xml</code> file in your project's root directory which in that specifies the JDK version that you wish to use for building and running your application.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;toolchains&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;11&lt;/version&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;/pathtojdk11/jdk11&lt;/jdkHome&gt;\n      ...\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;17&lt;/version&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;/pathtojdk17/jdk17&lt;/jdkHome&gt;\n      ...\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n\n<p>Gradle also does, see <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Could anyone tell me how SpingBoot resolve <code>ClassNotFoundException</code> problem?</p>\n</blockquote>\n<p>Spring does not,It's not related to framework actually it occur during <code>runtime</code> when the JVM is unable to find a class that is referenced in your code (same like JDK version changes) and they are many strategies to prevent it most of them are related to build tools and their plugins.</p>\n"},{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690476429,"creation_date":1690476429,"answer_id":76781883,"question_id":76781330,"body_markdown":"Generally speaking, Java is very backwards compatible and APIs are rarely removed. This means that there are very few APIs that exist in Java 8 but don&#39;t exist in Java 17.\r\n\r\n&gt;  Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.\r\n\r\nThanks to the backwards compatibility described above, this is what Spring Boot is able to do at the moment with no real disadvantages.\r\n\r\nThis will change a little with Java 21. Spring Boot 3.2 will add support for virtual threads which are new, (other than earlier preview releases) in Java 21. Spring Framework&#39;s virtual thread support is implemented using a [multi-release jar](https://openjdk.org/jeps/238) with [Java 21-specific code](https://github.com/spring-projects/spring-framework/blob/7681200ee7b939ac9771f434c8ab9ae5ac482dd9/spring-core/src/main/java21/org/springframework/core/task/VirtualThreadDelegate.java) interacting with the JDK&#39;s virtual threads APIs. This will allow Spring Framework 6.1 and Spring Boot 3.2 to support virtual threads while also continuing to support earlier JDKs. Spring Boot will [enable Spring Framework&#39;s virtual thread support on Java 21 and later using its `@ConditionalOnJava` support](https://github.com/spring-projects/spring-boot/blob/96796cc9b508498443751b6c2f10a926a301d49f/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/ConditionalOnVirtualThreads.java#L38).\r\n","title":"How does SpringBoot 2.7.x support multi-version JDK","body":"<p>Generally speaking, Java is very backwards compatible and APIs are rarely removed. This means that there are very few APIs that exist in Java 8 but don't exist in Java 17.</p>\n<blockquote>\n<p>Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.</p>\n</blockquote>\n<p>Thanks to the backwards compatibility described above, this is what Spring Boot is able to do at the moment with no real disadvantages.</p>\n<p>This will change a little with Java 21. Spring Boot 3.2 will add support for virtual threads which are new, (other than earlier preview releases) in Java 21. Spring Framework's virtual thread support is implemented using a <a href=\"https://openjdk.org/jeps/238\" rel=\"nofollow noreferrer\">multi-release jar</a> with <a href=\"https://github.com/spring-projects/spring-framework/blob/7681200ee7b939ac9771f434c8ab9ae5ac482dd9/spring-core/src/main/java21/org/springframework/core/task/VirtualThreadDelegate.java\" rel=\"nofollow noreferrer\">Java 21-specific code</a> interacting with the JDK's virtual threads APIs. This will allow Spring Framework 6.1 and Spring Boot 3.2 to support virtual threads while also continuing to support earlier JDKs. Spring Boot will <a href=\"https://github.com/spring-projects/spring-boot/blob/96796cc9b508498443751b6c2f10a926a301d49f/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/ConditionalOnVirtualThreads.java#L38\" rel=\"nofollow noreferrer\">enable Spring Framework's virtual thread support on Java 21 and later using its <code>@ConditionalOnJava</code> support</a>.</p>\n"}],"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76781883,"answer_count":2,"score":1,"last_activity_date":1690491540,"creation_date":1690471869,"question_id":76781330,"body_markdown":"SpringBoot 2.7.x is known to be developed using JDK 1.8, but when we introduce the Spring Boot 2.7.x dependency, we can develop and run on JDK 1.8, JDK 11, and JDK 17. \r\n\r\nI want to figure out how Spring Boot support multi-version JDK running, and how SpringBoot handle deprecated API or dependency(e.g if we use JDK 11, `rt.jar` will not inclued in classpath, how SpringBoot reslove this problem?). is SpringBoot avoid to use deprecated API or is there a way to choose an API based on the JDK version.\r\n\r\nIn my opinion, if SpringBoot 2.7.x use API which is removed in JDK 8+, users who use JDK 11 or JDK 17 will encounter `ClassNotFoundException` when start the application. Could anyone tell me how SpingBoot resolve this problem? Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.\r\n\r\nThanks in advance!","title":"How does SpringBoot 2.7.x support multi-version JDK","body":"<p>SpringBoot 2.7.x is known to be developed using JDK 1.8, but when we introduce the Spring Boot 2.7.x dependency, we can develop and run on JDK 1.8, JDK 11, and JDK 17.</p>\n<p>I want to figure out how Spring Boot support multi-version JDK running, and how SpringBoot handle deprecated API or dependency(e.g if we use JDK 11, <code>rt.jar</code> will not inclued in classpath, how SpringBoot reslove this problem?). is SpringBoot avoid to use deprecated API or is there a way to choose an API based on the JDK version.</p>\n<p>In my opinion, if SpringBoot 2.7.x use API which is removed in JDK 8+, users who use JDK 11 or JDK 17 will encounter <code>ClassNotFoundException</code> when start the application. Could anyone tell me how SpingBoot resolve this problem? Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","javadoc","checkstyle"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1541221800,"post_id":53125176,"comment_id":93151427,"body_markdown":"Where it says you must have a blank line?","body":"Where it says you must have a blank line?"},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1541435156,"post_id":53125176,"comment_id":93207210,"body_markdown":"&quot;... and one blank line before the at-clauses block if it is present.&quot;","body":"&quot;... and one blank line before the at-clauses block if it is present.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541189500,"creation_date":1541189500,"answer_id":53125245,"question_id":53125176,"body_markdown":"The [`JavadocParagraph`](http://checkstyle.sourceforge.net/config_javadoc.html#JavadocParagraph) check should ensure that. Just add the following to your checkstyle configuration:\r\n\r\n\r\n    &lt;module name=&quot;JavadocParagraph&quot;/&gt;","title":"How do I get checkstyle to fail when there is no blank line between javadoc and @param","body":"<p>The <a href=\"http://checkstyle.sourceforge.net/config_javadoc.html#JavadocParagraph\" rel=\"nofollow noreferrer\"><code>JavadocParagraph</code></a> check should ensure that. Just add the following to your checkstyle configuration:</p>\n\n<pre><code>&lt;module name=\"JavadocParagraph\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3064478,"reputation":558,"user_id":2596509,"display_name":"Aron Foster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690491109,"creation_date":1690491109,"answer_id":76783342,"question_id":53125176,"body_markdown":"This is [now available](https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagGroupCheck.html) with\r\n\r\n    &lt;module name=&quot;RequireEmptyLineBeforeBlockTagGroup&quot;/&gt;","title":"How do I get checkstyle to fail when there is no blank line between javadoc and @param","body":"<p>This is <a href=\"https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagGroupCheck.html\" rel=\"nofollow noreferrer\">now available</a> with</p>\n<pre><code>&lt;module name=&quot;RequireEmptyLineBeforeBlockTagGroup&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76783342,"answer_count":2,"score":2,"last_activity_date":1690491109,"creation_date":1541189161,"question_id":53125176,"body_markdown":"For instance, I have the code below. I want checkstyle to complain because there is no blank line between my top level javadoc comment and my @ clauses.\r\n\r\n    /**\r\n     * This line or the next line should fail checkstyle.\r\n     * @param param is essential\r\n     * @throws Exception is thrown when something bad happens\r\n     */\r\n\r\nCheckstyle should not complain when the javadoc is changed to look like:\r\n\r\n\r\n    /**\r\n     * This line or the next line should no longer fail.\r\n     * \r\n     * @param param is essential\r\n     * @throws Exception is thrown when something bad happens\r\n     */\r\n\r\n\r\nI tried using @Mureinik &#39;s suggestion and it does not complain about my lack of blank line between the first paragraph and the @-clauses. I verified that eclipse has recognized that I enabled JavadocParagraph in the screenshot below.\r\n\r\n    &lt;module name=&quot;JavadocParagraph&quot;/&gt;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6p1gR.png","title":"How do I get checkstyle to fail when there is no blank line between javadoc and @param","body":"<p>For instance, I have the code below. I want checkstyle to complain because there is no blank line between my top level javadoc comment and my @ clauses.</p>\n\n<pre><code>/**\n * This line or the next line should fail checkstyle.\n * @param param is essential\n * @throws Exception is thrown when something bad happens\n */\n</code></pre>\n\n<p>Checkstyle should not complain when the javadoc is changed to look like:</p>\n\n<pre><code>/**\n * This line or the next line should no longer fail.\n * \n * @param param is essential\n * @throws Exception is thrown when something bad happens\n */\n</code></pre>\n\n<p>I tried using @Mureinik 's suggestion and it does not complain about my lack of blank line between the first paragraph and the @-clauses. I verified that eclipse has recognized that I enabled JavadocParagraph in the screenshot below.</p>\n\n<pre><code>&lt;module name=\"JavadocParagraph\"/&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6p1gR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6p1gR.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","release"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690480279,"post_id":76781854,"comment_id":135363389,"body_markdown":"There is no predefined interval (although it might seem like it) I think they strive to once a month. They release when they think it needs to be released. If there is nothing to release there will be no release. And yes all modules will be released and you should always use the same version for all modules and don&#39;t mix versions.","body":"There is no predefined interval (although it might seem like it) I think they strive to once a month. They release when they think it needs to be released. If there is nothing to release there will be no release. And yes all modules will be released and you should always use the same version for all modules and don&#39;t mix versions."}],"owner":{"account_id":17722379,"reputation":2112,"user_id":12867091,"display_name":"Tashkhisi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690491022,"creation_date":1690476209,"question_id":76781854,"body_markdown":"Could someone help me understand how the release process for [Spring][1] project works, as far as I can see in the project, the final artifacts of different modules of this project are released on some predefined interval. Does it mean that all the modules will be released with the same release version at those interval even if there is no changes in an specific module? what about bug fixes? Do they have new release for all the modules even if they are fixing a bug for a specific module?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework\r\n  [2]: https://i.stack.imgur.com/wXX3Y.png\r\n  [3]: https://i.stack.imgur.com/BvBuR.png","title":"Spring project release process","body":"<p>Could someone help me understand how the release process for <a href=\"https://github.com/spring-projects/spring-framework\" rel=\"nofollow noreferrer\">Spring</a> project works, as far as I can see in the project, the final artifacts of different modules of this project are released on some predefined interval. Does it mean that all the modules will be released with the same release version at those interval even if there is no changes in an specific module? what about bug fixes? Do they have new release for all the modules even if they are fixing a bug for a specific module?</p>\n<p><a href=\"https://i.stack.imgur.com/wXX3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wXX3Y.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BvBuR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BvBuR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690483528,"post_id":76782606,"comment_id":135363976,"body_markdown":"The issue you&#39;re facing is related to MongoDB&#39;s object mapping and serialization. When you use the type `Object` for the payload property, MongoDB&#39;s default codec doesn&#39;t know how to handle it since `Object` **is a very generic type** that can represent various data types. Have you considered using the `Document` class?","body":"The issue you&#39;re facing is related to MongoDB&#39;s object mapping and serialization. When you use the type <code>Object</code> for the payload property, MongoDB&#39;s default codec doesn&#39;t know how to handle it since <code>Object</code> <b>is a very generic type</b> that can represent various data types. Have you considered using the <code>Document</code> class?"},{"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"score":0,"creation_date":1690485393,"post_id":76782606,"comment_id":135364309,"body_markdown":"I tried using Document, when the property value is an object it even works but when it&#39;s a String it throws an exception.\n\n&gt; javax.json.bind.JsonbException: Unable to deserialize property &#39;payload&#39; because of: Error deserialize JSON value into type: class org.bson.Document.","body":"I tried using Document, when the property value is an object it even works but when it&#39;s a String it throws an exception.  &gt; javax.json.bind.JsonbException: Unable to deserialize property &#39;payload&#39; because of: Error deserialize JSON value into type: class org.bson.Document."},{"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"score":0,"creation_date":1690486294,"post_id":76782606,"comment_id":135364456,"body_markdown":"@DiegoBorba, So can i create a codec where mongoDb learns to serialize and deserialize an object, right?","body":"@DiegoBorba, So can i create a codec where mongoDb learns to serialize and deserialize an object, right?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690486400,"post_id":76782606,"comment_id":135364479,"body_markdown":"Sure! You can use `MongoClientSettings.codecRegistry(*codecHere*)`.","body":"Sure! You can use <code>MongoClientSettings.codecRegistry(*codecHere*)</code>."},{"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"score":1,"creation_date":1690488966,"post_id":76782606,"comment_id":135364970,"body_markdown":"I did using RegisterForReflection to register my codec, I&#39;ll post an answer showing how it turned out. thanks @DiegoBorba for the tip.","body":"I did using RegisterForReflection to register my codec, I&#39;ll post an answer showing how it turned out. thanks @DiegoBorba for the tip."}],"answers":[{"tags":[],"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690490199,"creation_date":1690490199,"answer_id":76783254,"question_id":76782606,"body_markdown":"With @DiegoBorda&#39;s tip and after doing extensive research and discussion with ChatGPT I came up with a solution that worked for me.\r\n\r\nI am sharing this solution because other people might encounter the same issue.\r\n\r\nI created an `ObjectCodec` implemented as a `Codec`.\r\n\r\n```java\r\nimport java.lang.reflect.Field;\r\nimport java.math.BigDecimal;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.bson.BsonReader;\r\nimport org.bson.BsonType;\r\nimport org.bson.BsonWriter;\r\nimport org.bson.codecs.Codec;\r\nimport org.bson.codecs.DecoderContext;\r\nimport org.bson.codecs.EncoderContext;\r\nimport org.bson.types.Decimal128;\r\n\r\npublic class ObjectCodec implements Codec&lt;Object&gt; {\r\n\r\n    @Override\r\n    public void encode(BsonWriter writer, Object value, EncoderContext encoderContext) {\r\n        writeValue(writer, value);\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;Object&gt; getEncoderClass() {\r\n        return Object.class;\r\n    }\r\n\r\n    @Override\r\n    public Object decode(BsonReader reader, DecoderContext decoderContext) {\r\n        return readValue(reader);\r\n    }\r\n\r\n    private static Object readValue(BsonReader bsonReader) {\r\n        var type = bsonReader.getCurrentBsonType();\r\n        switch (type) {\r\n            case ARRAY:\r\n                ArrayList&lt;Object&gt; array = new ArrayList&lt;&gt;();\r\n                bsonReader.readStartArray();\r\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\r\n                    array.add(readValue(bsonReader));\r\n                }\r\n                bsonReader.readEndArray();\r\n                return array;\r\n            case BINARY:\r\n                return bsonReader.readBinaryData();\r\n            case BOOLEAN:\r\n                return bsonReader.readBoolean();\r\n            case DATE_TIME:\r\n                return bsonReader.readDateTime();\r\n            case DB_POINTER:\r\n                return bsonReader.readDBPointer();\r\n            case DECIMAL128:\r\n                return bsonReader.readDecimal128();\r\n            case DOCUMENT:\r\n                HashMap&lt;String, Object&gt; nestedMap = new HashMap&lt;&gt;();\r\n                bsonReader.readStartDocument();\r\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\r\n                    nestedMap.put(bsonReader.readName(), readValue(bsonReader));\r\n                }\r\n                bsonReader.readEndDocument();\r\n                return nestedMap;\r\n            case DOUBLE:\r\n                return bsonReader.readDouble();\r\n            case INT32:\r\n                return bsonReader.readInt32();\r\n            case INT64:\r\n                return bsonReader.readInt64();\r\n            case NULL:\r\n                return null;\r\n            case OBJECT_ID:\r\n                return bsonReader.readObjectId();\r\n            case STRING:\r\n                return bsonReader.readString();\r\n            case TIMESTAMP:\r\n                return bsonReader.readTimestamp();\r\n            case UNDEFINED:\r\n                return null;\r\n            default:\r\n                return null;\r\n\r\n        }\r\n    }\r\n\r\n    private static void writeValue(BsonWriter bsonWriter, Object value) {\r\n        if (value instanceof String) {\r\n            bsonWriter.writeString(value.toString());\r\n        } else if (value instanceof Integer) {\r\n            bsonWriter.writeInt32((Integer) value);\r\n        } else if (value instanceof Long) {\r\n            bsonWriter.writeInt64((Long) value);\r\n        } else if (value instanceof BigDecimal) {\r\n            bsonWriter.writeDecimal128(Decimal128.parse(value.toString()));\r\n        } else if (value instanceof Double) {\r\n            bsonWriter.writeDouble((Double) value);\r\n        } else if (value instanceof Boolean) {\r\n            bsonWriter.writeBoolean((Boolean) value);\r\n        } else if (value instanceof HashMap) {\r\n            // Recursively handle HashMap for nesting\r\n            bsonWriter.writeStartDocument();\r\n            HashMap&lt;?, ?&gt; nestedMap = (HashMap&lt;?, ?&gt;) value;\r\n            for (Map.Entry&lt;?, ?&gt; entry : nestedMap.entrySet()) {\r\n                String key = entry.getKey().toString();\r\n                Object nestedValue = entry.getValue();\r\n                bsonWriter.writeName(key);\r\n                writeValue(bsonWriter, nestedValue);\r\n            }\r\n            bsonWriter.writeEndDocument();\r\n        } else if (value instanceof ArrayList) {\r\n            ArrayList&lt;?&gt; arrayList = (ArrayList&lt;?&gt;) value;\r\n            bsonWriter.writeStartArray();\r\n            for (Object item : arrayList) {\r\n                writeValue(bsonWriter, item);\r\n            }\r\n            bsonWriter.writeEndArray();\r\n        } else if (value.getClass().isArray()) {\r\n            bsonWriter.writeStartArray();\r\n            int length = java.lang.reflect.Array.getLength(value);\r\n            for (int i = 0; i &lt; length; i++) {\r\n                Object item = java.lang.reflect.Array.get(value, i);\r\n                writeValue(bsonWriter, item);\r\n            }\r\n            bsonWriter.writeEndArray();\r\n        } else {\r\n            try {\r\n                Class&lt;?&gt; clazz = value.getClass();\r\n                bsonWriter.writeStartDocument();\r\n                while (clazz != null) {\r\n                    Field[] fields = clazz.getDeclaredFields();\r\n                    for (Field field : fields) {\r\n                        int modifiers = field.getModifiers();\r\n                        if (!java.lang.reflect.Modifier.isFinal(modifiers)) {\r\n                            field.setAccessible(true);\r\n                            String fieldName = field.getName();\r\n                            if (fieldName.equals(&quot;id&quot;)) {\r\n                                fieldName = &quot;_id&quot;;\r\n                            }\r\n                            Object fieldValue = field.get(value);\r\n                            bsonWriter.writeName(fieldName);\r\n                            writeValue(bsonWriter, fieldValue);\r\n                        }\r\n                    }\r\n                    clazz = clazz.getSuperclass();\r\n                }\r\n                bsonWriter.writeEndDocument();\r\n\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen create a Custom Codec Provider by instantiating my ObjectCodec.\r\n\r\n```java\r\nimport io.quarkus.runtime.annotations.RegisterForReflection;\r\nimport org.bson.codecs.Codec;\r\nimport org.bson.codecs.configuration.CodecProvider;\r\nimport org.bson.codecs.configuration.CodecRegistry;\r\n\r\nimport javax.inject.Singleton;\r\n\r\n@Singleton\r\n@RegisterForReflection\r\npublic class CustomCodecProvider implements CodecProvider {\r\n    private final Codec&lt;Object&gt; objectCodec;\r\n\r\n    public CustomCodecProvider() {\r\n        // Create an instance of the custom ObjectCodec and pass the default CodecRegistry for internal use, if needed.\r\n        this.objectCodec = new ObjectCodec();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T&gt; Codec&lt;T&gt; get(Class&lt;T&gt; clazz, CodecRegistry registry) {\r\n        // Check if the type is Object and return the custom ObjectCodec.\r\n        if (clazz == Object.class) {\r\n            return (Codec&lt;T&gt;) objectCodec;\r\n        }\r\n        return null; // If the type is not Object, return null to let other default MongoDB codecs be used.\r\n    }\r\n}\r\n```\r\n\r\nThen I had to register the CustomCodecProvider in my `application.properties`.\r\n\r\n```properties\r\nquarkus:\r\n  mongodb:\r\n    codec-providers: br.com.api.infra.crosscutting.ioc.config.CustomCodecProvider\r\n```\r\n\r\nThis is working for me, but if anyone has other solutions, I&#39;d like to try them out.","title":"Can&#39;t find a codec for class java.lang.Object","body":"<p>With @DiegoBorda's tip and after doing extensive research and discussion with ChatGPT I came up with a solution that worked for me.</p>\n<p>I am sharing this solution because other people might encounter the same issue.</p>\n<p>I created an <code>ObjectCodec</code> implemented as a <code>Codec</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\nimport java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.bson.BsonReader;\nimport org.bson.BsonType;\nimport org.bson.BsonWriter;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.DecoderContext;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.types.Decimal128;\n\npublic class ObjectCodec implements Codec&lt;Object&gt; {\n\n    @Override\n    public void encode(BsonWriter writer, Object value, EncoderContext encoderContext) {\n        writeValue(writer, value);\n    }\n\n    @Override\n    public Class&lt;Object&gt; getEncoderClass() {\n        return Object.class;\n    }\n\n    @Override\n    public Object decode(BsonReader reader, DecoderContext decoderContext) {\n        return readValue(reader);\n    }\n\n    private static Object readValue(BsonReader bsonReader) {\n        var type = bsonReader.getCurrentBsonType();\n        switch (type) {\n            case ARRAY:\n                ArrayList&lt;Object&gt; array = new ArrayList&lt;&gt;();\n                bsonReader.readStartArray();\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\n                    array.add(readValue(bsonReader));\n                }\n                bsonReader.readEndArray();\n                return array;\n            case BINARY:\n                return bsonReader.readBinaryData();\n            case BOOLEAN:\n                return bsonReader.readBoolean();\n            case DATE_TIME:\n                return bsonReader.readDateTime();\n            case DB_POINTER:\n                return bsonReader.readDBPointer();\n            case DECIMAL128:\n                return bsonReader.readDecimal128();\n            case DOCUMENT:\n                HashMap&lt;String, Object&gt; nestedMap = new HashMap&lt;&gt;();\n                bsonReader.readStartDocument();\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\n                    nestedMap.put(bsonReader.readName(), readValue(bsonReader));\n                }\n                bsonReader.readEndDocument();\n                return nestedMap;\n            case DOUBLE:\n                return bsonReader.readDouble();\n            case INT32:\n                return bsonReader.readInt32();\n            case INT64:\n                return bsonReader.readInt64();\n            case NULL:\n                return null;\n            case OBJECT_ID:\n                return bsonReader.readObjectId();\n            case STRING:\n                return bsonReader.readString();\n            case TIMESTAMP:\n                return bsonReader.readTimestamp();\n            case UNDEFINED:\n                return null;\n            default:\n                return null;\n\n        }\n    }\n\n    private static void writeValue(BsonWriter bsonWriter, Object value) {\n        if (value instanceof String) {\n            bsonWriter.writeString(value.toString());\n        } else if (value instanceof Integer) {\n            bsonWriter.writeInt32((Integer) value);\n        } else if (value instanceof Long) {\n            bsonWriter.writeInt64((Long) value);\n        } else if (value instanceof BigDecimal) {\n            bsonWriter.writeDecimal128(Decimal128.parse(value.toString()));\n        } else if (value instanceof Double) {\n            bsonWriter.writeDouble((Double) value);\n        } else if (value instanceof Boolean) {\n            bsonWriter.writeBoolean((Boolean) value);\n        } else if (value instanceof HashMap) {\n            // Recursively handle HashMap for nesting\n            bsonWriter.writeStartDocument();\n            HashMap&lt;?, ?&gt; nestedMap = (HashMap&lt;?, ?&gt;) value;\n            for (Map.Entry&lt;?, ?&gt; entry : nestedMap.entrySet()) {\n                String key = entry.getKey().toString();\n                Object nestedValue = entry.getValue();\n                bsonWriter.writeName(key);\n                writeValue(bsonWriter, nestedValue);\n            }\n            bsonWriter.writeEndDocument();\n        } else if (value instanceof ArrayList) {\n            ArrayList&lt;?&gt; arrayList = (ArrayList&lt;?&gt;) value;\n            bsonWriter.writeStartArray();\n            for (Object item : arrayList) {\n                writeValue(bsonWriter, item);\n            }\n            bsonWriter.writeEndArray();\n        } else if (value.getClass().isArray()) {\n            bsonWriter.writeStartArray();\n            int length = java.lang.reflect.Array.getLength(value);\n            for (int i = 0; i &lt; length; i++) {\n                Object item = java.lang.reflect.Array.get(value, i);\n                writeValue(bsonWriter, item);\n            }\n            bsonWriter.writeEndArray();\n        } else {\n            try {\n                Class&lt;?&gt; clazz = value.getClass();\n                bsonWriter.writeStartDocument();\n                while (clazz != null) {\n                    Field[] fields = clazz.getDeclaredFields();\n                    for (Field field : fields) {\n                        int modifiers = field.getModifiers();\n                        if (!java.lang.reflect.Modifier.isFinal(modifiers)) {\n                            field.setAccessible(true);\n                            String fieldName = field.getName();\n                            if (fieldName.equals(&quot;id&quot;)) {\n                                fieldName = &quot;_id&quot;;\n                            }\n                            Object fieldValue = field.get(value);\n                            bsonWriter.writeName(fieldName);\n                            writeValue(bsonWriter, fieldValue);\n                        }\n                    }\n                    clazz = clazz.getSuperclass();\n                }\n                bsonWriter.writeEndDocument();\n\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then create a Custom Codec Provider by instantiating my ObjectCodec.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.runtime.annotations.RegisterForReflection;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.configuration.CodecProvider;\nimport org.bson.codecs.configuration.CodecRegistry;\n\nimport javax.inject.Singleton;\n\n@Singleton\n@RegisterForReflection\npublic class CustomCodecProvider implements CodecProvider {\n    private final Codec&lt;Object&gt; objectCodec;\n\n    public CustomCodecProvider() {\n        // Create an instance of the custom ObjectCodec and pass the default CodecRegistry for internal use, if needed.\n        this.objectCodec = new ObjectCodec();\n    }\n\n    @Override\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; Codec&lt;T&gt; get(Class&lt;T&gt; clazz, CodecRegistry registry) {\n        // Check if the type is Object and return the custom ObjectCodec.\n        if (clazz == Object.class) {\n            return (Codec&lt;T&gt;) objectCodec;\n        }\n        return null; // If the type is not Object, return null to let other default MongoDB codecs be used.\n    }\n}\n</code></pre>\n<p>Then I had to register the CustomCodecProvider in my <code>application.properties</code>.</p>\n<pre><code>quarkus:\n  mongodb:\n    codec-providers: br.com.api.infra.crosscutting.ioc.config.CustomCodecProvider\n</code></pre>\n<p>This is working for me, but if anyone has other solutions, I'd like to try them out.</p>\n"}],"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76783254,"answer_count":1,"score":0,"last_activity_date":1690490199,"creation_date":1690483298,"question_id":76782606,"body_markdown":"I created a simple entity with a property of type Object, because I can&#39;t control its type, it can be String or an object.\r\n\r\n\r\n```\r\n@MongoEntity(collection = &quot;myCollection&quot;, clientName = &quot;mongoClient1&quot;)\r\npublic class MyClass extends EntityId {\r\n   private String name;\r\n   private Int age;\r\n   private Object payload;\r\n\r\n   //Getters and Setters\r\n   ...\r\n}\r\n```\r\n\r\nI am trying to insert but the following error is occurring:\r\n\r\n&gt; Caused by: org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class java.lang.Object\r\n\r\n\r\n\r\nI tried to change the property to Document, BsonDocument and BsonValue but when its value is of type String another exception occurs because it is not possible to deserialize string for these types.\r\n\r\nDoes anyone have an idea how to solve this problem?","title":"Can&#39;t find a codec for class java.lang.Object","body":"<p>I created a simple entity with a property of type Object, because I can't control its type, it can be String or an object.</p>\n<pre><code>@MongoEntity(collection = &quot;myCollection&quot;, clientName = &quot;mongoClient1&quot;)\npublic class MyClass extends EntityId {\n   private String name;\n   private Int age;\n   private Object payload;\n\n   //Getters and Setters\n   ...\n}\n</code></pre>\n<p>I am trying to insert but the following error is occurring:</p>\n<blockquote>\n<p>Caused by: org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class java.lang.Object</p>\n</blockquote>\n<p>I tried to change the property to Document, BsonDocument and BsonValue but when its value is of type String another exception occurs because it is not possible to deserialize string for these types.</p>\n<p>Does anyone have an idea how to solve this problem?</p>\n"},{"tags":["java","java-8","java-11","java-6","lts"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1690486661,"post_id":76782885,"comment_id":135364527,"body_markdown":"LTS (long-term support) is a version that is to be supported for up to n-years after release. Java 8 has the longest support up to 2030 (16 years after its release). See: [Oracle Java SE Support Roadmap](https://www.oracle.com/java/technologies/java-se-support-roadmap.html#:~:text=For%20product%20releases%20after%20Java,Java%2021%20in%20September%202023.) for all the support dates for all current (and upcoming) LTS releases. If you are using Java 8, try to upgrade to 11, before transitioning to 17 or 21.","body":"LTS (long-term support) is a version that is to be supported for up to n-years after release. Java 8 has the longest support up to 2030 (16 years after its release). See: <a href=\"https://www.oracle.com/java/technologies/java-se-support-roadmap.html#:~:text=For%20product%20releases%20after%20Java,Java%2021%20in%20September%202023.\" rel=\"nofollow noreferrer\">Oracle Java SE Support Roadmap</a> for all the support dates for all current (and upcoming) LTS releases. If you are using Java 8, try to upgrade to 11, before transitioning to 17 or 21."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1690486980,"post_id":76782885,"comment_id":135364590,"body_markdown":"Mr. Polywhirl, thank you, it is helpfull","body":"Mr. Polywhirl, thank you, it is helpfull"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690489180,"post_id":76782885,"comment_id":135364997,"body_markdown":"In contrast, Oracle&#39;s current policy is to support non-LTS versions only until the next version is released.  And their current practice is to release a new version every six months.","body":"In contrast, Oracle&#39;s current policy is to support non-LTS versions only until the next version is released.  And their current practice is to release a new version every six months."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1690489598,"post_id":76782885,"comment_id":135365068,"body_markdown":"Please do not write &quot;JAVA&quot;. The name of the language is Java.","body":"Please do not write &quot;JAVA&quot;. The name of the language is Java."}],"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690489914,"creation_date":1690486332,"question_id":76782885,"body_markdown":"am I rightly understand what means LTS for Java?\r\nmy understanding:\r\n\r\nA lot of time after the release of the LTS version, if the support period has not yet expired, this version may receive an update despite the fact that even a new LTS version has already been released, for example, can JDK 17.0.7 get an update to 17.0.8 in 2023 when JDK 20 was released?\r\n\r\nI just want to make sure of my understanding\r\n","title":"am I rightly understand what means LTS for Java?","body":"<p>am I rightly understand what means LTS for Java?\nmy understanding:</p>\n<p>A lot of time after the release of the LTS version, if the support period has not yet expired, this version may receive an update despite the fact that even a new LTS version has already been released, for example, can JDK 17.0.7 get an update to 17.0.8 in 2023 when JDK 20 was released?</p>\n<p>I just want to make sure of my understanding</p>\n"},{"tags":["java","spring-boot","jboss","multipart"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1505216632,"post_id":46174398,"comment_id":79313086,"body_markdown":"If you are actually using Spring Boot then why do you use a `web.xml`? Basically you are using a different config for development and production right now. Also if you really need this you would need the Spring Boot Legacy stuff to properly bootstrap things.","body":"If you are actually using Spring Boot then why do you use a <code>web.xml</code>? Basically you are using a different config for development and production right now. Also if you really need this you would need the Spring Boot Legacy stuff to properly bootstrap things."},{"owner":{"account_id":299660,"reputation":365,"user_id":606367,"display_name":"Rebelek"},"score":0,"creation_date":1505288570,"post_id":46174398,"comment_id":79345491,"body_markdown":"Without web.xml application is not deployed correctly to jboss even though main class extends SpringBootServletInitializer with configure method override, have @SpringBootApplication annotation and &lt;start-class&gt; is set in pom.xml. After finished deployment endpoints are not detected and each url gives me 404. But I&#39;m not giving up, still trying to make it consistent.","body":"Without web.xml application is not deployed correctly to jboss even though main class extends SpringBootServletInitializer with configure method override, have @SpringBootApplication annotation and &lt;start-class&gt; is set in pom.xml. After finished deployment endpoints are not detected and each url gives me 404. But I&#39;m not giving up, still trying to make it consistent."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1505289717,"post_id":46174398,"comment_id":79346149,"body_markdown":"As stated if you use a web.xml use the Spring Boot Legacy project for bootstrapping. You have different configurations for dev and prod you are bootstrapping NOT spring boot which basically disables everything.","body":"As stated if you use a web.xml use the Spring Boot Legacy project for bootstrapping. You have different configurations for dev and prod you are bootstrapping NOT spring boot which basically disables everything."},{"owner":{"account_id":299660,"reputation":365,"user_id":606367,"display_name":"Rebelek"},"score":0,"creation_date":1505303831,"post_id":46174398,"comment_id":79356149,"body_markdown":"After removing web.xml, and adding missing entries in servlet initializers onStartup() problem is solved. Thank you both for good direction.","body":"After removing web.xml, and adding missing entries in servlet initializers onStartup() problem is solved. Thank you both for good direction."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1506543365,"post_id":46174398,"comment_id":79868630,"body_markdown":"@Rebelek consider adding that as an answer","body":"@Rebelek consider adding that as an answer"}],"answers":[{"tags":[],"owner":{"account_id":8715595,"reputation":475,"user_id":6520338,"display_name":"Masud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511861312,"creation_date":1506543158,"answer_id":46456456,"question_id":46174398,"body_markdown":"discussed here https://github.com/spring-projects/spring-boot/issues/2958 suggests if you are using `@EnableAutoConfiguration` then you need to do the following as because the springboot autoconfig causes issue:\r\n\r\n    @EnableAutoConfiguration(exclude = {MultipartAutoConfiguration.class})\r\n\r\ndefine the following beans\r\n\r\n    @Bean(name = &quot;multipartResolver&quot;) \r\n    public CommonsMultipartResolver commonsMultipartResolver(){ \r\n    CommonsMultipartResolver resolver = new CommonsMultipartResolver(); resolver.setMaxUploadSize(50*1024*1024); return resolver ; \r\n    }\r\n\r\n\r\n    @Bean @Order(0) public MultipartFilter multipartFilter()\r\n    { \r\n    MultipartFilter multipartFilter = new MultipartFilter(); \r\n    multipartFilter.setMultipartResolverBeanName(&quot;multipartResolver&quot;); \r\n    return multipartFilter; \r\n    }","title":"Multipart, spring-boot and JBoss - Required request part &#39;file&#39; is not present","body":"<p>discussed here <a href=\"https://github.com/spring-projects/spring-boot/issues/2958\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/2958</a> suggests if you are using <code>@EnableAutoConfiguration</code> then you need to do the following as because the springboot autoconfig causes issue:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = {MultipartAutoConfiguration.class})\n</code></pre>\n\n<p>define the following beans</p>\n\n<pre><code>@Bean(name = \"multipartResolver\") \npublic CommonsMultipartResolver commonsMultipartResolver(){ \nCommonsMultipartResolver resolver = new CommonsMultipartResolver(); resolver.setMaxUploadSize(50*1024*1024); return resolver ; \n}\n\n\n@Bean @Order(0) public MultipartFilter multipartFilter()\n{ \nMultipartFilter multipartFilter = new MultipartFilter(); \nmultipartFilter.setMultipartResolverBeanName(\"multipartResolver\"); \nreturn multipartFilter; \n}\n</code></pre>\n"}],"owner":{"account_id":299660,"reputation":365,"user_id":606367,"display_name":"Rebelek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690489567,"creation_date":1505213210,"question_id":46174398,"body_markdown":"I have an application that uses **spring-boot** and embedded **Tomcat** for development, and on production server it is deployed on **JBoss 6.4 EAP**.\r\nAfter adding support for JBoss, multipart file upload stopped working. On both containers it was throwing **MissingServletRequestPartException**.\r\n\r\nAdding *MultipartConfigElement* to *ServletRegistrationBean* fixed this issue on tomcat, but for JBoss it&#39;s still not working. Do you have any ideas where is the problem?\r\n\r\nConfiguration:\r\n\r\n    @Bean\r\n    public ServletRegistrationBean dispatcherRegistration(DispatcherServlet dispatcherServlet, MultipartConfigElement\r\n            multipartConfig) {\r\n        ServletRegistrationBean registration = new ServletRegistrationBean(dispatcherServlet);\r\n        registration.getUrlMappings().clear();\r\n        registration.addUrlMappings(&quot;/*&quot;);\r\n        registration.setMultipartConfig(multipartConfig);\r\n        return registration;\r\n    }\r\n\r\n\r\nEndpoint:\r\n\r\n    @RequestMapping(method = POST)\r\n    @ResponseBody\r\n    public SomeResponse uploadFileWithComment(\r\n        @RequestParam(value = &quot;file&quot;) final MultipartFile file,\r\n        @RequestParam(value = &quot;comment&quot;) String comment) {\r\n        ...\r\n    }\r\n\r\nweb.xml\r\n\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.rebelek.Application&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n                &lt;param-value&gt;\r\n                    org.springframework.web.context.support.AnnotationConfigWebApplicationContext\r\n                &lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;\r\n","title":"Multipart, spring-boot and JBoss - Required request part &#39;file&#39; is not present","body":"<p>I have an application that uses <strong>spring-boot</strong> and embedded <strong>Tomcat</strong> for development, and on production server it is deployed on <strong>JBoss 6.4 EAP</strong>.\nAfter adding support for JBoss, multipart file upload stopped working. On both containers it was throwing <strong>MissingServletRequestPartException</strong>.</p>\n\n<p>Adding <em>MultipartConfigElement</em> to <em>ServletRegistrationBean</em> fixed this issue on tomcat, but for JBoss it's still not working. Do you have any ideas where is the problem?</p>\n\n<p>Configuration:</p>\n\n<pre><code>@Bean\npublic ServletRegistrationBean dispatcherRegistration(DispatcherServlet dispatcherServlet, MultipartConfigElement\n        multipartConfig) {\n    ServletRegistrationBean registration = new ServletRegistrationBean(dispatcherServlet);\n    registration.getUrlMappings().clear();\n    registration.addUrlMappings(\"/*\");\n    registration.setMultipartConfig(multipartConfig);\n    return registration;\n}\n</code></pre>\n\n<p>Endpoint:</p>\n\n<pre><code>@RequestMapping(method = POST)\n@ResponseBody\npublic SomeResponse uploadFileWithComment(\n    @RequestParam(value = \"file\") final MultipartFile file,\n    @RequestParam(value = \"comment\") String comment) {\n    ...\n}\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;com.rebelek.Application&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;\n                org.springframework.web.context.support.AnnotationConfigWebApplicationContext\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","json","regex","serenity"],"comments":[{"owner":{"account_id":5066786,"reputation":655,"user_id":4066708,"display_name":"Malcolm"},"score":0,"creation_date":1690399331,"post_id":76774381,"comment_id":135349851,"body_markdown":"If I am reading your notation correctly it looks like you regex is trying to match the word null within double quotes.  But in the actual JSON there are no double quotes around the word null.","body":"If I am reading your notation correctly it looks like you regex is trying to match the word null within double quotes.  But in the actual JSON there are no double quotes around the word null."},{"owner":{"account_id":29098078,"reputation":1,"user_id":22290549,"display_name":"osama saleem"},"score":0,"creation_date":1690399638,"post_id":76774381,"comment_id":135349908,"body_markdown":"yes, so how can I deal with that @Malcolm? \nThanks :)","body":"yes, so how can I deal with that @Malcolm?  Thanks :)"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1690399764,"post_id":76774381,"comment_id":135349932,"body_markdown":"Does `^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$` work for you? Check [demo](https://regex101.com/r/XMisgV/1).","body":"Does <code>^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$</code> work for you? Check <a href=\"https://regex101.com/r/XMisgV/1\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":29098078,"reputation":1,"user_id":22290549,"display_name":"osama saleem"},"score":0,"creation_date":1690400430,"post_id":76774381,"comment_id":135350045,"body_markdown":"if i write like &lt;&quot;${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$&quot;&gt; but was: &lt;null&gt; same error","body":"if i write like &lt;&quot;${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$&quot;&gt; but was: &lt;null&gt; same error"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690405378,"post_id":76774381,"comment_id":135350873,"body_markdown":"Can you provide some context, possibly the routine you&#39;re running.  Is this part of an _annotation_?","body":"Can you provide some context, possibly the routine you&#39;re running.  Is this part of an <i>annotation</i>?"}],"answers":[{"tags":[],"owner":{"account_id":29089971,"reputation":1,"user_id":22284085,"display_name":"TK421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690399811,"creation_date":1690399811,"answer_id":76774476,"question_id":76774381,"body_markdown":"The way it&#39;s written, isn&#39;t it looking for *&quot;null&quot;* instead of *null*? So by putting the double quotes with the character grouping instead of around both the character grouping and the null, it should match.","title":"Unable to create Regex for JSON value","body":"<p>The way it's written, isn't it looking for <em>&quot;null&quot;</em> instead of <em>null</em>? So by putting the double quotes with the character grouping instead of around both the character grouping and the null, it should match.</p>\n"},{"tags":[],"owner":{"account_id":5066786,"reputation":655,"user_id":4066708,"display_name":"Malcolm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690489134,"creation_date":1690489134,"answer_id":76783147,"question_id":76774381,"body_markdown":"I must say I am unfamiliar with the exact notation you are using.  You appear to be using some parser that has the embedded regex matching in it, rather than having a regex that matches the entire JSON string. It would appear that everything outside of your dollar-braced unit is being interpreted literally in which case you need to not have the double quotes when you are matching the null expression.  So, depending upon how your parser handles the embedded quotes in the regex, you either want\r\n\r\n    {&quot;name&quot;:${json-unit.matches:^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$}}\r\n\r\nor \r\n\r\n    {&quot;name&quot;:${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$}}\r\n\r\n\r\n","title":"Unable to create Regex for JSON value","body":"<p>I must say I am unfamiliar with the exact notation you are using.  You appear to be using some parser that has the embedded regex matching in it, rather than having a regex that matches the entire JSON string. It would appear that everything outside of your dollar-braced unit is being interpreted literally in which case you need to not have the double quotes when you are matching the null expression.  So, depending upon how your parser handles the embedded quotes in the regex, you either want</p>\n<pre><code>{&quot;name&quot;:${json-unit.matches:^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$}}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;name&quot;:${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$}}\n</code></pre>\n"}],"owner":{"account_id":29098078,"reputation":1,"user_id":22290549,"display_name":"osama saleem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690489134,"creation_date":1690398888,"question_id":76774381,"body_markdown":"I have `JSON` for which I sometimes got some alphanumeric name in one key value name and sometimes it is `null` like below.\r\n\r\n    {&quot;name&quot;:&quot;77Watcher&quot;}\r\n    {&quot;name&quot;:null}\r\n\r\nI have to validate the data I am using like below. \r\n\r\n    {&quot;name&quot;:&quot;${json-unit.matches:^([A-Za-z0-9]+|null)$}&quot;}\r\n\r\nBut getting `Matcher &quot;^([A-Za-z0-9]+|null)$&quot;` not found.\r\n\r\nIf I use `{&quot;name&quot;:&quot;${json-unit.matches:[A-z0-9]|null&quot;}` then getting `&lt;&quot;${json-unit.matches:[A-z0-9]|null&quot;&gt; but was: &lt;null&gt;`.\r\n\r\nIs there any proper regex that I can put into my code for that?\r\n ","title":"Unable to create Regex for JSON value","body":"<p>I have <code>JSON</code> for which I sometimes got some alphanumeric name in one key value name and sometimes it is <code>null</code> like below.</p>\n<pre><code>{&quot;name&quot;:&quot;77Watcher&quot;}\n{&quot;name&quot;:null}\n</code></pre>\n<p>I have to validate the data I am using like below.</p>\n<pre><code>{&quot;name&quot;:&quot;${json-unit.matches:^([A-Za-z0-9]+|null)$}&quot;}\n</code></pre>\n<p>But getting <code>Matcher &quot;^([A-Za-z0-9]+|null)$&quot;</code> not found.</p>\n<p>If I use <code>{&quot;name&quot;:&quot;${json-unit.matches:[A-z0-9]|null&quot;}</code> then getting <code>&lt;&quot;${json-unit.matches:[A-z0-9]|null&quot;&gt; but was: &lt;null&gt;</code>.</p>\n<p>Is there any proper regex that I can put into my code for that?</p>\n"},{"tags":["java","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1526043610,"post_id":50291301,"comment_id":87602060,"body_markdown":"Is this Springfox or some other framework?","body":"Is this Springfox or some other framework?"},{"owner":{"account_id":9170859,"reputation":1306,"user_id":6818430,"display_name":"Navin Gelot"},"score":1,"creation_date":1526045567,"post_id":50291301,"comment_id":87603294,"body_markdown":"no it is springfox","body":"no it is springfox"},{"owner":{"account_id":9170859,"reputation":1306,"user_id":6818430,"display_name":"Navin Gelot"},"score":4,"creation_date":1526045626,"post_id":50291301,"comment_id":87603335,"body_markdown":"return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n\n                .apis(RequestHandlerSelectors.basePackage((&quot;com.valens.compony&quot;)))\n\n                .paths(Predicates.or( PathSelectors.regex(&quot;/cart&quot;),PathSelectors.regex(&quot;/post&quot;)))\n\n                .build()\n\n                .pathMapping(&quot;/&quot;)\n\n\ni found this solution but it only works in java not in scala","body":"return new Docket(DocumentationType.SWAGGER_2)                 .select()                  .apis(RequestHandlerSelectors.basePackage((&quot;com.valens.compo&zwnj;&#8203;ny&quot;)))                  .paths(Predicates.or( PathSelectors.regex(&quot;/cart&quot;),PathSelectors.regex(&quot;/post&quot;)))                  .build()                  .pathMapping(&quot;/&quot;)   i found this solution but it only works in java not in scala"},{"owner":{"account_id":7241341,"reputation":121,"user_id":5524829,"display_name":"LoRe"},"score":0,"creation_date":1585567067,"post_id":50291301,"comment_id":107795757,"body_markdown":"Verify the endpoint root path.","body":"Verify the endpoint root path."}],"answers":[{"tags":[],"owner":{"account_id":14680226,"reputation":41,"user_id":14918839,"display_name":"Cesar Nicol&#225;s Cabo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609421821,"creation_date":1609421821,"answer_id":65521633,"question_id":50291301,"body_markdown":"Another option is to use ***.paths(PathSelectors.any())*** instead of ***.paths(PathSelectors.ant(&quot;/cart&quot;))*** and ***.paths(PathSelectors.ant(&quot;/post&quot;))***","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>Another option is to use <em><strong>.paths(PathSelectors.any())</strong></em> instead of <em><strong>.paths(PathSelectors.ant(&quot;/cart&quot;))</strong></em> and <em><strong>.paths(PathSelectors.ant(&quot;/post&quot;))</strong></em></p>\n"},{"tags":[],"owner":{"account_id":4270891,"reputation":290,"user_id":3492714,"display_name":"Peyman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644419991,"creation_date":1644419991,"answer_id":71052199,"question_id":50291301,"body_markdown":"With Spring boot `2.6.x` you also need:\r\n\r\n```yaml\r\nspring:  \r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher\r\n```","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>With Spring boot <code>2.6.x</code> you also need:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:  \n  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16785102,"reputation":122,"user_id":12134289,"display_name":"Arthur Gazizov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644856169,"creation_date":1644856169,"answer_id":71115127,"question_id":50291301,"body_markdown":"It because you use `AND` condition \r\n```\r\n  public ApiSelectorBuilder paths(Predicate&lt;String&gt; selector) {\r\n    pathSelector = pathSelector.and(selector);\r\n    return this;\r\n  }\r\n```\r\n\r\nyou can combine conditions by using `OR` clause \r\n```\r\n.paths(PathSelectors.ant(&quot;/cart&quot;).or(PathSelectors.ant(&quot;/post&quot;)))\r\n```","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>It because you use <code>AND</code> condition</p>\n<pre><code>  public ApiSelectorBuilder paths(Predicate&lt;String&gt; selector) {\n    pathSelector = pathSelector.and(selector);\n    return this;\n  }\n</code></pre>\n<p>you can combine conditions by using <code>OR</code> clause</p>\n<pre><code>.paths(PathSelectors.ant(&quot;/cart&quot;).or(PathSelectors.ant(&quot;/post&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4143607,"reputation":773,"user_id":3398044,"accept_rate":62,"display_name":"vuhoanghiep1993"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670398305,"creation_date":1670398305,"answer_id":74713141,"question_id":50291301,"body_markdown":"Please add package xxxx as root package so It can scan swagger config in all class\r\n    \r\n    public String getApplicationBasePath() {\r\n        \t\t\t\treturn swaggerPath;\r\n        \t\t\t}\r\n        \t\t}).select().apis(RequestHandlerSelectors.basePackage(&quot;xxxx&quot;)).build()\r\n        \t\t\t\t.securitySchemes(Arrays.asList(securitySchema()))\r\n        \t\t\t\t.securityContexts(Collections.singletonList(securityContext())).apiInfo(metaData());","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>Please add package xxxx as root package so It can scan swagger config in all class</p>\n<pre><code>public String getApplicationBasePath() {\n                    return swaggerPath;\n                }\n            }).select().apis(RequestHandlerSelectors.basePackage(&quot;xxxx&quot;)).build()\n                    .securitySchemes(Arrays.asList(securitySchema()))\n                    .securityContexts(Collections.singletonList(securityContext())).apiInfo(metaData());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4096496,"reputation":1292,"user_id":4085134,"accept_rate":50,"display_name":"Ait Friha Zaid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685542950,"creation_date":1685542576,"answer_id":76374465,"question_id":50291301,"body_markdown":" \r\nthis the solution : is add the the path where exactly you have the controllers classe \r\n\r\nexemple :\r\n&quot;org.zaid.aitfriha.controller.api&quot; is the path where exactly you have controllers \r\n\r\n    .apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\r\n\r\ndont use org.zaid.* or org.zaid.aitfriha.* or org.zaid.aitfriha.controller.*\r\n\r\nBe careful with  &quot;/api/AbsenceRequest&quot; dont works it must be &quot;/api/absenceRequest&quot;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/absenceRequest&quot;)\r\n    @CrossOrigin(&quot;*&quot;)","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>this the solution : is add the the path where exactly you have the controllers classe</p>\n<p>exemple :\n&quot;org.zaid.aitfriha.controller.api&quot; is the path where exactly you have controllers</p>\n<pre><code>.apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\n</code></pre>\n<p>dont use org.zaid.* or org.zaid.aitfriha.* or org.zaid.aitfriha.controller.*</p>\n<p>Be careful with  &quot;/api/AbsenceRequest&quot; dont works it must be &quot;/api/absenceRequest&quot;</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/absenceRequest&quot;)\n@CrossOrigin(&quot;*&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13688182,"reputation":59,"user_id":9876769,"display_name":"Eduardo Toural"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690488648,"creation_date":1690488648,"answer_id":76783106,"question_id":50291301,"body_markdown":"You can try setting the base package to the RequestHandlerSelectors object in your Swagger Config class. You can point to the specific package where you have your OpenAPI annotations added, i.e. &quot;controller&quot;, or just leave it pointing to the root, spring will scan all the nested packages.\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.demo&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build().apiInfo(apiInfoMetaData());\r\n    }","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>You can try setting the base package to the RequestHandlerSelectors object in your Swagger Config class. You can point to the specific package where you have your OpenAPI annotations added, i.e. &quot;controller&quot;, or just leave it pointing to the root, spring will scan all the nested packages.</p>\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.basePackage(&quot;com.example.demo&quot;))\n            .paths(PathSelectors.any())\n            .build().apiInfo(apiInfoMetaData());\n}\n</code></pre>\n"}],"owner":{"account_id":9170859,"reputation":1306,"user_id":6818430,"display_name":"Navin Gelot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25618,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":6,"score":10,"last_activity_date":1690488648,"creation_date":1526037988,"question_id":50291301,"body_markdown":"I want to display two REST API endpoints in Swagger ui: /cart and /post.\r\n\r\nWhen I specify either /cart or /post works fine but with both showing me error as \r\n\r\n&gt; No operations defined in spec!\r\n\r\n in swagger-ui\r\n   \r\n\r\n    @Bean\r\n    public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()\r\n            .apis(RequestHandlerSelectors.any())\r\n            .paths(PathSelectors.ant(&quot;/cart&quot;))\r\n            .paths(PathSelectors.ant(&quot;/post&quot;))\r\n            .build();\r\n    }","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>I want to display two REST API endpoints in Swagger ui: /cart and /post.</p>\n\n<p>When I specify either /cart or /post works fine but with both showing me error as </p>\n\n<blockquote>\n  <p>No operations defined in spec!</p>\n</blockquote>\n\n<p>in swagger-ui</p>\n\n<pre><code>@Bean\npublic Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.any())\n        .paths(PathSelectors.ant(\"/cart\"))\n        .paths(PathSelectors.ant(\"/post\"))\n        .build();\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","annotations"],"answers":[{"tags":[],"owner":{"account_id":21895430,"reputation":1,"user_id":19147370,"display_name":"GuilhRib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690486835,"creation_date":1690486835,"answer_id":76782923,"question_id":76782734,"body_markdown":"Mockito can&#39;t directly mock static methods, so you can use PowerMock along with Mockito. PowerMock is a library that extends Mockito and allows you to mock static methods.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({Util1.class, Class2.class})\r\n    public class Class1Test {\r\n\r\n        @Test\r\n        public void testClass1Method() {\r\n            // Mock the static method in Util1\r\n            PowerMockito.mockStatic(Util1.class);\r\n            Mockito.when(Util1.staticMethod()).thenReturn(someValue);\r\n\r\n            // Mock the @Value dependency in Class2\r\n            // Assuming you are using Spring and have the appropriate setup\r\n            @TestPropertySource(properties = {&quot;your.value.property=your_mocked_value&quot;})\r\n            @ContextConfiguration(classes = Class2.class)\r\n            public static class Class2Test {\r\n            }\r\n\r\n            // Now, test the method in Class1 that you want to test\r\n            // Make sure to pass any necessary dependencies or use Mockito.verify() to check interactions.\r\n        }\r\n    }\r\n\r\n","title":"How to set value for annotation - Java","body":"<p>Mockito can't directly mock static methods, so you can use PowerMock along with Mockito. PowerMock is a library that extends Mockito and allows you to mock static methods.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({Util1.class, Class2.class})\npublic class Class1Test {\n\n    @Test\n    public void testClass1Method() {\n        // Mock the static method in Util1\n        PowerMockito.mockStatic(Util1.class);\n        Mockito.when(Util1.staticMethod()).thenReturn(someValue);\n\n        // Mock the @Value dependency in Class2\n        // Assuming you are using Spring and have the appropriate setup\n        @TestPropertySource(properties = {&quot;your.value.property=your_mocked_value&quot;})\n        @ContextConfiguration(classes = Class2.class)\n        public static class Class2Test {\n        }\n\n        // Now, test the method in Class1 that you want to test\n        // Make sure to pass any necessary dependencies or use Mockito.verify() to check interactions.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13865217,"reputation":93,"user_id":10009861,"display_name":"L.Th"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690487910,"creation_date":1690484780,"question_id":76782734,"body_markdown":"Let me explain my problem: I&#39;m trying to test with Mockito in JUnit4, a method of Class1, which calls a static void method in Util1, this method of Util1 calls another method of Class2, just to check if conditions are correct. If not, the method in Util1 enter in exception. In this method of Class2, has a @Value annotation instantiated which value are returning null, and thats my problem, i need the spring get @Value provider in application.properties(on test or main, wherever) or i can set a value for this variable. I&#39;ve tried several ways to pass this value to the class(or variable), but so far I can&#39;t change the value of this variable. How do I resolve this issue?\r\n\r\nWhat I already tried:\r\n\r\n1. Use ReflectionTestUtils.setField to set the variable in the class, mocking and not mocking the class in the test.\r\n2. Use the @SpringBootTest and @TestPropertySource annotations to get the test&#39;s application.properties\r\n3. PowerMocking\r\n\r\nBut none of these alternatives worked.","title":"How to set value for annotation - Java","body":"<p>Let me explain my problem: I'm trying to test with Mockito in JUnit4, a method of Class1, which calls a static void method in Util1, this method of Util1 calls another method of Class2, just to check if conditions are correct. If not, the method in Util1 enter in exception. In this method of Class2, has a @Value annotation instantiated which value are returning null, and thats my problem, i need the spring get @Value provider in application.properties(on test or main, wherever) or i can set a value for this variable. I've tried several ways to pass this value to the class(or variable), but so far I can't change the value of this variable. How do I resolve this issue?</p>\n<p>What I already tried:</p>\n<ol>\n<li>Use ReflectionTestUtils.setField to set the variable in the class, mocking and not mocking the class in the test.</li>\n<li>Use the @SpringBootTest and @TestPropertySource annotations to get the test's application.properties</li>\n<li>PowerMocking</li>\n</ol>\n<p>But none of these alternatives worked.</p>\n"},{"tags":["java","web-services","jakarta-ee","tomcat","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":2661562,"reputation":235,"user_id":2301108,"accept_rate":100,"display_name":"Michael Henrique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369185428,"creation_date":1369185428,"answer_id":16682009,"question_id":16537821,"body_markdown":"You have to publish the web service. You can implement a ServletContextListener and publish the endpoint:\r\n\r\n    @javax.servlet.annotation.WebListener \r\n    public class AppServletContextListener implements javax.servlet.ServletContextListener {\r\n    \r\n        public void contextInitialized(ServletContextEvent sce) { \r\n            Endpoint.publish(&quot;{protocol}://{host}:{port}/{context}/{wsName}&quot;, new MyHelloWorldWSImpl());\r\n        } \r\n\r\n        public void contextDestroyed(ServletContextEvent sce) { \r\n            .... \r\n        }\r\n    }\r\n\r\nsun-jaxws.xml is not mandatory by specs...If you note, for example, glassfish (metro) makes it optional. Also, if you expose a EJB 3.1 as webservice (with jaxws) you can see no sun-jaxws.xml file in the generated build.\r\n\r\n","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>You have to publish the web service. You can implement a ServletContextListener and publish the endpoint:</p>\n\n<pre><code>@javax.servlet.annotation.WebListener \npublic class AppServletContextListener implements javax.servlet.ServletContextListener {\n\n    public void contextInitialized(ServletContextEvent sce) { \n        Endpoint.publish(\"{protocol}://{host}:{port}/{context}/{wsName}\", new MyHelloWorldWSImpl());\n    } \n\n    public void contextDestroyed(ServletContextEvent sce) { \n        .... \n    }\n}\n</code></pre>\n\n<p>sun-jaxws.xml is not mandatory by specs...If you note, for example, glassfish (metro) makes it optional. Also, if you expose a EJB 3.1 as webservice (with jaxws) you can see no sun-jaxws.xml file in the generated build.</p>\n"},{"tags":[],"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1467031719,"creation_date":1369260689,"answer_id":16702451,"question_id":16537821,"body_markdown":"Sadly, the configuration **must** exist *somewhere*. That is mandatory, per the source. Believe it or not, [the location of the sun-jaxws.xml file is hard-coded](http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java#207) to /WEB-INF/sun-jaxws.xml (thanks, guys @ Metro). \r\n\r\n**Effectively, you need to take control of the following classes** \r\n\r\n- [`public final class WSServletContextListener`](http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java)\r\n\r\n- [` public class WSServlet`](http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServlet.java#WSServlet)\r\n\r\n\r\n----------\r\n\r\n\r\n**What needs to happen:**\r\n\r\n\r\n\r\n\r\n\r\n1. `WSServletContextListener` will obviously not be extended. This listener performs most of the initializations per the sun-jaxws.xml and jaxws-catalog file. Like I mentioned earlier, the location is hard coded. So your path of least resistance here is to \r\n\r\n\r\n- implement your own vanilla servlet listener (with `@WebListener`) and call a `new WSServletContextListener()`. You&#39;ll then delegate your own `contextInitialized(ServletContext ctxt)` and `contextDestroyed()` methods to the ones in your instance of `WSServletContextListener`. \r\n\r\n- Generate the file on instantiation of the listener, on the fly, using an `@XmlRootElement` class that&#39;ll represent the sun-jaxws file(I&#39;ll provide a sample of this in a short while, don&#39;t have the time right now :) ).\r\n\r\n\r\nIt&#39;s a lot of trouble for such a dispensable convenience, IMO, but it should work in theory. I&#39;ll write some samples and see how they play shortly.\r\n","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>Sadly, the configuration <strong>must</strong> exist <em>somewhere</em>. That is mandatory, per the source. Believe it or not, <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java#207\" rel=\"nofollow\">the location of the sun-jaxws.xml file is hard-coded</a> to /WEB-INF/sun-jaxws.xml (thanks, guys @ Metro). </p>\n\n<p><strong>Effectively, you need to take control of the following classes</strong> </p>\n\n<ul>\n<li><p><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java\" rel=\"nofollow\"><code>public final class WSServletContextListener</code></a></p></li>\n<li><p><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServlet.java#WSServlet\" rel=\"nofollow\"><code>public class WSServlet</code></a></p></li>\n</ul>\n\n<hr>\n\n<p><strong>What needs to happen:</strong></p>\n\n<ol>\n<li><p><code>WSServletContextListener</code> will obviously not be extended. This listener performs most of the initializations per the sun-jaxws.xml and jaxws-catalog file. Like I mentioned earlier, the location is hard coded. So your path of least resistance here is to </p>\n\n<ul>\n<li><p>implement your own vanilla servlet listener (with <code>@WebListener</code>) and call a <code>new WSServletContextListener()</code>. You'll then delegate your own <code>contextInitialized(ServletContext ctxt)</code> and <code>contextDestroyed()</code> methods to the ones in your instance of <code>WSServletContextListener</code>. </p></li>\n<li><p>Generate the file on instantiation of the listener, on the fly, using an <code>@XmlRootElement</code> class that'll represent the sun-jaxws file(I'll provide a sample of this in a short while, don't have the time right now :) ).</p></li>\n</ul></li>\n</ol>\n\n<p>It's a lot of trouble for such a dispensable convenience, IMO, but it should work in theory. I'll write some samples and see how they play shortly.</p>\n"},{"tags":[],"owner":{"account_id":1706369,"reputation":879,"user_id":1565341,"accept_rate":57,"display_name":"yunus kula"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433332277,"creation_date":1433332277,"answer_id":30619306,"question_id":16537821,"body_markdown":"I have publised web services successfully by this way. I have used  apache cfx for publishing in servletContextListener.\r\n\r\n    @WebListener\r\n    public class WebServicePublisListener implements ServletContextListener {\r\n    \r\n        /**\r\n         * Default constructor. \r\n         */\r\n        public WebServicePublisListener() {\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n         * @see ServletContextListener#contextInitialized(ServletContextEvent)\r\n         */\r\n        public void contextInitialized(ServletContextEvent sce)  { \r\n        \tJaxWsServerFactoryBean srvFactory = new JaxWsServerFactoryBean();\r\n        \tsrvFactory.setServiceClass(RandService.class);\r\n        \tsrvFactory.setAddress(&quot;/RandService&quot;);\r\n        \tsrvFactory.setServiceBean(new RandServiceImplement());\r\n        \tsrvFactory.create();\r\n        }\r\n\r\n","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>I have publised web services successfully by this way. I have used  apache cfx for publishing in servletContextListener.</p>\n\n<pre><code>@WebListener\npublic class WebServicePublisListener implements ServletContextListener {\n\n    /**\n     * Default constructor. \n     */\n    public WebServicePublisListener() {\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see ServletContextListener#contextInitialized(ServletContextEvent)\n     */\n    public void contextInitialized(ServletContextEvent sce)  { \n        JaxWsServerFactoryBean srvFactory = new JaxWsServerFactoryBean();\n        srvFactory.setServiceClass(RandService.class);\n        srvFactory.setAddress(\"/RandService\");\n        srvFactory.setServiceBean(new RandServiceImplement());\n        srvFactory.create();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5521521,"reputation":101,"user_id":4384315,"display_name":"Adrian Malik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511773405,"creation_date":1511773405,"answer_id":47507133,"question_id":16537821,"body_markdown":"To have JAX-WS support in Tomcat you must configure:\r\n\r\n - **WEB-INF/sun-jaxws.xml** \r\n - **WSServletContextListener** \r\n - **WSServlet** \r\n\r\nUnfortunately it is hard to omit the **WEB-INF/sun-jaxws.xml** file but there is easier way to omit **web.xml** configuration because of Servlet 3.0 API.\r\n\r\nYou can do something like this:\r\n\r\n    @WebServlet(name = &quot;ServiceServlet&quot; , urlPatterns = &quot;/service&quot;, loadOnStartup = 1)\r\n    public class Servlet extends WSServlet {\r\n\r\n    }\r\n\r\nand\r\n\r\n    @WebListener\r\n    public class Listener implements ServletContextAttributeListener, ServletContextListener {\r\n\r\n        private final WSServletContextListener listener;\r\n\r\n        public Listener() {\r\n            this.listener = new WSServletContextListener();\r\n        }\r\n\r\n        @Override\r\n        public void attributeAdded(ServletContextAttributeEvent event) {\r\n            listener.attributeAdded(event);\r\n        }\r\n\r\n        @Override\r\n        public void attributeRemoved(ServletContextAttributeEvent event) {\r\n            listener.attributeRemoved(event);\r\n        }\r\n\r\n        @Override\r\n        public void attributeReplaced(ServletContextAttributeEvent event) {\r\n            listener.attributeReplaced(event);\r\n        }\r\n\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent sce) {\r\n            listener.contextInitialized(sce);\r\n        }\r\n\r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent sce) {\r\n            listener.contextDestroyed(sce);\r\n        }\r\n    }\r\n\r\nI have tested it on Tomcat-8.5.23 version and it works. But remember that you still must have **WEB-INF/sun-jaxws.xml** file.\r\n\r\n    &lt;endpoints xmlns=&quot;http://java.sun.com/xml/ns/jax-ws/ri/runtime&quot;\r\n           version=&quot;2.0&quot;&gt;\r\n        &lt;endpoint name=&quot;SampleService&quot;\r\n              implementation=&quot;com.ws.ServiceImpl&quot;\r\n              url-pattern=&quot;/service&quot; /&gt;\r\n    &lt;/endpoints&gt;","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>To have JAX-WS support in Tomcat you must configure:</p>\n\n<ul>\n<li><strong>WEB-INF/sun-jaxws.xml</strong> </li>\n<li><strong>WSServletContextListener</strong> </li>\n<li><strong>WSServlet</strong> </li>\n</ul>\n\n<p>Unfortunately it is hard to omit the <strong>WEB-INF/sun-jaxws.xml</strong> file but there is easier way to omit <strong>web.xml</strong> configuration because of Servlet 3.0 API.</p>\n\n<p>You can do something like this:</p>\n\n<pre><code>@WebServlet(name = \"ServiceServlet\" , urlPatterns = \"/service\", loadOnStartup = 1)\npublic class Servlet extends WSServlet {\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@WebListener\npublic class Listener implements ServletContextAttributeListener, ServletContextListener {\n\n    private final WSServletContextListener listener;\n\n    public Listener() {\n        this.listener = new WSServletContextListener();\n    }\n\n    @Override\n    public void attributeAdded(ServletContextAttributeEvent event) {\n        listener.attributeAdded(event);\n    }\n\n    @Override\n    public void attributeRemoved(ServletContextAttributeEvent event) {\n        listener.attributeRemoved(event);\n    }\n\n    @Override\n    public void attributeReplaced(ServletContextAttributeEvent event) {\n        listener.attributeReplaced(event);\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        listener.contextInitialized(sce);\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        listener.contextDestroyed(sce);\n    }\n}\n</code></pre>\n\n<p>I have tested it on Tomcat-8.5.23 version and it works. But remember that you still must have <strong>WEB-INF/sun-jaxws.xml</strong> file.</p>\n\n<pre><code>&lt;endpoints xmlns=\"http://java.sun.com/xml/ns/jax-ws/ri/runtime\"\n       version=\"2.0\"&gt;\n    &lt;endpoint name=\"SampleService\"\n          implementation=\"com.ws.ServiceImpl\"\n          url-pattern=\"/service\" /&gt;\n&lt;/endpoints&gt;\n</code></pre>\n"}],"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15979,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":16702451,"answer_count":4,"score":14,"last_activity_date":1690487059,"creation_date":1368518052,"question_id":16537821,"body_markdown":"I am trying to minimize required configuration while deploying JAX-WS-based Web service on Tomcat. With the introduction of Servlet 3.0 (supported by Tomcat 7+), `web.xml` can be thrown out, but there is still `sun-jaxws.xml`. This [blog post][1] is interesting:\r\n\r\n&gt; Of course, with the use of jax-ws annotations, even configuration\r\n&gt; sun-jaxws.xml can be made optional making it completely descriptor\r\n&gt; free, but that requires specifying a default url-pattern like in\r\n&gt; JSR-109 or custom pattern like in Jersey REST services, in the JAX-WS\r\n&gt; specification.\r\n\r\nIs it possible to avoid `sun-jaxws.xml` on Tomcat, and how?\r\n\r\n  [1]: https://weblogs.java.net/blog/ramapulavarthi/archive/2010/08/13/jax-ws-ri-web-services-deployment-made-simplified","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>I am trying to minimize required configuration while deploying JAX-WS-based Web service on Tomcat. With the introduction of Servlet 3.0 (supported by Tomcat 7+), <code>web.xml</code> can be thrown out, but there is still <code>sun-jaxws.xml</code>. This <a href=\"https://weblogs.java.net/blog/ramapulavarthi/archive/2010/08/13/jax-ws-ri-web-services-deployment-made-simplified\">blog post</a> is interesting:</p>\n\n<blockquote>\n  <p>Of course, with the use of jax-ws annotations, even configuration\n  sun-jaxws.xml can be made optional making it completely descriptor\n  free, but that requires specifying a default url-pattern like in\n  JSR-109 or custom pattern like in Jersey REST services, in the JAX-WS\n  specification.</p>\n</blockquote>\n\n<p>Is it possible to avoid <code>sun-jaxws.xml</code> on Tomcat, and how?</p>\n"},{"tags":["c#","java","properties"],"comments":[{"owner":{"account_id":161781,"reputation":64575,"user_id":382818,"accept_rate":89,"display_name":"Zabba"},"score":1,"creation_date":1320025888,"post_id":2701077,"comment_id":9716254,"body_markdown":"[lombok](http://projectlombok.org/) could help you somewhat - though not property syntax, it does make dealing with getters/setters a lot easier.","body":"<a href=\"http://projectlombok.org/\" rel=\"nofollow noreferrer\">lombok</a> could help you somewhat - though not property syntax, it does make dealing with getters/setters a lot easier."},{"owner":{"account_id":212305,"reputation":24651,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1534845164,"post_id":2701077,"comment_id":90841380,"body_markdown":"Related post - [does java have something similar to C# properties?](https://stackoverflow.com/q/2963243/465053)","body":"Related post - <a href=\"https://stackoverflow.com/q/2963243/465053\">does java have something similar to C# properties?</a>"},{"owner":{"account_id":519146,"reputation":203,"user_id":11688856,"display_name":"Jayadevan Vijayan"},"score":0,"creation_date":1619318718,"post_id":2701077,"comment_id":118867612,"body_markdown":"@Scott That is not what OP asked. That functionality (something very similar) is already provided by Lombok soon after Java 5 came out.","body":"@Scott That is not what OP asked. That functionality (something very similar) is already provided by Lombok soon after Java 5 came out."},{"owner":{"account_id":519146,"reputation":203,"user_id":11688856,"display_name":"Jayadevan Vijayan"},"score":0,"creation_date":1619318909,"post_id":2701077,"comment_id":118867633,"body_markdown":"Traditional Java does not support, but Groovy supports it. Since they are compatible and approximately all Java is valid Groovy, that is a way to go if you need properties in Java.","body":"Traditional Java does not support, but Groovy supports it. Since they are compatible and approximately all Java is valid Groovy, that is a way to go if you need properties in Java."}],"answers":[{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1690486903,"creation_date":1272047743,"answer_id":2701095,"question_id":2701077,"body_markdown":"No.\r\n\r\nThat&#39;s why Java has getters/setters.\r\n\r\nIn C# you typically have something like:\r\n\r\n    public class SomeObject\r\n    {\r\n        private string _title = &quot;&quot;;\r\n    \r\n        public string Title { get { return _title; } set { _title = value; } }\r\n    }\r\n\r\nor with Auto-Properties:\r\n\r\n    public class SomeObjectAutoProperties\r\n    {\r\n        public string Title { get; set; }\r\n    }\r\n\r\nThe Java getter/setter equivalent would be:\r\n\r\n    public class SomeObject\r\n    {\r\n        private String _title = &quot;&quot;;\r\n    \r\n        public string getTitle() { return _title; }\r\n    \r\n        public void setTitle(String value) { _title = value; }\r\n    }","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>No.</p>\n<p>That's why Java has getters/setters.</p>\n<p>In C# you typically have something like:</p>\n<pre><code>public class SomeObject\n{\n    private string _title = &quot;&quot;;\n\n    public string Title { get { return _title; } set { _title = value; } }\n}\n</code></pre>\n<p>or with Auto-Properties:</p>\n<pre><code>public class SomeObjectAutoProperties\n{\n    public string Title { get; set; }\n}\n</code></pre>\n<p>The Java getter/setter equivalent would be:</p>\n<pre><code>public class SomeObject\n{\n    private String _title = &quot;&quot;;\n\n    public string getTitle() { return _title; }\n\n    public void setTitle(String value) { _title = value; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7455,"reputation":23215,"user_id":12971,"accept_rate":100,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1272048940,"creation_date":1272047844,"answer_id":2701108,"question_id":2701077,"body_markdown":"Nope, you would use getter and setter methods instead. This is a Java convention.\r\n\r\n    public class newInt {\r\n    \r\n        public newInt() {...}\r\n\r\n        private int _x = 0;\r\n    \r\n        public int getX() {\r\n            return this._x;\r\n        }\r\n\r\n        public void setX(int x) {\r\n            this._x = isValid(x);\r\n        }\r\n    }","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>Nope, you would use getter and setter methods instead. This is a Java convention.</p>\n\n<pre><code>public class newInt {\n\n    public newInt() {...}\n\n    private int _x = 0;\n\n    public int getX() {\n        return this._x;\n    }\n\n    public void setX(int x) {\n        this._x = isValid(x);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28712,"reputation":10642,"user_id":76941,"accept_rate":75,"display_name":"dustmachine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1272048109,"creation_date":1272048109,"answer_id":2701136,"question_id":2701077,"body_markdown":"No. Java doesn&#39;t have properties.  The Java idiom is to use mutator/accessor (getter/setter).  Even though a lot of people are in favor of adding them, it is unlikely they will be included in the next version (Java 7).\r\n\r\nCuriously, JavaFX has properties.\r\n\r\nKeep in mind that when Java was born it borrowed a lot of ideas from C++.  Thus some of the syntax and idioms are very similar to that language.","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>No. Java doesn't have properties.  The Java idiom is to use mutator/accessor (getter/setter).  Even though a lot of people are in favor of adding them, it is unlikely they will be included in the next version (Java 7).</p>\n\n<p>Curiously, JavaFX has properties.</p>\n\n<p>Keep in mind that when Java was born it borrowed a lot of ideas from C++.  Thus some of the syntax and idioms are very similar to that language.</p>\n"},{"tags":[],"owner":{"account_id":110595,"reputation":25110,"user_id":292586,"accept_rate":100,"display_name":"F&#225;bio Batista"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1272048144,"creation_date":1272048144,"answer_id":2701141,"question_id":2701077,"body_markdown":"There&#39;s the Java platform, and there&#39;s the Java language.\r\n\r\nThe Java language does not support properties (and probably never will), but you are not forced to use the Java language to work with the Java platform (just as you don&#39;t need to stick to C# in order to work with .NET platform).\r\n\r\nCheck: \r\n\r\n - http://groovy.codehaus.org/\r\n - http://www.jython.org/\r\n\r\n\r\nAnd many others.","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>There's the Java platform, and there's the Java language.</p>\n\n<p>The Java language does not support properties (and probably never will), but you are not forced to use the Java language to work with the Java platform (just as you don't need to stick to C# in order to work with .NET platform).</p>\n\n<p>Check: </p>\n\n<ul>\n<li><a href=\"http://groovy.codehaus.org/\" rel=\"noreferrer\">http://groovy.codehaus.org/</a></li>\n<li><a href=\"http://www.jython.org/\" rel=\"noreferrer\">http://www.jython.org/</a></li>\n</ul>\n\n<p>And many others.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1272050393,"creation_date":1272049657,"answer_id":2701297,"question_id":2701077,"body_markdown":"No, it hasn&#39;t. \r\n\r\nI really have a bit of a problem to understand this C# properties, because, I think one of the rules is to perform as less code as possible in them and since they are already public, why don&#39;t use public attributes instead?\r\n\r\n\r\n\r\nSo, your Java equivalent  ( and probably ugly ) would be: \r\n\r\n\r\n    public class NewInt { // In Java class names start with uppercase by convention \r\n         public int x; \r\n    }\r\n\r\nAnd you use it like: \r\n\r\n     NewInt ni = new NewInt();\r\n     ni.x = 50;\r\n     int b = ni.x;\r\n\r\nThere is something I&#39;m missing that&#39;s for sure, but, most of the times this would do ( BTW I never code like this :P ) \r\n\r\n**BTW**\r\n\r\nI don&#39;t really like getters and setters, but I accept them as part of the Java conventions. \r\n\r\nI just would like they have used this instead:\r\n\r\n\r\n     public class NewInt {\r\n         private int x;\r\n         public int x(){ \r\n             return this.x;\r\n         }\r\n         public void x(int value ) {\r\n             this.x=value;\r\n         }\r\n      }\r\n\r\nSo the usage would&#39;ve been:\r\n\r\n      NewInt a = new NewInt();\r\n      a.x(10);\r\n      int b = a.x();\r\n  \r\n\r\nProbably in the next Java life. ","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>No, it hasn't. </p>\n\n<p>I really have a bit of a problem to understand this C# properties, because, I think one of the rules is to perform as less code as possible in them and since they are already public, why don't use public attributes instead?</p>\n\n<p>So, your Java equivalent  ( and probably ugly ) would be: </p>\n\n<pre><code>public class NewInt { // In Java class names start with uppercase by convention \n     public int x; \n}\n</code></pre>\n\n<p>And you use it like: </p>\n\n<pre><code> NewInt ni = new NewInt();\n ni.x = 50;\n int b = ni.x;\n</code></pre>\n\n<p>There is something I'm missing that's for sure, but, most of the times this would do ( BTW I never code like this :P ) </p>\n\n<p><strong>BTW</strong></p>\n\n<p>I don't really like getters and setters, but I accept them as part of the Java conventions. </p>\n\n<p>I just would like they have used this instead:</p>\n\n<pre><code> public class NewInt {\n     private int x;\n     public int x(){ \n         return this.x;\n     }\n     public void x(int value ) {\n         this.x=value;\n     }\n  }\n</code></pre>\n\n<p>So the usage would've been:</p>\n\n<pre><code>  NewInt a = new NewInt();\n  a.x(10);\n  int b = a.x();\n</code></pre>\n\n<p>Probably in the next Java life. </p>\n"}],"owner":{"account_id":115029,"reputation":695,"user_id":302220,"display_name":"tyrone302"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7463,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2701095,"answer_count":5,"score":26,"last_activity_date":1690486903,"creation_date":1272047626,"question_id":2701077,"body_markdown":"In C#, you can use properties to make a data field publicly accessible (allowing the user to directly access it), and yet retain the ability to perform data validation on those directly-accessed fields.  Does Java have something similar?  For Instance, suppose there exists a C# class with the following implementation(see below):\r\n\r\n    public class newInt{\r\n\r\n        public newInt(){...}\r\n\r\n        public int x{\r\n            get{ return this.x }\r\n            set{ this.x = isValid(value) }\r\n        }\r\n    }\r\n\r\n    private static int isValid(int value){...}\r\n\r\nThis definition in the class allows the user to &quot;naturally&quot; use the data field &#39;x&#39; when retrieving values from it and assigning values to it.  Below is how it would be used in main.\r\n\r\n    public class Test{\r\n\r\n        public static void main(String[] args){\r\n\r\n            newInt a = new newInt();\r\n            a.x = 50;\r\n\r\n            int b = a.x;\r\n        }\r\n    }\r\n\r\n\r\nThe question is... can java do this as well?  if so, what is it called?","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>In C#, you can use properties to make a data field publicly accessible (allowing the user to directly access it), and yet retain the ability to perform data validation on those directly-accessed fields.  Does Java have something similar?  For Instance, suppose there exists a C# class with the following implementation(see below):</p>\n\n<pre><code>public class newInt{\n\n    public newInt(){...}\n\n    public int x{\n        get{ return this.x }\n        set{ this.x = isValid(value) }\n    }\n}\n\nprivate static int isValid(int value){...}\n</code></pre>\n\n<p>This definition in the class allows the user to \"naturally\" use the data field 'x' when retrieving values from it and assigning values to it.  Below is how it would be used in main.</p>\n\n<pre><code>public class Test{\n\n    public static void main(String[] args){\n\n        newInt a = new newInt();\n        a.x = 50;\n\n        int b = a.x;\n    }\n}\n</code></pre>\n\n<p>The question is... can java do this as well?  if so, what is it called?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":11317286,"reputation":317,"user_id":11013417,"display_name":"Matheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690486549,"creation_date":1690486549,"question_id":76782903,"body_markdown":"I&#39;m trying to use spark connect and a I need a interceptor server to do things like authentication, logging etc. There is this parameter `spark.connect.grpc.interceptor.classes` that do this, but I don&#39;t know how to use it, the most basically interceptor that I wrote was:\r\n\r\n```\r\nimport io.grpc.Metadata;\r\nimport io.grpc.Metadata.Key;\r\nimport io.grpc.ServerCall;\r\nimport io.grpc.ServerCall.Listener;\r\nimport io.grpc.ServerCallHandler;\r\nimport io.grpc.ServerInterceptor;\r\nimport io.grpc.Status;\r\nimport io.grpc.StatusRuntimeException;\r\n\r\npublic class TestInterceptor implements ServerInterceptor {\r\n\r\n    public &lt;ReqT, RespT&gt; Listener&lt;ReqT&gt; interceptCall(final ServerCall&lt;ReqT, RespT&gt; serverCall, final Metadata metadata, final ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\r\n\r\n        System.out.println(&quot;Hello inside of interceptor&quot;);\r\n\r\n        return serverCallHandler.startCall(serverCall, metadata);\r\n    }\r\n}\r\n```\r\n\r\nand I&#39;m running spark connect with:\r\n\r\n```\r\n./start-connect-server.sh \\\r\n    --packages org.apache.spark:spark-connect_2.12:3.4.1 \\\r\n    --conf spark.connect.grpc.interceptor.classes=&lt;path-to-java-file&gt;\r\n```\r\n\r\nHowever when I execute this I&#39;m getting the following error:\r\n\r\n```\r\njava.lang.ClassNotFoundException: /opt/spark/sbin/TestInterceptor.java\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Unknown Source)\r\n\tat org.apache.spark.util.Utils$.classForName(Utils.scala:225)...\r\n```\r\n\r\nIs there any example on how to use this `spark.connect.grpc.interceptor.classes` parameter? I should provide the full path of my java file or something else? The interceptor that I wrote is correct?","title":"How to use spark.connect.grpc.interceptor.classes conf","body":"<p>I'm trying to use spark connect and a I need a interceptor server to do things like authentication, logging etc. There is this parameter <code>spark.connect.grpc.interceptor.classes</code> that do this, but I don't know how to use it, the most basically interceptor that I wrote was:</p>\n<pre><code>import io.grpc.Metadata;\nimport io.grpc.Metadata.Key;\nimport io.grpc.ServerCall;\nimport io.grpc.ServerCall.Listener;\nimport io.grpc.ServerCallHandler;\nimport io.grpc.ServerInterceptor;\nimport io.grpc.Status;\nimport io.grpc.StatusRuntimeException;\n\npublic class TestInterceptor implements ServerInterceptor {\n\n    public &lt;ReqT, RespT&gt; Listener&lt;ReqT&gt; interceptCall(final ServerCall&lt;ReqT, RespT&gt; serverCall, final Metadata metadata, final ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\n\n        System.out.println(&quot;Hello inside of interceptor&quot;);\n\n        return serverCallHandler.startCall(serverCall, metadata);\n    }\n}\n</code></pre>\n<p>and I'm running spark connect with:</p>\n<pre><code>./start-connect-server.sh \\\n    --packages org.apache.spark:spark-connect_2.12:3.4.1 \\\n    --conf spark.connect.grpc.interceptor.classes=&lt;path-to-java-file&gt;\n</code></pre>\n<p>However when I execute this I'm getting the following error:</p>\n<pre><code>java.lang.ClassNotFoundException: /opt/spark/sbin/TestInterceptor.java\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Unknown Source)\n    at org.apache.spark.util.Utils$.classForName(Utils.scala:225)...\n</code></pre>\n<p>Is there any example on how to use this <code>spark.connect.grpc.interceptor.classes</code> parameter? I should provide the full path of my java file or something else? The interceptor that I wrote is correct?</p>\n"},{"tags":["java","weblogic","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":1028915,"reputation":2348,"user_id":1037626,"accept_rate":20,"display_name":"mgaert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479392251,"creation_date":1479392251,"answer_id":40657239,"question_id":40656935,"body_markdown":"If all fails, and independent of WebLogic, you can deploy a WAR that queries the JVM uptime in an init class and emits that to the log, and does nothing else. See https://stackoverflow.com/a/817835/1037626","title":"How to log WebLogic startup time?","body":"<p>If all fails, and independent of WebLogic, you can deploy a WAR that queries the JVM uptime in an init class and emits that to the log, and does nothing else. See <a href=\"https://stackoverflow.com/a/817835/1037626\">https://stackoverflow.com/a/817835/1037626</a></p>\n"},{"tags":[],"owner":{"account_id":2892394,"reputation":879,"user_id":2480869,"accept_rate":24,"display_name":"nomadus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616991243,"creation_date":1616991243,"answer_id":66848682,"question_id":40656935,"body_markdown":"In the WLS console, go to Environment--&gt; Servers --&gt; Admin Server. Click on Monitoring tab and then to General. You can see Activation time, which tells you when the server is started.\r\n\r\nMBean Attribute:\r\nServerRuntimeMBean.ActivationTime","title":"How to log WebLogic startup time?","body":"<p>In the WLS console, go to Environment--&gt; Servers --&gt; Admin Server. Click on Monitoring tab and then to General. You can see Activation time, which tells you when the server is started.</p>\n<p>MBean Attribute:\nServerRuntimeMBean.ActivationTime</p>\n"},{"tags":[],"owner":{"account_id":5742226,"reputation":31,"user_id":4534566,"display_name":"SJP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690485774,"creation_date":1690485774,"answer_id":76782822,"question_id":40656935,"body_markdown":"You can find this in the weblogic console; even for the various managed instances.\r\n\r\nJust go under Domain Structure to: Environment &gt;&gt; Servers &gt;&gt; Monitoring.\r\n\r\nYou can see the details under: **Activation Time**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tlh3e.png","title":"How to log WebLogic startup time?","body":"<p>You can find this in the weblogic console; even for the various managed instances.</p>\n<p>Just go under Domain Structure to: Environment &gt;&gt; Servers &gt;&gt; Monitoring.</p>\n<p>You can see the details under: <strong>Activation Time</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Tlh3e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tlh3e.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690485774,"creation_date":1479391439,"question_id":40656935,"body_markdown":"When Tomcat starts, its last log line is as following:\r\n\r\n    INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 20147 ms\r\n\r\nWhich is clearly a *feature* to log on purpose the startup time in milliseconds, really useful as official stat.\r\n\r\nWhen WebLogic starts however, its last log line is:\r\n\r\n    &lt;WebLogicServer&gt; &lt;CIS1405986&gt; &lt;AdminServer&gt; &lt;[STANDBY] ExecuteThread: \\\r\n    &#39;10&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; \\\r\n     &lt;5097d97d-cb6a-41aa-b418-717a3f768636-0000000d&gt; &lt;1479382972090&gt; \\\r\n    &lt;[severity-value: 32] [rid: 0] [partition-id: 0] [partition-name: DOMAIN] &gt; \\\r\n    &lt;BEA-000365&gt; &lt;Server state changed to RUNNING.&gt; \r\n\r\nAcknowledging the `RUNNING` status, but not providing any info concerning its startup time.\r\n\r\n**Question**: is there any way to make WebLogic log its startup time or find it anywhere in its console?\r\n\r\n","title":"How to log WebLogic startup time?","body":"<p>When Tomcat starts, its last log line is as following:</p>\n\n<pre><code>INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 20147 ms\n</code></pre>\n\n<p>Which is clearly a <em>feature</em> to log on purpose the startup time in milliseconds, really useful as official stat.</p>\n\n<p>When WebLogic starts however, its last log line is:</p>\n\n<pre><code>&lt;WebLogicServer&gt; &lt;CIS1405986&gt; &lt;AdminServer&gt; &lt;[STANDBY] ExecuteThread: \\\n'10' for queue: 'weblogic.kernel.Default (self-tuning)'&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; \\\n &lt;5097d97d-cb6a-41aa-b418-717a3f768636-0000000d&gt; &lt;1479382972090&gt; \\\n&lt;[severity-value: 32] [rid: 0] [partition-id: 0] [partition-name: DOMAIN] &gt; \\\n&lt;BEA-000365&gt; &lt;Server state changed to RUNNING.&gt; \n</code></pre>\n\n<p>Acknowledging the <code>RUNNING</code> status, but not providing any info concerning its startup time.</p>\n\n<p><strong>Question</strong>: is there any way to make WebLogic log its startup time or find it anywhere in its console?</p>\n"},{"tags":["java","node.js","android-studio","websocket","socket.io"],"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690485772,"creation_date":1690485299,"question_id":76782785,"body_markdown":"i&#39;m trying to realize a client server application with websockets for android.\r\n\r\nThe Client Server communication works fine. So i can send and receive messages. But the acknowledgement is null. \r\n\r\nThe console log from the server:\r\n\r\n    Client connected [id=kTilWFoqr-gj8waEAAAL] with [userid=21]\r\n    SOCKET_ID SET\r\n    STATUS SET Online for USER &#39;21&#39;\r\n    SENT TO CLIENT\r\n    null //THIS SHOULD BE hi!\r\n\r\n\r\nOn Server side is a socket.io nodejs server like:\r\n\r\n    import { Server } from &quot;socket.io&quot;;\r\n    const server = new Server();\r\n    \r\n    import * as database from &#39;./DBController.js&#39;;\r\n    import * as dateTime from &#39;./DateTime.js&#39;;\r\n\r\n    server.on(&quot;connection&quot;, async (socket) =&gt; {\r\n    console.info(`Client connected [id=${socket.id}] with [userid=${socket.handshake.query.userID}]`);\r\n    socket.on(&quot;MessageClientToServer&quot;, async (object) =&gt; {  \r\n        const sqlQuerry = `insert into messages(...) values(...)`;\r\n        const result = await database.executeQuery(sqlQuerry);\r\n\r\n        const socketID = await findSocketID(object.incoming_msg_id);\r\n        if(socketID[0].Socket_ID != &#39;NULL&#39;){\r\n          socket.timeout(500).to(socketID[0].Socket_ID).emit(&quot;MessageServerToClient&quot;,object,(response) =&gt; {\r\n                console.log(response);\r\n            })\r\n            console.log(&quot;SENT TO CLIENT&quot;)\r\n        }else{\r\n            console.log(&quot;Client OFFLINE&quot;);\r\n        }\r\n        \r\n    });\r\n\r\n    // when socket disconnects, remove it from the list:\r\n    socket.on(&quot;disconnect&quot;, async() =&gt; {\r\n        console.info(`Client gone [id=${socket.id}]`);\r\n    });\r\n\r\n    server.listen(12123, () =&gt; {\r\n        console.log(&#39;listening on *:12123&#39;);\r\n    });\r\n\r\nThe Android Studio Client looks like:\r\n\r\n    public class SocketManager{\r\n        private static SocketManager instance;\r\n        private static Context context;\r\n        MessagesDbAdapter messagesDB = new MessagesDbAdapter(context);;\r\n    \r\n        private SocketManager() {\r\n        }\r\n        private Socket socket;\r\n        public void connectSocket(String userId) {\r\n            try {\r\n                if(socket==null){\r\n                    String serverAddress = &quot;http://ipADDRESS:12123&quot;;\r\n                    IO.Options opts = new IO.Options();\r\n                    opts.forceNew = true;\r\n                    opts.reconnection = true;\r\n                    opts.reconnectionAttempts=5;\r\n                    opts.secure = true;\r\n                    opts.query = &quot;userID=&quot; + userId;\r\n                    socket = IO.socket(serverAddress, opts);\r\n    \r\n                    socket.on(&quot;MessageServerToClient&quot;, args -&gt; {\r\n                        if(args[0].toString().charAt(0) == &#39;[&#39;) {\r\n                            //Response is JSONArray\r\n                        } else if(args[0].toString().charAt(0) == &#39;{&#39;) {\r\n                            //Response is JSONObject\r\n                            JSONObject data = (JSONObject) args[0];\r\n                            messagesDB.insertMsg(data);\r\n                        }\r\n\r\n                        if (args.length &gt; 1 &amp;&amp; args[1] instanceof Ack) {\r\n                            ((Ack) args[1]).call(&quot;hi!&quot;);\r\n                        }\r\n                    });\r\n                    socket.connect();\r\n                }else if(!socket.connected()){\r\n                    socket.connect();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        /**\r\n         * Destroy.\r\n         */\r\n        public void destroy(){\r\n            if (socket != null) {\r\n                socket.off();\r\n                socket.disconnect();\r\n                socket.close();\r\n                socket=null;\r\n            }\r\n        }\r\n    }","title":"Getting null as Acknowledgement from Socket.io","body":"<p>i'm trying to realize a client server application with websockets for android.</p>\n<p>The Client Server communication works fine. So i can send and receive messages. But the acknowledgement is null.</p>\n<p>The console log from the server:</p>\n<pre><code>Client connected [id=kTilWFoqr-gj8waEAAAL] with [userid=21]\nSOCKET_ID SET\nSTATUS SET Online for USER '21'\nSENT TO CLIENT\nnull //THIS SHOULD BE hi!\n</code></pre>\n<p>On Server side is a socket.io nodejs server like:</p>\n<pre><code>import { Server } from &quot;socket.io&quot;;\nconst server = new Server();\n\nimport * as database from './DBController.js';\nimport * as dateTime from './DateTime.js';\n\nserver.on(&quot;connection&quot;, async (socket) =&gt; {\nconsole.info(`Client connected [id=${socket.id}] with [userid=${socket.handshake.query.userID}]`);\nsocket.on(&quot;MessageClientToServer&quot;, async (object) =&gt; {  \n    const sqlQuerry = `insert into messages(...) values(...)`;\n    const result = await database.executeQuery(sqlQuerry);\n\n    const socketID = await findSocketID(object.incoming_msg_id);\n    if(socketID[0].Socket_ID != 'NULL'){\n      socket.timeout(500).to(socketID[0].Socket_ID).emit(&quot;MessageServerToClient&quot;,object,(response) =&gt; {\n            console.log(response);\n        })\n        console.log(&quot;SENT TO CLIENT&quot;)\n    }else{\n        console.log(&quot;Client OFFLINE&quot;);\n    }\n    \n});\n\n// when socket disconnects, remove it from the list:\nsocket.on(&quot;disconnect&quot;, async() =&gt; {\n    console.info(`Client gone [id=${socket.id}]`);\n});\n\nserver.listen(12123, () =&gt; {\n    console.log('listening on *:12123');\n});\n</code></pre>\n<p>The Android Studio Client looks like:</p>\n<pre><code>public class SocketManager{\n    private static SocketManager instance;\n    private static Context context;\n    MessagesDbAdapter messagesDB = new MessagesDbAdapter(context);;\n\n    private SocketManager() {\n    }\n    private Socket socket;\n    public void connectSocket(String userId) {\n        try {\n            if(socket==null){\n                String serverAddress = &quot;http://ipADDRESS:12123&quot;;\n                IO.Options opts = new IO.Options();\n                opts.forceNew = true;\n                opts.reconnection = true;\n                opts.reconnectionAttempts=5;\n                opts.secure = true;\n                opts.query = &quot;userID=&quot; + userId;\n                socket = IO.socket(serverAddress, opts);\n\n                socket.on(&quot;MessageServerToClient&quot;, args -&gt; {\n                    if(args[0].toString().charAt(0) == '[') {\n                        //Response is JSONArray\n                    } else if(args[0].toString().charAt(0) == '{') {\n                        //Response is JSONObject\n                        JSONObject data = (JSONObject) args[0];\n                        messagesDB.insertMsg(data);\n                    }\n\n                    if (args.length &gt; 1 &amp;&amp; args[1] instanceof Ack) {\n                        ((Ack) args[1]).call(&quot;hi!&quot;);\n                    }\n                });\n                socket.connect();\n            }else if(!socket.connected()){\n                socket.connect();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    /**\n     * Destroy.\n     */\n    public void destroy(){\n        if (socket != null) {\n            socket.off();\n            socket.disconnect();\n            socket.close();\n            socket=null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json-schema-validator","light-4j"],"comments":[{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1673567448,"post_id":75063085,"comment_id":132534696,"body_markdown":"So the solution is to downgrade the schema-version .. &quot;items&quot; has a new name in version &quot;2020-12&quot; and its not implemented yet. With &quot;http://json-schema.org/draft-07/schema&quot; and &quot;VersionFlag.V7&quot; it starts working.\n\nSee https://github.com/networknt/json-schema-validator/issues/633","body":"So the solution is to downgrade the schema-version .. &quot;items&quot; has a new name in version &quot;2020-12&quot; and its not implemented yet. With &quot;<a href=\"http://json-schema.org/draft-07/schema\" rel=\"nofollow noreferrer\">json-schema.org/draft-07/schema</a>&quot; and &quot;VersionFlag.V7&quot; it starts working.  See <a href=\"https://github.com/networknt/json-schema-validator/issues/633\" rel=\"nofollow noreferrer\">github.com/networknt/json-schema-validator/issues/633</a>"},{"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"score":1,"creation_date":1690484916,"post_id":75063085,"comment_id":135364214,"body_markdown":"the array &lt;items&gt; in the version 2020-12 are named &lt;prefixItems&gt; and are working fine","body":"the array &lt;items&gt; in the version 2020-12 are named &lt;prefixItems&gt; and are working fine"}],"answers":[{"tags":[],"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690485330,"creation_date":1690485330,"answer_id":76782787,"question_id":75063085,"body_markdown":"        JsonSchemaFactory jsonSchemaFactory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\n\r\n        SchemaValidatorsConfig schemaValidatorsConfig = new SchemaValidatorsConfig ();\r\n\r\n        //schemaValidatorsConfig.setFailFast(true);\r\n\t\tschemaValidatorsConfig.setHandleNullableField(true);\r\n\t\tschemaValidatorsConfig.setTypeLoose(false);\r\n\r\n        //build json schema node\r\n\t\tJsonNode schemaNode;\r\n\t\ttry {\r\n\t\t\tschemaNode = objectMapper.valueToTree(schema);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//build input json node\r\n\t\tJsonNode jsonNode;\r\n\t\ttry {\r\n\t\t\tjsonNode = objectMapper.readTree(json);\r\n\t\t} catch (IOException e) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//validate the json with the schema\r\n\t\tSet&lt;ValidationMessage&gt; validationErrors;\r\n\t\t\r\n\t\tJsonSchema jsonSchema = jsonSchemaFactory.getSchema(schemaNode, schemaValidatorsConfig);\r\n\t\t\r\n\t\tvalidationErrors = jsonSchema.validate(jsonNode);","title":"How to validate array item types with networknt/json-schema-validator?","body":"<pre><code>    JsonSchemaFactory jsonSchemaFactory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\n\n    SchemaValidatorsConfig schemaValidatorsConfig = new SchemaValidatorsConfig ();\n\n    //schemaValidatorsConfig.setFailFast(true);\n    schemaValidatorsConfig.setHandleNullableField(true);\n    schemaValidatorsConfig.setTypeLoose(false);\n\n    //build json schema node\n    JsonNode schemaNode;\n    try {\n        schemaNode = objectMapper.valueToTree(schema);\n        \n    } catch (Exception e) {\n        \n    }\n    \n    //build input json node\n    JsonNode jsonNode;\n    try {\n        jsonNode = objectMapper.readTree(json);\n    } catch (IOException e) {\n        \n    }\n    \n    //validate the json with the schema\n    Set&lt;ValidationMessage&gt; validationErrors;\n    \n    JsonSchema jsonSchema = jsonSchemaFactory.getSchema(schemaNode, schemaValidatorsConfig);\n    \n    validationErrors = jsonSchema.validate(jsonNode);\n</code></pre>\n"}],"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690485330,"creation_date":1673299548,"question_id":75063085,"body_markdown":"its probably a very simple thing that Im missing, but my json-schema-validator ([networknt/json-schema-validator](https://github.com/networknt/json-schema-validator)) doesnt validate the type of my items inside an array.\r\n\r\nThis Java-snippet should yield errors:\r\n\r\n```\r\nvar schema = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft/2020-12/schema#\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;type\\&quot;: \\&quot;array\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;items\\&quot;: [\\n&quot; +\r\n                    &quot;    {\\n&quot; +\r\n                    &quot;      \\&quot;type\\&quot;: \\&quot;integer\\&quot;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;  ]\\n&quot; +\r\n                    &quot;}&quot;;\r\n\r\nvar input = &quot;[true,false,{},\\&quot;foo\\&quot;]&quot;;\r\n\r\nvar factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\nvar jSchema = factory.getSchema(schema);\r\nvar errors = jSchema.validate(new ObjectMapper().readTree(input));\r\nSystem.out.println(&quot;Errors: &#39;&quot;+errors.stream().map(ValidationMessage::getMessage).collect(joining(&quot;, &quot;)) +&quot;&#39;&quot;);\r\n```\r\nbut &#39;errors is empty. Over on [www.jsonschemavalidator.net](https://www.jsonschemavalidator.net/) this is invalid as expected.\r\n\r\nWhat obvious am I overlooking here ?\r\n\r\nThanks!","title":"How to validate array item types with networknt/json-schema-validator?","body":"<p>its probably a very simple thing that Im missing, but my json-schema-validator (<a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">networknt/json-schema-validator</a>) doesnt validate the type of my items inside an array.</p>\n<p>This Java-snippet should yield errors:</p>\n<pre><code>var schema = &quot;{\\n&quot; +\n                    &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft/2020-12/schema#\\&quot;,\\n&quot; +\n                    &quot;  \\&quot;type\\&quot;: \\&quot;array\\&quot;,\\n&quot; +\n                    &quot;  \\&quot;items\\&quot;: [\\n&quot; +\n                    &quot;    {\\n&quot; +\n                    &quot;      \\&quot;type\\&quot;: \\&quot;integer\\&quot;\\n&quot; +\n                    &quot;    }\\n&quot; +\n                    &quot;  ]\\n&quot; +\n                    &quot;}&quot;;\n\nvar input = &quot;[true,false,{},\\&quot;foo\\&quot;]&quot;;\n\nvar factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\nvar jSchema = factory.getSchema(schema);\nvar errors = jSchema.validate(new ObjectMapper().readTree(input));\nSystem.out.println(&quot;Errors: '&quot;+errors.stream().map(ValidationMessage::getMessage).collect(joining(&quot;, &quot;)) +&quot;'&quot;);\n</code></pre>\n<p>but 'errors is empty. Over on <a href=\"https://www.jsonschemavalidator.net/\" rel=\"nofollow noreferrer\">www.jsonschemavalidator.net</a> this is invalid as expected.</p>\n<p>What obvious am I overlooking here ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","gis","anylogic","agent","agent-based-modeling"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1690636977,"post_id":76782783,"comment_id":135383026,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25753251,"reputation":1,"user_id":19505437,"display_name":"Kimon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690485285,"creation_date":1690485285,"question_id":76782783,"body_markdown":"I am working in AnyLogic and am quite new. Description: of &#39;Tract&#39; Country&gt;State&gt;County&gt;City&gt;Tract. I have census tract data of the different districts of a city. In this data each row is one &quot;tract&quot; which has a population associated with it. I have a shape file of the tracts within the city. That is then added to the GIS map and converted from the shape file to a space markup. That created GISRegions that represent each tract within the city. I am now trying to spawn the population amount of people agents on the GISRegion/tract associated with its population. So I am trying to link the GISRegions/tract to their respected row so that the population can be created and be different for each GISRegion/tract. I have created an agent that takes in all of the data from an excel file and makes it into parameters on the Person(Agent) home page. This I believe to be the problem as I can not convert the &#39;ANYLOGIC&#39; name column from a string to a GISRegion. This name column is a string version of the names of the tracts. The GISRegions have the same names as the data that populates &#39;ANYLOGICNAME&#39;. Example of the naming convention EX: _24_12. If i could convert the ANYLOGIC name column from a string to a GISRegion i beleive this would link the two and relate the GISRegion/tract to its respected row so that the population can be grabbed and used to produce agents at this GISRegion/tract. I am not the best at AnyLogic but am trying to learn and progress. Any help or advice would be greatly appreciated.\r\n\r\nI have tried to put put the GISRegions into a Collection and create a function to make that link but to no avail. What I expect to do is randomly generate in each tract/GISRegion the population size of people Agents","title":"Issue Linking DB Table to GISRegions in Anylogic/ Spawning Agents to the GISRegions","body":"<p>I am working in AnyLogic and am quite new. Description: of 'Tract' Country&gt;State&gt;County&gt;City&gt;Tract. I have census tract data of the different districts of a city. In this data each row is one &quot;tract&quot; which has a population associated with it. I have a shape file of the tracts within the city. That is then added to the GIS map and converted from the shape file to a space markup. That created GISRegions that represent each tract within the city. I am now trying to spawn the population amount of people agents on the GISRegion/tract associated with its population. So I am trying to link the GISRegions/tract to their respected row so that the population can be created and be different for each GISRegion/tract. I have created an agent that takes in all of the data from an excel file and makes it into parameters on the Person(Agent) home page. This I believe to be the problem as I can not convert the 'ANYLOGIC' name column from a string to a GISRegion. This name column is a string version of the names of the tracts. The GISRegions have the same names as the data that populates 'ANYLOGICNAME'. Example of the naming convention EX: _24_12. If i could convert the ANYLOGIC name column from a string to a GISRegion i beleive this would link the two and relate the GISRegion/tract to its respected row so that the population can be grabbed and used to produce agents at this GISRegion/tract. I am not the best at AnyLogic but am trying to learn and progress. Any help or advice would be greatly appreciated.</p>\n<p>I have tried to put put the GISRegions into a Collection and create a function to make that link but to no avail. What I expect to do is randomly generate in each tract/GISRegion the population size of people Agents</p>\n"},{"tags":["java","random","hash","hashcode"],"comments":[{"owner":{"account_id":1437198,"reputation":15509,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":2,"creation_date":1603292862,"post_id":64465953,"comment_id":113992402,"body_markdown":"why do you want to do this? i.e. as opposed to using the default implementation from `Object` which has the right invariants","body":"why do you want to do this? i.e. as opposed to using the default implementation from <code>Object</code> which has the right invariants"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1603291183,"creation_date":1603291183,"answer_id":64465984,"question_id":64465953,"body_markdown":"The [`hashCode` contract](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()) specifies, among other things, that\r\n\r\n&gt; If two objects are equal according to the `equals(Object)` method, then calling the `hashCode` method on each of the two objects must produce the same integer result.\r\n\r\nSo no, making it random is a bad idea.","title":"Random integer as hashCode","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode</code> contract</a> specifies, among other things, that</p>\n<blockquote>\n<p>If two objects are equal according to the <code>equals(Object)</code> method, then calling the <code>hashCode</code> method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n<p>So no, making it random is a bad idea.</p>\n"},{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690484903,"creation_date":1603292687,"answer_id":64466464,"question_id":64465953,"body_markdown":"**Basic answer**\r\n\r\nIn the typical use case, you want to retrieve not with the same (in terms of identity) key object that was used to insert it in the hashing collection, but with an object which is logically equivalent (in terms of equal).\r\n\r\nThus, you want the following code to find the element in the map\r\n```\r\nKey k1 = new Key(&quot;param1&quot;, &quot;param2&quot;);\r\nKey k2 = new Key(&quot;param1&quot;, &quot;param2&quot;);\r\nValue val1 = new Value();\r\n\r\nmap.put(k1, value);\r\n\r\nValue val2 = map.get(k2);\r\n```\r\n\r\nIf hashCode is based solely on random number, than k1 and k2 have different hashes, and thus may point you to different buckets of the HashMap.\r\n\r\nWe showed that for objects implementing `equals`, random hashCode is a poor idea.\r\nThis is the reasoning behind the part of [hash code contract][1]:\r\n&gt; If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\r\n\r\n**A bit more advanced part:**\r\n\r\n[Let&#39;s take a look at Object.hashCode implementation][2].\r\nNote that the identity hashCode() implementation is dependant on the JVM.\r\n\r\nLooking at JDK sources, [`get_next_hash`][3] offers six methods to calculate hashCode:\r\n\r\n```none\r\n0. A randomly generated number.\r\n1. A function of memory address of the object.\r\n2. A hardcoded 1 (used for sensitivity testing.)\r\n3. A sequence.\r\n4. The memory address of the object, cast to int.\r\n5. Thread state combined with xorshift (https://en.wikipedia.org/wiki/Xorshift)\r\n```\r\n\r\nCode for reference:\r\n```lang-cpp\r\nstatic inline intptr_t get_next_hash(Thread * Self, oop obj) {\r\n  intptr_t value = 0 ;\r\n  if (hashCode == 0) {\r\n     // This form uses an unguarded global Park-Miller RNG,\r\n     // so it&#39;s possible for two threads to race and generate the same RNG.\r\n     // On MP system we&#39;ll have lots of RW access to a global, so the\r\n     // mechanism induces lots of coherency traffic.\r\n     value = os::random() ;\r\n  } else\r\n  if (hashCode == 1) {\r\n     // This variation has the property of being stable (idempotent)\r\n     // between STW operations.  This can be useful in some of the 1-0\r\n     // synchronization schemes.\r\n     intptr_t addrBits = cast_from_oop&lt;intptr_t&gt;(obj) &gt;&gt; 3 ;\r\n     value = addrBits ^ (addrBits &gt;&gt; 5) ^ GVars.stwRandom ;\r\n  } else\r\n  if (hashCode == 2) {\r\n     value = 1 ;            // for sensitivity testing\r\n  } else\r\n  if (hashCode == 3) {\r\n     value = ++GVars.hcSequence ;\r\n  } else\r\n  if (hashCode == 4) {\r\n     value = cast_from_oop&lt;intptr_t&gt;(obj) ;\r\n  } else {\r\n     // Marsaglia&#39;s xor-shift scheme with thread-specific state\r\n     // This is probably the best overall implementation -- we&#39;ll\r\n     // likely make this the default in future releases.\r\n     unsigned t = Self-&gt;_hashStateX ;\r\n     t ^= (t &lt;&lt; 11) ;\r\n     Self-&gt;_hashStateX = Self-&gt;_hashStateY ;\r\n     Self-&gt;_hashStateY = Self-&gt;_hashStateZ ;\r\n     Self-&gt;_hashStateZ = Self-&gt;_hashStateW ;\r\n     unsigned v = Self-&gt;_hashStateW ;\r\n     v = (v ^ (v &gt;&gt; 19)) ^ (t ^ (t &gt;&gt; 8)) ;\r\n     Self-&gt;_hashStateW = v ;\r\n     value = v ;\r\n  }\r\n\r\n  value &amp;= markOopDesc::hash_mask;\r\n  if (value == 0) value = 0xBAD ;\r\n  assert (value != markOopDesc::no_hash, &quot;invariant&quot;) ;\r\n  TEVENT (hashCode: GENERATE) ;\r\n  return value;\r\n}\r\n```\r\n\r\n**Both OpenJDK 7 and OpenJDK 6 use the first method, a random number generator.**\r\n\r\nOpenJDK 8 changed the default to 5 - Thread state combined with xorshift.\r\n\r\nNote that all of these implementations of Object.hashCode are consistent with Object.equals (in terms of hash code contract)\r\n\r\nTo sum up, you would be implementing one of the strategies behind Object.hashCode, but taking a risk of breaking the contract if you implement equals.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\r\n  [2]: https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html\r\n  [3]: http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/87ee5ee27509/src/share/vm/runtime/synchronizer.cpp#l555","title":"Random integer as hashCode","body":"<p><strong>Basic answer</strong></p>\n<p>In the typical use case, you want to retrieve not with the same (in terms of identity) key object that was used to insert it in the hashing collection, but with an object which is logically equivalent (in terms of equal).</p>\n<p>Thus, you want the following code to find the element in the map</p>\n<pre><code>Key k1 = new Key(&quot;param1&quot;, &quot;param2&quot;);\nKey k2 = new Key(&quot;param1&quot;, &quot;param2&quot;);\nValue val1 = new Value();\n\nmap.put(k1, value);\n\nValue val2 = map.get(k2);\n</code></pre>\n<p>If hashCode is based solely on random number, than k1 and k2 have different hashes, and thus may point you to different buckets of the HashMap.</p>\n<p>We showed that for objects implementing <code>equals</code>, random hashCode is a poor idea.\nThis is the reasoning behind the part of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">hash code contract</a>:</p>\n<blockquote>\n<p>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n<p><strong>A bit more advanced part:</strong></p>\n<p><a href=\"https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html\" rel=\"nofollow noreferrer\">Let's take a look at Object.hashCode implementation</a>.\nNote that the identity hashCode() implementation is dependant on the JVM.</p>\n<p>Looking at JDK sources, <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/87ee5ee27509/src/share/vm/runtime/synchronizer.cpp#l555\" rel=\"nofollow noreferrer\"><code>get_next_hash</code></a> offers six methods to calculate hashCode:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0. A randomly generated number.\n1. A function of memory address of the object.\n2. A hardcoded 1 (used for sensitivity testing.)\n3. A sequence.\n4. The memory address of the object, cast to int.\n5. Thread state combined with xorshift (https://en.wikipedia.org/wiki/Xorshift)\n</code></pre>\n<p>Code for reference:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>static inline intptr_t get_next_hash(Thread * Self, oop obj) {\n  intptr_t value = 0 ;\n  if (hashCode == 0) {\n     // This form uses an unguarded global Park-Miller RNG,\n     // so it's possible for two threads to race and generate the same RNG.\n     // On MP system we'll have lots of RW access to a global, so the\n     // mechanism induces lots of coherency traffic.\n     value = os::random() ;\n  } else\n  if (hashCode == 1) {\n     // This variation has the property of being stable (idempotent)\n     // between STW operations.  This can be useful in some of the 1-0\n     // synchronization schemes.\n     intptr_t addrBits = cast_from_oop&lt;intptr_t&gt;(obj) &gt;&gt; 3 ;\n     value = addrBits ^ (addrBits &gt;&gt; 5) ^ GVars.stwRandom ;\n  } else\n  if (hashCode == 2) {\n     value = 1 ;            // for sensitivity testing\n  } else\n  if (hashCode == 3) {\n     value = ++GVars.hcSequence ;\n  } else\n  if (hashCode == 4) {\n     value = cast_from_oop&lt;intptr_t&gt;(obj) ;\n  } else {\n     // Marsaglia's xor-shift scheme with thread-specific state\n     // This is probably the best overall implementation -- we'll\n     // likely make this the default in future releases.\n     unsigned t = Self-&gt;_hashStateX ;\n     t ^= (t &lt;&lt; 11) ;\n     Self-&gt;_hashStateX = Self-&gt;_hashStateY ;\n     Self-&gt;_hashStateY = Self-&gt;_hashStateZ ;\n     Self-&gt;_hashStateZ = Self-&gt;_hashStateW ;\n     unsigned v = Self-&gt;_hashStateW ;\n     v = (v ^ (v &gt;&gt; 19)) ^ (t ^ (t &gt;&gt; 8)) ;\n     Self-&gt;_hashStateW = v ;\n     value = v ;\n  }\n\n  value &amp;= markOopDesc::hash_mask;\n  if (value == 0) value = 0xBAD ;\n  assert (value != markOopDesc::no_hash, &quot;invariant&quot;) ;\n  TEVENT (hashCode: GENERATE) ;\n  return value;\n}\n</code></pre>\n<p><strong>Both OpenJDK 7 and OpenJDK 6 use the first method, a random number generator.</strong></p>\n<p>OpenJDK 8 changed the default to 5 - Thread state combined with xorshift.</p>\n<p>Note that all of these implementations of Object.hashCode are consistent with Object.equals (in terms of hash code contract)</p>\n<p>To sum up, you would be implementing one of the strategies behind Object.hashCode, but taking a risk of breaking the contract if you implement equals.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603293022,"creation_date":1603293022,"answer_id":64466589,"question_id":64465953,"body_markdown":"If you do nothing and use `Object.hashCode()` (the &quot;memory address&quot; of the object), then you more or less have what you want to achieve. Hence you can have a HashMap/HashSet key of any class.\r\n\r\nStill have a safe `equals`.","title":"Random integer as hashCode","body":"<p>If you do nothing and use <code>Object.hashCode()</code> (the &quot;memory address&quot; of the object), then you more or less have what you want to achieve. Hence you can have a HashMap/HashSet key of any class.</p>\n<p>Still have a safe <code>equals</code>.</p>\n"}],"owner":{"account_id":1058077,"reputation":570,"user_id":3309694,"accept_rate":100,"display_name":"Vallerious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64466464,"answer_count":3,"score":1,"last_activity_date":1690484903,"creation_date":1603291090,"question_id":64465953,"body_markdown":"Is it a good idea to generate a random number in the constructor and return this value from `hashCode` method?\r\nThere is a chance for collisions, but this applies when writing your own `hashCode` method. So what are the drawbacks?\r\nWhen using this object in a HashMap it will be stored with the random number as a hash and then retrieved by the same. If there are collisions they will be resolved by `equals`.","title":"Random integer as hashCode","body":"<p>Is it a good idea to generate a random number in the constructor and return this value from <code>hashCode</code> method?\nThere is a chance for collisions, but this applies when writing your own <code>hashCode</code> method. So what are the drawbacks?\nWhen using this object in a HashMap it will be stored with the random number as a hash and then retrieved by the same. If there are collisions they will be resolved by <code>equals</code>.</p>\n"},{"tags":["java","csv","jar","data-analysis"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690469964,"post_id":76781002,"comment_id":135361272,"body_markdown":"Did you recompile the java file? Java doesn&#39;t just run from source (usually, it&#39;s technically possible nowadays).","body":"Did you recompile the java file? Java doesn&#39;t just run from source (usually, it&#39;s technically possible nowadays)."},{"owner":{"account_id":29049565,"reputation":1,"user_id":22252696,"display_name":"Alexander Marshall"},"score":0,"creation_date":1690470598,"post_id":76781002,"comment_id":135361426,"body_markdown":"How would I go about doing that?","body":"How would I go about doing that?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690470664,"post_id":76781002,"comment_id":135361449,"body_markdown":"Depends on how your script works. Easiest option is `javac &lt;filename&gt;` then copy over the resulting `.class` file(s). But if your script requires a `.jar` file, it&#39;s more complicated.","body":"Depends on how your script works. Easiest option is <code>javac &lt;filename&gt;</code> then copy over the resulting <code>.class</code> file(s). But if your script requires a <code>.jar</code> file, it&#39;s more complicated."}],"answers":[{"tags":[],"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690484874,"creation_date":1690484874,"answer_id":76782746,"question_id":76781002,"body_markdown":"If you do not have a jar file:\r\n\r\n    javac file.java\r\n    java file\r\n\r\nIf your jar file and source code (.java) file are on the same dir you can run following command to compile it.\r\n\r\nIf you have a Mac :\r\n\r\n    javac -cp .:lib.jar Main.java\r\n\r\nIf you have a windows :\r\n\r\n    javac -cp .;lib.jar Main.java\r\n\r\nThis command will create byte code (.class file) for the specific .java file.\r\nThen executing,\r\n\r\n    java -cp .:external-library.jar Main\r\n\r\nwill execute that script. \r\n\r\n\r\nHere, \r\n\r\n-cp stands for class path which is the path to the .jar file location.\r\n\r\njavac stands for java compiler. it compiles the source code to byte code.\r\n\r\n","title":"How do I properly save changes to a .java file in a data analysis script?","body":"<p>If you do not have a jar file:</p>\n<pre><code>javac file.java\njava file\n</code></pre>\n<p>If your jar file and source code (.java) file are on the same dir you can run following command to compile it.</p>\n<p>If you have a Mac :</p>\n<pre><code>javac -cp .:lib.jar Main.java\n</code></pre>\n<p>If you have a windows :</p>\n<pre><code>javac -cp .;lib.jar Main.java\n</code></pre>\n<p>This command will create byte code (.class file) for the specific .java file.\nThen executing,</p>\n<pre><code>java -cp .:external-library.jar Main\n</code></pre>\n<p>will execute that script.</p>\n<p>Here,</p>\n<p>-cp stands for class path which is the path to the .jar file location.</p>\n<p>javac stands for java compiler. it compiles the source code to byte code.</p>\n"}],"owner":{"account_id":29049565,"reputation":1,"user_id":22252696,"display_name":"Alexander Marshall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1690484874,"creation_date":1690469766,"question_id":76781002,"body_markdown":"I&#39;m using a script to combine 2 .csv files containing data like onset and offset times in frames. There is a .java file that outputs the frame data to seconds for easier analysis. However, there appears to be some rounding issue, and after editing what I think is the problem in .java, none of the changes are reflected upon running the script again.\r\n\r\nI&#39;ve tried writing print statements to appear when running the script and changing the values of some variables, but nothing appeared and the conversion from frames to seconds was not affected. When removing the file from the folder entirely, the program still runs as intended. I&#39;m not sure where to go from here.","title":"How do I properly save changes to a .java file in a data analysis script?","body":"<p>I'm using a script to combine 2 .csv files containing data like onset and offset times in frames. There is a .java file that outputs the frame data to seconds for easier analysis. However, there appears to be some rounding issue, and after editing what I think is the problem in .java, none of the changes are reflected upon running the script again.</p>\n<p>I've tried writing print statements to appear when running the script and changing the values of some variables, but nothing appeared and the conversion from frames to seconds was not affected. When removing the file from the folder entirely, the program still runs as intended. I'm not sure where to go from here.</p>\n"},{"tags":["java","spring","jsp","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":8186124,"reputation":4869,"user_id":6161898,"display_name":"fg78nc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500732852,"creation_date":1500732852,"answer_id":45255522,"question_id":45255456,"body_markdown":"Do you have JSP and JSTL jars on your project?\r\n\r\nIf you use maven add\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot - JSP is not rendering","body":"<p>Do you have JSP and JSTL jars on your project?</p>\n\n<p>If you use maven add</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1500732982,"creation_date":1500732982,"answer_id":45255540,"question_id":45255456,"body_markdown":"Can you try adding below dependencies in `pom.xml`?\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot - JSP is not rendering","body":"<p>Can you try adding below dependencies in <code>pom.xml</code>?</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28742462,"reputation":1,"user_id":22012307,"display_name":"Eshika Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690483340,"creation_date":1690483340,"answer_id":76782612,"question_id":45255456,"body_markdown":"In my case I have swaped the position of webapp folder and WEB-INF folder due to which the jsp page get delocated.\r\nAnd hence cannot get display on the server.\r\n\r\nThe right sequence is-\r\n    webapp-&gt;WEB-INF-&gt;views\r\n\r\nOnce check the folder sequence in your IDE.\r\nHope it helps!","title":"Spring Boot - JSP is not rendering","body":"<p>In my case I have swaped the position of webapp folder and WEB-INF folder due to which the jsp page get delocated.\nAnd hence cannot get display on the server.</p>\n<p>The right sequence is-\nwebapp-&gt;WEB-INF-&gt;views</p>\n<p>Once check the folder sequence in your IDE.\nHope it helps!</p>\n"}],"owner":{"account_id":11389438,"reputation":13,"user_id":8350034,"display_name":"Dhaswanth Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45255540,"answer_count":3,"score":1,"last_activity_date":1690483340,"creation_date":1500732388,"question_id":45255456,"body_markdown":"I am writing a Spring MVC application using Spring boot. I am trying to display a text and a list of Department object which is populated from the Controller class. when the boot application is run the values are getting populated in the Controller&#39;s List variable and the page is redirected to the mentioned JSP. \r\n\r\n\r\n\r\nThe problem is the output is something like this. \r\n[Screenshot of the output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kImMu.jpg\r\n\r\nI want the values to be populated in the designated EL. Any help is very much appreciated. \r\n\r\nFollowing are the codes used.\r\n\r\n**Department.jsp**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div&gt;\r\n    \t\t&lt;div&gt;\r\n    \t\t\t&lt;h1&gt;${message}&lt;/h1&gt;\r\n    \t\t\t    &lt;ul&gt;\r\n            \t\t&lt;c:forEach var=&quot;listValue&quot; items=&quot;${DepartmentList}&quot; &gt;\r\n              \t\t\t  &lt;li&gt;${listValue.deptName}&lt;/li&gt;\r\n           \t\t\t &lt;/c:forEach&gt;\r\n       \t\t\t\t &lt;/ul&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**SpringMVCApplication.java**\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.support.SpringBootServletInitializer;\r\n\r\n    @SpringBootApplication\r\n    public class SpringMVCApplication extends SpringBootServletInitializer{\r\n\r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(SpringMVCApplication.class);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringMVCApplication.class, args);\r\n    \t}\r\n\r\n    }\r\n\r\n**MVCConfiguration.java**\r\n\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(value = &quot;com.practices.spring.mvc&quot;)\r\n    public class MVCConfiguration extends WebMvcConfigurerAdapter {\r\n\r\n    \t@Override\r\n    \tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n    \t\tInternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setContentType(&quot;application/html&quot;);\r\n    \t\t\r\n    \t\tregistry.viewResolver(resolver);\r\n    \t}\r\n\r\n    \tpublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n    \t\tconfigurer.enable();\r\n    \t}\r\n    \t\r\n\r\n    }\r\n\r\n**DepartmentController.java**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n\r\n    import com.practices.spring.mvc.valueobject.Department;\r\n\r\n    @Controller\r\n    public class DepartmentController {\r\n    \t\r\n\r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/depts&quot;)\r\n    \tpublic ModelAndView getAllDepartments(){\r\n    \t\tModelAndView mv = new ModelAndView(&quot;Department&quot;);\r\n    \t\tList&lt;Department&gt; deptList = populateDepartment();\r\n    \t\t\r\n    \t\tmv.addObject(&quot;DepartmentList&quot;, deptList);\r\n    \t\tmv.addObject(&quot;message&quot;, &quot;Hi&quot;);\r\n    \t\r\n    \t\t\r\n    \t\treturn mv;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \tprivate List&lt;Department&gt; populateDepartment(){\r\n    \t\tList&lt;Department&gt; deptListTemp = new ArrayList&lt;&gt;();\r\n    \t\tDepartment dept1 = new Department(&quot;1&quot;, &quot;Finance&quot;);\r\n    \t\tDepartment dept2 = new Department(&quot;2&quot;, &quot;CRO&quot;);\r\n    \t\tdeptListTemp.add(dept1);\r\n    \t\tdeptListTemp.add(dept2);\r\n    \t\t\r\n    \t\treturn deptListTemp;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Department.java**\r\n\r\n    package com.practices.spring.mvc.valueobject;\r\n\r\n    public class Department {\r\n    \tprivate String deptId;\r\n    \tprivate String deptName;\r\n    \t\r\n    \tpublic Department(){}\r\n    \t\r\n    \tpublic Department (String deptIdentification, String deptartmentName){\r\n    \t\tdeptId = deptIdentification;\r\n    \t\tdeptName = deptartmentName;\r\n    \t}\r\n    \t\r\n    \tpublic String getDeptId() {\r\n    \t\treturn deptId;\r\n    \t}\r\n    \tpublic void setDeptId(String deptId) {\r\n    \t\tthis.deptId = deptId;\r\n    \t}\r\n    \tpublic String getDeptName() {\r\n    \t\treturn deptName;\r\n    \t}\r\n    \tpublic void setDeptName(String deptName) {\r\n    \t\tthis.deptName = deptName;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String toString(){\r\n    \t\treturn &quot;[deptId : &quot;+deptId +&quot; ! deptName : &quot;+deptName+&quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n","title":"Spring Boot - JSP is not rendering","body":"<p>I am writing a Spring MVC application using Spring boot. I am trying to display a text and a list of Department object which is populated from the Controller class. when the boot application is run the values are getting populated in the Controller's List variable and the page is redirected to the mentioned JSP. </p>\n\n<p>The problem is the output is something like this. \n<a href=\"https://i.stack.imgur.com/kImMu.jpg\" rel=\"nofollow noreferrer\">Screenshot of the output</a></p>\n\n<p>I want the values to be populated in the designated EL. Any help is very much appreciated. </p>\n\n<p>Following are the codes used.</p>\n\n<p><strong>Department.jsp</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;div&gt;\n            &lt;h1&gt;${message}&lt;/h1&gt;\n                &lt;ul&gt;\n                &lt;c:forEach var=\"listValue\" items=\"${DepartmentList}\" &gt;\n                      &lt;li&gt;${listValue.deptName}&lt;/li&gt;\n                 &lt;/c:forEach&gt;\n                 &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>SpringMVCApplication.java</strong></p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class SpringMVCApplication extends SpringBootServletInitializer{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(SpringMVCApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringMVCApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p><strong>MVCConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(value = \"com.practices.spring.mvc\")\npublic class MVCConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(\"/WEB-INF/view/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setContentType(\"application/html\");\n\n        registry.viewResolver(resolver);\n    }\n\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n\n}\n</code></pre>\n\n<p><strong>DepartmentController.java</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport com.practices.spring.mvc.valueobject.Department;\n\n@Controller\npublic class DepartmentController {\n\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/depts\")\n    public ModelAndView getAllDepartments(){\n        ModelAndView mv = new ModelAndView(\"Department\");\n        List&lt;Department&gt; deptList = populateDepartment();\n\n        mv.addObject(\"DepartmentList\", deptList);\n        mv.addObject(\"message\", \"Hi\");\n\n\n        return mv;\n    }\n\n\n\n\n    private List&lt;Department&gt; populateDepartment(){\n        List&lt;Department&gt; deptListTemp = new ArrayList&lt;&gt;();\n        Department dept1 = new Department(\"1\", \"Finance\");\n        Department dept2 = new Department(\"2\", \"CRO\");\n        deptListTemp.add(dept1);\n        deptListTemp.add(dept2);\n\n        return deptListTemp;\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Department.java</strong></p>\n\n<pre><code>package com.practices.spring.mvc.valueobject;\n\npublic class Department {\n    private String deptId;\n    private String deptName;\n\n    public Department(){}\n\n    public Department (String deptIdentification, String deptartmentName){\n        deptId = deptIdentification;\n        deptName = deptartmentName;\n    }\n\n    public String getDeptId() {\n        return deptId;\n    }\n    public void setDeptId(String deptId) {\n        this.deptId = deptId;\n    }\n    public String getDeptName() {\n        return deptName;\n    }\n    public void setDeptName(String deptName) {\n        this.deptName = deptName;\n    }\n\n\n    public String toString(){\n        return \"[deptId : \"+deptId +\" ! deptName : \"+deptName+\"]\";\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1690477452,"post_id":76781754,"comment_id":135362836,"body_markdown":"Hava you tried starting from the Eclipse marketplace - https://marketplace.eclipse.org/content/codeium","body":"Hava you tried starting from the Eclipse marketplace - <a href=\"https://marketplace.eclipse.org/content/codeium\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/codeium</a>"},{"owner":{"account_id":11069155,"reputation":23,"user_id":8127954,"display_name":"y.z"},"score":0,"creation_date":1690481286,"post_id":76781754,"comment_id":135363612,"body_markdown":"Yes, of course, but it didn&#180;t work.","body":"Yes, of course, but it didn&#180;t work."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1690529807,"post_id":76781754,"comment_id":135369427,"body_markdown":"The update site `https://exafunction.github.io/codeium-eclipse/` works for me (in a web browser it gives a NOT FOUND, but update site files like [`https://exafunction.github.io/codeium-eclipse/content.jar`](https://exafunction.github.io/codeium-eclipse/content.jar) are found). I get prompted &quot;Proceed with the installation anyways?&quot; only when installing it via Marketplace, not via _Help &gt; Install New Software..._ What happens if you just hit _Yes_ to proceed?","body":"The update site <code>https:&#47;&#47;exafunction.github.io&#47;codeium-eclipse&#47;</code> works for me (in a web browser it gives a NOT FOUND, but update site files like <a href=\"https://exafunction.github.io/codeium-eclipse/content.jar\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;exafunction.github.io&#47;codeium-eclipse&#47;content.jar</code></a> are found). I get prompted &quot;Proceed with the installation anyways?&quot; only when installing it via Marketplace, not via <i>Help &gt; Install New Software...</i> What happens if you just hit <i>Yes</i> to proceed?"},{"owner":{"account_id":1874899,"reputation":506,"user_id":1696307,"display_name":"PeterG"},"score":0,"creation_date":1691054950,"post_id":76781754,"comment_id":135440707,"body_markdown":"@howlger What about the license then? For me it says: &quot;Proprietary Software&quot; and &quot;Redistribution and use in source and binary forms, with or without modification, is not permitted in any form or by any means.&quot;","body":"@howlger What about the license then? For me it says: &quot;Proprietary Software&quot; and &quot;Redistribution and use in source and binary forms, with or without modification, is not permitted in any form or by any means.&quot;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1691056429,"post_id":76781754,"comment_id":135441061,"body_markdown":"You can use it for free, but you have to create an account: https://codeium.com/eclipse_tutorial Be aware that when you use it, [data is sent from you to Exafunction, which they use to improve their services](https://codeium.com/terms-of-service). You are not allowed to copy their update site `https://exafunction.github.io/codeium-eclipse` and provide it to others.","body":"You can use it for free, but you have to create an account: <a href=\"https://codeium.com/eclipse_tutorial\" rel=\"nofollow noreferrer\">codeium.com/eclipse_tutorial</a> Be aware that when you use it, <a href=\"https://codeium.com/terms-of-service\" rel=\"nofollow noreferrer\">data is sent from you to Exafunction, which they use to improve their services</a>. You are not allowed to copy their update site <code>https:&#47;&#47;exafunction.github.io&#47;codeium-eclipse</code> and provide it to others."}],"owner":{"account_id":11069155,"reputation":23,"user_id":8127954,"display_name":"y.z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690482414,"creation_date":1690475391,"question_id":76781754,"body_markdown":"\r\nWhen I try to install eclipse plugin codeium in eclipse (4.28 and 4.27)\r\n\r\nit says &quot;The following solutions are not available: Codeium 0.1.0&quot;\r\n\r\n[![Warning][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d3c1I.png\r\n\r\n\r\nAlso the page https://exafunction.github.io/codeium-eclipse gives a NOT FOUND error.\r\n\r\nOn 27 july the plugin is broken for eclipse?\r\n\r\n\r\nReference page: https://codeium.com\r\n","title":"Eclipse Codeium Plugin broken?","body":"<p>When I try to install eclipse plugin codeium in eclipse (4.28 and 4.27)</p>\n<p>it says &quot;The following solutions are not available: Codeium 0.1.0&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/d3c1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d3c1I.png\" alt=\"Warning\" /></a></p>\n<p>Also the page <a href=\"https://exafunction.github.io/codeium-eclipse\" rel=\"nofollow noreferrer\">https://exafunction.github.io/codeium-eclipse</a> gives a NOT FOUND error.</p>\n<p>On 27 july the plugin is broken for eclipse?</p>\n<p>Reference page: <a href=\"https://codeium.com\" rel=\"nofollow noreferrer\">https://codeium.com</a></p>\n"},{"tags":["javascript","java","eclipse","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":22041557,"reputation":33,"user_id":16307269,"display_name":"Martin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690482063,"creation_date":1690285921,"answer_id":76762434,"question_id":76720241,"body_markdown":"1) file is not executable\r\n\r\nOR\r\n\r\n2) file is not accessible\r\n\r\nReview your access rights to that folder and file.","title":"Faliure message : NoSuchDriver Unable to obtain: Capabilities {browserName: MicrosoftEdge, ms:edgeOptions","body":"<ol>\n<li>file is not executable</li>\n</ol>\n<p>OR</p>\n<ol start=\"2\">\n<li>file is not accessible</li>\n</ol>\n<p>Review your access rights to that folder and file.</p>\n"}],"owner":{"account_id":29016627,"reputation":1,"user_id":22226915,"display_name":"sagar mandla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690482063,"creation_date":1689761838,"question_id":76720241,"body_markdown":"While I&#39;m trying to execute the program, the program is getting failed also the following is the failure message I&#39;m getting and I&#39;m unable to resolve this :\r\n\r\n&quot; WARNING: IOException running command \\[C:\\\\Users\\\\RAZI\\\\AppData\\\\Local\\\\Temp\\\\selenium-manager105348031911200259374836408092303\\\\selenium-manager.exe, --browser, MicrosoftEdge, --output, json\\]: Cannot run program &quot;C:\\\\Users\\\\RAZI\\\\AppData\\\\Local\\\\Temp\\\\selenium-manager105348031911200259374836408092303\\\\selenium-manager.exe&quot;: CreateProcess error=5, Access is denied &quot;\r\nCould anyone help me to resolve this?\r\n\r\nI&#39;ve tried to execute the below code\r\n\r\nExpectation: Is that the code will execute","title":"Faliure message : NoSuchDriver Unable to obtain: Capabilities {browserName: MicrosoftEdge, ms:edgeOptions","body":"<p>While I'm trying to execute the program, the program is getting failed also the following is the failure message I'm getting and I'm unable to resolve this :</p>\n<p>&quot; WARNING: IOException running command [C:\\Users\\RAZI\\AppData\\Local\\Temp\\selenium-manager105348031911200259374836408092303\\selenium-manager.exe, --browser, MicrosoftEdge, --output, json]: Cannot run program &quot;C:\\Users\\RAZI\\AppData\\Local\\Temp\\selenium-manager105348031911200259374836408092303\\selenium-manager.exe&quot;: CreateProcess error=5, Access is denied &quot;\nCould anyone help me to resolve this?</p>\n<p>I've tried to execute the below code</p>\n<p>Expectation: Is that the code will execute</p>\n"},{"tags":["java","spring-boot","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1586874631,"creation_date":1505920678,"answer_id":46325909,"question_id":46325540,"body_markdown":"You really should follow [documentation][1]:\r\n\r\n&gt; When using manual `AckMode`, the listener can also be provided with the `Acknowledgment`; this example also shows how to use a different container factory.\r\n\r\n    @KafkaListener(id = &quot;baz&quot;, topics = &quot;myTopic&quot;,\r\n              containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;)\r\n    public void listen(String data, Acknowledgment ack) {\r\n        ...\r\n        ack.acknowledge();\r\n    }\r\n\r\nThere is really nowhere noted that `Acknowledgment` is a bean. So, change your `receive()` `@KafkaListener` method signature appropriately and remove that `@Autowired` for suspicious  `Acknowledgment` bean - it just doesn&#39;t exists because this object is a part (header) of each received message.\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/#kafka-listener-annotation","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>You really should follow <a href=\"https://docs.spring.io/spring-kafka/reference/html/#kafka-listener-annotation\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>When using manual <code>AckMode</code>, the listener can also be provided with the <code>Acknowledgment</code>; this example also shows how to use a different container factory.</p>\n</blockquote>\n\n<pre><code>@KafkaListener(id = \"baz\", topics = \"myTopic\",\n          containerFactory = \"kafkaManualAckListenerContainerFactory\")\npublic void listen(String data, Acknowledgment ack) {\n    ...\n    ack.acknowledge();\n}\n</code></pre>\n\n<p>There is really nowhere noted that <code>Acknowledgment</code> is a bean. So, change your <code>receive()</code> <code>@KafkaListener</code> method signature appropriately and remove that <code>@Autowired</code> for suspicious  <code>Acknowledgment</code> bean - it just doesn't exists because this object is a part (header) of each received message.</p>\n"},{"tags":[],"owner":{"account_id":13944802,"reputation":341,"user_id":10069800,"display_name":"Zim8662"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1548842133,"creation_date":1548842133,"answer_id":54437729,"question_id":46325540,"body_markdown":"For those still looking for a solution to these errors concerning manual acknowledgment, you don&#39;t need to specify containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;, instead you can just add:\r\n\r\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n\r\nto your receiver config just before you return the factory object.\r\n\r\nThen you also need:\r\n\r\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\r\nin consumer config props.\r\n\r\nSo in the end your listener method can simply look like:\r\n\r\n    @KafkaListener(topics = &quot;${spring.kafka.topic}&quot;)\r\n        private void listen(@Payload String payload, Acknowledgment acknowledgment) {\r\n            //Whatever code you want to do with the payload\r\n            acknowledgement.acknowledge(); //or even pass the acknowledgment to a different method and acknowledge even later\r\n        }","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>For those still looking for a solution to these errors concerning manual acknowledgment, you don't need to specify containerFactory = \"kafkaManualAckListenerContainerFactory\", instead you can just add:</p>\n\n<pre><code>factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n</code></pre>\n\n<p>to your receiver config just before you return the factory object.</p>\n\n<p>Then you also need:</p>\n\n<pre><code>props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n</code></pre>\n\n<p>in consumer config props.</p>\n\n<p>So in the end your listener method can simply look like:</p>\n\n<pre><code>@KafkaListener(topics = \"${spring.kafka.topic}\")\n    private void listen(@Payload String payload, Acknowledgment acknowledgment) {\n        //Whatever code you want to do with the payload\n        acknowledgement.acknowledge(); //or even pass the acknowledgment to a different method and acknowledge even later\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636469587,"creation_date":1636468638,"answer_id":69900057,"question_id":46325540,"body_markdown":"Those who are using spring boot application, simple add below to your application.yml (or environment specific file).\r\n\r\n    spring:\r\n      kafka:\r\n        listener:\r\n          ack-mode: manual\r\n\r\nAbove change will make `Acknowledgment ack` argument available inside  \r\n `receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack)` method automatically.","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>Those who are using spring boot application, simple add below to your application.yml (or environment specific file).</p>\n<pre><code>spring:\n  kafka:\n    listener:\n      ack-mode: manual\n</code></pre>\n<p>Above change will make <code>Acknowledgment ack</code> argument available inside<br />\n<code>receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack)</code> method automatically.</p>\n"},{"tags":[],"owner":{"account_id":8171302,"reputation":61,"user_id":6151652,"display_name":"Valery Putnin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690481748,"creation_date":1690481748,"answer_id":76782448,"question_id":46325540,"body_markdown":"Java code: \r\n\r\n    @Service\r\n    public class ServiceCallKafkaListener {\r\n    \r\n        @KafkaListener(id = &quot;listenerId&quot;,\r\n                groupId = &quot;groupListenerId&quot;,\r\n                topics = &quot;topicName&quot;)\r\n        public void listenServiceCall(@Payload String message,\r\n                                      Acknowledgment acknowledgment) {\r\n            //here is your logic for message processing\r\n            boolean logicForMessageProcessingCompleted = true;\r\n            if (logicForMessageProcessingCompleted) {\r\n                //manual commit\r\n                acknowledgment.acknowledge();\r\n            }\r\n        }\r\n    }\r\n\r\napplication.properties\r\n\r\n    #type of acknowledgment mode\r\n    spring.kafka.listener.ack-mode=MANUAL_IMMEDIATE\r\n\r\n    #property that turns off auto commit\r\n    spring.kafka.consumer.enable-auto-commit=false","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>Java code:</p>\n<pre><code>@Service\npublic class ServiceCallKafkaListener {\n\n    @KafkaListener(id = &quot;listenerId&quot;,\n            groupId = &quot;groupListenerId&quot;,\n            topics = &quot;topicName&quot;)\n    public void listenServiceCall(@Payload String message,\n                                  Acknowledgment acknowledgment) {\n        //here is your logic for message processing\n        boolean logicForMessageProcessingCompleted = true;\n        if (logicForMessageProcessingCompleted) {\n            //manual commit\n            acknowledgment.acknowledge();\n        }\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>#type of acknowledgment mode\nspring.kafka.listener.ack-mode=MANUAL_IMMEDIATE\n\n#property that turns off auto commit\nspring.kafka.consumer.enable-auto-commit=false\n</code></pre>\n"}],"owner":{"account_id":3479089,"reputation":818,"user_id":2911631,"accept_rate":23,"display_name":"kumarhimanshu449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73866,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1690481748,"creation_date":1505919698,"question_id":46325540,"body_markdown":"I am using Spring Kafka first time and I am not able to use Acknowledgement.acknowledge() method for manual commit in my consumer code as mentioned here [https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets][1]. Mine is spring-boot application. If I am not using manual commit process than my code is working fine. But when I use \r\nAcknowledgement.acknowledge() for manual commit it shows error related to bean. Also If I am not using manual commit properly please suggest me the right way to do it.\r\n\r\nError message:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field ack in Receiver required a bean of type &#39;org.springframework.kafka.support.Acknowledgment&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.springframework.kafka.support.Acknowledgment&#39; in your configuration.\r\n\r\n\r\nI googled this error I found that I need to add @Component but that is already there in my consumer code.\r\n\r\nMy consumer code looks like this: Receiver.java\r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.kafka.support.Acknowledgment;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Receiver {\r\n    \r\n    \t@Autowired\r\n    \tpublic Acknowledgment ack;\r\n    \t\r\n    \tprivate CountDownLatch latch = new CountDownLatch(1);\r\n    \t\r\n    \t@KafkaListener(topics = &quot;${kafka.topic.TestTopic}&quot;)\r\n    \tpublic void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord){\r\n    \t\t\tSystem.out.println(consumerRecord.value());\r\n    \t\t\tlatch.countDown();\r\n    \t\t\tack.acknowledge();\r\n    \t}\r\n    }\r\n\r\nMy producer code looks like this: Sender.java\r\n\r\n    import java.util.Map;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Sender {\r\n    \r\n    \t@Autowired\r\n    \tprivate KafkaTemplate&lt;String, Map&lt;String, Object&gt;&gt; kafkaTemplate;\r\n    \r\n    \tpublic void send(Map&lt;String, Object&gt; map){\r\n    \t\t\tkafkaTemplate.send(&quot;TestTopic&quot;, map);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets\r\n\r\n**EDIT 1:**\r\n\r\nMy new consumer code looks like this: Receiver.java\r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.kafka.support.Acknowledgment;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Receiver {\r\n    \r\n    \tprivate CountDownLatch latch = new CountDownLatch(1);\r\n    \t\r\n    \t@KafkaListener(topics = &quot;${kafka.topic.TestTopic}&quot;, containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;)\r\n    \tpublic void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack){\r\n    \t\t\tSystem.out.println(consumerRecord.value());\r\n    \t\t\tlatch.countDown();\r\n    \t\t\tack.acknowledge();\r\n    \t}\r\n    }\r\n\r\nI changed my configuration class also:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.ConsumerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    \r\n    @Configuration\r\n    @EnableKafka\r\n    public class ReceiverConfig {\r\n    \r\n    \t@Value(&quot;${kafka.bootstrap-servers}&quot;)\r\n    \tprivate String bootstrapServers;\r\n    \r\n    \t@Value(&quot;${spring.kafka.consumer.group-id}&quot;)\r\n    \tprivate String consumerGroupId;\r\n    \r\n    \t@Bean\r\n    \tpublic Map&lt;String, Object&gt; consumerConfigs() throws SendGridException {\r\n    \t\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    \t\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n    \t\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \t\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \t\t\tprops.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\r\n    \t\t\treturn props;\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConsumerFactory&lt;String, String&gt; consumerFactory(){\r\n    \t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    \t}\r\n    \r\n    \t/*@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(){\r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.setConsumerFactory(consumerFactory());\r\n    \r\n    \t\treturn factory;\r\n    \t}*/\r\n    \r\n    \t@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaManualAckListenerContainerFactory(){\r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.setConsumerFactory(consumerFactory());\r\n    \t\treturn factory;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Receiver receiver() {\r\n    \t\treturn new Receiver();\r\n    \t}\r\n    }\r\n\r\nAfter adding containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot; to my receive() method I am getting the below error.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 1 of method kafkaListenerContainerFactory in org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration required a bean of type &#39;org.springframework.kafka.core.ConsumerFactory&#39; that could not be found.\r\n    \t- Bean method &#39;kafkaConsumerFactory&#39; in &#39;KafkaAutoConfiguration&#39; not loaded because @ConditionalOnMissingBean (types: org.springframework.kafka.core.ConsumerFactory; SearchStrategy: all) found bean &#39;consumerFactory&#39;\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider revisiting the conditions above or defining a bean of type &#39;org.springframework.kafka.core.ConsumerFactory&#39; in your configuration.","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>I am using Spring Kafka first time and I am not able to use Acknowledgement.acknowledge() method for manual commit in my consumer code as mentioned here <a href=\"https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets\" rel=\"noreferrer\">https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets</a>. Mine is spring-boot application. If I am not using manual commit process than my code is working fine. But when I use \nAcknowledgement.acknowledge() for manual commit it shows error related to bean. Also If I am not using manual commit properly please suggest me the right way to do it.</p>\n\n<p>Error message:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField ack in Receiver required a bean of type 'org.springframework.kafka.support.Acknowledgment' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.kafka.support.Acknowledgment' in your configuration.\n</code></pre>\n\n<p>I googled this error I found that I need to add @Component but that is already there in my consumer code.</p>\n\n<p>My consumer code looks like this: Receiver.java</p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.support.Acknowledgment;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Receiver {\n\n    @Autowired\n    public Acknowledgment ack;\n\n    private CountDownLatch latch = new CountDownLatch(1);\n\n    @KafkaListener(topics = \"${kafka.topic.TestTopic}\")\n    public void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord){\n            System.out.println(consumerRecord.value());\n            latch.countDown();\n            ack.acknowledge();\n    }\n}\n</code></pre>\n\n<p>My producer code looks like this: Sender.java</p>\n\n<pre><code>import java.util.Map;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Sender {\n\n    @Autowired\n    private KafkaTemplate&lt;String, Map&lt;String, Object&gt;&gt; kafkaTemplate;\n\n    public void send(Map&lt;String, Object&gt; map){\n            kafkaTemplate.send(\"TestTopic\", map);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>My new consumer code looks like this: Receiver.java</p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.support.Acknowledgment;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Receiver {\n\n    private CountDownLatch latch = new CountDownLatch(1);\n\n    @KafkaListener(topics = \"${kafka.topic.TestTopic}\", containerFactory = \"kafkaManualAckListenerContainerFactory\")\n    public void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack){\n            System.out.println(consumerRecord.value());\n            latch.countDown();\n            ack.acknowledge();\n    }\n}\n</code></pre>\n\n<p>I changed my configuration class also:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\n\n@Configuration\n@EnableKafka\npublic class ReceiverConfig {\n\n    @Value(\"${kafka.bootstrap-servers}\")\n    private String bootstrapServers;\n\n    @Value(\"${spring.kafka.consumer.group-id}\")\n    private String consumerGroupId;\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() throws SendGridException {\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\n            return props;\n\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(){\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    /*@Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(){\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n\n        return factory;\n    }*/\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaManualAckListenerContainerFactory(){\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n    @Bean\n    public Receiver receiver() {\n        return new Receiver();\n    }\n}\n</code></pre>\n\n<p>After adding containerFactory = \"kafkaManualAckListenerContainerFactory\" to my receive() method I am getting the below error.</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of method kafkaListenerContainerFactory in org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration required a bean of type 'org.springframework.kafka.core.ConsumerFactory' that could not be found.\n    - Bean method 'kafkaConsumerFactory' in 'KafkaAutoConfiguration' not loaded because @ConditionalOnMissingBean (types: org.springframework.kafka.core.ConsumerFactory; SearchStrategy: all) found bean 'consumerFactory'\n\n\nAction:\n\nConsider revisiting the conditions above or defining a bean of type 'org.springframework.kafka.core.ConsumerFactory' in your configuration.\n</code></pre>\n"},{"tags":["java","if-statement","parameters","contains"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1690369963,"post_id":76770605,"comment_id":135343077,"body_markdown":"You need to ask a question or tell us what problem you are facing. Currently your post really doesn&#39;t tell us what your actual problem is.","body":"You need to ask a question or tell us what problem you are facing. Currently your post really doesn&#39;t tell us what your actual problem is."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1690370215,"post_id":76770605,"comment_id":135343138,"body_markdown":"and *if* you are getting an error, also write that together with the error message and location...","body":"and <i>if</i> you are getting an error, also write that together with the error message and location..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690370225,"post_id":76770605,"comment_id":135343140,"body_markdown":"You can use a regex: `if (nome.matches(&quot;.*[aeiou].*&quot;)) {`","body":"You can use a regex: <code>if (nome.matches(&quot;.*[aeiou].*&quot;)) {</code>"},{"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"score":0,"creation_date":1690378278,"post_id":76770605,"comment_id":135345115,"body_markdown":"Thanks a lot, I haven&#39;t researched this feature yet but it&#39;s what I was looking for @g00se","body":"Thanks a lot, I haven&#39;t researched this feature yet but it&#39;s what I was looking for @g00se"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690370343,"creation_date":1690370343,"answer_id":76770713,"question_id":76770605,"body_markdown":"When I ask you: &quot;Hey, does this word contain an a, e, i, o, or u&quot; you know what I mean. But my question isn&#39;t actually clear, you just apply a lifetime of human knowledge to the situation and some empathy (you walk in my shoes and figure out what kinds of questions one might ask and use that as part of the process of understanding what I mean).\r\n\r\nComputers just aren&#39;t like that. They need to be told precisely what to do and will do precisely what you say no matter how stupid it is. [Here is a youtube video](https://www.youtube.com/watch?v=Ct-lOOUqmyY) of a dad asking his kids to write down the recipe for peanutbutter and jelly sandwiches and he follows it exactly (with disastrously hilarious results, of course). __Programming is exactly like that__.\r\n\r\nHence, this: `if (nome.contains(&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;)) {` doesn&#39;t work - it doesn&#39;t even make sense. Are you asking if it contains at least 1 of those letters? All of them?\r\n\r\nThe usual solution is - well, it&#39;s a programming language - program it. Instead of looking for a single &#39;method&#39; that does exactly what you want, treat methods as very simple verbs. There is no verb that means &#39;cook the rice for 8 minutes&#39;. There&#39;s a verb that means &#39;cook&#39;. There are additional words you can use to indicate &#39;.. for 8 minutes&#39;. No verb will ever exist that precisely means &#39;cook it for 8 minutes&#39;. Same here. There is no one method. Write code that does what you want:\r\n\r\n```\r\nboolean found = false;\r\nfor (String vocale : vocali) {\r\n  if (nome.contains(vocale)) {\r\n    found = true;\r\n    break;\r\n  }\r\n}\r\n\r\nif (found) {\r\n  System.out.println(&quot;Contiene vocali&quot;);\r\n}\r\n```\r\n\r\nAdditional complication is that the &#39;verb&#39; &quot;.contains(someChar)&quot; doesn&#39;t exist, only &quot;.contains(someString)&quot; exists, so change your `vocali` array to be of type `String[]` and to use double quotes to fix that. Or use `.indexOf(someChar) &gt; -1` instead (indexOf _does_ have an overload that works on chars).\r\n\r\nWith the stream API this works too:\r\n\r\n```\r\nboolean found = nome.chars()\r\n  .anyMatch(c -&gt; Arrays.binarySearch(vocali, c) &gt; -1);\r\n```\r\n\r\nThis requires that you write your `vocali` in alphabetical order (binary search __requires__ that the array you are searching through is sorted). I&#39;m assuming you haven&#39;t covered lambdas (also known as closures) in your course yet so you might want to forget about this `anyMatch` stuff until later.\r\n","title":"Check if parameter contains vowels in string","body":"<p>When I ask you: &quot;Hey, does this word contain an a, e, i, o, or u&quot; you know what I mean. But my question isn't actually clear, you just apply a lifetime of human knowledge to the situation and some empathy (you walk in my shoes and figure out what kinds of questions one might ask and use that as part of the process of understanding what I mean).</p>\n<p>Computers just aren't like that. They need to be told precisely what to do and will do precisely what you say no matter how stupid it is. <a href=\"https://www.youtube.com/watch?v=Ct-lOOUqmyY\" rel=\"nofollow noreferrer\">Here is a youtube video</a> of a dad asking his kids to write down the recipe for peanutbutter and jelly sandwiches and he follows it exactly (with disastrously hilarious results, of course). <strong>Programming is exactly like that</strong>.</p>\n<p>Hence, this: <code>if (nome.contains('a','e','i','o','u')) {</code> doesn't work - it doesn't even make sense. Are you asking if it contains at least 1 of those letters? All of them?</p>\n<p>The usual solution is - well, it's a programming language - program it. Instead of looking for a single 'method' that does exactly what you want, treat methods as very simple verbs. There is no verb that means 'cook the rice for 8 minutes'. There's a verb that means 'cook'. There are additional words you can use to indicate '.. for 8 minutes'. No verb will ever exist that precisely means 'cook it for 8 minutes'. Same here. There is no one method. Write code that does what you want:</p>\n<pre><code>boolean found = false;\nfor (String vocale : vocali) {\n  if (nome.contains(vocale)) {\n    found = true;\n    break;\n  }\n}\n\nif (found) {\n  System.out.println(&quot;Contiene vocali&quot;);\n}\n</code></pre>\n<p>Additional complication is that the 'verb' &quot;.contains(someChar)&quot; doesn't exist, only &quot;.contains(someString)&quot; exists, so change your <code>vocali</code> array to be of type <code>String[]</code> and to use double quotes to fix that. Or use <code>.indexOf(someChar) &gt; -1</code> instead (indexOf <em>does</em> have an overload that works on chars).</p>\n<p>With the stream API this works too:</p>\n<pre><code>boolean found = nome.chars()\n  .anyMatch(c -&gt; Arrays.binarySearch(vocali, c) &gt; -1);\n</code></pre>\n<p>This requires that you write your <code>vocali</code> in alphabetical order (binary search <strong>requires</strong> that the array you are searching through is sorted). I'm assuming you haven't covered lambdas (also known as closures) in your course yet so you might want to forget about this <code>anyMatch</code> stuff until later.</p>\n"},{"tags":[],"owner":{"account_id":22900420,"reputation":11,"user_id":17039223,"display_name":"Sachintha Dilshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690372255,"creation_date":1690372255,"answer_id":76770985,"question_id":76770605,"body_markdown":"    String nome = &quot;Leonardo&quot;;\r\n            int lunghezza = nome.length();\r\n            char[] vocali = {&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;};\r\n            System.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\r\n    \r\n            if (lunghezza &gt; 5) {\r\n                System.out.println(&quot;E&#39; una parola piu&#39; lunga di 5 lettere&quot;);\r\n            } else if (lunghezza &lt; 5) {\r\n                System.out.println(&quot;E&#39; una parola piu&#39; corta di 5 lettere&quot;);\r\n            }\r\n            //check whether a single character contains in nome\r\n            if (nome.contains(&quot;e&quot;)) {\r\n                System.out.println(&quot;Contiene vocali&quot;);\r\n            }","title":"Check if parameter contains vowels in string","body":"<pre><code>String nome = &quot;Leonardo&quot;;\n        int lunghezza = nome.length();\n        char[] vocali = {'a', 'e', 'i', 'o', 'u'};\n        System.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\n\n        if (lunghezza &gt; 5) {\n            System.out.println(&quot;E' una parola piu' lunga di 5 lettere&quot;);\n        } else if (lunghezza &lt; 5) {\n            System.out.println(&quot;E' una parola piu' corta di 5 lettere&quot;);\n        }\n        //check whether a single character contains in nome\n        if (nome.contains(&quot;e&quot;)) {\n            System.out.println(&quot;Contiene vocali&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4257006,"reputation":694,"user_id":3482424,"accept_rate":80,"display_name":"Morten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690481602,"creation_date":1690481602,"answer_id":76782424,"question_id":76770605,"body_markdown":"You should avoid looping through the string one character at a time. It is error-prone and not an optimal way to do this.\r\n\r\nInstead, you can use &quot;regular expressions&quot;, which is a string matching framework with its own syntax. It is used in many different languages, including Java.\r\n\r\nTo get a quick introduction, you could check out this: https://www.w3schools.com/java/java_regex.asp\r\n\r\nIt is a very strong and widely used technology for string matching, and have many different features, depending on your needs.\r\n\r\nFor your particular example, the matching could be done like this:\r\n\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String nomo = &quot;Leonardo&quot;;\r\n\r\n            // Create a regex pattern which matches any of the listed vowels:\r\n            Pattern pattern = Pattern.compile(&quot;[aeiou]&quot;, Pattern.CASE_INSENSITIVE);\r\n\r\n            // Create a matcher which checks the pattern with the provided name:\r\n            Matcher matcher = pattern.matcher(nomo);\r\n\r\n            // Check if we have a match:\r\n            boolean matchFound = matcher.find();\r\n            if (matchFound) {\r\n                System.out.println(&#39;Contiene vocali&#39;);\r\n            }\r\n        }\r\n    }\r\n\r\nThere are many online testers where you can try out your regular expressions. For example, you could check out this: https://regex101.com/\r\n\r\nHappy coding. :-)","title":"Check if parameter contains vowels in string","body":"<p>You should avoid looping through the string one character at a time. It is error-prone and not an optimal way to do this.</p>\n<p>Instead, you can use &quot;regular expressions&quot;, which is a string matching framework with its own syntax. It is used in many different languages, including Java.</p>\n<p>To get a quick introduction, you could check out this: <a href=\"https://www.w3schools.com/java/java_regex.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_regex.asp</a></p>\n<p>It is a very strong and widely used technology for string matching, and have many different features, depending on your needs.</p>\n<p>For your particular example, the matching could be done like this:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String nomo = &quot;Leonardo&quot;;\n\n        // Create a regex pattern which matches any of the listed vowels:\n        Pattern pattern = Pattern.compile(&quot;[aeiou]&quot;, Pattern.CASE_INSENSITIVE);\n\n        // Create a matcher which checks the pattern with the provided name:\n        Matcher matcher = pattern.matcher(nomo);\n\n        // Check if we have a match:\n        boolean matchFound = matcher.find();\n        if (matchFound) {\n            System.out.println('Contiene vocali');\n        }\n    }\n}\n</code></pre>\n<p>There are many online testers where you can try out your regular expressions. For example, you could check out this: <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n<p>Happy coding. :-)</p>\n"}],"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690481602,"creation_date":1690369603,"question_id":76770605,"body_markdown":"I am kind of new to Java. I am trying to check if a given parameter contains vowels and if so, return a words. This is what I have so far:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString nome = &quot;Leonardo&quot;;\r\n    \t\tint lunghezza = nome.length();\r\n    \t\tchar[] vocali = {&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;};\t\r\n    \t\tSystem.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\r\n    \t\t\t\r\n    \t\tif (lunghezza &gt; 5) {\r\n    \t\t\tSystem.out.println(&quot;E&#39; una parola piu&#39; lunga di 5 lettere&quot;);\r\n    \t\t} else if (lunghezza &lt; 5) {\r\n    \t\t\tSystem.out.println(&quot;E&#39; una parola piu&#39; corta di 5 lettere&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (nome.contains(&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;)) {\r\n    \t\t\tSystem.out.println(&quot;Contiene vocali&quot;);\r\n    \t\t}\r\n    \r\n    \t\t//System.out.println(nome.contains(vocali));\r\n    \t}\r\n    }","title":"Check if parameter contains vowels in string","body":"<p>I am kind of new to Java. I am trying to check if a given parameter contains vowels and if so, return a words. This is what I have so far:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String nome = &quot;Leonardo&quot;;\n        int lunghezza = nome.length();\n        char[] vocali = {'a', 'e', 'i', 'o', 'u'};  \n        System.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\n            \n        if (lunghezza &gt; 5) {\n            System.out.println(&quot;E' una parola piu' lunga di 5 lettere&quot;);\n        } else if (lunghezza &lt; 5) {\n            System.out.println(&quot;E' una parola piu' corta di 5 lettere&quot;);\n        }\n        \n        if (nome.contains('a','e','i','o','u')) {\n            System.out.println(&quot;Contiene vocali&quot;);\n        }\n\n        //System.out.println(nome.contains(vocali));\n    }\n}\n</code></pre>\n"},{"tags":["java","appium"],"answers":[{"tags":[],"owner":{"account_id":19483967,"reputation":13,"user_id":14253692,"display_name":"Clausewitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690481588,"creation_date":1690481588,"answer_id":76782422,"question_id":76781078,"body_markdown":"If anyone wondering how to solve this, I&#39;ve written the code without a while or for loop as shown below and it worked. \r\n\r\n\t\tList &lt;WebElement&gt; elementsList = driver.findElements(By.xpath(&quot;//*[@text=&#39;7/5/23&#39;]&quot;));\r\n\t\t\r\n\t\tThread.sleep(1000);\r\n\t\t  \r\n\t\tdriver.findElements(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\r\n        \r\n\t\telementsList = driver.findElements(By.xpath(&quot;//*[@text=&#39;7/5/23&#39;]&quot;));","title":"How to scroll in a list and get all elements in Appium Java","body":"<p>If anyone wondering how to solve this, I've written the code without a while or for loop as shown below and it worked.</p>\n<pre><code>    List &lt;WebElement&gt; elementsList = driver.findElements(By.xpath(&quot;//*[@text='7/5/23']&quot;));\n    \n    Thread.sleep(1000);\n      \n    driver.findElements(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\n    \n    elementsList = driver.findElements(By.xpath(&quot;//*[@text='7/5/23']&quot;));\n</code></pre>\n"}],"owner":{"account_id":19483967,"reputation":13,"user_id":14253692,"display_name":"Clausewitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690481588,"creation_date":1690470265,"question_id":76781078,"body_markdown":"On a mobile application i want to get all elements of a list on the screen. There are 3 data in this list and only shown 2 without scrolling. \r\n\r\nMy code is scrolling but not getting the last element&#39;s data into my list which is an issue for me. \r\n\r\nI&#39;m scrolling till the text i gave is found on the screen and i want to get all the data with the date being 7/5/2023. The issue is my last element also has the 7/5/23 date. But even if i pick a text below that date the code stops and loop breaks. Since it can not go back to the beginning of the loop it can not get the last data into the list.\r\n\r\nI&#39;ve shared my code below. What can i do to fix my issue?\r\n\r\n```\r\nString searchText = &quot;7/5/23&quot;;\r\n\t\t\r\nList &lt;WebElement&gt; elementsWithText = new ArrayList&lt;&gt;();\r\n\r\nwhile (true) {\r\n    // Find all visible elements in the list\r\n    List&lt;WebElement&gt; visibleElements = driver.findElements(By.xpath(&quot;//*[@text=&#39;&quot; + searchText + &quot;&#39;]&quot;));\r\n\r\n    // Add visible elements with the desired text to the list\r\n    elementsWithText.addAll(visibleElements);\r\n\r\n    // Scroll to the next set of elements\r\n    driver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\r\n    \r\n    // Wait for a short while to let new elements load\r\n    Thread.sleep(1000);\r\n    \r\n    // Check if there are no more new elements loaded\r\n    if (elementsWithText.size() == visibleElements.size())\r\n        break;\r\n}\r\n\r\n// Print all elements with the desired text\r\nfor (WebElement element : elementsWithText)\r\n    System.out.println(element.getText());\r\n```","title":"How to scroll in a list and get all elements in Appium Java","body":"<p>On a mobile application i want to get all elements of a list on the screen. There are 3 data in this list and only shown 2 without scrolling.</p>\n<p>My code is scrolling but not getting the last element's data into my list which is an issue for me.</p>\n<p>I'm scrolling till the text i gave is found on the screen and i want to get all the data with the date being 7/5/2023. The issue is my last element also has the 7/5/23 date. But even if i pick a text below that date the code stops and loop breaks. Since it can not go back to the beginning of the loop it can not get the last data into the list.</p>\n<p>I've shared my code below. What can i do to fix my issue?</p>\n<pre><code>String searchText = &quot;7/5/23&quot;;\n        \nList &lt;WebElement&gt; elementsWithText = new ArrayList&lt;&gt;();\n\nwhile (true) {\n    // Find all visible elements in the list\n    List&lt;WebElement&gt; visibleElements = driver.findElements(By.xpath(&quot;//*[@text='&quot; + searchText + &quot;']&quot;));\n\n    // Add visible elements with the desired text to the list\n    elementsWithText.addAll(visibleElements);\n\n    // Scroll to the next set of elements\n    driver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\n    \n    // Wait for a short while to let new elements load\n    Thread.sleep(1000);\n    \n    // Check if there are no more new elements loaded\n    if (elementsWithText.size() == visibleElements.size())\n        break;\n}\n\n// Print all elements with the desired text\nfor (WebElement element : elementsWithText)\n    System.out.println(element.getText());\n</code></pre>\n"},{"tags":["java","spring","jackson","jsr310"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645103227,"post_id":71155136,"comment_id":125785188,"body_markdown":"Does this answer your question? [Java 8 date time types serialized as object with Spring Boot](https://stackoverflow.com/questions/47120363/java-8-date-time-types-serialized-as-object-with-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47120363/java-8-date-time-types-serialized-as-object-with-spring-boot\">Java 8 date time types serialized as object with Spring Boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":20586516,"reputation":31,"user_id":15111268,"display_name":"Guilherme Pisco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690480794,"creation_date":1690476895,"answer_id":76781937,"question_id":71155136,"body_markdown":"Objects which are not manage by Spring and use &quot;new ObjectMapper()&quot; instead of autowiring it, will still face that issue.\r\nI was facing this issue while configuring a MappingJackson2MessageConverter to use with JMS, so in this case I had to set the ObjectMapper explicitly to the MappingJackson2MessageConverter object, as shown below.\r\n\r\n        @Bean\r\n        public MessageConverter messageConverter(){\r\n            MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    \r\n            converter.setTargetType(MessageType.TEXT);\r\n            converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n            converter.setObjectMapper(objectMapper());\r\n            return converter;\r\n        }\r\n    \r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            return objectMapper;\r\n        }\r\n\r\n&gt; Additionally, we can also add the @Bean annotation on top of the\r\n&gt; objectMapper method, this way Spring managed objects will use this\r\n&gt; mapper instead.\r\n\r\nIn case there is already an ObjectMapper managed by Spring, we can just inject the ObjectMapper in the messageConvert, like below.\r\n\r\n    @Bean\r\n    public MessageConverter messageConverter(ObjectMapper objectMapper) \r\n    {\r\n       MappingJackson2MessageConverter converter = new \r\n       MappingJackson2MessageConverter();\r\n\r\n       converter.setTargetType(MessageType.TEXT);\r\n       converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n       converter.setObjectMapper(objectMapper);\r\n       return converter;\r\n    }","title":"Spring Boot: Java 8 date/time type `java.time.OffsetDateTime` not supported by default","body":"<p>Objects which are not manage by Spring and use &quot;new ObjectMapper()&quot; instead of autowiring it, will still face that issue.\nI was facing this issue while configuring a MappingJackson2MessageConverter to use with JMS, so in this case I had to set the ObjectMapper explicitly to the MappingJackson2MessageConverter object, as shown below.</p>\n<pre><code>    @Bean\n    public MessageConverter messageConverter(){\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        converter.setObjectMapper(objectMapper());\n        return converter;\n    }\n\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        return objectMapper;\n    }\n</code></pre>\n<blockquote>\n<p>Additionally, we can also add the @Bean annotation on top of the\nobjectMapper method, this way Spring managed objects will use this\nmapper instead.</p>\n</blockquote>\n<p>In case there is already an ObjectMapper managed by Spring, we can just inject the ObjectMapper in the messageConvert, like below.</p>\n<pre><code>@Bean\npublic MessageConverter messageConverter(ObjectMapper objectMapper) \n{\n   MappingJackson2MessageConverter converter = new \n   MappingJackson2MessageConverter();\n\n   converter.setTargetType(MessageType.TEXT);\n   converter.setTypeIdPropertyName(&quot;_type&quot;);\n   converter.setObjectMapper(objectMapper);\n   return converter;\n}\n</code></pre>\n"}],"owner":{"account_id":17698252,"reputation":121,"user_id":12848472,"display_name":"Nderim Bytyqi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12633,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1690480794,"creation_date":1645088718,"question_id":71155136,"body_markdown":"I have added the JavaTimeModule but still not able to get OffsetDateTime working on getting some data from RethinkDB\r\n@Configuration\r\npublic class JacksonOffsetDateTimeMapper{\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\r\n        return builder.build()\r\n                .registerModule(new JavaTimeModule());\r\n    }\r\n\r\n}\r\n\r\nGradle dependencies for jackson:\r\nimplementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.1&#39;\r\n\r\nimplementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;\r\n    \r\nimplementation group: &#39;com.fasterxml.jackson.module&#39;, name: &#39;jackson-module-parameter-names&#39;, version: &#39;2.13.1&#39;","title":"Spring Boot: Java 8 date/time type `java.time.OffsetDateTime` not supported by default","body":"<p>I have added the JavaTimeModule but still not able to get OffsetDateTime working on getting some data from RethinkDB\n@Configuration\npublic class JacksonOffsetDateTimeMapper{</p>\n<pre><code>@Bean\n@Primary\npublic ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n    return builder.build()\n            .registerModule(new JavaTimeModule());\n}\n</code></pre>\n<p>}</p>\n<p>Gradle dependencies for jackson:\nimplementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.1'</p>\n<p>implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'</p>\n<p>implementation group: 'com.fasterxml.jackson.module', name: 'jackson-module-parameter-names', version: '2.13.1'</p>\n"},{"tags":["java","buffer","inputstream","fileinputstream","bufferedinputstream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690465505,"post_id":76780345,"comment_id":135360145,"body_markdown":"Read the Javadoc for `InputStream.read(byte[])`. It reads from the stream until the buffer passed to `read` is full, or EOF is reached. The buffer in a `BufferedInputStream` is a completely different buffer, used to improve performance by reducing the number of reads performed on the file.","body":"Read the Javadoc for <code>InputStream.read(byte[])</code>. It reads from the stream until the buffer passed to <code>read</code> is full, or EOF is reached. The buffer in a <code>BufferedInputStream</code> is a completely different buffer, used to improve performance by reducing the number of reads performed on the file."},{"owner":{"account_id":11122988,"reputation":473,"user_id":8165349,"display_name":"Paul Pazderski"},"score":0,"creation_date":1690471275,"post_id":76780345,"comment_id":135361578,"body_markdown":"@tgdavies Let me add a small but important detail: it can read until the buffer is full and usually does but it is not guaranteed. Even before reaching EOF. The return value has to be respected to check how many bytes were actually read. That&#39;s also why libraries like Apache Commons IO provide helper functions like [IOUtils.readFully](https://commons.apache.org/proper/commons-io/apidocs/index.html?org/apache/commons/io/package-summary.html)","body":"@tgdavies Let me add a small but important detail: it can read until the buffer is full and usually does but it is not guaranteed. Even before reaching EOF. The return value has to be respected to check how many bytes were actually read. That&#39;s also why libraries like Apache Commons IO provide helper functions like <a href=\"https://commons.apache.org/proper/commons-io/apidocs/index.html?org/apache/commons/io/package-summary.html\" rel=\"nofollow noreferrer\">IOUtils.readFully</a>"},{"owner":{"display_name":"user9035826"},"score":1,"creation_date":1690471284,"post_id":76780345,"comment_id":135361582,"body_markdown":"@tgdavies is correct. How come the array &quot;does&quot; dictates how many times the buffer reads the file? This is because b.read(does) is equivalent to b.read(does, 0, does.length). This means if does.length=1000, it will try to read 1000 bytes if available.","body":"@tgdavies is correct. How come the array &quot;does&quot; dictates how many times the buffer reads the file? This is because b.read(does) is equivalent to b.read(does, 0, does.length). This means if does.length=1000, it will try to read 1000 bytes if available."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690483012,"post_id":76780345,"comment_id":135363900,"body_markdown":"Here is a question and answer on _BufferedInputStream_ use cases, which may shed some light on why it&#39;s set-up that way.  _https://stackoverflow.com/questions/3122422/usage-of-bufferedinputstream_.","body":"Here is a question and answer on <i>BufferedInputStream</i> use cases, which may shed some light on why it&#39;s set-up that way.  <i><a href=\"https://stackoverflow.com/questions/3122422/usage-of-bufferedinputstream\" title=\"usage of bufferedinputstream\">stackoverflow.com/questions/3122422/&hellip;</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690470302,"creation_date":1690469013,"answer_id":76780895,"question_id":76780345,"body_markdown":"&gt; Differences of `read()` method within [BufferedInputStream][1] and [InputStream][2].\r\n\r\nLet&#39;s begin by `InputStream.read` which reads a single byte of data from the input stream and returns it as an `int` value which will be blocked in 2 condition, the end of the stream is being detected or an exception is thrown.\r\nWhile `BufferedInputStream` adds buffering to the passed input stream. \r\n\r\nThe difference is `BufferedInputStream` reads data from the underlying input stream in chunks and stores it in an internal buffer so when you call `read()` method it returns the next byte from its buffer instead so the difference is amount of data call overhead in which the `BufferedInputStream` reduce it by grouping multiple requests for data into a fewer calls from the underlying input stream.\r\n\r\n&gt; Why BufferedInputStream reads the entire file even when specifying buffer size ?\r\n\r\n**It will not actually**, `BufferedInputStream` does not necessarily read the entire file into the buffer even when a buffer size is specified actually it reads data from the file into the buffer in chunks or blocks whose size is at **most** the size of the buffer,The number of times the file is read depends on the size of the file and the size of the buffer used by, in you shared snippet you specified size of the **buffer to 1** and thats the reason you get **one byte at a time**, which should different, in your case some thing like\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    BufferedInputStream b = new BufferedInputStream(input, 1024);\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html","title":"BufferedInputStream reads the entire file once even though I set the buffer size to 1?","body":"<blockquote>\n<p>Differences of <code>read()</code> method within <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\" rel=\"nofollow noreferrer\">BufferedInputStream</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a>.</p>\n</blockquote>\n<p>Let's begin by <code>InputStream.read</code> which reads a single byte of data from the input stream and returns it as an <code>int</code> value which will be blocked in 2 condition, the end of the stream is being detected or an exception is thrown.\nWhile <code>BufferedInputStream</code> adds buffering to the passed input stream.</p>\n<p>The difference is <code>BufferedInputStream</code> reads data from the underlying input stream in chunks and stores it in an internal buffer so when you call <code>read()</code> method it returns the next byte from its buffer instead so the difference is amount of data call overhead in which the <code>BufferedInputStream</code> reduce it by grouping multiple requests for data into a fewer calls from the underlying input stream.</p>\n<blockquote>\n<p>Why BufferedInputStream reads the entire file even when specifying buffer size ?</p>\n</blockquote>\n<p><strong>It will not actually</strong>, <code>BufferedInputStream</code> does not necessarily read the entire file into the buffer even when a buffer size is specified actually it reads data from the file into the buffer in chunks or blocks whose size is at <strong>most</strong> the size of the buffer,The number of times the file is read depends on the size of the file and the size of the buffer used by, in you shared snippet you specified size of the <strong>buffer to 1</strong> and thats the reason you get <strong>one byte at a time</strong>, which should different, in your case some thing like</p>\n\n<pre><code>BufferedInputStream b = new BufferedInputStream(input, 1024);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690480792,"creation_date":1690478975,"answer_id":76782172,"question_id":76780345,"body_markdown":"Note that `BufferedInputStream` does **not** always read into it&#39;s own internal buffer.\r\n\r\nIf you view the source code of the constructor you will see that when you allocate as `new BufferedInputStream(input, 1)` internally it creates a internal buffer `buf = new byte[1];` :\r\n\r\n    BufferedInputStream b = new BufferedInputStream(input, 1);\r\n    // Internally causes b.buf = new byte[1];\r\n\r\nNothing has been read from underlying `input` file at the point you run your next lines:\r\n\r\n    byte[] does = new byte[1000];\r\n    int i = b.read(does);\r\n\r\nIf you view the source of `read(byte[]ba)` you will find it calls `BufferedInputStream.read(byte[] ba, int off, int len)`. Normally that read would use the contents of internal `buf` if available and copies `buf` into `ba`. But in your first read, `buf` is empty and so it uses the buffer which is largest of `buf.length / len` instead.  So that means that `buf` is either filled and is copied to `ba` or, as in your case (1000 &gt;= 1), so it fills `does` and does not fill the internal `buf`. \r\n\r\nThus the first access to the underlying file could be up to 1000 bytes (if available from `input`) even though you have specified the internal buffer size as just 1 byte.\r\n\r\nBy the way you shouldn&#39;t convert UTF8 stream as above because you may be corrupting the input stream part way through a UTF-8 character encoding - obviously use `Reader` instead.","title":"BufferedInputStream reads the entire file once even though I set the buffer size to 1?","body":"<p>Note that <code>BufferedInputStream</code> does <strong>not</strong> always read into it's own internal buffer.</p>\n<p>If you view the source code of the constructor you will see that when you allocate as <code>new BufferedInputStream(input, 1)</code> internally it creates a internal buffer <code>buf = new byte[1];</code> :</p>\n<pre><code>BufferedInputStream b = new BufferedInputStream(input, 1);\n// Internally causes b.buf = new byte[1];\n</code></pre>\n<p>Nothing has been read from underlying <code>input</code> file at the point you run your next lines:</p>\n<pre><code>byte[] does = new byte[1000];\nint i = b.read(does);\n</code></pre>\n<p>If you view the source of <code>read(byte[]ba)</code> you will find it calls <code>BufferedInputStream.read(byte[] ba, int off, int len)</code>. Normally that read would use the contents of internal <code>buf</code> if available and copies <code>buf</code> into <code>ba</code>. But in your first read, <code>buf</code> is empty and so it uses the buffer which is largest of <code>buf.length / len</code> instead.  So that means that <code>buf</code> is either filled and is copied to <code>ba</code> or, as in your case (1000 &gt;= 1), so it fills <code>does</code> and does not fill the internal <code>buf</code>.</p>\n<p>Thus the first access to the underlying file could be up to 1000 bytes (if available from <code>input</code>) even though you have specified the internal buffer size as just 1 byte.</p>\n<p>By the way you shouldn't convert UTF8 stream as above because you may be corrupting the input stream part way through a UTF-8 character encoding - obviously use <code>Reader</code> instead.</p>\n"}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690480792,"creation_date":1690465132,"question_id":76780345,"body_markdown":"I was running the code below to try and understand how BufferedInputStream works in Java. I set the buffer size to 1 and was expecting the buffer to read the file 465 times because that is how much character is in the file. However, it reads the file once. What I found to change the number of times the buffer reads the file, you change the array of bytes, does, size to 1. In this case it reads the file 465 times. I do not understand why buffer reads the file once even though I set the buffer size 1. How come the array &quot;does&quot; dictates how many times the buffer reads the file?\r\n\r\n     File f = new File(&quot;runs&quot;);\r\n\t\t\r\n\t\tif(!f.exists()) {\r\n\t\t\tf.createNewFile();\r\n\t\t}\r\n\t\t\r\n\r\n\t\t\r\n\t\tFileInputStream input = new FileInputStream(f);\r\n\t\t\r\n\r\n\t\tBufferedInputStream b = new BufferedInputStream(input, 1);\r\n\t\t\r\n\t\tbyte[] does = new byte[1000];\r\n\t\t\r\n\t\tint i = b.read(does);\r\n\t\t\r\n\t\tint x = 0;\r\n\t\tString tmp;\r\n\t\twhile(i != -1) {\r\n\t\t\ttmp = new String(does, StandardCharsets.UTF_8);\r\n\t\t\tif(!tmp.equalsIgnoreCase(&quot;\\n&quot;)) {\r\n\t\t\t\tSystem.out.print(tmp);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(tmp);\r\n\t\t\t}\r\n\r\n\t\t\tx++;\r\n\t\t\ti = b.read(does);\r\n\t\t}\r\n\t\tSystem.out.println(x);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}","title":"BufferedInputStream reads the entire file once even though I set the buffer size to 1?","body":"<p>I was running the code below to try and understand how BufferedInputStream works in Java. I set the buffer size to 1 and was expecting the buffer to read the file 465 times because that is how much character is in the file. However, it reads the file once. What I found to change the number of times the buffer reads the file, you change the array of bytes, does, size to 1. In this case it reads the file 465 times. I do not understand why buffer reads the file once even though I set the buffer size 1. How come the array &quot;does&quot; dictates how many times the buffer reads the file?</p>\n<pre><code> File f = new File(&quot;runs&quot;);\n    \n    if(!f.exists()) {\n        f.createNewFile();\n    }\n    \n\n    \n    FileInputStream input = new FileInputStream(f);\n    \n\n    BufferedInputStream b = new BufferedInputStream(input, 1);\n    \n    byte[] does = new byte[1000];\n    \n    int i = b.read(does);\n    \n    int x = 0;\n    String tmp;\n    while(i != -1) {\n        tmp = new String(does, StandardCharsets.UTF_8);\n        if(!tmp.equalsIgnoreCase(&quot;\\n&quot;)) {\n            System.out.print(tmp);\n        }else {\n            System.out.println(tmp);\n        }\n\n        x++;\n        i = b.read(does);\n    }\n    System.out.println(x);\n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1644577357,"creation_date":1644577357,"answer_id":71079033,"question_id":71078831,"body_markdown":"You need to activate in your `application.yml`\r\n\r\n    spring:\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            enable_lazy_load_no_trans: true\r\n\r\n\r\nThis will allow lazy loading to work outside the session that created the object that has properties that are lazy loaded.\r\n\r\nReference: https://www.baeldung.com/hibernate-lazy-loading-workaround, https://stackoverflow.com/questions/25362831/solve-hibernate-lazy-init-issue-with-hibernate-enable-lazy-load-no-trans and https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/","title":"LazyInitializationException in a Spring Transaction","body":"<p>You need to activate in your <code>application.yml</code></p>\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        enable_lazy_load_no_trans: true\n</code></pre>\n<p>This will allow lazy loading to work outside the session that created the object that has properties that are lazy loaded.</p>\n<p>Reference: <a href=\"https://www.baeldung.com/hibernate-lazy-loading-workaround\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-lazy-loading-workaround</a>, <a href=\"https://stackoverflow.com/questions/25362831/solve-hibernate-lazy-init-issue-with-hibernate-enable-lazy-load-no-trans\">Solve Hibernate Lazy-Init issue with hibernate.enable_lazy_load_no_trans</a> and <a href=\"https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/</a></p>\n"},{"tags":[],"owner":{"account_id":15581436,"reputation":121,"user_id":11241086,"display_name":"theseventhsense"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690480397,"creation_date":1690480397,"answer_id":76782322,"question_id":71078831,"body_markdown":"Hibernate has one workaround, an enable_lazy_load_no_trans property. Turning this on means that each fetch of a lazy entity will open a temporary session and run inside a separate transaction\r\n\r\nTry adding the below property \r\n\r\n    System.setProperty(&quot;hibernate.enable_lazy_load_no_trans&quot;, &quot;true&quot;);","title":"LazyInitializationException in a Spring Transaction","body":"<p>Hibernate has one workaround, an enable_lazy_load_no_trans property. Turning this on means that each fetch of a lazy entity will open a temporary session and run inside a separate transaction</p>\n<p>Try adding the below property</p>\n<pre><code>System.setProperty(&quot;hibernate.enable_lazy_load_no_trans&quot;, &quot;true&quot;);\n</code></pre>\n"}],"owner":{"account_id":3385949,"reputation":4061,"user_id":2841903,"accept_rate":64,"display_name":"Bart Bergmans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71079033,"answer_count":2,"score":0,"last_activity_date":1690480397,"creation_date":1644576431,"question_id":71078831,"body_markdown":"In a Spring Boot project I am working at I added the [Hibernate ORM plugin][1] to enable lazy loading for `@Lob` fields in my entity, this didn&#39;t work out of the box for DB2. The lazy loading works, when I retrieve the object the lob field isn&#39;t loaded yet. But now a new problem occurs, when I do want to get the blob field I get a `LazyInitializationException`. Now I did some debugging and Google searches. I tried to add `@Transactional` to the method and to the classes, I also tried multiple propagation options, but nothing works.\r\n\r\nI also tried to load the object directly using the EntityManager, but that also gives the same exception:\r\n\r\n\tObject object = entityManager.find(Object.class, id);\r\n\tobject.getLobField();\r\n\r\nThe full exception that is thrown is:\r\n\r\n    org.hibernate.LazyInitializationException: Unable to perform requested lazy initialization [package.Object.lobField] - no session and settings disallow loading outside the Session\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/tree/main/tooling/hibernate-gradle-plugin","title":"LazyInitializationException in a Spring Transaction","body":"<p>In a Spring Boot project I am working at I added the <a href=\"https://github.com/hibernate/hibernate-orm/tree/main/tooling/hibernate-gradle-plugin\" rel=\"nofollow noreferrer\">Hibernate ORM plugin</a> to enable lazy loading for <code>@Lob</code> fields in my entity, this didn't work out of the box for DB2. The lazy loading works, when I retrieve the object the lob field isn't loaded yet. But now a new problem occurs, when I do want to get the blob field I get a <code>LazyInitializationException</code>. Now I did some debugging and Google searches. I tried to add <code>@Transactional</code> to the method and to the classes, I also tried multiple propagation options, but nothing works.</p>\n<p>I also tried to load the object directly using the EntityManager, but that also gives the same exception:</p>\n<pre><code>Object object = entityManager.find(Object.class, id);\nobject.getLobField();\n</code></pre>\n<p>The full exception that is thrown is:</p>\n<pre><code>org.hibernate.LazyInitializationException: Unable to perform requested lazy initialization [package.Object.lobField] - no session and settings disallow loading outside the Session\n</code></pre>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1505580504,"post_id":46256162,"comment_id":79475962,"body_markdown":"It sounds that what you&#39;re wanting is something like Zipkin.","body":"It sounds that what you&#39;re wanting is something like Zipkin."}],"answers":[{"tags":[],"owner":{"account_id":6759218,"reputation":31,"user_id":5206763,"display_name":"Arbiter T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505580430,"creation_date":1505580430,"answer_id":46256200,"question_id":46256162,"body_markdown":"If these services/servers have a static IP you can possibly, tag them by their IP address?\r\n\r\n","title":"Find out which endpoint sent a REST call","body":"<p>If these services/servers have a static IP you can possibly, tag them by their IP address?</p>\n"},{"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505622631,"creation_date":1505622631,"answer_id":46260666,"question_id":46256162,"body_markdown":"You can use *[Spring Sleuth][1]* to trace the relationship between different REST calls.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-sleuth/","title":"Find out which endpoint sent a REST call","body":"<p>You can use <em><a href=\"https://cloud.spring.io/spring-cloud-sleuth/\" rel=\"nofollow noreferrer\">Spring Sleuth</a></em> to trace the relationship between different REST calls.</p>\n"},{"tags":[],"owner":{"account_id":21768446,"reputation":3,"user_id":16071937,"display_name":"fanis798"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690397143,"creation_date":1690293492,"answer_id":76763486,"question_id":46256162,"body_markdown":"I think this will do the trick\r\n\r\n```\r\n@Slf4j\r\npublic class LogsInterceptor implements HandlerInterceptor {\r\n\r\n    private static final ThreadLocal&lt;StopWatch&gt; STOPWATCH = new ThreadLocal&lt;&gt;();\r\n    protected static final String REQUEST_ID = &quot;requestId&quot;;\r\n    protected static final String REQUEST_URI = &quot;requestUri&quot;;\r\n    protected static final String REQUEST_METHOD = &quot;requestMethod&quot;;\r\n    protected static final String RESPONSE_TIME_MS = &quot;responseTimeMs&quot;;\r\n    protected static final String RESPONSE_STATUS_CODE = &quot;responseStatusCode&quot;;\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest httpRequest, HttpServletResponse response, Object handler) {\r\n        try {\r\n            StopWatch sw = new StopWatch();\r\n            STOPWATCH.set(sw);\r\n            STOPWATCH.get().start();\r\n\r\n            String requestId = UUID.randomUUID().toString();\r\n            MDC.put(REQUEST_ID, requestId);\r\n            MDC.put(REQUEST_METHOD, httpRequest.getMethod());\r\n            MDC.put(REQUEST_URI, httpRequest.getRequestURI());\r\n            return true;\r\n        } catch (Exception exception) {\r\n            STOPWATCH.remove();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) {\r\n        try {\r\n            STOPWATCH.get().stop();\r\n            long timeInMillis = STOPWATCH.get().getTotalTimeMillis();\r\n            MDC.put(RESPONSE_TIME_MS, String.valueOf(timeInMillis));\r\n            MDC.put(RESPONSE_STATUS_CODE, String.valueOf(response.getStatus()));\r\n            log.info(&quot;Request: {} {} Time taken: {}ms Status: {}&quot;, request.getMethod(), request.getRequestURI(), timeInMillis, response.getStatus());\r\n        } finally {\r\n            MDC.clear();\r\n            STOPWATCH.remove();\r\n            log.debug(&quot;afterCompletion called&quot;);\r\n        }\r\n    }\r\n\r\n    protected void startStopWatch() {\r\n        STOPWATCH.set(new StopWatch());\r\n    }\r\n}\r\n```\r\n\r\nTo explain as simply as I can, spring itself provides this interface to help you intercept execution of each thread, for whatever reason you want. In this case you just proceed to log basic info provided inside HttpServletRequest, without polluting your controller code.","title":"Find out which endpoint sent a REST call","body":"<p>I think this will do the trick</p>\n<pre><code>@Slf4j\npublic class LogsInterceptor implements HandlerInterceptor {\n\n    private static final ThreadLocal&lt;StopWatch&gt; STOPWATCH = new ThreadLocal&lt;&gt;();\n    protected static final String REQUEST_ID = &quot;requestId&quot;;\n    protected static final String REQUEST_URI = &quot;requestUri&quot;;\n    protected static final String REQUEST_METHOD = &quot;requestMethod&quot;;\n    protected static final String RESPONSE_TIME_MS = &quot;responseTimeMs&quot;;\n    protected static final String RESPONSE_STATUS_CODE = &quot;responseStatusCode&quot;;\n\n    @Override\n    public boolean preHandle(HttpServletRequest httpRequest, HttpServletResponse response, Object handler) {\n        try {\n            StopWatch sw = new StopWatch();\n            STOPWATCH.set(sw);\n            STOPWATCH.get().start();\n\n            String requestId = UUID.randomUUID().toString();\n            MDC.put(REQUEST_ID, requestId);\n            MDC.put(REQUEST_METHOD, httpRequest.getMethod());\n            MDC.put(REQUEST_URI, httpRequest.getRequestURI());\n            return true;\n        } catch (Exception exception) {\n            STOPWATCH.remove();\n            return false;\n        }\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) {\n        try {\n            STOPWATCH.get().stop();\n            long timeInMillis = STOPWATCH.get().getTotalTimeMillis();\n            MDC.put(RESPONSE_TIME_MS, String.valueOf(timeInMillis));\n            MDC.put(RESPONSE_STATUS_CODE, String.valueOf(response.getStatus()));\n            log.info(&quot;Request: {} {} Time taken: {}ms Status: {}&quot;, request.getMethod(), request.getRequestURI(), timeInMillis, response.getStatus());\n        } finally {\n            MDC.clear();\n            STOPWATCH.remove();\n            log.debug(&quot;afterCompletion called&quot;);\n        }\n    }\n\n    protected void startStopWatch() {\n        STOPWATCH.set(new StopWatch());\n    }\n}\n</code></pre>\n<p>To explain as simply as I can, spring itself provides this interface to help you intercept execution of each thread, for whatever reason you want. In this case you just proceed to log basic info provided inside HttpServletRequest, without polluting your controller code.</p>\n"}],"owner":{"account_id":5943054,"reputation":21,"user_id":4673554,"display_name":"Andrej Halaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690480006,"creation_date":1505580152,"question_id":46256162,"body_markdown":"I&#39;m trying to create a visualisation of REST calls among several internal and external services/servers. I&#39;d like to know which endpoint called which other endpoint. I figured that the only way to do this is to do this on the caller side, because the receiver does not have any information about the caller endpoint.\r\n\r\nHere&#39;s my thinking:\r\n\r\n1. I create an object like RestTemplate and call the method.\r\n2. I create an Interceptor or something like that, which will extract the information from the RestTemplate.\r\n\r\nMy problem is that I&#39;m not sure how to find out which REST endpoint called the RestTemplate method. The RestTemplate (or other similar object) call could be called in nested methods, so for example the endpoint could invoke a private method, which then calls the external service itself.\r\n\r\nIs there any way how to get this information? Or am I maybe just thinking too hard and there is an easier way to do this?\r\n\r\nExample:\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        methodThatCallsOtherEndpoint(&quot;something.com/weather&quot;); // this method inside itself calls an endpoint\r\n        logRestCall(&quot;localhost:8000/hello&quot;, &quot;something.com/weather&quot;); // how do I do this automatically without having to type it myself?\r\n\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\nThanks for any help.","title":"Find out which endpoint sent a REST call","body":"<p>I'm trying to create a visualisation of REST calls among several internal and external services/servers. I'd like to know which endpoint called which other endpoint. I figured that the only way to do this is to do this on the caller side, because the receiver does not have any information about the caller endpoint.</p>\n\n<p>Here's my thinking:</p>\n\n<ol>\n<li>I create an object like RestTemplate and call the method.</li>\n<li>I create an Interceptor or something like that, which will extract the information from the RestTemplate.</li>\n</ol>\n\n<p>My problem is that I'm not sure how to find out which REST endpoint called the RestTemplate method. The RestTemplate (or other similar object) call could be called in nested methods, so for example the endpoint could invoke a private method, which then calls the external service itself.</p>\n\n<p>Is there any way how to get this information? Or am I maybe just thinking too hard and there is an easier way to do this?</p>\n\n<p>Example:</p>\n\n<pre><code>@GetMapping(\"/hello\")\npublic String hello() {\n    methodThatCallsOtherEndpoint(\"something.com/weather\"); // this method inside itself calls an endpoint\n    logRestCall(\"localhost:8000/hello\", \"something.com/weather\"); // how do I do this automatically without having to type it myself?\n\n    return \"hello\";\n}\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","swing","keylistener","cardlayout"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690485024,"post_id":76760577,"comment_id":135364235,"body_markdown":"There are lots of examples showing how to move shapes on the screen using _Swing_, for example my answer to [Move a rectangle when a key is pressed](https://stackoverflow.com/questions/74169630/move-a-rectangle-when-a-key-is-pressed). It uses key bindings.","body":"There are lots of examples showing how to move shapes on the screen using <i>Swing</i>, for example my answer to <a href=\"https://stackoverflow.com/questions/74169630/move-a-rectangle-when-a-key-is-pressed\">Move a rectangle when a key is pressed</a>. It uses key bindings."}],"answers":[{"tags":[],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690479730,"creation_date":1690280729,"answer_id":76761762,"question_id":76760577,"body_markdown":"Issue is solved. It was rather simple.\r\n\r\n```\r\n        btn1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 3;\r\n                crd.show(cPanel, &quot;&quot; + (currCard));\r\n\t\t\t\tboard.setFocusable(true);\r\n\t\t\t\tboard.requestFocusInWindow();\r\n            }\r\n        });\r\n```","title":"Java cardlayout setting focus on a panel so key listener will work in another class","body":"<p>Issue is solved. It was rather simple.</p>\n<pre><code>        btn1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 3;\n                crd.show(cPanel, &quot;&quot; + (currCard));\n                board.setFocusable(true);\n                board.requestFocusInWindow();\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690479730,"creation_date":1690271939,"question_id":76760577,"body_markdown":"I have an issue using Keylistener so I can have things move around on the screen, for now I just make so it print out text so it shows that it works. \r\n\r\nThe issue is that nothing happens when I press the keys and I do believe it is properly implemented on the board class and the Player class. \r\n\r\nI have located the issue to the main class itself where the menu is being set up with card layout. I believe the issue is there is lack of focus on the jPanel3 where the game is gonna be set up.\r\n\r\nAfter changing some of the code to make it runnable but still having the issue. It looks basic but it works for this.\r\n\r\nHow do I make so the focus is on what happens on/inside jPanel3? In the panel3 method I have left something I have tried but did not fix the issue. \r\n\r\n\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport java.awt.*; \r\nimport javax.swing.*; \r\nimport java.awt.event.*; \r\n\r\npublic class Test extends JFrame implements ActionListener {\r\n    CardLayout crd;\r\n    JButton btn1, btn2, btn3, btn4;\r\n    Container cPane;\r\n    JPanel cPanel = new JPanel();\r\n    JPanel jPanel1,jPanel2,jPanel3;\r\n    Board board = new Board();\r\n    private int currCard = 1;\r\n    GridBagConstraints c = new GridBagConstraints();\r\n\r\n    Test() {\r\n        jPanel1 = new JPanel();\r\n        jPanel2 = new JPanel();\r\n        jPanel3 = new JPanel();\r\n\r\n        btn1 = new JButton(&quot;Start&quot;);\r\n        btn2 = new JButton(&quot;Help&quot;);\r\n        btn3 = new JButton(&quot;Back&quot;);\r\n        btn4 = new JButton(&quot;Exit&quot;);\r\n\r\n        cPane = getContentPane();\r\n        crd = new CardLayout();\r\n        cPanel.setLayout(crd);\r\n\r\n        buttons();\r\n        panel1();\r\n        panel2();\r\n        panel3();\r\n\r\n        cPanel.add(jPanel1, &quot;1&quot;);\r\n        cPanel.add(jPanel2, &quot;2&quot;);\r\n        cPanel.add(jPanel3, &quot;3&quot;);\r\n\r\n        btn1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 3;\r\n                crd.show(cPanel, &quot;&quot; + (currCard));\r\n            }\r\n        });\r\n\r\n        btn2.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 2;\r\n                crd.show(cPanel, &quot;&quot; + (currCard));\r\n            }\r\n        });\r\n\r\n        btn3.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 1;\r\n                crd.show(cPanel, &quot;&quot;+ (currCard));\r\n            }\r\n        });\r\n\r\n        btn4.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n\r\n        getContentPane().add(cPanel);\r\n    }\r\n\r\n    void panel1() {\r\n        jPanel1.setBackground(Color.black);\r\n        jPanel1.setLayout(new GridBagLayout());\r\n        // Set the layout to GridBagLayout\r\n        c.fill = GridBagConstraints.CENTER;\r\n        c.insets = new Insets(15, 0, 0, 0); // Add vertical padding\r\n        jPanel1.add(btn1, c);\r\n        c.gridy = 1;\r\n        jPanel1.add(btn2, c);\r\n        c.gridy = 2;\r\n        jPanel1.add(btn4, c);\r\n    }\r\n\r\n    void panel2() {\r\n        JTextArea textField = new JTextArea(&quot;Text text&quot;);\r\n        textField.setEditable(false);\r\n        textField.setHighlighter(null);\r\n        Font font = new Font(&quot;Courier&quot;, Font.BOLD, 35);\r\n        textField.setFont(font);      \r\n        textField.setPreferredSize(new Dimension(500, 940));\r\n        textField.setForeground(Color.WHITE);\r\n        textField.setBackground(Color.black);\r\n\r\n        jPanel2.setBackground(Color.black);\r\n        jPanel2.setLayout(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.NORTHWEST; // Align component to the upper left corner\r\n        gbc.insets = new Insets(15, 0, 0, 0); // Add vertical padding\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.weightx = 1.0; // Expand horizontally\r\n        gbc.weighty = 0.5; // Expand vertically\r\n        jPanel2.add(textField, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1; // Set the grid position for btn3\r\n        gbc.anchor = GridBagConstraints.NORTH; // Align component to the upper left corner\r\n        jPanel2.add(btn3, gbc);\r\n    }\r\n\r\n    void panel3() {\r\n\r\n\t\tjPanel3.setFocusable(true);\r\n\t\tjPanel3.setRequestFocusEnabled(true);\r\n\t\tjPanel3.setLayout(new BorderLayout(0, 0));\r\n        jPanel3.add(board);\r\n\t\tjPanel3.grabFocus();\t\r\n\t}\r\n\r\n    void buttons() {\r\n        // make the buttons look better and make it so they look good with the background, chane the size of them \r\n        btn1.setPreferredSize(new Dimension(75, 50));\r\n        btn1.setBackground(Color.black);\r\n        btn1.setForeground(Color.WHITE);\r\n\r\n        btn2.setPreferredSize(new Dimension(75, 50));\r\n        btn2.setBackground(Color.black);\r\n        btn2.setForeground(Color.WHITE);\r\n\r\n        btn3.setPreferredSize(new Dimension(75, 50));\r\n        btn3.setBackground(Color.black);\r\n        btn3.setForeground(Color.WHITE);\r\n\r\n        btn4.setPreferredSize(new Dimension(75, 50));\r\n        btn4.setBackground(Color.black);\r\n        btn4.setForeground(Color.WHITE);\r\n    }\r\n\r\n   public static void main(String argvs[]) {\r\n        System.out.println(&quot;aaa&quot; + System.getProperty(&quot;user.dir&quot;)); \r\n        Test frame = new Test();\r\n        frame.setTitle(&quot;Space invaders&quot;);\r\n        frame.setSize(900, 900);\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent arg0) {\r\n        throw new UnsupportedOperationException(&quot;Unimplemented method &#39;actionPerformed&#39;&quot;);\r\n    }\r\n\r\n}\r\n```\r\nCrudly put together Board class.\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Stroke;\r\nimport java.awt.event.KeyListener;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class Board extends JPanel {\r\n    Player player = new Player(50, 50, 50, 50);\r\n\r\n\r\n    public Board(){\r\n        addKeyListener((KeyListener) player);\r\n\r\n        setFocusable(true);\r\n    }\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t    g.setColor(Color.DARK_GRAY);\r\n\t    g.fillRect(0, 0, 900, 900);\r\n\t    g.setColor(Color.WHITE);\t\t    \r\n\t    g.drawRect (20, 20, 864, 624);  \r\n\t\tg.setColor(Color.BLACK);\r\n\t\tg.fillRect (21, 21, 863, 623);\r\n\t    g.setColor(Color.WHITE);\t\r\n\t    g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\r\n        player.draw(g);\r\n        //repaint();\r\n    }\r\n\r\n    public void board(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        Stroke stroke1 = new BasicStroke(4f);\r\n        g2d.setColor(Color.white);\r\n        g2d.setStroke(stroke1);\r\n        g2d.drawRect(20, 50, 850, 600);\r\n        g2d.setColor(Color.white);\r\n        float[] dashingPattern2 = {10f, 4f};\r\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n        g2d.setStroke(stroke2);\r\n        g2d.drawLine(448, 50, 448, 650);\r\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Player extends JPanel implements KeyListener  {\r\n\r\n    public int playerXpos;\r\n    public int playerYpos;\r\n    public int playerWidth;\r\n    public int playerHeight;\r\n    public int speed = 2;\r\n    boolean down = false;\r\n    boolean up = false;\r\n    Rectangle player;\r\n\r\n    public Player(int playerXpos, int playerYpos, int playerWidth, int playerHeight){\r\n        this.playerXpos = playerXpos;\r\n        this.playerYpos = playerYpos;\r\n        this.playerWidth = playerWidth;\r\n        this.playerWidth = playerHeight;\r\n        player = new Rectangle(playerXpos, playerYpos, playerWidth, playerHeight);\r\n    } \r\n\r\n\r\n    protected void draw(Graphics g) {\r\n    \tplayerXpos = 500;\r\n    \tplayerYpos = 60;\r\n    \tplayerWidth = 50;\r\n    \tplayerHeight = 30;\r\n\t\tg.setColor(Color.CYAN);\r\n\t\tg.fillRect(playerXpos, playerYpos, playerWidth, playerHeight);\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent keyCode) {\r\n        if (keyCode.getKeyCode() == KeyEvent.VK_UP) {\r\n            System.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\r\n        }\r\n        else if (keyCode.getKeyCode() == KeyEvent.VK_DOWN) {\r\n            System.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\r\n        }\r\n        else if (keyCode.getKeyCode() == KeyEvent.VK_LEFT) {\r\n            System.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\r\n        }\r\n        else if (keyCode.getKeyCode() == KeyEvent.VK_RIGHT) {\r\n           System.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\r\n        }    \r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n        throw new UnsupportedOperationException(&quot;Unimplemented method &#39;keyReleased&#39;&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n        throw new UnsupportedOperationException(&quot;Unimplemented method &#39;keyTyped&#39;&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n","title":"Java cardlayout setting focus on a panel so key listener will work in another class","body":"<p>I have an issue using Keylistener so I can have things move around on the screen, for now I just make so it print out text so it shows that it works.</p>\n<p>The issue is that nothing happens when I press the keys and I do believe it is properly implemented on the board class and the Player class.</p>\n<p>I have located the issue to the main class itself where the menu is being set up with card layout. I believe the issue is there is lack of focus on the jPanel3 where the game is gonna be set up.</p>\n<p>After changing some of the code to make it runnable but still having the issue. It looks basic but it works for this.</p>\n<p>How do I make so the focus is on what happens on/inside jPanel3? In the panel3 method I have left something I have tried but did not fix the issue.</p>\n<pre><code>import javax.swing.JFrame;\nimport java.awt.*; \nimport javax.swing.*; \nimport java.awt.event.*; \n\npublic class Test extends JFrame implements ActionListener {\n    CardLayout crd;\n    JButton btn1, btn2, btn3, btn4;\n    Container cPane;\n    JPanel cPanel = new JPanel();\n    JPanel jPanel1,jPanel2,jPanel3;\n    Board board = new Board();\n    private int currCard = 1;\n    GridBagConstraints c = new GridBagConstraints();\n\n    Test() {\n        jPanel1 = new JPanel();\n        jPanel2 = new JPanel();\n        jPanel3 = new JPanel();\n\n        btn1 = new JButton(&quot;Start&quot;);\n        btn2 = new JButton(&quot;Help&quot;);\n        btn3 = new JButton(&quot;Back&quot;);\n        btn4 = new JButton(&quot;Exit&quot;);\n\n        cPane = getContentPane();\n        crd = new CardLayout();\n        cPanel.setLayout(crd);\n\n        buttons();\n        panel1();\n        panel2();\n        panel3();\n\n        cPanel.add(jPanel1, &quot;1&quot;);\n        cPanel.add(jPanel2, &quot;2&quot;);\n        cPanel.add(jPanel3, &quot;3&quot;);\n\n        btn1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 3;\n                crd.show(cPanel, &quot;&quot; + (currCard));\n            }\n        });\n\n        btn2.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 2;\n                crd.show(cPanel, &quot;&quot; + (currCard));\n            }\n        });\n\n        btn3.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 1;\n                crd.show(cPanel, &quot;&quot;+ (currCard));\n            }\n        });\n\n        btn4.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                System.exit(0);\n            }\n        });\n\n        getContentPane().add(cPanel);\n    }\n\n    void panel1() {\n        jPanel1.setBackground(Color.black);\n        jPanel1.setLayout(new GridBagLayout());\n        // Set the layout to GridBagLayout\n        c.fill = GridBagConstraints.CENTER;\n        c.insets = new Insets(15, 0, 0, 0); // Add vertical padding\n        jPanel1.add(btn1, c);\n        c.gridy = 1;\n        jPanel1.add(btn2, c);\n        c.gridy = 2;\n        jPanel1.add(btn4, c);\n    }\n\n    void panel2() {\n        JTextArea textField = new JTextArea(&quot;Text text&quot;);\n        textField.setEditable(false);\n        textField.setHighlighter(null);\n        Font font = new Font(&quot;Courier&quot;, Font.BOLD, 35);\n        textField.setFont(font);      \n        textField.setPreferredSize(new Dimension(500, 940));\n        textField.setForeground(Color.WHITE);\n        textField.setBackground(Color.black);\n\n        jPanel2.setBackground(Color.black);\n        jPanel2.setLayout(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.NORTHWEST; // Align component to the upper left corner\n        gbc.insets = new Insets(15, 0, 0, 0); // Add vertical padding\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.weightx = 1.0; // Expand horizontally\n        gbc.weighty = 0.5; // Expand vertically\n        jPanel2.add(textField, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 1; // Set the grid position for btn3\n        gbc.anchor = GridBagConstraints.NORTH; // Align component to the upper left corner\n        jPanel2.add(btn3, gbc);\n    }\n\n    void panel3() {\n\n        jPanel3.setFocusable(true);\n        jPanel3.setRequestFocusEnabled(true);\n        jPanel3.setLayout(new BorderLayout(0, 0));\n        jPanel3.add(board);\n        jPanel3.grabFocus();    \n    }\n\n    void buttons() {\n        // make the buttons look better and make it so they look good with the background, chane the size of them \n        btn1.setPreferredSize(new Dimension(75, 50));\n        btn1.setBackground(Color.black);\n        btn1.setForeground(Color.WHITE);\n\n        btn2.setPreferredSize(new Dimension(75, 50));\n        btn2.setBackground(Color.black);\n        btn2.setForeground(Color.WHITE);\n\n        btn3.setPreferredSize(new Dimension(75, 50));\n        btn3.setBackground(Color.black);\n        btn3.setForeground(Color.WHITE);\n\n        btn4.setPreferredSize(new Dimension(75, 50));\n        btn4.setBackground(Color.black);\n        btn4.setForeground(Color.WHITE);\n    }\n\n   public static void main(String argvs[]) {\n        System.out.println(&quot;aaa&quot; + System.getProperty(&quot;user.dir&quot;)); \n        Test frame = new Test();\n        frame.setTitle(&quot;Space invaders&quot;);\n        frame.setSize(900, 900);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent arg0) {\n        throw new UnsupportedOperationException(&quot;Unimplemented method 'actionPerformed'&quot;);\n    }\n\n}\n</code></pre>\n<p>Crudly put together Board class.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Stroke;\nimport java.awt.event.KeyListener;\n\nimport javax.swing.JPanel;\n\npublic class Board extends JPanel {\n    Player player = new Player(50, 50, 50, 50);\n\n\n    public Board(){\n        addKeyListener((KeyListener) player);\n\n        setFocusable(true);\n    }\n\n    public void paint(Graphics g) {\n        g.setColor(Color.DARK_GRAY);\n        g.fillRect(0, 0, 900, 900);\n        g.setColor(Color.WHITE);            \n        g.drawRect (20, 20, 864, 624);  \n        g.setColor(Color.BLACK);\n        g.fillRect (21, 21, 863, 623);\n        g.setColor(Color.WHITE);    \n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\n        player.draw(g);\n        //repaint();\n    }\n\n    public void board(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        Stroke stroke1 = new BasicStroke(4f);\n        g2d.setColor(Color.white);\n        g2d.setStroke(stroke1);\n        g2d.drawRect(20, 50, 850, 600);\n        g2d.setColor(Color.white);\n        float[] dashingPattern2 = {10f, 4f};\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n        g2d.setStroke(stroke2);\n        g2d.drawLine(448, 50, 448, 650);\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n    }\n\n\n}\n</code></pre>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport javax.swing.JPanel;\n\npublic class Player extends JPanel implements KeyListener  {\n\n    public int playerXpos;\n    public int playerYpos;\n    public int playerWidth;\n    public int playerHeight;\n    public int speed = 2;\n    boolean down = false;\n    boolean up = false;\n    Rectangle player;\n\n    public Player(int playerXpos, int playerYpos, int playerWidth, int playerHeight){\n        this.playerXpos = playerXpos;\n        this.playerYpos = playerYpos;\n        this.playerWidth = playerWidth;\n        this.playerWidth = playerHeight;\n        player = new Rectangle(playerXpos, playerYpos, playerWidth, playerHeight);\n    } \n\n\n    protected void draw(Graphics g) {\n        playerXpos = 500;\n        playerYpos = 60;\n        playerWidth = 50;\n        playerHeight = 30;\n        g.setColor(Color.CYAN);\n        g.fillRect(playerXpos, playerYpos, playerWidth, playerHeight);\n    }\n\n    @Override\n    public void keyPressed(KeyEvent keyCode) {\n        if (keyCode.getKeyCode() == KeyEvent.VK_UP) {\n            System.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\n        }\n        else if (keyCode.getKeyCode() == KeyEvent.VK_DOWN) {\n            System.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\n        }\n        else if (keyCode.getKeyCode() == KeyEvent.VK_LEFT) {\n            System.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\n        }\n        else if (keyCode.getKeyCode() == KeyEvent.VK_RIGHT) {\n           System.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\n        }    \n    }\n\n    @Override\n    public void keyReleased(KeyEvent arg0) {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException(&quot;Unimplemented method 'keyReleased'&quot;);\n    }\n\n    @Override\n    public void keyTyped(KeyEvent arg0) {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException(&quot;Unimplemented method 'keyTyped'&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","drools","kie"],"answers":[{"tags":[],"owner":{"account_id":1197384,"reputation":6314,"user_id":1168802,"display_name":"Esteban Aliverti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552401718,"creation_date":1552401718,"answer_id":55124217,"question_id":55123580,"body_markdown":"The way you update a global from inside a rule is by using the automagic variable `kcontext`:\r\n\r\n```\r\nglobal Integer count;\r\n\r\nrule &quot;Initialize&quot;\r\nsalience 100\r\nwhen\r\nthen\r\n       kcontext.getKieRuntime().setGlobal(&quot;count&quot;, 1);\r\nend    \r\n```\r\n\r\nSome notes:\r\n\r\n - You should use a high salience in your rule so it gets executed before any other rule that is also using the global.\r\n - This method will not work if you are using the global in the LHS of your rules. If that&#39;s the case I would suggest to use a Fact instead of a global.\r\n\r\nHope it helps,","title":"Drool Global Variable Initialization in drl file","body":"<p>The way you update a global from inside a rule is by using the automagic variable <code>kcontext</code>:</p>\n\n<pre><code>global Integer count;\n\nrule \"Initialize\"\nsalience 100\nwhen\nthen\n       kcontext.getKieRuntime().setGlobal(\"count\", 1);\nend    \n</code></pre>\n\n<p>Some notes:</p>\n\n<ul>\n<li>You should use a high salience in your rule so it gets executed before any other rule that is also using the global.</li>\n<li>This method will not work if you are using the global in the LHS of your rules. If that's the case I would suggest to use a Fact instead of a global.</li>\n</ul>\n\n<p>Hope it helps,</p>\n"},{"tags":[],"owner":{"account_id":29086374,"reputation":9,"user_id":22281209,"display_name":"mahshid"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690479698,"creation_date":1690276189,"answer_id":76761162,"question_id":55123580,"body_markdown":"Java Code\r\n---------------\r\n```\r\n   public void loanApplication(LoanApplication loanApplication) {\r\n\r\n        KieSession kieSession = kieContainer.newKieSession();\r\n        kieSession.insert(loanApplication);\r\n        kieSession.fireAllRules();\r\n// get your variable from .drl file\r\n\r\n        kieSession.getGlobal(&quot;myString&quot;);\r\n\r\n\r\n    }\r\n```\r\n`.drl` file\r\n---------------\r\n```\r\nimport com.example.demo.LoanApplication\r\nglobal java.lang.String myString;\r\nrule &quot;Approval rule&quot;\r\nwhen\r\n    $loanApplication : LoanApplication()\r\n    LoanApplication(creditScore &gt;= 600, income &gt;= 30000, debtToIncomeRatio &lt;= 50, employmentStatus != EmploymentStatus.UNEMPLOYED)\r\nthen\r\n    System.out.println(&quot;Loan application approved!&quot;);\r\n\r\n     kcontext.getKieRuntime().setGlobal(&quot;myString&quot;, &quot;Loan application approved!&quot;);\r\n    $loanApplication.setLoan(true);\r\n    update($loanApplication);\r\nend\r\n```","title":"Drool Global Variable Initialization in drl file","body":"<h2>Java Code</h2>\n<pre><code>   public void loanApplication(LoanApplication loanApplication) {\n\n        KieSession kieSession = kieContainer.newKieSession();\n        kieSession.insert(loanApplication);\n        kieSession.fireAllRules();\n// get your variable from .drl file\n\n        kieSession.getGlobal(&quot;myString&quot;);\n\n\n    }\n</code></pre>\n<h2><code>.drl</code> file</h2>\n<pre><code>import com.example.demo.LoanApplication\nglobal java.lang.String myString;\nrule &quot;Approval rule&quot;\nwhen\n    $loanApplication : LoanApplication()\n    LoanApplication(creditScore &gt;= 600, income &gt;= 30000, debtToIncomeRatio &lt;= 50, employmentStatus != EmploymentStatus.UNEMPLOYED)\nthen\n    System.out.println(&quot;Loan application approved!&quot;);\n\n     kcontext.getKieRuntime().setGlobal(&quot;myString&quot;, &quot;Loan application approved!&quot;);\n    $loanApplication.setLoan(true);\n    update($loanApplication);\nend\n</code></pre>\n"}],"owner":{"account_id":6381890,"reputation":131,"user_id":4951026,"accept_rate":71,"display_name":"Deepak Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55124217,"answer_count":2,"score":0,"last_activity_date":1690479698,"creation_date":1552399993,"question_id":55123580,"body_markdown":"```\r\n package com.example.drools; \r\n\r\n global Integer count; // I want to initialize this count variable with some \r\n                         default value. \r\n\r\n   rule &quot;Initialize&quot;\r\n   when\r\n   then\r\n       count= 1; // Locally it&#39;s possible but want it to set globally which can \r\n                     be use in any other rules just simply by calling it.\r\n       System.out.println(&quot;count=&quot;+count);\r\n   end\r\n\r\n  rule &quot;Drools Introduction&quot;\r\n  when\r\n  then\r\n     System.out.println(&quot;count=&quot;+count); // Here output is coming null which in \r\n                                            want some default value set for \r\n                                            global value.\r\n  end\r\n\r\n```\r\nSo Want to Initialize Count variable in drl file only ? ","title":"Drool Global Variable Initialization in drl file","body":"<pre><code> package com.example.drools; \n\n global Integer count; // I want to initialize this count variable with some \n                         default value. \n\n   rule \"Initialize\"\n   when\n   then\n       count= 1; // Locally it's possible but want it to set globally which can \n                     be use in any other rules just simply by calling it.\n       System.out.println(\"count=\"+count);\n   end\n\n  rule \"Drools Introduction\"\n  when\n  then\n     System.out.println(\"count=\"+count); // Here output is coming null which in \n                                            want some default value set for \n                                            global value.\n  end\n\n</code></pre>\n\n<p>So Want to Initialize Count variable in drl file only ? </p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":40443,"reputation":1902,"user_id":117220,"accept_rate":67,"display_name":"Petr Gladkikh"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1690479204,"creation_date":1483361810,"answer_id":41427280,"question_id":41049753,"body_markdown":"Not an authoritative answer but maybe it would be helpful. First you should consider what would you do when query cannot be executed right away. No matter which rate limiting you chose if you get requests at higher rate than you can write to Cassandra eventually you&#39;ll get your process clogged with waiting requests. And at that moment you would need to tell your clients to hold their requests for a while (&quot;push back&quot;). E.g. if they are coming via HTTP then response status would be 429 &quot;Too Many Requests&quot;. If you generate requests in same process then decide what longest timeout is acceptable. That said if Cassandra cannot keep up then it&#39;s time to scale (or tune) it.\r\n\r\nMaybe before implementing rate limits it&#39;s worth to experiment a little and add artificial delays to your threads before call to `save` method (e.g. using Thread.sleep(...)) and see whether it is indeed your problem or something else is needed. \r\n\r\nQuery returning error _is_ back-pressure from Cassandra. But you may choose or implement [RetryPolicy](http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/policies/RetryPolicy.html) to determine when to retry failed queries.\r\n\r\nAlso you may look at [connection pool options](https://github.com/datastax/java-driver/tree/3.x/manual/pooling) (and especially [Monitoring and tuning the pool](https://github.com/datastax/java-driver/tree/3.x/manual/pooling#monitoring-and-tuning-the-pool)). One can tune number of asynchronous [requests per connection](http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/PoolingOptions.html#setMaxRequestsPerConnection-com.datastax.driver.core.HostDistance-int-). However documentation says that for Cassandra 2.x this parameter caps to 128 and one should not change it (I&#39;d experiment with it though :) \r\n\r\nImplementation with Semaphore looks like \r\n\r\n    /* Share it among all threads or associate with a thread for per-thread limits\r\n       Number of permits is to be tuned depending on acceptable load.\r\n    */\r\n    final Semaphore queryPermits = new Semaphore(20); \r\n    \r\n    \r\n    public void save(String process, int clientid, long deviceid) {\r\n      ....\r\n      queryPermits.acquire(); // Blocks until a permit is available\r\n    \r\n      ResultSetFuture future = session.executeAsync(bs);\r\n      Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\r\n        @Override\r\n        public void onSuccess(ResultSet result) {\r\n          queryPermits.release();\r\n          logger.logInfo(&quot;successfully written&quot;);\r\n        }\r\n        @Override\r\n        public void onFailure(Throwable t) {\r\n          queryPermits.release(); // Permit should be released in all cases.\r\n          logger.logError(&quot;error= &quot;, t);\r\n        }\r\n      }, executorService);\r\n      ....\r\n    }\r\n\r\n(In real code I&#39;d create a decorator that would call wrapped method and then release the permits.)\r\n\r\nGuava&#39;s RateLimiter is similar to semaphore but allows temporary bursts after underutilization periods and limits requests based on timing (not total number of active queries). \r\n\r\nHowever requests will fail for various reasons anyway so probably it&#39;s better to have a plan how to retry them (in case of intermittent errors).\r\n\r\nIt might not be appropriate in your case but I&#39;d try to use some queue or buffer to enqueue requests (e.g. `java.util.concurrent.ArrayBlockingQueue`). &quot;Buffer full&quot; would mean that clients should wait or give up the request. Buffer would also be used to re-enqueue failed requests. However to be more fair failed requests probably should be put to front of queue so they are retried first. Also one should somehow handle situation when queue is full and there are new failed requests at the same time. A single-threaded worker then would pick requests form queue and send them to Cassandra. Since it should not do much it&#39;s unlikely that it becomes a bottle-neck. This worker can also apply it&#39;s own rate limits, e.g. based on timing with `com.google.common.util.concurrent.RateLimiter`.\r\n\r\nIf one would want to avoid losing messages as much as possible they can put a message broker with persistence (e.g. Kafka) in front of Cassandra. This way incoming messages can survive even long outages of Cassandra. But, I guess, it&#39;s overkill in your case. \r\n","title":"How to throttle writes request to cassandra when working with &quot;executeAsync&quot;?","body":"<p>Not an authoritative answer but maybe it would be helpful. First you should consider what would you do when query cannot be executed right away. No matter which rate limiting you chose if you get requests at higher rate than you can write to Cassandra eventually you'll get your process clogged with waiting requests. And at that moment you would need to tell your clients to hold their requests for a while (&quot;push back&quot;). E.g. if they are coming via HTTP then response status would be 429 &quot;Too Many Requests&quot;. If you generate requests in same process then decide what longest timeout is acceptable. That said if Cassandra cannot keep up then it's time to scale (or tune) it.</p>\n<p>Maybe before implementing rate limits it's worth to experiment a little and add artificial delays to your threads before call to <code>save</code> method (e.g. using Thread.sleep(...)) and see whether it is indeed your problem or something else is needed.</p>\n<p>Query returning error <em>is</em> back-pressure from Cassandra. But you may choose or implement <a href=\"http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/policies/RetryPolicy.html\" rel=\"nofollow noreferrer\">RetryPolicy</a> to determine when to retry failed queries.</p>\n<p>Also you may look at <a href=\"https://github.com/datastax/java-driver/tree/3.x/manual/pooling\" rel=\"nofollow noreferrer\">connection pool options</a> (and especially <a href=\"https://github.com/datastax/java-driver/tree/3.x/manual/pooling#monitoring-and-tuning-the-pool\" rel=\"nofollow noreferrer\">Monitoring and tuning the pool</a>). One can tune number of asynchronous <a href=\"http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/PoolingOptions.html#setMaxRequestsPerConnection-com.datastax.driver.core.HostDistance-int-\" rel=\"nofollow noreferrer\">requests per connection</a>. However documentation says that for Cassandra 2.x this parameter caps to 128 and one should not change it (I'd experiment with it though :)</p>\n<p>Implementation with Semaphore looks like</p>\n<pre><code>/* Share it among all threads or associate with a thread for per-thread limits\n   Number of permits is to be tuned depending on acceptable load.\n*/\nfinal Semaphore queryPermits = new Semaphore(20); \n\n\npublic void save(String process, int clientid, long deviceid) {\n  ....\n  queryPermits.acquire(); // Blocks until a permit is available\n\n  ResultSetFuture future = session.executeAsync(bs);\n  Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\n    @Override\n    public void onSuccess(ResultSet result) {\n      queryPermits.release();\n      logger.logInfo(&quot;successfully written&quot;);\n    }\n    @Override\n    public void onFailure(Throwable t) {\n      queryPermits.release(); // Permit should be released in all cases.\n      logger.logError(&quot;error= &quot;, t);\n    }\n  }, executorService);\n  ....\n}\n</code></pre>\n<p>(In real code I'd create a decorator that would call wrapped method and then release the permits.)</p>\n<p>Guava's RateLimiter is similar to semaphore but allows temporary bursts after underutilization periods and limits requests based on timing (not total number of active queries).</p>\n<p>However requests will fail for various reasons anyway so probably it's better to have a plan how to retry them (in case of intermittent errors).</p>\n<p>It might not be appropriate in your case but I'd try to use some queue or buffer to enqueue requests (e.g. <code>java.util.concurrent.ArrayBlockingQueue</code>). &quot;Buffer full&quot; would mean that clients should wait or give up the request. Buffer would also be used to re-enqueue failed requests. However to be more fair failed requests probably should be put to front of queue so they are retried first. Also one should somehow handle situation when queue is full and there are new failed requests at the same time. A single-threaded worker then would pick requests form queue and send them to Cassandra. Since it should not do much it's unlikely that it becomes a bottle-neck. This worker can also apply it's own rate limits, e.g. based on timing with <code>com.google.common.util.concurrent.RateLimiter</code>.</p>\n<p>If one would want to avoid losing messages as much as possible they can put a message broker with persistence (e.g. Kafka) in front of Cassandra. This way incoming messages can survive even long outages of Cassandra. But, I guess, it's overkill in your case.</p>\n"},{"tags":[],"owner":{"account_id":3582639,"reputation":1972,"user_id":2990458,"accept_rate":38,"display_name":"Abhishek Anand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483901969,"creation_date":1483901540,"answer_id":41536507,"question_id":41049753,"body_markdown":"Simply using a blocking queue should do it fine.\r\nFutures are threaded, and there callback (success and failure) will act as consumer, and wherever you call save method from will act as producer.\r\n\r\nEven better way will be, you put complete request itself in queue, and dequeue it one by one firing save on each dequeue.\r\n\r\n    private final ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n    public void save(String process, int clientid, long deviceid, BlockingQueue&lt;Object&gt; queue) {\r\n        String sql = &quot;insert into storage (process, clientid, deviceid) values (?, ?, ?)&quot;;\r\n        try {\r\n          BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\r\n          bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\r\n          bs.setString(0, process);\r\n          bs.setInt(1, clientid);\r\n          bs.setLong(2, deviceid);\r\n    \r\n          ResultSetFuture future = session.executeAsync(bs);\r\n          Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\r\n            @Override\r\n            public void onSuccess(ResultSet result) {\r\n              logger.logInfo(&quot;successfully written&quot;);\r\n    \t\t  queue.take();\r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n              logger.logError(&quot;error= &quot;, t);\r\n    \t\t  queue.take();\r\n            }\r\n          }, executorService);\r\n        } catch (Exception ex) {\r\n          logger.logError(&quot;error= &quot;, ex);\r\n        }\r\n    }\r\n    \r\n    public void invokeSaveInLoop(){\r\n    \tObject dummyObj = new Object();\r\n    \tBlockingQueue&lt;Object&gt; queue = new ArrayBlockingQueue&lt;&gt;(20);;\r\n    \tfor(int i=0; i&lt; 1000; i++){\r\n    \t\tsave(&quot;process&quot;, clientid, deviceid, queue);\r\n    \t\tqueue.put(dummyObj);\r\n    \t}\r\n    }\r\n\r\nIf you want to go further and check load on cluster mid way\r\n\r\n    public static String getCurrentState(){    \r\n    StringBuilder response = new StringBuilder();\r\n                response.append(&quot;Current Database Connection Status &lt;br&gt;\\n ---------------------------------------------&lt;br&gt;\\n&quot;);\r\n                final LoadBalancingPolicy loadBalancingPolicy =\r\n                        cluster.getConfiguration().getPolicies().getLoadBalancingPolicy();\r\n                final PoolingOptions poolingOptions =\r\n                        cluster.getConfiguration().getPoolingOptions();\r\n                Session.State state = session.getState();\r\n                for (Host host : state.getConnectedHosts()) {\r\n                    HostDistance distance = loadBalancingPolicy.distance(host);\r\n                    int connections = state.getOpenConnections(host);\r\n                    int inFlightQueries = state.getInFlightQueries(host);\r\n                    response.append(String.format(&quot;%s current connections=%d, max allowed connections=%d, current load=%d, max load=%d%n&quot;,\r\n                                    host, connections, poolingOptions.getMaxConnectionsPerHost(distance), inFlightQueries,\r\n                                    connections *\r\n                                            poolingOptions.getMaxRequestsPerConnection(distance)))\r\n                            .append(&quot;&lt;br&gt;\\n&quot;);\r\n                }\r\n                return response.toString();\r\n    }","title":"How to throttle writes request to cassandra when working with &quot;executeAsync&quot;?","body":"<p>Simply using a blocking queue should do it fine.\nFutures are threaded, and there callback (success and failure) will act as consumer, and wherever you call save method from will act as producer.</p>\n\n<p>Even better way will be, you put complete request itself in queue, and dequeue it one by one firing save on each dequeue.</p>\n\n<pre><code>private final ExecutorService executorService = Executors.newFixedThreadPool(10);\n\npublic void save(String process, int clientid, long deviceid, BlockingQueue&lt;Object&gt; queue) {\n    String sql = \"insert into storage (process, clientid, deviceid) values (?, ?, ?)\";\n    try {\n      BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\n      bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\n      bs.setString(0, process);\n      bs.setInt(1, clientid);\n      bs.setLong(2, deviceid);\n\n      ResultSetFuture future = session.executeAsync(bs);\n      Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\n        @Override\n        public void onSuccess(ResultSet result) {\n          logger.logInfo(\"successfully written\");\n          queue.take();\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n          logger.logError(\"error= \", t);\n          queue.take();\n        }\n      }, executorService);\n    } catch (Exception ex) {\n      logger.logError(\"error= \", ex);\n    }\n}\n\npublic void invokeSaveInLoop(){\n    Object dummyObj = new Object();\n    BlockingQueue&lt;Object&gt; queue = new ArrayBlockingQueue&lt;&gt;(20);;\n    for(int i=0; i&lt; 1000; i++){\n        save(\"process\", clientid, deviceid, queue);\n        queue.put(dummyObj);\n    }\n}\n</code></pre>\n\n<p>If you want to go further and check load on cluster mid way</p>\n\n<pre><code>public static String getCurrentState(){    \nStringBuilder response = new StringBuilder();\n            response.append(\"Current Database Connection Status &lt;br&gt;\\n ---------------------------------------------&lt;br&gt;\\n\");\n            final LoadBalancingPolicy loadBalancingPolicy =\n                    cluster.getConfiguration().getPolicies().getLoadBalancingPolicy();\n            final PoolingOptions poolingOptions =\n                    cluster.getConfiguration().getPoolingOptions();\n            Session.State state = session.getState();\n            for (Host host : state.getConnectedHosts()) {\n                HostDistance distance = loadBalancingPolicy.distance(host);\n                int connections = state.getOpenConnections(host);\n                int inFlightQueries = state.getInFlightQueries(host);\n                response.append(String.format(\"%s current connections=%d, max allowed connections=%d, current load=%d, max load=%d%n\",\n                                host, connections, poolingOptions.getMaxConnectionsPerHost(distance), inFlightQueries,\n                                connections *\n                                        poolingOptions.getMaxRequestsPerConnection(distance)))\n                        .append(\"&lt;br&gt;\\n\");\n            }\n            return response.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3734,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":41427280,"answer_count":2,"score":18,"last_activity_date":1690479204,"creation_date":1481235131,"question_id":41049753,"body_markdown":"I am using datastax java driver 3.1.0 to connect to cassandra cluster and my cassandra cluster version is 2.0.10. I am writing asynchronously with QUORUM consistency.\r\n\r\n\t  private final ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n\t  public void save(String process, int clientid, long deviceid) {\r\n\t\tString sql = &quot;insert into storage (process, clientid, deviceid) values (?, ?, ?)&quot;;\r\n\t\ttry {\r\n\t\t  BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\r\n\t\t  bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\r\n\t\t  bs.setString(0, process);\r\n\t\t  bs.setInt(1, clientid);\r\n\t\t  bs.setLong(2, deviceid);\r\n\r\n\t\t  ResultSetFuture future = session.executeAsync(bs);\r\n\t\t  Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onSuccess(ResultSet result) {\r\n\t\t\t  logger.logInfo(&quot;successfully written&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure(Throwable t) {\r\n\t\t\t  logger.logError(&quot;error= &quot;, t);\r\n\t\t\t}\r\n\t\t  }, executorService);\r\n\t\t} catch (Exception ex) {\r\n\t\t  logger.logError(&quot;error= &quot;, ex);\r\n\t\t}\r\n\t  }\r\n  \r\nMy above save method will be called from multiple threads at very fast speed.\r\n\r\n**Question:**\r\n\r\nI want to throttle the request to `executeAsync` method which writes asynchronously into Cassandra. If I write at very high speed than my Cassandra cluster can handle then it will start throwing errors and I want  all my writes should go successfully into cassandra without any loss.\r\n\r\nI saw this [post](https://stackoverflow.com/a/34951429/5447339) where solution is to use `Semaphore` with fixed number of permits. But I am not sure how and what is the best way to implement that. I have never used Semaphor before. This is the logic. Can anyone provide an example with Semaphore basis on my code or if there is any better way/option, then let me know as well.\r\n\r\n&gt; In the context of writing a dataloader program, you could do something\r\n&gt; like the following:\r\n&gt; \r\n&gt; - To keep things simple use a Semaphore or some other construct with a fixed number of permits (that will be your maximum number of inflight\r\n&gt; requests). Whenever you go to submit a query using executeAsync,\r\n&gt; acquire a permit. You should really only need 1 thread (but may want\r\n&gt; to introduce a pool of # cpu cores size that does this) that acquires\r\n&gt; the permits from the Semaphore and executes queries. It will just\r\n&gt; block on acquire until there is an available permit.\r\n&gt; - Use Futures.addCallback for the future returned from executeAsync. The callback should call  Sempahore.release() in both onSuccess and\r\n&gt; onFailure cases. By releasing a permit, this should allow your thread\r\n&gt; in step 1 to continue and submit the next request.\r\n\r\nAlso I have seen couple of other [post](https://stackoverflow.com/questions/1407113/throttling-method-calls-to-m-requests-in-n-seconds) where they have talked about using `RingBuffer` or `Guava RateLimitter` so which one is better and I should be using? Below are the options I can think of:\r\n\r\n- Using Semaphore\r\n- Using Ring Buffer\r\n- Using Guava Rate Limiter\r\n\r\nCan anyone help me with an example of how we can throttle the request or get backpressure for cassandra writes and making sure all writes goes successfully into cassandra?","title":"How to throttle writes request to cassandra when working with &quot;executeAsync&quot;?","body":"<p>I am using datastax java driver 3.1.0 to connect to cassandra cluster and my cassandra cluster version is 2.0.10. I am writing asynchronously with QUORUM consistency.</p>\n\n<pre><code>  private final ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n  public void save(String process, int clientid, long deviceid) {\n    String sql = \"insert into storage (process, clientid, deviceid) values (?, ?, ?)\";\n    try {\n      BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\n      bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\n      bs.setString(0, process);\n      bs.setInt(1, clientid);\n      bs.setLong(2, deviceid);\n\n      ResultSetFuture future = session.executeAsync(bs);\n      Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\n        @Override\n        public void onSuccess(ResultSet result) {\n          logger.logInfo(\"successfully written\");\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n          logger.logError(\"error= \", t);\n        }\n      }, executorService);\n    } catch (Exception ex) {\n      logger.logError(\"error= \", ex);\n    }\n  }\n</code></pre>\n\n<p>My above save method will be called from multiple threads at very fast speed.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>I want to throttle the request to <code>executeAsync</code> method which writes asynchronously into Cassandra. If I write at very high speed than my Cassandra cluster can handle then it will start throwing errors and I want  all my writes should go successfully into cassandra without any loss.</p>\n\n<p>I saw this <a href=\"https://stackoverflow.com/a/34951429/5447339\">post</a> where solution is to use <code>Semaphore</code> with fixed number of permits. But I am not sure how and what is the best way to implement that. I have never used Semaphor before. This is the logic. Can anyone provide an example with Semaphore basis on my code or if there is any better way/option, then let me know as well.</p>\n\n<blockquote>\n  <p>In the context of writing a dataloader program, you could do something\n  like the following:</p>\n  \n  <ul>\n  <li>To keep things simple use a Semaphore or some other construct with a fixed number of permits (that will be your maximum number of inflight\n  requests). Whenever you go to submit a query using executeAsync,\n  acquire a permit. You should really only need 1 thread (but may want\n  to introduce a pool of # cpu cores size that does this) that acquires\n  the permits from the Semaphore and executes queries. It will just\n  block on acquire until there is an available permit.</li>\n  <li>Use Futures.addCallback for the future returned from executeAsync. The callback should call  Sempahore.release() in both onSuccess and\n  onFailure cases. By releasing a permit, this should allow your thread\n  in step 1 to continue and submit the next request.</li>\n  </ul>\n</blockquote>\n\n<p>Also I have seen couple of other <a href=\"https://stackoverflow.com/questions/1407113/throttling-method-calls-to-m-requests-in-n-seconds\">post</a> where they have talked about using <code>RingBuffer</code> or <code>Guava RateLimitter</code> so which one is better and I should be using? Below are the options I can think of:</p>\n\n<ul>\n<li>Using Semaphore</li>\n<li>Using Ring Buffer</li>\n<li>Using Guava Rate Limiter</li>\n</ul>\n\n<p>Can anyone help me with an example of how we can throttle the request or get backpressure for cassandra writes and making sure all writes goes successfully into cassandra?</p>\n"},{"tags":["java","android","android-11","kiosk-mode","kiosk"],"owner":{"account_id":21250348,"reputation":122,"user_id":15632630,"display_name":"Michu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690478808,"creation_date":1690270654,"question_id":76760416,"body_markdown":"I&#39;m developing a launcher in android 11 which use lock task but this function hide all status bar notifications, if the launcher isn&#39;t in task mode, the notification launcher can be seen. \r\nHow can I show the launcher notifications?","title":"How to show notifications only from launcher in kiosk mode (lock task) android 11","body":"<p>I'm developing a launcher in android 11 which use lock task but this function hide all status bar notifications, if the launcher isn't in task mode, the notification launcher can be seen.\nHow can I show the launcher notifications?</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":16927447,"reputation":66,"user_id":12242700,"display_name":"Abidstic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690478040,"creation_date":1690478040,"answer_id":76782075,"question_id":76782032,"body_markdown":"        import java.util.Scanner;\r\n    \r\n    public class TwentyOneQuestionsGame {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Think of a word: Food, Animal, or Object.&quot;);\r\n    \r\n            String[] questions = {\r\n                    &quot;Size: Small, Medium, or Large?&quot;,\r\n                    &quot;Where does it live? Land, Sky, or Water?&quot;,\r\n                    &quot;If Land, does it live in Mountains, Plains, Forests, Deserts, or Cities?&quot;,\r\n                    &quot;If Sky, does it have Wings? Yes or No?&quot;,\r\n                    &quot;If Land, how many Legs does it have?&quot;,\r\n                    &quot;If Water, what type of Skin does it have?&quot;,\r\n                    &quot;Is it Dangerous? Yes or No?&quot;,\r\n                    &quot;Is it a Common Pet? Yes or No?&quot;\r\n            };\r\n    \r\n            String[] answers = new String[questions.length];\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            for (int i = 0; i &lt; questions.length; i++) {\r\n                System.out.println(questions[i]);\r\n                String input = scanner.nextLine();\r\n                answers[i] = input.toLowerCase();\r\n            }\r\n    \r\n            if (answers[1].equals(&quot;land&quot;)) {\r\n                if (answers[0].equals(&quot;small&quot;)) {\r\n                    if (answers[2].equals(&quot;cities&quot;)) {\r\n                        if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\r\n                            if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\r\n                                System.out.println(&quot;It&#39;s a Cat!&quot;);\r\n                                return;\r\n                            }\r\n                        }\r\n                    } else if (answers[2].equals(&quot;cities&quot;)) {\r\n                        if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\r\n                            if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\r\n                                System.out.println(&quot;It&#39;s a Dog!&quot;);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Sorry! That&#39;s not something we recognize yet. Better luck next time!&quot;);\r\n        }\r\n    }\r\n\r\nTry using this refactored code. It may not be fully correct but I think you can get a idea.","title":"Is there an easier way to input a lot of possible parameters into an else if statement?","body":"<pre><code>    import java.util.Scanner;\n\npublic class TwentyOneQuestionsGame {\n    public static void main(String[] args) {\n        System.out.println(&quot;Think of a word: Food, Animal, or Object.&quot;);\n\n        String[] questions = {\n                &quot;Size: Small, Medium, or Large?&quot;,\n                &quot;Where does it live? Land, Sky, or Water?&quot;,\n                &quot;If Land, does it live in Mountains, Plains, Forests, Deserts, or Cities?&quot;,\n                &quot;If Sky, does it have Wings? Yes or No?&quot;,\n                &quot;If Land, how many Legs does it have?&quot;,\n                &quot;If Water, what type of Skin does it have?&quot;,\n                &quot;Is it Dangerous? Yes or No?&quot;,\n                &quot;Is it a Common Pet? Yes or No?&quot;\n        };\n\n        String[] answers = new String[questions.length];\n        Scanner scanner = new Scanner(System.in);\n\n        for (int i = 0; i &lt; questions.length; i++) {\n            System.out.println(questions[i]);\n            String input = scanner.nextLine();\n            answers[i] = input.toLowerCase();\n        }\n\n        if (answers[1].equals(&quot;land&quot;)) {\n            if (answers[0].equals(&quot;small&quot;)) {\n                if (answers[2].equals(&quot;cities&quot;)) {\n                    if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\n                        if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\n                            System.out.println(&quot;It's a Cat!&quot;);\n                            return;\n                        }\n                    }\n                } else if (answers[2].equals(&quot;cities&quot;)) {\n                    if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\n                        if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\n                            System.out.println(&quot;It's a Dog!&quot;);\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n\n        System.out.println(&quot;Sorry! That's not something we recognize yet. Better luck next time!&quot;);\n    }\n}\n</code></pre>\n<p>Try using this refactored code. It may not be fully correct but I think you can get a idea.</p>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690478506,"creation_date":1690478506,"answer_id":76782127,"question_id":76782032,"body_markdown":"Yes there is an easier way!\r\nUsing a Map System should give you what you want.\r\n\r\nHere is my solution:\r\n\r\n**Animal Class:**\r\n\r\n```java\r\npublic class Animal {\r\n\r\n    // Map variable gets created here\r\n    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n\r\n    // Constructor\r\n    public Animal(String size, String domain, String wings, int legs, String home, String skinType, String commonPet, String domesticated) {\r\n        properties.put(&quot;Size&quot;, size);\r\n        properties.put(&quot;Domain&quot;, domain);\r\n        properties.put(&quot;Wings&quot;, wings);\r\n        properties.put(&quot;Legs&quot;, String.valueOf(legs));\r\n        properties.put(&quot;Home&quot;, home);\r\n        properties.put(&quot;SkinType&quot;, skinType);\r\n        properties.put(&quot;CommonPet&quot;, commonPet);\r\n        properties.put(&quot;Domesticated&quot;, domesticated);\r\n    }\r\n}\r\n```\r\n\r\n**Main Class:**\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Variables of the animals. Here you use the Animals classes constructor to fill the Animal Class Object attributes with values\r\n        Animal mouse = new Animal(&quot;Small&quot;, &quot;Land&quot;, &quot;No&quot;, 4, &quot;Plains,Cities&quot;, &quot;Fur,Hair&quot;, &quot;Yes&quot;, &quot;No&quot;);\r\n        Animal fish = new Animal(&quot;Small&quot;, &quot;Water&quot;, &quot;No&quot;, 0, null, &quot;Scales&quot;, &quot;Yes&quot;, null);\r\n        // Here you can add all the animals!\r\n\r\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;(Arrays.asList(mouse, fish /*, other animals... */));\r\n\r\n        // foreach loop iterating thorugh the animals List\r\n        for (Animal animal : animals) {\r\n            if (animal.properties.get(&quot;Size&quot;).equals(aA1) /* &amp;&amp; other conditions... */ ) {\r\n                // Output: Animal Name\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Is there an easier way to input a lot of possible parameters into an else if statement?","body":"<p>Yes there is an easier way!\nUsing a Map System should give you what you want.</p>\n<p>Here is my solution:</p>\n<p><strong>Animal Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n\n    // Map variable gets created here\n    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n\n    // Constructor\n    public Animal(String size, String domain, String wings, int legs, String home, String skinType, String commonPet, String domesticated) {\n        properties.put(&quot;Size&quot;, size);\n        properties.put(&quot;Domain&quot;, domain);\n        properties.put(&quot;Wings&quot;, wings);\n        properties.put(&quot;Legs&quot;, String.valueOf(legs));\n        properties.put(&quot;Home&quot;, home);\n        properties.put(&quot;SkinType&quot;, skinType);\n        properties.put(&quot;CommonPet&quot;, commonPet);\n        properties.put(&quot;Domesticated&quot;, domesticated);\n    }\n}\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // Variables of the animals. Here you use the Animals classes constructor to fill the Animal Class Object attributes with values\n        Animal mouse = new Animal(&quot;Small&quot;, &quot;Land&quot;, &quot;No&quot;, 4, &quot;Plains,Cities&quot;, &quot;Fur,Hair&quot;, &quot;Yes&quot;, &quot;No&quot;);\n        Animal fish = new Animal(&quot;Small&quot;, &quot;Water&quot;, &quot;No&quot;, 0, null, &quot;Scales&quot;, &quot;Yes&quot;, null);\n        // Here you can add all the animals!\n\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;(Arrays.asList(mouse, fish /*, other animals... */));\n\n        // foreach loop iterating thorugh the animals List\n        for (Animal animal : animals) {\n            if (animal.properties.get(&quot;Size&quot;).equals(aA1) /* &amp;&amp; other conditions... */ ) {\n                // Output: Animal Name\n            }\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":29089886,"reputation":31,"user_id":22284018,"display_name":"JustNeedHelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76782127,"answer_count":2,"score":1,"last_activity_date":1690478506,"creation_date":1690477670,"question_id":76782032,"body_markdown":"I&#39;m creating a game kind of like twenty one questions. The user is asked to think of a word: Food, Animal, or Object. The computer then asks a bunch of questions before eventually coming to the conclusion of what the word should be.\r\n\r\nCurrently, I&#39;ve got the code for the most part worked out like this:\r\n\r\n\r\n```\r\n //Guesses the animal based on given answers\r\n        if (a1.equals(&quot;Animal&quot;)) {\r\n            if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Plains&quot;) | aAld1.equals(&quot;Cities&quot;)) &amp;&amp; (aA5.equals(&quot;Fur&quot;) | aA5.equals(&quot;Hair&quot;)) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; (aAld2.equals(&quot;No&quot;))) {\r\n                System.out.println(&quot;Mouse!&quot;);\r\n                /*\r\n                Size: Small, Small\r\n                Domain: Land\r\n                Wings: No\r\n                Legs: 4\r\n                Home: Plains | Cities\r\n                Skin Type: Fur | Hair\r\n                Common Pet: Yes\r\n                Domesticated: No\r\n                 */\r\n            } else if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; aAw1.equals(&quot;Most&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Scales&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;)) {\r\n                System.out.println(&quot;Fish!&quot;);\r\n                /*\r\n                Size: Small, Small\r\n                Domain: Water\r\n                Body of Water: Most\r\n                Wings: No\r\n                Legs: 0\r\n                Skin Types: Scales\r\n                Common Pet: Yes\r\n                 */\r\n            } else if (aA1.equals(&quot;Large&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; (aAw1.equals(&quot;Oceans&quot;) | aAw1.equals(&quot;Seas&quot;)) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Skin&quot;) &amp;&amp; aAl1.equals(&quot;Dangerous&quot;) &amp;&amp; aA6.equals(&quot;No&quot;)) {\r\n                System.out.println(&quot;Shark!&quot;);\r\n                /*\r\n                Size: Large\r\n                Domain: Water\r\n                Body of Water: Oceans | Seas\r\n                Wings: No\r\n                Legs: 0\r\n                Skin Type: Skin\r\n                Danger Level: Dangerous\r\n                Common Pet: No\r\n                 */\r\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; (aA2.equals(&quot;Land&quot;)) &amp;&amp; (aA3.equals(&quot;No&quot;)) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Cities&quot;)) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Feline&quot;)) {\r\n                System.out.println(&quot;Cat!&quot;);\r\n                /*\r\n                Size: Small | Medium, Small | !Small\r\n                Domain: Land\r\n                Wings: No\r\n                Legs: 4\r\n                Home: Cities\r\n                Domesticated: Yes\r\n                Skin Type: Fur\r\n                Common Pet: Yes\r\n                 */\r\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; aAld1.equals(&quot;Cities&quot;) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Canine&quot;)) {\r\n                System.out.println(&quot;Dog!&quot;);\r\n                /*\r\n                Size: Small | Medium, Small | !Small\r\n                Domain: Land\r\n                Wings: No\r\n                Legs: 4\r\n                Home: Cities\r\n                Domesticated: Yes\r\n                Skin Type: Fur\r\n                Common Pet: Yes\r\n                 */\r\n            }else {\r\n                System.out.println(&quot;Sorry! That&#39;s not an animal we recognize yet. Better luck next time!&quot;);\r\n                System.exit(1);\r\n            }\r\n        }\r\n```\r\nIt works fine for the most part, but entering in all of the possible parameters is exhausting, and takes a ridiculous amount of time. Plus, there&#39;s still some bugs, which include some questions outputs being &quot;null&quot; due to the fact that they&#39;re only asked based on the answer given beforehand. For example, the question &quot;Does it live in the Mountains, Plains, Forests, Deserts, or Cities?&quot; is only asked if the user enters &quot;Land&quot; when asking if it lives on Land, in the Sky, or in the Water. The problem here is that people describe things differently. If the word was &quot;penguin&quot;, one person might say water, while another might say land. This messes up the algorithm when guessing if the word is penguin. (Does this make sense? I&#39;m not sure how else to explain it)\r\n\r\nBasically, I need to find a way to make the code considerably shorter while also solving the possibly null question output.\r\n","title":"Is there an easier way to input a lot of possible parameters into an else if statement?","body":"<p>I'm creating a game kind of like twenty one questions. The user is asked to think of a word: Food, Animal, or Object. The computer then asks a bunch of questions before eventually coming to the conclusion of what the word should be.</p>\n<p>Currently, I've got the code for the most part worked out like this:</p>\n<pre><code> //Guesses the animal based on given answers\n        if (a1.equals(&quot;Animal&quot;)) {\n            if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Plains&quot;) | aAld1.equals(&quot;Cities&quot;)) &amp;&amp; (aA5.equals(&quot;Fur&quot;) | aA5.equals(&quot;Hair&quot;)) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; (aAld2.equals(&quot;No&quot;))) {\n                System.out.println(&quot;Mouse!&quot;);\n                /*\n                Size: Small, Small\n                Domain: Land\n                Wings: No\n                Legs: 4\n                Home: Plains | Cities\n                Skin Type: Fur | Hair\n                Common Pet: Yes\n                Domesticated: No\n                 */\n            } else if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; aAw1.equals(&quot;Most&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Scales&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;)) {\n                System.out.println(&quot;Fish!&quot;);\n                /*\n                Size: Small, Small\n                Domain: Water\n                Body of Water: Most\n                Wings: No\n                Legs: 0\n                Skin Types: Scales\n                Common Pet: Yes\n                 */\n            } else if (aA1.equals(&quot;Large&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; (aAw1.equals(&quot;Oceans&quot;) | aAw1.equals(&quot;Seas&quot;)) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Skin&quot;) &amp;&amp; aAl1.equals(&quot;Dangerous&quot;) &amp;&amp; aA6.equals(&quot;No&quot;)) {\n                System.out.println(&quot;Shark!&quot;);\n                /*\n                Size: Large\n                Domain: Water\n                Body of Water: Oceans | Seas\n                Wings: No\n                Legs: 0\n                Skin Type: Skin\n                Danger Level: Dangerous\n                Common Pet: No\n                 */\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; (aA2.equals(&quot;Land&quot;)) &amp;&amp; (aA3.equals(&quot;No&quot;)) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Cities&quot;)) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Feline&quot;)) {\n                System.out.println(&quot;Cat!&quot;);\n                /*\n                Size: Small | Medium, Small | !Small\n                Domain: Land\n                Wings: No\n                Legs: 4\n                Home: Cities\n                Domesticated: Yes\n                Skin Type: Fur\n                Common Pet: Yes\n                 */\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; aAld1.equals(&quot;Cities&quot;) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Canine&quot;)) {\n                System.out.println(&quot;Dog!&quot;);\n                /*\n                Size: Small | Medium, Small | !Small\n                Domain: Land\n                Wings: No\n                Legs: 4\n                Home: Cities\n                Domesticated: Yes\n                Skin Type: Fur\n                Common Pet: Yes\n                 */\n            }else {\n                System.out.println(&quot;Sorry! That's not an animal we recognize yet. Better luck next time!&quot;);\n                System.exit(1);\n            }\n        }\n</code></pre>\n<p>It works fine for the most part, but entering in all of the possible parameters is exhausting, and takes a ridiculous amount of time. Plus, there's still some bugs, which include some questions outputs being &quot;null&quot; due to the fact that they're only asked based on the answer given beforehand. For example, the question &quot;Does it live in the Mountains, Plains, Forests, Deserts, or Cities?&quot; is only asked if the user enters &quot;Land&quot; when asking if it lives on Land, in the Sky, or in the Water. The problem here is that people describe things differently. If the word was &quot;penguin&quot;, one person might say water, while another might say land. This messes up the algorithm when guessing if the word is penguin. (Does this make sense? I'm not sure how else to explain it)</p>\n<p>Basically, I need to find a way to make the code considerably shorter while also solving the possibly null question output.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690470460,"post_id":76781092,"comment_id":135361390,"body_markdown":"The regex itself is fine. I&#39;d expect it to be in a Spring annotation in a Controller endpoint, though.","body":"The regex itself is fine. I&#39;d expect it to be in a Spring annotation in a Controller endpoint, though."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690471844,"creation_date":1690471477,"answer_id":76781278,"question_id":76781092,"body_markdown":"&gt; How to compare the URL with pathVariable in Java (with Regex) ?\r\n\r\nOne practice is to use combination of `Matcher.find()` and `Matcher.group()`, when you perform a match on a string using a regular expression pattern and a `Matcher` object, the `group()` method returns the substring that was matched by the entire pattern, as an instance i&#39;m interested in `request` (note that not `/request`)\r\n\r\n\r\n    String url = &quot;https://ireallydontcare.com/request&quot;;\r\n    String pathVariable = &quot;request&quot;;\r\n    String regex = &quot;^https:\\\\/\\\\/ireallydontcare\\\\.com\\\\/(.*)$&quot;;\r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(url);\r\n    return matcher.find() &amp;&amp; matcher.group(1).equals(pathVariable)\r\n           \r\n\r\nAlso the `@RequestMapping` can include regular expressions to match specific URL patterns.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    @GetMapping(&quot;/{key:\\\\d(4,5)}/request&quot;)\r\n    public String getUserById(@PathVariable(&quot;key&quot;) String key) {\r\n        ...\r\n    }\r\n\r\n\r\n","title":"How to compare the URL with pathVariable in Java","body":"<blockquote>\n<p>How to compare the URL with pathVariable in Java (with Regex) ?</p>\n</blockquote>\n<p>One practice is to use combination of <code>Matcher.find()</code> and <code>Matcher.group()</code>, when you perform a match on a string using a regular expression pattern and a <code>Matcher</code> object, the <code>group()</code> method returns the substring that was matched by the entire pattern, as an instance i'm interested in <code>request</code> (note that not <code>/request</code>)</p>\n<pre><code>String url = &quot;https://ireallydontcare.com/request&quot;;\nString pathVariable = &quot;request&quot;;\nString regex = &quot;^https:\\\\/\\\\/ireallydontcare\\\\.com\\\\/(.*)$&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(url);\nreturn matcher.find() &amp;&amp; matcher.group(1).equals(pathVariable)\n       \n</code></pre>\n<p>Also the <code>@RequestMapping</code> can include regular expressions to match specific URL patterns.</p>\n\n<pre><code>@GetMapping(&quot;/{key:\\\\d(4,5)}/request&quot;)\npublic String getUserById(@PathVariable(&quot;key&quot;) String key) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76781278,"answer_count":1,"score":-1,"last_activity_date":1690478492,"creation_date":1690470344,"question_id":76781092,"body_markdown":"I am keeping `/{id}/request` in the property file, and I will get `/3210/request` as a string value from the request. Could you please help to achieve this?\r\n\r\nI have tried the below pattern match, and it&#39;s working fine, but I want to know if there is any other better way to achieve this.\r\n\r\n    boolean regex=&quot;/1234/request&quot;.matches(&quot;/\\\\d{4,5}/request&quot;);\r\n\r\n","title":"How to compare the URL with pathVariable in Java","body":"<p>I am keeping <code>/{id}/request</code> in the property file, and I will get <code>/3210/request</code> as a string value from the request. Could you please help to achieve this?</p>\n<p>I have tried the below pattern match, and it's working fine, but I want to know if there is any other better way to achieve this.</p>\n<pre><code>boolean regex=&quot;/1234/request&quot;.matches(&quot;/\\\\d{4,5}/request&quot;);\n</code></pre>\n"},{"tags":["java","android","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646676467,"creation_date":1646615438,"answer_id":71375488,"question_id":71374425,"body_markdown":"First - bear in mind support for dynamic theming was added in Android 12 (**API 31**) and not all manufacturers support it yet, much less a compatibility implementation for lower versions.\r\n\r\nHere is the documentation on how to [use dynamic colors][1] in general, including theme overlay and activity color overlay.\r\n\r\nIf you want to create themed views it&#39;s easier to use appropriate `DynamicColor` theme or at least wrapped context to inflate them and let them get stylized accordingly.\r\n\r\nTo just get specific colors you need to use last step - wrap a context with `DynamicColors` theme:\r\n\r\n```java\r\nif (DynamicColors.isDynamicColorAvailable()) {\r\n    // if your base context is already using Material3 theme you can omit R.style argument\r\n    Context dynamicColorContext = DynamicColors.wrapContextIfAvailable(context, R.style.ThemeOverlay_Material3_DynamicColors_DayNight);\r\n    // define attributes to resolve in an array\r\n    int[] attrsToResolve = {\r\n            R.attr.colorPrimary,    // 0\r\n            R.attr.colorOnPrimary,  // 1\r\n            R.attr.colorSecondary,  // 2\r\n            R.attr.colorAccent      // 3\r\n    };\r\n    // now resolve them\r\n    TypedArray ta = dynamicColorContext.obtainStyledAttributes(attrsToResolve);\r\n    int primary   = ta.getColor(0, 0);\r\n    int onPrimary = ta.getColor(1, 0);\r\n    int secondary = ta.getColor(2, 0);\r\n    int accent    = ta.getColor(3, 0);\r\n    ta.recycle();   // recycle TypedArray\r\n\r\n    // here you can consume dynamic colors\r\n}\r\n```\r\n\r\n  [1]: https://m3.material.io/libraries/mdc-android/color-theming#using-dynamic-colors","title":"How to get Material3 primary/accent colors programmatically?","body":"<p>First - bear in mind support for dynamic theming was added in Android 12 (<strong>API 31</strong>) and not all manufacturers support it yet, much less a compatibility implementation for lower versions.</p>\n<p>Here is the documentation on how to <a href=\"https://m3.material.io/libraries/mdc-android/color-theming#using-dynamic-colors\" rel=\"noreferrer\">use dynamic colors</a> in general, including theme overlay and activity color overlay.</p>\n<p>If you want to create themed views it's easier to use appropriate <code>DynamicColor</code> theme or at least wrapped context to inflate them and let them get stylized accordingly.</p>\n<p>To just get specific colors you need to use last step - wrap a context with <code>DynamicColors</code> theme:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (DynamicColors.isDynamicColorAvailable()) {\n    // if your base context is already using Material3 theme you can omit R.style argument\n    Context dynamicColorContext = DynamicColors.wrapContextIfAvailable(context, R.style.ThemeOverlay_Material3_DynamicColors_DayNight);\n    // define attributes to resolve in an array\n    int[] attrsToResolve = {\n            R.attr.colorPrimary,    // 0\n            R.attr.colorOnPrimary,  // 1\n            R.attr.colorSecondary,  // 2\n            R.attr.colorAccent      // 3\n    };\n    // now resolve them\n    TypedArray ta = dynamicColorContext.obtainStyledAttributes(attrsToResolve);\n    int primary   = ta.getColor(0, 0);\n    int onPrimary = ta.getColor(1, 0);\n    int secondary = ta.getColor(2, 0);\n    int accent    = ta.getColor(3, 0);\n    ta.recycle();   // recycle TypedArray\n\n    // here you can consume dynamic colors\n}\n</code></pre>\n"}],"owner":{"account_id":9533601,"reputation":538,"user_id":13564911,"display_name":"Regex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1879,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71375488,"answer_count":1,"score":2,"last_activity_date":1690478492,"creation_date":1646602677,"question_id":71374425,"body_markdown":"Google introduced Material 3 which allows the user to choose a color to apply for the whole system theme, but their documentation isn&#39;t clear and didn&#39;t mention how to get current colors programmatically to use for the app such as changing a view&#39;s background color or text color.\r\n\r\nE.g.: `view.setBackgroundColor(Material3.getPrimaryColor());`\r\n\r\nOf course `Material3.getPrimaryColor()` doesn&#39;t exist and it is just an example of what I need.\r\n\r\nAny help is appreciated, thanks.","title":"How to get Material3 primary/accent colors programmatically?","body":"<p>Google introduced Material 3 which allows the user to choose a color to apply for the whole system theme, but their documentation isn't clear and didn't mention how to get current colors programmatically to use for the app such as changing a view's background color or text color.</p>\n<p>E.g.: <code>view.setBackgroundColor(Material3.getPrimaryColor());</code></p>\n<p>Of course <code>Material3.getPrimaryColor()</code> doesn't exist and it is just an example of what I need.</p>\n<p>Any help is appreciated, thanks.</p>\n"},{"tags":["java","android","switch-statement"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1328084286,"post_id":9092712,"comment_id":11419048,"body_markdown":"Can you provide the definition of `R.id.playbtn` etc.?  Is everything static and final?","body":"Can you provide the definition of <code>R.id.playbtn</code> etc.?  Is everything static and final?"},{"owner":{"account_id":342751,"reputation":3380,"user_id":674066,"display_name":"Vicente Plata"},"score":2,"creation_date":1328084397,"post_id":9092712,"comment_id":11419080,"body_markdown":"Probably you deleted/modified your layout and those ids don&#39;t exist anymore or something like that...","body":"Probably you deleted/modified your layout and those ids don&#39;t exist anymore or something like that..."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1328084407,"post_id":9092712,"comment_id":11419083,"body_markdown":"The class `R` is typically generated by the IDE/dev tools, so it&#39;s usually correct for the version of Android in use.","body":"The class <code>R</code> is typically generated by the IDE/dev tools, so it&#39;s usually correct for the version of Android in use."},{"owner":{"account_id":1069128,"reputation":1797,"user_id":1068827,"accept_rate":80,"display_name":"HeartlessArchangel"},"score":0,"creation_date":1328087779,"post_id":9092712,"comment_id":11419884,"body_markdown":"my R.id.* are all fine and exist in the gen class of android.. and its also in the main layout.","body":"my R.id.* are all fine and exist in the gen class of android.. and its also in the main layout."}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1328084448,"creation_date":1328084448,"answer_id":9092751,"question_id":9092712,"body_markdown":"R.id.*, since ADT 14 are not more declared as final static int so you can not use in switch case construct. You could use if else clause instead.","title":"switch case statement error: case expressions must be constant expression","body":"<p>R.id.*, since ADT 14 are not more declared as final static int so you can not use in switch case construct. You could use if else clause instead.</p>\n"},{"tags":[],"owner":{"account_id":1131432,"reputation":25505,"user_id":1117415,"display_name":"Benito Bertoli"},"down_vote_count":0,"up_vote_count":305,"is_accepted":true,"score":305,"last_activity_date":1432190134,"creation_date":1328089194,"answer_id":9093594,"question_id":9092712,"body_markdown":"In a regular Android project, constants in the resource R class are declared like this:\r\n\r\n    public static final int main=0x7f030004;\r\n\r\nHowever, as of ADT 14, in a library project, they will be declared like this:\r\n\r\n    public static int main=0x7f030004;\r\n\r\nIn other words, the constants are not final in a library project.\r\nTherefore your code would no longer compile.\r\n\r\nThe solution for this is simple: Convert the switch statement into an if-else statement.\r\n\r\n    public void onClick(View src)\r\n    {\r\n        int id = src.getId();\r\n        if (id == R.id.playbtn){\r\n            checkwificonnection();\r\n        } else if (id == R.id.stopbtn){\r\n            Log.d(TAG, &quot;onClick: stopping srvice&quot;);\r\n            Playbutton.setImageResource(R.drawable.playbtn1);\r\n            Playbutton.setVisibility(0); //visible\r\n            Stopbutton.setVisibility(4); //invisible\r\n            stopService(new Intent(RakistaRadio.this,myservice.class));\r\n            clearstatusbar();\r\n            timer.cancel();\r\n            Title.setText(&quot; &quot;);\r\n            Artist.setText(&quot; &quot;);\r\n        } else if (id == R.id.btnmenu){\r\n            openOptionsMenu();\r\n        }\r\n    }\r\n\r\nhttp://tools.android.com/tips/non-constant-fields\r\n\r\n\r\nYou can quickly convert a `switch` statement to an `if-else` statement using the following:\r\n\r\n**In Eclipse**&lt;br /&gt;\r\nMove your cursor to the `switch` keyword and press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;1&lt;/kbd&gt; then select \r\n&gt; Convert &#39;switch&#39; to &#39;if-else&#39;.\r\n\r\n**In Android Studio**&lt;br /&gt;\r\nMove your cursor to the `switch` keyword and press &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; then select \r\n&gt; Replace &#39;switch&#39; with &#39;if&#39;.","title":"switch case statement error: case expressions must be constant expression","body":"<p>In a regular Android project, constants in the resource R class are declared like this:</p>\n\n<pre><code>public static final int main=0x7f030004;\n</code></pre>\n\n<p>However, as of ADT 14, in a library project, they will be declared like this:</p>\n\n<pre><code>public static int main=0x7f030004;\n</code></pre>\n\n<p>In other words, the constants are not final in a library project.\nTherefore your code would no longer compile.</p>\n\n<p>The solution for this is simple: Convert the switch statement into an if-else statement.</p>\n\n<pre><code>public void onClick(View src)\n{\n    int id = src.getId();\n    if (id == R.id.playbtn){\n        checkwificonnection();\n    } else if (id == R.id.stopbtn){\n        Log.d(TAG, \"onClick: stopping srvice\");\n        Playbutton.setImageResource(R.drawable.playbtn1);\n        Playbutton.setVisibility(0); //visible\n        Stopbutton.setVisibility(4); //invisible\n        stopService(new Intent(RakistaRadio.this,myservice.class));\n        clearstatusbar();\n        timer.cancel();\n        Title.setText(\" \");\n        Artist.setText(\" \");\n    } else if (id == R.id.btnmenu){\n        openOptionsMenu();\n    }\n}\n</code></pre>\n\n<p><a href=\"http://tools.android.com/tips/non-constant-fields\" rel=\"noreferrer\">http://tools.android.com/tips/non-constant-fields</a></p>\n\n<p>You can quickly convert a <code>switch</code> statement to an <code>if-else</code> statement using the following:</p>\n\n<p><strong>In Eclipse</strong><br />\nMove your cursor to the <code>switch</code> keyword and press <kbd>Ctrl</kbd> + <kbd>1</kbd> then select </p>\n\n<blockquote>\n  <p>Convert 'switch' to 'if-else'.</p>\n</blockquote>\n\n<p><strong>In Android Studio</strong><br />\nMove your cursor to the <code>switch</code> keyword and press <kbd>Alt</kbd> + <kbd>Enter</kbd> then select </p>\n\n<blockquote>\n  <p>Replace 'switch' with 'if'.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":930737,"reputation":2842,"user_id":960668,"accept_rate":58,"display_name":"Muhammad Riyaz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371580586,"creation_date":1371580586,"answer_id":17176354,"question_id":9092712,"body_markdown":"I would like to mention that, I came across the same situation when I tried adding a library into my project. All of a sudden all switch statements started to show errors!\r\n\r\nNow I tried to remove the library which I added, even then it did not work.\r\nhow ever &quot;**when I cleaned the project**&quot; all the errors just went off !\r\n\r\n","title":"switch case statement error: case expressions must be constant expression","body":"<p>I would like to mention that, I came across the same situation when I tried adding a library into my project. All of a sudden all switch statements started to show errors!</p>\n\n<p>Now I tried to remove the library which I added, even then it did not work.\nhow ever \"<strong>when I cleaned the project</strong>\" all the errors just went off !</p>\n"},{"tags":[],"owner":{"account_id":3280979,"reputation":1115,"user_id":2761599,"accept_rate":83,"display_name":"aimiliano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378826457,"creation_date":1378820255,"answer_id":18720500,"question_id":9092712,"body_markdown":"It was throwing me this error when I using switch in a function with variables declared in my class:\r\n\r\n    private void ShowCalendar(final Activity context, Point p, int type) \r\n    {\r\n        switch (type) {\r\n            case type_cat:\r\n                break;\r\n\r\n            case type_region:\r\n                break;\r\n                \r\n            case type_city:\r\n                break;\r\n\r\n            default:\r\n                //sth\r\n                break;\r\n        }\r\n    }\r\n\r\nThe problem was solved when I declared `final` to the variables in the start of the class:\r\n\r\n    final int type_cat=1, type_region=2, type_city=3;","title":"switch case statement error: case expressions must be constant expression","body":"<p>It was throwing me this error when I using switch in a function with variables declared in my class:</p>\n\n<pre><code>private void ShowCalendar(final Activity context, Point p, int type) \n{\n    switch (type) {\n        case type_cat:\n            break;\n\n        case type_region:\n            break;\n\n        case type_city:\n            break;\n\n        default:\n            //sth\n            break;\n    }\n}\n</code></pre>\n\n<p>The problem was solved when I declared <code>final</code> to the variables in the start of the class:</p>\n\n<pre><code>final int type_cat=1, type_region=2, type_city=3;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3543935,"reputation":529,"user_id":2960366,"display_name":"rick"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1383740119,"creation_date":1383740119,"answer_id":19811891,"question_id":9092712,"body_markdown":"Unchecking &quot;Is Library&quot; in the project Properties worked for me. ","title":"switch case statement error: case expressions must be constant expression","body":"<p>Unchecking \"Is Library\" in the project Properties worked for me. </p>\n"},{"tags":[],"owner":{"account_id":208093,"reputation":14107,"user_id":458365,"accept_rate":75,"display_name":"pablisco"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1394536897,"creation_date":1394536897,"answer_id":22324238,"question_id":9092712,"body_markdown":"How about this other solution to keep the nice switch instead of an if-else:\r\n\r\n    private enum LayoutElement {\r\n\t\tNONE(-1),\r\n\t\tPLAY_BUTTON(R.id.playbtn),\r\n\t\tSTOP_BUTTON(R.id.stopbtn),\r\n\t\tMENU_BUTTON(R.id.btnmenu);\r\n\r\n\t\tprivate static class _ {\r\n\t\t\tstatic SparseArray&lt;LayoutElement&gt; elements = new SparseArray&lt;LayoutElement&gt;();\r\n\t\t}\r\n\r\n\t\tLayoutElement(int id) {\r\n\t\t\t_.elements.put(id, this);\r\n\t\t}\r\n\r\n\t\tpublic static LayoutElement from(View view) {\r\n\t\t\treturn _.elements.get(view.getId(), NONE);\r\n\t\t}\r\n\r\n\t}\r\n\r\nSo in your code you can do this:\r\n\r\n    public void onClick(View src) {\r\n        switch(LayoutElement.from(src)) {\r\n        case PLAY_BUTTTON:\r\n            checkwificonnection();\r\n            break;\r\n\r\n        case STOP_BUTTON:\r\n            Log.d(TAG, &quot;onClick: stopping srvice&quot;);\r\n            Playbutton.setImageResource(R.drawable.playbtn1);\r\n            Playbutton.setVisibility(0); //visible\r\n            Stopbutton.setVisibility(4); //invisible\r\n            stopService(new Intent(RakistaRadio.this,myservice.class));\r\n            clearstatusbar();\r\n            timer.cancel();\r\n            Title.setText(&quot; &quot;);\r\n            Artist.setText(&quot; &quot;);\r\n            break;\r\n\r\n        case MENU_BUTTON:\r\n            openOptionsMenu();\r\n            break;\r\n        }\r\n    }\r\n\r\nEnums are static so this will have very limited impact. The only window for concern would be the double lookup involved (first on the internal SparseArray and later on the switch table)\r\n\r\nThat said, this enum can also be utilised to fetch the items in a fluent manner, if needed by keeping a reference to the id... but that&#39;s a story for some other time.","title":"switch case statement error: case expressions must be constant expression","body":"<p>How about this other solution to keep the nice switch instead of an if-else:</p>\n\n<pre><code>private enum LayoutElement {\n    NONE(-1),\n    PLAY_BUTTON(R.id.playbtn),\n    STOP_BUTTON(R.id.stopbtn),\n    MENU_BUTTON(R.id.btnmenu);\n\n    private static class _ {\n        static SparseArray&lt;LayoutElement&gt; elements = new SparseArray&lt;LayoutElement&gt;();\n    }\n\n    LayoutElement(int id) {\n        _.elements.put(id, this);\n    }\n\n    public static LayoutElement from(View view) {\n        return _.elements.get(view.getId(), NONE);\n    }\n\n}\n</code></pre>\n\n<p>So in your code you can do this:</p>\n\n<pre><code>public void onClick(View src) {\n    switch(LayoutElement.from(src)) {\n    case PLAY_BUTTTON:\n        checkwificonnection();\n        break;\n\n    case STOP_BUTTON:\n        Log.d(TAG, \"onClick: stopping srvice\");\n        Playbutton.setImageResource(R.drawable.playbtn1);\n        Playbutton.setVisibility(0); //visible\n        Stopbutton.setVisibility(4); //invisible\n        stopService(new Intent(RakistaRadio.this,myservice.class));\n        clearstatusbar();\n        timer.cancel();\n        Title.setText(\" \");\n        Artist.setText(\" \");\n        break;\n\n    case MENU_BUTTON:\n        openOptionsMenu();\n        break;\n    }\n}\n</code></pre>\n\n<p>Enums are static so this will have very limited impact. The only window for concern would be the double lookup involved (first on the internal SparseArray and later on the switch table)</p>\n\n<p>That said, this enum can also be utilised to fetch the items in a fluent manner, if needed by keeping a reference to the id... but that's a story for some other time.</p>\n"},{"tags":[],"owner":{"account_id":1663778,"reputation":10555,"user_id":1564065,"accept_rate":44,"display_name":"Pir Fahim Shah"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395562446,"creation_date":1395562446,"answer_id":22588489,"question_id":9092712,"body_markdown":"Simple solution for this problem is :\r\n\r\nClick on the **switch** and then press **CTL+1,** It will change your switch to if-else block statement, and will resolve your problem","title":"switch case statement error: case expressions must be constant expression","body":"<p>Simple solution for this problem is :</p>\n\n<p>Click on the <strong>switch</strong> and then press <strong>CTL+1,</strong> It will change your switch to if-else block statement, and will resolve your problem</p>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1454319871,"creation_date":1454319871,"answer_id":35127281,"question_id":9092712,"body_markdown":"Solution can be done be this way:\r\n\r\n 1. Just **assign** the **value** to **Integer**\r\n 2. Make **variable** to **final**\r\n\r\n**Example:**\r\n\r\n    public static final int cameraRequestCode = 999;\r\n\r\nHope this will help you.\r\n\r\n\r\n","title":"switch case statement error: case expressions must be constant expression","body":"<p>Solution can be done be this way:</p>\n\n<ol>\n<li>Just <strong>assign</strong> the <strong>value</strong> to <strong>Integer</strong></li>\n<li>Make <strong>variable</strong> to <strong>final</strong></li>\n</ol>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public static final int cameraRequestCode = 999;\n</code></pre>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":3628416,"reputation":260,"user_id":4790495,"display_name":"Manoj Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603344893,"creation_date":1603344893,"answer_id":64475884,"question_id":9092712,"body_markdown":"Simply declare your variable to **final**","title":"switch case statement error: case expressions must be constant expression","body":"<p>Simply declare your variable to <strong>final</strong></p>\n"},{"tags":[],"owner":{"account_id":392004,"reputation":4854,"user_id":753000,"accept_rate":38,"display_name":"Till - Appviewer.io"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1690478404,"creation_date":1690478404,"answer_id":76782115,"question_id":9092712,"body_markdown":"Note for 2023+:\r\n==============\r\nWith Android Gradle Plugin 8.0.0 all your R-class resources [are by default no longer declared as final/constant][1] (hence won&#39;t work in switch statements).\r\nIf you use the AGP upgrade wizard in Android Studio, it will actually add this line to your gradle.properties to keep the old behavior:\r\n\r\n    android.nonFinalResIds=false\r\n\r\nBut if you don&#39;t use the wizard or start with a new project, this might come as a surprise. Add above&#39;s line manually or use if/else statements instead.\r\n\r\n  [1]: https://developer.android.com/build/optimize-your-build#use-non-constant-r-classes","title":"switch case statement error: case expressions must be constant expression","body":"<h1>Note for 2023+:</h1>\n<p>With Android Gradle Plugin 8.0.0 all your R-class resources <a href=\"https://developer.android.com/build/optimize-your-build#use-non-constant-r-classes\" rel=\"noreferrer\">are by default no longer declared as final/constant</a> (hence won't work in switch statements).\nIf you use the AGP upgrade wizard in Android Studio, it will actually add this line to your gradle.properties to keep the old behavior:</p>\n<pre><code>android.nonFinalResIds=false\n</code></pre>\n<p>But if you don't use the wizard or start with a new project, this might come as a surprise. Add above's line manually or use if/else statements instead.</p>\n"}],"owner":{"account_id":1069128,"reputation":1797,"user_id":1068827,"accept_rate":80,"display_name":"HeartlessArchangel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165137,"favorite_count":0,"down_vote_count":0,"up_vote_count":145,"accepted_answer_id":9093594,"answer_count":10,"score":145,"last_activity_date":1690478404,"creation_date":1328084143,"question_id":9092712,"body_markdown":"My switch-case statement works perfectly fine yesterday. But when I run the code earlier this morning eclipse gave me an error underlining the case statements in color red and says: case expressions must be constant expression, it is constant I don&#39;t know what happened. Here&#39;s my code below:\r\n\r\n    public void onClick(View src)\r\n        {\r\n        \tswitch(src.getId()) {\r\n        \tcase R.id.playbtn:\r\n    \t\t\tcheckwificonnection();\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n        \tcase R.id.stopbtn:\r\n        \t\tLog.d(TAG, &quot;onClick: stopping srvice&quot;);\r\n        \t\tPlaybutton.setImageResource(R.drawable.playbtn1);\r\n        \t\tPlaybutton.setVisibility(0); //visible\r\n    \t\t\tStopbutton.setVisibility(4); //invisible\r\n    \t\t\tstopService(new Intent(RakistaRadio.this,myservice.class));\r\n    \t\t\tclearstatusbar();\r\n    \t\t\ttimer.cancel();\r\n    \t\t\tTitle.setText(&quot; &quot;);\r\n    \t\t\tArtist.setText(&quot; &quot;);\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n        \tcase R.id.btnmenu:\r\n        \t\topenOptionsMenu();\r\n        \t\tbreak;\r\n        \t}\r\n        }\r\n\r\nAll R.id.int are all underlined in red.","title":"switch case statement error: case expressions must be constant expression","body":"<p>My switch-case statement works perfectly fine yesterday. But when I run the code earlier this morning eclipse gave me an error underlining the case statements in color red and says: case expressions must be constant expression, it is constant I don't know what happened. Here's my code below:</p>\n\n<pre><code>public void onClick(View src)\n    {\n        switch(src.getId()) {\n        case R.id.playbtn:\n            checkwificonnection();\n            break;\n\n        case R.id.stopbtn:\n            Log.d(TAG, \"onClick: stopping srvice\");\n            Playbutton.setImageResource(R.drawable.playbtn1);\n            Playbutton.setVisibility(0); //visible\n            Stopbutton.setVisibility(4); //invisible\n            stopService(new Intent(RakistaRadio.this,myservice.class));\n            clearstatusbar();\n            timer.cancel();\n            Title.setText(\" \");\n            Artist.setText(\" \");\n            break;\n\n        case R.id.btnmenu:\n            openOptionsMenu();\n            break;\n        }\n    }\n</code></pre>\n\n<p>All R.id.int are all underlined in red.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1511989842,"creation_date":1511989842,"answer_id":47561875,"question_id":47561048,"body_markdown":"You can use `NoneNestedConditions` to negate one or more nested conditions. Something like this:\r\n\r\n    class NoSomePropertyCondition extends NoneNestedConditions {\r\n    \r\n        NoSomePropertyCondition() {\r\n            super(ConfigurationPhase.PARSE_CONFIGURATION);\r\n        }\r\n    \r\n        @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n        static class SomePropertyCondition {\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\nYou can then use this custom condition on one of your bean methods:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n    public Apple createAppleX() {}\r\n\r\n    @Bean\r\n    @Conditional(NoSomePropertyCondition.class)\r\n    public Apple createAppleY() {}","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>You can use <code>NoneNestedConditions</code> to negate one or more nested conditions. Something like this:</p>\n\n<pre><code>class NoSomePropertyCondition extends NoneNestedConditions {\n\n    NoSomePropertyCondition() {\n        super(ConfigurationPhase.PARSE_CONFIGURATION);\n    }\n\n    @ConditionalOnProperty(\"some.property.text\")\n    static class SomePropertyCondition {\n\n    }\n\n}\n</code></pre>\n\n<p>You can then use this custom condition on one of your bean methods:</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\")\npublic Apple createAppleX() {}\n\n@Bean\n@Conditional(NoSomePropertyCondition.class)\npublic Apple createAppleY() {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":380946,"reputation":8170,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597010088,"creation_date":1538549031,"answer_id":52621151,"question_id":47561048,"body_markdown":"In the spirit of one-upmanship, Here is a more reusable annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ ElementType.TYPE, ElementType.METHOD })\r\n    @Conditional(ConditionalOnMissingProperty.MissingPropertyCondition.class)\r\n    public @interface ConditionalOnMissingProperty {\r\n\r\n        String PROPERTY_KEYS = &quot;propertyKeys&quot;;\r\n\r\n        @AliasFor(PROPERTY_KEYS)\r\n        String[] value() default {};\r\n\r\n        @AliasFor(&quot;value&quot;)\r\n        String[] propertyKeys() default {};\r\n\r\n        class MissingPropertyCondition extends SpringBootCondition {\r\n            @Override\r\n            public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n                String[] keys = (String[]) metadata.getAnnotationAttributes(ConditionalOnMissingProperty.class.getName()).get(PROPERTY_KEYS);\r\n                if (keys.length &gt; 0) {\r\n                    boolean allMissing = true;\r\n                    for (String key : keys) {\r\n                        String propertyValue = context.getEnvironment().getProperty(key);\r\n                        String propertyValueList = context.getEnvironment().getProperty(key + &quot;[0]&quot;); //in case of list\r\n                        allMissing &amp;= (StringUtils.isEmpty(propertyValue) &amp;&amp; StringUtils.isEmpty(propertyValueList));\r\n                    }\r\n                    if (allMissing) {\r\n                        return new ConditionOutcome(true, &quot;The following properties were all null or empty in the environment: &quot; + Arrays.toString(keys));\r\n                    }\r\n                    return new ConditionOutcome(false, &quot;one or more properties were found.&quot;);\r\n                } else {\r\n                    throw new RuntimeException(&quot;expected method annotated with &quot; + ConditionalOnMissingProperty.class.getName() + &quot; to include a non-empty &quot; + PROPERTY_KEYS + &quot; attribute&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnnotated beans or configuration are activated when one or more mentioned properties __all__ do not exist:\r\n\r\n    @ConditionalOnMissingProperty({&quot;app.foo.bar&quot;})\r\n    @Configuration\r\n    public class SomeConfiguration {\r\n      //... won&#39;t run if there is an app.foo.bar property with non-empty contents.\r\n    }\r\n\r\nLater if I add more comprehensive reporting to the false outcome, I&#39;ll add it here.","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>In the spirit of one-upmanship, Here is a more reusable annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.TYPE, ElementType.METHOD })\n@Conditional(ConditionalOnMissingProperty.MissingPropertyCondition.class)\npublic @interface ConditionalOnMissingProperty {\n\n    String PROPERTY_KEYS = &quot;propertyKeys&quot;;\n\n    @AliasFor(PROPERTY_KEYS)\n    String[] value() default {};\n\n    @AliasFor(&quot;value&quot;)\n    String[] propertyKeys() default {};\n\n    class MissingPropertyCondition extends SpringBootCondition {\n        @Override\n        public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\n            String[] keys = (String[]) metadata.getAnnotationAttributes(ConditionalOnMissingProperty.class.getName()).get(PROPERTY_KEYS);\n            if (keys.length &gt; 0) {\n                boolean allMissing = true;\n                for (String key : keys) {\n                    String propertyValue = context.getEnvironment().getProperty(key);\n                    String propertyValueList = context.getEnvironment().getProperty(key + &quot;[0]&quot;); //in case of list\n                    allMissing &amp;= (StringUtils.isEmpty(propertyValue) &amp;&amp; StringUtils.isEmpty(propertyValueList));\n                }\n                if (allMissing) {\n                    return new ConditionOutcome(true, &quot;The following properties were all null or empty in the environment: &quot; + Arrays.toString(keys));\n                }\n                return new ConditionOutcome(false, &quot;one or more properties were found.&quot;);\n            } else {\n                throw new RuntimeException(&quot;expected method annotated with &quot; + ConditionalOnMissingProperty.class.getName() + &quot; to include a non-empty &quot; + PROPERTY_KEYS + &quot; attribute&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Annotated beans or configuration are activated when one or more mentioned properties <strong>all</strong> do not exist:</p>\n<pre><code>@ConditionalOnMissingProperty({&quot;app.foo.bar&quot;})\n@Configuration\npublic class SomeConfiguration {\n  //... won't run if there is an app.foo.bar property with non-empty contents.\n}\n</code></pre>\n<p>Later if I add more comprehensive reporting to the false outcome, I'll add it here.</p>\n"},{"tags":[],"owner":{"account_id":14388066,"reputation":301,"user_id":10393457,"display_name":"SztefanWons"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1546722749,"creation_date":1546722749,"answer_id":54056313,"question_id":47561048,"body_markdown":"I was facing same problem and here is my solution:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n    public Apple createAppleX() {}\r\n    \r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;, matchIfMissing=true, havingValue=&quot;value_that_never_appears&quot;)\r\n    public Apple createAppleY() {}","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>I was facing same problem and here is my solution:</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\")\npublic Apple createAppleX() {}\n\n@Bean\n@ConditionalOnProperty(\"some.property.text\", matchIfMissing=true, havingValue=\"value_that_never_appears\")\npublic Apple createAppleY() {}\n</code></pre>\n"}],"owner":{"account_id":2259435,"reputation":275,"user_id":1989863,"accept_rate":55,"display_name":"XZen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30150,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":3,"score":23,"last_activity_date":1690478355,"creation_date":1511986504,"question_id":47561048,"body_markdown":"I have two factory methods:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n    public Apple createAppleX() {}\r\n\r\nand\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;, matchIfMissing=true)\r\n    public Apple createAppleY() {}\r\nIn case of not having &quot;some.property.text&quot; property at all - second method works fine and first one is ignored, which is desired behavior.\r\n\r\nIn case we have some string set to &quot;some.property.text&quot; - both methods are considered valid for producing Apple objects, which leads the application to fail with error &quot;No qualifying bean of type&quot;.\r\n\r\nIs it possible to avoid second method to be considered as factory method in case we have some value for the property? Especially, is it possible via annotations only? \r\n\r\n\r\n","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>I have two factory methods:</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\")\npublic Apple createAppleX() {}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\", matchIfMissing=true)\npublic Apple createAppleY() {}\n</code></pre>\n\n<p>In case of not having \"some.property.text\" property at all - second method works fine and first one is ignored, which is desired behavior.</p>\n\n<p>In case we have some string set to \"some.property.text\" - both methods are considered valid for producing Apple objects, which leads the application to fail with error \"No qualifying bean of type\".</p>\n\n<p>Is it possible to avoid second method to be considered as factory method in case we have some value for the property? Especially, is it possible via annotations only? </p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1411197719,"creation_date":1411197719,"answer_id":25946328,"question_id":25945900,"body_markdown":"You can tell exactly where this goes wrong. You cannot use File on such a path as it is not a path to a file on the file system. If the unzipper cannot be invoked by offering an InputStream then you have to copy the &#39;file&#39; from res/raw to the file system first. ","title":"apache poi error zip file is closed","body":"<p>You can tell exactly where this goes wrong. You cannot use File on such a path as it is not a path to a file on the file system. If the unzipper cannot be invoked by offering an InputStream then you have to copy the 'file' from res/raw to the file system first. </p>\n"},{"tags":[],"owner":{"account_id":29087172,"reputation":11,"user_id":22281864,"display_name":"vicky chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690478352,"creation_date":1690282015,"answer_id":76761947,"question_id":25945900,"body_markdown":"Try this: \r\ninstead of using `File`, use `InputStream`.\r\nFor example: \r\n```\r\nXSSFWorkbook workbook = new XSSFWorkbook(new ClassPathResource(&quot;/apiLogDtlsReport.xlsx&quot;).getInputStream());\r\n```","title":"apache poi error zip file is closed","body":"<p>Try this:\ninstead of using <code>File</code>, use <code>InputStream</code>.\nFor example:</p>\n<pre><code>XSSFWorkbook workbook = new XSSFWorkbook(new ClassPathResource(&quot;/apiLogDtlsReport.xlsx&quot;).getInputStream());\n</code></pre>\n"}],"owner":{"account_id":5057943,"reputation":221,"user_id":4060557,"accept_rate":45,"display_name":"Douglas Johgn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25946328,"answer_count":2,"score":1,"last_activity_date":1690478352,"creation_date":1411194036,"question_id":25945900,"body_markdown":"I&#39;m trying to open an excel `.xlsx` file using the apache poi libs but am encountering the error below. \r\n\r\nHere&#39;s the code for the part where the error is occurring. The `xlsx` file is stored in res/raw. What&#39;s happening here that is causing the error?\r\n\r\n                String folderdir = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.register_template;\r\n    //Workbook wb = WorkbookFactory.create(new File(folderdir));\r\n            OPCPackage xlsx = OPCPackage.open(new File(folderdir));//must be .xlsx file type\r\n            XSSFWorkbook xlsxwb = new XSSFWorkbook(xlsx);\r\n\r\n            xlsx.save(jobno_file);\r\n            xlsx.close();\r\n\r\n**Error code :**\r\n \r\n       09-20 16:12:07.039    5694-5694/ E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n        Process: , PID: 5694\r\n        java.lang.IllegalStateException: Could not execute method of the activity\r\n                at android.view.View$1.onClick(View.java:3823)\r\n                at android.view.View.performClick(View.java:4438)\r\n                at android.view.View$PerformClick.run(View.java:18422)\r\n                at android.os.Handler.handleCallback(Handler.java:733)\r\n                at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                at android.os.Looper.loop(Looper.java:136)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5001)\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:515)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n                at dalvik.system.NativeStart.main(Native Method)\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:515)\r\n                at android.view.View$1.onClick(View.java:3818)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View.performClick(View.java:4438)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View$PerformClick.run(View.java:18422)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.handleCallback(Handler.java:733)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:136)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5001)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:515)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at dalvik.system.NativeStart.main(Native Method)\r\n         Caused by: java.lang.IllegalStateException: Zip File is closed\r\n                at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getEntries(ZipFileZipEntrySource.java:45)\r\n                at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:182)\r\n                at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:665)\r\n                at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:253)\r\n                at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:200)\r\n                at au.com.prensa.prensa.generalinfo.save_register(generalinfo.java:83)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:515)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View$1.onClick(View.java:3818)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View.performClick(View.java:4438)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View$PerformClick.run(View.java:18422)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.handleCallback(Handler.java:733)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:136)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5001)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:515)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at dalvik.system.NativeStart.main(Native Method)","title":"apache poi error zip file is closed","body":"<p>I'm trying to open an excel <code>.xlsx</code> file using the apache poi libs but am encountering the error below. </p>\n\n<p>Here's the code for the part where the error is occurring. The <code>xlsx</code> file is stored in res/raw. What's happening here that is causing the error?</p>\n\n<pre><code>            String folderdir = \"android.resource://\" + getPackageName() + \"/\" + R.raw.register_template;\n//Workbook wb = WorkbookFactory.create(new File(folderdir));\n        OPCPackage xlsx = OPCPackage.open(new File(folderdir));//must be .xlsx file type\n        XSSFWorkbook xlsxwb = new XSSFWorkbook(xlsx);\n\n        xlsx.save(jobno_file);\n        xlsx.close();\n</code></pre>\n\n<p><strong>Error code :</strong></p>\n\n<pre><code>   09-20 16:12:07.039    5694-5694/ E/AndroidRuntime﹕ FATAL EXCEPTION: main\n    Process: , PID: 5694\n    java.lang.IllegalStateException: Could not execute method of the activity\n            at android.view.View$1.onClick(View.java:3823)\n            at android.view.View.performClick(View.java:4438)\n            at android.view.View$PerformClick.run(View.java:18422)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:136)\n            at android.app.ActivityThread.main(ActivityThread.java:5001)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n            at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.reflect.InvocationTargetException\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at android.view.View$1.onClick(View.java:3818)\n            at android.view.View.performClick(View.java:4438)\n            at android.view.View$PerformClick.run(View.java:18422)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:136)\n            at android.app.ActivityThread.main(ActivityThread.java:5001)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n            at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.IllegalStateException: Zip File is closed\n            at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getEntries(ZipFileZipEntrySource.java:45)\n            at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:182)\n            at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:665)\n            at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:253)\n            at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:200)\n            at au.com.prensa.prensa.generalinfo.save_register(generalinfo.java:83)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at android.view.View$1.onClick(View.java:3818)\n            at android.view.View.performClick(View.java:4438)\n            at android.view.View$PerformClick.run(View.java:18422)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:136)\n            at android.app.ActivityThread.main(ActivityThread.java:5001)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","android","resources","android-resources"],"comments":[{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":0,"creation_date":1330078616,"post_id":4427608,"comment_id":11923180,"body_markdown":"is it possible in similar way to getId of files saved to internal storage? I have problem cause I should supply array of ids instead of locations to my gallery (thought it&#39;s adapter).. thanks","body":"is it possible in similar way to getId of files saved to internal storage? I have problem cause I should supply array of ids instead of locations to my gallery (thought it&#39;s adapter).. thanks"},{"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"score":0,"creation_date":1330339420,"post_id":4427608,"comment_id":11973466,"body_markdown":"@Ewoks: They don&#39;t have IDs on internal storage. They&#39;re just images, if anything you need to load them into a bunch of Image objects and pass those, you might want to start a new question though.","body":"@Ewoks: They don&#39;t have IDs on internal storage. They&#39;re just images, if anything you need to load them into a bunch of Image objects and pass those, you might want to start a new question though."},{"owner":{"account_id":34325,"reputation":28826,"user_id":96944,"accept_rate":98,"display_name":"Jannie Theunissen"},"score":0,"creation_date":1434028630,"post_id":4427608,"comment_id":49613771,"body_markdown":"possible duplicate of [How to get a resource id with a known resource name?](http://stackoverflow.com/questions/3476430/how-to-get-a-resource-id-with-a-known-resource-name)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3476430/how-to-get-a-resource-id-with-a-known-resource-name\">How to get a resource id with a known resource name?</a>"}],"answers":[{"tags":[],"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1292234325,"creation_date":1292234325,"answer_id":4427642,"question_id":4427608,"body_markdown":"You can use `Resources.getIdentifier()`, although you need to use the format for your string as you use it in your XML files, i.e. `package:drawable/icon`.","title":"Android, getting resource ID from string?","body":"<p>You can use <code>Resources.getIdentifier()</code>, although you need to use the format for your string as you use it in your XML files, i.e. <code>package:drawable/icon</code>.</p>\n"},{"tags":[],"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"down_vote_count":4,"up_vote_count":202,"is_accepted":true,"score":198,"last_activity_date":1690477947,"creation_date":1292239300,"answer_id":4428288,"question_id":4427608,"body_markdown":"@EboMike: I didn&#39;t know that `Resources.getIdentifier()` existed.\r\n\r\nIn my projects I used the following code to do that:\r\n\r\n\tpublic static int getResId(String resName, Class&lt;?&gt; c) {\r\n\r\n\t\ttry {\r\n\t\t\tField idField = c.getDeclaredField(resName);\r\n\t\t\treturn idField.getInt(idField);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn -1;\r\n\t\t} \r\n\t}\r\n\r\nIt would be used like this for getting the value of `R.drawable.icon` resource integer value \r\n\r\n    int resID = getResId(&quot;icon&quot;, R.drawable.class); // or other resource class\r\n\r\n\r\nI just found a blog post saying that `Resources.getIdentifier()` is slower than using reflection like I did. [Check it out][1].\r\n\r\n**WARNING**: This solution will fail in the release build if code/resource shrinking is enabled as suggested by Google: https://developer.android.com/build/shrink-code  \r\nAlso, it might fail for some other cases, e.g. when you have `&lt;string name=&quot;string.name&quot;&gt;…&lt;/string&gt;` the actual field name will be `string_name` and not the `string.name` \r\n\r\n  [1]: http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html","title":"Android, getting resource ID from string?","body":"<p>@EboMike: I didn't know that <code>Resources.getIdentifier()</code> existed.</p>\n<p>In my projects I used the following code to do that:</p>\n<pre><code>public static int getResId(String resName, Class&lt;?&gt; c) {\n\n    try {\n        Field idField = c.getDeclaredField(resName);\n        return idField.getInt(idField);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return -1;\n    } \n}\n</code></pre>\n<p>It would be used like this for getting the value of <code>R.drawable.icon</code> resource integer value</p>\n<pre><code>int resID = getResId(&quot;icon&quot;, R.drawable.class); // or other resource class\n</code></pre>\n<p>I just found a blog post saying that <code>Resources.getIdentifier()</code> is slower than using reflection like I did. <a href=\"http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html\" rel=\"nofollow noreferrer\">Check it out</a>.</p>\n<p><strong>WARNING</strong>: This solution will fail in the release build if code/resource shrinking is enabled as suggested by Google: <a href=\"https://developer.android.com/build/shrink-code\" rel=\"nofollow noreferrer\">https://developer.android.com/build/shrink-code</a><br />\nAlso, it might fail for some other cases, e.g. when you have <code>&lt;string name=&quot;string.name&quot;&gt;…&lt;/string&gt;</code> the actual field name will be <code>string_name</code> and not the <code>string.name</code></p>\n"},{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1305407296,"creation_date":1305407296,"answer_id":6004785,"question_id":4427608,"body_markdown":"If you need to pair a string and an int, then how about a Map?\r\n\r\n    static Map&lt;String, Integer&gt; icons = new HashMap&lt;String, Integer&gt;();\r\n\r\n    static {\r\n        icons.add(&quot;icon1&quot;, R.drawable.icon);\r\n        icons.add(&quot;icon2&quot;, R.drawable.othericon);\r\n        icons.add(&quot;someicon&quot;, R.drawable.whatever);\r\n    }","title":"Android, getting resource ID from string?","body":"<p>If you need to pair a string and an int, then how about a Map?</p>\n\n<pre><code>static Map&lt;String, Integer&gt; icons = new HashMap&lt;String, Integer&gt;();\n\nstatic {\n    icons.add(\"icon1\", R.drawable.icon);\n    icons.add(\"icon2\", R.drawable.othericon);\n    icons.add(\"someicon\", R.drawable.whatever);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":436374,"reputation":592,"user_id":823502,"display_name":"Martin Pearman"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1473181713,"creation_date":1334200218,"answer_id":10116885,"question_id":4427608,"body_markdown":"How to get an **application** resource id from the resource name is quite a common and well answered question.\r\n\r\nHow to get a **native Android** resource id from the resource name is less well answered.\r\nHere&#39;s my solution to get an Android drawable resource by resource name:\r\n\r\n    public static Drawable getAndroidDrawable(String pDrawableName){\r\n    \tint resourceId=Resources.getSystem().getIdentifier(pDrawableName, &quot;drawable&quot;, &quot;android&quot;);\r\n    \tif(resourceId==0){\r\n    \t\treturn null;\r\n    \t} else {\r\n    \t\treturn Resources.getSystem().getDrawable(resourceId);\r\n    \t}\r\n    }\r\n\r\nThe method can be modified to access other types of resources.\r\n","title":"Android, getting resource ID from string?","body":"<p>How to get an <strong>application</strong> resource id from the resource name is quite a common and well answered question.</p>\n\n<p>How to get a <strong>native Android</strong> resource id from the resource name is less well answered.\nHere's my solution to get an Android drawable resource by resource name:</p>\n\n<pre><code>public static Drawable getAndroidDrawable(String pDrawableName){\n    int resourceId=Resources.getSystem().getIdentifier(pDrawableName, \"drawable\", \"android\");\n    if(resourceId==0){\n        return null;\n    } else {\n        return Resources.getSystem().getDrawable(resourceId);\n    }\n}\n</code></pre>\n\n<p>The method can be modified to access other types of resources.</p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1424877368,"creation_date":1373656372,"answer_id":17622392,"question_id":4427608,"body_markdown":"*This is based on @Macarse answer.*\r\n\r\nUse this to get the resources Id in a more faster and code friendly way.\r\n\r\n\tpublic static int getId(String resourceName, Class&lt;?&gt; c) {\r\n\t\ttry {\r\n\t\t\tField idField = c.getDeclaredField(resourceName);\r\n\t\t\treturn idField.getInt(idField);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(&quot;No resource ID found for: &quot;\r\n\t\t\t\t\t+ resourceName + &quot; / &quot; + c, e);\r\n\t\t}\r\n\t}\r\n\r\nExample:\r\n\r\n    getId(&quot;icon&quot;, R.drawable.class);","title":"Android, getting resource ID from string?","body":"<p><em>This is based on @Macarse answer.</em></p>\n\n<p>Use this to get the resources Id in a more faster and code friendly way.</p>\n\n<pre><code>public static int getId(String resourceName, Class&lt;?&gt; c) {\n    try {\n        Field idField = c.getDeclaredField(resourceName);\n        return idField.getInt(idField);\n    } catch (Exception e) {\n        throw new RuntimeException(\"No resource ID found for: \"\n                + resourceName + \" / \" + c, e);\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>getId(\"icon\", R.drawable.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1374846548,"creation_date":1374846548,"answer_id":17883089,"question_id":4427608,"body_markdown":"I did like this, it is working for me:\r\n\r\n        imageView.setImageResource(context.getResources().\r\n             getIdentifier(&quot;drawable/apple&quot;, null, context.getPackageName()));","title":"Android, getting resource ID from string?","body":"<p>I did like this, it is working for me:</p>\n\n<pre><code>    imageView.setImageResource(context.getResources().\n         getIdentifier(\"drawable/apple\", null, context.getPackageName()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81032,"reputation":20540,"user_id":228755,"accept_rate":99,"display_name":"Azhar"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1385483051,"creation_date":1380541686,"answer_id":19093447,"question_id":4427608,"body_markdown":"You can use this function to get resource ID.\r\n\r\n    public static int getResourceId(String pVariableName, String pResourcename, String pPackageName) \r\n    {\r\n        try {\r\n            return getResources().getIdentifier(pVariableName, pResourcename, pPackageName);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return -1;\r\n        } \r\n    }\r\n\r\nSo if you want to get for **drawable** call function like this\r\n\r\n    getResourceId(&quot;myIcon&quot;, &quot;drawable&quot;, getPackageName());\r\n\r\nand for string you can call it like this\r\n\r\n    getResourceId(&quot;myAppName&quot;, &quot;string&quot;, getPackageName());\r\n\r\n[Read this][1]\r\n\r\n\r\n  [1]: http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html","title":"Android, getting resource ID from string?","body":"<p>You can use this function to get resource ID.</p>\n\n<pre><code>public static int getResourceId(String pVariableName, String pResourcename, String pPackageName) \n{\n    try {\n        return getResources().getIdentifier(pVariableName, pResourcename, pPackageName);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return -1;\n    } \n}\n</code></pre>\n\n<p>So if you want to get for <strong>drawable</strong> call function like this</p>\n\n<pre><code>getResourceId(\"myIcon\", \"drawable\", getPackageName());\n</code></pre>\n\n<p>and for string you can call it like this</p>\n\n<pre><code>getResourceId(\"myAppName\", \"string\", getPackageName());\n</code></pre>\n\n<p><a href=\"http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html\">Read this</a></p>\n"},{"tags":[],"owner":{"account_id":2534527,"reputation":2902,"user_id":2202013,"accept_rate":68,"display_name":"Steve Waring"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1406964768,"creation_date":1406964768,"answer_id":25092792,"question_id":4427608,"body_markdown":"Since you said you only wanted to pass one parameter and it did not seem to matter which, you could pass the resource identifier in and then find out the string name for it, thus:\r\n\r\n    String name = getResources().getResourceEntryName(id);\r\n\r\nThis might be the most efficient way of obtaining both values. You  don&#39;t have to mess around finding just the &quot;icon&quot; part from a longer string.","title":"Android, getting resource ID from string?","body":"<p>Since you said you only wanted to pass one parameter and it did not seem to matter which, you could pass the resource identifier in and then find out the string name for it, thus:</p>\n\n<pre><code>String name = getResources().getResourceEntryName(id);\n</code></pre>\n\n<p>This might be the most efficient way of obtaining both values. You  don't have to mess around finding just the \"icon\" part from a longer string.</p>\n"},{"tags":[],"owner":{"account_id":5791282,"reputation":451,"user_id":4568661,"accept_rate":100,"display_name":"ExploringAI"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1463413058,"creation_date":1430156913,"answer_id":29902630,"question_id":4427608,"body_markdown":"&gt; A simple way to getting resource ID from string.\r\n&gt; Here **resourceName** is the name of resource ImageView in drawable folder which is included in XML file as well.\r\n\r\n         \r\n    int resID = getResources().getIdentifier(resourceName, &quot;id&quot;, getPackageName());\r\n    ImageView im = (ImageView) findViewById(resID);\r\n    Context context = im.getContext();\r\n    int id = context.getResources().getIdentifier(resourceName, &quot;drawable&quot;,\r\n    context.getPackageName());\r\n    im.setImageResource(id);","title":"Android, getting resource ID from string?","body":"<blockquote>\n  <p>A simple way to getting resource ID from string.\n  Here <strong>resourceName</strong> is the name of resource ImageView in drawable folder which is included in XML file as well.</p>\n</blockquote>\n\n<pre><code>int resID = getResources().getIdentifier(resourceName, \"id\", getPackageName());\nImageView im = (ImageView) findViewById(resID);\nContext context = im.getContext();\nint id = context.getResources().getIdentifier(resourceName, \"drawable\",\ncontext.getPackageName());\nim.setImageResource(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5626216,"reputation":2664,"user_id":4454567,"accept_rate":100,"display_name":"Daniele D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464368600,"creation_date":1464368600,"answer_id":37488894,"question_id":4427608,"body_markdown":"In MonoDroid / Xamarin.Android you can do:\r\n\r\n     var resourceId = Resources.GetIdentifier(&quot;icon&quot;, &quot;drawable&quot;, PackageName);\r\n\r\nBut since GetIdentifier it&#39;s not recommended in Android - you can use Reflection like this:\r\n\r\n     var resourceId = (int)typeof(Resource.Drawable).GetField(&quot;icon&quot;).GetValue(null);\r\n\r\nwhere I suggest to put a try/catch or verify the strings you are passing.","title":"Android, getting resource ID from string?","body":"<p>In MonoDroid / Xamarin.Android you can do:</p>\n\n<pre><code> var resourceId = Resources.GetIdentifier(\"icon\", \"drawable\", PackageName);\n</code></pre>\n\n<p>But since GetIdentifier it's not recommended in Android - you can use Reflection like this:</p>\n\n<pre><code> var resourceId = (int)typeof(Resource.Drawable).GetField(\"icon\").GetValue(null);\n</code></pre>\n\n<p>where I suggest to put a try/catch or verify the strings you are passing.</p>\n"},{"tags":[],"owner":{"account_id":7077897,"reputation":1999,"user_id":5417224,"accept_rate":50,"display_name":"bitvale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467197420,"creation_date":1467196910,"answer_id":38097226,"question_id":4427608,"body_markdown":"For getting Drawable id from String resource name I am using this code:\r\n\r\n    private int getResId(String resName) {\r\n        int defId = -1;\r\n        try {\r\n            Field f = R.drawable.class.getDeclaredField(resName);\r\n            Field def = R.drawable.class.getDeclaredField(&quot;transparent_flag&quot;);\r\n            defId = def.getInt(null);\r\n            return f.getInt(null);\r\n        } catch (NoSuchFieldException | IllegalAccessException e) {\r\n            return defId;\r\n        }\r\n    }","title":"Android, getting resource ID from string?","body":"<p>For getting Drawable id from String resource name I am using this code:</p>\n\n<pre><code>private int getResId(String resName) {\n    int defId = -1;\n    try {\n        Field f = R.drawable.class.getDeclaredField(resName);\n        Field def = R.drawable.class.getDeclaredField(\"transparent_flag\");\n        defId = def.getInt(null);\n        return f.getInt(null);\n    } catch (NoSuchFieldException | IllegalAccessException e) {\n        return defId;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7811655,"reputation":949,"user_id":5950079,"display_name":"Ivan Vovk"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1680679785,"creation_date":1507549345,"answer_id":46645613,"question_id":4427608,"body_markdown":"Simple method to get resource ID:\r\n\r\n    public int getDrawableName(Context ctx, String str){\r\n        return ctx.getResources().getIdentifier(str,&quot;drawable&quot;, ctx.getPackageName());\r\n    }","title":"Android, getting resource ID from string?","body":"<p>Simple method to get resource ID:</p>\n<pre><code>public int getDrawableName(Context ctx, String str){\n    return ctx.getResources().getIdentifier(str,&quot;drawable&quot;, ctx.getPackageName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522733131,"creation_date":1522733131,"answer_id":49622801,"question_id":4427608,"body_markdown":"In your res/layout/my_image_layout.xml\r\n\r\n    &lt;LinearLayout ...&gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/row_0_col_7&quot;\r\n          ...&gt;\r\n        &lt;/ImageView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nTo grab that ImageView by its @+id value, inside your java code do this: \r\n\r\n    String row = &quot;0&quot;;\r\n    String column= &quot;7&quot;;\r\n    String tileID = &quot;row_&quot; + (row) + &quot;_col_&quot; + (column);\r\n    ImageView image = (ImageView) activity.findViewById(activity.getResources()\r\n                    .getIdentifier(tileID, &quot;id&quot;, activity.getPackageName()));\r\n    \r\n    /*Bottom code changes that ImageView to a different image. &quot;blank&quot; (R.mipmap.blank) is the name of an image I have in my drawable folder. */\r\n    image.setImageResource(R.mipmap.blank);  \r\n\r\n \r\n\r\n","title":"Android, getting resource ID from string?","body":"<p>In your res/layout/my_image_layout.xml</p>\n\n<pre><code>&lt;LinearLayout ...&gt;\n    &lt;ImageView\n        android:id=\"@+id/row_0_col_7\"\n      ...&gt;\n    &lt;/ImageView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>To grab that ImageView by its @+id value, inside your java code do this: </p>\n\n<pre><code>String row = \"0\";\nString column= \"7\";\nString tileID = \"row_\" + (row) + \"_col_\" + (column);\nImageView image = (ImageView) activity.findViewById(activity.getResources()\n                .getIdentifier(tileID, \"id\", activity.getPackageName()));\n\n/*Bottom code changes that ImageView to a different image. \"blank\" (R.mipmap.blank) is the name of an image I have in my drawable folder. */\nimage.setImageResource(R.mipmap.blank);  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3310029,"reputation":5220,"user_id":3278271,"accept_rate":0,"display_name":"Arsenius"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614530958,"creation_date":1554170935,"answer_id":55465964,"question_id":4427608,"body_markdown":"The Kotlin approach\r\n\r\n    inline fun &lt;reified T: Class&lt;*&gt;&gt; T.getId(resourceName: String): Int {\r\n                return try {\r\n                    val idField = getDeclaredField (resourceName)\r\n                    idField.getInt(idField)\r\n                } catch (e:Exception) {\r\n                    e.printStackTrace()\r\n                    -1\r\n                }\r\n            }\r\n\r\nUsage:\r\n\r\n    val resId = R.drawable::class.java.getId(&quot;icon&quot;)\r\nOr:\r\n      \r\n    val resId = R.id::class.java.getId(&quot;viewId&quot;)","title":"Android, getting resource ID from string?","body":"<p>The Kotlin approach</p>\n<pre><code>inline fun &lt;reified T: Class&lt;*&gt;&gt; T.getId(resourceName: String): Int {\n            return try {\n                val idField = getDeclaredField (resourceName)\n                idField.getInt(idField)\n            } catch (e:Exception) {\n                e.printStackTrace()\n                -1\n            }\n        }\n</code></pre>\n<p>Usage:</p>\n<pre><code>val resId = R.drawable::class.java.getId(&quot;icon&quot;)\n</code></pre>\n<p>Or:</p>\n<pre><code>val resId = R.id::class.java.getId(&quot;viewId&quot;)\n</code></pre>\n"}],"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190289,"favorite_count":0,"down_vote_count":0,"up_vote_count":183,"accepted_answer_id":4428288,"answer_count":14,"score":183,"last_activity_date":1690477947,"creation_date":1292234107,"question_id":4427608,"body_markdown":"I need to pass a resource ID to a method in one of my classes. It needs to use both the id that the reference points to and also it needs the string. How should I best achieve this?\r\n\r\nFor example:\r\n\r\n    R.drawable.icon\r\n\r\nI need to get the integer ID of this, but I also need access to the string &quot;icon&quot;.\r\n\r\nIt would be preferable if all I had to pass to the method is the &quot;icon&quot; string.","title":"Android, getting resource ID from string?","body":"<p>I need to pass a resource ID to a method in one of my classes. It needs to use both the id that the reference points to and also it needs the string. How should I best achieve this?</p>\n\n<p>For example:</p>\n\n<pre><code>R.drawable.icon\n</code></pre>\n\n<p>I need to get the integer ID of this, but I also need access to the string \"icon\".</p>\n\n<p>It would be preferable if all I had to pass to the method is the \"icon\" string.</p>\n"},{"tags":["java","spring","rabbitmq","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690477842,"creation_date":1557067881,"answer_id":55993227,"question_id":55991826,"body_markdown":"Increase the shutdown timeout.\r\n\r\nSee [Message Listener Container Configuration](https://docs.spring.io/spring-amqp/reference/#containerAttributes).\r\n\r\n&gt;**shutdownTimeout**\r\n\r\n&gt;When a container shuts down (for example, if its enclosing ApplicationContext is closed), it waits for in-flight messages to be processed up to this limit. Defaults to five seconds.\r\n\r\n\t/**\r\n\t * The time to wait for workers in milliseconds after the container is stopped. If any\r\n\t * workers are active when the shutdown signal comes they will be allowed to finish\r\n\t * processing as long as they can finish within this timeout. Defaults\r\n\t * to 5 seconds.\r\n\t * @param shutdownTimeout the shutdown timeout to set\r\n\t */\r\n\tpublic void setShutdownTimeout(long shutdownTimeout) {\r\n\r\n\r\n\r\n__EDIT__\r\n\r\nThere is now a new property `forceStop` to stop the container after the current message is processed, requeueing other prefetched messages. https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop","title":"How to gracefully stop consuming messages with @RabbitListener","body":"<p>Increase the shutdown timeout.</p>\n<p>See <a href=\"https://docs.spring.io/spring-amqp/reference/#containerAttributes\" rel=\"nofollow noreferrer\">Message Listener Container Configuration</a>.</p>\n<blockquote>\n<p><strong>shutdownTimeout</strong></p>\n</blockquote>\n<blockquote>\n<p>When a container shuts down (for example, if its enclosing ApplicationContext is closed), it waits for in-flight messages to be processed up to this limit. Defaults to five seconds.</p>\n</blockquote>\n<pre><code>/**\n * The time to wait for workers in milliseconds after the container is stopped. If any\n * workers are active when the shutdown signal comes they will be allowed to finish\n * processing as long as they can finish within this timeout. Defaults\n * to 5 seconds.\n * @param shutdownTimeout the shutdown timeout to set\n */\npublic void setShutdownTimeout(long shutdownTimeout) {\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>There is now a new property <code>forceStop</code> to stop the container after the current message is processed, requeueing other prefetched messages. <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop</a></p>\n"},{"tags":[],"owner":{"account_id":23460684,"reputation":21,"user_id":17515581,"display_name":"Alexandre D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646226484,"creation_date":1637936732,"answer_id":70125935,"question_id":55991826,"body_markdown":"To complete @user634545&#39;s last comment, we have to deal with 2 properties :\r\n\r\n - [shutdownTimeout](https://docs.spring.io/spring-amqp/reference/html/#shutdownTimeout)\r\n - [prefetchCount](https://docs.spring.io/spring-amqp/reference/html/#prefetchCount)\r\n\r\nThese parameters must be ajusted in order to validate the following :\r\n\r\n```\r\nprefetchCount &lt; (shutdownTimeout / consumerExecutionTimePerMessage)\r\n```\r\n\r\nIt would mean that after receiving the shutdown order, the consumer should be able to consume and aknowledge every prefetched messages.","title":"How to gracefully stop consuming messages with @RabbitListener","body":"<p>To complete @user634545's last comment, we have to deal with 2 properties :</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-amqp/reference/html/#shutdownTimeout\" rel=\"nofollow noreferrer\">shutdownTimeout</a></li>\n<li><a href=\"https://docs.spring.io/spring-amqp/reference/html/#prefetchCount\" rel=\"nofollow noreferrer\">prefetchCount</a></li>\n</ul>\n<p>These parameters must be ajusted in order to validate the following :</p>\n<pre><code>prefetchCount &lt; (shutdownTimeout / consumerExecutionTimePerMessage)\n</code></pre>\n<p>It would mean that after receiving the shutdown order, the consumer should be able to consume and aknowledge every prefetched messages.</p>\n"}],"owner":{"account_id":317708,"reputation":9159,"user_id":634545,"accept_rate":73,"display_name":"user634545"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4418,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55993227,"answer_count":2,"score":4,"last_activity_date":1690477842,"creation_date":1557058539,"question_id":55991826,"body_markdown":"Is there a way to gracefully stop a `ListenerContainer`, and its associated `Consumers`.\r\n\r\n**What I&#39;m trying to achieve.**\r\n\r\n1. Stop consuming messages.\r\n2. Gracefully stop `ListenerContainer`.\r\n3. Await long running consumers, and ack when finished.\r\n\r\nI&#39;m able to stop the `ListenerContainers` using `consumer.stop()`, but active long running consumers won&#39;t complete successfully, and processed messages won&#39;t be acked and will therefore be processed again, once the ListenerContainer has been resumed.\r\n\r\n\r\n**Output**\r\n\r\n    Waiting for workers to finish.\r\n    Workers not finished.\r\n    Closing channel for unresponsive consumer: Consumer@6d229b1c\r\n\r\nThe message was processed, but not acked.\r\n\r\n\r\nI might be able to achieve a graceful shutdown using `setForceCloseChannel(false)`, but is it possible to verify if the cancelled consumers has finished? SimpleMessageListenerContainer.doShutDown() has a local scoped List &quot;canceledConsumers&quot;.\r\n","title":"How to gracefully stop consuming messages with @RabbitListener","body":"<p>Is there a way to gracefully stop a <code>ListenerContainer</code>, and its associated <code>Consumers</code>.</p>\n\n<p><strong>What I'm trying to achieve.</strong></p>\n\n<ol>\n<li>Stop consuming messages.</li>\n<li>Gracefully stop <code>ListenerContainer</code>.</li>\n<li>Await long running consumers, and ack when finished.</li>\n</ol>\n\n<p>I'm able to stop the <code>ListenerContainers</code> using <code>consumer.stop()</code>, but active long running consumers won't complete successfully, and processed messages won't be acked and will therefore be processed again, once the ListenerContainer has been resumed.</p>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Waiting for workers to finish.\nWorkers not finished.\nClosing channel for unresponsive consumer: Consumer@6d229b1c\n</code></pre>\n\n<p>The message was processed, but not acked.</p>\n\n<p>I might be able to achieve a graceful shutdown using <code>setForceCloseChannel(false)</code>, but is it possible to verify if the cancelled consumers has finished? SimpleMessageListenerContainer.doShutDown() has a local scoped List \"canceledConsumers\".</p>\n"},{"tags":["java","spring-boot","soap","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1534526738,"post_id":51892528,"comment_id":90751615,"body_markdown":"Few points that I could collect, trying to debug a similar setup... 1. a transitive dependency of `com.sun.xml.ws:jaxws-ri:2.3.0.2` which is `javax.jws:jsr181-api:jar:1.0-MR1` brings in the interface `WebMethod` which does have the method `exclude`... 2. Can you make sure no other dependency is bringing in the same interface with a different implementation? 3. Also, could you detail out in the question, how you are building/executing your application?","body":"Few points that I could collect, trying to debug a similar setup... 1. a transitive dependency of <code>com.sun.xml.ws:jaxws-ri:2.3.0.2</code> which is <code>javax.jws:jsr181-api:jar:1.0-MR1</code> brings in the interface <code>WebMethod</code> which does have the method <code>exclude</code>... 2. Can you make sure no other dependency is bringing in the same interface with a different implementation? 3. Also, could you detail out in the question, how you are building/executing your application?"},{"owner":{"account_id":14172223,"reputation":311,"user_id":10238493,"display_name":"amjr"},"score":0,"creation_date":1534746536,"post_id":51892528,"comment_id":90799601,"body_markdown":"ad 3) @SpringBootTest","body":"ad 3) @SpringBootTest"},{"owner":{"account_id":14172223,"reputation":311,"user_id":10238493,"display_name":"amjr"},"score":0,"creation_date":1534746876,"post_id":51892528,"comment_id":90799727,"body_markdown":"ad 2) only spring-boot-starter-web spring-boot-starter-test 2.0.3. This is small application with small amount of dependencies and JAXWS is not necessary. I want also to open general discussion about migration, if application is more complex.","body":"ad 2) only spring-boot-starter-web spring-boot-starter-test 2.0.3. This is small application with small amount of dependencies and JAXWS is not necessary. I want also to open general discussion about migration, if application is more complex."},{"owner":{"account_id":6402290,"reputation":12668,"user_id":4964553,"display_name":"jonashackt"},"score":0,"creation_date":1610033881,"post_id":51892528,"comment_id":116010232,"body_markdown":"Simply use https://github.com/codecentric/cxf-spring-boot-starter - it does the integration of Apache CXF and Spring Boot without any hassle for the developer. And it solves your upgrade problems to Java 11 (and 15 :) ). It also adds capabilities of handling all the JAX-B class generation automatically using the https://github.com/codecentric/cxf-spring-boot-starter-maven-plugin - and also generates every Spring Boot classes 100% only from your `.wsdl` file (implementing the contract first concept). But it also works in client-only mode.","body":"Simply use <a href=\"https://github.com/codecentric/cxf-spring-boot-starter\" rel=\"nofollow noreferrer\">github.com/codecentric/cxf-spring-boot-starter</a> - it does the integration of Apache CXF and Spring Boot without any hassle for the developer. And it solves your upgrade problems to Java 11 (and 15 :) ). It also adds capabilities of handling all the JAX-B class generation automatically using the <a href=\"https://github.com/codecentric/cxf-spring-boot-starter-maven-plugin\" rel=\"nofollow noreferrer\">github.com/codecentric/cxf-spring-boot-starter-maven-plugin</a> - and also generates every Spring Boot classes 100% only from your <code>.wsdl</code> file (implementing the contract first concept). But it also works in client-only mode."}],"answers":[{"tags":[],"owner":{"account_id":1999797,"reputation":328,"user_id":1791121,"display_name":"user1791121"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1609829878,"creation_date":1539826283,"answer_id":52865705,"question_id":51892528,"body_markdown":"Note sure about sprint boot, but to get JAXWS working in Java 11, I used\r\n\r\n    &lt;profiles&gt;\r\n        &lt;!-- add back the jaxws SOAP dependendies which were removed in JDK11 --&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;jdk11&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;jdk&gt;[11,)&lt;/jdk&gt;\r\n            &lt;/activation&gt;\r\n            &lt;!-- tested working with OpenJDK 11.0.8 --&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.3&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.3&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>Note sure about sprint boot, but to get JAXWS working in Java 11, I used</p>\n<pre><code>&lt;profiles&gt;\n    &lt;!-- add back the jaxws SOAP dependendies which were removed in JDK11 --&gt;\n    &lt;profile&gt;\n        &lt;id&gt;jdk11&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;jdk&gt;[11,)&lt;/jdk&gt;\n        &lt;/activation&gt;\n        &lt;!-- tested working with OpenJDK 11.0.8 --&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n                &lt;version&gt;2.3.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;rt&lt;/artifactId&gt;\n                &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055939,"reputation":2208,"user_id":1833705,"display_name":"Rafael Renan Pacheco"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1562690590,"creation_date":1562690590,"answer_id":56957182,"question_id":51892528,"body_markdown":"The documentation regarding this removal ([JEP 320][1]) has a topic called **Risks and Assumptions** followed by **Java EE modules** in which they suggest alternatives for the removals, like [jaxws-ri][2] and [jaxb-ri][3].\r\n\r\nIn my case I was using the **javax.jws** package in Java 8 and it got removed in Java 11. So as the JEP suggests, I just had to add the following dependency to get it working again on Java 11:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn your case you may need other dependencies as well, just take a look at the JEP suggestions.\r\n\r\n  [1]: http://openjdk.java.net/jeps/320\r\n  [2]: https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-ri\r\n  [3]: https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-ri","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>The documentation regarding this removal (<a href=\"http://openjdk.java.net/jeps/320\" rel=\"noreferrer\">JEP 320</a>) has a topic called <strong>Risks and Assumptions</strong> followed by <strong>Java EE modules</strong> in which they suggest alternatives for the removals, like <a href=\"https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-ri\" rel=\"noreferrer\">jaxws-ri</a> and <a href=\"https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-ri\" rel=\"noreferrer\">jaxb-ri</a>.</p>\n\n<p>In my case I was using the <strong>javax.jws</strong> package in Java 8 and it got removed in Java 11. So as the JEP suggests, I just had to add the following dependency to get it working again on Java 11:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In your case you may need other dependencies as well, just take a look at the JEP suggestions.</p>\n"},{"tags":[],"owner":{"account_id":29105217,"reputation":21,"user_id":22296186,"display_name":"SideX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690477702,"creation_date":1690477702,"answer_id":76782039,"question_id":51892528,"body_markdown":"You can use Jakarta instead:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>You can use Jakarta instead:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14172223,"reputation":311,"user_id":10238493,"display_name":"amjr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93540,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":3,"score":31,"last_activity_date":1690477702,"creation_date":1534498711,"question_id":51892528,"body_markdown":"I am looking for compatible combination of `org.apache.cxf:cxf-spring-boot-starter-jaxws` with `jaxws-api`/`jaxws-ri` on Java 10+.\r\n\r\nOur application works fine on Java 8. \r\n\r\nAlso on Java 9 &amp; 10 with `--add-modules=java.se.ee`.\r\n\r\nBut, when i remove this option and add following dependecies:\r\n\r\n    compile group: &#39;javax.xml.ws&#39;, name: &#39;jaxws-api&#39;, version: &#39;2.3.0&#39;\r\n    compile group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-ri&#39;, version: &#39;2.3.0.2&#39;, ext: &#39;pom&#39;\r\n    compile group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-rt&#39;, version: &#39;2.3.0.2&#39;, ext: &#39;pom&#39;\r\n\r\ncommon dependencies (with/without --add-modules in java 9/10, or java 8):\r\n\r\n    compile(&#39;org.apache.cxf:cxf-spring-boot-starter-jaxws:3.2.6&#39;)\r\n\r\nI become:\r\n\r\n    Caused by: java.lang.NoSuchMethodError: javax.jws.WebMethod.exclude()Z\r\n    \tat org.apache.cxf.jaxws.support.JaxWsServiceConfiguration.isOperation(JaxWsServiceConfiguration.java:190)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.isValidMethod(ReflectionServiceFactoryBean.java:1962)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.createInterface(ReflectionServiceFactoryBean.java:999)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.buildServiceFromClass(ReflectionServiceFactoryBean.java:461)\r\n    \tat org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.buildServiceFromClass(JaxWsServiceFactoryBean.java:695)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:530)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:263)\r\n    \tat org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:199)\r\n    \tat org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:103)\r\n    \tat org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:168)\r\n    \tat org.apache.cxf.jaxws.JaxWsServerFactoryBean.create(JaxWsServerFactoryBean.java:211)\r\n    \tat org.apache.cxf.jaxws.EndpointImpl.getServer(EndpointImpl.java:460)\r\n    \tat org.apache.cxf.jaxws.EndpointImpl.doPublish(EndpointImpl.java:338)\r\n    \tat org.apache.cxf.jaxws.EndpointImpl.publish(EndpointImpl.java:255)\r\n    \tat .....\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 44 more\r\n\r\n","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>I am looking for compatible combination of <code>org.apache.cxf:cxf-spring-boot-starter-jaxws</code> with <code>jaxws-api</code>/<code>jaxws-ri</code> on Java 10+.</p>\n<p>Our application works fine on Java 8.</p>\n<p>Also on Java 9 &amp; 10 with <code>--add-modules=java.se.ee</code>.</p>\n<p>But, when i remove this option and add following dependecies:</p>\n<pre><code>compile group: 'javax.xml.ws', name: 'jaxws-api', version: '2.3.0'\ncompile group: 'com.sun.xml.ws', name: 'jaxws-ri', version: '2.3.0.2', ext: 'pom'\ncompile group: 'com.sun.xml.ws', name: 'jaxws-rt', version: '2.3.0.2', ext: 'pom'\n</code></pre>\n<p>common dependencies (with/without --add-modules in java 9/10, or java 8):</p>\n<pre><code>compile('org.apache.cxf:cxf-spring-boot-starter-jaxws:3.2.6')\n</code></pre>\n<p>I become:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: javax.jws.WebMethod.exclude()Z\n    at org.apache.cxf.jaxws.support.JaxWsServiceConfiguration.isOperation(JaxWsServiceConfiguration.java:190)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.isValidMethod(ReflectionServiceFactoryBean.java:1962)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.createInterface(ReflectionServiceFactoryBean.java:999)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.buildServiceFromClass(ReflectionServiceFactoryBean.java:461)\n    at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.buildServiceFromClass(JaxWsServiceFactoryBean.java:695)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:530)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:263)\n    at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:199)\n    at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:103)\n    at org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:168)\n    at org.apache.cxf.jaxws.JaxWsServerFactoryBean.create(JaxWsServerFactoryBean.java:211)\n    at org.apache.cxf.jaxws.EndpointImpl.getServer(EndpointImpl.java:460)\n    at org.apache.cxf.jaxws.EndpointImpl.doPublish(EndpointImpl.java:338)\n    at org.apache.cxf.jaxws.EndpointImpl.publish(EndpointImpl.java:255)\n    at .....\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 44 more\n</code></pre>\n"},{"tags":["java","selenium-webdriver","firefox"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690498310,"post_id":76782037,"comment_id":135366294,"body_markdown":"_Webelement is actually inside a shadow dom_: is possibly the root cause of all the mess around. See: [this](https://stackoverflow.com/a/55763793/7429447), [this](https://stackoverflow.com/a/73242476/7429447) and [this discussion](https://stackoverflow.com/q/56380091/7429447)","body":"<i>Webelement is actually inside a shadow dom</i>: is possibly the root cause of all the mess around. See: <a href=\"https://stackoverflow.com/a/55763793/7429447\">this</a>, <a href=\"https://stackoverflow.com/a/73242476/7429447\">this</a> and <a href=\"https://stackoverflow.com/q/56380091/7429447\">this discussion</a>"}],"owner":{"account_id":12619826,"reputation":249,"user_id":9175771,"accept_rate":29,"display_name":"shivam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690477687,"creation_date":1690477687,"question_id":76782037,"body_markdown":"I am running the below code snippet in Firefox Browser:\r\n\r\n\r\n    WebElement uploadControl = driver.findElement(By.cssSelector(&quot;input[type=&#39;file&#39;]&quot;));\r\n    String file = &quot;C:\\\\other\\\\abc.jpg&quot;;\r\n    uploadControl.sendKeys(file);\r\n\r\n\r\nTo note the Webelement is actually inside a shadow dom which I am fetching using JavascriptExecutor and storing it as &#39;uploadControl&#39;.\r\n\r\nWhen executing this code in Firefox browser, it gives error: \r\n\r\n\r\n    Org.openqa.selenium.ElementNotInteractableException: Element &lt;input typ=&quot;file&quot;&gt; is not reachable by keyboard.\r\n\r\n\r\nI tried to use JavascriptExecutor in place of sendKeys but it does not work.\r\n\r\nNote: I already saw this question: https://stackoverflow.com/questions/49864965/org-openqa-selenium-elementnotinteractableexception-element-is-not-reachable-by/49872160#49872160 as well and tried different solutions but nothing works.\r\n\r\n","title":"Selenium Java Webdriver: Org.openqa.selenium.ElementNotInteractableException: Element &lt;input typ=&quot;file&quot;&gt; is not reachable by keyboard","body":"<p>I am running the below code snippet in Firefox Browser:</p>\n<pre><code>WebElement uploadControl = driver.findElement(By.cssSelector(&quot;input[type='file']&quot;));\nString file = &quot;C:\\\\other\\\\abc.jpg&quot;;\nuploadControl.sendKeys(file);\n</code></pre>\n<p>To note the Webelement is actually inside a shadow dom which I am fetching using JavascriptExecutor and storing it as 'uploadControl'.</p>\n<p>When executing this code in Firefox browser, it gives error:</p>\n<pre><code>Org.openqa.selenium.ElementNotInteractableException: Element &lt;input typ=&quot;file&quot;&gt; is not reachable by keyboard.\n</code></pre>\n<p>I tried to use JavascriptExecutor in place of sendKeys but it does not work.</p>\n<p>Note: I already saw this question: <a href=\"https://stackoverflow.com/questions/49864965/org-openqa-selenium-elementnotinteractableexception-element-is-not-reachable-by/49872160#49872160\">org.openqa.selenium.ElementNotInteractableException: Element is not reachable by keyboard: while sending text to FirstName field in Facebook</a> as well and tried different solutions but nothing works.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":2538516,"reputation":540,"user_id":5662508,"display_name":"Nagaraju Chitimilla"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1630315206,"creation_date":1630315206,"answer_id":68981681,"question_id":68981567,"body_markdown":"The javadoc clearly says to use `fromValue`.\r\n\r\n    public static &lt;T&gt; BodyInserter&lt;T,ReactiveHttpOutputMessage&gt; fromValue(T body)\r\n\r\nInserter to write the given value.\r\nAlternatively, consider using the bodyValue(Object) shortcuts on WebClient and ServerResponse.\r\n\r\n**Type Parameters:**\r\n\r\n`T` - the type of the body\r\n\r\n**Parameters:**\r\n`body` - the value to write\r\n\r\n**Returns:**\r\n\r\nthe inserter to write a single value\r\n\r\n**Throws:**\r\n\r\n`IllegalArgumentException` - if body is a Publisher or an instance of a type supported by `ReactiveAdapterRegistry.getSharedInstance()`, for which `fromPublisher(Publisher, Class)` or `fromProducer(Object, Class)` should be used.","title":"BodyInserters.fromObject is deprecated, what is the alternative?","body":"<p>The javadoc clearly says to use <code>fromValue</code>.</p>\n<pre><code>public static &lt;T&gt; BodyInserter&lt;T,ReactiveHttpOutputMessage&gt; fromValue(T body)\n</code></pre>\n<p>Inserter to write the given value.\nAlternatively, consider using the bodyValue(Object) shortcuts on WebClient and ServerResponse.</p>\n<p><strong>Type Parameters:</strong></p>\n<p><code>T</code> - the type of the body</p>\n<p><strong>Parameters:</strong>\n<code>body</code> - the value to write</p>\n<p><strong>Returns:</strong></p>\n<p>the inserter to write a single value</p>\n<p><strong>Throws:</strong></p>\n<p><code>IllegalArgumentException</code> - if body is a Publisher or an instance of a type supported by <code>ReactiveAdapterRegistry.getSharedInstance()</code>, for which <code>fromPublisher(Publisher, Class)</code> or <code>fromProducer(Object, Class)</code> should be used.</p>\n"},{"tags":[],"owner":{"account_id":14333934,"reputation":21,"user_id":10353997,"display_name":"Marco Antonio Zaragocin Arrobo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690477173,"creation_date":1690477173,"answer_id":76781972,"question_id":68981567,"body_markdown":"I use this way, and it worked\r\n\r\nServerResponse.ok().contentType(MediaType.TEXT_PLAIN)\r\n                .body(BodyInserters.fromPublisher(Mono.just(&quot;Hello World!&quot;),String.class));","title":"BodyInserters.fromObject is deprecated, what is the alternative?","body":"<p>I use this way, and it worked</p>\n<p>ServerResponse.ok().contentType(MediaType.TEXT_PLAIN)\n.body(BodyInserters.fromPublisher(Mono.just(&quot;Hello World!&quot;),String.class));</p>\n"}],"owner":{"account_id":12869604,"reputation":158,"user_id":9308543,"display_name":"Hosten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4445,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68981681,"answer_count":2,"score":5,"last_activity_date":1690477173,"creation_date":1630314776,"question_id":68981567,"body_markdown":"Helllo.\r\nI am trying to use Spring webclient to send post requests and fill the body with an object. But I receive the following &quot; &#39;fromObject(T)&#39; is deprecate&quot;.\r\nWhat is the alternative then ?\r\n \r\n\r\n    WebClient.post()\r\n                .uri(&quot;example.com&quot;)\r\n                .body(BodyInserters.fromObject(newObject);","title":"BodyInserters.fromObject is deprecated, what is the alternative?","body":"<p>Helllo.\nI am trying to use Spring webclient to send post requests and fill the body with an object. But I receive the following &quot; 'fromObject(T)' is deprecate&quot;.\nWhat is the alternative then ?</p>\n<pre><code>WebClient.post()\n            .uri(&quot;example.com&quot;)\n            .body(BodyInserters.fromObject(newObject);\n</code></pre>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690476021,"creation_date":1690474967,"answer_id":76781706,"question_id":76781585,"body_markdown":"The class `Class` refers to the representation of a Java class at runtime. It is a fundamental part of the Java reflection API, which **allows you to examine and interact with the structure and behavior of classes and objects** dynamically, at runtime.\r\n\r\nThe class `Class` is part of the java.lang package and is itself a class. It provides various methods that allow you to **access information about a class**, such as its name, modifiers, fields, methods, constructors, superclasses, interfaces, annotations, etc.\r\n\r\nFor example:\r\n```java\r\nClass&lt;String&gt; clazz = String.class;\r\nSystem.out.println(clazz.getName());       // Output: java.lang.String\r\nSystem.out.println(clazz.getSimpleName()); // Output: String\r\n```\r\n\r\nCheck this out:\r\n - [What is the Class object (java.lang.Class)?][1]\r\n - [Class (Java Platform SE 8)][2]\r\n - [Java.lang.Class class in Java][3]\r\n\r\n  [1]: https://stackoverflow.com/questions/4453349/what-is-the-class-object-java-lang-class\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\r\n  [3]: https://www.geeksforgeeks.org/java-lang-class-class-java-set-1/","title":"Class type in java -spring mongodb source code","body":"<p>The class <code>Class</code> refers to the representation of a Java class at runtime. It is a fundamental part of the Java reflection API, which <strong>allows you to examine and interact with the structure and behavior of classes and objects</strong> dynamically, at runtime.</p>\n<p>The class <code>Class</code> is part of the java.lang package and is itself a class. It provides various methods that allow you to <strong>access information about a class</strong>, such as its name, modifiers, fields, methods, constructors, superclasses, interfaces, annotations, etc.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;String&gt; clazz = String.class;\nSystem.out.println(clazz.getName());       // Output: java.lang.String\nSystem.out.println(clazz.getSimpleName()); // Output: String\n</code></pre>\n<p>Check this out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4453349/what-is-the-class-object-java-lang-class\">What is the Class object (java.lang.Class)?</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class (Java Platform SE 8)</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/java-lang-class-class-java-set-1/\" rel=\"nofollow noreferrer\">Java.lang.Class class in Java</a></li>\n</ul>\n"}],"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76781706,"answer_count":1,"score":0,"last_activity_date":1690476021,"creation_date":1690473993,"question_id":76781585,"body_markdown":"I was going through the source code of Spring-MongoDB project. Here &lt;https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/aggregation/TypedAggregation.java&gt;\r\n\r\nI found a Type called Class like below\r\n\r\n    private final Class&lt;I&gt; inputType;\r\n\r\nI became curious as to what is this Class type , I looked up if there is any keyword of java which pertains to any Type Class, I haven&#39;t found any, Then I looked upon in the package if there is a Interface or Class of with name \r\n\r\n&gt; Class\r\n\r\nBut I haven&#39;t found any, Those are the only possibilities of my set of assumptions I can make. Can someone help with what is Class here?","title":"Class type in java -spring mongodb source code","body":"<p>I was going through the source code of Spring-MongoDB project. Here <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/aggregation/TypedAggregation.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/aggregation/TypedAggregation.java</a></p>\n<p>I found a Type called Class like below</p>\n<pre><code>private final Class&lt;I&gt; inputType;\n</code></pre>\n<p>I became curious as to what is this Class type , I looked up if there is any keyword of java which pertains to any Type Class, I haven't found any, Then I looked upon in the package if there is a Interface or Class of with name</p>\n<blockquote>\n<p>Class</p>\n</blockquote>\n<p>But I haven't found any, Those are the only possibilities of my set of assumptions I can make. Can someone help with what is Class here?</p>\n"},{"tags":["java","configuration","akka","typesafe-config"],"comments":[{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1690455283,"post_id":76778236,"comment_id":135357680,"body_markdown":"Did you consider to use standard, ie built-in, principle of sharing defaults via a `reference.conf`? If yes, please update your question why it doesn&#39;t suit you","body":"Did you consider to use standard, ie built-in, principle of sharing defaults via a <code>reference.conf</code>? If yes, please update your question why it doesn&#39;t suit you"},{"owner":{"account_id":1753350,"reputation":13,"user_id":1601936,"display_name":"andre.nunes"},"score":0,"creation_date":1690463519,"post_id":76778236,"comment_id":135359624,"body_markdown":"I don&#39;t see how to handle hierarchy in that way, do you have an example? Like a parent node with config that child nodes can overwrite or use the default from the parent","body":"I don&#39;t see how to handle hierarchy in that way, do you have an example? Like a parent node with config that child nodes can overwrite or use the default from the parent"},{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1690465544,"post_id":76778236,"comment_id":135360157,"body_markdown":"See my answer [here](https://stackoverflow.com/a/76635447/4803842)","body":"See my answer <a href=\"https://stackoverflow.com/a/76635447/4803842\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690475429,"creation_date":1690473610,"answer_id":76781546,"question_id":76778236,"body_markdown":"In general I agree with Ivan and the link to [his other answer regarding reference configs](https://stackoverflow.com/a/76635447/4803842). (Or any type of base config.) \r\n\r\nThe part that I think you are missing is the &quot;hierarchy&quot;. You can do that, in a non-programmatic way, using inheritance. Here is the docs: https://github.com/lightbend/config#inheritance . You can have a generic config in your reference and then inherit and override in your hierarchy. The docs have an example very similar to yours.\r\n\r\nThe gist would be to reference the generic config with something like:\r\n\r\n```\r\napplication.streams.stream1 = ${application.streams}\r\napplication.streams.stream1.retry.attempts = 2\r\n\r\napplication.streams.stream2 = ${application.streams}\r\napplication.streams.stream2.retry.poll-interval = 5s\r\n\r\n```","title":"Is it possible to non-programmatically merge config objects that are at different hierarchical levels?","body":"<p>In general I agree with Ivan and the link to <a href=\"https://stackoverflow.com/a/76635447/4803842\">his other answer regarding reference configs</a>. (Or any type of base config.)</p>\n<p>The part that I think you are missing is the &quot;hierarchy&quot;. You can do that, in a non-programmatic way, using inheritance. Here is the docs: <a href=\"https://github.com/lightbend/config#inheritance\" rel=\"nofollow noreferrer\">https://github.com/lightbend/config#inheritance</a> . You can have a generic config in your reference and then inherit and override in your hierarchy. The docs have an example very similar to yours.</p>\n<p>The gist would be to reference the generic config with something like:</p>\n<pre><code>application.streams.stream1 = ${application.streams}\napplication.streams.stream1.retry.attempts = 2\n\napplication.streams.stream2 = ${application.streams}\napplication.streams.stream2.retry.poll-interval = 5s\n\n</code></pre>\n"}],"owner":{"account_id":1753350,"reputation":13,"user_id":1601936,"display_name":"andre.nunes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76781546,"answer_count":1,"score":0,"last_activity_date":1690475429,"creation_date":1690449386,"question_id":76778236,"body_markdown":"I&#39;m using TypeSafe Config. Imagine I want to have application wide defaults for resilience patterns but override them specifically at lower config level. I would prefer to have a generic solution instead of manually coding the config creation for each and every stream. Please see example configs:\r\n\r\napplication.conf\r\n``` \r\napplication {\r\n  streams {\r\n    retry {\r\n      attempts = 100\r\n      poll-interval = 5s\r\n      minBackoff = 200 ms\r\n      maxBackoff = 2s\r\n      randomFactor = 0.25\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nservice1.conf\r\n``` \r\napplication {\r\n  streams {\r\n    stream1 {\r\n      retry {\r\n        attempts = 2\r\n      }\r\n    }\r\n    stream2 {\r\n      retry {\r\n        poll-interval = 5s\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\n**Is there a way to non-programmatically merge these configs? Use the defaults from application.conf and override if the value exists in the lower level?** \r\n\r\n**What&#39;s the best practice here?**\r\n\r\nI can&#39;t use:\r\n\r\n\r\n```java\r\nvar defaultConf = ConfigFactory.load(&quot;application.conf&quot;);\r\nvar conf = ConfigFactory.load(&quot;service1.conf&quot;).withFallback(defaultConf);\r\n```\r\nBecause the configs are not at the same hierarchical level.","title":"Is it possible to non-programmatically merge config objects that are at different hierarchical levels?","body":"<p>I'm using TypeSafe Config. Imagine I want to have application wide defaults for resilience patterns but override them specifically at lower config level. I would prefer to have a generic solution instead of manually coding the config creation for each and every stream. Please see example configs:</p>\n<p>application.conf</p>\n<pre><code>application {\n  streams {\n    retry {\n      attempts = 100\n      poll-interval = 5s\n      minBackoff = 200 ms\n      maxBackoff = 2s\n      randomFactor = 0.25\n    }\n  }\n}\n</code></pre>\n<p>service1.conf</p>\n<pre><code>application {\n  streams {\n    stream1 {\n      retry {\n        attempts = 2\n      }\n    }\n    stream2 {\n      retry {\n        poll-interval = 5s\n      }\n    }\n  }\n</code></pre>\n<p><strong>Is there a way to non-programmatically merge these configs? Use the defaults from application.conf and override if the value exists in the lower level?</strong></p>\n<p><strong>What's the best practice here?</strong></p>\n<p>I can't use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var defaultConf = ConfigFactory.load(&quot;application.conf&quot;);\nvar conf = ConfigFactory.load(&quot;service1.conf&quot;).withFallback(defaultConf);\n</code></pre>\n<p>Because the configs are not at the same hierarchical level.</p>\n"},{"tags":["java","thymeleaf","micronaut"],"answers":[{"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690475023,"creation_date":1690412236,"answer_id":76775542,"question_id":76775246,"body_markdown":"Yes, you can. I believe you are going to use e.g. React with Micronaut. You can use the below config with Micronaut. You will also need `maven-resources-plugin` and e.g. `frontend-maven-plugin` as well. \r\n\r\n[This repo][1] contains a Micronaut 4.0.1 example-app with the required config along with a very basic React app.\r\n\r\nDisclosure: I&#39;m the owner of the linked Github repo.\r\n\r\n```\r\nmicronaut:\r\n  application:\r\n    name: micronaut-plus-react\r\n\r\n  views:\r\n    folder: static\r\n\r\n  router:\r\n    static-resources:\r\n      default:\r\n        enabled: true\r\n        mapping: /**/*\r\n        paths:\r\n          - classpath:static\r\n```\r\n\r\nYou will need a controller like this to serve requests for your SPA-app. \r\n```\r\nimport io.micronaut.http.HttpResponse;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Get;\r\nimport io.micronaut.views.View;\r\n\r\n@Controller(&quot;/&quot;)\r\npublic class ViewsController {\r\n\r\n    @View(&quot;index&quot;)\r\n    @Get\r\n    public HttpResponse&lt;?&gt; index() {\r\n        return HttpResponse.ok();\r\n    }\r\n}\r\n```\r\n\r\nExample config, `frontend-maven-plugin`. Runs the npm-targets.\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.13.4&lt;/version&gt;\r\n\r\n    &lt;configuration&gt;\r\n        &lt;workingDirectory&gt;src/main/vite-project&lt;/workingDirectory&gt;\r\n        &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\r\n        &lt;nodeVersion&gt;v19.0.0&lt;/nodeVersion&gt;\r\n        &lt;npmVersion&gt;8.19.2&lt;/npmVersion&gt;\r\n    &lt;/configuration&gt;\r\n\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;install node and npm&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;npm ci&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;arguments&gt;ci&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;execution&gt;\r\n            &lt;id&gt;npx vitest&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;npx&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;arguments&gt;vitest run&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;execution&gt;\r\n            &lt;id&gt;npm run build&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;arguments&gt;run build&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nExample config, `maven-resources-plugin`. \r\n\r\n`${frontend-src-dir}`\r\ncan be defined as `&lt;frontend-src-dir&gt;${project.basedir}/src/main/vite-project&lt;/frontend-src-dir&gt;`\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;position-react-build&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;${frontend-src-dir}/dist&lt;/directory&gt;\r\n                        &lt;filtering&gt;false&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAfter running `mvn clean install`, your target folder should look like this when using the example repo:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/roar-skinderviken/micronaut-plus-react\r\n  [2]: https://i.stack.imgur.com/y5q6V.png","title":"Can I use Micronaut thymeleaf views from a external folder","body":"<p>Yes, you can. I believe you are going to use e.g. React with Micronaut. You can use the below config with Micronaut. You will also need <code>maven-resources-plugin</code> and e.g. <code>frontend-maven-plugin</code> as well.</p>\n<p><a href=\"https://github.com/roar-skinderviken/micronaut-plus-react\" rel=\"nofollow noreferrer\">This repo</a> contains a Micronaut 4.0.1 example-app with the required config along with a very basic React app.</p>\n<p>Disclosure: I'm the owner of the linked Github repo.</p>\n<pre><code>micronaut:\n  application:\n    name: micronaut-plus-react\n\n  views:\n    folder: static\n\n  router:\n    static-resources:\n      default:\n        enabled: true\n        mapping: /**/*\n        paths:\n          - classpath:static\n</code></pre>\n<p>You will need a controller like this to serve requests for your SPA-app.</p>\n<pre><code>import io.micronaut.http.HttpResponse;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.views.View;\n\n@Controller(&quot;/&quot;)\npublic class ViewsController {\n\n    @View(&quot;index&quot;)\n    @Get\n    public HttpResponse&lt;?&gt; index() {\n        return HttpResponse.ok();\n    }\n}\n</code></pre>\n<p>Example config, <code>frontend-maven-plugin</code>. Runs the npm-targets.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.13.4&lt;/version&gt;\n\n    &lt;configuration&gt;\n        &lt;workingDirectory&gt;src/main/vite-project&lt;/workingDirectory&gt;\n        &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\n        &lt;nodeVersion&gt;v19.0.0&lt;/nodeVersion&gt;\n        &lt;npmVersion&gt;8.19.2&lt;/npmVersion&gt;\n    &lt;/configuration&gt;\n\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;install node and npm&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;npm ci&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;arguments&gt;ci&lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;id&gt;npx vitest&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npx&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;arguments&gt;vitest run&lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;id&gt;npm run build&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;arguments&gt;run build&lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Example config, <code>maven-resources-plugin</code>.</p>\n<p><code>${frontend-src-dir}</code>\ncan be defined as <code>&lt;frontend-src-dir&gt;${project.basedir}/src/main/vite-project&lt;/frontend-src-dir&gt;</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;position-react-build&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${frontend-src-dir}/dist&lt;/directory&gt;\n                        &lt;filtering&gt;false&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>After running <code>mvn clean install</code>, your target folder should look like this when using the example repo:</p>\n<p><a href=\"https://i.stack.imgur.com/y5q6V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5q6V.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29098703,"reputation":21,"user_id":22291024,"display_name":"Dimitri-Bit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1690475023,"creation_date":1690408039,"question_id":76775246,"body_markdown":"I want to use .html view files located in a folder in the same directory as the jar. I managed to do this with static resources but I haven&#39;t had any luck with views using thymeleaf or any other template engine.\r\n\r\n\r\n\r\nI tried doing something like this inside of my application.yml:\r\n`micronaut:\r\n  views:\r\n    folder: &quot;file:frontend&quot;`\r\n\r\nIs it even possible to load views from a external folder other then the resources folder?\r\n\r\nThank you.","title":"Can I use Micronaut thymeleaf views from a external folder","body":"<p>I want to use .html view files located in a folder in the same directory as the jar. I managed to do this with static resources but I haven't had any luck with views using thymeleaf or any other template engine.</p>\n<p>I tried doing something like this inside of my application.yml:\n<code>micronaut: views: folder: &quot;file:frontend&quot;</code></p>\n<p>Is it even possible to load views from a external folder other then the resources folder?</p>\n<p>Thank you.</p>\n"},{"tags":["java","html","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689849052,"creation_date":1689849052,"answer_id":76728975,"question_id":76728915,"body_markdown":"\r\n\r\n    By locator = By.xpath(&quot;//span[contains(@class, &#39;pagination-summary&#39;)]&quot;);\r\n    \r\n    WebElement element = driver.findElement(locator);\r\n    \r\n    String text = element.getText();\r\n    \r\n    System.out.println(text);\r\n\r\nIn one single line\r\n\r\n    System.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, &#39;pagination-summary&#39;)]&quot;)).getText());","title":"How to get a dynamic text in span element in Java Selenium?","body":"<pre><code>By locator = By.xpath(&quot;//span[contains(@class, 'pagination-summary')]&quot;);\n\nWebElement element = driver.findElement(locator);\n\nString text = element.getText();\n\nSystem.out.println(text);\n</code></pre>\n<p>In one single line</p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, 'pagination-summary')]&quot;)).getText());\n</code></pre>\n"}],"owner":{"account_id":19483967,"reputation":13,"user_id":14253692,"display_name":"Clausewitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76728975,"answer_count":1,"score":0,"last_activity_date":1690474332,"creation_date":1689848595,"question_id":76728915,"body_markdown":"I am searching on a site by selecting a date filter over the filter. I&#39;m trying to get the total number of records shown in the filter result.\r\n\r\nThere is a phrase &quot;Showing 1 to 50 of 130&quot; under the records shown on the site, and I want to dynamically take this phrase and display it on the console. \r\n\r\nI tried many things but none of them were successful.\r\n\r\nWhen I take it with InnerHTML it shows the data but all records before filtering. The value of the field changes as I filter, and I want the changed value to be retrieved when I filter.\r\n\r\n\r\nI tried to get this data with xpath and CSS selector but it didn&#39;t work.\r\n\r\n**I am sharing the final version of my code below.**\r\n\r\n````\r\nSystem.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, &#39;pagination-summary&#39;)]/xpath[1]&quot;)));\r\n````\r\n\r\n**That&#39;s the error message i got:**\r\n````\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[contains(@class, &#39;pagination-summary&#39;)]/xpath[1]&quot;}\r\n````","title":"How to get a dynamic text in span element in Java Selenium?","body":"<p>I am searching on a site by selecting a date filter over the filter. I'm trying to get the total number of records shown in the filter result.</p>\n<p>There is a phrase &quot;Showing 1 to 50 of 130&quot; under the records shown on the site, and I want to dynamically take this phrase and display it on the console.</p>\n<p>I tried many things but none of them were successful.</p>\n<p>When I take it with InnerHTML it shows the data but all records before filtering. The value of the field changes as I filter, and I want the changed value to be retrieved when I filter.</p>\n<p>I tried to get this data with xpath and CSS selector but it didn't work.</p>\n<p><strong>I am sharing the final version of my code below.</strong></p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, 'pagination-summary')]/xpath[1]&quot;)));\n</code></pre>\n<p><strong>That's the error message i got:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[contains(@class, 'pagination-summary')]/xpath[1]&quot;}\n</code></pre>\n"},{"tags":["java","apache-kafka","base64"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690474313,"creation_date":1690474313,"answer_id":76781625,"question_id":76781405,"body_markdown":"&gt; Apache kafka-client Uuid input differs from output (usage of `toString()` or `fromString()` methods)\r\n\r\nDifferent UUID formats in short, depending to the version of used artifact in Kafka prior to 2.6.x the `toString()` method of the UUID class returned a string in the format `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`, where each `x` represents a [hexadecimal digit][1]. Which is most common UUID format in my experiences.\r\nHowever, from Kafka 2.6.x, the `toString()` method of the UUID class returns a string in the format  `xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx` where each `x` represents a hexadecimal digit. This format is known as the [canonical][2]  UUID format, how convert them ? see [here][3].\r\n\r\n\r\n  [1]: https://www.uuidtools.com/decode\r\n  [2]: https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/using-uuid-data-type.html#GUID-D2BEE2A1-BF6D-4F4A-8EF4-059A6C8FBAA6\r\n  [3]: https://stackoverflow.com/questions/10687505/uuid-format-8-4-4-4-12-why","title":"Java - Apache kafka-client Uuid input differs from output","body":"<blockquote>\n<p>Apache kafka-client Uuid input differs from output (usage of <code>toString()</code> or <code>fromString()</code> methods)</p>\n</blockquote>\n<p>Different UUID formats in short, depending to the version of used artifact in Kafka prior to 2.6.x the <code>toString()</code> method of the UUID class returned a string in the format <code>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>, where each <code>x</code> represents a <a href=\"https://www.uuidtools.com/decode\" rel=\"nofollow noreferrer\">hexadecimal digit</a>. Which is most common UUID format in my experiences.\nHowever, from Kafka 2.6.x, the <code>toString()</code> method of the UUID class returns a string in the format  <code>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code> where each <code>x</code> represents a hexadecimal digit. This format is known as the <a href=\"https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/using-uuid-data-type.html#GUID-D2BEE2A1-BF6D-4F4A-8EF4-059A6C8FBAA6\" rel=\"nofollow noreferrer\">canonical</a>  UUID format, how convert them ? see <a href=\"https://stackoverflow.com/questions/10687505/uuid-format-8-4-4-4-12-why\">here</a>.</p>\n"}],"owner":{"account_id":7084092,"reputation":473,"user_id":5421408,"display_name":"quantumferret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76781625,"answer_count":1,"score":1,"last_activity_date":1690474313,"creation_date":1690472437,"question_id":76781405,"body_markdown":"I need to specify kafka_cluster_ids, and when testing strings with the `org.apache.kafka.common.Uuid` class&#39; `fromString` method, I noticed that the last character of the resulting `Uuid` differs from the input string, but if you use the string returned by `Uuid.toString` to create another `Uuid`, the input and output are the same.\r\n\r\n```java\r\nimport org.apache.commons.text.CharacterPredicates;\r\nimport org.apache.commons.text.RandomStringGenerator;\r\nimport org.apache.kafka.common.Uuid;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        RandomStringGenerator rsg = new RandomStringGenerator.Builder()\r\n                .withinRange(&#39;0&#39;, &#39;z&#39;)\r\n                .filteredBy(CharacterPredicates.LETTERS, CharacterPredicates.DIGITS)\r\n                .build();\r\n        String unique = rsg.generate(22);\r\n        System.out.println(unique);  // prints MHAQTegTj687qceJKFx0gB\r\n        Uuid id = Uuid.fromString(unique);\r\n        System.out.println(id); // prints MHAQTegTj687qceJKFx0gA\r\n\r\n        Uuid id2 = Uuid.fromString(id.toString());\r\n        System.out.println(id2); // prints MHAQTegTj687qceJKFx0gA\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s a minor thing, but it bugs me a bit. I&#39;d like to know why that last character is changing. Thanks in advance!\r\n\r\nEdit: For reference, the relevant source code from `Uuid`:\r\n\r\n```java\r\n    /**\r\n     * Returns a base64 string encoding of the UUID.\r\n     */\r\n    @Override\r\n    public String toString() {\r\n        return Base64.getUrlEncoder().withoutPadding().encodeToString(getBytesFromUuid());\r\n    }\r\n\r\n    /**\r\n     * Creates a UUID based on a base64 string encoding used in the toString() method.\r\n     */\r\n    public static Uuid fromString(String str) {\r\n        if (str.length() &gt; 24) {\r\n            throw new IllegalArgumentException(&quot;Input string with prefix `&quot;\r\n                    + str.substring(0, 24) + &quot;` is too long to be decoded as a base64 UUID&quot;);\r\n        }\r\n\r\n        ByteBuffer uuidBytes = ByteBuffer.wrap(Base64.getUrlDecoder().decode(str));\r\n        if (uuidBytes.remaining() != 16) {\r\n            throw new IllegalArgumentException(&quot;Input string `&quot; + str + &quot;` decoded as &quot;\r\n                    + uuidBytes.remaining() + &quot; bytes, which is not equal to the expected 16 bytes &quot;\r\n                    + &quot;of a base64-encoded UUID&quot;);\r\n        }\r\n\r\n        return new Uuid(uuidBytes.getLong(), uuidBytes.getLong());\r\n    }\r\n\r\n    private byte[] getBytesFromUuid() {\r\n        // Extract bytes for uuid which is 128 bits (or 16 bytes) long.\r\n        ByteBuffer uuidBytes = ByteBuffer.wrap(new byte[16]);\r\n        uuidBytes.putLong(this.mostSignificantBits);\r\n        uuidBytes.putLong(this.leastSignificantBits);\r\n        return uuidBytes.array();\r\n    }\r\n\r\n```","title":"Java - Apache kafka-client Uuid input differs from output","body":"<p>I need to specify kafka_cluster_ids, and when testing strings with the <code>org.apache.kafka.common.Uuid</code> class' <code>fromString</code> method, I noticed that the last character of the resulting <code>Uuid</code> differs from the input string, but if you use the string returned by <code>Uuid.toString</code> to create another <code>Uuid</code>, the input and output are the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.text.CharacterPredicates;\nimport org.apache.commons.text.RandomStringGenerator;\nimport org.apache.kafka.common.Uuid;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        RandomStringGenerator rsg = new RandomStringGenerator.Builder()\n                .withinRange('0', 'z')\n                .filteredBy(CharacterPredicates.LETTERS, CharacterPredicates.DIGITS)\n                .build();\n        String unique = rsg.generate(22);\n        System.out.println(unique);  // prints MHAQTegTj687qceJKFx0gB\n        Uuid id = Uuid.fromString(unique);\n        System.out.println(id); // prints MHAQTegTj687qceJKFx0gA\n\n        Uuid id2 = Uuid.fromString(id.toString());\n        System.out.println(id2); // prints MHAQTegTj687qceJKFx0gA\n    }\n}\n</code></pre>\n<p>It's a minor thing, but it bugs me a bit. I'd like to know why that last character is changing. Thanks in advance!</p>\n<p>Edit: For reference, the relevant source code from <code>Uuid</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Returns a base64 string encoding of the UUID.\n     */\n    @Override\n    public String toString() {\n        return Base64.getUrlEncoder().withoutPadding().encodeToString(getBytesFromUuid());\n    }\n\n    /**\n     * Creates a UUID based on a base64 string encoding used in the toString() method.\n     */\n    public static Uuid fromString(String str) {\n        if (str.length() &gt; 24) {\n            throw new IllegalArgumentException(&quot;Input string with prefix `&quot;\n                    + str.substring(0, 24) + &quot;` is too long to be decoded as a base64 UUID&quot;);\n        }\n\n        ByteBuffer uuidBytes = ByteBuffer.wrap(Base64.getUrlDecoder().decode(str));\n        if (uuidBytes.remaining() != 16) {\n            throw new IllegalArgumentException(&quot;Input string `&quot; + str + &quot;` decoded as &quot;\n                    + uuidBytes.remaining() + &quot; bytes, which is not equal to the expected 16 bytes &quot;\n                    + &quot;of a base64-encoded UUID&quot;);\n        }\n\n        return new Uuid(uuidBytes.getLong(), uuidBytes.getLong());\n    }\n\n    private byte[] getBytesFromUuid() {\n        // Extract bytes for uuid which is 128 bits (or 16 bytes) long.\n        ByteBuffer uuidBytes = ByteBuffer.wrap(new byte[16]);\n        uuidBytes.putLong(this.mostSignificantBits);\n        uuidBytes.putLong(this.leastSignificantBits);\n        return uuidBytes.array();\n    }\n\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":8005177,"reputation":344,"user_id":6038682,"display_name":"William Andr&#233;s Bernal"},"score":0,"creation_date":1595294759,"post_id":63006056,"comment_id":111418556,"body_markdown":"I don&#39;t understand very much your question, what do you want to do exactly?","body":"I don&#39;t understand very much your question, what do you want to do exactly?"},{"owner":{"account_id":8005177,"reputation":344,"user_id":6038682,"display_name":"William Andr&#233;s Bernal"},"score":0,"creation_date":1595295434,"post_id":63006056,"comment_id":111418671,"body_markdown":"does this help you? https://www.baeldung.com/mockito-verify","body":"does this help you? <a href=\"https://www.baeldung.com/mockito-verify\" rel=\"nofollow noreferrer\">baeldung.com/mockito-verify</a>"},{"owner":{"account_id":4352287,"reputation":2771,"user_id":3552178,"accept_rate":66,"display_name":"user3552178"},"score":0,"creation_date":1595295606,"post_id":63006056,"comment_id":111418705,"body_markdown":"not really, to use mockito you need to mock the object 1st. In my case it&#39;s a static method.","body":"not really, to use mockito you need to mock the object 1st. In my case it&#39;s a static method."},{"owner":{"account_id":8005177,"reputation":344,"user_id":6038682,"display_name":"William Andr&#233;s Bernal"},"score":0,"creation_date":1595295804,"post_id":63006056,"comment_id":111418737,"body_markdown":"then what you need is to use PowerMock, maybe something like this? https://www.baeldung.com/intro-to-powermock","body":"then what you need is to use PowerMock, maybe something like this? <a href=\"https://www.baeldung.com/intro-to-powermock\" rel=\"nofollow noreferrer\">baeldung.com/intro-to-powermock</a>"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1690473937,"creation_date":1595312179,"answer_id":63008473,"question_id":63006056,"body_markdown":"Mocking static methods is available since Mockito 3.4. \r\n\r\nSee pull request: [Mockito #1013: Defines and implements API for static mocking.][1]\r\n\r\nPlease note that the fact that this feature is available is not equivalent with recommendation to use it. It is aimed at legacy apps where you cannot refactor the source code. \r\n\r\nHaving said that:\r\n\r\nTest when static method takes no arguments:\r\n```\r\ntry (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\r\n    dummyStatic.when(SomePublicClass::myPublicStaticFunc)\r\n               .thenReturn(5);\r\n    // when\r\n    System.out.println(SomePublicClass.myPublicStaticFunc());\r\n    //then\r\n    dummyStatic.verify(            \r\n            SomePublicClass::myPublicStaticFunc, times(1));\r\n}\r\n```\r\n\r\nTest when static methods takes arguments:\r\n```\r\ntry (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\r\n    dummyStatic.when(() -&gt; SomePublicClass.myPublicStaticFunc(anyInt()))\r\n               .thenReturn(5);\r\n    // when\r\n    System.out.println(SomePublicClass.myPublicStaticFunc(7));\r\n    //then\r\n    dummyStatic.verify(            \r\n            () -&gt; SomePublicClass.myPublicStaticFunc(anyInt()), times(1));\r\n}\r\n```\r\n\r\n  [1]: https://github.com/mockito/mockito/pull/1955","title":"How to verify a public class&#39;s static method get called using mockito?","body":"<p>Mocking static methods is available since Mockito 3.4.</p>\n<p>See pull request: <a href=\"https://github.com/mockito/mockito/pull/1955\" rel=\"nofollow noreferrer\">Mockito #1013: Defines and implements API for static mocking.</a></p>\n<p>Please note that the fact that this feature is available is not equivalent with recommendation to use it. It is aimed at legacy apps where you cannot refactor the source code.</p>\n<p>Having said that:</p>\n<p>Test when static method takes no arguments:</p>\n<pre><code>try (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\n    dummyStatic.when(SomePublicClass::myPublicStaticFunc)\n               .thenReturn(5);\n    // when\n    System.out.println(SomePublicClass.myPublicStaticFunc());\n    //then\n    dummyStatic.verify(            \n            SomePublicClass::myPublicStaticFunc, times(1));\n}\n</code></pre>\n<p>Test when static methods takes arguments:</p>\n<pre><code>try (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\n    dummyStatic.when(() -&gt; SomePublicClass.myPublicStaticFunc(anyInt()))\n               .thenReturn(5);\n    // when\n    System.out.println(SomePublicClass.myPublicStaticFunc(7));\n    //then\n    dummyStatic.verify(            \n            () -&gt; SomePublicClass.myPublicStaticFunc(anyInt()), times(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4769045,"reputation":10243,"user_id":3854385,"display_name":"Loren"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1641658786,"creation_date":1641658786,"answer_id":70634186,"question_id":63006056,"body_markdown":"Since **Mockito-Inline 4.0** the order of parameters for verify has been reversed to match the other verification methods:\r\n\r\nTest when static method takes no arguments:\r\n```\r\ntry (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\r\n    dummyStatic.when(SomePublicClass::myPublicStaticFunc)\r\n               .thenReturn(5);\r\n    // when\r\n    System.out.println(SomePublicClass.myPublicStaticFunc());\r\n    //then\r\n    dummyStatic.verify(\r\n            SomePublicClass::myPublicStaticFunc,\r\n            times(1)\r\n    );\r\n}\r\n```\r\n\r\nTest when static methods takes arguments:\r\n```\r\ntry (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\r\n    dummyStatic.when(() -&gt; SomePublicClass.myPublicStaticFunc(anyInt()))\r\n               .thenReturn(5);\r\n    // when\r\n    System.out.println(SomePublicClass.myPublicStaticFunc(7));\r\n    //then\r\n    dummyStatic.verify(\r\n            () -&gt; SomePublicClass.myPublicStaticFunc(anyInt()),\r\n            times(1)\r\n    );\r\n}\r\n```\r\n","title":"How to verify a public class&#39;s static method get called using mockito?","body":"<p>Since <strong>Mockito-Inline 4.0</strong> the order of parameters for verify has been reversed to match the other verification methods:</p>\n<p>Test when static method takes no arguments:</p>\n<pre><code>try (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\n    dummyStatic.when(SomePublicClass::myPublicStaticFunc)\n               .thenReturn(5);\n    // when\n    System.out.println(SomePublicClass.myPublicStaticFunc());\n    //then\n    dummyStatic.verify(\n            SomePublicClass::myPublicStaticFunc,\n            times(1)\n    );\n}\n</code></pre>\n<p>Test when static methods takes arguments:</p>\n<pre><code>try (MockedStatic&lt;SomePublicClass&gt; dummyStatic = Mockito.mockStatic(SomePublicClass.class)) {\n    dummyStatic.when(() -&gt; SomePublicClass.myPublicStaticFunc(anyInt()))\n               .thenReturn(5);\n    // when\n    System.out.println(SomePublicClass.myPublicStaticFunc(7));\n    //then\n    dummyStatic.verify(\n            () -&gt; SomePublicClass.myPublicStaticFunc(anyInt()),\n            times(1)\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":4352287,"reputation":2771,"user_id":3552178,"accept_rate":66,"display_name":"user3552178"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21766,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":2,"score":14,"last_activity_date":1690473937,"creation_date":1595294616,"question_id":63006056,"body_markdown":"The pseudo code is like this\r\n\r\n    rc = SomePublicClass.myPublicStaticFunc(arg)\r\n\r\n\r\n    public class SomePublicClass {\r\n        private SomePublicClass() {\r\n        }\r\n    \r\n        public static int myPublicStaticFunc(arg) {\r\n            return 5;\r\n        }\r\n    }\r\n\r\n in UT this doesn&#39;t work\r\n\r\n    verify(SomePublicClass, times(1)). myPublicStaticFunc();\r\n\r\nsince this is a public class, how to verify myFunc gets called in mockito in unit test ? If SomePublicClass were a mocked class, this can work.","title":"How to verify a public class&#39;s static method get called using mockito?","body":"<p>The pseudo code is like this</p>\n<pre><code>rc = SomePublicClass.myPublicStaticFunc(arg)\n\n\npublic class SomePublicClass {\n    private SomePublicClass() {\n    }\n\n    public static int myPublicStaticFunc(arg) {\n        return 5;\n    }\n}\n</code></pre>\n<p>in UT this doesn't work</p>\n<pre><code>verify(SomePublicClass, times(1)). myPublicStaticFunc();\n</code></pre>\n<p>since this is a public class, how to verify myFunc gets called in mockito in unit test ? If SomePublicClass were a mocked class, this can work.</p>\n"},{"tags":["java","maven","pom.xml","classpath","maven-enforcer-plugin"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690321990,"post_id":76766623,"comment_id":135336729,"body_markdown":"Why exactly would you need that behaviour? Even if Maven has some order of classpath entries, your IDE might order them differently.","body":"Why exactly would you need that behaviour? Even if Maven has some order of classpath entries, your IDE might order them differently."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1690330090,"post_id":76766623,"comment_id":135337528,"body_markdown":"My IDE respects maven ordering I believe.  (If not, that&#39;s a bug.)  Why do I want this?  Long story, which this comment box is too small too contain.  (Actually that&#39;s not true... I can squeeze it in if you want to know.)  But basically: module `Y` is a third party dependency, and module `X` is our own module which contains an &quot;improved&quot; version of one of the classes from Y so that it does the Right Thing instead of the Wrong Thing.","body":"My IDE respects maven ordering I believe.  (If not, that&#39;s a bug.)  Why do I want this?  Long story, which this comment box is too small too contain.  (Actually that&#39;s not true... I can squeeze it in if you want to know.)  But basically: module <code>Y</code> is a third party dependency, and module <code>X</code> is our own module which contains an &quot;improved&quot; version of one of the classes from Y so that it does the Right Thing instead of the Wrong Thing."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1690349710,"post_id":76766623,"comment_id":135339171,"body_markdown":"If you rely on class path ordering there is something wrong. If your own module contains improved versions you should rename them to prevent classhes ... or it might be a good idea to offer improvements to the project Y.... or creating a version 2 of module Y or very bad would be to fork project Y and change the artifactId and version...","body":"If you rely on class path ordering there is something wrong. If your own module contains improved versions you should rename them to prevent classhes ... or it might be a good idea to offer improvements to the project Y.... or creating a version 2 of module Y or very bad would be to fork project Y and change the artifactId and version..."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1690375225,"post_id":76766623,"comment_id":135344323,"body_markdown":"Project Y has learned its lesson and newer versions no longer repeat the same mistake.  However, newer versions are not backward compatible with the version I&#39;m on, so this doesn&#39;t help me very much.","body":"Project Y has learned its lesson and newer versions no longer repeat the same mistake.  However, newer versions are not backward compatible with the version I&#39;m on, so this doesn&#39;t help me very much."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1690375849,"post_id":76766623,"comment_id":135344554,"body_markdown":"Re: name clashes: the name clash is the whole point!  I need to ensure my class gets loaded instead of the official one.","body":"Re: name clashes: the name clash is the whole point!  I need to ensure my class gets loaded instead of the official one."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1690378815,"post_id":76766623,"comment_id":135345255,"body_markdown":"I&#39;d appreciate if you assume that if I&#39;m doing something &quot;dumb&quot; it&#39;s because there are constraints involved that I didn&#39;t bother to explain, because it would make the question much longer, and then no one would read it.","body":"I&#39;d appreciate if you assume that if I&#39;m doing something &quot;dumb&quot; it&#39;s because there are constraints involved that I didn&#39;t bother to explain, because it would make the question much longer, and then no one would read it."}],"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690473928,"creation_date":1690320493,"question_id":76766623,"body_markdown":"Suppose I have a maven module M which declares a direct dependency on modules X and Y.  I want the classes from X to come before classes from Y in the class path.  Is there any easy way to add a rule in maven enforcer to ensure that if I don&#39;t accidentally swap the order sometime in the future?\r\n\r\nThe question itself is now complete.  Everything below this line is me trying to explain why I want this.\r\n---\r\nWe have a multi-module maven project.  Most modules depend on `protobuf-java:2.4.1` but some depend on 2.5 instead of 2.4.  The ones that depend on 2.5 also depend on those that need 2.4.  Sadly, the `protobuf` maintainers at Google made a big mistake, which they claim they will not repeat again.  The mistake was that they decided that breaking ABI is okay, as long they don&#39;t break API.\r\n\r\nIn particular, in version 2.4 some methods in the class `TextFormat` take an argument of type `Message` whereas in 2.5 they take an argument of type `MessageOrBuilder` which is more general.  This means that if 2.5 is on the runtime class path, any module compiled against 2.4 will crash with `NoSuchMethodError` if it tries to call such a method.\r\n\r\nMy solution was to create another module which contains my own copy of `TextFormat.java` (and doesn&#39;t contain anything else).  My copy adds back the methods that take `Message` which were removed in 2.5.  I&#39;m adding that module as a runtime dependency to those modules which need 2.5, so as &quot;simulate&quot; a version of 2.5 which is backwards-compatible with 2.4.\r\n\r\nI want to add a maven enforcer rule to ensure that this hacky &quot;compat&quot; module always comes before the official module in the class path, so that my fix gets picked up.","title":"maven enforcer enforce class path order","body":"<p>Suppose I have a maven module M which declares a direct dependency on modules X and Y.  I want the classes from X to come before classes from Y in the class path.  Is there any easy way to add a rule in maven enforcer to ensure that if I don't accidentally swap the order sometime in the future?</p>\n<h2>The question itself is now complete.  Everything below this line is me trying to explain why I want this.</h2>\n<p>We have a multi-module maven project.  Most modules depend on <code>protobuf-java:2.4.1</code> but some depend on 2.5 instead of 2.4.  The ones that depend on 2.5 also depend on those that need 2.4.  Sadly, the <code>protobuf</code> maintainers at Google made a big mistake, which they claim they will not repeat again.  The mistake was that they decided that breaking ABI is okay, as long they don't break API.</p>\n<p>In particular, in version 2.4 some methods in the class <code>TextFormat</code> take an argument of type <code>Message</code> whereas in 2.5 they take an argument of type <code>MessageOrBuilder</code> which is more general.  This means that if 2.5 is on the runtime class path, any module compiled against 2.4 will crash with <code>NoSuchMethodError</code> if it tries to call such a method.</p>\n<p>My solution was to create another module which contains my own copy of <code>TextFormat.java</code> (and doesn't contain anything else).  My copy adds back the methods that take <code>Message</code> which were removed in 2.5.  I'm adding that module as a runtime dependency to those modules which need 2.5, so as &quot;simulate&quot; a version of 2.5 which is backwards-compatible with 2.4.</p>\n<p>I want to add a maven enforcer rule to ensure that this hacky &quot;compat&quot; module always comes before the official module in the class path, so that my fix gets picked up.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1690474522,"post_id":76781567,"comment_id":135362262,"body_markdown":"Create a multi module build ....","body":"Create a multi module build ...."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1690474564,"post_id":76781567,"comment_id":135362274,"body_markdown":"Are you using an IDE? If so you can just import both projects, if the service one depends on the entity one, just add the dependency without the scope and systemPath. The IDE should resolve it to you. Just make sure that the version of the entity matches the dependency entry","body":"Are you using an IDE? If so you can just import both projects, if the service one depends on the entity one, just add the dependency without the scope and systemPath. The IDE should resolve it to you. Just make sure that the version of the entity matches the dependency entry"}],"owner":{"account_id":15450425,"reputation":227,"user_id":11145980,"display_name":"MPK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690473797,"creation_date":1690473797,"question_id":76781567,"body_markdown":"I am locally working with 2 projects one for service layer and another for Entity layer. When any change is made in Entity layer I would like to have that change in Service layer. \r\n\r\nWhat would be the best way to manage JAR file from Entity layer in Service layer so that I can have every change from Entity layer for development.\r\n\r\nI tried adding lib folder in Service layer to handle Entity JAR file and made following change in POM\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;projectName&lt;/groupId&gt;\r\n          &lt;artifactId&gt;artifactID&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n          &lt;scope&gt;system&lt;/scope&gt;\r\n          &lt;systemPath&gt;${project.basedir}/lib/Entity-1.0SNAPSHOT.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut could not load files from JAR file.\r\n\r\nIs there any better solutions for this?","title":"Import new JAR file from another project every time to address new change","body":"<p>I am locally working with 2 projects one for service layer and another for Entity layer. When any change is made in Entity layer I would like to have that change in Service layer.</p>\n<p>What would be the best way to manage JAR file from Entity layer in Service layer so that I can have every change from Entity layer for development.</p>\n<p>I tried adding lib folder in Service layer to handle Entity JAR file and made following change in POM</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;dependency&gt;\n      &lt;groupId&gt;projectName&lt;/groupId&gt;\n      &lt;artifactId&gt;artifactID&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;systemPath&gt;${project.basedir}/lib/Entity-1.0SNAPSHOT.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But could not load files from JAR file.</p>\n<p>Is there any better solutions for this?</p>\n"},{"tags":["python","java","playwright","graalvm"],"comments":[{"owner":{"account_id":9880032,"reputation":413,"user_id":11082237,"display_name":"Pierre couy"},"score":0,"creation_date":1690352906,"post_id":76768458,"comment_id":135339599,"body_markdown":"What did you try? I never used GraalVM but googling for &quot;graalvm polyglot&quot; immediately sent me to [GraalVM&#39;s reference manual](https://www.graalvm.org/22.0/reference-manual/polyglot-programming/#running-polyglot-applications) which seems to answer your question quite well","body":"What did you try? I never used GraalVM but googling for &quot;graalvm polyglot&quot; immediately sent me to <a href=\"https://www.graalvm.org/22.0/reference-manual/polyglot-programming/#running-polyglot-applications\" rel=\"nofollow noreferrer\">GraalVM&#39;s reference manual</a> which seems to answer your question quite well"}],"answers":[{"tags":[],"owner":{"account_id":125486,"reputation":2868,"user_id":321302,"accept_rate":100,"display_name":"Steves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690473160,"creation_date":1690473160,"answer_id":76781497,"question_id":76768458,"body_markdown":"Yes, you should be able to do something along those lines:\r\n\r\n            Context ctx = Context.newBuilder(&quot;python&quot;).allowAllAccess(true).build();\r\n            \r\n            // Evaluates the script, which creates the extract_cookies Python function at the &quot;top level&quot;\r\n            ctx.eval(Source.newBuilder(&quot;python&quot;, new File(&quot;extractCookies.py&quot;)).build());\r\n            \r\n            Value extract_cookies = ctx.getBindings(&quot;python&quot;).getMember(&quot;extract_cookies&quot;);\r\n            Value extracted_cookies = extract_cookies.execute();\r\n            \r\n            // Let&#39;s say the result is a Python list:\r\n            extracted_cookies.getArrayElement(0); // to get the first element\r\n            extracted_cookies.getArraySize(); // to get the size\r\n            \r\n            // Let&#39;s say it is not a list, but can be iterated:\r\n            Value iterator = extracted_cookies.getIterator();\r\n            while (iterator.hasIteratorNextElement()) {\r\n                Value element = iterator.getIteratorNextElement();\r\n                // ...\r\n            }","title":"Is it possible to share an object from a Python application to a Java application in a GraalVM instance?","body":"<p>Yes, you should be able to do something along those lines:</p>\n<pre><code>        Context ctx = Context.newBuilder(&quot;python&quot;).allowAllAccess(true).build();\n        \n        // Evaluates the script, which creates the extract_cookies Python function at the &quot;top level&quot;\n        ctx.eval(Source.newBuilder(&quot;python&quot;, new File(&quot;extractCookies.py&quot;)).build());\n        \n        Value extract_cookies = ctx.getBindings(&quot;python&quot;).getMember(&quot;extract_cookies&quot;);\n        Value extracted_cookies = extract_cookies.execute();\n        \n        // Let's say the result is a Python list:\n        extracted_cookies.getArrayElement(0); // to get the first element\n        extracted_cookies.getArraySize(); // to get the size\n        \n        // Let's say it is not a list, but can be iterated:\n        Value iterator = extracted_cookies.getIterator();\n        while (iterator.hasIteratorNextElement()) {\n            Value element = iterator.getIteratorNextElement();\n            // ...\n        }\n</code></pre>\n"}],"owner":{"account_id":14530386,"reputation":1,"user_id":22045937,"display_name":"Manoj Raghavendran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690473160,"creation_date":1690351880,"question_id":76768458,"body_markdown":"I have a python application that uses Playwright to navigate to a webpage, extract cookies and store them in a list. What I want is to send this object to a Java application running in the same GraalVM instance so that the Java application can store the cookies in a database.\r\n\r\n\r\nHere&#39;s the Python code:\r\n\r\n```\r\n# extractCookies.py\r\nfrom playwright.sync_api import sync_playwright\r\n\r\ndef extract_cookies():\r\n    with sync_playwright() as p:\r\n        browser = p.chromium.launch()\r\n        page = browser.new_page()\r\n        page.goto(&#39;https://google.com&#39;)\r\n        cookies = page.context.cookies()\r\n        browser.close()\r\n        return cookies\r\n\r\nif __name__ == &quot;__main__&quot;:\r\n    extracted_cookies = extract_cookies()\r\n```\r\nIs this possible in GraalVM through the Polyglot API or through some other means?","title":"Is it possible to share an object from a Python application to a Java application in a GraalVM instance?","body":"<p>I have a python application that uses Playwright to navigate to a webpage, extract cookies and store them in a list. What I want is to send this object to a Java application running in the same GraalVM instance so that the Java application can store the cookies in a database.</p>\n<p>Here's the Python code:</p>\n<pre><code># extractCookies.py\nfrom playwright.sync_api import sync_playwright\n\ndef extract_cookies():\n    with sync_playwright() as p:\n        browser = p.chromium.launch()\n        page = browser.new_page()\n        page.goto('https://google.com')\n        cookies = page.context.cookies()\n        browser.close()\n        return cookies\n\nif __name__ == &quot;__main__&quot;:\n    extracted_cookies = extract_cookies()\n</code></pre>\n<p>Is this possible in GraalVM through the Polyglot API or through some other means?</p>\n"},{"tags":["java","inheritance","sonarqube"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690367905,"post_id":76770187,"comment_id":135342702,"body_markdown":"Please include the exact error in the question","body":"Please include the exact error in the question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1690368267,"post_id":76770187,"comment_id":135342775,"body_markdown":"Using `List&lt;? extends Parent&gt;` states that you get a list of `Parent` or a list of some subclass of `Parent`, that means, regarding type safety: (i) you cannot add any element to the list (example: `Parent` should not be added to `List&lt;Child&gt;`, `Child` not to `List&lt;OtherChild`;) (ii) you can only expect `Parent` elements from such a list -- returning `List&lt;Parent` *solves* both","body":"Using <code>List&lt;? extends Parent&gt;</code> states that you get a list of <code>Parent</code> or a list of some subclass of <code>Parent</code>, that means, regarding type safety: (i) you cannot add any element to the list (example: <code>Parent</code> should not be added to <code>List&lt;Child&gt;</code>, <code>Child</code> not to <code>List&lt;OtherChild</code>;) (ii) you can only expect <code>Parent</code> elements from such a list -- returning <code>List&lt;Parent</code> <i>solves</i> both"},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690374032,"post_id":76770187,"comment_id":135343990,"body_markdown":"@TimMoore sonar just says that &quot;Generic wildcard types should not be used in return types&quot;.\n@user16320675 the compiler doesn&#39;t allow simply returning `List&lt;Parent&gt;`, that&#39;s the point.","body":"@TimMoore sonar just says that &quot;Generic wildcard types should not be used in return types&quot;. @user16320675 the compiler doesn&#39;t allow simply returning <code>List&lt;Parent&gt;</code>, that&#39;s the point."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690413228,"post_id":76770187,"comment_id":135351995,"body_markdown":"The reason I asked you to put the error message into the question (not just in a comment) is so that people can search for that error message and find this question in the future. Remember that the purpose of StackOverflow is to [to build a library of detailed, high-quality answers to every question about programming](https://stackoverflow.com/tour). In fact, if you search for the error message, you might find existing helpful explanations, on both this site and others.","body":"The reason I asked you to put the error message into the question (not just in a comment) is so that people can search for that error message and find this question in the future. Remember that the purpose of StackOverflow is to <a href=\"https://stackoverflow.com/tour\">to build a library of detailed, high-quality answers to every question about programming</a>. In fact, if you search for the error message, you might find existing helpful explanations, on both this site and others."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690449963,"post_id":76770187,"comment_id":135356570,"body_markdown":"@user16320675 the problem is that I create both a List&lt;Parent&gt; and a List&lt;Child&gt;. Are you suggesting that I should convert the List&lt;Child&gt; to a List&lt;Parent&gt; ?","body":"@user16320675 the problem is that I create both a List&lt;Parent&gt; and a List&lt;Child&gt;. Are you suggesting that I should convert the List&lt;Child&gt; to a List&lt;Parent&gt; ?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690451924,"post_id":76770187,"comment_id":135356982,"body_markdown":"What does the caller do with the list?","body":"What does the caller do with the list?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1690454274,"post_id":76770187,"comment_id":135357480,"body_markdown":"Does this answer your question? [Generic wildcard types should not be used in return parameters](https://stackoverflow.com/questions/22815023/generic-wildcard-types-should-not-be-used-in-return-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22815023/generic-wildcard-types-should-not-be-used-in-return-parameters\">Generic wildcard types should not be used in return parameters</a>"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1690454349,"post_id":76770187,"comment_id":135357498,"body_markdown":"`public List&lt;Parent&gt; getListOfStuff(boolean p) {}` should work","body":"<code>public List&lt;Parent&gt; getListOfStuff(boolean p) {}</code> should work"},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690461218,"post_id":76770187,"comment_id":135359003,"body_markdown":"@TimMoore nothing really, it just returns it to the controller, which returns it to the client which made the http call. But it means the controller method also has wildard type as return parameter, and sonar isn&#39;t happy.","body":"@TimMoore nothing really, it just returns it to the controller, which returns it to the client which made the http call. But it means the controller method also has wildard type as return parameter, and sonar isn&#39;t happy."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690461400,"post_id":76770187,"comment_id":135359047,"body_markdown":"@Joe no, it just says it&#39;s bad to use wildcard types as return parameter, but not how one should do to avoid it.","body":"@Joe no, it just says it&#39;s bad to use wildcard types as return parameter, but not how one should do to avoid it."},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690461434,"post_id":76770187,"comment_id":135359059,"body_markdown":"@OlegCherednik no, I tried, the compiler doesn&#39;t accept it, which is why I had to use the wildcard.","body":"@OlegCherednik no, I tried, the compiler doesn&#39;t accept it, which is why I had to use the wildcard."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690463054,"post_id":76770187,"comment_id":135359499,"body_markdown":"I’m assuming that your actual code doesn’t return empty lists then, correct?","body":"I’m assuming that your actual code doesn’t return empty lists then, correct?"},{"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"score":0,"creation_date":1690466666,"post_id":76770187,"comment_id":135360444,"body_markdown":"@TimMoore Indeed they aren&#39;t empty. Both methods return the list of the same elements, except that the second one performs a join on a second table to populate the additional attributes of the `Child` class. Depending on if I need that additional information, I call one method or the other.","body":"@TimMoore Indeed they aren&#39;t empty. Both methods return the list of the same elements, except that the second one performs a join on a second table to populate the additional attributes of the <code>Child</code> class. Depending on if I need that additional information, I call one method or the other."}],"answers":[{"tags":[],"owner":{"account_id":14218716,"reputation":76,"user_id":10271769,"display_name":"ChristianRein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690468600,"creation_date":1690456095,"answer_id":76779135,"question_id":76770187,"body_markdown":"As your class Child extends your class Parent, you can easily write\r\n\r\n    public class Parent {\r\n    \r\n        public List&lt;Parent&gt; getListOfStuff(final boolean p) {\r\n            return p\r\n                    ? myOtherMethodThatReturnsListOfParents()\r\n                    : new ArrayList&lt;&gt;(myOtherMethodThatReturnsListOfChildren());\r\n        }\r\n    \r\n        private List&lt;Child&gt; myOtherMethodThatReturnsListOfChildren() {\r\n            return List.of(new Child());\r\n        }\r\n    \r\n        private List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\r\n            return List.of(new Parent());\r\n        }\r\n    \r\n    }\r\n\r\nThis way, Sonar accepts it.\r\n\r\nIn the calling method, you may use instanceof to decide if you recieved a Child or a Parent object. In JUnit5, you may use assertInstanceOf:\r\n\r\n    @Test\r\n    void parents() {\r\n        // when\r\n        final List&lt;Parent&gt; result = new Parent().getListOfStuff(true);\r\n    \r\n        // then\r\n        assertInstanceOf(Parent.class, result.get(0));\r\n        assertInstanceOf(Child.class, result.get(0)); // fails\r\n    }\r\n\r\n    @Test\r\n    void children() {\r\n        // when\r\n        final List&lt;Parent&gt; result = new Parent().getListOfStuff(false);\r\n    \r\n        // then\r\n        assertInstanceOf(Child.class, result.get(0));\r\n        assertInstanceOf(Parent.class, result.get(0));\r\n    }","title":"Properly return list of class or of subclass","body":"<p>As your class Child extends your class Parent, you can easily write</p>\n<pre><code>public class Parent {\n\n    public List&lt;Parent&gt; getListOfStuff(final boolean p) {\n        return p\n                ? myOtherMethodThatReturnsListOfParents()\n                : new ArrayList&lt;&gt;(myOtherMethodThatReturnsListOfChildren());\n    }\n\n    private List&lt;Child&gt; myOtherMethodThatReturnsListOfChildren() {\n        return List.of(new Child());\n    }\n\n    private List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\n        return List.of(new Parent());\n    }\n\n}\n</code></pre>\n<p>This way, Sonar accepts it.</p>\n<p>In the calling method, you may use instanceof to decide if you recieved a Child or a Parent object. In JUnit5, you may use assertInstanceOf:</p>\n<pre><code>@Test\nvoid parents() {\n    // when\n    final List&lt;Parent&gt; result = new Parent().getListOfStuff(true);\n\n    // then\n    assertInstanceOf(Parent.class, result.get(0));\n    assertInstanceOf(Child.class, result.get(0)); // fails\n}\n\n@Test\nvoid children() {\n    // when\n    final List&lt;Parent&gt; result = new Parent().getListOfStuff(false);\n\n    // then\n    assertInstanceOf(Child.class, result.get(0));\n    assertInstanceOf(Parent.class, result.get(0));\n}\n</code></pre>\n"}],"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76779135,"answer_count":1,"score":0,"last_activity_date":1690473100,"creation_date":1690366382,"question_id":76770187,"body_markdown":"My situation is rather simple, I have a class `Parent` and a class `Child` which is extending `Parent`.\r\n\r\nIf I have a method getStuff that can return either an instance of Parent or of Child, I can simply do that:\r\n\r\n    public Parent getStuff(boolean p) {\r\n      return p ? new Parent() : new Child();\r\n    }\r\n\r\nNow what if my method can return either `List&lt;Parent&gt;` or `List&lt;Child&gt;`? I have to do that:\r\n\r\n    public List&lt;? extends Parent&gt; getListOfStuff(boolean p) {\r\n      return p\r\n        ? myOtherMethodThatReturnsListOfParents()\r\n        : myOtherMethodThatReturnsListOfChilds();\r\n    }\r\n    \r\n    public List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\r\n      return new ArrayList&lt;Parent&gt;();\r\n    }\r\n    \r\n    public List&lt;Child&gt; myOtherMethodThatReturnsListOfChilds(boolean p) {\r\n      return new ArrayList&lt;Child&gt;();\r\n    }\r\n\r\n\r\nBut when I do that, Sonar reports [&quot;Generic wildcard types should not be used in return types&quot;](https://rules.sonarsource.com/java/RSPEC-1452/) as a critical problem.\r\n\r\nWhat is the proper way of fixing it?\r\n\r\nThanks\r\n\r\n\r\nEDIT: the cleanest solution I&#39;ve seen is ChristianRein&#39;s solution below (rebuild the `List&lt;Child&gt;` as a `List&lt;Parent&gt;`, it does exactly what I want and is so obvious in insight):\r\n\r\n    public List&lt;Parent&gt; getListOfStuff(boolean p) {\r\n      return p\r\n        ? myOtherMethodThatReturnsListOfParents()\r\n        : new ArrayList&lt;Parent&gt;(myOtherMethodThatReturnsListOfChilds());\r\n    }","title":"Properly return list of class or of subclass","body":"<p>My situation is rather simple, I have a class <code>Parent</code> and a class <code>Child</code> which is extending <code>Parent</code>.</p>\n<p>If I have a method getStuff that can return either an instance of Parent or of Child, I can simply do that:</p>\n<pre><code>public Parent getStuff(boolean p) {\n  return p ? new Parent() : new Child();\n}\n</code></pre>\n<p>Now what if my method can return either <code>List&lt;Parent&gt;</code> or <code>List&lt;Child&gt;</code>? I have to do that:</p>\n<pre><code>public List&lt;? extends Parent&gt; getListOfStuff(boolean p) {\n  return p\n    ? myOtherMethodThatReturnsListOfParents()\n    : myOtherMethodThatReturnsListOfChilds();\n}\n\npublic List&lt;Parent&gt; myOtherMethodThatReturnsListOfParents() {\n  return new ArrayList&lt;Parent&gt;();\n}\n\npublic List&lt;Child&gt; myOtherMethodThatReturnsListOfChilds(boolean p) {\n  return new ArrayList&lt;Child&gt;();\n}\n</code></pre>\n<p>But when I do that, Sonar reports <a href=\"https://rules.sonarsource.com/java/RSPEC-1452/\" rel=\"nofollow noreferrer\">&quot;Generic wildcard types should not be used in return types&quot;</a> as a critical problem.</p>\n<p>What is the proper way of fixing it?</p>\n<p>Thanks</p>\n<p>EDIT: the cleanest solution I've seen is ChristianRein's solution below (rebuild the <code>List&lt;Child&gt;</code> as a <code>List&lt;Parent&gt;</code>, it does exactly what I want and is so obvious in insight):</p>\n<pre><code>public List&lt;Parent&gt; getListOfStuff(boolean p) {\n  return p\n    ? myOtherMethodThatReturnsListOfParents()\n    : new ArrayList&lt;Parent&gt;(myOtherMethodThatReturnsListOfChilds());\n}\n</code></pre>\n"},{"tags":["java","android","webview","scroll","overriding"],"comments":[{"owner":{"account_id":27396943,"reputation":87,"user_id":20898993,"display_name":"Thug Life"},"score":1,"creation_date":1690311280,"post_id":76764769,"comment_id":135334952,"body_markdown":"The method onScrollChange takes View as it&#39;s first argument. You are passing Webview. In the case of overriding, method signature must be same. Change it as:\n@Override\n        public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n            isScrolling = true;\n            isScrolledToTheTop = (scrollY == 0);\n        }","body":"The method onScrollChange takes View as it&#39;s first argument. You are passing Webview. In the case of overriding, method signature must be same. Change it as: @Override         public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {             isScrolling = true;             isScrolledToTheTop = (scrollY == 0);         }"}],"answers":[{"tags":[],"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690473010,"creation_date":1690473010,"answer_id":76781478,"question_id":76764769,"body_markdown":"It was the wrong signatur as Thug Life suggested in the Comment.\r\n\r\nThe correct code should be like this:\r\n\r\n    import android.view.View;\r\n    import android.webkit.WebResourceRequest;\r\n    import android.webkit.WebView;\r\n    \r\n    ...\r\n\r\n        // Set custom OnScrollChangeListener\r\n    setOnScrollChangeListener(new OnScrollChangeListener() {\r\n        @Override\r\n        public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n            isScrolling = true;\r\n            isScrolledToTheTop = (scrollY == 0);\r\n        }\r\n    });\r\n\r\n\r\nI don&#39;t want to ask why Java not just said the signature does not match any available supertype method. I am glad that my project is C++ based (C++ simply tells you about a not matching signature) and that I did only need this little Java snipped.\r\n","title":"Java Android add OnScrollChangeListener","body":"<p>It was the wrong signatur as Thug Life suggested in the Comment.</p>\n<p>The correct code should be like this:</p>\n<pre><code>import android.view.View;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebView;\n\n...\n\n    // Set custom OnScrollChangeListener\nsetOnScrollChangeListener(new OnScrollChangeListener() {\n    @Override\n    public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n        isScrolling = true;\n        isScrolledToTheTop = (scrollY == 0);\n    }\n});\n</code></pre>\n<p>I don't want to ask why Java not just said the signature does not match any available supertype method. I am glad that my project is C++ based (C++ simply tells you about a not matching signature) and that I did only need this little Java snipped.</p>\n"}],"owner":{"account_id":2575444,"reputation":152,"user_id":2233256,"accept_rate":80,"display_name":"aqm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690473010,"creation_date":1690302676,"question_id":76764769,"body_markdown":"I was trying to add a OnScrollChangeListener to a Custom Webview I am developing. But it won&#39;t compile. Following Code I am using:\r\n\r\n        // Set custom OnScrollChangeListener\r\n        setOnScrollChangeListener(new OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(Webview view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                isScrolling = true;\r\n                isScrolledToTheTop = (scrollY == 0);\r\n            }\r\n        });\r\n\r\nBut when compiling I got following Errors which makes no sense to me:\r\n\r\n    /.../VEMAWebview.java:36: error: &lt;anonymous de.X.Y.VEMAWebview$1&gt; is not abstract and does not override abstract method onScrollChange(View,int,int,int,int) in OnScrollChangeListener\r\n            setOnScrollChangeListener(new OnScrollChangeListener() {\r\n                                                                   ^\r\n    /.../VEMAWebview.java:37: error: method does not override or implement a method from a supertype\r\n                @Override\r\n                ^\r\nwhere above mentioned onScrollChange Funktion is in Line 37.\r\n\r\nBasically it&#39;s saying that the onScrollChange was not overridden. \r\nand in the next line it says the @override is not allowed because it is not overriding any function\r\n\r\nHow can I solve this ?","title":"Java Android add OnScrollChangeListener","body":"<p>I was trying to add a OnScrollChangeListener to a Custom Webview I am developing. But it won't compile. Following Code I am using:</p>\n<pre><code>    // Set custom OnScrollChangeListener\n    setOnScrollChangeListener(new OnScrollChangeListener() {\n        @Override\n        public void onScrollChange(Webview view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\n            isScrolling = true;\n            isScrolledToTheTop = (scrollY == 0);\n        }\n    });\n</code></pre>\n<p>But when compiling I got following Errors which makes no sense to me:</p>\n<pre><code>/.../VEMAWebview.java:36: error: &lt;anonymous de.X.Y.VEMAWebview$1&gt; is not abstract and does not override abstract method onScrollChange(View,int,int,int,int) in OnScrollChangeListener\n        setOnScrollChangeListener(new OnScrollChangeListener() {\n                                                               ^\n/.../VEMAWebview.java:37: error: method does not override or implement a method from a supertype\n            @Override\n            ^\n</code></pre>\n<p>where above mentioned onScrollChange Funktion is in Line 37.</p>\n<p>Basically it's saying that the onScrollChange was not overridden.\nand in the next line it says the @override is not allowed because it is not overriding any function</p>\n<p>How can I solve this ?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690471569,"post_id":76781269,"comment_id":135361649,"body_markdown":"Can you add the raw bytes and serialize them to JSON? Sure. Will the web client recognize it as a file download? No. To do that, you have to send a response with the correct headers, containing *only* the file and no additional DTO or fields.","body":"Can you add the raw bytes and serialize them to JSON? Sure. Will the web client recognize it as a file download? No. To do that, you have to send a response with the correct headers, containing <i>only</i> the file and no additional DTO or fields."},{"owner":{"account_id":29104420,"reputation":1,"user_id":22295565,"display_name":"Green"},"score":0,"creation_date":1690471923,"post_id":76781269,"comment_id":135361727,"body_markdown":"Thank you. I will add another endpoint.","body":"Thank you. I will add another endpoint."}],"answers":[{"tags":[],"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690472838,"creation_date":1690472838,"answer_id":76781453,"question_id":76781269,"body_markdown":"It depends on what you want to achieve. It is possible to return a file in JSON (or XML, CSV... as long as it&#39;s a textual datatype) by encoding the file in a base64 string and setting it in your DTO as a field.\r\n\r\nThis a classic approach, but beware of some performance shortcomings. Mainly in terms of memory as the whole file will be loaded in memory as `byte[]` at some point, which can be pretty problematic depending on the type of file and server load.\r\n\r\nHere is some documentation on how to do it : [link](https://www.baeldung.com/java-base64-encode-and-decode)\r\n\r\nOtherwise, you can create another endpoint with a `Resource` and proper mime-type.","title":"Response DTO with file within","body":"<p>It depends on what you want to achieve. It is possible to return a file in JSON (or XML, CSV... as long as it's a textual datatype) by encoding the file in a base64 string and setting it in your DTO as a field.</p>\n<p>This a classic approach, but beware of some performance shortcomings. Mainly in terms of memory as the whole file will be loaded in memory as <code>byte[]</code> at some point, which can be pretty problematic depending on the type of file and server load.</p>\n<p>Here is some documentation on how to do it : <a href=\"https://www.baeldung.com/java-base64-encode-and-decode\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Otherwise, you can create another endpoint with a <code>Resource</code> and proper mime-type.</p>\n"}],"owner":{"account_id":29104420,"reputation":1,"user_id":22295565,"display_name":"Green"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690472838,"creation_date":1690471407,"question_id":76781269,"body_markdown":"I have some question. Can you actualy return file within dto, or it is impossible?\r\nIf it possible, how can I do it correctly in Spring rest controller?\r\n\r\nFor example:\r\n\r\n\r\n```\r\n@GetMapping(path = &quot;/getData&quot;, produces = &quot;???&quot;)\r\npublic ResponseEntity&lt;DtoWithFile&gt; getData() {\r\n    // Some logic\r\n    return ResponseEntity.ok(new Dto(&quot;name&quot;, 21, myFile));\r\n}\r\n```\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\npublic class DtoWithFile {\r\n    private String name;\r\n    private int id;\r\n    private ???? file;\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried to add Resource, custom MultipartFile, byte[]\r\nAnd excepted that I will get reponse dto and download file","title":"Response DTO with file within","body":"<p>I have some question. Can you actualy return file within dto, or it is impossible?\nIf it possible, how can I do it correctly in Spring rest controller?</p>\n<p>For example:</p>\n<pre><code>@GetMapping(path = &quot;/getData&quot;, produces = &quot;???&quot;)\npublic ResponseEntity&lt;DtoWithFile&gt; getData() {\n    // Some logic\n    return ResponseEntity.ok(new Dto(&quot;name&quot;, 21, myFile));\n}\n</code></pre>\n<pre><code>@Data\n@AllArgsConstructor\npublic class DtoWithFile {\n    private String name;\n    private int id;\n    private ???? file;\n}\n</code></pre>\n<p>I have tried to add Resource, custom MultipartFile, byte[]\nAnd excepted that I will get reponse dto and download file</p>\n"},{"tags":["java","yaml","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":3362599,"reputation":539,"user_id":2824080,"accept_rate":70,"display_name":"robross0606"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690472198,"creation_date":1690472198,"answer_id":76781371,"question_id":76781250,"body_markdown":"Got it.  Very simply, this pattern seems to work for me:\r\n```java\r\n\r\nimport org.yaml.snakeyaml.DumperOptions;\r\nimport org.yaml.snakeyaml.LoaderOptions;\r\nimport org.yaml.snakeyaml.Yaml;\r\nimport org.yaml.snakeyaml.constructor.SafeConstructor;\r\nimport org.yaml.snakeyaml.nodes.Node;\r\nimport org.yaml.snakeyaml.representer.Representer;\r\n\r\n// ...\r\n\r\nLoaderOptions loadOptions = new LoaderOptions();\r\nloadOptions.setProcessComments(true);\r\nDumperOptions dumpOptions = new DumperOptions();\r\ndumpOptions.setProcessComments(true);\r\nYaml yaml = new Yaml(new SafeConstructor(loadOptions), new Representer(dumpOptions), dumpOptions, loadOptions);\r\nNode rootNode = yaml.compose(myInputStream);\r\n\r\n// ...\r\n\r\nyaml.serialize(rootNode, outputWriter);\r\n```","title":"How to use SnakeYaml setProcessComments() on LoaderOptions and DumperOptions","body":"<p>Got it.  Very simply, this pattern seems to work for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.yaml.snakeyaml.DumperOptions;\nimport org.yaml.snakeyaml.LoaderOptions;\nimport org.yaml.snakeyaml.Yaml;\nimport org.yaml.snakeyaml.constructor.SafeConstructor;\nimport org.yaml.snakeyaml.nodes.Node;\nimport org.yaml.snakeyaml.representer.Representer;\n\n// ...\n\nLoaderOptions loadOptions = new LoaderOptions();\nloadOptions.setProcessComments(true);\nDumperOptions dumpOptions = new DumperOptions();\ndumpOptions.setProcessComments(true);\nYaml yaml = new Yaml(new SafeConstructor(loadOptions), new Representer(dumpOptions), dumpOptions, loadOptions);\nNode rootNode = yaml.compose(myInputStream);\n\n// ...\n\nyaml.serialize(rootNode, outputWriter);\n</code></pre>\n"}],"owner":{"account_id":3362599,"reputation":539,"user_id":2824080,"accept_rate":70,"display_name":"robross0606"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690472198,"creation_date":1690471272,"question_id":76781250,"body_markdown":"SnakeYaml API appears to have a very interesting feature for preserving comments during both loading and dumping (`setProcessComments(true)`).  I have confirmed in the debugger that it does ingest and track the comments, as I can find them on the `Node` representation tree after using `compose(fileStream)`.  However, I have yet to find any kind of documentation of this feature or how it would be useful, especially on the output side of things.  But this certainly seems possible since `DumperOptions.setProcessComments(true)` is available.\r\n\r\nAll the documentation I&#39;ve found focuses on `Map` and/or JavaBean loading and dumping, neither of which seems to be able to benefit from the comments stored on the `Node` tree.  Or, if it does, I&#39;m not clear how.\r\n\r\nCan anyone provide a relatively simple &quot;round trip&quot; example where a YAML file is loaded with comments and then dumped with comments?","title":"How to use SnakeYaml setProcessComments() on LoaderOptions and DumperOptions","body":"<p>SnakeYaml API appears to have a very interesting feature for preserving comments during both loading and dumping (<code>setProcessComments(true)</code>).  I have confirmed in the debugger that it does ingest and track the comments, as I can find them on the <code>Node</code> representation tree after using <code>compose(fileStream)</code>.  However, I have yet to find any kind of documentation of this feature or how it would be useful, especially on the output side of things.  But this certainly seems possible since <code>DumperOptions.setProcessComments(true)</code> is available.</p>\n<p>All the documentation I've found focuses on <code>Map</code> and/or JavaBean loading and dumping, neither of which seems to be able to benefit from the comments stored on the <code>Node</code> tree.  Or, if it does, I'm not clear how.</p>\n<p>Can anyone provide a relatively simple &quot;round trip&quot; example where a YAML file is loaded with comments and then dumped with comments?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":11024638,"reputation":126,"user_id":8097900,"display_name":"Leon Klute"},"score":0,"creation_date":1688644776,"post_id":76628479,"comment_id":135103321,"body_markdown":"Could you shorten your `authorizeHttpRequests` configuration to  just the lines  causing the error?","body":"Could you shorten your <code>authorizeHttpRequests</code> configuration to  just the lines  causing the error?"},{"owner":{"account_id":20351337,"reputation":1,"user_id":14927960,"display_name":"vagabond"},"score":0,"creation_date":1688645631,"post_id":76628479,"comment_id":135103514,"body_markdown":"@LeonKlute Hey thats what I dont understand like which parts are causing this error.","body":"@LeonKlute Hey thats what I dont understand like which parts are causing this error."},{"owner":{"account_id":11024638,"reputation":126,"user_id":8097900,"display_name":"Leon Klute"},"score":0,"creation_date":1688646164,"post_id":76628479,"comment_id":135103631,"body_markdown":"You could just start removing parts of the configuration until the error disappears, then you will know which part of the configuration is causing the error.","body":"You could just start removing parts of the configuration until the error disappears, then you will know which part of the configuration is causing the error."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1688658026,"post_id":76628479,"comment_id":135106434,"body_markdown":"basically what the error is saying is that you have not configured the client information that is needed if you are going to login against a third party issuer like for instance google, facebook etc. you have `spring-boot-starter-oauth2-client` on your classpath and you have not configured the oauth2 client. Read the docs!","body":"basically what the error is saying is that you have not configured the client information that is needed if you are going to login against a third party issuer like for instance google, facebook etc. you have <code>spring-boot-starter-oauth2-client</code> on your classpath and you have not configured the oauth2 client. Read the docs!"}],"answers":[{"tags":[],"owner":{"account_id":21516884,"reputation":1,"user_id":15858581,"display_name":"panda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690452450,"creation_date":1690452450,"answer_id":76778659,"question_id":76628479,"body_markdown":"spring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          google-idp:\r\n            provider: google\r\n            client-id: ${GOOGLE_CLIENT_ID:google-client-id}\r\n            client-secret: ${GOOGLE_CLIENT_SECRET:google-client-secret}\r\n            scope: openid, https://www.googleapis.com/auth/userinfo.profile, https://www.googleapis.com/auth/userinfo.email\r\n            client-name: Sign in with Google\r\n          github-idp:\r\n            provider: github\r\n            client-id: ${GITHUB_CLIENT_ID:github-client-id}\r\n            client-secret: ${GITHUB_CLIENT_SECRET:github-client-secret}\r\n            scope: user:email, read:user\r\n            client-name: Sign in with GitHub\r\n        provider:\r\n          google:\r\n            user-name-attribute: email\r\n          github:\r\n            user-name-attribute: login\r\n\r\n\r\nyml 配置你也要使用官方的demo里面的，原因是因为client配置","title":"Parameter 0 of method setFilterChains error","body":"<p>spring:\nsecurity:\noauth2:\nclient:\nregistration:\ngoogle-idp:\nprovider: google\nclient-id: ${GOOGLE_CLIENT_ID:google-client-id}\nclient-secret: ${GOOGLE_CLIENT_SECRET:google-client-secret}\nscope: openid, <a href=\"https://www.googleapis.com/auth/userinfo.profile\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/userinfo.profile</a>, <a href=\"https://www.googleapis.com/auth/userinfo.email\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/userinfo.email</a>\nclient-name: Sign in with Google\ngithub-idp:\nprovider: github\nclient-id: ${GITHUB_CLIENT_ID:github-client-id}\nclient-secret: ${GITHUB_CLIENT_SECRET:github-client-secret}\nscope: user:email, read:user\nclient-name: Sign in with GitHub\nprovider:\ngoogle:\nuser-name-attribute: email\ngithub:\nuser-name-attribute: login</p>\n<p>yml 配置你也要使用官方的demo里面的，原因是因为client配置</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690471801,"creation_date":1690471801,"answer_id":76781317,"question_id":76628479,"body_markdown":"You have most probably not provided the `spring.security.oauth2.client` properties for the OAuth2 login: when this properties are missing, Spring Boot does not auto-configured a repository for OAuth2 client authorizations.\r\n\r\nMany complete OAuth2 security configurations in [my tutorials][1] \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/6.2.0/samples/tutorials#1-oauth2-essentials","title":"Parameter 0 of method setFilterChains error","body":"<p>You have most probably not provided the <code>spring.security.oauth2.client</code> properties for the OAuth2 login: when this properties are missing, Spring Boot does not auto-configured a repository for OAuth2 client authorizations.</p>\n<p>Many complete OAuth2 security configurations in <a href=\"https://github.com/ch4mpy/spring-addons/tree/6.2.0/samples/tutorials#1-oauth2-essentials\" rel=\"nofollow noreferrer\">my tutorials</a></p>\n"}],"owner":{"account_id":20351337,"reputation":1,"user_id":14927960,"display_name":"vagabond"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690471801,"creation_date":1688643798,"question_id":76628479,"body_markdown":"```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t@Autowired\r\n\tGoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\r\n\t@Autowired\r\n\tCustomUserDetailsService customUserDetailsService;\r\n\t@Bean\r\n\tprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests()\r\n\t\t\t\t.requestMatchers(&quot;/&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/shop/**&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/register&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n\t\t\t\t.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.anyRequest()\r\n\t\t\t\t.authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.formLogin()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.failureUrl(&quot;/login?error=true&quot;)\r\n\t\t\t\t.defaultSuccessUrl(&quot;/&quot;)\r\n\t\t\t\t.usernameParameter(&quot;email&quot;)\r\n\t\t\t\t.passwordParameter(&quot;password&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t.oauth2Login()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.successHandler(googleOAuth2SuccessHandler)\r\n\t\t\t\t.and()\r\n\t\t\t\t.logout()\r\n\t\t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n\t\t\t\t.logoutSuccessUrl(&quot;/login&quot;)\r\n\t\t\t\t.invalidateHttpSession(true)\r\n\t\t\t\t.deleteCookies(&quot;JSESSIONID&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t.exceptionHandling()\r\n\t\t\t\t.and()\r\n\t\t\t\t.csrf()\r\n\t\t\t\t.disable();\r\n\t\thttp.headers().frameOptions().disable();\r\n\t\treturn http.build();\r\n\t\t\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n}\r\n```\r\n\r\nThis is my SecurityConfig class which is used to handle authorisation. There is a class called GoogleOAuth2SuccessHandler for handling OAuth login which is pretty irrelevant in this context.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThese are the 3 dependencies which I&#39;m using in pom.xml. These are all from 2023 itself.\r\n\r\n```\r\nDescription:\r\n\r\nParameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&#39; in your configuration.\r\n```\r\n\r\nThis is what I&#39;m facing when I run the app. I&#39;m not sure what the use of this repository is in my app. I&#39;ve checked similar posts over here but they seem to be different kinds of errors than this one.","title":"Parameter 0 of method setFilterChains error","body":"<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Autowired\n    GoogleOAuth2SuccessHandler googleOAuth2SuccessHandler;\n    @Autowired\n    CustomUserDetailsService customUserDetailsService;\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        \n        http\n            .authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;).permitAll()\n                .requestMatchers(&quot;/shop/**&quot;).permitAll()\n                .requestMatchers(&quot;/register&quot;).permitAll()\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n                .requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .failureUrl(&quot;/login?error=true&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and()\n                .oauth2Login()\n                .loginPage(&quot;/login&quot;)\n                .successHandler(googleOAuth2SuccessHandler)\n                .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/login&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .and()\n                .exceptionHandling()\n                .and()\n                .csrf()\n                .disable();\n        http.headers().frameOptions().disable();\n        return http.build();\n        \n    }\n    \n    @Bean\n    public BCryptPasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>This is my SecurityConfig class which is used to handle authorisation. There is a class called GoogleOAuth2SuccessHandler for handling OAuth login which is pretty irrelevant in this context.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>These are the 3 dependencies which I'm using in pom.xml. These are all from 2023 itself.</p>\n<pre><code>Description:\n\nParameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.\n</code></pre>\n<p>This is what I'm facing when I run the app. I'm not sure what the use of this repository is in my app. I've checked similar posts over here but they seem to be different kinds of errors than this one.</p>\n"},{"tags":["java","spring-boot","logging","log4j","slf4j"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690464918,"post_id":76780292,"comment_id":135360012,"body_markdown":"There is no guarantee this will actually group your messages. Instead, use a context (MDC) parameter, or possibly the thread name.","body":"There is no guarantee this will actually group your messages. Instead, use a context (MDC) parameter, or possibly the thread name."},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1690466882,"post_id":76780292,"comment_id":135360485,"body_markdown":"Please refer to this thread that might answer your question. Would recommend to use logback,\nhttps://stackoverflow.com/questions/36875541/process-id-in-logback-logging-pattern?rq=3","body":"Please refer to this thread that might answer your question. Would recommend to use logback, <a href=\"https://stackoverflow.com/questions/36875541/process-id-in-logback-logging-pattern?rq=3\" title=\"process id in logback logging pattern\">stackoverflow.com/questions/36875541/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690471280,"creation_date":1690471280,"answer_id":76781252,"question_id":76780292,"body_markdown":"A log framework normally sends logs to a log server, something running in a separate thread or even process. This enables the log server to run on a lower priority, and to flush all logs even in an application is OOM or forced killed. Building your own log queue may cause you problem when your application malfunctions, and that may be when you need the loggs the most! This implementation will also remove a lot of useful things in the logger, like parameterised logging using varargs, attaching stack traces etc. \r\n\r\nI would recommend that you try to markup each log message with some group ID, **and then use that group ID to group the messages at read-time rather than at insert time**.\r\n\r\nIf the grouping is per thread or other context dependent value, use [MDC][1] to attach the value to each log message. If the grouping is per class or method, use java class methods.\r\n\r\nDepending on what tool you use to visualise the logs, most tools today supports JSON structured logging. To use that, you add a log appender in spring to have each log message as a JSON object. Then you put your Group ID in its separate JSON property, that will make your group filtering more robust compared to free text filtering. \r\n\r\n(To write a log appender is not hard, but maybe a bit out of context for this answer. For logback, you can search for open source code containing &quot;extends EncoderBase&lt;ILoggingEvent&gt;&quot; to find several examples. Then add it to `logback.xml` under `configuration/appender/encoder`\r\n\r\n  [1]: https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html\r\n","title":"How to group logs in spring java","body":"<p>A log framework normally sends logs to a log server, something running in a separate thread or even process. This enables the log server to run on a lower priority, and to flush all logs even in an application is OOM or forced killed. Building your own log queue may cause you problem when your application malfunctions, and that may be when you need the loggs the most! This implementation will also remove a lot of useful things in the logger, like parameterised logging using varargs, attaching stack traces etc.</p>\n<p>I would recommend that you try to markup each log message with some group ID, <strong>and then use that group ID to group the messages at read-time rather than at insert time</strong>.</p>\n<p>If the grouping is per thread or other context dependent value, use <a href=\"https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html\" rel=\"nofollow noreferrer\">MDC</a> to attach the value to each log message. If the grouping is per class or method, use java class methods.</p>\n<p>Depending on what tool you use to visualise the logs, most tools today supports JSON structured logging. To use that, you add a log appender in spring to have each log message as a JSON object. Then you put your Group ID in its separate JSON property, that will make your group filtering more robust compared to free text filtering.</p>\n<p>(To write a log appender is not hard, but maybe a bit out of context for this answer. For logback, you can search for open source code containing &quot;extends EncoderBase&quot; to find several examples. Then add it to <code>logback.xml</code> under <code>configuration/appender/encoder</code></p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690471280,"creation_date":1690464762,"question_id":76780292,"body_markdown":"Is it possible to group logs in Spring java, currently we have a lot of errors, and want to group logs on a key. This is in a multithreaded environment\r\n\r\nI can do the following:\r\n\r\n    public class LogGroup {\r\n        private static final Logger logger = LoggerFactory.getLogger(LogGroup.class);\r\n        private List&lt;String&gt; logMessages = new ArrayList&lt;&gt;();\r\n    \r\n        public void addLogMessage(String message) {\r\n            logMessages.add(message);\r\n        }\r\n    \r\n        public void printGroupedLogs() {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (String message : logMessages) {\r\n                sb.append(message).append(System.lineSeparator());\r\n            }\r\n            logger.info(sb.toString());\r\n    \r\n            // Clear log messages after printing\r\n            logMessages.clear();\r\n        }\r\n    }\r\n\r\nAnd use that to add to a list and print and clear at the end.","title":"How to group logs in spring java","body":"<p>Is it possible to group logs in Spring java, currently we have a lot of errors, and want to group logs on a key. This is in a multithreaded environment</p>\n<p>I can do the following:</p>\n<pre><code>public class LogGroup {\n    private static final Logger logger = LoggerFactory.getLogger(LogGroup.class);\n    private List&lt;String&gt; logMessages = new ArrayList&lt;&gt;();\n\n    public void addLogMessage(String message) {\n        logMessages.add(message);\n    }\n\n    public void printGroupedLogs() {\n        StringBuilder sb = new StringBuilder();\n        for (String message : logMessages) {\n            sb.append(message).append(System.lineSeparator());\n        }\n        logger.info(sb.toString());\n\n        // Clear log messages after printing\n        logMessages.clear();\n    }\n}\n</code></pre>\n<p>And use that to add to a list and print and clear at the end.</p>\n"},{"tags":["java","maven","httpclient","apache-axis"],"comments":[{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1690797819,"post_id":76781249,"comment_id":135398116,"body_markdown":"It depends what you need from the axis2 lib. If the parts you use needs the old lib you won&#39;t be able to remove it without breaking your code.","body":"It depends what you need from the axis2 lib. If the parts you use needs the old lib you won&#39;t be able to remove it without breaking your code."}],"owner":{"account_id":27891295,"reputation":25,"user_id":21297617,"display_name":"ketan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690471267,"creation_date":1690471267,"question_id":76781249,"body_markdown":"we are upgrading from httpclient4 to httpclient5 in our application but we also use axis2 (1.8.2) dependecy in our application, which internally uses httpclient4. as there is no package conflict in httpclient4 and 5 we have included both of them and it works for us. But is there any way we can remove httpclient4 dependency from our project","title":"How to use axis2 (1.8.2) dependency with httpclient5","body":"<p>we are upgrading from httpclient4 to httpclient5 in our application but we also use axis2 (1.8.2) dependecy in our application, which internally uses httpclient4. as there is no package conflict in httpclient4 and 5 we have included both of them and it works for us. But is there any way we can remove httpclient4 dependency from our project</p>\n"},{"tags":["java","android","adb"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1690449651,"post_id":76778202,"comment_id":135356496,"body_markdown":"Are the devices running 7.1.2 the same devices that you test later releases on? I know anecdotally that at least some older Android phones literally needed cell reception to set their real time clock each boot, because they had no battery-powered one.","body":"Are the devices running 7.1.2 the same devices that you test later releases on? I know anecdotally that at least some older Android phones literally needed cell reception to set their real time clock each boot, because they had no battery-powered one."},{"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"score":0,"creation_date":1690450160,"post_id":76778202,"comment_id":135356611,"body_markdown":"I tried with 4 different devices. 2 with Android 7.1.2, one with Android 8.1 and one with Android 9. All the devices have no battery and are powered with cable, because are devices fixed to a wall","body":"I tried with 4 different devices. 2 with Android 7.1.2, one with Android 8.1 and one with Android 9. All the devices have no battery and are powered with cable, because are devices fixed to a wall"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1690463797,"post_id":76778202,"comment_id":135359701,"body_markdown":"Usually systems without real-time clock work his way that they periodically save the current time to disk so that after next reboot they can pic-up at that point. May be Android 7 doesn&#39;t immediately save the newly changed time to disk and by directly rebooting the change is lost? How long do you wait after changing time?","body":"Usually systems without real-time clock work his way that they periodically save the current time to disk so that after next reboot they can pic-up at that point. May be Android 7 doesn&#39;t immediately save the newly changed time to disk and by directly rebooting the change is lost? How long do you wait after changing time?"},{"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"score":0,"creation_date":1690465440,"post_id":76778202,"comment_id":135360132,"body_markdown":"I tried waiting 5 minutes and 2 hours, but the problem was the same","body":"I tried waiting 5 minutes and 2 hours, but the problem was the same"}],"answers":[{"tags":[],"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690470709,"creation_date":1690466048,"answer_id":76780461,"question_id":76778202,"body_markdown":"I have found the solution. I will explain here if it could help somebody in the future.\r\n\r\nI have tested these commands on Android 7.1.2 and work well, but on Android 8.1 does not work (but `toybox date` work well as I said).\r\n\r\nThere are system time and hardware time, and `toybox date` only changes the system time on Android 7.1.2. It is necessary to run these commands after the `toybox date` command to save the time to the hardware time too.\r\nRun on ADB shell:\r\n1) `hwclock -uw`\r\n2) `sync`\r\n\r\nAnd after rebooting the time persists.","title":"Android set system time not persistent after rebooting","body":"<p>I have found the solution. I will explain here if it could help somebody in the future.</p>\n<p>I have tested these commands on Android 7.1.2 and work well, but on Android 8.1 does not work (but <code>toybox date</code> work well as I said).</p>\n<p>There are system time and hardware time, and <code>toybox date</code> only changes the system time on Android 7.1.2. It is necessary to run these commands after the <code>toybox date</code> command to save the time to the hardware time too.\nRun on ADB shell:</p>\n<ol>\n<li><code>hwclock -uw</code></li>\n<li><code>sync</code></li>\n</ol>\n<p>And after rebooting the time persists.</p>\n"}],"owner":{"account_id":22052128,"reputation":329,"user_id":16316260,"display_name":"Oriol Roma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76780461,"answer_count":1,"score":0,"last_activity_date":1690470709,"creation_date":1690449117,"question_id":76778202,"body_markdown":"I have a problem setting the system time with an adb command. I have realized that the following function (that executes a &quot;toybox date&quot; command) works well in Android 8.1 and 9, but on Android 7.1.2 after rebooting the device, the device shows the time before the execution of the command (the previous time).\r\n\r\nSo, summarizing, the steps to reproduce the problem are:\r\n1. Execute the following snippet (the time passed as parameter must be different to current system time)\r\n2. Reboot the device\r\n3. Check the device time. The device shows the time before changing the system time\r\n\r\n\r\nAndroid OS:\r\n\r\n - With Android 7.1.2: the system time set not persists after reboot (I have tested with 2 different devices)\r\n - With Android 8.1 and 9: the system time set persists after reboot\r\n\r\n\r\n\r\nThe function to change system time:\r\n\r\n\r\n```\r\npublic static void changeSystemTime(String year, String month, String day, String hour, String minute, String second) {\r\n    Process process = null;\r\n    try {\r\n        String command = &quot;su 0 toybox date &quot; + month + day + hour + minute + year + &#39;.&#39; + second + &#39;\\n&#39;;\r\n        process = Runtime.getRuntime().exec(command);\r\n        process.waitFor();\r\n    } catch (Exception e) {\r\n        MyLogger.add(Level.SEVERE, &quot;UsefulTools, changeSystemTime: &quot; + MyLogger.generateLogMessage(e));\r\n    } finally {\r\n        if (process != null)\r\n            process.destroy();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nOn my AndroidManifest.xml I have the permissions to set the system time:\r\n\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot;\r\n    android:protectionLevel=&quot;signature|system&quot;\r\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.SET_TIME_ZONE&quot;\r\n    android:protectionLevel=&quot;signature|system&quot;\r\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n```\r\n\r\n\r\n\r\nI have tried to change the system time with the `date` command instead but happens the same.\r\nWhy this is happening? Any ideas to make the system set persistent?","title":"Android set system time not persistent after rebooting","body":"<p>I have a problem setting the system time with an adb command. I have realized that the following function (that executes a &quot;toybox date&quot; command) works well in Android 8.1 and 9, but on Android 7.1.2 after rebooting the device, the device shows the time before the execution of the command (the previous time).</p>\n<p>So, summarizing, the steps to reproduce the problem are:</p>\n<ol>\n<li>Execute the following snippet (the time passed as parameter must be different to current system time)</li>\n<li>Reboot the device</li>\n<li>Check the device time. The device shows the time before changing the system time</li>\n</ol>\n<p>Android OS:</p>\n<ul>\n<li>With Android 7.1.2: the system time set not persists after reboot (I have tested with 2 different devices)</li>\n<li>With Android 8.1 and 9: the system time set persists after reboot</li>\n</ul>\n<p>The function to change system time:</p>\n<pre><code>public static void changeSystemTime(String year, String month, String day, String hour, String minute, String second) {\n    Process process = null;\n    try {\n        String command = &quot;su 0 toybox date &quot; + month + day + hour + minute + year + '.' + second + '\\n';\n        process = Runtime.getRuntime().exec(command);\n        process.waitFor();\n    } catch (Exception e) {\n        MyLogger.add(Level.SEVERE, &quot;UsefulTools, changeSystemTime: &quot; + MyLogger.generateLogMessage(e));\n    } finally {\n        if (process != null)\n            process.destroy();\n    }\n}\n</code></pre>\n<p>On my AndroidManifest.xml I have the permissions to set the system time:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SET_TIME&quot;\n    android:protectionLevel=&quot;signature|system&quot;\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SET_TIME_ZONE&quot;\n    android:protectionLevel=&quot;signature|system&quot;\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n</code></pre>\n<p>I have tried to change the system time with the <code>date</code> command instead but happens the same.\nWhy this is happening? Any ideas to make the system set persistent?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1690477371,"post_id":76781063,"comment_id":135362817,"body_markdown":"&quot;Immediate compaction&quot; is not a proper use case for Kafka. Use a KTable to build latest key-value state, not depend on the brokers to do that for you. Then you can iterate the table statestore to count records, if you need it","body":"&quot;Immediate compaction&quot; is not a proper use case for Kafka. Use a KTable to build latest key-value state, not depend on the brokers to do that for you. Then you can iterate the table statestore to count records, if you need it"},{"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"score":0,"creation_date":1690479509,"post_id":76781063,"comment_id":135363252,"body_markdown":"@OneCricketeer thanks. &quot;Immediate compaction&quot; - I mean count after compaction. I have a job, which will run once per month and I need to count messages in topic for next processing. If KTable is good approach for that I&#39;ll try","body":"@OneCricketeer thanks. &quot;Immediate compaction&quot; - I mean count after compaction. I have a job, which will run once per month and I need to count messages in topic for next processing. If KTable is good approach for that I&#39;ll try"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690489927,"post_id":76781063,"comment_id":135365117,"body_markdown":"In general, Kafka doesn&#39;t really have a way to do this without a consumer. And even if you run the consumer, a compaction could currently be running, and would cause inconsistent counts if you ran the job back to back, for example. Regarding your other question, `endOffsets` is just that. You need to subtract off the beginning offsets, and that would tell you that that many records had been produced, but lets say that returns 1000, but if all have the same key, then there should only be that one record after compaction, so the difference isnt really useful","body":"In general, Kafka doesn&#39;t really have a way to do this without a consumer. And even if you run the consumer, a compaction could currently be running, and would cause inconsistent counts if you ran the job back to back, for example. Regarding your other question, <code>endOffsets</code> is just that. You need to subtract off the beginning offsets, and that would tell you that that many records had been produced, but lets say that returns 1000, but if all have the same key, then there should only be that one record after compaction, so the difference isnt really useful"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690470183,"creation_date":1690470183,"question_id":76781063,"body_markdown":"I&#39;m trying to count messages in kafka topic in case when compaction is on. topic is created via cli, properties segment.bytes=1024 and cleanup.policy=compact are added. tried to set cleaner.max.compaction.lag.ms=10 via cli but get an error java.nio.file.NoSuchFileException: cleaner.max.compaction.lag.ms=10.\r\nSo my questions are:\r\n1. how to apply compaction immediately, which configs I should add?\r\n2. Do I understand correctly if I use KafkaProducer and KafkaConsumer from kafka client(java), producer send some messages and when consumer will get them compaction will applied(if its configured correctly), so for counting actual messages I need consume them again like ?\r\n\r\n    ```ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));```\r\n\r\n3. Can **endOffsets** method find the latest offset for compacted messages which will show count of messages?\r\n\r\n    ```Map&lt;TopicPartition, Long&gt; endPartitions = consumer.endOffsets(partitions);```\r\n\r\nthanks in advance\r\n","title":"How to count messages in Kafka topic if compaction is on?","body":"<p>I'm trying to count messages in kafka topic in case when compaction is on. topic is created via cli, properties segment.bytes=1024 and cleanup.policy=compact are added. tried to set cleaner.max.compaction.lag.ms=10 via cli but get an error java.nio.file.NoSuchFileException: cleaner.max.compaction.lag.ms=10.\nSo my questions are:</p>\n<ol>\n<li><p>how to apply compaction immediately, which configs I should add?</p>\n</li>\n<li><p>Do I understand correctly if I use KafkaProducer and KafkaConsumer from kafka client(java), producer send some messages and when consumer will get them compaction will applied(if its configured correctly), so for counting actual messages I need consume them again like ?</p>\n<p><code>ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));</code></p>\n</li>\n<li><p>Can <strong>endOffsets</strong> method find the latest offset for compacted messages which will show count of messages?</p>\n<p><code>Map&lt;TopicPartition, Long&gt; endPartitions = consumer.endOffsets(partitions);</code></p>\n</li>\n</ol>\n<p>thanks in advance</p>\n"},{"tags":["java","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690470059,"creation_date":1690470059,"answer_id":76781051,"question_id":76776969,"body_markdown":"First of all an `async(true)` doesn&#39;t help if service activator does not return `CompletableFuture` or Reactive Streams `Publisher`.\r\n\r\nThen you have this problem: `correlationStrategy(m -&gt; m != null)`, which always returns `true` for all the messages you send to this aggregator. The further logic of the `AggregatingMessageHandler` does this:\r\n\r\n\t\tUUID groupIdUuid = UUIDConverter.getUUID(correlationKey);\r\n\t\tLock lock = this.lockRegistry.obtain(groupIdUuid.toString());\r\n\r\n\r\nAnd that is locked until we done with the current message. Therefore even if you produce to this aggregator from different threads, you still do aggregation sequential and blocked way. Just because you use the same `Lock` instance for all the messages according to your correlation strategy.\r\n\r\nAnd one more problem: doesn&#39;t looks like you call an HTTP service in parallel. You need to think about adding an `ExecutorChannel` in between `aggregate()` and `handle()`. This way the result of an aggregator (two messages) would be produced to another thread and the current one will be freed to deal with the next message for aggregation.\r\n\r\nWe don&#39;t have an out-of-the-box component to just emit a number of messages in order they arrive: we have only logic based on a correlation key: `AggregatingMessageHandler`, `ResequencingMessageHandler`, `CorrelatingMessageBarrier` and `FluxAggregatorMessageHandler`.\r\n\r\nI think you still may rely on a sequential releasing in the aggregator with that your generic correlation key, but you don&#39;t need a `taskExecutor` on the poller since it does not have any effects, but rather use a `channel(c -&gt; c.executor())` after an aggregator. This way you&#39;ll see parallel calls to your HTTP service with 2 messages each.","title":"Spring Integration DSL: Apply aggregator only based on message count and send to Http end point in parellel","body":"<p>First of all an <code>async(true)</code> doesn't help if service activator does not return <code>CompletableFuture</code> or Reactive Streams <code>Publisher</code>.</p>\n<p>Then you have this problem: <code>correlationStrategy(m -&gt; m != null)</code>, which always returns <code>true</code> for all the messages you send to this aggregator. The further logic of the <code>AggregatingMessageHandler</code> does this:</p>\n<pre><code>    UUID groupIdUuid = UUIDConverter.getUUID(correlationKey);\n    Lock lock = this.lockRegistry.obtain(groupIdUuid.toString());\n</code></pre>\n<p>And that is locked until we done with the current message. Therefore even if you produce to this aggregator from different threads, you still do aggregation sequential and blocked way. Just because you use the same <code>Lock</code> instance for all the messages according to your correlation strategy.</p>\n<p>And one more problem: doesn't looks like you call an HTTP service in parallel. You need to think about adding an <code>ExecutorChannel</code> in between <code>aggregate()</code> and <code>handle()</code>. This way the result of an aggregator (two messages) would be produced to another thread and the current one will be freed to deal with the next message for aggregation.</p>\n<p>We don't have an out-of-the-box component to just emit a number of messages in order they arrive: we have only logic based on a correlation key: <code>AggregatingMessageHandler</code>, <code>ResequencingMessageHandler</code>, <code>CorrelatingMessageBarrier</code> and <code>FluxAggregatorMessageHandler</code>.</p>\n<p>I think you still may rely on a sequential releasing in the aggregator with that your generic correlation key, but you don't need a <code>taskExecutor</code> on the poller since it does not have any effects, but rather use a <code>channel(c -&gt; c.executor())</code> after an aggregator. This way you'll see parallel calls to your HTTP service with 2 messages each.</p>\n"}],"owner":{"account_id":29100551,"reputation":15,"user_id":22292455,"display_name":"Raghavendra Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76781051,"answer_count":1,"score":1,"last_activity_date":1690470059,"creation_date":1690438718,"question_id":76776969,"body_markdown":"I am totally new to Spring Injection. I am looking for the below logic:\r\n1. Messages are posted to a Queue Channel(This can be changed). I just want to do throttling\r\n2. Using the Spring Injection aggregate 2 messages(no Correlation is required) from the queue and send it to the Http Endpoint as a single message. The http endpoint can be slow sometimes. Hence I want 10 parellel threads to be processing the messages in parellel. Each thread, pick 2 messages from queue and send to Http endpoint.\r\n```\r\n\r\n@Bean\r\npublic IntegrationFlow myFlow() {\r\n       return IntegrationFlow.from(Constants.INBOUND_CHANNEL)\r\n        .bridge(e -&gt;         e.poller(Pollers.fixedRate(1000).maxMessagesPerPoll(5).taskExecutor(taskExecutor1())))\r\n        .log()\r\n        .aggregate(a -&gt; a.correlationStrategy(m -&gt; m != null).releaseStrategy(g -&gt; g.size() == 2)\r\n                .expireGroupsUponCompletion(true).expireGroupsUponTimeout(true).async(true))\r\n        .log().handle(a -&gt; {\r\n            //Add code here to send the data to Http end point which takes around 5 secs.\r\n            System.out.println(&quot;Thread Sleeping on ThreadId : &quot; + Thread.currentThread().getId());\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n        }, e -&gt; e.async(true)).get();\r\n}\r\n\r\n    @Bean\r\n    TaskExecutor taskExecutor1() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setCorePoolSize(2);\r\n        return taskExecutor;\r\n    }\r\n\r\n  @Bean(name = Constants.INBOUND_CHANNEL)\r\n  public QueueChannel inboundFilePollingChannel() {\r\n      return new QueueChannel(100);\r\n  }\r\n\r\n\r\n```\r\n\r\nThe above code is running fine. But the aggregate logic looks to be happening in sequence. Until the aggregated group is released, the other threads of task executors are not picking the messages for processing and not sending the messages to Http Endpoint.\r\n\r\nAny hints on whats the approach ?","title":"Spring Integration DSL: Apply aggregator only based on message count and send to Http end point in parellel","body":"<p>I am totally new to Spring Injection. I am looking for the below logic:</p>\n<ol>\n<li>Messages are posted to a Queue Channel(This can be changed). I just want to do throttling</li>\n<li>Using the Spring Injection aggregate 2 messages(no Correlation is required) from the queue and send it to the Http Endpoint as a single message. The http endpoint can be slow sometimes. Hence I want 10 parellel threads to be processing the messages in parellel. Each thread, pick 2 messages from queue and send to Http endpoint.</li>\n</ol>\n<pre><code>\n@Bean\npublic IntegrationFlow myFlow() {\n       return IntegrationFlow.from(Constants.INBOUND_CHANNEL)\n        .bridge(e -&gt;         e.poller(Pollers.fixedRate(1000).maxMessagesPerPoll(5).taskExecutor(taskExecutor1())))\n        .log()\n        .aggregate(a -&gt; a.correlationStrategy(m -&gt; m != null).releaseStrategy(g -&gt; g.size() == 2)\n                .expireGroupsUponCompletion(true).expireGroupsUponTimeout(true).async(true))\n        .log().handle(a -&gt; {\n            //Add code here to send the data to Http end point which takes around 5 secs.\n            System.out.println(&quot;Thread Sleeping on ThreadId : &quot; + Thread.currentThread().getId());\n            try {\n                Thread.sleep(5000);\n            } catch (InterruptedException e1) {\n                e1.printStackTrace();\n            }\n        }, e -&gt; e.async(true)).get();\n}\n\n    @Bean\n    TaskExecutor taskExecutor1() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(2);\n        return taskExecutor;\n    }\n\n  @Bean(name = Constants.INBOUND_CHANNEL)\n  public QueueChannel inboundFilePollingChannel() {\n      return new QueueChannel(100);\n  }\n\n\n</code></pre>\n<p>The above code is running fine. But the aggregate logic looks to be happening in sequence. Until the aggregated group is released, the other threads of task executors are not picking the messages for processing and not sending the messages to Http Endpoint.</p>\n<p>Any hints on whats the approach ?</p>\n"},{"tags":["java","netbeans","liferay","portlet","netbeans-8"],"answers":[{"tags":[],"owner":{"account_id":2346737,"reputation":56,"user_id":2056787,"display_name":"Andrius Ju"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1412255076,"creation_date":1412255076,"answer_id":26161498,"question_id":25815014,"body_markdown":"I&#39;m getting the same error, but found workaround.\r\nTo generate Liferay project (e.g. portlet) on Netbeans 8 go &quot;File --&gt; New Project&quot; choose Maven category, &quot;Project from Archetype&quot; project. Push Next. In Search input write &quot;liferay portlet&quot;. Here you can choose archetype.","title":"How to Install liferay sdk on netbean8?","body":"<p>I'm getting the same error, but found workaround.\nTo generate Liferay project (e.g. portlet) on Netbeans 8 go \"File --> New Project\" choose Maven category, \"Project from Archetype\" project. Push Next. In Search input write \"liferay portlet\". Here you can choose archetype.</p>\n"}],"owner":{"account_id":2665868,"reputation":984,"user_id":2304330,"accept_rate":80,"display_name":"Ebrahim Amini Sharifi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26161498,"answer_count":1,"score":2,"last_activity_date":1690469679,"creation_date":1410548302,"question_id":25815014,"body_markdown":"I try install liferay sdk on netbeans IDE.\r\n\r\nI have downloed portalpack v 3.0.5 pack from [this Link][1]\r\nand imported it in netbeans through netbeans&gt;Tools&gt;Plugins all of them have installed except &quot;org-netbeans-modules-portalpack-portlets-spring.nbm&quot; and show below Warning and after that doesn&#39;t change anything in netbeans new projet and I can&#39;t see &quot;new portlet&quot; or &quot;liferay project&quot; inside netbeans new project.\r\n\r\n\r\n\r\n\r\n ![enter image description here][2]\r\n\r\n\r\n\r\nHow can fix it?\r\n\r\nJdk version = 8\r\n\r\nOS = windows 8\r\n\r\nNetbeans IDE Version = 8\r\n\r\nLiferay version=6.2 Ga\r\n\r\n  [1]: https://contrib.netbeans.org/portalpack/\r\n  [2]: http://i.stack.imgur.com/hIdXU.png","title":"How to Install liferay sdk on netbean8?","body":"<p>I try install liferay sdk on netbeans IDE.</p>\n\n<p>I have downloed portalpack v 3.0.5 pack from <a href=\"https://contrib.netbeans.org/portalpack/\" rel=\"nofollow noreferrer\">this Link</a>\nand imported it in netbeans through netbeans>Tools>Plugins all of them have installed except \"org-netbeans-modules-portalpack-portlets-spring.nbm\" and show below Warning and after that doesn't change anything in netbeans new projet and I can't see \"new portlet\" or \"liferay project\" inside netbeans new project.</p>\n\n<p><img src=\"https://i.stack.imgur.com/hIdXU.png\" alt=\"enter image description here\"></p>\n\n<p>How can fix it?</p>\n\n<p>Jdk version = 8</p>\n\n<p>OS = windows 8</p>\n\n<p>Netbeans IDE Version = 8</p>\n\n<p>Liferay version=6.2 Ga</p>\n"},{"tags":["java","spring","cryptography","bouncycastle","java-11"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690469641,"creation_date":1658075779,"answer_id":73013571,"question_id":73010512,"body_markdown":"First of all, `bcprov` contains the Java security provider as well as the &quot;lightweight API&quot;. Quite often this library is simply referred to as &quot;Bouncy Castle&quot;, shortened to the acronym &quot;BC&quot; as provider name in Java.\r\n\r\nThe Bouncy Castle library has it&#39;s own specific architecture and API. It is this public API is generally revered to as the &quot;lightweight API&quot;. The Bouncy Castle library provides most of this functionality as services that are registered using the Bouncy Castle provider implementation. That way the supplied algorithms can be used from generic classes such as `Cipher`. \r\n\r\nThe library also contains a lot of utility classes, some of which are simply required to implement the provider. All the implementation classes are available to the user, which means that the lightweight API is a bit of a maze. It also means that there is a chance that updates break software that make use of the lightweight API. For instance, there have been a few updates of the ASN.1 encoder / decoder that weren&#39;t backwards compatible.\r\n\r\nThe main reason to use the Bouncy Castle library is the extended functionality that is provided. For instance, the Bouncy Castle provider provides a lot of ciphers that are not present in the standard Java runtime. However, you should keep in mind that the algorithms that *are* provided by the Java runtime can be optimized to use CPU speedups and may receive better testing. So before choosing it you should definitely check if the algorithms are not present in the Java provided algorithms.\r\n\r\n---\r\n\r\n`bcfips` is the certified FIPS provider. FIPS uses a specific set of algorithms defined by NIST and `bcfips` therefore contains a subset of the functionality provided by `bcprov`. FIPS also has strict rules when it comes to e.g. destruction of key material. FIPS certification is rather expensive *and* time consuming and BC would want you to get a support contract when using their FIPS provider.\r\n\r\nYou may need this library if your software is required to use FIPS certified algorithm implementations. Note that they will still be implemented in software and will therefore e.g. not use AES acceleration. \r\n\r\n---\r\n\r\nNow `bcpkix`is a different beast altogether. It provides support for &quot;PKIX/CMS/EAC/PKCS/OCSP/TSP/OPENSSL&quot; protocols and container formats.\r\n\r\nThe following modules are present:\r\n\r\n - PKIX (in the `cert` package) means &quot;X.509 based Public Key Infrastructure and contains support for certificates, certificate requests, CRL&#39;s etc.; the same type of certificates that are used for TLS that is used for HTTPS, i.e. the secure connections that your browser uses. There are some separate related packages inside the main package:\r\n     - `cmc`: Certificate Management over CMS\r\n     - `dvcs`: Data Validation and Certification Server Protocols\r\n     - `est`: Enrollment over Secure Transport\r\n - CMS means Cryptographic Message Syntax, a format to envelope (i.e. encrypt) and sign messages in a structural way. CMS is also known as PKSC#7 (`.p7` file extension) which is the standard in which it is defined. CMS is a flexible, descriptive format, i.e. it indicates which algorithms are used and helps with key management. It uses X.509 certificates and is based on the same technology.\r\n    - MIME: related to CMS, SMIME is the use of CMS within the email protocols.\r\n - EAC is a technology used for European ePassports. It stands for Extended Access Control, which can be used to gain access to e.g. the fingerprint or - in the case of the German passport - additional personal information, assuming you&#39;ve got the right set of certificates and keys of course.\r\n - PKCS stands for Public Key Cryptographic Standards, historically created by &quot;RSA Laboratories&quot;, however the classes mainly seem to support PKCS#8 (private key storage), PKSC#10 (certification requests) and PKCS#12 (key / trust stores). This adds support to create and parse files with `.p8`, `.p10` / `.csr` and `.12` / `.pfx` file extensions. \r\n - OCSP is the Online Certificate Status Protocol, used to check the status of X.509 certificates, e.g. when using TLS.\r\n - TSP means Time Stamping Protocol, a method of signing messages together with a date / time from a trusted source (it can also mean Trusted Service Provider, but here it doesn&#39;t).\r\n - OpenSSL is of course a library and application. It has some specific / proprietary methods concerning key derivation from passwords and the application of these to encrypt / decrypt PKCS#8 private keys.\r\n\r\nThe `operator` in the PKIX library seems to be a way to operate directly on the &quot;lightweight API&quot; or on the JCA provided API using a generalized interface (basically a way of performing dependency injection).\r\n\r\nYou&#39;d use this library if you need to implement any of the higher level protocols / container formats. Many of these formats are relatively old, so you might be looking for e.g. NaCL instead of CMS. That said, CMS certainly *can* be secured and having these protocols implemented is great for (backwards) compatibility with existing systems.\r\n\r\n----\r\n\r\nIf I&#39;m not mistaken the PKIX library can be used without installing the Bouncy Castle (`&quot;BC&quot;`) provider, except when you&#39;re using specific algorithms not provided by the existing providers in your Java runtime. \r\n\r\nUnfortunately the documentation of Bouncy Castle is very sparse, most packages do not even explain what they are for or how they can be used. There isn&#39;t a huge amount of JUnit tests or demo applications either.\r\n","title":"What&#39;s differences between bouncycastle bcprov, bcpkix and bcfips?","body":"<p>First of all, <code>bcprov</code> contains the Java security provider as well as the &quot;lightweight API&quot;. Quite often this library is simply referred to as &quot;Bouncy Castle&quot;, shortened to the acronym &quot;BC&quot; as provider name in Java.</p>\n<p>The Bouncy Castle library has it's own specific architecture and API. It is this public API is generally revered to as the &quot;lightweight API&quot;. The Bouncy Castle library provides most of this functionality as services that are registered using the Bouncy Castle provider implementation. That way the supplied algorithms can be used from generic classes such as <code>Cipher</code>.</p>\n<p>The library also contains a lot of utility classes, some of which are simply required to implement the provider. All the implementation classes are available to the user, which means that the lightweight API is a bit of a maze. It also means that there is a chance that updates break software that make use of the lightweight API. For instance, there have been a few updates of the ASN.1 encoder / decoder that weren't backwards compatible.</p>\n<p>The main reason to use the Bouncy Castle library is the extended functionality that is provided. For instance, the Bouncy Castle provider provides a lot of ciphers that are not present in the standard Java runtime. However, you should keep in mind that the algorithms that <em>are</em> provided by the Java runtime can be optimized to use CPU speedups and may receive better testing. So before choosing it you should definitely check if the algorithms are not present in the Java provided algorithms.</p>\n<hr />\n<p><code>bcfips</code> is the certified FIPS provider. FIPS uses a specific set of algorithms defined by NIST and <code>bcfips</code> therefore contains a subset of the functionality provided by <code>bcprov</code>. FIPS also has strict rules when it comes to e.g. destruction of key material. FIPS certification is rather expensive <em>and</em> time consuming and BC would want you to get a support contract when using their FIPS provider.</p>\n<p>You may need this library if your software is required to use FIPS certified algorithm implementations. Note that they will still be implemented in software and will therefore e.g. not use AES acceleration.</p>\n<hr />\n<p>Now <code>bcpkix</code>is a different beast altogether. It provides support for &quot;PKIX/CMS/EAC/PKCS/OCSP/TSP/OPENSSL&quot; protocols and container formats.</p>\n<p>The following modules are present:</p>\n<ul>\n<li>PKIX (in the <code>cert</code> package) means &quot;X.509 based Public Key Infrastructure and contains support for certificates, certificate requests, CRL's etc.; the same type of certificates that are used for TLS that is used for HTTPS, i.e. the secure connections that your browser uses. There are some separate related packages inside the main package:\n<ul>\n<li><code>cmc</code>: Certificate Management over CMS</li>\n<li><code>dvcs</code>: Data Validation and Certification Server Protocols</li>\n<li><code>est</code>: Enrollment over Secure Transport</li>\n</ul>\n</li>\n<li>CMS means Cryptographic Message Syntax, a format to envelope (i.e. encrypt) and sign messages in a structural way. CMS is also known as PKSC#7 (<code>.p7</code> file extension) which is the standard in which it is defined. CMS is a flexible, descriptive format, i.e. it indicates which algorithms are used and helps with key management. It uses X.509 certificates and is based on the same technology.\n<ul>\n<li>MIME: related to CMS, SMIME is the use of CMS within the email protocols.</li>\n</ul>\n</li>\n<li>EAC is a technology used for European ePassports. It stands for Extended Access Control, which can be used to gain access to e.g. the fingerprint or - in the case of the German passport - additional personal information, assuming you've got the right set of certificates and keys of course.</li>\n<li>PKCS stands for Public Key Cryptographic Standards, historically created by &quot;RSA Laboratories&quot;, however the classes mainly seem to support PKCS#8 (private key storage), PKSC#10 (certification requests) and PKCS#12 (key / trust stores). This adds support to create and parse files with <code>.p8</code>, <code>.p10</code> / <code>.csr</code> and <code>.12</code> / <code>.pfx</code> file extensions.</li>\n<li>OCSP is the Online Certificate Status Protocol, used to check the status of X.509 certificates, e.g. when using TLS.</li>\n<li>TSP means Time Stamping Protocol, a method of signing messages together with a date / time from a trusted source (it can also mean Trusted Service Provider, but here it doesn't).</li>\n<li>OpenSSL is of course a library and application. It has some specific / proprietary methods concerning key derivation from passwords and the application of these to encrypt / decrypt PKCS#8 private keys.</li>\n</ul>\n<p>The <code>operator</code> in the PKIX library seems to be a way to operate directly on the &quot;lightweight API&quot; or on the JCA provided API using a generalized interface (basically a way of performing dependency injection).</p>\n<p>You'd use this library if you need to implement any of the higher level protocols / container formats. Many of these formats are relatively old, so you might be looking for e.g. NaCL instead of CMS. That said, CMS certainly <em>can</em> be secured and having these protocols implemented is great for (backwards) compatibility with existing systems.</p>\n<hr />\n<p>If I'm not mistaken the PKIX library can be used without installing the Bouncy Castle (<code>&quot;BC&quot;</code>) provider, except when you're using specific algorithms not provided by the existing providers in your Java runtime.</p>\n<p>Unfortunately the documentation of Bouncy Castle is very sparse, most packages do not even explain what they are for or how they can be used. There isn't a huge amount of JUnit tests or demo applications either.</p>\n"}],"owner":{"account_id":78239,"reputation":3012,"user_id":1904217,"accept_rate":95,"display_name":"Mostafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4443,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73013571,"answer_count":1,"score":7,"last_activity_date":1690469641,"creation_date":1658048747,"question_id":73010512,"body_markdown":"I&#39;m familiar with basic cryptography in java But have zero experience in bouncycastle, Recently I came across a requirement that needs to read an encrypted and signed file from FTP.\r\n\r\nThe sender has directed me to use [bcfips][1] ebook for reading those encrypted and signed files.\r\nI went through the download page of the [bouncy castle website][2], But I&#39;m confused by a lot of jargon that I can&#39;t understand and I don&#39;t know which jar file should I use.\r\n\r\nI&#39;m wondering what&#39;s the difference between `bcprov` and `bcpkix` and `bcfips`?\r\n\r\nI appreciate it if someone points me on the correct path.\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/fips-java/BCFipsIn100.pdf\r\n  [2]: https://www.bouncycastle.org/latest_releases.html\r\n  [3]: https://www.baeldung.com/java-bouncy-castle","title":"What&#39;s differences between bouncycastle bcprov, bcpkix and bcfips?","body":"<p>I'm familiar with basic cryptography in java But have zero experience in bouncycastle, Recently I came across a requirement that needs to read an encrypted and signed file from FTP.</p>\n<p>The sender has directed me to use <a href=\"https://www.bouncycastle.org/fips-java/BCFipsIn100.pdf\" rel=\"noreferrer\">bcfips</a> ebook for reading those encrypted and signed files.\nI went through the download page of the <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"noreferrer\">bouncy castle website</a>, But I'm confused by a lot of jargon that I can't understand and I don't know which jar file should I use.</p>\n<p>I'm wondering what's the difference between <code>bcprov</code> and <code>bcpkix</code> and <code>bcfips</code>?</p>\n<p>I appreciate it if someone points me on the correct path.</p>\n"},{"tags":["java","android","permissions","android-permissions"],"answers":[{"tags":[],"owner":{"account_id":4633251,"reputation":1360,"user_id":3755131,"display_name":"Tieru"},"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1470740011,"creation_date":1442920465,"answer_id":32715419,"question_id":32714787,"body_markdown":"You can try this: \r\n\r\n    requestPermissions(permissions, PERMISSIONS_CODE);\r\n\r\nIf you are calling this code from a fragment it has it&#39;s own requestPermissions method. I believe the problem is that you are calling static method.\r\n\r\nPro Tip if you want the `onRequestPermissionsResult()` in a fragment:\r\n`FragmentCompat.requestPermissions(Fragment fragment, String[] permissions, int requestCode)`","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>You can try this: </p>\n\n<pre><code>requestPermissions(permissions, PERMISSIONS_CODE);\n</code></pre>\n\n<p>If you are calling this code from a fragment it has it's own requestPermissions method. I believe the problem is that you are calling static method.</p>\n\n<p>Pro Tip if you want the <code>onRequestPermissionsResult()</code> in a fragment:\n<code>FragmentCompat.requestPermissions(Fragment fragment, String[] permissions, int requestCode)</code></p>\n"},{"tags":[],"owner":{"account_id":393409,"reputation":1944,"user_id":755240,"accept_rate":67,"display_name":"Marta Rodriguez"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1443613705,"creation_date":1443613705,"answer_id":32865306,"question_id":32714787,"body_markdown":"You have the *checkPermissions* function for pre Marshmallow devices in *FragmentCompat*.\r\nI use like this:\r\n\r\n    FragmentCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                        MY_PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>You have the <em>checkPermissions</em> function for pre Marshmallow devices in <em>FragmentCompat</em>.\nI use like this:</p>\n\n<pre><code>FragmentCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                    MY_PERMISSIONS_REQUEST_ACCESS_FINE_LOCATION);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212363,"reputation":5899,"user_id":1180668,"display_name":"yavor87"},"down_vote_count":1,"up_vote_count":590,"is_accepted":false,"score":589,"last_activity_date":1633797702,"creation_date":1444651482,"answer_id":33080682,"question_id":32714787,"body_markdown":"I ran into the same issue and I just found the solution. When using the Support library, you have to use the correct method calls. For example:\r\n\r\n- When in **AppCompatActivity**, you should use **ActivityCompat.requestPermissions**;\r\n- When in **android.support.v4.app.Fragment**, you should use simply **requestPermissions** (this is an instance method of android.support.v4.app.Fragment)\r\n\r\nIf you call ActivityCompat.requestPermissions in a fragment, the **onRequestPermissionsResult** callback is called on the activity and not the fragment.\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I ran into the same issue and I just found the solution. When using the Support library, you have to use the correct method calls. For example:</p>\n<ul>\n<li>When in <strong>AppCompatActivity</strong>, you should use <strong>ActivityCompat.requestPermissions</strong>;</li>\n<li>When in <strong>android.support.v4.app.Fragment</strong>, you should use simply <strong>requestPermissions</strong> (this is an instance method of android.support.v4.app.Fragment)</li>\n</ul>\n<p>If you call ActivityCompat.requestPermissions in a fragment, the <strong>onRequestPermissionsResult</strong> callback is called on the activity and not the fragment.</p>\n"},{"tags":[],"owner":{"account_id":1673285,"reputation":5129,"user_id":1539304,"accept_rate":55,"display_name":"Ayohaych"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1444652931,"creation_date":1444652931,"answer_id":33081173,"question_id":32714787,"body_markdown":"This issue was actually being caused by NestedFragments.\r\nBasically most fragments we have extend a HostedFragment which in turn extends a CompatFragment. Having these nested fragments caused issues which eventually were solved by another developer on the project.\r\n\r\nHe was doing some low level stuff like bit switching to get this working so I&#39;m not too sure of the actual final solution","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>This issue was actually being caused by NestedFragments.\nBasically most fragments we have extend a HostedFragment which in turn extends a CompatFragment. Having these nested fragments caused issues which eventually were solved by another developer on the project.</p>\n\n<p>He was doing some low level stuff like bit switching to get this working so I'm not too sure of the actual final solution</p>\n"},{"tags":[],"owner":{"account_id":6875700,"reputation":380,"user_id":5284216,"display_name":"Dusan Zivkovic"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1448880056,"creation_date":1448877628,"answer_id":33995827,"question_id":32714787,"body_markdown":"If you have `onRequestPermissionsResult` in both activity and fragment, make sure to call `super.onRequestPermissionsResult` in activity. It is not required in fragment, but it is in activity.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If you have <code>onRequestPermissionsResult</code> in both activity and fragment, make sure to call <code>super.onRequestPermissionsResult</code> in activity. It is not required in fragment, but it is in activity.</p>\n"},{"tags":[],"owner":{"account_id":7481603,"reputation":212,"user_id":5686191,"display_name":"AkKi"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1450277100,"creation_date":1450262742,"answer_id":34309921,"question_id":32714787,"body_markdown":"If you are using requestPermissions in fragment, it accepts 2 parameters instead of 3.\r\n\r\nYou should use `requestPermissions(permissions, PERMISSIONS_CODE);`\r\n\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If you are using requestPermissions in fragment, it accepts 2 parameters instead of 3.</p>\n\n<p>You should use <code>requestPermissions(permissions, PERMISSIONS_CODE);</code></p>\n"},{"tags":[],"owner":{"account_id":261696,"reputation":6432,"user_id":546054,"display_name":"TouchBoarder"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1453461603,"creation_date":1453461603,"answer_id":34945511,"question_id":32714787,"body_markdown":"If for some reason you have extended a custom Activity located in some external library that do not call the super you will need to manually call the Fragment super.onRequestPermissionsResult yourself in your Activity onRequestPermissionsResult.\r\n\r\n    YourActivity extends SomeActivityNotCallingSuperOnRequestPermissionsResult{\r\n    Fragment requestingFragment;//the fragment requesting the permission\r\n    ...\r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if(requestingFragment!=null)\r\n                requestingFragment.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    ...","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If for some reason you have extended a custom Activity located in some external library that do not call the super you will need to manually call the Fragment super.onRequestPermissionsResult yourself in your Activity onRequestPermissionsResult.</p>\n\n<pre><code>YourActivity extends SomeActivityNotCallingSuperOnRequestPermissionsResult{\nFragment requestingFragment;//the fragment requesting the permission\n...\n@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if(requestingFragment!=null)\n            requestingFragment.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1709972,"reputation":179,"user_id":1568232,"display_name":"Sumit khare"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1454803556,"creation_date":1454785738,"answer_id":35245235,"question_id":32714787,"body_markdown":"This will work..\r\n\r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>This will work..</p>\n\n<pre><code>@Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":541012,"reputation":2153,"user_id":909406,"accept_rate":5,"display_name":"almisoft"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1455579180,"creation_date":1455579180,"answer_id":35421061,"question_id":32714787,"body_markdown":"I have found out that is important where you call `android.support.v4.app.Fragment.requestPermissions`.\r\n\r\nIf you do it in `onCreate()`, `onRequestPermissionsResult()` is never called.\r\n\r\nSolution: Call it in `onActivityCreated()`;\r\n\r\n    @Override\r\n\tpublic void onActivityCreated(Bundle savedInstanceState) {\r\n\t\t\r\n\t\tsuper.onActivityCreated(savedInstanceState);\r\n\t\t\r\n\t\tif (ContextCompat.checkSelfPermission(context, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_DENIED) \r\n\t \t\trequestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, 0);\r\n\t    \r\n\t}","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I have found out that is important where you call <code>android.support.v4.app.Fragment.requestPermissions</code>.</p>\n\n<p>If you do it in <code>onCreate()</code>, <code>onRequestPermissionsResult()</code> is never called.</p>\n\n<p>Solution: Call it in <code>onActivityCreated()</code>;</p>\n\n<pre><code>@Override\npublic void onActivityCreated(Bundle savedInstanceState) {\n\n    super.onActivityCreated(savedInstanceState);\n\n    if (ContextCompat.checkSelfPermission(context, Manifest.permission.READ_CONTACTS) == PackageManager.PERMISSION_DENIED) \n        requestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, 0);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5753363,"reputation":3741,"user_id":4542217,"display_name":"Shahab Rauf"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1457011872,"creation_date":1456754108,"answer_id":35701385,"question_id":32714787,"body_markdown":" \r\n\r\n   \r\n\r\n     /* use the object of your fragment to call the \r\n     * onRequestPermissionsResult in fragment after\r\n     * in activity and use different request Code for \r\n     * both Activity and Fragment */\r\n\r\n       if (isFragment)\r\n        mFragment.requestPermissions(permissions.toArray(new\r\n        String[permissions.size()]),requestPermission);\r\n      \r\n       else\r\n        ActivityCompat.requestPermissions(mActivity,permissions.toArray(new\r\n        String[permissions.size()]),requestPermission);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<pre><code> /* use the object of your fragment to call the \n * onRequestPermissionsResult in fragment after\n * in activity and use different request Code for \n * both Activity and Fragment */\n\n   if (isFragment)\n    mFragment.requestPermissions(permissions.toArray(new\n    String[permissions.size()]),requestPermission);\n\n   else\n    ActivityCompat.requestPermissions(mActivity,permissions.toArray(new\n    String[permissions.size()]),requestPermission);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39218,"reputation":1726,"user_id":113012,"accept_rate":100,"display_name":"Simon Featherstone"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1457101205,"creation_date":1457008259,"answer_id":35772265,"question_id":32714787,"body_markdown":"I encountered this problem too. If you want the activity that handles permissions not in the history/recents, then you will be tempted to change your `AndroidManifest.xml` entry.\r\n\r\nIf you set the activity that you call `requestPermissions` or `AppCompatActivity.requestPermissions` with  \r\n\r\n    android:noHistory=&quot;true&quot;\r\n    android:excludeFromRecents=&quot;true&quot;\r\n\r\nin your `AndroidManifest.xml` then `onRequestPermissionsResult()` will not be called. This is true if your Activity is derived from `Activity` or `AppCompatActivity`. \r\n\r\nThis can be fixed by removing both flags from &#39;AndroidManifest.xml&#39; and finishing your activity with `finishAndRemoveTask()` instead. ","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I encountered this problem too. If you want the activity that handles permissions not in the history/recents, then you will be tempted to change your <code>AndroidManifest.xml</code> entry.</p>\n\n<p>If you set the activity that you call <code>requestPermissions</code> or <code>AppCompatActivity.requestPermissions</code> with  </p>\n\n<pre><code>android:noHistory=\"true\"\nandroid:excludeFromRecents=\"true\"\n</code></pre>\n\n<p>in your <code>AndroidManifest.xml</code> then <code>onRequestPermissionsResult()</code> will not be called. This is true if your Activity is derived from <code>Activity</code> or <code>AppCompatActivity</code>. </p>\n\n<p>This can be fixed by removing both flags from 'AndroidManifest.xml' and finishing your activity with <code>finishAndRemoveTask()</code> instead. </p>\n"},{"tags":[],"owner":{"account_id":4598365,"reputation":534,"user_id":3729805,"display_name":"Ben.Slama.Jihed"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1574196642,"creation_date":1466067437,"answer_id":37854430,"question_id":32714787,"body_markdown":"Answer deprecated please refer to : \r\nhttps://developer.android.com/training/permissions/requesting\r\n\r\nInside fragment, you need to call:\r\n\r\n    FragmentCompat.requestPermissions(permissionsList, RequestCode)\r\n\r\nNot:\r\n\r\n    ActivityCompat.requestPermissions(Activity, permissionsList, RequestCode);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Answer deprecated please refer to : \n<a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting</a></p>\n\n<p>Inside fragment, you need to call:</p>\n\n<pre><code>FragmentCompat.requestPermissions(permissionsList, RequestCode)\n</code></pre>\n\n<p>Not:</p>\n\n<pre><code>ActivityCompat.requestPermissions(Activity, permissionsList, RequestCode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6210742,"reputation":3114,"user_id":4837103,"display_name":"Chandler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467856213,"creation_date":1467856213,"answer_id":38236485,"question_id":32714787,"body_markdown":"Before you check everything according to above answers, make sure your request code is not 0!!!\r\n\r\ncheck the code of onRequestPermissionsResult() in FragmentActivity.java:\r\n\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\r\n            @NonNull int[] grantResults) {\r\n        int index = (requestCode&gt;&gt;16)&amp;0xffff;\r\n        if (index != 0) {\r\n            index--;\r\n\r\n            String who = mPendingFragmentActivityResults.get(index);\r\n            mPendingFragmentActivityResults.remove(index);\r\n            if (who == null) {\r\n                Log.w(TAG, &quot;Activity result delivered for unknown Fragment.&quot;);\r\n                return;\r\n            }\r\n            Fragment frag = mFragments.findFragmentByWho(who);\r\n            if (frag == null) {\r\n                Log.w(TAG, &quot;Activity result no fragment exists for who: &quot; + who);\r\n            } else {\r\n                frag.onRequestPermissionsResult(requestCode&amp;0xffff, permissions, grantResults);\r\n            }\r\n        }\r\n    }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Before you check everything according to above answers, make sure your request code is not 0!!!</p>\n\n<p>check the code of onRequestPermissionsResult() in FragmentActivity.java:</p>\n\n<pre><code>public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n        @NonNull int[] grantResults) {\n    int index = (requestCode&gt;&gt;16)&amp;0xffff;\n    if (index != 0) {\n        index--;\n\n        String who = mPendingFragmentActivityResults.get(index);\n        mPendingFragmentActivityResults.remove(index);\n        if (who == null) {\n            Log.w(TAG, \"Activity result delivered for unknown Fragment.\");\n            return;\n        }\n        Fragment frag = mFragments.findFragmentByWho(who);\n        if (frag == null) {\n            Log.w(TAG, \"Activity result no fragment exists for who: \" + who);\n        } else {\n            frag.onRequestPermissionsResult(requestCode&amp;0xffff, permissions, grantResults);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2276640,"reputation":159,"user_id":2002721,"accept_rate":0,"display_name":"user2002721"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483488640,"creation_date":1480948304,"answer_id":40976631,"question_id":32714787,"body_markdown":"    private void showContacts() {\r\n    \tif (getActivity().checkSelfPermission(Manifest.permission.READ_CONTACTS)\r\n    \t \t!= PackageManager.PERMISSION_GRANTED) {\r\n    \t\trequestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, PERMISSIONS_REQUEST_READ_CONTACTS);\r\n    \t} else {\r\n    \t\tdoShowContacts();\r\n    \t}\r\n    }\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n    \tif (requestCode == PERMISSIONS_REQUEST_READ_CONTACTS &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \t\tdoShowContacts();\r\n    \t}\r\n    }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<pre><code>private void showContacts() {\n    if (getActivity().checkSelfPermission(Manifest.permission.READ_CONTACTS)\n        != PackageManager.PERMISSION_GRANTED) {\n        requestPermissions(new String[]{Manifest.permission.READ_CONTACTS}, PERMISSIONS_REQUEST_READ_CONTACTS);\n    } else {\n        doShowContacts();\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    if (requestCode == PERMISSIONS_REQUEST_READ_CONTACTS &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n        doShowContacts();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3108675,"reputation":4286,"user_id":2630955,"accept_rate":0,"display_name":"Sanjay Mangaroliya"},"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1500833235,"creation_date":1482497609,"answer_id":41301898,"question_id":32714787,"body_markdown":"   I hope it works fine\r\n     \r\nFor Activity :\r\n    \r\n     ActivityCompat.requestPermissions(this,permissionsList,REQUEST_CODE);\r\n                    \r\nFor Fragment :\r\n    \r\n     requestPermissions(permissionsList,REQUEST_CODE);","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I hope it works fine</p>\n\n<p>For Activity :</p>\n\n<pre><code> ActivityCompat.requestPermissions(this,permissionsList,REQUEST_CODE);\n</code></pre>\n\n<p>For Fragment :</p>\n\n<pre><code> requestPermissions(permissionsList,REQUEST_CODE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9460247,"reputation":3823,"user_id":7034183,"display_name":"Remario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500610056,"creation_date":1500610056,"answer_id":45228780,"question_id":32714787,"body_markdown":"You can use `requestPermissions(PERMISSIONS, MULTIPLE_PERMISSIONS_CODE);`. Do not use FragmentCompat if you are using v4.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>You can use <code>requestPermissions(PERMISSIONS, MULTIPLE_PERMISSIONS_CODE);</code>. Do not use FragmentCompat if you are using v4.</p>\n"},{"tags":[],"owner":{"account_id":5828473,"reputation":311,"user_id":4593930,"accept_rate":0,"display_name":"PounKumar Purushothaman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500832587,"creation_date":1500832587,"answer_id":45268237,"question_id":32714787,"body_markdown":"If you are calling this code from a fragment it has it’s own requestPermissions method.\r\n\r\nSo basic concept is, If you are in an Activity, then call\r\n\r\n    ActivityCompat.requestPermissions(this,\r\n                                permissionsList,\r\n                                permissionscode);\r\n\r\nand if in a Fragment, just call\r\n\r\n    requestPermissions(permissionsList,\r\n                                permissionscode);\r\n\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>If you are calling this code from a fragment it has it’s own requestPermissions method.</p>\n\n<p>So basic concept is, If you are in an Activity, then call</p>\n\n<pre><code>ActivityCompat.requestPermissions(this,\n                            permissionsList,\n                            permissionscode);\n</code></pre>\n\n<p>and if in a Fragment, just call</p>\n\n<pre><code>requestPermissions(permissionsList,\n                            permissionscode);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11484501,"reputation":134,"user_id":8417594,"display_name":"havabon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501853426,"creation_date":1501853426,"answer_id":45508182,"question_id":32714787,"body_markdown":"Based on [goodgamerguy&#39;s answer][1] the solution is:\r\n\r\n    myFragment.this.requestPermissions(....)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33081173/8417594","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Based on <a href=\"https://stackoverflow.com/a/33081173/8417594\">goodgamerguy's answer</a> the solution is:</p>\n\n<pre><code>myFragment.this.requestPermissions(....)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133018,"reputation":121,"user_id":334068,"display_name":"grgrssll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569837865,"creation_date":1507846714,"answer_id":46719746,"question_id":32714787,"body_markdown":"**UPDATE:** saw someone else&#39;s answer about calling `super.onRequestPermissionResult()` in Activity and that fixes the request code issue I mentioned and calls the **fragment&#39;s onRequestPermissionResult.**\r\n\r\n\r\n*ignore this stuff:*\r\n\r\n\r\nFor me it was calling the `onRequestPermissionResult` of the Activity despite me calling `fragment.requestPermission(...)`, BUT it returned the result with an incorrect requestCode (111 turned into 65647 why ??? I&#39;ll never know). \r\n\r\nLuckily this is the only permission we request on that screen so I just ignore the request code (don&#39;t have time to figure out why it&#39;s not correct right now)\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p><strong>UPDATE:</strong> saw someone else's answer about calling <code>super.onRequestPermissionResult()</code> in Activity and that fixes the request code issue I mentioned and calls the <strong>fragment's onRequestPermissionResult.</strong></p>\n\n<p><em>ignore this stuff:</em></p>\n\n<p>For me it was calling the <code>onRequestPermissionResult</code> of the Activity despite me calling <code>fragment.requestPermission(...)</code>, BUT it returned the result with an incorrect requestCode (111 turned into 65647 why ??? I'll never know). </p>\n\n<p>Luckily this is the only permission we request on that screen so I just ignore the request code (don't have time to figure out why it's not correct right now)</p>\n"},{"tags":[],"owner":{"account_id":7735286,"reputation":947,"user_id":5857058,"display_name":"Abhishek Dubey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516002836,"creation_date":1516002836,"answer_id":48258870,"question_id":32714787,"body_markdown":"I have an amazing solution to achieve this make a BaseActivity like this.\r\n\r\n    public class BaseActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // Thread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler(this));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 1: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    CustomToast.getInstance().setCustomToast(&quot;Now you can share the Hack.&quot;);\r\n\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission denied to read your External storage&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nNow yo can call the code to ask for permission like this \r\n\r\n\r\n     ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n\r\n\r\nNow every time this happens anywhere whether in your fragment or in any activity the base activity would be called.\r\n\r\nThanks ","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I have an amazing solution to achieve this make a BaseActivity like this.</p>\n\n<pre><code>public class BaseActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Thread.setDefaultUncaughtExceptionHandler(new MyExceptionHandler(this));\n\n\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\n    switch (requestCode) {\n        case 1: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                CustomToast.getInstance().setCustomToast(\"Now you can share the Hack.\");\n\n            } else {\n                Toast.makeText(this, \"Permission denied to read your External storage\", Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now yo can call the code to ask for permission like this </p>\n\n<pre><code> ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n\n<p>Now every time this happens anywhere whether in your fragment or in any activity the base activity would be called.</p>\n\n<p>Thanks </p>\n"},{"tags":[],"owner":{"account_id":5674605,"reputation":24652,"user_id":4488252,"accept_rate":71,"display_name":"Vasily  Bodnarchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537137658,"creation_date":1536970360,"answer_id":52340529,"question_id":32714787,"body_markdown":"## Details ##\r\n\r\n - Kotlin 1.2.70\r\n - checked in minSdkVersion 19\r\n - Android studio 3.1.4\r\n\r\n## Algorithm ##\r\n\r\n**module** - camera, location, ....\r\n\r\n 1. Check if hasSystemFeature (if **module** exist in phone)\r\n 2. Check if user has access to **module**\r\n 3. Send permissions request (ask user to allow **module** usage)\r\n\r\n## Features ##\r\n\r\n 1. Work with Activities and Fragments\r\n 2. Has only one result response \r\n 3. Can check several **modules** in one request\r\n\r\n## Solution ##\r\n\r\n    class PermissionType(val manifest_permission: String, val packageManager: String) {\r\n        object Defined {\r\n            val camera = PermissionType(Manifest.permission.CAMERA, PackageManager.FEATURE_CAMERA)\r\n            val currentLocation = PermissionType(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.FEATURE_LOCATION_GPS)\r\n        }\r\n    }\r\n\r\n    class  Permission {\r\n\r\n        enum class PermissionResult {\r\n            ACCESS_ALLOWED, ACCESS_DENIED, NO_SYSTEM_FEATURE;\r\n        }\r\n\r\n        interface ManagerDelegate {\r\n            fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt;)\r\n        }\r\n\r\n        class Manager internal constructor(private val delegate: ManagerDelegate?) {\r\n\r\n            private var context: Context? = null\r\n            private var fragment: Fragment? = null\r\n            private var activity: AppCompatActivity? = null\r\n            private var permissionTypes: Array&lt;PermissionType&gt; = arrayOf()\r\n            private val REQUEST_CODE = 999\r\n            private val semaphore = Semaphore(1, true)\r\n            private var result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt; = arrayOf()\r\n\r\n\r\n            constructor(permissionType: PermissionType, delegate: ManagerDelegate?): this(delegate) {\r\n                permissionTypes = arrayOf(permissionType)\r\n            }\r\n\r\n            constructor(permissionTypes: Array&lt;PermissionType&gt;, delegate: ManagerDelegate?): this(delegate) {\r\n                this.permissionTypes = permissionTypes\r\n            }\r\n\r\n            init {\r\n                when (delegate) {\r\n                    is Fragment -&gt; {\r\n                        this.fragment = delegate\r\n                        this.context = delegate.context\r\n                    }\r\n\r\n                    is AppCompatActivity -&gt; {\r\n                        this.activity = delegate\r\n                        this.context = delegate\r\n                    }\r\n                }\r\n            }\r\n\r\n            private fun hasSystemFeature(permissionType: PermissionType) : Boolean {\r\n                return context?.packageManager?.hasSystemFeature(permissionType.packageManager) ?: false\r\n            }\r\n\r\n            private fun hasAccess(permissionType: PermissionType) : Boolean {\r\n                return if (Build.VERSION.SDK_INT &lt; 23) true else {\r\n                    context?.checkSelfPermission(permissionType.manifest_permission) == PackageManager.PERMISSION_GRANTED\r\n                }\r\n            }\r\n\r\n            private fun sendRequest(permissionTypes: Array&lt;String&gt;) {\r\n\r\n                if (fragment != null) {\r\n                    fragment?.requestPermissions(permissionTypes, REQUEST_CODE)\r\n                    return\r\n                }\r\n\r\n                if (activity != null){\r\n                    ActivityCompat.requestPermissions(activity!!, permissionTypes, REQUEST_CODE)\r\n                }\r\n            }\r\n\r\n            fun check() {\r\n\r\n                semaphore.acquire()\r\n                AsyncTask.execute {\r\n                    var permissionsForSendingRequest: Array&lt;String&gt; = arrayOf()\r\n                    this.result = arrayOf()\r\n\r\n                    for (it in permissionTypes) {\r\n                        if (!hasSystemFeature(it)) {\r\n                            result += Pair(it.manifest_permission, PermissionResult.NO_SYSTEM_FEATURE)\r\n                            continue\r\n                        }\r\n\r\n                        if (hasAccess(it)) {\r\n                            result += Pair(it.manifest_permission, PermissionResult.ACCESS_ALLOWED)\r\n                        } else {\r\n                            permissionsForSendingRequest += it.manifest_permission\r\n                        }\r\n                    }\r\n\r\n                    if (permissionsForSendingRequest.isNotEmpty()) {\r\n                        sendRequest(permissionsForSendingRequest)\r\n                    } else {\r\n                        delegate?.permissionManagerDelegate(result)\r\n                    }\r\n                }\r\n            }\r\n\r\n            fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\r\n                when (requestCode) {\r\n                    REQUEST_CODE -&gt; {\r\n                        if (grantResults.isEmpty()) {\r\n                            return\r\n                        }\r\n                        for ((i,permission) in permissions.withIndex()) {\r\n                            for (item in this.permissionTypes) {\r\n                                if (permission == item.manifest_permission &amp;&amp; i &lt; grantResults.size) {\r\n                                    result += if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                                        Pair(item.manifest_permission, PermissionResult.ACCESS_ALLOWED)\r\n                                    } else {\r\n                                        Pair(item.manifest_permission, PermissionResult.ACCESS_DENIED)\r\n                                    }\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                        delegate?.permissionManagerDelegate(result)\r\n                    }\r\n                }\r\n                semaphore.release()\r\n            }\r\n        }\r\n    }\r\n\r\n## Usage in Activity (in fragment the same) ##\r\n\r\n    class BaseActivity : AppCompatActivity(), Permission.ManagerDelegate {\r\n    \r\n        private lateinit var permissionManager: Permission.Manager\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.base_activity)\r\n    \r\n            permissionManager = Permission.Manager(arrayOf(PermissionType.Defined.camera, PermissionType.Defined.currentLocation), this)\r\n            permissionManager.check()\r\n        }\r\n    \r\n        override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n            permissionManager.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n        }\r\n    \r\n    \r\n        override fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, Permission.PermissionResult&gt;&gt;) {\r\n            result.forEach {\r\n                println(&quot;!!! ${it.first} ${it.second}&quot;)\r\n    //            when (it.second) {\r\n    //                Permission.PermissionResult.NO_SYSTEM_FEATURE -&gt; {\r\n    //                }\r\n    //\r\n    //                Permission.PermissionResult.ACCESS_DENIED  -&gt; {\r\n    //                }\r\n    //\r\n    //                Permission.PermissionResult.ACCESS_ALLOWED -&gt; {\r\n    //                }\r\n    //            }\r\n            }\r\n        }\r\n    }","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<h2>Details</h2>\n\n<ul>\n<li>Kotlin 1.2.70</li>\n<li>checked in minSdkVersion 19</li>\n<li>Android studio 3.1.4</li>\n</ul>\n\n<h2>Algorithm</h2>\n\n<p><strong>module</strong> - camera, location, ....</p>\n\n<ol>\n<li>Check if hasSystemFeature (if <strong>module</strong> exist in phone)</li>\n<li>Check if user has access to <strong>module</strong></li>\n<li>Send permissions request (ask user to allow <strong>module</strong> usage)</li>\n</ol>\n\n<h2>Features</h2>\n\n<ol>\n<li>Work with Activities and Fragments</li>\n<li>Has only one result response </li>\n<li>Can check several <strong>modules</strong> in one request</li>\n</ol>\n\n<h2>Solution</h2>\n\n<pre><code>class PermissionType(val manifest_permission: String, val packageManager: String) {\n    object Defined {\n        val camera = PermissionType(Manifest.permission.CAMERA, PackageManager.FEATURE_CAMERA)\n        val currentLocation = PermissionType(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.FEATURE_LOCATION_GPS)\n    }\n}\n\nclass  Permission {\n\n    enum class PermissionResult {\n        ACCESS_ALLOWED, ACCESS_DENIED, NO_SYSTEM_FEATURE;\n    }\n\n    interface ManagerDelegate {\n        fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt;)\n    }\n\n    class Manager internal constructor(private val delegate: ManagerDelegate?) {\n\n        private var context: Context? = null\n        private var fragment: Fragment? = null\n        private var activity: AppCompatActivity? = null\n        private var permissionTypes: Array&lt;PermissionType&gt; = arrayOf()\n        private val REQUEST_CODE = 999\n        private val semaphore = Semaphore(1, true)\n        private var result: Array&lt;Pair&lt;String, PermissionResult&gt;&gt; = arrayOf()\n\n\n        constructor(permissionType: PermissionType, delegate: ManagerDelegate?): this(delegate) {\n            permissionTypes = arrayOf(permissionType)\n        }\n\n        constructor(permissionTypes: Array&lt;PermissionType&gt;, delegate: ManagerDelegate?): this(delegate) {\n            this.permissionTypes = permissionTypes\n        }\n\n        init {\n            when (delegate) {\n                is Fragment -&gt; {\n                    this.fragment = delegate\n                    this.context = delegate.context\n                }\n\n                is AppCompatActivity -&gt; {\n                    this.activity = delegate\n                    this.context = delegate\n                }\n            }\n        }\n\n        private fun hasSystemFeature(permissionType: PermissionType) : Boolean {\n            return context?.packageManager?.hasSystemFeature(permissionType.packageManager) ?: false\n        }\n\n        private fun hasAccess(permissionType: PermissionType) : Boolean {\n            return if (Build.VERSION.SDK_INT &lt; 23) true else {\n                context?.checkSelfPermission(permissionType.manifest_permission) == PackageManager.PERMISSION_GRANTED\n            }\n        }\n\n        private fun sendRequest(permissionTypes: Array&lt;String&gt;) {\n\n            if (fragment != null) {\n                fragment?.requestPermissions(permissionTypes, REQUEST_CODE)\n                return\n            }\n\n            if (activity != null){\n                ActivityCompat.requestPermissions(activity!!, permissionTypes, REQUEST_CODE)\n            }\n        }\n\n        fun check() {\n\n            semaphore.acquire()\n            AsyncTask.execute {\n                var permissionsForSendingRequest: Array&lt;String&gt; = arrayOf()\n                this.result = arrayOf()\n\n                for (it in permissionTypes) {\n                    if (!hasSystemFeature(it)) {\n                        result += Pair(it.manifest_permission, PermissionResult.NO_SYSTEM_FEATURE)\n                        continue\n                    }\n\n                    if (hasAccess(it)) {\n                        result += Pair(it.manifest_permission, PermissionResult.ACCESS_ALLOWED)\n                    } else {\n                        permissionsForSendingRequest += it.manifest_permission\n                    }\n                }\n\n                if (permissionsForSendingRequest.isNotEmpty()) {\n                    sendRequest(permissionsForSendingRequest)\n                } else {\n                    delegate?.permissionManagerDelegate(result)\n                }\n            }\n        }\n\n        fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n            when (requestCode) {\n                REQUEST_CODE -&gt; {\n                    if (grantResults.isEmpty()) {\n                        return\n                    }\n                    for ((i,permission) in permissions.withIndex()) {\n                        for (item in this.permissionTypes) {\n                            if (permission == item.manifest_permission &amp;&amp; i &lt; grantResults.size) {\n                                result += if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                                    Pair(item.manifest_permission, PermissionResult.ACCESS_ALLOWED)\n                                } else {\n                                    Pair(item.manifest_permission, PermissionResult.ACCESS_DENIED)\n                                }\n                                break\n                            }\n                        }\n                    }\n                    delegate?.permissionManagerDelegate(result)\n                }\n            }\n            semaphore.release()\n        }\n    }\n}\n</code></pre>\n\n<h2>Usage in Activity (in fragment the same)</h2>\n\n<pre><code>class BaseActivity : AppCompatActivity(), Permission.ManagerDelegate {\n\n    private lateinit var permissionManager: Permission.Manager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.base_activity)\n\n        permissionManager = Permission.Manager(arrayOf(PermissionType.Defined.camera, PermissionType.Defined.currentLocation), this)\n        permissionManager.check()\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        permissionManager.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    }\n\n\n    override fun permissionManagerDelegate(result: Array&lt;Pair&lt;String, Permission.PermissionResult&gt;&gt;) {\n        result.forEach {\n            println(\"!!! ${it.first} ${it.second}\")\n//            when (it.second) {\n//                Permission.PermissionResult.NO_SYSTEM_FEATURE -&gt; {\n//                }\n//\n//                Permission.PermissionResult.ACCESS_DENIED  -&gt; {\n//                }\n//\n//                Permission.PermissionResult.ACCESS_ALLOWED -&gt; {\n//                }\n//            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7172788,"reputation":266,"user_id":5479763,"accept_rate":88,"display_name":"Ndheti"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545504133,"creation_date":1538269032,"answer_id":52573709,"question_id":32714787,"body_markdown":"I had a similar problem except I was pressing a button to make a call, which triggers the callIntent. I checked permission first, if not granted I ask for permission and onRequestPermissionResult I call the check permission and call again.\r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case Constants.PERMISSIONS_REQUEST_CALL_PHONE: {\r\n                if ( grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    checkPermissionsAndCall();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void checkPermissionsAndCall(){\r\n        if (Build.VERSION.SDK_INT &gt; 22) {\r\n            if(ContextCompat.checkSelfPermission(getContext(),\r\n                    Manifest.permission.CALL_PHONE)\r\n                    != PackageManager.PERMISSION_GRANTED){\r\n                requestPermissions( new String[]{Manifest.permission.CALL_PHONE}, Constants.PERMISSIONS_REQUEST_CALL_PHONE);\r\n            }\r\n            else{\r\n                callIntent();\r\n            }\r\n        }\r\n    }\r\n","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I had a similar problem except I was pressing a button to make a call, which triggers the callIntent. I checked permission first, if not granted I ask for permission and onRequestPermissionResult I call the check permission and call again.</p>\n\n<pre><code> @Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case Constants.PERMISSIONS_REQUEST_CALL_PHONE: {\n            if ( grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                checkPermissionsAndCall();\n            }\n        }\n    }\n}\n\npublic void checkPermissionsAndCall(){\n    if (Build.VERSION.SDK_INT &gt; 22) {\n        if(ContextCompat.checkSelfPermission(getContext(),\n                Manifest.permission.CALL_PHONE)\n                != PackageManager.PERMISSION_GRANTED){\n            requestPermissions( new String[]{Manifest.permission.CALL_PHONE}, Constants.PERMISSIONS_REQUEST_CALL_PHONE);\n        }\n        else{\n            callIntent();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3730291,"reputation":1633,"user_id":3102913,"accept_rate":33,"display_name":"pavel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556132708,"creation_date":1556132708,"answer_id":55836961,"question_id":32714787,"body_markdown":"Here i want to show my code how i managed this. \r\n\r\n    public class CheckPermission {\r\n\r\n    public Context context;\r\n\r\n    public static final int PERMISSION_REQUEST_CODE =  200;\r\n\r\n    public CheckPermission(Context context){\r\n        this.context = context;\r\n    }\r\n\r\n    public boolean isPermissionGranted(){\r\n        int read_contact = ContextCompat.checkSelfPermission(context.getApplicationContext() , READ_CONTACTS);\r\n        int phone = ContextCompat.checkSelfPermission(context.getApplicationContext() , CALL_PHONE);\r\n\r\n        return read_contact == PackageManager.PERMISSION_GRANTED &amp;&amp; phone == PackageManager.PERMISSION_GRANTED;\r\n       }\r\n    }\r\n\r\nHere in this class i want to check permission granted or not. Is not then i will call permission from my MainActivity like\r\n\r\n\r\n\r\n    public void requestForPermission() {\r\n           ActivityCompat.requestPermissions(MainActivity.this, new String[]    {READ_CONTACTS, CALL_PHONE}, PERMISSION_REQUEST_CODE);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case PERMISSION_REQUEST_CODE:\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    if (shouldShowRequestPermissionRationale(ACCESS_FINE_LOCATION)) {\r\n                        showMessageOKCancel(&quot;You need to allow access to both the permissions&quot;,\r\n                                new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                                            requestPermissions(new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.CALL_PHONE},\r\n                                                    PERMISSION_REQUEST_CODE);\r\n                                        }\r\n                                    }\r\n                                });\r\n                        return;\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\nNow in the onCreate method you need to call requestForPermission() function.\r\n\r\nThat&#39;s it.Also you can request multiple permission at a time.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>Here i want to show my code how i managed this. </p>\n\n<pre><code>public class CheckPermission {\n\npublic Context context;\n\npublic static final int PERMISSION_REQUEST_CODE =  200;\n\npublic CheckPermission(Context context){\n    this.context = context;\n}\n\npublic boolean isPermissionGranted(){\n    int read_contact = ContextCompat.checkSelfPermission(context.getApplicationContext() , READ_CONTACTS);\n    int phone = ContextCompat.checkSelfPermission(context.getApplicationContext() , CALL_PHONE);\n\n    return read_contact == PackageManager.PERMISSION_GRANTED &amp;&amp; phone == PackageManager.PERMISSION_GRANTED;\n   }\n}\n</code></pre>\n\n<p>Here in this class i want to check permission granted or not. Is not then i will call permission from my MainActivity like</p>\n\n<pre><code>public void requestForPermission() {\n       ActivityCompat.requestPermissions(MainActivity.this, new String[]    {READ_CONTACTS, CALL_PHONE}, PERMISSION_REQUEST_CODE);\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n        case PERMISSION_REQUEST_CODE:\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                if (shouldShowRequestPermissionRationale(ACCESS_FINE_LOCATION)) {\n                    showMessageOKCancel(\"You need to allow access to both the permissions\",\n                            new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialog, int which) {\n                                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                                        requestPermissions(new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.CALL_PHONE},\n                                                PERMISSION_REQUEST_CODE);\n                                    }\n                                }\n                            });\n                    return;\n                }\n            }\n    }\n}\n</code></pre>\n\n<p>Now in the onCreate method you need to call requestForPermission() function.</p>\n\n<p>That's it.Also you can request multiple permission at a time.</p>\n"},{"tags":[],"owner":{"account_id":10402724,"reputation":1947,"user_id":7670489,"accept_rate":85,"display_name":"VolodymyrH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591184529,"creation_date":1591184529,"answer_id":62171999,"question_id":32714787,"body_markdown":"I also met a problem that even if you call correct requestPermissions, you still can have this problem. The issue is that parent activity may override this method without calling super. Add super and it will be fixed.","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I also met a problem that even if you call correct requestPermissions, you still can have this problem. The issue is that parent activity may override this method without calling super. Add super and it will be fixed.</p>\n"},{"tags":[],"owner":{"account_id":9317327,"reputation":217,"user_id":7460214,"accept_rate":60,"display_name":"Aury0n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603773101,"creation_date":1603773101,"answer_id":64548345,"question_id":32714787,"body_markdown":"for kotlin users, here my extension to check and validate permissions without override onRequestPermissionResult\r\n\r\n     * @param permissionToValidate (request and check currently permission)\r\n     *\r\n     * @return recursive boolean validation callback (no need OnRequestPermissionResult)\r\n     *\r\n     * */\r\n    internal fun Activity.validatePermission(\r\n        permissionToValidate: String,\r\n        recursiveCall: (() -&gt; Boolean) = { false }\r\n    ): Boolean {\r\n        val permission = ContextCompat.checkSelfPermission(\r\n            this,\r\n            permissionToValidate\r\n        )\r\n    \r\n        if (permission != PackageManager.PERMISSION_GRANTED) {\r\n            if (recursiveCall()) {\r\n                return false\r\n            }\r\n    \r\n            ActivityCompat.requestPermissions(\r\n                this,\r\n                arrayOf(permissionToValidate),\r\n                110\r\n            )\r\n            return this.validatePermission(permissionToValidate) { true }\r\n        }\r\n    \r\n        return true\r\n    \r\n    }\r\n    ","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>for kotlin users, here my extension to check and validate permissions without override onRequestPermissionResult</p>\n<pre><code> * @param permissionToValidate (request and check currently permission)\n *\n * @return recursive boolean validation callback (no need OnRequestPermissionResult)\n *\n * */\ninternal fun Activity.validatePermission(\n    permissionToValidate: String,\n    recursiveCall: (() -&gt; Boolean) = { false }\n): Boolean {\n    val permission = ContextCompat.checkSelfPermission(\n        this,\n        permissionToValidate\n    )\n\n    if (permission != PackageManager.PERMISSION_GRANTED) {\n        if (recursiveCall()) {\n            return false\n        }\n\n        ActivityCompat.requestPermissions(\n            this,\n            arrayOf(permissionToValidate),\n            110\n        )\n        return this.validatePermission(permissionToValidate) { true }\n    }\n\n    return true\n\n}\n</code></pre>\n"}],"owner":{"account_id":1673285,"reputation":5129,"user_id":1539304,"accept_rate":55,"display_name":"Ayohaych"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206660,"favorite_count":0,"down_vote_count":0,"up_vote_count":312,"accepted_answer_id":33081173,"answer_count":25,"score":312,"last_activity_date":1690469628,"creation_date":1442918533,"question_id":32714787,"body_markdown":"I&#39;m updating our app to use the new M runtime permissions system.\r\nIt&#39;s all working except for onRequestPermissionsResult(). I need to check a permission on a button press, and if it&#39;s successful, send a text message. When I grant permission to do it, the dialog closes, but it doesn&#39;t trigger the Send Text until I press the button again.\r\n\r\nI&#39;ve debugged and set breakpoints in the onRequestPermissionsResult() method but it never goes into it.\r\n\r\nThis method gets called first:\r\n\r\n        private void askForPermission() {\r\n        String[] permissions = new String[]{Manifest.permission.SEND_SMS};\r\n        ActivityCompat.requestPermissions(getActivity(), permissions, PERMISSIONS_CODE);\r\n    }\r\n\r\nAnd then my callback looks like this:\r\n\r\n        @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == PERMISSIONS_CODE) {\r\n            for (int i = 0; i &lt; permissions.length; i++) {\r\n                String permission = permissions[i];\r\n                int grantResult = grantResults[i];\r\n\r\n                if (permission.equals(Manifest.permission.SEND_SMS)) {\r\n                    if (grantResult == PackageManager.PERMISSION_GRANTED) {\r\n                        onPPSButtonPress();\r\n                    } else {\r\n                        requestPermissions(new String[]{Manifest.permission.SEND_SMS}, PERMISSIONS_CODE);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHas anybody run into a similar issue?\r\nAppreciate any help with this.\r\nThanks","title":"Android M Permissions: onRequestPermissionsResult() not being called","body":"<p>I'm updating our app to use the new M runtime permissions system.\nIt's all working except for onRequestPermissionsResult(). I need to check a permission on a button press, and if it's successful, send a text message. When I grant permission to do it, the dialog closes, but it doesn't trigger the Send Text until I press the button again.</p>\n\n<p>I've debugged and set breakpoints in the onRequestPermissionsResult() method but it never goes into it.</p>\n\n<p>This method gets called first:</p>\n\n<pre><code>    private void askForPermission() {\n    String[] permissions = new String[]{Manifest.permission.SEND_SMS};\n    ActivityCompat.requestPermissions(getActivity(), permissions, PERMISSIONS_CODE);\n}\n</code></pre>\n\n<p>And then my callback looks like this:</p>\n\n<pre><code>    @Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == PERMISSIONS_CODE) {\n        for (int i = 0; i &lt; permissions.length; i++) {\n            String permission = permissions[i];\n            int grantResult = grantResults[i];\n\n            if (permission.equals(Manifest.permission.SEND_SMS)) {\n                if (grantResult == PackageManager.PERMISSION_GRANTED) {\n                    onPPSButtonPress();\n                } else {\n                    requestPermissions(new String[]{Manifest.permission.SEND_SMS}, PERMISSIONS_CODE);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Has anybody run into a similar issue?\nAppreciate any help with this.\nThanks</p>\n"},{"tags":["java","neo4j","spring-data","spring-data-neo4j"],"owner":{"account_id":22996108,"reputation":43,"user_id":17120856,"display_name":"dpkass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690469563,"creation_date":1690469563,"question_id":76780973,"body_markdown":"So I am working on a Spring Project and I used NEO4J as a DB since the Entities have a tree-like structure. Now I need to find the nodes with the highest distance to each other. \r\n\r\nI used the GDS plugin to get the distances of all nodes to each other, sorted them by distance and got the top few:\r\n```CYPHER\r\nCALL gds.alpha.allShortestPaths.stream(&#39;AS-Graph&#39;, {})\r\nYIELD sourceNodeId, targetNodeId, distance\r\nWITH sourceNodeId, targetNodeId, distance\r\nWHERE gds.util.isFinite(distance) = true\r\n\r\nMATCH (source) WHERE id(source) = sourceNodeId\r\nMATCH (target) WHERE id(target) = targetNodeId\r\nWITH source, target, distance WHERE source &lt;&gt; target\r\n\r\nRETURN source.name AS source, target.name AS target, distance\r\nORDER BY distance DESC, source ASC, target ASC\r\nLIMIT 300\r\n```\r\n\r\nI tried to find a way to get the paths for each source and target, but didn&#39;t find any. I only found a very old [neo4j community 1.5.3 JavaDoc][1] with a FloydWarshall class with a getCost and getPath function. But I didn&#39;t find it in the new releases and I don&#39;t think it will work with the 5.9 I&#39;m running.\r\n\r\nThe only way I see, is getting the nodes with Spring, and then calling shortestPath over and over again. But that seems rather inefficient and I wanted to ask if someone knows a better way.\r\n\r\nThe final goal is saving the 300 longest paths into some Excel-Sheet, where each row is a path. So if there is a simpler solution, I&#39;m all for it.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.neo4j/neo4j/1.5.3/org/neo4j/graphalgo/impl/shortestpath/FloydWarshall.html","title":"Getting the Paths from allPairsShortestPaths (or a similar function) from a NEO4J Database and not just the distances","body":"<p>So I am working on a Spring Project and I used NEO4J as a DB since the Entities have a tree-like structure. Now I need to find the nodes with the highest distance to each other.</p>\n<p>I used the GDS plugin to get the distances of all nodes to each other, sorted them by distance and got the top few:</p>\n<pre><code>CALL gds.alpha.allShortestPaths.stream('AS-Graph', {})\nYIELD sourceNodeId, targetNodeId, distance\nWITH sourceNodeId, targetNodeId, distance\nWHERE gds.util.isFinite(distance) = true\n\nMATCH (source) WHERE id(source) = sourceNodeId\nMATCH (target) WHERE id(target) = targetNodeId\nWITH source, target, distance WHERE source &lt;&gt; target\n\nRETURN source.name AS source, target.name AS target, distance\nORDER BY distance DESC, source ASC, target ASC\nLIMIT 300\n</code></pre>\n<p>I tried to find a way to get the paths for each source and target, but didn't find any. I only found a very old <a href=\"https://www.javadoc.io/doc/org.neo4j/neo4j/1.5.3/org/neo4j/graphalgo/impl/shortestpath/FloydWarshall.html\" rel=\"nofollow noreferrer\">neo4j community 1.5.3 JavaDoc</a> with a FloydWarshall class with a getCost and getPath function. But I didn't find it in the new releases and I don't think it will work with the 5.9 I'm running.</p>\n<p>The only way I see, is getting the nodes with Spring, and then calling shortestPath over and over again. But that seems rather inefficient and I wanted to ask if someone knows a better way.</p>\n<p>The final goal is saving the 300 longest paths into some Excel-Sheet, where each row is a path. So if there is a simpler solution, I'm all for it.</p>\n"},{"tags":["java","gwt"],"answers":[{"tags":[],"owner":{"account_id":69103,"reputation":7973,"user_id":201251,"accept_rate":80,"display_name":"Daniel Kurka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343556770,"creation_date":1343556770,"answer_id":11708405,"question_id":11708096,"body_markdown":"The super dev mode is basically the same than a production compile (it just does not optimize)\r\n\r\nIn production (compiled javascript) System.out does not print anything into your java server side process. Your code runs in the Javascript VM and it would need to go over the wire to print to the java console.\r\n\r\nIf you are running in dev mode you are running inside the JVM that is connected to a plugin inside your browser. This is why System.out works.","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>The super dev mode is basically the same than a production compile (it just does not optimize)</p>\n\n<p>In production (compiled javascript) System.out does not print anything into your java server side process. Your code runs in the Javascript VM and it would need to go over the wire to print to the java console.</p>\n\n<p>If you are running in dev mode you are running inside the JVM that is connected to a plugin inside your browser. This is why System.out works.</p>\n"},{"tags":[],"owner":{"account_id":445996,"reputation":1364,"user_id":838776,"accept_rate":55,"display_name":"Arne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343608138,"creation_date":1343608138,"answer_id":11714156,"question_id":11708096,"body_markdown":"I set up a remote logger to solve this problem. This way all the client log statements are sent to the server where the logging still works. You can find instructions here: https://stackoverflow.com/questions/5812035/setup-a-remoteloggingservlet-in-gwt.\r\n\r\nThen you can use normal java util logging. \r\n\r\n    import java.util.logging.Logger;\r\n    private static Logger log = Logger.getLogger(&quot;mylogger&quot;);\r\n\r\nStack traces are unfortunately in javascript. I haven&#39;t figured out how to get proper java ones yet. \r\nHope this helps! ","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>I set up a remote logger to solve this problem. This way all the client log statements are sent to the server where the logging still works. You can find instructions here: <a href=\"https://stackoverflow.com/questions/5812035/setup-a-remoteloggingservlet-in-gwt\">Setup a remoteLoggingServlet in GWT</a>.</p>\n\n<p>Then you can use normal java util logging. </p>\n\n<pre><code>import java.util.logging.Logger;\nprivate static Logger log = Logger.getLogger(\"mylogger\");\n</code></pre>\n\n<p>Stack traces are unfortunately in javascript. I haven't figured out how to get proper java ones yet. \nHope this helps! </p>\n"},{"tags":[],"owner":{"account_id":4088175,"reputation":69,"user_id":3356944,"display_name":"mcallahan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401202322,"creation_date":1401202322,"answer_id":23892593,"question_id":11708096,"body_markdown":"Not the prettiest of solutions but you can create a native JSNI method like this:\r\n\r\n    public static native void debug(String text)/*-{\r\n        console.debug(text)\r\n    }-*/;\r\n\r\nThen just call:\r\n\r\n    debug(&quot;text here&quot;).\r\n\r\nAnd it should output to the console.","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>Not the prettiest of solutions but you can create a native JSNI method like this:</p>\n\n<pre><code>public static native void debug(String text)/*-{\n    console.debug(text)\n}-*/;\n</code></pre>\n\n<p>Then just call:</p>\n\n<pre><code>debug(\"text here\").\n</code></pre>\n\n<p>And it should output to the console.</p>\n"}],"owner":{"account_id":142262,"reputation":51,"user_id":349854,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2650,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690468876,"creation_date":1343553672,"question_id":11708096,"body_markdown":"Why?\r\n\r\nWhen use `System.out.println` in client - nothing is output in console of **CodeServer**.\r\n\r\nNow I&#39;m logging in browser console, but how to log in system console?\r\n\r\np.s. I know that best way for logging in gwt is using `com.google.gwt.logging.Logging` module. It&#39;s also now working with system console.  ","title":"Logging with SuperDevMode. System.out.println not working","body":"<p>Why?</p>\n<p>When use <code>System.out.println</code> in client - nothing is output in console of <strong>CodeServer</strong>.</p>\n<p>Now I'm logging in browser console, but how to log in system console?</p>\n<p>p.s. I know that best way for logging in gwt is using <code>com.google.gwt.logging.Logging</code> module. It's also now working with system console.</p>\n"},{"tags":["java","javafx","tableview"],"comments":[{"owner":{"display_name":"user9035826"},"score":2,"creation_date":1690477818,"post_id":76780178,"comment_id":135362924,"body_markdown":"Q: &quot;Is there a solution using IDs (tableA, tableB) to access the data???&quot; Why do you need to do that? The IDs are defined as a TableColumn. In MVC, it belongs to the View. To access the data, you directly work with the model class, which is tableData in your case.","body":"Q: &quot;Is there a solution using IDs (tableA, tableB) to access the data???&quot; Why do you need to do that? The IDs are defined as a TableColumn. In MVC, it belongs to the View. To access the data, you directly work with the model class, which is tableData in your case."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1690488785,"post_id":76780178,"comment_id":135364927,"body_markdown":"See: [Why should I avoid using PropertyValueFactory in JavaFX?](https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx).  (not related to your synchronized tables issue, just a preferred style for table use in general).","body":"See: <a href=\"https://stackoverflow.com/questions/72437983/why-should-i-avoid-using-propertyvaluefactory-in-javafx\">Why should I avoid using PropertyValueFactory in JavaFX?</a>.  (not related to your synchronized tables issue, just a preferred style for table use in general)."}],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690467957,"creation_date":1690467957,"answer_id":76780719,"question_id":76780178,"body_markdown":"Yes you can set same data to both tableViews. Here, you need to provide separate ids to columns to set cellValueFactory for each columns.\r\n\r\nSomething like..\r\n\r\n    &lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t1ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t1Price&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t1Quantity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;\r\n    &lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t2ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t2Price&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn fx:id=&quot;t2Quantity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;\r\n\r\nController Code:\r\n\r\n    @FXML TableColumn &lt;Product, String&gt; t1ProductName;\r\n    @FXML TableColumn &lt;Product, Double&gt; t1Price;\r\n    @FXML TableColumn &lt;Product, Integer&gt; t1Quantity;\r\n    @FXML TableColumn &lt;Product, String&gt; t2ProductName;\r\n    @FXML TableColumn &lt;Product, Double&gt; t2Price;\r\n    @FXML TableColumn &lt;Product, Integer&gt; t2Quantity;\r\n    \r\n    ObservableList&lt;Product&gt; tableData;\r\n    \r\n    private void intializeTableColumns() {\r\n        \r\n        tableData = FXCollections.observableArrayList();\r\n        \r\n        t1ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n        \r\n        t1Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n    \r\n        t1Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\r\n    \r\n        t2ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n        \r\n        t2Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n    \r\n        t2Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\r\n        \r\n    \r\n    }\r\n\r\n","title":"How to load the same data in two different TableViews on single screen from the same class model (JavaFX)","body":"<p>Yes you can set same data to both tableViews. Here, you need to provide separate ids to columns to set cellValueFactory for each columns.</p>\n<p>Something like..</p>\n<pre><code>&lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t1ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t1Price&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t1Quantity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n&lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t2ProductName&quot; prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t2Price&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn fx:id=&quot;t2Quantity&quot; minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n</code></pre>\n<p>Controller Code:</p>\n<pre><code>@FXML TableColumn &lt;Product, String&gt; t1ProductName;\n@FXML TableColumn &lt;Product, Double&gt; t1Price;\n@FXML TableColumn &lt;Product, Integer&gt; t1Quantity;\n@FXML TableColumn &lt;Product, String&gt; t2ProductName;\n@FXML TableColumn &lt;Product, Double&gt; t2Price;\n@FXML TableColumn &lt;Product, Integer&gt; t2Quantity;\n\nObservableList&lt;Product&gt; tableData;\n\nprivate void intializeTableColumns() {\n    \n    tableData = FXCollections.observableArrayList();\n    \n    t1ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \n    t1Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n    t1Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\n\n    t2ProductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \n    t2Price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n    t2Quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\n    \n\n}\n</code></pre>\n"}],"owner":{"account_id":15254576,"reputation":56,"user_id":11006806,"display_name":"Nacira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690467957,"creation_date":1690464060,"question_id":76780178,"body_markdown":"I have  two TableViews (tableA &amp; tableB) on the same screen (they have the same controller.java) \r\n\r\n    @FXML TableView &lt;Product&gt; tableA;\r\n    @FXML TableView &lt;Product&gt; tableB;\r\n\r\nand  I want to add the same data in both without repeating : \r\n\r\nProduct class model\r\n\r\nInitialize all tablecolums for both tables (I don&#39;t know if this works without initialization)\r\n\r\n    productName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n    \t\r\n    price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n   \r\n    /* ... */\r\nIs there a solution using IDs (tableA, tableB) to access the data???\r\n\r\nDo I have to give an ID for each TableColumn?\r\n\r\nController.java\r\n\r\n    @FXML TableView &lt;Product&gt; tableA;\r\n    @FXML TableView &lt;Product&gt; tableB;\r\n\t\r\n    @FXML TableColumn &lt;Product, String&gt; productName;\r\n    @FXML TableColumn &lt;Product, Double&gt; price;\r\n    @FXML TableColumn &lt;Product, Integer&gt; quantity;\r\n\r\n    ObservableList&lt;Product&gt; tableData;\r\n\r\n    private void intializeTableColumns() {\r\n\t\t\r\n\t\ttableData = FXCollections.observableArrayList();\r\n    \t\r\n    \tproductName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\r\n    \t\r\n    \tprice.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\r\n    \r\n    \tquantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\r\n    \t\r\n\r\n    }\r\n    private void insertInTableData() {\r\n\t\t\r\n\t\tProduct product = new Product();\r\n\t\t\r\n\t\t/* ...*/\r\n\t\t\r\n\t\ttableData.addAll(product);\r\n       \r\n        /*Add data in both tables */\r\n\r\n        tableA.setItems(tableData);\r\n        tableB.setItems(tableData);       \r\n\r\nfile.fxml\r\n\r\n     &lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;\r\n    &lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\r\n             &lt;columns&gt;\r\n                 &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N&#176;&quot; /&gt;\r\n                 &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\r\n                 &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\r\n                 &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\r\n             &lt;/columns&gt;\r\n             &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\r\n    &lt;/TableView&gt;","title":"How to load the same data in two different TableViews on single screen from the same class model (JavaFX)","body":"<p>I have  two TableViews (tableA &amp; tableB) on the same screen (they have the same controller.java)</p>\n<pre><code>@FXML TableView &lt;Product&gt; tableA;\n@FXML TableView &lt;Product&gt; tableB;\n</code></pre>\n<p>and  I want to add the same data in both without repeating :</p>\n<p>Product class model</p>\n<p>Initialize all tablecolums for both tables (I don't know if this works without initialization)</p>\n<pre><code>productName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \nprice.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n/* ... */\n</code></pre>\n<p>Is there a solution using IDs (tableA, tableB) to access the data???</p>\n<p>Do I have to give an ID for each TableColumn?</p>\n<p>Controller.java</p>\n<pre><code>@FXML TableView &lt;Product&gt; tableA;\n@FXML TableView &lt;Product&gt; tableB;\n\n@FXML TableColumn &lt;Product, String&gt; productName;\n@FXML TableColumn &lt;Product, Double&gt; price;\n@FXML TableColumn &lt;Product, Integer&gt; quantity;\n\nObservableList&lt;Product&gt; tableData;\n\nprivate void intializeTableColumns() {\n    \n    tableData = FXCollections.observableArrayList();\n    \n    productName.setCellValueFactory(new PropertyValueFactory&lt;Product, String&gt;(&quot;productName&quot;));\n    \n    price.setCellValueFactory(new PropertyValueFactory&lt;Product, Double&gt;(&quot;price&quot;));\n\n    quantity.setCellValueFactory(new PropertyValueFactory&lt;Product, Integer&gt;(&quot;quantity&quot;));\n    \n\n}\nprivate void insertInTableData() {\n    \n    Product product = new Product();\n    \n    /* ...*/\n    \n    tableData.addAll(product);\n   \n    /*Add data in both tables */\n\n    tableA.setItems(tableData);\n    tableB.setItems(tableData);       \n</code></pre>\n<p>file.fxml</p>\n<pre><code> &lt;TableView fx:id=&quot;tableA&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n&lt;TableView fx:id=&quot;tableB&quot; prefHeight=&quot;200.0&quot; styleClass=&quot;table-2&quot;&gt;\n         &lt;columns&gt;\n             &lt;TableColumn maxWidth=&quot;-Infinity&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;N°&quot; /&gt;\n             &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;Product&quot; /&gt;\n             &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Price&quot; /&gt;\n             &lt;TableColumn minWidth=&quot;-Infinity&quot; prefWidth=&quot;75.0&quot; text=&quot;Quantity&quot; /&gt;\n         &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;&lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;&lt;/columnResizePolicy&gt;\n&lt;/TableView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690461781,"post_id":76779842,"comment_id":135359142,"body_markdown":"Sounds like something is thoroughly broken. Try reinstalling the Maven plugin, or even Eclipse itself. Or better yet, upgrade to IntelliJ.","body":"Sounds like something is thoroughly broken. Try reinstalling the Maven plugin, or even Eclipse itself. Or better yet, upgrade to IntelliJ."},{"owner":{"account_id":10413799,"reputation":55,"user_id":7678492,"display_name":"Abulrahman Hejazi"},"score":0,"creation_date":1690467837,"post_id":76779842,"comment_id":135360719,"body_markdown":"thanks for your advice, it turns out eclipse was the problem, I don&#39;t know why but when I used intelliJ it worked fine.","body":"thanks for your advice, it turns out eclipse was the problem, I don&#39;t know why but when I used intelliJ it worked fine."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690473273,"post_id":76779842,"comment_id":135362016,"body_markdown":"Delete all project from the eclipse workspace an reimport the whole project....","body":"Delete all project from the eclipse workspace an reimport the whole project...."}],"answers":[{"tags":[],"owner":{"account_id":10413799,"reputation":55,"user_id":7678492,"display_name":"Abulrahman Hejazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690467938,"creation_date":1690467938,"answer_id":76780715,"question_id":76779842,"body_markdown":"I re-installed everything the problem was still there, however changing the IDE to intelliJ solved it.\r\n\r\nThanks to Jorn for the idea.\r\n","title":"a problem this my maven project &quot;An internal error occurred during: &quot;Updating Maven Project&quot;. &quot;","body":"<p>I re-installed everything the problem was still there, however changing the IDE to intelliJ solved it.</p>\n<p>Thanks to Jorn for the idea.</p>\n"}],"owner":{"account_id":10413799,"reputation":55,"user_id":7678492,"display_name":"Abulrahman Hejazi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690467938,"creation_date":1690461704,"question_id":76779842,"body_markdown":"I can clean install and clean package, as well as run the project but for some reason this error is displayed with my maven spring-boot project, can anyone help?\r\nit makes coding so much difficult as it doesn&#39;t auto complete and give fake errors\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    An internal error occurred during: &quot;Updating Maven Project&quot;.\r\n    &#39;org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()&#39;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iPp0e.png","title":"a problem this my maven project &quot;An internal error occurred during: &quot;Updating Maven Project&quot;. &quot;","body":"<p>I can clean install and clean package, as well as run the project but for some reason this error is displayed with my maven spring-boot project, can anyone help?\nit makes coding so much difficult as it doesn't auto complete and give fake errors</p>\n<p><a href=\"https://i.stack.imgur.com/iPp0e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iPp0e.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>An internal error occurred during: &quot;Updating Maven Project&quot;.\n'org.apache.maven.project.MavenProject org.eclipse.m2e.core.project.configurator.ProjectConfigurationRequest.getMavenProject()'\n</code></pre>\n"},{"tags":["java","reflection","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690108168,"post_id":76747716,"comment_id":135304540,"body_markdown":"When we register something with `query...`, it is only registered for querying, not for invocation (see [the corresponding documentation at `graalvm.org`](https://www.graalvm.org/22.2/reference-manual/native-image/metadata/#specifying-reflection-metadata-in-json)). I think that this could be the issue. You could try replacing `queryAllPublicConstructors` with `allPublicConstructors`.","body":"When we register something with <code>query...</code>, it is only registered for querying, not for invocation (see <a href=\"https://www.graalvm.org/22.2/reference-manual/native-image/metadata/#specifying-reflection-metadata-in-json\" rel=\"nofollow noreferrer\">the corresponding documentation at <code>graalvm.org</code></a>). I think that this could be the issue. You could try replacing <code>queryAllPublicConstructors</code> with <code>allPublicConstructors</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690108355,"post_id":76747716,"comment_id":135304562,"body_markdown":"Please notice that there is also the possibility to generate the `reflection-config.json` through the [tracing agent (`graalvm.org`)](https://www.graalvm.org/22.0/reference-manual/native-image/Agent/). For this to work, all (relevant) parts of the code must be triggered.","body":"Please notice that there is also the possibility to generate the <code>reflection-config.json</code> through the <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Agent/\" rel=\"nofollow noreferrer\">tracing agent (<code>graalvm.org</code>)</a>. For this to work, all (relevant) parts of the code must be triggered."},{"owner":{"account_id":29073551,"reputation":21,"user_id":22271279,"display_name":"skylar"},"score":0,"creation_date":1690114159,"post_id":76747716,"comment_id":135305164,"body_markdown":"@Turing85: That was really helpful. Thank you. That command generated me me 6 configuration files. However, I don&#39;t know which parameter I have to use for the &quot;predefined-classes-config.json&quot; and &quot;proxy-config.json&quot;. So far I couldn&#39;t find a list with all valid -H parameter options. I also noticed, that the &quot;reflect-config.json&quot; now contains entries for methods that doesn&#39;t even exist. I assume, these had been attempts to access methods by reflection if present. Is there a way to filter those non-existing method references, to also reduce the number of warnings from the &quot;native-image&quot; command?","body":"@Turing85: That was really helpful. Thank you. That command generated me me 6 configuration files. However, I don&#39;t know which parameter I have to use for the &quot;predefined-classes-config.json&quot; and &quot;proxy-config.json&quot;. So far I couldn&#39;t find a list with all valid -H parameter options. I also noticed, that the &quot;reflect-config.json&quot; now contains entries for methods that doesn&#39;t even exist. I assume, these had been attempts to access methods by reflection if present. Is there a way to filter those non-existing method references, to also reduce the number of warnings from the &quot;native-image&quot; command?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690125903,"post_id":76747716,"comment_id":135306635,"body_markdown":"You could try `-H:ReflectionConfigurationFiles=reflect-config.json` or `-H:ConfigurationFileDirectories=directory-generated-with-agent`. If you want to see options like that, try running `native-image --expert-options`. Also, note that as far as I know, log4j doesn&#39;t work that well with native-image. You [mght need to use `log4j-over-slf4j](https://github.com/micronaut-projects/micronaut-core/issues/6041#issuecomment-940810657)`","body":"You could try <code>-H:ReflectionConfigurationFiles=reflect-config.json</code> or <code>-H:ConfigurationFileDirectories=directory-generated-with-age&zwnj;&#8203;nt</code>. If you want to see options like that, try running <code>native-image --expert-options</code>. Also, note that as far as I know, log4j doesn&#39;t work that well with native-image. You [mght need to use <code>log4j-over-slf4j](https:&#47;&#47;github.com&#47;micronaut-projects&#47;micr&zwnj;&#8203;onaut-core&#47;issues&#47;60&zwnj;&#8203;41#issuecomment-9408&zwnj;&#8203;10657)</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690126448,"post_id":76747716,"comment_id":135306724,"body_markdown":"See also https://issues.apache.org/jira/browse/LOG4J2-2649 and https://issues.apache.org/jira/browse/LOG4J2-2604","body":"See also <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2649\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LOG4J2-2649</a> and <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2604\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LOG4J2-2604</a>"}],"answers":[{"tags":[],"owner":{"account_id":1285407,"reputation":43,"user_id":6805761,"display_name":"sanjeev k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690467424,"creation_date":1690166432,"answer_id":76751098,"question_id":76747716,"body_markdown":" I faced a similar issue today (spring-boot-3.1.2)  and I could fix it by doing the following:\r\n 1.  `mvn -Pnative native:compile`\r\n 2. `java -Dspring.aot.enabled=true -agentlib:native-image-agent=config-output-dir=./config -jar target/&lt;your-app.jar&gt;` (this will create a config folder in the root dir of your app)\r\n 3. try testing your application with all the possible paths covered so that reflection-config.json has all the information regarding the reflection calls at run time, once done use **Ctrl+C** to stop the app\r\n 4. create a folder **META-INF/native-image** in **src/main/resources**\r\n 5. copy all the contents here(META-INF/native-image) from config folder created in step 2  [![enter image description here][1]][1]\r\n 6. again run `mvn -Pnative native:compile` OR `mvn -Pnative spring-boot:build-image` (if you need docker image)\r\n 7. finally run `target/your-app-name` (or `docker run...`)\r\n\r\nI hope this helps, however, I am a newbie as far as graalVM and spring boot native apps/images are concerned, trying to learn.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/guAp0.png","title":"How to register method for runtime reflection with GraalVM?","body":"<p>I faced a similar issue today (spring-boot-3.1.2)  and I could fix it by doing the following:</p>\n<ol>\n<li><code>mvn -Pnative native:compile</code></li>\n<li><code>java -Dspring.aot.enabled=true -agentlib:native-image-agent=config-output-dir=./config -jar target/&lt;your-app.jar&gt;</code> (this will create a config folder in the root dir of your app)</li>\n<li>try testing your application with all the possible paths covered so that reflection-config.json has all the information regarding the reflection calls at run time, once done use <strong>Ctrl+C</strong> to stop the app</li>\n<li>create a folder <strong>META-INF/native-image</strong> in <strong>src/main/resources</strong></li>\n<li>copy all the contents here(META-INF/native-image) from config folder created in step 2  <a href=\"https://i.stack.imgur.com/guAp0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/guAp0.png\" alt=\"enter image description here\" /></a></li>\n<li>again run <code>mvn -Pnative native:compile</code> OR <code>mvn -Pnative spring-boot:build-image</code> (if you need docker image)</li>\n<li>finally run <code>target/your-app-name</code> (or <code>docker run...</code>)</li>\n</ol>\n<p>I hope this helps, however, I am a newbie as far as graalVM and spring boot native apps/images are concerned, trying to learn.</p>\n"}],"owner":{"account_id":29073551,"reputation":21,"user_id":22271279,"display_name":"skylar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690467424,"creation_date":1690107348,"question_id":76747716,"body_markdown":"I am trying to get an existing Java application running with GraalVM. Now I have encountered an issue i don&#39;t know how to solve. I was able to successfully create a native image. However I had to create a reflection configuration like this to overcome the &quot;Warning: Reflection method java.lang.Class.getMethod invoked&quot; message during the compile phase:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;java.lang.Class&quot;,\r\n    &quot;queryAllDeclaredConstructors&quot;: true,\r\n    &quot;queryAllPublicConstructors&quot;: true,\r\n    &quot;queryAllDeclaredMethods&quot;: true,\r\n    &quot;queryAllPublicMethods&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;org.apache.logging.log4j.message.DefaultFlowMessageFactory&quot;,\r\n    &quot;queryAllDeclaredConstructors&quot;: true,\r\n    &quot;queryAllPublicConstructors&quot;: true,\r\n    &quot;queryAllDeclaredMethods&quot;: true,\r\n    &quot;queryAllPublicMethods&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  }\r\n]\r\n```\r\n\r\nI&#39;ve added the second entry, because my native image was throwing a method-not-found error for `org.apache.logging.log4j.message.DefaultFlowMessageFactory.&lt;init&gt;` \r\n\r\nWhen I run my native image now, I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.graalvm.nativeimage.MissingReflectionRegistrationError: The program tried to reflectively invoke method public org.apache.logging.log4j.message.DefaultFlowMessageFactory() without it being registered for runtime reflection. Add it to the reflection metadata to solve this problem. See https://www.graalvm.org/latest/reference-manual/native-image/metadata/#reflection for help.\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.reflect.MissingReflectionRegistrationUtils.forQueriedOnlyExecutable(MissingReflectionRegistrationUtils.java:97)\r\n\tat java.base@17.0.8/java.lang.reflect.Constructor.acquireConstructorAccessor(Constructor.java:74)\r\n\tat java.base@17.0.8/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:496)\r\n\tat java.base@17.0.8/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base@17.0.8/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base@17.0.8/java.lang.Class.newInstance(DynamicHub.java:645)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.createDefaultFlowMessageFactory(AbstractLogger.java:240)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.&lt;init&gt;(AbstractLogger.java:141)\r\n\tat org.apache.logging.log4j.status.StatusLogger.&lt;init&gt;(StatusLogger.java:141)\r\n\tat org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:91)\r\n\tat org.apache.logging.slf4j.Log4jMarkerFactory.&lt;clinit&gt;(Log4jMarkerFactory.java:36)\r\n\tat org.apache.logging.slf4j.SLF4JServiceProvider.initialize(SLF4JServiceProvider.java:53)\r\n\tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:183)\r\n\tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:170)\r\n\tat org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:455)\r\n\tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:441)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:390)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\r\n\tat app.Main.&lt;clinit&gt;(Main.java:12)\r\n```\r\n\r\nThe error message implies that I might be able to solve this problem my registering this method for runtime reflection.\r\n\r\nOK, But how? I couldn&#39;t find anything helpful in the documentation.\r\n\r\nAny ideas? Are there any examples I might have missed?","title":"How to register method for runtime reflection with GraalVM?","body":"<p>I am trying to get an existing Java application running with GraalVM. Now I have encountered an issue i don't know how to solve. I was able to successfully create a native image. However I had to create a reflection configuration like this to overcome the &quot;Warning: Reflection method java.lang.Class.getMethod invoked&quot; message during the compile phase:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;java.lang.Class&quot;,\n    &quot;queryAllDeclaredConstructors&quot;: true,\n    &quot;queryAllPublicConstructors&quot;: true,\n    &quot;queryAllDeclaredMethods&quot;: true,\n    &quot;queryAllPublicMethods&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;org.apache.logging.log4j.message.DefaultFlowMessageFactory&quot;,\n    &quot;queryAllDeclaredConstructors&quot;: true,\n    &quot;queryAllPublicConstructors&quot;: true,\n    &quot;queryAllDeclaredMethods&quot;: true,\n    &quot;queryAllPublicMethods&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  }\n]\n</code></pre>\n<p>I've added the second entry, because my native image was throwing a method-not-found error for <code>org.apache.logging.log4j.message.DefaultFlowMessageFactory.&lt;init&gt;</code></p>\n<p>When I run my native image now, I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.graalvm.nativeimage.MissingReflectionRegistrationError: The program tried to reflectively invoke method public org.apache.logging.log4j.message.DefaultFlowMessageFactory() without it being registered for runtime reflection. Add it to the reflection metadata to solve this problem. See https://www.graalvm.org/latest/reference-manual/native-image/metadata/#reflection for help.\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.reflect.MissingReflectionRegistrationUtils.forQueriedOnlyExecutable(MissingReflectionRegistrationUtils.java:97)\n    at java.base@17.0.8/java.lang.reflect.Constructor.acquireConstructorAccessor(Constructor.java:74)\n    at java.base@17.0.8/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:496)\n    at java.base@17.0.8/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base@17.0.8/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base@17.0.8/java.lang.Class.newInstance(DynamicHub.java:645)\n    at org.apache.logging.log4j.spi.AbstractLogger.createDefaultFlowMessageFactory(AbstractLogger.java:240)\n    at org.apache.logging.log4j.spi.AbstractLogger.&lt;init&gt;(AbstractLogger.java:141)\n    at org.apache.logging.log4j.status.StatusLogger.&lt;init&gt;(StatusLogger.java:141)\n    at org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:91)\n    at org.apache.logging.slf4j.Log4jMarkerFactory.&lt;clinit&gt;(Log4jMarkerFactory.java:36)\n    at org.apache.logging.slf4j.SLF4JServiceProvider.initialize(SLF4JServiceProvider.java:53)\n    at org.slf4j.LoggerFactory.bind(LoggerFactory.java:183)\n    at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:170)\n    at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:455)\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:441)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:390)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:416)\n    at app.Main.&lt;clinit&gt;(Main.java:12)\n</code></pre>\n<p>The error message implies that I might be able to solve this problem my registering this method for runtime reflection.</p>\n<p>OK, But how? I couldn't find anything helpful in the documentation.</p>\n<p>Any ideas? Are there any examples I might have missed?</p>\n"},{"tags":["java","spring-boot","hibernate","spatial"],"comments":[{"owner":{"account_id":13517191,"reputation":21,"user_id":9751431,"display_name":"noob123"},"score":0,"creation_date":1682496016,"post_id":76108427,"comment_id":134223455,"body_markdown":"Dependency used -&gt; \n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;5.6.2.Final&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"Dependency used -&gt;  &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt; \t\t\t&lt;version&gt;5.6.2.Final&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1682595381,"post_id":76108427,"comment_id":134242388,"body_markdown":"Please edit your question to add more details.  I tried formatting it but I am not sure if the slashes you added were to escape the site or are part of your query.  Please edit to fix.","body":"Please edit your question to add more details.  I tried formatting it but I am not sure if the slashes you added were to escape the site or are part of your query.  Please edit to fix."}],"answers":[{"tags":[],"owner":{"account_id":1907369,"reputation":442,"user_id":1721946,"display_name":"Lunf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689167407,"creation_date":1689167407,"answer_id":76670958,"question_id":76108427,"body_markdown":"I uses myBatis and the native query as following\r\n\r\n    @Select(&quot;SELECT * FROM vehicle WHERE public.ST_DWithin(last_location::public.geography, public.ST_SetSRID(public.ST_MakePoint(#{longitude}::float, #{latitude}::float), 4326)::public.geography, #{rangeInMeter}) LIMIT #{limit}&quot;)\r\n    List\\&lt;Object\\&gt; findVehiclesInRangeFromLatLon(@Param(&quot;longitude&quot;) double longitude, @Param(&quot;latitude&quot;) double latitude, @Param(&quot;rangeInMeter&quot;) int rangeInMeter, @Param(&quot;limit&quot;) int limit);\r\n\r\n\r\nIn mybatis, using `#{param}` to pass the parameter to the query.\r\n\r\nYou can check on this answer for more https://stackoverflow.com/a/56888200/1721946","title":"st_makepoint does not exist spring boot","body":"<p>I uses myBatis and the native query as following</p>\n<pre><code>@Select(&quot;SELECT * FROM vehicle WHERE public.ST_DWithin(last_location::public.geography, public.ST_SetSRID(public.ST_MakePoint(#{longitude}::float, #{latitude}::float), 4326)::public.geography, #{rangeInMeter}) LIMIT #{limit}&quot;)\nList\\&lt;Object\\&gt; findVehiclesInRangeFromLatLon(@Param(&quot;longitude&quot;) double longitude, @Param(&quot;latitude&quot;) double latitude, @Param(&quot;rangeInMeter&quot;) int rangeInMeter, @Param(&quot;limit&quot;) int limit);\n</code></pre>\n<p>In mybatis, using <code>#{param}</code> to pass the parameter to the query.</p>\n<p>You can check on this answer for more <a href=\"https://stackoverflow.com/a/56888200/1721946\">https://stackoverflow.com/a/56888200/1721946</a></p>\n"}],"owner":{"account_id":13517191,"reputation":21,"user_id":9751431,"display_name":"noob123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690467234,"creation_date":1682495984,"question_id":76108427,"body_markdown":"I am trying to query spatial data using the below native query. and I am getting below exception in doing so.\r\n```\r\n@Query(nativeQuery = true, value = &quot;SELECT \\* FROM locations WHERE ST_Contains(polygon, ST_Transform(ST_SetSRID(ST_MakePoint(:x, :y), 4326), 3785))&quot;)\r\nList\\&lt;Location\\&gt; test(@Param(&quot;x&quot;) double x,@Param(&quot;y&quot;) double y);\r\n```\r\nException I am getting \r\n&gt;ERROR: function st_makepoint(double precision, double precision) does not exist\r\nHint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n\r\ntried adding the below configs \r\n&gt;hibernate-spatial dependency\r\n&gt;\r\n&gt;properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.spatial.dialect.postgis.PostgisPG95Dialect&quot;);\\`\r\n\r\nNote:\r\nIf I execute same query directly on db , its working","title":"st_makepoint does not exist spring boot","body":"<p>I am trying to query spatial data using the below native query. and I am getting below exception in doing so.</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;SELECT \\* FROM locations WHERE ST_Contains(polygon, ST_Transform(ST_SetSRID(ST_MakePoint(:x, :y), 4326), 3785))&quot;)\nList\\&lt;Location\\&gt; test(@Param(&quot;x&quot;) double x,@Param(&quot;y&quot;) double y);\n</code></pre>\n<p>Exception I am getting</p>\n<blockquote>\n<p>ERROR: function st_makepoint(double precision, double precision) does not exist\nHint: No function matches the given name and argument types. You might need to add explicit type casts.</p>\n</blockquote>\n<p>tried adding the below configs</p>\n<blockquote>\n<p>hibernate-spatial dependency</p>\n<p>properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.spatial.dialect.postgis.PostgisPG95Dialect&quot;);`</p>\n</blockquote>\n<p>Note:\nIf I execute same query directly on db , its working</p>\n"},{"tags":["java","android","mongodb","spring-boot","rest"],"comments":[{"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"score":0,"creation_date":1690472907,"post_id":76780598,"comment_id":135361938,"body_markdown":"Is it the only document in the collection? The timestamp part of the object IDs &quot;64a6d4ae&quot; is the same, it&#39;s only the random part that differs. It might be just the case that you have several documents created at 2023-07-06T14:50:22","body":"Is it the only document in the collection? The timestamp part of the object IDs &quot;64a6d4ae&quot; is the same, it&#39;s only the random part that differs. It might be just the case that you have several documents created at 2023-07-06T14:50:22"},{"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"score":0,"creation_date":1690481215,"post_id":76780598,"comment_id":135363599,"body_markdown":"No, I do have several other documents and none of them match the output I get. Also, in Android I made sure to output  the first document.  I specifically checked the first entry in the code I sent \n System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());. I believe the serialization of the document in Android might be the issue. Because I output the correct id  in the rest API server but when I try to a GET request in Android everything but the Id matches perfectly.","body":"No, I do have several other documents and none of them match the output I get. Also, in Android I made sure to output  the first document.  I specifically checked the first entry in the code I sent   System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());. I believe the serialization of the document in Android might be the issue. Because I output the correct id  in the rest API server but when I try to a GET request in Android everything but the Id matches perfectly."}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690467049,"creation_date":1690467049,"question_id":76780598,"body_markdown":"Im encountering an issue with converting the timestamp and date of the objectId received from my REST server to a matching ObjectId hexadecimal value in my Android app. The server sends an object of timestamp and date as part of the response, and I need to generate an ObjectId that corresponds to the one stored in my MongoDB documents.\r\n\r\nthis is the first document in my Mongodb with its objectId:\r\n```\r\n{\r\n  &quot;_id&quot;: {\r\n    &quot;$oid&quot;: &quot;64a6d4ae3fe947597ff1fe23&quot;\r\n  },\r\n  &quot;content&quot;: &quot;my first post &quot;,\r\n  &quot;createdAt&quot;: {\r\n    &quot;$date&quot;: &quot;2023-07-06T14:50:22.778Z&quot;\r\n  },\r\n  &quot;hashtags&quot;: [],\r\n  &quot;user&quot;: {\r\n    &quot;$ref&quot;: &quot;app_users&quot;,\r\n    &quot;$id&quot;: {\r\n      &quot;$oid&quot;: &quot;648da920b40b7222a0af8cb6&quot;\r\n    }\r\n  },\r\n  &quot;_class&quot;: &quot;dev.social.media.security.model.Post&quot;\r\n}\r\n\r\n```\r\n [![in my spring boot rest API i get the correct data shown here in postman][1]][1]\r\n\r\n\r\n\r\nhere is where the issue turns up. in my android console i try to get the objectId of the first document and the results I get in the console doesn&#39;t match the objectId in the server and MongoDB\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nthe problem doesn&#39;t seem to be the way I am requesting data from the server in Android because i am fetching the correct data from everything other than the objectID which doesn&#39;t match the one in Mongodb. \r\n\r\n```\r\n        // Make the API call to fetch the list of posts\r\n        PostService postService = retrofit.create(PostService.class);\r\n        Call&lt;List&lt;Post&gt;&gt; call = postService.getAllPosts(authToken); // Replace page and size with your desired values\r\n        call.enqueue(new Callback&lt;List&lt;Post&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;List&lt;Post&gt;&gt; call, @NonNull Response&lt;List&lt;Post&gt;&gt; response) {\r\n                System.out.println(&quot;we should get the postts here &quot; + response.body());\r\n                System.out.println(&quot;header check &quot; + response.headers());\r\n                System.out.println(&quot;Status code from server&quot; + response.isSuccessful());\r\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\r\n\r\n                    //Gson gson = new Gson();\r\n                    // List&lt;Post&gt; responsePage = Collections.singletonList(gson.fromJson(jsonResponse, Post.class));\r\n                    // Type postListType = new TypeToken&lt;List&lt;Post&gt;&gt;() {}.getType();\r\n                    Gson gson = new Gson();\r\n                    List&lt;Post&gt; posts = response.body();\r\n                    String jsonResponse = gson.toJson(posts);\r\n                    System.out.println(&quot;Server response original: &quot; + new Gson().toJson(posts));\r\n                    // Set the correct post ID for each post object\r\n  /*                  for (Post post : posts) {\r\n                        // Assuming the server response contains a field &quot;postId&quot; that holds the post ID\r\n                        ObjectId postId = post.getIdWrapper();// Replace &quot;getPostId()&quot; with the correct method to get the post ID from the server response\r\n                        post.setIdWrapper(postId); // Assuming &quot;setId()&quot; is the method to set the post ID in your Post class\r\n                    }\r\n*/\r\n\r\n                    // Log the response body\r\n                    System.out.println(&quot;Response body: &quot; + jsonResponse);\r\n                    if (posts != null) {\r\n                        // int totalPages = pageResponse.getTotalPage;\r\n                        // long totalElements = pageResponse.getTotalElements();\r\n\r\n\r\n                        //System.out.println(&quot;size: &quot; + posts.size());\r\n                        //  System.out.println(&quot;total pages: &quot; );\r\n                        //System.out.println(&quot;total elements: &quot;);\r\n                        System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());\r\n                        System.out.println(&quot;get content from original post &quot; + posts.get(0).getContent());\r\n\r\n                        postAdapter.setPostList(posts);\r\n\r\n\r\n                    } else {\r\n                        // Handle the case when the &#39;posts&#39; list is null\r\n                        System.out.println(&quot;Received null posts list&quot;);\r\n                    }\r\n                } else {\r\n                    // Handle error\r\n                    // Handle the login error here\r\n                    System.out.println(&quot;Something went wrong displaying the post&quot;);\r\n                    Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n```\r\n\r\n\r\nthe model class post in android \r\n```\r\n\r\npublic class Post  {\r\n\r\n\r\n    @SerializedName(&quot;_id&quot;)\r\n    private ObjectId idWrapper;\r\n\r\n    @SerializedName(&quot;content&quot;)\r\n    private String content;\r\n\r\n    @SerializedName(&quot;createdAt&quot;)\r\n    private String createdAt;\r\n\r\n    @SerializedName(&quot;updatedAt&quot;)\r\n    private String updatedAt;\r\n\r\n    @SerializedName(&quot;hashtags&quot;)\r\n    private List&lt;String&gt; hashtags;\r\n    @SerializedName(&quot;comments&quot;)\r\n    private List&lt;Comment&gt; comments;\r\n\r\n    @SerializedName(&quot;likes&quot;)\r\n    private List&lt;Like&gt; likes;\r\n\r\n    @SerializedName(&quot;user&quot;)\r\n    private AppUser user;\r\n\r\n\r\n\r\n\r\n    //empty constructor\r\n    public Post() {}\r\n\r\n    public Post( ObjectId idWrapper, String content, String createdAt, String updatedAt, List&lt;String&gt; hashtags, List&lt;Comment&gt; comments, List&lt;Like&gt; likes, AppUser user) {\r\n       this.idWrapper = idWrapper;\r\n        this.content = content;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n        this.hashtags = hashtags;\r\n        this.comments = comments;\r\n        this.likes = likes;\r\n        this.user = user;\r\n    }\r\n\r\n    public ObjectId getIdWrapper() {\r\n        return idWrapper;\r\n    }\r\n\r\n    public void setIdWrapper(ObjectId idWrapper) {\r\n        this.idWrapper = idWrapper;\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R9BHL.png","title":"Mismatch in ObjectId Conversion between REST Server and Android App","body":"<p>Im encountering an issue with converting the timestamp and date of the objectId received from my REST server to a matching ObjectId hexadecimal value in my Android app. The server sends an object of timestamp and date as part of the response, and I need to generate an ObjectId that corresponds to the one stored in my MongoDB documents.</p>\n<p>this is the first document in my Mongodb with its objectId:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;64a6d4ae3fe947597ff1fe23&quot;\n  },\n  &quot;content&quot;: &quot;my first post &quot;,\n  &quot;createdAt&quot;: {\n    &quot;$date&quot;: &quot;2023-07-06T14:50:22.778Z&quot;\n  },\n  &quot;hashtags&quot;: [],\n  &quot;user&quot;: {\n    &quot;$ref&quot;: &quot;app_users&quot;,\n    &quot;$id&quot;: {\n      &quot;$oid&quot;: &quot;648da920b40b7222a0af8cb6&quot;\n    }\n  },\n  &quot;_class&quot;: &quot;dev.social.media.security.model.Post&quot;\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/R9BHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9BHL.png\" alt=\"in my spring boot rest API i get the correct data shown here in postman\" /></a></p>\n<p>here is where the issue turns up. in my android console i try to get the objectId of the first document and the results I get in the console doesn't match the objectId in the server and MongoDB</p>\n<p><a href=\"https://i.stack.imgur.com/R9BHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9BHL.png\" alt=\"enter image description here\" /></a></p>\n<p>the problem doesn't seem to be the way I am requesting data from the server in Android because i am fetching the correct data from everything other than the objectID which doesn't match the one in Mongodb.</p>\n<pre><code>        // Make the API call to fetch the list of posts\n        PostService postService = retrofit.create(PostService.class);\n        Call&lt;List&lt;Post&gt;&gt; call = postService.getAllPosts(authToken); // Replace page and size with your desired values\n        call.enqueue(new Callback&lt;List&lt;Post&gt;&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;List&lt;Post&gt;&gt; call, @NonNull Response&lt;List&lt;Post&gt;&gt; response) {\n                System.out.println(&quot;we should get the postts here &quot; + response.body());\n                System.out.println(&quot;header check &quot; + response.headers());\n                System.out.println(&quot;Status code from server&quot; + response.isSuccessful());\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n\n                    //Gson gson = new Gson();\n                    // List&lt;Post&gt; responsePage = Collections.singletonList(gson.fromJson(jsonResponse, Post.class));\n                    // Type postListType = new TypeToken&lt;List&lt;Post&gt;&gt;() {}.getType();\n                    Gson gson = new Gson();\n                    List&lt;Post&gt; posts = response.body();\n                    String jsonResponse = gson.toJson(posts);\n                    System.out.println(&quot;Server response original: &quot; + new Gson().toJson(posts));\n                    // Set the correct post ID for each post object\n  /*                  for (Post post : posts) {\n                        // Assuming the server response contains a field &quot;postId&quot; that holds the post ID\n                        ObjectId postId = post.getIdWrapper();// Replace &quot;getPostId()&quot; with the correct method to get the post ID from the server response\n                        post.setIdWrapper(postId); // Assuming &quot;setId()&quot; is the method to set the post ID in your Post class\n                    }\n*/\n\n                    // Log the response body\n                    System.out.println(&quot;Response body: &quot; + jsonResponse);\n                    if (posts != null) {\n                        // int totalPages = pageResponse.getTotalPage;\n                        // long totalElements = pageResponse.getTotalElements();\n\n\n                        //System.out.println(&quot;size: &quot; + posts.size());\n                        //  System.out.println(&quot;total pages: &quot; );\n                        //System.out.println(&quot;total elements: &quot;);\n                        System.out.println(&quot;get id from the original post &quot;+ posts.get(0).getIdWrapper());\n                        System.out.println(&quot;get content from original post &quot; + posts.get(0).getContent());\n\n                        postAdapter.setPostList(posts);\n\n\n                    } else {\n                        // Handle the case when the 'posts' list is null\n                        System.out.println(&quot;Received null posts list&quot;);\n                    }\n                } else {\n                    // Handle error\n                    // Handle the login error here\n                    System.out.println(&quot;Something went wrong displaying the post&quot;);\n                    Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n            }\n</code></pre>\n<p>the model class post in android</p>\n<pre><code>\npublic class Post  {\n\n\n    @SerializedName(&quot;_id&quot;)\n    private ObjectId idWrapper;\n\n    @SerializedName(&quot;content&quot;)\n    private String content;\n\n    @SerializedName(&quot;createdAt&quot;)\n    private String createdAt;\n\n    @SerializedName(&quot;updatedAt&quot;)\n    private String updatedAt;\n\n    @SerializedName(&quot;hashtags&quot;)\n    private List&lt;String&gt; hashtags;\n    @SerializedName(&quot;comments&quot;)\n    private List&lt;Comment&gt; comments;\n\n    @SerializedName(&quot;likes&quot;)\n    private List&lt;Like&gt; likes;\n\n    @SerializedName(&quot;user&quot;)\n    private AppUser user;\n\n\n\n\n    //empty constructor\n    public Post() {}\n\n    public Post( ObjectId idWrapper, String content, String createdAt, String updatedAt, List&lt;String&gt; hashtags, List&lt;Comment&gt; comments, List&lt;Like&gt; likes, AppUser user) {\n       this.idWrapper = idWrapper;\n        this.content = content;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n        this.hashtags = hashtags;\n        this.comments = comments;\n        this.likes = likes;\n        this.user = user;\n    }\n\n    public ObjectId getIdWrapper() {\n        return idWrapper;\n    }\n\n    public void setIdWrapper(ObjectId idWrapper) {\n        this.idWrapper = idWrapper;\n    }\n</code></pre>\n"},{"tags":["java","inheritance","dao"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":6,"creation_date":1690378220,"post_id":76771818,"comment_id":135345103,"body_markdown":"`Message` does not contain a `getByID` method.  Since your `Inbox` inherits from `Message`, there&#39;s nothing to override.","body":"<code>Message</code> does not contain a <code>getByID</code> method.  Since your <code>Inbox</code> inherits from <code>Message</code>, there&#39;s nothing to override."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1690378307,"post_id":76771818,"comment_id":135345130,"body_markdown":"For what it&#39;s worth, it doesn&#39;t seem like `Inbox` should inherit from `Method`.  Rather, `Inbox` should contain a collection of `Message`.","body":"For what it&#39;s worth, it doesn&#39;t seem like <code>Inbox</code> should inherit from <code>Method</code>.  Rather, <code>Inbox</code> should contain a collection of <code>Message</code>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1690378488,"post_id":76771818,"comment_id":135345173,"body_markdown":"`InBox` doesn&#39;t implement `IMessageDAO` nor extend `ImplMessageDAO`, so I don&#39;t see why it would have the `getById` method. If you just want to add a message with the same name with no relation to that interface, then simple remove the `@Override`, but I don&#39;t think this is what you&#39;re looking to do.","body":"<code>InBox</code> doesn&#39;t implement <code>IMessageDAO</code> nor extend <code>ImplMessageDAO</code>, so I don&#39;t see why it would have the <code>getById</code> method. If you just want to add a message with the same name with no relation to that interface, then simple remove the <code>@Override</code>, but I don&#39;t think this is what you&#39;re looking to do."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1690379002,"post_id":76771818,"comment_id":135345309,"body_markdown":"Tangential: `getSTATUS` should be named `getStatus` to keep in line w/ Java and JavaBean naming conventions. The names in general should be more obviously meaningful. Don&#39;t swallow stack traces; human-readable exceptions are fine but are not a replacement for a stack trace. Declare variables close to their use and keep their scope minimal.","body":"Tangential: <code>getSTATUS</code> should be named <code>getStatus</code> to keep in line w/ Java and JavaBean naming conventions. The names in general should be more obviously meaningful. Don&#39;t swallow stack traces; human-readable exceptions are fine but are not a replacement for a stack trace. Declare variables close to their use and keep their scope minimal."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690379181,"post_id":76771818,"comment_id":135345352,"body_markdown":"`ImplMessageDAO` doesn&#39;t override `getByID`, so that class shouldn&#39;t compile.","body":"<code>ImplMessageDAO</code> doesn&#39;t override <code>getByID</code>, so that class shouldn&#39;t compile."},{"owner":{"account_id":26729543,"reputation":29,"user_id":20332134,"display_name":"AD5XJ"},"score":0,"creation_date":1690466742,"post_id":76771818,"comment_id":135360456,"body_markdown":"OK I have taken all the above suggestions and changed my object accordingly. It now works with InBox extends Message and implementing Dao&lt;Messge&gt;\n\nThanks for all the help.","body":"OK I have taken all the above suggestions and changed my object accordingly. It now works with InBox extends Message and implementing Dao&lt;Messge&gt;  Thanks for all the help."}],"owner":{"account_id":26729543,"reputation":29,"user_id":20332134,"display_name":"AD5XJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690466911,"creation_date":1690378073,"question_id":76771818,"body_markdown":"I have an object I have described as Message:\r\n\r\n```\r\nabstract public class Message \r\n{\r\n    private int id;\r\n    private String status;\r\n    private String timein;\r\n    private String timeout;\r\n}\r\n```\r\n\r\nIt has an interface:\r\n```\r\npublic interface IMessageDAO\r\n{\r\n    //       SETTERS AND GETTERS    //\r\n    public void setID(int newVar);\r\n    public void setTStatus(String newVar);\r\n    public void setTimeIn(String newVar);\r\n\r\n    public abstract Message getByID(int id);\r\n}\r\n```\r\n\r\nAnd is implemented by:\r\n\r\n```\r\npublic class ImplMessageDAO implements IMessageDAO\r\n{\r\n    //       SETTERS AND GETTERS    //\r\n    public void setID(int newVar)              { m.setID(newVar); }\r\n    public void setTStatus(String newVar)      { m.setTStatus(newVar); }\r\n    public void setTimeIn(String newVar)       { m.setTimeIn(newVar); }\r\n}\r\n```\r\n\r\nThis class is the base class for a derived class of InBox:\r\n\r\n```\r\npublic class InBox extends Message\r\n{\r\n    private static int    id;\r\n    private static String st;\r\n    private static String ti;\r\n\r\n    public InBox( int    i_id, String i_st, String i_ti, );\r\n\r\n    public int    getID()       { return id; }\r\n    public String getSTATUS()   { return st; }\r\n    public String getTIMEIN()   { return ti; }\r\n\r\n    public void setID(int i_id)         { id = i_id; }\r\n    public void setSTATUS(String i_st)  { st = i_st; }\r\n    public void setTIMEIN(String i_ti)  { ti = i_ti; }\r\n\r\n    @Override    \r\n*   public Message getByID(int id)\r\n    {\r\n        int inttmp = -1;\r\n\r\n        rs = null;\r\n        m = null;\r\n\r\n        String strtemp = &quot;&quot;;\r\n\r\n        DML = &quot;&quot;;\r\n\r\n        //Create Statement\r\n        DML  = &quot;SELECT ID, TStatus, TimeIn, TimeOut, &quot;;\r\n        DML += &quot;FROM Message &quot;;\r\n        DML += &quot;WHERE id = &quot;+ Integer.toString(id);\r\n        try\r\n        {\r\n            rs = db.execQuery(DML);\r\n            m.setID(rs.getInt(&quot;ID&quot;));\r\n            m.setTStatus(rs.getString(&quot;TStatus&quot;));\r\n            m.setTimeIn(rs.getString(&quot;TimeIn&quot;));\r\n            m.setTimeOut(rs.getString(&quot;TimeOut&quot;));\r\n        }\r\n        catch ( SQLException | NullPointerException se )\r\n        {\r\n            String msg;\r\n            msg  = &quot;\\nERROR InBoxDAO::getByID 130: SQL Error:&quot;;\r\n            msg += se.getLocalizedMessage();\r\n            msg += &quot;\\nSQL: &quot;;\r\n            msg += DML;\r\n            msg += &quot;\\n\\n&quot;;\r\n            System.out.println(msg);\r\n        }\r\n        return m;\r\n    }\r\n}\r\n```\r\n\r\nThe problem lies with the derived object methods. NetBeans 18 shows an error:&quot;method does not override or implement a method from a supertype...where clearly there is one.\r\n\r\nI know there must be something obvious I am missing. Any help would be appreciated.\r\n\r\n\r\nI expected the derived class to not have these problems. I have searched here and other forums but I am still confused as to what I am doing wrong.","title":"Java 20 and inheritance problems [SOLVED]","body":"<p>I have an object I have described as Message:</p>\n<pre><code>abstract public class Message \n{\n    private int id;\n    private String status;\n    private String timein;\n    private String timeout;\n}\n</code></pre>\n<p>It has an interface:</p>\n<pre><code>public interface IMessageDAO\n{\n    //       SETTERS AND GETTERS    //\n    public void setID(int newVar);\n    public void setTStatus(String newVar);\n    public void setTimeIn(String newVar);\n\n    public abstract Message getByID(int id);\n}\n</code></pre>\n<p>And is implemented by:</p>\n<pre><code>public class ImplMessageDAO implements IMessageDAO\n{\n    //       SETTERS AND GETTERS    //\n    public void setID(int newVar)              { m.setID(newVar); }\n    public void setTStatus(String newVar)      { m.setTStatus(newVar); }\n    public void setTimeIn(String newVar)       { m.setTimeIn(newVar); }\n}\n</code></pre>\n<p>This class is the base class for a derived class of InBox:</p>\n<pre><code>public class InBox extends Message\n{\n    private static int    id;\n    private static String st;\n    private static String ti;\n\n    public InBox( int    i_id, String i_st, String i_ti, );\n\n    public int    getID()       { return id; }\n    public String getSTATUS()   { return st; }\n    public String getTIMEIN()   { return ti; }\n\n    public void setID(int i_id)         { id = i_id; }\n    public void setSTATUS(String i_st)  { st = i_st; }\n    public void setTIMEIN(String i_ti)  { ti = i_ti; }\n\n    @Override    \n*   public Message getByID(int id)\n    {\n        int inttmp = -1;\n\n        rs = null;\n        m = null;\n\n        String strtemp = &quot;&quot;;\n\n        DML = &quot;&quot;;\n\n        //Create Statement\n        DML  = &quot;SELECT ID, TStatus, TimeIn, TimeOut, &quot;;\n        DML += &quot;FROM Message &quot;;\n        DML += &quot;WHERE id = &quot;+ Integer.toString(id);\n        try\n        {\n            rs = db.execQuery(DML);\n            m.setID(rs.getInt(&quot;ID&quot;));\n            m.setTStatus(rs.getString(&quot;TStatus&quot;));\n            m.setTimeIn(rs.getString(&quot;TimeIn&quot;));\n            m.setTimeOut(rs.getString(&quot;TimeOut&quot;));\n        }\n        catch ( SQLException | NullPointerException se )\n        {\n            String msg;\n            msg  = &quot;\\nERROR InBoxDAO::getByID 130: SQL Error:&quot;;\n            msg += se.getLocalizedMessage();\n            msg += &quot;\\nSQL: &quot;;\n            msg += DML;\n            msg += &quot;\\n\\n&quot;;\n            System.out.println(msg);\n        }\n        return m;\n    }\n}\n</code></pre>\n<p>The problem lies with the derived object methods. NetBeans 18 shows an error:&quot;method does not override or implement a method from a supertype...where clearly there is one.</p>\n<p>I know there must be something obvious I am missing. Any help would be appreciated.</p>\n<p>I expected the derived class to not have these problems. I have searched here and other forums but I am still confused as to what I am doing wrong.</p>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1303282908,"creation_date":1303282908,"answer_id":5726637,"question_id":5726583,"body_markdown":"I&#39;m pretty sure that won&#39;t work. There may be a workaround, but the much easier way would be to introduce a wrapper Object and change your signature:\r\n\r\n    public class PersonContext{\r\n        private UserContext userContext;\r\n        private Person person;\r\n        // getters and setters\r\n    }\r\n\r\n\r\n    public Person createPerson(@RequestBody PersonContext personContext)\r\n","title":"Spring REST multiple @RequestBody parameters, possible?","body":"<p>I'm pretty sure that won't work. There may be a workaround, but the much easier way would be to introduce a wrapper Object and change your signature:</p>\n\n<pre><code>public class PersonContext{\n    private UserContext userContext;\n    private Person person;\n    // getters and setters\n}\n\n\npublic Person createPerson(@RequestBody PersonContext personContext)\n</code></pre>\n"}],"owner":{"account_id":52297,"reputation":5805,"user_id":156225,"accept_rate":95,"display_name":"Sri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64166,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":5726637,"answer_count":1,"score":59,"last_activity_date":1690466638,"creation_date":1303282562,"question_id":5726583,"body_markdown":"I&#39;ve implemented a Spring RESTful web service. Using Jackson JSON for Object Mapping. I have a method that accepts two parameters.\r\n\r\n    public Person createPerson(\r\n        @RequestBody UserContext userContext,\r\n        @RequestBody Person person)\r\n\r\nHow would the client construct a request where in multiple JSON objects are to be passed in the body?\r\n\r\nIs this possible?\r\n\r\n-- Sri","title":"Spring REST multiple @RequestBody parameters, possible?","body":"<p>I've implemented a Spring RESTful web service. Using Jackson JSON for Object Mapping. I have a method that accepts two parameters.</p>\n\n<pre><code>public Person createPerson(\n    @RequestBody UserContext userContext,\n    @RequestBody Person person)\n</code></pre>\n\n<p>How would the client construct a request where in multiple JSON objects are to be passed in the body?</p>\n\n<p>Is this possible?</p>\n\n<p>-- Sri</p>\n"},{"tags":["java","dictionary","stream","flatmap","groupingby"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1690466416,"post_id":76780498,"comment_id":135360379,"body_markdown":"Using the Stream api won&#39;t magically solve your performance problems. Instead, attach debugging tools and *measure* where the problem is. Then fix that.","body":"Using the Stream api won&#39;t magically solve your performance problems. Instead, attach debugging tools and <i>measure</i> where the problem is. Then fix that."},{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690467007,"post_id":76780498,"comment_id":135360513,"body_markdown":"Read the the description 3 time, really didn&#39;t understand what your requirement is.","body":"Read the the description 3 time, really didn&#39;t understand what your requirement is."},{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":2,"creation_date":1690469214,"post_id":76780498,"comment_id":135361072,"body_markdown":"I would try and solve this in the database query instead, do you think that would be possible? If you can closeout what you want to achieve, and include your DB query, maybe you can get help here to solve it by the query in the DB domain instead of in the application domain.","body":"I would try and solve this in the database query instead, do you think that would be possible? If you can closeout what you want to achieve, and include your DB query, maybe you can get help here to solve it by the query in the DB domain instead of in the application domain."}],"owner":{"account_id":3030214,"reputation":13,"user_id":2569403,"display_name":"Ethem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690466213,"creation_date":1690466213,"question_id":76780498,"body_markdown":"First of all, I know that the database is set up incorrectly, but I have no chance to change it. I keep the messages sent to the companies and the reply messages in the same table. Namely, if a company has answered the question sent to it, it is stored in my database via firstMessageId. firstMessage id is equal to id in my table. Previously, there was no problem when there were 500-1000 messages, but now there are 40000 messages and map.put, Collection.sort etc. It takes 2 minutes to open the message box with methods. I think I need to use stream api to fix this problem, but I couldn&#39;t generate the necessary code. I&#39;ll go back to a list, and within that list there will be a separate list of reply messages. I will also link them with getID==getFirstMessageID.\r\n    \r\nMessageDTO.java: \r\n   \r\n\r\n        private int id;\r\n    \tprivate int firstMessageID;\r\n    \tprivate List&lt;MessageDTO&gt; answers = new ArrayList&lt;MessageDTO&gt;();\r\n\r\nMy old code: \r\n\r\n    List&lt;MessageDTO&gt; list = null;\r\n\tList&lt;MessageDTO&gt; messageList = new ArrayList&lt;MessageDTO&gt;();\r\n\tMap&lt;Integer, MessageDTO&gt; messageMap = new HashMap&lt;Integer, MessageDTO&gt;();\r\n\ttry{\r\n\t\tlist = MessageDTO.instance.getCompanyMessages(conn, User); // a JDBC connection\r\n\t\tfor (MessageDTO messageDTO: list) {\r\n\t\t\tif(MessageDTO.getfirstMessageID() == 0){\r\n\t\t\t\tmessageMap.put(MessageDTO.getId(), messageDTO);\r\n\t\t\t}else{\r\n\t\t\t\tMessageDTO tmp = messageMap.get(messageDTO.getfirstMessageID());\r\n\t\t\t\ttmp.getAnswers().add(messageDTO );\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (Iterator&lt;MessageDTO&gt; iterator = messageMap.values().iterator(); iterator.hasNext();) {\r\n\t\t\tMessageDTO messageDTO = (MessageDTO ) iterator.next();\r\n\t\t\tCollections.sort(messageDTO.getAnswers());\r\n\t\t\tmessageList.add(messageDTO);\r\n\t\t}\r\n\t\tCollections.sort(messageList);\r\n    } catch etc.\r\n    \treturn messageList;\r\n\r\nthanks all","title":"Merge two lists using unique field with java stream","body":"<p>First of all, I know that the database is set up incorrectly, but I have no chance to change it. I keep the messages sent to the companies and the reply messages in the same table. Namely, if a company has answered the question sent to it, it is stored in my database via firstMessageId. firstMessage id is equal to id in my table. Previously, there was no problem when there were 500-1000 messages, but now there are 40000 messages and map.put, Collection.sort etc. It takes 2 minutes to open the message box with methods. I think I need to use stream api to fix this problem, but I couldn't generate the necessary code. I'll go back to a list, and within that list there will be a separate list of reply messages. I will also link them with getID==getFirstMessageID.</p>\n<p>MessageDTO.java:</p>\n<pre><code>    private int id;\n    private int firstMessageID;\n    private List&lt;MessageDTO&gt; answers = new ArrayList&lt;MessageDTO&gt;();\n</code></pre>\n<p>My old code:</p>\n<pre><code>List&lt;MessageDTO&gt; list = null;\nList&lt;MessageDTO&gt; messageList = new ArrayList&lt;MessageDTO&gt;();\nMap&lt;Integer, MessageDTO&gt; messageMap = new HashMap&lt;Integer, MessageDTO&gt;();\ntry{\n    list = MessageDTO.instance.getCompanyMessages(conn, User); // a JDBC connection\n    for (MessageDTO messageDTO: list) {\n        if(MessageDTO.getfirstMessageID() == 0){\n            messageMap.put(MessageDTO.getId(), messageDTO);\n        }else{\n            MessageDTO tmp = messageMap.get(messageDTO.getfirstMessageID());\n            tmp.getAnswers().add(messageDTO );\n        }\n    }\n    \n    for (Iterator&lt;MessageDTO&gt; iterator = messageMap.values().iterator(); iterator.hasNext();) {\n        MessageDTO messageDTO = (MessageDTO ) iterator.next();\n        Collections.sort(messageDTO.getAnswers());\n        messageList.add(messageDTO);\n    }\n    Collections.sort(messageList);\n} catch etc.\n    return messageList;\n</code></pre>\n<p>thanks all</p>\n"},{"tags":["java","prometheus","jmx","mbeans","jmx-exporter"],"answers":[{"tags":[],"owner":{"account_id":10954381,"reputation":21,"user_id":8049689,"display_name":"Doug Hoard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690466143,"creation_date":1690466143,"answer_id":76780485,"question_id":76434103,"body_markdown":"The Prometheus JMX exporter doesn&#39;t export MBean String attributes since these aren&#39;t really metrics.","title":"Unable to see Mbean in browser but able to see it in Jconsole","body":"<p>The Prometheus JMX exporter doesn't export MBean String attributes since these aren't really metrics.</p>\n"}],"owner":{"account_id":17944424,"reputation":21,"user_id":13039003,"display_name":"dhanooram "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690466143,"creation_date":1686243082,"question_id":76434103,"body_markdown":"I trying to use JMX Export to export some custom variables via Mbean. I am able to see the Mbean in jconsole but those attributes are not available in localhost:port\\\\metrics. Tried whitelisting object name, changing patterns in rules but nothing seems to work.\r\n\r\nNot sure if bean is exposed properly :/\r\n\r\n```\r\npackage com.test;\r\npublic interface ApplicationInfoMXBean {\r\n    public String getEnv();\r\n}\r\n\r\npackage com.test;\r\npublic class ApplicationInfoImp implements ApplicationInfoMXBean{\r\n\t@Override\r\n\tpublic String getEnv() {\r\n\t\treturn &quot;XX&quot;;\t   \r\n}\r\n\r\nBean declaration:\r\n\r\nMBeanServer mbeanServer=ManagementFactory.getPlatformMBeanServer();\r\nApplicationInfoMXBean appInfoObj=new ApplicationInfoImp();\r\nObjectName objName=new ObjectName(&quot;com.test:type=basic,name=ApplicationInfoImp&quot;);\r\nmbeanServer.registerMBean(appInfoObj, objName); \r\n\r\nconfig.yaml\r\nrules:\r\n- pattern: &quot;.*&quot;\r\n```","title":"Unable to see Mbean in browser but able to see it in Jconsole","body":"<p>I trying to use JMX Export to export some custom variables via Mbean. I am able to see the Mbean in jconsole but those attributes are not available in localhost:port\\metrics. Tried whitelisting object name, changing patterns in rules but nothing seems to work.</p>\n<p>Not sure if bean is exposed properly :/</p>\n<pre><code>package com.test;\npublic interface ApplicationInfoMXBean {\n    public String getEnv();\n}\n\npackage com.test;\npublic class ApplicationInfoImp implements ApplicationInfoMXBean{\n    @Override\n    public String getEnv() {\n        return &quot;XX&quot;;       \n}\n\nBean declaration:\n\nMBeanServer mbeanServer=ManagementFactory.getPlatformMBeanServer();\nApplicationInfoMXBean appInfoObj=new ApplicationInfoImp();\nObjectName objName=new ObjectName(&quot;com.test:type=basic,name=ApplicationInfoImp&quot;);\nmbeanServer.registerMBean(appInfoObj, objName); \n\nconfig.yaml\nrules:\n- pattern: &quot;.*&quot;\n</code></pre>\n"},{"tags":["java","spring","hibernate","timezone","multi-tenant"],"owner":{"account_id":28956487,"reputation":1,"user_id":22179941,"display_name":"Jeff Meyers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690465611,"creation_date":1688571301,"question_id":76621896,"body_markdown":"I am using Hibernate 5 and Spring Framework 5 to add multi-tenancy (DB per tenant) to our existing application. I have successfully implemented the `CurrentTenantIdentifierResolver` and `MultiTenantConnectionProvider` and the DB connections are working fine. The next step is setting the Time Zone per tenant.\r\n\r\nI want to set the Tenant&#39;s time zone on the session and it seems the best way to do that would be to implement a custom `SessionFactory` and override the `openSession()` method. My custom method would create a new session as before, but also set the `jdbcTimeZone()` as appropriate.\r\n\r\nIs this a valid approach or is there a better way to ensure all sessions have the time zone set before the are used?\r\n\r\nI read through [this Hibernate Doc](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#multitenacy-hibernate-session-configuration) many times but it has not helped.\r\n\r\nI was hoping Hibernate provided a &quot;TenantTimeZoneResolver&quot;, but I have found no such thing.\r\n\r\nThis is what I have attempted so far:\r\nCreated a custom session factory that overrides `openSession()` and provides the desired time zone. This example just uses a hard-coded value, but will eventually grab the TZ from the tenant context.\r\n\r\n```Java\r\npublic class CustomSessionFactory extends SessionFactoryImpl {\r\n    public CustomSessionFactory(MetadataImplementor metadata, SessionFactoryOptions options, QueryPlanCache.QueryPlanCreator queryPlanCacheFunction) {\r\n        super(metadata, options, queryPlanCacheFunction);\r\n    }\r\n\r\n    @Override\r\n    public Session openSession() {\r\n        TimeZone tz = TimeZone.getTimeZone(&quot;America/Detroit&quot;);\r\n\r\n        return this.withOptions().jdbcTimeZone(tz).openSession();\r\n    }\r\n}\r\n```\r\n\r\nThe problem I have is how to instantiate my `CustomSessionFactory`? Where do I get the MetadataImplementer, SessionFactoryOptions, and QueryPlanCreator?","title":"Setting Time Zone per session with Multi-Tenant Hibernate and Spring?","body":"<p>I am using Hibernate 5 and Spring Framework 5 to add multi-tenancy (DB per tenant) to our existing application. I have successfully implemented the <code>CurrentTenantIdentifierResolver</code> and <code>MultiTenantConnectionProvider</code> and the DB connections are working fine. The next step is setting the Time Zone per tenant.</p>\n<p>I want to set the Tenant's time zone on the session and it seems the best way to do that would be to implement a custom <code>SessionFactory</code> and override the <code>openSession()</code> method. My custom method would create a new session as before, but also set the <code>jdbcTimeZone()</code> as appropriate.</p>\n<p>Is this a valid approach or is there a better way to ensure all sessions have the time zone set before the are used?</p>\n<p>I read through <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#multitenacy-hibernate-session-configuration\" rel=\"nofollow noreferrer\">this Hibernate Doc</a> many times but it has not helped.</p>\n<p>I was hoping Hibernate provided a &quot;TenantTimeZoneResolver&quot;, but I have found no such thing.</p>\n<p>This is what I have attempted so far:\nCreated a custom session factory that overrides <code>openSession()</code> and provides the desired time zone. This example just uses a hard-coded value, but will eventually grab the TZ from the tenant context.</p>\n<pre><code>public class CustomSessionFactory extends SessionFactoryImpl {\n    public CustomSessionFactory(MetadataImplementor metadata, SessionFactoryOptions options, QueryPlanCache.QueryPlanCreator queryPlanCacheFunction) {\n        super(metadata, options, queryPlanCacheFunction);\n    }\n\n    @Override\n    public Session openSession() {\n        TimeZone tz = TimeZone.getTimeZone(&quot;America/Detroit&quot;);\n\n        return this.withOptions().jdbcTimeZone(tz).openSession();\n    }\n}\n</code></pre>\n<p>The problem I have is how to instantiate my <code>CustomSessionFactory</code>? Where do I get the MetadataImplementer, SessionFactoryOptions, and QueryPlanCreator?</p>\n"},{"tags":["java","oop","design-patterns","backend","refactoring"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1680004713,"post_id":75865798,"comment_id":133819300,"body_markdown":"You may want to find out about the buzzwords given [here](https://stackoverflow.com/q/4637124/1712135) and [there](https://stackoverflow.com/questions/1203377/dto-dao-poco-bo)…","body":"You may want to find out about the buzzwords given <a href=\"https://stackoverflow.com/q/4637124/1712135\">here</a> and <a href=\"https://stackoverflow.com/questions/1203377/dto-dao-poco-bo\">there</a>…"},{"owner":{"account_id":4313052,"reputation":81,"user_id":3523676,"display_name":"piotrowicki"},"score":0,"creation_date":1680008013,"post_id":75865798,"comment_id":133820231,"body_markdown":"Have you tried any of available JSON binding libraries i.e [Jackson](https://github.com/FasterXML/jackson), [JSOB-B](https://javaee.github.io/jsonb-spec/), [Gson](https://github.com/google/gson)?","body":"Have you tried any of available JSON binding libraries i.e <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>, <a href=\"https://javaee.github.io/jsonb-spec/\" rel=\"nofollow noreferrer\">JSOB-B</a>, <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a>?"},{"owner":{"account_id":16921593,"reputation":83,"user_id":12238287,"display_name":"Markus B"},"score":0,"creation_date":1680009765,"post_id":75865798,"comment_id":133820780,"body_markdown":"@piotrowicki I have. I use both Jackson and Lombok to avoid boilerplate and to map / serialize my json to objects and objects to json. I&#39;m more concerned with the responsibilities of my classes (essentially what code should go where, and how my system should interact with itself)","body":"@piotrowicki I have. I use both Jackson and Lombok to avoid boilerplate and to map / serialize my json to objects and objects to json. I&#39;m more concerned with the responsibilities of my classes (essentially what code should go where, and how my system should interact with itself)"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1681287795,"post_id":75865798,"comment_id":134030649,"body_markdown":"It depends a lot on what the `Dog` needs to do. One option would be to have a dedicated object for talking to the database and performing some crud operations. Then, you can have a different object for the presentation: for instance a `DogDto` - this can contain the logic for mapping to json. Now, in your &quot;domain&quot; `Dog` object, you can keep only the business-related behavior. If you want to read more about this approach, take a look here: https://www.baeldung.com/hexagonal-architecture-ddd-spring","body":"It depends a lot on what the <code>Dog</code> needs to do. One option would be to have a dedicated object for talking to the database and performing some crud operations. Then, you can have a different object for the presentation: for instance a <code>DogDto</code> - this can contain the logic for mapping to json. Now, in your &quot;domain&quot; <code>Dog</code> object, you can keep only the business-related behavior. If you want to read more about this approach, take a look here: <a href=\"https://www.baeldung.com/hexagonal-architecture-ddd-spring\" rel=\"nofollow noreferrer\">baeldung.com/hexagonal-architecture-ddd-spring</a>"}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690465028,"creation_date":1690465028,"answer_id":76780328,"question_id":75865798,"body_markdown":"Generally we do not map the pojo directly to an entity.We could use Adapter to adapt to and fro from entity and pojo(in your case frontend object).\r\nA similar example is [custom converter](https://stackoverflow.com/questions/34239585/how-to-register-custom-converters-in-spring-boot) used in springboot\r\n\r\nYou could create your custom converter service and define the mapping to and fro for an object.No doubt you need to define such converter for each of the object.A hacky way when both objects are ditto ,you could serialize it as JSON and deserialize using targetClass (this could impact performance though)\r\n```\r\nclass DogConverter&lt;DogDTO, DogEntity&gt; implements Converter&lt;DogDTO,DogEntity&gt;{\r\n\r\n    @Override\r\n    public DogEntity toEntity(DogDto dogDto){\r\n        DogEntity entity = new DogEntity();\r\n        //setters of entity\r\n        return entity;\r\n    }\r\n\r\n    @Override\r\n    public DogDTO toDTO(DogEntity dogEntity){\r\n        DogDTO dto = new DogDTO();\r\n        //setters of dto\r\n        return dto;\r\n    }\r\n    \r\n    \r\n}\r\n```","title":"Design pattern for system retrieving data about an entity and updating it","body":"<p>Generally we do not map the pojo directly to an entity.We could use Adapter to adapt to and fro from entity and pojo(in your case frontend object).\nA similar example is <a href=\"https://stackoverflow.com/questions/34239585/how-to-register-custom-converters-in-spring-boot\">custom converter</a> used in springboot</p>\n<p>You could create your custom converter service and define the mapping to and fro for an object.No doubt you need to define such converter for each of the object.A hacky way when both objects are ditto ,you could serialize it as JSON and deserialize using targetClass (this could impact performance though)</p>\n<pre><code>class DogConverter&lt;DogDTO, DogEntity&gt; implements Converter&lt;DogDTO,DogEntity&gt;{\n\n    @Override\n    public DogEntity toEntity(DogDto dogDto){\n        DogEntity entity = new DogEntity();\n        //setters of entity\n        return entity;\n    }\n\n    @Override\n    public DogDTO toDTO(DogEntity dogEntity){\n        DogDTO dto = new DogDTO();\n        //setters of dto\n        return dto;\n    }\n    \n    \n}\n</code></pre>\n"}],"owner":{"account_id":16921593,"reputation":83,"user_id":12238287,"display_name":"Markus B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690465028,"creation_date":1680003708,"question_id":75865798,"body_markdown":"I&#39;ve come across the following situation multiple times when writing code (especially webapps) and would like to know the best practice (possibly design patterns) to solve it correctly:\r\n\r\nMy data is stored in some database or repository where I retrieve the data itself through an API. (therefor needing some sort of GET request)\r\n\r\nMy retriven data is processed and turned into a object representing the data. Fx a Dog with name, race, age.\r\n\r\nIn one way or the other I represent this Dog&#39;s data on my frontend using classic js, html.\r\n\r\nI now want my users to be able to change the data on my frontend, send a request to my backend, and through my backend send a request to the API, updating my database / repository.\r\n\r\nThis is where my question arises.\r\n\r\nWhat is the best way to structure this processflow?\r\nThe first naive solution that pops into my head is having a Dog class like the following:\r\n```lang-java\r\npublic class Dog() {\r\n\r\n // relevant fields\r\n\r\n public Dog(String json) {\r\n  // map json result to Dog&#39;s fields\r\n }\r\n\r\n public static Dog getDogFromDb() {\r\n  // call api\r\n  // map api&#39;s json result to dog object\r\n  // return Dog object\r\n }\r\n public void updateDogInDb(credentials, etc) {\r\n  // take current dog, with its id, name, etc. and submit a request to the api, to update it according to Dog&#39;s fields and provided credentials.\r\n }\r\n // other dog methods, that might be relevant to the context...\r\n ...\r\n}\r\n```\r\nIn reality the Dog class would be much more complex, containing fields that represent other objects or lists of objects. Fx a Dog could have the following field `List&lt;Owner&gt; ownersDogHasHad`, this shouldn&#39;t change the question I simply want to clarify the complexity.\r\n\r\nThis approach works in practise, but seems to involve alot of different responsibilities in a single class, since Dog both represents a Dog and its methods, but also the practise of making a dog from a json response.body, making a dog from a database entity, and updating a dog in the databse.\r\n\r\nHow would this be written in a cleaner and clearer way? Is there any appropriate design patterns relavant?","title":"Design pattern for system retrieving data about an entity and updating it","body":"<p>I've come across the following situation multiple times when writing code (especially webapps) and would like to know the best practice (possibly design patterns) to solve it correctly:</p>\n<p>My data is stored in some database or repository where I retrieve the data itself through an API. (therefor needing some sort of GET request)</p>\n<p>My retriven data is processed and turned into a object representing the data. Fx a Dog with name, race, age.</p>\n<p>In one way or the other I represent this Dog's data on my frontend using classic js, html.</p>\n<p>I now want my users to be able to change the data on my frontend, send a request to my backend, and through my backend send a request to the API, updating my database / repository.</p>\n<p>This is where my question arises.</p>\n<p>What is the best way to structure this processflow?\nThe first naive solution that pops into my head is having a Dog class like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dog() {\n\n // relevant fields\n\n public Dog(String json) {\n  // map json result to Dog's fields\n }\n\n public static Dog getDogFromDb() {\n  // call api\n  // map api's json result to dog object\n  // return Dog object\n }\n public void updateDogInDb(credentials, etc) {\n  // take current dog, with its id, name, etc. and submit a request to the api, to update it according to Dog's fields and provided credentials.\n }\n // other dog methods, that might be relevant to the context...\n ...\n}\n</code></pre>\n<p>In reality the Dog class would be much more complex, containing fields that represent other objects or lists of objects. Fx a Dog could have the following field <code>List&lt;Owner&gt; ownersDogHasHad</code>, this shouldn't change the question I simply want to clarify the complexity.</p>\n<p>This approach works in practise, but seems to involve alot of different responsibilities in a single class, since Dog both represents a Dog and its methods, but also the practise of making a dog from a json response.body, making a dog from a database entity, and updating a dog in the databse.</p>\n<p>How would this be written in a cleaner and clearer way? Is there any appropriate design patterns relavant?</p>\n"},{"tags":["java","spring-boot","spring-data","grouping","paging"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":0,"creation_date":1564432423,"post_id":57251172,"comment_id":101021170,"body_markdown":"Please add your entity structure and exact JSON result.","body":"Please add your entity structure and exact JSON result."},{"owner":{"account_id":6425738,"reputation":338,"user_id":4980966,"display_name":"max"},"score":0,"creation_date":1564671673,"post_id":57251172,"comment_id":101116032,"body_markdown":"The entity structure doesn&#39;t really matter. I need a grouped Page Result and looking for a generic spring solution.","body":"The entity structure doesn&#39;t really matter. I need a grouped Page Result and looking for a generic spring solution."}],"answers":[{"tags":[],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564563156,"creation_date":1564563156,"answer_id":57286804,"question_id":57251172,"body_markdown":"The question is - could you get the result you wanted by querying the DB directly, where *group by* is available? \r\n\r\nAs a rule of thumb, if you can get a result in the required format from the DB, you can always get the result in Spring Data using Native Query, and store the result in a POJO written for it. \r\n\r\nIn the example below, I assumed you have a new Object just for storing the result, called **Result**. Since you didn&#39;t specify exactly the structure of the result of the query you would use in the DB, I didn&#39;t supply a class definition of Result. The query I used was just basic group by, which you should replace with your own.\r\n\r\nIn the repository interface, create a native query with group by:\r\n    \r\n    @Repository\r\n    public interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\r\n\r\n        @Query(value=&quot;Select grp, count(grp) from report group by grp&quot;, nativeQuery=true)\r\n        List&lt;Result&gt; findAggregatedResults();\r\n    }","title":"How to get paged and sorted groups with spring-data","body":"<p>The question is - could you get the result you wanted by querying the DB directly, where <em>group by</em> is available? </p>\n\n<p>As a rule of thumb, if you can get a result in the required format from the DB, you can always get the result in Spring Data using Native Query, and store the result in a POJO written for it. </p>\n\n<p>In the example below, I assumed you have a new Object just for storing the result, called <strong>Result</strong>. Since you didn't specify exactly the structure of the result of the query you would use in the DB, I didn't supply a class definition of Result. The query I used was just basic group by, which you should replace with your own.</p>\n\n<p>In the repository interface, create a native query with group by:</p>\n\n<pre><code>@Repository\npublic interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\n\n    @Query(value=\"Select grp, count(grp) from report group by grp\", nativeQuery=true)\n    List&lt;Result&gt; findAggregatedResults();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8316417,"reputation":565,"user_id":6249539,"accept_rate":83,"display_name":"yashpandey8055"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690464796,"creation_date":1690464796,"answer_id":76780295,"question_id":57251172,"body_markdown":"Late here, \r\n\r\nBut if someone still lingering around how to use GROUP BY with Pageable in Hibernate Queries, they can use -\r\n\r\n        @Query(value = &quot;SELECT &quot; +\r\n            &quot;new com.example.result.Result(res.Id&quot; +\r\n            &quot;,max(res.creationDate) as creationDate) &quot; +\r\n            &quot;from ExampleDAO res &quot; +\r\n            &quot;where res.userId = :userId &quot; +\r\n            &quot;GROUP BY res.Id&quot; )\r\n    Page&lt;Result&gt; getPaginatedResult(@Param(&quot;userId&quot;) long userId,\r\n                                                       Pageable pageable);\r\n\r\nAnd While creating a Pageable instance -\r\n \r\n\r\n    Pageable pageable = PageRequest.of(pageNum,pageSize,Sort.by(Sort.Direction.DESC,&quot;creationDate&quot;));\r\n\r\nThe &#39;**creationDate**&#39; in Pageable instance and Query should be same.","title":"How to get paged and sorted groups with spring-data","body":"<p>Late here,</p>\n<p>But if someone still lingering around how to use GROUP BY with Pageable in Hibernate Queries, they can use -</p>\n<pre><code>    @Query(value = &quot;SELECT &quot; +\n        &quot;new com.example.result.Result(res.Id&quot; +\n        &quot;,max(res.creationDate) as creationDate) &quot; +\n        &quot;from ExampleDAO res &quot; +\n        &quot;where res.userId = :userId &quot; +\n        &quot;GROUP BY res.Id&quot; )\nPage&lt;Result&gt; getPaginatedResult(@Param(&quot;userId&quot;) long userId,\n                                                   Pageable pageable);\n</code></pre>\n<p>And While creating a Pageable instance -</p>\n<pre><code>Pageable pageable = PageRequest.of(pageNum,pageSize,Sort.by(Sort.Direction.DESC,&quot;creationDate&quot;));\n</code></pre>\n<p>The '<strong>creationDate</strong>' in Pageable instance and Query should be same.</p>\n"}],"owner":{"account_id":6425738,"reputation":338,"user_id":4980966,"display_name":"max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690464796,"creation_date":1564393543,"question_id":57251172,"body_markdown":"My backend hast to return data in the following structure:\r\n\r\n         data: [{\r\n            key: &quot;Group 1&quot;,\r\n            items: [ ... ],         \r\n            count: 3,               \r\n        },{\r\n            key: &quot;Group 2&quot;,\r\n            items: [ ... ],         \r\n            count: 9,               \r\n        } ...]\r\n This data must be sortable and pageable. The following code is doing that:\r\n\r\n    public Page&lt;Report&gt; getReports(Integer skip, Integer take, String sortParams, String group) {\r\n           \r\n         Pageable pageable = createPageable(skip, take, sortParams); \r\n         Specifications&lt;Report&gt; filters = (Specifications&lt;Report&gt;) getFilters();\r\n            \r\n         return this.reportRepository.findAll(filters, pageable);\r\n        \r\n    }\r\n\r\n    @Repository\r\n    public interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\r\n    \r\n    }\r\n\r\nAdditionally i want to group the result by attributes of the report class. Is there anyway to do this with spring-data? I couldn&#39;t find anything in their API.\r\n","title":"How to get paged and sorted groups with spring-data","body":"<p>My backend hast to return data in the following structure:</p>\n\n<pre><code>     data: [{\n        key: \"Group 1\",\n        items: [ ... ],         \n        count: 3,               \n    },{\n        key: \"Group 2\",\n        items: [ ... ],         \n        count: 9,               \n    } ...]\n</code></pre>\n\n<p>This data must be sortable and pageable. The following code is doing that:</p>\n\n<pre><code>public Page&lt;Report&gt; getReports(Integer skip, Integer take, String sortParams, String group) {\n\n     Pageable pageable = createPageable(skip, take, sortParams); \n     Specifications&lt;Report&gt; filters = (Specifications&lt;Report&gt;) getFilters();\n\n     return this.reportRepository.findAll(filters, pageable);\n\n}\n\n@Repository\npublic interface ReportRepository extends PagingAndSortingRepository&lt;Report, String&gt;, JpaSpecificationExecutor&lt;Report&gt; {\n\n}\n</code></pre>\n\n<p>Additionally i want to group the result by attributes of the report class. Is there anyway to do this with spring-data? I couldn't find anything in their API.</p>\n"},{"tags":["java","multithreading","reentrantlock"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690452787,"post_id":76772753,"comment_id":135357179,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29026638,"reputation":16,"user_id":22234634,"display_name":"cedar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690388945,"creation_date":1690388945,"answer_id":76773322,"question_id":76772753,"body_markdown":"Cliser you are almost there just one thing you can do is, write repositories of lock that are mapped against ID in your case.\r\n\r\nWe can use HashMap to main these locks against ID in java. \r\n\r\nSteps as below:\r\n 1. in acquire method.. push ID into our hashmap and acquire a lock.\r\n 2. in the release method first you will look if ID exists in hashmap. if it does release the lock if conditions holds true\r\n\r\nLet me know if this helps.","title":"Java ReentrantLock by ID","body":"<p>Cliser you are almost there just one thing you can do is, write repositories of lock that are mapped against ID in your case.</p>\n<p>We can use HashMap to main these locks against ID in java.</p>\n<p>Steps as below:</p>\n<ol>\n<li>in acquire method.. push ID into our hashmap and acquire a lock.</li>\n<li>in the release method first you will look if ID exists in hashmap. if it does release the lock if conditions holds true</li>\n</ol>\n<p>Let me know if this helps.</p>\n"},{"tags":[],"owner":{"account_id":29096710,"reputation":3,"user_id":22289455,"display_name":"Cliser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690464406,"creation_date":1690464406,"answer_id":76780238,"question_id":76772753,"body_markdown":"The idea of the HashMap was correct, but I was calling the .lock() method, while I needed to call the .wait() method only for the threads that needed to wait, while the others could just go on.\r\nI created a HashMap&lt;Long, ReentrantLock&gt;, having the entity ID as the key and a new instance of the ReentrantLock as a value. When the &quot;main&quot; thread has finished, it calls the .notify() method, which randomly releases one of the waiting threads (and that&#39;s what I want), which (again) releases another thread when finished, and so on.","title":"Java ReentrantLock by ID","body":"<p>The idea of the HashMap was correct, but I was calling the .lock() method, while I needed to call the .wait() method only for the threads that needed to wait, while the others could just go on.\nI created a HashMap&lt;Long, ReentrantLock&gt;, having the entity ID as the key and a new instance of the ReentrantLock as a value. When the &quot;main&quot; thread has finished, it calls the .notify() method, which randomly releases one of the waiting threads (and that's what I want), which (again) releases another thread when finished, and so on.</p>\n"}],"owner":{"account_id":29096710,"reputation":3,"user_id":22289455,"display_name":"Cliser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76773322,"answer_count":2,"score":0,"last_activity_date":1690464406,"creation_date":1690384439,"question_id":76772753,"body_markdown":"I&#39;m working on Java and I have a &quot;batch&quot; procedure, with multiple objects, and each one of them does something on the db (mainly updates). I want some of them to wait each other, but only if a specific condition is encountered.\r\nTo be precise, some of them may update the same entity, and Java gives an OptimisticLockException in that case, but some others may update other entities, so they don&#39;t have to wait.\r\nI would like to create a ReentrantLock (or something that works like that) with a specific ID (in this case, the entity ID), and only the ones which have the same ID may wait until it is unlocked, while the others can execute their code freely.\r\n\r\nI don&#39;t know if the request is clear, as english is not my first language, sorry. But, I would appreciate if someone can help me!\r\n\r\nThanks in advance.","title":"Java ReentrantLock by ID","body":"<p>I'm working on Java and I have a &quot;batch&quot; procedure, with multiple objects, and each one of them does something on the db (mainly updates). I want some of them to wait each other, but only if a specific condition is encountered.\nTo be precise, some of them may update the same entity, and Java gives an OptimisticLockException in that case, but some others may update other entities, so they don't have to wait.\nI would like to create a ReentrantLock (or something that works like that) with a specific ID (in this case, the entity ID), and only the ones which have the same ID may wait until it is unlocked, while the others can execute their code freely.</p>\n<p>I don't know if the request is clear, as english is not my first language, sorry. But, I would appreciate if someone can help me!</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","validation","certificate","x509certificate"],"comments":[{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1411985385,"post_id":26097214,"comment_id":40895965,"body_markdown":"Can you please tell us what do you want to do with the certificates? In most cases the library used (e.g. `HTTPS` or `WS Security`) wil validate the certificate for you.","body":"Can you please tell us what do you want to do with the certificates? In most cases the library used (e.g. <code>HTTPS</code> or <code>WS Security</code>) wil validate the certificate for you."},{"owner":{"account_id":3249024,"reputation":407,"user_id":2739823,"accept_rate":70,"display_name":"user2739823"},"score":0,"creation_date":1411986018,"post_id":26097214,"comment_id":40896324,"body_markdown":"I would like to checkif certificate chain is valid or not. Or if the user is not reverse the place of certificates durring importing. In my app certificates are imported through UI as a text. -----BEGIN CERTIFICATE------- and so on. THanks","body":"I would like to checkif certificate chain is valid or not. Or if the user is not reverse the place of certificates durring importing. In my app certificates are imported through UI as a text. -----BEGIN CERTIFICATE------- and so on. THanks"}],"answers":[{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":4,"up_vote_count":4,"is_accepted":true,"score":0,"last_activity_date":1411988222,"creation_date":1411988222,"answer_id":26098254,"question_id":26097214,"body_markdown":"You can use the `java.security.cert.CertificateFactory` to validate your certificate chain.\r\n\r\n    InputStream inStream = ByteArrayInputStream(&lt;data&gt;);\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    CertPath cp = cf.generateCertPath(inStream);\r\n    List&lt;Certificate&gt; certs = cp.getCertificates();\r\n\r\nThe `certs` now contains the certificate chain. The first entry in `certs` (`certs[0]`) contais the certificate and the following certificates are the chain.\r\n\r\nThe last entry in `certs` is the root certificate which should be compared to a already existing certificate in your application.\r\n\r\nIn the case that the certification path could not be built up the above code will throw a `CertificateException`.","title":"Validate Certificate chain with java bouncing castle","body":"<p>You can use the <code>java.security.cert.CertificateFactory</code> to validate your certificate chain.</p>\n\n<pre><code>InputStream inStream = ByteArrayInputStream(&lt;data&gt;);\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\nCertPath cp = cf.generateCertPath(inStream);\nList&lt;Certificate&gt; certs = cp.getCertificates();\n</code></pre>\n\n<p>The <code>certs</code> now contains the certificate chain. The first entry in <code>certs</code> (<code>certs[0]</code>) contais the certificate and the following certificates are the chain.</p>\n\n<p>The last entry in <code>certs</code> is the root certificate which should be compared to a already existing certificate in your application.</p>\n\n<p>In the case that the certification path could not be built up the above code will throw a <code>CertificateException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1576898,"reputation":2081,"user_id":1463100,"accept_rate":100,"display_name":"Markus Kreusch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690463380,"creation_date":1690463380,"answer_id":76780082,"question_id":26097214,"body_markdown":"It is vital that the cert path is actually validated. As mentioned in Uwe Plonus&#39; answer you can create a `CertPath` object by using `CertificateFactory`. The answer is missing the actual validation logic as mentioned by Juha Palom&#228;ki.\r\nTo validate the `CertPath` additional steps must be performed:\r\n\r\n    // Load the CertPath;\r\n    CertificateFactory certificatFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    CertPath certPath = certificatFactory.generateCertPath(certificateInput);\r\n\r\n    // Load a KeyStore initialized with the root CA certificates to trust\r\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    trustStore.load(trustStoreInput, trustStorePassword);\r\n\r\n    // Initialize a CertPathValidator\r\n    CertPathValidator certPathValidator = CertPathValidator.getInstance(&quot;PKIX&quot;);\r\n\r\n    // Do the validation\r\n    certPathValidator.validate(certPath, new PKIXParameters(trustStore));\r\n\r\nThe `validate` method will throw an `CertPathValidatorException` if the path does not validate. Otherwise it returns an instance of `PKIXCertPathValidatorResult` that contains details about the used trust anchor and subject public key. `CertPathValidator` in the default configuration will check that the certificates in the chain are linked, not expired and not revoked.","title":"Validate Certificate chain with java bouncing castle","body":"<p>It is vital that the cert path is actually validated. As mentioned in Uwe Plonus' answer you can create a <code>CertPath</code> object by using <code>CertificateFactory</code>. The answer is missing the actual validation logic as mentioned by Juha Palomäki.\nTo validate the <code>CertPath</code> additional steps must be performed:</p>\n<pre><code>// Load the CertPath;\nCertificateFactory certificatFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\nCertPath certPath = certificatFactory.generateCertPath(certificateInput);\n\n// Load a KeyStore initialized with the root CA certificates to trust\nKeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\ntrustStore.load(trustStoreInput, trustStorePassword);\n\n// Initialize a CertPathValidator\nCertPathValidator certPathValidator = CertPathValidator.getInstance(&quot;PKIX&quot;);\n\n// Do the validation\ncertPathValidator.validate(certPath, new PKIXParameters(trustStore));\n</code></pre>\n<p>The <code>validate</code> method will throw an <code>CertPathValidatorException</code> if the path does not validate. Otherwise it returns an instance of <code>PKIXCertPathValidatorResult</code> that contains details about the used trust anchor and subject public key. <code>CertPathValidator</code> in the default configuration will check that the certificates in the chain are linked, not expired and not revoked.</p>\n"}],"owner":{"account_id":3249024,"reputation":407,"user_id":2739823,"accept_rate":70,"display_name":"user2739823"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6057,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":26098254,"answer_count":2,"score":3,"last_activity_date":1690463380,"creation_date":1411984757,"question_id":26097214,"body_markdown":"I would like to validate a certificate chain which will be imported into my app. I do not know how.\r\n\r\nMy coleagues told me, that I have to use Bouncing castle for validation. I saw several examples and still do not have any progress.\r\n\r\nI have a `List&lt;X509Certificate&gt;` which contains all certificates which are imported from the UI, and also the `PrivateKey`.\r\n\r\nCould you please show me how to validate the certificate chain with Bouncing castle.","title":"Validate Certificate chain with java bouncing castle","body":"<p>I would like to validate a certificate chain which will be imported into my app. I do not know how.</p>\n\n<p>My coleagues told me, that I have to use Bouncing castle for validation. I saw several examples and still do not have any progress.</p>\n\n<p>I have a <code>List&lt;X509Certificate&gt;</code> which contains all certificates which are imported from the UI, and also the <code>PrivateKey</code>.</p>\n\n<p>Could you please show me how to validate the certificate chain with Bouncing castle.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690460283,"post_id":76779225,"comment_id":135358771,"body_markdown":"Your dependencies are a mess, you are mixing incompatible versions. Remove the version from `spring-boot-starter-data-jpa` and for the Spring BOot version use 2.7.14 which will include the most recent Spring version.","body":"Your dependencies are a mess, you are mixing incompatible versions. Remove the version from <code>spring-boot-starter-data-jpa</code> and for the Spring BOot version use 2.7.14 which will include the most recent Spring version."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690462499,"creation_date":1690461677,"answer_id":76779837,"question_id":76779225,"body_markdown":"The issue is that you&#39;re confusing Spring Boot&#39;s version with Spring&#39;s version. Both of these projects follow a difference release cadence. For example, the current version of Spring is 6.0.x, while Spring Boot is currently at 3.1.x.\r\n\r\nThis is why your IDE cannot resolve `org.springframework.boot:spring-boot-starter-parent:pom:5.2.22`and why you can&#39;t select it in Spring Initializr. Spring Boot 5.x simply does not exist.\r\n\r\nTo find out which version of the Spring framework is used within Spring Boot 2.7.7, you can check [the reference guide](https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html)&lt;sup&gt;(1)&lt;/sup&gt;. You&#39;ll see that this version relies on **Spring 5.3.24**, and thus, should not be impacted by the CVE.\r\n\r\nAlso be aware that some code analysis tools also sometimes mistakenly identify Spring Boot&#39;s version for Spring&#39;s version. This can cause false positives to appear in the list of vulnerabilities. That&#39;s why it&#39;s important to always read the CVE first and double-check whether you&#39;re impacted.\r\n\r\n---\r\n\r\n&lt;sup&gt;(1) Change the Spring Boot version in the URL if you want to check this for other versions as well.&lt;/sup&gt;","title":"Upgrading to maven Springboot 5.2.x from Springboot 2.7.x for CVE Vulnerability","body":"<p>The issue is that you're confusing Spring Boot's version with Spring's version. Both of these projects follow a difference release cadence. For example, the current version of Spring is 6.0.x, while Spring Boot is currently at 3.1.x.</p>\n<p>This is why your IDE cannot resolve <code>org.springframework.boot:spring-boot-starter-parent:pom:5.2.22</code>and why you can't select it in Spring Initializr. Spring Boot 5.x simply does not exist.</p>\n<p>To find out which version of the Spring framework is used within Spring Boot 2.7.7, you can check <a href=\"https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html\" rel=\"nofollow noreferrer\">the reference guide</a><sup>(1)</sup>. You'll see that this version relies on <strong>Spring 5.3.24</strong>, and thus, should not be impacted by the CVE.</p>\n<p>Also be aware that some code analysis tools also sometimes mistakenly identify Spring Boot's version for Spring's version. This can cause false positives to appear in the list of vulnerabilities. That's why it's important to always read the CVE first and double-check whether you're impacted.</p>\n<hr />\n<p><sup>(1) Change the Spring Boot version in the URL if you want to check this for other versions as well.</sup></p>\n"}],"owner":{"account_id":16174613,"reputation":15,"user_id":11677593,"display_name":"Blesson Xavier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690462499,"creation_date":1690456759,"question_id":76779225,"body_markdown":"I am a complete Noobie in Springboot framework making simple Rest APIs\r\n\r\nWe deployed an API and a URL Shortener service for a subsidiary of an Organization who is super keen on Info Sec Aspect \r\n\r\nApparently their InfoSec Team listed a set of Vulnerabilities with CVE ids,\r\nWe are currently using Springboot 2.7.7\r\nMany of the CVEs’ that they have added are vulnerabilities (eg. CVE-2022-22965 ) requires  \r\nSpring Framework 5.2.22 atleast \r\n\r\nhttps://spring.io/security/cve-2022-22965\r\n\r\n\r\n**Problem 1)** How to know if Springboot 2.7.7 gets affected by this vulnerability \r\n\r\n**Problem 2)** Even if I have to upgrade to 5.x version to remove this vulnerability and transfer the whole existing code and change the version in Eclipse POM.XML I get the following error in POM.XML\r\n\r\n\r\n\r\n```Multiple markers at this line\r\n- Project build error: Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:5.2.22 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced and &#39;parent.relativePath&#39; points at no local POM\r\n- Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: Could not find artifact org.springframework.boot:spring-boot-starter-parent:pom:5.2. in central (https://repo.maven.apache.org/maven2)\r\n```\r\n\r\n\r\nAt this exact location \r\n[![enter image description here][1]][1]\r\n\r\nAnd later creating issues in other places like Annotations not getting resolved and stuff\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Problem 3)** Spring Initializr does not have option for selecting Spring 5.x, just limited to 3.x\r\nDidnt find any tutorial/resource to find how to make a complete maven project with Spring boot of our choice \r\n\r\nThe Rest API application I am trying to upgrade has a simple Controller-Entity-Repository design that Queries a MySql database \r\n\r\nWould be thankful for any help in updating this Vulnerability \r\n\r\nArticle given below does not give much reference as to where to make the changes\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes\r\n\r\nAlso read something Conflicting that \r\n`Spring Boot 2.0 builds on and requires Spring Framework 5.` here https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50\r\n\r\nDoes it mean that I dont need to upgrade in the first place itself\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ELiDF.png\r\n  [2]: https://i.stack.imgur.com/3PINX.png\r\n\r\nHave pasted my current POM.XML below\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.Simple_Microservice&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;reco_API&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;reco_API&lt;/name&gt;\r\n\t&lt;description&gt;Solus Recommendation API&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.0.24&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; \r\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt; \r\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; \r\n    &lt;version&gt;2.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.9.1&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.4&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                    &lt;version&gt;20210307&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;esapi&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Upgrading to maven Springboot 5.2.x from Springboot 2.7.x for CVE Vulnerability","body":"<p>I am a complete Noobie in Springboot framework making simple Rest APIs</p>\n<p>We deployed an API and a URL Shortener service for a subsidiary of an Organization who is super keen on Info Sec Aspect</p>\n<p>Apparently their InfoSec Team listed a set of Vulnerabilities with CVE ids,\nWe are currently using Springboot 2.7.7\nMany of the CVEs’ that they have added are vulnerabilities (eg. CVE-2022-22965 ) requires<br />\nSpring Framework 5.2.22 atleast</p>\n<p><a href=\"https://spring.io/security/cve-2022-22965\" rel=\"nofollow noreferrer\">https://spring.io/security/cve-2022-22965</a></p>\n<p><strong>Problem 1)</strong> How to know if Springboot 2.7.7 gets affected by this vulnerability</p>\n<p><strong>Problem 2)</strong> Even if I have to upgrade to 5.x version to remove this vulnerability and transfer the whole existing code and change the version in Eclipse POM.XML I get the following error in POM.XML</p>\n<pre><code>- Project build error: Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:5.2.22 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced and 'parent.relativePath' points at no local POM\n- Non-resolvable parent POM for com.Solus_Microservice:reco_API:0.0.1-SNAPSHOT: Could not find artifact org.springframework.boot:spring-boot-starter-parent:pom:5.2. in central (https://repo.maven.apache.org/maven2)\n</code></pre>\n<p>At this exact location\n<a href=\"https://i.stack.imgur.com/ELiDF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELiDF.png\" alt=\"enter image description here\" /></a></p>\n<p>And later creating issues in other places like Annotations not getting resolved and stuff</p>\n<p><a href=\"https://i.stack.imgur.com/3PINX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PINX.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem 3)</strong> Spring Initializr does not have option for selecting Spring 5.x, just limited to 3.x\nDidnt find any tutorial/resource to find how to make a complete maven project with Spring boot of our choice</p>\n<p>The Rest API application I am trying to upgrade has a simple Controller-Entity-Repository design that Queries a MySql database</p>\n<p>Would be thankful for any help in updating this Vulnerability</p>\n<p>Article given below does not give much reference as to where to make the changes\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes</a></p>\n<p>Also read something Conflicting that\n<code>Spring Boot 2.0 builds on and requires Spring Framework 5.</code> here <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#upgrading-to-version-50</a></p>\n<p>Does it mean that I dont need to upgrade in the first place itself</p>\n<p>Have pasted my current POM.XML below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.Simple_Microservice&lt;/groupId&gt;\n    &lt;artifactId&gt;reco_API&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;reco_API&lt;/name&gt;\n    &lt;description&gt;Solus Recommendation API&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; \n    &lt;groupId&gt;commons-lang&lt;/groupId&gt; \n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; \n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n                        &lt;version&gt;0.9.1&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n                        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.4&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.json&lt;/groupId&gt;\n                    &lt;artifactId&gt;json&lt;/artifactId&gt;\n                    &lt;version&gt;20210307&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\n                &lt;artifactId&gt;esapi&lt;/artifactId&gt;\n                &lt;version&gt;2.2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":5527275,"reputation":696,"user_id":4388399,"display_name":"Andrei Aleksandrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690397272,"creation_date":1690397272,"answer_id":76774205,"question_id":76772152,"body_markdown":"There are several possible cases:\r\n\r\n1)You are having rebalance in progress. During rebalance is in progress you will not see some entries on the LOCAL node (via localPeek, eg). But they should be available by normal get/sql (because affinity function will always show the actual location of the key&#39;s value. After rebalance this can be changed)\r\n\r\nCould you please share your itterator code?\r\n\r\n2)New node can be out of baseline (in case of persistence). In this case, such node should be added to the baseline:\r\n\r\nhttps://ignite.apache.org/docs/latest/clustering/baseline-topology\r\n\r\nPlease update you initial question and add cache configuration and code sample. Also provide output of:\r\n\r\n    control.sh --baseline","title":"Apache Ignite REPLICATED SYNC IgniteCache is not populated upon creation","body":"<p>There are several possible cases:</p>\n<p>1)You are having rebalance in progress. During rebalance is in progress you will not see some entries on the LOCAL node (via localPeek, eg). But they should be available by normal get/sql (because affinity function will always show the actual location of the key's value. After rebalance this can be changed)</p>\n<p>Could you please share your itterator code?</p>\n<p>2)New node can be out of baseline (in case of persistence). In this case, such node should be added to the baseline:</p>\n<p><a href=\"https://ignite.apache.org/docs/latest/clustering/baseline-topology\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/clustering/baseline-topology</a></p>\n<p>Please update you initial question and add cache configuration and code sample. Also provide output of:</p>\n<pre><code>control.sh --baseline\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690462182,"creation_date":1690462182,"answer_id":76779910,"question_id":76772152,"body_markdown":"The solution is to add a listener to `EventType.EVT_CACHE_REBALANCE_STOPPED` and execute any logic inside since this event is triggered after the cache has been populated with its respective data (in this case all of the entries since we have `REPLICATED` mode).\r\n\r\n    ignite.events().enableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\r\n    ignite.events().localListen(event -&gt; {\r\n      if(event instanceof CacheRebalancingEvent &amp;&amp; ((CacheRebalancingEvent) event).cacheName().equals(&quot;myCacheName&quot;)) {\r\n        for (Cache.Entry&lt;String, Object&gt; entry : myCache) {\r\n          logic(null, entry.getValue());\r\n        }\r\n        ignite.events().disableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\r\n        return false;\r\n      }\r\n      return true;\r\n    }, EventType.EVT_CACHE_REBALANCE_STOPPED);\r\n    // ...\r\n    IgniteCache myCache = ignite.getOrCreateCache(cacheConfiguration(&quot;myCacheName&quot;));","title":"Apache Ignite REPLICATED SYNC IgniteCache is not populated upon creation","body":"<p>The solution is to add a listener to <code>EventType.EVT_CACHE_REBALANCE_STOPPED</code> and execute any logic inside since this event is triggered after the cache has been populated with its respective data (in this case all of the entries since we have <code>REPLICATED</code> mode).</p>\n<pre><code>ignite.events().enableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\nignite.events().localListen(event -&gt; {\n  if(event instanceof CacheRebalancingEvent &amp;&amp; ((CacheRebalancingEvent) event).cacheName().equals(&quot;myCacheName&quot;)) {\n    for (Cache.Entry&lt;String, Object&gt; entry : myCache) {\n      logic(null, entry.getValue());\n    }\n    ignite.events().disableLocal(EventType.EVT_CACHE_REBALANCE_STOPPED);\n    return false;\n  }\n  return true;\n}, EventType.EVT_CACHE_REBALANCE_STOPPED);\n// ...\nIgniteCache myCache = ignite.getOrCreateCache(cacheConfiguration(&quot;myCacheName&quot;));\n</code></pre>\n"}],"owner":{"account_id":1460538,"reputation":4279,"user_id":1374987,"accept_rate":70,"display_name":"PentaKon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76779910,"answer_count":2,"score":1,"last_activity_date":1690462182,"creation_date":1690380426,"question_id":76772152,"body_markdown":"I have an Apache Ignite Server node cluster and some `IgniteCache`s defined. The first node in the cluster has populated the cache with some values. When a new node joins, it gets an instance of that cache but when I try to iterate through the existing values the `iterator` has no next element. If I try to access a specific entry via `.get(String key)` then the entry is fetched. \r\n\r\nThis makes me think that values are not immediately made available to new nodes, even though the replication mode is `REPLICATED` and the rebalance mode is `SYNC`. `SYNC` mode javadoc says that the cache won&#39;t start until all necessary data is loaded from other grid nodes which doesn&#39;t seem to be the case. I have tried everything from listening to `CACHE_STARTED` events to trying to force a load but nothing works. \r\n\r\nI&#39;m just looking to run some logic **after** the `IgniteCache` instance has been created and populated with the grid data.","title":"Apache Ignite REPLICATED SYNC IgniteCache is not populated upon creation","body":"<p>I have an Apache Ignite Server node cluster and some <code>IgniteCache</code>s defined. The first node in the cluster has populated the cache with some values. When a new node joins, it gets an instance of that cache but when I try to iterate through the existing values the <code>iterator</code> has no next element. If I try to access a specific entry via <code>.get(String key)</code> then the entry is fetched.</p>\n<p>This makes me think that values are not immediately made available to new nodes, even though the replication mode is <code>REPLICATED</code> and the rebalance mode is <code>SYNC</code>. <code>SYNC</code> mode javadoc says that the cache won't start until all necessary data is loaded from other grid nodes which doesn't seem to be the case. I have tried everything from listening to <code>CACHE_STARTED</code> events to trying to force a load but nothing works.</p>\n<p>I'm just looking to run some logic <strong>after</strong> the <code>IgniteCache</code> instance has been created and populated with the grid data.</p>\n"},{"tags":["java","spring","hibernate","exception","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2634374,"reputation":2142,"user_id":2279490,"accept_rate":78,"display_name":"obecker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374958885,"creation_date":1374958885,"answer_id":17902428,"question_id":17901932,"body_markdown":"As the error message states: your ``ProPurchaseOrderModel`` has a reference to another entity (most probably ``InvItemModel`` and/or ``InvUOMExtendedModel``) which itself is not saved yet.\r\nEither you save these entities first, or (probably better) you fix your mapping so that these referenced objects will be saved automatically by declaring a *cascade* for *persist*.\r\n\r\nIf you are using annotations, this done for example on a many-to-one relationship with\r\n\r\n        @ManyToOne(cascade = CascadeType.PERSIST)\r\n\r\nor even\r\n\r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException","body":"<p>As the error message states: your <code>ProPurchaseOrderModel</code> has a reference to another entity (most probably <code>InvItemModel</code> and/or <code>InvUOMExtendedModel</code>) which itself is not saved yet.\nEither you save these entities first, or (probably better) you fix your mapping so that these referenced objects will be saved automatically by declaring a <em>cascade</em> for <em>persist</em>.</p>\n\n<p>If you are using annotations, this done for example on a many-to-one relationship with</p>\n\n<pre><code>    @ManyToOne(cascade = CascadeType.PERSIST)\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>    @ManyToOne(cascade = CascadeType.ALL)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23977829,"reputation":49,"user_id":17965696,"display_name":"Nizar YAKOUBI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690462078,"creation_date":1690462078,"answer_id":76779895,"question_id":17901932,"body_markdown":"Regardless of the code if you ever had as a nested exception *org.springframework.dao.InvalidDataAccessApiUsageException* with a docker DB and it was working fine before without any new changes consider restarting the computer, we lost 2 hours trying to debug this / invalidate cache/ restarting docker and it just worked after restarting the whole machine (MAC M1)","title":"org.springframework.dao.InvalidDataAccessApiUsageException","body":"<p>Regardless of the code if you ever had as a nested exception <em>org.springframework.dao.InvalidDataAccessApiUsageException</em> with a docker DB and it was working fine before without any new changes consider restarting the computer, we lost 2 hours trying to debug this / invalidate cache/ restarting docker and it just worked after restarting the whole machine (MAC M1)</p>\n"}],"owner":{"account_id":551326,"reputation":3001,"user_id":916138,"accept_rate":45,"display_name":"Shahid Ghafoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63347,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1690462078,"creation_date":1374955148,"question_id":17901932,"body_markdown":"I am using Spring MVC + Hibernate\r\n---------------------------------\r\n\r\n**Generic Method**\r\n\r\n    public &lt;T, E&gt; void saveOrUpdate(T entity, List&lt;E&gt; list) throws DataAccessException {\r\n\t\t\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n\t\tsession.saveOrUpdate(entity);\r\n\t\tfor(E getlist : list){\r\n\t\tsession.saveOrUpdate(getlist);\r\n\t\t}\r\n\t}\r\n\r\n**(Following )Controller Working Fine**\r\n\r\n    @Controller\r\n    public class FinGeneralJournalController {\r\n\r\n        protected static Logger log = Logger\r\n            .getLogger(FinGeneralJournalController.class);\r\n\r\n        @Resource(name = &quot;PersistenceTemplate&quot;)\r\n        private PersistenceTemplate pt;\r\n        \r\n        @RequestMapping(value = &quot;/AddFinGeneralJournal&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody\r\n        JsonResponseStatus addGeneralJournalEntry(\r\n            @RequestParam(value=&quot;description&quot;, required=true) String description,\r\n            @RequestParam(value=&quot;trxDate&quot;, required=true) Date trxDate,\r\n            @RequestParam(value=&quot;sourceDocumentId&quot;, required=true) long sourceDocumentId,\r\n            @RequestParam(value=&quot;currencyId&quot;, required=true) long currencyId,\r\n            @RequestParam(value=&quot;batchId&quot;, required=true) long batchId,\r\n            @RequestParam(value=&quot;tableList&quot;, required=true) String tableList, HttpSession session ) {\r\n\r\n            Date sysdate = null;\r\n            JsonResponseStatus response = null;\r\n            List&lt;FinGeneralJournalEntryModel&gt; list=null;\r\n            FinGeneralJournalEntryModel generalJournalEntryModel= null;\r\n            try {\r\n                long userId=Long.parseLong(session.getAttribute(&quot;userId&quot;).toString());\r\n                String userIp=session.getAttribute(&quot;userIp&quot;).toString();\r\n\r\n                sysdate = new Date();\r\n                response = new JsonResponseStatus();\r\n\r\n                FinGeneralJournalModel generalJournalModel  = new FinGeneralJournalModel(description,\r\n                    trxDate, userId, userIp, sysdate, 0);\r\n\r\n                generalJournalModel.setFko_gj_batch(new FinBatchModel(batchId));\r\n                generalJournalModel.setFko_gj_srcdoc(new FinSourceDocumentModel(sourceDocumentId));\r\n                generalJournalModel.setFko_gj_curr(new GenCurrencyModel(currencyId));\r\n                \r\n                list= new ArrayList&lt;FinGeneralJournalEntryModel&gt;();\r\n\r\n                String []getDistributionlist=tableList.split(&quot;,&quot;);\r\n\r\n                for (int i=0; i&lt;getDistributionlist.length; i+=6){\r\n\r\n                    generalJournalEntryModel= new FinGeneralJournalEntryModel(Long.parseLong(getDistributionlist[i+3].toString()),\r\n                            Long.parseLong(getDistributionlist[i+4].toString()),\r\n                            currencyId, 86.5, userId, userIp, sysdate, 0);\r\n\r\n                    generalJournalEntryModel.setFko_gje_gj(generalJournalModel);\r\n                    generalJournalEntryModel.setFko_gje_coam(new FinCOAMaintenanceModel(Long.parseLong(getDistributionlist[i].toString())));\r\n\r\n                    list.add(generalJournalEntryModel);\r\n                }\r\n\r\n                pt.saveOrUpdate(generalJournalModel,list);\r\n\r\n                response.setStatus(&quot;Success&quot;);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Exception..&quot; + ex);\r\n                response.setStatus(&quot;Fail&quot;);\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\n**another following controller same like above but giving exception** \r\n\r\n    @Controller\r\n    public class ProPurchaseOrderController {\r\n        protected static Logger log = Logger\r\n            .getLogger(ProPurchaseOrderController.class);\r\n\r\n        @Resource(name = &quot;PersistenceTemplate&quot;)\r\n        private PersistenceTemplate pt;\r\n\r\n        @RequestMapping(value = &quot;/AddProPurchaseOrder&quot;, method = RequestMethod.POST)\r\n        public @ResponseBody\r\n        JsonResponseStatus AddProPurchaseOrder(\r\n            @RequestParam(value=&quot;poDesc&quot;, required=true) String poDesc,\r\n            @RequestParam(value=&quot;poTrxDate&quot;, required=true) Date poTrxDate,\r\n            @RequestParam(value=&quot;supplierId&quot;, required=true) long supplierId,\r\n            @RequestParam(value=&quot;currencyId&quot;, required=true) long currencyId,\r\n            @RequestParam(value=&quot;batchId&quot;, required=true) long batchId,\r\n            @RequestParam(value=&quot;poSubTotal&quot;, required=true) double poSubTotal,\r\n            @RequestParam(value=&quot;poDiscount&quot;, required=true) double poDiscount,\r\n            @RequestParam(value=&quot;poFreight&quot;, required=true) double poFreight,\r\n            @RequestParam(value=&quot;poTax&quot;, required=true) double poTax,\r\n            @RequestParam(value=&quot;poMisc&quot;, required=true) double poMisc,\r\n            @RequestParam(value=&quot;poGTotal&quot;, required=true) double poGTotal,\r\n            @RequestParam(value=&quot;tableList&quot;, required=true) String tableList, HttpSession session ) {\r\n\r\n            Date sysdate = null;\r\n            JsonResponseStatus response = null;\r\n            ProPurchaseOrderModel purchaseOrder=null;\r\n            ProPurchaseOrderEntryModel purchaseOrderEntry=null;\r\n            List&lt;ProPurchaseOrderEntryModel&gt; list=null;\r\n\r\n            try {\r\n                sysdate = new Date();\r\n                response = new JsonResponseStatus();\r\n\r\n                long userId=Long.parseLong(session.getAttribute(&quot;userId&quot;).toString());\r\n                String userIp=session.getAttribute(&quot;userIp&quot;).toString();\r\n\r\n                purchaseOrder= new ProPurchaseOrderModel(poDesc, poTrxDate, poSubTotal, poFreight, poTax, poMisc, poDiscount,\r\n                    0, 0, userId, userIp, sysdate, 0);\r\n\r\n                purchaseOrder.setFko_po_batch(new ProBatchModel(batchId));\r\n                purchaseOrder.setFko_po_currency(new GenCurrencyModel(currencyId));\r\n                purchaseOrder.setFko_po_supp(new ProSupplierModel(supplierId));\r\n\r\n                list= new ArrayList&lt;ProPurchaseOrderEntryModel&gt;();\r\n\r\n                String []getItemlist=tableList.split(&quot;,&quot;);\r\n\r\n                for (int i=0; i&lt;getItemlist.length; i+=11){\r\n\r\n                    double actualQuantity=Double.parseDouble(getItemlist[i+5].toString());\r\n                    double fraction=Double.parseDouble(getItemlist[i+6].toString());\r\n                    double baseQuantity=Double.parseDouble(getItemlist[i+7].toString());\r\n                    double cost=Double.parseDouble(getItemlist[i+8].toString());\r\n                    double total=Double.parseDouble(getItemlist[i+9].toString());\r\n\r\n                    purchaseOrderEntry= new ProPurchaseOrderEntryModel(actualQuantity, fraction, baseQuantity, cost, total,\r\n                        0, 0, userId, userIp, sysdate, 0);\r\n\r\n                    purchaseOrderEntry.setFko_poe_uome(new InvUOMExtendedModel(Long.parseLong(getItemlist[i+4].toString())));\r\n                    purchaseOrderEntry.setFko_poe_item(new InvItemModel(Long.parseLong(getItemlist[i].toString())));\r\n                    purchaseOrderEntry.setFko_poe_po(purchaseOrder);\r\n\r\n                    list.add(purchaseOrderEntry);\r\n                }\r\n                \r\n                pt.saveOrUpdate(purchaseOrderEntry,list);\r\n                response.setStatus(&quot;Success&quot;);\r\n            } catch (Exception ex) {\r\n                log.error(&quot;Exception..&quot; + ex);\r\n                response.setStatus(&quot;Fail&quot;);\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\n**Exception is** \r\n\r\n**Exception..org.springframework.dao.InvalidDataAccessApiUsageException: object references an unsaved transient instance - save the transient instance before flushing: com.soft.erp.pro.model.ProPurchaseOrderModel; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing**","title":"org.springframework.dao.InvalidDataAccessApiUsageException","body":"<h2>I am using Spring MVC + Hibernate</h2>\n\n<p><strong>Generic Method</strong></p>\n\n<pre><code>public &lt;T, E&gt; void saveOrUpdate(T entity, List&lt;E&gt; list) throws DataAccessException {\n\n    Session session = sessionFactory.getCurrentSession();\n    session.saveOrUpdate(entity);\n    for(E getlist : list){\n    session.saveOrUpdate(getlist);\n    }\n}\n</code></pre>\n\n<p><strong>(Following )Controller Working Fine</strong></p>\n\n<pre><code>@Controller\npublic class FinGeneralJournalController {\n\n    protected static Logger log = Logger\n        .getLogger(FinGeneralJournalController.class);\n\n    @Resource(name = \"PersistenceTemplate\")\n    private PersistenceTemplate pt;\n\n    @RequestMapping(value = \"/AddFinGeneralJournal\", method = RequestMethod.POST)\n    public @ResponseBody\n    JsonResponseStatus addGeneralJournalEntry(\n        @RequestParam(value=\"description\", required=true) String description,\n        @RequestParam(value=\"trxDate\", required=true) Date trxDate,\n        @RequestParam(value=\"sourceDocumentId\", required=true) long sourceDocumentId,\n        @RequestParam(value=\"currencyId\", required=true) long currencyId,\n        @RequestParam(value=\"batchId\", required=true) long batchId,\n        @RequestParam(value=\"tableList\", required=true) String tableList, HttpSession session ) {\n\n        Date sysdate = null;\n        JsonResponseStatus response = null;\n        List&lt;FinGeneralJournalEntryModel&gt; list=null;\n        FinGeneralJournalEntryModel generalJournalEntryModel= null;\n        try {\n            long userId=Long.parseLong(session.getAttribute(\"userId\").toString());\n            String userIp=session.getAttribute(\"userIp\").toString();\n\n            sysdate = new Date();\n            response = new JsonResponseStatus();\n\n            FinGeneralJournalModel generalJournalModel  = new FinGeneralJournalModel(description,\n                trxDate, userId, userIp, sysdate, 0);\n\n            generalJournalModel.setFko_gj_batch(new FinBatchModel(batchId));\n            generalJournalModel.setFko_gj_srcdoc(new FinSourceDocumentModel(sourceDocumentId));\n            generalJournalModel.setFko_gj_curr(new GenCurrencyModel(currencyId));\n\n            list= new ArrayList&lt;FinGeneralJournalEntryModel&gt;();\n\n            String []getDistributionlist=tableList.split(\",\");\n\n            for (int i=0; i&lt;getDistributionlist.length; i+=6){\n\n                generalJournalEntryModel= new FinGeneralJournalEntryModel(Long.parseLong(getDistributionlist[i+3].toString()),\n                        Long.parseLong(getDistributionlist[i+4].toString()),\n                        currencyId, 86.5, userId, userIp, sysdate, 0);\n\n                generalJournalEntryModel.setFko_gje_gj(generalJournalModel);\n                generalJournalEntryModel.setFko_gje_coam(new FinCOAMaintenanceModel(Long.parseLong(getDistributionlist[i].toString())));\n\n                list.add(generalJournalEntryModel);\n            }\n\n            pt.saveOrUpdate(generalJournalModel,list);\n\n            response.setStatus(\"Success\");\n        } catch (Exception ex) {\n            log.error(\"Exception..\" + ex);\n            response.setStatus(\"Fail\");\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p><strong>another following controller same like above but giving exception</strong> </p>\n\n<pre><code>@Controller\npublic class ProPurchaseOrderController {\n    protected static Logger log = Logger\n        .getLogger(ProPurchaseOrderController.class);\n\n    @Resource(name = \"PersistenceTemplate\")\n    private PersistenceTemplate pt;\n\n    @RequestMapping(value = \"/AddProPurchaseOrder\", method = RequestMethod.POST)\n    public @ResponseBody\n    JsonResponseStatus AddProPurchaseOrder(\n        @RequestParam(value=\"poDesc\", required=true) String poDesc,\n        @RequestParam(value=\"poTrxDate\", required=true) Date poTrxDate,\n        @RequestParam(value=\"supplierId\", required=true) long supplierId,\n        @RequestParam(value=\"currencyId\", required=true) long currencyId,\n        @RequestParam(value=\"batchId\", required=true) long batchId,\n        @RequestParam(value=\"poSubTotal\", required=true) double poSubTotal,\n        @RequestParam(value=\"poDiscount\", required=true) double poDiscount,\n        @RequestParam(value=\"poFreight\", required=true) double poFreight,\n        @RequestParam(value=\"poTax\", required=true) double poTax,\n        @RequestParam(value=\"poMisc\", required=true) double poMisc,\n        @RequestParam(value=\"poGTotal\", required=true) double poGTotal,\n        @RequestParam(value=\"tableList\", required=true) String tableList, HttpSession session ) {\n\n        Date sysdate = null;\n        JsonResponseStatus response = null;\n        ProPurchaseOrderModel purchaseOrder=null;\n        ProPurchaseOrderEntryModel purchaseOrderEntry=null;\n        List&lt;ProPurchaseOrderEntryModel&gt; list=null;\n\n        try {\n            sysdate = new Date();\n            response = new JsonResponseStatus();\n\n            long userId=Long.parseLong(session.getAttribute(\"userId\").toString());\n            String userIp=session.getAttribute(\"userIp\").toString();\n\n            purchaseOrder= new ProPurchaseOrderModel(poDesc, poTrxDate, poSubTotal, poFreight, poTax, poMisc, poDiscount,\n                0, 0, userId, userIp, sysdate, 0);\n\n            purchaseOrder.setFko_po_batch(new ProBatchModel(batchId));\n            purchaseOrder.setFko_po_currency(new GenCurrencyModel(currencyId));\n            purchaseOrder.setFko_po_supp(new ProSupplierModel(supplierId));\n\n            list= new ArrayList&lt;ProPurchaseOrderEntryModel&gt;();\n\n            String []getItemlist=tableList.split(\",\");\n\n            for (int i=0; i&lt;getItemlist.length; i+=11){\n\n                double actualQuantity=Double.parseDouble(getItemlist[i+5].toString());\n                double fraction=Double.parseDouble(getItemlist[i+6].toString());\n                double baseQuantity=Double.parseDouble(getItemlist[i+7].toString());\n                double cost=Double.parseDouble(getItemlist[i+8].toString());\n                double total=Double.parseDouble(getItemlist[i+9].toString());\n\n                purchaseOrderEntry= new ProPurchaseOrderEntryModel(actualQuantity, fraction, baseQuantity, cost, total,\n                    0, 0, userId, userIp, sysdate, 0);\n\n                purchaseOrderEntry.setFko_poe_uome(new InvUOMExtendedModel(Long.parseLong(getItemlist[i+4].toString())));\n                purchaseOrderEntry.setFko_poe_item(new InvItemModel(Long.parseLong(getItemlist[i].toString())));\n                purchaseOrderEntry.setFko_poe_po(purchaseOrder);\n\n                list.add(purchaseOrderEntry);\n            }\n\n            pt.saveOrUpdate(purchaseOrderEntry,list);\n            response.setStatus(\"Success\");\n        } catch (Exception ex) {\n            log.error(\"Exception..\" + ex);\n            response.setStatus(\"Fail\");\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p><strong>Exception is</strong> </p>\n\n<p><strong>Exception..org.springframework.dao.InvalidDataAccessApiUsageException: object references an unsaved transient instance - save the transient instance before flushing: com.soft.erp.pro.model.ProPurchaseOrderModel; nested exception is org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing</strong></p>\n"},{"tags":["java","selenium-webdriver","automation","webdriver-manager"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1690462601,"post_id":76779894,"comment_id":135359372,"body_markdown":"Refer this answer - https://stackoverflow.com/a/76752843/7598774","body":"Refer this answer - <a href=\"https://stackoverflow.com/a/76752843/7598774\">stackoverflow.com/a/76752843/7598774</a>"},{"owner":{"account_id":18553557,"reputation":75,"user_id":13519244,"display_name":"Amad Bin Mumtaz"},"score":0,"creation_date":1690467321,"post_id":76779894,"comment_id":135360588,"body_markdown":"This has to specify the chromedriver. Whereas I am using web driver manager here which should cater installing and configuring the driver itself. Also, its working fine manually but failing on CICD executions.","body":"This has to specify the chromedriver. Whereas I am using web driver manager here which should cater installing and configuring the driver itself. Also, its working fine manually but failing on CICD executions."}],"owner":{"account_id":18553557,"reputation":75,"user_id":13519244,"display_name":"Amad Bin Mumtaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690462072,"creation_date":1690462072,"question_id":76779894,"body_markdown":"I have recently updated my selenium framework to work with WebDriver manager. Previously, I was manually setting up the chromedrivers/ gecko driver versions as per my use. I am facing this error when I try to run my test in CICD pipeline (GitLab runners). \r\n\r\nTest works fine manually (my machine/ VM) but it throws error when I execute it via CICD.\r\n\r\n\r\n\t\t\r\n\r\n            String browser = new PropertyReader().readProperty(&quot;browserType&quot;);\r\n    \t\tString browserMode = new PropertyReader().readProperty(&quot;browserMode&quot;);\r\n    \r\n    \t\tWebDriverManager.chromedriver().setup(); \t\r\n    \r\n    \t\tif (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n    \t\t\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    \t\t\tprefs.put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\r\n    \t\t\tprefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\n    \t\t\tprefs.put(&quot;download.directory_upgrade&quot;, true);\r\n    \t\t\tprefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    \r\n    \t\t\tChromeOptions options = new ChromeOptions();\r\n    \t\t\toptions.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] { &quot;enable-automation&quot; });\r\n    \t\t\toptions.addArguments(&quot;--disable-extensions&quot;);\r\n    \t\t\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n    \t\t\toptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    \t\t\toptions.addArguments(browserMode);\r\n    \t\t\toptions.addArguments(&quot;disable-infobars&quot;);\r\n    \t\t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    \t\t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \r\n    \t\t\tdriver = new ChromeDriver(options);\r\n    \t\t\tdriver.manage().window().maximize();\r\n    \t\t\tdriverThreadLocal.set(driver);\r\n\r\nBrowserMode is set to &quot;--headless&quot; and browser is chrome from config properties.\r\n\r\nError logs from CICD GitLab:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hmVny.png","title":"Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed","body":"<p>I have recently updated my selenium framework to work with WebDriver manager. Previously, I was manually setting up the chromedrivers/ gecko driver versions as per my use. I am facing this error when I try to run my test in CICD pipeline (GitLab runners).</p>\n<p>Test works fine manually (my machine/ VM) but it throws error when I execute it via CICD.</p>\n<pre><code>        String browser = new PropertyReader().readProperty(&quot;browserType&quot;);\n        String browserMode = new PropertyReader().readProperty(&quot;browserMode&quot;);\n\n        WebDriverManager.chromedriver().setup();    \n\n        if (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n            prefs.put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\n            prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\n            prefs.put(&quot;download.directory_upgrade&quot;, true);\n            prefs.put(&quot;download.prompt_for_download&quot;, false);\n\n            ChromeOptions options = new ChromeOptions();\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] { &quot;enable-automation&quot; });\n            options.addArguments(&quot;--disable-extensions&quot;);\n            options.addArguments(&quot;--no-sandbox&quot;);\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n            options.addArguments(browserMode);\n            options.addArguments(&quot;disable-infobars&quot;);\n            options.setExperimentalOption(&quot;prefs&quot;, prefs);\n            options.addArguments(&quot;--ignore-certificate-errors&quot;);\n            options.addArguments(&quot;--remote-allow-origins=*&quot;);\n\n            driver = new ChromeDriver(options);\n            driver.manage().window().maximize();\n            driverThreadLocal.set(driver);\n</code></pre>\n<p>BrowserMode is set to &quot;--headless&quot; and browser is chrome from config properties.</p>\n<p>Error logs from CICD GitLab:\n<a href=\"https://i.stack.imgur.com/hmVny.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hmVny.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"score":0,"creation_date":1690448240,"post_id":76777968,"comment_id":135356204,"body_markdown":"I guess, there&#39;s nothing on that link about my question.","body":"I guess, there&#39;s nothing on that link about my question."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1690448355,"post_id":76777968,"comment_id":135356233,"body_markdown":"I see, I thought it would be implied, but I found that is quite similar to what you are looking for. Does this work for you? https://stackoverflow.com/a/28993810/16034206","body":"I see, I thought it would be implied, but I found that is quite similar to what you are looking for. Does this work for you? <a href=\"https://stackoverflow.com/a/28993810/16034206\">stackoverflow.com/a/28993810/16034206</a>"},{"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"score":0,"creation_date":1690457088,"post_id":76777968,"comment_id":135358063,"body_markdown":"That&#39;s the exact thing I was looking for, thank you. You can post an answer and I&#39;ll accept it.","body":"That&#39;s the exact thing I was looking for, thank you. You can post an answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690461517,"creation_date":1690461517,"answer_id":76779816,"question_id":76777968,"body_markdown":"Spring Data JPA has SpEL support that provides access to the query method arguments. This allows you to either simply bind the parameter as is or perform additional operations before binding.\r\n\r\nThis lets you write queries such as:\r\n```\r\n@Query(&quot;select u from User u where u.age = ?#{[0]}&quot;)\r\nList&lt;User&gt; findUsersByAge(int age);\r\n\r\n@Query(&quot;select u from User u where u.firstname = :#{#customer.firstname}&quot;)\r\nList&lt;User&gt; findUsersByCustomersFirstname(@Param(&quot;customer&quot;) Customer customer);\r\n```\r\n\r\nFor more details, [see also](https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions)","title":"Using an object instead of single parameters in JPA/JPQL @Param @Query","body":"<p>Spring Data JPA has SpEL support that provides access to the query method arguments. This allows you to either simply bind the parameter as is or perform additional operations before binding.</p>\n<p>This lets you write queries such as:</p>\n<pre><code>@Query(&quot;select u from User u where u.age = ?#{[0]}&quot;)\nList&lt;User&gt; findUsersByAge(int age);\n\n@Query(&quot;select u from User u where u.firstname = :#{#customer.firstname}&quot;)\nList&lt;User&gt; findUsersByCustomersFirstname(@Param(&quot;customer&quot;) Customer customer);\n</code></pre>\n<p>For more details, <a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow noreferrer\">see also</a></p>\n"}],"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76779816,"answer_count":1,"score":0,"last_activity_date":1690461517,"creation_date":1690447342,"question_id":76777968,"body_markdown":"When doing querys you can do this syntax:\r\n\r\n    @Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = param1 AND v.param2 = param2&quot;)\r\n    List&lt;Result&gt; search(@Param(&quot;param1&quot;) String param1, @Param(&quot;param2&quot;) String param2)\r\n\r\n\r\nWhat if I had more then 2 parameters. Lets say I had 20 parameters, is there a way to give an object instead and refer to the object properties instead? What I mean is this:\r\n\r\nPseudocode:\r\n\r\n    @Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = object.param1 AND v.param2 = object.param2&quot;)\r\n    List&lt;Result&gt; search(@Param(&quot;Object&quot;) SomeCustomObject object)\r\n","title":"Using an object instead of single parameters in JPA/JPQL @Param @Query","body":"<p>When doing querys you can do this syntax:</p>\n<pre><code>@Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = param1 AND v.param2 = param2&quot;)\nList&lt;Result&gt; search(@Param(&quot;param1&quot;) String param1, @Param(&quot;param2&quot;) String param2)\n</code></pre>\n<p>What if I had more then 2 parameters. Lets say I had 20 parameters, is there a way to give an object instead and refer to the object properties instead? What I mean is this:</p>\n<p>Pseudocode:</p>\n<pre><code>@Query(value = &quot;SELECT v from DBTABLE v WHERE v.param1 = object.param1 AND v.param2 = object.param2&quot;)\nList&lt;Result&gt; search(@Param(&quot;Object&quot;) SomeCustomObject object)\n</code></pre>\n"},{"tags":["java","spring","spring-cloud-feign","spring-webclient","reactive-feign-client"],"comments":[{"owner":{"account_id":2003864,"reputation":301,"user_id":1794262,"display_name":"iglen_"},"score":0,"creation_date":1638201769,"post_id":69234092,"comment_id":124019224,"body_markdown":"Did you resolve this issue?","body":"Did you resolve this issue?"},{"owner":{"account_id":3506066,"reputation":235,"user_id":2931585,"display_name":"oOXAam"},"score":0,"creation_date":1638951011,"post_id":69234092,"comment_id":124221226,"body_markdown":"no, I wasn&#39;t able to resolve this issue","body":"no, I wasn&#39;t able to resolve this issue"}],"answers":[{"tags":[],"owner":{"account_id":10999814,"reputation":597,"user_id":8498513,"display_name":"donquih0te"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690461365,"creation_date":1690461365,"answer_id":76779800,"question_id":69234092,"body_markdown":"You should specify client in `@EnableReactiveFeignClients` annotation\r\n\r\n```\r\n@EnableReactiveFeignClients(clients = {MechanicClient.class})\r\n```","title":"No bean found of type interface reactivefeign.ReactiveFeignBuilder for &quot;service&quot;","body":"<p>You should specify client in <code>@EnableReactiveFeignClients</code> annotation</p>\n<pre><code>@EnableReactiveFeignClients(clients = {MechanicClient.class})\n</code></pre>\n"}],"owner":{"account_id":3506066,"reputation":235,"user_id":2931585,"display_name":"oOXAam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690461365,"creation_date":1631963360,"question_id":69234092,"body_markdown":"I have created a simple Reacting Feign Client\r\n\r\n    @ReactiveFeignClient(name = &quot;mechanic-service&quot;, path = &quot;${mechanic.service.url}&quot;)\r\n    public interface MechanicClient {\r\n        @GetMapping(&quot;/mechanic-api/hello&quot;)\r\n        Mono&lt;HelloWorldDetails&gt; hi();\r\n    }\r\n\r\nNow when I @Autowire it in my service class, IntelliJ gives an error: \r\n\r\n&gt; Could not autowire. No beans of &#39;MechanicClient&#39; type found.\r\n\r\nThis is my main class:\r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\n    @EnableReactiveFeignClients\r\n    public class CustomerApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CustomerApplication.class, args);\r\n        }\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;feign-reactor.version&gt;3.1.1&lt;/feign-reactor.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.playtika.reactivefeign&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;feign-reactor-spring-cloud-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${feign-reactor.version}&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nand when I start the server I get the following error:\r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;helloWorldController&#39;: Unsatisfied\r\n&gt; dependency expressed through field &#39;mechClient&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name\r\n&gt; &#39;com.emech.customer.config.feign.MechanicClient&#39;: FactoryBean threw\r\n&gt; exception on object creation; nested exception is\r\n&gt; java.lang.IllegalStateException: No bean found of type interface\r\n&gt; reactivefeign.ReactiveFeignBuilder for mechanic-service \tat\r\n&gt; org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10] \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n&gt; ~[spring-beans-5.3.10.jar:5.3.10]\r\n\r\nCan anyone guide me, what I&#39;m missing, I&#39;m new to Reactive Feign Client.\r\nThanks ","title":"No bean found of type interface reactivefeign.ReactiveFeignBuilder for &quot;service&quot;","body":"<p>I have created a simple Reacting Feign Client</p>\n<pre><code>@ReactiveFeignClient(name = &quot;mechanic-service&quot;, path = &quot;${mechanic.service.url}&quot;)\npublic interface MechanicClient {\n    @GetMapping(&quot;/mechanic-api/hello&quot;)\n    Mono&lt;HelloWorldDetails&gt; hi();\n}\n</code></pre>\n<p>Now when I @Autowire it in my service class, IntelliJ gives an error:</p>\n<blockquote>\n<p>Could not autowire. No beans of 'MechanicClient' type found.</p>\n</blockquote>\n<p>This is my main class:</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\n@EnableReactiveFeignClients\npublic class CustomerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(CustomerApplication.class, args);\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;feign-reactor.version&gt;3.1.1&lt;/feign-reactor.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.playtika.reactivefeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-reactor-spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;${feign-reactor.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>and when I start the server I get the following error:</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'helloWorldController': Unsatisfied\ndependency expressed through field 'mechClient'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name\n'com.emech.customer.config.feign.MechanicClient': FactoryBean threw\nexception on object creation; nested exception is\njava.lang.IllegalStateException: No bean found of type interface\nreactivefeign.ReactiveFeignBuilder for mechanic-service   at\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n~[spring-beans-5.3.10.jar:5.3.10]     at\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n~[spring-beans-5.3.10.jar:5.3.10]</p>\n</blockquote>\n<p>Can anyone guide me, what I'm missing, I'm new to Reactive Feign Client.\nThanks</p>\n"},{"tags":["java","tomcat","deployment","vaadin","lookup"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680217823,"post_id":75892433,"comment_id":133865583,"body_markdown":"[That class](https://origin.vaadin.com/api/platform/current/com/vaadin/flow/di/Lookup.html) seems be a [Service Provider Interface](https://en.wikipedia.org/wiki/Service_provider_interface). An SPI is used to locate implementations of a desired service at runtime. So this must be a core class within the Vaadin Flow framework. I doubt you&#39;ve provided enough details for anyone to debug. Did you just create a new project? Did that project ever run successfully? If so, backtrack to when things when wrong.","body":"<a href=\"https://origin.vaadin.com/api/platform/current/com/vaadin/flow/di/Lookup.html\" rel=\"nofollow noreferrer\">That class</a> seems be a <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Service Provider Interface</a>. An SPI is used to locate implementations of a desired service at runtime. So this must be a core class within the Vaadin Flow framework. I doubt you&#39;ve provided enough details for anyone to debug. Did you just create a new project? Did that project ever run successfully? If so, backtrack to when things when wrong."},{"owner":{"account_id":8682619,"reputation":11,"user_id":6498005,"display_name":"edbaSoftware"},"score":0,"creation_date":1680253842,"post_id":75892433,"comment_id":133870463,"body_markdown":"Yes, it always worked fine in IntelliJ/development mode. I have started the project using an export from https://start.vaadin.com/ with the login security enabled.","body":"Yes, it always worked fine in IntelliJ/development mode. I have started the project using an export from <a href=\"https://start.vaadin.com/\" rel=\"nofollow noreferrer\">start.vaadin.com</a> with the login security enabled."},{"owner":{"account_id":8682619,"reputation":11,"user_id":6498005,"display_name":"edbaSoftware"},"score":0,"creation_date":1680254565,"post_id":75892433,"comment_id":133870607,"body_markdown":"Unfortunately, the deployed WAR never worked in Tomcat. I guess some security config is still missing. If I remove the &quot;setLoginView(http, LoginView.class, LOGOUT_URL);&quot;, the WAR is loaded.","body":"Unfortunately, the deployed WAR never worked in Tomcat. I guess some security config is still missing. If I remove the &quot;setLoginView(http, LoginView.class, LOGOUT_URL);&quot;, the WAR is loaded."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1680259692,"post_id":75892433,"comment_id":133871866,"body_markdown":"Voting to reopen. The linked question is a generic question about NPEs, while this question is about a specific framework-internal dependency not being present.","body":"Voting to reopen. The linked question is a generic question about NPEs, while this question is about a specific framework-internal dependency not being present."}],"answers":[{"tags":[],"owner":{"account_id":29103214,"reputation":1,"user_id":22294599,"display_name":"Jacek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690461035,"creation_date":1690461035,"answer_id":76779767,"question_id":75892433,"body_markdown":"I had the same error. \r\nJust upgrade to Vaadin 24.1.1 and Spring Boot 3.1.1 solved the problem","title":"vaadin - &quot;Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null&quot;","body":"<p>I had the same error.\nJust upgrade to Vaadin 24.1.1 and Spring Boot 3.1.1 solved the problem</p>\n"}],"owner":{"account_id":8682619,"reputation":11,"user_id":6498005,"display_name":"edbaSoftware"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690461035,"creation_date":1680206019,"question_id":75892433,"body_markdown":"My vaadin v24 project is running fine on test mode. The deployed WAR is not starting on Tomcat.\r\n\r\nThe following error is reported:\r\n\r\n**&quot;Cannot invoke &#39;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&#39; because &#39;lookup&#39; is null&quot;**\r\n\r\nI am implementing login security with JPA.\r\nI have found nothing relevant online about this issue.\r\n\r\nHow can this be fixed?\r\n\r\n\r\nThe security configuration:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class SecurityConfiguration extends VaadinWebSecurity {\r\n\r\n    public static final String LOGOUT_URL = &quot;/&quot;;\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/images/*.png&quot;).permitAll();\r\n            super.configure(http);\r\n            setLoginView(http, LoginView.class, LOGOUT_URL);\r\n        }\r\n    }\r\n\r\n\r\nthe application class:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(&quot;com.tools.dimcontrol.data.repository&quot;)\r\n    @Theme(value = &quot;dimcontrol&quot;)\r\n\r\n    public class Application extends SpringBootServletInitializer implements AppShellConfigurator {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n\r\n        @Bean\r\n        SqlDataSourceScriptDatabaseInitializer dataSourceScriptDatabaseInitializer(DataSource dataSource,\r\n                                                                                   SqlInitializationProperties properties, UserRepository repository) {\r\n            // This bean ensures the database is only initialized when empty\r\n            return new SqlDataSourceScriptDatabaseInitializer(dataSource, properties) {\r\n                @Override\r\n                public boolean initializeDatabase() {\r\n                    if (repository.count() == 0L) {\r\n                        return super.initializeDatabase();\r\n                    }\r\n                    return false;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n\r\nThe pom:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;!-- Project from https://start.vaadin.com/project/d6e40e84-c292-43aa-a0a7-44ff9774bd1f --&gt;\r\n    &lt;groupId&gt;com.tools.dimcontrol&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dimcontrol&lt;/artifactId&gt;\r\n    &lt;name&gt;dimcontrol&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;24.0.2&lt;/vaadin.version&gt;\r\n        &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n\r\n        &lt;!-- Main Maven repository --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;8.0.32&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n&lt;!--        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;3.0.5&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;2.1.1&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\r\n                     the default Spring Boot&#39;s 30sec timeout.  --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5464&lt;/jvmArguments&gt;\r\n                    &lt;wait&gt;500&lt;/wait&gt;\r\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\r\n            &lt;/properties&gt;\r\n\r\n            &lt;dependencies&gt;\r\n                &lt;!-- Exclude development dependencies from production --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;start&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand the Tomcat error log:\r\n\r\n\r\n```\r\n...\r\norg.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n30-Mar-2023 17:27:41.019 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [E:\\webapps\\dimcontrol.war]\r\n\tjava.lang.IllegalStateException: Error starting child\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\r\n\t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\r\n\t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\r\n\t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\r\n\t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\n\t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\n\t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\n\t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n\tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/dimcontrol]]\r\n\t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\n\t\t... 37 more\r\n\tCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;VaadinSecurityFilterChainBean&#39; defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770)\r\n\t\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154)\r\n\t\tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96)\r\n\t\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\t... 38 more\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;VaadinSecurityFilterChainBean&#39; defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\t\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:810)\r\n\t\t... 61 more\r\n\tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t\t... 77 more\r\n\tCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\r\n\t\tat com.vaadin.flow.router.internal.RouteUtil.resolve(RouteUtil.java:283)\r\n\t\tat com.vaadin.flow.router.internal.RouteUtil.getRoutePath(RouteUtil.java:110)\r\n\t\tat com.vaadin.flow.spring.security.VaadinWebSecurity.setLoginView(VaadinWebSecurity.java:426)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration.configure(SecurityConfiguration.java:39)\r\n\t\tat com.vaadin.flow.spring.security.VaadinWebSecurity.filterChain(VaadinWebSecurity.java:140)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$3(&lt;generated&gt;)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$1.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n\t\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\t\tat com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n\t\t... 78 more\r\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [E:\\webapps\\dimcontrol.war] has finished in [13,753] ms\r\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\docs]\r\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\docs] has finished in [62] ms\r\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\examples]\r\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\examples] has finished in [281] ms\r\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\host-manager]\r\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\host-manager] has finished in [32] ms\r\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\manager]\r\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\manager] has finished in [31] ms\r\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\ROOT]\r\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\ROOT] has finished in [15] ms\r\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.485 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [14287] milliseconds\r\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\r\n30-Mar-2023 17:27:41.517 INFO [Thread-1] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.533 INFO [Thread-1] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [dimcontrol] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\r\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [dimcontrol] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@17.0.6/java.lang.Object.wait(Native Method)\r\n java.base@17.0.6/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\r\n```","title":"vaadin - &quot;Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null&quot;","body":"<p>My vaadin v24 project is running fine on test mode. The deployed WAR is not starting on Tomcat.</p>\n<p>The following error is reported:</p>\n<p><strong>&quot;Cannot invoke 'com.vaadin.flow.di.Lookup.lookup(java.lang.Class)' because 'lookup' is null&quot;</strong></p>\n<p>I am implementing login security with JPA.\nI have found nothing relevant online about this issue.</p>\n<p>How can this be fixed?</p>\n<p>The security configuration:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration extends VaadinWebSecurity {\n\npublic static final String LOGOUT_URL = &quot;/&quot;;\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/images/*.png&quot;).permitAll();\n        super.configure(http);\n        setLoginView(http, LoginView.class, LOGOUT_URL);\n    }\n}\n</code></pre>\n<p>the application class:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.tools.dimcontrol.data.repository&quot;)\n@Theme(value = &quot;dimcontrol&quot;)\n\npublic class Application extends SpringBootServletInitializer implements AppShellConfigurator {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    @Bean\n    SqlDataSourceScriptDatabaseInitializer dataSourceScriptDatabaseInitializer(DataSource dataSource,\n                                                                               SqlInitializationProperties properties, UserRepository repository) {\n        // This bean ensures the database is only initialized when empty\n        return new SqlDataSourceScriptDatabaseInitializer(dataSource, properties) {\n            @Override\n            public boolean initializeDatabase() {\n                if (repository.count() == 0L) {\n                    return super.initializeDatabase();\n                }\n                return false;\n            }\n        };\n    }\n}\n</code></pre>\n<p>The pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Project from https://start.vaadin.com/project/d6e40e84-c292-43aa-a0a7-44ff9774bd1f --&gt;\n    &lt;groupId&gt;com.tools.dimcontrol&lt;/groupId&gt;\n    &lt;artifactId&gt;dimcontrol&lt;/artifactId&gt;\n    &lt;name&gt;dimcontrol&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;vaadin.version&gt;24.0.2&lt;/vaadin.version&gt;\n        &lt;selenium.version&gt;4.8.1&lt;/selenium.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n\n        &lt;!-- Main Maven repository --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.parttio&lt;/groupId&gt;\n            &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;8.0.32&lt;/version&gt;--&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;3.0.5&lt;/version&gt;--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;2.1.1&lt;/version&gt;--&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\n                     the default Spring Boot's 30sec timeout.  --&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5464&lt;/jvmArguments&gt;\n                    &lt;wait&gt;500&lt;/wait&gt;\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;vaadin.productionMode&gt;true&lt;/vaadin.productionMode&gt;\n            &lt;/properties&gt;\n\n            &lt;dependencies&gt;\n                &lt;!-- Exclude development dependencies from production --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev-server&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin-core&lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-dev&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;start&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and the Tomcat error log:</p>\n<pre><code>...\norg.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n30-Mar-2023 17:27:41.019 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [E:\\webapps\\dimcontrol.war]\n    java.lang.IllegalStateException: Error starting child\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\n        at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\n        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\n        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\n        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n        at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\n        at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/dimcontrol]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n        ... 37 more\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'VaadinSecurityFilterChainBean' defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154)\n        at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96)\n        at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        ... 38 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'VaadinSecurityFilterChainBean' defined in class path resource [com/tools/dimcontrol/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:810)\n        ... 61 more\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n        ... 77 more\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;com.vaadin.flow.di.Lookup.lookup(java.lang.Class)&quot; because &quot;lookup&quot; is null\n        at com.vaadin.flow.router.internal.RouteUtil.resolve(RouteUtil.java:283)\n        at com.vaadin.flow.router.internal.RouteUtil.getRoutePath(RouteUtil.java:110)\n        at com.vaadin.flow.spring.security.VaadinWebSecurity.setLoginView(VaadinWebSecurity.java:426)\n        at com.tools.dimcontrol.security.SecurityConfiguration.configure(SecurityConfiguration.java:39)\n        at com.vaadin.flow.spring.security.VaadinWebSecurity.filterChain(VaadinWebSecurity.java:140)\n        at com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$3(&lt;generated&gt;)\n        at com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$1.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n        at com.tools.dimcontrol.security.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n        ... 78 more\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [E:\\webapps\\dimcontrol.war] has finished in [13,753] ms\n30-Mar-2023 17:27:41.032 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\docs]\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\docs] has finished in [62] ms\n30-Mar-2023 17:27:41.094 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\examples]\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\examples] has finished in [281] ms\n30-Mar-2023 17:27:41.375 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\host-manager]\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\host-manager] has finished in [32] ms\n30-Mar-2023 17:27:41.407 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\manager]\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\manager] has finished in [31] ms\n30-Mar-2023 17:27:41.438 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deploying web application directory [E:\\webapps\\ROOT]\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.catalina.startup.HostConfig.deployDirectory Deployment of web application directory [E:\\webapps\\ROOT] has finished in [15] ms\n30-Mar-2023 17:27:41.453 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.485 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [14287] milliseconds\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.485 INFO [Thread-1] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\n30-Mar-2023 17:27:41.517 INFO [Thread-1] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.533 INFO [Thread-1] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc The web application [dimcontrol] registered the JDBC driver [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\n30-Mar-2023 17:27:41.533 WARNING [Thread-1] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [dimcontrol] appears to have started a thread named [mysql-cj-abandoned-connection-cleanup] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@17.0.6/java.lang.Object.wait(Native Method)\n java.base@17.0.6/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:91)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n java.base@17.0.6/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n java.base@17.0.6/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1502095839,"post_id":45542310,"comment_id":78045418,"body_markdown":"The example code uses String.getBytes(). And that depends on the &quot;platform default encoding&quot;. I can&#39;t see which encoding that is supposed to be. You&#39;d better construct a string GSM_0338 of all allowed characters in this charset, and for every character from your SMS text, check whether it&#39;s contained in this string. For the check, I don&#39;t see a necessity to create bytes from the SMS text.","body":"The example code uses String.getBytes(). And that depends on the &quot;platform default encoding&quot;. I can&#39;t see which encoding that is supposed to be. You&#39;d better construct a string GSM_0338 of all allowed characters in this charset, and for every character from your SMS text, check whether it&#39;s contained in this string. For the check, I don&#39;t see a necessity to create bytes from the SMS text."},{"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"score":0,"creation_date":1502096017,"post_id":45542310,"comment_id":78045522,"body_markdown":"@RalfKleberhoff That helps. Thanks","body":"@RalfKleberhoff That helps. Thanks"},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1502145440,"post_id":45542310,"comment_id":78073391,"body_markdown":"Why not just have `isEncodeableInGsm0338()` call `isoString.getBytes(&quot;GSM_0338&quot;)` and return true if it succeeds and false if it fails? Or better, use something like [`GsmCharsetProvider`](https://github.com/ixonos/jcimd/blob/master/src/main/java/com/googlecode/jcimd/charset/GsmCharsetProvider.java) or [Java GSM 03.38 SMS Character Set Translator](https://embeddedfreak.wordpress.com/2008/10/08/java-gsm-0338-sms-character-set-translator/).","body":"Why not just have <code>isEncodeableInGsm0338()</code> call <code>isoString.getBytes(&quot;GSM_0338&quot;)</code> and return true if it succeeds and false if it fails? Or better, use something like <a href=\"https://github.com/ixonos/jcimd/blob/master/src/main/java/com/googlecode/jcimd/charset/GsmCharsetProvider.java\" rel=\"nofollow noreferrer\"><code>GsmCharsetProvider</code></a> or <a href=\"https://embeddedfreak.wordpress.com/2008/10/08/java-gsm-0338-sms-character-set-translator/\" rel=\"nofollow noreferrer\">Java GSM 03.38 SMS Character Set Translator</a>."},{"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"score":0,"creation_date":1502220096,"post_id":45542310,"comment_id":78112252,"body_markdown":"@RemyLebeau the last link was helpful. But there is no encoding called `GSM_0338` in java&#39;s available char-set list.","body":"@RemyLebeau the last link was helpful. But there is no encoding called <code>GSM_0338</code> in java&#39;s available char-set list."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1504248275,"post_id":45542310,"comment_id":78949083,"body_markdown":"https://stackoverflow.com/questions/13538685/dynamically-generating-geez-unicodes","body":"<a href=\"https://stackoverflow.com/questions/13538685/dynamically-generating-geez-unicodes\" title=\"dynamically generating geez unicodes\">stackoverflow.com/questions/13538685/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1504247047,"creation_date":1502219997,"answer_id":45576461,"question_id":45542310,"body_markdown":"Got it!\r\n\r\nThe method on [line 240][1] is as follows.\r\n\r\n     public static boolean isEncodeableInGsm0338(String isoString) {\r\n            byte[] isoBytes = isoString.getBytes();\r\n            outer:\r\n            for (int i = 0; i &lt; isoBytes.length; i++) {\r\n                for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\r\n                    if (isoGsm0338Array[j] == isoBytes[i]) {\r\n                        continue outer;\r\n                    }\r\n                }\r\n                for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\r\n                    if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\r\n                        continue outer;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\nAs you can see, it uses`isoString.getBytes()` which is encoding dependent. The solution is to compare each `char` by getting the character array using `isoString.toCharArray()`. \r\n\r\nChanged \r\n\r\n`byte[] isoBytes = isoString.getBytes();` \r\n\r\nto \r\n\r\n`char[] isoBytes = isoString.toCharArray();` \r\n\r\nYou might want to name `isoBytes` to something else too. Works like a charm.\r\n\r\n  [1]: https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240","title":"Checking if string is Encodeable In Gsm0338","body":"<p>Got it!</p>\n\n<p>The method on <a href=\"https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240\" rel=\"nofollow noreferrer\">line 240</a> is as follows.</p>\n\n<pre><code> public static boolean isEncodeableInGsm0338(String isoString) {\n        byte[] isoBytes = isoString.getBytes();\n        outer:\n        for (int i = 0; i &lt; isoBytes.length; i++) {\n            for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\n                if (isoGsm0338Array[j] == isoBytes[i]) {\n                    continue outer;\n                }\n            }\n            for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\n                if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\n                    continue outer;\n                }\n            }\n            return false;\n        }\n        return true;\n    }\n</code></pre>\n\n<p>As you can see, it uses<code>isoString.getBytes()</code> which is encoding dependent. The solution is to compare each <code>char</code> by getting the character array using <code>isoString.toCharArray()</code>. </p>\n\n<p>Changed </p>\n\n<p><code>byte[] isoBytes = isoString.getBytes();</code> </p>\n\n<p>to </p>\n\n<p><code>char[] isoBytes = isoString.toCharArray();</code> </p>\n\n<p>You might want to name <code>isoBytes</code> to something else too. Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582881867,"creation_date":1582881378,"answer_id":60448544,"question_id":45542310,"body_markdown":"Here is a version of mine. It&#39;s 20 times faster on 16 char strings than the nested loop, also faster than regexp, `HashSet` and `tableswitch` (by some reason).\r\n\r\n    public class Gsm0338 {\r\n\r\n    private static final char[] BASIC_CHARS = {\r\n            // Basic Character Set\r\n            &#39;@&#39;, &#39;&#163;&#39;, &#39;$&#39;, &#39;&#165;&#39;, &#39;&#232;&#39;, &#39;&#233;&#39;, &#39;&#249;&#39;, &#39;&#236;&#39;, &#39;&#242;&#39;, &#39;&#199;&#39;, &#39;\\n&#39;, &#39;&#216;&#39;, &#39;&#248;&#39;, &#39;\\r&#39;, &#39;&#197;&#39;, &#39;&#229;&#39;,\r\n            &#39;Δ&#39;, &#39;_&#39;, &#39;Φ&#39;, &#39;Γ&#39;, &#39;Λ&#39;, &#39;Ω&#39;, &#39;Π&#39;, &#39;Ψ&#39;, &#39;Σ&#39;, &#39;Θ&#39;, &#39;Ξ&#39;, &#39;&#198;&#39;, &#39;&#230;&#39;, &#39;&#223;&#39;, &#39;&#201;&#39;,\r\n            &#39; &#39;, &#39;!&#39;, &#39;&quot;&#39;, &#39;#&#39;, &#39;&#164;&#39;, &#39;%&#39;, &#39;&amp;&#39;, &#39;\\&#39;&#39;, &#39;(&#39;, &#39;)&#39;, &#39;*&#39;, &#39;+&#39;, &#39;,&#39;, &#39;-&#39;, &#39;.&#39;, &#39;/&#39;,\r\n            &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;:&#39;, &#39;;&#39;, &#39;&lt;&#39;, &#39;=&#39;, &#39;&gt;&#39;, &#39;?&#39;,\r\n            &#39;&#161;&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;,\r\n            &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;&#196;&#39;, &#39;&#214;&#39;, &#39;&#209;&#39;, &#39;&#220;&#39;, &#39;&#167;&#39;,\r\n            &#39;&#191;&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;,\r\n            &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;&#228;&#39;, &#39;&#246;&#39;, &#39;&#241;&#39;, &#39;&#252;&#39;, &#39;&#224;&#39;,\r\n            // Basic Character Set Extension\r\n            &#39;\\f&#39;, &#39;^&#39;, &#39;{&#39;, &#39;}&#39;, &#39;\\\\&#39;, &#39;[&#39;, &#39;~&#39;, &#39;]&#39;, &#39;|&#39;, &#39;€&#39;\r\n    };\r\n\r\n    private static boolean[] ENCODEABLE_BY_ORD_UP_TO_253 = new boolean[254];\r\n    private static Set&lt;Character&gt; ENCODEABLE_REST = new HashSet&lt;&gt;();\r\n    static {\r\n        for (int i = 0; i &lt; BASIC_CHARS.length; i++) {\r\n            char ch = BASIC_CHARS[i];\r\n            if (ch &lt;= 253) {\r\n                ENCODEABLE_BY_ORD_UP_TO_253[ch] = true;\r\n            } else {\r\n                ENCODEABLE_REST.add(ch);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static boolean isEncodeable(String javaString) {\r\n        final int length = javaString.length();\r\n        for (int i = 0; i &lt; length; ++i) {\r\n            char ch = javaString.charAt(i);\r\n            if (ch &lt;= 253) {\r\n                if (!ENCODEABLE_BY_ORD_UP_TO_253[ch]) {\r\n                    return false;\r\n                }\r\n            } else {\r\n                if (!ENCODEABLE_REST.contains(ch)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    }","title":"Checking if string is Encodeable In Gsm0338","body":"<p>Here is a version of mine. It's 20 times faster on 16 char strings than the nested loop, also faster than regexp, <code>HashSet</code> and <code>tableswitch</code> (by some reason).</p>\n\n<pre><code>public class Gsm0338 {\n\nprivate static final char[] BASIC_CHARS = {\n        // Basic Character Set\n        '@', '£', '$', '¥', 'è', 'é', 'ù', 'ì', 'ò', 'Ç', '\\n', 'Ø', 'ø', '\\r', 'Å', 'å',\n        'Δ', '_', 'Φ', 'Γ', 'Λ', 'Ω', 'Π', 'Ψ', 'Σ', 'Θ', 'Ξ', 'Æ', 'æ', 'ß', 'É',\n        ' ', '!', '\"', '#', '¤', '%', '&amp;', '\\'', '(', ')', '*', '+', ',', '-', '.', '/',\n        '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '&lt;', '=', '&gt;', '?',\n        '¡', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',\n        'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'Ä', 'Ö', 'Ñ', 'Ü', '§',\n        '¿', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o',\n        'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'ä', 'ö', 'ñ', 'ü', 'à',\n        // Basic Character Set Extension\n        '\\f', '^', '{', '}', '\\\\', '[', '~', ']', '|', '€'\n};\n\nprivate static boolean[] ENCODEABLE_BY_ORD_UP_TO_253 = new boolean[254];\nprivate static Set&lt;Character&gt; ENCODEABLE_REST = new HashSet&lt;&gt;();\nstatic {\n    for (int i = 0; i &lt; BASIC_CHARS.length; i++) {\n        char ch = BASIC_CHARS[i];\n        if (ch &lt;= 253) {\n            ENCODEABLE_BY_ORD_UP_TO_253[ch] = true;\n        } else {\n            ENCODEABLE_REST.add(ch);\n        }\n    }\n}\n\npublic static boolean isEncodeable(String javaString) {\n    final int length = javaString.length();\n    for (int i = 0; i &lt; length; ++i) {\n        char ch = javaString.charAt(i);\n        if (ch &lt;= 253) {\n            if (!ENCODEABLE_BY_ORD_UP_TO_253[ch]) {\n                return false;\n            }\n        } else {\n            if (!ENCODEABLE_REST.contains(ch)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26420896,"reputation":1,"user_id":20068593,"display_name":"TWOTM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690122747,"creation_date":1690122615,"answer_id":76748770,"question_id":45542310,"body_markdown":"For PHP, here is a function that checks if a string is GSM0338 encodable:\r\n\r\n\r\n    function IsGSM0338Encodable($sText)   \r\n    {    \r\n    $pcgsm0338_chars = &#39;@&#39;.&#39;&#163;&#39;.&#39;$&#39;.&#39;&#165;&#39;.&#39;&#232;&#39;.&#39;&#233;&#39;.&#39;&#249;&#39;.&#39;&#236;&#39;.&#39;&#242;&#39;.&#39;&#199;&#39;.&#39;\\n&#39;.&#39;&#216;&#39;.&#39;&#248;&#39;.&#39;\\r&#39;.&#39;&#197;&#39;.&#39;&#229;&#39;.&#39;Δ&#39;.&#39;_&#39;.&#39;Φ&#39;.&#39;Γ&#39;.&#39;Λ&#39;.&#39;Ω&#39;.&#39;Π&#39;.&#39;Ψ&#39;.&#39;Σ&#39;.&#39;Θ&#39;.&#39;Ξ&#39;.&#39;&#198;&#39;.&#39;&#230;&#39;.&#39;&#223;&#39;.&#39;&#201;&#39;.&#39; &#39;.&#39;!&#39;.&#39;&quot;&#39;.&#39;#&#39;.&#39;&#164;&#39;.&#39;%&#39;.&#39;&amp;&#39;.&#39;\\&#39;&#39;.&#39;(&#39;.&#39;)&#39;.&#39;*&#39;.&#39;+&#39;.&#39;,&#39;.&#39;-&#39;.&#39;.&#39;.&#39;/&#39;.&#39;0&#39;.&#39;1&#39;.&#39;2&#39;.&#39;3&#39;.&#39;4&#39;.&#39;5&#39;.&#39;6&#39;.&#39;7&#39;.&#39;8&#39;.&#39;9&#39;.&#39;:&#39;.&#39;;&#39;.&#39;&lt;&#39;.&#39;=&#39;.&#39;&gt;&#39;.&#39;?&#39;.&#39;&#161;&#39;.&#39;A&#39;.&#39;B&#39;.&#39;C&#39;.&#39;D&#39;.&#39;E&#39;.&#39;F&#39;.&#39;G&#39;.&#39;H&#39;.&#39;I&#39;.&#39;J&#39;.&#39;K&#39;.&#39;L&#39;.&#39;M&#39;.&#39;N&#39;.&#39;O&#39;.&#39;P&#39;.&#39;Q&#39;.&#39;R&#39;.&#39;S&#39;.&#39;T&#39;.&#39;U&#39;.&#39;V&#39;.&#39;W&#39;.&#39;X&#39;.&#39;Y&#39;.&#39;Z&#39;.&#39;&#196;&#39;.&#39;&#214;&#39;.&#39;&#209;&#39;.&#39;&#220;&#39;.&#39;&#167;&#39;.&#39;&#191;&#39;.&#39;a&#39;.&#39;b&#39;.&#39;c&#39;.&#39;d&#39;.&#39;e&#39;.&#39;f&#39;.&#39;g&#39;.&#39;h&#39;.&#39;i&#39;.&#39;j&#39;.&#39;k&#39;.&#39;l&#39;.&#39;m&#39;.&#39;n&#39;.&#39;o&#39;.&#39;p&#39;.&#39;q&#39;.&#39;r&#39;.&#39;s&#39;.&#39;t&#39;.&#39;u&#39;.&#39;v&#39;.&#39;w&#39;.&#39;x&#39;.&#39;y&#39;.&#39;z&#39;.&#39;&#228;&#39;.&#39;&#246;&#39;.&#39;&#241;&#39;.&#39;&#252;&#39;.&#39;&#224;&#39;.&#39;\\f&#39;.&#39;^&#39;.&#39;{&#39;.&#39;}&#39;.&#39;\\\\&#39;.&#39;[&#39;.&#39;~&#39;.&#39;]&#39;.&#39;|&#39;.&#39;€&#39;;\r\n    \t\r\n    \t$sText = iconv(mb_detect_encoding($sText, mb_detect_order(), true), &quot;UTF-8&quot;, $sText);\r\n    \r\n    \tfor($i = 0, $unChars = strlen($pcgsm0338_chars); $i &lt; strlen($sText); $i++)\r\n    \t\t{\r\n    \t\t$c = $sText[$i];\r\n    \r\n    \t\tfor($j = 0; $j &lt; $unChars &amp;&amp; $pcgsm0338_chars[$j] != $c; $j++);\r\n    \t\t\t\r\n    \t\tif ($j &gt;= $unChars)\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \treturn true;\r\n    }","title":"Checking if string is Encodeable In Gsm0338","body":"<p>For PHP, here is a function that checks if a string is GSM0338 encodable:</p>\n<pre><code>function IsGSM0338Encodable($sText)   \n{    \n$pcgsm0338_chars = '@'.'£'.'$'.'¥'.'è'.'é'.'ù'.'ì'.'ò'.'Ç'.'\\n'.'Ø'.'ø'.'\\r'.'Å'.'å'.'Δ'.'_'.'Φ'.'Γ'.'Λ'.'Ω'.'Π'.'Ψ'.'Σ'.'Θ'.'Ξ'.'Æ'.'æ'.'ß'.'É'.' '.'!'.'&quot;'.'#'.'¤'.'%'.'&amp;'.'\\''.'('.')'.'*'.'+'.','.'-'.'.'.'/'.'0'.'1'.'2'.'3'.'4'.'5'.'6'.'7'.'8'.'9'.':'.';'.'&lt;'.'='.'&gt;'.'?'.'¡'.'A'.'B'.'C'.'D'.'E'.'F'.'G'.'H'.'I'.'J'.'K'.'L'.'M'.'N'.'O'.'P'.'Q'.'R'.'S'.'T'.'U'.'V'.'W'.'X'.'Y'.'Z'.'Ä'.'Ö'.'Ñ'.'Ü'.'§'.'¿'.'a'.'b'.'c'.'d'.'e'.'f'.'g'.'h'.'i'.'j'.'k'.'l'.'m'.'n'.'o'.'p'.'q'.'r'.'s'.'t'.'u'.'v'.'w'.'x'.'y'.'z'.'ä'.'ö'.'ñ'.'ü'.'à'.'\\f'.'^'.'{'.'}'.'\\\\'.'['.'~'.']'.'|'.'€';\n    \n    $sText = iconv(mb_detect_encoding($sText, mb_detect_order(), true), &quot;UTF-8&quot;, $sText);\n\n    for($i = 0, $unChars = strlen($pcgsm0338_chars); $i &lt; strlen($sText); $i++)\n        {\n        $c = $sText[$i];\n\n        for($j = 0; $j &lt; $unChars &amp;&amp; $pcgsm0338_chars[$j] != $c; $j++);\n            \n        if ($j &gt;= $unChars)\n            return false;\n        }\n        \n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":3211455,"reputation":1907,"user_id":2711378,"accept_rate":94,"display_name":"Amanuel Nega"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45576461,"answer_count":3,"score":3,"last_activity_date":1690460874,"creation_date":1502093838,"question_id":45542310,"body_markdown":"I am working on an SMS application and I send out Unicode characters (Amharic/G&#39;eez). I am using [this example][1]. The method on line [240][2], `isEncodeableInGsm0338()`, is used to check if I should use another encoding or the default encoding.\r\n\r\nHere is the code\r\n\r\n     public static boolean isEncodeableInGsm0338(String isoString) {\r\n        byte[] isoBytes = isoString.getBytes();\r\n        outer:\r\n        for (int i = 0; i &lt; isoBytes.length; i++) {\r\n            for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\r\n                if (isoGsm0338Array[j] == isoBytes[i]) {\r\n                    continue outer;\r\n                }\r\n            }\r\n            for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\r\n                if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\r\n                    continue outer;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nHere is the catch. The string `&quot;የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;`, which is clearly Unicode, is returning from that method. My hypothesis being half of each letter.  But I can&#39;t support that theory.  If I change the text to `&quot;1. የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;`, it detects correctly. \r\n\r\nWhat is happening here? \r\n\r\n  [1]: https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java\r\n  [2]: https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240","title":"Checking if string is Encodeable In Gsm0338","body":"<p>I am working on an SMS application and I send out Unicode characters (Amharic/G'eez). I am using <a href=\"https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java\" rel=\"nofollow noreferrer\">this example</a>. The method on line <a href=\"https://github.com/opentelecoms-org/jsmpp/blob/master/jsmpp-examples/src/main/java/org/jsmpp/examples/SubmitMultipartMultilangualExample.java#L240\" rel=\"nofollow noreferrer\">240</a>, <code>isEncodeableInGsm0338()</code>, is used to check if I should use another encoding or the default encoding.</p>\n<p>Here is the code</p>\n<pre><code> public static boolean isEncodeableInGsm0338(String isoString) {\n    byte[] isoBytes = isoString.getBytes();\n    outer:\n    for (int i = 0; i &lt; isoBytes.length; i++) {\n        for (int j = 0; j &lt; isoGsm0338Array.length; j++) {\n            if (isoGsm0338Array[j] == isoBytes[i]) {\n                continue outer;\n            }\n        }\n        for (int j = 0; j &lt; extendedIsoGsm0338Array.length; j++) {\n            if (extendedIsoGsm0338Array[j][1] == isoBytes[i]) {\n                continue outer;\n            }\n        }\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>Here is the catch. The string <code>&quot;የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;</code>, which is clearly Unicode, is returning from that method. My hypothesis being half of each letter.  But I can't support that theory.  If I change the text to <code>&quot;1. የእንግሊዝ ፕሪምየር ሊግ ነህሴ 6 ይጀምራል።&quot;</code>, it detects correctly.</p>\n<p>What is happening here?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690470418,"post_id":76779459,"comment_id":135361379,"body_markdown":"First of all, dont use JWTs as sessions as it is very insecure, thats why there is no such &quot;filter&quot; in spring security. JWTs are not ment to be used as sessions so please remove that. If you are a beginner at spring security, read the official docs and use the tools provided by the framework. Second, `Any help or insights` whats the reason for not enabling DEBUG logs and reading the reason in the logs?","body":"First of all, dont use JWTs as sessions as it is very insecure, thats why there is no such &quot;filter&quot; in spring security. JWTs are not ment to be used as sessions so please remove that. If you are a beginner at spring security, read the official docs and use the tools provided by the framework. Second, <code>Any help or insights</code> whats the reason for not enabling DEBUG logs and reading the reason in the logs?"},{"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"score":0,"creation_date":1690470552,"post_id":76779459,"comment_id":135361417,"body_markdown":"I&#39;ve dockerized the microservice with pgadmin at container then I need to deploy and test (I can&#39;t access to PostgreSQL container from my IDE don&#39;t know why). What kind of session should I use?","body":"I&#39;ve dockerized the microservice with pgadmin at container then I need to deploy and test (I can&#39;t access to PostgreSQL container from my IDE don&#39;t know why). What kind of session should I use?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1690470943,"post_id":76779459,"comment_id":135361511,"body_markdown":"i suggest you do a lot more research https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens https://dzone.com/articles/stop-using-jwts-as-session-tokens https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/ http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/ there are several choices to use instead, how about using one of them that are actually documented in the spring security official documentation? i suggest you read the docs","body":"i suggest you do a lot more research <a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2017/08/17/&hellip;</a> <a href=\"https://dzone.com/articles/stop-using-jwts-as-session-tokens\" rel=\"nofollow noreferrer\">dzone.com/articles/stop-using-jwts-as-session-tokens</a> <a href=\"https://redis.com/blog/json-web-tokens-jwt-are-dangerous-for-user-sessions/\" rel=\"nofollow noreferrer\">redis.com/blog/&hellip;</a> <a href=\"http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/\" rel=\"nofollow noreferrer\">cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessi&zwnj;&#8203;ons</a> there are several choices to use instead, how about using one of them that are actually documented in the spring security official documentation? i suggest you read the docs"},{"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"score":1,"creation_date":1690471732,"post_id":76779459,"comment_id":135361679,"body_markdown":"Thank you for your help, I&#39;ll try to remake the microservice. :)","body":"Thank you for your help, I&#39;ll try to remake the microservice. :)"}],"owner":{"account_id":13593560,"reputation":442,"user_id":9806268,"display_name":"Joanmi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690460497,"creation_date":1690458747,"question_id":76779459,"body_markdown":"I&#39;m currently facing an issue with my Spring Boot application, and I would appreciate some help in resolving it.\r\n\r\nI have a JwtAuthenticationController class annotated with @RestController, which has two endpoint mappings: /authenticate and /register. The problem is that every time I try to access any endpoint, I&#39;m always redirected to the /authenticate endpoint, even when I try to access /register.\r\n\r\nHere is a simplified version of my JwtAuthenticationController:\r\n\r\n    @RestController\r\n    @CrossOrigin\r\n    public class JwtAuthenticationController {\r\n        // Autowired fields and other methods are here (omitted for brevity).\r\n    \r\n        @PostMapping(value = &quot;/authenticate&quot;)\r\n        public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtRequest authenticationRequest) throws Exception {\r\n            // Authentication logic is here (omitted for brevity).\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/register&quot;)\r\n        public ResponseEntity&lt;?&gt; saveUser(@RequestBody UserRq user) throws Exception {\r\n            // User registration logic is here (omitted for brevity).\r\n        }\r\n    }\r\n\r\nI have verified that both endpoints are correctly mapped with their respective HTTP POST methods. However, whenever I try to access /register, I end up in the /authenticate endpoint.\r\n\r\nI have checked my application&#39;s logs, but there are no error messages or exceptions related to this issue. It seems like the request is not being properly routed to the /register endpoint.\r\n\r\nI&#39;ve tried restarting the application and checking my request URLs to ensure they are correct. I&#39;ve also verified that the UserRq class is correctly defined and that the userDetailsService.save(user) method is functioning properly.\r\n\r\nDoes anyone have an idea of what might be causing this behavior? Any help or insights into resolving this issue would be greatly appreciated.\r\n\r\nFor more information here is my JwtAuthenticationEntryPoint:\r\n\r\n    public class JwtRequestFilter extends OncePerRequestFilter {\r\n    private final JwtTokenUtil jwtTokenUtil;\r\n    private final JwtUserDetailsService jwtUserDetailsService;\r\n\r\n    public JwtRequestFilter(JwtTokenUtil jwtTokenUtil,\r\n                            JwtUserDetailsService jwtUserDetailsService) {\r\n        this.jwtTokenUtil = jwtTokenUtil;\r\n        this.jwtUserDetailsService = jwtUserDetailsService;\r\n    }\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n            throws ServletException, IOException {\r\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String username = null;\r\n        String jwtToken = null;\r\n        // JWT Token is in the form &quot;Bearer token&quot;. Remove Bearer word and get\r\n        // only the Token\r\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n            jwtToken = requestTokenHeader.substring(7);\r\n            try {\r\n                username = jwtTokenUtil.getUsernameFromToken(jwtToken);\r\n            } catch (IllegalArgumentException e) {\r\n                System.out.println(&quot;Unable to get JWT Token&quot;);\r\n            } catch (ExpiredJwtException e) {\r\n                System.out.println(&quot;JWT Token has expired&quot;);\r\n            }\r\n        } else {\r\n            logger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\r\n        }\r\n        // Once we get the token validate it.\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\r\n            // if token is valid configure Spring Security to manually set\r\n            // authentication\r\n            if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken\r\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                // After setting the Authentication in the context, we specify\r\n                // that the current user is authenticated. So it passes the\r\n                // Spring Security Configurations successfully.\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n\r\nHere my SecurityConfiguration:\r\n\r\n  \r\n\r\n      package jb.microservices.login.util;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import org.springframework.security.web.authentication.AnonymousAuthenticationFilter;\r\n    import org.springframework.security.web.authentication.HttpStatusEntryPoint;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.security.web.util.matcher.OrRequestMatcher;\r\n    import org.springframework.security.web.util.matcher.RequestMatcher;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    \r\n        @Autowired\r\n        private UserDetailsService jwtUserDetailsService;\r\n    \r\n        @Autowired\r\n        private JwtRequestFilter jwtRequestFilter;\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            // configure AuthenticationManager so that it knows from where to load\r\n            // user for matching credentials\r\n            // Use BCryptPasswordEncoder\r\n            auth.userDetailsService(jwtUserDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) {\r\n            web.ignoring().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            // We don&#39;t need CSRF for this example\r\n            httpSecurity.csrf().disable()\r\n                    // dont authenticate this particular request\r\n                    .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;).permitAll().\r\n                    // all other requests need to be authenticated\r\n                            anyRequest().authenticated().and().\r\n                    // make sure we use stateless session; session won&#39;t be used to\r\n                    // store user&#39;s state.\r\n                            exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            // Add a filter to validate the tokens with every request\r\n            httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    }\r\n\r\n","title":"All routes redirect to /authenticate endpoint in Spring Boot @RestController","body":"<p>I'm currently facing an issue with my Spring Boot application, and I would appreciate some help in resolving it.</p>\n<p>I have a JwtAuthenticationController class annotated with @RestController, which has two endpoint mappings: /authenticate and /register. The problem is that every time I try to access any endpoint, I'm always redirected to the /authenticate endpoint, even when I try to access /register.</p>\n<p>Here is a simplified version of my JwtAuthenticationController:</p>\n<pre><code>@RestController\n@CrossOrigin\npublic class JwtAuthenticationController {\n    // Autowired fields and other methods are here (omitted for brevity).\n\n    @PostMapping(value = &quot;/authenticate&quot;)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody JwtRequest authenticationRequest) throws Exception {\n        // Authentication logic is here (omitted for brevity).\n    }\n\n    @PostMapping(value = &quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; saveUser(@RequestBody UserRq user) throws Exception {\n        // User registration logic is here (omitted for brevity).\n    }\n}\n</code></pre>\n<p>I have verified that both endpoints are correctly mapped with their respective HTTP POST methods. However, whenever I try to access /register, I end up in the /authenticate endpoint.</p>\n<p>I have checked my application's logs, but there are no error messages or exceptions related to this issue. It seems like the request is not being properly routed to the /register endpoint.</p>\n<p>I've tried restarting the application and checking my request URLs to ensure they are correct. I've also verified that the UserRq class is correctly defined and that the userDetailsService.save(user) method is functioning properly.</p>\n<p>Does anyone have an idea of what might be causing this behavior? Any help or insights into resolving this issue would be greatly appreciated.</p>\n<p>For more information here is my JwtAuthenticationEntryPoint:</p>\n<pre><code>public class JwtRequestFilter extends OncePerRequestFilter {\nprivate final JwtTokenUtil jwtTokenUtil;\nprivate final JwtUserDetailsService jwtUserDetailsService;\n\npublic JwtRequestFilter(JwtTokenUtil jwtTokenUtil,\n                        JwtUserDetailsService jwtUserDetailsService) {\n    this.jwtTokenUtil = jwtTokenUtil;\n    this.jwtUserDetailsService = jwtUserDetailsService;\n}\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n        throws ServletException, IOException {\n    final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n    String username = null;\n    String jwtToken = null;\n    // JWT Token is in the form &quot;Bearer token&quot;. Remove Bearer word and get\n    // only the Token\n    if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n        jwtToken = requestTokenHeader.substring(7);\n        try {\n            username = jwtTokenUtil.getUsernameFromToken(jwtToken);\n        } catch (IllegalArgumentException e) {\n            System.out.println(&quot;Unable to get JWT Token&quot;);\n        } catch (ExpiredJwtException e) {\n            System.out.println(&quot;JWT Token has expired&quot;);\n        }\n    } else {\n        logger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\n    }\n    // Once we get the token validate it.\n    if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n        UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\n        // if token is valid configure Spring Security to manually set\n        // authentication\n        if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\n            UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.getAuthorities());\n            usernamePasswordAuthenticationToken\n                    .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            // After setting the Authentication in the context, we specify\n            // that the current user is authenticated. So it passes the\n            // Spring Security Configurations successfully.\n            SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n        }\n    }\n    chain.doFilter(request, response);\n}\n</code></pre>\n<p>}</p>\n<p>Here my SecurityConfiguration:</p>\n<pre><code>  package jb.microservices.login.util;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.security.web.authentication.AnonymousAuthenticationFilter;\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.security.web.util.matcher.OrRequestMatcher;\nimport org.springframework.security.web.util.matcher.RequestMatcher;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private UserDetailsService jwtUserDetailsService;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        // configure AuthenticationManager so that it knows from where to load\n        // user for matching credentials\n        // Use BCryptPasswordEncoder\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        // We don't need CSRF for this example\n        httpSecurity.csrf().disable()\n                // dont authenticate this particular request\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/register&quot;).permitAll().\n                // all other requests need to be authenticated\n                        anyRequest().authenticated().and().\n                // make sure we use stateless session; session won't be used to\n                // store user's state.\n                        exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Add a filter to validate the tokens with every request\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","while-loop","try-catch","infinite-loop"],"comments":[{"owner":{"account_id":10843443,"reputation":109,"user_id":20882864,"display_name":"Marce Puente"},"score":0,"creation_date":1690467328,"post_id":76779665,"comment_id":135360591,"body_markdown":"Hello Anubhav Jan , you can put **sc.nextLine();** inside **catch**, the buffer is empty, and the developer is happy!!.","body":"Hello Anubhav Jan , you can put <b>sc.nextLine();</b> inside <b>catch</b>, the buffer is empty, and the developer is happy!!."},{"owner":{"account_id":28357761,"reputation":17,"user_id":21688238,"display_name":"Anubhav Jain"},"score":0,"creation_date":1690823484,"post_id":76779665,"comment_id":135403571,"body_markdown":"@MarcePuente Please explain this as I am really new to this.","body":"@MarcePuente Please explain this as I am really new to this."},{"owner":{"account_id":10843443,"reputation":109,"user_id":20882864,"display_name":"Marce Puente"},"score":0,"creation_date":1690826966,"post_id":76779665,"comment_id":135404146,"body_markdown":"When there is a failure in the operation, it is necessary to empty the buffer, so that **Scanner** works well.","body":"When there is a failure in the operation, it is necessary to empty the buffer, so that <b>Scanner</b> works well."},{"owner":{"account_id":28357761,"reputation":17,"user_id":21688238,"display_name":"Anubhav Jain"},"score":0,"creation_date":1690829269,"post_id":76779665,"comment_id":135404653,"body_markdown":"@MarcePuente Ok so, sc.next() will clear the buffer when it is encountered in the catch block. Thank you much. Is there any way we could be connected like social media or email so I could bring my doubts directly to you.","body":"@MarcePuente Ok so, sc.next() will clear the buffer when it is encountered in the catch block. Thank you much. Is there any way we could be connected like social media or email so I could bring my doubts directly to you."}],"owner":{"account_id":28357761,"reputation":17,"user_id":21688238,"display_name":"Anubhav Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690460563,"answer_count":0,"score":0,"last_activity_date":1690460294,"creation_date":1690460294,"question_id":76779665,"body_markdown":"I am trying to make a rock, paper, scissors game, for which I need an input from the user as his choice. Now, I also want to check whether the given input is an integer or not.     \r\n\r\nTo achieve this, I used a try-catch block inside a while loop so that the loop runs until I get the desired input.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        int number;\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Enter a number : &quot;);\r\n            try {\r\n                number = sc.nextInt();\r\n                break;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Invalid Input&quot;);\r\n            }\r\n        }\r\n\r\n        System.out.println(number);\r\n    }\r\n}\r\n```\r\n\r\nNow, the issue is that if the input given is wrong then it enters the catch block but after this the infinite loop is running without taking any input:\r\n\r\nOutput where wrong input is given:(https://i.stack.imgur.com/WAgIY.png)\r\n\r\nI tried replacing the while loop with a do-while loop but the situation is unchanged.\r\n\r\nNow, I want to know why am I encountering such a behavior.","title":"Why isn&#39;t the try-catch block working with the while loop?","body":"<p>I am trying to make a rock, paper, scissors game, for which I need an input from the user as his choice. Now, I also want to check whether the given input is an integer or not.</p>\n<p>To achieve this, I used a try-catch block inside a while loop so that the loop runs until I get the desired input.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        int number;\n\n        while (true) {\n            System.out.print(&quot;Enter a number : &quot;);\n            try {\n                number = sc.nextInt();\n                break;\n            } catch (Exception e) {\n                System.out.println(&quot;Invalid Input&quot;);\n            }\n        }\n\n        System.out.println(number);\n    }\n}\n</code></pre>\n<p>Now, the issue is that if the input given is wrong then it enters the catch block but after this the infinite loop is running without taking any input:</p>\n<p>Output where wrong input is given:(<a href=\"https://i.stack.imgur.com/WAgIY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/WAgIY.png</a>)</p>\n<p>I tried replacing the while loop with a do-while loop but the situation is unchanged.</p>\n<p>Now, I want to know why am I encountering such a behavior.</p>\n"},{"tags":["java","switch-statement","refactoring","sonarlint","cognitive-complexity"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1683566337,"post_id":76202806,"comment_id":134382901,"body_markdown":"Why are you using `T` if you&#39;re always expecting String? And why use `compare` instead of `equals`?","body":"Why are you using <code>T</code> if you&#39;re always expecting String? And why use <code>compare</code> instead of <code>equals</code>?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1683566765,"post_id":76202806,"comment_id":134383018,"body_markdown":"Adding more cases doesn&#39;t add **cognitive** complexity, really; it&#39;s just busy work--&quot;I have this string, let&#39;s find it&quot;. The code essentially maps a string to a function taking the lookup and actual value, and whatever &quot;lookup values&quot; are. Quickest approach is to extract that interface and build the map.","body":"Adding more cases doesn&#39;t add <b>cognitive</b> complexity, really; it&#39;s just busy work--&quot;I have this string, let&#39;s find it&quot;. The code essentially maps a string to a function taking the lookup and actual value, and whatever &quot;lookup values&quot; are. Quickest approach is to extract that interface and build the map."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":1,"creation_date":1683566770,"post_id":76202806,"comment_id":134383019,"body_markdown":"You could use an `enum` instead (values: EQUALS, NOT_EQUALS, etc), in the enum create an abstract compare(...) method with an implementation for each value, then in your snippet replace switch with `enumInstance = YOURENUM.valueOf(comparisonCondition); return enumInstance.compare(...)`","body":"You could use an <code>enum</code> instead (values: EQUALS, NOT_EQUALS, etc), in the enum create an abstract compare(...) method with an implementation for each value, then in your snippet replace switch with <code>enumInstance = YOURENUM.valueOf(comparisonCondition); return enumInstance.compare(...)</code>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683566887,"post_id":76202806,"comment_id":134383049,"body_markdown":"GIves us an example of the future requirements so we can understand them.","body":"GIves us an example of the future requirements so we can understand them."}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683617689,"creation_date":1683617689,"answer_id":76206882,"question_id":76202806,"body_markdown":"what do you think about defining a map with all these predicates and the keys? Additionally, you can try extracting the common comparisons that keep repeating. Here is a possible solution, but you might need to twitch a few things:\r\n\r\n```java\r\nprivate static final Map&lt;String, TriPredicate&lt;T&gt;&gt; comparators = Map.of(\r\n\t\t&quot;EQUALS&quot;, (lookup, actual, __) -&gt; lookup instanceof String &amp;&amp; actual instanceof String ? compareStrings(lookup, actual) : lookup.compareTo(actual) == 0,\r\n\t\t&quot;NOT_EQUALS&quot;, (lookup, actual, __) -&gt; lookup.compareTo(actual) != 0,\r\n\t\t&quot;LIKE&quot;, (lookup, actual, __) -&gt; containsIgnoreCase(lookup, actual),\r\n\t\t&quot;NOT_LIKE&quot;, (lookup, actual, __) -&gt; !containsIgnoreCase(lookup, actual),\r\n\t\t&quot;IN&quot;, (__, actual, lookup) -&gt; listContains(actual, lookup),\r\n\t\t&quot;NOT_IN&quot;, (__, actual, lookup) -&gt; !listContains(actual, lookup)\r\n);\r\n\r\nprotected static &lt;T extends Comparable&lt;T&gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt;T&gt; lookupValues) {\r\n\tif (LOGGER.isDebugEnabled()) {\r\n\t\tLOGGER.debug(&quot;Comparing value &#39;{}&#39; with &#39;{}&#39; using comparison condition &#39;{}&#39;.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\r\n\t}\r\n\treturn comparators.getOrDefault(comparisonCondition.toUpperCase(), (a, b, c) -&gt; false)\r\n\t\t\t.test(lookupValue, actualValue, lookupValues);\r\n}\r\n\r\nprivate &lt;T extends Comparable&gt; boolean listContains(T actual, List&lt;T&gt; lookup) {\r\n\treturn lookup.stream().anyMatch(val -&gt; val instanceof String ? compareStrings(val, actual) : val.compareTo(actual) == 0);\r\n}\r\n\r\nprivate boolean containsIgnoreCase(Object actual, Object lookup) {\r\n\treturn StringUtils.containsIgnoreCase(String.valueOf(actual), String.valueOf(lookup));\r\n}\r\n\r\nprivate boolean compareStrings(Object lookup, Object actual) {\r\n\treturn (String.valueOf(lookup).trim()).equalsIgnoreCase(String.valueOf(actual).trim());\r\n}\r\n\r\n\r\n@FunctionalInterface\r\ninterface TriPredicate&lt;X&gt; {\r\n    boolean test(X lookup, X actual, List&lt;X&gt; lookupValues);\r\n}\r\n\r\n```","title":"Refactoring a method having multiple switch case statements &amp; generics","body":"<p>what do you think about defining a map with all these predicates and the keys? Additionally, you can try extracting the common comparisons that keep repeating. Here is a possible solution, but you might need to twitch a few things:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;String, TriPredicate&lt;T&gt;&gt; comparators = Map.of(\n        &quot;EQUALS&quot;, (lookup, actual, __) -&gt; lookup instanceof String &amp;&amp; actual instanceof String ? compareStrings(lookup, actual) : lookup.compareTo(actual) == 0,\n        &quot;NOT_EQUALS&quot;, (lookup, actual, __) -&gt; lookup.compareTo(actual) != 0,\n        &quot;LIKE&quot;, (lookup, actual, __) -&gt; containsIgnoreCase(lookup, actual),\n        &quot;NOT_LIKE&quot;, (lookup, actual, __) -&gt; !containsIgnoreCase(lookup, actual),\n        &quot;IN&quot;, (__, actual, lookup) -&gt; listContains(actual, lookup),\n        &quot;NOT_IN&quot;, (__, actual, lookup) -&gt; !listContains(actual, lookup)\n);\n\nprotected static &lt;T extends Comparable&lt;T&gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt;T&gt; lookupValues) {\n    if (LOGGER.isDebugEnabled()) {\n        LOGGER.debug(&quot;Comparing value '{}' with '{}' using comparison condition '{}'.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\n    }\n    return comparators.getOrDefault(comparisonCondition.toUpperCase(), (a, b, c) -&gt; false)\n            .test(lookupValue, actualValue, lookupValues);\n}\n\nprivate &lt;T extends Comparable&gt; boolean listContains(T actual, List&lt;T&gt; lookup) {\n    return lookup.stream().anyMatch(val -&gt; val instanceof String ? compareStrings(val, actual) : val.compareTo(actual) == 0);\n}\n\nprivate boolean containsIgnoreCase(Object actual, Object lookup) {\n    return StringUtils.containsIgnoreCase(String.valueOf(actual), String.valueOf(lookup));\n}\n\nprivate boolean compareStrings(Object lookup, Object actual) {\n    return (String.valueOf(lookup).trim()).equalsIgnoreCase(String.valueOf(actual).trim());\n}\n\n\n@FunctionalInterface\ninterface TriPredicate&lt;X&gt; {\n    boolean test(X lookup, X actual, List&lt;X&gt; lookupValues);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690459437,"creation_date":1690459104,"answer_id":76779507,"question_id":76202806,"body_markdown":"A very similar example from book [Effective Java](https://www.academia.edu/42036400/Effective_Java_by_Joshua_Bloch)\r\nand after adding generics would work\r\n```\r\ninterface Operation {\r\n    public &lt;lookup,actual&gt; boolean validate(lookup lookupValue, actual actualValue);\r\n}\r\n enum BasicOperationn implements Operation{\r\n    EQUALS{\r\n        @Override\r\n        public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\r\n          return lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) :((String) lookupValue).compareTo(((String) actualValue)) == 0;        }\r\n    },\r\n     LIKE {\r\n         @Override\r\n         public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\r\n           return   StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\r\n         }\r\n     };\r\n     ...\r\n\r\n}\r\n```\r\n\r\nEdited: Adding client code\r\n```\r\nclass ClientClass{\r\n    protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt; T &gt; lookupValues) {\r\n        comparisonCondition = comparisonCondition.toUpperCase();\r\n        BasicOperationn operation = BasicOperationn.valueOf(comparisonCondition);\r\n        boolean result = operation.validate(lookupValue, actualValue);\r\n        return result;\r\n    }\r\n}\r\n```","title":"Refactoring a method having multiple switch case statements &amp; generics","body":"<p>A very similar example from book <a href=\"https://www.academia.edu/42036400/Effective_Java_by_Joshua_Bloch\" rel=\"nofollow noreferrer\">Effective Java</a>\nand after adding generics would work</p>\n<pre><code>interface Operation {\n    public &lt;lookup,actual&gt; boolean validate(lookup lookupValue, actual actualValue);\n}\n enum BasicOperationn implements Operation{\n    EQUALS{\n        @Override\n        public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\n          return lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) :((String) lookupValue).compareTo(((String) actualValue)) == 0;        }\n    },\n     LIKE {\n         @Override\n         public &lt;lookup, actual&gt; boolean validate(lookup lookupValue, actual actualValue) {\n           return   StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\n         }\n     };\n     ...\n\n}\n</code></pre>\n<p>Edited: Adding client code</p>\n<pre><code>class ClientClass{\n    protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List&lt; T &gt; lookupValues) {\n        comparisonCondition = comparisonCondition.toUpperCase();\n        BasicOperationn operation = BasicOperationn.valueOf(comparisonCondition);\n        boolean result = operation.validate(lookupValue, actualValue);\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690459437,"creation_date":1683565922,"question_id":76202806,"body_markdown":"I have an existing project based on Java in which an existing utility method is present which gets some values as an input and provides result as a boolean value.\r\n\r\nI need to refactor this method since there is an upcoming requirement which will cause a greater number of switch cases to be introduced in this method.\r\n\r\nI tried other possible solutions shown on other Stack Overflow questions, but those solutions were not applicable for the use case I have here.\r\n\r\nThe code snippet is mentioned below.\r\n\r\n    protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List &lt; T &gt; lookupValues) {\r\n        comparisonCondition = comparisonCondition.toUpperCase();\r\n        boolean result;\r\n        switch (comparisonCondition) {\r\n            case EQUALS:\r\n                result = lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) : lookupValue.compareTo(actualValue) == 0;\r\n                break;\r\n            case NOT_EQUALS:\r\n                result = lookupValue.compareTo(actualValue) != 0;\r\n                break;\r\n            case LIKE:\r\n                result = StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\r\n                break;\r\n            case NOT_LIKE:\r\n                result = !StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\r\n                break;\r\n            case IN:\r\n                result = lookupValues.stream().anyMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\r\n                break;\r\n            case NOT_IN:\r\n                result = lookupValues.stream().noneMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\r\n                break;\r\n            default:\r\n                if (LOGGER.isDebugEnabled()) {\r\n                    LOGGER.debug(MSG_FORMAT_INVALID_COMPARISON_CONDITION, comparisonCondition);\r\n                }\r\n                result = false;\r\n        }\r\n        if (LOGGER.isDebugEnabled()) {\r\n            LOGGER.debug(&quot;Comparing value &#39;{}&#39; with &#39;{}&#39; using comparison condition &#39;{}&#39;.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\r\n        }\r\n        return result;\r\n    }\r\n\r\nCan you please suggest some solution by which this code of the method can be refactored, so that it is scalable for any future requirements and also, the cognitive complexity will not increase as we include more comparisonConditions / cases in it?\r\n\r\nFor your information: I am using SonarLint plugin to analyze the cognitive complexity of the code.","title":"Refactoring a method having multiple switch case statements &amp; generics","body":"<p>I have an existing project based on Java in which an existing utility method is present which gets some values as an input and provides result as a boolean value.</p>\n<p>I need to refactor this method since there is an upcoming requirement which will cause a greater number of switch cases to be introduced in this method.</p>\n<p>I tried other possible solutions shown on other Stack Overflow questions, but those solutions were not applicable for the use case I have here.</p>\n<p>The code snippet is mentioned below.</p>\n<pre><code>protected static &lt; T extends Comparable &lt; T &gt;&gt; boolean compareValues(T lookupValue, T actualValue, String comparisonCondition, List &lt; T &gt; lookupValues) {\n    comparisonCondition = comparisonCondition.toUpperCase();\n    boolean result;\n    switch (comparisonCondition) {\n        case EQUALS:\n            result = lookupValue instanceof String &amp;&amp; actualValue instanceof String ? (String.valueOf(lookupValue).trim()).equalsIgnoreCase(String.valueOf(actualValue).trim()) : lookupValue.compareTo(actualValue) == 0;\n            break;\n        case NOT_EQUALS:\n            result = lookupValue.compareTo(actualValue) != 0;\n            break;\n        case LIKE:\n            result = StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\n            break;\n        case NOT_LIKE:\n            result = !StringUtils.containsIgnoreCase(String.valueOf(actualValue), String.valueOf(lookupValue));\n            break;\n        case IN:\n            result = lookupValues.stream().anyMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\n            break;\n        case NOT_IN:\n            result = lookupValues.stream().noneMatch(lkpValue - &gt; lkpValue instanceof String ? ((String) lkpValue).trim().compareToIgnoreCase(String.valueOf(actualValue).trim()) == 0 : lkpValue.compareTo(actualValue) == 0);\n            break;\n        default:\n            if (LOGGER.isDebugEnabled()) {\n                LOGGER.debug(MSG_FORMAT_INVALID_COMPARISON_CONDITION, comparisonCondition);\n            }\n            result = false;\n    }\n    if (LOGGER.isDebugEnabled()) {\n        LOGGER.debug(&quot;Comparing value '{}' with '{}' using comparison condition '{}'.{}Result: {}&quot;, actualValue, Objects.nonNull(lookupValue) ? lookupValue : lookupValues.stream().map(Object::toString).collect(Collectors.joining(WhlProcessingConstants.SPLIT_COMMA)), comparisonCondition, LINE_SEPARATOR, result);\n    }\n    return result;\n}\n</code></pre>\n<p>Can you please suggest some solution by which this code of the method can be refactored, so that it is scalable for any future requirements and also, the cognitive complexity will not increase as we include more comparisonConditions / cases in it?</p>\n<p>For your information: I am using SonarLint plugin to analyze the cognitive complexity of the code.</p>\n"},{"tags":["java","jvm","jdi"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692709198,"post_id":76779397,"comment_id":135658740,"body_markdown":"Assuming that `Modifier` refers to `java.lang.reflect.Modifier` you shouldn’t use `Modifier.toString(field.modifiers())` but `Modifier.toString(field.modifiers() &amp; Modifier.fieldModifiers())` But this doesn’t answer why this bit is set…","body":"Assuming that <code>Modifier</code> refers to <code>java.lang.reflect.Modifier</code> you shouldn’t use <code>Modifier.toString(field.modifiers())</code> but <code>Modifier.toString(field.modifiers() &amp; Modifier.fieldModifiers())</code> But this doesn’t answer why this bit is set…"}],"owner":{"account_id":29102687,"reputation":11,"user_id":22294186,"display_name":"DrChristoph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690458288,"creation_date":1690458288,"question_id":76779397,"body_markdown":"I am currently working with the JDI first time and examining the field modifiers of the local variables in a stack frame gave me interesting results. (Using JDK 17.0.6)\r\n\r\nHere is the simplified code I use to acquire said modifier bits:\r\n\r\n\r\n```\r\nStackFrame stackFrame = thread.frame(0);\r\nMap&lt;LocalVariable, Value&gt; visibleVariables = stackFrame.getValues(stackFrame.visibleVariables());\r\n\r\nfor (Map.Entry&lt;LocalVariable, Value&gt; entry : visibleVariables.entrySet()) {\r\n  ReferenceType type = ((ObjectReference) entry.getValue()).referenceType();\r\n  for (Field field : type.fields()) {\r\n    System.out.println(Modifier.toString(field.modifiers()) + &quot;(&quot; + field.modifiers() + &quot;) &quot;);\r\n  }\r\n}\r\n```\r\n\r\nInterestingly this results in following ouput:\r\n\r\n\r\n```\r\nFields:\r\n  private strictfp(2050) thesis.debuggee.HashMap$HashMapEntry[] map\r\n  private(2) int size\r\n  private(2) float maxLoadFactor\r\n```\r\n\r\nThe class I am examining here is my own HashMap implementation I did as an assignment. For some reason as one can see the 12th bit is set for the private member &quot;map&quot; of type HashMapEntry[].\r\n\r\n\r\nIf one wants to observe this themselves just use a standard String object and look at its CASE_INSENSITIVE_ORDER public static final field as this also has the 12th bit set...\r\n\r\n\r\nI looked into the JVM Specification and for field access and property flags the 12th bit is not used and defined as reserved for future use. The 12th bit is only used in method access and property flags for the &quot;strictfp&quot; flag (ACC_STRICT) which was removed in Java 17.\r\n\r\nI tried to find out where this flag then comes from looking through the openjdk repo and other resources online but I couldn&#39;t find the reason on why for some fields the 12th bit is set. I would really appreciate if someone could at least point me into the right direction as I am very curious where this comes from and what purpose it serves. \r\n\r\nI also looked at the byte code of my class, there the modifier flag is still 0x0002 as it should be (denoting private)\r\n\r\n\r\n```\r\nprivate thesis.debuggee.HashMap$HashMapEntry&lt;K, V&gt;[] map;\r\n    descriptor: [Lthesis/debuggee/HashMap$HashMapEntry;\r\n    flags: (0x0002) ACC_PRIVATE\r\n    Signature: #102                         // [Lthesis/debuggee/HashMap$HashMapEntry&lt;TK;TV;&gt;;\r\n\r\n  private int size;\r\n    descriptor: I\r\n    flags: (0x0002) ACC_PRIVATE\r\n\r\n  private float maxLoadFactor;\r\n    descriptor: F\r\n    flags: (0x0002) ACC_PRIVATE\r\n```","title":"JDI reporting 12th bit set on field modifiers?","body":"<p>I am currently working with the JDI first time and examining the field modifiers of the local variables in a stack frame gave me interesting results. (Using JDK 17.0.6)</p>\n<p>Here is the simplified code I use to acquire said modifier bits:</p>\n<pre><code>StackFrame stackFrame = thread.frame(0);\nMap&lt;LocalVariable, Value&gt; visibleVariables = stackFrame.getValues(stackFrame.visibleVariables());\n\nfor (Map.Entry&lt;LocalVariable, Value&gt; entry : visibleVariables.entrySet()) {\n  ReferenceType type = ((ObjectReference) entry.getValue()).referenceType();\n  for (Field field : type.fields()) {\n    System.out.println(Modifier.toString(field.modifiers()) + &quot;(&quot; + field.modifiers() + &quot;) &quot;);\n  }\n}\n</code></pre>\n<p>Interestingly this results in following ouput:</p>\n<pre><code>Fields:\n  private strictfp(2050) thesis.debuggee.HashMap$HashMapEntry[] map\n  private(2) int size\n  private(2) float maxLoadFactor\n</code></pre>\n<p>The class I am examining here is my own HashMap implementation I did as an assignment. For some reason as one can see the 12th bit is set for the private member &quot;map&quot; of type HashMapEntry[].</p>\n<p>If one wants to observe this themselves just use a standard String object and look at its CASE_INSENSITIVE_ORDER public static final field as this also has the 12th bit set...</p>\n<p>I looked into the JVM Specification and for field access and property flags the 12th bit is not used and defined as reserved for future use. The 12th bit is only used in method access and property flags for the &quot;strictfp&quot; flag (ACC_STRICT) which was removed in Java 17.</p>\n<p>I tried to find out where this flag then comes from looking through the openjdk repo and other resources online but I couldn't find the reason on why for some fields the 12th bit is set. I would really appreciate if someone could at least point me into the right direction as I am very curious where this comes from and what purpose it serves.</p>\n<p>I also looked at the byte code of my class, there the modifier flag is still 0x0002 as it should be (denoting private)</p>\n<pre><code>private thesis.debuggee.HashMap$HashMapEntry&lt;K, V&gt;[] map;\n    descriptor: [Lthesis/debuggee/HashMap$HashMapEntry;\n    flags: (0x0002) ACC_PRIVATE\n    Signature: #102                         // [Lthesis/debuggee/HashMap$HashMapEntry&lt;TK;TV;&gt;;\n\n  private int size;\n    descriptor: I\n    flags: (0x0002) ACC_PRIVATE\n\n  private float maxLoadFactor;\n    descriptor: F\n    flags: (0x0002) ACC_PRIVATE\n</code></pre>\n"},{"tags":["java","excel","ms-word","compiler-errors","compilation"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690458003,"post_id":76779337,"comment_id":135358249,"body_markdown":"You are trying to declare a method in another method. That can&#39;t work. Just look at the lines the error points to and it should be obvious.","body":"You are trying to declare a method in another method. That can&#39;t work. Just look at the lines the error points to and it should be obvious."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1690458349,"post_id":76779337,"comment_id":135358321,"body_markdown":"Note that this question really has nothing to do with Excel or Word. When you encounter a problem, if you can&#39;t solve it after looking really carefully at where the error is, it&#39;s always worth trying to reproduce it in a smaller form. For example, it&#39;s easy to reproduce this error in about 6 lines: https://gist.github.com/jskeet/da3cc71d734ae0358754acde48a33345","body":"Note that this question really has nothing to do with Excel or Word. When you encounter a problem, if you can&#39;t solve it after looking really carefully at where the error is, it&#39;s always worth trying to reproduce it in a smaller form. For example, it&#39;s easy to reproduce this error in about 6 lines: <a href=\"https://gist.github.com/jskeet/da3cc71d734ae0358754acde48a33345\" rel=\"nofollow noreferrer\">gist.github.com/jskeet/da3cc71d734ae0358754acde48a33345</a>"}],"owner":{"account_id":27686991,"reputation":11,"user_id":21134567,"display_name":"kheder47"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690457772,"creation_date":1690457772,"question_id":76779337,"body_markdown":"I&#39;m trying to run a small Java application that performs a mail-merge functionality on Microsoft Word documents using data from CSV/Microsoft Excel files. The goal is to replace markers in the Word document with data from each row in the CSV/XLSX file and create separate DOCX files for each row.\r\n\r\n However, when I try to compile the Java file, I encounter the following error:\r\n```\r\nMailMerge.java:81: error: illegal start of expression\r\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\r\n    ^\r\nMailMerge.java:82: error: illegal start of expressionn\r\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\r\n    ^\r\nMailMerge.java:172: error: illegal start of expression\r\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\r\n    ^\r\n3 error\r\n```\r\n\r\n\r\n\r\nThis is the Java code I&#39;m trying to compile:\r\n```\r\npackage org.dstadler.poi.mailmerge;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.List;\r\nimport java.util.logging.Logger;\r\n\r\nimport com.google.common.base.Preconditions;\r\nimport org.apache.commons.io.FilenameUtils;\r\nimport org.apache.commons.lang3.StringUtils;\r\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\r\nimport org.apache.xmlbeans.XmlException;\r\nimport org.apache.xmlbeans.XmlOptions;\r\nimport org.dstadler.commons.logging.jdk.LoggerFactory;\r\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\r\n/**\r\n * Simple application which performs a &quot;mail-merge&quot; of a Microsoft Word template\r\n * document which contains replacement templates in the form of ${name}, ${first-name}, ...\r\n * and an Microsoft Excel spreadsheet which contains a list of entries that are merged in.\r\n *\r\n * Call this application with parameters &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;\r\n *\r\n * The resulting document has all resulting documents concatenated.\r\n */\r\npublic class MailMerge {\r\n    private static final Logger log = LoggerFactory.make();\r\n    public static void main(String[] args) throws Exception {\r\n        LoggerFactory.initLogging();\r\n        if(args.length != 3) {\r\n            throw new IllegalArgumentException(&quot;Usage: MailMerge &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;&quot;);\r\n        }\r\n        File wordTemplate = new File(args[0]);\r\n        File excelFile = new File(args[1]);\r\n        String outputFile = args[2];\r\n        if(!wordTemplate.exists() || !wordTemplate.isFile()) {\r\n            throw new IllegalArgumentException(&quot;Could not read Microsoft Word template &quot; + wordTemplate);\r\n        }\r\n        if(!excelFile.exists() || !excelFile.isFile()) {\r\n            throw new IllegalArgumentException(&quot;Could not read data file &quot; + excelFile);\r\n        }\r\n        new MailMerge().merge(wordTemplate, excelFile, outputFile);\r\n    }\r\n    private void merge(File wordTemplate, File dataFile, String outputFile) throws Exception {\r\n        log.info(&quot;Merging data from &quot; + wordTemplate + &quot; and &quot; + dataFile + &quot; into &quot; + outputFile);\r\n        // read the data-rows from the CSV or XLS(X) file\r\n        Data data = new Data();\r\n        data.read(dataFile);\r\n\r\n        // now open the word file and apply the changes\r\n        try (InputStream is = new FileInputStream(wordTemplate)) {\r\n            try (XWPFDocument doc = new XWPFDocument(is)) {\r\n                // apply the lines and concatenate the results into the document\r\n                applyLines(data, doc);\r\n        List&lt;String&gt; headers = data.getHeaders();\r\n        for (List&lt;String&gt; dataRow : data.getData()) {\r\n            // now open the word file and apply the changes\r\n            try (InputStream is = new FileInputStream(wordTemplate)) {\r\n                try (XWPFDocument doc = new XWPFDocument(is)) {\r\n\r\n                log.info(&quot;Writing overall result to &quot; + outputFile);\r\n                try (OutputStream out = new FileOutputStream(outputFile)) {\r\n                    doc.write(out);\r\n                    applyLines(headers, dataRow, doc);\r\n\r\n                    String newOutputFileName =\r\n                            FilenameUtils.removeExtension(outputFile) + &quot;_&quot; + dataRow.get(0) + &quot;.docx&quot;;\r\n\r\n                    log.info(&quot;Writing overall result to &quot; + newOutputFileName);\r\n                    try (OutputStream out = new FileOutputStream(newOutputFileName)) {\r\n\r\n                        doc.write(out);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\r\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\r\n\r\n        // small hack to not having to rework the commandline parsing just now\r\n        String includeIndicator = System.getProperty(&quot;org.dstadler.poi.mailmerge.includeindicator&quot;);\r\n\r\n        CTBody body = doc.getDocument().getBody();\r\n        // read the current full Body text\r\n        String srcString = body.xmlText();\r\n\r\n        // apply the replacements line-by-line\r\n        boolean first = true;\r\n        List&lt;String&gt; headers = dataIn.getHeaders();\r\n        for(List&lt;String&gt; data : dataIn.getData()) {\r\n            log.info(&quot;Applying to template: &quot; + data);\r\n\r\n            // if the option is set ignore lines which do not have the indicator set\r\n            if(includeIndicator != null) {\r\n                int indicatorPos = headers.indexOf(includeIndicator);\r\n                Preconditions.checkState(indicatorPos &gt;= 0,\r\n                        &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\r\n                        includeIndicator, headers);\r\n\r\n                if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\r\n                    log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\r\n                    continue;\r\n                }\r\n            }\r\n        log.info(&quot;Applying to template: &quot; + data);\r\n\r\n            String replaced = srcString;\r\n            for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\r\n                String header = headers.get(fieldNr);\r\n                String value = data.get(fieldNr);\r\n        // if the option is set ignore lines which do not have the indicator set\r\n        if(includeIndicator != null) {\r\n            int indicatorPos = headers.indexOf(includeIndicator);\r\n            Preconditions.checkState(indicatorPos &gt;= 0,\r\n                    &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\r\n                    includeIndicator, headers);\r\n\r\n                // ignore columns without headers as we cannot match them\r\n                if(header == null) {\r\n                    continue;\r\n                }\r\n            if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\r\n                log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\r\n            }\r\n        }\r\n\r\n                // use empty string for data-cells that have no value\r\n                if(value == null) {\r\n                    value = &quot;&quot;;\r\n                }\r\n        String replaced = srcString;\r\n        for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\r\n            String header = headers.get(fieldNr);\r\n            String value = data.get(fieldNr);\r\n\r\n                replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value);\r\n            // ignore columns without headers as we cannot match them\r\n            if(header == null) {\r\n                continue;\r\n            }\r\n\r\n            // check for missed replacements or formatting which interferes\r\n            if(replaced.contains(&quot;${&quot;)) {\r\n                log.warning(&quot;Still found template-marker after doing replacement: &quot; +\r\n                        StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\r\n            // use empty string for data-cells that have no value\r\n            if(value == null) {\r\n                value = &quot;&quot;;\r\n            }\r\n\r\n            appendBody(body, replaced, first);\r\n            replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value.toUpperCase());\r\n        }\r\n\r\n            first = false;\r\n        // check for missed replacements or formatting which interferes\r\n        if(replaced.contains(&quot;${&quot;)) {\r\n            log.warning(&quot;Still found template-marker after doing replacement: &quot; +\r\n                    StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\r\n        }\r\n\r\n        appendBody(body, replaced, first);\r\n\r\n        first = false;\r\n\r\n    }\r\n\r\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\r\n        XmlOptions optionsOuter = new XmlOptions();\r\n        optionsOuter.setSaveOuter();\r\n        String srcString = src.xmlText();\r\n        String prefix = srcString.substring(0,srcString.indexOf(&quot;&gt;&quot;)+1);\r\n        final String mainPart;\r\n        // exclude template itself in first appending\r\n        if(first) {\r\n            mainPart = &quot;&quot;;\r\n        } else {\r\n            mainPart = srcString.substring(srcString.indexOf(&quot;&gt;&quot;)+1,srcString.lastIndexOf(&quot;&lt;&quot;));\r\n        }\r\n        String suffix = srcString.substring( srcString.lastIndexOf(&quot;&lt;&quot;) );\r\n        String addPart = append.substring(append.indexOf(&quot;&gt;&quot;) + 1, append.lastIndexOf(&quot;&lt;&quot;));\r\n        CTBody makeBody = CTBody.Factory.parse(prefix+mainPart+addPart+suffix);\r\n        src.set(makeBody);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m not sure what is causing this error, and I would appreciate some help in understanding and resolving it.\r\n\r\nThe Java code I&#39;m trying to compile is the MailMerge.java file, and it includes the following functionalities:\r\n\r\n - Reading data from a CSV or XLSX file.\r\n - Opening a Word template file and applying the data from the CSV/XLSX\r\n   file to replace markers in the template.\r\n - Creating a new DOCX file with the merged data for each row in the\r\n   CSV/XLSX file.\r\n\r\nCould someone please review the code and help me identify the cause of the &quot;Illegal start of expression&quot; error? Any insights or suggestions on how to fix it would be greatly appreciated. Thank you!","title":"Java Mail Merge Application Compilation Error: &quot;Illegal start of expression&quot;","body":"<p>I'm trying to run a small Java application that performs a mail-merge functionality on Microsoft Word documents using data from CSV/Microsoft Excel files. The goal is to replace markers in the Word document with data from each row in the CSV/XLSX file and create separate DOCX files for each row.</p>\n<p>However, when I try to compile the Java file, I encounter the following error:</p>\n<pre><code>MailMerge.java:81: error: illegal start of expression\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\n    ^\nMailMerge.java:82: error: illegal start of expressionn\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\n    ^\nMailMerge.java:172: error: illegal start of expression\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\n    ^\n3 error\n</code></pre>\n<p>This is the Java code I'm trying to compile:</p>\n<pre><code>package org.dstadler.poi.mailmerge;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.List;\nimport java.util.logging.Logger;\n\nimport com.google.common.base.Preconditions;\nimport org.apache.commons.io.FilenameUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.xmlbeans.XmlException;\nimport org.apache.xmlbeans.XmlOptions;\nimport org.dstadler.commons.logging.jdk.LoggerFactory;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\n/**\n * Simple application which performs a &quot;mail-merge&quot; of a Microsoft Word template\n * document which contains replacement templates in the form of ${name}, ${first-name}, ...\n * and an Microsoft Excel spreadsheet which contains a list of entries that are merged in.\n *\n * Call this application with parameters &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;\n *\n * The resulting document has all resulting documents concatenated.\n */\npublic class MailMerge {\n    private static final Logger log = LoggerFactory.make();\n    public static void main(String[] args) throws Exception {\n        LoggerFactory.initLogging();\n        if(args.length != 3) {\n            throw new IllegalArgumentException(&quot;Usage: MailMerge &lt;word-template&gt; &lt;excel/csv-template&gt; &lt;output-file&gt;&quot;);\n        }\n        File wordTemplate = new File(args[0]);\n        File excelFile = new File(args[1]);\n        String outputFile = args[2];\n        if(!wordTemplate.exists() || !wordTemplate.isFile()) {\n            throw new IllegalArgumentException(&quot;Could not read Microsoft Word template &quot; + wordTemplate);\n        }\n        if(!excelFile.exists() || !excelFile.isFile()) {\n            throw new IllegalArgumentException(&quot;Could not read data file &quot; + excelFile);\n        }\n        new MailMerge().merge(wordTemplate, excelFile, outputFile);\n    }\n    private void merge(File wordTemplate, File dataFile, String outputFile) throws Exception {\n        log.info(&quot;Merging data from &quot; + wordTemplate + &quot; and &quot; + dataFile + &quot; into &quot; + outputFile);\n        // read the data-rows from the CSV or XLS(X) file\n        Data data = new Data();\n        data.read(dataFile);\n\n        // now open the word file and apply the changes\n        try (InputStream is = new FileInputStream(wordTemplate)) {\n            try (XWPFDocument doc = new XWPFDocument(is)) {\n                // apply the lines and concatenate the results into the document\n                applyLines(data, doc);\n        List&lt;String&gt; headers = data.getHeaders();\n        for (List&lt;String&gt; dataRow : data.getData()) {\n            // now open the word file and apply the changes\n            try (InputStream is = new FileInputStream(wordTemplate)) {\n                try (XWPFDocument doc = new XWPFDocument(is)) {\n\n                log.info(&quot;Writing overall result to &quot; + outputFile);\n                try (OutputStream out = new FileOutputStream(outputFile)) {\n                    doc.write(out);\n                    applyLines(headers, dataRow, doc);\n\n                    String newOutputFileName =\n                            FilenameUtils.removeExtension(outputFile) + &quot;_&quot; + dataRow.get(0) + &quot;.docx&quot;;\n\n                    log.info(&quot;Writing overall result to &quot; + newOutputFileName);\n                    try (OutputStream out = new FileOutputStream(newOutputFileName)) {\n\n                        doc.write(out);\n                    }\n                }\n            }\n        }\n    }\n\n    private void applyLines(Data dataIn, XWPFDocument doc) throws XmlException, IOException {\n    private void applyLines(List&lt;String&gt; headers, List&lt;String&gt; data, XWPFDocument doc) throws XmlException, IOException {\n\n        // small hack to not having to rework the commandline parsing just now\n        String includeIndicator = System.getProperty(&quot;org.dstadler.poi.mailmerge.includeindicator&quot;);\n\n        CTBody body = doc.getDocument().getBody();\n        // read the current full Body text\n        String srcString = body.xmlText();\n\n        // apply the replacements line-by-line\n        boolean first = true;\n        List&lt;String&gt; headers = dataIn.getHeaders();\n        for(List&lt;String&gt; data : dataIn.getData()) {\n            log.info(&quot;Applying to template: &quot; + data);\n\n            // if the option is set ignore lines which do not have the indicator set\n            if(includeIndicator != null) {\n                int indicatorPos = headers.indexOf(includeIndicator);\n                Preconditions.checkState(indicatorPos &gt;= 0,\n                        &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\n                        includeIndicator, headers);\n\n                if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\n                    log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\n                    continue;\n                }\n            }\n        log.info(&quot;Applying to template: &quot; + data);\n\n            String replaced = srcString;\n            for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\n                String header = headers.get(fieldNr);\n                String value = data.get(fieldNr);\n        // if the option is set ignore lines which do not have the indicator set\n        if(includeIndicator != null) {\n            int indicatorPos = headers.indexOf(includeIndicator);\n            Preconditions.checkState(indicatorPos &gt;= 0,\n                    &quot;An include-indicator is set via system properties as %s, but there is no such column, had: %s&quot;,\n                    includeIndicator, headers);\n\n                // ignore columns without headers as we cannot match them\n                if(header == null) {\n                    continue;\n                }\n            if(!StringUtils.equalsAnyIgnoreCase(data.get(indicatorPos), &quot;1&quot;, &quot;true&quot;)) {\n                log.info(&quot;Skipping line &quot; + data + &quot; because include-indicator was not set&quot;);\n            }\n        }\n\n                // use empty string for data-cells that have no value\n                if(value == null) {\n                    value = &quot;&quot;;\n                }\n        String replaced = srcString;\n        for(int fieldNr = 0;fieldNr &lt; headers.size();fieldNr++) {\n            String header = headers.get(fieldNr);\n            String value = data.get(fieldNr);\n\n                replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value);\n            // ignore columns without headers as we cannot match them\n            if(header == null) {\n                continue;\n            }\n\n            // check for missed replacements or formatting which interferes\n            if(replaced.contains(&quot;${&quot;)) {\n                log.warning(&quot;Still found template-marker after doing replacement: &quot; +\n                        StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\n            // use empty string for data-cells that have no value\n            if(value == null) {\n                value = &quot;&quot;;\n            }\n\n            appendBody(body, replaced, first);\n            replaced = replaced.replace(&quot;${&quot; + header + &quot;}&quot;, value.toUpperCase());\n        }\n\n            first = false;\n        // check for missed replacements or formatting which interferes\n        if(replaced.contains(&quot;${&quot;)) {\n            log.warning(&quot;Still found template-marker after doing replacement: &quot; +\n                    StringUtils.abbreviate(StringUtils.substring(replaced, replaced.indexOf(&quot;${&quot;)), 200));\n        }\n\n        appendBody(body, replaced, first);\n\n        first = false;\n\n    }\n\n    private static void appendBody(CTBody src, String append, boolean first) throws XmlException {\n        XmlOptions optionsOuter = new XmlOptions();\n        optionsOuter.setSaveOuter();\n        String srcString = src.xmlText();\n        String prefix = srcString.substring(0,srcString.indexOf(&quot;&gt;&quot;)+1);\n        final String mainPart;\n        // exclude template itself in first appending\n        if(first) {\n            mainPart = &quot;&quot;;\n        } else {\n            mainPart = srcString.substring(srcString.indexOf(&quot;&gt;&quot;)+1,srcString.lastIndexOf(&quot;&lt;&quot;));\n        }\n        String suffix = srcString.substring( srcString.lastIndexOf(&quot;&lt;&quot;) );\n        String addPart = append.substring(append.indexOf(&quot;&gt;&quot;) + 1, append.lastIndexOf(&quot;&lt;&quot;));\n        CTBody makeBody = CTBody.Factory.parse(prefix+mainPart+addPart+suffix);\n        src.set(makeBody);\n    }\n}\n</code></pre>\n<p>I'm not sure what is causing this error, and I would appreciate some help in understanding and resolving it.</p>\n<p>The Java code I'm trying to compile is the MailMerge.java file, and it includes the following functionalities:</p>\n<ul>\n<li>Reading data from a CSV or XLSX file.</li>\n<li>Opening a Word template file and applying the data from the CSV/XLSX\nfile to replace markers in the template.</li>\n<li>Creating a new DOCX file with the merged data for each row in the\nCSV/XLSX file.</li>\n</ul>\n<p>Could someone please review the code and help me identify the cause of the &quot;Illegal start of expression&quot; error? Any insights or suggestions on how to fix it would be greatly appreciated. Thank you!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9710,"page":282,"page_size":100}
