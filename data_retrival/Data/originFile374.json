{"items":[{"tags":["java","curl","geofence","tile38"],"owner":{"account_id":24350612,"reputation":1,"user_id":18286493,"display_name":"Budi Rahmawan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686625985,"creation_date":1686625985,"question_id":76461478,"body_markdown":"I want to query my result with and operation, in my cli the command is goes fine but if i try to make client with http error invalid argument &#39;&amp;&amp;&#39; has occured.\r\nPlease can anyone know how to format text first, this is my example curl request?\r\n\r\nCLI Command :\r\nwithin evidence where &#39;timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600&#39; get areas indonesia-aceh\r\n\r\nCurl :\r\n`curl --location &#39;localhost:9851&#39; \\\r\n--header &#39;Content-Type: text/plain&#39; \\\r\n--data &#39;within evidence where &#39;\\&#39;&#39;timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600&#39;\\&#39;&#39; get areas indonesia-aceh&#39;`\r\n\r\nTo successfully make request in Tile38","title":"How to filter and operation using network protocol in Tile38","body":"<p>I want to query my result with and operation, in my cli the command is goes fine but if i try to make client with http error invalid argument '&amp;&amp;' has occured.\nPlease can anyone know how to format text first, this is my example curl request?</p>\n<p>CLI Command :\nwithin evidence where 'timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600' get areas indonesia-aceh</p>\n<p>Curl :\n<code>curl --location 'localhost:9851' \\ --header 'Content-Type: text/plain' \\ --data 'within evidence where '\\''timestamp &gt;= 1654128000 &amp;&amp; timestamp &lt;= 1658361600'\\'' get areas indonesia-aceh'</code></p>\n<p>To successfully make request in Tile38</p>\n"},{"tags":["java","android","c++","java-native-interface","shared-libraries"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1685390050,"post_id":76359654,"comment_id":134650331,"body_markdown":"You could use inotify tools to check where your service is searching for the library.","body":"You could use inotify tools to check where your service is searching for the library."},{"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"score":0,"creation_date":1685392009,"post_id":76359654,"comment_id":134650597,"body_markdown":"Didn&#39;t know about this tool, could you explain how to use it to check the service search path?","body":"Didn&#39;t know about this tool, could you explain how to use it to check the service search path?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1685393081,"post_id":76359654,"comment_id":134650737,"body_markdown":"This is a standard Linux tool for monitoring file system activity such as file open. Even if the command fails because of a missing file you can see the file path that was tried to open. By default inotify tools are not included in Android but the necessary API is there (can be e.g. used from within an app). On GitHub you will find an older adaption for Android which can be compiled using NDK or you try to use a precompiled version from a Termux repository.","body":"This is a standard Linux tool for monitoring file system activity such as file open. Even if the command fails because of a missing file you can see the file path that was tried to open. By default inotify tools are not included in Android but the necessary API is there (can be e.g. used from within an app). On GitHub you will find an older adaption for Android which can be compiled using NDK or you try to use a precompiled version from a Termux repository."},{"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"score":0,"creation_date":1685650039,"post_id":76359654,"comment_id":134694188,"body_markdown":"I could see that the service is searching for the library in /system/lib64 while the .so file is in /vendor/lib64.\nI made a copy of the .so to /system/lib64 and it worked, but I think this is not a good practice. So, how could I force the search to /vendor/lib64?","body":"I could see that the service is searching for the library in /system/lib64 while the .so file is in /vendor/lib64. I made a copy of the .so to /system/lib64 and it worked, but I think this is not a good practice. So, how could I force the search to /vendor/lib64?"}],"answers":[{"tags":[],"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686625105,"creation_date":1686617771,"answer_id":76461105,"question_id":76359654,"body_markdown":"Removing `vendor: true` tag from the shared lib Android.bp fixed the problem","title":"Error UnsatisfiedLinkError: dlopen failed: library while trying to create a JNI Service","body":"<p>Removing <code>vendor: true</code> tag from the shared lib Android.bp fixed the problem</p>\n"}],"owner":{"account_id":5175385,"reputation":80,"user_id":4142710,"display_name":"&#193;lison Ven&#226;ncio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76461105,"answer_count":1,"score":0,"last_activity_date":1686625105,"creation_date":1685385431,"question_id":76359654,"body_markdown":"I am trying create a Service that access a JNI shared library, but when it tries to access the lib it returns an exception.\r\n\r\n     8746 05-29 05:00:16.259   921   921 E AndroidRuntime: FATAL EXCEPTION: main                                                                                                  │\r\n     8747 05-29 05:00:16.259   921   921 E AndroidRuntime: Process: vendor.alvenan.javanativetestservice, PID: 921                                                                │\r\n     8748 05-29 05:00:16.259   921   921 E AndroidRuntime: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libjavanativetestservice_jni.so&quot; not found                     │\r\n     8749 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)                                                                │\r\n     8750 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:998)                                                                 │\r\n     8751 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.System.loadLibrary(System.java:1661)                                                                   │\r\n     8752 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestServiceImpl.&lt;clinit&gt;(JavaNativeTestServiceImpl.java:14)       │\r\n     8753 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestService.onCreate(JavaNativeTestService.java:14)               │\r\n     8754 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1277)                                   │\r\n     8755 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6759)                                       │\r\n     8756 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)                                      │\r\n     8757 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)                                             │\r\n     8758 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:106)                                                             │\r\n     8759 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loopOnce(Looper.java:201)                                                                      │\r\n     8760 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:288)\r\n     8761 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n     8762 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)\r\n     8763 05-29 05:00:16.259   921   921 E AndroidRuntime:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n\r\nI am using the ARPI13 project:\r\nhttps://github.com/snappautomotive/firmware_rpi-local_manifests/tree/arpi-13\r\n\r\nThe JNI lib seems to be in the right place:\r\n\r\n    rpi4:/ # cat vendor/etc/public.libraries.txt\r\n    libjavanativetestservice_jni.so\r\n    rpi4:/ # ls -l vendor/lib64/libjavanativetestservice_jni.so\r\n    -rw-r--r-- 1 root root 10952 2023-05-29 15:40 vendor/lib64/libjavanativetestservice_jni.so\r\n\r\nThe full code is on github: https://github.com/alvenan/aosp_bench/tree/main/bench_test_jni\r\n\r\nThe device makefile has the following setup:\r\n\r\n    PRODUCT_PACKAGES += JavaNativeTestService\r\n    PRODUCT_COPY_FILES += \\\r\n       vendor/alvenan/aosp_bench/bench_test_jni/public.libraries.txt:$(TARGET_COPY_OUT_VENDOR)/etc/public.libraries.txt","title":"Error UnsatisfiedLinkError: dlopen failed: library while trying to create a JNI Service","body":"<p>I am trying create a Service that access a JNI shared library, but when it tries to access the lib it returns an exception.</p>\n<pre><code> 8746 05-29 05:00:16.259   921   921 E AndroidRuntime: FATAL EXCEPTION: main                                                                                                  │\n 8747 05-29 05:00:16.259   921   921 E AndroidRuntime: Process: vendor.alvenan.javanativetestservice, PID: 921                                                                │\n 8748 05-29 05:00:16.259   921   921 E AndroidRuntime: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libjavanativetestservice_jni.so&quot; not found                     │\n 8749 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:1077)                                                                │\n 8750 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.Runtime.loadLibrary0(Runtime.java:998)                                                                 │\n 8751 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.System.loadLibrary(System.java:1661)                                                                   │\n 8752 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestServiceImpl.&lt;clinit&gt;(JavaNativeTestServiceImpl.java:14)       │\n 8753 05-29 05:00:16.259   921   921 E AndroidRuntime:    at vendor.alvenan.javanativetestservice.JavaNativeTestService.onCreate(JavaNativeTestService.java:14)               │\n 8754 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1277)                                   │\n 8755 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6759)                                       │\n 8756 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)                                      │\n 8757 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)                                             │\n 8758 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Handler.dispatchMessage(Handler.java:106)                                                             │\n 8759 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loopOnce(Looper.java:201)                                                                      │\n 8760 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.os.Looper.loop(Looper.java:288)\n 8761 05-29 05:00:16.259   921   921 E AndroidRuntime:    at android.app.ActivityThread.main(ActivityThread.java:7872)\n 8762 05-29 05:00:16.259   921   921 E AndroidRuntime:    at java.lang.reflect.Method.invoke(Native Method)\n 8763 05-29 05:00:16.259   921   921 E AndroidRuntime:    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n</code></pre>\n<p>I am using the ARPI13 project:\n<a href=\"https://github.com/snappautomotive/firmware_rpi-local_manifests/tree/arpi-13\" rel=\"nofollow noreferrer\">https://github.com/snappautomotive/firmware_rpi-local_manifests/tree/arpi-13</a></p>\n<p>The JNI lib seems to be in the right place:</p>\n<pre><code>rpi4:/ # cat vendor/etc/public.libraries.txt\nlibjavanativetestservice_jni.so\nrpi4:/ # ls -l vendor/lib64/libjavanativetestservice_jni.so\n-rw-r--r-- 1 root root 10952 2023-05-29 15:40 vendor/lib64/libjavanativetestservice_jni.so\n</code></pre>\n<p>The full code is on github: <a href=\"https://github.com/alvenan/aosp_bench/tree/main/bench_test_jni\" rel=\"nofollow noreferrer\">https://github.com/alvenan/aosp_bench/tree/main/bench_test_jni</a></p>\n<p>The device makefile has the following setup:</p>\n<pre><code>PRODUCT_PACKAGES += JavaNativeTestService\nPRODUCT_COPY_FILES += \\\n   vendor/alvenan/aosp_bench/bench_test_jni/public.libraries.txt:$(TARGET_COPY_OUT_VENDOR)/etc/public.libraries.txt\n</code></pre>\n"},{"tags":["java","algorithm","math","logic"],"comments":[{"owner":{"account_id":6397988,"reputation":7696,"user_id":4961700,"accept_rate":50,"display_name":"Solar Mike"},"score":1,"creation_date":1686378236,"post_id":76444981,"comment_id":134793533,"body_markdown":"We only look at homework when you show what you have done so far. What errors? Provide code that can be copied and pasted.","body":"We only look at homework when you show what you have done so far. What errors? Provide code that can be copied and pasted."},{"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"score":0,"creation_date":1686379244,"post_id":76444981,"comment_id":134793610,"body_markdown":"this is not a homework assignment. I have added the code that i done as an image","body":"this is not a homework assignment. I have added the code that i done as an image"},{"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"score":0,"creation_date":1686379365,"post_id":76444981,"comment_id":134793619,"body_markdown":"And its not an error its just 1  test case is not passing.","body":"And its not an error its just 1  test case is not passing."},{"owner":{"account_id":6397988,"reputation":7696,"user_id":4961700,"accept_rate":50,"display_name":"Solar Mike"},"score":0,"creation_date":1686379571,"post_id":76444981,"comment_id":134793633,"body_markdown":"So you add an image of the code, why would you expect anyone to re-type your code to test it for you? Paste it correctly - even have a button to use.","body":"So you add an image of the code, why would you expect anyone to re-type your code to test it for you? Paste it correctly - even have a button to use."},{"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"score":0,"creation_date":1686379991,"post_id":76444981,"comment_id":134793677,"body_markdown":"i have added the code","body":"i have added the code"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":3,"creation_date":1686382173,"post_id":76444981,"comment_id":134793830,"body_markdown":"Maybe `int mod = (int) (1e9 +9);`","body":"Maybe <code>int mod = (int) (1e9 +9);</code>"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1686404672,"post_id":76444981,"comment_id":134795775,"body_markdown":"To clarify, in your text you wrote: &quot;... return it modulo 10^9 + 7...&quot; but in your code you have `int mod = (int) (1e9 + 9)`. So one of those is wrong, and if it&#39;s your code then that could be the source of error.","body":"To clarify, in your text you wrote: &quot;... return it modulo 10^9 + 7...&quot; but in your code you have <code>int mod = (int) (1e9 + 9)</code>. So one of those is wrong, and if it&#39;s your code then that could be the source of error."},{"owner":{"account_id":15659011,"reputation":828,"user_id":11298380,"display_name":"The Coding Penguin"},"score":0,"creation_date":1686561334,"post_id":76444981,"comment_id":134810072,"body_markdown":"Please show us something showing you tried at least.","body":"Please show us something showing you tried at least."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686624852,"creation_date":1686455525,"answer_id":76448942,"question_id":76444981,"body_markdown":"The problem is that you are summing the frequencies and then taking the mod of that sum, in some cases, resulting in the wrong answer.  You need to declare count as a long and just sum the frequencies. It needs to be a long so it won&#39;t overflow.  So instead of taking the remainder as you sum the frequencies, take it at the end before you return the value.  So...\r\n- correct the mod to `(int)1e9 + 7`\r\n- declare count as a long.\r\n- tally the count using `count += freq`\r\n- And return the value as `(int) ((count/2L)% mod);`. It&#39;s important to take the mod after correcting for duplicate pairs.  I.e. Take the `mod of the half` instead of `half of the mod`.\r\n\r\n**Note:**  A long value for `count` is sufficient since the maximum pairings would occur for an array of size `100,000` containing `identical powers of 2`. The total frequencies would be `100_000`.  And since `100,000*99,999` would be `double` the total pairings (excluding the same index), `9,999,900,000` would be the product prior to reduction which easily fits into a `long`.\r\n\r\n**And some other observations.**\r\n\r\nBefore you return the final result you do some adjusting on count. The following are not required.\r\n\r\n- Adjusting count if odd is not required since integer division will yield the required result. `(e.g.  11/2 == 5 and 10/2 == 5)`\r\n\r\n- Adding `mod to count if negative` is not required since count can never be negative. Once you decide to decrement `freq`, you have already determined that `freq` is positive since it has obtained a frequency count from the map.  So the least `freq` can be is `0`.  So `count` is only updated with values `&gt;= 0` thus can never be negative.\r\n\r\n\r\n**This may be obivious but...**\r\n\r\nThe sum of two `identical` numbers will only be a power of `2` if they are powers of `2`.\r\n- `n + n = 2n`.  Whether `n` is composite or prime, it must only have `2` as factor(s).\r\n\r\n","title":"Find the number of pairs of (i, j) such that i &lt; j and Ai + Aj = 2^x where x is an integer. In java","body":"<p>The problem is that you are summing the frequencies and then taking the mod of that sum, in some cases, resulting in the wrong answer.  You need to declare count as a long and just sum the frequencies. It needs to be a long so it won't overflow.  So instead of taking the remainder as you sum the frequencies, take it at the end before you return the value.  So...</p>\n<ul>\n<li>correct the mod to <code>(int)1e9 + 7</code></li>\n<li>declare count as a long.</li>\n<li>tally the count using <code>count += freq</code></li>\n<li>And return the value as <code>(int) ((count/2L)% mod);</code>. It's important to take the mod after correcting for duplicate pairs.  I.e. Take the <code>mod of the half</code> instead of <code>half of the mod</code>.</li>\n</ul>\n<p><strong>Note:</strong>  A long value for <code>count</code> is sufficient since the maximum pairings would occur for an array of size <code>100,000</code> containing <code>identical powers of 2</code>. The total frequencies would be <code>100_000</code>.  And since <code>100,000*99,999</code> would be <code>double</code> the total pairings (excluding the same index), <code>9,999,900,000</code> would be the product prior to reduction which easily fits into a <code>long</code>.</p>\n<p><strong>And some other observations.</strong></p>\n<p>Before you return the final result you do some adjusting on count. The following are not required.</p>\n<ul>\n<li><p>Adjusting count if odd is not required since integer division will yield the required result. <code>(e.g.  11/2 == 5 and 10/2 == 5)</code></p>\n</li>\n<li><p>Adding <code>mod to count if negative</code> is not required since count can never be negative. Once you decide to decrement <code>freq</code>, you have already determined that <code>freq</code> is positive since it has obtained a frequency count from the map.  So the least <code>freq</code> can be is <code>0</code>.  So <code>count</code> is only updated with values <code>&gt;= 0</code> thus can never be negative.</p>\n</li>\n</ul>\n<p><strong>This may be obivious but...</strong></p>\n<p>The sum of two <code>identical</code> numbers will only be a power of <code>2</code> if they are powers of <code>2</code>.</p>\n<ul>\n<li><code>n + n = 2n</code>.  Whether <code>n</code> is composite or prime, it must only have <code>2</code> as factor(s).</li>\n</ul>\n"}],"owner":{"account_id":28791920,"reputation":11,"user_id":22051014,"display_name":"Fibin pious"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1686624852,"creation_date":1686378117,"question_id":76444981,"body_markdown":"You are given an array A of length N. Find the number of pairs of (i, j) such that i &lt; j and A&lt;sub&gt;i&lt;/sub&gt; + A&lt;sub&gt;j&lt;/sub&gt; = 2&lt;sup&gt;x&lt;/sup&gt; where x is an integer. Since the answer could be large return it modulo 10&lt;sup&gt;9&lt;/sup&gt; + 7.\r\n\r\n##### Function description   \r\n\r\nComplete the twiceMatch function in the editor below. It has the following parameter(s):  \r\n\r\nName |\tType |\tDescription\r\n---|---|---  \r\nA|\t INTEGER ARRAY | array of non-negative integers.\r\n\r\n##### Return\t\r\n\r\nThe function must return an INTEGER denoting the number of ordered pairs satisfying the condition.\r\nConstraints\r\n\r\n - 1  ≤ N ≤  10&lt;sup&gt;5&lt;/sup&gt;\r\n - 1  ≤ A&lt;sub&gt;i&lt;/sub&gt; ≤  10&lt;sup&gt;9&lt;/sup&gt;\r\n\r\n##### Examples, first number in the input is the number of array values to follow\r\n\r\nInput | Output | Output Description\r\n---|---|---\r\n4 1 15 2 7 | 2 | ordered pairs of indices satisfying the conditions are: (1, 2), (1, 4)\r\n5 1 2 3 4 5 | 2 | ordered pairs of indices satisfying the conditions are: (1, 3), (3, 5)\r\n5 2 2 2 2 2 | 10 | All pairs of (i, j) satisfies the condition.\r\n\r\nOut of 15 Test cases only 1 is fails. The testcase is hidden.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DHI8B.png\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.lang.Math;\r\npublic class Solution {\r\n\tpublic static int twiceMatch(int[] A) {\r\n\t\tint n = A.length;\r\n\t\tint mod = (int)(1e9 + 9);\r\n\r\n\t\tMap &lt;Integer, Integer&gt; freqMap = new HashMap &lt; &gt;();\r\n\r\n\t\tfor (int num: A) {\r\n\t\t\tfreqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\r\n\t\t}\r\n\r\n\t\tint count = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tfor (int x = 0; x &lt;= 30; x++) {\r\n\t\t\t\tint target = (1 &lt;&lt; x) - A[i];\r\n\t\t\t\tif (target &lt; 0)\r\n                    continue;\r\n\r\n\t\t\t\tif (freqMap.containsKey(target)) {\r\n\t\t\t\t\tint freq = freqMap.get(target);\r\n\r\n\t\t\t\t\tif (target == A[i]) {\r\n\t\t\t\t\t\tfreq--;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcount = (count + freq) % mod;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (count % 2 != 0) {\r\n\t\t\tcount--;\r\n\t\t}\r\n\r\n\t\tif (count &lt; 0) {\r\n\t\t\tcount += mod;\r\n\t\t}\r\n\r\n\t\tif (count == 0) {\r\n\t\t\treturn - 1;\r\n\t\t}\r\n\r\n\t\treturn count / 2;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System. in );\r\n\t\tint N;\r\n\t\tN = scan.nextInt();\r\n\t\tint[] A = new int[N];\r\n\t\tfor (int j = 0; j &lt; N; j++) {\r\n\t\t\tA[j] = scan.nextInt();\r\n\t\t}\r\n\t\tint result;\r\n\t\tresult = twiceMatch(A);\r\n\t\tSystem.out.print(result);\r\n\t\treturn;\r\n\t}\r\n}\r\n```\r\n![enter image description here][1]","title":"Find the number of pairs of (i, j) such that i &lt; j and Ai + Aj = 2^x where x is an integer. In java","body":"<p>You are given an array A of length N. Find the number of pairs of (i, j) such that i &lt; j and A<sub>i</sub> + A<sub>j</sub> = 2<sup>x</sup> where x is an integer. Since the answer could be large return it modulo 10<sup>9</sup> + 7.</p>\n<h5>Function description</h5>\n<p>Complete the twiceMatch function in the editor below. It has the following parameter(s):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>INTEGER ARRAY</td>\n<td>array of non-negative integers.</td>\n</tr>\n</tbody>\n</table>\n</div><h5>Return</h5>\n<p>The function must return an INTEGER denoting the number of ordered pairs satisfying the condition.\nConstraints</p>\n<ul>\n<li>1  ≤ N ≤  10<sup>5</sup></li>\n<li>1  ≤ A<sub>i</sub> ≤  10<sup>9</sup></li>\n</ul>\n<h5>Examples, first number in the input is the number of array values to follow</h5>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Input</th>\n<th>Output</th>\n<th>Output Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>4 1 15 2 7</td>\n<td>2</td>\n<td>ordered pairs of indices satisfying the conditions are: (1, 2), (1, 4)</td>\n</tr>\n<tr>\n<td>5 1 2 3 4 5</td>\n<td>2</td>\n<td>ordered pairs of indices satisfying the conditions are: (1, 3), (3, 5)</td>\n</tr>\n<tr>\n<td>5 2 2 2 2 2</td>\n<td>10</td>\n<td>All pairs of (i, j) satisfies the condition.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Out of 15 Test cases only 1 is fails. The testcase is hidden.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\nimport java.lang.Math;\npublic class Solution {\n    public static int twiceMatch(int[] A) {\n        int n = A.length;\n        int mod = (int)(1e9 + 9);\n\n        Map &lt;Integer, Integer&gt; freqMap = new HashMap &lt; &gt;();\n\n        for (int num: A) {\n            freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\n        }\n\n        int count = 0;\n\n        for (int i = 0; i &lt; n; i++) {\n            for (int x = 0; x &lt;= 30; x++) {\n                int target = (1 &lt;&lt; x) - A[i];\n                if (target &lt; 0)\n                    continue;\n\n                if (freqMap.containsKey(target)) {\n                    int freq = freqMap.get(target);\n\n                    if (target == A[i]) {\n                        freq--;\n                    }\n\n                    count = (count + freq) % mod;\n                }\n            }\n        }\n\n        if (count % 2 != 0) {\n            count--;\n        }\n\n        if (count &lt; 0) {\n            count += mod;\n        }\n\n        if (count == 0) {\n            return - 1;\n        }\n\n        return count / 2;\n    }\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System. in );\n        int N;\n        N = scan.nextInt();\n        int[] A = new int[N];\n        for (int j = 0; j &lt; N; j++) {\n            A[j] = scan.nextInt();\n        }\n        int result;\n        result = twiceMatch(A);\n        System.out.print(result);\n        return;\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/DHI8B.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1686633883,"post_id":76460906,"comment_id":134821856,"body_markdown":"What errors? Have you tried to use `traceln()` to find out what your functions return? Best find out the root cause of the issue and report on that, tbh :)","body":"What errors? Have you tried to use <code>traceln()</code> to find out what your functions return? Best find out the root cause of the issue and report on that, tbh :)"},{"owner":{"account_id":26042302,"reputation":11,"user_id":19746867,"display_name":"Hossein Reihani"},"score":0,"creation_date":1686844500,"post_id":76460906,"comment_id":134857106,"body_markdown":"I solved the errors issue. The problem now is that the getDayOfWeek() will stop updating after a week and getHourOfDay() starts with 0 - which can be reasonable - but remains 0 through the simulation. So, the model always only gives one arrivals and then no new agents arrive, due to the fact that the interarrival time now is equal to infinity...","body":"I solved the errors issue. The problem now is that the getDayOfWeek() will stop updating after a week and getHourOfDay() starts with 0 - which can be reasonable - but remains 0 through the simulation. So, the model always only gives one arrivals and then no new agents arrive, due to the fact that the interarrival time now is equal to infinity..."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1686847018,"post_id":76460906,"comment_id":134857648,"body_markdown":"Please always open new issues for new problems. SOF does not work like a forum, see https://benjamin-schumann.com/blog/anylogic-stackoverflow","body":"Please always open new issues for new problems. SOF does not work like a forum, see <a href=\"https://benjamin-schumann.com/blog/anylogic-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-stackoverflow</a>"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1686847047,"post_id":76460906,"comment_id":134857657,"body_markdown":"Also, please share how you solved it, helps others in the future with similar problems ;)","body":"Also, please share how you solved it, helps others in the future with similar problems ;)"}],"owner":{"account_id":26042302,"reputation":11,"user_id":19746867,"display_name":"Hossein Reihani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686623074,"creation_date":1686613620,"question_id":76460906,"body_markdown":"I have two types of arrivals, planned and unplanned, which is shown as agent&#39;s parameter.\r\nI also have arrival shares for months, day of the week and hours of the day added as DB to the model, which is connected to the model using table functions &quot;months()&quot;, &quot;dayp()&quot;, &quot;dayu()&quot;, &quot;hourp()&quot; and &quot;houru()&quot; (months shares are the same for planned and unplanned patients so I use on month DB for both).\r\n\r\nIn the source block, for each hours in the simulation I need to calculate the inter-arrival time considering patient type and time of arrival as presented in the picture. [![enter image description here](https://i.stack.imgur.com/vJaPC.jpg)](https://i.stack.imgur.com/vJaPC.jpg)\r\n\r\nThe table functions for planned patient types are here:\r\n[![month of the year share in the yearly arrivals](https://i.stack.imgur.com/rLkGo.jpg)](https://i.stack.imgur.com/rLkGo.jpg)\r\n\r\n[![Day of the week share in the weekly arrivals](https://i.stack.imgur.com/zV2Si.jpg)](https://i.stack.imgur.com/zV2Si.jpg)\r\n\r\n[![Hour of the day share in the daily arrivals](https://i.stack.imgur.com/NoPYy.jpg)](https://i.stack.imgur.com/NoPYy.jpg)\r\n\r\nThis one does not give me any arrivals and basically gives me zero.\r\nIf I make a function that needs patients type as the argument (to decide whether use planned DBs or unplanned ones) and put it in the source Inter-arrival time formula, the model does not run and gives me the errors.\r\n\r\n\r\nCan you please help me?\r\nAppreciated in advance.\r\n ","title":"Anylogic Dynamic Arrival Function doesn&#39;t work (agent and time dependent function)","body":"<p>I have two types of arrivals, planned and unplanned, which is shown as agent's parameter.\nI also have arrival shares for months, day of the week and hours of the day added as DB to the model, which is connected to the model using table functions &quot;months()&quot;, &quot;dayp()&quot;, &quot;dayu()&quot;, &quot;hourp()&quot; and &quot;houru()&quot; (months shares are the same for planned and unplanned patients so I use on month DB for both).</p>\n<p>In the source block, for each hours in the simulation I need to calculate the inter-arrival time considering patient type and time of arrival as presented in the picture. <a href=\"https://i.stack.imgur.com/vJaPC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJaPC.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The table functions for planned patient types are here:\n<a href=\"https://i.stack.imgur.com/rLkGo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLkGo.jpg\" alt=\"month of the year share in the yearly arrivals\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zV2Si.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zV2Si.jpg\" alt=\"Day of the week share in the weekly arrivals\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NoPYy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NoPYy.jpg\" alt=\"Hour of the day share in the daily arrivals\" /></a></p>\n<p>This one does not give me any arrivals and basically gives me zero.\nIf I make a function that needs patients type as the argument (to decide whether use planned DBs or unplanned ones) and put it in the source Inter-arrival time formula, the model does not run and gives me the errors.</p>\n<p>Can you please help me?\nAppreciated in advance.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1478375152,"creation_date":1478282587,"answer_id":40429144,"question_id":40428891,"body_markdown":"Same thing happens for me. That&#39;s indeed a shame. The version `5-SNAPSHOT` looks a bit strange. If you just drop that, it actually works:\r\n\r\n    mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart\r\n\r\nYou can also simply specify only `groupId` and `artifactId` in batch mode:\r\n\r\n    mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DinteractiveMode=false\r\n\r\nThe result is almost identical to creating with the `maven-archetype-quickstart` archetype.\r\n\r\nFor more info, see this page: [Maven in 5 Minutes][1].\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html","title":"Maven Quickstart Archetype does not exist","body":"<p>Same thing happens for me. That's indeed a shame. The version <code>5-SNAPSHOT</code> looks a bit strange. If you just drop that, it actually works:</p>\n\n<pre><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart\n</code></pre>\n\n<p>You can also simply specify only <code>groupId</code> and <code>artifactId</code> in batch mode:</p>\n\n<pre><code>mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DinteractiveMode=false\n</code></pre>\n\n<p>The result is almost identical to creating with the <code>maven-archetype-quickstart</code> archetype.</p>\n\n<p>For more info, see this page: <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">Maven in 5 Minutes</a>.</p>\n"},{"tags":[],"owner":{"account_id":3141774,"reputation":3802,"user_id":2657100,"display_name":"nandsito"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1478283996,"creation_date":1478283342,"answer_id":40429352,"question_id":40428891,"body_markdown":"The specified version is not valid. It&#39;s from a [2010-edited Maven example page](http://maven.apache.org/archetypes/maven-archetype-quickstart/).\r\n\r\n[The most recent archetype version is 1.1](http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.archetypes%22%20AND%20a%3A%22maven-archetype-quickstart%22) (ironically, also from 2010), so try this instead:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.1\r\n","title":"Maven Quickstart Archetype does not exist","body":"<p>The specified version is not valid. It's from a <a href=\"http://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"noreferrer\">2010-edited Maven example page</a>.</p>\n\n<p><a href=\"http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.maven.archetypes%22%20AND%20a%3A%22maven-archetype-quickstart%22\" rel=\"noreferrer\">The most recent archetype version is 1.1</a> (ironically, also from 2010), so try this instead:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18781678,"reputation":21,"user_id":13696195,"display_name":"Mick.zw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620034879,"creation_date":1620034879,"answer_id":67366679,"question_id":40428891,"body_markdown":"Another reason for this, as was in my case, was to do with spelling mistakes, especially when you&#39;re new to this, a common misspelling would be archtype instead of archetype and this fixed the same error in my case. ","title":"Maven Quickstart Archetype does not exist","body":"<p>Another reason for this, as was in my case, was to do with spelling mistakes, especially when you're new to this, a common misspelling would be archtype instead of archetype and this fixed the same error in my case.</p>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686622904,"creation_date":1686622904,"answer_id":76461344,"question_id":40428891,"body_markdown":"I was getting a similar error while creating a new maven project for building a Java web application using Spring MVC framework in Eclipse IDE.\r\n**Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.4] found in catalog remote** and progressed 33% only.\r\n\r\nby defining the archetype repository URL in Eclipse IDE I was able to resolve this issue.\r\n\r\nhere, are the steps I followed:\r\n1. In Eclipse IDE, go to &quot;Window&quot; -&gt; &quot;Preferences&quot; to open the preferences dialog.\r\n2. In the preferences dialog, expand the &quot;Maven&quot; category and click on &quot;Archetypes&quot;.\r\n3. Click on the &quot;Add Remote Catalog&quot; button.\r\n4. Enter a name for the catalog and provide the catalog file URL associated with the \r\n   archetype repository. For example, you can try using the following URL for the \r\n   archetype repository:\r\nCatalog File: https://repository.jboss.org/nexus/content/repositories/releases/archetype-catalog.xml\r\n5. Click &quot;OK&quot; to add the remote catalog and associate it with the archetype repository.\r\n6. Click &quot;Apply&quot; or &quot;OK&quot; to save the changes and close the preferences dialog.\r\n\r\nNow while creating a new maven project it was asking for p**arent group id, artifact id, and version** in I have given **org.jboss.spring.archetypes, spring-mvc-webapp, 1.0.0.CR8 respectively** \r\n","title":"Maven Quickstart Archetype does not exist","body":"<p>I was getting a similar error while creating a new maven project for building a Java web application using Spring MVC framework in Eclipse IDE.\n<strong>Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.4] found in catalog remote</strong> and progressed 33% only.</p>\n<p>by defining the archetype repository URL in Eclipse IDE I was able to resolve this issue.</p>\n<p>here, are the steps I followed:</p>\n<ol>\n<li>In Eclipse IDE, go to &quot;Window&quot; -&gt; &quot;Preferences&quot; to open the preferences dialog.</li>\n<li>In the preferences dialog, expand the &quot;Maven&quot; category and click on &quot;Archetypes&quot;.</li>\n<li>Click on the &quot;Add Remote Catalog&quot; button.</li>\n<li>Enter a name for the catalog and provide the catalog file URL associated with the\narchetype repository. For example, you can try using the following URL for the\narchetype repository:\nCatalog File: <a href=\"https://repository.jboss.org/nexus/content/repositories/releases/archetype-catalog.xml\" rel=\"nofollow noreferrer\">https://repository.jboss.org/nexus/content/repositories/releases/archetype-catalog.xml</a></li>\n<li>Click &quot;OK&quot; to add the remote catalog and associate it with the archetype repository.</li>\n<li>Click &quot;Apply&quot; or &quot;OK&quot; to save the changes and close the preferences dialog.</li>\n</ol>\n<p>Now while creating a new maven project it was asking for p<strong>arent group id, artifact id, and version</strong> in I have given <strong>org.jboss.spring.archetypes, spring-mvc-webapp, 1.0.0.CR8 respectively</strong></p>\n"}],"owner":{"account_id":5196325,"reputation":2506,"user_id":4157487,"accept_rate":89,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16635,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":40429352,"answer_count":4,"score":13,"last_activity_date":1686622904,"creation_date":1478281681,"question_id":40428891,"body_markdown":"I wanted to start a new project using maven. Installed Maven 3.3.9, put it in my path, created an empty folder and ran the command given in https://maven.apache.org/archetypes/maven-archetype-quickstart/\r\n\r\n    mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\r\n\r\nInstead of a new project, I got an error\r\n\r\n    E:\\CODING\\prj&gt;mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building Maven Stub Project (No POM) 1\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; maven-archetype-plugin:2.4:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; maven-archetype-plugin:2.4:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO] --- maven-archetype-plugin:2.4:generate (default-cli) @ standalone-pom ---\r\n    [INFO] Generating project in Interactive mode\r\n    [INFO] Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.1] found in catalog remote\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 5.016 s\r\n    [INFO] Finished at: 2016-11-04T13:41:30-04:00\r\n    [INFO] Final Memory: 12M/114M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:2.4:generate (default-cli) on project standalone-pom: The desired archetype does not exist (org.apache.maven.archetypes:maven-archetype-quickstart:5-SNAPSHOT) -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nDoes anyone know why? Even better, how DO I create a blank Maven project?","title":"Maven Quickstart Archetype does not exist","body":"<p>I wanted to start a new project using maven. Installed Maven 3.3.9, put it in my path, created an empty folder and ran the command given in <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"noreferrer\">https://maven.apache.org/archetypes/maven-archetype-quickstart/</a></p>\n\n<pre><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\n</code></pre>\n\n<p>Instead of a new project, I got an error</p>\n\n<pre><code>E:\\CODING\\prj&gt;mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=5-SNAPSHOT\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.4:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\n[INFO]\n[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.4:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\n[INFO]\n[INFO] --- maven-archetype-plugin:2.4:generate (default-cli) @ standalone-pom ---\n[INFO] Generating project in Interactive mode\n[INFO] Archetype repository not defined. Using the one from [org.apache.maven.archetypes:maven-archetype-quickstart:1.1] found in catalog remote\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 5.016 s\n[INFO] Finished at: 2016-11-04T13:41:30-04:00\n[INFO] Final Memory: 12M/114M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:2.4:generate (default-cli) on project standalone-pom: The desired archetype does not exist (org.apache.maven.archetypes:maven-archetype-quickstart:5-SNAPSHOT) -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>Does anyone know why? Even better, how DO I create a blank Maven project?</p>\n"},{"tags":["java","json","android-studio","fileinputstream","fileoutputstream"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686562211,"creation_date":1686562211,"answer_id":76455282,"question_id":76454446,"body_markdown":"Basically answer to your question is no. Your course of action is to \r\n1. read the file into memory, \r\n2. modify the content in memory\r\n3. override the old file with modified content.\r\n\r\nHere is the question with good answers on how to modify a text file: [Modifying existing file content in Java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8563294/modifying-existing-file-content-in-java","title":"Overwrite JSON object without replacing the file completely Android Studio","body":"<p>Basically answer to your question is no. Your course of action is to</p>\n<ol>\n<li>read the file into memory,</li>\n<li>modify the content in memory</li>\n<li>override the old file with modified content.</li>\n</ol>\n<p>Here is the question with good answers on how to modify a text file: <a href=\"https://stackoverflow.com/questions/8563294/modifying-existing-file-content-in-java\">Modifying existing file content in Java</a></p>\n"},{"tags":[],"owner":{"account_id":17871198,"reputation":390,"user_id":12982457,"display_name":"Hiraeths"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686621977,"creation_date":1686621977,"answer_id":76461300,"question_id":76454446,"body_markdown":"I&#39;ve found the answer to this. Basically I need to read the existing JSON file and then replace the existing JSON object value\r\n\r\n    private void writeFile(String age) {\r\n        try {\r\n            FileInputStream fileInputStream = openFileInput(&quot;credentials.json&quot;);\r\n            InputStreamReader isr = new InputStreamReader(fileInputStream);\r\n            BufferedReader br = new BufferedReader(isr);\r\n\r\n            StringBuilder jsonStringBuilder = new StringBuilder();\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                jsonStringBuilder.append(line);\r\n            }\r\n            br.close();\r\n\r\n            String jsonString = jsonStringBuilder.toString();\r\n            JsonParser jsonParser = new JsonParser();\r\n            JsonObject jsonObject = jsonParser.parse(jsonString).getAsJsonObject();\r\n\r\n            jsonObject.addProperty(&quot;age&quot;, age);\r\n\r\n            FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.json&quot;, MODE_PRIVATE);\r\n            OutputStreamWriter osw = new OutputStreamWriter(fileOutputStream);\r\n            BufferedWriter bw = new BufferedWriter(osw);\r\n\r\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n            String updatedJsonString = gson.toJson(jsonObject);\r\n\r\n            bw.write(updatedJsonString);\r\n            bw.flush();\r\n            bw.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            intentActivity(Login.class);\r\n        } catch (IOException e) {\r\n            intentActivity(Login.class);\r\n        }\r\n    }","title":"Overwrite JSON object without replacing the file completely Android Studio","body":"<p>I've found the answer to this. Basically I need to read the existing JSON file and then replace the existing JSON object value</p>\n<pre><code>private void writeFile(String age) {\n    try {\n        FileInputStream fileInputStream = openFileInput(&quot;credentials.json&quot;);\n        InputStreamReader isr = new InputStreamReader(fileInputStream);\n        BufferedReader br = new BufferedReader(isr);\n\n        StringBuilder jsonStringBuilder = new StringBuilder();\n        String line;\n        while ((line = br.readLine()) != null) {\n            jsonStringBuilder.append(line);\n        }\n        br.close();\n\n        String jsonString = jsonStringBuilder.toString();\n        JsonParser jsonParser = new JsonParser();\n        JsonObject jsonObject = jsonParser.parse(jsonString).getAsJsonObject();\n\n        jsonObject.addProperty(&quot;age&quot;, age);\n\n        FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.json&quot;, MODE_PRIVATE);\n        OutputStreamWriter osw = new OutputStreamWriter(fileOutputStream);\n        BufferedWriter bw = new BufferedWriter(osw);\n\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        String updatedJsonString = gson.toJson(jsonObject);\n\n        bw.write(updatedJsonString);\n        bw.flush();\n        bw.close();\n\n    } catch (FileNotFoundException e) {\n        intentActivity(Login.class);\n    } catch (IOException e) {\n        intentActivity(Login.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17871198,"reputation":390,"user_id":12982457,"display_name":"Hiraeths"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76461300,"answer_count":2,"score":0,"last_activity_date":1686621977,"creation_date":1686555115,"question_id":76454446,"body_markdown":"Basically I am trying to overwrite the following JSON data \r\n\r\n    {\r\n        &quot;name&quot; : &quot;John Doe&quot;,\r\n        &quot;gender&quot; : &quot;male&quot;,\r\n        &quot;age&quot; : &quot;21&quot;\r\n    }\r\n\r\nMy goal is to replace only the age. So I am using FileOutputStream like below\r\n\r\n    JSONObject object = new JSONObject();\r\n    try {\r\n        object.put(&quot;age&quot;, &quot;40&quot;);\r\n\r\n    } catch (JSONException e) {\r\n        //do smthng\r\n    }\r\n\r\n    String textToSave = object.toString();\r\n\r\n    try {\r\n        FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.txt&quot;, MODE_PRIVATE);\r\n        fileOutputStream.write(textToSave.getBytes());\r\n        fileOutputStream.close();\r\n        intentActivity(MainMenu.class);\r\n\r\n    } catch (FileNotFoundException e) {\r\n        //do smthng\r\n    } catch (IOException e) {\r\n        //do smhtng\r\n    }\r\n\r\nBut with the above code, I realized it completely deletes the existing `credentials.txt` which means I lost the `name` and `gender` value. Is there anyway just to replace the `age`? Thank you","title":"Overwrite JSON object without replacing the file completely Android Studio","body":"<p>Basically I am trying to overwrite the following JSON data</p>\n<pre><code>{\n    &quot;name&quot; : &quot;John Doe&quot;,\n    &quot;gender&quot; : &quot;male&quot;,\n    &quot;age&quot; : &quot;21&quot;\n}\n</code></pre>\n<p>My goal is to replace only the age. So I am using FileOutputStream like below</p>\n<pre><code>JSONObject object = new JSONObject();\ntry {\n    object.put(&quot;age&quot;, &quot;40&quot;);\n\n} catch (JSONException e) {\n    //do smthng\n}\n\nString textToSave = object.toString();\n\ntry {\n    FileOutputStream fileOutputStream = openFileOutput(&quot;credentials.txt&quot;, MODE_PRIVATE);\n    fileOutputStream.write(textToSave.getBytes());\n    fileOutputStream.close();\n    intentActivity(MainMenu.class);\n\n} catch (FileNotFoundException e) {\n    //do smthng\n} catch (IOException e) {\n    //do smhtng\n}\n</code></pre>\n<p>But with the above code, I realized it completely deletes the existing <code>credentials.txt</code> which means I lost the <code>name</code> and <code>gender</code> value. Is there anyway just to replace the <code>age</code>? Thank you</p>\n"},{"tags":["java","kubernetes","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686621911,"creation_date":1686621911,"answer_id":76461293,"question_id":76457142,"body_markdown":"So, I found the issue. The issue is with mountPath: `/usr/local/tomcat/webapps/ROOT`\r\n\r\ntomcat wants to create a `ROOT` directory and I was mounting it. So Tomcat was like **ROOT is already present, I am not going to do anything**.\r\n\r\nNow I changed the mount point and also small change in Dockerfile is working fine.\r\n\r\n## Mount point\r\n\r\nInstead of mounting at `/usr/local/tomcat/webapps/ROOT`, mounting now at `/usr/local/tomcat/webapps`\r\n\r\n```yaml\r\n- name: tmp3\r\n  mountPath: /usr/local/tomcat/webapps\r\n```\r\n\r\n## Change in Dockerfile\r\n\r\nBefore I was moving the .war file directly to `/usr/local/tomcat/webapps/ROOT.war`, but now we are mounting `webapps` so it will not be available at run time.\r\n\r\nCopying `ROOT.war` to some other location and before starting tomcat, move it to `webapps`\r\n\r\n```dockerfile\r\nADD myservice/target/myservice.war /usr/local/tomcat/ROOT.war\r\nCOPY script.sh /script.sh\r\n\r\nCMD [&quot;bash&quot;, &quot;/script.sh&quot;]\r\n```\r\n\r\n**script.sh**\r\n\r\n```sh\r\ncp /usr/local/tomcat/ROOT.war /usr/local/tomcat/webapps/ROOT.war\r\ncatalina.sh run\r\n```\r\n\r\n","title":"After changing to non root &amp; read only filesystem, tomcat giving 404","body":"<p>So, I found the issue. The issue is with mountPath: <code>/usr/local/tomcat/webapps/ROOT</code></p>\n<p>tomcat wants to create a <code>ROOT</code> directory and I was mounting it. So Tomcat was like <strong>ROOT is already present, I am not going to do anything</strong>.</p>\n<p>Now I changed the mount point and also small change in Dockerfile is working fine.</p>\n<h2>Mount point</h2>\n<p>Instead of mounting at <code>/usr/local/tomcat/webapps/ROOT</code>, mounting now at <code>/usr/local/tomcat/webapps</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- name: tmp3\n  mountPath: /usr/local/tomcat/webapps\n</code></pre>\n<h2>Change in Dockerfile</h2>\n<p>Before I was moving the .war file directly to <code>/usr/local/tomcat/webapps/ROOT.war</code>, but now we are mounting <code>webapps</code> so it will not be available at run time.</p>\n<p>Copying <code>ROOT.war</code> to some other location and before starting tomcat, move it to <code>webapps</code></p>\n<pre><code>ADD myservice/target/myservice.war /usr/local/tomcat/ROOT.war\nCOPY script.sh /script.sh\n\nCMD [&quot;bash&quot;, &quot;/script.sh&quot;]\n</code></pre>\n<p><strong>script.sh</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>cp /usr/local/tomcat/ROOT.war /usr/local/tomcat/webapps/ROOT.war\ncatalina.sh run\n</code></pre>\n"}],"owner":{"account_id":11613849,"reputation":1208,"user_id":8507296,"display_name":"PSKP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76461293,"answer_count":1,"score":0,"last_activity_date":1686621911,"creation_date":1686576412,"question_id":76457142,"body_markdown":"I have the .war file, it was working fine. but when run as a non-root &amp; read-only filesystem is enabled, it starts to fail with errors like being unable to create a file or directory. So I create tmp volumes and mounted them on all paths which were giving issues.\r\n\r\nBut now there is no error in logs and Tomcat is giving 404 for all endpoints. As it is giving 404, k8s is restarting that pod.\r\n\r\n## tmp volume mounted paths\r\n\r\n```yaml\r\nvolumeMounts:\r\n    - name: tmp1\r\n      mountPath: /usr/local/tomcat/logs\r\n    - name: tmp2\r\n      mountPath: /usr/local/tomcat/temp\r\n    - name: tmp3\r\n      mountPath: /usr/local/tomcat/webapps/ROOT\r\n    - name: tmp4\r\n      mountPath: /usr/local/tomcat/conf/Catalina\r\n    - name: tmp5\r\n      mountPath: /usr/local/tomcat/work/Catalina\r\n```\r\n\r\n## Logs without error\r\n\r\n```\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx750m\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms256m\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\r\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.30] using APR version [1.6.5].\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\nINFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1d  10 Sep 2019]\r\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 533 ms\r\nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.69]\r\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/ROOT.war]\r\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [413] ms\r\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 469 ms\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [Thread-4] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\r\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n```\r\n\r\nI am not sure from where should I start looking. Logs has no error.","title":"After changing to non root &amp; read only filesystem, tomcat giving 404","body":"<p>I have the .war file, it was working fine. but when run as a non-root &amp; read-only filesystem is enabled, it starts to fail with errors like being unable to create a file or directory. So I create tmp volumes and mounted them on all paths which were giving issues.</p>\n<p>But now there is no error in logs and Tomcat is giving 404 for all endpoints. As it is giving 404, k8s is restarting that pod.</p>\n<h2>tmp volume mounted paths</h2>\n<pre class=\"lang-yaml prettyprint-override\"><code>volumeMounts:\n    - name: tmp1\n      mountPath: /usr/local/tomcat/logs\n    - name: tmp2\n      mountPath: /usr/local/tomcat/temp\n    - name: tmp3\n      mountPath: /usr/local/tomcat/webapps/ROOT\n    - name: tmp4\n      mountPath: /usr/local/tomcat/conf/Catalina\n    - name: tmp5\n      mountPath: /usr/local/tomcat/work/Catalina\n</code></pre>\n<h2>Logs without error</h2>\n<pre><code>INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx750m\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms256m\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\nINFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.30] using APR version [1.6.5].\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\nINFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\nINFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.1.1d  10 Sep 2019]\nINFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\nINFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 533 ms\nINFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\nINFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.69]\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/ROOT.war]\nINFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nINFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/ROOT.war] has finished in [413] ms\nINFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [main] org.apache.catalina.startup.Catalina.start Server startup in 469 ms\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.pause Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [Thread-4] org.apache.catalina.core.StandardService.stopInternal Stopping service [Catalina]\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-8080&quot;]\nINFO [Thread-4] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\n</code></pre>\n<p>I am not sure from where should I start looking. Logs has no error.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1686622064,"post_id":76461229,"comment_id":134820941,"body_markdown":"Please provide relevant code and your effort in the question. See the minimal reproducible example https://stackoverflow.com/help/minimal-reproducible-example .","body":"Please provide relevant code and your effort in the question. See the minimal reproducible example <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> ."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686643823,"post_id":76461229,"comment_id":134823452,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28804190,"reputation":1,"user_id":22060415,"display_name":"芃于野"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686621503,"creation_date":1686620593,"question_id":76461229,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier\r\n\r\nThis is a exception when i run the test class, How to deal with this question?","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier","body":"<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestIdentifier</p>\n<p>This is a exception when i run the test class, How to deal with this question?</p>\n"},{"tags":["java","object","initialization"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1402742321,"post_id":15596193,"comment_id":37398277,"body_markdown":"possible duplicate of [What does it mean to &quot;program to an interface&quot;?](http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2081598,"reputation":9477,"user_id":1853479,"display_name":"j__m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364110564,"creation_date":1364110564,"answer_id":15596204,"question_id":15596193,"body_markdown":"The objects are the same.  However, because `sc1` is declared as type `superClass` you cannot use `subClass` methods on it without casting.","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>The objects are the same.  However, because <code>sc1</code> is declared as type <code>superClass</code> you cannot use <code>subClass</code> methods on it without casting.</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364110574,"creation_date":1364110574,"answer_id":15596205,"question_id":15596193,"body_markdown":"&gt; whats the difference between the two objects created using the above code?\r\n\r\nThe two objects are exactly the same. What&#39;s different is the type of the variable where the object reference is stored. In practice, this means that if there are any methods specific to `subClass`, you&#39;ll be able to access them through `sc2` but not through `sc1` (the latter would require a cast).","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<blockquote>\n  <p>whats the difference between the two objects created using the above code?</p>\n</blockquote>\n\n<p>The two objects are exactly the same. What's different is the type of the variable where the object reference is stored. In practice, this means that if there are any methods specific to <code>subClass</code>, you'll be able to access them through <code>sc2</code> but not through <code>sc1</code> (the latter would require a cast).</p>\n"},{"tags":[],"owner":{"account_id":329404,"reputation":14849,"user_id":652895,"accept_rate":96,"display_name":"Varun Achar"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1686620395,"creation_date":1364110632,"answer_id":15596211,"question_id":15596193,"body_markdown":"Simple explanation : \r\nWhen you use \r\n\r\n    SuperClass obj = new SubClass();\r\n\r\nOnly public methods that are defined in `SuperClass` are accessible. Methods defined in `SubClass` are not.\r\n\r\n\r\nWhen you use \r\n\r\n    SubClass obj = new SubClass(); \r\n\r\npublic methods defined in `SubClass` are also accessible along with the `SuperClass` public methods.\r\n\r\nObject created in both cases is the same.\r\n\r\nEx:\r\n\r\n\r\n\r\n    public class SuperClass {\r\n    \r\n      public void method1(){\r\n    \r\n      }\r\n    }\r\n    \r\n    public class SubClass extends SuperClass {\r\n      public void method2()\r\n      {\r\n     \r\n      }\r\n    }\r\n    \r\n    SubClass sub = new SubClass();\r\n    sub.method1();  //Valid through inheritance from SuperClass\r\n    sub.method2();  // Valid\r\n    \r\n    SuperClass superClass = new SubClass();\r\n    superClass.method1();\r\n    superClass.method2(); // Compilation Error since Reference is of SuperClass so only SuperClass methods are accessible.\r\n\r\n\r\n","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>Simple explanation :\nWhen you use</p>\n<pre><code>SuperClass obj = new SubClass();\n</code></pre>\n<p>Only public methods that are defined in <code>SuperClass</code> are accessible. Methods defined in <code>SubClass</code> are not.</p>\n<p>When you use</p>\n<pre><code>SubClass obj = new SubClass(); \n</code></pre>\n<p>public methods defined in <code>SubClass</code> are also accessible along with the <code>SuperClass</code> public methods.</p>\n<p>Object created in both cases is the same.</p>\n<p>Ex:</p>\n<pre><code>public class SuperClass {\n\n  public void method1(){\n\n  }\n}\n\npublic class SubClass extends SuperClass {\n  public void method2()\n  {\n \n  }\n}\n\nSubClass sub = new SubClass();\nsub.method1();  //Valid through inheritance from SuperClass\nsub.method2();  // Valid\n\nSuperClass superClass = new SubClass();\nsuperClass.method1();\nsuperClass.method2(); // Compilation Error since Reference is of SuperClass so only SuperClass methods are accessible.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364111098,"creation_date":1364110727,"answer_id":15596220,"question_id":15596193,"body_markdown":"In both the cases, objects of `subClass` will be created, but the references will be different.\r\n\r\nWith the reference of `superClass` i.e `sc1` , you won&#39;t be able to invoke the methods present in the `subClass` but not in the `superClass`. You will require casting to invoke the `subClass` methods.\r\n\r\nLike :\r\n\r\n\r\n    class superClass {\r\n       public void superClassMethod(){\r\n       }\r\n    }\r\n    \r\n    class subClass extends superClass{\r\n       public void subClassMethod(){\r\n       }\r\n    }\r\n\r\n\r\nNow :\r\n\r\n    public class test\r\n    {\r\n      public static void main(){\r\n    \r\n        superClass sc1 = new subClass();\r\n        subClass sc2 = new subClass();\r\n        //whats the difference between the two objects created using the above code?\r\n         \r\n    \r\n        sc2.subClassMethod(); //this is valid\r\n       \r\n        sc1.subClassMethod(); // this is a compiler error, \r\n                              // as no method named subClassMethod\r\n                              // is present in the superClass as the\r\n                              // reference is of superClass type\r\n    \r\n       // for this you require a type cast\r\n    \r\n       (subClass)sc1.subClassMethod(); // Now this is valid\r\n    \r\n      }\r\n    }","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>In both the cases, objects of <code>subClass</code> will be created, but the references will be different.</p>\n\n<p>With the reference of <code>superClass</code> i.e <code>sc1</code> , you won't be able to invoke the methods present in the <code>subClass</code> but not in the <code>superClass</code>. You will require casting to invoke the <code>subClass</code> methods.</p>\n\n<p>Like :</p>\n\n<pre><code>class superClass {\n   public void superClassMethod(){\n   }\n}\n\nclass subClass extends superClass{\n   public void subClassMethod(){\n   }\n}\n</code></pre>\n\n<p>Now :</p>\n\n<pre><code>public class test\n{\n  public static void main(){\n\n    superClass sc1 = new subClass();\n    subClass sc2 = new subClass();\n    //whats the difference between the two objects created using the above code?\n\n\n    sc2.subClassMethod(); //this is valid\n\n    sc1.subClassMethod(); // this is a compiler error, \n                          // as no method named subClassMethod\n                          // is present in the superClass as the\n                          // reference is of superClass type\n\n   // for this you require a type cast\n\n   (subClass)sc1.subClassMethod(); // Now this is valid\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364114691,"creation_date":1364114691,"answer_id":15596619,"question_id":15596193,"body_markdown":"just think like this.\r\nwhen you using the parent (super class) reference you will get access to only the things(variable , methods) that parent has. but if you use the reference of child you will get everything that the parent and child have (child inherit properties from parent).","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>just think like this.\nwhen you using the parent (super class) reference you will get access to only the things(variable , methods) that parent has. but if you use the reference of child you will get everything that the parent and child have (child inherit properties from parent).</p>\n"},{"tags":[],"owner":{"account_id":3377410,"reputation":5006,"user_id":2835365,"display_name":"Alireza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402741886,"creation_date":1402741886,"answer_id":24218987,"question_id":15596193,"body_markdown":"In addition to the above answers, because the constructed object is really an object of type  `SubClass` you can cast it to `SubClass` and call the methods:\r\n\r\n    SuperClass superClass = new SubClass();\r\n    superClass.method1();\r\n    ((SubClass)superClass).method2();","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<p>In addition to the above answers, because the constructed object is really an object of type  <code>SubClass</code> you can cast it to <code>SubClass</code> and call the methods:</p>\n\n<pre><code>SuperClass superClass = new SubClass();\nsuperClass.method1();\n((SubClass)superClass).method2();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20092627,"reputation":671,"user_id":14732792,"display_name":"Rasathurai Karan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640521783,"creation_date":1640498370,"answer_id":70484511,"question_id":15596193,"body_markdown":" \r\n\r\n    public class SuperClass {\r\n        \r\n          public void method1(){\r\n        \r\n          }\r\n    \r\n     public void method3(){\r\n        \r\n          }\r\n    \r\n    \r\n        }\r\n        \r\n        public class SubClass extends SuperClass {\r\n          public void method2()\r\n          {\r\n        \r\n          }\r\n    @override\r\n     public void method3(){\r\n        \r\n          }\r\n        }\r\n        \r\n        SubClass sub = new SubClass();\r\n        sub.method1();  //Valid through inheritance from SuperClass\r\n        sub.method2();  // Valid \r\n        sub.method3();//valid \r\n\r\n    \r\n       superClass sc1 = new subClass();\r\n        superClass.method1();\r\n    superClass.method2();////compilation error: cannot find symbol method\r\n    superClass.method3();//run over ridden version\r\n\r\n    superClass sc1 = new subClass();\r\nYou can invoke all the methods defined in theSuperClass  for the reference sc1, (which is actually holding a Subclass object), \r\nThis is because a subclass instance possesses all the properties of its superclass.\r\n\r\n\r\n\r\nHowever, you CANNOT invoke methods defined in the  subclass for the reference sc1, .\r\n\r\n// CANNOT invoke methods in Subclass as sc1 is a superclass reference\r\n\r\nThis is because sc1 is a reference to the Superclass, which does not know about methods defined in the subclass .\r\n\r\nsc1 is a reference to the Superclass, but holds an object of its subclass . The reference sc1, however, retains its internal identity. In our example, the subclass  overrides methods Method3 . sc1.Method3  invokes the overridden version defined in the subclass , instead of the version defined in superclass. This is because sc1 is in fact holding a subclass object internally.\r\n\r\n","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<pre><code>public class SuperClass {\n    \n      public void method1(){\n    \n      }\n\n public void method3(){\n    \n      }\n\n\n    }\n    \n    public class SubClass extends SuperClass {\n      public void method2()\n      {\n    \n      }\n@override\n public void method3(){\n    \n      }\n    }\n    \n    SubClass sub = new SubClass();\n    sub.method1();  //Valid through inheritance from SuperClass\n    sub.method2();  // Valid \n    sub.method3();//valid \n\n\n   superClass sc1 = new subClass();\n    superClass.method1();\nsuperClass.method2();////compilation error: cannot find symbol method\nsuperClass.method3();//run over ridden version\n\nsuperClass sc1 = new subClass();\n</code></pre>\n<p>You can invoke all the methods defined in theSuperClass  for the reference sc1, (which is actually holding a Subclass object),\nThis is because a subclass instance possesses all the properties of its superclass.</p>\n<p>However, you CANNOT invoke methods defined in the  subclass for the reference sc1, .</p>\n<p>// CANNOT invoke methods in Subclass as sc1 is a superclass reference</p>\n<p>This is because sc1 is a reference to the Superclass, which does not know about methods defined in the subclass .</p>\n<p>sc1 is a reference to the Superclass, but holds an object of its subclass . The reference sc1, however, retains its internal identity. In our example, the subclass  overrides methods Method3 . sc1.Method3  invokes the overridden version defined in the subclass , instead of the version defined in superclass. This is because sc1 is in fact holding a subclass object internally.</p>\n"}],"owner":{"account_id":1502550,"reputation":175,"user_id":1406739,"display_name":"flav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12751,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15596211,"answer_count":7,"score":5,"last_activity_date":1686620395,"creation_date":1364110479,"question_id":15596193,"body_markdown":"    class superClass {}\r\n    \r\n    class subClass extends superClass{}\r\n    \r\n    public class test\r\n    {\r\n    \r\n        public static void main()\r\n    \r\n    {\r\n    \r\n        superClass sc1 = new subClass();\r\n        subClass sc2 = new subClass();\r\n        //whats the difference between the two objects created using the above code?\r\n    \r\n    }\r\n    }","title":"Whats the difference between subClass sc = new subClass() and superClass sc = new subClass?","body":"<pre><code>class superClass {}\n\nclass subClass extends superClass{}\n\npublic class test\n{\n\n    public static void main()\n\n{\n\n    superClass sc1 = new subClass();\n    subClass sc2 = new subClass();\n    //whats the difference between the two objects created using the above code?\n\n}\n}\n</code></pre>\n"},{"tags":["java","zipinputstream","gzipinputstream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686620934,"post_id":76461195,"comment_id":134820849,"body_markdown":"I don&#39;t think you want to close it. See [here](https://stackoverflow.com/a/50648338/1553851) for how you can delegate `close()` to `closeEntry()`.","body":"I don&#39;t think you want to close it. See <a href=\"https://stackoverflow.com/a/50648338/1553851\">here</a> for how you can delegate <code>close()</code> to <code>closeEntry()</code>."}],"owner":{"account_id":7537904,"reputation":1761,"user_id":5723609,"accept_rate":65,"display_name":"Guo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686620113,"creation_date":1686620113,"question_id":76461195,"body_markdown":"sample code:  \r\n\r\n    import java.io.*;\r\n    import java.util.zip.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            try(FileInputStream fileInputStream = new FileInputStream(&quot;xxx.zip&quot;);\r\n                ZipInputStream zipIn = new ZipInputStream(fileInputStream)){\r\n                ZipEntry entry;\r\n                while ((entry = zipIn.getNextEntry()) != null) {\r\n                    try {\r\n                        if (!entry.isDirectory() &amp;&amp; entry.getName().endsWith(&quot;.gz&quot;)) {\r\n                         \r\n                            GZIPInputStream gzipIn = new GZIPInputStream(zipIn);\r\n    \r\n                            // do something\r\n                            // .......\r\n                            // do something\r\n    \r\n                            /*\r\n                             * Do I need to close the GZIPInputStream?\r\n                             * Closing the GZIPInputStream will cause the entire ZipInputStream to be closed.\r\n                             * If it is not closed, will it lead to memory leaks?\r\n                             */\r\n                            gzipIn.close();\r\n    \r\n                        }\r\n                    } finally {\r\n                        zipIn.closeEntry();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow to do?\r\n","title":"Do I need to close the GZIPInputStream when unpacking the gzip in a zip file?","body":"<p>sample code:</p>\n<pre><code>import java.io.*;\nimport java.util.zip.*;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        try(FileInputStream fileInputStream = new FileInputStream(&quot;xxx.zip&quot;);\n            ZipInputStream zipIn = new ZipInputStream(fileInputStream)){\n            ZipEntry entry;\n            while ((entry = zipIn.getNextEntry()) != null) {\n                try {\n                    if (!entry.isDirectory() &amp;&amp; entry.getName().endsWith(&quot;.gz&quot;)) {\n                     \n                        GZIPInputStream gzipIn = new GZIPInputStream(zipIn);\n\n                        // do something\n                        // .......\n                        // do something\n\n                        /*\n                         * Do I need to close the GZIPInputStream?\n                         * Closing the GZIPInputStream will cause the entire ZipInputStream to be closed.\n                         * If it is not closed, will it lead to memory leaks?\n                         */\n                        gzipIn.close();\n\n                    }\n                } finally {\n                    zipIn.closeEntry();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>How to do?</p>\n"},{"tags":["java","http","apache-commons"],"owner":{"account_id":23184907,"reputation":27,"user_id":17282180,"display_name":"Iosiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686619194,"creation_date":1686619194,"question_id":76461156,"body_markdown":"I&#39;m trying to build a method that validates a given host name has the right HTTP format according to RFC 9110 [see here][1]. Basically, i want this:\r\n\r\n```\r\ntest.domain.com -&gt; pass\r\ndomain:port -&gt; pass\r\nuser:pass@test.domain -&gt; fail\r\ntest.domain.com/foo -&gt; fail\r\n```\r\n\r\nMy current implementation is:\r\n\r\n```\r\nboolean isValidHost(String host) {\r\n\tif (host.contains(&quot;/&quot;)) return false;\r\n\treturn UrlValidator.getInstance().isValid(&quot;https://&quot; + host);\r\n}\r\n```\r\nwhere the `UrlValidator` belongs to `org.apache.commons.validator.routines.UrlValidator`. This implementation however accepts the host `user:pass@test.domain`, which is not compliant. Any hints of a better approach?\r\n\r\nNote: I rather use a library than custom solutions like regex.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc9110#name-host-and-authority","title":"Validate Host name for HTTP standard compliance in Java","body":"<p>I'm trying to build a method that validates a given host name has the right HTTP format according to RFC 9110 <a href=\"https://datatracker.ietf.org/doc/html/rfc9110#name-host-and-authority\" rel=\"nofollow noreferrer\">see here</a>. Basically, i want this:</p>\n<pre><code>test.domain.com -&gt; pass\ndomain:port -&gt; pass\nuser:pass@test.domain -&gt; fail\ntest.domain.com/foo -&gt; fail\n</code></pre>\n<p>My current implementation is:</p>\n<pre><code>boolean isValidHost(String host) {\n    if (host.contains(&quot;/&quot;)) return false;\n    return UrlValidator.getInstance().isValid(&quot;https://&quot; + host);\n}\n</code></pre>\n<p>where the <code>UrlValidator</code> belongs to <code>org.apache.commons.validator.routines.UrlValidator</code>. This implementation however accepts the host <code>user:pass@test.domain</code>, which is not compliant. Any hints of a better approach?</p>\n<p>Note: I rather use a library than custom solutions like regex.</p>\n"},{"tags":["java","selenium-webdriver","htmlunit","nosuchelementexception","htmlunit-driver"],"comments":[{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":0,"creation_date":1595101207,"post_id":62968163,"comment_id":111360399,"body_markdown":"After you getting an error message?","body":"After you getting an error message?"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1595104311,"post_id":62968163,"comment_id":111361263,"body_markdown":"@AnirudhTEAM You haven&#39;t told us where you are stuck. Your code works at my end.","body":"@AnirudhTEAM You haven&#39;t told us where you are stuck. Your code works at my end."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595189394,"creation_date":1595189394,"answer_id":62985147,"question_id":62968163,"body_markdown":"Ideally, to use [tag:htmlunit-driver] you need to download [**htmlunit-driver-2.42.0-jar-with-dependencies.jar**](https://github.com/SeleniumHQ/htmlunit-driver/releases/tag/2.42.0) the [latest release](https://github.com/SeleniumHQ/htmlunit-driver/releases) as of today.\r\n\r\nThe below code block works perfect at my end:\r\n\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.htmlunit.HtmlUnitDriver;\r\n\timport org.openqa.selenium.support.ui.ExpectedConditions;\r\n\timport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n\tpublic class HtmlUnitDriverDemo {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t    HtmlUnitDriver driver = new HtmlUnitDriver();\r\n\t\t    driver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\r\n\t\t    System.out.println(driver.getCurrentUrl()+driver.getTitle()); \r\n\t\t    new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;)));\r\n\t\t    driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\r\n\t\t    driver.findElement(By.id(&quot;loginbtn&quot;)).click();\r\n\t\t}\r\n\t}\r\n\t\r\nConsole Output:\r\n\r\n\thttps://www.vignanits.ac.in/server/moodle/login/index.phpVIGNAN MOODLE: Log in to the site\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReference\r\n---------\r\nYou can find a detailed discussion on [NoSuchElementException](https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233) in:\r\n\r\n- [NoSuchElementException, Selenium unable to locate element](https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940)","title":"How to send the login credentials using HtmlUnitDriver and Selenium Java","body":"<p>Ideally, to use <a href=\"/questions/tagged/htmlunit-driver\" class=\"post-tag\" title=\"show questions tagged &#39;htmlunit-driver&#39;\" rel=\"tag\">htmlunit-driver</a> you need to download <a href=\"https://github.com/SeleniumHQ/htmlunit-driver/releases/tag/2.42.0\" rel=\"nofollow noreferrer\"><strong>htmlunit-driver-2.42.0-jar-with-dependencies.jar</strong></a> the <a href=\"https://github.com/SeleniumHQ/htmlunit-driver/releases\" rel=\"nofollow noreferrer\">latest release</a> as of today.</p>\n<p>The below code block works perfect at my end:</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class HtmlUnitDriverDemo {\n\n    public static void main(String[] args) {\n\n        HtmlUnitDriver driver = new HtmlUnitDriver();\n        driver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\n        System.out.println(driver.getCurrentUrl()+driver.getTitle()); \n        new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;)));\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\n        driver.findElement(By.id(&quot;loginbtn&quot;)).click();\n    }\n}\n</code></pre>\n<p>Console Output:</p>\n<pre><code>https://www.vignanits.ac.in/server/moodle/login/index.phpVIGNAN MOODLE: Log in to the site\n</code></pre>\n<hr />\n<h2>Reference</h2>\n<p>You can find a detailed discussion on <a href=\"https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233\">NoSuchElementException</a> in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940\">NoSuchElementException, Selenium unable to locate element</a></li>\n</ul>\n"}],"owner":{"account_id":19105763,"reputation":11,"user_id":13952947,"display_name":"AnirudhTEAM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686618188,"creation_date":1595072735,"question_id":62968163,"body_markdown":"I&#39;m tring to send the login credentials within the username and password field https://www.vignanits.ac.in/server/moodle/login/index.php which needed to be automated using HtmlUnitDriver but facing NoSuchElementException.\r\n\r\nCode trials:\r\n\r\n```\r\npackage leela;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\r\n\r\nimport com.gargoylesoftware.htmlunit.WebClient;\r\n\r\npublic class LeelaHtmlUnit {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\t\tHtmlUnitDriver driver = new HtmlUnitDriver(true);\r\n\t\tdriver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\r\n\t\tSystem.out.println(driver.getCurrentUrl()+driver.getTitle()); \r\n\t\tdriver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;xyz&quot;);\r\n\t\tdriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\r\n\t\tdriver.findElement(By.id(&quot;loginbtn&quot;)).click();\r\n\t\tSystem.out.println(driver.getCurrentUrl()+driver.getTitle());\r\n\t}\r\n\r\n}\r\n```","title":"How to send the login credentials using HtmlUnitDriver and Selenium Java","body":"<p>I'm tring to send the login credentials within the username and password field <a href=\"https://www.vignanits.ac.in/server/moodle/login/index.php\" rel=\"nofollow noreferrer\">https://www.vignanits.ac.in/server/moodle/login/index.php</a> which needed to be automated using HtmlUnitDriver but facing NoSuchElementException.</p>\n<p>Code trials:</p>\n<pre><code>package leela;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.htmlunit.HtmlUnitDriver;\n\nimport com.gargoylesoftware.htmlunit.WebClient;\n\npublic class LeelaHtmlUnit {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n        HtmlUnitDriver driver = new HtmlUnitDriver(true);\n        driver.get(&quot;https://www.vignanits.ac.in/server/moodle/login/index.php&quot;);\n        System.out.println(driver.getCurrentUrl()+driver.getTitle()); \n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;xyz&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;xyz&quot;);\n        driver.findElement(By.id(&quot;loginbtn&quot;)).click();\n        System.out.println(driver.getCurrentUrl()+driver.getTitle());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sum"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1483707145,"post_id":41506150,"comment_id":70217650,"body_markdown":"`sum = sum + i` - you seem to have missed the negatives.","body":"<code>sum = sum + i</code> - you seem to have missed the negatives."},{"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"score":0,"creation_date":1483707213,"post_id":41506150,"comment_id":70217695,"body_markdown":"@BoristheSpider Yeah, that is my main problem","body":"@BoristheSpider Yeah, that is my main problem"},{"owner":{"account_id":7517740,"reputation":7252,"user_id":5710637,"display_name":"fafl"},"score":2,"creation_date":1483707268,"post_id":41506150,"comment_id":70217726,"body_markdown":"You can get it directly with `sum = n % 2 == 0 ? -n : n`","body":"You can get it directly with <code>sum = n % 2 == 0 ? -n : n</code>"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1483707285,"post_id":41506150,"comment_id":70217737,"body_markdown":"Also note that `1 - 3 + 5 - 7 + 9 - 11 + 13 ... = 1 + (5 - 3) + (9 - 7) + (13 - 11) ... = 1 + 2 + 2 + 2 ...`.","body":"Also note that <code>1 - 3 + 5 - 7 + 9 - 11 + 13 ... = 1 + (5 - 3) + (9 - 7) + (13 - 11) ... = 1 + 2 + 2 + 2 ...</code>."},{"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"score":0,"creation_date":1483707478,"post_id":41506150,"comment_id":70217870,"body_markdown":"Given `n := 4` is the answer suppoed to be `1-3 = -2` or `1-3+5-7 = -4`?","body":"Given <code>n := 4</code> is the answer suppoed to be <code>1-3 = -2</code> or <code>1-3+5-7 = -4</code>?"},{"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"score":0,"creation_date":1483707518,"post_id":41506150,"comment_id":70217896,"body_markdown":"@BoristheSpider Thank you! I will try to think about your suggestion :)","body":"@BoristheSpider Thank you! I will try to think about your suggestion :)"},{"owner":{"account_id":7517740,"reputation":7252,"user_id":5710637,"display_name":"fafl"},"score":2,"creation_date":1483707589,"post_id":41506150,"comment_id":70217944,"body_markdown":"Guys, the results are 1, -2, 3, -4, 5, -6 and so on. It&#39;s just `n` with every even number being negative.","body":"Guys, the results are 1, -2, 3, -4, 5, -6 and so on. It&#39;s just <code>n</code> with every even number being negative."},{"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"score":1,"creation_date":1483707591,"post_id":41506150,"comment_id":70217945,"body_markdown":"@RobinKoch The first one","body":"@RobinKoch The first one"},{"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"score":0,"creation_date":1483707920,"post_id":41506150,"comment_id":70218134,"body_markdown":"@dasblinkenlight A math based solution would be `return math.pow(-1, n%2+1)*n` (for n given the number of summands which is not the assignment accoriding to Anna)","body":"@dasblinkenlight A math based solution would be <code>return math.pow(-1, n%2+1)*n</code> (for n given the number of summands which is not the assignment accoriding to Anna)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686621571,"post_id":41506150,"comment_id":134820900,"body_markdown":"`-n * (1-2*(n&amp;1))`. Don&#39;t use that if you don&#39;t understand it.","body":"<code>-n * (1-2*(n&amp;1))</code>. Don&#39;t use that if you don&#39;t understand it."}],"answers":[{"tags":[],"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1483769190,"creation_date":1483707604,"answer_id":41506309,"question_id":41506150,"body_markdown":"May be you want this\r\n\r\nIf I enter **i/p 7** this will produce **-4 as o/p**\r\n\r\n    for (int i = 1; i &lt;= n; i+=2) {\r\n            if( i % 4 == 1 )\r\n                sum = sum + i;\r\n            else\r\n                sum = sum - i;\r\n    }\r\n\r\nin  @fafl style (Using Ternary operator), correct me if I&#39;m wrong\r\n\r\n    sum += (i % 2 != 0) ? ( i % 4 == 1 ) ? + i : - i;\r\n\r\nIf I enter **i/p 7** this will produce **7 as o/p**\r\n\r\n    \t\tint n = input.nextInt();\r\n\t\t    int sum = 0;\r\n\t\t    int addOrDedduct = 1;\r\n\t\t    for (int i = 1; i &lt;= n; i++ ) {\r\n\t\t            if( addOrDedduct % 4 == 1 )\r\n\t\t                sum = sum + addOrDedduct;\r\n\t\t            else\r\n\t\t                sum = sum - addOrDedduct;\r\n\t\t            addOrDedduct+=2;\r\n\t\t    }\r\n\t\t    System.out.println(sum);\r\n**Update:**  \r\nfafl&#39;s statement `sum = n % 2 == 0 ? -n : n` producing same o/p, Here you don&#39;t need to use `loop`   \r\nForget about the loop and use fafl&#39;s answer.  \r\n","title":"Sum of odd numbers","body":"<p>May be you want this</p>\n\n<p>If I enter <strong>i/p 7</strong> this will produce <strong>-4 as o/p</strong></p>\n\n<pre><code>for (int i = 1; i &lt;= n; i+=2) {\n        if( i % 4 == 1 )\n            sum = sum + i;\n        else\n            sum = sum - i;\n}\n</code></pre>\n\n<p>in  @fafl style (Using Ternary operator), correct me if I'm wrong</p>\n\n<pre><code>sum += (i % 2 != 0) ? ( i % 4 == 1 ) ? + i : - i;\n</code></pre>\n\n<p>If I enter <strong>i/p 7</strong> this will produce <strong>7 as o/p</strong></p>\n\n<pre><code>        int n = input.nextInt();\n        int sum = 0;\n        int addOrDedduct = 1;\n        for (int i = 1; i &lt;= n; i++ ) {\n                if( addOrDedduct % 4 == 1 )\n                    sum = sum + addOrDedduct;\n                else\n                    sum = sum - addOrDedduct;\n                addOrDedduct+=2;\n        }\n        System.out.println(sum);\n</code></pre>\n\n<p><strong>Update:</strong><br>\nfafl's statement <code>sum = n % 2 == 0 ? -n : n</code> producing same o/p, Here you don't need to use <code>loop</code><br>\nForget about the loop and use fafl's answer.  </p>\n"},{"tags":[],"owner":{"account_id":9880033,"reputation":191,"user_id":7316434,"display_name":"ErikWe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483707991,"creation_date":1483707991,"answer_id":41506409,"question_id":41506150,"body_markdown":"You can do this with an extra variable to check if you have to add or to subtract:\r\n\r\n        int sum = 0;\r\n\t\tboolean sub = false;\r\n\t\tfor (int i = 1; i &lt;= n; i++) {\r\n\t\t\tif (i % 2 == 1) {\r\n\t\t\t\tif (sub) {\r\n\t\t\t\t\tsum -= i;\r\n\t\t\t\t\tsub = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsum += i;\r\n\t\t\t\t\tsub = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\nThis solution is a bit hacky but it should work.","title":"Sum of odd numbers","body":"<p>You can do this with an extra variable to check if you have to add or to subtract:</p>\n\n<pre><code>    int sum = 0;\n    boolean sub = false;\n    for (int i = 1; i &lt;= n; i++) {\n        if (i % 2 == 1) {\n            if (sub) {\n                sum -= i;\n                sub = false;\n            } else {\n                sum += i;\n                sub = true;\n            }\n        }\n    }\n</code></pre>\n\n<p>This solution is a bit hacky but it should work.</p>\n"},{"tags":[],"owner":{"account_id":9981215,"reputation":84,"user_id":7384101,"display_name":"Bob"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483708041,"creation_date":1483708041,"answer_id":41506422,"question_id":41506150,"body_markdown":"Fafl is right with\r\nsum = n % 2 == 0 ? -n : n\r\n","title":"Sum of odd numbers","body":"<p>Fafl is right with\nsum = n % 2 == 0 ? -n : n</p>\n"},{"tags":[],"owner":{"account_id":6609894,"reputation":125,"user_id":5105437,"accept_rate":80,"display_name":"Levan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483708916,"creation_date":1483708439,"answer_id":41506554,"question_id":41506150,"body_markdown":"    Scanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter n= &quot;);\r\n\t\tint n = input.nextInt();\r\n\t\tint sum=0;\r\n\t\tboolean positive=false;\r\n\r\n\t\tfor(int i=1;i&lt;=n;i+=2){\r\n\t\t\tpositive=!positive;\r\n\t\t\tsum = positive? sum+i : sum-i; \r\n\t\t}\r\n\t\tSystem.out.println(sum);\r\n\t}\r\n","title":"Sum of odd numbers","body":"<pre><code>Scanner input = new Scanner(System.in);\n    System.out.println(\"Enter n= \");\n    int n = input.nextInt();\n    int sum=0;\n    boolean positive=false;\n\n    for(int i=1;i&lt;=n;i+=2){\n        positive=!positive;\n        sum = positive? sum+i : sum-i; \n    }\n    System.out.println(sum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6138731,"reputation":716,"user_id":4786769,"display_name":"Robin Koch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483708451,"creation_date":1483708451,"answer_id":41506557,"question_id":41506150,"body_markdown":"Using a for-loop, no modulo arithmitic:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int sum = 0\r\n    for (int i = 1; math.abs(i) &lt;= n; i = -math.signum(i)*(math.abs(i)+2)) {\r\n            sum += i;\r\n        }\r\n    system.out.println(sum)","title":"Sum of odd numbers","body":"<p>Using a for-loop, no modulo arithmitic:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int sum = 0\nfor (int i = 1; math.abs(i) &lt;= n; i = -math.signum(i)*(math.abs(i)+2)) {\n        sum += i;\n    }\nsystem.out.println(sum)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28801793,"reputation":1,"user_id":22058499,"display_name":"user22058499"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686617922,"creation_date":1686544236,"answer_id":76453658,"question_id":41506150,"body_markdown":"You can refer to the below code, if you want.\r\n    \r\n    package java.programs;\r\n     \r\n    import java.util.*;\r\n     \r\n    public class OddNumberSum {\r\n        public static void main(String args[]) {\r\n            int N, i, sum = 0;\r\n     \r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number&quot;);\r\n            N = in.nextInt();\r\n     \r\n            for(i = 0; i &lt;= N; i++){\r\n                if((i%2) == 1){\r\n                    sum += i;\r\n                }\r\n            }\r\n         \r\n            System.out.print(&quot;Sum of all odd numbers \r\n               between 0 to &quot; + N + &quot; = &quot; + sum);\r\n        }\r\n    }","title":"Sum of odd numbers","body":"<p>You can refer to the below code, if you want.</p>\n<pre><code>package java.programs;\n \nimport java.util.*;\n \npublic class OddNumberSum {\n    public static void main(String args[]) {\n        int N, i, sum = 0;\n \n        Scanner in = new Scanner(System.in);\n        System.out.println(&quot;Enter a number&quot;);\n        N = in.nextInt();\n \n        for(i = 0; i &lt;= N; i++){\n            if((i%2) == 1){\n                sum += i;\n            }\n        }\n     \n        System.out.print(&quot;Sum of all odd numbers \n           between 0 to &quot; + N + &quot; = &quot; + sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8803007,"reputation":57,"user_id":6578533,"accept_rate":60,"display_name":"Anna Nikolova"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41506309,"answer_count":6,"score":0,"last_activity_date":1686617922,"creation_date":1483707021,"question_id":41506150,"body_markdown":"You are given the sum 1 - 3 + 5 - 7 + 9 - 11 + 13... You should compile a program that (given integer N) finds and displays the value of the sum to the N-th addend.\r\n\r\nI don&#39;t even have an idea how this program should be. I&#39;ve written some code but  don&#39;t know what to add. Please, can you help me? :) \r\n\r\nHere is my code: \r\n\r\n    Scanner input = new Scanner(System.in);\r\n        \r\n    System.out.print(&quot;n = &quot;);\r\n    int n = input.nextInt();\r\n    int sum = 0;\r\n        \r\n    for (int i = 1; i &lt;= n; i++) {       \r\n        if (i % 2 != 0) {\r\n            sum = sum + i;\r\n        }\r\n    }\r\n        \r\n    System.out.println(sum);","title":"Sum of odd numbers","body":"<p>You are given the sum 1 - 3 + 5 - 7 + 9 - 11 + 13... You should compile a program that (given integer N) finds and displays the value of the sum to the N-th addend.</p>\n\n<p>I don't even have an idea how this program should be. I've written some code but  don't know what to add. Please, can you help me? :) </p>\n\n<p>Here is my code: </p>\n\n<pre><code>Scanner input = new Scanner(System.in);\n\nSystem.out.print(\"n = \");\nint n = input.nextInt();\nint sum = 0;\n\nfor (int i = 1; i &lt;= n; i++) {       \n    if (i % 2 != 0) {\n        sum = sum + i;\n    }\n}\n\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":["java","tomcat"],"owner":{"account_id":26287513,"reputation":1,"user_id":19954974,"display_name":"Kishor kumar K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686617792,"creation_date":1686415873,"question_id":76447216,"body_markdown":"As this is my first time configuring client hints, I am having a hard time getting the exact configuration in Tomcat server. Could you please assist me with this issue if you can? below hints have to configure in server side \r\n\r\n```\r\n Accept-CH: sec-ch-ua-platform-version,sec-ch-ua-full-version,sec-ch-ua-full-version-list,sec-ch-ua-model,sec-ch-ua-arch,sec-ch-ua-bitness, sec-ch-ua-wow64\r\n```","title":"How do I set the Accept-CH:sec-ch-ua-platform-version,sec-ch-ua-full-version in Tomcat server level?","body":"<p>As this is my first time configuring client hints, I am having a hard time getting the exact configuration in Tomcat server. Could you please assist me with this issue if you can? below hints have to configure in server side</p>\n<pre><code> Accept-CH: sec-ch-ua-platform-version,sec-ch-ua-full-version,sec-ch-ua-full-version-list,sec-ch-ua-model,sec-ch-ua-arch,sec-ch-ua-bitness, sec-ch-ua-wow64\n</code></pre>\n"},{"tags":["java","json","mongodb","kotlin"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686509527,"post_id":76431033,"comment_id":134804817,"body_markdown":"try to return simple `BsonDocument`s (without deserialization with `Person.class`) and print what result you have. It will allow you to see what documents you actually receive and whether it has anything with serialization at all or it&#39;s something different","body":"try to return simple <code>BsonDocument</code>s (without deserialization with <code>Person.class</code>) and print what result you have. It will allow you to see what documents you actually receive and whether it has anything with serialization at all or it&#39;s something different"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686509609,"post_id":76431033,"comment_id":134804829,"body_markdown":"also, you should provide a filter you use","body":"also, you should provide a filter you use"},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1686558039,"post_id":76431033,"comment_id":134809339,"body_markdown":"I am able to return the document correctly no problem. Can you provide an answer on how to use the coderegistry in my scenario?","body":"I am able to return the document correctly no problem. Can you provide an answer on how to use the coderegistry in my scenario?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686558550,"post_id":76431033,"comment_id":134809454,"body_markdown":"my question was whether the bson document corresponds to what fields you have in your class? I&#39;m not a java developer, but your case looks pretty straightforward if they match. Have you looked at https://stackoverflow.com/a/70718741/9492730?","body":"my question was whether the bson document corresponds to what fields you have in your class? I&#39;m not a java developer, but your case looks pretty straightforward if they match. Have you looked at <a href=\"https://stackoverflow.com/a/70718741/9492730\">stackoverflow.com/a/70718741/9492730</a>?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686558740,"post_id":76431033,"comment_id":134809493,"body_markdown":"Also, not sure about `JsonProperty` in java, in c# this property is called `BsonProperty`. Will it work if you replace it?","body":"Also, not sure about <code>JsonProperty</code> in java, in c# this property is called <code>BsonProperty</code>. Will it work if you replace it?"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1686558803,"post_id":76431033,"comment_id":134809504,"body_markdown":"see here https://www.mongodb.com/developer/languages/java/java-mapping-pojos/","body":"see here <a href=\"https://www.mongodb.com/developer/languages/java/java-mapping-pojos/\" rel=\"nofollow noreferrer\">mongodb.com/developer/languages/java/java-mapping-pojos</a>"}],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686617514,"creation_date":1686617514,"answer_id":76461093,"question_id":76431033,"body_markdown":"Below is some working code where you can see that I write to the DB and read back data.\r\n\r\nSeveral things are not clear in your question which may either explain why your attempt did not work, or I have misunderstood your requirement.\r\n\r\n#### `Person` class\r\n`Person` is a POJO - for this you probably don&#39;t want to use a straight `class`. In the way created it is awkward to construct the `Person` - I had to create a little helper method as there is no constructor in your class:\r\n\r\n```lang-java\r\nprivate static Person makePerson(String id, String type, int age) {\r\n    Person p = new Person();\r\n    p.setPersonID(id);\r\n    p.setType(type);\r\n    p.setAge(age);\r\n    return p;\r\n}\r\n```\r\n\r\nWhereas, if you make a few small alterations and use a `data class` then this implicitly gives you a constructor, `toString()`, `hashCode()`:\r\n```lang-kotlin\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\ndata class Person (     //&lt;&lt; round brackets\r\n\r\n    @JsonProperty(&quot;_id&quot;)\r\n    var personID: String? = null,  //&lt;&lt; comma\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    var type: String? = null,\r\n\r\n    @JsonProperty(&quot;age&quot;)\r\n    var age: Int? = null,\r\n\r\n)\r\n```\r\n\r\n#### Codec setup\r\n I don&#39;t think you have your Codecs setup in the right way.  (If a Codec is missing you will get a startup error.). Observe my working code.\r\n\r\n#### What is your intended output?\r\nYou say it is &quot;not as expected&quot;, is it that it is missing the age and name/type field? The field name is &quot;ID&quot; too, what do you want? `personID`, `_id` or `ID` ?\r\n\r\n#### How is your output implemented now?\r\nHow are you extracting and displaying the data in JSON - you don&#39;t say but given the annotations you use (`@JsonProperty`), you must be using Jackson, I have included that in my code sample.  The Quick Start Guide you refer to talks about `@BsonProperty` - this is for a different purpose - for how to name the fields in the database, where as `@JsonProperty` is for naming in JSON.\r\n\r\n#### Specimen code\r\n\r\n```lang-java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport org.bson.codecs.configuration.CodecRegistry;\r\nimport org.bson.codecs.pojo.PojoCodecProvider;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://127.0.0.1:27017&quot;);\r\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n        MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                .applyConnectionString(connectionString)\r\n                .codecRegistry(codecRegistry)\r\n                .build();\r\n        try (MongoClient mongoClient = MongoClients.create(clientSettings)) {\r\n            MongoDatabase database = mongoClient.getDatabase(&quot;person&quot;);\r\n            MongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class);\r\n\r\n            List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n            persons.add(makePerson(&quot;personId1&quot;, &quot;Lesley&quot;, 10));\r\n            persons.add(makePerson(&quot;personId2&quot;, &quot;Bob&quot;, 20));\r\n            persons.add(makePerson(&quot;personId3&quot;, &quot;Jane&quot;, 30));\r\n\r\n            collection.insertMany(persons);\r\n\r\n            List&lt;Person&gt; persons2 = collection.find().into(new ArrayList&lt;Person&gt;());\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(persons2));\r\n\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static Person makePerson(String id, String type, int age) {\r\n        Person p = new Person();\r\n        p.setPersonID(id);\r\n        p.setType(type);\r\n        p.setAge(age);\r\n        return p;\r\n    }\r\n}\r\n```\r\n\r\nAnd the output is:\r\n```lang-json\r\n[ {\r\n  &quot;_id&quot; : &quot;personId1&quot;,\r\n  &quot;name&quot; : &quot;Lesley&quot;,\r\n  &quot;age&quot; : 10\r\n}, {\r\n  &quot;_id&quot; : &quot;personId2&quot;,\r\n  &quot;name&quot; : &quot;Bob&quot;,\r\n  &quot;age&quot; : 20\r\n}, {\r\n  &quot;_id&quot; : &quot;personId3&quot;,\r\n  &quot;name&quot; : &quot;Jane&quot;,\r\n  &quot;age&quot; : 30\r\n} ]\r\n```\r\n\r\nAnd the dependencies I used:\r\n```lang-xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"MongoDB and java - CodecRegistry only returning an ID field rather than all fields in POJO?","body":"<p>Below is some working code where you can see that I write to the DB and read back data.</p>\n<p>Several things are not clear in your question which may either explain why your attempt did not work, or I have misunderstood your requirement.</p>\n<h4><code>Person</code> class</h4>\n<p><code>Person</code> is a POJO - for this you probably don't want to use a straight <code>class</code>. In the way created it is awkward to construct the <code>Person</code> - I had to create a little helper method as there is no constructor in your class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Person makePerson(String id, String type, int age) {\n    Person p = new Person();\n    p.setPersonID(id);\n    p.setType(type);\n    p.setAge(age);\n    return p;\n}\n</code></pre>\n<p>Whereas, if you make a few small alterations and use a <code>data class</code> then this implicitly gives you a constructor, <code>toString()</code>, <code>hashCode()</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\ndata class Person (     //&lt;&lt; round brackets\n\n    @JsonProperty(&quot;_id&quot;)\n    var personID: String? = null,  //&lt;&lt; comma\n\n    @JsonProperty(&quot;name&quot;)\n    var type: String? = null,\n\n    @JsonProperty(&quot;age&quot;)\n    var age: Int? = null,\n\n)\n</code></pre>\n<h4>Codec setup</h4>\n<p>I don't think you have your Codecs setup in the right way.  (If a Codec is missing you will get a startup error.). Observe my working code.</p>\n<h4>What is your intended output?</h4>\n<p>You say it is &quot;not as expected&quot;, is it that it is missing the age and name/type field? The field name is &quot;ID&quot; too, what do you want? <code>personID</code>, <code>_id</code> or <code>ID</code> ?</p>\n<h4>How is your output implemented now?</h4>\n<p>How are you extracting and displaying the data in JSON - you don't say but given the annotations you use (<code>@JsonProperty</code>), you must be using Jackson, I have included that in my code sample.  The Quick Start Guide you refer to talks about <code>@BsonProperty</code> - this is for a different purpose - for how to name the fields in the database, where as <code>@JsonProperty</code> is for naming in JSON.</p>\n<h4>Specimen code</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.codecs.pojo.PojoCodecProvider;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        ConnectionString connectionString = new ConnectionString(&quot;mongodb://127.0.0.1:27017&quot;);\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n        MongoClientSettings clientSettings = MongoClientSettings.builder()\n                .applyConnectionString(connectionString)\n                .codecRegistry(codecRegistry)\n                .build();\n        try (MongoClient mongoClient = MongoClients.create(clientSettings)) {\n            MongoDatabase database = mongoClient.getDatabase(&quot;person&quot;);\n            MongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class);\n\n            List&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n            persons.add(makePerson(&quot;personId1&quot;, &quot;Lesley&quot;, 10));\n            persons.add(makePerson(&quot;personId2&quot;, &quot;Bob&quot;, 20));\n            persons.add(makePerson(&quot;personId3&quot;, &quot;Jane&quot;, 30));\n\n            collection.insertMany(persons);\n\n            List&lt;Person&gt; persons2 = collection.find().into(new ArrayList&lt;Person&gt;());\n            ObjectMapper mapper = new ObjectMapper();\n            System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(persons2));\n\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static Person makePerson(String id, String type, int age) {\n        Person p = new Person();\n        p.setPersonID(id);\n        p.setType(type);\n        p.setAge(age);\n        return p;\n    }\n}\n</code></pre>\n<p>And the output is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[ {\n  &quot;_id&quot; : &quot;personId1&quot;,\n  &quot;name&quot; : &quot;Lesley&quot;,\n  &quot;age&quot; : 10\n}, {\n  &quot;_id&quot; : &quot;personId2&quot;,\n  &quot;name&quot; : &quot;Bob&quot;,\n  &quot;age&quot; : 20\n}, {\n  &quot;_id&quot; : &quot;personId3&quot;,\n  &quot;name&quot; : &quot;Jane&quot;,\n  &quot;age&quot; : 30\n} ]\n</code></pre>\n<p>And the dependencies I used:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76461093,"answer_count":1,"score":0,"last_activity_date":1686617514,"creation_date":1686221068,"question_id":76431033,"body_markdown":"I have the following code to create my mongo client in my Java Spring project:\r\n\r\n    CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\r\n            fromProviders(PojoCodecProvider.builder().register(Person.class).automatic(true).build()));\r\n\r\n    MongoClientSettings settings = MongoClientSettings.builder()\r\n            .codecRegistry(pojoCodecRegistry)\r\n            .applyConnectionString(new ConnectionString(&quot;myConnectionStrng&quot;))\r\n            .build();\r\n\r\n    MongoClient mongoClient = MongoClients.create(settings);\r\n    MongoDatabase database = mongoClient.getDatabase(&quot;person&quot;).withCodecRegistry(pojoCodecRegistry);\r\n    MongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class).withCodecRegistry(pojoCodecRegistry);\r\n\r\nMy Kotilin Pojo is:\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    class Person {\r\n    \r\n        @JsonProperty(&quot;_id&quot;)\r\n        var personID: String? = null\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        var type: String? = null\r\n    \r\n        @JsonProperty(&quot;age&quot;)\r\n        var age: Int? = null\r\n    \t\r\n    }\r\n\r\nI am able to get a response but the response is not as expected, i.e. it is \r\n\r\n    {\r\n      &quot;persons&quot;: [\r\n        {\r\n          &quot;ID&quot;: &quot;personId1&quot;\r\n        },\r\n        {\r\n          &quot;ID&quot;: &quot;personId2&quot;\r\n        },\r\n        {\r\n          &quot;ID&quot;: &quot;personId3&quot;\r\n        }\r\n    }\r\n\r\nEach person object only shows some ID field rather than the fields in my POJO that I am expecting.\r\n\r\nWhat am I missing here? Do I need to define a custom codec for my Pojo? I am unsure as first time using this mongo library.\r\n","title":"MongoDB and java - CodecRegistry only returning an ID field rather than all fields in POJO?","body":"<p>I have the following code to create my mongo client in my Java Spring project:</p>\n<pre><code>CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\n        fromProviders(PojoCodecProvider.builder().register(Person.class).automatic(true).build()));\n\nMongoClientSettings settings = MongoClientSettings.builder()\n        .codecRegistry(pojoCodecRegistry)\n        .applyConnectionString(new ConnectionString(&quot;myConnectionStrng&quot;))\n        .build();\n\nMongoClient mongoClient = MongoClients.create(settings);\nMongoDatabase database = mongoClient.getDatabase(&quot;person&quot;).withCodecRegistry(pojoCodecRegistry);\nMongoCollection&lt;Person&gt; collection = database.getCollection(&quot;personCollection&quot;, Person.class).withCodecRegistry(pojoCodecRegistry);\n</code></pre>\n<p>My Kotilin Pojo is:</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\nclass Person {\n\n    @JsonProperty(&quot;_id&quot;)\n    var personID: String? = null\n\n    @JsonProperty(&quot;name&quot;)\n    var type: String? = null\n\n    @JsonProperty(&quot;age&quot;)\n    var age: Int? = null\n    \n}\n</code></pre>\n<p>I am able to get a response but the response is not as expected, i.e. it is</p>\n<pre><code>{\n  &quot;persons&quot;: [\n    {\n      &quot;ID&quot;: &quot;personId1&quot;\n    },\n    {\n      &quot;ID&quot;: &quot;personId2&quot;\n    },\n    {\n      &quot;ID&quot;: &quot;personId3&quot;\n    }\n}\n</code></pre>\n<p>Each person object only shows some ID field rather than the fields in my POJO that I am expecting.</p>\n<p>What am I missing here? Do I need to define a custom codec for my Pojo? I am unsure as first time using this mongo library.</p>\n"},{"tags":["java","android","database","sqlite","concurrency"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686617477,"creation_date":1686617477,"answer_id":76461092,"question_id":76456457,"body_markdown":"I would suggest **NOT** closing the database unless specifically required (say to backup the database as a single file if it is in WAL mode).\r\n\r\nWhenever you open the database it is a relatively resource hungry process. If you close the database, then it will have to subsequently be opened at some expense.\r\n\r\nAs such you may wish to consider using a singleton (i.e. have a single instance of the opened database).\r\n\r\nHowever, **ALWAYS** close a **Cursor** when done with it (which you are doing). A Cursor can be considered as a file and uses 1 of the limited available file allocations (about 1000 or so) for the operating system.\r\n\r\nWith regards to retrieving data from a Cursor, then rather than a moveToFirst and the do until moveToNext returns 0. You can simplify the code using `while(cursor.moveToNext) { .... }`. It is also inadvisable to use hard coded column offsets e.g. `bokmarks.setFileName(cursor.getString(1));` where 1 is the hard coded column offset and relies upon the 2nd column being the file name column and would have to be changed if the order of the columns in the cursor were to change. Instead you can utilise the `Cursor`&#39;s `getColumnIndex` method to get the offset according to the column&#39;s name irrespective of it&#39;s position within the `Cursor`.\r\n\r\nPutting the above together (making some assumptions) then you could have your class that extends SQLiteOpenHelper as (for example) :-\r\n\r\n    class MySQLiteOpenHelper extends SQLiteOpenHelper {\r\n    \r\n       public static final String DATABASE_FILENAME = &quot;mydatabase.db&quot;;\r\n       public static final int DATABASE_VERSION = 1;\r\n       public static final String KEY_FILE_NAME = &quot;kfn&quot;;\r\n       public static final String KEY_FILE_URI = &quot;kuri&quot;;\r\n       public static final String KEY_FILE_PATH = &quot;kpath&quot;;\r\n       public static final String KEY_MONTH_NAME = &quot;kmonth&quot;;\r\n       public static final String KEY_DATE = &quot;kdate&quot;;\r\n       public static final String TABLE_DETAIL = &quot;detail&quot;;\r\n    \r\n       @Override\r\n       public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n    \r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n    \r\n       }\r\n    \r\n       private MySQLiteOpenHelper(Context context) {\r\n          super(context,DATABASE_FILENAME,null,DATABASE_VERSION);\r\n       }\r\n    \r\n       private static volatile MySQLiteOpenHelper instance;\r\n       public static MySQLiteOpenHelper getMySQLiteOpenHelperInstance(Context context) {\r\n          if (instance==null) {\r\n             instance = new MySQLiteOpenHelper(context);\r\n          }\r\n          return instance;\r\n       }\r\n    \r\n       public void insertData(List&lt;ModelClass&gt; list) {\r\n          SQLiteDatabase dbase = this.getReadableDatabase();\r\n          dbase.beginTransaction();\r\n          try {\r\n             ContentValues values = new ContentValues();\r\n             for (ModelClass bokmark : list) {\r\n                values.put(KEY_FILE_NAME, bokmark.getFileName());\r\n                values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\r\n                values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\r\n                values.put(KEY_MONTH_NAME, bokmark.getMonthName());\r\n                values.put(KEY_DATE, bokmark.getAudioDate());\r\n    \r\n                dbase.insert(TABLE_DETAIL, null, values);\r\n             }\r\n             dbase.setTransactionSuccessful();\r\n          } finally {\r\n             dbase.endTransaction();\r\n          }\r\n          //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\r\n       }\r\n    \r\n       public ArrayList&lt;ModelClass&gt; getAllData() {\r\n          ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\r\n          String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\r\n          //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\r\n          SQLiteDatabase dbase = this.getReadableDatabase();\r\n          Cursor cursor = dbase.rawQuery(selectQuery, null);\r\n    \r\n          // looping through all rows and adding to list\r\n          /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; get the column offsfets according to the column name rather than hard coding the offsets &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; */\r\n          int fnidx = cursor.getColumnIndex(KEY_FILE_NAME);\r\n          int uriidx = cursor.getColumnIndex(KEY_FILE_URI);\r\n          int fpidx = cursor.getColumnIndex(KEY_FILE_PATH);\r\n          int mnidx = cursor.getColumnIndex(KEY_MONTH_NAME);\r\n          int didx = cursor.getColumnIndex(KEY_DATE);\r\n          while (cursor.moveToNext()) { /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Simpler while loop */\r\n             ModelClass bokmarks = new ModelClass();\r\n             bokmarks.setFileName(cursor.getString(fnidx));\r\n             bokmarks.setFileUri(parse(cursor.getString(uriidx)));\r\n             bokmarks.setFilePath(cursor.getString(fpidx));\r\n             bokmarks.setMonthName(cursor.getString(mnidx));\r\n             bokmarks.setAudioDate(cursor.getString(didx));\r\n             bookmarkList.add(bokmarks);\r\n          }\r\n          cursor.close();\r\n          //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\r\n          return bookmarkList;\r\n       }\r\n    }\r\n\r\n- ***Note** the above code is in-principle code, it has not been compiled and run so may contain some errors*\r\n\r\nAs for running in separate threads, there are many ways. Frequently the issue many encounter is understanding and coding for the detection and handling of the completion of the other thread, by the main thread, whenever that occurs.\r\n\r\nI would suggest having a look at https://developer.android.com/topic/performance/threads as a starting point. ","title":"Performing concurrent operations(Insert, retrieve data) in android sqlite","body":"<p>I would suggest <strong>NOT</strong> closing the database unless specifically required (say to backup the database as a single file if it is in WAL mode).</p>\n<p>Whenever you open the database it is a relatively resource hungry process. If you close the database, then it will have to subsequently be opened at some expense.</p>\n<p>As such you may wish to consider using a singleton (i.e. have a single instance of the opened database).</p>\n<p>However, <strong>ALWAYS</strong> close a <strong>Cursor</strong> when done with it (which you are doing). A Cursor can be considered as a file and uses 1 of the limited available file allocations (about 1000 or so) for the operating system.</p>\n<p>With regards to retrieving data from a Cursor, then rather than a moveToFirst and the do until moveToNext returns 0. You can simplify the code using <code>while(cursor.moveToNext) { .... }</code>. It is also inadvisable to use hard coded column offsets e.g. <code>bokmarks.setFileName(cursor.getString(1));</code> where 1 is the hard coded column offset and relies upon the 2nd column being the file name column and would have to be changed if the order of the columns in the cursor were to change. Instead you can utilise the <code>Cursor</code>'s <code>getColumnIndex</code> method to get the offset according to the column's name irrespective of it's position within the <code>Cursor</code>.</p>\n<p>Putting the above together (making some assumptions) then you could have your class that extends SQLiteOpenHelper as (for example) :-</p>\n<pre><code>class MySQLiteOpenHelper extends SQLiteOpenHelper {\n\n   public static final String DATABASE_FILENAME = &quot;mydatabase.db&quot;;\n   public static final int DATABASE_VERSION = 1;\n   public static final String KEY_FILE_NAME = &quot;kfn&quot;;\n   public static final String KEY_FILE_URI = &quot;kuri&quot;;\n   public static final String KEY_FILE_PATH = &quot;kpath&quot;;\n   public static final String KEY_MONTH_NAME = &quot;kmonth&quot;;\n   public static final String KEY_DATE = &quot;kdate&quot;;\n   public static final String TABLE_DETAIL = &quot;detail&quot;;\n\n   @Override\n   public void onCreate(SQLiteDatabase sqLiteDatabase) {\n\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n\n   }\n\n   private MySQLiteOpenHelper(Context context) {\n      super(context,DATABASE_FILENAME,null,DATABASE_VERSION);\n   }\n\n   private static volatile MySQLiteOpenHelper instance;\n   public static MySQLiteOpenHelper getMySQLiteOpenHelperInstance(Context context) {\n      if (instance==null) {\n         instance = new MySQLiteOpenHelper(context);\n      }\n      return instance;\n   }\n\n   public void insertData(List&lt;ModelClass&gt; list) {\n      SQLiteDatabase dbase = this.getReadableDatabase();\n      dbase.beginTransaction();\n      try {\n         ContentValues values = new ContentValues();\n         for (ModelClass bokmark : list) {\n            values.put(KEY_FILE_NAME, bokmark.getFileName());\n            values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\n            values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\n            values.put(KEY_MONTH_NAME, bokmark.getMonthName());\n            values.put(KEY_DATE, bokmark.getAudioDate());\n\n            dbase.insert(TABLE_DETAIL, null, values);\n         }\n         dbase.setTransactionSuccessful();\n      } finally {\n         dbase.endTransaction();\n      }\n      //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\n   }\n\n   public ArrayList&lt;ModelClass&gt; getAllData() {\n      ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\n      String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\n      //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\n      SQLiteDatabase dbase = this.getReadableDatabase();\n      Cursor cursor = dbase.rawQuery(selectQuery, null);\n\n      // looping through all rows and adding to list\n      /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; get the column offsfets according to the column name rather than hard coding the offsets &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; */\n      int fnidx = cursor.getColumnIndex(KEY_FILE_NAME);\n      int uriidx = cursor.getColumnIndex(KEY_FILE_URI);\n      int fpidx = cursor.getColumnIndex(KEY_FILE_PATH);\n      int mnidx = cursor.getColumnIndex(KEY_MONTH_NAME);\n      int didx = cursor.getColumnIndex(KEY_DATE);\n      while (cursor.moveToNext()) { /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Simpler while loop */\n         ModelClass bokmarks = new ModelClass();\n         bokmarks.setFileName(cursor.getString(fnidx));\n         bokmarks.setFileUri(parse(cursor.getString(uriidx)));\n         bokmarks.setFilePath(cursor.getString(fpidx));\n         bokmarks.setMonthName(cursor.getString(mnidx));\n         bokmarks.setAudioDate(cursor.getString(didx));\n         bookmarkList.add(bokmarks);\n      }\n      cursor.close();\n      //dbase.close(); /* &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; inefficient database will be closed when App is stopped as part of App cleanup */\n      return bookmarkList;\n   }\n}\n</code></pre>\n<ul>\n<li><em><strong>Note</strong> the above code is in-principle code, it has not been compiled and run so may contain some errors</em></li>\n</ul>\n<p>As for running in separate threads, there are many ways. Frequently the issue many encounter is understanding and coding for the detection and handling of the completion of the other thread, by the main thread, whenever that occurs.</p>\n<p>I would suggest having a look at <a href=\"https://developer.android.com/topic/performance/threads\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/performance/threads</a> as a starting point.</p>\n"}],"owner":{"account_id":16939345,"reputation":91,"user_id":12251590,"display_name":"CodeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686617477,"creation_date":1686571258,"question_id":76456457,"body_markdown":"i want to ask a question related to performing concurrent operations like inserting bulk of data and retrieving data at the same time while data insert operation is going on. I have tried threads for this scenario but no success.\r\n\r\nBelow are two functions for inserting and retrieving data from sqlite table\r\n\r\n    public void insertData(List&lt;ModelClass&gt; list) {\r\n            SQLiteDatabase dbase = this.getWritableDatabase();\r\n            dbase.beginTransaction();\r\n            try {\r\n                ContentValues values = new ContentValues();\r\n                for (ModelClass bokmark : list) {\r\n                    values.put(KEY_FILE_NAME, bokmark.getFileName());\r\n                    values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\r\n                    values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\r\n                    values.put(KEY_MONTH_NAME, bokmark.getMonthName());\r\n                    values.put(KEY_DATE, bokmark.getAudioDate());\r\n    \r\n                    dbase.insert(TABLE_DETAIL, null, values);\r\n                }\r\n                dbase.setTransactionSuccessful();\r\n            } finally {\r\n                dbase.endTransaction();\r\n            }\r\n    \r\n            dbase.close();\r\n    \r\n        }\r\n\r\nand below function for retrievel of data\r\n\r\n    public ArrayList&lt;ModelClass&gt; getAllData() {\r\n            ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\r\n            String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\r\n            //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\r\n            SQLiteDatabase dbase = this.getReadableDatabase();\r\n            Cursor cursor = dbase.rawQuery(selectQuery, null);\r\n    \r\n            // looping through all rows and adding to list\r\n            if (cursor.moveToFirst()) {\r\n                do {\r\n                    ModelClass bokmarks = new ModelClass();\r\n                    bokmarks.setFileName(cursor.getString(1));\r\n                    bokmarks.setFileUri(Uri.parse(cursor.getString(2)));\r\n                    bokmarks.setFilePath(cursor.getString(3));\r\n                    bokmarks.setMonthName(cursor.getString(4));\r\n                    bokmarks.setAudioDate(cursor.getString(5));\r\n    \r\n                    bookmarkList.add(bokmarks);\r\n                } while (cursor.moveToNext());\r\n            }\r\n            cursor.close();\r\n            dbase.close();\r\n    \r\n            return bookmarkList;\r\n        }\r\n\r\nOn searching internet, some links suggest to use threads. i have tried with threads but no luck. Anyone have guidance related to this will be helpful.","title":"Performing concurrent operations(Insert, retrieve data) in android sqlite","body":"<p>i want to ask a question related to performing concurrent operations like inserting bulk of data and retrieving data at the same time while data insert operation is going on. I have tried threads for this scenario but no success.</p>\n<p>Below are two functions for inserting and retrieving data from sqlite table</p>\n<pre><code>public void insertData(List&lt;ModelClass&gt; list) {\n        SQLiteDatabase dbase = this.getWritableDatabase();\n        dbase.beginTransaction();\n        try {\n            ContentValues values = new ContentValues();\n            for (ModelClass bokmark : list) {\n                values.put(KEY_FILE_NAME, bokmark.getFileName());\n                values.put(KEY_FILE_URI, String.valueOf(bokmark.getFileUri()));\n                values.put(KEY_FILE_PATH, String.valueOf(bokmark.getFilePath()));\n                values.put(KEY_MONTH_NAME, bokmark.getMonthName());\n                values.put(KEY_DATE, bokmark.getAudioDate());\n\n                dbase.insert(TABLE_DETAIL, null, values);\n            }\n            dbase.setTransactionSuccessful();\n        } finally {\n            dbase.endTransaction();\n        }\n\n        dbase.close();\n\n    }\n</code></pre>\n<p>and below function for retrievel of data</p>\n<pre><code>public ArrayList&lt;ModelClass&gt; getAllData() {\n        ArrayList&lt;ModelClass&gt; bookmarkList = new ArrayList&lt;ModelClass&gt;();\n        String selectQuery = &quot;SELECT * FROM &quot; + TABLE_DETAIL;\n        //Log.e(&quot;selectQuery===&gt;&quot;, &quot;&quot; + selectQuery);\n        SQLiteDatabase dbase = this.getReadableDatabase();\n        Cursor cursor = dbase.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                ModelClass bokmarks = new ModelClass();\n                bokmarks.setFileName(cursor.getString(1));\n                bokmarks.setFileUri(Uri.parse(cursor.getString(2)));\n                bokmarks.setFilePath(cursor.getString(3));\n                bokmarks.setMonthName(cursor.getString(4));\n                bokmarks.setAudioDate(cursor.getString(5));\n\n                bookmarkList.add(bokmarks);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        dbase.close();\n\n        return bookmarkList;\n    }\n</code></pre>\n<p>On searching internet, some links suggest to use threads. i have tried with threads but no luck. Anyone have guidance related to this will be helpful.</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1686644168,"post_id":76461091,"comment_id":134823529,"body_markdown":"What do you mean by &quot;in production&quot;? You don&#39;t build your application again for production, you build it, and test it, and then it goes to production (without any rebuild).","body":"What do you mean by &quot;in production&quot;? You don&#39;t build your application again for production, you build it, and test it, and then it goes to production (without any rebuild)."}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686617476,"creation_date":1686617476,"question_id":76461091,"body_markdown":"I would like to skip integration tests in Production during maven CI/CD pipeline.\r\n\r\nI am using following in my `pom.xml`\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groups&gt;IntegrationTest&lt;/groups&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIs there any configuration setting that will allow me to skip integration tests during CI/CD in Production?","title":"How do I skip integration tests in Production envrionment?","body":"<p>I would like to skip integration tests in Production during maven CI/CD pipeline.</p>\n<p>I am using following in my <code>pom.xml</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;groups&gt;IntegrationTest&lt;/groups&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Is there any configuration setting that will allow me to skip integration tests during CI/CD in Production?</p>\n"},{"tags":["java","node.js","mongoose","mongoose-schema"],"comments":[{"owner":{"account_id":15659011,"reputation":828,"user_id":11298380,"display_name":"The Coding Penguin"},"score":0,"creation_date":1686560972,"post_id":76446476,"comment_id":134809992,"body_markdown":"Please do not attach your code or errors as images, use code blocks instead (you already did that for some part of your code, why not for all of it?","body":"Please do not attach your code or errors as images, use code blocks instead (you already did that for some part of your code, why not for all of it?"}],"owner":{"account_id":24746241,"reputation":1,"user_id":18632383,"display_name":"Anjul Singhal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686617359,"creation_date":1686404502,"question_id":76446476,"body_markdown":"[image 2](https://i.stack.imgur.com/C9WWO.png)\r\n[image 3](https://i.stack.imgur.com/fXUIK.png)[output image](https://i.stack.imgur.com/TobBj.png)\r\n\r\nI am getting this error: `OverwriteModelError: Cannot overwrite `user` model once compiled.` \r\n\r\nPlease, resolve this error I&#39;m trying to find by nothing works.\r\n```\r\nconst express = require(&quot;express&quot;);\r\nconst router = express.Router();\r\nvar fatchuser = require(&quot;../middleware/fetchuser&quot;);\r\nconst Notes = require(&quot;../models/Notes&quot;);\r\n\r\n//ROUTE-1:  Get all the notes: GET &quot;/api/auth/getuser&quot;. Login require\r\nrouter.get(&quot;/fetchallnotes&quot;,fatchuser , async (req, res) =&gt; {\r\n  const notes = await Notes.find({user: req.user.id});\r\n  res.json(notes);\r\n});\r\nmodule.exports = router;\r\n```\r\n`user` is main problem and `user` value isn&#39;t coming.","title":"OverwriteModelError: Cannot overwrite model once compiled","body":"<p><a href=\"https://i.stack.imgur.com/C9WWO.png\" rel=\"nofollow noreferrer\">image 2</a>\n<a href=\"https://i.stack.imgur.com/fXUIK.png\" rel=\"nofollow noreferrer\">image 3</a><a href=\"https://i.stack.imgur.com/TobBj.png\" rel=\"nofollow noreferrer\">output image</a></p>\n<p>I am getting this error: <code>OverwriteModelError: Cannot overwrite </code>user<code> model once compiled.</code></p>\n<p>Please, resolve this error I'm trying to find by nothing works.</p>\n<pre><code>const express = require(&quot;express&quot;);\nconst router = express.Router();\nvar fatchuser = require(&quot;../middleware/fetchuser&quot;);\nconst Notes = require(&quot;../models/Notes&quot;);\n\n//ROUTE-1:  Get all the notes: GET &quot;/api/auth/getuser&quot;. Login require\nrouter.get(&quot;/fetchallnotes&quot;,fatchuser , async (req, res) =&gt; {\n  const notes = await Notes.find({user: req.user.id});\n  res.json(notes);\n});\nmodule.exports = router;\n</code></pre>\n<p><code>user</code> is main problem and <code>user</code> value isn't coming.</p>\n"},{"tags":["java","spring","spring-boot","csv","opencsv"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669119647,"post_id":74525597,"comment_id":131566922,"body_markdown":"Does anybody have never used filter in OpenCSV?","body":"Does anybody have never used filter in OpenCSV?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":1,"creation_date":1672132929,"post_id":74525597,"comment_id":132225868,"body_markdown":"You need to try first and show us, then if something is wrong, we will help you.","body":"You need to try first and show us, then if something is wrong, we will help you."}],"answers":[{"tags":[],"owner":{"account_id":9865655,"reputation":43,"user_id":7307214,"display_name":"Jagruti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685842226,"creation_date":1685842226,"answer_id":76398630,"question_id":74525597,"body_markdown":"Hope this helps\r\nList FilterbycoumnValue= new CsvToBeanBuilder&lt;Product&gt;\r\n                .withFilter(line -&gt; line[1].equals(value))\r\n              ","title":"OpenCSV : Using a custom filter based on column value?","body":"<p>Hope this helps\nList FilterbycoumnValue= new CsvToBeanBuilder\n.withFilter(line -&gt; line[1].equals(value))</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686616759,"creation_date":1669069992,"question_id":74525597,"body_markdown":"I use OpenCSV in order to read CSV file and I use the Java stream method after reading all the rows of CSV file:\r\n\r\n\r\n\r\n```\r\npublic class CsvHelper {\r\n\r\n    private enum Headers {\r\n        ID,\r\n        NAME,\r\n        EMAIL,\r\n        COUNTRY\r\n    }\r\n\r\n    public static List&lt;EmployeeRequest&gt; csvToEmployees(InputStream is) throws IllegalAccessException {\r\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));\r\n             CSVParser parser = new CSVParser(reader,\r\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim())) {\r\n\r\n            List&lt;EmployeeRequest&gt; employees = new ArrayList&lt;&gt;();\r\n            Iterable&lt;CSVRecord&gt; records = parser.getRecords();\r\n\r\n            for (CSVRecord rec : records) {\r\n                EmployeeRequest employee = new EmployeeRequest(\r\n                        Long.parseLong(rec.get(Headers.ID)),\r\n                        rec.get(Headers.NAME),\r\n                        rec.get(Headers.EMAIL),\r\n                        rec.get(Headers.COUNTRY)\r\n                );\r\n                employees.add(employee);\r\n            }\r\n            return employees;\r\n        } catch (IOException e) {\r\n            throw new IllegalAccessException(&quot;Failed: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nBut in order to use the same `csvToEmployees` method multiple times, I need to apply some filter based on some field e.g. `NAME`. I found something on the following page, but not sure if it is the most proper approach for filtering that I mentioned.So, any idea about this issue? \r\n\r\nhttps://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanFilter.html ","title":"OpenCSV : Using a custom filter based on column value?","body":"<p>I use OpenCSV in order to read CSV file and I use the Java stream method after reading all the rows of CSV file:</p>\n<pre><code>public class CsvHelper {\n\n    private enum Headers {\n        ID,\n        NAME,\n        EMAIL,\n        COUNTRY\n    }\n\n    public static List&lt;EmployeeRequest&gt; csvToEmployees(InputStream is) throws IllegalAccessException {\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));\n             CSVParser parser = new CSVParser(reader,\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim())) {\n\n            List&lt;EmployeeRequest&gt; employees = new ArrayList&lt;&gt;();\n            Iterable&lt;CSVRecord&gt; records = parser.getRecords();\n\n            for (CSVRecord rec : records) {\n                EmployeeRequest employee = new EmployeeRequest(\n                        Long.parseLong(rec.get(Headers.ID)),\n                        rec.get(Headers.NAME),\n                        rec.get(Headers.EMAIL),\n                        rec.get(Headers.COUNTRY)\n                );\n                employees.add(employee);\n            }\n            return employees;\n        } catch (IOException e) {\n            throw new IllegalAccessException(&quot;Failed: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>But in order to use the same <code>csvToEmployees</code> method multiple times, I need to apply some filter based on some field e.g. <code>NAME</code>. I found something on the following page, but not sure if it is the most proper approach for filtering that I mentioned.So, any idea about this issue?</p>\n<p><a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanFilter.html\" rel=\"nofollow noreferrer\">https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/CsvToBeanFilter.html</a></p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686667219,"post_id":76460986,"comment_id":134828752,"body_markdown":"Your Thing-&gt;Baz reference requires the bazkey value to be set within Baz, and that is what identifies one Baz instance from others. If you want lookups by any other Baz property, you&#39;ll have to query for it yourself, as only you (and your app) can reliably know what to do if there is more than one instance found for the property lookup, or even which properties to query over. All JPA requires is the ID in the Baz entity if you aren&#39;t merging it though, so I&#39;d suggest if you are going to pass around partial data, you use that instead of name properties (or have JPA use name as the PK and fks)","body":"Your Thing-&gt;Baz reference requires the bazkey value to be set within Baz, and that is what identifies one Baz instance from others. If you want lookups by any other Baz property, you&#39;ll have to query for it yourself, as only you (and your app) can reliably know what to do if there is more than one instance found for the property lookup, or even which properties to query over. All JPA requires is the ID in the Baz entity if you aren&#39;t merging it though, so I&#39;d suggest if you are going to pass around partial data, you use that instead of name properties (or have JPA use name as the PK and fks)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686667294,"post_id":76460986,"comment_id":134828773,"body_markdown":"If you can&#39;t do that, I&#39;d override the save logic in your thing repository to check the Baz reference and query for it if it isn&#39;t populated with an ID.","body":"If you can&#39;t do that, I&#39;d override the save logic in your thing repository to check the Baz reference and query for it if it isn&#39;t populated with an ID."}],"owner":{"account_id":9051618,"reputation":3658,"user_id":6741482,"accept_rate":95,"display_name":"pstatix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686616140,"creation_date":1686615478,"question_id":76460986,"body_markdown":"Is it possible with JPA/Hibernate to have a table of persisted objects, and when creating an object externally, match it up with a persisted one such that the other attributes are populated?\r\n\r\nFor example, suppose I have a table that has the following information:\r\n\r\n    +--------+----------------+\r\n    | bazkey |    bazname     |\r\n    +--------+----------------+\r\n    |      1 | something      |\r\n    |      2 | someotherthing |\r\n    +--------+----------------+\r\n\r\nThis table is called `baztable` and contains persisted `Baz` objects that have the following definition:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;baztable&quot;)\r\n    public class Baz {\r\n        @Id // plus some random key generator\r\n        private int bazkey;\r\n    \r\n        @Column(name = &quot;bazname&quot;)\r\n        private String name;\r\n    }\r\n\r\nI have another entity that maps down to the `baztable` via a `ManyToOne` relationship, meaning many of these entities can point to a single `Baz` object that&#39;s been persisted. Such an entity has the following definition:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;thingtable&quot;)\r\n    public class Thing {\r\n        @Id // plus some random key generator\r\n        private int thingkey;\r\n    \r\n        @Column(name = &quot;thingname&quot;)\r\n        private String name;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;bazkey&quot;, referencedColumnName = &quot;bazkey&quot;)\r\n        private Baz baz;\r\n    }\r\n\r\nNow without adding `cascade = CascadeType.ALL` to the `@ManyToOne` annotation, a `Baz` object should be transient and will not be persisted. In my case, that&#39;s fine, because the `baztable` is populated elsewhere and I do not want a `Thing` entity to persist its child entities. \r\n\r\nIn order to populate the `baz` field of a `Thing` I could search the `baztable` by the `bazname` column for a given entity. But what I am wondering is if its possible to create the `Baz` entity explicitly, assigning it to the `baz` field and then when persisting the `Thing` entity, it automatically looks up the needed information for the `@JoinColumn`?\r\n\r\nFor example:\r\n\r\n    final Thing thing = new Thing();\r\n    thing.setName(&quot;thething&quot;);\r\n    thing.setBaz(new Baz(&quot;someotherthing&quot;));\r\n    thingRepository.save(thing);\r\n    \r\n    +----------+-----------+--------+\r\n    | thingkey | thingname | bazkey |\r\n    +----------+-----------+--------+\r\n    |        5 | thething  |      2 |\r\n    +----------+-----------+--------+\r\n\r\nIn the above, the `bazkey` column is populated with the `bazkey` corresponding to the `Baz` entity persisted with the name `someotherthing`, and subsequently its `bazkey` is used as the foreign key from the `thingtable`.","title":"Hibernate - Map entity to existing row in table","body":"<p>Is it possible with JPA/Hibernate to have a table of persisted objects, and when creating an object externally, match it up with a persisted one such that the other attributes are populated?</p>\n<p>For example, suppose I have a table that has the following information:</p>\n<pre><code>+--------+----------------+\n| bazkey |    bazname     |\n+--------+----------------+\n|      1 | something      |\n|      2 | someotherthing |\n+--------+----------------+\n</code></pre>\n<p>This table is called <code>baztable</code> and contains persisted <code>Baz</code> objects that have the following definition:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;baztable&quot;)\npublic class Baz {\n    @Id // plus some random key generator\n    private int bazkey;\n\n    @Column(name = &quot;bazname&quot;)\n    private String name;\n}\n</code></pre>\n<p>I have another entity that maps down to the <code>baztable</code> via a <code>ManyToOne</code> relationship, meaning many of these entities can point to a single <code>Baz</code> object that's been persisted. Such an entity has the following definition:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;thingtable&quot;)\npublic class Thing {\n    @Id // plus some random key generator\n    private int thingkey;\n\n    @Column(name = &quot;thingname&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;bazkey&quot;, referencedColumnName = &quot;bazkey&quot;)\n    private Baz baz;\n}\n</code></pre>\n<p>Now without adding <code>cascade = CascadeType.ALL</code> to the <code>@ManyToOne</code> annotation, a <code>Baz</code> object should be transient and will not be persisted. In my case, that's fine, because the <code>baztable</code> is populated elsewhere and I do not want a <code>Thing</code> entity to persist its child entities.</p>\n<p>In order to populate the <code>baz</code> field of a <code>Thing</code> I could search the <code>baztable</code> by the <code>bazname</code> column for a given entity. But what I am wondering is if its possible to create the <code>Baz</code> entity explicitly, assigning it to the <code>baz</code> field and then when persisting the <code>Thing</code> entity, it automatically looks up the needed information for the <code>@JoinColumn</code>?</p>\n<p>For example:</p>\n<pre><code>final Thing thing = new Thing();\nthing.setName(&quot;thething&quot;);\nthing.setBaz(new Baz(&quot;someotherthing&quot;));\nthingRepository.save(thing);\n\n+----------+-----------+--------+\n| thingkey | thingname | bazkey |\n+----------+-----------+--------+\n|        5 | thething  |      2 |\n+----------+-----------+--------+\n</code></pre>\n<p>In the above, the <code>bazkey</code> column is populated with the <code>bazkey</code> corresponding to the <code>Baz</code> entity persisted with the name <code>someotherthing</code>, and subsequently its <code>bazkey</code> is used as the foreign key from the <code>thingtable</code>.</p>\n"},{"tags":["java","string","reverse"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686592879,"creation_date":1686592879,"answer_id":76459206,"question_id":76459122,"body_markdown":"The most straightforward way to write this kind of a loop is using the `break` keyword.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    while (true) {\r\n        System.out.println(&quot;Enter some text:&quot;);\r\n        String input = scanner.nextLine();\r\n        if (input.toLowerCase().equals(&quot;stop&quot;)) {\r\n            break;\r\n        }\r\n        String reversed = reverseString(input);\r\n        System.out.println(&quot;Reversed: &quot; + reversed);\r\n        if (isPalindrome(input))\r\n            System.out.println(&quot;That&#39;s a palindrome!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis eliminates the redundant test for special input, and makes your code more readable by reducing nesting.","title":"I want to output text I type backwards unless I type stop, recognize capital letters also need a solution without new char[string.length]","body":"<p>The most straightforward way to write this kind of a loop is using the <code>break</code> keyword.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    while (true) {\n        System.out.println(&quot;Enter some text:&quot;);\n        String input = scanner.nextLine();\n        if (input.toLowerCase().equals(&quot;stop&quot;)) {\n            break;\n        }\n        String reversed = reverseString(input);\n        System.out.println(&quot;Reversed: &quot; + reversed);\n        if (isPalindrome(input))\n            System.out.println(&quot;That's a palindrome!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This eliminates the redundant test for special input, and makes your code more readable by reducing nesting.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686616009,"creation_date":1686597430,"answer_id":76459698,"question_id":76459122,"body_markdown":"&gt; _&quot;... it doesent work without the second if !.equals(&quot;stop&quot;)&quot;_\r\n\r\nYou&#39;ll need to re-order a few things for it to work with a single check for _&quot;stop&quot;_.\r\n\r\nI suggest adding a _boolean_ variable, to indicate when the loop should be exited.  \r\nAnd, change the _while_ loop, to a _do-while_ loop.\r\n\r\nAdditionally, you can use _[String#equalsIgnoreCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String))_ to equate strings with different cases.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString input = &quot;&quot;;\r\nboolean exit = false;\r\n\r\ndo {\r\n    System.out.println(&quot;Enter some text:&quot;);\r\n    input = scanner.nextLine();\r\n\r\n    if (input.equalsIgnoreCase(&quot;stop&quot;)) exit = true;\r\n    else {\r\n        String reversed = reverseString(input);\r\n        System.out.println(&quot;Reversed: &quot; + reversed);\r\n\r\n        if (isPalindrome(input))\r\n            System.out.println(&quot;That&#39;s a palindrome!&quot;);\r\n    }\r\n} while (!exit);\r\n```\r\n\r\nEverything else appears correct.\r\n\r\n&gt; _&quot;... need a solution without new char[string.length]&quot;_\r\n\r\nThere are a few ways to reverse a _String_ value.\r\n\r\nYou can optimize your code, by using the following.\r\n\r\n```java\r\npublic static String reverseString(String string) {\r\n    String reversed = &quot;&quot;;\r\n    for (char character : string.toCharArray())\r\n        reversed = character + reversed;\r\n    return reversed;\r\n}\r\n```\r\n\r\nAdditionally, you can use the _[StringBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html)_ class, which has a _[reverse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#reverse())_ method.\r\n\r\n```java\r\npublic static String reverseString(String string) {\r\n    StringBuilder reversed = new StringBuilder(string);\r\n    return reversed.reverse().toString();\r\n}\r\n```","title":"I want to output text I type backwards unless I type stop, recognize capital letters also need a solution without new char[string.length]","body":"<blockquote>\n<p><em>&quot;... it doesent work without the second if !.equals(&quot;stop&quot;)&quot;</em></p>\n</blockquote>\n<p>You'll need to re-order a few things for it to work with a single check for <em>&quot;stop&quot;</em>.</p>\n<p>I suggest adding a <em>boolean</em> variable, to indicate when the loop should be exited.<br />\nAnd, change the <em>while</em> loop, to a <em>do-while</em> loop.</p>\n<p>Additionally, you can use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">String#equalsIgnoreCase</a></em> to equate strings with different cases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString input = &quot;&quot;;\nboolean exit = false;\n\ndo {\n    System.out.println(&quot;Enter some text:&quot;);\n    input = scanner.nextLine();\n\n    if (input.equalsIgnoreCase(&quot;stop&quot;)) exit = true;\n    else {\n        String reversed = reverseString(input);\n        System.out.println(&quot;Reversed: &quot; + reversed);\n\n        if (isPalindrome(input))\n            System.out.println(&quot;That's a palindrome!&quot;);\n    }\n} while (!exit);\n</code></pre>\n<p>Everything else appears correct.</p>\n<blockquote>\n<p><em>&quot;... need a solution without new char[string.length]&quot;</em></p>\n</blockquote>\n<p>There are a few ways to reverse a <em>String</em> value.</p>\n<p>You can optimize your code, by using the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String reverseString(String string) {\n    String reversed = &quot;&quot;;\n    for (char character : string.toCharArray())\n        reversed = character + reversed;\n    return reversed;\n}\n</code></pre>\n<p>Additionally, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> class, which has a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\">reverse</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String reverseString(String string) {\n    StringBuilder reversed = new StringBuilder(string);\n    return reversed.reverse().toString();\n}\n</code></pre>\n"}],"owner":{"account_id":28806692,"reputation":11,"user_id":22062400,"display_name":"Hadzet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1686616009,"creation_date":1686592012,"question_id":76459122,"body_markdown":"so the first part is easy! \r\ni just ask to enter some text and reverse this string with the reverseString method.  \r\nit will ask as long as i enter stop.\r\nit doesent work without the second if !.equals(&quot;stop&quot;) ? \r\n```\r\n`\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String input = &quot;&quot;;\r\n\r\n        while (!input.toLowerCase().equals(&quot;stop&quot;)) {\r\n            System.out.println(&quot;Enter some text:&quot;);\r\n            input = scanner.nextLine();\r\n\r\n            if (!input.toLowerCase().equals(&quot;stop&quot;)) {\r\n                String reversed = reverseString(input);\r\n                System.out.println(&quot;Reversed: &quot; + reversed);\r\n\r\n                if (isPalindrome(input))\r\n                    System.out.println(&quot;That&#39;s a palindrome!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n///here is the second new char[string.length()] i dont get it; \r\n\r\n    public static String reverseString(String string) {\r\n        int length = string.length();\r\n        char[] reversed = new char[length];\r\n        for (int i = 0, j = length - 1; i &lt; length; i++, j--) {\r\n            reversed[j] = string.charAt(i);\r\n        }\r\n        return new String(reversed);\r\n    }\r\n\r\n    public static boolean isPalindrome(String string) {\r\n        String normalized = normalizeString(string);\r\n        return normalized.equals(reverseString(normalized));\r\n    }\r\n\r\n///here is the second new char[string.length()] i dont get it; \r\n\r\n    public static String normalizeString(String string) {\r\n        char[] normalized = new char[string.length()];\r\n        int count = 0;\r\n        for (int i = 0; i &lt; string.length(); i++) {\r\n            char c = string.charAt(i);\r\n            if (Character.isLetter(c)) {\r\n                normalized[count++] = Character.toLowerCase(c);\r\n            }\r\n        }\r\n        return new String(normalized, 0, count);\r\n    }\r\n}\r\n\r\n\r\n`\r\n```\r\n\r\nI&#39;ve tried so many things but I can&#39;t find a simple solution anymore without rewriting the whole code. are there too many methods? should i do something with substrings ? Maybe you have an idea for this.\r\n","title":"I want to output text I type backwards unless I type stop, recognize capital letters also need a solution without new char[string.length]","body":"<p>so the first part is easy!\ni just ask to enter some text and reverse this string with the reverseString method.<br />\nit will ask as long as i enter stop.\nit doesent work without the second if !.equals(&quot;stop&quot;) ?</p>\n<pre><code>`\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String input = &quot;&quot;;\n\n        while (!input.toLowerCase().equals(&quot;stop&quot;)) {\n            System.out.println(&quot;Enter some text:&quot;);\n            input = scanner.nextLine();\n\n            if (!input.toLowerCase().equals(&quot;stop&quot;)) {\n                String reversed = reverseString(input);\n                System.out.println(&quot;Reversed: &quot; + reversed);\n\n                if (isPalindrome(input))\n                    System.out.println(&quot;That's a palindrome!&quot;);\n            }\n        }\n    }\n\n///here is the second new char[string.length()] i dont get it; \n\n    public static String reverseString(String string) {\n        int length = string.length();\n        char[] reversed = new char[length];\n        for (int i = 0, j = length - 1; i &lt; length; i++, j--) {\n            reversed[j] = string.charAt(i);\n        }\n        return new String(reversed);\n    }\n\n    public static boolean isPalindrome(String string) {\n        String normalized = normalizeString(string);\n        return normalized.equals(reverseString(normalized));\n    }\n\n///here is the second new char[string.length()] i dont get it; \n\n    public static String normalizeString(String string) {\n        char[] normalized = new char[string.length()];\n        int count = 0;\n        for (int i = 0; i &lt; string.length(); i++) {\n            char c = string.charAt(i);\n            if (Character.isLetter(c)) {\n                normalized[count++] = Character.toLowerCase(c);\n            }\n        }\n        return new String(normalized, 0, count);\n    }\n}\n\n\n`\n</code></pre>\n<p>I've tried so many things but I can't find a simple solution anymore without rewriting the whole code. are there too many methods? should i do something with substrings ? Maybe you have an idea for this.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686604988,"post_id":76460361,"comment_id":134819219,"body_markdown":"On the JVM level, there are no private classes - only package private classes. While you have a hard time compiling the code (for example by removing the `private` modifier from `TestingInner`), the generated class should work at runtime.","body":"On the JVM level, there are no private classes - only package private classes. While you have a hard time compiling the code (for example by removing the <code>private</code> modifier from <code>TestingInner</code>), the generated class should work at runtime."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686605070,"post_id":76460361,"comment_id":134819231,"body_markdown":"Why are you trying to extend a private class? The point of `private` is to keep it invisible outside the declaring class.","body":"Why are you trying to extend a private class? The point of <code>private</code> is to keep it invisible outside the declaring class."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686605190,"post_id":76460361,"comment_id":134819245,"body_markdown":"@shmosel Why are you questioning OPs curiosity? The point of SO is to get answers to questions.","body":"@shmosel Why are you questioning OPs curiosity? The point of SO is to get answers to questions."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686605365,"post_id":76460361,"comment_id":134819274,"body_markdown":"@JohannesKuhn I&#39;m trying to understand the question. Is OP unaware of what `private` means, or trying to work around it, or trying to do something else entirely?","body":"@JohannesKuhn I&#39;m trying to understand the question. Is OP unaware of what <code>private</code> means, or trying to work around it, or trying to do something else entirely?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686605579,"post_id":76460361,"comment_id":134819303,"body_markdown":"@shmosel &quot;Changing private to public will work, but wanted to see if any implementation exist to override getNameString()&quot;. My educated guess after reading especially the quoted part of the question is: Yes, OP knows/is aware what `private` means.","body":"@shmosel &quot;Changing private to public will work, but wanted to see if any implementation exist to override getNameString()&quot;. My educated guess after reading especially the quoted part of the question is: Yes, OP knows/is aware what <code>private</code> means."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686609609,"post_id":76460361,"comment_id":134819757,"body_markdown":"So, if you declare the inner-class as _static_, even if it is _private_, you can then extend another class from it ... .","body":"So, if you declare the inner-class as <i>static</i>, even if it is <i>private</i>, you can then extend another class from it ... ."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1686614647,"post_id":76460361,"comment_id":134820261,"body_markdown":"@Reilas the extendability of a class has nothing to do with whether it is static or not. In terms of this question, it is purely a question of its accessibility.","body":"@Reilas the extendability of a class has nothing to do with whether it is static or not. In terms of this question, it is purely a question of its accessibility."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686614834,"post_id":76460361,"comment_id":134820282,"body_markdown":"@AndyTurner, then, how is it working on my computer?  Should I recommend this as a solution?","body":"@AndyTurner, then, how is it working on my computer?  Should I recommend this as a solution?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686614947,"post_id":76460361,"comment_id":134820300,"body_markdown":"What part of, _&quot;... Question is there any way to override getNameString() which is under inner class which is private ...&quot;_, am I misunderstanding.  I got it to work here.","body":"What part of, <i>&quot;... Question is there any way to override getNameString() which is under inner class which is private ...&quot;</i>, am I misunderstanding.  I got it to work here."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686614988,"post_id":76460361,"comment_id":134820305,"body_markdown":"@Reilas I cannot say why it works for you, because I don&#39;t know exactly how you&#39;ve declared the class. Perhaps you&#39;ve declared `Testing2` inside `Testing`? It would help if you provided a [mcve], e.g. on ideone. Anyway,  you previously wrote this as an answer, and it got downvoted through the floor; I&#39;m not sure that suggesting the same thing again would get a different response.","body":"@Reilas I cannot say why it works for you, because I don&#39;t know exactly how you&#39;ve declared the class. Perhaps you&#39;ve declared <code>Testing2</code> inside <code>Testing</code>? It would help if you provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. on ideone. Anyway,  you previously wrote this as an answer, and it got downvoted through the floor; I&#39;m not sure that suggesting the same thing again would get a different response."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686615023,"post_id":76460361,"comment_id":134820308,"body_markdown":"@AndyTurner, makes sense.","body":"@AndyTurner, makes sense."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686615168,"post_id":76460361,"comment_id":134820323,"body_markdown":"@AndyTurner, then why are you not recommending that as a solution?  If, it is a solution.","body":"@AndyTurner, then why are you not recommending that as a solution?  If, it is a solution."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686615246,"post_id":76460361,"comment_id":134820331,"body_markdown":"@Reilas I do. It&#39;s the last paragraph of my answer.","body":"@Reilas I do. It&#39;s the last paragraph of my answer."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686609132,"creation_date":1686608941,"answer_id":76460689,"question_id":76460361,"body_markdown":"No, you can&#39;t do it.  You can&#39;t extend a class that isn&#39;t visible so there is nothing visible to override.  That it is an inner class is irrelevant.","title":"java inherit method of Nester Inner class where Inner class has private Identifier","body":"<p>No, you can't do it.  You can't extend a class that isn't visible so there is nothing visible to override.  That it is an inner class is irrelevant.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686615909,"creation_date":1686609315,"answer_id":76460708,"question_id":76460361,"body_markdown":"In order to be able to extend a class, the class must be accessible: referring to [JLS 8.1.4](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.4):\r\n\r\n&gt;     ClassExtends:\r\n&gt;        extends ClassType\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; **The ClassType must name an accessible class (&#167;6.6), or a compile-time error occurs.**\r\n\r\n\r\n\r\nReferring to [JLS 6.6.1](https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.6.1), &quot;Determining Accessibility&quot; (emphasis added):\r\n\r\n&gt; ...\r\n&gt; * Otherwise, the member [class, interface, field, or method] or constructor is declared private. Access is permitted only when one of the following is true:\r\n&gt;   *  **Access occurs from within the body of the top level class or interface that encloses the declaration of the member or constructor.**\r\n&gt;   * Access occurs in the permits clause of the top level class or interface that encloses the declaration of the member.\r\n&gt;   * Access occurs in the record component list of the top level record class that encloses the declaration of the member.\r\n\r\nYour class would be accessible inside the body of `Testing`, the top-level class, so you could extend it there. But you can&#39;t do it outside the body of `Testing`.","title":"java inherit method of Nester Inner class where Inner class has private Identifier","body":"<p>In order to be able to extend a class, the class must be accessible: referring to <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.4\" rel=\"nofollow noreferrer\">JLS 8.1.4</a>:</p>\n<blockquote>\n<pre><code>ClassExtends:\n   extends ClassType\n</code></pre>\n<p>...</p>\n<p><strong>The ClassType must name an accessible class (§6.6), or a compile-time error occurs.</strong></p>\n</blockquote>\n<p>Referring to <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-6.html#jls-6.6.1\" rel=\"nofollow noreferrer\">JLS 6.6.1</a>, &quot;Determining Accessibility&quot; (emphasis added):</p>\n<blockquote>\n<p>...</p>\n<ul>\n<li>Otherwise, the member [class, interface, field, or method] or constructor is declared private. Access is permitted only when one of the following is true:\n<ul>\n<li><strong>Access occurs from within the body of the top level class or interface that encloses the declaration of the member or constructor.</strong></li>\n<li>Access occurs in the permits clause of the top level class or interface that encloses the declaration of the member.</li>\n<li>Access occurs in the record component list of the top level record class that encloses the declaration of the member.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>Your class would be accessible inside the body of <code>Testing</code>, the top-level class, so you could extend it there. But you can't do it outside the body of <code>Testing</code>.</p>\n"}],"owner":{"account_id":4027181,"reputation":347,"user_id":3314897,"display_name":"shadab"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76460708,"answer_count":2,"score":-1,"last_activity_date":1686615909,"creation_date":1686604298,"question_id":76460361,"body_markdown":"```\r\npublic class Testing {\r\n\r\n  public String name = null;\r\n\r\n  public String getName() {\r\n    TestingInner test = new TestingInner(&quot;Testing inner override&quot;);\r\n    return test.getNameString();\r\n  }\r\n\r\n  public String testName() {\r\n    return this.name;\r\n  }\r\n\r\n  private class TestingInner {\r\n\r\n    String nameString = null;\r\n\r\n    public TestingInner(String name) {\r\n      this.nameString = name;\r\n    }\r\n\r\n    public String getNameString() {\r\n      return &quot;Inner Class &quot; + this.nameString;\r\n    }\r\n  }\r\n}\r\n\r\npublic class Testing2 extends Testing.TestingInner {\r\n\r\n  @Override\r\n  public String getNameString() {\r\n    System.out.println(&quot;Override Inner class method&quot;);\r\n    return &quot;This is&quot;;\r\n  }\r\n}\r\n```\r\n\r\nGetting multiple error message which is expected\r\n\r\n&gt; The method getNameString() of type Testing2 must override or implement a supertype method\r\n&gt; \r\n&gt; The type Testing.TestingInner is not visible\r\n\r\n**Question** is there any way to override getNameString() which is under inner class which is private. \r\nChanging private to public will work, but wanted to see if any implementation exist to override getNameString()","title":"java inherit method of Nester Inner class where Inner class has private Identifier","body":"<pre><code>public class Testing {\n\n  public String name = null;\n\n  public String getName() {\n    TestingInner test = new TestingInner(&quot;Testing inner override&quot;);\n    return test.getNameString();\n  }\n\n  public String testName() {\n    return this.name;\n  }\n\n  private class TestingInner {\n\n    String nameString = null;\n\n    public TestingInner(String name) {\n      this.nameString = name;\n    }\n\n    public String getNameString() {\n      return &quot;Inner Class &quot; + this.nameString;\n    }\n  }\n}\n\npublic class Testing2 extends Testing.TestingInner {\n\n  @Override\n  public String getNameString() {\n    System.out.println(&quot;Override Inner class method&quot;);\n    return &quot;This is&quot;;\n  }\n}\n</code></pre>\n<p>Getting multiple error message which is expected</p>\n<blockquote>\n<p>The method getNameString() of type Testing2 must override or implement a supertype method</p>\n<p>The type Testing.TestingInner is not visible</p>\n</blockquote>\n<p><strong>Question</strong> is there any way to override getNameString() which is under inner class which is private.\nChanging private to public will work, but wanted to see if any implementation exist to override getNameString()</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1686613941,"post_id":76460890,"comment_id":134820190,"body_markdown":"What are you trying to do? When you start a process, you know what parameters you pass it. You can log these from your startup script.","body":"What are you trying to do? When you start a process, you know what parameters you pass it. You can log these from your startup script."},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686614351,"post_id":76460890,"comment_id":134820229,"body_markdown":"I&#39;m debugging a program that I did not write. It uses Java 19, and people these days all seem to just have Java 8 downloaded, so it uses a launcher to download an openjdk jvm and run the program. The launcher is written in a language that compiles to machine code, and I don&#39;t have the knowledge to go through the assembly and figure out the individual command-line arguments being used.","body":"I&#39;m debugging a program that I did not write. It uses Java 19, and people these days all seem to just have Java 8 downloaded, so it uses a launcher to download an openjdk jvm and run the program. The launcher is written in a language that compiles to machine code, and I don&#39;t have the knowledge to go through the assembly and figure out the individual command-line arguments being used."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686614626,"post_id":76460890,"comment_id":134820257,"body_markdown":"Does `ps -w` show you what you need?","body":"Does <code>ps -w</code> show you what you need?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686614995,"post_id":76460890,"comment_id":134820306,"body_markdown":"Or on windows maybe https://learn.microsoft.com/en-us/sysinternals/downloads/procmon","body":"Or on windows maybe <a href=\"https://learn.microsoft.com/en-us/sysinternals/downloads/procmon\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sysinternals/downloads/procmon</a>"},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686615237,"post_id":76460890,"comment_id":134820330,"body_markdown":"Running this on a mac does not seem to give any information relating to Java whatsoever, I only see xcode programms running with ps -w","body":"Running this on a mac does not seem to give any information relating to Java whatsoever, I only see xcode programms running with ps -w"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686615291,"post_id":76460890,"comment_id":134820337,"body_markdown":"Are you sure it wasn&#39;t compiled with `native-image`? Why do you think it&#39;s a running jar?","body":"Are you sure it wasn&#39;t compiled with <code>native-image</code>? Why do you think it&#39;s a running jar?"},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686615562,"post_id":76460890,"comment_id":134820365,"body_markdown":"Procmon was perfect and easy to use, thank you, it worked!","body":"Procmon was perfect and easy to use, thank you, it worked!"},{"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"score":0,"creation_date":1686615629,"post_id":76460890,"comment_id":134820370,"body_markdown":"@ElliottFrisch I&#39;ve never worked with native images in Java, but I know the jar file location and it looks like authentic java bytecode to me, not some fancy way of compiling it to machine code or something","body":"@ElliottFrisch I&#39;ve never worked with native images in Java, but I know the jar file location and it looks like authentic java bytecode to me, not some fancy way of compiling it to machine code or something"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686615682,"post_id":76460890,"comment_id":134820374,"body_markdown":"you might need `ps -axw`","body":"you might need <code>ps -axw</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686617272,"post_id":76460890,"comment_id":134820512,"body_markdown":"What is the difference between &#39;I can see the arguments passed to the jar&#39; and &#39;I want to know what class path and other run arguments are being used&#39;? Please explain.","body":"What is the difference between &#39;I can see the arguments passed to the jar&#39; and &#39;I want to know what class path and other run arguments are being used&#39;? Please explain."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686619935,"post_id":76460890,"comment_id":134820743,"body_markdown":"Task Manager -&gt; Details -&gt; Rightclick the column header -&gt; Select columns -&gt; Command Line.","body":"Task Manager -&gt; Details -&gt; Rightclick the column header -&gt; Select columns -&gt; Command Line."}],"answers":[{"tags":[],"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686615736,"creation_date":1686615736,"answer_id":76461004,"question_id":76460890,"body_markdown":"Thank you tgdavies, procmon learn.microsoft.com/en-us/sysinternals/downloads/procmon worked perfectly, was intuitive, and easy to use","title":"How can I print the command-line run arguments of a running jar file?","body":"<p>Thank you tgdavies, procmon learn.microsoft.com/en-us/sysinternals/downloads/procmon worked perfectly, was intuitive, and easy to use</p>\n"}],"owner":{"account_id":28808020,"reputation":21,"user_id":22063409,"display_name":"Spencer Nold"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1686618196,"answer_count":1,"score":1,"last_activity_date":1686615736,"creation_date":1686613317,"question_id":76460890,"body_markdown":"So I have a program that’s already running, and I want to know what command-line arguments are being used to run the jar. I can see the arguments passed to the jar with the java attach library, but I want to know what class path and other run arguments are being used. Is there any way of printing this to the terminal in any way? Java code or otherwise.\r\n\r\nNote: I am NOT looking for how to run a jar with classpath arguments, that’s all I’ve been able to find on google\r\n\r\nMessed around with the VirtualMachine and VirtualMachineDescriptor classes, did some googling, and didn’t find anything other than looping through the string array parameter in the entry point method, which is not at all what I’m looking for.","title":"How can I print the command-line run arguments of a running jar file?","body":"<p>So I have a program that’s already running, and I want to know what command-line arguments are being used to run the jar. I can see the arguments passed to the jar with the java attach library, but I want to know what class path and other run arguments are being used. Is there any way of printing this to the terminal in any way? Java code or otherwise.</p>\n<p>Note: I am NOT looking for how to run a jar with classpath arguments, that’s all I’ve been able to find on google</p>\n<p>Messed around with the VirtualMachine and VirtualMachineDescriptor classes, did some googling, and didn’t find anything other than looping through the string array parameter in the entry point method, which is not at all what I’m looking for.</p>\n"},{"tags":["java","xdocreport"],"comments":[{"owner":{"account_id":25558260,"reputation":3,"user_id":19341331,"display_name":"Yono"},"score":0,"creation_date":1686616110,"post_id":76453860,"comment_id":134820414,"body_markdown":"Create an image using XdocReport Do you know how to attach it?","body":"Create an image using XdocReport Do you know how to attach it?"}],"owner":{"account_id":25558260,"reputation":3,"user_id":19341331,"display_name":"Yono"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686615713,"creation_date":1686548312,"question_id":76453860,"body_markdown":"I&#39;m trying to insert a png file into a docx file using the Java POI library. \r\n\r\n\r\nThe code looks like this \r\n\r\n```\r\n        try {\r\n            InputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;test.docx&quot;);\r\n            InputStream imageIs = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;logo.png&quot;);\r\n\r\n            byte[] image = IOUtils.toByteArray(imageIs);\r\n            IImageProvider imageProvider = new ByteArrayImageProvider(image);\r\n\r\n            IXDocReport report = XDocReportRegistry.getRegistry().loadReport(in, TemplateEngineKind.Velocity);\r\n\r\n            FieldsMetadata metadata = report.createFieldsMetadata();\r\n            metadata.addFieldAsImage(&quot;image&quot;);\r\n\r\n            IContext context = report.createContext();\r\n            context.put(&quot;created&quot;, ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy년 MM월 dd일&quot;)));\r\n            context.put(&quot;image&quot;, imageProvider);\r\n\r\n            String tmpDir = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n            try (OutputStream out = new FileOutputStream(new File(tmpDir + File.separator + &quot;test-out.docx&quot;))) {\r\n                report.process(context, out);\r\n            }\r\n        } catch (IOException | XDocReportException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n\r\nI&#39;m not sure what the problem is. I keep getting the image toString instead of inserting it. \r\n\r\nImage Input \r\n\r\nBut \r\n\r\nOutput \r\n\r\nfr.opensagres.xdocreport.document.images.ByteArrayImageProvider@1af2d44a","title":"I&#39;m trying to insert a png file into a docx file using the Java XDocReport library","body":"<p>I'm trying to insert a png file into a docx file using the Java POI library.</p>\n<p>The code looks like this</p>\n<pre><code>        try {\n            InputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;test.docx&quot;);\n            InputStream imageIs = this.getClass().getClassLoader().getResourceAsStream(&quot;reports&quot; + File.separator + &quot;logo.png&quot;);\n\n            byte[] image = IOUtils.toByteArray(imageIs);\n            IImageProvider imageProvider = new ByteArrayImageProvider(image);\n\n            IXDocReport report = XDocReportRegistry.getRegistry().loadReport(in, TemplateEngineKind.Velocity);\n\n            FieldsMetadata metadata = report.createFieldsMetadata();\n            metadata.addFieldAsImage(&quot;image&quot;);\n\n            IContext context = report.createContext();\n            context.put(&quot;created&quot;, ZonedDateTime.now().format(DateTimeFormatter.ofPattern(&quot;yyyy년 MM월 dd일&quot;)));\n            context.put(&quot;image&quot;, imageProvider);\n\n            String tmpDir = System.getProperty(&quot;java.io.tmpdir&quot;);\n            try (OutputStream out = new FileOutputStream(new File(tmpDir + File.separator + &quot;test-out.docx&quot;))) {\n                report.process(context, out);\n            }\n        } catch (IOException | XDocReportException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I'm not sure what the problem is. I keep getting the image toString instead of inserting it.</p>\n<p>Image Input</p>\n<p>But</p>\n<p>Output</p>\n<p>fr.opensagres.xdocreport.document.images.ByteArrayImageProvider@1af2d44a</p>\n"},{"tags":["java","regex","elasticsearch","elasticsearch-query"],"comments":[{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":1,"creation_date":1685806953,"post_id":76396557,"comment_id":134714153,"body_markdown":"In regex, a quantifier (`?`) cannot be followed by another quantifier (`*`). Also, there&#39;s no need to escape `-` if it&#39;s not inside a character class.","body":"In regex, a quantifier (<code>?</code>) cannot be followed by another quantifier (<code>*</code>). Also, there&#39;s no need to escape <code>-</code> if it&#39;s not inside a character class."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1685808134,"post_id":76396557,"comment_id":134714279,"body_markdown":"Ok. What about other special chars like +? I tried with and without + and still didn&#39;t get the results. Am I missing something else?","body":"Ok. What about other special chars like +? I tried with and without + and still didn&#39;t get the results. Am I missing something else?"},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1685808342,"post_id":76396557,"comment_id":134714300,"body_markdown":"(Disclaimer: I don&#39;t know Elasticsearch.) `+` means 1 or more, a succeeding `?` makes `+` only match as needed. `?` itself means 0 or 1. Please add more details on what you have and what you want to match.","body":"(Disclaimer: I don&#39;t know Elasticsearch.) <code>+</code> means 1 or more, a succeeding <code>?</code> makes <code>+</code> only match as needed. <code>?</code> itself means 0 or 1. Please add more details on what you have and what you want to match."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":2,"creation_date":1685809037,"post_id":76396557,"comment_id":134714386,"body_markdown":"It&#39;s not clear if you know that the regex is the one you want and elastic search is not working as you expected or something else. Have you tested the regex manually, in a set of different unit test? Please edit your post providing a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Show what data you have in elastic search, how you are trying to consume, what are the expected behavior and what is the actual behavior.","body":"It&#39;s not clear if you know that the regex is the one you want and elastic search is not working as you expected or something else. Have you tested the regex manually, in a set of different unit test? Please edit your post providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Show what data you have in elastic search, how you are trying to consume, what are the expected behavior and what is the actual behavior."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1685819848,"post_id":76396557,"comment_id":134715603,"body_markdown":"I have tested very basic search for example 123*567 in my search which regex value shows 123[0-9]567 and I get no results. I tried 1234567 as input and I got 1 hit.","body":"I have tested very basic search for example 123*567 in my search which regex value shows 123[0-9]567 and I get no results. I tried 1234567 as input and I got 1 hit."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685820692,"post_id":76396557,"comment_id":134715704,"body_markdown":"Are you sure your problem has anything to do with elastic search, and it&#39;s not solely a regex problem? Your regex shows that your regex knowledge is not high. Have you tested your regex with your input using an online regex testing tool to verify it actually works? If not, consider rephrasing your question to be regex only and remove all traces of elastic search.","body":"Are you sure your problem has anything to do with elastic search, and it&#39;s not solely a regex problem? Your regex shows that your regex knowledge is not high. Have you tested your regex with your input using an online regex testing tool to verify it actually works? If not, consider rephrasing your question to be regex only and remove all traces of elastic search."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1685827005,"post_id":76396557,"comment_id":134716282,"body_markdown":"I used the simplest case of [0-9]123 when I know and tested 2123 exist but [0-9]123 it does not. I tested on online tool as well. What would you say is the syntax for the simplest regex case? Ex:input =&quot;*234**8&quot;; input.replace(&quot;*&quot;,&quot;[0-9]); the query I get is &quot;[0-9]234[0-9][0-9]8&quot;.","body":"I used the simplest case of [0-9]123 when I know and tested 2123 exist but [0-9]123 it does not. I tested on online tool as well. What would you say is the syntax for the simplest regex case? Ex:input =&quot;<i>234**8&quot;; input.replace(&quot;</i>&quot;,&quot;[0-9]); the query I get is &quot;[0-9]234[0-9][0-9]8&quot;."},{"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"score":0,"creation_date":1686411350,"post_id":76396557,"comment_id":134796505,"body_markdown":"Yeah so the issue was I was searching in a specific field and was not on the fields I want... so it was syntax on it..","body":"Yeah so the issue was I was searching in a specific field and was not on the fields I want... so it was syntax on it.."}],"answers":[{"tags":[],"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686411405,"creation_date":1686411405,"answer_id":76446909,"question_id":76396557,"body_markdown":"In the end I was using the wrong field for the query which i thought was there. Had to search across all fields to get some results.","title":"Elasticsearch query in java for regex not working correctly- is the syntax wrong?","body":"<p>In the end I was using the wrong field for the query which i thought was there. Had to search across all fields to get some results.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686613494,"creation_date":1686613087,"answer_id":76460876,"question_id":76396557,"body_markdown":"Wikipedia has a great documentation on the regular expression syntax.  \r\n_[Wikipedia &amp;ndash; Regular expression &amp;ndash; Syntax](https://en.wikipedia.org/wiki/Regular_expression#Syntax)_.\r\n\r\nThere are a few errors with your pattern.\r\n\r\nFirstly, you&#39;ll only have to escape a hyphen character if it is within a _character class_, and is subsequently not the first, or only character, or appears after the final range.\r\n\r\nSo, it&#39;s attempting to match a value that begins with a _\\\\_ character.\r\n\r\n&gt; _&quot;... I have tried searching using regex with purely * like 234**789 ...&quot;_\r\n\r\nThe * character, in regular expression syntax, is a quantifier, as opposed to most Unix syntax that recognizes that as a wildcard character.\r\n\r\nThe meta-character you&#39;re looking for is the dot character, ..\r\n\r\nTry the following pattern, and see if the results improve.\r\n\r\n```none\r\n-?.[0-9]3475[0-9]6\r\n```\r\n\r\nAdditionally, you can, optionally, use the _\\d_ syntax to represent a _[0-9]_.\r\n\r\n```none\r\n-?.\\d3475\\d6\r\n```\r\n\r\nAs a final note, you mention\r\n\r\n&gt; _&quot;... phone numbers that could have +,# as prefix ...&quot;_\r\n\r\nWould that not mean the pattern should be\r\n\r\n```none\r\n[+#]?\\d3475\\d6\r\n```","title":"Elasticsearch query in java for regex not working correctly- is the syntax wrong?","body":"<p>Wikipedia has a great documentation on the regular expression syntax.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Regular_expression#Syntax\" rel=\"nofollow noreferrer\">Wikipedia – Regular expression – Syntax</a></em>.</p>\n<p>There are a few errors with your pattern.</p>\n<p>Firstly, you'll only have to escape a hyphen character if it is within a <em>character class</em>, and is subsequently not the first, or only character, or appears after the final range.</p>\n<p>So, it's attempting to match a value that begins with a <em>\\</em> character.</p>\n<blockquote>\n<p><em>&quot;... I have tried searching using regex with purely * like 234**789 ...&quot;</em></p>\n</blockquote>\n<p>The * character, in regular expression syntax, is a quantifier, as opposed to most Unix syntax that recognizes that as a wildcard character.</p>\n<p>The meta-character you're looking for is the dot character, ..</p>\n<p>Try the following pattern, and see if the results improve.</p>\n<pre class=\"lang-none prettyprint-override\"><code>-?.[0-9]3475[0-9]6\n</code></pre>\n<p>Additionally, you can, optionally, use the <em>\\d</em> syntax to represent a <em>[0-9]</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>-?.\\d3475\\d6\n</code></pre>\n<p>As a final note, you mention</p>\n<blockquote>\n<p><em>&quot;... phone numbers that could have +,# as prefix ...&quot;</em></p>\n</blockquote>\n<p>Would that not mean the pattern should be</p>\n<pre class=\"lang-none prettyprint-override\"><code>[+#]?\\d3475\\d6\n</code></pre>\n"}],"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686613494,"creation_date":1685803381,"question_id":76396557,"body_markdown":"Have not had luck finding answers but here is my situation:\r\n\r\n`QueryBuilders.regexpQuery(&quot;regexExpression&quot;,&quot;\\\\-?*[0-9]3475[0-9]6&quot;)`;\r\n\r\n&gt; `QueryBuilders.simpleQueryStringQuery(&quot;\\\\-?*2347566);`\r\n\r\nBoth queries I ran and simplequery returns 2347566 with or without the &quot;-&quot; but the regex query doesn&#39;t return anything. The value I printed out for regex query is \\\\-?*[0-9]3475[0-9]6 which is correct.  \r\nDoes anyone know why this is happening? I set the flag to &quot;all&quot; as well.\r\n\r\nTo clarify, I have a database of phone numbers that could have +,# as prefix and the user can input those characters, * and numbers in the search field. The search should ignore all instances of +,# in the search so that if I have +123 in the database, 123 search will return that result or +123 should also return same result since I am treating the + as wildcard so 0 or 1 occurence.\r\n\r\nFor example, a +123*45* should return 123[0-9]45[0-9] with or without the + (or the other occurrence.)\r\n\r\nI have tried searching using regex with purely * like 234**789 when I know there are many phone numbers that can be found if I use exact match like 23456789 or 23477789. But when I use the regex search only on * or [0-9], it returns nothing even though the value of the regex search is 234[0-9][0-9]789.\r\n\r\n","title":"Elasticsearch query in java for regex not working correctly- is the syntax wrong?","body":"<p>Have not had luck finding answers but here is my situation:</p>\n<p><code>QueryBuilders.regexpQuery(&quot;regexExpression&quot;,&quot;\\\\-?*[0-9]3475[0-9]6&quot;)</code>;</p>\n<blockquote>\n<p><code>QueryBuilders.simpleQueryStringQuery(&quot;\\\\-?*2347566);</code></p>\n</blockquote>\n<p>Both queries I ran and simplequery returns 2347566 with or without the &quot;-&quot; but the regex query doesn't return anything. The value I printed out for regex query is \\-?*[0-9]3475[0-9]6 which is correct.<br />\nDoes anyone know why this is happening? I set the flag to &quot;all&quot; as well.</p>\n<p>To clarify, I have a database of phone numbers that could have +,# as prefix and the user can input those characters, * and numbers in the search field. The search should ignore all instances of +,# in the search so that if I have +123 in the database, 123 search will return that result or +123 should also return same result since I am treating the + as wildcard so 0 or 1 occurence.</p>\n<p>For example, a +123<em>45</em> should return 123[0-9]45[0-9] with or without the + (or the other occurrence.)</p>\n<p>I have tried searching using regex with purely * like 234**789 when I know there are many phone numbers that can be found if I use exact match like 23456789 or 23477789. But when I use the regex search only on * or [0-9], it returns nothing even though the value of the regex search is 234[0-9][0-9]789.</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":226653,"reputation":39269,"user_id":487813,"accept_rate":84,"display_name":"apokryfos"},"score":0,"creation_date":1686512278,"post_id":76451768,"comment_id":134805088,"body_markdown":"can we assume that the length of any word in the world list is also 1-10^5 long?","body":"can we assume that the length of any word in the world list is also 1-10^5 long?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1686512508,"post_id":76451768,"comment_id":134805106,"body_markdown":"@apokryfos, the word length in the list is a maximum of 10. I added that to my post now.","body":"@apokryfos, the word length in the list is a maximum of 10. I added that to my post now."},{"owner":{"account_id":5370447,"reputation":16252,"user_id":4279155,"accept_rate":55,"display_name":"Dominique"},"score":0,"creation_date":1686578972,"post_id":76451768,"comment_id":134813978,"body_markdown":"Shouldn&#39;t your solution be character-based instead of string-based?","body":"Shouldn&#39;t your solution be character-based instead of string-based?"},{"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"score":0,"creation_date":1686580419,"post_id":76451768,"comment_id":134814368,"body_markdown":"@Dominique, sorry I did not understand, can you explain with an example","body":"@Dominique, sorry I did not understand, can you explain with an example"}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686513320,"creation_date":1686509582,"answer_id":76452040,"question_id":76451768,"body_markdown":"Your complexity analysis is wrong, because `substring` and `contains` are not constant time operations, but depend upon the length of the strings involved. \r\n\r\nSuppose the input string doesn&#39;t contain any search word. Then, you&#39;ll do substrings of length 1, 2, 3, ..., n, and call contains on each of them `m` times, for a total complexity of `O(mn^2)` ...\r\n\r\nTo get an actual `O(mn)` algorithm, I&#39;d do something like this:\r\n\r\n    var answer = 0;\r\n    var j = 0;\r\n    for (int i = 0; i &lt; s.length; i++) {\r\n        while (endsWith(s, j, i, words) j++;\r\n        answer = Math.max(answer, i - j);\r\n    }\r\n\r\nwhere \r\n\r\n    /** @return whether s[begin..end] ends with a word in words */\r\n    boolean endsWith(String s, int begin, int end, List&lt;String&gt; words) {\r\n        for (var word : words) {\r\n            if (endsWith(s, begin, end, word)) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    boolean endsWith(String s, int begin, int end, String word) {\r\n        var offset = end - word.length;\r\n        if (offset &lt; begin) return false;\r\n        for (int i = 0; i &lt; word.length; i++) {\r\n            if (s.charAt(offset + i) != word.charAt(i)) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n(this code is untested, you may have to fix minor bugs, but the general idea should be solid)\r\n\r\n&gt; Can you please share time complexity of this solution, I still see it as O(m*n^2)\r\n\r\n`endsWith` is `O(m)`, and invoked at most 2n times, because each invocation increases `i` or `j`, each of which is increased at most `n` times.","title":"Find longest substring","body":"<p>Your complexity analysis is wrong, because <code>substring</code> and <code>contains</code> are not constant time operations, but depend upon the length of the strings involved.</p>\n<p>Suppose the input string doesn't contain any search word. Then, you'll do substrings of length 1, 2, 3, ..., n, and call contains on each of them <code>m</code> times, for a total complexity of <code>O(mn^2)</code> ...</p>\n<p>To get an actual <code>O(mn)</code> algorithm, I'd do something like this:</p>\n<pre><code>var answer = 0;\nvar j = 0;\nfor (int i = 0; i &lt; s.length; i++) {\n    while (endsWith(s, j, i, words) j++;\n    answer = Math.max(answer, i - j);\n}\n</code></pre>\n<p>where</p>\n<pre><code>/** @return whether s[begin..end] ends with a word in words */\nboolean endsWith(String s, int begin, int end, List&lt;String&gt; words) {\n    for (var word : words) {\n        if (endsWith(s, begin, end, word)) {\n            return true;\n        }\n    }\n}\n\nboolean endsWith(String s, int begin, int end, String word) {\n    var offset = end - word.length;\n    if (offset &lt; begin) return false;\n    for (int i = 0; i &lt; word.length; i++) {\n        if (s.charAt(offset + i) != word.charAt(i)) return false;\n    }\n    return true;\n}\n</code></pre>\n<p>(this code is untested, you may have to fix minor bugs, but the general idea should be solid)</p>\n<blockquote>\n<p>Can you please share time complexity of this solution, I still see it as O(m*n^2)</p>\n</blockquote>\n<p><code>endsWith</code> is <code>O(m)</code>, and invoked at most 2n times, because each invocation increases <code>i</code> or <code>j</code>, each of which is increased at most <code>n</code> times.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686522047,"creation_date":1686515133,"answer_id":76452391,"question_id":76451768,"body_markdown":"I believe it is solvable with O(N * max_word_length) (at least there no polynomial dependency on word count) TC using [trie](https://en.wikipedia.org/wiki/Trie) data structure:\r\n\r\n```java\r\npublic class SO76451768 {\r\n\r\n    public int solve(String s, List&lt;String&gt; list) {\r\n        Trie revert = new Trie(true);\r\n        list.forEach(revert::add);\r\n\r\n        char[] chars = s.toCharArray();\r\n\r\n        int ans = 0;\r\n        int start = 0;\r\n        int end = 1;\r\n\r\n        while (end &lt;= chars.length) {\r\n            int r = revert.matchLen(chars, start, end);\r\n            if (r == 0) {\r\n                ans = Math.max(ans, end - start);\r\n                end++;\r\n            } else {\r\n                start = Math.max(start + 1, end - r + 1);\r\n                end = start + 1;\r\n            }\r\n        }\r\n\r\n\r\n        return ans;\r\n    }\r\n\r\n\r\n    static class Trie {\r\n\r\n        final boolean revert;\r\n\r\n        Trie[] children = new Trie[26];\r\n\r\n        boolean eow;\r\n\r\n        public Trie(boolean revert) {\r\n            this.revert = revert;\r\n        }\r\n\r\n        int matchLen(char[] c, int from, int to) {\r\n            Trie child;\r\n            Trie[] arr = children;\r\n            for (int i = 0; i &lt; to - from; i++) {\r\n                child = arr[c[revert ? to - i - 1 : i + from] - &#39;a&#39;];\r\n                if (child == null) {\r\n                    return 0;\r\n                }\r\n                if (child.eow) {\r\n                    return i + 1;\r\n                }\r\n                arr = child.children;\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        void add(String key) {\r\n            Trie child = null;\r\n            Trie[] arr = children;\r\n            char[] chars = key.toCharArray();\r\n            for (int i = 0; i &lt; chars.length; i++) {\r\n                char c = chars[revert ? chars.length - i - 1 : i];\r\n                child = arr[c - &#39;a&#39;];\r\n                if (child == null) {\r\n                    child = new Trie(revert);\r\n                    arr[c - &#39;a&#39;] = child;\r\n                }\r\n                arr = child.children;\r\n            }\r\n            child.eow = true;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Find longest substring","body":"<p>I believe it is solvable with O(N * max_word_length) (at least there no polynomial dependency on word count) TC using <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">trie</a> data structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SO76451768 {\n\n    public int solve(String s, List&lt;String&gt; list) {\n        Trie revert = new Trie(true);\n        list.forEach(revert::add);\n\n        char[] chars = s.toCharArray();\n\n        int ans = 0;\n        int start = 0;\n        int end = 1;\n\n        while (end &lt;= chars.length) {\n            int r = revert.matchLen(chars, start, end);\n            if (r == 0) {\n                ans = Math.max(ans, end - start);\n                end++;\n            } else {\n                start = Math.max(start + 1, end - r + 1);\n                end = start + 1;\n            }\n        }\n\n\n        return ans;\n    }\n\n\n    static class Trie {\n\n        final boolean revert;\n\n        Trie[] children = new Trie[26];\n\n        boolean eow;\n\n        public Trie(boolean revert) {\n            this.revert = revert;\n        }\n\n        int matchLen(char[] c, int from, int to) {\n            Trie child;\n            Trie[] arr = children;\n            for (int i = 0; i &lt; to - from; i++) {\n                child = arr[c[revert ? to - i - 1 : i + from] - 'a'];\n                if (child == null) {\n                    return 0;\n                }\n                if (child.eow) {\n                    return i + 1;\n                }\n                arr = child.children;\n            }\n            return 0;\n        }\n\n        void add(String key) {\n            Trie child = null;\n            Trie[] arr = children;\n            char[] chars = key.toCharArray();\n            for (int i = 0; i &lt; chars.length; i++) {\n                char c = chars[revert ? chars.length - i - 1 : i];\n                child = arr[c - 'a'];\n                if (child == null) {\n                    child = new Trie(revert);\n                    arr[c - 'a'] = child;\n                }\n                arr = child.children;\n            }\n            child.eow = true;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686612699,"creation_date":1686577501,"answer_id":76457291,"question_id":76451768,"body_markdown":"**Step 1: store words in a prefix tree (aka trie)**\r\n\r\nWe can store words in a prefix tree (aka trie) as follows: The root node points to up to 26 nodes, one for the first letter of each word being stored. Then, each node points to up to 26 descendants, one for each letter than can follow the prefix from the root to the current node.\r\n\r\nExample: we want to store CAT, CAN, COT, ART, ARE\r\n\r\n               root\r\n              /    \\\r\n             C      A\r\n            / \\     |\r\n           A   O    R\r\n          / \\  |   / \\\r\n         N   T T  E   T\r\n\r\nPut the list of words in a prefix tree. If a word is ever an extension of another word (e.g. catatonic vs cat), omit the longer word. I.e., in creating your tree, if a word ever ends on a letter with descendants, delete all descendants from the tree. If a word ever extends past a leaf, ignore it.\r\n\r\nThis step is O(sum of letter counts of forbidden words)\r\n\r\n**Step 2: find the starting and ending indices of banned words in the input string**\r\n\r\nMaintain a linked list of references/pointers to letters in the prefix tree, initially empty. I&#39;ll call these pointers below.\r\n\r\nFirst, an example: Say the input string is CART, and the banned words are CAN, CAT, COT, ARE, ART as above.\r\n\r\n    parse C: create a new pointer to the &#39;C&#39; child of the root\r\n    parse A: create a new pointer to the &#39;A&#39; child of the root\r\n             update the &#39;C&#39; pointer to point to its child &#39;A&#39;\r\n    parse R: we don&#39;t create a new pointer since no banned word starts with &#39;R&#39;\r\n             delete the pointer to the &#39;A&#39; that has no &#39;R&#39; child\r\n             update the pointer to the other &#39;A&#39; to point to its R child\r\n    parse T: we don&#39;t create a new pointer since no banned word starts with &#39;R&#39;\r\n             update the only remaining pointer to point to its &#39;T&#39; child. Notice that this is a leaf 3 down from the root, so the end of a length 3 banned word. Store the pair of indices for later use.\r\n\r\nNote that every single pointer will always point to the current letter. On every step, a pointer either:\r\n 1. moves to its child that matches the new letter\r\n 2. is deleted if no child matches the new letter\r\n 3. is created if the root has a child matching the new letter (i.e. if a banned word starts with the new letter)\r\n\r\nParse the input string. For each letter:\r\n - for each pointer in your list of pointers, either 1) delete it if the current letter isn&#39;t a descendant, or point to the appropriate descendant if the current letter is a descendant.\r\n - create a pointer to the current letter as the first letter of a word, if possible.\r\n - if you reach the end of a word, then the last few characters in the string form a forbidden word. The character count is the depth in the prefix tree. Note the index where each word starts and ends.\r\n\r\nThis step is O((length of input string) * (average number of pointers)). I&#39;m not sure how many pointers you&#39;re likely to have active at once.\r\n\r\n**Step 3: find the longest substring that doesn&#39;t contain the starting and ending indices of any banned word**\r\n\r\nOnce this is done, in linear additional time you can use this to find the longest substring that doesn&#39;t contain a forbidden word.","title":"Find longest substring","body":"<p><strong>Step 1: store words in a prefix tree (aka trie)</strong></p>\n<p>We can store words in a prefix tree (aka trie) as follows: The root node points to up to 26 nodes, one for the first letter of each word being stored. Then, each node points to up to 26 descendants, one for each letter than can follow the prefix from the root to the current node.</p>\n<p>Example: we want to store CAT, CAN, COT, ART, ARE</p>\n<pre><code>           root\n          /    \\\n         C      A\n        / \\     |\n       A   O    R\n      / \\  |   / \\\n     N   T T  E   T\n</code></pre>\n<p>Put the list of words in a prefix tree. If a word is ever an extension of another word (e.g. catatonic vs cat), omit the longer word. I.e., in creating your tree, if a word ever ends on a letter with descendants, delete all descendants from the tree. If a word ever extends past a leaf, ignore it.</p>\n<p>This step is O(sum of letter counts of forbidden words)</p>\n<p><strong>Step 2: find the starting and ending indices of banned words in the input string</strong></p>\n<p>Maintain a linked list of references/pointers to letters in the prefix tree, initially empty. I'll call these pointers below.</p>\n<p>First, an example: Say the input string is CART, and the banned words are CAN, CAT, COT, ARE, ART as above.</p>\n<pre><code>parse C: create a new pointer to the 'C' child of the root\nparse A: create a new pointer to the 'A' child of the root\n         update the 'C' pointer to point to its child 'A'\nparse R: we don't create a new pointer since no banned word starts with 'R'\n         delete the pointer to the 'A' that has no 'R' child\n         update the pointer to the other 'A' to point to its R child\nparse T: we don't create a new pointer since no banned word starts with 'R'\n         update the only remaining pointer to point to its 'T' child. Notice that this is a leaf 3 down from the root, so the end of a length 3 banned word. Store the pair of indices for later use.\n</code></pre>\n<p>Note that every single pointer will always point to the current letter. On every step, a pointer either:</p>\n<ol>\n<li>moves to its child that matches the new letter</li>\n<li>is deleted if no child matches the new letter</li>\n<li>is created if the root has a child matching the new letter (i.e. if a banned word starts with the new letter)</li>\n</ol>\n<p>Parse the input string. For each letter:</p>\n<ul>\n<li>for each pointer in your list of pointers, either 1) delete it if the current letter isn't a descendant, or point to the appropriate descendant if the current letter is a descendant.</li>\n<li>create a pointer to the current letter as the first letter of a word, if possible.</li>\n<li>if you reach the end of a word, then the last few characters in the string form a forbidden word. The character count is the depth in the prefix tree. Note the index where each word starts and ends.</li>\n</ul>\n<p>This step is O((length of input string) * (average number of pointers)). I'm not sure how many pointers you're likely to have active at once.</p>\n<p><strong>Step 3: find the longest substring that doesn't contain the starting and ending indices of any banned word</strong></p>\n<p>Once this is done, in linear additional time you can use this to find the longest substring that doesn't contain a forbidden word.</p>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76452040,"answer_count":3,"score":-1,"last_activity_date":1686612699,"creation_date":1686505931,"question_id":76451768,"body_markdown":"Given a string and list of words, I want to find the longest substring such that it does not have any word present in the provided list of words.\r\n\r\n**Constraints:**\r\n\r\n    The length of the string is 1 to 10^5, with no spaces\r\n    The size of the words list is 1 to 10, with no spaces, and each word length is in the range of 1 to 10.\r\n\r\n**Example:**\r\n\r\n    s = &quot;helloworld&quot;\r\n    words = [&quot;wor&quot;, &quot;rld&quot;]\r\n\r\n**Solution :**\r\n\r\n    Valid longest substring: hellowo , here we don&#39;t have &quot;wor&quot;, &quot;rld&quot; in this substring. \r\n    Result = 7\r\n\r\nHere is my code, which works fine for smaller inputs:\r\n\r\n    int solve(String s, List&lt;String&gt; list) {\r\n    \tint answer = 0, j=0;\r\n    \tfor(int i = 0 ; i &lt;= s.length(); i++) {\r\n    \t\tString sub = s.substring(j, i);\r\n    \t\tfor(String e : list) {\r\n    \t\t\tif(sub.contains(e)){\r\n    \t\t\t\tj = j+1;\r\n    \t\t\t\tsub = s.substring(j, i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tanswer = Math.max(answer, i-j);\r\n    \t}\r\n    \treturn answer;\r\n    }\r\n\r\nThe time complexity for this code is I assume O(m*n^2) where n is the size of the input string and m is the size of the list.\r\n\r\nHow to reduce time complexity and solve this with a better approach.\r\n\r\n\r\n**Edit:** Updated the time complexity based on meriton explanation.","title":"Find longest substring","body":"<p>Given a string and list of words, I want to find the longest substring such that it does not have any word present in the provided list of words.</p>\n<p><strong>Constraints:</strong></p>\n<pre><code>The length of the string is 1 to 10^5, with no spaces\nThe size of the words list is 1 to 10, with no spaces, and each word length is in the range of 1 to 10.\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>s = &quot;helloworld&quot;\nwords = [&quot;wor&quot;, &quot;rld&quot;]\n</code></pre>\n<p><strong>Solution :</strong></p>\n<pre><code>Valid longest substring: hellowo , here we don't have &quot;wor&quot;, &quot;rld&quot; in this substring. \nResult = 7\n</code></pre>\n<p>Here is my code, which works fine for smaller inputs:</p>\n<pre><code>int solve(String s, List&lt;String&gt; list) {\n    int answer = 0, j=0;\n    for(int i = 0 ; i &lt;= s.length(); i++) {\n        String sub = s.substring(j, i);\n        for(String e : list) {\n            if(sub.contains(e)){\n                j = j+1;\n                sub = s.substring(j, i);\n            }\n        }\n        answer = Math.max(answer, i-j);\n    }\n    return answer;\n}\n</code></pre>\n<p>The time complexity for this code is I assume O(m*n^2) where n is the size of the input string and m is the size of the list.</p>\n<p>How to reduce time complexity and solve this with a better approach.</p>\n<p><strong>Edit:</strong> Updated the time complexity based on meriton explanation.</p>\n"},{"tags":["java","kotlin","compiler-errors"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686618013,"post_id":76460822,"comment_id":134820577,"body_markdown":"Can you show a [mcve]? What is the &quot;automatically generated setter&quot;? What generated it?","body":"Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? What is the &quot;automatically generated setter&quot;? What generated it?"},{"owner":{"account_id":31088,"reputation":18761,"user_id":85140,"accept_rate":82,"display_name":"the_drow"},"score":0,"creation_date":1686630129,"post_id":76460822,"comment_id":134821546,"body_markdown":"Kotlin generates a property out of the `getRequest` and `setRequest` methods.","body":"Kotlin generates a property out of the <code>getRequest</code> and <code>setRequest</code> methods."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686630398,"post_id":76460822,"comment_id":134821575,"body_markdown":"Okay, now post a [mcve].","body":"Okay, now post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":31088,"reputation":18761,"user_id":85140,"accept_rate":82,"display_name":"the_drow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686611741,"creation_date":1686611741,"question_id":76460822,"body_markdown":"I&#39;m trying to use kotlin fixtures to create a builder object:\r\n```\r\n package bla.testdoubles.stubs\r\n \r\n import bla.testdoubles.TreehouseTestFixture\r\n import bla.testdoubles.fakes.FakeRequest\r\n import bla.ServiceRequest\r\n \r\n typealias Builder = ServiceRequest.ServiceRequestBuilder&lt;FakeRequest&gt;\r\n \r\n val FakeRequestFixture = MyCustomTestFixture&lt;FakeRequest&gt; {\r\n }\r\n \r\n val ServiceRequestFixture = MyCustomTestFixture&lt;Builder&gt; {\r\n     property&lt;Builder, FakeRequest&gt;(Builder::request) {\r\n         FakeRequestFixture\r\n     }\r\n \r\n     property&lt;Builder, String&gt;(&quot;fullRequestURI&quot;) {\r\n         // TODO: use Faker\r\n         &quot;123&quot;\r\n     }\r\n }\r\n```\r\nThe compiler says that Builder::request is a private member and cannot be accessed. I&#39;m trying to refer to the automatically generated setter and not the private request  variable that the Builder declared.\r\n\r\nThis is the error:\r\n Cannot access &#39;request&#39;: it is private in &#39;ServiceRequestBuilder&#39;\r\nThe generated setter uses the setRequest  method and that should be public.\r\nWhat am I doing wrong here?","title":"Cannot refer to Kotlin generated setter using Class::property","body":"<p>I'm trying to use kotlin fixtures to create a builder object:</p>\n<pre><code> package bla.testdoubles.stubs\n \n import bla.testdoubles.TreehouseTestFixture\n import bla.testdoubles.fakes.FakeRequest\n import bla.ServiceRequest\n \n typealias Builder = ServiceRequest.ServiceRequestBuilder&lt;FakeRequest&gt;\n \n val FakeRequestFixture = MyCustomTestFixture&lt;FakeRequest&gt; {\n }\n \n val ServiceRequestFixture = MyCustomTestFixture&lt;Builder&gt; {\n     property&lt;Builder, FakeRequest&gt;(Builder::request) {\n         FakeRequestFixture\n     }\n \n     property&lt;Builder, String&gt;(&quot;fullRequestURI&quot;) {\n         // TODO: use Faker\n         &quot;123&quot;\n     }\n }\n</code></pre>\n<p>The compiler says that Builder::request is a private member and cannot be accessed. I'm trying to refer to the automatically generated setter and not the private request  variable that the Builder declared.</p>\n<p>This is the error:\nCannot access 'request': it is private in 'ServiceRequestBuilder'\nThe generated setter uses the setRequest  method and that should be public.\nWhat am I doing wrong here?</p>\n"},{"tags":["java","redis","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670430916,"post_id":74719917,"comment_id":131876268,"body_markdown":"Please [edit] the post and add a [MRE], otherwise it might be difficult to help.","body":"Please <a href=\"https://stackoverflow.com/posts/74719917/edit\">edit</a> the post and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, otherwise it might be difficult to help."},{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1670441666,"post_id":74719917,"comment_id":131879693,"body_markdown":"The high-level (datasource) API does not provide Redis Streams command yet, but you can use the low level APIs (`Redis` and `RedisAPI`) and use the commands directly.","body":"The high-level (datasource) API does not provide Redis Streams command yet, but you can use the low level APIs (<code>Redis</code> and <code>RedisAPI</code>) and use the commands directly."},{"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"score":1,"creation_date":1670470063,"post_id":74719917,"comment_id":131884804,"body_markdown":"Using low level APIs am able to read data from stream, I want to a listener to recv seq of data. is there any examples?","body":"Using low level APIs am able to read data from stream, I want to a listener to recv seq of data. is there any examples?"}],"answers":[{"tags":[],"owner":{"account_id":5803745,"reputation":140,"user_id":4577096,"display_name":"Michal Hlav&#225;č"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686590295,"creation_date":1686590295,"answer_id":76458942,"question_id":74719917,"body_markdown":"I make it work using `Multi.createBy().repeating()`:\r\n\r\n    @Startup\r\n    @ApplicationScoped\r\n    public class StreamListener {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(StreamListener.class);\r\n    \r\n        private static final String CHANNEL = &quot;channel&quot;;\r\n        private static final String STREAM = &quot;stream&quot;;\r\n        private static final String STREAM_GROUP = &quot;stream_0&quot;;\r\n        private static final String STREAM_CONSUMER = &quot;consumer&quot;;\r\n    \r\n        private final ReactiveStreamCommands&lt;String, String, MyMessage&gt; stream;\r\n        private Cancellable consumer;\r\n    \r\n        public StreamListener(ReactiveRedisDataSource ds) {\r\n            this.stream = ds.stream(MyMessage.class);\r\n        }\r\n    \r\n        @PostConstruct\r\n        void onStart() {\r\n            log.info(&quot;Stream listener is starting...&quot;);\r\n    \r\n            this.consumer = this.stream.xgroupCreate(STREAM, STREAM_GROUP, &quot;0-0&quot;)\r\n                    .onFailure().recoverWithNull()\r\n                    .map(v -&gt; this.stream.xgroupCreateConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER))\r\n                    .map(v -&gt; createStreamListener())\r\n                    .subscribe().with(cancellable -&gt; this.consumer = cancellable);\r\n    \r\n            log.info(&quot;Subscribed to {} channel&quot;, CHANNEL);\r\n        }\r\n    \r\n        @PreDestroy\r\n        void onStop() {\r\n            log.info(&quot;The application is stopping...&quot;);\r\n            this.consumer.cancel();\r\n            this.stream.xgroupDelConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER)\r\n                    .subscribe()\r\n                    .with(unack -&gt; log.info(&quot;Consumer deleted with {} unacknowledged messages&quot;, unack));\r\n        }\r\n    \r\n        private Cancellable createStreamListener() {\r\n            log.info(&quot;Creating stream listener&quot;);\r\n            XReadGroupArgs args = new XReadGroupArgs().block(Duration.ofSeconds(60)).count(10);\r\n            return Multi.createBy()\r\n                    .repeating()\r\n                    .uni(() -&gt; this.stream.xreadgroup(STREAM_GROUP, STREAM_CONSUMER, STREAM, &quot;&gt;&quot;, args)\r\n                            .onFailure().recoverWithItem(emptyList()))\r\n                    .indefinitely()\r\n                    .map(this::processMessage)\r\n                    .onFailure().recoverWithItem(e -&gt; {\r\n                        log.error(&quot;Cannot process message&quot;, e);\r\n                        return new String[0];\r\n                    })\r\n                    .map(this::acknowledge)\r\n                    .onItem().transformToUniAndConcatenate(Function.identity())\r\n                    .subscribe()\r\n                    .with(count -&gt; log.debug(&quot;Collected {} requests&quot;, count));\r\n        }\r\n    \r\n        String[] processMessage(List&lt;StreamMessage&lt;String, String, MyMessage&gt;&gt; messages) {\r\n            List&lt;String&gt; messageIds = new ArrayList&lt;&gt;();\r\n            for (StreamMessage&lt;String, String, MyMessage&gt; message : messages) {\r\n                messageIds.add(message.id());\r\n                // do your job here\r\n            }\r\n            return messageIds.toArray(new String[0]);\r\n        }\r\n    \r\n        Uni&lt;Integer&gt; acknowledge(String[] ids) {\r\n            log.debug(&quot;Acknowledge {} messages&quot;, ids.length);\r\n            return ids.length &gt; 0 ? this.stream.xack(STREAM, STREAM_GROUP, ids) : Uni.createFrom().item(0);\r\n        }\r\n    \r\n        @Scheduled(every = &quot;1h&quot;)\r\n        void trimStream() {\r\n            this.stream.xtrim(STREAM, new XTrimArgs().maxlen(10000).nearlyExactTrimming())\r\n                    .subscribe().with(count -&gt; log.info(&quot;Trimmed {} messages from stream {}&quot;, count, STREAM));\r\n        }\r\n    \r\n        private static class MyMessage {\r\n        }\r\n    }\r\n\r\n","title":"How to use Quarkus to read data from Redis Stream?","body":"<p>I make it work using <code>Multi.createBy().repeating()</code>:</p>\n<pre><code>@Startup\n@ApplicationScoped\npublic class StreamListener {\n\n    private static final Logger log = LoggerFactory.getLogger(StreamListener.class);\n\n    private static final String CHANNEL = &quot;channel&quot;;\n    private static final String STREAM = &quot;stream&quot;;\n    private static final String STREAM_GROUP = &quot;stream_0&quot;;\n    private static final String STREAM_CONSUMER = &quot;consumer&quot;;\n\n    private final ReactiveStreamCommands&lt;String, String, MyMessage&gt; stream;\n    private Cancellable consumer;\n\n    public StreamListener(ReactiveRedisDataSource ds) {\n        this.stream = ds.stream(MyMessage.class);\n    }\n\n    @PostConstruct\n    void onStart() {\n        log.info(&quot;Stream listener is starting...&quot;);\n\n        this.consumer = this.stream.xgroupCreate(STREAM, STREAM_GROUP, &quot;0-0&quot;)\n                .onFailure().recoverWithNull()\n                .map(v -&gt; this.stream.xgroupCreateConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER))\n                .map(v -&gt; createStreamListener())\n                .subscribe().with(cancellable -&gt; this.consumer = cancellable);\n\n        log.info(&quot;Subscribed to {} channel&quot;, CHANNEL);\n    }\n\n    @PreDestroy\n    void onStop() {\n        log.info(&quot;The application is stopping...&quot;);\n        this.consumer.cancel();\n        this.stream.xgroupDelConsumer(STREAM, STREAM_GROUP, STREAM_CONSUMER)\n                .subscribe()\n                .with(unack -&gt; log.info(&quot;Consumer deleted with {} unacknowledged messages&quot;, unack));\n    }\n\n    private Cancellable createStreamListener() {\n        log.info(&quot;Creating stream listener&quot;);\n        XReadGroupArgs args = new XReadGroupArgs().block(Duration.ofSeconds(60)).count(10);\n        return Multi.createBy()\n                .repeating()\n                .uni(() -&gt; this.stream.xreadgroup(STREAM_GROUP, STREAM_CONSUMER, STREAM, &quot;&gt;&quot;, args)\n                        .onFailure().recoverWithItem(emptyList()))\n                .indefinitely()\n                .map(this::processMessage)\n                .onFailure().recoverWithItem(e -&gt; {\n                    log.error(&quot;Cannot process message&quot;, e);\n                    return new String[0];\n                })\n                .map(this::acknowledge)\n                .onItem().transformToUniAndConcatenate(Function.identity())\n                .subscribe()\n                .with(count -&gt; log.debug(&quot;Collected {} requests&quot;, count));\n    }\n\n    String[] processMessage(List&lt;StreamMessage&lt;String, String, MyMessage&gt;&gt; messages) {\n        List&lt;String&gt; messageIds = new ArrayList&lt;&gt;();\n        for (StreamMessage&lt;String, String, MyMessage&gt; message : messages) {\n            messageIds.add(message.id());\n            // do your job here\n        }\n        return messageIds.toArray(new String[0]);\n    }\n\n    Uni&lt;Integer&gt; acknowledge(String[] ids) {\n        log.debug(&quot;Acknowledge {} messages&quot;, ids.length);\n        return ids.length &gt; 0 ? this.stream.xack(STREAM, STREAM_GROUP, ids) : Uni.createFrom().item(0);\n    }\n\n    @Scheduled(every = &quot;1h&quot;)\n    void trimStream() {\n        this.stream.xtrim(STREAM, new XTrimArgs().maxlen(10000).nearlyExactTrimming())\n                .subscribe().with(count -&gt; log.info(&quot;Trimmed {} messages from stream {}&quot;, count, STREAM));\n    }\n\n    private static class MyMessage {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686610795,"creation_date":1670430579,"question_id":74719917,"body_markdown":"Am trying to read data from Redis stream using Quarkus. But am unable to achieve it.Upon checking the Quarkus guide,stream is not available yet .Is there any other way that I could read data from Redis Stream using Quarkus\r\n\r\nUsing Redis API\r\n```\r\n @Startup\r\n  void onStart(@Observes StartupEvent ev) {\r\n    System.out.println(&quot;Stream&quot;);\r\n    Redis.createClient(vertx)\r\n        .connect()\r\n        .onSuccess(connection -&gt; {\r\n          // use the connection\r\n          System.out.println(&quot;Successfully connected = &quot; + connection + &quot; &quot; + Thread.currentThread().getName());\r\n          connection.handler(message -&gt; {\r\n            // do whatever you need to do with your message\r\n            System.out.println(&quot;Message = &quot; + message + &quot; &quot; + Thread.currentThread().getName());\r\n          });\r\n          connection.send(Request.cmd(Command.XRANGE).arg(&quot;test&quot;).arg(&quot;-&quot;).arg(&quot;+&quot;))\r\n              .onSuccess(res -&gt; {\r\n                System.out.println(&quot;Subscribed&quot;);\r\n                System.out.println(res);\r\n              });\r\n        });\r\n  }\r\n```","title":"How to use Quarkus to read data from Redis Stream?","body":"<p>Am trying to read data from Redis stream using Quarkus. But am unable to achieve it.Upon checking the Quarkus guide,stream is not available yet .Is there any other way that I could read data from Redis Stream using Quarkus</p>\n<p>Using Redis API</p>\n<pre><code> @Startup\n  void onStart(@Observes StartupEvent ev) {\n    System.out.println(&quot;Stream&quot;);\n    Redis.createClient(vertx)\n        .connect()\n        .onSuccess(connection -&gt; {\n          // use the connection\n          System.out.println(&quot;Successfully connected = &quot; + connection + &quot; &quot; + Thread.currentThread().getName());\n          connection.handler(message -&gt; {\n            // do whatever you need to do with your message\n            System.out.println(&quot;Message = &quot; + message + &quot; &quot; + Thread.currentThread().getName());\n          });\n          connection.send(Request.cmd(Command.XRANGE).arg(&quot;test&quot;).arg(&quot;-&quot;).arg(&quot;+&quot;))\n              .onSuccess(res -&gt; {\n                System.out.println(&quot;Subscribed&quot;);\n                System.out.println(res);\n              });\n        });\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686579929,"post_id":76456559,"comment_id":134814229,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28804356,"reputation":1,"user_id":22060550,"display_name":"Aristotoo"},"score":0,"creation_date":1686596352,"post_id":76456559,"comment_id":134817724,"body_markdown":"All code was working fine until I decided to install log4j2.what specifically is missing?","body":"All code was working fine until I decided to install log4j2.what specifically is missing?"}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686574999,"creation_date":1686574999,"answer_id":76456947,"question_id":76456559,"body_markdown":"This is a typical issue when dependencies are not compatible with each other. I think the log4j2 dependency added is not compatible with the version of spring you are using.\r\n\r\nYou might want to analyze the dependencies to see the conflicting maven dependencies.\r\n\r\nI have done it using the [Dependency Analyzer][1] in intelliJ and it is not looking good.\r\n\r\n[![Conflicting dependencies][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/guide/tutorials/analyzing-dependencies/dependency-analyzer/\r\n  [2]: https://i.stack.imgur.com/PVkCn.png","title":"After connecting Log4j2 spring boot application throws java.lang.NoClassDefFoundError","body":"<p>This is a typical issue when dependencies are not compatible with each other. I think the log4j2 dependency added is not compatible with the version of spring you are using.</p>\n<p>You might want to analyze the dependencies to see the conflicting maven dependencies.</p>\n<p>I have done it using the <a href=\"https://www.jetbrains.com/idea/guide/tutorials/analyzing-dependencies/dependency-analyzer/\" rel=\"nofollow noreferrer\">Dependency Analyzer</a> in intelliJ and it is not looking good.</p>\n<p><a href=\"https://i.stack.imgur.com/PVkCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PVkCn.png\" alt=\"Conflicting dependencies\" /></a></p>\n"}],"owner":{"account_id":28804356,"reputation":1,"user_id":22060550,"display_name":"Aristotoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686610268,"creation_date":1686571859,"question_id":76456559,"body_markdown":"I am new to programming. I have a `multi`-`module` application. After I excluded `spring-boot-starter-logging` in `POM.xml` and connecting `Log4j2`, `Spring Boot` application throws an exception `java.lang.NoClassDefFoundError: org.springframework.core.NestedIOException`.\r\n\r\nParent `POM.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.bogdan.pms&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Project_Management_System&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n  &lt;version&gt;${revision}${changelist}&lt;/version&gt;\r\n\r\n  &lt;modules&gt;\r\n    &lt;module&gt;PMS-App&lt;/module&gt;\r\n    &lt;module&gt;PMS-dto&lt;/module&gt;\r\n    &lt;module&gt;PMS-datalayer&lt;/module&gt;\r\n    &lt;module&gt;PMS-core&lt;/module&gt;\r\n    &lt;module&gt;PMS-web&lt;/module&gt;\r\n    &lt;module&gt;PMS-common&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n  &lt;properties&gt;\r\n    &lt;revision&gt;0.1&lt;/revision&gt;\r\n    &lt;changelist&gt;-SNAPSHOT&lt;/changelist&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.26&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;42.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n      &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n      &lt;version&gt;4.22.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n   \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-spring-boot&lt;/artifactId&gt;\r\n      &lt;version&gt;2.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n      &lt;version&gt;6.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;1.17.6&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;project_management_system&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n          &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;4.22.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;url&gt;jdbc:postgresql://localhost:5432/project_management_system&lt;/url&gt;\r\n              &lt;username&gt;postgres&lt;/username&gt;\r\n              &lt;password&gt;*****&lt;/password&gt;\r\n              &lt;outputChangeLogFile&gt;db.changelog-master.xml&lt;/outputChangeLogFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;mainClass&gt;com.bogdan.pms.Application&lt;/mainClass&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nlog4j2.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        &lt;File name=&quot;LogToFile&quot; fileName=&quot;logs/app.log&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/File&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.bogdan&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.springframework.boot&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAfter launching the application:\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.0)\r\n\r\n14:38:44.491 [main] INFO  com.bogdan.pms.Application - Starting Application using Java 17.0.7 with PID 5256 (D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-App\\target\\classes started by Bogdan in D:\\IT\\DigDes\\ProjectManagementSystem)\r\nDEBUG StatusConsoleListener AsyncLogger.ThreadNameStrategy=UNCACHED (user specified null, default is UNCACHED)\r\nDEBUG StatusConsoleListener org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\r\n14:38:44.548 [main] DEBUG com.bogdan.pms.Application - Running with Spring Boot v3.1.0, Spring v5.3.24\r\n14:38:44.550 [main] INFO  com.bogdan.pms.Application - No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n14:38:44.814 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\njava.lang.NoClassDefFoundError: org/springframework/core/NestedIOException\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:323) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) [spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.bogdan.pms.Application.main(Application.java:14) [classes/:?]\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.NestedIOException\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\t... 13 more\r\nDEBUG StatusConsoleListener Stopping LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77]...\r\nDEBUG StatusConsoleListener Shutting down FileManager logs/app.log\r\nDEBUG StatusConsoleListener OutputStream closed\r\nDEBUG StatusConsoleListener Shut down FileManager logs/app.log, all resources released: true\r\nDEBUG StatusConsoleListener Appender LogToFile stopped with status true\r\nDEBUG StatusConsoleListener Shutting down OutputStreamManager SYSTEM_OUT.false.false\r\nDEBUG StatusConsoleListener OutputStream closed\r\nDEBUG StatusConsoleListener Shut down OutputStreamManager SYSTEM_OUT.false.false, all resources released: true\r\nDEBUG StatusConsoleListener Appender LogToConsole stopped with status true\r\nDEBUG StatusConsoleListener Stopped XmlConfiguration[location=D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-web\\target\\classes\\log4j2.xml] OK\r\nDEBUG StatusConsoleListener Stopped LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77] with status true\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI hope I provided enough information. I will be glad for any help.","title":"After connecting Log4j2 spring boot application throws java.lang.NoClassDefFoundError","body":"<p>I am new to programming. I have a <code>multi</code>-<code>module</code> application. After I excluded <code>spring-boot-starter-logging</code> in <code>POM.xml</code> and connecting <code>Log4j2</code>, <code>Spring Boot</code> application throws an exception <code>java.lang.NoClassDefFoundError: org.springframework.core.NestedIOException</code>.</p>\n<p>Parent <code>POM.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.bogdan.pms&lt;/groupId&gt;\n  &lt;artifactId&gt;Project_Management_System&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;version&gt;${revision}${changelist}&lt;/version&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;PMS-App&lt;/module&gt;\n    &lt;module&gt;PMS-dto&lt;/module&gt;\n    &lt;module&gt;PMS-datalayer&lt;/module&gt;\n    &lt;module&gt;PMS-core&lt;/module&gt;\n    &lt;module&gt;PMS-web&lt;/module&gt;\n    &lt;module&gt;PMS-common&lt;/module&gt;\n  &lt;/modules&gt;\n  &lt;properties&gt;\n    &lt;revision&gt;0.1&lt;/revision&gt;\n    &lt;changelist&gt;-SNAPSHOT&lt;/changelist&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.26&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n      &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n      &lt;version&gt;4.22.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n   \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-spring-boot&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n      &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n      &lt;version&gt;6.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n      &lt;version&gt;6.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;1.17.6&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;project_management_system&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n          &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;4.22.0&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;url&gt;jdbc:postgresql://localhost:5432/project_management_system&lt;/url&gt;\n              &lt;username&gt;postgres&lt;/username&gt;\n              &lt;password&gt;*****&lt;/password&gt;\n              &lt;outputChangeLogFile&gt;db.changelog-master.xml&lt;/outputChangeLogFile&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;mainClass&gt;com.bogdan.pms.Application&lt;/mainClass&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>log4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;File name=&quot;LogToFile&quot; fileName=&quot;logs/app.log&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.bogdan&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.springframework.boot&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>After launching the application:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n14:38:44.491 [main] INFO  com.bogdan.pms.Application - Starting Application using Java 17.0.7 with PID 5256 (D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-App\\target\\classes started by Bogdan in D:\\IT\\DigDes\\ProjectManagementSystem)\nDEBUG StatusConsoleListener AsyncLogger.ThreadNameStrategy=UNCACHED (user specified null, default is UNCACHED)\nDEBUG StatusConsoleListener org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\n14:38:44.548 [main] DEBUG com.bogdan.pms.Application - Running with Spring Boot v3.1.0, Spring v5.3.24\n14:38:44.550 [main] INFO  com.bogdan.pms.Application - No active profile set, falling back to 1 default profile: &quot;default&quot;\n14:38:44.814 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\njava.lang.NoClassDefFoundError: org/springframework/core/NestedIOException\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:323) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) [spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) [spring-boot-3.1.0.jar:3.1.0]\n    at com.bogdan.pms.Application.main(Application.java:14) [classes/:?]\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.NestedIOException\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    ... 13 more\nDEBUG StatusConsoleListener Stopping LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77]...\nDEBUG StatusConsoleListener Shutting down FileManager logs/app.log\nDEBUG StatusConsoleListener OutputStream closed\nDEBUG StatusConsoleListener Shut down FileManager logs/app.log, all resources released: true\nDEBUG StatusConsoleListener Appender LogToFile stopped with status true\nDEBUG StatusConsoleListener Shutting down OutputStreamManager SYSTEM_OUT.false.false\nDEBUG StatusConsoleListener OutputStream closed\nDEBUG StatusConsoleListener Shut down OutputStreamManager SYSTEM_OUT.false.false, all resources released: true\nDEBUG StatusConsoleListener Appender LogToConsole stopped with status true\nDEBUG StatusConsoleListener Stopped XmlConfiguration[location=D:\\IT\\DigDes\\ProjectManagementSystem\\PMS-web\\target\\classes\\log4j2.xml] OK\nDEBUG StatusConsoleListener Stopped LoggerContext[name=6f94fa3e, org.apache.logging.log4j.core.LoggerContext@2ca26d77] with status true\n\nProcess finished with exit code 1\n</code></pre>\n<p>I hope I provided enough information. I will be glad for any help.</p>\n"},{"tags":["java","collections","hashset","linkedhashset"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1456405814,"post_id":35628232,"comment_id":58937939,"body_markdown":"What is the quote that makes you think it does not retain order?","body":"What is the quote that makes you think it does not retain order?"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1456405879,"post_id":35628232,"comment_id":58937985,"body_markdown":"Use a [`CopyOnWriteArraySet`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CopyOnWriteArraySet.html), it provides: insertion order, thread-safety, no dublicates, safe iteration while looping","body":"Use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CopyOnWriteArraySet.html\" rel=\"nofollow noreferrer\"><code>CopyOnWriteArraySet</code></a>, it provides: insertion order, thread-safety, no dublicates, safe iteration while looping"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1456406027,"post_id":35628232,"comment_id":58938084,"body_markdown":"According to the javadoc, it does retain the order. Can you show an example where it does not?","body":"According to the javadoc, it does retain the order. Can you show an example where it does not?"},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1456406941,"post_id":35628232,"comment_id":58938712,"body_markdown":"Show us an example where order isn&#39;t retained","body":"Show us an example where order isn&#39;t retained"},{"owner":{"account_id":95589,"reputation":2149,"user_id":948737,"accept_rate":70,"display_name":"forum.test17"},"score":0,"creation_date":1456407710,"post_id":35628232,"comment_id":58939266,"body_markdown":"@ all I was wrong in my obersvation","body":"@ all I was wrong in my obersvation"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456406541,"creation_date":1456406541,"answer_id":35628529,"question_id":35628232,"body_markdown":"The [Javadoc for `LinkedHashSet`](https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html) is reasonably clear:\r\n\r\n&gt; the iteration ordering ... is the order in which elements were inserted into the set (insertion-order)","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow\">Javadoc for <code>LinkedHashSet</code></a> is reasonably clear:</p>\n\n<blockquote>\n  <p>the iteration ordering ... is the order in which elements were inserted into the set (insertion-order)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3164480,"reputation":568,"user_id":2674784,"accept_rate":50,"display_name":"Eugene Kirin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1456407058,"creation_date":1456407058,"answer_id":35628714,"question_id":35628232,"body_markdown":"Only LinkedHashSet guarantees predictable order\r\n\r\nFrom jdoc:\r\n\r\n&gt; Hash table and linked list implementation of the Set interface, with\r\n&gt; predictable iteration order","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<p>Only LinkedHashSet guarantees predictable order</p>\n\n<p>From jdoc:</p>\n\n<blockquote>\n  <p>Hash table and linked list implementation of the Set interface, with\n  predictable iteration order</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579400401,"creation_date":1579399247,"answer_id":59806528,"question_id":35628232,"body_markdown":"\r\n&gt; and should be unique\r\n\r\nA [`Set`][1] implementation contains no duplicate elements, as explained in more detail in the Javadoc.\r\n\r\n&gt;java collection to retain order\r\n\r\nWhat do you mean by &quot;order&quot;? \r\n\r\n# Insertion-order: `LinkedHashSet`\r\n\r\nIf you mean tracking the order in which the objects were originally added to the set, use [`LinkedHashSet`][2]. \r\n\r\n\r\n    Set&lt; String &gt; colors = new LinkedHashSet&lt;&gt; () ;\r\n    String peachPuff = &quot;PeachPuff&quot; ;\r\n    colors.add( &quot;CornflowerBlue&quot; ) ;\r\n    colors.add( peachPuff ) ;\r\n    colors.add( &quot;DarkSlateGray&quot; ) ;\r\n    colors.add( peachPuff ) ; // Adding again. Original insertion order maintained.\r\n\r\nRun [code live at IdeOne.com][3]. Notice how `peachPuff` object remains in its original # 2 position despite being added to the set a second time.\r\n\r\n    System.out.println( &quot;colors.toString(): &quot; + colors ) ;\r\n\r\n&gt;colors.toString(): [CornflowerBlue, PeachPuff, DarkSlateGray]\r\n\r\n\r\n\r\n# Sorted-order: `TreeSet` or `ConcurrentSkipListSet`\r\n\r\nIf you mean keeping the elements sorted by their content, use an implementation of [`NavigableSet`][4] (successor to [`SortedSet`][5]). \r\n\r\nThe sorting is done either by:\r\n\r\n - Calling the [`compareTo`][6] defined on any object implementing [`Comparable`][7] interface.\r\n - Using a [`Comparator`][8] implementation passed by you.\r\n\r\nTwo classes bundled with Java implement `NavigableSet` (and `SortedSet`): `TreeSet` &amp; `ConcurrentSkipListSet`. \r\n\r\n## `TreeSet`\r\n\r\nIf you manipulating the set within a single thread, or only using the set across threads for reads only, use [`TreeSet`][9].\r\n\r\nExample:\r\n\r\n    Set&lt; String &gt; names = new TreeSet&lt;&gt; () ;\r\n    names.add( &quot;Carol&quot; ) ;\r\n    names.add( &quot;Alice&quot; ) ;\r\n    names.add( &quot;Bob&quot; ) ;\r\n\r\nThis will be reported in alphabetical order. See this [code run live at IdeOne.com][3].\r\n\r\n&gt;names.toString(): [Alice, Bob, Carol]\r\n\r\n## `ConcurrentSkipListSet` \r\n\r\nIf manipulating the set across threads, [concurrency][10] is an issue. Use [`ConcurrentSkipListSet`][11] class. \r\n\r\nYou may want to learn about the [skip list][12] algorithm. \r\n\r\n# Enum definition order: `EnumSet`\r\n\r\nIf you want to track a collection enum objects (see [Tutorial][13]) by the order in which they are defined on the enum, use [`EnumSet`][14]. This class is highly optimized for enums, being very fast to execute and using very little memory. \r\n\r\nExample: Track the weekend days from the [`DayOfWeek`][15] enum. \r\n\r\n    Set&lt; DayOfWeek &gt; weekend = EnumSet.of( DayOfWeek.SUNDAY , DayOfWeek.SATURDAY ) ;\r\n\r\nDespite our defining the set in wrong order, the [`EnumSet`][14] will iterate the items in the order defined on the `DayOfWeek` enum. That order is Monday-Sunday, so our `EnumSet` will iterate with Saturday reporting before Sunday. \r\n\r\nSee this [code run live at IdeOne.com][3].\r\n\r\n&gt;weekend.toString(): [SATURDAY, SUNDAY]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashSet.html\r\n  [3]: https://ideone.com/RfVBNj\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\r\n  [10]: https://en.wikipedia.org/wiki/Concurrency_(computer_science)\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\r\n  [12]: https://en.wikipedia.org/wiki/Skip_list\r\n  [13]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [14]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html\r\n  [15]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<blockquote>\n  <p>and should be unique</p>\n</blockquote>\n\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> implementation contains no duplicate elements, as explained in more detail in the Javadoc.</p>\n\n<blockquote>\n  <p>java collection to retain order</p>\n</blockquote>\n\n<p>What do you mean by \"order\"? </p>\n\n<h1>Insertion-order: <code>LinkedHashSet</code></h1>\n\n<p>If you mean tracking the order in which the objects were originally added to the set, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a>. </p>\n\n<pre><code>Set&lt; String &gt; colors = new LinkedHashSet&lt;&gt; () ;\nString peachPuff = \"PeachPuff\" ;\ncolors.add( \"CornflowerBlue\" ) ;\ncolors.add( peachPuff ) ;\ncolors.add( \"DarkSlateGray\" ) ;\ncolors.add( peachPuff ) ; // Adding again. Original insertion order maintained.\n</code></pre>\n\n<p>Run <a href=\"https://ideone.com/RfVBNj\" rel=\"nofollow noreferrer\">code live at IdeOne.com</a>. Notice how <code>peachPuff</code> object remains in its original # 2 position despite being added to the set a second time.</p>\n\n<pre><code>System.out.println( \"colors.toString(): \" + colors ) ;\n</code></pre>\n\n<blockquote>\n  <p>colors.toString(): [CornflowerBlue, PeachPuff, DarkSlateGray]</p>\n</blockquote>\n\n<h1>Sorted-order: <code>TreeSet</code> or <code>ConcurrentSkipListSet</code></h1>\n\n<p>If you mean keeping the elements sorted by their content, use an implementation of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> (successor to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>). </p>\n\n<p>The sorting is done either by:</p>\n\n<ul>\n<li>Calling the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\"><code>compareTo</code></a> defined on any object implementing <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface.</li>\n<li>Using a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> implementation passed by you.</li>\n</ul>\n\n<p>Two classes bundled with Java implement <code>NavigableSet</code> (and <code>SortedSet</code>): <code>TreeSet</code> &amp; <code>ConcurrentSkipListSet</code>. </p>\n\n<h2><code>TreeSet</code></h2>\n\n<p>If you manipulating the set within a single thread, or only using the set across threads for reads only, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>.</p>\n\n<p>Example:</p>\n\n<pre><code>Set&lt; String &gt; names = new TreeSet&lt;&gt; () ;\nnames.add( \"Carol\" ) ;\nnames.add( \"Alice\" ) ;\nnames.add( \"Bob\" ) ;\n</code></pre>\n\n<p>This will be reported in alphabetical order. See this <a href=\"https://ideone.com/RfVBNj\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>names.toString(): [Alice, Bob, Carol]</p>\n</blockquote>\n\n<h2><code>ConcurrentSkipListSet</code></h2>\n\n<p>If manipulating the set across threads, <a href=\"https://en.wikipedia.org/wiki/Concurrency_(computer_science)\" rel=\"nofollow noreferrer\">concurrency</a> is an issue. Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListSet</code></a> class. </p>\n\n<p>You may want to learn about the <a href=\"https://en.wikipedia.org/wiki/Skip_list\" rel=\"nofollow noreferrer\">skip list</a> algorithm. </p>\n\n<h1>Enum definition order: <code>EnumSet</code></h1>\n\n<p>If you want to track a collection enum objects (see <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Tutorial</a>) by the order in which they are defined on the enum, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>. This class is highly optimized for enums, being very fast to execute and using very little memory. </p>\n\n<p>Example: Track the weekend days from the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>DayOfWeek</code></a> enum. </p>\n\n<pre><code>Set&lt; DayOfWeek &gt; weekend = EnumSet.of( DayOfWeek.SUNDAY , DayOfWeek.SATURDAY ) ;\n</code></pre>\n\n<p>Despite our defining the set in wrong order, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a> will iterate the items in the order defined on the <code>DayOfWeek</code> enum. That order is Monday-Sunday, so our <code>EnumSet</code> will iterate with Saturday reporting before Sunday. </p>\n\n<p>See this <a href=\"https://ideone.com/RfVBNj\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n\n<blockquote>\n  <p>weekend.toString(): [SATURDAY, SUNDAY]</p>\n</blockquote>\n"}],"owner":{"account_id":95589,"reputation":2149,"user_id":948737,"accept_rate":70,"display_name":"forum.test17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35628714,"answer_count":3,"score":1,"last_activity_date":1686609520,"creation_date":1456405726,"question_id":35628232,"body_markdown":"    Set&lt;String&gt; stringSet = new HashSet&lt;String&gt;();\r\n\r\nwill not retain order obviously \r\n\r\n    Set&lt;String&gt; linkedHastSet = new LinkedHashSet&lt;String&gt;();\r\n\r\nwhile reading elements from the above set it should retain order but in some times it does not ? am I wrong in my observation or I am missing something ?","title":"Why doesn&#39;t LinkedHashSet always retain order?","body":"<pre><code>Set&lt;String&gt; stringSet = new HashSet&lt;String&gt;();\n</code></pre>\n\n<p>will not retain order obviously </p>\n\n<pre><code>Set&lt;String&gt; linkedHastSet = new LinkedHashSet&lt;String&gt;();\n</code></pre>\n\n<p>while reading elements from the above set it should retain order but in some times it does not ? am I wrong in my observation or I am missing something ?</p>\n"},{"tags":["java","string","automatic-ref-counting","center"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686609448,"creation_date":1686604528,"answer_id":76460381,"question_id":76454107,"body_markdown":"Ensure that the angle is split in half horizontally. Then just draw the string horizontally from the angle pivot.  You can then rotate the graphics context and draw the next arc and string.  This demo shows a single &quot;wedge.&quot;  The computations for positioning the String are in the comments. \r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.FontMetrics;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.Timer;\r\n\r\npublic class RotatingAndCentering extends JPanel {\r\n    JFrame f = new JFrame();\r\n    int width = 500;\r\n    int height = 500;\r\n    int i = 0;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new RotatingAndCentering().start());\r\n    }\r\n\r\n    public void start() {\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(this);\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n       \r\n        int inc = 1;\r\n        Timer t = new Timer(0, (ae) -&gt; {\r\n            i += inc;\r\n            if (i &gt;= 360) {\r\n                i -= 360;\r\n            }\r\n            f.repaint();\r\n        });\r\n        t.setDelay(25);\r\n        t.start();\r\n    }\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(width, height);\r\n    }\r\n    \r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2d.setColor(Color.RED);\r\n        int startAngle = -36; // counter clockwise\r\n        int extent = 72; // clockwise\r\n        int w = width - 100;\r\n        int h = height - 100;\r\n        int xOrigin = 50;\r\n        int yOrigin = 50;\r\n        g2d.rotate(Math.toRadians(i), width/2, height/2);\r\n        g2d.fillArc(xOrigin, yOrigin, w, h, startAngle, extent);\r\n\r\n        String s = &quot;This should be centered&quot;;\r\n        g2d.setColor(Color.BLACK);\r\n        Font f = new Font(&quot;Arial&quot;, Font.BOLD, 14);\r\n        g2d.setFont(f);\r\n        // fontmetrics is used to compute String width and height for help in centering.\r\n        FontMetrics fm = g2d.getFontMetrics();\r\n        // 250 is the width of the panel.\r\n        // 200 is half length of the arc.\r\n        // so 250 - (200 + s.length())/2 should be x for center\r\n        // then slightly adjust the baseline by add half the string height.\r\n        int strX = width / 2\r\n                + (w/2  - SwingUtilities.computeStringWidth(fm, s))/2;\r\n        int strY = height/2 + fm.getHeight()/2;\r\n        \r\n        g2d.drawString(s, strX, strY);\r\n        \r\n    }\r\n\r\n}\r\n```\r\nNote:  Instead of rotating what you&#39;re drawing, you can rotate the graphics context and then draw everything the same each time.  Only the angle changes.\r\n\r\nIt&#39;s like rotating a white board `x` radians about a center, drawing a horizontal line from that center point, then rotating back to it&#39;s previous position. As `x` changes, the line seems to rotate about the center.\r\n\r\nAlso, most of the calculations should be done outside of `paintComponent` to keep processing on the EDT at a minimum.\r\n","title":"Centering a String Based on a Dynamically Changing Arc","body":"<p>Ensure that the angle is split in half horizontally. Then just draw the string horizontally from the angle pivot.  You can then rotate the graphics context and draw the next arc and string.  This demo shows a single &quot;wedge.&quot;  The computations for positioning the String are in the comments.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class RotatingAndCentering extends JPanel {\n    JFrame f = new JFrame();\n    int width = 500;\n    int height = 500;\n    int i = 0;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new RotatingAndCentering().start());\n    }\n\n    public void start() {\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(this);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n       \n        int inc = 1;\n        Timer t = new Timer(0, (ae) -&gt; {\n            i += inc;\n            if (i &gt;= 360) {\n                i -= 360;\n            }\n            f.repaint();\n        });\n        t.setDelay(25);\n        t.start();\n    }\n    public Dimension getPreferredSize() {\n        return new Dimension(width, height);\n    }\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(Color.RED);\n        int startAngle = -36; // counter clockwise\n        int extent = 72; // clockwise\n        int w = width - 100;\n        int h = height - 100;\n        int xOrigin = 50;\n        int yOrigin = 50;\n        g2d.rotate(Math.toRadians(i), width/2, height/2);\n        g2d.fillArc(xOrigin, yOrigin, w, h, startAngle, extent);\n\n        String s = &quot;This should be centered&quot;;\n        g2d.setColor(Color.BLACK);\n        Font f = new Font(&quot;Arial&quot;, Font.BOLD, 14);\n        g2d.setFont(f);\n        // fontmetrics is used to compute String width and height for help in centering.\n        FontMetrics fm = g2d.getFontMetrics();\n        // 250 is the width of the panel.\n        // 200 is half length of the arc.\n        // so 250 - (200 + s.length())/2 should be x for center\n        // then slightly adjust the baseline by add half the string height.\n        int strX = width / 2\n                + (w/2  - SwingUtilities.computeStringWidth(fm, s))/2;\n        int strY = height/2 + fm.getHeight()/2;\n        \n        g2d.drawString(s, strX, strY);\n        \n    }\n\n}\n</code></pre>\n<p>Note:  Instead of rotating what you're drawing, you can rotate the graphics context and then draw everything the same each time.  Only the angle changes.</p>\n<p>It's like rotating a white board <code>x</code> radians about a center, drawing a horizontal line from that center point, then rotating back to it's previous position. As <code>x</code> changes, the line seems to rotate about the center.</p>\n<p>Also, most of the calculations should be done outside of <code>paintComponent</code> to keep processing on the EDT at a minimum.</p>\n"}],"owner":{"account_id":26663799,"reputation":1,"user_id":20276211,"display_name":"G&#246;kay Şahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686609448,"creation_date":1686551817,"question_id":76454107,"body_markdown":"I&#39;m in my first year of computer engineering, learning Java as my first programming language. I wanted to create a &#39;Fast Wheel Raffle&#39; application, but I encountered a few issues. First of all:\r\n\r\n1- I&#39;m creating the Arcs using the fillArc method and increasing the spinAngel by spinAngelMultiplier in the spin() method to perform the spinning operation.\r\n2- The calculateAngel() method returns the angle for each Arc.\r\n\r\nThe problem I&#39;m facing is that I&#39;m unable to center each value from the &#39;inputs&#39; list within the Arcs. What can I do to achieve this?\r\n\r\n\r\nThere is a drawWheel() method for creating Arcs.\r\n```\r\n    public void drawWheel(Graphics g){\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        g2D.setColor(Color.BLACK);\r\n        g2D.setRenderingHint (RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2D.setStroke(new BasicStroke(4));\r\n        g2D.drawOval(100,100,400,400);\r\n        if(this.inputs.size() &gt; 0){\r\n            int extra = 0;\r\n            for(int i = 0; i &lt; this.inputs.size(); i++){\r\n                g2D.setColor(colors[i]);\r\n                int angel = calculateAngel();\r\n                if ( ( i == this.inputs.size() - 1 )  &amp;&amp; ( (angel + angel*i) != 360 ) ) {\r\n                    extra = 360 - (angel+angel*i) ;\r\n                }\r\n                g2D.fillArc(100,100,400,400,angel*i+spinAngel, angel+extra);\r\n\r\n                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\r\n\r\n                // I really confused on this part\r\n \r\n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\r\n                g2D.setColor(Color.black);\r\n                int xMultiplier = -1;\r\n                int yMultiplier = 1;\r\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\r\n                    yMultiplier = -1;\r\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\r\n                    xMultiplier = 1;\r\n                }\r\n                int cosX = (int) ( Math.cos(angel+extra) );\r\n                int sinY = (int) ( Math.cos(angel+extra) );\r\n                int stringX = 300 + (xMultiplier * cosX);\r\n                int stringY = 300 + (yMultiplier * sinY);\r\n                g2D.drawString( inputs.get(i), stringX, stringY);\r\n\r\n            }\r\n        }\r\n        g2D.setColor(Color.BLACK);\r\n        g2D.fillOval(300,300,2,2);\r\n    }\r\n```\r\n[When the inputs are entered, the wheel appears like this. As it looks, I couldn&#39;t figure out how to center the Strings within the Arcs.](https://i.stack.imgur.com/jWyHB.png)\r\n\r\nAnd spin() method for increasing spinAngel and reducing spinAngelMultiplier randomly.\r\n```\r\n    public void spin(){\r\n        if(spinAngelMultiplier == 0){\r\n            gameRunning = false;\r\n            return;\r\n        }\r\n\r\n        if(spinAngelMultiplierReducer &gt;= randomNumber){\r\n            spinAngelMultiplierReducer = 0;\r\n            spinAngelMultiplier--;\r\n            minMaxSet();\r\n        }\r\n\r\n        spinAngelMultiplierReducer++;\r\n        spinAngel += spinAngelMultiplier;\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        spin();\r\n        repaint();\r\n    }\r\n```\r\n\r\n\r\n\r\nIn this part of drawWheel() method;\r\n```\r\n                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\r\n\r\n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\r\n                g2D.setColor(Color.black);\r\n                int xMultiplier = -1;\r\n                int yMultiplier = 1;\r\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\r\n                    yMultiplier = -1;\r\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\r\n                    xMultiplier = 1;\r\n                }\r\n                int cosX = (int) ( Math.cos(angel+extra) );\r\n                int sinY = (int) ( Math.cos(angel+extra) );\r\n                int stringX = 300 + (xMultiplier * cosX);\r\n                int stringY = 300 + (yMultiplier * sinY);\r\n                g2D.drawString( inputs.get(i), stringX, stringY);\r\n```\r\n\r\n[angel*i+spinAngel + &quot; and &quot; + (angel+extra)](https://i.stack.imgur.com/WqBJa.png)\r\n\r\nWhat comes to mind when I look at these angle values is:\r\n\r\nIf the value of (angle * i + spinAngel) is greater than 0 and less than 180, I should set yMultiplier to -1. Because this means that the desired Arc is located on the upper side of the circle, and I need to write the String on the upper side of the circle.\r\n  \r\nI applied the same thought process to xMultiplier, but I couldn&#39;t achieve the desired result.","title":"Centering a String Based on a Dynamically Changing Arc","body":"<p>I'm in my first year of computer engineering, learning Java as my first programming language. I wanted to create a 'Fast Wheel Raffle' application, but I encountered a few issues. First of all:</p>\n<p>1- I'm creating the Arcs using the fillArc method and increasing the spinAngel by spinAngelMultiplier in the spin() method to perform the spinning operation.\n2- The calculateAngel() method returns the angle for each Arc.</p>\n<p>The problem I'm facing is that I'm unable to center each value from the 'inputs' list within the Arcs. What can I do to achieve this?</p>\n<p>There is a drawWheel() method for creating Arcs.</p>\n<pre><code>    public void drawWheel(Graphics g){\n        Graphics2D g2D = (Graphics2D) g;\n        g2D.setColor(Color.BLACK);\n        g2D.setRenderingHint (RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2D.setStroke(new BasicStroke(4));\n        g2D.drawOval(100,100,400,400);\n        if(this.inputs.size() &gt; 0){\n            int extra = 0;\n            for(int i = 0; i &lt; this.inputs.size(); i++){\n                g2D.setColor(colors[i]);\n                int angel = calculateAngel();\n                if ( ( i == this.inputs.size() - 1 )  &amp;&amp; ( (angel + angel*i) != 360 ) ) {\n                    extra = 360 - (angel+angel*i) ;\n                }\n                g2D.fillArc(100,100,400,400,angel*i+spinAngel, angel+extra);\n\n                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\n\n                // I really confused on this part\n \n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\n                g2D.setColor(Color.black);\n                int xMultiplier = -1;\n                int yMultiplier = 1;\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\n                    yMultiplier = -1;\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\n                    xMultiplier = 1;\n                }\n                int cosX = (int) ( Math.cos(angel+extra) );\n                int sinY = (int) ( Math.cos(angel+extra) );\n                int stringX = 300 + (xMultiplier * cosX);\n                int stringY = 300 + (yMultiplier * sinY);\n                g2D.drawString( inputs.get(i), stringX, stringY);\n\n            }\n        }\n        g2D.setColor(Color.BLACK);\n        g2D.fillOval(300,300,2,2);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jWyHB.png\" rel=\"nofollow noreferrer\">When the inputs are entered, the wheel appears like this. As it looks, I couldn't figure out how to center the Strings within the Arcs.</a></p>\n<p>And spin() method for increasing spinAngel and reducing spinAngelMultiplier randomly.</p>\n<pre><code>    public void spin(){\n        if(spinAngelMultiplier == 0){\n            gameRunning = false;\n            return;\n        }\n\n        if(spinAngelMultiplierReducer &gt;= randomNumber){\n            spinAngelMultiplierReducer = 0;\n            spinAngelMultiplier--;\n            minMaxSet();\n        }\n\n        spinAngelMultiplierReducer++;\n        spinAngel += spinAngelMultiplier;\n\n    }\n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        spin();\n        repaint();\n    }\n</code></pre>\n<p>In this part of drawWheel() method;</p>\n<pre><code>                System.out.println(angel*i+spinAngel + &quot; and &quot; + (angel+extra));\n\n                g2D.setFont(new Font(&quot;Ariel&quot;, Font.BOLD, 10));\n                g2D.setColor(Color.black);\n                int xMultiplier = -1;\n                int yMultiplier = 1;\n                if(angel*i+spinAngel &gt;=0 &amp;&amp; angel*i+spinAngel &lt;180){\n                    yMultiplier = -1;\n                }if(angel*i+spinAngel &gt;=270 &amp;&amp; angel*i+spinAngel &lt;90){\n                    xMultiplier = 1;\n                }\n                int cosX = (int) ( Math.cos(angel+extra) );\n                int sinY = (int) ( Math.cos(angel+extra) );\n                int stringX = 300 + (xMultiplier * cosX);\n                int stringY = 300 + (yMultiplier * sinY);\n                g2D.drawString( inputs.get(i), stringX, stringY);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WqBJa.png\" rel=\"nofollow noreferrer\">angel*i+spinAngel + &quot; and &quot; + (angel+extra)</a></p>\n<p>What comes to mind when I look at these angle values is:</p>\n<p>If the value of (angle * i + spinAngel) is greater than 0 and less than 180, I should set yMultiplier to -1. Because this means that the desired Arc is located on the upper side of the circle, and I need to write the String on the upper side of the circle.</p>\n<p>I applied the same thought process to xMultiplier, but I couldn't achieve the desired result.</p>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1686829493,"post_id":76458930,"comment_id":134854786,"body_markdown":"that method is in jackson-core 2.15.2 - can you double check that you upgraded all jackson jars to use 2.15.2?","body":"that method is in jackson-core 2.15.2 - can you double check that you upgraded all jackson jars to use 2.15.2?"}],"owner":{"account_id":28806595,"reputation":1,"user_id":22062319,"display_name":"Mohamed Housni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686609225,"creation_date":1686590154,"question_id":76458930,"body_markdown":"After Upgrading jackson to version 2.15.2 I start getting this error:\r\n\r\n```java.lang.NoSuchMethodError: com.fasterxml.jackson.core.io.IOContext.streamReadConstraints()Lcom/fasterxml/jackson/core/StreamReadConstraints; at com.fasterxml.jackson.dataformat.javaprop.JavaPropsParser.(JavaPropsParser.java:104) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory.createParser(JavaPropsFactory.java:159) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:107) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:141) at```\r\n\r\nI tried to line all jackson modules to same version but I still got the same issue  ","title":"JavaPropsMapper in com.fasterxml.jackson version 2.15.2","body":"<p>After Upgrading jackson to version 2.15.2 I start getting this error:</p>\n<p><code>java.lang.NoSuchMethodError: com.fasterxml.jackson.core.io.IOContext.streamReadConstraints()Lcom/fasterxml/jackson/core/StreamReadConstraints; at com.fasterxml.jackson.dataformat.javaprop.JavaPropsParser.(JavaPropsParser.java:104) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsFactory.createParser(JavaPropsFactory.java:159) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:107) at com.fasterxml.jackson.dataformat.javaprop.JavaPropsMapper.readPropertiesAs(JavaPropsMapper.java:141) at</code></p>\n<p>I tried to line all jackson modules to same version but I still got the same issue</p>\n"},{"tags":["java","comparable","treeset"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1641316248,"post_id":70582537,"comment_id":124771742,"body_markdown":"A tree set works by constructing a binary tree. In order to place objects in a binary tree, they need to be compared with the root node and each branch node they encounter (to see which side of the tree they need to go on). You can use a HashSet instead of a TreeSet if you&#39;d rather implement `hash()` than `compareTo()`.","body":"A tree set works by constructing a binary tree. In order to place objects in a binary tree, they need to be compared with the root node and each branch node they encounter (to see which side of the tree they need to go on). You can use a HashSet instead of a TreeSet if you&#39;d rather implement <code>hash()</code> than <code>compareTo()</code>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1641316321,"post_id":70582537,"comment_id":124771770,"body_markdown":"You can&#39;t put items in a `TreeSet` without knowing how to compare them.","body":"You can&#39;t put items in a <code>TreeSet</code> without knowing how to compare them."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641316713,"post_id":70582537,"comment_id":124771915,"body_markdown":"&quot;*Why do objects put in a TreeSet have to implement the Comparable interface?*&quot; - [They do not have to](https://ideone.com/3J1Kya). --- We need to provide some kind of order since [`TreeSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html) implements [`SortedSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html).","body":"&quot;<i>Why do objects put in a TreeSet have to implement the Comparable interface?</i>&quot; - <a href=\"https://ideone.com/3J1Kya\" rel=\"nofollow noreferrer\">They do not have to</a>. --- We need to provide some kind of order since <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":2450311,"reputation":3009,"user_id":2136767,"accept_rate":74,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686608788,"creation_date":1641317464,"answer_id":70582810,"question_id":70582537,"body_markdown":"\r\n[`TreeSet`][1] is an ordered implementation of [`Set`][2].  Specifically, `TreeSet` implements [`NavigableSet`][3] and [`SortedSet`][4], both sub-interfaces of `Set`.\r\n\r\n# `Comparable`\r\n\r\nWhen `TreeSet`&#39;s values are iterated they are returned in the order defined by the object&#39;s class.  This can be useful when the objects in question have some natural concept of order - i.e. some values are &#39;less than&#39; or &#39;more than&#39; other values (e.g. dates).\r\n\r\nIn Java, the way to define the ordering of objects of a given class is by having that class implement [`Comparable`][5].\r\n\r\nIf you don&#39;t care about the ordering (which is often the case) you can use `HashSet` instead.\r\n\r\nAlternatively, if you care about the order in which elements were *added* (but not their &#39;natural&#39; order) you can use `LinkedHashSet`.\r\n\r\n# `Comparator`\r\n\r\nFinally, you might sometimes be interested in a set with a guaranteed iteration order (which is not the order the elements were added) but which is *not* the natural order of the objects defined by `compareTo`.  When this happens you can use the [constructor for `TreeSet`][6] which takes an explicit [`Comparator`][7].  This comparator than defines the ordering (e.g. for iteration) for that *specific* set, which can be different from the natural order - if the objects have one, which they don&#39;t have to when using this constructor.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Comparator)\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html","title":"Java Comparable and TreeSet","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> is an ordered implementation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>.  Specifically, <code>TreeSet</code> implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>, both sub-interfaces of <code>Set</code>.</p>\n<h1><code>Comparable</code></h1>\n<p>When <code>TreeSet</code>'s values are iterated they are returned in the order defined by the object's class.  This can be useful when the objects in question have some natural concept of order - i.e. some values are 'less than' or 'more than' other values (e.g. dates).</p>\n<p>In Java, the way to define the ordering of objects of a given class is by having that class implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>.</p>\n<p>If you don't care about the ordering (which is often the case) you can use <code>HashSet</code> instead.</p>\n<p>Alternatively, if you care about the order in which elements were <em>added</em> (but not their 'natural' order) you can use <code>LinkedHashSet</code>.</p>\n<h1><code>Comparator</code></h1>\n<p>Finally, you might sometimes be interested in a set with a guaranteed iteration order (which is not the order the elements were added) but which is <em>not</em> the natural order of the objects defined by <code>compareTo</code>.  When this happens you can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html#%3Cinit%3E(java.util.Comparator)\" rel=\"nofollow noreferrer\">constructor for <code>TreeSet</code></a> which takes an explicit <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>.  This comparator than defines the ordering (e.g. for iteration) for that <em>specific</em> set, which can be different from the natural order - if the objects have one, which they don't have to when using this constructor.</p>\n"}],"owner":{"account_id":23807442,"reputation":73,"user_id":17816735,"display_name":"asim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70582810,"answer_count":1,"score":3,"last_activity_date":1686608788,"creation_date":1641316073,"question_id":70582537,"body_markdown":"Why do objects put in a TreeSet have to implement the Comparable interface?\r\nI&#39;m trying to create a TreeSet containing some objects of my own class but ClassCastException is thrown when I try to add objects in the set.","title":"Java Comparable and TreeSet","body":"<p>Why do objects put in a TreeSet have to implement the Comparable interface?\nI'm trying to create a TreeSet containing some objects of my own class but ClassCastException is thrown when I try to add objects in the set.</p>\n"},{"tags":["java","json","spring-boot","unit-testing","media-type"],"owner":{"account_id":28807953,"reputation":1,"user_id":22063351,"display_name":"Elyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686607970,"creation_date":1686607970,"question_id":76460636,"body_markdown":"I&#39;m facing an issue with the unit tests for my Spring Boot application. When running the unit tests, I encounter the following error: &quot;java.lang.AssertionError: Range for response status value 415 expected:&lt;SUCCESSFUL&gt; but was:&lt;CLIENT_ERROR&gt;&quot;.\r\n\r\nWhen I manually test the application using Postman, the endpoints work fine and return the expected results.\r\n\r\nI have a UserController class with a createUser method that handles the creation of a user. Inside this method, the user&#39;s password is hashed using the HashingUtil.hashWithMD5 method before saving it to the repository.\r\n\r\nHere&#39;s an example of the createUser method in the UserController:\r\n\r\n```\r\n@PostMapping(&quot;/users&quot;)\r\npublic ResponseEntity&lt;User&gt; createUser(@RequestBody User user){\r\n    user.setPassword(HashingUtil.hashWithMD5(user.getPassword()));\r\n    return ResponseEntity.ok(this.userRepository.save(user));\r\n}\r\n\r\n```\r\n\r\nIn my test class, I have a test method createUser that sends a POST request to the /users endpoint with a JSON payload containing the username and password. Here&#39;s an example of the relevant parts from the test class:\r\n\r\n```\r\n@BeforeEach\r\nvoid init()\r\n{\r\n    this.username = &quot;myfirstUser&quot;;\r\n    String password = &quot;savepassword&quot;;\r\n    this.encodedPassword = this.encodeMD5(password);\r\n    this.userJson = String.format(&quot;{\\&quot;username\\&quot;:\\&quot;%s\\&quot;, \\&quot;password\\&quot;:\\&quot;%s\\&quot;}&quot;, this.username, password);\r\n}\r\n\r\n@Test\r\nvoid createUser() throws Exception\r\n{\r\n    this.mvc.perform(MockMvcRequestBuilders.post(&quot;/users&quot;).content(this.userJson))\r\n        .andExpect(MockMvcResultMatchers.status().is2xxSuccessful());\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI suspect that the issue might be related to how the server is handling the data during the unit tests, specifically the media type or content type. I have tried adding the consumes attribute with MediaType.APPLICATION_JSON_VALUE to the createUser method in the UserController, but it didn&#39;t resolve the issue.\r\n\r\n**Hint:** Please, I am looking for a solution that can be implemented from the other classes without modifying the test class itself.\r\n","title":"Unit Test Failure: Error 415 - Unsupported Media Type","body":"<p>I'm facing an issue with the unit tests for my Spring Boot application. When running the unit tests, I encounter the following error: &quot;java.lang.AssertionError: Range for response status value 415 expected: but was:&lt;CLIENT_ERROR&gt;&quot;.</p>\n<p>When I manually test the application using Postman, the endpoints work fine and return the expected results.</p>\n<p>I have a UserController class with a createUser method that handles the creation of a user. Inside this method, the user's password is hashed using the HashingUtil.hashWithMD5 method before saving it to the repository.</p>\n<p>Here's an example of the createUser method in the UserController:</p>\n<pre><code>@PostMapping(&quot;/users&quot;)\npublic ResponseEntity&lt;User&gt; createUser(@RequestBody User user){\n    user.setPassword(HashingUtil.hashWithMD5(user.getPassword()));\n    return ResponseEntity.ok(this.userRepository.save(user));\n}\n\n</code></pre>\n<p>In my test class, I have a test method createUser that sends a POST request to the /users endpoint with a JSON payload containing the username and password. Here's an example of the relevant parts from the test class:</p>\n<pre><code>@BeforeEach\nvoid init()\n{\n    this.username = &quot;myfirstUser&quot;;\n    String password = &quot;savepassword&quot;;\n    this.encodedPassword = this.encodeMD5(password);\n    this.userJson = String.format(&quot;{\\&quot;username\\&quot;:\\&quot;%s\\&quot;, \\&quot;password\\&quot;:\\&quot;%s\\&quot;}&quot;, this.username, password);\n}\n\n@Test\nvoid createUser() throws Exception\n{\n    this.mvc.perform(MockMvcRequestBuilders.post(&quot;/users&quot;).content(this.userJson))\n        .andExpect(MockMvcResultMatchers.status().is2xxSuccessful());\n}\n\n</code></pre>\n<p>I suspect that the issue might be related to how the server is handling the data during the unit tests, specifically the media type or content type. I have tried adding the consumes attribute with MediaType.APPLICATION_JSON_VALUE to the createUser method in the UserController, but it didn't resolve the issue.</p>\n<p><strong>Hint:</strong> Please, I am looking for a solution that can be implemented from the other classes without modifying the test class itself.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1686604491,"post_id":76460323,"comment_id":134819130,"body_markdown":"Does this answer your question? [Jackson: Serialize only marked fields](https://stackoverflow.com/questions/22668374/jackson-serialize-only-marked-fields)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22668374/jackson-serialize-only-marked-fields\">Jackson: Serialize only marked fields</a>"}],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686607776,"creation_date":1686607365,"answer_id":76460591,"question_id":76460323,"body_markdown":"If I understand you query correctly, you&#39;d like to include just a single property of SomeObject when serializing it using Jackson. If that&#39;s correct, then I think @JsonIncludeProperties class annotation might be a good fit. Something along these lines:\r\n\r\n```\r\n@JsonIncludeProperties({&quot;someId&quot;})\r\npublic class SomeObject {\r\n    private Long someId;\r\n    private String someName;\r\n// other properties to be ignored when serializing\r\n...\r\n// getters/setters\r\n\r\n}\r\n```\r\n\r\nThe output result would not include other properties of SomeObject in the serialization (only the property/properties specified by @JsonIncludeProperties):\r\n\r\n```\r\n{&quot;id&quot;:null,&quot;myName&quot;:null,&quot;someObject&quot;:{&quot;someId&quot;:123}}\r\n```\r\n\r\nIt was added in Jackson Release 2.12: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#jsonincludeproperties\r\n\r\nAdditional details linked from the GitHub release post: https://cowtowncoder.medium.com/jackson-2-12-most-wanted-2-5-bc45ef53ede7\r\n\r\n","title":"Use Jackson to get one Field from sub-object","body":"<p>If I understand you query correctly, you'd like to include just a single property of SomeObject when serializing it using Jackson. If that's correct, then I think @JsonIncludeProperties class annotation might be a good fit. Something along these lines:</p>\n<pre><code>@JsonIncludeProperties({&quot;someId&quot;})\npublic class SomeObject {\n    private Long someId;\n    private String someName;\n// other properties to be ignored when serializing\n...\n// getters/setters\n\n}\n</code></pre>\n<p>The output result would not include other properties of SomeObject in the serialization (only the property/properties specified by @JsonIncludeProperties):</p>\n<pre><code>{&quot;id&quot;:null,&quot;myName&quot;:null,&quot;someObject&quot;:{&quot;someId&quot;:123}}\n</code></pre>\n<p>It was added in Jackson Release 2.12: <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#jsonincludeproperties\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.12#jsonincludeproperties</a></p>\n<p>Additional details linked from the GitHub release post: <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-2-5-bc45ef53ede7\" rel=\"nofollow noreferrer\">https://cowtowncoder.medium.com/jackson-2-12-most-wanted-2-5-bc45ef53ede7</a></p>\n"}],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460591,"answer_count":1,"score":0,"last_activity_date":1686607776,"creation_date":1686603870,"question_id":76460323,"body_markdown":"I don&#39;t expect this will be a tough question, but with all that Jackson has to offer, I hope there is a solution that will work for me.  Am using Java 11 now.\r\n\r\nLet&#39;s say I have an object that looks like this:\r\n\r\n    public class MyMainObject() {\r\n        private Long id;\r\n        private String myName;\r\n        private SomeObject someObject;\r\n        ... getters/setters\r\n    }\r\n    public class SomeObject() {\r\n        private Long someId;\r\n        private String someName;\r\n    }\r\n\r\nNow, I know I can use Jackson to convert this code as follows to json:\r\n\r\n    MyMainObject myMainObject = new MyMainObject();\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String json = mapper.writeValueAsString(myMainObject);\r\n\r\nI know that this will give me the entirety of &#39;SomeObject&#39; in the JSON, which is fine.   But now, I just want to get the &#39;someId&#39; field from &#39;SomeObject&#39;.  \r\n\r\nI am wondering if there is some Jackson Annotation I could use in the &#39;MyMainObject&#39; with the field &#39;someObject&#39; so I only get the &#39;someId&#39; from &#39;SomeObject&#39;.\r\n\r\nI suppose I could forget this and just do a mapping from these two objects to some other DTO.  Or, I could put @JsonIgnore for the SomeObject.someName and that would work also.\r\nBut in this case, imagine SomeObject has many more fields than the ones I listed, and I don&#39;t want to use @JsonIgnore for all those fields.\r\n\r\nSo, if there is a quick Jackson Annotation I could use to just get the one field from the SomeObject, that would be great.   I&#39;ll keep checking the Jackson Annotations to see if there is something.","title":"Use Jackson to get one Field from sub-object","body":"<p>I don't expect this will be a tough question, but with all that Jackson has to offer, I hope there is a solution that will work for me.  Am using Java 11 now.</p>\n<p>Let's say I have an object that looks like this:</p>\n<pre><code>public class MyMainObject() {\n    private Long id;\n    private String myName;\n    private SomeObject someObject;\n    ... getters/setters\n}\npublic class SomeObject() {\n    private Long someId;\n    private String someName;\n}\n</code></pre>\n<p>Now, I know I can use Jackson to convert this code as follows to json:</p>\n<pre><code>MyMainObject myMainObject = new MyMainObject();\nObjectMapper mapper = new ObjectMapper();\nString json = mapper.writeValueAsString(myMainObject);\n</code></pre>\n<p>I know that this will give me the entirety of 'SomeObject' in the JSON, which is fine.   But now, I just want to get the 'someId' field from 'SomeObject'.</p>\n<p>I am wondering if there is some Jackson Annotation I could use in the 'MyMainObject' with the field 'someObject' so I only get the 'someId' from 'SomeObject'.</p>\n<p>I suppose I could forget this and just do a mapping from these two objects to some other DTO.  Or, I could put @JsonIgnore for the SomeObject.someName and that would work also.\nBut in this case, imagine SomeObject has many more fields than the ones I listed, and I don't want to use @JsonIgnore for all those fields.</p>\n<p>So, if there is a quick Jackson Annotation I could use to just get the one field from the SomeObject, that would be great.   I'll keep checking the Jackson Annotations to see if there is something.</p>\n"},{"tags":["java","asynchttpclient"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686607000,"creation_date":1686607000,"answer_id":76460561,"question_id":76460313,"body_markdown":"You can do it like this:\r\n\r\n    public AsyncHttpClient asyncHttpClient() {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10); // create executor\r\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup(10, executorService); // specify number of threads to be used by this instance and provide your executor\r\n\r\n        DefaultAsyncHttpClientConfig.Builder configBuilder = Dsl.config()\r\n                .setEventLoopGroup(eventLoopGroup);\r\n\r\n        return Dsl.asyncHttpClient(configBuilder.build());\r\n    }","title":"How to set an executor for async-http-client?","body":"<p>You can do it like this:</p>\n<pre><code>public AsyncHttpClient asyncHttpClient() {\n    ExecutorService executorService = Executors.newFixedThreadPool(10); // create executor\n    EventLoopGroup eventLoopGroup = new NioEventLoopGroup(10, executorService); // specify number of threads to be used by this instance and provide your executor\n\n    DefaultAsyncHttpClientConfig.Builder configBuilder = Dsl.config()\n            .setEventLoopGroup(eventLoopGroup);\n\n    return Dsl.asyncHttpClient(configBuilder.build());\n}\n</code></pre>\n"}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460561,"answer_count":1,"score":0,"last_activity_date":1686607000,"creation_date":1686603755,"question_id":76460313,"body_markdown":"How to setup the thread pool size for async-http-client? I found this - https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html to create a thread pool. But I am not able to set the executor for the client. My connections are limited and hence I want to restrict the number of threads to only 10 in the thread pool. I am using async-http-client:2.12.3\r\n\r\n    final AsyncHttpClient http =\r\n            asyncHttpClient(\r\n                    config().setThreadPoolName(&quot;CustomThreadPool&quot;));","title":"How to set an executor for async-http-client?","body":"<p>How to setup the thread pool size for async-http-client? I found this - <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html</a> to create a thread pool. But I am not able to set the executor for the client. My connections are limited and hence I want to restrict the number of threads to only 10 in the thread pool. I am using async-http-client:2.12.3</p>\n<pre><code>final AsyncHttpClient http =\n        asyncHttpClient(\n                config().setThreadPoolName(&quot;CustomThreadPool&quot;));\n</code></pre>\n"},{"tags":["java","performance","optimization","collections"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686603333,"post_id":76460260,"comment_id":134818925,"body_markdown":"There&#39;s no point in sorting a list to perform a single binary search. A linear search will be much more efficient.","body":"There&#39;s no point in sorting a list to perform a single binary search. A linear search will be much more efficient."},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1686603494,"post_id":76460260,"comment_id":134818959,"body_markdown":"@shmosel if we assume that the list is too big. Would linear search still be more efficient?","body":"@shmosel if we assume that the list is too big. Would linear search still be more efficient?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1686603636,"post_id":76460260,"comment_id":134818986,"body_markdown":"Yes. Sorting requires at minimum a single pass; usually multiple. A linear search takes at most a single pass; usually less.","body":"Yes. Sorting requires at minimum a single pass; usually multiple. A linear search takes at most a single pass; usually less."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1686603820,"post_id":76460260,"comment_id":134819024,"body_markdown":"But binary searching a pre-sorted list, as per solution 2, will perform better than linear. Searching a HashSet will be even faster than that. Only you can decide wether it&#39;s worth the extra memory cost.","body":"But binary searching a pre-sorted list, as per solution 2, will perform better than linear. Searching a HashSet will be even faster than that. Only you can decide wether it&#39;s worth the extra memory cost."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686604509,"post_id":76460260,"comment_id":134819135,"body_markdown":"Side note: `comparing(Foo::getName)` is equivalent to `c`. There&#39;s no need to define the same comparator twice.","body":"Side note: <code>comparing(Foo::getName)</code> is equivalent to <code>c</code>. There&#39;s no need to define the same comparator twice."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686605427,"creation_date":1686605427,"answer_id":76460446,"question_id":76460260,"body_markdown":"There is no point at all in sorting before searching *every time*.  Sorting will cost you more than a linear scan through the data, so you get a benefit only if you can perform multiple searches per sort.  Ideally, you sort once for all, then perform all the searches.\r\n\r\nIn your case, however,\r\n\r\n&gt; multiple add operations happened all time\r\n\r\nYou think that ...\r\n\r\n&gt; The problem is that the performed operations sometimes are for name and others for the surname.\r\n\r\n... but in fact, even if the searches were always for one field, it would be very costly to keep the list in sorted order as you add elements (unless the additions were in order already).  For unordered additions, the average cost per addition would be proportional to the number of elements already in the list.\r\n\r\n&gt; i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?\r\n\r\nYes.  Use a `HashMap&lt;String, Foo&gt;` for each search criterion you want to support, instead of a list of any flavor.  That will give you O(1) (ammortized) cost for additions and lookups, at the cost of more storage use.  (The `Foo`s are not duplicated, but the framework of one `ArrayList` will be smaller than that of two `HashMap`s for the same number of elements / entries).\r\n```\r\npublic class MemTest3 {\r\n    static HashMap&lt;String, Foo&gt; byGivenName = new HashMap&lt;&gt;();\r\n    static HashMap&lt;String, Foo&gt; bySurname = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        add(&quot;John&quot;,&quot;colins&quot;);\r\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\r\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\r\n        add(&quot;jonh&quot;,&quot;adam&quot;);\r\n    }\r\n\r\n    public static void add(String name,String surname){\r\n        Foo foo = new Foo(name, surname);\r\n\r\n        byGivenName.put(name, foo);\r\n        bySurname.put(surname, foo);\r\n        retrieveByGivenName(&quot;Zoe&quot;);\r\n        retrieveBySurname(&quot;adam&quot;);\r\n    }\r\n\r\n    public static foo retrieveByGivenName(String name) {\r\n        return byGivenName.get(name);\r\n    }\r\n\r\n    public static foo retrieveBySurname(String surname) {\r\n        return bySurname.get(surname);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\nI presume there that the element indexes are not actually significant, but I think that must be true because otherwise, the continual re-sorting you propose to do would be an issue too.","title":"How to avoid sorting every time when do binary search on a list in java","body":"<p>There is no point at all in sorting before searching <em>every time</em>.  Sorting will cost you more than a linear scan through the data, so you get a benefit only if you can perform multiple searches per sort.  Ideally, you sort once for all, then perform all the searches.</p>\n<p>In your case, however,</p>\n<blockquote>\n<p>multiple add operations happened all time</p>\n</blockquote>\n<p>You think that ...</p>\n<blockquote>\n<p>The problem is that the performed operations sometimes are for name and others for the surname.</p>\n</blockquote>\n<p>... but in fact, even if the searches were always for one field, it would be very costly to keep the list in sorted order as you add elements (unless the additions were in order already).  For unordered additions, the average cost per addition would be proportional to the number of elements already in the list.</p>\n<blockquote>\n<p>i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?</p>\n</blockquote>\n<p>Yes.  Use a <code>HashMap&lt;String, Foo&gt;</code> for each search criterion you want to support, instead of a list of any flavor.  That will give you O(1) (ammortized) cost for additions and lookups, at the cost of more storage use.  (The <code>Foo</code>s are not duplicated, but the framework of one <code>ArrayList</code> will be smaller than that of two <code>HashMap</code>s for the same number of elements / entries).</p>\n<pre><code>public class MemTest3 {\n    static HashMap&lt;String, Foo&gt; byGivenName = new HashMap&lt;&gt;();\n    static HashMap&lt;String, Foo&gt; bySurname = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        add(&quot;John&quot;,&quot;colins&quot;);\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\n        add(&quot;jonh&quot;,&quot;adam&quot;);\n    }\n\n    public static void add(String name,String surname){\n        Foo foo = new Foo(name, surname);\n\n        byGivenName.put(name, foo);\n        bySurname.put(surname, foo);\n        retrieveByGivenName(&quot;Zoe&quot;);\n        retrieveBySurname(&quot;adam&quot;);\n    }\n\n    public static foo retrieveByGivenName(String name) {\n        return byGivenName.get(name);\n    }\n\n    public static foo retrieveBySurname(String surname) {\n        return bySurname.get(surname);\n    }\n\n    // ...\n}\n</code></pre>\n<p>I presume there that the element indexes are not actually significant, but I think that must be true because otherwise, the continual re-sorting you propose to do would be an issue too.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686606588,"creation_date":1686606588,"answer_id":76460527,"question_id":76460260,"body_markdown":"&gt; _&quot;... i want an efficient approach to perform searching operations ...&quot;_\r\n\r\n&gt; _&quot;... is there any efficient solution ...&quot;_\r\n\r\nIt entirely depends on the data, against the search criteria.\r\n\r\nStatistically, a single iteration is going to be the most valid approach.  \r\nAs opposed to sorting first, and then searching.\r\n\r\n```java\r\nFoo BinarySearchName(String string) {\r\n    for (Foo foo : al) {\r\n        if (foo.getName().equals(string))\r\n            return foo;\r\n    }\r\n    return null;\r\n}\r\n\r\nFoo BinarySearchSurname(String string) {\r\n    for (Foo foo : al) {\r\n        if (foo.getSurname().equals(string))\r\n            return foo;\r\n    }\r\n    return null;\r\n}\r\n```","title":"How to avoid sorting every time when do binary search on a list in java","body":"<blockquote>\n<p><em>&quot;... i want an efficient approach to perform searching operations ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... is there any efficient solution ...&quot;</em></p>\n</blockquote>\n<p>It entirely depends on the data, against the search criteria.</p>\n<p>Statistically, a single iteration is going to be the most valid approach.<br />\nAs opposed to sorting first, and then searching.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Foo BinarySearchName(String string) {\n    for (Foo foo : al) {\n        if (foo.getName().equals(string))\n            return foo;\n    }\n    return null;\n}\n\nFoo BinarySearchSurname(String string) {\n    for (Foo foo : al) {\n        if (foo.getSurname().equals(string))\n            return foo;\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686606588,"creation_date":1686603217,"question_id":76460260,"body_markdown":"Hello to the wonderful community, i came up with a small problem that struggling me to figure out a solution. I have a simple dummy class with a name and surname and an ArrayList of that class.In reality my real class is very heavy and multiple add operations happened all time thus i want an efficient approach to perform searching operations and hence i use the binary search base. The problem is that the performed operations sometimes are for name and others for the surname. i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?\r\n\r\n\r\n\r\nHere is my dummy solutions:\r\n\r\n**Dummy solution 1**: keep the code as it with the overhead of sort method before i called the binary search.\r\n\r\n**Dummy solution 2**: waste my memory and keep two sorted ArrayList one with name and the other surname and **keep** also the insertion order so as to avoid sort func every time i do a binary search.\r\n\r\nI am sure there is exist another efficient approach can you suggest me please a solution to this problem \r\n\r\n    package Memory;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    \r\n    public class MemTest2 {\r\n        static ArrayList&lt;Foo&gt; al = new ArrayList&lt;Foo&gt;();\r\n        public static void main(String[] args) {\r\n    \r\n            add(&quot;John&quot;,&quot;colins&quot;);\r\n            add(&quot;Andrew&quot;,&quot;tate&quot;);\r\n            add(&quot;Zoe&quot;,&quot;prelevits&quot;);\r\n            add(&quot;jonh&quot;,&quot;adam&quot;);\r\n    \r\n    \r\n            BinarySearchName();\r\n            BinarySearchSurname();\r\n        }\r\n    \r\n        public static void add(String name,String surname){\r\n            al.add(new Foo(name,surname));\r\n        }\r\n    \r\n        public static void BinarySearchName(){\r\n            Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\r\n                public int compare(Foo u1, Foo u2)\r\n                {\r\n                    return u1.getName().compareTo(u2.getName());\r\n                }\r\n            };\r\n            Collections.sort(al, Comparator.comparing(Foo::getName));\r\n            int index = Collections.binarySearch(al, new Foo(&quot;Zoe&quot;,&quot;prelevits&quot;), c);\r\n        }\r\n    \r\n        public static void BinarySearchSurname(){\r\n            Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\r\n                public int compare(Foo u1, Foo u2)\r\n                {\r\n                    return u1.getSurname().compareTo(u2.getSurname());\r\n                }\r\n            };\r\n            Collections.sort(al, Comparator.comparing(Foo::getSurname));\r\n            int index = Collections.binarySearch(al, new Foo(&quot;john&quot;,&quot;adam&quot;), c);\r\n        }\r\n    \r\n        private static class Foo{\r\n            private String name;\r\n            private String surname;\r\n    \r\n            public Foo(String name, String surname) {\r\n                this.name = name;\r\n                this.surname = surname;\r\n            }\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getSurname() {\r\n                return surname;\r\n            }\r\n    \r\n            public void setSurname(String surname) {\r\n                this.surname = surname;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to avoid sorting every time when do binary search on a list in java","body":"<p>Hello to the wonderful community, i came up with a small problem that struggling me to figure out a solution. I have a simple dummy class with a name and surname and an ArrayList of that class.In reality my real class is very heavy and multiple add operations happened all time thus i want an efficient approach to perform searching operations and hence i use the binary search base. The problem is that the performed operations sometimes are for name and others for the surname. i want to avoid all time to sort based on the given field and then perform binary search, so is there any efficient solution on that?</p>\n<p>Here is my dummy solutions:</p>\n<p><strong>Dummy solution 1</strong>: keep the code as it with the overhead of sort method before i called the binary search.</p>\n<p><strong>Dummy solution 2</strong>: waste my memory and keep two sorted ArrayList one with name and the other surname and <strong>keep</strong> also the insertion order so as to avoid sort func every time i do a binary search.</p>\n<p>I am sure there is exist another efficient approach can you suggest me please a solution to this problem</p>\n<pre><code>package Memory;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class MemTest2 {\n    static ArrayList&lt;Foo&gt; al = new ArrayList&lt;Foo&gt;();\n    public static void main(String[] args) {\n\n        add(&quot;John&quot;,&quot;colins&quot;);\n        add(&quot;Andrew&quot;,&quot;tate&quot;);\n        add(&quot;Zoe&quot;,&quot;prelevits&quot;);\n        add(&quot;jonh&quot;,&quot;adam&quot;);\n\n\n        BinarySearchName();\n        BinarySearchSurname();\n    }\n\n    public static void add(String name,String surname){\n        al.add(new Foo(name,surname));\n    }\n\n    public static void BinarySearchName(){\n        Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\n            public int compare(Foo u1, Foo u2)\n            {\n                return u1.getName().compareTo(u2.getName());\n            }\n        };\n        Collections.sort(al, Comparator.comparing(Foo::getName));\n        int index = Collections.binarySearch(al, new Foo(&quot;Zoe&quot;,&quot;prelevits&quot;), c);\n    }\n\n    public static void BinarySearchSurname(){\n        Comparator&lt;Foo&gt; c = new Comparator&lt;Foo&gt;() {\n            public int compare(Foo u1, Foo u2)\n            {\n                return u1.getSurname().compareTo(u2.getSurname());\n            }\n        };\n        Collections.sort(al, Comparator.comparing(Foo::getSurname));\n        int index = Collections.binarySearch(al, new Foo(&quot;john&quot;,&quot;adam&quot;), c);\n    }\n\n    private static class Foo{\n        private String name;\n        private String surname;\n\n        public Foo(String name, String surname) {\n            this.name = name;\n            this.surname = surname;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getSurname() {\n            return surname;\n        }\n\n        public void setSurname(String surname) {\n            this.surname = surname;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":3309368,"reputation":4742,"user_id":2783229,"accept_rate":66,"display_name":"Nitesh Tiwari"},"score":0,"creation_date":1435601559,"post_id":11411022,"comment_id":50257832,"body_markdown":"example to demonstrate with thread example http://code2concept.blogspot.in/2015/02/androidhow-to-find-on-which-thread-code.html","body":"example to demonstrate with thread example <a href=\"http://code2concept.blogspot.in/2015/02/androidhow-to-find-on-which-thread-code.html\" rel=\"nofollow noreferrer\">code2concept.blogspot.in/2015/02/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":370671,"reputation":21814,"user_id":718764,"accept_rate":88,"display_name":"Carnal"},"down_vote_count":2,"up_vote_count":817,"is_accepted":true,"score":815,"last_activity_date":1341915138,"creation_date":1341915138,"answer_id":11411087,"question_id":11411022,"body_markdown":"    Looper.myLooper() == Looper.getMainLooper()\r\n\r\nif this returns true, then you&#39;re on the UI thread!","title":"How to check if current thread is not main thread","body":"<pre><code>Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n\n<p>if this returns true, then you're on the UI thread!</p>\n"},{"tags":[],"owner":{"account_id":245918,"reputation":27339,"user_id":519718,"accept_rate":92,"display_name":"AAnkit"},"down_vote_count":0,"up_vote_count":142,"is_accepted":false,"score":142,"last_activity_date":1434367373,"creation_date":1341915244,"answer_id":11411116,"question_id":11411022,"body_markdown":"you can use below code  to know if current thread is UI/Main thread or not\r\n\r\n    if(Looper.myLooper() == Looper.getMainLooper()) {\r\n       // Current Thread is Main Thread.\r\n    }\r\n\r\n\r\nor you can also use this \r\n\r\n    if(Looper.getMainLooper().getThread() == Thread.currentThread()) {\r\n       // Current Thread is Main Thread.\r\n    }\r\n[Here is similar question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8714032/519718","title":"How to check if current thread is not main thread","body":"<p>you can use below code  to know if current thread is UI/Main thread or not</p>\n\n<pre><code>if(Looper.myLooper() == Looper.getMainLooper()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p>or you can also use this </p>\n\n<pre><code>if(Looper.getMainLooper().getThread() == Thread.currentThread()) {\n   // Current Thread is Main Thread.\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/8714032/519718\">Here is similar question</a></p>\n"},{"tags":[],"owner":{"account_id":287294,"reputation":6275,"user_id":587012,"accept_rate":44,"display_name":"Vishwanath.M"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1341915489,"creation_date":1341915489,"answer_id":11411195,"question_id":11411022,"body_markdown":"you can verify it in android ddms logcat where process id will be same but thread id will be different.","title":"How to check if current thread is not main thread","body":"<p>you can verify it in android ddms logcat where process id will be same but thread id will be different.</p>\n"},{"tags":[],"owner":{"account_id":2733131,"reputation":3771,"user_id":2402790,"accept_rate":0,"display_name":"Michael Allan"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1559885046,"creation_date":1449088943,"answer_id":34052602,"question_id":11411022,"body_markdown":"The best way is the clearest, most robust way: *\r\n\r\n    Thread.currentThread().equals( Looper.getMainLooper().getThread() )\r\n\r\nOr, if the runtime platform is API level 23 (Marshmallow 6.0) or higher:\r\n\r\n    Looper.getMainLooper().isCurrentThread()\r\n\r\nSee the [Looper API][LooperAPI].  Note that calling `Looper.getMainLooper()` involves synchronization (see the [source][getMainLooperSource]).  You might want to avoid the overhead by storing the return value and reusing it.\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;* *credit [greg7gkb][gregComment] and [2cupsOfTech][2cupsComment]*\r\n\r\n  [2cupsComment]: https://stackoverflow.com/a/34052602\r\n  [getMainLooperSource]: https://android.googlesource.com/platform/frameworks/base.git/+/android-6.0.0_r1/core/java/android/os/Looper.java#112\r\n  [gregComment]: https://stackoverflow.com/a/3273018/2402790\r\n  [LooperAPI]: http://developer.android.com/reference/android/os/Looper.html\r\n","title":"How to check if current thread is not main thread","body":"<p>The best way is the clearest, most robust way: *</p>\n\n<pre><code>Thread.currentThread().equals( Looper.getMainLooper().getThread() )\n</code></pre>\n\n<p>Or, if the runtime platform is API level 23 (Marshmallow 6.0) or higher:</p>\n\n<pre><code>Looper.getMainLooper().isCurrentThread()\n</code></pre>\n\n<p>See the <a href=\"http://developer.android.com/reference/android/os/Looper.html\" rel=\"noreferrer\">Looper API</a>.  Note that calling <code>Looper.getMainLooper()</code> involves synchronization (see the <a href=\"https://android.googlesource.com/platform/frameworks/base.git/+/android-6.0.0_r1/core/java/android/os/Looper.java#112\" rel=\"noreferrer\">source</a>).  You might want to avoid the overhead by storing the return value and reusing it.</p>\n\n<p>&nbsp;&nbsp;&nbsp;* <em>credit <a href=\"https://stackoverflow.com/a/3273018/2402790\">greg7gkb</a> and <a href=\"https://stackoverflow.com/a/34052602\">2cupsOfTech</a></em></p>\n"},{"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1480426583,"creation_date":1480426583,"answer_id":40867287,"question_id":11411022,"body_markdown":"You can try Thread.currentThread().isDaemon()\r\n","title":"How to check if current thread is not main thread","body":"<p>You can try Thread.currentThread().isDaemon()</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1526510689,"creation_date":1482400975,"answer_id":41280460,"question_id":11411022,"body_markdown":"Summarizing the solutions, I think that&#39;s the best one:\r\n\r\n    boolean isUiThread = VERSION.SDK_INT &gt;= VERSION_CODES.M \r\n        ? Looper.getMainLooper().isCurrentThread()\r\n        : Thread.currentThread() == Looper.getMainLooper().getThread();\r\n\r\nAnd, if you wish to run something on the UI thread, you can use this:\r\n\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n           //this runs on the UI thread\r\n        }\r\n    });","title":"How to check if current thread is not main thread","body":"<p>Summarizing the solutions, I think that's the best one:</p>\n\n<pre><code>boolean isUiThread = VERSION.SDK_INT &gt;= VERSION_CODES.M \n    ? Looper.getMainLooper().isCurrentThread()\n    : Thread.currentThread() == Looper.getMainLooper().getThread();\n</code></pre>\n\n<p>And, if you wish to run something on the UI thread, you can use this:</p>\n\n<pre><code>new Handler(Looper.getMainLooper()).post(new Runnable() {\n    @Override\n    public void run() {\n       //this runs on the UI thread\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1543314242,"creation_date":1543314242,"answer_id":53497524,"question_id":11411022,"body_markdown":"**You can check** \r\n\r\n    if(Looper.myLooper() == Looper.getMainLooper()) {\r\n       // You are on mainThread \r\n    }else{\r\n    // you are on non-ui thread\r\n    }","title":"How to check if current thread is not main thread","body":"<p><strong>You can check</strong> </p>\n\n<pre><code>if(Looper.myLooper() == Looper.getMainLooper()) {\n   // You are on mainThread \n}else{\n// you are on non-ui thread\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4103031,"reputation":11144,"user_id":3367974,"accept_rate":33,"display_name":"Mehdi Dehghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547627258,"creation_date":1547625638,"answer_id":54212574,"question_id":11411022,"body_markdown":"`Xamarin.Android` port: (_`C#`_)\r\n\r\n    public bool IsMainThread =&gt; Build.VERSION.SdkInt &gt;= BuildVersionCodes.M\r\n        ? Looper.MainLooper.IsCurrentThread\r\n        : Looper.MyLooper() == Looper.MainLooper;\r\n\r\nUsage:\r\n\r\n    if (IsMainThread) {\r\n        // you are on UI/Main thread\r\n    }","title":"How to check if current thread is not main thread","body":"<p><code>Xamarin.Android</code> port: (<em><code>C#</code></em>)</p>\n\n<pre><code>public bool IsMainThread =&gt; Build.VERSION.SdkInt &gt;= BuildVersionCodes.M\n    ? Looper.MainLooper.IsCurrentThread\n    : Looper.MyLooper() == Looper.MainLooper;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>if (IsMainThread) {\n    // you are on UI/Main thread\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2759227,"reputation":496,"user_id":2376453,"accept_rate":83,"display_name":"NekoKikoushi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566913620,"creation_date":1566913620,"answer_id":57676093,"question_id":11411022,"body_markdown":"Allow me to preface this with:\r\nI acknowledged this post has the &#39;Android&#39; tag, however, my search had nothing to do with &#39;Android&#39; and this was my top result. To that end, for the **non-Android** SO Java users landing here, don&#39;t forget about:\r\n\r\n    public static void main(String[] args{\r\n        Thread.currentThread().setName(&quot;SomeNameIChoose&quot;);\r\n        /*...the rest of main...*/\r\n    }\r\n\r\nAfter setting this, elsewhere in your code, you can easily check if you&#39;re about to execute on the main thread with:\r\n\r\n    if(Thread.currentThread().getName().equals(&quot;SomeNameIChoose&quot;))\r\n    {\r\n        //do something on main thread\r\n    }\r\n\r\nA bit embarrassed I had searched before remembering this, but hopefully it will help someone else!","title":"How to check if current thread is not main thread","body":"<p>Allow me to preface this with:\nI acknowledged this post has the 'Android' tag, however, my search had nothing to do with 'Android' and this was my top result. To that end, for the <strong>non-Android</strong> SO Java users landing here, don't forget about:</p>\n\n<pre><code>public static void main(String[] args{\n    Thread.currentThread().setName(\"SomeNameIChoose\");\n    /*...the rest of main...*/\n}\n</code></pre>\n\n<p>After setting this, elsewhere in your code, you can easily check if you're about to execute on the main thread with:</p>\n\n<pre><code>if(Thread.currentThread().getName().equals(\"SomeNameIChoose\"))\n{\n    //do something on main thread\n}\n</code></pre>\n\n<p>A bit embarrassed I had searched before remembering this, but hopefully it will help someone else!</p>\n"},{"tags":[],"owner":{"account_id":14889423,"reputation":85,"user_id":10751598,"display_name":"Stefan Irndorfer"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1611067287,"creation_date":1611067287,"answer_id":65793746,"question_id":11411022,"body_markdown":"A simple Toast message works also as a quick check.","title":"How to check if current thread is not main thread","body":"<p>A simple Toast message works also as a quick check.</p>\n"},{"tags":[],"owner":{"account_id":19490079,"reputation":615,"user_id":14258439,"display_name":"Kumar Santanu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641722876,"creation_date":1641722876,"answer_id":70640232,"question_id":11411022,"body_markdown":"**First of all check It is main Thread or not**\r\n\r\n&gt; In Kotlin\r\n\r\n    fun isRunningOnMainThread(): Boolean {\r\n        return Thread.currentThread() == Looper.getMainLooper().thread\r\n    }\r\n\r\n&gt; In Java\r\n\r\n    static boolean isRunningOnMainThread() {\r\n      return Thread.currentThread().equals(Looper.getMainLooper().getThread());\r\n    }","title":"How to check if current thread is not main thread","body":"<p><strong>First of all check It is main Thread or not</strong></p>\n<blockquote>\n<p>In Kotlin</p>\n</blockquote>\n<pre><code>fun isRunningOnMainThread(): Boolean {\n    return Thread.currentThread() == Looper.getMainLooper().thread\n}\n</code></pre>\n<blockquote>\n<p>In Java</p>\n</blockquote>\n<pre><code>static boolean isRunningOnMainThread() {\n  return Thread.currentThread().equals(Looper.getMainLooper().getThread());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12776413,"reputation":630,"user_id":9955950,"display_name":"shubham chouhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646122873,"creation_date":1646122873,"answer_id":71305539,"question_id":11411022,"body_markdown":"just log this line, it should print &quot;main&quot;.\r\n\r\n  **Thread.currentThread().name**","title":"How to check if current thread is not main thread","body":"<p>just log this line, it should print &quot;main&quot;.</p>\n<p><strong>Thread.currentThread().name</strong></p>\n"},{"tags":[],"owner":{"account_id":13893486,"reputation":1259,"user_id":10030894,"display_name":"Nicolas Duponchel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656582315,"creation_date":1656582315,"answer_id":72813622,"question_id":11411022,"body_markdown":"In addition to all previous answers \r\n```kotlin\r\ninline fun &lt;T&gt; ensureNotOnMainThread(block: () -&gt; T): T {\r\n    check(Thread.currentThread() != Looper.getMainLooper().thread) { &quot;This function cannot be called on main thread&quot; }\r\n    return block()\r\n}\r\n``` \r\nallows to wrap any method with it, following example : \r\n```kotlin\r\nfun isInDataBase(id: String) = ensureNotOnMainThread { db.contains(id) }\r\n```","title":"How to check if current thread is not main thread","body":"<p>In addition to all previous answers</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline fun &lt;T&gt; ensureNotOnMainThread(block: () -&gt; T): T {\n    check(Thread.currentThread() != Looper.getMainLooper().thread) { &quot;This function cannot be called on main thread&quot; }\n    return block()\n}\n</code></pre>\n<p>allows to wrap any method with it, following example :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun isInDataBase(id: String) = ensureNotOnMainThread { db.contains(id) }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558340,"reputation":1150,"user_id":920849,"display_name":"Stephen Talley"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670887650,"creation_date":1670884274,"answer_id":74778050,"question_id":11411022,"body_markdown":"A coroutines-based, Android-agnostic approach:\r\n\r\n    val onMainThread: Boolean\r\n        get() = Thread.currentThread() === try {\r\n            runBlocking(Dispatchers.Main.immediate) {\r\n                Thread.currentThread()\r\n            }\r\n        } catch (e: IllegalStateException) {\r\n            // No main dispatcher has been registered; not in an Android context?\r\n            null\r\n        }\r\n","title":"How to check if current thread is not main thread","body":"<p>A coroutines-based, Android-agnostic approach:</p>\n<pre><code>val onMainThread: Boolean\n    get() = Thread.currentThread() === try {\n        runBlocking(Dispatchers.Main.immediate) {\n            Thread.currentThread()\n        }\n    } catch (e: IllegalStateException) {\n        // No main dispatcher has been registered; not in an Android context?\n        null\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605781,"creation_date":1686605781,"answer_id":76460474,"question_id":11411022,"body_markdown":"So another answer to join the company, for some extension file in kotlin: \r\n\r\n    import android.os.Looper.getMainLooper\r\n    import java.lang.Thread.currentThread\r\n    \r\n    val Thread.isMain get() = getMainLooper().thread == this\r\n    \r\n    val isThreadMain get() = getMainLooper().thread == currentThread()","title":"How to check if current thread is not main thread","body":"<p>So another answer to join the company, for some extension file in kotlin:</p>\n<pre><code>import android.os.Looper.getMainLooper\nimport java.lang.Thread.currentThread\n\nval Thread.isMain get() = getMainLooper().thread == this\n\nval isThreadMain get() = getMainLooper().thread == currentThread()\n</code></pre>\n"}],"owner":{"account_id":1503800,"reputation":10872,"user_id":1407672,"accept_rate":88,"display_name":"Charlie-Blake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171522,"favorite_count":0,"down_vote_count":1,"up_vote_count":463,"accepted_answer_id":11411087,"answer_count":15,"score":462,"last_activity_date":1686605781,"creation_date":1341914940,"question_id":11411022,"body_markdown":"I need to check if the thread running a certain piece of code is the main (UI) thread or not. How can I achieve this?","title":"How to check if current thread is not main thread","body":"<p>I need to check if the thread running a certain piece of code is the main (UI) thread or not. How can I achieve this?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":18184081,"reputation":36,"user_id":13231217,"display_name":"Amish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605116,"creation_date":1686604574,"answer_id":76460387,"question_id":76459496,"body_markdown":"I would instead keep the parsed value field as a keyword field and just use a range query on that. \r\n\r\nHere&#39;s an example of the mapping you could use:\r\n```\r\nPUT phone-numbers-index \r\n{\r\n  &quot;settings&quot;: {\r\n    &quot;analysis&quot;: {\r\n      &quot;normalizer&quot;: {\r\n        &quot;digits-only&quot;: {\r\n          &quot;type&quot;: &quot;custom&quot;,\r\n          &quot;char_filter&quot;: &quot;digits-only&quot;\r\n        }\r\n      },\r\n      &quot;analyzer&quot;: {\r\n        \r\n      },\r\n      &quot;char_filter&quot; : {\r\n        &quot;digits-only&quot;:{\r\n            &quot;type&quot;:&quot;pattern_replace&quot;,\r\n            &quot;pattern&quot;:&quot;[^0-9]&quot;,\r\n            &quot;replacement&quot;:&quot;&quot;\r\n        }\r\n      },\r\n      &quot;filter&quot;: {\r\n        \r\n      }\r\n    }\r\n  }, \r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;phone-num&quot;: {\r\n        &quot;type&quot;: &quot;text&quot;,\r\n        &quot;fields&quot;: {\r\n          &quot;keyword&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;\r\n          },\r\n          &quot;digits-only&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;,\r\n            &quot;normalizer&quot;: &quot;digits-only&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis will create a field called &quot;digits-only&quot; on your phone-num field. Then, you can use a range query on the digits-only field to query phone numbers between two values:\r\n\r\n```\r\nGET phone-numbers-index/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;range&quot;: {\r\n      &quot;phone-num.digits-only&quot;: {\r\n        &quot;gt&quot;: &quot;1&quot;,\r\n        &quot;lte&quot;: &quot;2333333444&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis query will return every document with a phone number greater than 1 and less than or equal to (233) 333-3444 ","title":"Having issues Elasticsearch creating numeric field from parsed values for range query","body":"<p>I would instead keep the parsed value field as a keyword field and just use a range query on that.</p>\n<p>Here's an example of the mapping you could use:</p>\n<pre><code>PUT phone-numbers-index \n{\n  &quot;settings&quot;: {\n    &quot;analysis&quot;: {\n      &quot;normalizer&quot;: {\n        &quot;digits-only&quot;: {\n          &quot;type&quot;: &quot;custom&quot;,\n          &quot;char_filter&quot;: &quot;digits-only&quot;\n        }\n      },\n      &quot;analyzer&quot;: {\n        \n      },\n      &quot;char_filter&quot; : {\n        &quot;digits-only&quot;:{\n            &quot;type&quot;:&quot;pattern_replace&quot;,\n            &quot;pattern&quot;:&quot;[^0-9]&quot;,\n            &quot;replacement&quot;:&quot;&quot;\n        }\n      },\n      &quot;filter&quot;: {\n        \n      }\n    }\n  }, \n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;phone-num&quot;: {\n        &quot;type&quot;: &quot;text&quot;,\n        &quot;fields&quot;: {\n          &quot;keyword&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;\n          },\n          &quot;digits-only&quot;: {\n            &quot;type&quot;: &quot;keyword&quot;,\n            &quot;normalizer&quot;: &quot;digits-only&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This will create a field called &quot;digits-only&quot; on your phone-num field. Then, you can use a range query on the digits-only field to query phone numbers between two values:</p>\n<pre><code>GET phone-numbers-index/_search\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;phone-num.digits-only&quot;: {\n        &quot;gt&quot;: &quot;1&quot;,\n        &quot;lte&quot;: &quot;2333333444&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>This query will return every document with a phone number greater than 1 and less than or equal to (233) 333-3444</p>\n"}],"owner":{"account_id":5467117,"reputation":19,"user_id":21576393,"display_name":"shaselai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686605116,"creation_date":1686595848,"question_id":76459496,"body_markdown":"I have an input of phone number which could include -, + or alphabet. I want to have a numeric version of that value for my Range query. So I was able to parse +233-333-3444 into 2333333444 and when I did a &quot;match query&quot; with &quot;phone-num.parsedValue = 23333334444&quot; i received results. \r\n\r\n\r\n```\r\n&quot;phone-num&quot;: {\r\n\r\n&quot;text&quot;,\r\n\r\n&quot;fields&quot;: {\r\n\r\n&quot;parsedValue&quot;: {\r\n\r\n&quot;analyzer&quot;: &quot;phone-analyzer&quot;,\r\n\r\n&quot;type&quot;:&quot;text&quot;\r\n\r\n}}}\r\n```\r\n\r\n\r\nWhen i tried to do a range query:\r\n\r\n```\r\n&quot;query&quot;:{\r\n\r\n&quot;range&quot;:{\r\n\r\n&quot;phone-num.parsedValue&quot;:{\r\n\r\n&quot;from&quot;:1,\r\n\r\n&quot;to&quot;: 2333333444,\r\n\r\n&quot;include_lower&quot;:true,\r\n\r\n&quot;include_upper&quot;:true }}}\r\n```\r\n\r\ni get 0 results. I am pretty sure this is because the value is in string. The issue is I am not sure how to query against it. I tried &quot;copy_to&quot; and &quot;fields within fields&quot; but neither worked... Is there a way to either:\r\n\r\n1. Save another value based on my &quot;parsedValue&quot; result and save it as long so i can search against it\r\n\r\n2. If I can&#39;t do it during mapping part, what about parsing as part of the query? \r\n\r\nSo to recap - I want to perform Ranged query on incoming Phone numbers with non-numeric values. I did filter it with custom analyzer to remove non-digits but can&#39;t search against it due to the result value still being a string.","title":"Having issues Elasticsearch creating numeric field from parsed values for range query","body":"<p>I have an input of phone number which could include -, + or alphabet. I want to have a numeric version of that value for my Range query. So I was able to parse +233-333-3444 into 2333333444 and when I did a &quot;match query&quot; with &quot;phone-num.parsedValue = 23333334444&quot; i received results.</p>\n<pre><code>&quot;phone-num&quot;: {\n\n&quot;text&quot;,\n\n&quot;fields&quot;: {\n\n&quot;parsedValue&quot;: {\n\n&quot;analyzer&quot;: &quot;phone-analyzer&quot;,\n\n&quot;type&quot;:&quot;text&quot;\n\n}}}\n</code></pre>\n<p>When i tried to do a range query:</p>\n<pre><code>&quot;query&quot;:{\n\n&quot;range&quot;:{\n\n&quot;phone-num.parsedValue&quot;:{\n\n&quot;from&quot;:1,\n\n&quot;to&quot;: 2333333444,\n\n&quot;include_lower&quot;:true,\n\n&quot;include_upper&quot;:true }}}\n</code></pre>\n<p>i get 0 results. I am pretty sure this is because the value is in string. The issue is I am not sure how to query against it. I tried &quot;copy_to&quot; and &quot;fields within fields&quot; but neither worked... Is there a way to either:</p>\n<ol>\n<li><p>Save another value based on my &quot;parsedValue&quot; result and save it as long so i can search against it</p>\n</li>\n<li><p>If I can't do it during mapping part, what about parsing as part of the query?</p>\n</li>\n</ol>\n<p>So to recap - I want to perform Ranged query on incoming Phone numbers with non-numeric values. I did filter it with custom analyzer to remove non-digits but can't search against it due to the result value still being a string.</p>\n"},{"tags":["java","android","multithreading","midi","interrupted-exception"],"comments":[{"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473169642,"post_id":39211146,"comment_id":66031005,"body_markdown":"Please, provide more information where  `MyRunnable` is called. There its thread is started, cancelled","body":"Please, provide more information where  <code>MyRunnable</code> is called. There its thread is started, cancelled"},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170047,"post_id":39211146,"comment_id":66031329,"body_markdown":"@Vyacheslav Certainly - added it just now","body":"@Vyacheslav Certainly - added it just now"},{"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170361,"post_id":39211146,"comment_id":66031559,"body_markdown":"So, how do you start `AudioActivity`? I just can see you have changed code of the example project.","body":"So, how do you start <code>AudioActivity</code>? I just can see you have changed code of the example project."},{"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170458,"post_id":39211146,"comment_id":66031623,"body_markdown":"What is `AudioActivity.midiEngine`?","body":"What is <code>AudioActivity.midiEngine</code>?"},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170501,"post_id":39211146,"comment_id":66031648,"body_markdown":"@Vyacheslav `AudioActivity` is just the Main Activity for the Android application. The `midiEngine` variable is a `MidiReceiver` subclass (same as from the example; almost if not all the MIDI stuff is taken from the midisuite example). `midiEngine` is a static variable owned by `AudioActivity`. I&#39;ll post that class as well if needed","body":"@Vyacheslav <code>AudioActivity</code> is just the Main Activity for the Android application. The <code>midiEngine</code> variable is a <code>MidiReceiver</code> subclass (same as from the example; almost if not all the MIDI stuff is taken from the midisuite example). <code>midiEngine</code> is a static variable owned by <code>AudioActivity</code>. I&#39;ll post that class as well if needed"},{"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1473170707,"post_id":39211146,"comment_id":66031775,"body_markdown":"Of course post. The problem is about your thread is interrupted by somewhere. But you do not show how your code actually works.","body":"Of course post. The problem is about your thread is interrupted by somewhere. But you do not show how your code actually works."},{"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"score":0,"creation_date":1473170812,"post_id":39211146,"comment_id":66031856,"body_markdown":"@Vyacheslav There&#39;s a lot of code and I only wanted to post parts of the code when needed and I wasn&#39;t sure which parts were related quite yet. I do have a thread running for my audio generation code, so in total I guess there are 3 threads (audio, midi, and UI).","body":"@Vyacheslav There&#39;s a lot of code and I only wanted to post parts of the code when needed and I wasn&#39;t sure which parts were related quite yet. I do have a thread running for my audio generation code, so in total I guess there are 3 threads (audio, midi, and UI)."}],"answers":[{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686605078,"creation_date":1686605078,"answer_id":76460423,"question_id":39211146,"body_markdown":"This is realy old post but I will repond anyway:\r\n\r\nWhile I debug my onSend of MidiReceiver that is used in my MidiDeviceService defined in mainfest I can see clearly that it is running on some thread, no UI thread. S when I see this code I can clearly see multiple related issues.\r\n\r\nI check thread by :\r\n\r\n    val Thread.isMain get() = Looper.getMainLooper().thread == this\r\nor\r\n\r\n    val Thread.isMain2 get() = Looper.myLooper() == Looper.getMainLooper()\r\n \r\nWhat gives me that same result. I could not find this anywhere in documentation what is crazy, but my debugging gives me clear answer. \r\nI cannot see any synchronization or anything in this code so as I dont see code of MidiEventScheduler eather and this is not part of android api is that like thread safe? \r\n\r\nI doubt so.","title":"Android MIDI Threading InteruptedException - Aftertouch Messages","body":"<p>This is realy old post but I will repond anyway:</p>\n<p>While I debug my onSend of MidiReceiver that is used in my MidiDeviceService defined in mainfest I can see clearly that it is running on some thread, no UI thread. S when I see this code I can clearly see multiple related issues.</p>\n<p>I check thread by :</p>\n<pre><code>val Thread.isMain get() = Looper.getMainLooper().thread == this\n</code></pre>\n<p>or</p>\n<pre><code>val Thread.isMain2 get() = Looper.myLooper() == Looper.getMainLooper()\n</code></pre>\n<p>What gives me that same result. I could not find this anywhere in documentation what is crazy, but my debugging gives me clear answer.\nI cannot see any synchronization or anything in this code so as I dont see code of MidiEventScheduler eather and this is not part of android api is that like thread safe?</p>\n<p>I doubt so.</p>\n"}],"owner":{"account_id":4778452,"reputation":1243,"user_id":3860983,"accept_rate":82,"display_name":"yun"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":1,"score":16,"last_activity_date":1686605078,"creation_date":1472488914,"question_id":39211146,"body_markdown":"Trying to run MIDI on my Android app. I&#39;m following the [midisuite example][1] to configure my app and it works fine with the exception of aftertouch. Whenever I try to trigger aftertouch, I run into a threading exception type \r\n`InteruptedException`. How should I prevent this threading issue? My knowledge on multithreading isn&#39;t the best or else I would&#39;ve figured this out already. All I can really tell right now is that the message is sending too fast and the thread hasn&#39;t woken up yet from its sleep call.\r\n\r\nI followed the github repo with my code as follows:\r\n\r\n`MidiReceiver` subclass: \r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    public class MidiEngine extends MidiReceiver {\r\n    \r\n        public  AudioActivity activity;\r\n        private MidiEventScheduler eventScheduler;\r\n        private MidiFramer midiFramer;\r\n        private MidiReceiver midiReceiver = new MyReceiver();\r\n    \r\n        private Thread mThread;\r\n        private boolean go;\r\n        private int mProgram;\r\n    \r\n        public MidiEngine() {\r\n            this(new AudioActivity());\r\n        }\r\n    \r\n        public MidiEngine(AudioActivity activity) {\r\n            this.activity = activity;\r\n            midiReceiver = new MyReceiver();\r\n            midiFramer = new MidiFramer(midiReceiver);\r\n        }\r\n    \r\n        public AudioActivity getActivity() {\r\n            return this.activity;\r\n        }\r\n    \r\n        /* This will be called when MIDI data arrives. */\r\n        @Override\r\n        public void onSend(byte[] data, int offset, int count, long timestamp)\r\n                throws IOException {\r\n            if (eventScheduler != null) {\r\n                if (!MidiConstants.isAllActiveSensing(data, offset, count)) {\r\n                    eventScheduler.getReceiver().send(data, offset, count,\r\n                            timestamp);\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Custom Listener to send to correct methods\r\n        private class MyReceiver extends MidiReceiver {\r\n            @Override\r\n            public void onSend(byte[] msg, int offset, int count, long timestamp) throws IOException {\r\n                byte command    = (byte)(msg[0] &amp; MidiConstants.STATUS_COMMAND_MASK);\r\n                int channel     = (byte)(msg[0] &amp; MidiConstants.STATUS_CHANNEL_MASK);\r\n    \r\n                switch (command) {\r\n                    case MidiConstants.STATUS_NOTE_ON:\r\n                        activity.keyDown(i, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_NOTE_OFF:\r\n                        activity.keyUp(channel, msg[1]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_POLYPHONIC_AFTERTOUCH:\r\n                        activity.keyDown(channel, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_PITCH_BEND:\r\n                        activity.pitchBendAction(channel, (msg[2] &lt;&lt; 7) + msg[1]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_CONTROL_CHANGE:\r\n                        activity.ccAction(channel, msg[1], msg[2]);\r\n                        break;\r\n    \r\n                    case MidiConstants.STATUS_PROGRAM_CHANGE:\r\n                        mProgram = msg[1];\r\n                        break;\r\n    \r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        class MyRunnable implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                do {\r\n                    try {\r\n                        activity.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                try {\r\n                                    processMidiEvents();\r\n                                }\r\n                                catch (Exception e) {\r\n                                    Log.e(&quot;Java&quot;, &quot;SynthEngine background thread exception.&quot;, e);\r\n                                }\r\n                            }\r\n                        });\r\n                        Thread.sleep(100);\r\n                    }\r\n                    catch (InterruptedException e) {\r\n                        Log.e(&quot;Java&quot;, &quot;Threading exception&quot;, e);\r\n                    }\r\n                }\r\n                while (go);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * @throws IOException\r\n         *\r\n         */\r\n        private void processMidiEvents() throws IOException {\r\n            long now = System.nanoTime();\r\n            MidiEventScheduler.MidiEvent event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\r\n            while (event != null) {\r\n                midiFramer.send(event.data, 0, event.count, event.getTimestamp());\r\n                eventScheduler.addEventToPool(event);\r\n                event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            stop();\r\n            go = true;\r\n            mThread = new Thread(new MyRunnable());\r\n            mThread.setPriority(6);\r\n            eventScheduler = new MidiEventScheduler();\r\n            mThread.start();\r\n        }\r\n    \r\n        public void stop() {\r\n            go = false;\r\n            if (mThread != null) {\r\n                try {\r\n                    mThread.interrupt();\r\n                    mThread.join(500);\r\n                }\r\n                catch (Exception e) {\r\n    \r\n                }\r\n                mThread = null;\r\n                eventScheduler = null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nStack Trace Error (line 154 refers to the `Thread.sleep` part in my custom `Runnable` class):\r\n\r\n    Java: Threading exception\r\n          java.lang.InterruptedException\r\n              at java.lang.Thread.sleep(Native Method)\r\n              at java.lang.Thread.sleep(Thread.java:1031)\r\n              at java.lang.Thread.sleep(Thread.java:985)\r\n              at com.rfoo.midiapp.communication.MidiEngineInput$MyRunnable.run(MidiEngineInput.java:154)\r\n                                                                         at java.lang.Thread.run(Thread.java:818)\r\n\r\nThanks!\r\n\r\n**EDIT: Thread start**\r\n----------\r\n\r\nMidi Device Service subclass (thread will start whenever a device has connected or disconnected).\r\n\r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    public class MidiSynthDeviceService extends MidiDeviceService {\r\n        private static final String TAG = &quot;MidiSynthDeviceService&quot;;\r\n        private boolean midiStarted = false;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            AudioActivity.midiEngine.stop();\r\n            super.onDestroy();\r\n        }\r\n    \r\n        @Override\r\n        // Declare the receivers associated with your input ports.\r\n        public MidiReceiver[] onGetInputPortReceivers() {\r\n            return new MidiReceiver[] { AudioActivity.midiEngine };\r\n        }\r\n    \r\n        /**\r\n         * This will get called when clients connect or disconnect.\r\n         * You can use it to turn on your synth only when needed.\r\n         */\r\n        @Override\r\n        public void onDeviceStatusChanged(MidiDeviceStatus status) {\r\n    \r\n            if (status.isInputPortOpen(0) &amp;&amp; !midiStarted) {\r\n                AudioActivity.midiEngine.start();\r\n                midiStarted = true;\r\n            } else if (!status.isInputPortOpen(0) &amp;&amp; midiStarted){\r\n                AudioActivity.midiEngine.stop();\r\n                midiStarted = false;\r\n            }\r\n        }\r\n    }\r\n\r\nActivity class:\r\n\r\n    public class AudioActivity extends AppCompatActivity {\r\n        private Thread thread;\r\n        public static MidiEngine midiEngine;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            // Layout inits\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n            // Setup MIDI:\r\n            if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_MIDI)) {\r\n                Toast.makeText(this, &quot;MIDI not supported!&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n            else {\r\n                midiEngine = new MidiEngine(this);\r\n                setupMidi();\r\n            }\r\n\r\n            // Setup audio thread:\r\n            if (thread == null) {\r\n                thread = new Thread() {\r\n                    public void run() {\r\n                        setPriority(Thread.MAX_PRIORITY);\r\n                        // Runs an Open SL audio thread (C++)\r\n                        // This generates a waveform. \r\n                        // AudioEngine is a wrapper class connecting C++ to Java\r\n                        AudioEngine.runProcess();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void setupMidi() {\r\n            if (activity == null) activity = (AudioActivity) getContext();\r\n    \r\n            mMidiManager = (MidiManager) activity.getSystemService(AudioActivity.MIDI_SERVICE);\r\n            if (mMidiManager == null) {\r\n                Toast.makeText(activity, &quot;MidiManager is null!&quot;, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            // Get Device Info\r\n            MidiDeviceInfo deviceInfo = MidiTools.findDevice(mMidiManager, &quot;RFOO&quot;, &quot;AudioApp&quot;);\r\n    \r\n            // MIDI Input\r\n            portIndex = 0;\r\n            inputPortSelector = new MidiOutputPortConnectionSelector(mMidiManager, activity, R.id\r\n                    .inputListView, deviceInfo, portIndex);\r\n            inputPortSelector.setConnectedListener(new MyPortsConnectedListener());\r\n   \r\n            midi_ch_input = 0;\r\n            midi_ch_output = 0;\r\n        }\r\n\r\n        // Bunch of UI code here....\r\n    }\r\n\r\n\r\n  [1]: https://github.com/philburk/android-midisuite","title":"Android MIDI Threading InteruptedException - Aftertouch Messages","body":"<p>Trying to run MIDI on my Android app. I'm following the <a href=\"https://github.com/philburk/android-midisuite\">midisuite example</a> to configure my app and it works fine with the exception of aftertouch. Whenever I try to trigger aftertouch, I run into a threading exception type \n<code>InteruptedException</code>. How should I prevent this threading issue? My knowledge on multithreading isn't the best or else I would've figured this out already. All I can really tell right now is that the message is sending too fast and the thread hasn't woken up yet from its sleep call.</p>\n\n<p>I followed the github repo with my code as follows:</p>\n\n<p><code>MidiReceiver</code> subclass: </p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.M)\npublic class MidiEngine extends MidiReceiver {\n\n    public  AudioActivity activity;\n    private MidiEventScheduler eventScheduler;\n    private MidiFramer midiFramer;\n    private MidiReceiver midiReceiver = new MyReceiver();\n\n    private Thread mThread;\n    private boolean go;\n    private int mProgram;\n\n    public MidiEngine() {\n        this(new AudioActivity());\n    }\n\n    public MidiEngine(AudioActivity activity) {\n        this.activity = activity;\n        midiReceiver = new MyReceiver();\n        midiFramer = new MidiFramer(midiReceiver);\n    }\n\n    public AudioActivity getActivity() {\n        return this.activity;\n    }\n\n    /* This will be called when MIDI data arrives. */\n    @Override\n    public void onSend(byte[] data, int offset, int count, long timestamp)\n            throws IOException {\n        if (eventScheduler != null) {\n            if (!MidiConstants.isAllActiveSensing(data, offset, count)) {\n                eventScheduler.getReceiver().send(data, offset, count,\n                        timestamp);\n            }\n        }\n    }\n\n    // Custom Listener to send to correct methods\n    private class MyReceiver extends MidiReceiver {\n        @Override\n        public void onSend(byte[] msg, int offset, int count, long timestamp) throws IOException {\n            byte command    = (byte)(msg[0] &amp; MidiConstants.STATUS_COMMAND_MASK);\n            int channel     = (byte)(msg[0] &amp; MidiConstants.STATUS_CHANNEL_MASK);\n\n            switch (command) {\n                case MidiConstants.STATUS_NOTE_ON:\n                    activity.keyDown(i, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_NOTE_OFF:\n                    activity.keyUp(channel, msg[1]);\n                    break;\n\n                case MidiConstants.STATUS_POLYPHONIC_AFTERTOUCH:\n                    activity.keyDown(channel, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_PITCH_BEND:\n                    activity.pitchBendAction(channel, (msg[2] &lt;&lt; 7) + msg[1]);\n                    break;\n\n                case MidiConstants.STATUS_CONTROL_CHANGE:\n                    activity.ccAction(channel, msg[1], msg[2]);\n                    break;\n\n                case MidiConstants.STATUS_PROGRAM_CHANGE:\n                    mProgram = msg[1];\n                    break;\n\n                default:\n                    break;\n            }\n        }\n    }\n\n    class MyRunnable implements Runnable {\n        @Override\n        public void run() {\n            do {\n                try {\n                    activity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            try {\n                                processMidiEvents();\n                            }\n                            catch (Exception e) {\n                                Log.e(\"Java\", \"SynthEngine background thread exception.\", e);\n                            }\n                        }\n                    });\n                    Thread.sleep(100);\n                }\n                catch (InterruptedException e) {\n                    Log.e(\"Java\", \"Threading exception\", e);\n                }\n            }\n            while (go);\n        }\n    }\n\n    /**\n     * @throws IOException\n     *\n     */\n    private void processMidiEvents() throws IOException {\n        long now = System.nanoTime();\n        MidiEventScheduler.MidiEvent event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\n        while (event != null) {\n            midiFramer.send(event.data, 0, event.count, event.getTimestamp());\n            eventScheduler.addEventToPool(event);\n            event = (MidiEventScheduler.MidiEvent) eventScheduler.getNextEvent(now);\n        }\n    }\n\n    public void start() {\n        stop();\n        go = true;\n        mThread = new Thread(new MyRunnable());\n        mThread.setPriority(6);\n        eventScheduler = new MidiEventScheduler();\n        mThread.start();\n    }\n\n    public void stop() {\n        go = false;\n        if (mThread != null) {\n            try {\n                mThread.interrupt();\n                mThread.join(500);\n            }\n            catch (Exception e) {\n\n            }\n            mThread = null;\n            eventScheduler = null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Stack Trace Error (line 154 refers to the <code>Thread.sleep</code> part in my custom <code>Runnable</code> class):</p>\n\n<pre><code>Java: Threading exception\n      java.lang.InterruptedException\n          at java.lang.Thread.sleep(Native Method)\n          at java.lang.Thread.sleep(Thread.java:1031)\n          at java.lang.Thread.sleep(Thread.java:985)\n          at com.rfoo.midiapp.communication.MidiEngineInput$MyRunnable.run(MidiEngineInput.java:154)\n                                                                     at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n\n<p>Thanks!</p>\n\n<h2><strong>EDIT: Thread start</strong></h2>\n\n<p>Midi Device Service subclass (thread will start whenever a device has connected or disconnected).</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.M)\npublic class MidiSynthDeviceService extends MidiDeviceService {\n    private static final String TAG = \"MidiSynthDeviceService\";\n    private boolean midiStarted = false;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy() {\n        AudioActivity.midiEngine.stop();\n        super.onDestroy();\n    }\n\n    @Override\n    // Declare the receivers associated with your input ports.\n    public MidiReceiver[] onGetInputPortReceivers() {\n        return new MidiReceiver[] { AudioActivity.midiEngine };\n    }\n\n    /**\n     * This will get called when clients connect or disconnect.\n     * You can use it to turn on your synth only when needed.\n     */\n    @Override\n    public void onDeviceStatusChanged(MidiDeviceStatus status) {\n\n        if (status.isInputPortOpen(0) &amp;&amp; !midiStarted) {\n            AudioActivity.midiEngine.start();\n            midiStarted = true;\n        } else if (!status.isInputPortOpen(0) &amp;&amp; midiStarted){\n            AudioActivity.midiEngine.stop();\n            midiStarted = false;\n        }\n    }\n}\n</code></pre>\n\n<p>Activity class:</p>\n\n<pre><code>public class AudioActivity extends AppCompatActivity {\n    private Thread thread;\n    public static MidiEngine midiEngine;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // Layout inits\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        // Setup MIDI:\n        if (!getPackageManager().hasSystemFeature(PackageManager.FEATURE_MIDI)) {\n            Toast.makeText(this, \"MIDI not supported!\", Toast.LENGTH_LONG).show();\n        }\n        else {\n            midiEngine = new MidiEngine(this);\n            setupMidi();\n        }\n\n        // Setup audio thread:\n        if (thread == null) {\n            thread = new Thread() {\n                public void run() {\n                    setPriority(Thread.MAX_PRIORITY);\n                    // Runs an Open SL audio thread (C++)\n                    // This generates a waveform. \n                    // AudioEngine is a wrapper class connecting C++ to Java\n                    AudioEngine.runProcess();\n                }\n            }\n        }\n    }\n\n    public void setupMidi() {\n        if (activity == null) activity = (AudioActivity) getContext();\n\n        mMidiManager = (MidiManager) activity.getSystemService(AudioActivity.MIDI_SERVICE);\n        if (mMidiManager == null) {\n            Toast.makeText(activity, \"MidiManager is null!\", Toast.LENGTH_LONG).show();\n            return;\n        }\n        // Get Device Info\n        MidiDeviceInfo deviceInfo = MidiTools.findDevice(mMidiManager, \"RFOO\", \"AudioApp\");\n\n        // MIDI Input\n        portIndex = 0;\n        inputPortSelector = new MidiOutputPortConnectionSelector(mMidiManager, activity, R.id\n                .inputListView, deviceInfo, portIndex);\n        inputPortSelector.setConnectedListener(new MyPortsConnectedListener());\n\n        midi_ch_input = 0;\n        midi_ch_output = 0;\n    }\n\n    // Bunch of UI code here....\n}\n</code></pre>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1463285867,"post_id":37154575,"comment_id":61998340,"body_markdown":"More discussion [here](http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588).","body":"More discussion <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":7951316,"reputation":68,"user_id":6002058,"display_name":"hilzj"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1462948981,"creation_date":1462948981,"answer_id":37154932,"question_id":37154575,"body_markdown":"You can use a BubbleChart to illustrate a dataset with 3 columns. \r\n\r\nThere are some android libs which contain some charts that look pretty well.\r\n\r\nHelloCharts for Android: https://github.com/lecho/hellocharts-android\r\n\r\nMPAndroidChart: https://github.com/PhilJay/MPAndroidChart\r\n\r\nHope this solve your problem.","title":"How to plot color map in java?","body":"<p>You can use a BubbleChart to illustrate a dataset with 3 columns. </p>\n\n<p>There are some android libs which contain some charts that look pretty well.</p>\n\n<p>HelloCharts for Android: <a href=\"https://github.com/lecho/hellocharts-android\" rel=\"nofollow\">https://github.com/lecho/hellocharts-android</a></p>\n\n<p>MPAndroidChart: <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow\">https://github.com/PhilJay/MPAndroidChart</a></p>\n\n<p>Hope this solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462979256,"creation_date":1462979256,"answer_id":37166671,"question_id":37154575,"body_markdown":"An [`XYBlockRenderer`][1] looks like a good match. You can use [`Color.getHSBColor()`][2], like they show [here][3], to make the [`PaintScale`][4].\r\n\r\n[image][5]\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/xy/XYBlockRenderer.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#getHSBColor-float-float-float-\r\n  [3]: https://stackoverflow.com/a/9875534/261156\r\n  [4]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/PaintScale.html\r\n  [5]: http://www.jfree.org/jfreechart/api/javadoc/images/XYBlockRendererSample.png","title":"How to plot color map in java?","body":"<p>An <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/xy/XYBlockRenderer.html\" rel=\"nofollow noreferrer\"><code>XYBlockRenderer</code></a> looks like a good match. You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#getHSBColor-float-float-float-\" rel=\"nofollow noreferrer\"><code>Color.getHSBColor()</code></a>, like they show <a href=\"https://stackoverflow.com/a/9875534/261156\">here</a>, to make the <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/renderer/PaintScale.html\" rel=\"nofollow noreferrer\"><code>PaintScale</code></a>.</p>\n\n<p><a href=\"http://www.jfree.org/jfreechart/api/javadoc/images/XYBlockRendererSample.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686604805,"creation_date":1463292947,"answer_id":37235165,"question_id":37154575,"body_markdown":"Starting with this [example][1] and using this [idea][2], you can use a `SpectrumPaintScale` to get a palette of colors as shown below.\r\n\r\n[![image][3]][3]\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Paint;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.AxisLocation;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.labels.StandardXYToolTipGenerator;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.PaintScale;\r\nimport org.jfree.chart.renderer.xy.XYBlockRenderer;\r\nimport org.jfree.chart.title.PaintScaleLegend;\r\nimport org.jfree.data.xy.DefaultXYZDataset;\r\nimport org.jfree.data.xy.XYDataset;\r\nimport org.jfree.data.xy.XYZDataset;\r\nimport org.jfree.chart.ui.RectangleEdge;\r\nimport org.jfree.chart.ui.RectangleInsets;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/37235165/230513\r\n */\r\npublic class XYZChartDemo {\r\n\r\n    private static final int N = 100;\r\n\r\n    public XYZChartDemo(String title) {\r\n        JFrame f = new JFrame(title);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        ChartPanel chartPanel = new ChartPanel(createChart(createDataset())) {\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(640, 480);\r\n            }\r\n        };\r\n        chartPanel.setMouseZoomable(true, false);\r\n        f.add(chartPanel);\r\n        f.pack();\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    private static JFreeChart createChart(XYDataset dataset) {\r\n        NumberAxis xAxis = new NumberAxis(&quot;x Axis&quot;);\r\n        NumberAxis yAxis = new NumberAxis(&quot;y Axis&quot;);\r\n        XYPlot plot = new XYPlot(dataset, xAxis, yAxis, null);\r\n        XYBlockRenderer r = new XYBlockRenderer();\r\n        r.setDefaultToolTipGenerator(new StandardXYToolTipGenerator());\r\n        SpectrumPaintScale ps = new SpectrumPaintScale(0, N * N);\r\n        r.setPaintScale(ps);\r\n        plot.setRenderer(r);\r\n        JFreeChart chart = new JFreeChart(&quot;Title&quot;,\r\n            JFreeChart.DEFAULT_TITLE_FONT, plot, false);\r\n        NumberAxis scaleAxis = new NumberAxis(&quot;Scale&quot;);\r\n        scaleAxis.setAxisLinePaint(Color.white);\r\n        scaleAxis.setTickMarkPaint(Color.white);\r\n        PaintScaleLegend legend = new PaintScaleLegend(ps, scaleAxis);\r\n        legend.setSubdivisionCount(128);\r\n        legend.setAxisLocation(AxisLocation.TOP_OR_RIGHT);\r\n        legend.setPadding(new RectangleInsets(25, 10, 50, 10));\r\n        legend.setStripWidth(20);\r\n        legend.setPosition(RectangleEdge.RIGHT);\r\n        legend.setBackgroundPaint(Color.WHITE);\r\n        chart.addSubtitle(legend);\r\n        chart.setBackgroundPaint(Color.white);\r\n        return chart;\r\n    }\r\n\r\n    private static XYZDataset createDataset() {\r\n        DefaultXYZDataset dataset = new DefaultXYZDataset();\r\n        double[][] data = new double[3][N * N];\r\n        for (int i = 0; i &lt; N * N; i++) {\r\n            var x = i % N;\r\n            var y = i / N;\r\n            data[0][i] = x;\r\n            data[1][i] = y;\r\n            data[2][i] = x * y;\r\n        }\r\n        dataset.addSeries(&quot;Series&quot;, data);\r\n        return dataset;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            XYZChartDemo demo = new XYZChartDemo(&quot;XYZ Demo&quot;);\r\n        });\r\n    }\r\n\r\n    private static class SpectrumPaintScale implements PaintScale {\r\n\r\n        private static final float H1 = 0f;\r\n        private static final float H2 = 1f;\r\n        private final double lowerBound;\r\n        private final double upperBound;\r\n\r\n        public SpectrumPaintScale(double lowerBound, double upperBound) {\r\n            this.lowerBound = lowerBound;\r\n            this.upperBound = upperBound;\r\n        }\r\n\r\n        @Override\r\n        public double getLowerBound() {\r\n            return lowerBound;\r\n        }\r\n\r\n        @Override\r\n        public double getUpperBound() {\r\n            return upperBound;\r\n        }\r\n\r\n        @Override\r\n        public Paint getPaint(double value) {\r\n            float scaledValue = (float) (value / (getUpperBound() - getLowerBound()));\r\n            float scaledH = H1 + scaledValue * (H2 - H1);\r\n            return Color.getHSBColor(scaledH, 1f, 1f);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\r\n  [2]: https://stackoverflow.com/a/37166671/230513\r\n  [3]: https://i.stack.imgur.com/fPUJC.png\r\n  [4]: http://i.stack.imgur.com/LOKKB.png","title":"How to plot color map in java?","body":"<p>Starting with this <a href=\"http://www.jfree.org/forum/viewtopic.php?f=3&amp;t=29588\" rel=\"nofollow noreferrer\">example</a> and using this <a href=\"https://stackoverflow.com/a/37166671/230513\">idea</a>, you can use a <code>SpectrumPaintScale</code> to get a palette of colors as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/fPUJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fPUJC.png\" alt=\"image\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Paint;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.AxisLocation;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.labels.StandardXYToolTipGenerator;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.PaintScale;\nimport org.jfree.chart.renderer.xy.XYBlockRenderer;\nimport org.jfree.chart.title.PaintScaleLegend;\nimport org.jfree.data.xy.DefaultXYZDataset;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.data.xy.XYZDataset;\nimport org.jfree.chart.ui.RectangleEdge;\nimport org.jfree.chart.ui.RectangleInsets;\n\n/**\n * @see https://stackoverflow.com/a/37235165/230513\n */\npublic class XYZChartDemo {\n\n    private static final int N = 100;\n\n    public XYZChartDemo(String title) {\n        JFrame f = new JFrame(title);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        ChartPanel chartPanel = new ChartPanel(createChart(createDataset())) {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(640, 480);\n            }\n        };\n        chartPanel.setMouseZoomable(true, false);\n        f.add(chartPanel);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    private static JFreeChart createChart(XYDataset dataset) {\n        NumberAxis xAxis = new NumberAxis(&quot;x Axis&quot;);\n        NumberAxis yAxis = new NumberAxis(&quot;y Axis&quot;);\n        XYPlot plot = new XYPlot(dataset, xAxis, yAxis, null);\n        XYBlockRenderer r = new XYBlockRenderer();\n        r.setDefaultToolTipGenerator(new StandardXYToolTipGenerator());\n        SpectrumPaintScale ps = new SpectrumPaintScale(0, N * N);\n        r.setPaintScale(ps);\n        plot.setRenderer(r);\n        JFreeChart chart = new JFreeChart(&quot;Title&quot;,\n            JFreeChart.DEFAULT_TITLE_FONT, plot, false);\n        NumberAxis scaleAxis = new NumberAxis(&quot;Scale&quot;);\n        scaleAxis.setAxisLinePaint(Color.white);\n        scaleAxis.setTickMarkPaint(Color.white);\n        PaintScaleLegend legend = new PaintScaleLegend(ps, scaleAxis);\n        legend.setSubdivisionCount(128);\n        legend.setAxisLocation(AxisLocation.TOP_OR_RIGHT);\n        legend.setPadding(new RectangleInsets(25, 10, 50, 10));\n        legend.setStripWidth(20);\n        legend.setPosition(RectangleEdge.RIGHT);\n        legend.setBackgroundPaint(Color.WHITE);\n        chart.addSubtitle(legend);\n        chart.setBackgroundPaint(Color.white);\n        return chart;\n    }\n\n    private static XYZDataset createDataset() {\n        DefaultXYZDataset dataset = new DefaultXYZDataset();\n        double[][] data = new double[3][N * N];\n        for (int i = 0; i &lt; N * N; i++) {\n            var x = i % N;\n            var y = i / N;\n            data[0][i] = x;\n            data[1][i] = y;\n            data[2][i] = x * y;\n        }\n        dataset.addSeries(&quot;Series&quot;, data);\n        return dataset;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            XYZChartDemo demo = new XYZChartDemo(&quot;XYZ Demo&quot;);\n        });\n    }\n\n    private static class SpectrumPaintScale implements PaintScale {\n\n        private static final float H1 = 0f;\n        private static final float H2 = 1f;\n        private final double lowerBound;\n        private final double upperBound;\n\n        public SpectrumPaintScale(double lowerBound, double upperBound) {\n            this.lowerBound = lowerBound;\n            this.upperBound = upperBound;\n        }\n\n        @Override\n        public double getLowerBound() {\n            return lowerBound;\n        }\n\n        @Override\n        public double getUpperBound() {\n            return upperBound;\n        }\n\n        @Override\n        public Paint getPaint(double value) {\n            float scaledValue = (float) (value / (getUpperBound() - getLowerBound()));\n            float scaledH = H1 + scaledValue * (H2 - H1);\n            return Color.getHSBColor(scaledH, 1f, 1f);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3310385,"reputation":382,"user_id":4057584,"accept_rate":9,"display_name":"Ranjeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3766,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686604805,"creation_date":1462947901,"question_id":37154575,"body_markdown":"I have a dataset with 3 column, x, y, and value at (x,y). I want to plot map similar to bellow map. How to plot this type of figure in jfreechart or any library available for this kind of plot? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qrflq.png","title":"How to plot color map in java?","body":"<p>I have a dataset with 3 column, x, y, and value at (x,y). I want to plot map similar to bellow map. How to plot this type of figure in jfreechart or any library available for this kind of plot? </p>\n\n<p><a href=\"https://i.stack.imgur.com/qrflq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrflq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","android-12"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1686522802,"post_id":76402457,"comment_id":134806031,"body_markdown":"Related video: [Everything about storage on Android](https://youtu.be/jcO6p5TlcGs) Realize that older versions of Android allowed for unannounced files to persist after uninstall which would result in clutter and tracking cookies, see old Google IO video on [What’s new in shared storage (Google I/O&#39;19)](https://youtu.be/3EtBw5s9iRY) Do realize that unless the user deletes cache/app storage or uninstalls, user app data (local storage) can persist during app upgrade.","body":"Related video: <a href=\"https://youtu.be/jcO6p5TlcGs\" rel=\"nofollow noreferrer\">Everything about storage on Android</a> Realize that older versions of Android allowed for unannounced files to persist after uninstall which would result in clutter and tracking cookies, see old Google IO video on <a href=\"https://youtu.be/3EtBw5s9iRY\" rel=\"nofollow noreferrer\">What’s new in shared storage (Google I/O&#39;19)</a> Do realize that unless the user deletes cache/app storage or uninstalls, user app data (local storage) can persist during app upgrade."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1686585726,"post_id":76402457,"comment_id":134815667,"body_markdown":"Thank you. I will probably let the data delete after uninstall. I&#39;m glad to hear that the data will persist during app upgrade.","body":"Thank you. I will probably let the data delete after uninstall. I&#39;m glad to hear that the data will persist during app upgrade."}],"answers":[{"tags":[],"owner":{"account_id":8853763,"reputation":514,"user_id":6612138,"display_name":"Alexander Dadukin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685950822,"creation_date":1685916545,"answer_id":76402601,"question_id":76402457,"body_markdown":"You&#39;re totally right that [`Context#getExternalFilesDir`](https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)) returns app that will be **uninstalled** with your app.\r\n\r\nFor **API 29 and above**:\r\n\r\n[Documentation](https://developer.android.com/training/data-storage) says that for `Documents` we should use `Storage Access Framework`.\r\n\r\nYou can create a new file using [`Intent#ACTION_CREATE_DOCUMENT`](https://developer.android.com/training/data-storage/shared/documents-files#create-file)\r\n\r\nSimilar to this:\r\n\r\n```\r\n// Request code for creating a PDF document.\r\nconst val CREATE_FILE = 1\r\n\r\nprivate fun createFile(pickerInitialUri: Uri) {\r\n    val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\r\n        addCategory(Intent.CATEGORY_OPENABLE)\r\n        type = &quot;application/text&quot;\r\n        putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;)\r\n    }\r\n    startActivityForResult(intent, CREATE_FILE)\r\n}\r\n```\r\n\r\nYou will see something similar to\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter executing the command and receiving the result you can access the file using `uri` from `Intent#getData`. With a `uri` you can use `contentResolver.openOutputStream(destination)` to update the file&#39;s content.\r\n\r\n**Update 1:** this is a similar code in **Java**\r\n\r\n```java\r\n    private void createFile() {\r\n        Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        intent.setType(&quot;application/text&quot;);\r\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;);\r\n\r\n        launcher.launch(intent);\r\n    }\r\n```\r\n\r\nAnd writing to the file:\r\n\r\n```java\r\nOutputStream stream = getContentResolver().openOutputStream(uri);\r\nPrintWriter writer = new PrintWriter(stream);\r\n\r\nwriter.println(&quot;Hello World&quot;);\r\nwriter.close();\r\n```\r\n\r\n\r\nFor **API below 29**:\r\n\r\nI see that documentation offers to use [`Environment#getExternalStoragePublicDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)), especially, if files should be shared.\r\n\r\nYou can also access the root of the device using [`Environment#getExternalStorageDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()). However, the usage is discouraged in favour of `getExternalStoragePublicDirectory` as files saved in root can pollute user&#39;s space.\r\n\r\n&gt; Applications should not directly use this top-level directory, in order to avoid polluting the user&#39;s root namespace. Any files that are private to the application should be placed in a directory returned by Context.getExternalFilesDir, which the system will take care of deleting if the application is uninstalled. Other shared files should be placed in one of the directories returned by getExternalStoragePublicDirectory(String).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k2ZMt.png","title":"Read/Write to external storage and persist after uninstallation","body":"<p>You're totally right that <a href=\"https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Context#getExternalFilesDir</code></a> returns app that will be <strong>uninstalled</strong> with your app.</p>\n<p>For <strong>API 29 and above</strong>:</p>\n<p><a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">Documentation</a> says that for <code>Documents</code> we should use <code>Storage Access Framework</code>.</p>\n<p>You can create a new file using <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#create-file\" rel=\"nofollow noreferrer\"><code>Intent#ACTION_CREATE_DOCUMENT</code></a></p>\n<p>Similar to this:</p>\n<pre><code>// Request code for creating a PDF document.\nconst val CREATE_FILE = 1\n\nprivate fun createFile(pickerInitialUri: Uri) {\n    val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\n        addCategory(Intent.CATEGORY_OPENABLE)\n        type = &quot;application/text&quot;\n        putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;)\n    }\n    startActivityForResult(intent, CREATE_FILE)\n}\n</code></pre>\n<p>You will see something similar to</p>\n<p><a href=\"https://i.stack.imgur.com/k2ZMt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2ZMt.png\" alt=\"enter image description here\" /></a></p>\n<p>After executing the command and receiving the result you can access the file using <code>uri</code> from <code>Intent#getData</code>. With a <code>uri</code> you can use <code>contentResolver.openOutputStream(destination)</code> to update the file's content.</p>\n<p><strong>Update 1:</strong> this is a similar code in <strong>Java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void createFile() {\n        Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        intent.setType(&quot;application/text&quot;);\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;file.txt&quot;);\n\n        launcher.launch(intent);\n    }\n</code></pre>\n<p>And writing to the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OutputStream stream = getContentResolver().openOutputStream(uri);\nPrintWriter writer = new PrintWriter(stream);\n\nwriter.println(&quot;Hello World&quot;);\nwriter.close();\n</code></pre>\n<p>For <strong>API below 29</strong>:</p>\n<p>I see that documentation offers to use <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStoragePublicDirectory(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Environment#getExternalStoragePublicDirectory</code></a>, especially, if files should be shared.</p>\n<p>You can also access the root of the device using <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()\" rel=\"nofollow noreferrer\"><code>Environment#getExternalStorageDirectory</code></a>. However, the usage is discouraged in favour of <code>getExternalStoragePublicDirectory</code> as files saved in root can pollute user's space.</p>\n<blockquote>\n<p>Applications should not directly use this top-level directory, in order to avoid polluting the user's root namespace. Any files that are private to the application should be placed in a directory returned by Context.getExternalFilesDir, which the system will take care of deleting if the application is uninstalled. Other shared files should be placed in one of the directories returned by getExternalStoragePublicDirectory(String).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685942871,"creation_date":1685941017,"answer_id":76403573,"question_id":76402457,"body_markdown":"The only place where you should create the subdirectory for your files is in public Download or Documents directory.\r\n\r\nYou will use getExternalPublicDirectory() to get the path. Use it. Deprecated or not it works on all Android versions.\r\n\r\nOther public directories are not possible as they will not take files with different extensions.\r\n\r\nThe files will persist. You did not tell who and how those files will be used later.\r\n\r\nIf you reinstall your app use SAF to let the user choose your subdir. ","title":"Read/Write to external storage and persist after uninstallation","body":"<p>The only place where you should create the subdirectory for your files is in public Download or Documents directory.</p>\n<p>You will use getExternalPublicDirectory() to get the path. Use it. Deprecated or not it works on all Android versions.</p>\n<p>Other public directories are not possible as they will not take files with different extensions.</p>\n<p>The files will persist. You did not tell who and how those files will be used later.</p>\n<p>If you reinstall your app use SAF to let the user choose your subdir.</p>\n"},{"tags":[],"owner":{"account_id":15010741,"reputation":41,"user_id":10835305,"display_name":"rex50"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686435656,"creation_date":1686435656,"answer_id":76448360,"question_id":76402457,"body_markdown":"On Android 12, to manage storage **SAF** is the recommended way. \r\n\r\nBut if you don&#39;t want to use then the only way is requesting permission `MANAGE_EXTERNAL_STORAGE` which **allows full storage access**. For more details check out this [link][1].\r\n\r\nNote: `MANAGE_EXTERNAL_STORAGE` is a sensitive permission so check out this [Google play notice][2] before using it.\r\n\r\n  [1]: https://developer.android.com/training/data-storage/manage-all-files#all-files-access\r\n  [2]: https://developer.android.com/training/data-storage/manage-all-files#all-files-access-google-play","title":"Read/Write to external storage and persist after uninstallation","body":"<p>On Android 12, to manage storage <strong>SAF</strong> is the recommended way.</p>\n<p>But if you don't want to use then the only way is requesting permission <code>MANAGE_EXTERNAL_STORAGE</code> which <strong>allows full storage access</strong>. For more details check out this <a href=\"https://developer.android.com/training/data-storage/manage-all-files#all-files-access\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Note: <code>MANAGE_EXTERNAL_STORAGE</code> is a sensitive permission so check out this <a href=\"https://developer.android.com/training/data-storage/manage-all-files#all-files-access-google-play\" rel=\"nofollow noreferrer\">Google play notice</a> before using it.</p>\n"},{"tags":[],"owner":{"account_id":8265021,"reputation":1010,"user_id":6214899,"display_name":"Cuong Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686559714,"creation_date":1686559714,"answer_id":76454957,"question_id":76402457,"body_markdown":"- You can save the file to path Environment.getExternalStorageDirectory() + &quot;/your_folder&quot;, However user can manual delete file.\r\n[Refer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29/63842348#63842348","title":"Read/Write to external storage and persist after uninstallation","body":"<ul>\n<li>You can save the file to path Environment.getExternalStorageDirectory() + &quot;/your_folder&quot;, However user can manual delete file.\n<a href=\"https://stackoverflow.com/questions/63842070/accessing-external-storage-in-android-api-29/63842348#63842348\">Refer</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5835994,"reputation":61,"user_id":4599044,"display_name":"Amr Shekh Zen"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1686604675,"creation_date":1686604675,"answer_id":76460397,"question_id":76402457,"body_markdown":"In Android, files saved to the external storage directory provided by context.getExternalFilesDir() are considered part of the application&#39;s private external storage. By default, these files are deleted when the application is uninstalled. However, if you want the files to persist even after uninstallation, you can save them to a different location on the external storage.\r\n\r\nHere&#39;s an updated version of your code that saves files to a custom directory on the external storage\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.os.Environment;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\npublic class FileUtil {\r\n\r\n    public static void writeFileToExternalStorage(Context context, String directoryName, String fileName, String content) {\r\n        File directory = new File(Environment.getExternalStorageDirectory(), directoryName);\r\n        if (!directory.exists()) {\r\n            directory.mkdirs(); // Create the directory if it doesn&#39;t exist\r\n        }\r\n\r\n        File file = new File(directory, fileName);\r\n\r\n        try {\r\n            FileOutputStream outputStream = new FileOutputStream(file);\r\n            outputStream.write(content.getBytes());\r\n            outputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nString directoryName = &quot;my_files_directory&quot;;\r\nString fileName = &quot;my_file.txt&quot;;\r\nString content = &quot;Hello&quot;;\r\n\r\nFileUtil.writeFileToExternalStorage(getApplicationContext(), directoryName, fileName, content);\r\n\r\n```\r\n\r\nIn this code, the Environment.getExternalStorageDirectory() method provides the root directory of the external storage. By creating a custom directory within this root directory, you can save your files there. This custom directory will persist even after the application is uninstalled, allowing the files to remain intact.\r\n\r\nPlease note that starting from Android 10 (API level 29), there are restrictions on accessing external storage, and you&#39;ll need to request the necessary permissions from the user. Additionally, consider handling the storage access permission gracefully in case it is revoked by the user in the future.\r\n\r\nRegarding the video you mentioned, it seems to be referring to the Scoped Storage changes introduced in Android 10. Scoped Storage imposes certain restrictions on accessing files outside the application&#39;s private directories. However, the approach described above should work for Android 12 as well, as it saves the files within the application&#39;s private external storage, which is not subject to Scoped Storage restrictions.\r\n\r\nI hope I have been of assistance to you.","title":"Read/Write to external storage and persist after uninstallation","body":"<p>In Android, files saved to the external storage directory provided by context.getExternalFilesDir() are considered part of the application's private external storage. By default, these files are deleted when the application is uninstalled. However, if you want the files to persist even after uninstallation, you can save them to a different location on the external storage.</p>\n<p>Here's an updated version of your code that saves files to a custom directory on the external storage</p>\n<pre><code>import android.content.Context;\nimport android.os.Environment;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileUtil {\n\n    public static void writeFileToExternalStorage(Context context, String directoryName, String fileName, String content) {\n        File directory = new File(Environment.getExternalStorageDirectory(), directoryName);\n        if (!directory.exists()) {\n            directory.mkdirs(); // Create the directory if it doesn't exist\n        }\n\n        File file = new File(directory, fileName);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            outputStream.write(content.getBytes());\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>String directoryName = &quot;my_files_directory&quot;;\nString fileName = &quot;my_file.txt&quot;;\nString content = &quot;Hello&quot;;\n\nFileUtil.writeFileToExternalStorage(getApplicationContext(), directoryName, fileName, content);\n\n</code></pre>\n<p>In this code, the Environment.getExternalStorageDirectory() method provides the root directory of the external storage. By creating a custom directory within this root directory, you can save your files there. This custom directory will persist even after the application is uninstalled, allowing the files to remain intact.</p>\n<p>Please note that starting from Android 10 (API level 29), there are restrictions on accessing external storage, and you'll need to request the necessary permissions from the user. Additionally, consider handling the storage access permission gracefully in case it is revoked by the user in the future.</p>\n<p>Regarding the video you mentioned, it seems to be referring to the Scoped Storage changes introduced in Android 10. Scoped Storage imposes certain restrictions on accessing files outside the application's private directories. However, the approach described above should work for Android 12 as well, as it saves the files within the application's private external storage, which is not subject to Scoped Storage restrictions.</p>\n<p>I hope I have been of assistance to you.</p>\n"}],"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1686604675,"creation_date":1685913574,"question_id":76402457,"body_markdown":"I need to create files and read/write to external storage and the files should persist after uninstallation of the application. It should work on Android 12.\r\n\r\n    import android.content.Context;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class FileUtil {\r\n    \r\n        public static void writeFileToExternalStorage(Context context, String fileName, String content) {\r\n            File file = new File(context.getExternalFilesDir(null), fileName);\r\n    \r\n            try {\r\n                FileOutputStream outputStream = new FileOutputStream(file);\r\n                outputStream.write(content.getBytes());\r\n                outputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    String fileName = &quot;my_file.txt&quot;;\r\n    String content = &quot;Hello&quot;;\r\n    \r\n    FileUtil.writeFileToExternalStorage(getApplicationContext(), fileName, content);\r\n\r\nFile `my_file.txt` will be deleted after uninstallation of the app. I need it to persist.\r\nI will be writing text files and images related to it (e.g. one subdirectory of the app directory would contain files f1.txt, img1.jpg, f2.txt, img2.jpg ... fn.txt, imgn.jpg).\r\nI don&#39;t want to use database or shared preferences for it.\r\nHow can I do it?\r\n\r\nIn [this video](https://youtu.be/Fr_XW94jPIQ?t=360) there is said, that everytime the app reads/writes to a file, the user has to go through dialog, but this is what I don&#39;t want. It&#39;s very uncomfortable for the user.\r\n","title":"Read/Write to external storage and persist after uninstallation","body":"<p>I need to create files and read/write to external storage and the files should persist after uninstallation of the application. It should work on Android 12.</p>\n<pre><code>import android.content.Context;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class FileUtil {\n\n    public static void writeFileToExternalStorage(Context context, String fileName, String content) {\n        File file = new File(context.getExternalFilesDir(null), fileName);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            outputStream.write(content.getBytes());\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\nString fileName = &quot;my_file.txt&quot;;\nString content = &quot;Hello&quot;;\n\nFileUtil.writeFileToExternalStorage(getApplicationContext(), fileName, content);\n</code></pre>\n<p>File <code>my_file.txt</code> will be deleted after uninstallation of the app. I need it to persist.\nI will be writing text files and images related to it (e.g. one subdirectory of the app directory would contain files f1.txt, img1.jpg, f2.txt, img2.jpg ... fn.txt, imgn.jpg).\nI don't want to use database or shared preferences for it.\nHow can I do it?</p>\n<p>In <a href=\"https://youtu.be/Fr_XW94jPIQ?t=360\" rel=\"nofollow noreferrer\">this video</a> there is said, that everytime the app reads/writes to a file, the user has to go through dialog, but this is what I don't want. It's very uncomfortable for the user.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"down_vote_count":0,"up_vote_count":154,"is_accepted":true,"score":154,"last_activity_date":1434549297,"creation_date":1320749375,"answer_id":8049227,"question_id":8046662,"body_markdown":"As explained in this forum [post][1], 1 and 2 are related. If you set `hibernate.current_session_context_class` to thread and then implement something like a servlet filter that opens the session - then you can access that session anywhere else by using the `SessionFactory.getCurrentSession()`.\r\n\r\n`SessionFactory.openSession()` always opens a new session that you have to close once you are done with the operations. `SessionFactory.getCurrentSession()` returns a session bound to a context - you don&#39;t need to close this.\r\n\r\nIf you are using Spring or EJBs to manage transactions you can configure them to open / close sessions along with the transactions.\r\n\r\nYou should never use `one session per web app` - session is not a thread safe object - cannot be shared by multiple threads. You should always use &quot;one session per request&quot; or &quot;one session per transaction&quot;\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?p=2384979&amp;sid=8367751b54bf160003b867f858393398#p2384979","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>As explained in this forum <a href=\"https://forum.hibernate.org/viewtopic.php?p=2384979&amp;sid=8367751b54bf160003b867f858393398#p2384979\">post</a>, 1 and 2 are related. If you set <code>hibernate.current_session_context_class</code> to thread and then implement something like a servlet filter that opens the session - then you can access that session anywhere else by using the <code>SessionFactory.getCurrentSession()</code>.</p>\n\n<p><code>SessionFactory.openSession()</code> always opens a new session that you have to close once you are done with the operations. <code>SessionFactory.getCurrentSession()</code> returns a session bound to a context - you don't need to close this.</p>\n\n<p>If you are using Spring or EJBs to manage transactions you can configure them to open / close sessions along with the transactions.</p>\n\n<p>You should never use <code>one session per web app</code> - session is not a thread safe object - cannot be shared by multiple threads. You should always use \"one session per request\" or \"one session per transaction\"</p>\n"},{"tags":[],"owner":{"account_id":4224156,"reputation":67,"user_id":3458089,"display_name":"swamy"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1414013915,"creation_date":1414013915,"answer_id":26517580,"question_id":8046662,"body_markdown":"SessionFactory:  &quot;One SessionFactory per application per DataBase&quot; \r\n(\r\ne.g., \r\nif you use 3 DataBase&#39;s in our application , you need to create sessionFactory object per each DB , totally you need to create 3 sessionFactorys . or else if you have only one DataBase One sessionfactory is enough\r\n).\r\n\r\nSession: &quot;One session for one request-response cycle&quot;. you can open session when request came and you can close session after completion of request process. \r\nNote:-Don&#39;t use one session for web application.","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>SessionFactory:  \"One SessionFactory per application per DataBase\" \n(\ne.g., \nif you use 3 DataBase's in our application , you need to create sessionFactory object per each DB , totally you need to create 3 sessionFactorys . or else if you have only one DataBase One sessionfactory is enough\n).</p>\n\n<p>Session: \"One session for one request-response cycle\". you can open session when request came and you can close session after completion of request process. \nNote:-Don't use one session for web application.</p>\n"},{"tags":[],"owner":{"account_id":6920302,"reputation":518,"user_id":5313193,"display_name":"Ramu Agrawal"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1547106068,"creation_date":1479368883,"answer_id":40649315,"question_id":8046662,"body_markdown":"If we talk about SessionFactory.openSession()\r\n\r\n - It always creates a new Session object.\r\n - You need to explicitly flush and close session objects.\r\n - In single threaded environment it is slower than getCurrentSession().\r\n - You do not need to configure any property to call this method.\r\n\r\nAnd If we talk about SessionFactory.getCurrentSession()\r\n\r\n - It creates a new Session if not exists, else uses same session which is in current hibernate context.\r\n - You do not need to flush and close session objects, it will be automatically taken care by Hibernate internally.\r\n - In single threaded environment it is faster than openSession().\r\n - You need to configure additional property. &quot;hibernate.current_session_context_class&quot; to call getCurrentSession() method, otherwise it will throw an exception.\r\n\r\n\t\r\n","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>If we talk about SessionFactory.openSession()</p>\n\n<ul>\n<li>It always creates a new Session object.</li>\n<li>You need to explicitly flush and close session objects.</li>\n<li>In single threaded environment it is slower than getCurrentSession().</li>\n<li>You do not need to configure any property to call this method.</li>\n</ul>\n\n<p>And If we talk about SessionFactory.getCurrentSession()</p>\n\n<ul>\n<li>It creates a new Session if not exists, else uses same session which is in current hibernate context.</li>\n<li>You do not need to flush and close session objects, it will be automatically taken care by Hibernate internally.</li>\n<li>In single threaded environment it is faster than openSession().</li>\n<li>You need to configure additional property. \"hibernate.current_session_context_class\" to call getCurrentSession() method, otherwise it will throw an exception.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1537684312,"creation_date":1502968950,"answer_id":45733794,"question_id":8046662,"body_markdown":"`openSession`: When you call `SessionFactory.openSession`, it always creates a new `Session` object and give it to you.\r\n\r\nYou need to explicitly flush and close these session objects. \r\n\r\nAs session objects are *not* thread safe, you need to create one session object per request in multi-threaded environment and one session per request in web applications too.\r\n\r\n`getCurrentSession`: When you call `SessionFactory.getCurrentSession`, it will provide you session object which is in hibernate context and managed by hibernate internally. It is bound to transaction scope.\r\n\r\nWhen you call `SessionFactory.getCurrentSession`, it creates a new `Session` if it does not exist, otherwise use same session which is in current hibernate context. It automatically flushes and closes session when transaction ends, so you do not need to do it externally.\r\n\r\nIf you are using hibernate in single-threaded environment , you can use `getCurrentSession`, as it is faster in performance as compared to creating a new session each time.\r\n\r\nYou need to add following property to **hibernate.cfg.xml** to use `getCurrentSession` method:\r\n    \r\n    &lt;session-factory&gt;\r\n        &lt;!--  Put other elements here --&gt;\r\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;\r\n              thread\r\n        &lt;/property&gt;\r\n    &lt;/session-factory&gt;","title":"Hibernate openSession() vs getCurrentSession()","body":"<p><code>openSession</code>: When you call <code>SessionFactory.openSession</code>, it always creates a new <code>Session</code> object and give it to you.</p>\n\n<p>You need to explicitly flush and close these session objects. </p>\n\n<p>As session objects are <em>not</em> thread safe, you need to create one session object per request in multi-threaded environment and one session per request in web applications too.</p>\n\n<p><code>getCurrentSession</code>: When you call <code>SessionFactory.getCurrentSession</code>, it will provide you session object which is in hibernate context and managed by hibernate internally. It is bound to transaction scope.</p>\n\n<p>When you call <code>SessionFactory.getCurrentSession</code>, it creates a new <code>Session</code> if it does not exist, otherwise use same session which is in current hibernate context. It automatically flushes and closes session when transaction ends, so you do not need to do it externally.</p>\n\n<p>If you are using hibernate in single-threaded environment , you can use <code>getCurrentSession</code>, as it is faster in performance as compared to creating a new session each time.</p>\n\n<p>You need to add following property to <strong>hibernate.cfg.xml</strong> to use <code>getCurrentSession</code> method:</p>\n\n<pre><code>&lt;session-factory&gt;\n    &lt;!--  Put other elements here --&gt;\n    &lt;property name=\"hibernate.current_session_context_class\"&gt;\n          thread\n    &lt;/property&gt;\n&lt;/session-factory&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583934854,"creation_date":1583934417,"answer_id":60637540,"question_id":8046662,"body_markdown":"    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Parameter            |                                openSession                                 |                                          getCurrentSession                                          |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Session  creation    | Always open new session                                                    | It opens a new Session if not exists , else use same session which is in current hibernate context. |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Session close        | Need to close the session object once all the database operations are done | No need to close the session. Once the session factory is closed, this session object is closed.    |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Flush and close      | Need to explicity flush and close session objects                          | No need to flush and close sessions , since it is automatically taken by hibernate internally.      |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Performance          | In single threaded environment , it is slower than getCurrentSession       | In single threaded environment , it is faster than openSession                                      |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\r\n    | Configuration        | No need to configure any property to call this method                      | Need to configure additional property:                                                              |\r\n    | \t\t\t\t\t   |                                                                            |  &lt;property name=&quot;&quot;hibernate.current_session_context_class&quot;&quot;&gt;thread&lt;/property&gt;                       |\r\n    +----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+","title":"Hibernate openSession() vs getCurrentSession()","body":"<pre><code>+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Parameter            |                                openSession                                 |                                          getCurrentSession                                          |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Session  creation    | Always open new session                                                    | It opens a new Session if not exists , else use same session which is in current hibernate context. |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Session close        | Need to close the session object once all the database operations are done | No need to close the session. Once the session factory is closed, this session object is closed.    |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Flush and close      | Need to explicity flush and close session objects                          | No need to flush and close sessions , since it is automatically taken by hibernate internally.      |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Performance          | In single threaded environment , it is slower than getCurrentSession       | In single threaded environment , it is faster than openSession                                      |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n| Configuration        | No need to configure any property to call this method                      | Need to configure additional property:                                                              |\n|                      |                                                                            |  &lt;property name=\"\"hibernate.current_session_context_class\"\"&gt;thread&lt;/property&gt;                       |\n+----------------------+----------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10460859,"reputation":1,"user_id":7711645,"display_name":"Lobots"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686604352,"creation_date":1686604352,"answer_id":76460365,"question_id":8046662,"body_markdown":"    currentSession -&gt; to fetch the session\r\nbeginTransaction -&gt; to open session \r\ncommit and rollback -&gt; to close session","title":"Hibernate openSession() vs getCurrentSession()","body":"<pre><code>currentSession -&gt; to fetch the session\n</code></pre>\n<p>beginTransaction -&gt; to open session\ncommit and rollback -&gt; to close session</p>\n"}],"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215730,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":8049227,"answer_count":6,"score":138,"last_activity_date":1686604352,"creation_date":1320733249,"question_id":8046662,"body_markdown":"I have some questions about using Hibernate in JSP web application.\r\n\r\n1. What should be the value for `hibernate.current_session_context_class`?\r\n\r\n1. Then, which of the following statements should be used? And why?\r\n\r\n         Session s = HibernateUtil.getSessionFactory().openSession();\r\n         Session s = HibernateUtil.getSessionFactory().getCurrentSession()\r\n\r\n1. Lastly, which one is better &quot;one session per web app&quot; or &quot;one session per request&quot;? \r\n\r\n\r\n","title":"Hibernate openSession() vs getCurrentSession()","body":"<p>I have some questions about using Hibernate in JSP web application.</p>\n\n<ol>\n<li><p>What should be the value for <code>hibernate.current_session_context_class</code>?</p></li>\n<li><p>Then, which of the following statements should be used? And why?</p>\n\n<pre><code> Session s = HibernateUtil.getSessionFactory().openSession();\n Session s = HibernateUtil.getSessionFactory().getCurrentSession()\n</code></pre></li>\n<li><p>Lastly, which one is better \"one session per web app\" or \"one session per request\"? </p></li>\n</ol>\n"},{"tags":["java","spring","iterator","iteration","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686604324,"creation_date":1548908445,"answer_id":54453225,"question_id":54453156,"body_markdown":"This issue turned out to be quite a tricky one. The story of its resolution is as follows ...\r\n\r\nJudging by the stacktrace:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\r\n\r\nthere was an iteration in a thymeleaf template that had a `null` variable being iterated over. The only use of `th:each` I could find was:\r\n\r\n    &lt;div th:if=&quot;${mods} != null&quot;&gt;\r\n        &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\r\n             ...\r\n        &lt;/tr&gt;\r\n    &lt;/div&gt;\r\n\r\nSo it seemed that `mods` was `null` and hence `th:each=&quot;mod : ${mods}&quot;` is the where the issue lies.\r\n\r\nHowever there was a check for this in place with `&lt;div th:if=&quot;${mods} != null&quot;&gt;`. Or was there? Would the following be more useful:\r\n\r\n    &lt;div th:if=&quot;${mods != null}&quot;&gt;\r\n\r\nie. moving the `}` so that the `null` check is within the expression.\r\n\r\nThat didn&#39;t help, so the result of `modDao.findAll()` was checked and there were two elements found. So it had to be something else.\r\n\r\nReviewing the [basics of iteration in Thymeleaf](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#iteration-basics) suggested that perhaps the collection being returned by `findAll()` was not one of supported types that `th:each` can iterate over.\r\n\r\nSo this collection was copied into an `Iterable` and given a different name and the problem was solved.\r\n\r\nInterestingly, if the iteration variable was given the name `mod` the problem still occurred. Turns out `mod` is a keyword in Thymeleaf and is use for the modulo operation (`%`).\r\n\r\nUltimately, there were two issues with apparently correct code:\r\n\r\n 1. The DAO returned a collection but not one that could be iterated over by `th:each`; and\r\n 2. `mod` is a keyword in Thymeleaf and shouldn&#39;t be used as a variable name.\r\n","title":"java.lang.IllegalArgumentException: Iteration variable cannot be null","body":"<p>This issue turned out to be quite a tricky one. The story of its resolution is as follows ...</p>\n<p>Judging by the stacktrace:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\n</code></pre>\n<p>there was an iteration in a thymeleaf template that had a <code>null</code> variable being iterated over. The only use of <code>th:each</code> I could find was:</p>\n<pre><code>&lt;div th:if=&quot;${mods} != null&quot;&gt;\n    &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\n         ...\n    &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n<p>So it seemed that <code>mods</code> was <code>null</code> and hence <code>th:each=&quot;mod : ${mods}&quot;</code> is the where the issue lies.</p>\n<p>However there was a check for this in place with <code>&lt;div th:if=&quot;${mods} != null&quot;&gt;</code>. Or was there? Would the following be more useful:</p>\n<pre><code>&lt;div th:if=&quot;${mods != null}&quot;&gt;\n</code></pre>\n<p>ie. moving the <code>}</code> so that the <code>null</code> check is within the expression.</p>\n<p>That didn't help, so the result of <code>modDao.findAll()</code> was checked and there were two elements found. So it had to be something else.</p>\n<p>Reviewing the <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#iteration-basics\" rel=\"nofollow noreferrer\">basics of iteration in Thymeleaf</a> suggested that perhaps the collection being returned by <code>findAll()</code> was not one of supported types that <code>th:each</code> can iterate over.</p>\n<p>So this collection was copied into an <code>Iterable</code> and given a different name and the problem was solved.</p>\n<p>Interestingly, if the iteration variable was given the name <code>mod</code> the problem still occurred. Turns out <code>mod</code> is a keyword in Thymeleaf and is use for the modulo operation (<code>%</code>).</p>\n<p>Ultimately, there were two issues with apparently correct code:</p>\n<ol>\n<li>The DAO returned a collection but not one that could be iterated over by <code>th:each</code>; and</li>\n<li><code>mod</code> is a keyword in Thymeleaf and shouldn't be used as a variable name.</li>\n</ol>\n"}],"owner":{"account_id":15224586,"reputation":23,"user_id":10985579,"display_name":"matsui23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2493,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54453225,"answer_count":1,"score":2,"last_activity_date":1686604324,"creation_date":1548907971,"question_id":54453156,"body_markdown":"[enter image description here][1]&gt; Been stuck on this for a few days.  I believe that the issue has to do\r\n&gt; with the class itself.  Or the relationship between the class in\r\n&gt; question and the class its column is joined on.  \r\n&gt; \r\n&gt; Here are my classes: \r\n**Mod**\r\n\r\n    package com.matt.Keyword.models;\r\n        import javax.persistence.*;\r\n        import javax.validation.constraints.NotNull;\r\n        import javax.validation.constraints.Size;\r\n        \r\n        \r\n        @Entity\r\n        @Table(name = &quot;Mods&quot;)\r\n        public class Mod {\r\n        \r\n            @Id\r\n            @GeneratedValue\r\n            private int id;\r\n        \r\n            @NotNull\r\n            private Integer role;\r\n        \r\n            @NotNull\r\n            @Size(min = 1, message = &quot;An entry is required&quot;)\r\n            private String entry;\r\n        \r\n            @Column(name = &quot;user_id&quot;)\r\n            private Integer userid;\r\n        \r\n            public Mod(Integer role, String entry) {\r\n                this.role = role;\r\n                this.entry = entry;\r\n            }\r\n        \r\n            public Mod() {\r\n            }\r\n        \r\n            public int getId() {\r\n        \r\n                return id;\r\n            }\r\n        \r\n            public int getRole() {\r\n                return role;\r\n            }\r\n        \r\n            public void setRole(Integer role) {\r\n                this.role = role;\r\n            }\r\n        \r\n            public String getEntry() {\r\n                return entry;\r\n            }\r\n        \r\n            public void setEntry(String entry) {\r\n                this.entry = entry;\r\n            }\r\n        \r\n            public Integer getUserid() {\r\n                return userid;\r\n            }\r\n        \r\n            public void setUserid(Integer userid) {\r\n                this.userid= userid;\r\n            }\r\n        \r\n        }\r\n**Account**\r\n\r\n    package com.matt.Keyword.models;\r\n        \r\n        import javax.persistence.*;\r\n        import javax.validation.constraints.NotNull;\r\n        import javax.validation.constraints.Size;\r\n        \r\n        @Entity\r\n        public class Account {\r\n        \r\n            @Id\r\n            @GeneratedValue\r\n            private int id;\r\n        \r\n            @NotNull\r\n            @Size(min = 3, message = &quot;Try again&quot;)\r\n            private String name;\r\n        \r\n            @NotNull\r\n            @Size(min = 1, message = &quot;A password is required&quot;)\r\n            private String password;\r\n        \r\n            @Column(name = &quot;user_id&quot;)\r\n            private Integer userid;\r\n        \r\n            public Account(String name, String password) {\r\n                this.name = name;\r\n                this.password = password;\r\n            }\r\n        \r\n            public Account() {\r\n            }\r\n        \r\n            public int getId() {\r\n        \r\n                return id;\r\n            }\r\n        \r\n            public String getName() {\r\n        \r\n                return name;\r\n            }\r\n        \r\n            public void setName(String name) {\r\n        \r\n                this.name = name;\r\n            }\r\n        \r\n            public String getPassword() {\r\n        \r\n                return password;\r\n            }\r\n        \r\n            public void setPassword(String password) {\r\n        \r\n                this.password = password;\r\n            }\r\n        \r\n            public Integer getUserid() {\r\n                return userid;\r\n            }\r\n        \r\n            public void setUserid(Integer userid) {\r\n                this.userid = userid;\r\n            }\r\n        \r\n        }\r\n&gt; Account and Mod classes are very similar and share a relationship with\r\n&gt; the user_id column in the user class.\r\n\r\n**User**\r\n\r\n    package com.matt.Keyword.models;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;user_id&quot;)\r\n        private int id;\r\n    \r\n        @Size(min=3, message = &quot;Try again&quot;)\r\n        private String email;\r\n    \r\n        @Size(min=1, message = &quot;A password is required&quot;)\r\n        private String password;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n        private List&lt;Account&gt; accounts;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n        private List&lt;Mod&gt; mods;\r\n    \r\n        public User(String email, String password) {\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n        public User() {}\r\n    \r\n        public int getId() {\r\n    \r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id){\r\n            this.id = id;\r\n        }\r\n        public String getEmail() {\r\n    \r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n    \r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n    \r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n    \r\n            this.password = password;\r\n        }\r\n    \r\n        public List&lt;Account&gt; getAccounts() {\r\n            return accounts;\r\n        }\r\n    \r\n        public void setAccounts(List&lt;Account&gt; accounts) {\r\n            this.accounts = accounts;\r\n        }\r\n    \r\n    \r\n        public List&lt;Mod&gt; getMods() {\r\n            return mods;\r\n        }\r\n    \r\n        public void setMods(List&lt;Mod&gt; mods) {\r\n            this.mods = mods;\r\n        }\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return email + &quot; &quot; + password;\r\n        }\r\n    }\r\n&gt; The exception gets thrown when I load the index page from my mods\r\n&gt; controller.  I am using thymeleaf to render views.  Here is my mods\r\n&gt; controller.  The Mods database has objects saved to it and in this\r\n&gt; controller during debugging the attribute being passed to the view\r\n&gt; contains a populated list of Mod objects.\r\n **ModController**\r\n\r\n    package com.matt.Keyword.controllers;\r\n        \r\n        \r\n        import com.matt.Keyword.models.Mod;\r\n        import com.matt.Keyword.models.User;\r\n        import com.matt.Keyword.models.data.ModDao;\r\n        import com.matt.Keyword.models.data.UserDao;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.stereotype.Controller;\r\n        import org.springframework.ui.Model;\r\n        import org.springframework.validation.Errors;\r\n        import org.springframework.web.bind.annotation.ModelAttribute;\r\n        import org.springframework.web.bind.annotation.RequestMapping;\r\n        import org.springframework.web.bind.annotation.RequestMethod;\r\n        \r\n        import javax.servlet.http.HttpSession;\r\n        import javax.validation.Valid;\r\n        \r\n        //test commit note\r\n        //second try\r\n        //third try\r\n        /**\r\n         * Created by LaunchCode\r\n         */\r\n        @Controller\r\n        @RequestMapping(&quot;mod&quot;)\r\n        \r\n        public class ModController {\r\n        \r\n            @Autowired\r\n            private UserDao userDao;\r\n        \r\n            @Autowired\r\n            private ModDao modDao;\r\n        \r\n            @RequestMapping(value = &quot;&quot;)\r\n            public String index(Model model, HttpSession session) {\r\n        \r\n                if (session.getAttribute(&quot;currentUser&quot;) == null) {\r\n        \r\n                    return &quot;redirect:/keyword/login&quot;;\r\n                }\r\n        \r\n                session.getAttribute(&quot;currentUser&quot;);\r\n                model.addAttribute(&quot;title&quot;, &quot;Mods&quot;);\r\n                model.addAttribute(&quot;mods&quot;, modDao.findAll());\r\n                return &quot;mods/index&quot;;\r\n        \r\n            }\r\n        \r\n            @RequestMapping(value = &quot;add&quot;, method = RequestMethod.GET)\r\n            public String displayModForm(Model model, HttpSession session) {\r\n        \r\n                if (session.getAttribute(&quot;currentUser&quot;) == null) {\r\n                    return &quot;redirect:/keyword/login&quot;;\r\n                }\r\n        \r\n                model.addAttribute(&quot;title&quot;, &quot;Add a new mod&quot;);\r\n                model.addAttribute(new Mod());\r\n                return &quot;mods/add&quot;;\r\n            }\r\n        \r\n            @RequestMapping(value = &quot;add&quot;, method = RequestMethod.POST)\r\n            public String processAddModForm(@ModelAttribute @Valid Mod newMod,\r\n                                                Errors errors, Model model, HttpSession session) {\r\n        \r\n                if (errors.hasErrors()) {\r\n                    model.addAttribute(&quot;title&quot;, &quot;List of Mods&quot;);\r\n                    return &quot;mods/add&quot;;\r\n                }\r\n                User currentUser = (User) session.getAttribute(&quot;currentUser&quot;);\r\n        \r\n                session.getId();\r\n        \r\n                currentUser.setId(currentUser.getId());\r\n        \r\n                newMod.setUserid(currentUser.getId());\r\n        \r\n                modDao.save(newMod);\r\n        \r\n                return &quot;redirect:&quot;;\r\n        \r\n            }\r\n        \r\n        }\r\n\r\n&gt; Here is the mod/index page using thymeleaf.\r\n\r\n **mod/index**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n        &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\r\n        &lt;head th:replace=&quot;fragments :: head&quot;&gt;&lt;/head&gt;\r\n        \r\n        &lt;body class=&quot;container&quot;&gt;\r\n        \r\n        &lt;h1 th:text=&quot;${title}&quot;&gt;Default Title&lt;/h1&gt;\r\n        \r\n        &lt;p th:unless=&quot;${mods} and ${mods.size()}&quot;&gt;No current mods&lt;/p&gt;\r\n        \r\n        &lt;nav th:replace=&quot;fragments :: navigation&quot;&gt;&lt;/nav&gt;\r\n        \r\n        &lt;p th:text=&quot;${session.currentUser.email}&quot;&gt;&lt;/p&gt;\r\n        \r\n        &lt;table class=&quot;table&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Type&lt;/th&gt;\r\n                &lt;th&gt;Entry&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n                &lt;div th:if=&quot;${mods} != null&quot;&gt;\r\n                    &lt;tr th:each=&quot;mod : ${mods}&quot;&gt;\r\n                        &lt;div th:if=&quot;${mod.userid} == ${session.currentUser.id}&quot;&gt;\r\n                            &lt;td th:text=&quot;${mod.role}&quot;&gt;&lt;/td&gt;\r\n                            &lt;td th:text=&quot;${mod.entry}&quot;&gt;&lt;/td&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/div&gt;\r\n        \r\n        &lt;/table&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n&gt; The exception seems to be associated with the for th:each statement. \r\n&gt; Particularly with the &quot;mod&quot; iterator variable.\r\n&gt; Here is the stack trace for the full error:\r\n**Trace**\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/mods/index.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/mods/index.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.standard.processor.StandardEachTagProcessor&#39; (template: &quot;mods/index&quot; - line 21, col 17)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 52 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.standard.processor.StandardEachTagProcessor&#39; (template: &quot;mods/index&quot; - line 21, col 17)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\r\n    \tat org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 54 more\r\n    Caused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\r\n    \tat org.thymeleaf.util.Validate.notNull(Validate.java:37)\r\n    \tat org.thymeleaf.standard.expression.Each.&lt;init&gt;(Each.java:49)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.composeEach(EachUtils.java:169)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.internalParseEach(EachUtils.java:94)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:65)\r\n    \tat org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 67 more\r\n\r\nAny help is appreciated.  Thanks in advance for just taking a look if\r\nyou have the time.\r\n\r\n[Debugger in mod controller][2]\r\n[Here is  a to link to my repo if you want to download it and give it a run.][3]\r\n\r\n\r\n[Hibernate exception in session][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8qDdT.png\r\n  [2]: https://i.stack.imgur.com/LcZNc.png\r\n  [3]: https://github.com/matsui23/Keyword\r\n  [4]: https://i.stack.imgur.com/MGo9W.png\r\n[Edit to mod/index controller][1]","title":"java.lang.IllegalArgumentException: Iteration variable cannot be null","body":"<p><a href=\"https://i.stack.imgur.com/8qDdT.png\" rel=\"nofollow noreferrer\">enter image description here</a>> Been stuck on this for a few days.  I believe that the issue has to do</p>\n\n<blockquote>\n  <p>with the class itself.  Or the relationship between the class in\n  question and the class its column is joined on.  </p>\n  \n  <p>Here are my classes: \n  <strong>Mod</strong></p>\n</blockquote>\n\n<pre><code>package com.matt.Keyword.models;\n    import javax.persistence.*;\n    import javax.validation.constraints.NotNull;\n    import javax.validation.constraints.Size;\n\n\n    @Entity\n    @Table(name = \"Mods\")\n    public class Mod {\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        private Integer role;\n\n        @NotNull\n        @Size(min = 1, message = \"An entry is required\")\n        private String entry;\n\n        @Column(name = \"user_id\")\n        private Integer userid;\n\n        public Mod(Integer role, String entry) {\n            this.role = role;\n            this.entry = entry;\n        }\n\n        public Mod() {\n        }\n\n        public int getId() {\n\n            return id;\n        }\n\n        public int getRole() {\n            return role;\n        }\n\n        public void setRole(Integer role) {\n            this.role = role;\n        }\n\n        public String getEntry() {\n            return entry;\n        }\n\n        public void setEntry(String entry) {\n            this.entry = entry;\n        }\n\n        public Integer getUserid() {\n            return userid;\n        }\n\n        public void setUserid(Integer userid) {\n            this.userid= userid;\n        }\n\n    }\n</code></pre>\n\n<p><strong>Account</strong></p>\n\n<pre><code>package com.matt.Keyword.models;\n\n    import javax.persistence.*;\n    import javax.validation.constraints.NotNull;\n    import javax.validation.constraints.Size;\n\n    @Entity\n    public class Account {\n\n        @Id\n        @GeneratedValue\n        private int id;\n\n        @NotNull\n        @Size(min = 3, message = \"Try again\")\n        private String name;\n\n        @NotNull\n        @Size(min = 1, message = \"A password is required\")\n        private String password;\n\n        @Column(name = \"user_id\")\n        private Integer userid;\n\n        public Account(String name, String password) {\n            this.name = name;\n            this.password = password;\n        }\n\n        public Account() {\n        }\n\n        public int getId() {\n\n            return id;\n        }\n\n        public String getName() {\n\n            return name;\n        }\n\n        public void setName(String name) {\n\n            this.name = name;\n        }\n\n        public String getPassword() {\n\n            return password;\n        }\n\n        public void setPassword(String password) {\n\n            this.password = password;\n        }\n\n        public Integer getUserid() {\n            return userid;\n        }\n\n        public void setUserid(Integer userid) {\n            this.userid = userid;\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Account and Mod classes are very similar and share a relationship with\n  the user_id column in the user class.</p>\n</blockquote>\n\n<p><strong>User</strong></p>\n\n<pre><code>package com.matt.Keyword.models;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Size;\nimport java.util.List;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue\n    @Column(name = \"user_id\")\n    private int id;\n\n    @Size(min=3, message = \"Try again\")\n    private String email;\n\n    @Size(min=1, message = \"A password is required\")\n    private String password;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"user_id\", referencedColumnName = \"user_id\")\n    private List&lt;Account&gt; accounts;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"user_id\", referencedColumnName = \"user_id\")\n    private List&lt;Mod&gt; mods;\n\n    public User(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n\n    public User() {}\n\n    public int getId() {\n\n        return id;\n    }\n\n    public void setId(Integer id){\n        this.id = id;\n    }\n    public String getEmail() {\n\n        return email;\n    }\n\n    public void setEmail(String email) {\n\n        this.email = email;\n    }\n\n    public String getPassword() {\n\n        return password;\n    }\n\n    public void setPassword(String password) {\n\n        this.password = password;\n    }\n\n    public List&lt;Account&gt; getAccounts() {\n        return accounts;\n    }\n\n    public void setAccounts(List&lt;Account&gt; accounts) {\n        this.accounts = accounts;\n    }\n\n\n    public List&lt;Mod&gt; getMods() {\n        return mods;\n    }\n\n    public void setMods(List&lt;Mod&gt; mods) {\n        this.mods = mods;\n    }\n    @Override\n    public String toString()\n    {\n        return email + \" \" + password;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The exception gets thrown when I load the index page from my mods\n  controller.  I am using thymeleaf to render views.  Here is my mods\n  controller.  The Mods database has objects saved to it and in this\n  controller during debugging the attribute being passed to the view\n  contains a populated list of Mod objects.\n   <strong>ModController</strong></p>\n</blockquote>\n\n<pre><code>package com.matt.Keyword.controllers;\n\n\n    import com.matt.Keyword.models.Mod;\n    import com.matt.Keyword.models.User;\n    import com.matt.Keyword.models.data.ModDao;\n    import com.matt.Keyword.models.data.UserDao;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.ui.Model;\n    import org.springframework.validation.Errors;\n    import org.springframework.web.bind.annotation.ModelAttribute;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RequestMethod;\n\n    import javax.servlet.http.HttpSession;\n    import javax.validation.Valid;\n\n    //test commit note\n    //second try\n    //third try\n    /**\n     * Created by LaunchCode\n     */\n    @Controller\n    @RequestMapping(\"mod\")\n\n    public class ModController {\n\n        @Autowired\n        private UserDao userDao;\n\n        @Autowired\n        private ModDao modDao;\n\n        @RequestMapping(value = \"\")\n        public String index(Model model, HttpSession session) {\n\n            if (session.getAttribute(\"currentUser\") == null) {\n\n                return \"redirect:/keyword/login\";\n            }\n\n            session.getAttribute(\"currentUser\");\n            model.addAttribute(\"title\", \"Mods\");\n            model.addAttribute(\"mods\", modDao.findAll());\n            return \"mods/index\";\n\n        }\n\n        @RequestMapping(value = \"add\", method = RequestMethod.GET)\n        public String displayModForm(Model model, HttpSession session) {\n\n            if (session.getAttribute(\"currentUser\") == null) {\n                return \"redirect:/keyword/login\";\n            }\n\n            model.addAttribute(\"title\", \"Add a new mod\");\n            model.addAttribute(new Mod());\n            return \"mods/add\";\n        }\n\n        @RequestMapping(value = \"add\", method = RequestMethod.POST)\n        public String processAddModForm(@ModelAttribute @Valid Mod newMod,\n                                            Errors errors, Model model, HttpSession session) {\n\n            if (errors.hasErrors()) {\n                model.addAttribute(\"title\", \"List of Mods\");\n                return \"mods/add\";\n            }\n            User currentUser = (User) session.getAttribute(\"currentUser\");\n\n            session.getId();\n\n            currentUser.setId(currentUser.getId());\n\n            newMod.setUserid(currentUser.getId());\n\n            modDao.save(newMod);\n\n            return \"redirect:\";\n\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>Here is the mod/index page using thymeleaf.</p>\n</blockquote>\n\n<p><strong>mod/index</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;html lang=\"en\" xmlns:th=\"http://www.thymeleaf.org/\"&gt;\n    &lt;head th:replace=\"fragments :: head\"&gt;&lt;/head&gt;\n\n    &lt;body class=\"container\"&gt;\n\n    &lt;h1 th:text=\"${title}\"&gt;Default Title&lt;/h1&gt;\n\n    &lt;p th:unless=\"${mods} and ${mods.size()}\"&gt;No current mods&lt;/p&gt;\n\n    &lt;nav th:replace=\"fragments :: navigation\"&gt;&lt;/nav&gt;\n\n    &lt;p th:text=\"${session.currentUser.email}\"&gt;&lt;/p&gt;\n\n    &lt;table class=\"table\"&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Type&lt;/th&gt;\n            &lt;th&gt;Entry&lt;/th&gt;\n        &lt;/tr&gt;\n            &lt;div th:if=\"${mods} != null\"&gt;\n                &lt;tr th:each=\"mod : ${mods}\"&gt;\n                    &lt;div th:if=\"${mod.userid} == ${session.currentUser.id}\"&gt;\n                        &lt;td th:text=\"${mod.role}\"&gt;&lt;/td&gt;\n                        &lt;td th:text=\"${mod.entry}\"&gt;&lt;/td&gt;\n                    &lt;/div&gt;\n                &lt;/tr&gt;\n            &lt;/div&gt;\n\n    &lt;/table&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<blockquote>\n  <p>The exception seems to be associated with the for th:each statement. \n  Particularly with the \"mod\" iterator variable.\n  Here is the stack trace for the full error:\n  <strong>Trace</strong></p>\n</blockquote>\n\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: \"class path resource [templates/mods/index.html]\")\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: \"class path resource [templates/mods/index.html]\")\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1370)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1116)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1055)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.standard.processor.StandardEachTagProcessor' (template: \"mods/index\" - line 21, col 17)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 52 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.standard.processor.StandardEachTagProcessor' (template: \"mods/index\" - line 21, col 17)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\n    at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 54 more\nCaused by: java.lang.IllegalArgumentException: Iteration variable cannot be null\n    at org.thymeleaf.util.Validate.notNull(Validate.java:37)\n    at org.thymeleaf.standard.expression.Each.&lt;init&gt;(Each.java:49)\n    at org.thymeleaf.standard.expression.EachUtils.composeEach(EachUtils.java:169)\n    at org.thymeleaf.standard.expression.EachUtils.internalParseEach(EachUtils.java:94)\n    at org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:65)\n    at org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 67 more\n</code></pre>\n\n<p>Any help is appreciated.  Thanks in advance for just taking a look if\nyou have the time.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LcZNc.png\" rel=\"nofollow noreferrer\">Debugger in mod controller</a>\n<a href=\"https://github.com/matsui23/Keyword\" rel=\"nofollow noreferrer\">Here is  a to link to my repo if you want to download it and give it a run.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MGo9W.png\" rel=\"nofollow noreferrer\">Hibernate exception in session</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8qDdT.png\" rel=\"nofollow noreferrer\">Edit to mod/index controller</a></p>\n"},{"tags":["java","aws-sdk","aws-sdk-java"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1686658829,"post_id":76451381,"comment_id":134826670,"body_markdown":"`listTagsForResource` just returns the AWS resource tags for the ECR repository, not the docker image tags for the images stored in the repository. If you look at other AWS services/resources, every one of them have a `listTagsForResource`. You will need to call `listImages` to get the details of the images in the repository, including their tags.","body":"<code>listTagsForResource</code> just returns the AWS resource tags for the ECR repository, not the docker image tags for the images stored in the repository. If you look at other AWS services/resources, every one of them have a <code>listTagsForResource</code>. You will need to call <code>listImages</code> to get the details of the images in the repository, including their tags."},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1686684000,"post_id":76451381,"comment_id":134832350,"body_markdown":"@MarkB: Thank you very much.  I will have a look \nIs there any way to get the Latest Tag ? I&#39;m interested in getting latest image tag for image in repository","body":"@MarkB: Thank you very much.  I will have a look  Is there any way to get the Latest Tag ? I&#39;m interested in getting latest image tag for image in repository"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686502227,"creation_date":1686502227,"answer_id":76451529,"question_id":76451381,"body_markdown":"You&#39;re trying to create an object `r` of type `ListTagsForResourceResult` and call a method `r()` simultaneously, unfortunately that&#39;s not going to work in Java.\r\n\r\nThe `ListTagsForResourceResult` object should be returned from a method call from an instance of the `AmazonECR` client, so iou&#39;ll need to set up an `AmazonECR` to interact with your ECR repository first, and then call the `listTagsForResource()` method on the client with your request as an argument:\r\n```java\r\npublic class AwsECRTest {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        AmazonECR ecr = AmazonECRClientBuilder.defaultClient();\r\n        \r\n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\r\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\r\n        \r\n        ListTagsForResourceResult result = ecr.listTagsForResource(request);\r\n        \r\n        System.out.println(result.getTags());\r\n    }\r\n}\r\n```","title":"pull the latest image tag from ECR repo using AWS SDK","body":"<p>You're trying to create an object <code>r</code> of type <code>ListTagsForResourceResult</code> and call a method <code>r()</code> simultaneously, unfortunately that's not going to work in Java.</p>\n<p>The <code>ListTagsForResourceResult</code> object should be returned from a method call from an instance of the <code>AmazonECR</code> client, so iou'll need to set up an <code>AmazonECR</code> to interact with your ECR repository first, and then call the <code>listTagsForResource()</code> method on the client with your request as an argument:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AwsECRTest {\n\n    public static void main(String[] args) {\n        \n        AmazonECR ecr = AmazonECRClientBuilder.defaultClient();\n        \n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\n        \n        ListTagsForResourceResult result = ecr.listTagsForResource(request);\n        \n        System.out.println(result.getTags());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686603972,"creation_date":1686500225,"question_id":76451381,"body_markdown":"Im trying to pull the latest image tag from the AWS ECR repo using AWS SDK \r\n\r\nIm trying to write below code from the documentation and the google search\r\n```java\r\npublic class AwsECRTest {\r\n    \r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n    \tListTagsForResourceRequest request = new ListTagsForResourceRequest();\r\n    \trequest.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\r\n    \t\t\t   \r\n    \tListTagsForResourceResult r(ListTagsForResourceRequest request);\t\t   \r\n    \t\t\t   \r\n    \tSystem.out.println(r.getTags());   \r\n    }\r\n}\r\n```\r\n\r\ngetting below error \r\n```console\r\n    Syntax error on token &quot;ListTagsForResourceResult&quot;, record expected\r\n```\r\n\r\nnot sure , how to pass the `request` object to `ListTagsForResourceResult` \r\n\r\nplease help / suggest \r\n\r\nthis is the doc link : \r\nhttps://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java\r\n\r\n\r\n\r\n\r\n","title":"pull the latest image tag from ECR repo using AWS SDK","body":"<p>Im trying to pull the latest image tag from the AWS ECR repo using AWS SDK</p>\n<p>Im trying to write below code from the documentation and the google search</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AwsECRTest {\n    \n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        ListTagsForResourceRequest request = new ListTagsForResourceRequest();\n        request.setResourceArn(&quot;arn:aws:ecr:us-east-1:45454512:repository/testrty&quot;);\n                   \n        ListTagsForResourceResult r(ListTagsForResourceRequest request);           \n                   \n        System.out.println(r.getTags());   \n    }\n}\n</code></pre>\n<p>getting below error</p>\n<pre><code>    Syntax error on token &quot;ListTagsForResourceResult&quot;, record expected\n</code></pre>\n<p>not sure , how to pass the <code>request</code> object to <code>ListTagsForResourceResult</code></p>\n<p>please help / suggest</p>\n<p>this is the doc link :\n<a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-ecr/src/main/java/com/amazonaws/services/ecr/AmazonECR.java</a></p>\n"},{"tags":["java","arrays","optimization","grid","coordinates"],"answers":[{"tags":[],"owner":{"account_id":18143436,"reputation":56,"user_id":13197027,"display_name":"wookieJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686603695,"creation_date":1686602845,"answer_id":76460229,"question_id":63013537,"body_markdown":"I found this question after almost 3 years, but I probably have a solution for you if it&#39;s still valid:\r\n\r\n 1. Build graph: Your grid (map) may be converted to graph, where nodes contains coordinates and type (**ROAD**, **GROUND**) and edges are adjacent coordinates.\r\n 3. Discover **AVAILABLE_SPACE** nodes: you can use **DFS** or **BFS** algorithms now (little modified for this issue) to traverse through **ROAD** and return true where there is still some space along side road or store those available spaces sizes and coordinates if needed. Nodes that are **AVAILABLE_SPACE** type will be the **GROUND** types and in the direct neighbourhood of **ROAD** nodes. Maybe another traverse through **AVAILABLE_SPACE** nodes may be needed here after discover them.\r\n\r\n","title":"Creating Array of Integers to store spaces in grid Java","body":"<p>I found this question after almost 3 years, but I probably have a solution for you if it's still valid:</p>\n<ol>\n<li>Build graph: Your grid (map) may be converted to graph, where nodes contains coordinates and type (<strong>ROAD</strong>, <strong>GROUND</strong>) and edges are adjacent coordinates.</li>\n<li>Discover <strong>AVAILABLE_SPACE</strong> nodes: you can use <strong>DFS</strong> or <strong>BFS</strong> algorithms now (little modified for this issue) to traverse through <strong>ROAD</strong> and return true where there is still some space along side road or store those available spaces sizes and coordinates if needed. Nodes that are <strong>AVAILABLE_SPACE</strong> type will be the <strong>GROUND</strong> types and in the direct neighbourhood of <strong>ROAD</strong> nodes. Maybe another traverse through <strong>AVAILABLE_SPACE</strong> nodes may be needed here after discover them.</li>\n</ol>\n"}],"owner":{"account_id":19126248,"reputation":31,"user_id":13969169,"display_name":"kp27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686603695,"creation_date":1595331002,"question_id":63013537,"body_markdown":"I am currently making a program which optimizes the placement of houses on a grid to gain the most profit.\r\n\r\nThe area plan is on a grid - all house details (dimensions etc) are entered by a user.\r\n\r\nAll houses must be placed next to a road - the roads have already been added to the grid by the user.\r\n\r\nI am currently struggling to write a function which checks if the grid has any available space left to add another house (the stopping condition for my optimization algorithm).\r\n\r\nThe available space won&#39;t be the empty squares on the grid, but the empty squares adjacent to the road. \r\n(This road can go both horizontal and vertical)\r\n\r\nThe grid:\r\n\r\n    Coords[][] grid;\r\n\r\nIf a coordinate on the grid is a road:\r\n\r\n    grid[x][y].getRoad() == true\r\n\r\nThe following function finds all neighbouring squares of any coordinate:\r\n(cols - number of columns in grid)\r\n(rows - number of rows in grid)\r\n\r\n```\r\npublic static Coords[] addNeighboursSquare(Coords coord, int x, int y, int cols, int rows)\r\n{\r\n   Coords[] neighbours = null;\r\n\r\n   //right\r\n   if (x &lt; cols - 1)\r\n   {\r\n      neighbours[0] = AStarAlgorithm.grid[x + 1][y];\r\n   }\r\n\r\n   //left\r\n   if (x &gt; 0)\r\n   {\r\n      neighbours[1] = AStarAlgorithm.grid[x - 1][y];\r\n   }\r\n\r\n   //top\r\n   if (y &lt; rows - 1)\r\n   {\r\n      neighbours[2] = AStarAlgorithm.grid[x][y + 1];\r\n   }\r\n\r\n   //bottom\r\n   if (y &gt; 0)\r\n   {\r\n      neighbours[3] = AStarAlgorithm.grid[x][y - 1];\r\n   }\r\n\r\n   return neighbours;\r\n}\r\n```\r\n\r\nHow do I loop through all roads squares in the grid, and create an array of ints containing the size of all &#39;gaps&#39; along the road?\r\n","title":"Creating Array of Integers to store spaces in grid Java","body":"<p>I am currently making a program which optimizes the placement of houses on a grid to gain the most profit.</p>\n<p>The area plan is on a grid - all house details (dimensions etc) are entered by a user.</p>\n<p>All houses must be placed next to a road - the roads have already been added to the grid by the user.</p>\n<p>I am currently struggling to write a function which checks if the grid has any available space left to add another house (the stopping condition for my optimization algorithm).</p>\n<p>The available space won't be the empty squares on the grid, but the empty squares adjacent to the road.\n(This road can go both horizontal and vertical)</p>\n<p>The grid:</p>\n<pre><code>Coords[][] grid;\n</code></pre>\n<p>If a coordinate on the grid is a road:</p>\n<pre><code>grid[x][y].getRoad() == true\n</code></pre>\n<p>The following function finds all neighbouring squares of any coordinate:\n(cols - number of columns in grid)\n(rows - number of rows in grid)</p>\n<pre><code>public static Coords[] addNeighboursSquare(Coords coord, int x, int y, int cols, int rows)\n{\n   Coords[] neighbours = null;\n\n   //right\n   if (x &lt; cols - 1)\n   {\n      neighbours[0] = AStarAlgorithm.grid[x + 1][y];\n   }\n\n   //left\n   if (x &gt; 0)\n   {\n      neighbours[1] = AStarAlgorithm.grid[x - 1][y];\n   }\n\n   //top\n   if (y &lt; rows - 1)\n   {\n      neighbours[2] = AStarAlgorithm.grid[x][y + 1];\n   }\n\n   //bottom\n   if (y &gt; 0)\n   {\n      neighbours[3] = AStarAlgorithm.grid[x][y - 1];\n   }\n\n   return neighbours;\n}\n</code></pre>\n<p>How do I loop through all roads squares in the grid, and create an array of ints containing the size of all 'gaps' along the road?</p>\n"},{"tags":["java","data-structures","iteration","binary-search-tree","inorder"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1686583879,"post_id":76456940,"comment_id":134815223,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"score":0,"creation_date":1686602483,"post_id":76456940,"comment_id":134818785,"body_markdown":"I think someone just edited the post and fixed it :)","body":"I think someone just edited the post and fixed it :)"}],"answers":[{"tags":[],"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686575794,"creation_date":1686575794,"answer_id":76457061,"question_id":76456940,"body_markdown":"To create a balanced binary search tree (BST) from a sorted array iteratively, you can use a technique called the &quot;Bottom-Up&quot; approach. Here&#39;s how you can do it:\r\n\r\n 1. Initialize an empty stack. This stack will store pairs of indices\r\n    representing the range of elements for each subtree.\r\n    \r\n 2. Push the initial range [0, n-1] onto the stack, where n is the size\r\n    of the sorted array.\r\n    \r\n 3. While the stack is not empty, do the following:\r\n\r\n    \r\n\r\n    -    Pop the top pair of indices from the stack. Let&#39;s call them start and\r\n   end.\r\n\r\n    \r\n\r\n    -    Calculate the middle index as mid = (start + end) // 2.\r\n\r\n    \r\n\r\n    -    Create a new node with the value at index mid in the sorted array.\r\n\r\n    \r\n\r\n    - Set the left child of the new node to the result of the next\r\n   iteration \r\n       with the range [start, mid-1] (i.e., the left half of the current range).\r\n\r\n    \r\n\r\n    - Set the right child of the new node to the result of the next\r\n   iteration \r\n       with the range [mid+1, end] (i.e., the right half of the current range).\r\n\r\n    \r\n    \r\n\r\n    - Set the parent of the new node as needed.\r\n  4. Return the root of the BST.\r\n\r\n\r\nexample code:\r\n\r\n    class Node {\r\n    int value;\r\n    Node left;\r\n    Node right;\r\n    Node parent;\r\n\r\n    public Node(int value) {\r\n        this.value = value;\r\n        this.left = null;\r\n        this.right = null;\r\n        this.parent = null;\r\n    }\r\n\r\n    }\r\n    public class BalancedBST {\r\n        public static Node createBalancedBSTIterative(int[] sortedArray) {\r\n            int n = sortedArray.length;\r\n            if (n == 0) {\r\n                return null;\r\n            }\r\n\r\n        Stack&lt;int[]&gt; stack = new Stack&lt;&gt;();\r\n        Node root = null;\r\n\r\n        int start = 0;\r\n        int end = n - 1;\r\n\r\n        int mid = (start + end) / 2;\r\n        root = new Node(sortedArray[mid]);\r\n        stack.push(new int[]{start, mid - 1});\r\n        stack.push(new int[]{mid + 1, end});\r\n\r\n        while (!stack.empty()) {\r\n            int[] range = stack.pop();\r\n            start = range[0];\r\n            end = range[1];\r\n            mid = (start + end) / 2;\r\n\r\n            Node parent = new Node(sortedArray[mid]);\r\n            parent.parent = root;\r\n\r\n            if (start &lt;= mid - 1) {\r\n                stack.push(new int[]{start, mid - 1});\r\n                parent.left = new Node(0);  // Placeholder node for now\r\n            }\r\n\r\n            if (mid + 1 &lt;= end) {\r\n                stack.push(new int[]{mid + 1, end});\r\n                parent.right = new Node(0); // Placeholder node for now\r\n            }\r\n\r\n            if (parent.parent != null) {\r\n                if (parent == parent.parent.left) {\r\n                    parent.parent.left = parent;\r\n                } else {\r\n                    parent.parent.right = parent;\r\n                }\r\n            } else {\r\n                root = parent;\r\n            }\r\n        }\r\n\r\n        return root;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] sortedArray = {1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n        Node root = createBalancedBSTIterative(sortedArray);\r\n        // You can traverse and print the resulting tree to verify the correctness\r\n    }\r\n    }\r\n\r\n","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>To create a balanced binary search tree (BST) from a sorted array iteratively, you can use a technique called the &quot;Bottom-Up&quot; approach. Here's how you can do it:</p>\n<ol>\n<li><p>Initialize an empty stack. This stack will store pairs of indices\nrepresenting the range of elements for each subtree.</p>\n</li>\n<li><p>Push the initial range [0, n-1] onto the stack, where n is the size\nof the sorted array.</p>\n</li>\n<li><p>While the stack is not empty, do the following:</p>\n<ul>\n<li><p>Pop the top pair of indices from the stack. Let's call them start and\nend.</p>\n</li>\n<li><p>Calculate the middle index as mid = (start + end) // 2.</p>\n</li>\n<li><p>Create a new node with the value at index mid in the sorted array.</p>\n</li>\n<li><p>Set the left child of the new node to the result of the next\niteration\nwith the range [start, mid-1] (i.e., the left half of the current range).</p>\n</li>\n<li><p>Set the right child of the new node to the result of the next\niteration\nwith the range [mid+1, end] (i.e., the right half of the current range).</p>\n</li>\n<li><p>Set the parent of the new node as needed.</p>\n</li>\n</ul>\n</li>\n<li><p>Return the root of the BST.</p>\n</li>\n</ol>\n<p>example code:</p>\n<pre><code>class Node {\nint value;\nNode left;\nNode right;\nNode parent;\n\npublic Node(int value) {\n    this.value = value;\n    this.left = null;\n    this.right = null;\n    this.parent = null;\n}\n\n}\npublic class BalancedBST {\n    public static Node createBalancedBSTIterative(int[] sortedArray) {\n        int n = sortedArray.length;\n        if (n == 0) {\n            return null;\n        }\n\n    Stack&lt;int[]&gt; stack = new Stack&lt;&gt;();\n    Node root = null;\n\n    int start = 0;\n    int end = n - 1;\n\n    int mid = (start + end) / 2;\n    root = new Node(sortedArray[mid]);\n    stack.push(new int[]{start, mid - 1});\n    stack.push(new int[]{mid + 1, end});\n\n    while (!stack.empty()) {\n        int[] range = stack.pop();\n        start = range[0];\n        end = range[1];\n        mid = (start + end) / 2;\n\n        Node parent = new Node(sortedArray[mid]);\n        parent.parent = root;\n\n        if (start &lt;= mid - 1) {\n            stack.push(new int[]{start, mid - 1});\n            parent.left = new Node(0);  // Placeholder node for now\n        }\n\n        if (mid + 1 &lt;= end) {\n            stack.push(new int[]{mid + 1, end});\n            parent.right = new Node(0); // Placeholder node for now\n        }\n\n        if (parent.parent != null) {\n            if (parent == parent.parent.left) {\n                parent.parent.left = parent;\n            } else {\n                parent.parent.right = parent;\n            }\n        } else {\n            root = parent;\n        }\n    }\n\n    return root;\n}\n\npublic static void main(String[] args) {\n    int[] sortedArray = {1, 2, 3, 4, 5, 6, 7, 8, 9};\n    Node root = createBalancedBSTIterative(sortedArray);\n    // You can traverse and print the resulting tree to verify the correctness\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686603389,"creation_date":1686600623,"answer_id":76460001,"question_id":76456940,"body_markdown":"You can use an iterative approach where you target a tree that is *complete*, i.e. where the leaves are all on the bottom two levels, and the bottom level has all its nodes at the left side of that level.\r\n\r\nFrom the size of the input array you can calculate what the height is of the tree to build and how many nodes will be in its bottom level.\r\n\r\nThen you can use an array where each index corresponds to a level, and each entry represents the rightmost node in that level (if relevant). This array will start out will all `null` entries, and the first entry to get a Node instance will be its last entry (at the end of the array), because it will be a leaf. With some logic you can know at which level the next node will end up, store its reference at that index in the array, and link it up with its child (if any).\r\n\r\nHere is an implementation with some comments explaining some details:\r\n\r\n### Node\r\n\r\n```\r\nclass Node {\r\n    int value;\r\n    Node left = null;\r\n    Node right = null;\r\n    \r\n    public Node(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n### BinarySearchTree\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass BinarySearchTree {\r\n    Node root = null;\r\n    \r\n    BinarySearchTree(int[] values) {\r\n        if (values.length == 0) return;\r\n        int height = (int)(Math.log(values.length) / Math.log(2));\r\n        // Number of nodes to be placed in the bottom level of the new tree:\r\n        int bottomCount = (values.length + 1) - (1 &lt;&lt; height);\r\n        Node path[] = new Node[height + 1];\r\n        Arrays.fill(path, null);\r\n        // Depth that the next node will have in the new tree \r\n        int depth = height; \r\n        for (int value : values) {\r\n            path[depth] = new Node(value);\r\n            // Is there a left child to link?\r\n            if (depth + 1 &lt; path.length &amp;&amp; path[depth+1] != null) { \r\n                path[depth].left = path[depth+1];\r\n                path[depth+1] = null;\r\n            }\r\n            if (depth &lt; height) {\r\n                depth = height; // Next node will be a leaf\r\n            } else {\r\n                // Has bottom level been covered? \r\n                //    Then remaining part has one less level\r\n                if (--bottomCount == 0) height--;\r\n                while (depth-- &gt; 0 &amp;&amp; path[depth] != null) {\r\n                    path[depth].right = path[depth+1];\r\n                    path[depth+1] = null;\r\n                }\r\n            }\r\n        }\r\n        root = path[0];\r\n    }\r\n\r\n    void print() {\r\n        print(root, &quot;&quot;);\r\n    }\r\n\r\n    void print(Node node, String indent) {\r\n        if (node == null) return;\r\n        print(node.right, indent + &quot;   &quot;);\r\n        System.out.println(indent + node.value);\r\n        print(node.left, indent + &quot;   &quot;);\r\n    }\r\n}\r\n```\r\n\r\n### Driver code\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int values[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};\r\n        BinarySearchTree tree = new BinarySearchTree(values);\r\n        tree.print();\r\n    }\r\n```\r\n\r\nThis has O(n) time complexity, and O(logn) auxiliary space complexity (not counting input -- the array of values -- nor output -- the tree).","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>You can use an iterative approach where you target a tree that is <em>complete</em>, i.e. where the leaves are all on the bottom two levels, and the bottom level has all its nodes at the left side of that level.</p>\n<p>From the size of the input array you can calculate what the height is of the tree to build and how many nodes will be in its bottom level.</p>\n<p>Then you can use an array where each index corresponds to a level, and each entry represents the rightmost node in that level (if relevant). This array will start out will all <code>null</code> entries, and the first entry to get a Node instance will be its last entry (at the end of the array), because it will be a leaf. With some logic you can know at which level the next node will end up, store its reference at that index in the array, and link it up with its child (if any).</p>\n<p>Here is an implementation with some comments explaining some details:</p>\n<h3>Node</h3>\n<pre><code>class Node {\n    int value;\n    Node left = null;\n    Node right = null;\n    \n    public Node(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<h3>BinarySearchTree</h3>\n<pre><code>import java.util.*;\n\nclass BinarySearchTree {\n    Node root = null;\n    \n    BinarySearchTree(int[] values) {\n        if (values.length == 0) return;\n        int height = (int)(Math.log(values.length) / Math.log(2));\n        // Number of nodes to be placed in the bottom level of the new tree:\n        int bottomCount = (values.length + 1) - (1 &lt;&lt; height);\n        Node path[] = new Node[height + 1];\n        Arrays.fill(path, null);\n        // Depth that the next node will have in the new tree \n        int depth = height; \n        for (int value : values) {\n            path[depth] = new Node(value);\n            // Is there a left child to link?\n            if (depth + 1 &lt; path.length &amp;&amp; path[depth+1] != null) { \n                path[depth].left = path[depth+1];\n                path[depth+1] = null;\n            }\n            if (depth &lt; height) {\n                depth = height; // Next node will be a leaf\n            } else {\n                // Has bottom level been covered? \n                //    Then remaining part has one less level\n                if (--bottomCount == 0) height--;\n                while (depth-- &gt; 0 &amp;&amp; path[depth] != null) {\n                    path[depth].right = path[depth+1];\n                    path[depth+1] = null;\n                }\n            }\n        }\n        root = path[0];\n    }\n\n    void print() {\n        print(root, &quot;&quot;);\n    }\n\n    void print(Node node, String indent) {\n        if (node == null) return;\n        print(node.right, indent + &quot;   &quot;);\n        System.out.println(indent + node.value);\n        print(node.left, indent + &quot;   &quot;);\n    }\n}\n</code></pre>\n<h3>Driver code</h3>\n<pre><code>    public static void main(String[] args) {\n        int values[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};\n        BinarySearchTree tree = new BinarySearchTree(values);\n        tree.print();\n    }\n</code></pre>\n<p>This has O(n) time complexity, and O(logn) auxiliary space complexity (not counting input -- the array of values -- nor output -- the tree).</p>\n"},{"tags":[],"owner":{"display_name":"user21508463"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686602031,"creation_date":1686602031,"answer_id":76460141,"question_id":76456940,"body_markdown":"Why is it &quot;complicated&quot; ?\r\n\r\nBecause if you update the nodes to the tree in sorted order, you access the nodes following varying paths in the tree, of varying lengths. To manage these paths, you need an auxiliary data structure.\r\n\r\nE.g.\r\n\r\n              3\r\n          1       5\r\n        0   2   4   6\r\n\r\nThe nodes are filled using the successive paths\r\n\r\n    3 1 0\r\n    3 1\r\n    3 1 2\r\n    3\r\n    3 5 4\r\n    3 5\r\n    3 5 6\r\n\r\n","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>Why is it &quot;complicated&quot; ?</p>\n<p>Because if you update the nodes to the tree in sorted order, you access the nodes following varying paths in the tree, of varying lengths. To manage these paths, you need an auxiliary data structure.</p>\n<p>E.g.</p>\n<pre><code>          3\n      1       5\n    0   2   4   6\n</code></pre>\n<p>The nodes are filled using the successive paths</p>\n<pre><code>3 1 0\n3 1\n3 1 2\n3\n3 5 4\n3 5\n3 5 6\n</code></pre>\n"}],"owner":{"account_id":26799112,"reputation":13,"user_id":20391352,"display_name":"Oreo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76460001,"answer_count":3,"score":0,"last_activity_date":1686603389,"creation_date":1686574932,"question_id":76456940,"body_markdown":"I want to create a balanced BST from a sorted array iteratively. I understand how to create this BST recursively, but how would you go about doing this iteratively? assuming a Node in the tree has left,right child and a parent.\r\n\r\nI tried implementing the same key idea as in the recursive solution (take the median to be the root at each iteration). got stuck pretty fast when trying to write the for loop. saw some ideas about stack or queue but could not understand why you must create one of these (maybe you don&#39;t).Also in general why does iterative solution seem to be way more complicated than the recursive one? (and also not popular)\r\ncould use help. (jave please if you supply code) \r\n\r\n*I&#39;m a beginner (don&#39;t be to harsh :))","title":"Balanced BST From a Sorted Array - Iterative Approach","body":"<p>I want to create a balanced BST from a sorted array iteratively. I understand how to create this BST recursively, but how would you go about doing this iteratively? assuming a Node in the tree has left,right child and a parent.</p>\n<p>I tried implementing the same key idea as in the recursive solution (take the median to be the root at each iteration). got stuck pretty fast when trying to write the for loop. saw some ideas about stack or queue but could not understand why you must create one of these (maybe you don't).Also in general why does iterative solution seem to be way more complicated than the recursive one? (and also not popular)\ncould use help. (jave please if you supply code)</p>\n<p>*I'm a beginner (don't be to harsh :))</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1686590898,"post_id":76458852,"comment_id":134816703,"body_markdown":"Please read whole container output. Probably there is an error message in it.","body":"Please read whole container output. Probably there is an error message in it."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1686591600,"post_id":76458852,"comment_id":134816859,"body_markdown":"Does running the `registereureka.jar` file directly (not in Docker) work?","body":"Does running the <code>registereureka.jar</code> file directly (not in Docker) work?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686591653,"post_id":76458852,"comment_id":134816875,"body_markdown":"What are your dependencies? What does the APP do, is there something in there that keeps the app alive, like tomcat? How are you building the jar?","body":"What are your dependencies? What does the APP do, is there something in there that keeps the app alive, like tomcat? How are you building the jar?"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593299,"post_id":76458852,"comment_id":134817215,"body_markdown":"Hello and thank you all for looking at my question.\n\n\ngdomo: there is nothing else wrong in the container outpup, everything before SpringApplicationShutdownHook says that container started\n\n\nthe last output before shutdown is:  DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPackages&#39;\n18:04:33.471 [main] INFO com.registereureka.registereureka.RegistereurekaApplication - Started RegistereurekaApplication in 1.582 seconds (JVM running for 2.53)","body":"Hello and thank you all for looking at my question.   gdomo: there is nothing else wrong in the container outpup, everything before SpringApplicationShutdownHook says that container started   the last output before shutdown is:  DEBUG org.springframework.beans.factory.support.DefaultListableBea&zwnj;&#8203;nFactory - Creating shared instance of singleton bean &#39;org.springframework.boot.autoconfigure.AutoConfigurationPac&zwnj;&#8203;kages&#39; 18:04:33.471 [main] INFO com.registereureka.registereureka.RegistereurekaApplication - Started RegistereurekaApplication in 1.582 seconds (JVM running for 2.53)"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593311,"post_id":76458852,"comment_id":134817217,"body_markdown":"rob spoor: yes it works, i run the app in intellij and it works","body":"rob spoor: yes it works, i run the app in intellij and it works"},{"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"score":0,"creation_date":1686593317,"post_id":76458852,"comment_id":134817219,"body_markdown":"m deinum: it is just a eureka server app, nothing else...i have to make 4 spring boot apps (eureka server and 4 clients) and i need to put each one in docker containers","body":"m deinum: it is just a eureka server app, nothing else...i have to make 4 spring boot apps (eureka server and 4 clients) and i need to put each one in docker containers"}],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686603117,"creation_date":1686603117,"answer_id":76460251,"question_id":76458852,"body_markdown":"This is my working code. Kindly try it:\r\n\r\n    FROM openjdk:17-jdk\r\n    ADD target/employee-crud-0.0.1-SNAPSHOT.jar app.jar\r\n    EXPOSE 9003\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\nI think you are adding &quot;**/**&quot; along with **app.jar** in Entrypoint and it is not able to find the jar file. Try to remove **&quot;/&quot;** first and if it doesn&#39;t work, take my code as a reference. ","title":"docker container shuts down immediately","body":"<p>This is my working code. Kindly try it:</p>\n<pre><code>FROM openjdk:17-jdk\nADD target/employee-crud-0.0.1-SNAPSHOT.jar app.jar\nEXPOSE 9003\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>I think you are adding &quot;<strong>/</strong>&quot; along with <strong>app.jar</strong> in Entrypoint and it is not able to find the jar file. Try to remove <strong>&quot;/&quot;</strong> first and if it doesn't work, take my code as a reference.</p>\n"}],"owner":{"account_id":28806510,"reputation":1,"user_id":22062251,"display_name":"mairiLou"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686603117,"creation_date":1686589470,"question_id":76458852,"body_markdown":"i am facing a problem...i have a spring boot app that i want to containerize..i built my image and when i run the container i get this message:\r\n\r\n\r\n```\r\n[SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigAppl\r\nicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext\r\n```\r\n\r\nhas anyone faced something similar to that?i can&#39;t figure out what is the problem..\r\n\r\nthis is what i have on my Dockerfile\r\n\r\n\r\n```\r\nFROM openjdk:17-alpine\r\nARG JAR_FILE=target/*.jar\r\nADD ./target/registereureka.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\n\r\ni can&#39;t figure what is causing the problem","title":"docker container shuts down immediately","body":"<p>i am facing a problem...i have a spring boot app that i want to containerize..i built my image and when i run the container i get this message:</p>\n<pre><code>[SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigAppl\nicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext\n</code></pre>\n<p>has anyone faced something similar to that?i can't figure out what is the problem..</p>\n<p>this is what i have on my Dockerfile</p>\n<pre><code>FROM openjdk:17-alpine\nARG JAR_FILE=target/*.jar\nADD ./target/registereureka.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>i can't figure what is causing the problem</p>\n"},{"tags":["java","java-8","java-stream","short-circuiting"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1440456121,"post_id":32192846,"comment_id":52270824,"body_markdown":"&quot;may not&quot; as in &quot;might not&quot;, not as in &quot;not allowed to&quot;.","body":"&quot;may not&quot; as in &quot;might not&quot;, not as in &quot;not allowed to&quot;."},{"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"score":0,"creation_date":1440456655,"post_id":32192846,"comment_id":52271002,"body_markdown":"@Andreas Yes, I&#39;m just not getting where the difference comes from. All can be short-circuited the way I&#39;m looking at it?","body":"@Andreas Yes, I&#39;m just not getting where the difference comes from. All can be short-circuited the way I&#39;m looking at it?"}],"answers":[{"tags":[],"owner":{"account_id":1075870,"reputation":7152,"user_id":1074041,"accept_rate":100,"display_name":"Trevor Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440456224,"creation_date":1440456224,"answer_id":32192911,"question_id":32192846,"body_markdown":"When the javadoc says &quot;may not short-circuit&quot; it is merely pointing out that it is not a short circuit operation and depending on the values, the entire stream may be processed.\r\n\r\n`findFirst` and `findAny` on the other hand, are guaranteed to short circuit since they never need to process the rest of the stream once they are satisfied.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>When the javadoc says \"may not short-circuit\" it is merely pointing out that it is not a short circuit operation and depending on the values, the entire stream may be processed.</p>\n\n<p><code>findFirst</code> and <code>findAny</code> on the other hand, are guaranteed to short circuit since they never need to process the rest of the stream once they are satisfied.</p>\n"},{"tags":[],"owner":{"display_name":"user3496378"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440457198,"creation_date":1440456409,"answer_id":32192935,"question_id":32192846,"body_markdown":"anyMatch, noneMatch and allMatch return boolean values, so they may have to check all to prove the logic.\n\nfindFirst and findAny just care about finding the first they can and returning that.\n\nEdit:\nFor a given dataset the Match methods are guaranteed to always return the same value, however the Find methods are not because the order may vary and affect which value is returned.\n\nThe short circuiting described is talking about the Find methods lacking consistency for a given dataset.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>anyMatch, noneMatch and allMatch return boolean values, so they may have to check all to prove the logic.</p>\n\n<p>findFirst and findAny just care about finding the first they can and returning that.</p>\n\n<p>Edit:\nFor a given dataset the Match methods are guaranteed to always return the same value, however the Find methods are not because the order may vary and affect which value is returned.</p>\n\n<p>The short circuiting described is talking about the Find methods lacking consistency for a given dataset.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1440457360,"creation_date":1440456456,"answer_id":32192942,"question_id":32192846,"body_markdown":"**Answer Updated**\r\n\r\nI&#39;d say the blog post is wrong when it says &quot;findFirst or findAny we only need the first value which matches the predicate&quot;.\r\n\r\nIn the javadoc for [allMatch(Predicate)][1], [anyMatch(Predicate)][2], [noneMatch(Predicate)][3], [findAny()][4], and [findFirst()][5]:\r\n\r\n&gt; This is a short-circuiting terminal operation.\r\n\r\nHowever, note that `findFirst` and `findAny` doesn&#39;t have a `Predicate`. So they can both return immediately upon seeing the first/any value. The other 3 are conditional and may loop forever if condition never fires.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--","title":"How does short-circuit work for Java 8 Streams?","body":"<p><strong>Answer Updated</strong></p>\n\n<p>I'd say the blog post is wrong when it says \"findFirst or findAny we only need the first value which matches the predicate\".</p>\n\n<p>In the javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"noreferrer\">allMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"noreferrer\">anyMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#noneMatch-java.util.function.Predicate-\" rel=\"noreferrer\">noneMatch(Predicate)</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\" rel=\"noreferrer\">findAny()</a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"noreferrer\">findFirst()</a>:</p>\n\n<blockquote>\n  <p>This is a short-circuiting terminal operation.</p>\n</blockquote>\n\n<p>However, note that <code>findFirst</code> and <code>findAny</code> doesn't have a <code>Predicate</code>. So they can both return immediately upon seeing the first/any value. The other 3 are conditional and may loop forever if condition never fires.</p>\n"},{"tags":[],"owner":{"account_id":4303461,"reputation":6948,"user_id":5171540,"display_name":"WillShackleford"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1440457012,"creation_date":1440457012,"answer_id":32193029,"question_id":32192846,"body_markdown":"According to Oracle&#39;s Stream Documentation:\r\n https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\r\n\r\n&gt;  A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time. \r\n\r\nAll five functions have the line:\r\n\r\n&gt; This is a short-circuiting terminal operation.\r\n\r\nIn the description of the function.","title":"How does short-circuit work for Java 8 Streams?","body":"<p>According to Oracle's Stream Documentation:\n <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps</a></p>\n\n<blockquote>\n  <p>A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time. </p>\n</blockquote>\n\n<p>All five functions have the line:</p>\n\n<blockquote>\n  <p>This is a short-circuiting terminal operation.</p>\n</blockquote>\n\n<p>In the description of the function.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1468423940,"creation_date":1440467199,"answer_id":32194320,"question_id":32192846,"body_markdown":"There&#39;s a subtle difference, because `anyMatch` family uses a predicate, while `findAny` family does not. Technically `findAny()` looks like `anyMatch(x -&gt; true)` and `anyMatch(pred)` looks like `filter(pred).findAny()`. So here we have another issue. Consider we have a simple infinite stream:\r\n\r\n    Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1);\r\n\r\nSo it&#39;s true that applying `findAny()` to such stream will always short-circuit and finish while applying `anyMatch(pred)` depends on the predicate. However let&#39;s filter our infinite stream:\r\n\r\n    Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0);\r\n\r\nIs the resulting stream infinite as well? That&#39;s a tricky question. It actually contains no elements, but to determine this (for example, using `.iterator().hasNext()`) we have to check the infinite number of underlying stream elements, so this operation will never finish. I would call such stream an infinite as well. However using such stream both `anyMatch` and `findAny` will never finish:\r\n\r\n    Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).anyMatch(x -&gt; true);\r\n    Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).findAny();\r\n\r\nSo `findAny()` is not guaranteed to finish either, it depends on the previous intermediate stream operations.\r\n\r\nTo conclude I would rate that blog-post as very misleading. In my opinion infinity stream behavior is better explained in official [JavaDoc](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps).","title":"How does short-circuit work for Java 8 Streams?","body":"<p>There's a subtle difference, because <code>anyMatch</code> family uses a predicate, while <code>findAny</code> family does not. Technically <code>findAny()</code> looks like <code>anyMatch(x -&gt; true)</code> and <code>anyMatch(pred)</code> looks like <code>filter(pred).findAny()</code>. So here we have another issue. Consider we have a simple infinite stream:</p>\n\n<pre><code>Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1);\n</code></pre>\n\n<p>So it's true that applying <code>findAny()</code> to such stream will always short-circuit and finish while applying <code>anyMatch(pred)</code> depends on the predicate. However let's filter our infinite stream:</p>\n\n<pre><code>Stream&lt;Integer&gt; s = Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0);\n</code></pre>\n\n<p>Is the resulting stream infinite as well? That's a tricky question. It actually contains no elements, but to determine this (for example, using <code>.iterator().hasNext()</code>) we have to check the infinite number of underlying stream elements, so this operation will never finish. I would call such stream an infinite as well. However using such stream both <code>anyMatch</code> and <code>findAny</code> will never finish:</p>\n\n<pre><code>Stream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).anyMatch(x -&gt; true);\nStream.generate(() -&gt; 1).filter(x -&gt; x &lt; 0).findAny();\n</code></pre>\n\n<p>So <code>findAny()</code> is not guaranteed to finish either, it depends on the previous intermediate stream operations.</p>\n\n<p>To conclude I would rate that blog-post as very misleading. In my opinion infinity stream behavior is better explained in official <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">JavaDoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":6948511,"reputation":131,"user_id":5331961,"accept_rate":0,"display_name":"Kai Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645211659,"creation_date":1645211659,"answer_id":71178743,"question_id":32192846,"body_markdown":"```\r\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt;= 0)\r\n\r\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt; 0)\r\n```\r\n\r\nThe first one returns forever, the second one returns immediately","title":"How does short-circuit work for Java 8 Streams?","body":"<pre><code>LongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt;= 0)\n\nLongStream.range(0, Long.MAX_VALUE).allMatch(x -&gt; x &gt; 0)\n</code></pre>\n<p>The first one returns forever, the second one returns immediately</p>\n"}],"owner":{"account_id":4168230,"reputation":677,"user_id":4313215,"accept_rate":100,"display_name":"Koekje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17984,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":32194320,"answer_count":6,"score":34,"last_activity_date":1686603115,"creation_date":1440455822,"question_id":32192846,"body_markdown":"Reading up a bit on Java 8, I got to [this][1] blog post explaining a bit about streams and reduction of them, and when it would be possible to short-circuit the reduction. At the bottom it states: \r\n\r\n&gt;Note in the case of `findFirst` or `findAny` we only need the first value which matches the predicate (although `findAny` is not guaranteed to return the first). However if the stream has no ordering then we’d expect `findFirst` to behave like `findAny`. The operations `allMatch`, `noneMatch` and `anyMatch` may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is `true` or `false`. Thus an infinite stream using these may not terminate.\r\n\r\nI get that `findFirst` or `findAny` may short-circuit the reduction, because as soon as you find an element, you do not need to process any further. \r\n\r\nBut why would this not be possible for `allMatch`, `noneMatch` and `anyMatch`? For `allMatch`, if you find one which doesn&#39;t match the predicate, you can stop processing. Same for none. And `anyMatch` especially doesn&#39;t make sense to me, as it it pretty much equal to `findAny` (except for what is returned)?\r\n\r\nSaying that these three may not short-circuit, because it may take evaluating all the values, could also be said for `findFirst/Any`.\r\n\r\nIs there some fundamental difference I&#39;m missing? Am I not really understanding what is going on?\r\n\r\n  [1]: https://thecannycoder.wordpress.com/2014/08/10/collectors-part-1-reductions-and-short-circuiting-operations%E2%80%8F/","title":"How does short-circuit work for Java 8 Streams?","body":"<p>Reading up a bit on Java 8, I got to <a href=\"https://thecannycoder.wordpress.com/2014/08/10/collectors-part-1-reductions-and-short-circuiting-operations%E2%80%8F/\" rel=\"nofollow noreferrer\">this</a> blog post explaining a bit about streams and reduction of them, and when it would be possible to short-circuit the reduction. At the bottom it states:</p>\n<blockquote>\n<p>Note in the case of <code>findFirst</code> or <code>findAny</code> we only need the first value which matches the predicate (although <code>findAny</code> is not guaranteed to return the first). However if the stream has no ordering then we’d expect <code>findFirst</code> to behave like <code>findAny</code>. The operations <code>allMatch</code>, <code>noneMatch</code> and <code>anyMatch</code> may not short-circuit the stream at all since it may take evaluating all the values to determine whether the operator is <code>true</code> or <code>false</code>. Thus an infinite stream using these may not terminate.</p>\n</blockquote>\n<p>I get that <code>findFirst</code> or <code>findAny</code> may short-circuit the reduction, because as soon as you find an element, you do not need to process any further.</p>\n<p>But why would this not be possible for <code>allMatch</code>, <code>noneMatch</code> and <code>anyMatch</code>? For <code>allMatch</code>, if you find one which doesn't match the predicate, you can stop processing. Same for none. And <code>anyMatch</code> especially doesn't make sense to me, as it it pretty much equal to <code>findAny</code> (except for what is returned)?</p>\n<p>Saying that these three may not short-circuit, because it may take evaluating all the values, could also be said for <code>findFirst/Any</code>.</p>\n<p>Is there some fundamental difference I'm missing? Am I not really understanding what is going on?</p>\n"},{"tags":["java","servlets","jakarta-ee","multipartform-data","requestdispatcher"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686583760,"post_id":76457927,"comment_id":134815197,"body_markdown":"Chances are, there is no third servlet &quot;configured&quot; in web.xml , try putting that into web.xml but I&#39;m reasonably sure the app will throw a loading error for resource not found on application deploy loading (if there is no actual class installed).","body":"Chances are, there is no third servlet &quot;configured&quot; in web.xml , try putting that into web.xml but I&#39;m reasonably sure the app will throw a loading error for resource not found on application deploy loading (if there is no actual class installed)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686587351,"post_id":76457927,"comment_id":134816057,"body_markdown":"I would guess that the container checks if multipart handling is requested before the filter gets active, so in the cases that work, please check if the request coming into the filter is already prepared as a multipart request, and then if the same is true for the non-working configuration.","body":"I would guess that the container checks if multipart handling is requested before the filter gets active, so in the cases that work, please check if the request coming into the filter is already prepared as a multipart request, and then if the same is true for the non-working configuration."},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1686600972,"post_id":76457927,"comment_id":134818514,"body_markdown":"@SamuelMarchant I made sure there is nothing configured in the web.xml file and only used annotations. The web.xml file literally only has the XML version element and the root element &lt;web-app&gt; with its attributes and nothing inside it","body":"@SamuelMarchant I made sure there is nothing configured in the web.xml file and only used annotations. The web.xml file literally only has the XML version element and the root element &lt;web-app&gt; with its attributes and nothing inside it"},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1686602468,"post_id":76457927,"comment_id":134818783,"body_markdown":"@cyberbrain not sure what you exactly meant by checking the incoming request, I do the same check operations in the filter before sending them to the servlet, and same results in all cases, what ever happens when it gets to the servlet is the same in the Filter.\nHere is the source code if any one wants to test it out for them selves https://github.com/telos-matter/WeirdBehaviorInJEE","body":"@cyberbrain not sure what you exactly meant by checking the incoming request, I do the same check operations in the filter before sending them to the servlet, and same results in all cases, what ever happens when it gets to the servlet is the same in the Filter. Here is the source code if any one wants to test it out for them selves <a href=\"https://github.com/telos-matter/WeirdBehaviorInJEE\" rel=\"nofollow noreferrer\">github.com/telos-matter/WeirdBehaviorInJEE</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686620693,"post_id":76457927,"comment_id":134820819,"body_markdown":"There is certainly no third servlet after the container checks, nothing in its annotation list. I wouldn&#39;t quite call that a bug but it would understand it is running without the name of that servlet to index parameters to, alike null for the name of the map object (on a map of servlet names). Perhaps get all &quot;servlet names and look for a null keynamed servlet but somehow I don&#39;t see that being good practice in software writing.","body":"There is certainly no third servlet after the container checks, nothing in its annotation list. I wouldn&#39;t quite call that a bug but it would understand it is running without the name of that servlet to index parameters to, alike null for the name of the map object (on a map of servlet names). Perhaps get all &quot;servlet names and look for a null keynamed servlet but somehow I don&#39;t see that being good practice in software writing."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686621136,"post_id":76457927,"comment_id":134820867,"body_markdown":"ALSO ! In Tomcat , it is NOT J2EE compliant ! E.g. the application (war) is a &quot;ServletContext&quot; object , whereas in J2EE compliant servers, it is an &quot;ApplicationContext&quot;.  The commercial TomEE version of tomcat is J2EE compliant.","body":"ALSO ! In Tomcat , it is NOT J2EE compliant ! E.g. the application (war) is a &quot;ServletContext&quot; object , whereas in J2EE compliant servers, it is an &quot;ApplicationContext&quot;.  The commercial TomEE version of tomcat is J2EE compliant."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686639922,"post_id":76457927,"comment_id":134822711,"body_markdown":"@SamuelMarchant but Tomcat supports the Servlet Standard - it&#39;s even linked on the documentation homepage.","body":"@SamuelMarchant but Tomcat supports the Servlet Standard - it&#39;s even linked on the documentation homepage."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1686640042,"post_id":76457927,"comment_id":134822732,"body_markdown":"@telos In your failing configuration the container (Tomcat) cannot know that the servlet you want to access needs a multipart splitting, as you do not specify the target servlet at configuration time, but just redirect to it at runtime. So you can only access the body via the `InputStream` of the request.","body":"@telos In your failing configuration the container (Tomcat) cannot know that the servlet you want to access needs a multipart splitting, as you do not specify the target servlet at configuration time, but just redirect to it at runtime. So you can only access the body via the <code>InputStream</code> of the request."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686722887,"post_id":76457927,"comment_id":134836326,"body_markdown":"...&quot;Tomcat supports the Servlet Standard &quot;... True. You should understand in the filter whether your &quot;parameters&quot; existed, you filled in the form? If something is not &quot;registered&quot; it would be unwise practice to keep it anyhow. I find it valid to have any such problem to not be usable, it goes against all secure principals! In short, no matter the rejection , it is not a bug. Register it validly with the container app and service or it is to be treated as mistake or malware! In any case, you would want the BIND section of the server code to understand it and the Service object and Config.","body":"...&quot;Tomcat supports the Servlet Standard &quot;... True. You should understand in the filter whether your &quot;parameters&quot; existed, you filled in the form? If something is not &quot;registered&quot; it would be unwise practice to keep it anyhow. I find it valid to have any such problem to not be usable, it goes against all secure principals! In short, no matter the rejection , it is not a bug. Register it validly with the container app and service or it is to be treated as mistake or malware! In any case, you would want the BIND section of the server code to understand it and the Service object and Config."}],"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686602549,"creation_date":1686582023,"question_id":76457927,"body_markdown":"I came across this weird behavior in JEE and I don&#39;t know if it is an intended behavior or a bug, and I would like to know more about it if any of you have any knowledge about it, thank you in advance;\r\n\r\n# The behavior #\r\nWhen I send a multipart request to a non existing Servlet (i.e. I specify a non existing Servlet URL in the forms&#39; action) I&#39;m unable to retrieve the parameters or the parts, and I just get an empty map for the parameters and an empty collection for the parts\r\n\r\n# Setup #\r\nI have a main ```Filter``` in my web application mapped to intercept all request like so:\r\n```\r\n@WebFilter(&quot;/*&quot;)\r\npublic class Filter extends HttpFilter {\r\n```\r\nAnd two Servlet each mapped like so:\r\n```\r\n@WebServlet(&quot;/servA&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletA extends HttpServlet {\r\n```\r\nAnd\r\n```\r\n@WebServlet(&quot;/servB&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletB extends HttpServlet {\r\n```\r\nThe filter receives all the requests and *sends* them to one of the two Servlets, and then the Servlets try to retrieve the parameters and parts of the request\r\n\r\n# Tests #\r\nI tried multiple stuff to pinpoint the problem exactly and my experiments went like this\r\n\r\n## Sending the request trough ```chain.doFilter``` ##\r\nIn the forms&#39; action I specified, in the first time, the URL for the the first Servlet like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servA&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and in the ```Filter``` I call the ```chain.doFilter``` method and the process goes as expected, everything works fine and the Servlet is able to retrieve the parameters and parts sent with the form. Same thing for when I specify the second Servlet the second time like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servB&quot; enctype=&quot;multipart/form-data&quot;&gt;```, it works as expected. I also tried specifying a non existing Servlet like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and as expected I get a **404 - Not found** response.\r\nThis first test was done just to make sure everything is working fine, and that the ```@MultipartConfig``` annotations are well set and that everything is mapped correctly\r\n\r\n## Sending the request trough ```requestDispatcher.forward``` ##\r\nNow here is where the weird behavior occurs, at first I specify ```ServletA``` in the forms&#39; action and in the ```Filter``` I call ```request.getRequestDispatcher(&quot;/servA&quot;).forward(request, response);``` on the received requests, this works fine. I try the same thing with ```ServletB```, changing both the forms&#39; action and the requestDispatcher, also works fine.\r\n\r\nThen I specify ```ServletA``` in the forms&#39; action but in the ```Filter``` I forward the request to ```ServletB```, and everything works fine. ```ServletB``` is able to retrieve the parameters and the parts. Same thing when i reverse it, now specifying ```ServletB``` in the forms&#39; action but in the filter I forward it to ```ServletA```, it works just fine, ```ServletA``` is able to retrieve the parameters and parts even though the request was originally made to ```ServletB```\r\n\r\n**BUT** when I specify a non existing Servlet in the forms&#39; action, for example like so ```&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;``` and I forward it in ```Filter``` to either ```ServletA``` or ```ServletB``` they are both unable to retrieve the parameters or the parts and instead they just return an empty map when calling ```request.getParameterMap``` and an empty collection when calling ```request.getParts()```\r\n\r\n### Notes ###\r\nI tried this on Tomcat V10 and Glassfish V7 and I got the same results, which led me to believe that it is something to do with JEE specifications\r\n\r\nThat is the behavior I encountered, as I said, I would be thankful for  any informations about it or any leads or direction on where to read more about it, or maybe it&#39;s something else completely\r\n\r\n### Quick-**dirty**-fix ###\r\nI found a makeshift solution to this behavior that works for my case and for the way that made me encounter it in the first place, which is to simply declare another Servlet like so\r\n```\r\n@WebServlet(&quot;/*&quot;)\r\n@MultipartConfig(\r\n\t\tfileSizeThreshold = 1024 * 1024 * 1,\r\n\t\tmaxFileSize = 1024 * 1024 * 10,\r\n\t\tmaxRequestSize = 1024 * 1024 * 50\r\n\t\t)\r\npublic class ServletM extends HttpServlet {\r\n```\r\nand then forbid making any request to it, and continue using your normal Servlets\r\n\r\n### Source code ###\r\nHere is the [source code](https://github.com/telos-matter/WeirdBehaviorInJEE) if any one wants to try it out for themselves","title":"A bug or a feature in JEE when sending multipart requests to a non existing Servlet?","body":"<p>I came across this weird behavior in JEE and I don't know if it is an intended behavior or a bug, and I would like to know more about it if any of you have any knowledge about it, thank you in advance;</p>\n<h1>The behavior</h1>\n<p>When I send a multipart request to a non existing Servlet (i.e. I specify a non existing Servlet URL in the forms' action) I'm unable to retrieve the parameters or the parts, and I just get an empty map for the parameters and an empty collection for the parts</p>\n<h1>Setup</h1>\n<p>I have a main <code>Filter</code> in my web application mapped to intercept all request like so:</p>\n<pre><code>@WebFilter(&quot;/*&quot;)\npublic class Filter extends HttpFilter {\n</code></pre>\n<p>And two Servlet each mapped like so:</p>\n<pre><code>@WebServlet(&quot;/servA&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletA extends HttpServlet {\n</code></pre>\n<p>And</p>\n<pre><code>@WebServlet(&quot;/servB&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletB extends HttpServlet {\n</code></pre>\n<p>The filter receives all the requests and <em>sends</em> them to one of the two Servlets, and then the Servlets try to retrieve the parameters and parts of the request</p>\n<h1>Tests</h1>\n<p>I tried multiple stuff to pinpoint the problem exactly and my experiments went like this</p>\n<h2>Sending the request trough <code>chain.doFilter</code></h2>\n<p>In the forms' action I specified, in the first time, the URL for the the first Servlet like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servA&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and in the <code>Filter</code> I call the <code>chain.doFilter</code> method and the process goes as expected, everything works fine and the Servlet is able to retrieve the parameters and parts sent with the form. Same thing for when I specify the second Servlet the second time like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/servB&quot; enctype=&quot;multipart/form-data&quot;&gt;</code>, it works as expected. I also tried specifying a non existing Servlet like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and as expected I get a <strong>404 - Not found</strong> response.\nThis first test was done just to make sure everything is working fine, and that the <code>@MultipartConfig</code> annotations are well set and that everything is mapped correctly</p>\n<h2>Sending the request trough <code>requestDispatcher.forward</code></h2>\n<p>Now here is where the weird behavior occurs, at first I specify <code>ServletA</code> in the forms' action and in the <code>Filter</code> I call <code>request.getRequestDispatcher(&quot;/servA&quot;).forward(request, response);</code> on the received requests, this works fine. I try the same thing with <code>ServletB</code>, changing both the forms' action and the requestDispatcher, also works fine.</p>\n<p>Then I specify <code>ServletA</code> in the forms' action but in the <code>Filter</code> I forward the request to <code>ServletB</code>, and everything works fine. <code>ServletB</code> is able to retrieve the parameters and the parts. Same thing when i reverse it, now specifying <code>ServletB</code> in the forms' action but in the filter I forward it to <code>ServletA</code>, it works just fine, <code>ServletA</code> is able to retrieve the parameters and parts even though the request was originally made to <code>ServletB</code></p>\n<p><strong>BUT</strong> when I specify a non existing Servlet in the forms' action, for example like so <code>&lt;form method=&quot;post&quot; action=&quot;http://localhost:8080/TestBug/foo&quot; enctype=&quot;multipart/form-data&quot;&gt;</code> and I forward it in <code>Filter</code> to either <code>ServletA</code> or <code>ServletB</code> they are both unable to retrieve the parameters or the parts and instead they just return an empty map when calling <code>request.getParameterMap</code> and an empty collection when calling <code>request.getParts()</code></p>\n<h3>Notes</h3>\n<p>I tried this on Tomcat V10 and Glassfish V7 and I got the same results, which led me to believe that it is something to do with JEE specifications</p>\n<p>That is the behavior I encountered, as I said, I would be thankful for  any informations about it or any leads or direction on where to read more about it, or maybe it's something else completely</p>\n<h3>Quick-<strong>dirty</strong>-fix</h3>\n<p>I found a makeshift solution to this behavior that works for my case and for the way that made me encounter it in the first place, which is to simply declare another Servlet like so</p>\n<pre><code>@WebServlet(&quot;/*&quot;)\n@MultipartConfig(\n        fileSizeThreshold = 1024 * 1024 * 1,\n        maxFileSize = 1024 * 1024 * 10,\n        maxRequestSize = 1024 * 1024 * 50\n        )\npublic class ServletM extends HttpServlet {\n</code></pre>\n<p>and then forbid making any request to it, and continue using your normal Servlets</p>\n<h3>Source code</h3>\n<p>Here is the <a href=\"https://github.com/telos-matter/WeirdBehaviorInJEE\" rel=\"nofollow noreferrer\">source code</a> if any one wants to try it out for themselves</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686599208,"post_id":76459832,"comment_id":134818227,"body_markdown":"From your logs, it would seem that `takePictureIntent.resolveActivity(getPackageManager())` returns null since none of the log statements inside that `if` are output. So maybe there is no camera activity?","body":"From your logs, it would seem that <code>takePictureIntent.resolveActivity(getPackageManager())</code> returns null since none of the log statements inside that <code>if</code> are output. So maybe there is no camera activity?"},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686599634,"post_id":76459832,"comment_id":134818282,"body_markdown":"Hi @TylerV, for me the camera seemed to work just fine as it shows the activity in the emulator. I have updated the code for the methods I am using as well, also I have the permission in the manifest file &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;","body":"Hi @TylerV, for me the camera seemed to work just fine as it shows the activity in the emulator. I have updated the code for the methods I am using as well, also I have the permission in the manifest file &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1686599914,"post_id":76459832,"comment_id":134818326,"body_markdown":"You may find [this](https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture) relevant. Try removing that if-check on `takePictureIntent.resolveActivity(getPackageManager())` entirely and see what happens (if it fails, you will probably get a more useful error message).","body":"You may find <a href=\"https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture\">this</a> relevant. Try removing that if-check on <code>takePictureIntent.resolveActivity(getPackageManager())</code> entirely and see what happens (if it fails, you will probably get a more useful error message)."},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686600402,"post_id":76459832,"comment_id":134818401,"body_markdown":"@TylerV I tried to remove the if check and no errors were shown, nothing changed, same logs and all. :(","body":"@TylerV I tried to remove the if check and no errors were shown, nothing changed, same logs and all. :("},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686600769,"post_id":76459832,"comment_id":134818470,"body_markdown":"You have a log statement right after the &quot;if&quot; - it&#39;s not possible that it didn&#39;t output (the &quot;Method createImageFile called&quot; output). Update the code to show what you tried with the if-statement removed.","body":"You have a log statement right after the &quot;if&quot; - it&#39;s not possible that it didn&#39;t output (the &quot;Method createImageFile called&quot; output). Update the code to show what you tried with the if-statement removed."},{"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"score":0,"creation_date":1686602273,"post_id":76459832,"comment_id":134818743,"body_markdown":"@TylerV I have update the code with the information provided in https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture","body":"@TylerV I have update the code with the information provided in <a href=\"https://stackoverflow.com/questions/49435522/error-no-activity-found-to-handle-intent-act-android-media-action-image-capture\" title=\"error no activity found to handle intent act android media action image capture\">stackoverflow.com/questions/49435522/&hellip;</a>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1686609276,"post_id":76459832,"comment_id":134819725,"body_markdown":"But you haven&#39;t updated the logs, you still have the `resolveActivity` if-statement, and now `dispatchTakePictureIntent` doesn&#39;t have the log statements it had previously. A lot of things could cause it to not launch the intent (`resolveActivity` returning null, `photoFile` being null) - you need to figure out which of those it&#39;s hitting and ask a *specific* question about it.","body":"But you haven&#39;t updated the logs, you still have the <code>resolveActivity</code> if-statement, and now <code>dispatchTakePictureIntent</code> doesn&#39;t have the log statements it had previously. A lot of things could cause it to not launch the intent (<code>resolveActivity</code> returning null, <code>photoFile</code> being null) - you need to figure out which of those it&#39;s hitting and ask a <i>specific</i> question about it."}],"owner":{"account_id":28807335,"reputation":1,"user_id":22062902,"display_name":"Cosmina"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686602198,"creation_date":1686598967,"question_id":76459832,"body_markdown":"I have been working on a facial expression detection application using Android Studio with java and I have a few issues that I can&#39;t figure out.\r\n\r\nShortly, this application uses the camera to take a picture, display it in image_view and then run the facial expression detection. My main issue is that when I press the button nothing happens. I have added logs for my methods but only the ones inside the captureButton seem to appear in Logcat. Could you help me understand why is this happening? Why it doesn&#39;t capture the image and then display it in image_view?\r\n\r\nThis is my MainActivity.java file (I have a few more methods I did not attach that concern the camera view / usage / permission but I excluded them as I don&#39;t think they are relevant for this issue, that part works just fine)\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\r\n\r\n    private static final int REQUEST_IMAGE_CAPTURE = 1;\r\n    private static final int REQUEST_PERMISSIONS = 2;\r\n\r\n    private Camera camera;\r\n    private ImageView imageView;\r\n    private TextView resultTextView;\r\n    private SurfaceView cameraPreview;\r\n    private String currentPhotoPath;\r\n\r\n    private MultiLayerNetwork neuralNetwork;\r\n    private Bitmap imageBitmap;\r\n\r\n    Button captureButton;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        Log.d(&quot;onCreateMethod&quot;, &quot;Start the onCreate method&quot;);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        captureButton = findViewById(R.id.capture_button);\r\n        imageView = findViewById(R.id.image_view);\r\n        resultTextView = findViewById(R.id.result_text_view);\r\n        cameraPreview = findViewById(R.id.camera_preview);\r\n        cameraPreview.getHolder().addCallback(this);\r\n\r\n\r\n        captureButton.setOnClickListener(v -&gt; {\r\n            // Check if the camera permission is granted\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                // Request the camera permission\r\n                ActivityCompat.requestPermissions(MainActivity.this,\r\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_PERMISSIONS);\r\n            } else {\r\n                // Launch the camera activity\r\n\r\n                Log.d(&quot;dispatchInButton&quot;, &quot;Dispatch intent in button activity&quot;);\r\n                dispatchTakePictureIntent();\r\n                Log.d(&quot;Button&quot;, &quot;Capture button clicked&quot;);\r\n            }\r\n        });\r\n\r\n        // Load the neural network from the saved model\r\n        try {\r\n            neuralNetwork = ModelSerializer.restoreMultiLayerNetwork(getAssets().open(&quot;model.zip&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n   private File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File imageFile = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n\r\n        // Save a file path for use with ACTION_VIEW intents\r\n        currentPhotoPath = imageFile.getAbsolutePath();\r\n        return imageFile;\r\n    }\r\n\r\n    private void dispatchTakePictureIntent() {\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\r\n        // Ensure that there&#39;s a camera activity to handle the intent\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n            // Create the File where the photo should go\r\n            File photoFile = null;\r\n            try {\r\n                photoFile = createImageFile();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            // Continue only if the File was successfully created\r\n            if (photoFile != null) {\r\n                Uri photoURI = FileProvider.getUriForFile(MainActivity.this, &quot;com.example.newact.fileprovider&quot;, photoFile);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n\r\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\r\n            // Load the captured image from file path\r\n            Bundle extras = data.getExtras();\r\n            Bitmap capturedImage = (Bitmap) extras.get(&quot;data&quot;);\r\n           // Bitmap capturedImage = BitmapFactory.decodeFile(currentPhotoPath);\r\n            Log.d(&quot;onActivRes&quot;, &quot;begin onActivRes method&quot;);\r\n            // Display the captured image\r\n            imageView.setImageBitmap(capturedImage);\r\n\r\n            // Recognize the facial expression\r\n            FacialExpressionRecognizer recognizer = new FacialExpressionRecognizer(neuralNetwork);\r\n            String expression = recognizer.recognize(capturedImage);\r\n\r\n            // Display the recognized expression\r\n            resultTextView.setText(&quot;Recognized expression: &quot; + expression);\r\n\r\n            // Save the image and recognized expression to Firebase Storage and Firestore\r\n            FirebaseImageUploader.uploadImage(capturedImage, new FirebaseImageUploader.ImageUploadCallback() {\r\n                @Override\r\n                public void onImageUploaded(String imageUrl) {\r\n                    // Save the timestamp and recognized expression to Firestore\r\n                    FirebaseExpressionSaver expressionSaver = new FirebaseExpressionSaver();\r\n                    expressionSaver.saveExpression(expression, new FirebaseExpressionSaver.ExpressionSaveCallback() {\r\n                        @Override\r\n                        public void onExpressionSaved() {\r\n                            // Expression save successful\r\n                            Toast.makeText(MainActivity.this, &quot;Expression saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onExpressionSaveFailed(Exception e) {\r\n                            // Expression save failed\r\n                            Toast.makeText(MainActivity.this, &quot;Failed to save expression to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onSuccess() {\r\n                            // Handle the successful saving of the expression here\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Exception e) {\r\n                            // Handle the failure of saving the expression here\r\n                        }\r\n                    });\r\n                }\r\n\r\n                @Override\r\n                public void onImageUploadFailed(Exception e) {\r\n                    // Image upload failed\r\n                    Toast.makeText(MainActivity.this, &quot;Failed to upload image to Firebase&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                @Override\r\n                public void onSuccess(String imageUrl) {\r\n                    // Handle the successful upload of the image here\r\n                }\r\n                @Override\r\n                public void onFailure(Exception e) {\r\n                    // Handle the failure of the image upload here\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n```\r\n\r\nPlease let me know your input on this!\r\n\r\n\r\nI have been trying to use logs and see what works and where it stops, but I have come as far as this:\r\n\r\n(https://i.stack.imgur.com/9GJF8.png)\r\n\r\nAdded the other methods in the MainActivity.java as well:\r\n\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_PERMISSIONS) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted, launch the camera activity\r\n                dispatchTakePictureIntent();\r\n            } else {\r\n                // Permission denied, show a message or handle the case accordingly\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        try {\r\n            camera = Camera.open();\r\n            setCameraDisplayOrientation();\r\n            camera.setPreviewDisplay(holder);\r\n            camera.startPreview();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void setCameraDisplayOrientation() {\r\n        Camera.CameraInfo info = new Camera.CameraInfo();\r\n        Camera.getCameraInfo(Camera.CameraInfo.CAMERA_FACING_BACK, info);\r\n        int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n        int degrees = 0;\r\n        switch (rotation) {\r\n            case Surface.ROTATION_0:\r\n                degrees = 0;\r\n                break;\r\n            case Surface.ROTATION_90:\r\n                degrees = 90;\r\n                break;\r\n            case Surface.ROTATION_180:\r\n                degrees = 180;\r\n                break;\r\n            case Surface.ROTATION_270:\r\n                degrees = 270;\r\n                break;\r\n        }\r\n        int result;\r\n        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\r\n            result = (info.orientation + degrees) % 360;\r\n            result = (360 - result) % 360; // compensate for the mirror effect\r\n        } else {\r\n            result = (info.orientation - degrees + 360) % 360;\r\n        }\r\n        camera.setDisplayOrientation(result);\r\n    }\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n        if (camera != null) {\r\n            // Stop the preview\r\n            camera.stopPreview();\r\n\r\n            // Set the camera parameters\r\n            Camera.Parameters parameters = camera.getParameters();\r\n            Camera.Size optimalSize = getOptimalPreviewSize(parameters.getSupportedPreviewSizes(), width, height);\r\n            parameters.setPreviewSize(optimalSize.width, optimalSize.height);\r\n\r\n            // Rotate the camera preview by 0 degrees to the right\r\n            camera.setDisplayOrientation(0);\r\n\r\n            // Apply the updated parameters\r\n            camera.setParameters(parameters);\r\n\r\n            // Start the preview\r\n            camera.startPreview();\r\n        }\r\n    }\r\n\r\n    private Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; supportedPreviewSizes, int width, int height) {\r\n        final double ASPECT_TOLERANCE = 0.1;\r\n        double targetRatio = (double) width / height;\r\n\r\n        Camera.Size optimalSize = null;\r\n        double minDiff = Double.MAX_VALUE;\r\n\r\n        for (Camera.Size size : supportedPreviewSizes) {\r\n            double ratio = (double) size.width / size.height;\r\n            if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE)\r\n                continue;\r\n\r\n            double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\r\n            if (diff &lt; minDiff) {\r\n                optimalSize = size;\r\n                minDiff = diff;\r\n            }\r\n        }\r\n\r\n        if (optimalSize == null) {\r\n            minDiff = Double.MAX_VALUE;\r\n            for (Camera.Size size : supportedPreviewSizes) {\r\n                double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\r\n                if (diff &lt; minDiff) {\r\n                    optimalSize = size;\r\n                    minDiff = diff;\r\n                }\r\n            }\r\n        }\r\n\r\n        return optimalSize;\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(SurfaceHolder holder) {\r\n        if (camera != null) {\r\n            camera.stopPreview();\r\n            camera.release();\r\n            camera = null;\r\n        }\r\n    }\r\n\r\n","title":"Facial Expression Detection App - button not working as desired, no error message","body":"<p>I have been working on a facial expression detection application using Android Studio with java and I have a few issues that I can't figure out.</p>\n<p>Shortly, this application uses the camera to take a picture, display it in image_view and then run the facial expression detection. My main issue is that when I press the button nothing happens. I have added logs for my methods but only the ones inside the captureButton seem to appear in Logcat. Could you help me understand why is this happening? Why it doesn't capture the image and then display it in image_view?</p>\n<p>This is my MainActivity.java file (I have a few more methods I did not attach that concern the camera view / usage / permission but I excluded them as I don't think they are relevant for this issue, that part works just fine)</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\n\n    private static final int REQUEST_IMAGE_CAPTURE = 1;\n    private static final int REQUEST_PERMISSIONS = 2;\n\n    private Camera camera;\n    private ImageView imageView;\n    private TextView resultTextView;\n    private SurfaceView cameraPreview;\n    private String currentPhotoPath;\n\n    private MultiLayerNetwork neuralNetwork;\n    private Bitmap imageBitmap;\n\n    Button captureButton;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        Log.d(&quot;onCreateMethod&quot;, &quot;Start the onCreate method&quot;);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        captureButton = findViewById(R.id.capture_button);\n        imageView = findViewById(R.id.image_view);\n        resultTextView = findViewById(R.id.result_text_view);\n        cameraPreview = findViewById(R.id.camera_preview);\n        cameraPreview.getHolder().addCallback(this);\n\n\n        captureButton.setOnClickListener(v -&gt; {\n            // Check if the camera permission is granted\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA)\n                    != PackageManager.PERMISSION_GRANTED) {\n                // Request the camera permission\n                ActivityCompat.requestPermissions(MainActivity.this,\n                        new String[]{Manifest.permission.CAMERA}, REQUEST_PERMISSIONS);\n            } else {\n                // Launch the camera activity\n\n                Log.d(&quot;dispatchInButton&quot;, &quot;Dispatch intent in button activity&quot;);\n                dispatchTakePictureIntent();\n                Log.d(&quot;Button&quot;, &quot;Capture button clicked&quot;);\n            }\n        });\n\n        // Load the neural network from the saved model\n        try {\n            neuralNetwork = ModelSerializer.restoreMultiLayerNetwork(getAssets().open(&quot;model.zip&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n   private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File imageFile = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n\n        // Save a file path for use with ACTION_VIEW intents\n        currentPhotoPath = imageFile.getAbsolutePath();\n        return imageFile;\n    }\n\n    private void dispatchTakePictureIntent() {\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n\n        // Ensure that there's a camera activity to handle the intent\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n            // Create the File where the photo should go\n            File photoFile = null;\n            try {\n                photoFile = createImageFile();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n            // Continue only if the File was successfully created\n            if (photoFile != null) {\n                Uri photoURI = FileProvider.getUriForFile(MainActivity.this, &quot;com.example.newact.fileprovider&quot;, photoFile);\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n            }\n        }\n    }\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n            // Load the captured image from file path\n            Bundle extras = data.getExtras();\n            Bitmap capturedImage = (Bitmap) extras.get(&quot;data&quot;);\n           // Bitmap capturedImage = BitmapFactory.decodeFile(currentPhotoPath);\n            Log.d(&quot;onActivRes&quot;, &quot;begin onActivRes method&quot;);\n            // Display the captured image\n            imageView.setImageBitmap(capturedImage);\n\n            // Recognize the facial expression\n            FacialExpressionRecognizer recognizer = new FacialExpressionRecognizer(neuralNetwork);\n            String expression = recognizer.recognize(capturedImage);\n\n            // Display the recognized expression\n            resultTextView.setText(&quot;Recognized expression: &quot; + expression);\n\n            // Save the image and recognized expression to Firebase Storage and Firestore\n            FirebaseImageUploader.uploadImage(capturedImage, new FirebaseImageUploader.ImageUploadCallback() {\n                @Override\n                public void onImageUploaded(String imageUrl) {\n                    // Save the timestamp and recognized expression to Firestore\n                    FirebaseExpressionSaver expressionSaver = new FirebaseExpressionSaver();\n                    expressionSaver.saveExpression(expression, new FirebaseExpressionSaver.ExpressionSaveCallback() {\n                        @Override\n                        public void onExpressionSaved() {\n                            // Expression save successful\n                            Toast.makeText(MainActivity.this, &quot;Expression saved to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onExpressionSaveFailed(Exception e) {\n                            // Expression save failed\n                            Toast.makeText(MainActivity.this, &quot;Failed to save expression to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onSuccess() {\n                            // Handle the successful saving of the expression here\n                        }\n\n                        @Override\n                        public void onFailure(Exception e) {\n                            // Handle the failure of saving the expression here\n                        }\n                    });\n                }\n\n                @Override\n                public void onImageUploadFailed(Exception e) {\n                    // Image upload failed\n                    Toast.makeText(MainActivity.this, &quot;Failed to upload image to Firebase&quot;, Toast.LENGTH_SHORT).show();\n                }\n                @Override\n                public void onSuccess(String imageUrl) {\n                    // Handle the successful upload of the image here\n                }\n                @Override\n                public void onFailure(Exception e) {\n                    // Handle the failure of the image upload here\n                }\n            });\n        }\n    }\n\n</code></pre>\n<p>Please let me know your input on this!</p>\n<p>I have been trying to use logs and see what works and where it stops, but I have come as far as this:</p>\n<p>(<a href=\"https://i.stack.imgur.com/9GJF8.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9GJF8.png</a>)</p>\n<p>Added the other methods in the MainActivity.java as well:</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    if (requestCode == REQUEST_PERMISSIONS) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            // Permission granted, launch the camera activity\n            dispatchTakePictureIntent();\n        } else {\n            // Permission denied, show a message or handle the case accordingly\n            Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    try {\n        camera = Camera.open();\n        setCameraDisplayOrientation();\n        camera.setPreviewDisplay(holder);\n        camera.startPreview();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void setCameraDisplayOrientation() {\n    Camera.CameraInfo info = new Camera.CameraInfo();\n    Camera.getCameraInfo(Camera.CameraInfo.CAMERA_FACING_BACK, info);\n    int rotation = getWindowManager().getDefaultDisplay().getRotation();\n    int degrees = 0;\n    switch (rotation) {\n        case Surface.ROTATION_0:\n            degrees = 0;\n            break;\n        case Surface.ROTATION_90:\n            degrees = 90;\n            break;\n        case Surface.ROTATION_180:\n            degrees = 180;\n            break;\n        case Surface.ROTATION_270:\n            degrees = 270;\n            break;\n    }\n    int result;\n    if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\n        result = (info.orientation + degrees) % 360;\n        result = (360 - result) % 360; // compensate for the mirror effect\n    } else {\n        result = (info.orientation - degrees + 360) % 360;\n    }\n    camera.setDisplayOrientation(result);\n}\n\n@Override\npublic void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n    if (camera != null) {\n        // Stop the preview\n        camera.stopPreview();\n\n        // Set the camera parameters\n        Camera.Parameters parameters = camera.getParameters();\n        Camera.Size optimalSize = getOptimalPreviewSize(parameters.getSupportedPreviewSizes(), width, height);\n        parameters.setPreviewSize(optimalSize.width, optimalSize.height);\n\n        // Rotate the camera preview by 0 degrees to the right\n        camera.setDisplayOrientation(0);\n\n        // Apply the updated parameters\n        camera.setParameters(parameters);\n\n        // Start the preview\n        camera.startPreview();\n    }\n}\n\nprivate Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; supportedPreviewSizes, int width, int height) {\n    final double ASPECT_TOLERANCE = 0.1;\n    double targetRatio = (double) width / height;\n\n    Camera.Size optimalSize = null;\n    double minDiff = Double.MAX_VALUE;\n\n    for (Camera.Size size : supportedPreviewSizes) {\n        double ratio = (double) size.width / size.height;\n        if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE)\n            continue;\n\n        double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\n        if (diff &lt; minDiff) {\n            optimalSize = size;\n            minDiff = diff;\n        }\n    }\n\n    if (optimalSize == null) {\n        minDiff = Double.MAX_VALUE;\n        for (Camera.Size size : supportedPreviewSizes) {\n            double diff = Math.abs(size.width - width) + Math.abs(size.height - height);\n            if (diff &lt; minDiff) {\n                optimalSize = size;\n                minDiff = diff;\n            }\n        }\n    }\n\n    return optimalSize;\n}\n\n@Override\npublic void surfaceDestroyed(SurfaceHolder holder) {\n    if (camera != null) {\n        camera.stopPreview();\n        camera.release();\n        camera = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","networking"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1318072550,"post_id":7685439,"comment_id":9357755,"body_markdown":"For what purpose? If there is a server there you want to connect to, just try to connect.","body":"For what purpose? If there is a server there you want to connect to, just try to connect."}],"answers":[{"tags":[],"owner":{"account_id":434913,"reputation":3251,"user_id":821202,"display_name":"michael667"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1317980324,"creation_date":1317980324,"answer_id":7685485,"question_id":7685439,"body_markdown":"`InetAddress.getByName(host).isReachable(timeOut)` (seen [here][1])\r\n\r\n\r\n  [1]: http://tech.gaeatimes.com/index.php/archive/how-to-do-icmp-ping-in-java-jdk-15-and-above/","title":"How to test if a remote system is reachable","body":"<p><code>InetAddress.getByName(host).isReachable(timeOut)</code> (seen <a href=\"http://tech.gaeatimes.com/index.php/archive/how-to-do-icmp-ping-in-java-jdk-15-and-above/\">here</a>)</p>\n"},{"tags":[],"owner":{"account_id":956700,"reputation":1117,"user_id":981868,"display_name":"andypandy"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1317980330,"creation_date":1317980330,"answer_id":7685486,"question_id":7685439,"body_markdown":"    InetAddress.getByName(ip).isReachable(timeout);","title":"How to test if a remote system is reachable","body":"<pre><code>InetAddress.getByName(ip).isReachable(timeout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":348869,"reputation":1910,"user_id":683825,"accept_rate":100,"display_name":"Paul Cager"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317981298,"creation_date":1317981298,"answer_id":7685647,"question_id":7685439,"body_markdown":"It looks like you are using Linux so you will probably find that *isReachable()* is unreliable (because you will not have permissions to send ICMP packets, and very few servers have the Echo service running).\r\n\r\nIf that is the case then I think you *will* need to use spawn a Process in the way you suggest, but I recommend using a command like:\r\n  \r\n\r\n       ping -c 1 hostname\r\n\r\nThis will terminate after one attempt and you can then examine the exit status of the process - much more reliable than parsing standard output.\r\n\r\nPing returns 0 for success non-zero on failure.","title":"How to test if a remote system is reachable","body":"<p>It looks like you are using Linux so you will probably find that <em>isReachable()</em> is unreliable (because you will not have permissions to send ICMP packets, and very few servers have the Echo service running).</p>\n\n<p>If that is the case then I think you <em>will</em> need to use spawn a Process in the way you suggest, but I recommend using a command like:</p>\n\n<pre><code>   ping -c 1 hostname\n</code></pre>\n\n<p>This will terminate after one attempt and you can then examine the exit status of the process - much more reliable than parsing standard output.</p>\n\n<p>Ping returns 0 for success non-zero on failure.</p>\n"},{"tags":[],"owner":{"account_id":3943896,"reputation":2232,"user_id":3257288,"accept_rate":83,"display_name":"Alpha2k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511194291,"creation_date":1511194291,"answer_id":47396333,"question_id":7685439,"body_markdown":"I know this question has found its answer but I&#39;d like to add my code just for &quot;copy-paste&quot;. \r\n\r\n    public boolean isIpReachable(String ip, int timeout){\r\n        boolean state = false;\r\n        \r\n        try {\r\n            state = InetAddress.getByName(ip).isReachable(timeout);\r\n        } catch (IOException e) {\r\n            //Parse error here\r\n        }\r\n        \r\n        return state;\r\n    }","title":"How to test if a remote system is reachable","body":"<p>I know this question has found its answer but I'd like to add my code just for \"copy-paste\". </p>\n\n<pre><code>public boolean isIpReachable(String ip, int timeout){\n    boolean state = false;\n\n    try {\n        state = InetAddress.getByName(ip).isReachable(timeout);\n    } catch (IOException e) {\n        //Parse error here\n    }\n\n    return state;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905829,"reputation":528,"user_id":940759,"display_name":"sedrakpc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686602052,"creation_date":1657681270,"answer_id":72960447,"question_id":7685439,"body_markdown":"From my experience there is no 100% reliable way to do this you have to chose by trying multiple options or combining them, but **isReachable()** can&#39;t be used as reliable option. Better pure java option I think will be something like this:\r\n\r\n    private static boolean isReachable(String host, int openPort, int timeOutMillis) {\r\n        try {\r\n            try (Socket soc = new Socket()) {\r\n                soc.connect(new InetSocketAddress(host, openPort), timeOutMillis);\r\n            }\r\n            return true;\r\n        } catch (IOException ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nAnd if you want to check if host is accessible via web/browser here is it:\r\n\r\n    private static boolean hostsWebApp(String host, int timeOutMillis) {\r\n        boolean isReachable = isReachable(host, 80, timeOutMillis);\r\n        if(!isReachable) {\r\n            return isReachable(host, 443, timeOutMillis);\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n ","title":"How to test if a remote system is reachable","body":"<p>From my experience there is no 100% reliable way to do this you have to chose by trying multiple options or combining them, but <strong>isReachable()</strong> can't be used as reliable option. Better pure java option I think will be something like this:</p>\n<pre><code>private static boolean isReachable(String host, int openPort, int timeOutMillis) {\n    try {\n        try (Socket soc = new Socket()) {\n            soc.connect(new InetSocketAddress(host, openPort), timeOutMillis);\n        }\n        return true;\n    } catch (IOException ex) {\n        return false;\n    }\n}\n</code></pre>\n<p>And if you want to check if host is accessible via web/browser here is it:</p>\n<pre><code>private static boolean hostsWebApp(String host, int timeOutMillis) {\n    boolean isReachable = isReachable(host, 80, timeOutMillis);\n    if(!isReachable) {\n        return isReachable(host, 443, timeOutMillis);\n    } else {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":208350,"reputation":4199,"user_id":458770,"accept_rate":80,"display_name":"strauberry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39080,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7685486,"answer_count":5,"score":24,"last_activity_date":1686602052,"creation_date":1317980098,"question_id":7685439,"body_markdown":"I want to test whether a remote system is reachable using Java or in other words &quot;send a ping&quot; using Java. This functionality should be encapsulated in a method with boolean value, for example\r\n\r\n    public boolean isReachable(String ip) {\r\n       // what to do :-)\r\n    }\r\n\r\nI&#39;ve tested the Java Process class, but I don&#39;t think that it is the best way to do this, because of the complex output handling with OutputBuffers.\r\n\r\n    Process proc = Runtime.getRuntime().exec(&quot;ping &quot; + ip);\r\n\r\nAnother possibility would be creating a Socket Connection and handle thrown exceptions, but if the remote system is a &quot;naked&quot; unix system, there might be no Socket on the other side :-) Additionally, I&#39;d like to be able to set a timeout, when a remote system is not reachable.\r\n\r\nSo how could I do this? Thank you!","title":"How to test if a remote system is reachable","body":"<p>I want to test whether a remote system is reachable using Java or in other words \"send a ping\" using Java. This functionality should be encapsulated in a method with boolean value, for example</p>\n\n<pre><code>public boolean isReachable(String ip) {\n   // what to do :-)\n}\n</code></pre>\n\n<p>I've tested the Java Process class, but I don't think that it is the best way to do this, because of the complex output handling with OutputBuffers.</p>\n\n<pre><code>Process proc = Runtime.getRuntime().exec(\"ping \" + ip);\n</code></pre>\n\n<p>Another possibility would be creating a Socket Connection and handle thrown exceptions, but if the remote system is a \"naked\" unix system, there might be no Socket on the other side :-) Additionally, I'd like to be able to set a timeout, when a remote system is not reachable.</p>\n\n<p>So how could I do this? Thank you!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1685333764,"post_id":76354589,"comment_id":134641937,"body_markdown":"what is your spring-boot version and which dependency are you using for swagger? please update your question with this information.","body":"what is your spring-boot version and which dependency are you using for swagger? please update your question with this information."},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1685334090,"post_id":76354589,"comment_id":134641964,"body_markdown":"@Abhishek I&#39;m using spring-boot 3.0.6 and I updated the question, adding the dependency.","body":"@Abhishek I&#39;m using spring-boot 3.0.6 and I updated the question, adding the dependency."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":1,"creation_date":1685336495,"post_id":76354589,"comment_id":134642200,"body_markdown":"I&#39;ll suggest to use only one dependency which is &#39;springdoc-openapi-starter-webmvc-ui&#39; and no additional configuration is needed so you can remove code from SpringFoxConfig class.  https://springdoc.org/v2/#spring-webmvc-support","body":"I&#39;ll suggest to use only one dependency which is &#39;springdoc-openapi-starter-webmvc-ui&#39; and no additional configuration is needed so you can remove code from SpringFoxConfig class.  <a href=\"https://springdoc.org/v2/#spring-webmvc-support\" rel=\"nofollow noreferrer\">springdoc.org/v2/#spring-webmvc-support</a>"}],"answers":[{"tags":[],"owner":{"account_id":21918271,"reputation":83,"user_id":16201869,"display_name":"Alf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686601461,"creation_date":1686601461,"answer_id":76460083,"question_id":76354589,"body_markdown":"This seems to be a bug in springdoc. The dependency cycle occurs if you have configured SwaggerUi programmatically as shown in the [documentation][1], or if you have configured SpringDoc programmatically and moved the SwaggerUi config to the `application.properties`. I&#39;ve recently (yesterday) [raised an issue][2] on this topic.\r\n\r\nCurrent **workaround** is to define all configurations in the `application.properties`.\r\n```\r\nspringdoc.packages-to-scan=com.example.desafiobackvotos.controller\r\nspringdoc.swagger-ui.config-url=/v3/api-docs/swagger-config\r\nspringdoc.swagger-ui.url=/v3/api-docs\r\n```\r\nBe aware that some configurations you want to set are the [defaults][3] and you should use the `springdoc-openapi-starter-webmvc-ui` dependency ([Springdoc Getting Started][4]) as [@Abhishek][5] has already pointed out.\r\n\r\n\r\n  [1]: https://springdoc.org/v2/#how-can-i-set-swagger-properties-programmatically\r\n  [2]: https://github.com/springdoc/springdoc-openapi/issues/2259\r\n  [3]: https://springdoc.org/v2/#swagger-ui-properties\r\n  [4]: https://springdoc.org/v2/#getting-started\r\n  [5]: https://stackoverflow.com/users/7012221/abhishek","title":"How to fix the circular dependency?","body":"<p>This seems to be a bug in springdoc. The dependency cycle occurs if you have configured SwaggerUi programmatically as shown in the <a href=\"https://springdoc.org/v2/#how-can-i-set-swagger-properties-programmatically\" rel=\"nofollow noreferrer\">documentation</a>, or if you have configured SpringDoc programmatically and moved the SwaggerUi config to the <code>application.properties</code>. I've recently (yesterday) <a href=\"https://github.com/springdoc/springdoc-openapi/issues/2259\" rel=\"nofollow noreferrer\">raised an issue</a> on this topic.</p>\n<p>Current <strong>workaround</strong> is to define all configurations in the <code>application.properties</code>.</p>\n<pre><code>springdoc.packages-to-scan=com.example.desafiobackvotos.controller\nspringdoc.swagger-ui.config-url=/v3/api-docs/swagger-config\nspringdoc.swagger-ui.url=/v3/api-docs\n</code></pre>\n<p>Be aware that some configurations you want to set are the <a href=\"https://springdoc.org/v2/#swagger-ui-properties\" rel=\"nofollow noreferrer\">defaults</a> and you should use the <code>springdoc-openapi-starter-webmvc-ui</code> dependency (<a href=\"https://springdoc.org/v2/#getting-started\" rel=\"nofollow noreferrer\">Springdoc Getting Started</a>) as <a href=\"https://stackoverflow.com/users/7012221/abhishek\">@Abhishek</a> has already pointed out.</p>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686601461,"creation_date":1685332514,"question_id":76354589,"body_markdown":"I&#39;m developing an application and I&#39;m having issue with circular dependency in my Swagger class.  \r\nEven setting the ```circular-references``` as true, I still getting error.\r\n\r\nThis the code:\r\n```\r\n    private static final String SWAGGER_CONFIG = &quot;/v3/api-docs/swagger-config&quot;;\r\n    private static final String SWAGGER_URL = &quot;/v3/api-docs&quot;;\r\n    private static final List&lt;String&gt; CONTROLLER_PACKAGES =\r\n            List.of(&quot;com.example.desafiobackvotos.controller&quot;);\r\n\r\n    @Bean\r\n    @Primary\r\n    public SpringDocConfigProperties springDocConfig(SpringDocConfigProperties config){\r\n        config.setPackagesToScan(CONTROLLER_PACKAGES);\r\n        return config;\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public SwaggerUiConfigProperties swaggerUiConfig(SwaggerUiConfigProperties config){\r\n        config.setConfigUrl(SWAGGER_CONFIG);\r\n        config.setUrl(SWAGGER_URL);\r\n        return config;\r\n    }\r\n```\r\n\r\nAnd this is the error:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌──-&gt;──┐\r\n|  springDocConfig defined in class path resource [com/example/desafiobackvotos/config/SpringFoxConfig.class]\r\n└──&lt;-──┘\r\n\r\n\r\nAction:\r\n\r\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nI&#39;m using ```spring-boot``` 3.0.6 and this dependency in pom:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n``     ","title":"How to fix the circular dependency?","body":"<p>I'm developing an application and I'm having issue with circular dependency in my Swagger class.<br />\nEven setting the <code>circular-references</code> as true, I still getting error.</p>\n<p>This the code:</p>\n<pre><code>    private static final String SWAGGER_CONFIG = &quot;/v3/api-docs/swagger-config&quot;;\n    private static final String SWAGGER_URL = &quot;/v3/api-docs&quot;;\n    private static final List&lt;String&gt; CONTROLLER_PACKAGES =\n            List.of(&quot;com.example.desafiobackvotos.controller&quot;);\n\n    @Bean\n    @Primary\n    public SpringDocConfigProperties springDocConfig(SpringDocConfigProperties config){\n        config.setPackagesToScan(CONTROLLER_PACKAGES);\n        return config;\n    }\n\n    @Bean\n    @Primary\n    public SwaggerUiConfigProperties swaggerUiConfig(SwaggerUiConfigProperties config){\n        config.setConfigUrl(SWAGGER_CONFIG);\n        config.setUrl(SWAGGER_URL);\n        return config;\n    }\n</code></pre>\n<p>And this is the error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌──-&gt;──┐\n|  springDocConfig defined in class path resource [com/example/desafiobackvotos/config/SpringFoxConfig.class]\n└──&lt;-──┘\n\n\nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>I'm using <code>spring-boot</code> 3.0.6 and this dependency in pom:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.15&lt;/version&gt;\n        &lt;/dependency&gt;\n``     \n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1686039313,"post_id":76412625,"comment_id":134740773,"body_markdown":"you can try `https:\\/\\/[a-z]*.com`, the `*` means any number of tokens","body":"you can try <code>https:\\&#47;\\&#47;[a-z]*.com</code>, the <code>*</code> means any number of tokens"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686039435,"post_id":76412625,"comment_id":134740795,"body_markdown":"`[a-z]` will indeed only match one character. That matches the spec.","body":"<code>[a-z]</code> will indeed only match one character. That matches the spec."},{"owner":{"account_id":8809168,"reputation":5,"user_id":6582722,"display_name":"SBW"},"score":0,"creation_date":1686040524,"post_id":76412625,"comment_id":134741010,"body_markdown":"@Bentaye It is working I was missing *  Thank you","body":"@Bentaye It is working I was missing *  Thank you"}],"answers":[{"tags":[],"owner":{"account_id":28751477,"reputation":134,"user_id":22019464,"display_name":"Chander Parkash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686056722,"creation_date":1686056722,"answer_id":76414960,"question_id":76412625,"body_markdown":"try this as your pattern for the response you want this will be good.\r\n\r\n    https:\\\\/\\\\/\\\\w+\\\\.com","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>try this as your pattern for the response you want this will be good.</p>\n<pre><code>https:\\\\/\\\\/\\\\w+\\\\.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686601291,"creation_date":1686601291,"answer_id":76460073,"question_id":76412625,"body_markdown":"The reason it is only matching the first character is because you haven&#39;t specified a _quantifier_.\r\n\r\nThus, a _character class_ will only match one character, of the specified values.\r\n\r\n```none\r\nhttps://[a-z]+(?:\\.[a-z]+)+\r\n```\r\n\r\nThis is matching an _a-z_ character, one or more, followed by a repeating pattern of, a single dot character, an _a-z_ character, one more.\r\n\r\nFor example, this will match these values.\r\n\r\n```none\r\nhttps://example.com\r\nhttps://abc.example.com\r\nhttps://www.abc.example.com\r\n```","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>The reason it is only matching the first character is because you haven't specified a <em>quantifier</em>.</p>\n<p>Thus, a <em>character class</em> will only match one character, of the specified values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://[a-z]+(?:\\.[a-z]+)+\n</code></pre>\n<p>This is matching an <em>a-z</em> character, one or more, followed by a repeating pattern of, a single dot character, an <em>a-z</em> character, one more.</p>\n<p>For example, this will match these values.</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://example.com\nhttps://abc.example.com\nhttps://www.abc.example.com\n</code></pre>\n"}],"owner":{"account_id":8809168,"reputation":5,"user_id":6582722,"display_name":"SBW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":76460073,"answer_count":2,"score":-4,"last_activity_date":1686601291,"creation_date":1686039092,"question_id":76412625,"body_markdown":"I need a regex for the url https://example.com while in place of **example** it can be any letter\r\n\r\n\r\nI tried `https:\\/\\/[a-z]\\.[a-z]` but is only accepting the first letter in example and first letter in com which is `https://e.c` (accepting this with above regex) but I want it to accept whole url(https://example.com) as mentioned in the question.","title":"Regex to match a fully qualified url exactly like https://merchant.com while in place of merchant it can be any letter","body":"<p>I need a regex for the url <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a> while in place of <strong>example</strong> it can be any letter</p>\n<p>I tried <code>https:\\/\\/[a-z]\\.[a-z]</code> but is only accepting the first letter in example and first letter in com which is <code>https://e.c</code> (accepting this with above regex) but I want it to accept whole url(<a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>) as mentioned in the question.</p>\n"},{"tags":["java","zip","compression","gzip"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686581057,"post_id":76457680,"comment_id":134814511,"body_markdown":"Maybe have a look at [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#setMethod(int)) and [this](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED)","body":"Maybe have a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#setMethod(int)\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/zip/ZipEntry.html#STORED\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1686581198,"post_id":76457680,"comment_id":134814542,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1686601138,"post_id":76457680,"comment_id":134818537,"body_markdown":"since you are only sending a single file and seem to not want compression, why are you embedding the file in a zip file anyway?","body":"since you are only sending a single file and seem to not want compression, why are you embedding the file in a zip file anyway?"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686581114,"creation_date":1686581114,"answer_id":76457793,"question_id":76457680,"body_markdown":"You can use `zipOutputStream.setLevel(Deflater.NO_COMPRESSION)`.","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>You can use <code>zipOutputStream.setLevel(Deflater.NO_COMPRESSION)</code>.</p>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686592699,"creation_date":1686581238,"answer_id":76457808,"question_id":76457680,"body_markdown":"The ZipOutputStream setLevel method is what you want. A value of &#39;0&#39; specifies no compression.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-\r\n\r\nEDIT: The best form is to use the deflator constant NO_COMPRESSION instead of 0.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>The ZipOutputStream setLevel method is what you want. A value of '0' specifies no compression.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipOutputStream.html#setLevel-int-</a></p>\n<p>EDIT: The best form is to use the deflator constant NO_COMPRESSION instead of 0.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html#NO_COMPRESSION</a></p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686601038,"creation_date":1686601038,"answer_id":76460047,"question_id":76457680,"body_markdown":"The problem is that you are setting the content length of the response to (presumably) the length of the file you are outputting.  however, a zip file, even with no compression, still includes a header (or footer as the case may be).  you either have to compute the length of the *complete* zip file, or use chunked encoding.","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>The problem is that you are setting the content length of the response to (presumably) the length of the file you are outputting.  however, a zip file, even with no compression, still includes a header (or footer as the case may be).  you either have to compute the length of the <em>complete</em> zip file, or use chunked encoding.</p>\n"}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76460047,"answer_count":3,"score":0,"last_activity_date":1686601038,"creation_date":1686580355,"question_id":76457680,"body_markdown":"Is there way in Java to pack files into zip without compression? I just need to pack many files into one, but i need it fast and compression take long time. I tried something like Stored method of ZipOutputStream but the result zip is always corrupted.\r\nDoes anybody know some solution?\r\n\r\nEDIT:\r\nThere is my code:\r\n\r\n    response.setContentType(&quot;application/zip&quot;); // zip archive format\r\n                response.setHeader(HttpHeaders.CONTENT_DISPOSITION, ContentDisposition.attachment()\r\n                                                                                .filename(&quot;download.zip&quot;, StandardCharsets.UTF_8)\r\n                                                                                .build()\r\n                                                                                .toString());\r\n            \r\n                response.setContentLengthLong(totalSize);\r\n        \r\n                try(ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\r\n                    zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\r\n                for (FileSystemResource file : resources) {\r\n                    try (InputStream inputStream = file.getInputStream()) {\r\n                        zipOutputStream.putNextEntry(new ZipEntry(file.getFilename().toString()));\r\n                        StreamUtils.copy(inputStream, zipOutputStream);\r\n                        zipOutputStream.flush();\r\n                    }\r\n                }\r\n            }\r\n\r\nit works normal but when i added:\r\n\r\n    zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\r\n\r\ni get this error when i try to open final zip:\r\nCould not open, ERROR 1 process doesnt exist\r\n\r\nZip wihtou level is always good","title":"How put files into zip just for pack them and no compress them in Java","body":"<p>Is there way in Java to pack files into zip without compression? I just need to pack many files into one, but i need it fast and compression take long time. I tried something like Stored method of ZipOutputStream but the result zip is always corrupted.\nDoes anybody know some solution?</p>\n<p>EDIT:\nThere is my code:</p>\n<pre><code>response.setContentType(&quot;application/zip&quot;); // zip archive format\n            response.setHeader(HttpHeaders.CONTENT_DISPOSITION, ContentDisposition.attachment()\n                                                                            .filename(&quot;download.zip&quot;, StandardCharsets.UTF_8)\n                                                                            .build()\n                                                                            .toString());\n        \n            response.setContentLengthLong(totalSize);\n    \n            try(ZipOutputStream zipOutputStream = new ZipOutputStream(response.getOutputStream())) {\n                zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\n            for (FileSystemResource file : resources) {\n                try (InputStream inputStream = file.getInputStream()) {\n                    zipOutputStream.putNextEntry(new ZipEntry(file.getFilename().toString()));\n                    StreamUtils.copy(inputStream, zipOutputStream);\n                    zipOutputStream.flush();\n                }\n            }\n        }\n</code></pre>\n<p>it works normal but when i added:</p>\n<pre><code>zipOutputStream.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n<p>i get this error when i try to open final zip:\nCould not open, ERROR 1 process doesnt exist</p>\n<p>Zip wihtou level is always good</p>\n"},{"tags":["java","sql","mariadb","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1686557882,"post_id":76441723,"comment_id":134809311,"body_markdown":"Have you checked out [the manual page about creating derived tables?](https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/)","body":"Have you checked out <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/table-expressions/derived-tables/\" rel=\"nofollow noreferrer\">the manual page about creating derived tables?</a>"},{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1686576609,"post_id":76441723,"comment_id":134813428,"body_markdown":"@LukasEder I have. But I don&#39;t get how to leverage it.","body":"@LukasEder I have. But I don&#39;t get how to leverage it."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1686592062,"post_id":76441723,"comment_id":134816954,"body_markdown":"I mean, there&#39;s an obvious mistake in the screenshot, but perhaps, you have more specific questions?","body":"I mean, there&#39;s an obvious mistake in the screenshot, but perhaps, you have more specific questions?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686592036,"creation_date":1686592036,"answer_id":76459124,"question_id":76441723,"body_markdown":"The specific problem in your screenshot is just the fact that you misplaced a closing parenthesis:\r\n\r\n```java\r\n.join(select(...).limit(1)).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n```\r\n\r\nInstead of:\r\n\r\n```java\r\n.join(select(...).limit(1).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n```\r\n","title":"How to translate the following SQL into jOOQ","body":"<p>The specific problem in your screenshot is just the fact that you misplaced a closing parenthesis:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.join(select(...).limit(1)).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n</code></pre>\n<p>Instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.join(select(...).limit(1).on(SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686600483,"creation_date":1686594731,"answer_id":76459388,"question_id":76441723,"body_markdown":"The SQL query you have provided is a complex `UPDATE` statement with a `JOIN` clause to a subquery. In jOOQ, you can build such queries by using the `update()` method of [`DSLContext`](https://www.jooq.org/doc/3.12/manual/sql-building/dsl-context/), combined with `join()` and `on()` methods for the join clause, and `set()` methods for the update clause. \r\n\r\nTo avoid any readability issue (like a misplaced parenthesis), you could decompose the query.\r\n\r\nI will assume that:\r\n\r\n- your `survey_definition` and `survey_instance` tables are generated as `SURVEY_DEFINITION` and `SURVEY_INSTANCE`, respectively. You need to import your generated tables. If they are not generated, you need to create them manually.\r\n- you have your `DSLContext` available as `context`.\r\n- the `?1` in your original SQL is a parameter that will be provided later. In the jOOQ DSL, I have replaced this with `param(&quot;?1&quot;, Integer.class)`.\r\n\r\nThe code would then be:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\nimport static com.example.generated.Tables.*;\r\n\r\n// Assuming the DSLContext is available as &quot;context&quot;\r\n\r\nSurveyDefinition SD = SURVEY_DEFINITION.as(&quot;sd&quot;);\r\nSurveyInstance SI = SURVEY_INSTANCE.as(&quot;si&quot;);\r\n\r\nField&lt;Integer&gt; surveyDefId = field(name(&quot;survey_def_id&quot;), Integer.class);\r\nField&lt;Integer&gt; status = field(name(&quot;status&quot;), Integer.class);\r\nField&lt;Timestamp&gt; endDate = field(name(&quot;end_date&quot;), Timestamp.class);\r\n\r\nTable&lt;?&gt; latest = context\r\n    .select(SI.SURVEY_DEF_ID.as(surveyDefId), SI.STATUS.as(status), SI.END_DATE.as(endDate))\r\n    .from(SI)\r\n    .where(SI.SURVEY_DEF_ID.eq(param(&quot;?1&quot;, Integer.class)), SI.STATUS.notIn(14))\r\n    .orderBy(SI.END_DATE.desc())\r\n    .limit(1)\r\n    .asTable(&quot;latest&quot;);\r\n\r\ncontext.update(SD)\r\n    .join(latest)\r\n    .on(SD.ID.eq(latest.field(surveyDefId)))\r\n    .set(SD.LATEST_RESULT, latest.field(status))\r\n    .set(SD.LATEST_SURVEY_END_DATE, latest.field(endDate))\r\n    .execute();\r\n```\r\n\r\nNote: The code assumes that `LATEST_RESULT` and `LATEST_SURVEY_END_DATE` are the exact names of the columns in your `SURVEY_DEFINITION` table and that their types match with the ones from the subquery. If that&#39;s not the case, you might need to change those names or add type conversions.\r\n\r\nAs you can see, I am using the [`on()` method](https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html#on(java.lang.String)) (part of the [`ON` clause](https://www.jooq.org/doc/3.12/manual/sql-building/table-expressions/joined-tables/join-predicate-on/) on a [`TableOnStep` object](https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html), which is returned by the [`join(latest)`](https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/join-clause/) call.  \r\nI am not using `on()` not on a `SelectLimitPercentStep` object (which does not have an `on()` method, hence your original error message &quot;`Cannot resolve method &#39;on&#39; in &#39;&quot;SelectLimitPercentStep&#39;`&quot;). \r\n\r\n```java\r\ncontext.update(SD)\r\n    .join(latest)\r\n    .on(SD.ID.eq(latest.field(surveyDefId)))\r\n    ...\r\n```\r\n\r\nHere, `latest` is a `Table` object that represents a derived table.  \r\nSo calling `on()` in this context should not trigger a compilation error. \r\n\r\n----\r\n\r\n&gt; For some reason I can&#39;t do a join after `context.update(SD)`, there&#39;s simply no such method. Maybe the reason is older jOOQ version.\r\n\r\nAn alternative workaround would be to perform the subquery first, store its results, and then use these results in the update statement.  \r\nAs an example:\r\n\r\n\r\n```java\r\n// First, execute the subquery and fetch the results\r\nRecord3&lt;String, Integer, Date&gt; record = dslContext.select(SURVEY_INSTANCE.SURVEY_DEF_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_DATE)\r\n    .from(SURVEY_INSTANCE)\r\n    .where(SURVEY_INSTANCE.SURVEY_DEF_ID.eq(definitionId))\r\n    .and(SURVEY_INSTANCE.STATUS.notIn(14))\r\n    .orderBy(SURVEY_INSTANCE.END_DATE.desc())\r\n    .limit(1)\r\n    .fetchOne();\r\n\r\n// Next, use the results of the subquery in the UPDATE statement\r\nif (record != null) {\r\n    dslContext.update(SURVEY_DEFINITION)\r\n        .set(SURVEY_DEFINITION.LATEST_RESULT, record.get(SURVEY_INSTANCE.STATUS))\r\n        .set(SURVEY_DEFINITION.LATEST_SURVEY_END_DATE, record.get(SURVEY_INSTANCE.END_DATE))\r\n        .where(SURVEY_DEFINITION.ID.eq(record.get(SURVEY_INSTANCE.SURVEY_DEF_ID)))\r\n        .execute();\r\n}\r\n```\r\n\r\nThis workaround separates the operation into two parts, and it first fetches the record from the subquery and then uses that data to perform the update.","title":"How to translate the following SQL into jOOQ","body":"<p>The SQL query you have provided is a complex <code>UPDATE</code> statement with a <code>JOIN</code> clause to a subquery. In jOOQ, you can build such queries by using the <code>update()</code> method of <a href=\"https://www.jooq.org/doc/3.12/manual/sql-building/dsl-context/\" rel=\"nofollow noreferrer\"><code>DSLContext</code></a>, combined with <code>join()</code> and <code>on()</code> methods for the join clause, and <code>set()</code> methods for the update clause.</p>\n<p>To avoid any readability issue (like a misplaced parenthesis), you could decompose the query.</p>\n<p>I will assume that:</p>\n<ul>\n<li>your <code>survey_definition</code> and <code>survey_instance</code> tables are generated as <code>SURVEY_DEFINITION</code> and <code>SURVEY_INSTANCE</code>, respectively. You need to import your generated tables. If they are not generated, you need to create them manually.</li>\n<li>you have your <code>DSLContext</code> available as <code>context</code>.</li>\n<li>the <code>?1</code> in your original SQL is a parameter that will be provided later. In the jOOQ DSL, I have replaced this with <code>param(&quot;?1&quot;, Integer.class)</code>.</li>\n</ul>\n<p>The code would then be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\nimport static com.example.generated.Tables.*;\n\n// Assuming the DSLContext is available as &quot;context&quot;\n\nSurveyDefinition SD = SURVEY_DEFINITION.as(&quot;sd&quot;);\nSurveyInstance SI = SURVEY_INSTANCE.as(&quot;si&quot;);\n\nField&lt;Integer&gt; surveyDefId = field(name(&quot;survey_def_id&quot;), Integer.class);\nField&lt;Integer&gt; status = field(name(&quot;status&quot;), Integer.class);\nField&lt;Timestamp&gt; endDate = field(name(&quot;end_date&quot;), Timestamp.class);\n\nTable&lt;?&gt; latest = context\n    .select(SI.SURVEY_DEF_ID.as(surveyDefId), SI.STATUS.as(status), SI.END_DATE.as(endDate))\n    .from(SI)\n    .where(SI.SURVEY_DEF_ID.eq(param(&quot;?1&quot;, Integer.class)), SI.STATUS.notIn(14))\n    .orderBy(SI.END_DATE.desc())\n    .limit(1)\n    .asTable(&quot;latest&quot;);\n\ncontext.update(SD)\n    .join(latest)\n    .on(SD.ID.eq(latest.field(surveyDefId)))\n    .set(SD.LATEST_RESULT, latest.field(status))\n    .set(SD.LATEST_SURVEY_END_DATE, latest.field(endDate))\n    .execute();\n</code></pre>\n<p>Note: The code assumes that <code>LATEST_RESULT</code> and <code>LATEST_SURVEY_END_DATE</code> are the exact names of the columns in your <code>SURVEY_DEFINITION</code> table and that their types match with the ones from the subquery. If that's not the case, you might need to change those names or add type conversions.</p>\n<p>As you can see, I am using the <a href=\"https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html#on(java.lang.String)\" rel=\"nofollow noreferrer\"><code>on()</code> method</a> (part of the <a href=\"https://www.jooq.org/doc/3.12/manual/sql-building/table-expressions/joined-tables/join-predicate-on/\" rel=\"nofollow noreferrer\"><code>ON</code> clause</a> on a <a href=\"https://www.jooq.org/javadoc/3.12.1/org.jooq/org/jooq/TableOnStep.html\" rel=\"nofollow noreferrer\"><code>TableOnStep</code> object</a>, which is returned by the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/join-clause/\" rel=\"nofollow noreferrer\"><code>join(latest)</code></a> call.<br />\nI am not using <code>on()</code> not on a <code>SelectLimitPercentStep</code> object (which does not have an <code>on()</code> method, hence your original error message &quot;<code>Cannot resolve method 'on' in '&quot;SelectLimitPercentStep'</code>&quot;).</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.update(SD)\n    .join(latest)\n    .on(SD.ID.eq(latest.field(surveyDefId)))\n    ...\n</code></pre>\n<p>Here, <code>latest</code> is a <code>Table</code> object that represents a derived table.<br />\nSo calling <code>on()</code> in this context should not trigger a compilation error.</p>\n<hr />\n<blockquote>\n<p>For some reason I can't do a join after <code>context.update(SD)</code>, there's simply no such method. Maybe the reason is older jOOQ version.</p>\n</blockquote>\n<p>An alternative workaround would be to perform the subquery first, store its results, and then use these results in the update statement.<br />\nAs an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// First, execute the subquery and fetch the results\nRecord3&lt;String, Integer, Date&gt; record = dslContext.select(SURVEY_INSTANCE.SURVEY_DEF_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_DATE)\n    .from(SURVEY_INSTANCE)\n    .where(SURVEY_INSTANCE.SURVEY_DEF_ID.eq(definitionId))\n    .and(SURVEY_INSTANCE.STATUS.notIn(14))\n    .orderBy(SURVEY_INSTANCE.END_DATE.desc())\n    .limit(1)\n    .fetchOne();\n\n// Next, use the results of the subquery in the UPDATE statement\nif (record != null) {\n    dslContext.update(SURVEY_DEFINITION)\n        .set(SURVEY_DEFINITION.LATEST_RESULT, record.get(SURVEY_INSTANCE.STATUS))\n        .set(SURVEY_DEFINITION.LATEST_SURVEY_END_DATE, record.get(SURVEY_INSTANCE.END_DATE))\n        .where(SURVEY_DEFINITION.ID.eq(record.get(SURVEY_INSTANCE.SURVEY_DEF_ID)))\n        .execute();\n}\n</code></pre>\n<p>This workaround separates the operation into two parts, and it first fetches the record from the subquery and then uses that data to perform the update.</p>\n"}],"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76459388,"answer_count":2,"score":1,"last_activity_date":1686600483,"creation_date":1686324813,"question_id":76441723,"body_markdown":"I have the following (a bit complex for me) MariaDB 10.6 update:\r\n```sql\r\nupdate survey_definition sd\r\n    join (select si.survey_def_id, si.status, si.end_date\r\n          from survey_instance si\r\n          where si.survey_def_id = ?1\r\n            and si.status not in (14)\r\n          order by si.end_date desc\r\n          limit 1) latest on sd.id = latest.survey_def_id\r\nset sd.latest_result=latest.status,\r\n    sd.latest_survey_end_date=latest.end_date;\r\n\r\n```\r\n\r\nHow to transform it into jOOQ DSL?\r\nIs it possible?\r\n\r\nMy best (unfinished) try is:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pOku8.png\r\n\r\njOOQ version: 3.12.1\r\n\r\nText of the DSL:\r\n\r\n``` dsl\r\ndslContext.update(SURVEY_DEFINITION\r\n    .join(dslContext.select (SURVEY._INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\r\n        . from(SURVEY_INSTANCE) SelectJoinStep&lt;Record3&lt;String, ScanStatus, Long&gt;&gt;\r\n        . where(SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId)) SelectConditionStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\r\n        . limit(1) SelectLimitPercentStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\r\n        .on (SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\r\n    )\r\n```\r\n\r\nThe `.on()` triggered: &quot;`Cannot resolve method &#39;on&#39; in &#39;&quot;SelectLimitPercentStep&#39;`&quot;.\r\n\r\n\r\n**UPD:** I came up with the following solution:\r\n```java\r\n        final Table&lt;Record3&lt;String, ScanStatus, Long&gt;&gt; latest = dslContext\r\n            .select(SURVEY_INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\r\n            .from(SURVEY_INSTANCE)\r\n            .where(DSL.and(\r\n                SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId),\r\n                SURVEY_INSTANCE.STATUS.notEqual(ScanStatus.DELETED))\r\n            )\r\n            .orderBy(SURVEY_INSTANCE.END_TIME_MILLIS.desc())\r\n            .limit(1)\r\n            .asTable(&quot;latest&quot;);\r\n        dslContext.update(SURVEY_DEFINITION\r\n                .join(latest)\r\n                .on(latest.field(SURVEY_INSTANCE.SURVEY_DEFINITION_ID).eq(SURVEY_DEFINITION.ID)))\r\n            .set(SURVEY_DEFINITION.LATEST_SCAN_STATUS, latest.field(SURVEY_INSTANCE.STATUS))\r\n            .where(SURVEY_DEFINITION.ID.eq(definitionId))\r\n            .execute();\r\n```\r\n\r\nThanks both @LukasEder and @VonC for help &amp; ideas.","title":"How to translate the following SQL into jOOQ","body":"<p>I have the following (a bit complex for me) MariaDB 10.6 update:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>update survey_definition sd\n    join (select si.survey_def_id, si.status, si.end_date\n          from survey_instance si\n          where si.survey_def_id = ?1\n            and si.status not in (14)\n          order by si.end_date desc\n          limit 1) latest on sd.id = latest.survey_def_id\nset sd.latest_result=latest.status,\n    sd.latest_survey_end_date=latest.end_date;\n\n</code></pre>\n<p>How to transform it into jOOQ DSL?\nIs it possible?</p>\n<p>My best (unfinished) try is:\n<a href=\"https://i.stack.imgur.com/pOku8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOku8.png\" alt=\"enter image description here\" /></a></p>\n<p>jOOQ version: 3.12.1</p>\n<p>Text of the DSL:</p>\n<pre><code>dslContext.update(SURVEY_DEFINITION\n    .join(dslContext.select (SURVEY._INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\n        . from(SURVEY_INSTANCE) SelectJoinStep&lt;Record3&lt;String, ScanStatus, Long&gt;&gt;\n        . where(SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId)) SelectConditionStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\n        . limit(1) SelectLimitPercentStep&lt;Record3&lt;Sting, ScanStatus, Long&gt;&gt;\n        .on (SURVEY_INSTANCE.ID.eq(SURVEY_DEFINITION.ID))\n    )\n</code></pre>\n<p>The <code>.on()</code> triggered: &quot;<code>Cannot resolve method 'on' in '&quot;SelectLimitPercentStep'</code>&quot;.</p>\n<p><strong>UPD:</strong> I came up with the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        final Table&lt;Record3&lt;String, ScanStatus, Long&gt;&gt; latest = dslContext\n            .select(SURVEY_INSTANCE.SURVEY_DEFINITION_ID, SURVEY_INSTANCE.STATUS, SURVEY_INSTANCE.END_TIME_MILLIS)\n            .from(SURVEY_INSTANCE)\n            .where(DSL.and(\n                SURVEY_INSTANCE.SURVEY_DEFINITION_ID.eq(definitionId),\n                SURVEY_INSTANCE.STATUS.notEqual(ScanStatus.DELETED))\n            )\n            .orderBy(SURVEY_INSTANCE.END_TIME_MILLIS.desc())\n            .limit(1)\n            .asTable(&quot;latest&quot;);\n        dslContext.update(SURVEY_DEFINITION\n                .join(latest)\n                .on(latest.field(SURVEY_INSTANCE.SURVEY_DEFINITION_ID).eq(SURVEY_DEFINITION.ID)))\n            .set(SURVEY_DEFINITION.LATEST_SCAN_STATUS, latest.field(SURVEY_INSTANCE.STATUS))\n            .where(SURVEY_DEFINITION.ID.eq(definitionId))\n            .execute();\n</code></pre>\n<p>Thanks both @LukasEder and @VonC for help &amp; ideas.</p>\n"},{"tags":["java","android","window"],"comments":[{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":0,"creation_date":1686600612,"post_id":76459970,"comment_id":134818442,"body_markdown":"Yes, you&#39;d need some kind of server on your computer in order to serve the files - In most cases your phone cannot arbitrarily grab files off a computer connected to its hotspot","body":"Yes, you&#39;d need some kind of server on your computer in order to serve the files - In most cases your phone cannot arbitrarily grab files off a computer connected to its hotspot"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686602529,"post_id":76459970,"comment_id":134818796,"body_markdown":"Samba protocol. Jcifs. Smbj.","body":"Samba protocol. Jcifs. Smbj."}],"owner":{"account_id":24600954,"reputation":1,"user_id":18503839,"display_name":"TrynaGetByGal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686600400,"creation_date":1686600400,"question_id":76459970,"body_markdown":"I want to make an android app that will remotely connect to my computer and fetch all music files on a particular folder and then play them. The probleme is that i don&#39;t know how to fetch the files.\r\nDo i have to set up a server ?\r\nI connected the computer to the phone&#39;s hotspot and was able to access the xamp dashboard on the phone using the computer&#39;s ip adresse. Also the folder is a shared one.","title":"Accessing files stored on pc using an android app","body":"<p>I want to make an android app that will remotely connect to my computer and fetch all music files on a particular folder and then play them. The probleme is that i don't know how to fetch the files.\nDo i have to set up a server ?\nI connected the computer to the phone's hotspot and was able to access the xamp dashboard on the phone using the computer's ip adresse. Also the folder is a shared one.</p>\n"},{"tags":["java","ubuntu","raspberry-pi","processbuilder"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1686599292,"post_id":76459342,"comment_id":134818234,"body_markdown":"Based on the `arecord -l` output, it looks like `-D hw:3,0` should be the correct value to try (card,device)","body":"Based on the <code>arecord -l</code> output, it looks like <code>-D hw:3,0</code> should be the correct value to try (card,device)"}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686595181,"creation_date":1686595181,"answer_id":76459433,"question_id":76459342,"body_markdown":"The error may not be related to the file being recorded, but rather to the sound device that arecord is using.\r\n\r\nTo resolve this issue, consider the following steps:\r\n\r\n- Verify if you need to pass -D hw:1,0 (change the device id) as a device parameter to arecord.\r\n\r\n- Ensure that the audio device files (located under /dev/) are accessible by the root user.\r\n\r\n- Check if the arecord command is in the $PATH for the root user. You can verify this by running “which arecord” as root.\r\n\r\n- You can add the root user to the audio group to grant access to audio devices.\r\n\r\n\r\nYou may also find these links helpful:\r\n\r\nhttps://github.com/synesthesiam/voice2json/issues/28\r\n\r\nhttps://stackoverflow.com/questions/69150641/aplay-main831-audio-open-error-no-such-file-or-directory","title":"Running ProcessBuilder as root gives &#39;No such file or directory&#39;","body":"<p>The error may not be related to the file being recorded, but rather to the sound device that arecord is using.</p>\n<p>To resolve this issue, consider the following steps:</p>\n<ul>\n<li><p>Verify if you need to pass -D hw:1,0 (change the device id) as a device parameter to arecord.</p>\n</li>\n<li><p>Ensure that the audio device files (located under /dev/) are accessible by the root user.</p>\n</li>\n<li><p>Check if the arecord command is in the $PATH for the root user. You can verify this by running “which arecord” as root.</p>\n</li>\n<li><p>You can add the root user to the audio group to grant access to audio devices.</p>\n</li>\n</ul>\n<p>You may also find these links helpful:</p>\n<p><a href=\"https://github.com/synesthesiam/voice2json/issues/28\" rel=\"nofollow noreferrer\">https://github.com/synesthesiam/voice2json/issues/28</a></p>\n<p><a href=\"https://stackoverflow.com/questions/69150641/aplay-main831-audio-open-error-no-such-file-or-directory\">aplay: main:831: audio open error: No such file or directory</a></p>\n"}],"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76459433,"answer_count":1,"score":0,"last_activity_date":1686599652,"creation_date":1686594144,"question_id":76459342,"body_markdown":"I have a Java program which record audio using mixer on a Raspberry Pi. I am using ProcessBuilder to achieve this and was working fine last year. Now it doesn&#39;t however, and I get the following error when running the application as root:\r\n\r\n&gt; Starting Starting recording /tmp/test.wav - 19:14:36.64\r\n&gt; /usr/bin/arecord -f dat /tmp/test.wav Exception: Command exited with\r\n&gt; code: 1 with output: arecord: main:830: audio open error: No such file\r\n&gt; or directory\r\n&gt; \r\n&gt; java.lang.Exception: Command exited with code: 1 with output: arecord:\r\n&gt; main:830: audio open error: No such file or directory\r\n&gt; \r\n&gt; \tat Main.record(Main.java:38) \tat Main.main(Main.java:11)\r\n\r\nWhen I run as the default &#39;pi&#39; user (java -jar audioTest.jar) it runs fine.\r\n\r\nThe only difference between last year is that I am now compiling to Java 11 instead of 8 and possibly running on a newer version of Raspbian OS (11 bullseye).\r\n\r\nI have it running with nohup through an init.d script so it is running as the root user. This is also required to access the GPIO of the Raspberry as far as I know.\r\n\r\nThis is  my test code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStreamReader;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Starting&quot;);\r\n            record(new File(&quot;/tmp/test.mp3&quot;));\r\n        }\r\n        \r\n        public static void record(File file) {\r\n             try {\r\n                 String wavFile = file.getAbsolutePath().substring(0, file.getAbsolutePath().lastIndexOf(&quot;.&quot;)) + &quot;.wav&quot;;\r\n                 try {\r\n                     String player = &quot;/usr/bin/arecord&quot;;\r\n                     ProcessBuilder pb = new ProcessBuilder(player, &quot;-f&quot;, &quot;dat&quot;, wavFile);\r\n                     pb.redirectErrorStream(true);\r\n     \r\n                     System.out.println(&quot;Starting recording &quot; + wavFile + &quot; - &quot; + new SimpleDateFormat(&quot;HH:mm:ss.S&quot;).format(new Date()));\r\n                     System.out.println(String.join(&quot; &quot;,pb.command().toArray(new String[0])));\r\n                     //Process pr = pb.start();\r\n                     Process recorderProcess = pb.start();\r\n     \r\n                     BufferedReader error = new BufferedReader(new InputStreamReader(recorderProcess.getInputStream()));\r\n     \r\n                     String errorLine;\r\n                     StringBuilder accErrorString = new StringBuilder();\r\n     \r\n                     while ((errorLine = error.readLine()) != null) {\r\n                         accErrorString.append(errorLine).append(&quot;\\n&quot;);\r\n                     }\r\n     \r\n                     int exitVal = recorderProcess.waitFor();\r\n                     if (exitVal != 0) {\r\n                         throw new Exception(&quot;Command exited with code: &quot; + exitVal + &quot; with output: &quot; + accErrorString);\r\n                     }\r\n                 } catch (java.io.IOException ioex) {\r\n                     // This would be the normal exit it seems.\r\n                 }\r\n            } catch (Exception ex){\r\n                 System.out.println(&quot;Exception: &quot; + ex.getMessage());\r\n                 ex.printStackTrace(System.out);\r\n             }\r\n         }\r\n    }\r\n\r\nAny idea why this is happening would be greatly appreciated.\r\n\r\n[Edit]\r\nThe output of record -l:\r\n\r\n    **** List of CAPTURE Hardware Devices ****\r\n    card 3: Device [USB Audio Device], device 0: USB Audio [USB Audio]\r\n      Subdevices: 1/1\r\n      Subdevice #0: subdevice #0\r\n\r\nBut adding -D hw:0,0 now gives the error on both. So for th e&#39;pi&#39; user it might select it correctly and not for the root. With hw:3,0 it works, and then add the -c 1 flag to select the channel.","title":"Running ProcessBuilder as root gives &#39;No such file or directory&#39;","body":"<p>I have a Java program which record audio using mixer on a Raspberry Pi. I am using ProcessBuilder to achieve this and was working fine last year. Now it doesn't however, and I get the following error when running the application as root:</p>\n<blockquote>\n<p>Starting Starting recording /tmp/test.wav - 19:14:36.64\n/usr/bin/arecord -f dat /tmp/test.wav Exception: Command exited with\ncode: 1 with output: arecord: main:830: audio open error: No such file\nor directory</p>\n<p>java.lang.Exception: Command exited with code: 1 with output: arecord:\nmain:830: audio open error: No such file or directory</p>\n<p>at Main.record(Main.java:38)    at Main.main(Main.java:11)</p>\n</blockquote>\n<p>When I run as the default 'pi' user (java -jar audioTest.jar) it runs fine.</p>\n<p>The only difference between last year is that I am now compiling to Java 11 instead of 8 and possibly running on a newer version of Raspbian OS (11 bullseye).</p>\n<p>I have it running with nohup through an init.d script so it is running as the root user. This is also required to access the GPIO of the Raspberry as far as I know.</p>\n<p>This is  my test code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Starting&quot;);\n        record(new File(&quot;/tmp/test.mp3&quot;));\n    }\n    \n    public static void record(File file) {\n         try {\n             String wavFile = file.getAbsolutePath().substring(0, file.getAbsolutePath().lastIndexOf(&quot;.&quot;)) + &quot;.wav&quot;;\n             try {\n                 String player = &quot;/usr/bin/arecord&quot;;\n                 ProcessBuilder pb = new ProcessBuilder(player, &quot;-f&quot;, &quot;dat&quot;, wavFile);\n                 pb.redirectErrorStream(true);\n \n                 System.out.println(&quot;Starting recording &quot; + wavFile + &quot; - &quot; + new SimpleDateFormat(&quot;HH:mm:ss.S&quot;).format(new Date()));\n                 System.out.println(String.join(&quot; &quot;,pb.command().toArray(new String[0])));\n                 //Process pr = pb.start();\n                 Process recorderProcess = pb.start();\n \n                 BufferedReader error = new BufferedReader(new InputStreamReader(recorderProcess.getInputStream()));\n \n                 String errorLine;\n                 StringBuilder accErrorString = new StringBuilder();\n \n                 while ((errorLine = error.readLine()) != null) {\n                     accErrorString.append(errorLine).append(&quot;\\n&quot;);\n                 }\n \n                 int exitVal = recorderProcess.waitFor();\n                 if (exitVal != 0) {\n                     throw new Exception(&quot;Command exited with code: &quot; + exitVal + &quot; with output: &quot; + accErrorString);\n                 }\n             } catch (java.io.IOException ioex) {\n                 // This would be the normal exit it seems.\n             }\n        } catch (Exception ex){\n             System.out.println(&quot;Exception: &quot; + ex.getMessage());\n             ex.printStackTrace(System.out);\n         }\n     }\n}\n</code></pre>\n<p>Any idea why this is happening would be greatly appreciated.</p>\n<p>[Edit]\nThe output of record -l:</p>\n<pre><code>**** List of CAPTURE Hardware Devices ****\ncard 3: Device [USB Audio Device], device 0: USB Audio [USB Audio]\n  Subdevices: 1/1\n  Subdevice #0: subdevice #0\n</code></pre>\n<p>But adding -D hw:0,0 now gives the error on both. So for th e'pi' user it might select it correctly and not for the root. With hw:3,0 it works, and then add the -c 1 flag to select the channel.</p>\n"},{"tags":["java","android","progress-bar","android-view"],"owner":{"account_id":21116516,"reputation":520,"user_id":15523510,"display_name":"KiraHoneybee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686598823,"creation_date":1686583828,"question_id":76458161,"body_markdown":"Caveat: I am a bit of a neophyte on Android, working with someone else&#39;s code.\r\n\r\nThe app I&#39;m working with does a long background process and currently appears to just &quot;hang&quot; while it&#39;s working.  \r\n\r\nI just want to show a progress bar while it&#39;s working.  The process is not on the main thread, but the flow of the thread that invokes the process needs to go like this:\r\n\r\n1. Show progress bar\r\n2. Call function that does huge processing and returns when done (and updates progress bar)\r\n3. Hide progress bar\r\n\r\nThis is the function I came up with:\r\n\r\n    int mProgressMax = 0;\r\n    ProgressBar mProgressBar = null;\r\n    void ShowProgressBar() {\r\n        mActivity.runOnUiThread(() -&gt; {\r\n            mProgressBar = new ProgressBar(mActivity, null, android.R.attr.progressBarStyleSmall);\r\n            mProgressBar.setMax(mProgressMax);\r\n            ViewGroup rootView = mActivity.getWindow().getDecorView().findViewById(android.R.id.content);\r\n            rootView.addView(mProgressBar);\r\n            mProgressBar.setVisibility(View.VISIBLE);\r\n        });\r\n    }\r\n\r\nI do not have any kind of &quot;layout&quot; for the progress bar because the app creates all its layouts programmatically.  So I also have to create it programmatically, since I don&#39;t have permission to restructure anything.\r\n\r\nAs it stands, I never see the progress bar.  I get no errors or anything, it just never shows.\r\n\r\nWhat do I need to add to make this work?\r\n\r\nExtra Info: The thread that does the long processing is invoked via an intent where the user had to pick the file.  I think this intent might be covering the progress bar, but I don&#39;t know how to get the progress bar on top of it.\r\n\r\nThis is how that intent is invoked:\r\n\r\n    public void OpenFilePicker(Uri uriToLoad, int theCode) {\r\n        Intent aIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n        aIntent.putExtra(&quot;android.content.extra.SHOW_ADVANCED&quot;, true);\r\n        aIntent.putExtra(&quot;android.content.extra.FANCY&quot;, true);\r\n        //aIntent.putExtra(&quot;android.content.extra.SHOW_FILESIZE&quot;, true);\r\n        mActivity.startActivityForResult(aIntent, theCode);\r\n    }\r\n\r\n...and then the onActivityResult is where the long process (including the progress bar show) happens.\r\n\r\n","title":"Progress bar never shows","body":"<p>Caveat: I am a bit of a neophyte on Android, working with someone else's code.</p>\n<p>The app I'm working with does a long background process and currently appears to just &quot;hang&quot; while it's working.</p>\n<p>I just want to show a progress bar while it's working.  The process is not on the main thread, but the flow of the thread that invokes the process needs to go like this:</p>\n<ol>\n<li>Show progress bar</li>\n<li>Call function that does huge processing and returns when done (and updates progress bar)</li>\n<li>Hide progress bar</li>\n</ol>\n<p>This is the function I came up with:</p>\n<pre><code>int mProgressMax = 0;\nProgressBar mProgressBar = null;\nvoid ShowProgressBar() {\n    mActivity.runOnUiThread(() -&gt; {\n        mProgressBar = new ProgressBar(mActivity, null, android.R.attr.progressBarStyleSmall);\n        mProgressBar.setMax(mProgressMax);\n        ViewGroup rootView = mActivity.getWindow().getDecorView().findViewById(android.R.id.content);\n        rootView.addView(mProgressBar);\n        mProgressBar.setVisibility(View.VISIBLE);\n    });\n}\n</code></pre>\n<p>I do not have any kind of &quot;layout&quot; for the progress bar because the app creates all its layouts programmatically.  So I also have to create it programmatically, since I don't have permission to restructure anything.</p>\n<p>As it stands, I never see the progress bar.  I get no errors or anything, it just never shows.</p>\n<p>What do I need to add to make this work?</p>\n<p>Extra Info: The thread that does the long processing is invoked via an intent where the user had to pick the file.  I think this intent might be covering the progress bar, but I don't know how to get the progress bar on top of it.</p>\n<p>This is how that intent is invoked:</p>\n<pre><code>public void OpenFilePicker(Uri uriToLoad, int theCode) {\n    Intent aIntent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n    aIntent.putExtra(&quot;android.content.extra.SHOW_ADVANCED&quot;, true);\n    aIntent.putExtra(&quot;android.content.extra.FANCY&quot;, true);\n    //aIntent.putExtra(&quot;android.content.extra.SHOW_FILESIZE&quot;, true);\n    mActivity.startActivityForResult(aIntent, theCode);\n}\n</code></pre>\n<p>...and then the onActivityResult is where the long process (including the progress bar show) happens.</p>\n"},{"tags":["java","android-studio","object","bitmap","android-bitmap"],"owner":{"account_id":22766988,"reputation":47,"user_id":16924889,"display_name":"Ablac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686598519,"creation_date":1686276352,"question_id":76436748,"body_markdown":"I&#39;m building a game for my Android app studio class, and the game&#39;s objective is to pop the bubbles. I currently have 7 bubble textures installed in the game and set up under the Bubble.java file (See Below) in the Gameview.java file I have the game generating the bubbles and then moving them down. I followed a tutorial to get the game to this point and have been trying to modify it to generate the other 6 bubbles, but the most I can get it to do is have the bubbles blink each frame through the different textures as they move down the screen. All the bubbles are the same X &amp; Y of 200\r\n\r\nI removed all imports for simplicity of the files.\r\n\r\n```\r\npublic class Bubble {\r\n    Bitmap bubble[] = new Bitmap[7];\r\n    int bubbleFrame = 0;\r\n    int bubbleX, bubbleY, bubbleV;\r\n    Random random;\r\n\r\n    public Bubble(Context context){\r\n        bubble[0] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble0);\r\n        bubble[1] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble1);\r\n        bubble[2] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble2);\r\n        bubble[3] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_green);\r\n        bubble[4] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_blue);\r\n        bubble[5] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_yellow);\r\n        bubble[6] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_red);\r\n        random = new Random();\r\n        resetPosition();\r\n    }\r\n\r\n    public Bitmap getBubble(int bubbleFrame){\r\n        return bubble[bubbleFrame];\r\n    }\r\n\r\n    public int getBubbleWidth(){\r\n        return bubble[0].getWidth();\r\n    }\r\n\r\n    public int getBubbleHeight(){\r\n        return bubble[0].getHeight();\r\n    }\r\n\r\n    public void resetPosition() {\r\n        bubbleX = random.nextInt(GameView.dWidth - getBubbleWidth());\r\n        bubbleY = -200 + random.nextInt(600) * -1;\r\n        bubbleV = 35 + random.nextInt(16);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my Gameview file as well.\r\n\r\n```\r\npublic class GameView extends View {\r\n\r\n    Bitmap background, ground, player;\r\n    Rect rectBackground, rectGround;\r\n    Context context;\r\n    Handler handler;\r\n    final long UPDATE_MILLIS = 30;\r\n    Runnable runnable;\r\n    Paint textPaint = new Paint();\r\n    Paint healthPaint = new Paint();\r\n    float TEXT_SIZE = 120;\r\n    int points = 0;\r\n    int life = 30;\r\n    static int dWidth, dHeight;\r\n    Random random;\r\n    float playerX, playerY;\r\n    float oldX;\r\n    float oldPlayerX;\r\n    ArrayList&lt;Bubble&gt; bubbles;\r\n    ArrayList&lt;Pop&gt; pops;\r\n\r\n    public GameView(Context context){\r\n        super(context);\r\n        this.context = context;\r\n        background = BitmapFactory.decodeResource(getResources(), R.drawable.background0);\r\n        ground = BitmapFactory.decodeResource(getResources(), R.drawable.ground);\r\n        player = BitmapFactory.decodeResource(getResources(), R.drawable.player);\r\n        Display display = ((Activity) getContext()).getWindowManager().getDefaultDisplay();\r\n        Point size = new Point();\r\n        display.getSize(size);\r\n        dWidth = size.x;\r\n        dHeight = size.y;\r\n        rectBackground = new Rect(0,0,dWidth,dHeight);\r\n        rectGround = new Rect(0,dHeight - ground.getHeight(), dWidth, dHeight);\r\n        handler = new Handler();\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                invalidate();\r\n            }\r\n        };\r\n        textPaint.setColor(Color.rgb(255,165,0));\r\n        textPaint.setTextSize(TEXT_SIZE);\r\n        textPaint.setTextAlign(Paint.Align.LEFT);\r\n        textPaint.setTypeface(ResourcesCompat.getFont(context, R.font.bubblegum));\r\n        healthPaint.setColor(Color.GREEN);\r\n        random = new Random();\r\n        playerX = dWidth / 2 - player.getWidth() / 2;\r\n        playerY = dHeight - ground.getHeight() - player.getHeight();\r\n        bubbles = new ArrayList&lt;&gt;();\r\n        pops = new ArrayList&lt;&gt;();\r\n        // Add First Bubble to game\r\n        Bubble bubble = new Bubble(context);\r\n        bubbles.add(bubble);\r\n    }\r\n\r\n    // Draw Game\r\n    @Override\r\n    protected void onDraw (Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        canvas.drawBitmap(background, null, rectBackground, null);\r\n        canvas.drawBitmap(ground, null, rectGround, null);\r\n        canvas.drawBitmap(player, playerX, playerY, null);\r\n\r\n        // Draw Bubbles\r\n        for (int i=0; i&lt;bubbles.size(); i++){\r\n            canvas.drawBitmap(bubbles.get(i).getBubble(bubbles.get(i).bubbleFrame), bubbles.get(i).bubbleX, bubbles.get(i).bubbleY, null);\r\n            bubbles.get(i).bubbleY += bubbles.get(i).bubbleV;\r\n\r\n            // Bubble Collision Detection with Ground - Remove Lives.\r\n            if (bubbles.get(i).bubbleY + bubbles.get(i).getBubbleHeight() &gt;= dHeight - ground.getHeight()){\r\n                //life --;\r\n                Pop pop = new Pop(context);\r\n                pop.popX = bubbles.get(i).bubbleX;\r\n                pop.popY = bubbles.get(i).bubbleY;\r\n                pops.add(pop);\r\n                bubbles.get(i).resetPosition();\r\n                \r\n                //Check for Life 0\r\n                if (life == 0){\r\n                    Intent intent = new Intent(context, GameOver.class);\r\n                    intent.putExtra(&quot;points&quot;, points);\r\n                    context.startActivity(intent);\r\n                    ((Activity) context).finish();\r\n                }\r\n            }\r\n        }\r\n\r\n        // Player Collision Detection with Bubble - Add Points.\r\n        for (int i=0; i &lt; bubbles.size(); i++){\r\n            if (bubbles.get(i).bubbleX + bubbles.get(i).getBubbleWidth() &gt;= playerX\r\n                    &amp;&amp; bubbles.get(i).bubbleX &lt;= playerX + player.getWidth()\r\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &gt;= playerY\r\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &lt;= playerY + player.getHeight()){\r\n                points += 10;\r\n\r\n                // Add more bubbles based on Points value\r\n                if (points % 400 == 0 || points == 50 || points == 100 || points == 200){\r\n                    Bubble bubble = new Bubble(context);\r\n                    bubbles.add(bubble);\r\n                }\r\n                Pop pop = new Pop(context);\r\n                pop.popX = bubbles.get(i).bubbleX;\r\n                pop.popY = bubbles.get(i).bubbleY;\r\n                pops.add(pop);\r\n                bubbles.get(i).resetPosition();\r\n            }\r\n        }\r\n\r\n        // Remove Pop image after bubble is popped.\r\n        for (int i=0; i&lt;pops.size(); i++){\r\n            canvas.drawBitmap(pops.get(i).getPop(pops.get(i).popFrame), pops.get(i).popX,\r\n                    pops.get(i).popY, null);\r\n            pops.get(i).popFrame++;\r\n            if (pops.get(i).popFrame &gt; 0){\r\n                pops.remove(i);\r\n            }\r\n        }\r\n\r\n        // Player health bar\r\n        if (life == 2){\r\n            healthPaint.setColor(Color.YELLOW);\r\n        } else if (life == 1) {\r\n            healthPaint.setColor(Color.RED);\r\n        }\r\n        canvas.drawRect(dWidth-200, 30, dWidth-200+60*life, 80, healthPaint);\r\n        canvas.drawText(&quot;&quot; + points, 20, TEXT_SIZE, textPaint);\r\n        handler.postDelayed(runnable, UPDATE_MILLIS);\r\n    }\r\n\r\n    // Player movement through touch input.\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        float touchX = event.getX();\r\n        float touchY = event.getY();\r\n        if (touchY &gt;= playerY){\r\n            int action = event.getAction();\r\n            if (action == MotionEvent.ACTION_DOWN){\r\n                oldX = event.getX();\r\n                oldPlayerX = playerX;\r\n            }\r\n            if (action == MotionEvent.ACTION_MOVE){\r\n                float shift = oldX - touchX;\r\n                float newPlayerX = oldPlayerX - shift;\r\n                if (newPlayerX &lt;= 0)\r\n                    playerX = 0;\r\n                else if (newPlayerX &gt;= dWidth - player.getWidth())\r\n                    playerX = dWidth - player.getWidth();\r\n                else\r\n                    playerX = newPlayerX;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```","title":"Drawing Bubbles in Android Studio Java","body":"<p>I'm building a game for my Android app studio class, and the game's objective is to pop the bubbles. I currently have 7 bubble textures installed in the game and set up under the Bubble.java file (See Below) in the Gameview.java file I have the game generating the bubbles and then moving them down. I followed a tutorial to get the game to this point and have been trying to modify it to generate the other 6 bubbles, but the most I can get it to do is have the bubbles blink each frame through the different textures as they move down the screen. All the bubbles are the same X &amp; Y of 200</p>\n<p>I removed all imports for simplicity of the files.</p>\n<pre><code>public class Bubble {\n    Bitmap bubble[] = new Bitmap[7];\n    int bubbleFrame = 0;\n    int bubbleX, bubbleY, bubbleV;\n    Random random;\n\n    public Bubble(Context context){\n        bubble[0] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble0);\n        bubble[1] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble1);\n        bubble[2] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble2);\n        bubble[3] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_green);\n        bubble[4] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_blue);\n        bubble[5] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_yellow);\n        bubble[6] = BitmapFactory.decodeResource(context.getResources(), R.drawable.bubble_red);\n        random = new Random();\n        resetPosition();\n    }\n\n    public Bitmap getBubble(int bubbleFrame){\n        return bubble[bubbleFrame];\n    }\n\n    public int getBubbleWidth(){\n        return bubble[0].getWidth();\n    }\n\n    public int getBubbleHeight(){\n        return bubble[0].getHeight();\n    }\n\n    public void resetPosition() {\n        bubbleX = random.nextInt(GameView.dWidth - getBubbleWidth());\n        bubbleY = -200 + random.nextInt(600) * -1;\n        bubbleV = 35 + random.nextInt(16);\n    }\n\n}\n</code></pre>\n<p>Here is my Gameview file as well.</p>\n<pre><code>public class GameView extends View {\n\n    Bitmap background, ground, player;\n    Rect rectBackground, rectGround;\n    Context context;\n    Handler handler;\n    final long UPDATE_MILLIS = 30;\n    Runnable runnable;\n    Paint textPaint = new Paint();\n    Paint healthPaint = new Paint();\n    float TEXT_SIZE = 120;\n    int points = 0;\n    int life = 30;\n    static int dWidth, dHeight;\n    Random random;\n    float playerX, playerY;\n    float oldX;\n    float oldPlayerX;\n    ArrayList&lt;Bubble&gt; bubbles;\n    ArrayList&lt;Pop&gt; pops;\n\n    public GameView(Context context){\n        super(context);\n        this.context = context;\n        background = BitmapFactory.decodeResource(getResources(), R.drawable.background0);\n        ground = BitmapFactory.decodeResource(getResources(), R.drawable.ground);\n        player = BitmapFactory.decodeResource(getResources(), R.drawable.player);\n        Display display = ((Activity) getContext()).getWindowManager().getDefaultDisplay();\n        Point size = new Point();\n        display.getSize(size);\n        dWidth = size.x;\n        dHeight = size.y;\n        rectBackground = new Rect(0,0,dWidth,dHeight);\n        rectGround = new Rect(0,dHeight - ground.getHeight(), dWidth, dHeight);\n        handler = new Handler();\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                invalidate();\n            }\n        };\n        textPaint.setColor(Color.rgb(255,165,0));\n        textPaint.setTextSize(TEXT_SIZE);\n        textPaint.setTextAlign(Paint.Align.LEFT);\n        textPaint.setTypeface(ResourcesCompat.getFont(context, R.font.bubblegum));\n        healthPaint.setColor(Color.GREEN);\n        random = new Random();\n        playerX = dWidth / 2 - player.getWidth() / 2;\n        playerY = dHeight - ground.getHeight() - player.getHeight();\n        bubbles = new ArrayList&lt;&gt;();\n        pops = new ArrayList&lt;&gt;();\n        // Add First Bubble to game\n        Bubble bubble = new Bubble(context);\n        bubbles.add(bubble);\n    }\n\n    // Draw Game\n    @Override\n    protected void onDraw (Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.drawBitmap(background, null, rectBackground, null);\n        canvas.drawBitmap(ground, null, rectGround, null);\n        canvas.drawBitmap(player, playerX, playerY, null);\n\n        // Draw Bubbles\n        for (int i=0; i&lt;bubbles.size(); i++){\n            canvas.drawBitmap(bubbles.get(i).getBubble(bubbles.get(i).bubbleFrame), bubbles.get(i).bubbleX, bubbles.get(i).bubbleY, null);\n            bubbles.get(i).bubbleY += bubbles.get(i).bubbleV;\n\n            // Bubble Collision Detection with Ground - Remove Lives.\n            if (bubbles.get(i).bubbleY + bubbles.get(i).getBubbleHeight() &gt;= dHeight - ground.getHeight()){\n                //life --;\n                Pop pop = new Pop(context);\n                pop.popX = bubbles.get(i).bubbleX;\n                pop.popY = bubbles.get(i).bubbleY;\n                pops.add(pop);\n                bubbles.get(i).resetPosition();\n                \n                //Check for Life 0\n                if (life == 0){\n                    Intent intent = new Intent(context, GameOver.class);\n                    intent.putExtra(&quot;points&quot;, points);\n                    context.startActivity(intent);\n                    ((Activity) context).finish();\n                }\n            }\n        }\n\n        // Player Collision Detection with Bubble - Add Points.\n        for (int i=0; i &lt; bubbles.size(); i++){\n            if (bubbles.get(i).bubbleX + bubbles.get(i).getBubbleWidth() &gt;= playerX\n                    &amp;&amp; bubbles.get(i).bubbleX &lt;= playerX + player.getWidth()\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &gt;= playerY\n                    &amp;&amp; bubbles.get(i).bubbleY + bubbles.get(i).getBubbleWidth() &lt;= playerY + player.getHeight()){\n                points += 10;\n\n                // Add more bubbles based on Points value\n                if (points % 400 == 0 || points == 50 || points == 100 || points == 200){\n                    Bubble bubble = new Bubble(context);\n                    bubbles.add(bubble);\n                }\n                Pop pop = new Pop(context);\n                pop.popX = bubbles.get(i).bubbleX;\n                pop.popY = bubbles.get(i).bubbleY;\n                pops.add(pop);\n                bubbles.get(i).resetPosition();\n            }\n        }\n\n        // Remove Pop image after bubble is popped.\n        for (int i=0; i&lt;pops.size(); i++){\n            canvas.drawBitmap(pops.get(i).getPop(pops.get(i).popFrame), pops.get(i).popX,\n                    pops.get(i).popY, null);\n            pops.get(i).popFrame++;\n            if (pops.get(i).popFrame &gt; 0){\n                pops.remove(i);\n            }\n        }\n\n        // Player health bar\n        if (life == 2){\n            healthPaint.setColor(Color.YELLOW);\n        } else if (life == 1) {\n            healthPaint.setColor(Color.RED);\n        }\n        canvas.drawRect(dWidth-200, 30, dWidth-200+60*life, 80, healthPaint);\n        canvas.drawText(&quot;&quot; + points, 20, TEXT_SIZE, textPaint);\n        handler.postDelayed(runnable, UPDATE_MILLIS);\n    }\n\n    // Player movement through touch input.\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        float touchX = event.getX();\n        float touchY = event.getY();\n        if (touchY &gt;= playerY){\n            int action = event.getAction();\n            if (action == MotionEvent.ACTION_DOWN){\n                oldX = event.getX();\n                oldPlayerX = playerX;\n            }\n            if (action == MotionEvent.ACTION_MOVE){\n                float shift = oldX - touchX;\n                float newPlayerX = oldPlayerX - shift;\n                if (newPlayerX &lt;= 0)\n                    playerX = 0;\n                else if (newPlayerX &gt;= dWidth - player.getWidth())\n                    playerX = dWidth - player.getWidth();\n                else\n                    playerX = newPlayerX;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","installation","java-home","macos-ventura"],"comments":[{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1686598858,"post_id":76459761,"comment_id":134818182,"body_markdown":"I use SDK man but is has known issues with Java if you are using Xcode (Xcode can&#39;t find the path because is expecting the default by system instead of the custom SDK man path) https://sdkman.io/","body":"I use SDK man but is has known issues with Java if you are using Xcode (Xcode can&#39;t find the path because is expecting the default by system instead of the custom SDK man path) <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686599010,"post_id":76459761,"comment_id":134818203,"body_markdown":"what is the purpose of java installed? I&#39;m using jdk shipped with IntelliJ and didn&#39;t install anything else.","body":"what is the purpose of java installed? I&#39;m using jdk shipped with IntelliJ and didn&#39;t install anything else."},{"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"score":0,"creation_date":1686669099,"post_id":76459761,"comment_id":134829243,"body_markdown":"@AndreyB.Panfilov\nI am using Appium 2.0.0-beta66, Java Client 8.5.0, node 18.xx, Selenium-java 4.9.1, Selenium Server 3.141.59, TestNG 7.7.1, and JDK 1.15.0-02\nI am using this set up for test automating Flutter mobile app on Android and Apple devices.\n\nBTW, If I decide to use IntelliJ supplied one, some times, it may be having some incompatibilities with the above components I mentioned above. Also, to be truthful, I never tried to use JDK that way. Presently I am using the IntelliJ IDEA 2023.1.2 (Community Edition), the latest.","body":"@AndreyB.Panfilov I am using Appium 2.0.0-beta66, Java Client 8.5.0, node 18.xx, Selenium-java 4.9.1, Selenium Server 3.141.59, TestNG 7.7.1, and JDK 1.15.0-02 I am using this set up for test automating Flutter mobile app on Android and Apple devices.  BTW, If I decide to use IntelliJ supplied one, some times, it may be having some incompatibilities with the above components I mentioned above. Also, to be truthful, I never tried to use JDK that way. Presently I am using the IntelliJ IDEA 2023.1.2 (Community Edition), the latest."}],"owner":{"account_id":4667724,"reputation":629,"user_id":3780373,"display_name":"PraNuta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686598446,"creation_date":1686598139,"question_id":76459761,"body_markdown":"I am working on Mac Ventura 13.3.1a.\r\nI am using JDK 15.02 and defining the JAVA_HOME in .zshrc as  like this\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2)\r\n\r\nEvery thing is working fine. With the [new Changes in the Oracle JDK Installers (JDK 17, 11, and 8)][1]\r\nwhat is the best means of installing a new JDK like JDK 17 or higher, while I have been using JDK 1.15.02, right now. Would it be downloading and running .dmg file or zip file and unzipping it in your convenient folder, which I am doing right now. ?\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java/post/changes-in-the-oracle-jdk-installers","title":"a good way to install a new JDK 15 or higher which is on LTS on Mac Ventura 13.3.1a?","body":"<p>I am working on Mac Ventura 13.3.1a.\nI am using JDK 15.02 and defining the JAVA_HOME in .zshrc as  like this</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 15.0.2)\n</code></pre>\n<p>Every thing is working fine. With the <a href=\"https://blogs.oracle.com/java/post/changes-in-the-oracle-jdk-installers\" rel=\"nofollow noreferrer\">new Changes in the Oracle JDK Installers (JDK 17, 11, and 8)</a>\nwhat is the best means of installing a new JDK like JDK 17 or higher, while I have been using JDK 1.15.02, right now. Would it be downloading and running .dmg file or zip file and unzipping it in your convenient folder, which I am doing right now. ?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-java-sdk"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1686598553,"post_id":76459107,"comment_id":134818140,"body_markdown":"&quot;This somehow doesn&#39;t seem to apply to existing objects in S3.&quot; How long did you wait? It won&#39;t be applied immediately.","body":"&quot;This somehow doesn&#39;t seem to apply to existing objects in S3.&quot; How long did you wait? It won&#39;t be applied immediately."},{"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"score":0,"creation_date":1686604466,"post_id":76459107,"comment_id":134819126,"body_markdown":"It&#39;s been over three hours since the policy&#39;s been applied. I referred to a few other threads that said it could up to 48 hrs.","body":"It&#39;s been over three hours since the policy&#39;s been applied. I referred to a few other threads that said it could up to 48 hrs."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1686605892,"post_id":76459107,"comment_id":134819343,"body_markdown":"For a large S3 bucket, I&#39;ve never seen it take less than 12 hours. I usually just create the policy and check it the next day.","body":"For a large S3 bucket, I&#39;ve never seen it take less than 12 hours. I usually just create the policy and check it the next day."}],"answers":[{"tags":[],"owner":{"account_id":14868509,"reputation":426,"user_id":10736724,"display_name":"Juan Emmanuel Afable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686598189,"creation_date":1686598189,"answer_id":76459770,"question_id":76459107,"body_markdown":"The AWS [documentation][1] says that lifecycle changes would apply to both existing and future objects.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html","title":"Delete files in S3 under a certain prefix using LifeCycle configuration","body":"<p>The AWS <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\" rel=\"nofollow noreferrer\">documentation</a> says that lifecycle changes would apply to both existing and future objects.</p>\n"}],"owner":{"account_id":16044709,"reputation":55,"user_id":11580194,"display_name":"adityaViswanatham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686598189,"creation_date":1686591805,"question_id":76459107,"body_markdown":"I have the following folder structure in S3.\r\n\r\n```\r\ndirA/dirB/inputs/\r\ndirA/dirB/outputs/\r\ndirA/dirB/someObject\r\n```\r\n\r\nHere dirA, dirB are just placeholders. They have multiple names. For example, this is how the bucket is organized:\r\n\r\n```\r\nfolder1/subFolder1/inputs/\r\nfolder1/subFolder1/outputs/\r\nfolder1/subFolder1/someobject\r\n \r\nfolder2/subFolder2/inputs/\r\nfolder2/subFolder2/outputs/\r\nfolder2/subFolder2/someobject\r\n```\r\nI am looking to delete the objects under all ```outputs/``` after 1 day. I have the following Java code:\r\n```\r\npublic void addLifeCycleRule() {\r\n        try {\r\n            BucketLifecycleConfiguration.Rule deleteObjectsRule = new BucketLifecycleConfiguration.Rule()\r\n                    .withId(&quot;Delete outputs objects after 1 day&quot;)\r\n                    .withFilter(new LifecycleFilter(new LifecyclePrefixPredicate(&quot;outputs/&quot;)))\r\n                    .withExpirationInDays(1)\r\n                    .withStatus(BucketLifecycleConfiguration.ENABLED);\r\n\r\n            BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\r\n                    .withRules(Collections.singletonList(deleteObjectsRule));\r\n\r\n            s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\r\n\r\n        } catch (AmazonServiceException e) {\r\n            log.info(&quot;addLifeCycleRule: Exception occured. ex={}&quot;, e.getErrorMessage());\r\n        } catch (SdkClientException e) {\r\n            log.info(&quot;addLifeCycleRule: SdkClientException ex={}&quot;, e.getMessage());\r\n        }\r\n    }\r\n```\r\nThis somehow doesn&#39;t seem to apply to existing objects in S3. Any suggestions on what can be done here will be greatly appreciated. Thanks!\r\n","title":"Delete files in S3 under a certain prefix using LifeCycle configuration","body":"<p>I have the following folder structure in S3.</p>\n<pre><code>dirA/dirB/inputs/\ndirA/dirB/outputs/\ndirA/dirB/someObject\n</code></pre>\n<p>Here dirA, dirB are just placeholders. They have multiple names. For example, this is how the bucket is organized:</p>\n<pre><code>folder1/subFolder1/inputs/\nfolder1/subFolder1/outputs/\nfolder1/subFolder1/someobject\n \nfolder2/subFolder2/inputs/\nfolder2/subFolder2/outputs/\nfolder2/subFolder2/someobject\n</code></pre>\n<p>I am looking to delete the objects under all <code>outputs/</code> after 1 day. I have the following Java code:</p>\n<pre><code>public void addLifeCycleRule() {\n        try {\n            BucketLifecycleConfiguration.Rule deleteObjectsRule = new BucketLifecycleConfiguration.Rule()\n                    .withId(&quot;Delete outputs objects after 1 day&quot;)\n                    .withFilter(new LifecycleFilter(new LifecyclePrefixPredicate(&quot;outputs/&quot;)))\n                    .withExpirationInDays(1)\n                    .withStatus(BucketLifecycleConfiguration.ENABLED);\n\n            BucketLifecycleConfiguration configuration = new BucketLifecycleConfiguration()\n                    .withRules(Collections.singletonList(deleteObjectsRule));\n\n            s3Client.setBucketLifecycleConfiguration(bucketName, configuration);\n\n        } catch (AmazonServiceException e) {\n            log.info(&quot;addLifeCycleRule: Exception occured. ex={}&quot;, e.getErrorMessage());\n        } catch (SdkClientException e) {\n            log.info(&quot;addLifeCycleRule: SdkClientException ex={}&quot;, e.getMessage());\n        }\n    }\n</code></pre>\n<p>This somehow doesn't seem to apply to existing objects in S3. Any suggestions on what can be done here will be greatly appreciated. Thanks!</p>\n"},{"tags":["java","json","gson","guava","property-files"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1686598119,"post_id":76459740,"comment_id":134818073,"body_markdown":"You can use _gson_ to iterate on the structures, and identify the equal values.","body":"You can use <i>gson</i> to iterate on the structures, and identify the equal values."},{"owner":{"account_id":12506266,"reputation":73,"user_id":9103021,"display_name":"NehaGoswami"},"score":0,"creation_date":1686601226,"post_id":76459740,"comment_id":134818551,"body_markdown":"yeah i thought of that, but creating a map of Map&lt;&quot;envronment&quot; , &quot;JSON&quot; obj&quot; &gt; and then iterating it , comparing all 20 json files with each other, will that not be too cumbersome ? Did i understand your suggestion correctly?","body":"yeah i thought of that, but creating a map of Map&lt;&quot;envronment&quot; , &quot;JSON&quot; obj&quot; &gt; and then iterating it , comparing all 20 json files with each other, will that not be too cumbersome ? Did i understand your suggestion correctly?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686601461,"post_id":76459740,"comment_id":134818597,"body_markdown":"I guess, I can&#39;t imagine any other way to do it.  Possibly, part of the _gson_ documentation?","body":"I guess, I can&#39;t imagine any other way to do it.  Possibly, part of the <i>gson</i> documentation?"}],"owner":{"account_id":12506266,"reputation":73,"user_id":9103021,"display_name":"NehaGoswami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686598621,"answer_count":0,"score":0,"last_activity_date":1686597955,"creation_date":1686597955,"question_id":76459740,"body_markdown":"I have a list of json property files ( around 20 json property files)\r\n\r\nNow, need is to find common properties across these json files.\r\n\r\nI have used guava api json file comparison,  it compares 2 json files.\r\n\r\nPls suggest any other efficient way to achieve this.\r\n\r\n","title":"Compare more than 2 json file for common properties - Java","body":"<p>I have a list of json property files ( around 20 json property files)</p>\n<p>Now, need is to find common properties across these json files.</p>\n<p>I have used guava api json file comparison,  it compares 2 json files.</p>\n<p>Pls suggest any other efficient way to achieve this.</p>\n"},{"tags":["java","spring-data-jpa","entity"],"answers":[{"tags":[],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686596589,"creation_date":1686596589,"answer_id":76459605,"question_id":76459535,"body_markdown":"The problem was that there were 3 columns in the SQL result with same name `e.name`, `t.name`, `c.name`, and somehow instead of throwing any exception or repeating data inside each column, it returned null. Alias inside @Query resolved this issue.\r\n\r\nSolution\r\n```\r\n@Query(value = &quot;&quot;&quot;\r\n        SELECT E.name, E.amount, C.name as &#39;Category&#39;, E.description, T.name as &#39;Timestamp&#39;\r\n        FROM expense E\r\n        INNER JOIN category C ON C.id = E.category_id\r\n        INNER JOIN timestamp T ON T.id = E.timestamp_id\r\n        &quot;&quot;&quot;, nativeQuery = true)\r\nList&lt;ExpenseDTO&gt; getAll();\r\n```","title":"AbstractJpaQuery$TupleConverter$TupleBackedMap returns null data","body":"<p>The problem was that there were 3 columns in the SQL result with same name <code>e.name</code>, <code>t.name</code>, <code>c.name</code>, and somehow instead of throwing any exception or repeating data inside each column, it returned null. Alias inside @Query resolved this issue.</p>\n<p>Solution</p>\n<pre><code>@Query(value = &quot;&quot;&quot;\n        SELECT E.name, E.amount, C.name as 'Category', E.description, T.name as 'Timestamp'\n        FROM expense E\n        INNER JOIN category C ON C.id = E.category_id\n        INNER JOIN timestamp T ON T.id = E.timestamp_id\n        &quot;&quot;&quot;, nativeQuery = true)\nList&lt;ExpenseDTO&gt; getAll();\n</code></pre>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686596589,"creation_date":1686596239,"question_id":76459535,"body_markdown":"I have an error with missing data that is converted by TupleConverter using `@Query` annotation for SQL statement. I don&#39;t know why, but some columns are null.\r\n\r\n\r\n```\r\n@Repository\r\npublic interface ExpenseRepository extends JpaRepository&lt;Expense, Long&gt; {\r\n\r\n    @Query(value = &quot;&quot;&quot;\r\n            SELECT E.name, E.amount, C.name, E.description, T.name\r\n            FROM expense E\r\n            INNER JOIN category C ON C.id = E.category_id\r\n            INNER JOIN timestamp T ON T.id = E.timestamp_id\r\n            &quot;&quot;&quot;, nativeQuery = true)\r\n    List&lt;ExpenseDTO&gt; getAll();\r\n\r\n}\r\n```\r\n\r\n```\r\npublic interface ExpenseDTO {\r\n    String getName();\r\n    double getAmount();\r\n    String getCategory();\r\n    String getDescription();\r\n    String getTimestamp();\r\n}\r\n```\r\n\r\n\r\n\r\nResults for the code below\r\n```\r\nList&lt;ExpenseDTO&gt; allExpenses = expenseService.getAllExpenses();\r\n        allExpenses.forEach(x -&gt; {\r\n            System.out.println(MessageFormat\r\n                    .format(&quot;{0} {1} {2} {3} {4}&quot;, \r\n                            x.getName(), x.getAmount(), x.getCategory(), x.getTimestamp(), x.getDescription()\r\n                    ));\r\n        });\r\n```\r\n\r\n\r\n\r\n\r\n[![Output][1]][1]\r\n\r\n[![MySql result][2]][2]\r\n\r\nAnother strange thing is that `expense.name` is taken from `timestamp.name` column, but I mentioned the table before selecting column inside SQL statement.\r\n\r\nEntities are generated with Spring JPA and for constraints between tables I used `@ManyToOne` and `@JoinColumn(tableName_id)` annotations inside `Expense` entity. Any help will be great, thanks!\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EH02N.png\r\n  [2]: https://i.stack.imgur.com/oFTnj.png","title":"AbstractJpaQuery$TupleConverter$TupleBackedMap returns null data","body":"<p>I have an error with missing data that is converted by TupleConverter using <code>@Query</code> annotation for SQL statement. I don't know why, but some columns are null.</p>\n<pre><code>@Repository\npublic interface ExpenseRepository extends JpaRepository&lt;Expense, Long&gt; {\n\n    @Query(value = &quot;&quot;&quot;\n            SELECT E.name, E.amount, C.name, E.description, T.name\n            FROM expense E\n            INNER JOIN category C ON C.id = E.category_id\n            INNER JOIN timestamp T ON T.id = E.timestamp_id\n            &quot;&quot;&quot;, nativeQuery = true)\n    List&lt;ExpenseDTO&gt; getAll();\n\n}\n</code></pre>\n<pre><code>public interface ExpenseDTO {\n    String getName();\n    double getAmount();\n    String getCategory();\n    String getDescription();\n    String getTimestamp();\n}\n</code></pre>\n<p>Results for the code below</p>\n<pre><code>List&lt;ExpenseDTO&gt; allExpenses = expenseService.getAllExpenses();\n        allExpenses.forEach(x -&gt; {\n            System.out.println(MessageFormat\n                    .format(&quot;{0} {1} {2} {3} {4}&quot;, \n                            x.getName(), x.getAmount(), x.getCategory(), x.getTimestamp(), x.getDescription()\n                    ));\n        });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EH02N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EH02N.png\" alt=\"Output\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oFTnj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oFTnj.png\" alt=\"MySql result\" /></a></p>\n<p>Another strange thing is that <code>expense.name</code> is taken from <code>timestamp.name</code> column, but I mentioned the table before selecting column inside SQL statement.</p>\n<p>Entities are generated with Spring JPA and for constraints between tables I used <code>@ManyToOne</code> and <code>@JoinColumn(tableName_id)</code> annotations inside <code>Expense</code> entity. Any help will be great, thanks!</p>\n"},{"tags":["java","pattern-matching","instanceof","java-record"],"answers":[{"tags":[],"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672628351,"creation_date":1672627971,"answer_id":74978688,"question_id":74978665,"body_markdown":"Java is just being &quot;nice&quot;: it recognizes that the test will *always* succeed (because `input` is known to be a `Triple`, which is already a subtype of the test type `Triple`), so it produces an error telling you that you&#39;re doing something useless (with a roundabout message).\r\n\r\nThis is the same idea that makes\r\n\r\n    void foo() {\r\n      return;\r\n      return; // error: unreachable statement\r\n    }\r\n\r\nan error: there is a useless piece of code that might indicate (serious) programmer error, so the compiler forces you to rethink the code.\r\n\r\nThe relevant section of the JLS is [15.20.2](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2), which says\r\n\r\n&gt; &gt; *InstanceofExpression*:\r\n&gt; &gt; * ...\r\n&gt; &gt; * *RelationalExpression* `instanceof` *Pattern*\r\n&gt;\r\n&gt; ...\r\n&gt; \r\n&gt; The following rules apply when `instanceof` is the pattern match operator:\r\n&gt; * ...\r\n&gt; * If the type of the *RelationalExpression* is a subtype of the type of the *Pattern*, then a compile-time error occurs.\r\n\r\nI.e. this is indeed an intended part of the language and not just a compiler bug or something.","title":"Pattern Matching for instanceof throwing a confusing error: expression type Triple is a subtype of pattern type Triple","body":"<p>Java is just being &quot;nice&quot;: it recognizes that the test will <em>always</em> succeed (because <code>input</code> is known to be a <code>Triple</code>, which is already a subtype of the test type <code>Triple</code>), so it produces an error telling you that you're doing something useless (with a roundabout message).</p>\n<p>This is the same idea that makes</p>\n<pre><code>void foo() {\n  return;\n  return; // error: unreachable statement\n}\n</code></pre>\n<p>an error: there is a useless piece of code that might indicate (serious) programmer error, so the compiler forces you to rethink the code.</p>\n<p>The relevant section of the JLS is <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">15.20.2</a>, which says</p>\n<blockquote>\n<blockquote>\n<p><em>InstanceofExpression</em>:</p>\n<ul>\n<li>...</li>\n<li><em>RelationalExpression</em> <code>instanceof</code> <em>Pattern</em></li>\n</ul>\n</blockquote>\n<p>...</p>\n<p>The following rules apply when <code>instanceof</code> is the pattern match operator:</p>\n<ul>\n<li>...</li>\n<li>If the type of the <em>RelationalExpression</em> is a subtype of the type of the <em>Pattern</em>, then a compile-time error occurs.</li>\n</ul>\n</blockquote>\n<p>I.e. this is indeed an intended part of the language and not just a compiler bug or something.</p>\n"},{"tags":[],"owner":{"account_id":3726292,"reputation":136,"user_id":3100123,"display_name":"kingds"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686595668,"creation_date":1686595668,"answer_id":76459484,"question_id":74978665,"body_markdown":"[HTNW&#39;s answer](https://stackoverflow.com/a/74978688/3100123) is the correct response but I find this behavior by the compiler to be non-ideal as it doesn&#39;t account for null references. There&#39;s some inconsistency here: \r\n```\r\nString s = null;\r\nif (s instanceof String) {}\r\n``` \r\n\r\n``` \r\nString s = null;\r\nif (s instanceof String string) {}\r\n```   \r\nThe first option will compile, the second one will give the the error &quot;Pattern type &#39;String&#39; is the same as expression type&quot;. This means that `instanceof` can be used as a null check but not if pattern matching is used. Makes no sense.","title":"Pattern Matching for instanceof throwing a confusing error: expression type Triple is a subtype of pattern type Triple","body":"<p><a href=\"https://stackoverflow.com/a/74978688/3100123\">HTNW's answer</a> is the correct response but I find this behavior by the compiler to be non-ideal as it doesn't account for null references. There's some inconsistency here:</p>\n<pre><code>String s = null;\nif (s instanceof String) {}\n</code></pre>\n<pre><code>String s = null;\nif (s instanceof String string) {}\n</code></pre>\n<p>The first option will compile, the second one will give the the error &quot;Pattern type 'String' is the same as expression type&quot;. This means that <code>instanceof</code> can be used as a null check but not if pattern matching is used. Makes no sense.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74978688,"answer_count":2,"score":3,"last_activity_date":1686595668,"creation_date":1672627572,"question_id":74978665,"body_markdown":"I have Java 19, and I am attempting to do some simple pattern-matching on a record that I created. However, Java is giving me a very confusing compilation error. Here is the simplest example I could make that causes the error.\r\n\r\n```java\r\npublic class ExpressionTypeIsASubsetOfPatternType\r\n{\r\n\r\n   public record Triple(int a, int b, int c) {}\r\n\r\n   public static void main(String[] args)\r\n   {\r\n\r\n      System.out.println(&quot;Java Version = &quot; + System.getProperty(&quot;java.version&quot;));\r\n\r\n      final Triple input = new Triple(1, 2, 3);\r\n\r\n      if (input instanceof Triple t)\r\n      {\r\n\r\n         System.out.println(&quot;Made it here&quot;);\r\n\r\n      }\r\n\r\n   }\r\n\r\n}\r\n```\r\n\r\nAnd here is the error that it gives me when I try to run/compile.\r\n\r\n```\r\n$ java ExpressionTypeIsASubsetOfPatternType.java\r\nExpressionTypeIsASubsetOfPatternType.java:15: error: expression type Triple is a subtype of pattern type Triple\r\n      if (input instanceof Triple t)\r\n                ^\r\n1 error\r\nerror: compilation failed\r\n```\r\n\r\nSurprisingly enough, googling this error showed up nothing useful. I am so used to punching in an error and immediately seeing the problem. I imagine that it is because this feature is so new.\r\n\r\nAnyways, the closest thing I could find is a [bug][1] that is related, but definitely not the same issue that I am dealing with.\r\n\r\nFinally, here is the relevant info about my java version.\r\n\r\n```\r\n$ java --version\r\nopenjdk 19 2022-09-20\r\nOpenJDK Runtime Environment (build 19+36-2238)\r\nOpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\r\n```\r\n\r\n```\r\n$ javac --version\r\njavac 19\r\n```\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8260566","title":"Pattern Matching for instanceof throwing a confusing error: expression type Triple is a subtype of pattern type Triple","body":"<p>I have Java 19, and I am attempting to do some simple pattern-matching on a record that I created. However, Java is giving me a very confusing compilation error. Here is the simplest example I could make that causes the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExpressionTypeIsASubsetOfPatternType\n{\n\n   public record Triple(int a, int b, int c) {}\n\n   public static void main(String[] args)\n   {\n\n      System.out.println(&quot;Java Version = &quot; + System.getProperty(&quot;java.version&quot;));\n\n      final Triple input = new Triple(1, 2, 3);\n\n      if (input instanceof Triple t)\n      {\n\n         System.out.println(&quot;Made it here&quot;);\n\n      }\n\n   }\n\n}\n</code></pre>\n<p>And here is the error that it gives me when I try to run/compile.</p>\n<pre><code>$ java ExpressionTypeIsASubsetOfPatternType.java\nExpressionTypeIsASubsetOfPatternType.java:15: error: expression type Triple is a subtype of pattern type Triple\n      if (input instanceof Triple t)\n                ^\n1 error\nerror: compilation failed\n</code></pre>\n<p>Surprisingly enough, googling this error showed up nothing useful. I am so used to punching in an error and immediately seeing the problem. I imagine that it is because this feature is so new.</p>\n<p>Anyways, the closest thing I could find is a <a href=\"https://bugs.openjdk.org/browse/JDK-8260566\" rel=\"nofollow noreferrer\">bug</a> that is related, but definitely not the same issue that I am dealing with.</p>\n<p>Finally, here is the relevant info about my java version.</p>\n<pre><code>$ java --version\nopenjdk 19 2022-09-20\nOpenJDK Runtime Environment (build 19+36-2238)\nOpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\n</code></pre>\n<pre><code>$ javac --version\njavac 19\n</code></pre>\n"},{"tags":["java","javascript"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1413971102,"post_id":26504604,"comment_id":41640351,"body_markdown":"Show us some code (function), have you tried something ?","body":"Show us some code (function), have you tried something ?"},{"owner":{"account_id":3265513,"reputation":1106,"user_id":2750098,"accept_rate":67,"display_name":"Riadh"},"score":0,"creation_date":1413973324,"post_id":26504604,"comment_id":41641444,"body_markdown":"I tried ($(&quot;#field&quot;).val() &gt; 2147483647)...","body":"I tried ($(&quot;#field&quot;).val() &gt; 2147483647)..."}],"answers":[{"tags":[],"owner":{"account_id":385703,"reputation":32586,"user_id":743016,"accept_rate":85,"display_name":"Jerodev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1413971252,"creation_date":1413971252,"answer_id":26504674,"question_id":26504604,"body_markdown":"Just test the number in an if?\r\n\r\n    var number = 1234567;\r\n    if (Number.isInteger(number)) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647)\r\n    {\r\n        console.log(&quot;It is a valid integer!&quot;);\r\n    }","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>Just test the number in an if?</p>\n\n<pre><code>var number = 1234567;\nif (Number.isInteger(number)) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647)\n{\n    console.log(\"It is a valid integer!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1900362,"reputation":19274,"user_id":1716339,"display_name":"Aki Suihkonen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413974286,"creation_date":1413974286,"answer_id":26505572,"question_id":26504604,"body_markdown":"Assuming that the range of integers in Java is actually &quot;–2147483648 &lt;= n &lt;= 2147483647&quot;, the expression `((+a)|0) == a` will work as specified.\r\n\r\n -  `+a` evaluates the expression a as a number;\r\n -  `|0` converts the number to 32-bit integer\r\n\r\nThe comparison will fail, when `a` is not exactly representable by an 32-bit integer.\r\n\r\n","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>Assuming that the range of integers in Java is actually \"–2147483648 &lt;= n &lt;= 2147483647\", the expression <code>((+a)|0) == a</code> will work as specified.</p>\n\n<ul>\n<li><code>+a</code> evaluates the expression a as a number;</li>\n<li><code>|0</code> converts the number to 32-bit integer</li>\n</ul>\n\n<p>The comparison will fail, when <code>a</code> is not exactly representable by an 32-bit integer.</p>\n"},{"tags":[],"owner":{"account_id":5312529,"reputation":3610,"user_id":4238323,"display_name":"MSS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652872247,"creation_date":1652872247,"answer_id":72288096,"question_id":26504604,"body_markdown":"as a function :\r\n\r\n    function isValidInt32(number){\r\n       return Number.isInteger(number) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647; \r\n    }","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>as a function :</p>\n<pre><code>function isValidInt32(number){\n   return Number.isInteger(number) &amp;&amp; number &gt; -2147483648 &amp;&amp; number &lt; 2147483647; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686594801,"creation_date":1653505818,"answer_id":72383003,"question_id":26504604,"body_markdown":"    \r\nFor floating point values, if we want an integer, but allows a value ending in &quot;.0&quot;:\r\n\r\n    isInt32(state) {\r\n        if(!(/^([+-]?[1-9]\\d*|0).[0]$/.test(state))\r\n            &amp;&amp; !(/^([+-]?[1-9]\\d*|0)$/.test(state))) {\r\n            return false;\r\n        }\r\n        const view = new DataView(new ArrayBuffer(32));\r\n        view.setInt32(1, state);\r\n        return Number.parseInt(state) === view.getInt32(1);\r\n    }","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>For floating point values, if we want an integer, but allows a value ending in &quot;.0&quot;:</p>\n<pre><code>isInt32(state) {\n    if(!(/^([+-]?[1-9]\\d*|0).[0]$/.test(state))\n        &amp;&amp; !(/^([+-]?[1-9]\\d*|0)$/.test(state))) {\n        return false;\n    }\n    const view = new DataView(new ArrayBuffer(32));\n    view.setInt32(1, state);\n    return Number.parseInt(state) === view.getInt32(1);\n}\n</code></pre>\n"}],"owner":{"account_id":3265513,"reputation":1106,"user_id":2750098,"accept_rate":67,"display_name":"Riadh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26504674,"answer_count":4,"score":2,"last_activity_date":1686594801,"creation_date":1413970968,"question_id":26504604,"body_markdown":"What&#39;s he correct way to validate JavaScript numbers as Java int?\r\n\r\n      –2147483648 &lt; n &lt; 2147483647\r\n\r\n     IsNumeric(2147483648) --&gt; true: which is &gt; int\r\n     parseInt(&quot;2147483648&quot;) --&gt; 2147483648 : which is &gt; int","title":"Check if numbers in JavaScript is in the range of int in Java (–2147483648 &lt; n &lt; 2147483647)","body":"<p>What's he correct way to validate JavaScript numbers as Java int?</p>\n\n<pre><code>  –2147483648 &lt; n &lt; 2147483647\n\n IsNumeric(2147483648) --&gt; true: which is &gt; int\n parseInt(\"2147483648\") --&gt; 2147483648 : which is &gt; int\n</code></pre>\n"},{"tags":["java","android","tensorflow","tensorflow-lite","solution"],"comments":[{"owner":{"account_id":10351262,"reputation":106,"user_id":13566128,"display_name":"Notron"},"score":0,"creation_date":1687719527,"post_id":76459373,"comment_id":134972369,"body_markdown":"it could be that some operations are not supported yet, can you provide the version of tensorflow lite dependencies that you have on your app (you can find that in gradle file)","body":"it could be that some operations are not supported yet, can you provide the version of tensorflow lite dependencies that you have on your app (you can find that in gradle file)"}],"owner":{"account_id":19524774,"reputation":1,"user_id":14285809,"display_name":"Khirman Saleem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686594608,"creation_date":1686594608,"question_id":76459373,"body_markdown":"I have converted my DenseNet-121 model to model.tflite, and when i am loading it to android app and trying to make predictions, it&#39;s giving following errors : java.lang.IllegalStateException: Internal error: Unexpected failure when preparing tensor allocations: tensorflow/lite/kernels/pad.cc:79 SizeOfDimension(op_context-&gt;paddings, 0) != op_context-&gt;dims (4 != 1) Node number 0 (PAD) failed to prepare.\r\n    at org.tensorflow.lite.NativeInterpreterWrapper.allocateTensors(Native Method)\r\n    at org.tensorflow.lite.NativeInterpreterWrapper.allocateTensorsIfNeeded(NativeInterpreterWrapper.java:308)\r\n    at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:248)\r\n    at org.tensorflow.lite.InterpreterImpl.runForMultipleInputsOutputs(InterpreterImpl.java:101)\r\n    at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:77)\r\n    at org.tensorflow.lite.InterpreterImpl.run(InterpreterImpl.java:94)\r\n    at org.tensorflow.lite.Interpreter.run(Interpreter.java:77)\r\n    at com.example.appleleafdiseasedetection.DiseaseDetector$2.onClick(DiseaseDetector.java:72)\r\n    at android.view.View.performClick(View.java:7743)\r\n    at android.view.View.performClickInternal(View.java:7720)\r\n    at android.view.View.access$3700(View.java:854)\r\n    at android.view.View$PerformClick.run(View.java:29111)\r\n    at android.os.Handler.handleCallback(Handler.java:938)\r\n    at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    at android.os.Looper.loopOnce(Looper.java:210)\r\n    at android.os.Looper.loop(Looper.java:299)\r\n    at android.app.ActivityThread.main(ActivityThread.java:8309)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038) \r\n    how can i solve it?\r\n\r\n","title":"Error While Loading tflite Model in My Android App","body":"<p>I have converted my DenseNet-121 model to model.tflite, and when i am loading it to android app and trying to make predictions, it's giving following errors : java.lang.IllegalStateException: Internal error: Unexpected failure when preparing tensor allocations: tensorflow/lite/kernels/pad.cc:79 SizeOfDimension(op_context-&gt;paddings, 0) != op_context-&gt;dims (4 != 1) Node number 0 (PAD) failed to prepare.\nat org.tensorflow.lite.NativeInterpreterWrapper.allocateTensors(Native Method)\nat org.tensorflow.lite.NativeInterpreterWrapper.allocateTensorsIfNeeded(NativeInterpreterWrapper.java:308)\nat org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:248)\nat org.tensorflow.lite.InterpreterImpl.runForMultipleInputsOutputs(InterpreterImpl.java:101)\nat org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:77)\nat org.tensorflow.lite.InterpreterImpl.run(InterpreterImpl.java:94)\nat org.tensorflow.lite.Interpreter.run(Interpreter.java:77)\nat com.example.appleleafdiseasedetection.DiseaseDetector$2.onClick(DiseaseDetector.java:72)\nat android.view.View.performClick(View.java:7743)\nat android.view.View.performClickInternal(View.java:7720)\nat android.view.View.access$3700(View.java:854)\nat android.view.View$PerformClick.run(View.java:29111)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:210)\nat android.os.Looper.loop(Looper.java:299)\nat android.app.ActivityThread.main(ActivityThread.java:8309)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\nhow can i solve it?</p>\n"},{"tags":["java","android","service"],"answers":[{"tags":[],"owner":{"account_id":426150,"reputation":7022,"user_id":807193,"accept_rate":30,"display_name":"Shadab Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503511209,"creation_date":1503444280,"answer_id":45828386,"question_id":45828315,"body_markdown":"You need to remove `android:exported=&quot;false&quot;`(by default for receivers with intent filters has android:exported = true) from the `LedPearlynReceiver` declaration in Manifest.\r\n\r\nReference : `https://developer.android.com/guide/topics/manifest/receiver-element.html#exported`\r\n\r\nAlso, try adding the fully qualified name in the manifest.\r\n`android:name=&quot;com.gabrielgagz.ledpearlyn.LedPearlynReceiver&quot;`","title":"Own Service: Unable to instantiate receiver","body":"<p>You need to remove <code>android:exported=\"false\"</code>(by default for receivers with intent filters has android:exported = true) from the <code>LedPearlynReceiver</code> declaration in Manifest.</p>\n\n<p>Reference : <code>https://developer.android.com/guide/topics/manifest/receiver-element.html#exported</code></p>\n\n<p>Also, try adding the fully qualified name in the manifest.\n<code>android:name=\"com.gabrielgagz.ledpearlyn.LedPearlynReceiver\"</code></p>\n"}],"owner":{"account_id":10439876,"reputation":1,"user_id":7696899,"display_name":"gabrielgagz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686593879,"creation_date":1503443651,"question_id":45828315,"body_markdown":"First of all I have to say that I&#39;m totally newbie on java.\r\nI wrote this using some tutorials.\r\n\r\nAs you see, the package name is correct in manifest and there aren&#39;t misspelling errors...\r\n\r\nI&#39;m trying to write a service for my device, which controls the led of it. But I&#39;m keep getting this error:\r\n\r\n&gt;AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.gabrielgagz.ledpearlyn.LedPearlynReceiver&quot; on path: DexPathList[[zip file &quot;/system/app/LedPearlyn/LedPearlyn.apk&quot;],nativeLibraryDirectories=[/system/app/LedPearlyn/lib/arm, /system/app/LedPearlyn/LedPearlyn.apk!/lib/armeabi-v7a, /system/lib, /vendor/lib, /system/lib, /vendor/lib]]\r\n\r\nLedPearlynReceiver:\r\n\r\n    package com.gabrielgagz.ledpearlyn;\r\n\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    import java.io.*;\r\n\r\n    public class LedPearlynReceiver extends BroadcastReceiver {\r\n\r\n    public static boolean wasScreenOn = true;\r\n\r\n    @Override\r\n    public void onReceive(final Context context, final Intent intent) {\r\n        if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF) || intent.getAction().equals(Intent.ACTION_DREAMING_STARTED))  {\r\n\t\t\ttry {\r\n            String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 0 &gt; /sys/class/leds/pearlyn/brightness&quot;};\t \t \r\n            Runtime.getRuntime().exec(cmd);\r\n            } catch(IOException ie) {\r\n            ie.printStackTrace();\r\n\t\t\t}\r\n            wasScreenOn = false;\r\n            Log.e(&quot;LedPearlyn&quot;,&quot;OFF&quot;);\r\n        } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON) ||  intent.getAction().equals(Intent.ACTION_DREAMING_STOPPED)) {\r\n\t\t\ttry {\r\n            String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 255 &gt; /sys/class/leds/pearlyn/brightness&quot;};\t \t \r\n            Runtime.getRuntime().exec(cmd);\r\n            } catch(IOException ie) {\r\n            ie.printStackTrace();\r\n\t\t\t} \r\n            wasScreenOn = true;\r\n            Log.e(&quot;LedPearlyn&quot;,&quot;ON&quot;);\r\n        }        \r\n    }\r\n    }\r\n\r\nLedPearlynService:\r\n\r\n    package com.gabrielgagz.ledpearlyn;\r\n \r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.os.Binder;\r\n    import android.os.IBinder;\r\n    import android.content.BroadcastReceiver;\r\n\r\n    public class LedPearlynService extends Service {\r\n\r\n\t@Override\r\n\tpublic IBinder onBind(Intent intent) {\r\n\t\treturn null;\r\n\t\t}\r\n\r\n\t@Override\r\n\t\tpublic void onCreate() {\r\n\t\tsuper.onCreate();\r\n\t\t}\r\n\r\n\t@Override\r\n\tpublic int onStartCommand(Intent intent, int flags, int startId) {\r\n\t\tfinal IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\r\n\t\tfilter.addAction(Intent.ACTION_SCREEN_OFF);\r\n\t\tfilter.addAction(Intent.ACTION_DREAMING_STARTED);\r\n\t\tfilter.addAction(Intent.ACTION_DREAMING_STOPPED);\r\n\t\tfinal BroadcastReceiver mReceiver = new LedPearlynReceiver();\r\n\t\tregisterReceiver(mReceiver, filter);\r\n\t\treturn super.onStartCommand(intent, flags, startId);\r\n\t\t}\r\n\tpublic class LocalBinder extends Binder {\r\n\t\tLedPearlynService getService() {\r\n\t\treturn LedPearlynService.this;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nAndroidManifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest android:sharedUserId=&quot;android.uid.system&quot; android:versionCode=&quot;1&quot; android:versionName=&quot;1.0&quot; package=&quot;com.gabrielgagz.ledpearlyn&quot; platformBuildVersionCode=&quot;25&quot; platformBuildVersionName=&quot;7.1.2&quot;\r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\r\n    &lt;application&gt;\r\n        &lt;receiver android:label=&quot;LedPearlynReceiver&quot; android:name=&quot;.LedPearlynReceiver&quot; android:exported=&quot;false&quot;&gt; \r\n\t\t&lt;intent-filter&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.SCREEN_ON&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.SCREEN_OFF&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.DREAMING_STARTED&quot; /&gt;\r\n\t\t\t&lt;action android:name=&quot;android.intent.action.DREAMING_STOPPED&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n        &lt;service android:name=&quot;.LedPearlynService&quot; android:exported=&quot;false&quot;&gt;&lt;/service&gt;\r\n    &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n","title":"Own Service: Unable to instantiate receiver","body":"<p>First of all I have to say that I'm totally newbie on java.\nI wrote this using some tutorials.</p>\n<p>As you see, the package name is correct in manifest and there aren't misspelling errors...</p>\n<p>I'm trying to write a service for my device, which controls the led of it. But I'm keep getting this error:</p>\n<blockquote>\n<p>AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.gabrielgagz.ledpearlyn.LedPearlynReceiver&quot; on path: DexPathList[[zip file &quot;/system/app/LedPearlyn/LedPearlyn.apk&quot;],nativeLibraryDirectories=[/system/app/LedPearlyn/lib/arm, /system/app/LedPearlyn/LedPearlyn.apk!/lib/armeabi-v7a, /system/lib, /vendor/lib, /system/lib, /vendor/lib]]</p>\n</blockquote>\n<p>LedPearlynReceiver:</p>\n<pre><code>package com.gabrielgagz.ledpearlyn;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\nimport java.io.*;\n\npublic class LedPearlynReceiver extends BroadcastReceiver {\n\npublic static boolean wasScreenOn = true;\n\n@Override\npublic void onReceive(final Context context, final Intent intent) {\n    if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF) || intent.getAction().equals(Intent.ACTION_DREAMING_STARTED))  {\n        try {\n        String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 0 &gt; /sys/class/leds/pearlyn/brightness&quot;};         \n        Runtime.getRuntime().exec(cmd);\n        } catch(IOException ie) {\n        ie.printStackTrace();\n        }\n        wasScreenOn = false;\n        Log.e(&quot;LedPearlyn&quot;,&quot;OFF&quot;);\n    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON) ||  intent.getAction().equals(Intent.ACTION_DREAMING_STOPPED)) {\n        try {\n        String[] cmd = { &quot;/system/bin/sh&quot;, &quot;-c&quot;, &quot;echo 255 &gt; /sys/class/leds/pearlyn/brightness&quot;};       \n        Runtime.getRuntime().exec(cmd);\n        } catch(IOException ie) {\n        ie.printStackTrace();\n        } \n        wasScreenOn = true;\n        Log.e(&quot;LedPearlyn&quot;,&quot;ON&quot;);\n    }        \n}\n}\n</code></pre>\n<p>LedPearlynService:</p>\n<pre><code>package com.gabrielgagz.ledpearlyn;\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.Binder;\nimport android.os.IBinder;\nimport android.content.BroadcastReceiver;\n\npublic class LedPearlynService extends Service {\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n    }\n\n@Override\n    public void onCreate() {\n    super.onCreate();\n    }\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    final IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);\n    filter.addAction(Intent.ACTION_SCREEN_OFF);\n    filter.addAction(Intent.ACTION_DREAMING_STARTED);\n    filter.addAction(Intent.ACTION_DREAMING_STOPPED);\n    final BroadcastReceiver mReceiver = new LedPearlynReceiver();\n    registerReceiver(mReceiver, filter);\n    return super.onStartCommand(intent, flags, startId);\n    }\npublic class LocalBinder extends Binder {\n    LedPearlynService getService() {\n    return LedPearlynService.this;\n    }\n}\n}\n</code></pre>\n<p>AndroidManifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest android:sharedUserId=&quot;android.uid.system&quot; android:versionCode=&quot;1&quot; android:versionName=&quot;1.0&quot; package=&quot;com.gabrielgagz.ledpearlyn&quot; platformBuildVersionCode=&quot;25&quot; platformBuildVersionName=&quot;7.1.2&quot;\n xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERACT_ACROSS_USERS&quot; /&gt;\n&lt;application&gt;\n    &lt;receiver android:label=&quot;LedPearlynReceiver&quot; android:name=&quot;.LedPearlynReceiver&quot; android:exported=&quot;false&quot;&gt; \n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.SCREEN_ON&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.SCREEN_OFF&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.DREAMING_STARTED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.DREAMING_STOPPED&quot; /&gt;\n    &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n    &lt;service android:name=&quot;.LedPearlynService&quot; android:exported=&quot;false&quot;&gt;&lt;/service&gt;\n&lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","json","parsing","opensearch"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686596826,"post_id":76459190,"comment_id":134817827,"body_markdown":"What happens if you execute ```System.out.println(EntityUtils.toString(response.getEntity()));``` twice? Is it possible that the ```getEntity()``` method consumes the underlying data and it is empty on the second run?","body":"What happens if you execute <code>System.out.println(EntityUtils.toString(response.getEntity()&zwnj;&#8203;));</code> twice? Is it possible that the <code>getEntity()</code> method consumes the underlying data and it is empty on the second run?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1686600688,"post_id":76459190,"comment_id":134818460,"body_markdown":"yes, the entity is consumed by the first `EntityUtils.toString()` call and therefore the parse fails.  by saving the response string to a local variable, you can safely reprocess the results multiple times.","body":"yes, the entity is consumed by the first <code>EntityUtils.toString()</code> call and therefore the parse fails.  by saving the response string to a local variable, you can safely reprocess the results multiple times."}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686593861,"creation_date":1686592735,"question_id":76459190,"body_markdown":"I have the following code in Java. I&#39;m trying to query Opensearch and parse the response.\r\n```\r\nResponse response = client.getLowLevelClient().performRequest(request);\r\nSystem.out.println(EntityUtils.toString(response.getEntity()));\r\nJSONObject responseJson = new JSONObject(EntityUtils.toString(response.getEntity()));\r\n```\r\n\r\nThe final line throws the following exception\r\n```\r\nA JSONObject text must begin with &#39;{&#39; at 0 [character 1 line 1]\r\n```\r\n\r\nHere is the output of the println:\r\n```\r\n{&quot;took&quot;:6,&quot;timed_out&quot;:false,&quot;_shards&quot;:{&quot;total&quot;:5,&quot;successful&quot;:5,&quot;skipped&quot;:0,&quot;failed&quot;:0},&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:0,&quot;relation&quot;:&quot;eq&quot;},&quot;max_score&quot;:null,&quot;hits&quot;:[]}}\r\n```\r\n\r\nThis looks like a valid JSON to me. Why is it throwing an error? I also tried to trim the string, still the same error. What am I missing?\r\n\r\nEdit: Alright, I was able to solve it by doing the following:\r\n\r\n```\r\nResponse response = client.getLowLevelClient().performRequest(request);\r\nString responseString = EntityUtils.toString(response.getEntity());\r\nSystem.out.println(responseString);\r\nJSONObject responseJson = new JSONObject(responseString));\r\n```\r\n\r\nI&#39;m not sure why this fixed it. I wonder someone can give an idea.","title":"A JSONObject text must begin with &#39;{&#39; at 0 [character 1 line 1]","body":"<p>I have the following code in Java. I'm trying to query Opensearch and parse the response.</p>\n<pre><code>Response response = client.getLowLevelClient().performRequest(request);\nSystem.out.println(EntityUtils.toString(response.getEntity()));\nJSONObject responseJson = new JSONObject(EntityUtils.toString(response.getEntity()));\n</code></pre>\n<p>The final line throws the following exception</p>\n<pre><code>A JSONObject text must begin with '{' at 0 [character 1 line 1]\n</code></pre>\n<p>Here is the output of the println:</p>\n<pre><code>{&quot;took&quot;:6,&quot;timed_out&quot;:false,&quot;_shards&quot;:{&quot;total&quot;:5,&quot;successful&quot;:5,&quot;skipped&quot;:0,&quot;failed&quot;:0},&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:0,&quot;relation&quot;:&quot;eq&quot;},&quot;max_score&quot;:null,&quot;hits&quot;:[]}}\n</code></pre>\n<p>This looks like a valid JSON to me. Why is it throwing an error? I also tried to trim the string, still the same error. What am I missing?</p>\n<p>Edit: Alright, I was able to solve it by doing the following:</p>\n<pre><code>Response response = client.getLowLevelClient().performRequest(request);\nString responseString = EntityUtils.toString(response.getEntity());\nSystem.out.println(responseString);\nJSONObject responseJson = new JSONObject(responseString));\n</code></pre>\n<p>I'm not sure why this fixed it. I wonder someone can give an idea.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1686440459,"post_id":76446922,"comment_id":134799135,"body_markdown":"Please use the code indentation tools to make it easier to understand.","body":"Please use the code indentation tools to make it easier to understand."}],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686593741,"creation_date":1686440817,"answer_id":76448565,"question_id":76446922,"body_markdown":"Doc:\r\n\r\n&gt; Each field has a field data type, or field type. This type indicates\r\n&gt; the kind of data the field contains, such as strings or boolean\r\n&gt; values, and its intended use. For example, you can index strings to\r\n&gt; both text and keyword fields. However, text field values are analyzed\r\n&gt; for full-text search while keyword strings are left as-is for\r\n&gt; filtering and sorting.\r\n\r\nChange type long to Text. Only Text type works with analyzer.\r\n\r\nQuery\r\n\r\n    GET idx_test/_search\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;range&quot;: {\r\n          &quot;phoneNumber.numvalue&quot;: {\r\n            &quot;gte&quot;: 55343457\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nMapping \r\n\r\n    \r\n    PUT idx_test\r\n    {\r\n      &quot;settings&quot;: {\r\n        &quot;analysis&quot;: {\r\n          &quot;char_filter&quot;: {\r\n            &quot;phone_number&quot;: {\r\n              &quot;type&quot;: &quot;pattern_replace&quot;,\r\n              &quot;pattern&quot;: &quot;[^0-9]&quot;,\r\n              &quot;replacement&quot;: &quot;&quot;\r\n            }\r\n          },\r\n          &quot;analyzer&quot;: {\r\n            &quot;phone_analyzer&quot;: {\r\n              &quot;tokenizer&quot;: &quot;standard&quot;,\r\n              &quot;char_filter&quot;: [\r\n                &quot;phone_number&quot;\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;mappings&quot;: {\r\n        &quot;properties&quot;: {\r\n          &quot;phoneNumber&quot;: {\r\n            &quot;type&quot;: &quot;keyword&quot;,\r\n            &quot;fields&quot;: {\r\n              &quot;numvalue&quot;: {\r\n                &quot;type&quot;: &quot;text&quot;,\r\n                &quot;analyzer&quot;: &quot;phone_analyzer&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    POST idx_test/_doc\r\n    {\r\n      &quot;phoneNumber&quot;:&quot;+553434-56&quot;\r\n    }","title":"Issue with setting up custom analyzer wiith failed to parse mapping error","body":"<p>Doc:</p>\n<blockquote>\n<p>Each field has a field data type, or field type. This type indicates\nthe kind of data the field contains, such as strings or boolean\nvalues, and its intended use. For example, you can index strings to\nboth text and keyword fields. However, text field values are analyzed\nfor full-text search while keyword strings are left as-is for\nfiltering and sorting.</p>\n</blockquote>\n<p>Change type long to Text. Only Text type works with analyzer.</p>\n<p>Query</p>\n<pre><code>GET idx_test/_search\n{\n  &quot;query&quot;: {\n    &quot;range&quot;: {\n      &quot;phoneNumber.numvalue&quot;: {\n        &quot;gte&quot;: 55343457\n      }\n    }\n  }\n}\n</code></pre>\n<p>Mapping</p>\n<pre><code>PUT idx_test\n{\n  &quot;settings&quot;: {\n    &quot;analysis&quot;: {\n      &quot;char_filter&quot;: {\n        &quot;phone_number&quot;: {\n          &quot;type&quot;: &quot;pattern_replace&quot;,\n          &quot;pattern&quot;: &quot;[^0-9]&quot;,\n          &quot;replacement&quot;: &quot;&quot;\n        }\n      },\n      &quot;analyzer&quot;: {\n        &quot;phone_analyzer&quot;: {\n          &quot;tokenizer&quot;: &quot;standard&quot;,\n          &quot;char_filter&quot;: [\n            &quot;phone_number&quot;\n          ]\n        }\n      }\n    }\n  },\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;phoneNumber&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;,\n        &quot;fields&quot;: {\n          &quot;numvalue&quot;: {\n            &quot;type&quot;: &quot;text&quot;,\n            &quot;analyzer&quot;: &quot;phone_analyzer&quot;\n          }\n        }\n      }\n    }\n  }\n}\n\nPOST idx_test/_doc\n{\n  &quot;phoneNumber&quot;:&quot;+553434-56&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":4725913,"reputation":37,"user_id":3822558,"display_name":"user3822558"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686593741,"creation_date":1686411519,"question_id":76446922,"body_markdown":"Issue with setting up custom analyzer with the following:\r\n&quot;phoneNumber&quot; : {\r\n\r\n&quot;type&quot;: &quot;keyword&quot;,\r\n\r\n&quot;fields&quot; : {\r\n\r\n&quot;numvalue&quot; : {\r\n\r\n&quot;type&quot;:&quot;long&quot;,\r\n\r\n&quot;analyzer&quot;: &quot;phone_analyzer&quot;\r\n\r\n}}}\r\n\r\n&quot;phone_analyzer&quot; : {\r\n\r\n&quot;tokenizer&quot;:&quot;standard&quot;,\r\n\r\n&quot;char_filter&quot;: [&quot;phone_number&#39;]}\r\n\r\n&quot;char_filter&quot; :{\r\n\r\n&quot;phone_number&quot;: {\r\n\r\n&quot;type&quot;:&quot;pattern_replace&quot;,\r\n\r\n&quot;pattern&quot;: &quot;[^0-9]&quot;,\r\n\r\n&quot;replacement&quot;:&quot;&quot;\r\n\r\n}}\r\n\r\nSo basically my intention is to have the &quot;raw value&quot; to still be used as keyword while I created a new field called numvalue where it is long and using a custom analyzer with a chat_filter that replaces all non-digit values with &quot;&quot; (no space). So if things work out, my front end will retrieve the raw value - with - or + or whatever and my backend search will use the &quot;numvalue&quot; in the range search.\r\n\r\n\r\n\r\nWhen i ran it i did get &quot;mapper_parsing_exception&quot; &quot;failed to parse mapping [_doc] unknown parameter [analyzer] on mapper [numvalue] of type [long] status 400.\r\n\r\nThere are other analyzers around too. Do you have any idea why? I am using 7.* for Elastic search b","title":"Issue with setting up custom analyzer wiith failed to parse mapping error","body":"<p>Issue with setting up custom analyzer with the following:\n&quot;phoneNumber&quot; : {</p>\n<p>&quot;type&quot;: &quot;keyword&quot;,</p>\n<p>&quot;fields&quot; : {</p>\n<p>&quot;numvalue&quot; : {</p>\n<p>&quot;type&quot;:&quot;long&quot;,</p>\n<p>&quot;analyzer&quot;: &quot;phone_analyzer&quot;</p>\n<p>}}}</p>\n<p>&quot;phone_analyzer&quot; : {</p>\n<p>&quot;tokenizer&quot;:&quot;standard&quot;,</p>\n<p>&quot;char_filter&quot;: [&quot;phone_number']}</p>\n<p>&quot;char_filter&quot; :{</p>\n<p>&quot;phone_number&quot;: {</p>\n<p>&quot;type&quot;:&quot;pattern_replace&quot;,</p>\n<p>&quot;pattern&quot;: &quot;[^0-9]&quot;,</p>\n<p>&quot;replacement&quot;:&quot;&quot;</p>\n<p>}}</p>\n<p>So basically my intention is to have the &quot;raw value&quot; to still be used as keyword while I created a new field called numvalue where it is long and using a custom analyzer with a chat_filter that replaces all non-digit values with &quot;&quot; (no space). So if things work out, my front end will retrieve the raw value - with - or + or whatever and my backend search will use the &quot;numvalue&quot; in the range search.</p>\n<p>When i ran it i did get &quot;mapper_parsing_exception&quot; &quot;failed to parse mapping [_doc] unknown parameter [analyzer] on mapper [numvalue] of type [long] status 400.</p>\n<p>There are other analyzers around too. Do you have any idea why? I am using 7.* for Elastic search b</p>\n"},{"tags":["java","mysql","docker"],"answers":[{"tags":[],"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675509119,"creation_date":1675509119,"answer_id":75344680,"question_id":75344232,"body_markdown":"Is the application referring to the right database ?\r\n\r\n&gt; **No**. Check SPRING_DATASOURCE_URL in docker-compose file, localhost in the url points to your local db. Change it to db (service name you have given in the docker-compose file for mysql).","title":"Run Java application (Spring Boot + MySQL) by Docker compose","body":"<p>Is the application referring to the right database ?</p>\n<blockquote>\n<p><strong>No</strong>. Check SPRING_DATASOURCE_URL in docker-compose file, localhost in the url points to your local db. Change it to db (service name you have given in the docker-compose file for mysql).</p>\n</blockquote>\n"}],"owner":{"account_id":26846540,"reputation":13,"user_id":20432214,"display_name":"shvetsovitaliy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75344680,"answer_count":1,"score":1,"last_activity_date":1686592455,"creation_date":1675503934,"question_id":75344232,"body_markdown":"I&#39;m trying to run an application on my local machine using Docker. I also want to run the application on a remote server. Without Docker in Intelij Idea everything works fine.\r\n\r\nOn the local machine I installed Docker. Created a Dockerfile and docker-compose.yml in the root folder of the project. Some errors I made in these files. I think, the communication as I understand it between database and my application is not working.\r\n\r\nMaybe something wrong with MYSQL_ROOT_PASSWORD, because i really don&#39;t know what the password from MYSQL_ROOT_PASSWORD. I just know username and password. I run mysql by MySQLWorkbanch, i create here commection named &quot;my_connection&quot;, there is user named &quot;bestuser&quot; and login &quot;bestuser&quot;.\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\nThis is my structure of project\r\n\r\n[enter image description here][2]\r\n\r\n\r\nI tried combine ports, 8080:8080, 8081:8080, 3306:3306, 3307:3306.. But nothing.\r\n\r\nMySQL image running well, but app image get alot of errors.\r\n\r\n[enter image description here][3]\r\n\r\n\r\n**application.properties**\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/crm?useSSL=false\r\nspring.datasource.username=bestuser\r\nspring.datasource.password=bestuser\r\n#spring.datasource.password=T#3;jbY7L@m6\r\nspring.sql.init.mode=always\r\n#spring.datasource.initialization-mode=always\r\n#server.port=8080\r\n\r\n\r\n\r\n\r\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n#spring.jms.listener.acknowledge-mode=auto\r\n\r\n\r\n\r\n\r\n\r\ninfo.name=CRM system. Accounting for sales, merchandise, payroll\r\ninfo.description=CRM system. Accounting for sales, merchandise, payroll\r\ninfo.author=Vitaliy Shvetsov\r\n\r\n\r\n#spring.security.user.name=vitaliy\r\n#spring.security.user.password=vitaliy\r\n\r\n\r\n\r\nspring.view.prefix:/WEB-INF/\r\nspring.view.suffix:.jsp\r\nspring.view.view-names:views/*\r\n#spring.thymeleaf.prefix=/webapp/WEB-INF/\r\n#spring.thymeleaf.view-names:views/*\r\n\r\n\r\n\r\n\r\n\r\n#management.endpoints.web.exposure.include=*\r\n\r\n\r\n#spring.mvc.view.prefix: /WEB-INF/views/\r\n#spring.mvc.view.suffix: .jsp\r\n#spring.thymeleaf.suffix=.html\r\n#spring.thymeleaf.prefix=classpath:/templates/\r\n\r\n# ==============================================================\r\n# = Keep the connection alive if idle for a long time (needed in production)\r\n# ==============================================================\r\nspring.datasource.testWhileIdle = true\r\nspring.datasource.validationQuery = SELECT 1\r\n\r\n# ==============================================================\r\n# = Show or not log for each sql query\r\n# ==============================================================\r\n#spring.jpa.show-sql = true\r\n\r\n# ==============================================================\r\n# = Hibernate ddl auto (create, create-drop, update)\r\n# ==============================================================\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\n# ==============================================================\r\n# = The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n# ==============================================================\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\nspring.main.allow-circular-references=true\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n**docker-compose.yml**\r\n```\r\nversion: &#39;3.7&#39;\r\n\r\n# Define services\r\nservices:\r\n  # App backend service\r\n  app-server:\r\n    # Configuration for building the docker image for the backend service\r\n    build:\r\n      context: . # Use an image built from the specified dockerfile in the `springboot-app-server` directory.\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8081:8080&quot; # Forward the exposed port 4000 on the container to port 4000 on the host machine\r\n    restart: always\r\n    depends_on:\r\n      - db # This service depends on mysql. Start that first.\r\n    environment: # Pass environment variables to the service\r\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/crm?useSSL=false\r\n      SPRING_DATASOURCE_USERNAME: bestuser\r\n      SPRING_DATASOURCE_PASSWORD: bestuser\r\n\r\n\r\n  # Database Service (Mysql)\r\n  db:\r\n    image: mysql:8.0\r\n    ports:\r\n      - &quot;3307:3306&quot;\r\n    restart: always\r\n    environment:\r\n      MYSQL_DATABASE: crm\r\n      MYSQL_USER: bestuser\r\n      MYSQL_PASSWORD: bestuser\r\n      MYSQL_ROOT_PASSWORD: bestuser\r\n```\r\n\r\n\r\n\r\n**Dockerfile**\r\n```\r\n# Use a Java base image\r\nFROM openjdk:11\r\n\r\n# Set the working directory\r\nWORKDIR /\r\n\r\n# Copy the application jar to the container\r\nCOPY target/crm-0.0.1-SNAPSHOT.war .\r\nEXPOSE 8080\r\n# Set the environment variables\r\nENV JAVA_OPTS=&quot;&quot;\r\n\r\n# Define the command to run the application\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;crm-0.0.1-SNAPSHOT.war&quot;]\r\n```\r\n\r\n\r\nPlease help me figure out what I did wrong, thank you in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vilUO.png\r\n  [2]: https://i.stack.imgur.com/n60eA.png\r\n  [3]: https://i.stack.imgur.com/iHTvd.png","title":"Run Java application (Spring Boot + MySQL) by Docker compose","body":"<p>I'm trying to run an application on my local machine using Docker. I also want to run the application on a remote server. Without Docker in Intelij Idea everything works fine.</p>\n<p>On the local machine I installed Docker. Created a Dockerfile and docker-compose.yml in the root folder of the project. Some errors I made in these files. I think, the communication as I understand it between database and my application is not working.</p>\n<p>Maybe something wrong with MYSQL_ROOT_PASSWORD, because i really don't know what the password from MYSQL_ROOT_PASSWORD. I just know username and password. I run mysql by MySQLWorkbanch, i create here commection named &quot;my_connection&quot;, there is user named &quot;bestuser&quot; and login &quot;bestuser&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/vilUO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my structure of project</p>\n<p><a href=\"https://i.stack.imgur.com/n60eA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried combine ports, 8080:8080, 8081:8080, 3306:3306, 3307:3306.. But nothing.</p>\n<p>MySQL image running well, but app image get alot of errors.</p>\n<p><a href=\"https://i.stack.imgur.com/iHTvd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/crm?useSSL=false\nspring.datasource.username=bestuser\nspring.datasource.password=bestuser\n#spring.datasource.password=T#3;jbY7L@m6\nspring.sql.init.mode=always\n#spring.datasource.initialization-mode=always\n#server.port=8080\n\n\n\n\n#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n#spring.jms.listener.acknowledge-mode=auto\n\n\n\n\n\ninfo.name=CRM system. Accounting for sales, merchandise, payroll\ninfo.description=CRM system. Accounting for sales, merchandise, payroll\ninfo.author=Vitaliy Shvetsov\n\n\n#spring.security.user.name=vitaliy\n#spring.security.user.password=vitaliy\n\n\n\nspring.view.prefix:/WEB-INF/\nspring.view.suffix:.jsp\nspring.view.view-names:views/*\n#spring.thymeleaf.prefix=/webapp/WEB-INF/\n#spring.thymeleaf.view-names:views/*\n\n\n\n\n\n#management.endpoints.web.exposure.include=*\n\n\n#spring.mvc.view.prefix: /WEB-INF/views/\n#spring.mvc.view.suffix: .jsp\n#spring.thymeleaf.suffix=.html\n#spring.thymeleaf.prefix=classpath:/templates/\n\n# ==============================================================\n# = Keep the connection alive if idle for a long time (needed in production)\n# ==============================================================\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\n\n# ==============================================================\n# = Show or not log for each sql query\n# ==============================================================\n#spring.jpa.show-sql = true\n\n# ==============================================================\n# = Hibernate ddl auto (create, create-drop, update)\n# ==============================================================\nspring.jpa.hibernate.ddl-auto = update\n\n# ==============================================================\n# = The SQL dialect makes Hibernate generate better SQL for the chosen database\n# ==============================================================\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n\nspring.main.allow-circular-references=true\n\n\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: '3.7'\n\n# Define services\nservices:\n  # App backend service\n  app-server:\n    # Configuration for building the docker image for the backend service\n    build:\n      context: . # Use an image built from the specified dockerfile in the `springboot-app-server` directory.\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8081:8080&quot; # Forward the exposed port 4000 on the container to port 4000 on the host machine\n    restart: always\n    depends_on:\n      - db # This service depends on mysql. Start that first.\n    environment: # Pass environment variables to the service\n      SPRING_DATASOURCE_URL: jdbc:mysql://localhost:3306/crm?useSSL=false\n      SPRING_DATASOURCE_USERNAME: bestuser\n      SPRING_DATASOURCE_PASSWORD: bestuser\n\n\n  # Database Service (Mysql)\n  db:\n    image: mysql:8.0\n    ports:\n      - &quot;3307:3306&quot;\n    restart: always\n    environment:\n      MYSQL_DATABASE: crm\n      MYSQL_USER: bestuser\n      MYSQL_PASSWORD: bestuser\n      MYSQL_ROOT_PASSWORD: bestuser\n</code></pre>\n<p><strong>Dockerfile</strong></p>\n<pre><code># Use a Java base image\nFROM openjdk:11\n\n# Set the working directory\nWORKDIR /\n\n# Copy the application jar to the container\nCOPY target/crm-0.0.1-SNAPSHOT.war .\nEXPOSE 8080\n# Set the environment variables\nENV JAVA_OPTS=&quot;&quot;\n\n# Define the command to run the application\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;crm-0.0.1-SNAPSHOT.war&quot;]\n</code></pre>\n<p>Please help me figure out what I did wrong, thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","queue","amazon-sqs"],"owner":{"account_id":22227764,"reputation":11,"user_id":16464464,"display_name":"Milton Neto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686592154,"creation_date":1686592154,"question_id":76459135,"body_markdown":"I have an spring app, with two types of beans:\r\n\r\nQueueConsumers&lt;br&gt;\r\nRequestMappings\r\n\r\nAt runtime I would like to spawn two Dockers containers, **with same .JAR**:\r\n\r\nContainer One: Just to serve HTTP calls&lt;br&gt;\r\nContainer Two: Just to consume the queues.&lt;br&gt;\r\n\r\nI don&#39;t want to waste CPU instantiating tomcat or controller beans, in case it&#39;s the instance of queue&#39;s consumer\r\n\r\nWhat would be the best way to structure this?\r\nExample to run app with modes:\r\n\r\n    java -jar -Dmode=queue app.jar\r\n    java -jar -Dmode=http app.jar\r\n\r\n\r\nMy http controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/status&quot;)\r\npublic class StatusController {\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String getStatus() {\r\n        return &quot;ok&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy sqs consumer:\r\n```\r\n@Service\r\npublic class MyQueue {\r\n    @SqsListener(&quot;myQueue&quot;)\r\n    public void update(@Payload String message) throws ServiceException {\r\n        // Some action\r\n    }\r\n}\r\n```\r\n\r\n\r\nI arrived at this bean configuration, but I don&#39;t know how to &quot;filter&quot; the correct beans or remove tomcat:\r\n\r\n``` \r\n\t@Configuration\r\n\t@ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;queue&quot;)\r\n\tpublic static class QueueModeConfiguration {\r\n\t\tpublic QueueModeConfiguration() {\r\n\t\t\tSystem.out.println(&quot;QUEUE MODE!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Configuration\r\n\t@ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;http&quot;)\r\n\tpublic static class HttpModeConfiguration {\r\n\t\tpublic HttpModeConfiguration() {\r\n\t\t\tSystem.out.println(&quot;HTTP MODE!&quot;);\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nMy dependencies:\r\n```\r\ndependencies {\r\n\truntimeOnly \t&quot;com.mysql:mysql-connector-j&quot;\r\n\timplementation  &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n\timplementation  &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\r\n\timplementation  &quot;org.springframework.boot:spring-boot-starter-validation&quot;\r\n\timplementation  &quot;org.springframework.cloud:spring-cloud-starter-openfeign&quot;\r\n\timplementation  &quot;io.awspring.cloud:spring-cloud-aws-starter-sqs:3.0.1&quot;\r\n}\r\n```\r\n","title":"Hybrid Spring Application: Queue consumer and Http, how to run java -jar with different modes?","body":"<p>I have an spring app, with two types of beans:</p>\n<p>QueueConsumers<br>\nRequestMappings</p>\n<p>At runtime I would like to spawn two Dockers containers, <strong>with same .JAR</strong>:</p>\n<p>Container One: Just to serve HTTP calls<br>\nContainer Two: Just to consume the queues.<br></p>\n<p>I don't want to waste CPU instantiating tomcat or controller beans, in case it's the instance of queue's consumer</p>\n<p>What would be the best way to structure this?\nExample to run app with modes:</p>\n<pre><code>java -jar -Dmode=queue app.jar\njava -jar -Dmode=http app.jar\n</code></pre>\n<p>My http controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/status&quot;)\npublic class StatusController {\n    @RequestMapping(&quot;/&quot;)\n    public String getStatus() {\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n<p>My sqs consumer:</p>\n<pre><code>@Service\npublic class MyQueue {\n    @SqsListener(&quot;myQueue&quot;)\n    public void update(@Payload String message) throws ServiceException {\n        // Some action\n    }\n}\n</code></pre>\n<p>I arrived at this bean configuration, but I don't know how to &quot;filter&quot; the correct beans or remove tomcat:</p>\n<pre><code>    @Configuration\n    @ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;queue&quot;)\n    public static class QueueModeConfiguration {\n        public QueueModeConfiguration() {\n            System.out.println(&quot;QUEUE MODE!&quot;);\n        }\n    }\n\n    @Configuration\n    @ConditionalOnProperty(name = &quot;mode&quot;, havingValue = &quot;http&quot;)\n    public static class HttpModeConfiguration {\n        public HttpModeConfiguration() {\n            System.out.println(&quot;HTTP MODE!&quot;);\n        }\n    }\n</code></pre>\n<p>My dependencies:</p>\n<pre><code>dependencies {\n    runtimeOnly     &quot;com.mysql:mysql-connector-j&quot;\n    implementation  &quot;org.springframework.boot:spring-boot-starter-web&quot;\n    implementation  &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;\n    implementation  &quot;org.springframework.boot:spring-boot-starter-validation&quot;\n    implementation  &quot;org.springframework.cloud:spring-cloud-starter-openfeign&quot;\n    implementation  &quot;io.awspring.cloud:spring-cloud-aws-starter-sqs:3.0.1&quot;\n}\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1622834224,"post_id":67842836,"comment_id":119914697,"body_markdown":"&quot;*But this is something that I don&#39;t want to use in a production environment as it will not work with nested structures*&quot; can you clarify that (since this is actually correct way to solve your problem - making JSON valid instead of figuring out how to handle invalid one)?","body":"&quot;<i>But this is something that I don&#39;t want to use in a production environment as it will not work with nested structures</i>&quot; can you clarify that (since this is actually correct way to solve your problem - making JSON valid instead of figuring out how to handle invalid one)?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1622835318,"post_id":67842836,"comment_id":119915049,"body_markdown":"Why would you not want to use real *valid* JSON in a production environment? You should strive for using standards, so that statement makes little sense. Using valid JSON syntax *is* the &quot;genuine way&quot;.","body":"Why would you not want to use real <i>valid</i> JSON in a production environment? You should strive for using standards, so that statement makes little sense. Using valid JSON syntax <i>is</i> the &quot;genuine way&quot;."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622834756,"creation_date":1622834756,"answer_id":67842955,"question_id":67842836,"body_markdown":"&gt; I understood the main problem here that because of these special characters I am getting this error.\r\n\r\nNo, it&#39;s not because of &quot;special characters&quot; (whatever that means exactly).\r\n\r\n    {name=Nikhil Gupta,age=23,location=234Niwas@res=34}\r\n\r\nThe string you&#39;re trying to parse is simply not in JSON format, but in some other format that superficially resembles JSON. Your fixes by enclosing values in single quotes still don&#39;t make it JSON.\r\n\r\nIf it were valid JSON, it would look like this:\r\n\r\n    {&quot;name&quot;:&quot;Nikhil Gupta&quot;,&quot;age&quot;:23,&quot;location&quot;:&quot;234Niwas@res=34&quot;}\r\n\r\nNotable differences with your original:\r\n\r\n- Keys must be enclosed in double quotes\r\n- String values must be enclosed in double quotes (numeric values do not)\r\n- Key and value must be separated by a colon `:` instead of an equals sign `=`\r\n\r\nWays to solve this:\r\n\r\n- Use actual JSON format; see [json.org](https://www.json.org/) for the specification\r\n- If you can&#39;t make it real JSON and you must absolutely use the format you are using, then you need to write your own parser for this custom non-JSON format","title":"Conversion of String into Map in Java With Some Special Characters","body":"<blockquote>\n<p>I understood the main problem here that because of these special characters I am getting this error.</p>\n</blockquote>\n<p>No, it's not because of &quot;special characters&quot; (whatever that means exactly).</p>\n<pre><code>{name=Nikhil Gupta,age=23,location=234Niwas@res=34}\n</code></pre>\n<p>The string you're trying to parse is simply not in JSON format, but in some other format that superficially resembles JSON. Your fixes by enclosing values in single quotes still don't make it JSON.</p>\n<p>If it were valid JSON, it would look like this:</p>\n<pre><code>{&quot;name&quot;:&quot;Nikhil Gupta&quot;,&quot;age&quot;:23,&quot;location&quot;:&quot;234Niwas@res=34&quot;}\n</code></pre>\n<p>Notable differences with your original:</p>\n<ul>\n<li>Keys must be enclosed in double quotes</li>\n<li>String values must be enclosed in double quotes (numeric values do not)</li>\n<li>Key and value must be separated by a colon <code>:</code> instead of an equals sign <code>=</code></li>\n</ul>\n<p>Ways to solve this:</p>\n<ul>\n<li>Use actual JSON format; see <a href=\"https://www.json.org/\" rel=\"nofollow noreferrer\">json.org</a> for the specification</li>\n<li>If you can't make it real JSON and you must absolutely use the format you are using, then you need to write your own parser for this custom non-JSON format</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5837114,"reputation":136,"user_id":4599784,"display_name":"Shitul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686591719,"creation_date":1686591719,"answer_id":76459092,"question_id":67842836,"body_markdown":"Convert Map to String\r\n             \r\n   \r\n\r\n     public String triggerStringMapToString(Map&lt;String, String&gt; map)\r\n                        {\r\n                            String str = &quot;&quot;;\r\n                            if (map.isEmpty()) return str;\r\n                            \r\n                            for (String key : map.keySet()) {\r\n                                System.out.println(key);\r\n                                str = str.isEmpty() ?\r\n                                     key+&quot;~&quot;+map.get(key):\r\n                                        str+&quot;&amp;&quot;+key+&quot;~&quot;+map.get(key);\r\n                            }\r\n                            return str;\r\n                        }\r\n\r\nConvert String To MAP   \r\n \r\n\r\n    public Map&lt;String, String&gt; triggerStrToTriggerStringMap(String triggerStr)\r\n                    {\r\n                        \r\n                        return Stream.of(triggerStr.split(&quot;&amp;&quot;))\r\n                                .map(str -&gt; str.split(&quot;~&quot;))\r\n                                .collect(Collectors.toMap(trigger -&gt; trigger[0], trigger -&gt; trigger[1]));\r\n                    }","title":"Conversion of String into Map in Java With Some Special Characters","body":"<p>Convert Map to String</p>\n<pre><code> public String triggerStringMapToString(Map&lt;String, String&gt; map)\n                    {\n                        String str = &quot;&quot;;\n                        if (map.isEmpty()) return str;\n                        \n                        for (String key : map.keySet()) {\n                            System.out.println(key);\n                            str = str.isEmpty() ?\n                                 key+&quot;~&quot;+map.get(key):\n                                    str+&quot;&amp;&quot;+key+&quot;~&quot;+map.get(key);\n                        }\n                        return str;\n                    }\n</code></pre>\n<p>Convert String To MAP</p>\n<pre><code>public Map&lt;String, String&gt; triggerStrToTriggerStringMap(String triggerStr)\n                {\n                    \n                    return Stream.of(triggerStr.split(&quot;&amp;&quot;))\n                            .map(str -&gt; str.split(&quot;~&quot;))\n                            .collect(Collectors.toMap(trigger -&gt; trigger[0], trigger -&gt; trigger[1]));\n                }\n</code></pre>\n"}],"owner":{"account_id":11395635,"reputation":384,"user_id":8354130,"accept_rate":60,"display_name":"Nikhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686591719,"creation_date":1622834022,"question_id":67842836,"body_markdown":"I am trying to convert a String into Java Map but getting the following exception\r\n\r\n**com.google.gson.stream.MalformedJsonException**\r\n\r\nThis is the string that I am trying to Map.\r\n\r\n    String myString = &quot;{name=Nikhil Gupta,age=23,location=234Niwas@res=34}&quot;\r\n    Map innerMap = new Gson().fromJson(myString,Map.class);\r\n\r\nI understood the main problem here that because of these special characters I am getting this error. \r\nIf I remove those spaces and special characters then it will work fine.\r\n\r\nIs there any way to do this without removing those spaces and special characters?\r\n\r\nThe approach used so far.\r\n\r\nWrapped those strings with special characters inside a single quote.\r\n\r\n    String myString = &quot;{name=&#39;Nikhil Gupta&#39;,age=&#39;23&#39;,location=&#39;234Niwas@res=34&#39;}&quot;\r\n    \r\nBut this is something that I don&#39;t want to use in a production environment as it will not work with nested structures.\r\n\r\n\r\nIs there some genuine way to approach this in java?\r\n\r\n","title":"Conversion of String into Map in Java With Some Special Characters","body":"<p>I am trying to convert a String into Java Map but getting the following exception</p>\n<p><strong>com.google.gson.stream.MalformedJsonException</strong></p>\n<p>This is the string that I am trying to Map.</p>\n<pre><code>String myString = &quot;{name=Nikhil Gupta,age=23,location=234Niwas@res=34}&quot;\nMap innerMap = new Gson().fromJson(myString,Map.class);\n</code></pre>\n<p>I understood the main problem here that because of these special characters I am getting this error.\nIf I remove those spaces and special characters then it will work fine.</p>\n<p>Is there any way to do this without removing those spaces and special characters?</p>\n<p>The approach used so far.</p>\n<p>Wrapped those strings with special characters inside a single quote.</p>\n<pre><code>String myString = &quot;{name='Nikhil Gupta',age='23',location='234Niwas@res=34'}&quot;\n</code></pre>\n<p>But this is something that I don't want to use in a production environment as it will not work with nested structures.</p>\n<p>Is there some genuine way to approach this in java?</p>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1491461666,"post_id":43244268,"comment_id":73564877,"body_markdown":"Which kind of informations you need in your report? Are you sure you can&#39;t compose it chunk-by-chunk?","body":"Which kind of informations you need in your report? Are you sure you can&#39;t compose it chunk-by-chunk?"},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1491852814,"post_id":43244268,"comment_id":73727220,"body_markdown":"You can implement ItemStreamWriter and build write final report in close() method. That method will be called when all items are written. Please let me know if you need more detail like code ...","body":"You can implement ItemStreamWriter and build write final report in close() method. That method will be called when all items are written. Please let me know if you need more detail like code ..."}],"answers":[{"tags":[],"owner":{"account_id":2535436,"reputation":41,"user_id":2202690,"display_name":"vulh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543595537,"creation_date":1543595537,"answer_id":53561449,"question_id":43244268,"body_markdown":"If you have @JobScope on your writer. You can use @PreDestroy (Spring annotation) to achieve this.\r\nYou can have field to store all of the items needed to be write. On predestroy function, you do your writing.\r\n\r\n    private List&lt;YourItem&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n    @Override\r\n    public void write(argument here) {\r\n    \titems.addAll(YourItem);\r\n    }    \r\n    \r\n    @PreDestroy\r\n    public void teardown() {\r\n    \t// do the write for all items\r\n    }\r\n\r\n","title":"spring batch itemWriter only write after get all items","body":"<p>If you have @JobScope on your writer. You can use @PreDestroy (Spring annotation) to achieve this.\nYou can have field to store all of the items needed to be write. On predestroy function, you do your writing.</p>\n\n<pre><code>private List&lt;YourItem&gt; items = new ArrayList&lt;&gt;();\n\n@Override\npublic void write(argument here) {\n    items.addAll(YourItem);\n}    \n\n@PreDestroy\npublic void teardown() {\n    // do the write for all items\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6338394,"reputation":402,"user_id":4921141,"accept_rate":100,"display_name":"Brent Thoenen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686591588,"creation_date":1686591588,"answer_id":76459078,"question_id":43244268,"body_markdown":"I usually create a global bean of the data i&#39;m collecting and then add to that data incrementally as the writer/processor goes. Then i&#39;ll load the global bean of summary data into a JobCompletedNotificationListener and write out my email/summary information there. ","title":"spring batch itemWriter only write after get all items","body":"<p>I usually create a global bean of the data i'm collecting and then add to that data incrementally as the writer/processor goes. Then i'll load the global bean of summary data into a JobCompletedNotificationListener and write out my email/summary information there.</p>\n"}],"owner":{"account_id":214551,"reputation":4879,"user_id":468587,"accept_rate":49,"display_name":"user468587"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686591588,"creation_date":1491442653,"question_id":43244268,"body_markdown":"I have a simple Spring Batch job with couple of steps, the last step is to write report, so i haver ItemReader, ItemProcessor and ItemWriter. ItemWriter write by chunk depends the chunk number defined in the step, but I need to wait until get all items then write final report. how can I do that? \r\n\r\n    public class ReportItemWriter implements ItemWriter&lt;ReportItem&gt; {\r\n        private List&lt;ReportItem&gt; allItems = Lists.newArrayList();\r\n        ... \r\n      \r\n    public void write(List&lt;? extends ReportItem&gt; reportItems) throws Exception {\r\n        allItems.addAll(reportItems);\r\n        writeReport(allItems);  &lt;-- here it only write chunk of items to the report\r\n    }","title":"spring batch itemWriter only write after get all items","body":"<p>I have a simple Spring Batch job with couple of steps, the last step is to write report, so i haver ItemReader, ItemProcessor and ItemWriter. ItemWriter write by chunk depends the chunk number defined in the step, but I need to wait until get all items then write final report. how can I do that? </p>\n\n<pre><code>public class ReportItemWriter implements ItemWriter&lt;ReportItem&gt; {\n    private List&lt;ReportItem&gt; allItems = Lists.newArrayList();\n    ... \n\npublic void write(List&lt;? extends ReportItem&gt; reportItems) throws Exception {\n    allItems.addAll(reportItems);\n    writeReport(allItems);  &lt;-- here it only write chunk of items to the report\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","lazy-loading"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686591500,"post_id":76458991,"comment_id":134816841,"body_markdown":"Add your mapping code. Also consider it is an `@OneToOne` IIRC you need bytecode enhancements for that if you want LAZY loading to be effective.","body":"Add your mapping code. Also consider it is an <code>@OneToOne</code> IIRC you need bytecode enhancements for that if you want LAZY loading to be effective."}],"owner":{"account_id":19364691,"reputation":1,"user_id":14159263,"display_name":"Sebuhi Huseynov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686591580,"creation_date":1686590829,"question_id":76458991,"body_markdown":"My entities:\r\n\r\n`\r\n\r\n     @Getter\r\n     @Setter\r\n     @Entity\r\n     @Table(name = &quot;employees&quot;)\r\n     public class Employee {\r\n\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;\r\n \r\n     private String firstName;\r\n     private String lastName;\r\n     private LocalDate birthdate;\r\n\r\n     @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n     @JoinColumn(name = &quot;department_id&quot;)\r\n     private Department department;\r\n\r\n     @OneToOne(cascade = CascadeType.REMOVE, mappedBy = &quot;employee&quot;, fetch = FetchType.LAZY)\r\n     private EmployeeContactInfo employeeContactInfo;\r\n\r\n     @CreationTimestamp\r\n     @Column(updatable = false)\r\n     private LocalDateTime createdAt;\r\n\r\n     @UpdateTimestamp\r\n     private LocalDateTime updatedAt;\r\n  \r\n}\r\n`\r\n\r\n    @Getter\r\n     @Setter\r\n     @Entity\r\n     @Table(name = &quot;employees_contact_details&quot;)\r\n     public class EmployeeContactInfo {\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;\r\n\r\n     private String email;\r\n     private String phone;\r\n     private String address;\r\n\r\n     @OneToOne(fetch = FetchType.LAZY, optional = false)\r\n     @JoinColumn(name = &quot;employee_id&quot;)\r\n     private Employee employee;\r\n \r\n     @CreationTimestamp\r\n     @Column(updatable = false)\r\n     private LocalDateTime createdAt;\r\n \r\n     @UpdateTimestamp\r\n     private LocalDateTime updatedAt;\r\n}\r\n\r\nRepository:\r\n   \r\n\r\n         @EntityGraph(attributePaths = {&quot;department&quot;})\r\n         @Query(&quot;SELECT e from Employee e&quot;)\r\n         List&lt;Employee&gt; findAllWithDepartment(Pageable pageable);\r\n\r\nService:\r\n\r\n    public List&lt;EmployeeCardDTO&gt; getAll(int page, int size) {\r\n            log.info(&quot;Action.getAll.start&quot;);\r\n            return employeeRepository.findAllWithDepartment(PageRequest.of(page, size, Sort.by(&quot;id&quot;)))\r\n                    .stream().map(mapper::toEmployeeCardDTO)\r\n                    .toList();\r\n        }\r\n\r\nDTO:\r\n\r\n    public record EmployeeCardDTO(String firstName,\r\n                                  String lastName,\r\n                                  String department) {\r\n          }\r\nMapper:\r\n\r\n    public EmployeeCardDTO toEmployeeCardDTO(Employee employee) {\r\n            return new EmployeeCardDTO(employee.getFirstName(),\r\n                    employee.getLastName(), employee.getDepartment().getName());\r\n        }\r\n\r\nwhen i call getAll method i get n+1 problem with my EmployeeContactInfo entity. I use fetchType.Lazy and i don&#39;t access fields in EmployeeContactInfo in my mapper. Why i am still facing this n+1 problem. I know i can solve this with adding employeeContactInfo to my EntityGraph but i don&#39;t understand why i get this n+1 problem. ","title":"N+1 problem when not accessed entity&#39;s fields which is fetch type Lazy in OneToOne relation","body":"<p>My entities:</p>\n<p>`</p>\n<pre><code> @Getter\n @Setter\n @Entity\n @Table(name = &quot;employees&quot;)\n public class Employee {\n\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n private String firstName;\n private String lastName;\n private LocalDate birthdate;\n\n @ManyToOne(fetch = FetchType.LAZY, optional = false)\n @JoinColumn(name = &quot;department_id&quot;)\n private Department department;\n\n @OneToOne(cascade = CascadeType.REMOVE, mappedBy = &quot;employee&quot;, fetch = FetchType.LAZY)\n private EmployeeContactInfo employeeContactInfo;\n\n @CreationTimestamp\n @Column(updatable = false)\n private LocalDateTime createdAt;\n\n @UpdateTimestamp\n private LocalDateTime updatedAt;\n</code></pre>\n<p>}\n`</p>\n<pre><code>@Getter\n @Setter\n @Entity\n @Table(name = &quot;employees_contact_details&quot;)\n public class EmployeeContactInfo {\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n\n private String email;\n private String phone;\n private String address;\n\n @OneToOne(fetch = FetchType.LAZY, optional = false)\n @JoinColumn(name = &quot;employee_id&quot;)\n private Employee employee;\n\n @CreationTimestamp\n @Column(updatable = false)\n private LocalDateTime createdAt;\n\n @UpdateTimestamp\n private LocalDateTime updatedAt;\n</code></pre>\n<p>}</p>\n<p>Repository:</p>\n<pre><code>     @EntityGraph(attributePaths = {&quot;department&quot;})\n     @Query(&quot;SELECT e from Employee e&quot;)\n     List&lt;Employee&gt; findAllWithDepartment(Pageable pageable);\n</code></pre>\n<p>Service:</p>\n<pre><code>public List&lt;EmployeeCardDTO&gt; getAll(int page, int size) {\n        log.info(&quot;Action.getAll.start&quot;);\n        return employeeRepository.findAllWithDepartment(PageRequest.of(page, size, Sort.by(&quot;id&quot;)))\n                .stream().map(mapper::toEmployeeCardDTO)\n                .toList();\n    }\n</code></pre>\n<p>DTO:</p>\n<pre><code>public record EmployeeCardDTO(String firstName,\n                              String lastName,\n                              String department) {\n      }\n</code></pre>\n<p>Mapper:</p>\n<pre><code>public EmployeeCardDTO toEmployeeCardDTO(Employee employee) {\n        return new EmployeeCardDTO(employee.getFirstName(),\n                employee.getLastName(), employee.getDepartment().getName());\n    }\n</code></pre>\n<p>when i call getAll method i get n+1 problem with my EmployeeContactInfo entity. I use fetchType.Lazy and i don't access fields in EmployeeContactInfo in my mapper. Why i am still facing this n+1 problem. I know i can solve this with adding employeeContactInfo to my EntityGraph but i don't understand why i get this n+1 problem.</p>\n"},{"tags":["java","spring","spring-boot","gradle","java-17"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686584944,"post_id":76458287,"comment_id":134815493,"body_markdown":"Class version 61 is Java 17, so you are probably running something older.","body":"Class version 61 is Java 17, so you are probably running something older."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1686585731,"post_id":76458287,"comment_id":134815670,"body_markdown":"https://stackoverflow.com/search?q=Unsupported+class+file+major+version","body":"<a href=\"https://stackoverflow.com/search?q=Unsupported+class+file+major+version\">stackoverflow.com/search?q=Unsupported+class+file+major+vers&zwnj;&#8203;ion</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686591712,"post_id":76458287,"comment_id":134816886,"body_markdown":"Your dependencies want to make me cry... There are too many and there are too many for which you workaround the Spring Boot / Spring Cloud dependency management. Also Spring Cloud Hoxton is for Spring Boot 2.2/2.3 so that will pull in old incompatible stuff. Also adding `javax.validation`/`persistence-api` is the wrong thing you need to migrate to JakartaEE.","body":"Your dependencies want to make me cry... There are too many and there are too many for which you workaround the Spring Boot / Spring Cloud dependency management. Also Spring Cloud Hoxton is for Spring Boot 2.2/2.3 so that will pull in old incompatible stuff. Also adding <code>javax.validation</code>/<code>persistence-api</code> is the wrong thing you need to migrate to JakartaEE."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686585833,"creation_date":1686585441,"answer_id":76458372,"question_id":76458287,"body_markdown":"You probably are using a too old version of Java ASM.\r\n\r\nAccording to the [versions](https://asm.ow2.io/versions.html) list you need at least version 9.1 to support Java 17.\r\n\r\nSee answers to this SO question to find out which dependency is using the outdated ASM version: [Using Gradle to find dependency tree](https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree)\r\n\r\nI also saw that you are referring to Gradle version 6, this could also be a problem. Please try to update it to a more recent version, since Gradle itself also is using ASM.\r\nThe [Gradle compatibility chart](https://docs.gradle.org/current/userguide/compatibility.html) shows that you need at least version 7.3 to support Java 17","title":"Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61 at org.springframework.asm.ClassReader.&lt;init&gt;ClassReader.java","body":"<p>You probably are using a too old version of Java ASM.</p>\n<p>According to the <a href=\"https://asm.ow2.io/versions.html\" rel=\"nofollow noreferrer\">versions</a> list you need at least version 9.1 to support Java 17.</p>\n<p>See answers to this SO question to find out which dependency is using the outdated ASM version: <a href=\"https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree\">Using Gradle to find dependency tree</a></p>\n<p>I also saw that you are referring to Gradle version 6, this could also be a problem. Please try to update it to a more recent version, since Gradle itself also is using ASM.\nThe <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Gradle compatibility chart</a> shows that you need at least version 7.3 to support Java 17</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76458372,"answer_count":1,"score":1,"last_activity_date":1686591512,"creation_date":1686584827,"question_id":76458287,"body_markdown":"I have an app that was migrated to Spring Boot 3.1.0 and Java 17. Now I&#39;m trying to make it working together with Spring 6.0.9 (before that, as you may see in the commented dependencies, it had explicitly downgraded  Spring version because o history of the versions upgrade.\r\n\r\nSo, when I try to run `bootRun` fo rth econfiguration, \r\n\r\n\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;3.1.0&#39;\r\n        }\r\n    \r\n        repositories {\r\n            maven {\r\n                url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\r\n            }\r\n            maven {\r\n                url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\r\n            }\r\n            maven {\r\n                credentials {\r\n                    username &quot;$mavenUser&quot;\r\n                    password &quot;$mavenPassword&quot;\r\n                }\r\n                url &quot;$mavenUrl&quot;\r\n            }       \r\n        }\r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n            classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.7.1&quot;\r\n            classpath &quot;gradle.plugin.com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE&quot;\r\n        }\r\n    \r\n    \r\n        \r\n    }\r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;org.sonarqube&#39;\r\n    apply plugin: &#39;jacoco&#39;\r\n    apply plugin: &#39;com.github.ManifestClasspath&#39;\r\n    \r\n    group = &#39;rf.dom.billing&#39;\r\n    archivesBaseName = &#39;billing-ap&#39;\r\n    version = &#39;1.0.5&#39;\r\n    \r\n    mainClassName = &#39;rf.dom.billing.ap.Application&#39;\r\n    \r\n    sourceCompatibility = 1.17\r\n    targetCompatibility = 1.17\r\n    \r\n    repositories {\r\n        maven {\r\n            url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\r\n        }\r\n        maven {\r\n                url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\r\n            }\r\n        maven {\r\n            credentials {\r\n                username &quot;$mavenUser&quot;\r\n                password &quot;$mavenPassword&quot;\r\n            }\r\n                url &quot;$mavenUrl&quot;\r\n        }\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-starter-parent:Hoxton.SR10&quot;\r\n        }\r\n    }\r\n    \r\n    //sonarqube {\r\n    //    properties {\r\n    //        property &quot;sonar.host.url&quot;, &quot;https://sonarqube.domoy.ru/sonarqube&quot;\r\n    //        property &quot;sonar.login&quot;, &quot;83f2b4d2c20b87a6f96385bb947d3531dbd4ba8e&quot;\r\n    //        property &quot;sonar.projectKey&quot;, &quot;billing-ap&quot;\r\n    //        property &quot;sonar.projectName&quot;, &quot;BILLING-ap&quot;\r\n    //        property &quot;sonar.exclusions&quot;,  &quot;**/dto/**/*.java&quot;\r\n    //    }\r\n    //}\r\n    \r\n    jacoco {\r\n        toolVersion = &quot;0.8.8&quot;\r\n    }\r\n    \r\n    bootRun {\r\n        systemProperties System.properties\r\n        systemProperties.remove(&quot;java.endorsed.dirs&quot;)\r\n    }\r\n    \r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs = [&#39;src/main/java&#39;, &#39;src/generated/java&#39;]\r\n            }\r\n        }\r\n    }\r\n    \r\n    configurations {\r\n    \r\n        bouncyCastle\r\n        runtime.exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\r\n        compile.exclude group: &quot;net.sf.ehcache&quot;\r\n    \r\n        all {\r\n            resolutionStrategy {\r\n                // Force jackson 2.4.4 for Spark\r\n                force &#39;com.fasterxml.jackson.core:jackson-core:2.13.5&#39;, &#39;com.fasterxml.jackson.core:jackson-databind:2.13.5&#39;, &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.5&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    task copyCoreJarsToLibs(type: Copy, dependsOn: jar) {\r\n        from &quot;build/libs&quot;\r\n        into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\r\n        exclude &#39;*.original&#39;, &#39;*replicator*&#39;\r\n    }\r\n    \r\n    task copyDockerfiles(type: Copy) {\r\n        from &quot;${rootDir}/dockerfile&quot;\r\n        into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\r\n    }\r\n    \r\n    task copyDockerfilesProd(type: Copy) {\r\n        from &quot;${rootDir}/dockerfile/Dockerfile-prod&quot;\r\n        into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\r\n        rename { String fileName -&gt;\r\n            fileName.replace(&quot;Dockerfile-prod&quot;,\r\n                    &quot;Dockerfile&quot;)\r\n        }\r\n    }\r\n    \r\n    task collectArtifacts {\r\n        dependsOn(build, copyCoreJarsToLibs, copyDockerfiles)\r\n    }\r\n    \r\n    task collectArtifactsProd {\r\n        dependsOn(build, copyCoreJarsToLibs, copyDockerfilesProd)\r\n    }\r\n    \r\n    ext[&#39;elasticsearch.version&#39;] = &#39;7.2.0&#39;\r\n    \r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n    \r\n        implementation &quot;org.springframework.boot:spring-boot-starter:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-webflux:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-data-rest:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-mail:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-client:${springBootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-resource-server:${springBootVersion}&quot;\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}&quot;) {\r\n        //    exclude group: &#39;org.hibernate&#39;, module: &#39;hibernate-entitymanager&#39;\r\n        }\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\r\n        //implementation &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\r\n        //implementation &quot;org.springframework.boot:spring-boot-autoconfigure:${springBootVersion}&quot;\r\n    \r\n        runtime &#39;io.micrometer:micrometer-registry-prometheus&#39;\r\n    \r\n    //    implementation &#39;org.springframework.amqp:spring-amqp:2.3.11&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-undertow&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-jose:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-core:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-core:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-web:5.5.7&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-client:5.7.5&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-oauth2-resource-server:5.5.7&#39;\r\n    //    implementation &#39;org.springframework:spring-core:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-beans:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-expression:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-webflux:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-webmvc:6.0.9&#39;\r\n    //    implementation &#39;org.springframework:spring-web:6.0.9&#39;\r\n    \r\n    \r\n        implementation &#39;io.projectreactor:reactor-core:3.2.12.RELEASE&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok:1.18.22+&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.22+&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.22+&#39;\r\n        annotationProcessor &#39;org.hibernate:hibernate-jpamodelgen:5.4.4.Final&#39;\r\n    \r\n        implementation &#39;org.postgresql:postgresql:42.2.8&#39;\r\n        implementation &#39;com.zaxxer:HikariCP:3.4.0&#39;\r\n        //implementation &#39;org.flywaydb:flyway-core:5.2.4&#39;\r\n    \r\n    \r\n        implementation &#39;org.hibernate.javax.persistence:hibernate-jpa-2.2-api:1.0.0.Beta2&#39;\r\n    \r\n        implementation &#39;net.bull.javamelody:javamelody-spring-boot-starter:1.79.0&#39;\r\n    \r\n        implementation &#39;commons-io:commons-io:2.6&#39;\r\n    \r\n        implementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n    //\r\n    //            {\r\n    //        exclude module: &#39;swagger-annotations&#39;\r\n    //        exclude module: &#39;swagger-models&#39;\r\n    //    }\r\n        //implementation &#39;io.swagger:swagger-annotations:1.5.23&#39;\r\n        //implementation &#39;io.swagger:swagger-models:1.5.23&#39;\r\n        implementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n    \r\n        implementation &#39;rf.dom.billing:billing-model:RELEASE.2.2.49&#39;\r\n        implementation (&#39;rf.dom.billing:billing-common:RELEASE.1.0.6&#39;)\r\n                {\r\n                    exclude group: &#39;bouncycastle&#39;, module: &#39;bcprov-jdk14&#39;\r\n                }\r\n        implementation &#39;rf.dom.billing:billing-tracking:RELEASE.1.1.13&#39;\r\n        implementation &#39;rf.dom.billing:billing-docstore-integration:1.0.3&#39;\r\n    \r\n        /*Cloud start*/\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-config:2.1+&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter:2.1+&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-config-client:2.1+&#39;\r\n        /*Cloud end*/\r\n    \r\n        implementation &#39;org.jxls:jxls-poi:1.2.0&#39;\r\n    \r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-undertow&#39;\r\n        testImplementation &#39;org.testng:testng:6.14.3&#39;\r\n        testImplementation &#39;org.powermock:powermock-api-mockito2:2.0.2&#39;\r\n        testImplementation &#39;com.opentable.components:otj-pg-embedded:0.13.1&#39;\r\n        testImplementation &#39;org.flywaydb:flyway-core:5.2.4&#39;\r\n    \r\n        //trivy\r\n    //    implementation &#39;ch.qos.logback:logback-core:1.2.9&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.5&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.5&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.5&#39;\r\n    //    implementation &#39;com.google.guava:guava:30.0-jre&#39;\r\n    //    //implementation &#39;com.nimbusds:nimbus-jose-jwt:7.9&#39;\r\n    //    implementation &#39;com.nimbusds:nimbus-jose-jwt:8.21&#39;\r\n    //    implementation &#39;com.nimbusds:oauth2-oidc-sdk:9.19&#39;\r\n    //    implementation &#39;commons-io:commons-io:2.7&#39;\r\n    //\r\n    //    implementation &#39;io.netty:netty-codec:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-codec-http:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-codec-http2:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-codec-socks:4.1.77.Final&#39;\r\n    //    implementation &#39;io.netty:netty-handler:4.1.77.Final&#39;\r\n    ////\r\n    //    implementation &#39;io.undertow:undertow-core:2.2.19.Final&#39;\r\n    //    implementation &#39;net.minidev:json-smart:2.4.9&#39;\r\n    //    implementation &#39;org.apache.commons:commons-compress:1.21&#39;\r\n    //    implementation &#39;org.apache.httpcomponents:httpclient:4.5.13&#39;\r\n    //    implementation &#39;org.apache.poi:poi:5.2.1&#39;\r\n    //    implementation &#39;org.apache.poi:poi-ooxml:5.2.1&#39;\r\n    //    implementation &#39;org.bouncycastle:bcprov-jdk14:1.73&#39;\r\n    //    //implementation &#39;bouncycastle:bcprov-jdk14:161&#39;\r\n    //    //implementation &#39;bouncycastle:bcprov-jdk14:161&#39;\r\n    //    implementation &#39;org.bouncycastle:bcprov-jdk15on:1.67&#39;\r\n    //    implementation &#39;org.elasticsearch:elasticsearch:7.9.2&#39;\r\n    //    implementation &#39;org.elasticsearch.client:elasticsearch-rest-client:7.9.2&#39;\r\n    //    implementation &#39;org.elasticsearch.client:elasticsearch-rest-high-level-client:7.9.2&#39;\r\n    //    implementation &#39;org.eclipse.jetty:jetty-util:11.0.15&#39;\r\n    ////    implementation &#39;org.dom4j:dom4j:2.1.3&#39;\r\n    //    implementation &#39;org.eclipse.jetty:jetty-http:11.0.15&#39;\r\n    //    implementation &#39;org.eclipse.jetty:jetty-io:11.0.15&#39;\r\n    //    implementation &#39;org.hibernate.validator:hibernate-validator:6.0.20.Final&#39;\r\n    //    implementation &#39;org.postgresql:postgresql:42.5.1&#39;\r\n    //    implementation &#39;org.yaml:snakeyaml:1.33&#39;\r\n    //    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n    //    implementation &#39;org.apache.tomcat.embed:tomcat-embed-core:9.0.69&#39;\r\n    \r\n        bouncyCastle &#39;org.bouncycastle:bcprov-jdk14:1.73&#39;\r\n    \r\n        compileOnly &#39;jakarta.servlet:jakarta.servlet-api:6.0.0&#39;\r\n    }\r\n    \r\n    task installBouncyCastleJar {\r\n        doLast {\r\n            def bcFile = file(&#39;build/libs/bcprov-jdk14-1.73.jar&#39;)\r\n            def groupId = &#39;bouncycastle&#39;\r\n            def artifactId = &#39;bcprov-jdk14&#39;\r\n            def version = &#39;173&#39;\r\n            def packaging = &#39;jar&#39;\r\n    \r\n    //        project.repositories.maven.install([\r\n    //                file: bcFile,\r\n    //                groupId: groupId,\r\n    //                artifactId: artifactId,\r\n    //                version: version,\r\n    //                packaging: packaging\r\n    //        ])\r\n        }\r\n    }\r\n    \r\n    project.afterEvaluate {\r\n        build.dependsOn(installBouncyCastleJar)\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.annotationProcessorGeneratedSourcesDirectory = file(&quot;src/generated/java&quot;)\r\n    }\r\n    \r\n    wrapper {\r\n        distributionType = Wrapper.DistributionType.ALL\r\n        gradleVersion = &#39;6.0&#39;\r\n    }\r\n    \r\n    test {\r\n        // enable TestNG support (default is JUnit)\r\n        useTestNG()\r\n        testLogging.showStandardStreams = true\r\n        testLogging.exceptionFormat = &#39;full&#39;\r\n    }\r\n    \r\n    task printName {\r\n        doLast {\r\n            print project.name\r\n        }\r\n    }\r\n    \r\n    task printVersion {\r\n        doLast {\r\n            print project.version\r\n        }\r\n    }\r\n\r\nI&#39;m getting the below problkem, while the app is on 17th kava, gradle is ran on 17th java and nothing may require the above Java version?\r\n\r\n    2023-06-12 18:36:20.466 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n    2023-06-12 18:36:20.475 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n    \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\r\n    \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\r\n    \tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n    \tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n    \tat \r\n    \r\n        org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n        \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n        \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n        \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n        \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n        \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n        \tat rf.dom.billing.ap.Application.main(Application.java:24)\r\n        Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        \r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n        \tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n        \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n        \t... 21 common frames omitted\r\n        Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n        \tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n        \tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\r\n        \t... 25 common frames omitted\r\n        \r\n        Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n        \r\n        Execution failed for task &#39;:bootRun&#39;.\r\n        &gt; Process &#39;command &#39;D:\\Java\\jdk-17.0.2\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\nUPD after updating ASM to 9.5 still getting the problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9fAX3.png","title":"Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61 at org.springframework.asm.ClassReader.&lt;init&gt;ClassReader.java","body":"<p>I have an app that was migrated to Spring Boot 3.1.0 and Java 17. Now I'm trying to make it working together with Spring 6.0.9 (before that, as you may see in the commented dependencies, it had explicitly downgraded  Spring version because o history of the versions upgrade.</p>\n<p>So, when I try to run <code>bootRun</code> fo rth econfiguration,</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '3.1.0'\n    }\n\n    repositories {\n        maven {\n            url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\n        }\n        maven {\n            url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\n        }\n        maven {\n            credentials {\n                username &quot;$mavenUser&quot;\n                password &quot;$mavenPassword&quot;\n            }\n            url &quot;$mavenUrl&quot;\n        }       \n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n        classpath &quot;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.7.1&quot;\n        classpath &quot;gradle.plugin.com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE&quot;\n    }\n\n\n    \n}\n\n\napply plugin: 'java'\napply plugin: 'application'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'org.sonarqube'\napply plugin: 'jacoco'\napply plugin: 'com.github.ManifestClasspath'\n\ngroup = 'rf.dom.billing'\narchivesBaseName = 'billing-ap'\nversion = '1.0.5'\n\nmainClassName = 'rf.dom.billing.ap.Application'\n\nsourceCompatibility = 1.17\ntargetCompatibility = 1.17\n\nrepositories {\n    maven {\n        url &quot;https://nexus.dev.domoy.ru/repository/mvn-remote/&quot;\n    }\n    maven {\n            url &quot;https://nexus.dev.domoy.ru/repository/gradle-remote-plugins/&quot;\n        }\n    maven {\n        credentials {\n            username &quot;$mavenUser&quot;\n            password &quot;$mavenPassword&quot;\n        }\n            url &quot;$mavenUrl&quot;\n    }\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-starter-parent:Hoxton.SR10&quot;\n    }\n}\n\n//sonarqube {\n//    properties {\n//        property &quot;sonar.host.url&quot;, &quot;https://sonarqube.domoy.ru/sonarqube&quot;\n//        property &quot;sonar.login&quot;, &quot;83f2b4d2c20b87a6f96385bb947d3531dbd4ba8e&quot;\n//        property &quot;sonar.projectKey&quot;, &quot;billing-ap&quot;\n//        property &quot;sonar.projectName&quot;, &quot;BILLING-ap&quot;\n//        property &quot;sonar.exclusions&quot;,  &quot;**/dto/**/*.java&quot;\n//    }\n//}\n\njacoco {\n    toolVersion = &quot;0.8.8&quot;\n}\n\nbootRun {\n    systemProperties System.properties\n    systemProperties.remove(&quot;java.endorsed.dirs&quot;)\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/main/java', 'src/generated/java']\n        }\n    }\n}\n\nconfigurations {\n\n    bouncyCastle\n    runtime.exclude group: &quot;org.springframework.boot&quot;, module: &quot;spring-boot-starter-tomcat&quot;\n    compile.exclude group: &quot;net.sf.ehcache&quot;\n\n    all {\n        resolutionStrategy {\n            // Force jackson 2.4.4 for Spark\n            force 'com.fasterxml.jackson.core:jackson-core:2.13.5', 'com.fasterxml.jackson.core:jackson-databind:2.13.5', 'com.fasterxml.jackson.core:jackson-annotations:2.13.5'\n        }\n    }\n}\n\n\ntask copyCoreJarsToLibs(type: Copy, dependsOn: jar) {\n    from &quot;build/libs&quot;\n    into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\n    exclude '*.original', '*replicator*'\n}\n\ntask copyDockerfiles(type: Copy) {\n    from &quot;${rootDir}/dockerfile&quot;\n    into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\n}\n\ntask copyDockerfilesProd(type: Copy) {\n    from &quot;${rootDir}/dockerfile/Dockerfile-prod&quot;\n    into &quot;${rootDir}/artifacts/docker/billing_ap&quot;\n    rename { String fileName -&gt;\n        fileName.replace(&quot;Dockerfile-prod&quot;,\n                &quot;Dockerfile&quot;)\n    }\n}\n\ntask collectArtifacts {\n    dependsOn(build, copyCoreJarsToLibs, copyDockerfiles)\n}\n\ntask collectArtifactsProd {\n    dependsOn(build, copyCoreJarsToLibs, copyDockerfilesProd)\n}\n\next['elasticsearch.version'] = '7.2.0'\n\n\ndependencies {\n\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n\n    implementation &quot;org.springframework.boot:spring-boot-starter:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-webflux:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-rest:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-mail:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-client:${springBootVersion}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-oauth2-resource-server:${springBootVersion}&quot;\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}&quot;) {\n    //    exclude group: 'org.hibernate', module: 'hibernate-entitymanager'\n    }\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}&quot;\n    //implementation &quot;org.springframework.boot:spring-boot-actuator-autoconfigure:${springBootVersion}&quot;\n    //implementation &quot;org.springframework.boot:spring-boot-autoconfigure:${springBootVersion}&quot;\n\n    runtime 'io.micrometer:micrometer-registry-prometheus'\n\n//    implementation 'org.springframework.amqp:spring-amqp:2.3.11'\n//    implementation 'org.springframework.boot:spring-boot-starter-undertow'\n//    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n//    implementation 'org.springframework.security:spring-security-oauth2-jose:5.5.7'\n//    implementation 'org.springframework.security:spring-security-oauth2-core:5.5.7'\n//    implementation 'org.springframework.security:spring-security-core:5.5.7'\n//    implementation 'org.springframework.security:spring-security-web:5.5.7'\n//    implementation 'org.springframework.security:spring-security-oauth2-client:5.7.5'\n//    implementation 'org.springframework.security:spring-security-oauth2-resource-server:5.5.7'\n//    implementation 'org.springframework:spring-core:6.0.9'\n//    implementation 'org.springframework:spring-beans:6.0.9'\n//    implementation 'org.springframework:spring-expression:6.0.9'\n//    implementation 'org.springframework:spring-webflux:6.0.9'\n//    implementation 'org.springframework:spring-webmvc:6.0.9'\n//    implementation 'org.springframework:spring-web:6.0.9'\n\n\n    implementation 'io.projectreactor:reactor-core:3.2.12.RELEASE'\n\n    compileOnly 'org.projectlombok:lombok:1.18.22+'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22+'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.22+'\n    annotationProcessor 'org.hibernate:hibernate-jpamodelgen:5.4.4.Final'\n\n    implementation 'org.postgresql:postgresql:42.2.8'\n    implementation 'com.zaxxer:HikariCP:3.4.0'\n    //implementation 'org.flywaydb:flyway-core:5.2.4'\n\n\n    implementation 'org.hibernate.javax.persistence:hibernate-jpa-2.2-api:1.0.0.Beta2'\n\n    implementation 'net.bull.javamelody:javamelody-spring-boot-starter:1.79.0'\n\n    implementation 'commons-io:commons-io:2.6'\n\n    implementation 'io.springfox:springfox-swagger2:3.0.0'\n//\n//            {\n//        exclude module: 'swagger-annotations'\n//        exclude module: 'swagger-models'\n//    }\n    //implementation 'io.swagger:swagger-annotations:1.5.23'\n    //implementation 'io.swagger:swagger-models:1.5.23'\n    implementation 'io.springfox:springfox-swagger-ui:3.0.0'\n\n    implementation 'rf.dom.billing:billing-model:RELEASE.2.2.49'\n    implementation ('rf.dom.billing:billing-common:RELEASE.1.0.6')\n            {\n                exclude group: 'bouncycastle', module: 'bcprov-jdk14'\n            }\n    implementation 'rf.dom.billing:billing-tracking:RELEASE.1.1.13'\n    implementation 'rf.dom.billing:billing-docstore-integration:1.0.3'\n\n    /*Cloud start*/\n    implementation 'org.springframework.cloud:spring-cloud-starter-config:2.1+'\n    implementation 'org.springframework.cloud:spring-cloud-starter:2.1+'\n    implementation 'org.springframework.cloud:spring-cloud-config-client:2.1+'\n    /*Cloud end*/\n\n    implementation 'org.jxls:jxls-poi:1.2.0'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.boot:spring-boot-starter-undertow'\n    testImplementation 'org.testng:testng:6.14.3'\n    testImplementation 'org.powermock:powermock-api-mockito2:2.0.2'\n    testImplementation 'com.opentable.components:otj-pg-embedded:0.13.1'\n    testImplementation 'org.flywaydb:flyway-core:5.2.4'\n\n    //trivy\n//    implementation 'ch.qos.logback:logback-core:1.2.9'\n//    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.5'\n//    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.5'\n//    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.5'\n//    implementation 'com.google.guava:guava:30.0-jre'\n//    //implementation 'com.nimbusds:nimbus-jose-jwt:7.9'\n//    implementation 'com.nimbusds:nimbus-jose-jwt:8.21'\n//    implementation 'com.nimbusds:oauth2-oidc-sdk:9.19'\n//    implementation 'commons-io:commons-io:2.7'\n//\n//    implementation 'io.netty:netty-codec:4.1.77.Final'\n//    implementation 'io.netty:netty-codec-http:4.1.77.Final'\n//    implementation 'io.netty:netty-codec-http2:4.1.77.Final'\n//    implementation 'io.netty:netty-codec-socks:4.1.77.Final'\n//    implementation 'io.netty:netty-handler:4.1.77.Final'\n////\n//    implementation 'io.undertow:undertow-core:2.2.19.Final'\n//    implementation 'net.minidev:json-smart:2.4.9'\n//    implementation 'org.apache.commons:commons-compress:1.21'\n//    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n//    implementation 'org.apache.poi:poi:5.2.1'\n//    implementation 'org.apache.poi:poi-ooxml:5.2.1'\n//    implementation 'org.bouncycastle:bcprov-jdk14:1.73'\n//    //implementation 'bouncycastle:bcprov-jdk14:161'\n//    //implementation 'bouncycastle:bcprov-jdk14:161'\n//    implementation 'org.bouncycastle:bcprov-jdk15on:1.67'\n//    implementation 'org.elasticsearch:elasticsearch:7.9.2'\n//    implementation 'org.elasticsearch.client:elasticsearch-rest-client:7.9.2'\n//    implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.9.2'\n//    implementation 'org.eclipse.jetty:jetty-util:11.0.15'\n////    implementation 'org.dom4j:dom4j:2.1.3'\n//    implementation 'org.eclipse.jetty:jetty-http:11.0.15'\n//    implementation 'org.eclipse.jetty:jetty-io:11.0.15'\n//    implementation 'org.hibernate.validator:hibernate-validator:6.0.20.Final'\n//    implementation 'org.postgresql:postgresql:42.5.1'\n//    implementation 'org.yaml:snakeyaml:1.33'\n//    implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n//    implementation 'org.apache.tomcat.embed:tomcat-embed-core:9.0.69'\n\n    bouncyCastle 'org.bouncycastle:bcprov-jdk14:1.73'\n\n    compileOnly 'jakarta.servlet:jakarta.servlet-api:6.0.0'\n}\n\ntask installBouncyCastleJar {\n    doLast {\n        def bcFile = file('build/libs/bcprov-jdk14-1.73.jar')\n        def groupId = 'bouncycastle'\n        def artifactId = 'bcprov-jdk14'\n        def version = '173'\n        def packaging = 'jar'\n\n//        project.repositories.maven.install([\n//                file: bcFile,\n//                groupId: groupId,\n//                artifactId: artifactId,\n//                version: version,\n//                packaging: packaging\n//        ])\n    }\n}\n\nproject.afterEvaluate {\n    build.dependsOn(installBouncyCastleJar)\n}\n\ntasks.withType(JavaCompile) {\n    options.annotationProcessorGeneratedSourcesDirectory = file(&quot;src/generated/java&quot;)\n}\n\nwrapper {\n    distributionType = Wrapper.DistributionType.ALL\n    gradleVersion = '6.0'\n}\n\ntest {\n    // enable TestNG support (default is JUnit)\n    useTestNG()\n    testLogging.showStandardStreams = true\n    testLogging.exceptionFormat = 'full'\n}\n\ntask printName {\n    doLast {\n        print project.name\n    }\n}\n\ntask printVersion {\n    doLast {\n        print project.version\n    }\n}\n</code></pre>\n<p>I'm getting the below problkem, while the app is on 17th kava, gradle is ran on 17th java and nothing may require the above Java version?</p>\n<pre><code>2023-06-12 18:36:20.466 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n2023-06-12 18:36:20.475 [main] ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at \n\n    org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n        at rf.dom.billing.ap.Application.main(Application.java:24)\n    Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    Caused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Java\\domrf2\\build\\classes\\java\\main\\rf\\dom\\billing\\ap\\Application.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    \n        at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\n        at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n        at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n        at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n        at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n        ... 21 common frames omitted\n    Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n        at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n        at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\n        ... 25 common frames omitted\n    \n    Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n    \n    Execution failed for task ':bootRun'.\n    &gt; Process 'command 'D:\\Java\\jdk-17.0.2\\bin\\java.exe'' finished with non-zero exit value 1\n</code></pre>\n<p>UPD after updating ASM to 9.5 still getting the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/9fAX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fAX3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","stack-overflow"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1686423558,"post_id":76447725,"comment_id":134797773,"body_markdown":"What are you calling so you are getting the error? Does it occur in toString/equals or similar? Can you please share the stack trace?","body":"What are you calling so you are getting the error? Does it occur in toString/equals or similar? Can you please share the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686570223,"creation_date":1686570223,"answer_id":76456328,"question_id":76447725,"body_markdown":"Lombok `@Data` creates a default equals, hashCode and toString implementations that will loop between the 2 entities until you get the overflow. And JPA usually uses one or more of those.\r\n\r\nRemove it (and eventually add `@RequiredArgsConstructor`, `@Getter` and `@Setter`) and implement your own equals, hashCode and toString where you, f.ex., use the ID instead of the whole Object.\r\n\r\nYou need to do this in at least one side of the mapping but it might be better for the future to do both.","title":"Java SpringBoot StackOverflow OneToMany / ManyToOne annotation","body":"<p>Lombok <code>@Data</code> creates a default equals, hashCode and toString implementations that will loop between the 2 entities until you get the overflow. And JPA usually uses one or more of those.</p>\n<p>Remove it (and eventually add <code>@RequiredArgsConstructor</code>, <code>@Getter</code> and <code>@Setter</code>) and implement your own equals, hashCode and toString where you, f.ex., use the ID instead of the whole Object.</p>\n<p>You need to do this in at least one side of the mapping but it might be better for the future to do both.</p>\n"},{"tags":[],"owner":{"account_id":12686043,"reputation":41,"user_id":9217805,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686590786,"creation_date":1686590786,"answer_id":76458987,"question_id":76447725,"body_markdown":"Yes that is due to cyclic relation. You need to add @JsonIgnoreProperties annotation on the parent to break the cycle.","title":"Java SpringBoot StackOverflow OneToMany / ManyToOne annotation","body":"<p>Yes that is due to cyclic relation. You need to add @JsonIgnoreProperties annotation on the parent to break the cycle.</p>\n"}],"owner":{"account_id":23591193,"reputation":19,"user_id":17629279,"display_name":"Moiap13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686590786,"creation_date":1686423270,"question_id":76447725,"body_markdown":"I have this MySQL script :\r\n```mysql\r\nCREATE TABLE `country`\r\n(\r\n    `id`         int NOT NULL AUTO_INCREMENT,\r\n    `name`       varchar(128) NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\r\n);\r\n\r\nCREATE TABLE `region`\r\n(\r\n    `id`         int NOT NULL AUTO_INCREMENT,\r\n    `id_country` int NOT NULL,\r\n    `name`       varchar(128) NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    CONSTRAINT region_country_foreign FOREIGN KEY (id_country) REFERENCES country (id),\r\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\r\n);\r\n\r\nCREATE TABLE `city`\r\n(\r\n    `id`        int NOT NULL AUTO_INCREMENT,\r\n    `id_region` int NOT NULL,\r\n    `name`      varchar(128) NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    CONSTRAINT city_region_foreign FOREIGN KEY (id_region) REFERENCES region (id),\r\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\r\n);\r\n```\r\n\r\nand these associated classes :\r\n\r\n```java\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;region&quot;)\r\npublic class Region {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private int id;\r\n\r\n  @Column(name = &quot;name&quot;, nullable = false)\r\n  private String name;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;id_country&quot;, nullable = false)\r\n  private Country country;\r\n\r\n  @JsonIgnore\r\n  @OneToMany(mappedBy = &quot;region&quot;)\r\n  private List&lt;City&gt; cities;\r\n}\r\n---------------------------------------------------\r\n@Data\r\n@Entity\r\n@Table(name = &quot;city&quot;)\r\npublic class City {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private int id;\r\n\r\n  @Column(name = &quot;name&quot;, nullable = false)\r\n  private String name;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;id_region&quot;, nullable = false)\r\n  private Region region;\r\n}\r\n```\r\n\r\nWhen I try to retrieve the Region I have a stack overflow Exception. I think this is because the Region has a list of cities and each city in the list has the region which has the list of the cities and so on. I suspect that the error is due to cyclic relations. ","title":"Java SpringBoot StackOverflow OneToMany / ManyToOne annotation","body":"<p>I have this MySQL script :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `country`\n(\n    `id`         int NOT NULL AUTO_INCREMENT,\n    `name`       varchar(128) NOT NULL,\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\n);\n\nCREATE TABLE `region`\n(\n    `id`         int NOT NULL AUTO_INCREMENT,\n    `id_country` int NOT NULL,\n    `name`       varchar(128) NOT NULL,\n    PRIMARY KEY (`id`),\n    CONSTRAINT region_country_foreign FOREIGN KEY (id_country) REFERENCES country (id),\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\n);\n\nCREATE TABLE `city`\n(\n    `id`        int NOT NULL AUTO_INCREMENT,\n    `id_region` int NOT NULL,\n    `name`      varchar(128) NOT NULL,\n    PRIMARY KEY (`id`),\n    CONSTRAINT city_region_foreign FOREIGN KEY (id_region) REFERENCES region (id),\n    UNIQUE KEY `idx_name` (`name`) USING BTREE\n);\n</code></pre>\n<p>and these associated classes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Data\n@Entity\n@Table(name = &quot;region&quot;)\npublic class Region {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private int id;\n\n  @Column(name = &quot;name&quot;, nullable = false)\n  private String name;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;id_country&quot;, nullable = false)\n  private Country country;\n\n  @JsonIgnore\n  @OneToMany(mappedBy = &quot;region&quot;)\n  private List&lt;City&gt; cities;\n}\n---------------------------------------------------\n@Data\n@Entity\n@Table(name = &quot;city&quot;)\npublic class City {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private int id;\n\n  @Column(name = &quot;name&quot;, nullable = false)\n  private String name;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;id_region&quot;, nullable = false)\n  private Region region;\n}\n</code></pre>\n<p>When I try to retrieve the Region I have a stack overflow Exception. I think this is because the Region has a list of cities and each city in the list has the region which has the list of the cities and so on. I suspect that the error is due to cyclic relations.</p>\n"},{"tags":["java","pdf","itext","pdf-generation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686610691,"post_id":76458895,"comment_id":134819884,"body_markdown":"*&quot;The code is pretty much copy-paste from this entry from two years ago.&quot;* - you are aware that that question was about text not being visible? So if you copied&amp;pasted that code, text is likely to be invisible...","body":"<i>&quot;The code is pretty much copy-paste from this entry from two years ago.&quot;</i> - you are aware that that question was about text not being visible? So if you copied&amp;pasted that code, text is likely to be invisible..."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1686659142,"post_id":76458895,"comment_id":134826766,"body_markdown":"In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case.","body":"In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686695927,"post_id":76458895,"comment_id":134834164,"body_markdown":"*&quot;In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case.&quot;* - ah, so your case is not *pretty much copy-paste* from that post... then why do you mention it?","body":"<i>&quot;In that question, text was not visible because a rectangle was being rendered on top of the paragraph. There is no rectangle in my case.&quot;</i> - ah, so your case is not <i>pretty much copy-paste</i> from that post... then why do you mention it?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1686733784,"post_id":76458895,"comment_id":134838490,"body_markdown":"For an analysis please share a PDF edited of your code, both a before and an after copy. From that we can determine whether the paragraph was rendered after all and merely is not visible or whether it really has not been rendered at all.","body":"For an analysis please share a PDF edited of your code, both a before and an after copy. From that we can determine whether the paragraph was rendered after all and merely is not visible or whether it really has not been rendered at all."}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686589831,"creation_date":1686589831,"question_id":76458895,"body_markdown":"Working with the Java version of iText 8, I used to have the following line of code to render text into a page of my report: `document.showTextAligned(p, llx, lly, this.page, txtAlignment, VerticalAlignment.MIDDLE,0);`\r\nwhere p is of type Paragraph, this.page is of type int and txtAlignment is of type TextAlignment. \r\n\r\nNow, I have changed it for this:\r\n\r\n    PdfCanvas pdfCanvas = new PdfCanvas(pdfPage);\r\n    try (Canvas canvas = new Canvas(pdfCanvas, rect, true)) {\r\n    \tcanvas.add(p);\r\n    }\r\nThe reason for this is so that I can fit text inside a rectangle but the problem is that this code fails to render any text into my report, the page is just blank. What could the reason be? The code is pretty much copy-paste from [this entry from two years ago](https://stackoverflow.com/questions/66443713/itext-7-adding-colored-text-and-fill-to-a-rectangle).\r\n\r\nI have already checked all obvious possible causes. The Rectangle rect is within the borders of the page, pdfPage is a valid page of the report (it&#39;s in fact, the current page i&#39;m writing to) and no exceptions occur during the exectution of the method.","title":"iText8 Canvas class is not rendering text to the report","body":"<p>Working with the Java version of iText 8, I used to have the following line of code to render text into a page of my report: <code>document.showTextAligned(p, llx, lly, this.page, txtAlignment, VerticalAlignment.MIDDLE,0);</code>\nwhere p is of type Paragraph, this.page is of type int and txtAlignment is of type TextAlignment.</p>\n<p>Now, I have changed it for this:</p>\n<pre><code>PdfCanvas pdfCanvas = new PdfCanvas(pdfPage);\ntry (Canvas canvas = new Canvas(pdfCanvas, rect, true)) {\n    canvas.add(p);\n}\n</code></pre>\n<p>The reason for this is so that I can fit text inside a rectangle but the problem is that this code fails to render any text into my report, the page is just blank. What could the reason be? The code is pretty much copy-paste from <a href=\"https://stackoverflow.com/questions/66443713/itext-7-adding-colored-text-and-fill-to-a-rectangle\">this entry from two years ago</a>.</p>\n<p>I have already checked all obvious possible causes. The Rectangle rect is within the borders of the page, pdfPage is a valid page of the report (it's in fact, the current page i'm writing to) and no exceptions occur during the exectution of the method.</p>\n"},{"tags":["java","string","loops","methods"],"comments":[{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1686564186,"post_id":76455526,"comment_id":134810690,"body_markdown":"Arrays are indexed `[0...num)`, so `num` is out of bounds. Have a look again range of `i` in `stars` method, notice how it terminates at `i &lt; stars.length`. Why do you return `star[num]` afterwards?","body":"Arrays are indexed <code>[0...num)</code>, so <code>num</code> is out of bounds. Have a look again range of <code>i</code> in <code>stars</code> method, notice how it terminates at <code>i &lt; stars.length</code>. Why do you return <code>star[num]</code> afterwards?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686564438,"post_id":76455526,"comment_id":134810746,"body_markdown":"What is the point of `return star[num];`? Creating a local array and then only returning a single element makes little sense. That method should either return the whole array you created or return nothing at all and just print directly. I would also recommend reading [Differences between System.out.println() and return in Java](https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java)","body":"What is the point of <code>return star[num];</code>? Creating a local array and then only returning a single element makes little sense. That method should either return the whole array you created or return nothing at all and just print directly. I would also recommend reading <a href=\"https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java\">Differences between System.out.println() and return in Java</a>"},{"owner":{"account_id":28803365,"reputation":3,"user_id":22059756,"display_name":"Adix"},"score":0,"creation_date":1686569684,"post_id":76455526,"comment_id":134811783,"body_markdown":"When I was looking for an answer I saw this topic but I didn&#39; found an answer. Now I see my mistakes (Thanks to all who comment). When I back home, I&#39;ll correct the code and paste it again.","body":"When I was looking for an answer I saw this topic but I didn&#39; found an answer. Now I see my mistakes (Thanks to all who comment). When I back home, I&#39;ll correct the code and paste it again."},{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1686570810,"post_id":76455526,"comment_id":134812011,"body_markdown":"@Adix what do you mean? Please **don&#39;t** edit your question to include fixed code. If you feel your question is not a duplicate then please paste revised code alongside some explanation in as an answer.","body":"@Adix what do you mean? Please <b>don&#39;t</b> edit your question to include fixed code. If you feel your question is not a duplicate then please paste revised code alongside some explanation in as an answer."},{"owner":{"account_id":28803365,"reputation":3,"user_id":22059756,"display_name":"Adix"},"score":1,"creation_date":1686571907,"post_id":76455526,"comment_id":134812240,"body_markdown":"@orhtej2 sorry for misleading, I meant exactly what you wrote.","body":"@orhtej2 sorry for misleading, I meant exactly what you wrote."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686590615,"post_id":76455526,"comment_id":134816637,"body_markdown":"Without pre-allocation of the array, you can also  fill the stars using `String[] stars = Stream.generate(() -&gt; &quot;*&quot;).limit(num).toArray(String[]::new);`","body":"Without pre-allocation of the array, you can also  fill the stars using <code>String[] stars = Stream.generate(() -&gt; &quot;*&quot;).limit(num).toArray(String[]::new);</code>"}],"answers":[{"tags":[],"owner":{"account_id":2815186,"reputation":482,"user_id":2420505,"accept_rate":71,"display_name":"Pol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686564390,"creation_date":1686564390,"answer_id":76455574,"question_id":76455526,"body_markdown":"Say your array is 3 of length. You will have stars at star[0], star[1], and star[2]. \r\nIn the stars method, you return star[3] and this doesn&#39;t exist. ","title":"Index X out of bounds for length X","body":"<p>Say your array is 3 of length. You will have stars at star[0], star[1], and star[2].\nIn the stars method, you return star[3] and this doesn't exist.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686589359,"creation_date":1686581343,"answer_id":76457828,"question_id":76455526,"body_markdown":"You&#39;re attempting to access _star[num]_, which would be 1 outside the last indexed value.\r\n\r\n```java\r\nreturn star[num];\r\n```\r\n\r\nAdditionally, you are supplying the return value of the _stars_ method, to a _println_ call, here.\r\n\r\n```java\r\n//Display the stars by &#39;stars&#39; method\r\nSystem.out.println(stars(num));\r\n```\r\n\r\nWhich, isn&#39;t necessary, since _stars_ uses _print_ to display the value.\r\n\r\nThere are two approaches you can take.\r\n\r\nOne, simply call _stars(num)_, without the _println_ call.  \r\nThis would also allow you to remove the return type of _stars_&amp;mdash;by changing it to _void_.\r\n\r\n```java\r\n//method for inputing stars to array and also for displaying them.\r\npublic static void stars(int num){\r\n    String[] star = new String[num];\r\n    for (int i = 0; i &lt; star.length; i++){\r\n        star[i] = &quot;*&quot;;\r\n        System.out.print(star[i]);\r\n    }\r\n}\r\n```\r\n\r\nOr, you can populate a _String_ value within _stars_, and return that.\r\n\r\n```java\r\npublic static String stars(int num){\r\n    String[] star = new String[num];\r\n    String string = &quot;&quot;;\r\n    for (int i = 0; i &lt; star.length; i++){\r\n        star[i] = &quot;*&quot;;\r\n        string += star[i];\r\n    }\r\n    return string;\r\n}\r\n```\r\n\r\nSubsequently, you can reduce the _string_ and _star[i]_ assignment, within the _for-loop_.\r\n\r\n```java\r\nstring += star[i] = &quot;*&quot;;\r\n```\r\n\r\nAnd, since we&#39;re on the topic, you can utilize the _[Arrays#fill](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(java.lang.Object%5B%5D,java.lang.Object))_ method, to populate an array, and the _[String#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...))_ method to concatenate the values.\r\n\r\n```java\r\npublic static String stars(int num){\r\n    String[] star = new String[num];\r\n    Arrays.fill(star, &quot;*&quot;);\r\n    return String.join(&quot;&quot;, star);\r\n}\r\n```\r\n\r\nFurthermore, the _[String#repeat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#repeat(int))_ method, can produce a sequence of repeating characters.\r\n\r\n```java\r\npublic static String stars(int num){\r\n    return &quot;*&quot;.repeat(num);\r\n}\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nInsert number of stars:\r\n5\r\n*****\r\n```","title":"Index X out of bounds for length X","body":"<p>You're attempting to access <em>star[num]</em>, which would be 1 outside the last indexed value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return star[num];\n</code></pre>\n<p>Additionally, you are supplying the return value of the <em>stars</em> method, to a <em>println</em> call, here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Display the stars by 'stars' method\nSystem.out.println(stars(num));\n</code></pre>\n<p>Which, isn't necessary, since <em>stars</em> uses <em>print</em> to display the value.</p>\n<p>There are two approaches you can take.</p>\n<p>One, simply call <em>stars(num)</em>, without the <em>println</em> call.<br />\nThis would also allow you to remove the return type of <em>stars</em>—by changing it to <em>void</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//method for inputing stars to array and also for displaying them.\npublic static void stars(int num){\n    String[] star = new String[num];\n    for (int i = 0; i &lt; star.length; i++){\n        star[i] = &quot;*&quot;;\n        System.out.print(star[i]);\n    }\n}\n</code></pre>\n<p>Or, you can populate a <em>String</em> value within <em>stars</em>, and return that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String stars(int num){\n    String[] star = new String[num];\n    String string = &quot;&quot;;\n    for (int i = 0; i &lt; star.length; i++){\n        star[i] = &quot;*&quot;;\n        string += star[i];\n    }\n    return string;\n}\n</code></pre>\n<p>Subsequently, you can reduce the <em>string</em> and <em>star[i]</em> assignment, within the <em>for-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>string += star[i] = &quot;*&quot;;\n</code></pre>\n<p>And, since we're on the topic, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#fill(java.lang.Object%5B%5D,java.lang.Object)\" rel=\"nofollow noreferrer\">Arrays#fill</a></em> method, to populate an array, and the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">String#join</a></em> method to concatenate the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String stars(int num){\n    String[] star = new String[num];\n    Arrays.fill(star, &quot;*&quot;);\n    return String.join(&quot;&quot;, star);\n}\n</code></pre>\n<p>Furthermore, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\">String#repeat</a></em> method, can produce a sequence of repeating characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String stars(int num){\n    return &quot;*&quot;.repeat(num);\n}\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Insert number of stars:\n5\n*****\n</code></pre>\n"}],"owner":{"account_id":28803365,"reputation":3,"user_id":22059756,"display_name":"Adix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686582203,"accepted_answer_id":76457828,"answer_count":2,"score":0,"last_activity_date":1686589359,"creation_date":1686563982,"question_id":76455526,"body_markdown":"I&#39;m learning Java and while learning methods I came across an error. What&#39;s more, code does what I want, (it displays stars), but it also throws an error. I don&#39;t quite know why.\r\n\r\nHere is code and error below:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class TaskMethods {\r\n    \r\n    //Display the stars\r\n    public static void main (String[] args){\r\n        System.out.println(&quot;Insert number of stars:&quot;);\r\n\r\n    //declare numbers of stars\r\n        int num = getInt();\r\n\r\n    //Display the stars by &#39;stars&#39; method\r\n        System.out.println(stars(num));\r\n    }\r\n    //method for input int variables\r\n    public static int getInt(){\r\n        return new Scanner(System.in).nextInt();\r\n    }\r\n\r\n    //method for inputing stars to array and also for displaying them.\r\n    public static String stars(int num){\r\n        String[] star = new String[num];\r\n        for (int i = 0; i &lt; star.length; i++){\r\n            star[i] = &quot;*&quot;;\r\n            System.out.print(star[i]);\r\n        }\r\n        return star[num];\r\n    }\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/cre8H.png)\r\n\r\n\r\nI tried to limit the loop by the array lenght (like always) and It&#39;s nothing.\r\nThere is no line where we declare values ​​outside the range of the array.\r\nIn every post I&#39;ve seen the problem was wrong range.\r\n\r\nThats why I&#39;m looking for help here.\r\n","title":"Index X out of bounds for length X","body":"<p>I'm learning Java and while learning methods I came across an error. What's more, code does what I want, (it displays stars), but it also throws an error. I don't quite know why.</p>\n<p>Here is code and error below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class TaskMethods {\n    \n    //Display the stars\n    public static void main (String[] args){\n        System.out.println(&quot;Insert number of stars:&quot;);\n\n    //declare numbers of stars\n        int num = getInt();\n\n    //Display the stars by 'stars' method\n        System.out.println(stars(num));\n    }\n    //method for input int variables\n    public static int getInt(){\n        return new Scanner(System.in).nextInt();\n    }\n\n    //method for inputing stars to array and also for displaying them.\n    public static String stars(int num){\n        String[] star = new String[num];\n        for (int i = 0; i &lt; star.length; i++){\n            star[i] = &quot;*&quot;;\n            System.out.print(star[i]);\n        }\n        return star[num];\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cre8H.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried to limit the loop by the array lenght (like always) and It's nothing.\nThere is no line where we declare values ​​outside the range of the array.\nIn every post I've seen the problem was wrong range.</p>\n<p>Thats why I'm looking for help here.</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686589059,"creation_date":1686589059,"answer_id":76458800,"question_id":76457073,"body_markdown":"I have removed isIncludeStackTrace method and modified the code as below  \r\n```\r\nErrorAttributeOptions options = ErrorAttributeOptions\r\n    .defaults()\r\n    .including(ErrorAttributeOptions.Include.STACK_TRACE);\r\nMap&lt;String, Object&gt; body = getErrorAttributes(request, options);\r\n```\r\nReference Link - https://stackoverflow.com/questions/63289130/problem-with-cutomizing-errorattributeoptions-in-spring-reactive","title":"Spring Boot Upgrade causing issues with getErrorAttributes","body":"<p>I have removed isIncludeStackTrace method and modified the code as below</p>\n<pre><code>ErrorAttributeOptions options = ErrorAttributeOptions\n    .defaults()\n    .including(ErrorAttributeOptions.Include.STACK_TRACE);\nMap&lt;String, Object&gt; body = getErrorAttributes(request, options);\n</code></pre>\n<p>Reference Link - <a href=\"https://stackoverflow.com/questions/63289130/problem-with-cutomizing-errorattributeoptions-in-spring-reactive\">Problem with cutomizing ErrorAttributeOptions in Spring Reactive</a></p>\n"}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686589059,"creation_date":1686575868,"question_id":76457073,"body_markdown":"We are upgrading `springboot` from `2.3.12 RELEASE` to `2.7.12` version. After the upgrade we face the following issues in custom exception controller class named `SampleExceptionController`\r\n```\r\nSampleExceptionController.java:36: error:incompatible types:boolean cannot be converted to ErrorAttributeOptions \r\n```\r\n\r\nThe code snippet from SampleExceptionController is\r\n\r\n```\r\n@RestController\r\npublic class SampleExceptionController extends BasicErrorController{\r\n\r\n@PostMapping\r\nprivate ResponseEntity&lt;ErrorMessage&gt; appExceptionHandler(HttpServletRequest request){\r\n\r\n36: Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request,MediaType.APPLICATION.JSON));\r\n  \r\nString errMsg = String.valueOf(body.get(&quot;message&quot;));\r\nint result = (int)body.get(&quot;status&quot;);\r\n\r\nreturn ResonseEntity.status(HttpStatus.valueOf(result)).body(new ErrorMessage(result,errMsg));\r\n\r\n}\r\n\r\n```\r\nHere isIncludeStackTrace method returns boolean and it is a method present in BasicErrorController class\r\n\r\ngetErrorAttributes method is present in AbstractErrorController class and the implementation is \r\n\r\n```\r\nprotected Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, ErrorAttributeOptions options){ }\r\n```\r\nBut the same code was working fine before springboot upgrade\r\n\r\nI could not get what is the problem, can anyone help here?\r\n\r\nThanks","title":"Spring Boot Upgrade causing issues with getErrorAttributes","body":"<p>We are upgrading <code>springboot</code> from <code>2.3.12 RELEASE</code> to <code>2.7.12</code> version. After the upgrade we face the following issues in custom exception controller class named <code>SampleExceptionController</code></p>\n<pre><code>SampleExceptionController.java:36: error:incompatible types:boolean cannot be converted to ErrorAttributeOptions \n</code></pre>\n<p>The code snippet from SampleExceptionController is</p>\n<pre><code>@RestController\npublic class SampleExceptionController extends BasicErrorController{\n\n@PostMapping\nprivate ResponseEntity&lt;ErrorMessage&gt; appExceptionHandler(HttpServletRequest request){\n\n36: Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request,MediaType.APPLICATION.JSON));\n  \nString errMsg = String.valueOf(body.get(&quot;message&quot;));\nint result = (int)body.get(&quot;status&quot;);\n\nreturn ResonseEntity.status(HttpStatus.valueOf(result)).body(new ErrorMessage(result,errMsg));\n\n}\n\n</code></pre>\n<p>Here isIncludeStackTrace method returns boolean and it is a method present in BasicErrorController class</p>\n<p>getErrorAttributes method is present in AbstractErrorController class and the implementation is</p>\n<pre><code>protected Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, ErrorAttributeOptions options){ }\n</code></pre>\n<p>But the same code was working fine before springboot upgrade</p>\n<p>I could not get what is the problem, can anyone help here?</p>\n<p>Thanks</p>\n"},{"tags":["java","algorithm","set","powerset"],"comments":[{"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"score":7,"creation_date":1257370876,"post_id":1670862,"comment_id":1550648,"body_markdown":"Suppose you have a set of configurations -- say &quot;A&quot;, &quot;B&quot; and &quot;C&quot; --, that can be used to parametrize a model, and you want to see which subset yields the best result -- e.g. just &quot;A&quot;. A possible solution would be to test each member of the powerset.","body":"Suppose you have a set of configurations -- say &quot;A&quot;, &quot;B&quot; and &quot;C&quot; --, that can be used to parametrize a model, and you want to see which subset yields the best result -- e.g. just &quot;A&quot;. A possible solution would be to test each member of the powerset."},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":7,"creation_date":1337117536,"post_id":1670862,"comment_id":13745898,"body_markdown":"It&#39;s a Google interview question for software developers.  It&#39;s a contrived problem to test your agility of mind.","body":"It&#39;s a Google interview question for software developers.  It&#39;s a contrived problem to test your agility of mind."},{"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"score":0,"creation_date":1367776714,"post_id":1670862,"comment_id":23487862,"body_markdown":"This is a reasonable question. For instance to implement the scoring function for cribbage, you have to test whether any element of the powerset adds up to 15.","body":"This is a reasonable question. For instance to implement the scoring function for cribbage, you have to test whether any element of the powerset adds up to 15."}],"answers":[{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":1,"up_vote_count":104,"is_accepted":true,"score":103,"last_activity_date":1257293494,"creation_date":1257291622,"answer_id":1670871,"question_id":1670862,"body_markdown":"Yes, it is `O(2^n)` indeed, since you need to generate, well, `2^n` possible combinations. Here&#39;s a working implementation, using generics and sets:\r\n\r\n    public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(Set&lt;T&gt; originalSet) {\r\n    \tSet&lt;Set&lt;T&gt;&gt; sets = new HashSet&lt;Set&lt;T&gt;&gt;();\r\n    \tif (originalSet.isEmpty()) {\r\n    \t\tsets.add(new HashSet&lt;T&gt;());\r\n    \t\treturn sets;\r\n    \t}\r\n    \tList&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\r\n    \tT head = list.get(0);\r\n    \tSet&lt;T&gt; rest = new HashSet&lt;T&gt;(list.subList(1, list.size())); \r\n    \tfor (Set&lt;T&gt; set : powerSet(rest)) {\r\n    \t\tSet&lt;T&gt; newSet = new HashSet&lt;T&gt;();\r\n    \t\tnewSet.add(head);\r\n    \t\tnewSet.addAll(set);\r\n    \t\tsets.add(newSet);\r\n    \t\tsets.add(set);\r\n    \t}\t\t\r\n    \treturn sets;\r\n    }  \r\n\r\nAnd a test, given your example input:\r\n\r\n     Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\r\n     mySet.add(1);\r\n     mySet.add(2);\r\n     mySet.add(3);\r\n     for (Set&lt;Integer&gt; s : SetUtils.powerSet(mySet)) {\r\n         System.out.println(s);\r\n     }","title":"Obtaining a powerset of a set in Java","body":"<p>Yes, it is <code>O(2^n)</code> indeed, since you need to generate, well, <code>2^n</code> possible combinations. Here's a working implementation, using generics and sets:</p>\n\n<pre><code>public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(Set&lt;T&gt; originalSet) {\n    Set&lt;Set&lt;T&gt;&gt; sets = new HashSet&lt;Set&lt;T&gt;&gt;();\n    if (originalSet.isEmpty()) {\n        sets.add(new HashSet&lt;T&gt;());\n        return sets;\n    }\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\n    T head = list.get(0);\n    Set&lt;T&gt; rest = new HashSet&lt;T&gt;(list.subList(1, list.size())); \n    for (Set&lt;T&gt; set : powerSet(rest)) {\n        Set&lt;T&gt; newSet = new HashSet&lt;T&gt;();\n        newSet.add(head);\n        newSet.addAll(set);\n        sets.add(newSet);\n        sets.add(set);\n    }       \n    return sets;\n}  \n</code></pre>\n\n<p>And a test, given your example input:</p>\n\n<pre><code> Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\n mySet.add(1);\n mySet.add(2);\n mySet.add(3);\n for (Set&lt;Integer&gt; s : SetUtils.powerSet(mySet)) {\n     System.out.println(s);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1257292182,"creation_date":1257291702,"answer_id":1670878,"question_id":1670862,"body_markdown":"[Here][1] is a tutorial describing exactly what you want, including the code.  You&#39;re correct in that the complexity is O(2^n).\r\n\r\n  [1]: http://jvalentino.blogspot.com/2007/02/shortcut-to-calculating-power-set-using.html","title":"Obtaining a powerset of a set in Java","body":"<p><a href=\"http://jvalentino.blogspot.com/2007/02/shortcut-to-calculating-power-set-using.html\" rel=\"noreferrer\">Here</a> is a tutorial describing exactly what you want, including the code.  You're correct in that the complexity is O(2^n).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257292848,"creation_date":1257292848,"answer_id":1670953,"question_id":1670862,"body_markdown":"If S is a finite set with N elements, then the power set of S contains 2^N elements.  The time to simply enumerate the elements of the powerset is 2^N, so `O(2^N)` is a lower bound on the time complexity of (eagerly) constructing the powerset.\r\n\r\nPut simply, any computation that involves creating powersets is not going to scale for large values of N.  No clever algorithm will help you ... apart from avoiding the need to create the powersets!","title":"Obtaining a powerset of a set in Java","body":"<p>If S is a finite set with N elements, then the power set of S contains 2^N elements.  The time to simply enumerate the elements of the powerset is 2^N, so <code>O(2^N)</code> is a lower bound on the time complexity of (eagerly) constructing the powerset.</p>\n\n<p>Put simply, any computation that involves creating powersets is not going to scale for large values of N.  No clever algorithm will help you ... apart from avoiding the need to create the powersets!</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1478030016,"creation_date":1257294069,"answer_id":1671011,"question_id":1670862,"body_markdown":"Actually, I&#39;ve written code that does what you&#39;re asking for in O(1).  The question is what you plan to *do* with the Set next.  If you&#39;re just going to call `size()` on it, that&#39;s O(1), but if you&#39;re going to iterate it that&#39;s obviously `O(2^n)`.\r\n\r\n`contains()` would be `O(n)`, etc.\r\n\r\nDo you really need this?\r\n\r\n**EDIT:**\r\n\r\nThis code is [now available in Guava][1], exposed through the method [`Sets.powerSet(set)`][2].\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L1257\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#powerSet%28java.util.Set%29","title":"Obtaining a powerset of a set in Java","body":"<p>Actually, I've written code that does what you're asking for in O(1).  The question is what you plan to <em>do</em> with the Set next.  If you're just going to call <code>size()</code> on it, that's O(1), but if you're going to iterate it that's obviously <code>O(2^n)</code>.</p>\n\n<p><code>contains()</code> would be <code>O(n)</code>, etc.</p>\n\n<p>Do you really need this?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This code is <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Sets.java#L1257\" rel=\"noreferrer\">now available in Guava</a>, exposed through the method <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#powerSet%28java.util.Set%29\" rel=\"noreferrer\"><code>Sets.powerSet(set)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1401363765,"creation_date":1277018262,"answer_id":3078491,"question_id":1670862,"body_markdown":"Here&#39;s a solution where I use a generator, the advantage being, the entire power set is never stored at once... So you can iterate over it one-by-one without needing it to be stored in memory. I&#39;d like to think it&#39;s a better option... Note the complexity is the same, O(2^n), but the memory requirements are reduced (assuming the garbage collector behaves! ;) )\r\n\r\n    /**\r\n     *\r\n     */\r\n    package org.mechaevil.util.Algorithms;\r\n\r\n    import java.util.BitSet;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n\r\n    /**\r\n     * @author st0le\r\n     *\r\n     */\r\n    public class PowerSet&lt;E&gt; implements Iterator&lt;Set&lt;E&gt;&gt;,Iterable&lt;Set&lt;E&gt;&gt;{\r\n        private E[] arr = null;\r\n        private BitSet bset = null;\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public PowerSet(Set&lt;E&gt; set)\r\n        {\r\n            arr = (E[])set.toArray();\r\n            bset = new BitSet(arr.length + 1);\r\n        }\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return !bset.get(arr.length);\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;E&gt; next() {\r\n            Set&lt;E&gt; returnSet = new TreeSet&lt;E&gt;();\r\n            for(int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                if(bset.get(i))\r\n                    returnSet.add(arr[i]);\r\n            }\r\n            //increment bset\r\n            for(int i = 0; i &lt; bset.size(); i++)\r\n            {\r\n                if(!bset.get(i))\r\n                {\r\n                    bset.set(i);\r\n                    break;\r\n                }else\r\n                    bset.clear(i);\r\n            }\r\n\r\n            return returnSet;\r\n        }\r\n\r\n        @Override\r\n        public void remove() {\r\n            throw new UnsupportedOperationException(&quot;Not Supported!&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;Set&lt;E&gt;&gt; iterator() {\r\n            return this;\r\n        }\r\n\r\n    }\r\n\r\nTo call it, use this pattern:\r\n\r\n            Set&lt;Character&gt; set = new TreeSet&lt;Character&gt; ();\r\n            for(int i = 0; i &lt; 5; i++)\r\n                set.add((char) (i + &#39;A&#39;));\r\n\r\n            PowerSet&lt;Character&gt; pset = new PowerSet&lt;Character&gt;(set);\r\n            for(Set&lt;Character&gt; s:pset)\r\n            {\r\n                System.out.println(s);\r\n            }\r\n\r\nIt&#39;s from my Project Euler Library... :)\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>Here's a solution where I use a generator, the advantage being, the entire power set is never stored at once... So you can iterate over it one-by-one without needing it to be stored in memory. I'd like to think it's a better option... Note the complexity is the same, O(2^n), but the memory requirements are reduced (assuming the garbage collector behaves! ;) )</p>\n\n<pre><code>/**\n *\n */\npackage org.mechaevil.util.Algorithms;\n\nimport java.util.BitSet;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.TreeSet;\n\n/**\n * @author st0le\n *\n */\npublic class PowerSet&lt;E&gt; implements Iterator&lt;Set&lt;E&gt;&gt;,Iterable&lt;Set&lt;E&gt;&gt;{\n    private E[] arr = null;\n    private BitSet bset = null;\n\n    @SuppressWarnings(\"unchecked\")\n    public PowerSet(Set&lt;E&gt; set)\n    {\n        arr = (E[])set.toArray();\n        bset = new BitSet(arr.length + 1);\n    }\n\n    @Override\n    public boolean hasNext() {\n        return !bset.get(arr.length);\n    }\n\n    @Override\n    public Set&lt;E&gt; next() {\n        Set&lt;E&gt; returnSet = new TreeSet&lt;E&gt;();\n        for(int i = 0; i &lt; arr.length; i++)\n        {\n            if(bset.get(i))\n                returnSet.add(arr[i]);\n        }\n        //increment bset\n        for(int i = 0; i &lt; bset.size(); i++)\n        {\n            if(!bset.get(i))\n            {\n                bset.set(i);\n                break;\n            }else\n                bset.clear(i);\n        }\n\n        return returnSet;\n    }\n\n    @Override\n    public void remove() {\n        throw new UnsupportedOperationException(\"Not Supported!\");\n    }\n\n    @Override\n    public Iterator&lt;Set&lt;E&gt;&gt; iterator() {\n        return this;\n    }\n\n}\n</code></pre>\n\n<p>To call it, use this pattern:</p>\n\n<pre><code>        Set&lt;Character&gt; set = new TreeSet&lt;Character&gt; ();\n        for(int i = 0; i &lt; 5; i++)\n            set.add((char) (i + 'A'));\n\n        PowerSet&lt;Character&gt; pset = new PowerSet&lt;Character&gt;(set);\n        for(Set&lt;Character&gt; s:pset)\n        {\n            System.out.println(s);\n        }\n</code></pre>\n\n<p>It's from my Project Euler Library... :)</p>\n"},{"tags":[],"owner":{"account_id":732222,"reputation":41,"user_id":690910,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401363848,"creation_date":1302621045,"answer_id":5637478,"question_id":1670862,"body_markdown":"I was looking for a solution that wasn&#39;t as huge as the ones posted here. This targets Java 7, so it will require a handful of pastes for versions 5 and 6.\r\n\r\n    Set&lt;Set&lt;Object&gt;&gt; powerSetofNodes(Set&lt;Object&gt; orig) {\r\n        Set&lt;Set&lt;Object&gt;&gt; powerSet = new HashSet&lt;&gt;(),\r\n            runSet = new HashSet&lt;&gt;(),\r\n            thisSet = new HashSet&lt;&gt;();\r\n\r\n        while (powerSet.size() &lt; (Math.pow(2, orig.size())-1)) {\r\n            if (powerSet.isEmpty()) {\r\n                for (Object o : orig) {\r\n                    Set&lt;Object&gt; s = new TreeSet&lt;&gt;();\r\n                    s.add(o);\r\n                    runSet.add(s);\r\n                    powerSet.add(s);\r\n                }\r\n                continue;\r\n            }\r\n            for (Object o : orig) {\r\n                for (Set&lt;Object&gt; s : runSet) {\r\n                    Set&lt;Object&gt; s2 = new TreeSet&lt;&gt;();\r\n                    s2.addAll(s);\r\n                    s2.add(o);\r\n                    powerSet.add(s2);\r\n                    thisSet.add(s2);\r\n                }\r\n            }\r\n            runSet.clear();\r\n            runSet.addAll(thisSet);\r\n            thisSet.clear();\r\n        }\r\n        powerSet.add(new TreeSet());\r\n        return powerSet;\r\n\r\nHere&#39;s some example code to test:\r\n\r\n    Set&lt;Object&gt; hs = new HashSet&lt;&gt;();\r\n    hs.add(1);\r\n    hs.add(2);\r\n    hs.add(3);\r\n    hs.add(4);\r\n    for(Set&lt;Object&gt; s : powerSetofNodes(hs)) {\r\n        System.out.println(Arrays.toString(s.toArray()));\r\n    }\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>I was looking for a solution that wasn't as huge as the ones posted here. This targets Java 7, so it will require a handful of pastes for versions 5 and 6.</p>\n\n<pre><code>Set&lt;Set&lt;Object&gt;&gt; powerSetofNodes(Set&lt;Object&gt; orig) {\n    Set&lt;Set&lt;Object&gt;&gt; powerSet = new HashSet&lt;&gt;(),\n        runSet = new HashSet&lt;&gt;(),\n        thisSet = new HashSet&lt;&gt;();\n\n    while (powerSet.size() &lt; (Math.pow(2, orig.size())-1)) {\n        if (powerSet.isEmpty()) {\n            for (Object o : orig) {\n                Set&lt;Object&gt; s = new TreeSet&lt;&gt;();\n                s.add(o);\n                runSet.add(s);\n                powerSet.add(s);\n            }\n            continue;\n        }\n        for (Object o : orig) {\n            for (Set&lt;Object&gt; s : runSet) {\n                Set&lt;Object&gt; s2 = new TreeSet&lt;&gt;();\n                s2.addAll(s);\n                s2.add(o);\n                powerSet.add(s2);\n                thisSet.add(s2);\n            }\n        }\n        runSet.clear();\n        runSet.addAll(thisSet);\n        thisSet.clear();\n    }\n    powerSet.add(new TreeSet());\n    return powerSet;\n</code></pre>\n\n<p>Here's some example code to test:</p>\n\n<pre><code>Set&lt;Object&gt; hs = new HashSet&lt;&gt;();\nhs.add(1);\nhs.add(2);\nhs.add(3);\nhs.add(4);\nfor(Set&lt;Object&gt; s : powerSetofNodes(hs)) {\n    System.out.println(Arrays.toString(s.toArray()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1182912,"reputation":19,"user_id":1157443,"display_name":"Orestis"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1326933485,"creation_date":1326933485,"answer_id":8919604,"question_id":1670862,"body_markdown":"One way without recursion is the following: Use a binary mask and make all the possible combinations.\r\n\t\r\n\tpublic HashSet&lt;HashSet&gt; createPowerSet(Object[] array)\r\n\t{\r\n\t\tHashSet&lt;HashSet&gt; powerSet=new HashSet();\r\n\t\tboolean[] mask= new boolean[array.length];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;Math.pow(2, array.length);i++)\r\n\t\t{\r\n\t\t\tHashSet set=new HashSet();\r\n\t\t\tfor(int j=0;j&lt;mask.length;j++)\r\n\t\t\t{\r\n\t\t\t\tif(mask[i])\r\n\t\t\t\t\tset.add(array[j]);\r\n\t\t\t}\r\n\t\t\tpowerSet.add(set);\t\t\r\n\t\t\t\r\n\t\t\tincreaseMask(mask);\r\n\t\t}\r\n\t\t\r\n\t\treturn powerSet;\r\n\t}\r\n\r\n    public void increaseMask(boolean[] mask)\r\n\t{\r\n\t\tboolean carry=false;\r\n\t\t\r\n\t\tif(mask[0])\r\n\t\t\t{\r\n\t\t\t\tmask[0]=false;\r\n\t\t\t\tcarry=true;\r\n\t\t\t}\r\n\t\telse\r\n\t\t\tmask[0]=true;\r\n\t\t\r\n\t\tfor(int i=1;i&lt;mask.length;i++)\r\n\t\t{\r\n\t\t\tif(mask[i]==true &amp;&amp; carry==true)\r\n\t\t\tmask[i]=false;\r\n\t\t\telse if (mask[i]==false &amp;&amp; carry==true)\r\n\t\t\t{\r\n\t\t\t\tmask[i]=true;\r\n\t\t\t\tcarry=false;\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>One way without recursion is the following: Use a binary mask and make all the possible combinations.</p>\n\n<pre><code>public HashSet&lt;HashSet&gt; createPowerSet(Object[] array)\n{\n    HashSet&lt;HashSet&gt; powerSet=new HashSet();\n    boolean[] mask= new boolean[array.length];\n\n    for(int i=0;i&lt;Math.pow(2, array.length);i++)\n    {\n        HashSet set=new HashSet();\n        for(int j=0;j&lt;mask.length;j++)\n        {\n            if(mask[i])\n                set.add(array[j]);\n        }\n        powerSet.add(set);      \n\n        increaseMask(mask);\n    }\n\n    return powerSet;\n}\n\npublic void increaseMask(boolean[] mask)\n{\n    boolean carry=false;\n\n    if(mask[0])\n        {\n            mask[0]=false;\n            carry=true;\n        }\n    else\n        mask[0]=true;\n\n    for(int i=1;i&lt;mask.length;i++)\n    {\n        if(mask[i]==true &amp;&amp; carry==true)\n        mask[i]=false;\n        else if (mask[i]==false &amp;&amp; carry==true)\n        {\n            mask[i]=true;\n            carry=false;\n        }\n        else \n            break;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1099415,"reputation":1805,"user_id":1092195,"display_name":"Harry He"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361955194,"creation_date":1356707139,"answer_id":14071492,"question_id":1670862,"body_markdown":"The following solution is borrowed from my book &quot;[Coding Interviews: Questions, Analysis &amp; Solutions][1]&quot;:\r\n\r\nSome integers in an array are selected that compose a combination. A set of bits is utilized, where each bit stands for an integer in the array. If the *i-th* character is selected for a combination, the *i-th* bit is 1; otherwise, it is 0. For instance, three bits are used for combinations of the array [1, 2, 3]. If the first two integers 1 and 2 are selected to compose a combination [1, 2], the corresponding bits are {1, 1, 0}. Similarly, bits corresponding to another combination [1, 3] are {1, 0, 1}. We are able to get all combinations of an array with length *n* if we can get all possible combinations of *n* bits.\r\n\r\nA number is composed of a set of bits. All possible combinations of *n* bits correspond to numbers\r\nfrom 1 to 2^*n*-1. Therefore, each number in the range between 1 and 2^*n*-1 corresponds to a combination of an array with length *n*. For example, the number 6 is composed of bits {1, 1, 0}, so the first and second characters are selected in the array [1, 2, 3] to generate the combination [1, 2]. Similarly, the number 5 with bits {1, 0, 1} corresponds to the combination [1, 3].\r\n\r\nThe Java code to implement this solution looks like below:\r\n\r\n    public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet(int[] numbers) {\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; combinations = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(); \r\n        BitSet bits = new BitSet(numbers.length);\r\n        do{\r\n            combinations.add(getCombination(numbers, bits));\r\n        }while(increment(bits, numbers.length));\r\n        \r\n        return combinations;\r\n    }\r\n    \r\n    private static boolean increment(BitSet bits, int length) {\r\n        int index = length - 1;\r\n        \r\n        while(index &gt;= 0 &amp;&amp; bits.get(index)) {\r\n            bits.clear(index);\r\n            --index;\r\n        }\r\n        \r\n        if(index &lt; 0)\r\n            return false;\r\n        \r\n        bits.set(index);\r\n        return true;\r\n    }\r\n\r\n    private static ArrayList&lt;Integer&gt; getCombination(int[] numbers, BitSet bits){\r\n        ArrayList&lt;Integer&gt; combination = new ArrayList&lt;Integer&gt;();\r\n        for(int i = 0; i &lt; numbers.length; ++i) {\r\n            if(bits.get(i))\r\n                combination.add(numbers[i]);\r\n        }\r\n        \r\n        return combination;\r\n    }\r\n\r\nThe method increment increases a number represented in a set of bits. The algorithm clears 1 bits\r\nfrom the rightmost bit until a 0 bit is found. It then sets the rightmost 0 bit to 1. For example, in order to increase the number 5 with bits {1, 0, 1}, it clears 1 bits from the right side and sets the rightmost 0 bit to 1. The bits become {1, 1, 0} for the number 6, which is the result of increasing 5 by 1.\r\n\r\n\r\n  [1]: http://www.amazon.com/Coding-Interviews-Questions-Analysis-Solutions/dp/1430247614","title":"Obtaining a powerset of a set in Java","body":"<p>The following solution is borrowed from my book \"<a href=\"https://rads.stackoverflow.com/amzn/click/com/1430247614\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Coding Interviews: Questions, Analysis &amp; Solutions</a>\":</p>\n\n<p>Some integers in an array are selected that compose a combination. A set of bits is utilized, where each bit stands for an integer in the array. If the <em>i-th</em> character is selected for a combination, the <em>i-th</em> bit is 1; otherwise, it is 0. For instance, three bits are used for combinations of the array [1, 2, 3]. If the first two integers 1 and 2 are selected to compose a combination [1, 2], the corresponding bits are {1, 1, 0}. Similarly, bits corresponding to another combination [1, 3] are {1, 0, 1}. We are able to get all combinations of an array with length <em>n</em> if we can get all possible combinations of <em>n</em> bits.</p>\n\n<p>A number is composed of a set of bits. All possible combinations of <em>n</em> bits correspond to numbers\nfrom 1 to 2^<em>n</em>-1. Therefore, each number in the range between 1 and 2^<em>n</em>-1 corresponds to a combination of an array with length <em>n</em>. For example, the number 6 is composed of bits {1, 1, 0}, so the first and second characters are selected in the array [1, 2, 3] to generate the combination [1, 2]. Similarly, the number 5 with bits {1, 0, 1} corresponds to the combination [1, 3].</p>\n\n<p>The Java code to implement this solution looks like below:</p>\n\n<pre><code>public static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet(int[] numbers) {\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; combinations = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(); \n    BitSet bits = new BitSet(numbers.length);\n    do{\n        combinations.add(getCombination(numbers, bits));\n    }while(increment(bits, numbers.length));\n\n    return combinations;\n}\n\nprivate static boolean increment(BitSet bits, int length) {\n    int index = length - 1;\n\n    while(index &gt;= 0 &amp;&amp; bits.get(index)) {\n        bits.clear(index);\n        --index;\n    }\n\n    if(index &lt; 0)\n        return false;\n\n    bits.set(index);\n    return true;\n}\n\nprivate static ArrayList&lt;Integer&gt; getCombination(int[] numbers, BitSet bits){\n    ArrayList&lt;Integer&gt; combination = new ArrayList&lt;Integer&gt;();\n    for(int i = 0; i &lt; numbers.length; ++i) {\n        if(bits.get(i))\n            combination.add(numbers[i]);\n    }\n\n    return combination;\n}\n</code></pre>\n\n<p>The method increment increases a number represented in a set of bits. The algorithm clears 1 bits\nfrom the rightmost bit until a 0 bit is found. It then sets the rightmost 0 bit to 1. For example, in order to increase the number 5 with bits {1, 0, 1}, it clears 1 bits from the right side and sets the rightmost 0 bit to 1. The bits become {1, 1, 0} for the number 6, which is the result of increasing 5 by 1.</p>\n"},{"tags":[],"owner":{"account_id":202758,"reputation":326,"user_id":450004,"display_name":"George Fairbanks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359064799,"creation_date":1359064799,"answer_id":14511595,"question_id":1670862,"body_markdown":"Some of the solutions above suffer when the size of the set is large because they are creating a lot of object garbage to be collected and require copying data.  How can we avoid that?  We can take advantage of the fact that we know how big the result set size will be (2^n), preallocate an array that big, and just append to the end of it, never copying.\r\n\r\nThe speedup grows quickly with n.  I compared it to Jo&#227;o Silva&#39;s solution above.  On my machine (all measurements approximate), n=13 is 5x faster, n=14 is 7x, n=15 is 12x, n=16 is 25x, n=17 is 75x, n=18 is 140x.  So that garbage creation/collection and copying is dominating in what otherwise seem to be similar big-O solutions.\r\n\r\nPreallocating the array at the beginning appears to be a win compared to letting it grow dynamically.  With n=18, dynamic growing takes about twice as long overall.\r\n\r\n\tpublic static &lt;T&gt; List&lt;List&lt;T&gt;&gt; powerSet(List&lt;T&gt; originalSet) {\r\n\t\t// result size will be 2^n, where n=size(originalset)\r\n\t\t// good to initialize the array size to avoid dynamic growing\r\n\t\tint resultSize = (int) Math.pow(2, originalSet.size());\r\n\t\t// resultPowerSet is what we will return\r\n\t\tList&lt;List&lt;T&gt;&gt; resultPowerSet = new ArrayList&lt;List&lt;T&gt;&gt;(resultSize);\r\n\t\t\r\n\t\t// Initialize result with the empty set, which powersets contain by definition\r\n\t\tresultPowerSet.add(new ArrayList&lt;T&gt;(0)); \r\n\r\n\t\t// for every item in the original list\r\n\t\tfor (T itemFromOriginalSet : originalSet) {\r\n\t\t\t\r\n\t\t\t// iterate through the existing powerset result\r\n\t\t\t// loop through subset and append to the resultPowerset as we go\r\n\t\t\t// must remember size at the beginning, before we append new elements\r\n\t\t\tint startingResultSize = resultPowerSet.size();\r\n\t\t\tfor (int i=0; i&lt;startingResultSize; i++) {\r\n\t\t\t\t// start with an existing element of the powerset\r\n\t\t\t\tList&lt;T&gt; oldSubset = resultPowerSet.get(i);\r\n\t\t\t\t\r\n\t\t\t\t// create a new element by adding a new item from the original list\r\n\t\t\t\tList&lt;T&gt; newSubset = new ArrayList&lt;T&gt;(oldSubset);\r\n\t\t\t\tnewSubset.add(itemFromOriginalSet);\r\n\t\t\t\t\r\n\t\t\t\t// add this element to the result powerset (past startingResultSize)\r\n\t\t\t\tresultPowerSet.add(newSubset);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resultPowerSet;\r\n\t}","title":"Obtaining a powerset of a set in Java","body":"<p>Some of the solutions above suffer when the size of the set is large because they are creating a lot of object garbage to be collected and require copying data.  How can we avoid that?  We can take advantage of the fact that we know how big the result set size will be (2^n), preallocate an array that big, and just append to the end of it, never copying.</p>\n\n<p>The speedup grows quickly with n.  I compared it to João Silva's solution above.  On my machine (all measurements approximate), n=13 is 5x faster, n=14 is 7x, n=15 is 12x, n=16 is 25x, n=17 is 75x, n=18 is 140x.  So that garbage creation/collection and copying is dominating in what otherwise seem to be similar big-O solutions.</p>\n\n<p>Preallocating the array at the beginning appears to be a win compared to letting it grow dynamically.  With n=18, dynamic growing takes about twice as long overall.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; powerSet(List&lt;T&gt; originalSet) {\n    // result size will be 2^n, where n=size(originalset)\n    // good to initialize the array size to avoid dynamic growing\n    int resultSize = (int) Math.pow(2, originalSet.size());\n    // resultPowerSet is what we will return\n    List&lt;List&lt;T&gt;&gt; resultPowerSet = new ArrayList&lt;List&lt;T&gt;&gt;(resultSize);\n\n    // Initialize result with the empty set, which powersets contain by definition\n    resultPowerSet.add(new ArrayList&lt;T&gt;(0)); \n\n    // for every item in the original list\n    for (T itemFromOriginalSet : originalSet) {\n\n        // iterate through the existing powerset result\n        // loop through subset and append to the resultPowerset as we go\n        // must remember size at the beginning, before we append new elements\n        int startingResultSize = resultPowerSet.size();\n        for (int i=0; i&lt;startingResultSize; i++) {\n            // start with an existing element of the powerset\n            List&lt;T&gt; oldSubset = resultPowerSet.get(i);\n\n            // create a new element by adding a new item from the original list\n            List&lt;T&gt; newSubset = new ArrayList&lt;T&gt;(oldSubset);\n            newSubset.add(itemFromOriginalSet);\n\n            // add this element to the result powerset (past startingResultSize)\n            resultPowerSet.add(newSubset);\n        }\n    }\n    return resultPowerSet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":286681,"reputation":36020,"user_id":586086,"accept_rate":49,"display_name":"Andrew Mao"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1397097688,"creation_date":1360609030,"answer_id":14818944,"question_id":1670862,"body_markdown":"If n &lt; 63, which is a reasonable assumption since you&#39;d run out of memory (unless using an iterator implementation) trying to construct the power set anyway, this is a more concise way to do it. Binary operations are way faster than `Math.pow()` and arrays for masks, but somehow Java users are afraid of them...\r\n\r\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\r\n    int n = list.size();\r\n    \r\n    Set&lt;Set&lt;T&gt;&gt; powerSet = new HashSet&lt;Set&lt;T&gt;&gt;();\r\n    \r\n    for( long i = 0; i &lt; (1 &lt;&lt; n); i++) {\r\n        Set&lt;T&gt; element = new HashSet&lt;T&gt;();\r\n        for( int j = 0; j &lt; n; j++ )\r\n            if( (i &gt;&gt; j) % 2 == 1 ) element.add(list.get(j));\r\n        powerSet.add(element); \r\n    }\r\n    \r\n    return powerSet;","title":"Obtaining a powerset of a set in Java","body":"<p>If n &lt; 63, which is a reasonable assumption since you'd run out of memory (unless using an iterator implementation) trying to construct the power set anyway, this is a more concise way to do it. Binary operations are way faster than <code>Math.pow()</code> and arrays for masks, but somehow Java users are afraid of them...</p>\n\n<pre><code>List&lt;T&gt; list = new ArrayList&lt;T&gt;(originalSet);\nint n = list.size();\n\nSet&lt;Set&lt;T&gt;&gt; powerSet = new HashSet&lt;Set&lt;T&gt;&gt;();\n\nfor( long i = 0; i &lt; (1 &lt;&lt; n); i++) {\n    Set&lt;T&gt; element = new HashSet&lt;T&gt;();\n    for( int j = 0; j &lt; n; j++ )\n        if( (i &gt;&gt; j) % 2 == 1 ) element.add(list.get(j));\n    powerSet.add(element); \n}\n\nreturn powerSet;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365383,"reputation":2844,"user_id":710275,"accept_rate":73,"display_name":"Adolfo Perez"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1376682635,"creation_date":1376682002,"answer_id":18280926,"question_id":1670862,"body_markdown":"I came up with another solution based on @Harry He&#39;s ideas. Probably not the most elegant but here it goes as I understand it:\r\n\r\nLet&#39;s take the classical simple example PowerSet of S P(S) = {{1},{2},{3}}.\r\nWe know the formula to get the number of subsets is 2^n (7 + empty set). \r\nFor this example 2^3 = 8 subsets.\r\n\r\nIn order to find each subset we need to convert 0-7 decimal to binary representation shown in the conversion table below:\r\n\r\n![ConversionTable][1]\r\n\r\nIf we traverse the table row by row, each row will result in a subset and the values of each subset will come from the enabled bits.  \r\n\r\nEach column in the Bin Value section corresponds to the index position in the original input Set. \r\n\r\nHere my code:\r\n\r\n    public class PowerSet {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tPowerSet ps = new PowerSet();\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\t\tset.add(1);\r\n\t\tset.add(2);\r\n\t\tset.add(3);\r\n\t\tfor (Set&lt;Integer&gt; s : ps.powerSet(set)) {\r\n\t\t\tSystem.out.println(s);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Set&lt;Set&lt;Integer&gt;&gt; powerSet(Set&lt;Integer&gt; originalSet) {\r\n\t\t// Original set size e.g. 3\r\n\t\tint size = originalSet.size();\r\n\t\t// Number of subsets 2^n, e.g 2^3 = 8\r\n\t\tint numberOfSubSets = (int) Math.pow(2, size);\r\n\t\tSet&lt;Set&lt;Integer&gt;&gt; sets = new HashSet&lt;Set&lt;Integer&gt;&gt;();\r\n        ArrayList&lt;Integer&gt; originalList = new ArrayList&lt;Integer&gt;(originalSet);\r\n\t\tfor (int i = 0; i &lt; numberOfSubSets; i++) {\r\n\t\t\t// Get binary representation of this index e.g. 010 = 2 for n = 3\r\n\t\t\tString bin = getPaddedBinString(i, size);\r\n\t\t\t//Get sub-set\r\n\t\t\tSet&lt;Integer&gt; set = getSet(bin, originalList));\r\n\t\t\tsets.add(set);\r\n\t\t}\r\n\t\treturn sets;\r\n\t}\r\n\r\n\t//Gets a sub-set based on the binary representation. E.g. for 010 where n = 3 it will bring a new Set with value 2\r\n\tprivate Set&lt;Integer&gt; getSet(String bin, List&lt;Integer&gt; origValues){\r\n\t\tSet&lt;Integer&gt; result = new HashSet&lt;Integer&gt;();\r\n\t\tfor(int i = bin.length()-1; i &gt;= 0; i--){\r\n\t\t\t//Only get sub-sets where bool flag is on\r\n\t\t\tif(bin.charAt(i) == &#39;1&#39;){\r\n\t\t\t\tint val = origValues.get(i);\r\n\t\t\t\tresult.add(val);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//Converts an int to Bin and adds left padding to zero&#39;s based on size\r\n\tprivate String getPaddedBinString(int i, int size) {\r\n\t\tString bin = Integer.toBinaryString(i);\r\n\t\tbin = String.format(&quot;%0&quot; + size + &quot;d&quot;, Integer.parseInt(bin));\r\n\t\treturn bin;\r\n\t}\r\n\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/KQkBn.png","title":"Obtaining a powerset of a set in Java","body":"<p>I came up with another solution based on @Harry He's ideas. Probably not the most elegant but here it goes as I understand it:</p>\n\n<p>Let's take the classical simple example PowerSet of S P(S) = {{1},{2},{3}}.\nWe know the formula to get the number of subsets is 2^n (7 + empty set). \nFor this example 2^3 = 8 subsets.</p>\n\n<p>In order to find each subset we need to convert 0-7 decimal to binary representation shown in the conversion table below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/KQkBn.png\" alt=\"ConversionTable\"></p>\n\n<p>If we traverse the table row by row, each row will result in a subset and the values of each subset will come from the enabled bits.  </p>\n\n<p>Each column in the Bin Value section corresponds to the index position in the original input Set. </p>\n\n<p>Here my code:</p>\n\n<pre><code>public class PowerSet {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n    PowerSet ps = new PowerSet();\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n    set.add(1);\n    set.add(2);\n    set.add(3);\n    for (Set&lt;Integer&gt; s : ps.powerSet(set)) {\n        System.out.println(s);\n    }\n}\n\npublic Set&lt;Set&lt;Integer&gt;&gt; powerSet(Set&lt;Integer&gt; originalSet) {\n    // Original set size e.g. 3\n    int size = originalSet.size();\n    // Number of subsets 2^n, e.g 2^3 = 8\n    int numberOfSubSets = (int) Math.pow(2, size);\n    Set&lt;Set&lt;Integer&gt;&gt; sets = new HashSet&lt;Set&lt;Integer&gt;&gt;();\n    ArrayList&lt;Integer&gt; originalList = new ArrayList&lt;Integer&gt;(originalSet);\n    for (int i = 0; i &lt; numberOfSubSets; i++) {\n        // Get binary representation of this index e.g. 010 = 2 for n = 3\n        String bin = getPaddedBinString(i, size);\n        //Get sub-set\n        Set&lt;Integer&gt; set = getSet(bin, originalList));\n        sets.add(set);\n    }\n    return sets;\n}\n\n//Gets a sub-set based on the binary representation. E.g. for 010 where n = 3 it will bring a new Set with value 2\nprivate Set&lt;Integer&gt; getSet(String bin, List&lt;Integer&gt; origValues){\n    Set&lt;Integer&gt; result = new HashSet&lt;Integer&gt;();\n    for(int i = bin.length()-1; i &gt;= 0; i--){\n        //Only get sub-sets where bool flag is on\n        if(bin.charAt(i) == '1'){\n            int val = origValues.get(i);\n            result.add(val);\n        }\n    }\n    return result;\n}\n\n//Converts an int to Bin and adds left padding to zero's based on size\nprivate String getPaddedBinString(int i, int size) {\n    String bin = Integer.toBinaryString(i);\n    bin = String.format(\"%0\" + size + \"d\", Integer.parseInt(bin));\n    return bin;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1473204705,"creation_date":1377724570,"answer_id":18498340,"question_id":1670862,"body_markdown":"If you&#39;re using [Eclipse Collections][1] (formerly [GS Collections][2]), you can use the `powerSet()` method on all SetIterables.\r\n\r\n    MutableSet&lt;Integer&gt; set = UnifiedSet.newSetWith(1, 2, 3);\r\n    System.out.println(&quot;powerSet = &quot; + set.powerSet());\r\n    // prints: powerSet = [[], [1], [2], [1, 2], [3], [1, 3], [2, 3], [1, 2, 3]]\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: http://www.eclipse.org/collections/\r\n  [2]: https://github.com/goldmansachs/gs-collections","title":"Obtaining a powerset of a set in Java","body":"<p>If you're using <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> (formerly <a href=\"https://github.com/goldmansachs/gs-collections\" rel=\"nofollow\">GS Collections</a>), you can use the <code>powerSet()</code> method on all SetIterables.</p>\n\n<pre><code>MutableSet&lt;Integer&gt; set = UnifiedSet.newSetWith(1, 2, 3);\nSystem.out.println(\"powerSet = \" + set.powerSet());\n// prints: powerSet = [[], [1], [2], [1, 2], [3], [1, 3], [2, 3], [1, 2, 3]]\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":3008356,"reputation":31,"user_id":2552353,"display_name":"gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411357349,"creation_date":1411357349,"answer_id":25966397,"question_id":1670862,"body_markdown":"\r\nAlgorithm:\r\n\r\nInput: Set[], set_size\r\n1. Get the size of power set\r\n    powet_set_size = pow(2, set_size)\r\n2  Loop for counter from 0 to pow_set_size\r\n     (a) Loop for i = 0 to set_size\r\n          (i) If ith bit in counter is set\r\n               Print ith element from set for this subset\r\n     (b) Print seperator for subsets i.e., newline\r\n\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;math.h&gt;\r\n     \r\n    void printPowerSet(char *set, int set_size)\r\n    {\r\n        /*set_size of power set of a set with set_size\r\n          n is (2**n -1)*/\r\n        unsigned int pow_set_size = pow(2, set_size);\r\n        int counter, j;\r\n     \r\n        /*Run from counter 000..0 to 111..1*/\r\n        for(counter = 0; counter &lt; pow_set_size; counter++)\r\n        {\r\n          for(j = 0; j &lt; set_size; j++)\r\n           {\r\n              /* Check if jth bit in the counter is set\r\n                 If set then pront jth element from set */\r\n              if(counter &amp; (1&lt;&lt;j))\r\n                printf(&quot;%c&quot;, set[j]);\r\n           }\r\n           printf(&quot;\\n&quot;);\r\n        }\r\n    }\r\n     \r\n    /*Driver program to test printPowerSet*/\r\n    int main()\r\n    {\r\n        char set[] = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;};\r\n        printPowerSet(set, 3);\r\n     \r\n        getchar();\r\n        return 0;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;","title":"Obtaining a powerset of a set in Java","body":"<p>Algorithm:</p>\n\n<p>Input: Set[], set_size\n1. Get the size of power set\n    powet_set_size = pow(2, set_size)\n2  Loop for counter from 0 to pow_set_size\n     (a) Loop for i = 0 to set_size\n          (i) If ith bit in counter is set\n               Print ith element from set for this subset\n     (b) Print seperator for subsets i.e., newline</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#include &lt;stdio.h&gt;\r\n#include &lt;math.h&gt;\r\n \r\nvoid printPowerSet(char *set, int set_size)\r\n{\r\n    /*set_size of power set of a set with set_size\r\n      n is (2**n -1)*/\r\n    unsigned int pow_set_size = pow(2, set_size);\r\n    int counter, j;\r\n \r\n    /*Run from counter 000..0 to 111..1*/\r\n    for(counter = 0; counter &lt; pow_set_size; counter++)\r\n    {\r\n      for(j = 0; j &lt; set_size; j++)\r\n       {\r\n          /* Check if jth bit in the counter is set\r\n             If set then pront jth element from set */\r\n          if(counter & (1&lt;&lt;j))\r\n            printf(\"%c\", set[j]);\r\n       }\r\n       printf(\"\\n\");\r\n    }\r\n}\r\n \r\n/*Driver program to test printPowerSet*/\r\nint main()\r\n{\r\n    char set[] = {'a','b','c'};\r\n    printPowerSet(set, 3);\r\n \r\n    getchar();\r\n    return 0;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":3082946,"reputation":161,"user_id":2610780,"accept_rate":40,"display_name":"jump3r"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414430054,"creation_date":1414430054,"answer_id":26593031,"question_id":1670862,"body_markdown":"Here is an easy iterative O(2^n) solution:\r\n    \r\n    public static Set&lt;Set&lt;Integer&gt;&gt; powerSet(List&lt;Integer&gt; intList){\r\n        \r\n        Set&lt;Set&lt;Integer&gt;&gt; result = new HashSet();\r\n        result.add(new HashSet());\r\n        \r\n        for (Integer i : intList){\r\n\r\n            Set&lt;Set&lt;Integer&gt;&gt; temp = new HashSet();\r\n            \r\n            for(Set&lt;Integer&gt; intSet : result){\r\n                \r\n                intSet = new HashSet(intSet);\r\n                intSet.add(i);                \r\n                temp.add(intSet);\r\n            }\r\n            result.addAll(temp);\r\n        }\r\n        return result;\r\n    }\r\n    ","title":"Obtaining a powerset of a set in Java","body":"<p>Here is an easy iterative O(2^n) solution:</p>\n\n<pre><code>public static Set&lt;Set&lt;Integer&gt;&gt; powerSet(List&lt;Integer&gt; intList){\n\n    Set&lt;Set&lt;Integer&gt;&gt; result = new HashSet();\n    result.add(new HashSet());\n\n    for (Integer i : intList){\n\n        Set&lt;Set&lt;Integer&gt;&gt; temp = new HashSet();\n\n        for(Set&lt;Integer&gt; intSet : result){\n\n            intSet = new HashSet(intSet);\n            intSet.add(i);                \n            temp.add(intSet);\n        }\n        result.addAll(temp);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1490020,"reputation":272,"user_id":1397333,"display_name":"Hazem Saleh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419992072,"creation_date":1419989958,"answer_id":27715094,"question_id":1670862,"body_markdown":"This is my recursive solution which can get the power set of any set using Java Generics. Its main idea is to combine the head of the input array with all the possible solutions of the rest of the array as follows.\r\n \r\n\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Set;\r\n    \r\n    public class SetUtil {\r\n        private static&lt;T&gt;  Set&lt;Set&lt;T&gt;&gt; combine(T head, Set&lt;Set&lt;T&gt;&gt; set) {\r\n            Set&lt;Set&lt;T&gt;&gt; all = new LinkedHashSet&lt;&gt;();\r\n                    \r\n            for (Set&lt;T&gt; currentSet : set) {\r\n                Set&lt;T&gt; outputSet = new LinkedHashSet&lt;&gt;();\r\n                \r\n                outputSet.add(head);\r\n                outputSet.addAll(currentSet);\r\n                \r\n                all.add(outputSet);\r\n            }\r\n            \r\n            all.addAll(set);        \r\n            \r\n            return all;\r\n        }\r\n        \r\n        //Assuming that T[] is an array with no repeated elements ...\r\n        public static&lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] input) {\r\n            if (input.length == 0) {\r\n                Set &lt;Set&lt;T&gt;&gt;emptySet = new LinkedHashSet&lt;&gt;();\r\n        \r\n                emptySet.add(new LinkedHashSet&lt;T&gt;());\r\n        \r\n                return emptySet;\r\n            }\r\n    \r\n            T head = input[0];\r\n            T[] newInputSet = (T[]) new Object[input.length - 1];\r\n    \r\n            for (int i = 1; i &lt; input.length; ++i) {\r\n                newInputSet[i - 1] = input[i];\r\n            }\r\n    \r\n            Set&lt;Set&lt;T&gt;&gt; all = combine(head, powerSet(newInputSet));\r\n    \r\n            return all;\r\n        }\r\n        \r\n        public static void main(String[] args) {            \r\n            Set&lt;Set&lt;Integer&gt;&gt; set = SetUtil.powerSet(new Integer[] {1, 2, 3, 4, 5, 6});\r\n    \r\n            System.out.println(set);\r\n        }\r\n    }\r\n\r\nThis will output:\r\n\r\n    [[1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5], [1, 2, 3, 4, 6], [1, 2, 3, 4], [1, 2, 3, 5, 6], [1, 2, 3, 5], [1, 2, 3, 6], [1, 2, 3], [1, 2, 4, 5, 6], [1, 2, 4, 5], [1, 2, 4, 6], [1, 2, 4], [1, 2, 5, 6], [1, 2, 5], [1, 2, 6], [1, 2], [1, 3, 4, 5, 6], [1, 3, 4, 5], [1, 3, 4, 6], [1, 3, 4], [1, 3, 5, 6], [1, 3, 5], [1, 3, 6], [1, 3], [1, 4, 5, 6], [1, 4, 5], [1, 4, 6], [1, 4], [1, 5, 6], [1, 5], [1, 6], [1], [2, 3, 4, 5, 6], [2, 3, 4, 5], [2, 3, 4, 6], [2, 3, 4], [2, 3, 5, 6], [2, 3, 5], [2, 3, 6], [2, 3], [2, 4, 5, 6], [2, 4, 5], [2, 4, 6], [2, 4], [2, 5, 6], [2, 5], [2, 6], [2], [3, 4, 5, 6], [3, 4, 5], [3, 4, 6], [3, 4], [3, 5, 6], [3, 5], [3, 6], [3], [4, 5, 6], [4, 5], [4, 6], [4], [5, 6], [5], [6], []]\r\n\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>This is my recursive solution which can get the power set of any set using Java Generics. Its main idea is to combine the head of the input array with all the possible solutions of the rest of the array as follows.</p>\n\n<pre><code>import java.util.LinkedHashSet;\nimport java.util.Set;\n\npublic class SetUtil {\n    private static&lt;T&gt;  Set&lt;Set&lt;T&gt;&gt; combine(T head, Set&lt;Set&lt;T&gt;&gt; set) {\n        Set&lt;Set&lt;T&gt;&gt; all = new LinkedHashSet&lt;&gt;();\n\n        for (Set&lt;T&gt; currentSet : set) {\n            Set&lt;T&gt; outputSet = new LinkedHashSet&lt;&gt;();\n\n            outputSet.add(head);\n            outputSet.addAll(currentSet);\n\n            all.add(outputSet);\n        }\n\n        all.addAll(set);        \n\n        return all;\n    }\n\n    //Assuming that T[] is an array with no repeated elements ...\n    public static&lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] input) {\n        if (input.length == 0) {\n            Set &lt;Set&lt;T&gt;&gt;emptySet = new LinkedHashSet&lt;&gt;();\n\n            emptySet.add(new LinkedHashSet&lt;T&gt;());\n\n            return emptySet;\n        }\n\n        T head = input[0];\n        T[] newInputSet = (T[]) new Object[input.length - 1];\n\n        for (int i = 1; i &lt; input.length; ++i) {\n            newInputSet[i - 1] = input[i];\n        }\n\n        Set&lt;Set&lt;T&gt;&gt; all = combine(head, powerSet(newInputSet));\n\n        return all;\n    }\n\n    public static void main(String[] args) {            \n        Set&lt;Set&lt;Integer&gt;&gt; set = SetUtil.powerSet(new Integer[] {1, 2, 3, 4, 5, 6});\n\n        System.out.println(set);\n    }\n}\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>[[1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5], [1, 2, 3, 4, 6], [1, 2, 3, 4], [1, 2, 3, 5, 6], [1, 2, 3, 5], [1, 2, 3, 6], [1, 2, 3], [1, 2, 4, 5, 6], [1, 2, 4, 5], [1, 2, 4, 6], [1, 2, 4], [1, 2, 5, 6], [1, 2, 5], [1, 2, 6], [1, 2], [1, 3, 4, 5, 6], [1, 3, 4, 5], [1, 3, 4, 6], [1, 3, 4], [1, 3, 5, 6], [1, 3, 5], [1, 3, 6], [1, 3], [1, 4, 5, 6], [1, 4, 5], [1, 4, 6], [1, 4], [1, 5, 6], [1, 5], [1, 6], [1], [2, 3, 4, 5, 6], [2, 3, 4, 5], [2, 3, 4, 6], [2, 3, 4], [2, 3, 5, 6], [2, 3, 5], [2, 3, 6], [2, 3], [2, 4, 5, 6], [2, 4, 5], [2, 4, 6], [2, 4], [2, 5, 6], [2, 5], [2, 6], [2], [3, 4, 5, 6], [3, 4, 5], [3, 4, 6], [3, 4], [3, 5, 6], [3, 5], [3, 6], [3], [4, 5, 6], [4, 5], [4, 6], [4], [5, 6], [5], [6], []]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1569634,"reputation":19,"user_id":1457608,"display_name":"Neyyadupakkam Sundarasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438297421,"creation_date":1438297421,"answer_id":31735519,"question_id":1670862,"body_markdown":"\t// input: S\r\n\t// output: P\r\n\t// S = [1,2]\r\n\t// P = [], [1], [2], [1,2]\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString input = args[0];\r\n\t\tString[] S = input.split(&quot;,&quot;);\r\n\t\tString[] P = getPowerSet(S);\r\n\t\tif (P.length == Math.pow(2, S.length)) {\r\n\t\t\tfor (String s : P) {\r\n\t\t\t\tSystem.out.print(&quot;[&quot; + s + &quot;],&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Results are incorrect&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static String[] getPowerSet(String[] s) {\r\n\t\tif (s.length == 1) {\r\n\t\t\treturn new String[] { &quot;&quot;, s[0] };\r\n\t\t} else {\r\n\t\t\tString[] subP1 = getPowerSet(Arrays.copyOfRange(s, 1, s.length));\r\n\t\t\tString[] subP2 = new String[subP1.length];\r\n\t\t\tfor (int i = 0; i &lt; subP1.length; i++) {\r\n\t\t\t\tsubP2[i] = s[0] + subP1[i];\r\n\t\t\t}\r\n\t\t\tString[] P = new String[subP1.length + subP2.length];\r\n\t\t\tSystem.arraycopy(subP1, 0, P, 0, subP1.length);\r\n\t\t\tSystem.arraycopy(subP2, 0, P, subP1.length, subP2.length);\r\n\t\t\treturn P;\r\n\t\t}\r\n\r\n\t}\r\n","title":"Obtaining a powerset of a set in Java","body":"<pre><code>// input: S\n// output: P\n// S = [1,2]\n// P = [], [1], [2], [1,2]\n\npublic static void main(String[] args) {\n    String input = args[0];\n    String[] S = input.split(\",\");\n    String[] P = getPowerSet(S);\n    if (P.length == Math.pow(2, S.length)) {\n        for (String s : P) {\n            System.out.print(\"[\" + s + \"],\");\n        }\n    } else {\n        System.out.println(\"Results are incorrect\");\n    }\n}\n\nprivate static String[] getPowerSet(String[] s) {\n    if (s.length == 1) {\n        return new String[] { \"\", s[0] };\n    } else {\n        String[] subP1 = getPowerSet(Arrays.copyOfRange(s, 1, s.length));\n        String[] subP2 = new String[subP1.length];\n        for (int i = 0; i &lt; subP1.length; i++) {\n            subP2[i] = s[0] + subP1[i];\n        }\n        String[] P = new String[subP1.length + subP2.length];\n        System.arraycopy(subP1, 0, P, 0, subP1.length);\n        System.arraycopy(subP2, 0, P, subP1.length, subP2.length);\n        return P;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6240699,"reputation":41,"user_id":4854411,"display_name":"tijmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442248421,"creation_date":1442248421,"answer_id":32569638,"question_id":1670862,"body_markdown":"I recently had to use something like this, but needed the smallest sublists (with 1 element, then 2 elements, ...) first. I did not want to include the empty nor the whole list.\r\nAlso, I did not need a list of all the sublists returned, I just needed to do some stuff with each. \r\n\r\nWanted to do this without recursion, and came up with the following (with the &quot;doing stuff&quot; abstracted into a functional interface):\r\n\r\n\r\n\r\n    @FunctionalInterface interface ListHandler&lt;T&gt; {\r\n        void handle(List&lt;T&gt; list);\r\n    }\r\n\r\n    \r\n    public static &lt;T&gt; void forAllSubLists(final List&lt;T&gt; list, ListHandler handler) {\r\n        int     ll = list.size();   // Length of original list\r\n        int     ci[] = new int[ll]; // Array for list indices\r\n        List&lt;T&gt; sub = new ArrayList&lt;&gt;(ll);  // The sublist\r\n        List&lt;T&gt; uml = Collections.unmodifiableList(sub);    // For passing to handler\r\n        \r\n        for (int gl = 1, gm; gl &lt;= ll; gl++) {  // Subgroup length 1 .. n-1\r\n            gm = 0; ci[0] = -1; sub.add(null);  // Some inits, and ensure sublist is at least gl items long\r\n\r\n            do {\r\n                    ci[gm]++;                       // Get the next item for this member\r\n                        \r\n                    if (ci[gm] &gt; ll - gl + gm) {    // Exhausted all possibilities for this position\r\n                            gm--; continue;         // Continue with the next value for the previous member\r\n                    }\r\n                    \r\n                    sub.set(gm, list.get(ci[gm]));  // Set the corresponding member in the sublist\r\n\r\n                    if (gm == gl - 1) {             // Ok, a sublist with length gl\r\n                            handler.handle(uml);    // Handle it\r\n                    } else {\r\n                            ci[gm + 1] = ci[gm];    // Starting value for next member is this \r\n                            gm++;                   // Continue with the next member\r\n                    }\r\n            } while (gm &gt;= 0);  // Finished cycling through all possibilities\r\n        }   // Next subgroup length\r\n    }\r\n\r\nIn this way, it&#39;s also easy to limit it to sublists of specific lengths.","title":"Obtaining a powerset of a set in Java","body":"<p>I recently had to use something like this, but needed the smallest sublists (with 1 element, then 2 elements, ...) first. I did not want to include the empty nor the whole list.\nAlso, I did not need a list of all the sublists returned, I just needed to do some stuff with each. </p>\n\n<p>Wanted to do this without recursion, and came up with the following (with the \"doing stuff\" abstracted into a functional interface):</p>\n\n<pre><code>@FunctionalInterface interface ListHandler&lt;T&gt; {\n    void handle(List&lt;T&gt; list);\n}\n\n\npublic static &lt;T&gt; void forAllSubLists(final List&lt;T&gt; list, ListHandler handler) {\n    int     ll = list.size();   // Length of original list\n    int     ci[] = new int[ll]; // Array for list indices\n    List&lt;T&gt; sub = new ArrayList&lt;&gt;(ll);  // The sublist\n    List&lt;T&gt; uml = Collections.unmodifiableList(sub);    // For passing to handler\n\n    for (int gl = 1, gm; gl &lt;= ll; gl++) {  // Subgroup length 1 .. n-1\n        gm = 0; ci[0] = -1; sub.add(null);  // Some inits, and ensure sublist is at least gl items long\n\n        do {\n                ci[gm]++;                       // Get the next item for this member\n\n                if (ci[gm] &gt; ll - gl + gm) {    // Exhausted all possibilities for this position\n                        gm--; continue;         // Continue with the next value for the previous member\n                }\n\n                sub.set(gm, list.get(ci[gm]));  // Set the corresponding member in the sublist\n\n                if (gm == gl - 1) {             // Ok, a sublist with length gl\n                        handler.handle(uml);    // Handle it\n                } else {\n                        ci[gm + 1] = ci[gm];    // Starting value for next member is this \n                        gm++;                   // Continue with the next member\n                }\n        } while (gm &gt;= 0);  // Finished cycling through all possibilities\n    }   // Next subgroup length\n}\n</code></pre>\n\n<p>In this way, it's also easy to limit it to sublists of specific lengths.</p>\n"},{"tags":[],"owner":{"account_id":7145525,"reputation":81,"user_id":5461373,"display_name":"Sandeep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454315058,"creation_date":1454315058,"answer_id":35125892,"question_id":1670862,"body_markdown":"Another sample implementation: \r\n  \r\n\r\n     public static void main(String args[])\r\n        {\r\n            int[] arr = new int[]{1,2,3,4};\r\n            // Assuming that number of sets are in integer range\r\n            int totalSets = (int)Math.pow(2,arr.length);\r\n            for(int i=0;i&lt;totalSets;i++)\r\n            {\r\n                String binaryRep = Integer.toBinaryString(i);      \r\n                for(int j=0;j&lt;binaryRep.length();j++)\r\n                {\r\n                    int index=binaryRep.length()-1-j;\r\n                    if(binaryRep.charAt(index)==&#39;1&#39;)\r\n                    System.out.print(arr[j] +&quot; &quot;);       \r\n                }\r\n                System.out.println();\r\n            }\r\n        }","title":"Obtaining a powerset of a set in Java","body":"<p>Another sample implementation: </p>\n\n<pre><code> public static void main(String args[])\n    {\n        int[] arr = new int[]{1,2,3,4};\n        // Assuming that number of sets are in integer range\n        int totalSets = (int)Math.pow(2,arr.length);\n        for(int i=0;i&lt;totalSets;i++)\n        {\n            String binaryRep = Integer.toBinaryString(i);      \n            for(int j=0;j&lt;binaryRep.length();j++)\n            {\n                int index=binaryRep.length()-1-j;\n                if(binaryRep.charAt(index)=='1')\n                System.out.print(arr[j] +\" \");       \n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457717944,"creation_date":1457717944,"answer_id":35946526,"question_id":1670862,"body_markdown":"    import java.util.Set;\r\n    import com.google.common.collect.*;\r\n\r\n    Set&lt;Set&lt;Integer&gt;&gt; sets = Sets.powerSet(ImmutableSet.of(1, 2, 3));","title":"Obtaining a powerset of a set in Java","body":"<pre><code>import java.util.Set;\nimport com.google.common.collect.*;\n\nSet&lt;Set&lt;Integer&gt;&gt; sets = Sets.powerSet(ImmutableSet.of(1, 2, 3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8934778,"reputation":11,"user_id":6665975,"display_name":"Werner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471353644,"creation_date":1470113957,"answer_id":38712064,"question_id":1670862,"body_markdown":"This is my approach with lambdas.\r\n\r\n    public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] set) {\r\n          return IntStream\r\n\t\t\t\t.range(0, (int) Math.pow(2, set.length))\r\n                .parallel() //performance improvement\r\n\t\t\t\t.mapToObj(e -&gt; IntStream.range(0, set.length).filter(i -&gt; (e &amp; (0b1 &lt;&lt; i)) != 0).mapToObj(i -&gt; set[i]).collect(Collectors.toSet()))\r\n\t\t\t\t.map(Function.identity())\r\n\t\t\t\t.collect(Collectors.toSet());\r\n            }\r\n\r\nOr in parallel (see parallel() comment): \r\n\r\nSize of input set: 18\r\n\r\nLogical processors: 8 &#224; 3.4GHz\r\n\r\nPerformance improvement: 30%\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>This is my approach with lambdas.</p>\n\n<pre><code>public static &lt;T&gt; Set&lt;Set&lt;T&gt;&gt; powerSet(T[] set) {\n      return IntStream\n            .range(0, (int) Math.pow(2, set.length))\n            .parallel() //performance improvement\n            .mapToObj(e -&gt; IntStream.range(0, set.length).filter(i -&gt; (e &amp; (0b1 &lt;&lt; i)) != 0).mapToObj(i -&gt; set[i]).collect(Collectors.toSet()))\n            .map(Function.identity())\n            .collect(Collectors.toSet());\n        }\n</code></pre>\n\n<p>Or in parallel (see parallel() comment): </p>\n\n<p>Size of input set: 18</p>\n\n<p>Logical processors: 8 à 3.4GHz</p>\n\n<p>Performance improvement: 30%</p>\n"},{"tags":[],"owner":{"account_id":367195,"reputation":529,"user_id":713220,"display_name":"Selim Ekizoglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471012486,"creation_date":1471012486,"answer_id":38920523,"question_id":1670862,"body_markdown":"    public class PowerSet {\r\n        public static List&lt;HashSet&lt;Integer&gt;&gt; powerset(int[] a) {\r\n            LinkedList&lt;HashSet&lt;Integer&gt;&gt; sets = new LinkedList&lt;HashSet&lt;Integer&gt;&gt;();\r\n            int n = a.length;\r\n            for (int i = 0; i &lt; 1 &lt;&lt; n; i++) {\r\n                HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n                for (int j = 0; j &lt; n; j++) {\r\n                    if ((1 &lt;&lt; j &amp; i) &gt; 0)\r\n                        set.add(a[j]);\r\n                }\r\n                sets.add(set);\r\n            }\r\n            return sets;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            List&lt;HashSet&lt;Integer&gt;&gt; sets = PowerSet.powerset(new int[]{ 1, 2, 3 });\r\n            for (HashSet&lt;Integer&gt; set : sets) {\r\n                for (int i : set)\r\n                    System.out.print(i);\r\n                System.out.println();\r\n            } \r\n        }\r\n    }\r\n","title":"Obtaining a powerset of a set in Java","body":"<pre><code>public class PowerSet {\n    public static List&lt;HashSet&lt;Integer&gt;&gt; powerset(int[] a) {\n        LinkedList&lt;HashSet&lt;Integer&gt;&gt; sets = new LinkedList&lt;HashSet&lt;Integer&gt;&gt;();\n        int n = a.length;\n        for (int i = 0; i &lt; 1 &lt;&lt; n; i++) {\n            HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n            for (int j = 0; j &lt; n; j++) {\n                if ((1 &lt;&lt; j &amp; i) &gt; 0)\n                    set.add(a[j]);\n            }\n            sets.add(set);\n        }\n        return sets;\n    }\n\n    public static void main(String[] args) {\n        List&lt;HashSet&lt;Integer&gt;&gt; sets = PowerSet.powerset(new int[]{ 1, 2, 3 });\n        for (HashSet&lt;Integer&gt; set : sets) {\n            for (int i : set)\n                System.out.print(i);\n            System.out.println();\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3975356,"reputation":1,"user_id":3278669,"display_name":"ekobir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484842371,"creation_date":1484833943,"answer_id":41743480,"question_id":1670862,"body_markdown":"Yet another solution - with java8+ streaming api\r\nIt is lazy and ordered so it returns correct subsets when it is used with &quot;limit()&quot;.  \r\n\r\n     public long bitRangeMin(int size, int bitCount){\r\n        BitSet bs = new BitSet(size);\r\n        bs.set(0, bitCount);\r\n        return bs.toLongArray()[0];\r\n    }\r\n\r\n    public long bitRangeMax(int size, int bitCount){\r\n        BitSet bs = BitSet.valueOf(new long[]{0});\r\n        bs.set(size - bitCount, size);\r\n        return bs.toLongArray()[0];\r\n    }\r\n\r\n    public &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; powerSet(Collection&lt;T&gt; data)\r\n    {\r\n        List&lt;T&gt; list = new LinkedHashSet&lt;&gt;(data).stream().collect(Collectors.toList());\r\n        Stream&lt;BitSet&gt; head = LongStream.of(0).mapToObj( i -&gt; BitSet.valueOf(new long[]{i}));\r\n        Stream&lt;BitSet&gt; tail = IntStream.rangeClosed(1, list.size())\r\n                .boxed()\r\n                .flatMap( v1 -&gt; LongStream.rangeClosed( bitRangeMin(list.size(), v1), bitRangeMax(list.size(), v1))\r\n                        .mapToObj(v2 -&gt; BitSet.valueOf(new long[]{v2}))\r\n                        .filter( bs -&gt; bs.cardinality() == v1));\r\n\r\n        return Stream.concat(head, tail)\r\n                .map( bs -&gt; bs\r\n                        .stream()\r\n                        .mapToObj(list::get)\r\n                        .collect(Collectors.toList()));\r\n    }\r\n\r\n   \r\nAnd the client code is   \r\n\r\n    @Test\r\n    public void testPowerSetOfGivenCollection(){\r\n        List&lt;Character&gt; data = new LinkedList&lt;&gt;();\r\n        for(char i = &#39;a&#39;; i &lt; &#39;a&#39;+5; i++ ){\r\n            data.add(i);\r\n        }\r\n        powerSet(data)\r\n                .limit(9)\r\n                .forEach(System.out::print);\r\n\r\n    }\r\n/* Prints :  [][a][b][c][d][e][a, b][a, c][b, c] */","title":"Obtaining a powerset of a set in Java","body":"<p>Yet another solution - with java8+ streaming api\nIt is lazy and ordered so it returns correct subsets when it is used with \"limit()\".  </p>\n\n<pre><code> public long bitRangeMin(int size, int bitCount){\n    BitSet bs = new BitSet(size);\n    bs.set(0, bitCount);\n    return bs.toLongArray()[0];\n}\n\npublic long bitRangeMax(int size, int bitCount){\n    BitSet bs = BitSet.valueOf(new long[]{0});\n    bs.set(size - bitCount, size);\n    return bs.toLongArray()[0];\n}\n\npublic &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; powerSet(Collection&lt;T&gt; data)\n{\n    List&lt;T&gt; list = new LinkedHashSet&lt;&gt;(data).stream().collect(Collectors.toList());\n    Stream&lt;BitSet&gt; head = LongStream.of(0).mapToObj( i -&gt; BitSet.valueOf(new long[]{i}));\n    Stream&lt;BitSet&gt; tail = IntStream.rangeClosed(1, list.size())\n            .boxed()\n            .flatMap( v1 -&gt; LongStream.rangeClosed( bitRangeMin(list.size(), v1), bitRangeMax(list.size(), v1))\n                    .mapToObj(v2 -&gt; BitSet.valueOf(new long[]{v2}))\n                    .filter( bs -&gt; bs.cardinality() == v1));\n\n    return Stream.concat(head, tail)\n            .map( bs -&gt; bs\n                    .stream()\n                    .mapToObj(list::get)\n                    .collect(Collectors.toList()));\n}\n</code></pre>\n\n<p>And the client code is   </p>\n\n<pre><code>@Test\npublic void testPowerSetOfGivenCollection(){\n    List&lt;Character&gt; data = new LinkedList&lt;&gt;();\n    for(char i = 'a'; i &lt; 'a'+5; i++ ){\n        data.add(i);\n    }\n    powerSet(data)\n            .limit(9)\n            .forEach(System.out::print);\n\n}\n</code></pre>\n\n<p>/* Prints :  [][a][b][c][d][e][a, b][a, c][b, c] */</p>\n"},{"tags":[],"owner":{"account_id":8614990,"reputation":1175,"user_id":6452215,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496378633,"creation_date":1496378633,"answer_id":44320942,"question_id":1670862,"body_markdown":"We could write the power set with or without using recursion. Here is an attempt without recursion:\r\n\r\n\tpublic List&lt;List&lt;Integer&gt;&gt; getPowerSet(List&lt;Integer&gt; set) {\r\n\t\tList&lt;List&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n\t\tint max = 1 &lt;&lt; set.size();\r\n\t\tfor(int i=0; i &lt; max; i++) {\r\n\t\t\tList&lt;Integer&gt; subSet = getSubSet(i, set);\r\n\t\t\tpowerSet.add(subSet);\r\n\t\t}\r\n\t\treturn powerSet;\r\n\t}\r\n\t\r\n\tprivate List&lt;Integer&gt; getSubSet(int p, List&lt;Integer&gt; set) {\r\n\t\tList&lt;Integer&gt; subSet = new ArrayList&lt;Integer&gt;();\r\n\t\tint position = 0;\r\n\t\tfor(int i=p; i &gt; 0; i &gt;&gt;= 1) {\r\n\t\t\tif((i &amp; 1) == 1) {\r\n\t\t\t\tsubSet.add(set.get(position));\r\n\t\t\t}\r\n\t\t\tposition++;\r\n\t\t}\r\n\t\treturn subSet;\r\n\t}\r\n\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>We could write the power set with or without using recursion. Here is an attempt without recursion:</p>\n\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; getPowerSet(List&lt;Integer&gt; set) {\n    List&lt;List&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    int max = 1 &lt;&lt; set.size();\n    for(int i=0; i &lt; max; i++) {\n        List&lt;Integer&gt; subSet = getSubSet(i, set);\n        powerSet.add(subSet);\n    }\n    return powerSet;\n}\n\nprivate List&lt;Integer&gt; getSubSet(int p, List&lt;Integer&gt; set) {\n    List&lt;Integer&gt; subSet = new ArrayList&lt;Integer&gt;();\n    int position = 0;\n    for(int i=p; i &gt; 0; i &gt;&gt;= 1) {\n        if((i &amp; 1) == 1) {\n            subSet.add(set.get(position));\n        }\n        position++;\n    }\n    return subSet;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10684198,"reputation":9,"user_id":9011605,"display_name":"Mr. H"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511992485,"creation_date":1511753418,"answer_id":47503560,"question_id":1670862,"body_markdown":"A sub-set of t is any set that can be made by removing zero or more elements of t. The withoutFirst subset adds the subsets of t that are missing the first element and the for loop will deal with adding subsets with the first element. For example, if t contained the elements [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;], missingFirst will add [[&quot;&quot;],\r\n[&quot;2&quot;], [&quot;3&quot;], [&quot;2&quot;,&quot;3&quot;]] and the for loop will stick the &quot;1&quot; in front of these element and add it to the newSet. So we&#39;ll end up with [[&quot;&quot;], [&quot;1&quot;], [&quot;2&quot;], [&quot;3&quot;], [&quot;1&quot;, &quot;2&quot;], [&quot;1&quot;, &quot;3&quot;], [&quot;2&quot;,&quot;3&quot;], [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]].\r\n\r\n    public static Set&lt;Set&lt;String&gt;&gt; allSubsets(Set&lt;String&gt; t) {\r\n    \t\tSet&lt;Set&lt;String&gt;&gt; powerSet = new TreeSet&lt;&gt;();\r\n    \t\tif(t.isEmpty()) {\r\n    \t\t\tpowerSet.add(new TreeSet&lt;&gt;());\r\n    \t\t\treturn powerSet;\r\n    \t\t}\r\n    \t\tString first = t.get(0);\r\n    \t\tSet&lt;Set&lt;String&gt;&gt; withoutFirst = allSubsets(t.subSet(1, t.size()));\r\n    \t\tfor (List&lt;String&gt; 1st : withoutFirst) {\r\n    \t\t\tSet&lt;String&gt; newSet = new TreeSet&lt;&gt;();\r\n    \t\t\tnewSet.add(first);\r\n    \t\t\tnewSet.addAll(lst);\r\n    \t\t\tpowerSet.add(newSet);\r\n    \t\t}\r\n    \t\tpowerSet.addAll(withoutFirst);\r\n    \t\treturn powerSet;\r\n    \t}","title":"Obtaining a powerset of a set in Java","body":"<p>A sub-set of t is any set that can be made by removing zero or more elements of t. The withoutFirst subset adds the subsets of t that are missing the first element and the for loop will deal with adding subsets with the first element. For example, if t contained the elements [\"1\", \"2\", \"3\"], missingFirst will add [[\"\"],\n[\"2\"], [\"3\"], [\"2\",\"3\"]] and the for loop will stick the \"1\" in front of these element and add it to the newSet. So we'll end up with [[\"\"], [\"1\"], [\"2\"], [\"3\"], [\"1\", \"2\"], [\"1\", \"3\"], [\"2\",\"3\"], [\"1\", \"2\", \"3\"]].</p>\n\n<pre><code>public static Set&lt;Set&lt;String&gt;&gt; allSubsets(Set&lt;String&gt; t) {\n        Set&lt;Set&lt;String&gt;&gt; powerSet = new TreeSet&lt;&gt;();\n        if(t.isEmpty()) {\n            powerSet.add(new TreeSet&lt;&gt;());\n            return powerSet;\n        }\n        String first = t.get(0);\n        Set&lt;Set&lt;String&gt;&gt; withoutFirst = allSubsets(t.subSet(1, t.size()));\n        for (List&lt;String&gt; 1st : withoutFirst) {\n            Set&lt;String&gt; newSet = new TreeSet&lt;&gt;();\n            newSet.add(first);\n            newSet.addAll(lst);\n            powerSet.add(newSet);\n        }\n        powerSet.addAll(withoutFirst);\n        return powerSet;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3773246"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516128779,"creation_date":1516128779,"answer_id":48287997,"question_id":1670862,"body_markdown":"Here is to generate a power set. The idea is first = `S[0]` and smaller sets be `S[1,...n]`. \r\n\r\nCompute all subsets of smallerSet and put them in allsubsets.\r\n\r\nFor each subsets in allsubsets, clone it and add first to the subset.\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; getSubsets(ArrayList&lt;Integer&gt; set, int index){\r\n    \tArrayList&lt;ArrayList&lt;Integer&gt;&gt; allsubsets;\r\n    \tif(set.size() == index){\r\n    \t\tallsubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n    \t\tallsubsets.add(new ArrayList&lt;Integer&gt;()); // the empty set \r\n    \t}else{\r\n    \t\tallsubsets = getSubsets(set, index+1);\r\n    \t\tint item = set.get(index);\r\n    \r\n    \t\tArrayList&lt;ArrayList&lt;Integer&gt;&gt; moresubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n    \r\n    \t\tfor(ArrayList&lt;Integer&gt; subset: allsubsets){\r\n    \t\t\tArrayList&lt;Integer&gt; newsubset = new ArrayList&lt;Integer&gt;();\r\n    \r\n    \t\t\tnewsubset.addAll(subset);\r\n    \t\t\tnewsubset.add(item);\r\n    \t\t\tmoresubsets.add(newsubset);\r\n    \r\n    \t\t}\r\n    \r\n    \t\tmoresubsets.addAll(moresubsets);\r\n    \r\n    \t}\r\n    \r\n    \treturn allsubsets;\r\n    }","title":"Obtaining a powerset of a set in Java","body":"<p>Here is to generate a power set. The idea is first = <code>S[0]</code> and smaller sets be <code>S[1,...n]</code>. </p>\n\n<p>Compute all subsets of smallerSet and put them in allsubsets.</p>\n\n<p>For each subsets in allsubsets, clone it and add first to the subset.</p>\n\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; getSubsets(ArrayList&lt;Integer&gt; set, int index){\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; allsubsets;\n    if(set.size() == index){\n        allsubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n        allsubsets.add(new ArrayList&lt;Integer&gt;()); // the empty set \n    }else{\n        allsubsets = getSubsets(set, index+1);\n        int item = set.get(index);\n\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; moresubsets = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n\n        for(ArrayList&lt;Integer&gt; subset: allsubsets){\n            ArrayList&lt;Integer&gt; newsubset = new ArrayList&lt;Integer&gt;();\n\n            newsubset.addAll(subset);\n            newsubset.add(item);\n            moresubsets.add(newsubset);\n\n        }\n\n        moresubsets.addAll(moresubsets);\n\n    }\n\n    return allsubsets;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8029320,"reputation":1,"user_id":6054985,"display_name":"Prakash Devta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587673640,"creation_date":1587673640,"answer_id":61396376,"question_id":1670862,"body_markdown":"    package problems;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class SubsetFinderRecursive {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//input\r\n    \t\tint[] input = new int[3];\r\n    \t\tfor(int i=0; i&lt;input.length; i++) {\r\n    \t\t\tinput[i] = i+1;\r\n    \t\t}\r\n    \t\t// root node of the tree\r\n    \t\tNode root = new Node();\r\n    \t\t\r\n    \t\t// insert values into tree\r\n    \t\tfor(int i=0; i&lt;input.length; i++) {\r\n    \t\t\tinsertIntoTree(root, input[i]);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// print leaf nodes for subsets\r\n    \t\tprintLeafNodes(root);\r\n    \t}\r\n    \t\r\n    \tstatic void printLeafNodes(Node root) {\r\n    \t\t\r\n    \t\tif(root == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Its a leaf node\r\n    \t\tif(root.left == null &amp;&amp; root.right == null) {\r\n    \t\t\tSystem.out.println(root.values);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// if we are not at a leaf node, then explore left and right\r\n    \t\t\r\n    \t\tif(root.left !=null) {\r\n    \t\t\tprintLeafNodes(root.left);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(root.right != null) {\r\n    \t\t\tprintLeafNodes(root.right);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tstatic void insertIntoTree(Node root, int value) {\r\n    \t\t\r\n    \t\t// Error handling\r\n    \t\tif(root == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// if there is a sub tree then go down\r\n    \t\tif(root.left !=null &amp;&amp; root.right != null) {\r\n    \t\t\tinsertIntoTree(root.left, value);\r\n    \t\t\tinsertIntoTree(root.right, value);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// if we are at the leaf node, then we have 2 choices\r\n    \t\t// Either exclude or include\r\n    \t\tif(root.left == null &amp;&amp; root.right == null) {\r\n    \t\t\t// exclude\r\n    \t\t\troot.left = new Node();\r\n    \t\t\troot.left.values.addAll(root.values);\r\n    \t\t\t// include\r\n    \t\t\troot.right = new Node();\r\n    \t\t\troot.right.values.addAll(root.values);\r\n    \t\t\troot.right.values.add(value);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Node {\r\n    \tNode left;\r\n    \tNode right;\r\n    \tList&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\r\n    }","title":"Obtaining a powerset of a set in Java","body":"<pre><code>package problems;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SubsetFinderRecursive {\n    public static void main(String[] args) {\n        //input\n        int[] input = new int[3];\n        for(int i=0; i&lt;input.length; i++) {\n            input[i] = i+1;\n        }\n        // root node of the tree\n        Node root = new Node();\n\n        // insert values into tree\n        for(int i=0; i&lt;input.length; i++) {\n            insertIntoTree(root, input[i]);\n        }\n\n        // print leaf nodes for subsets\n        printLeafNodes(root);\n    }\n\n    static void printLeafNodes(Node root) {\n\n        if(root == null) {\n            return;\n        }\n\n        // Its a leaf node\n        if(root.left == null &amp;&amp; root.right == null) {\n            System.out.println(root.values);\n            return;\n        }\n\n        // if we are not at a leaf node, then explore left and right\n\n        if(root.left !=null) {\n            printLeafNodes(root.left);\n        }\n\n        if(root.right != null) {\n            printLeafNodes(root.right);\n        }\n    }\n\n    static void insertIntoTree(Node root, int value) {\n\n        // Error handling\n        if(root == null) {\n            return;\n        }\n\n        // if there is a sub tree then go down\n        if(root.left !=null &amp;&amp; root.right != null) {\n            insertIntoTree(root.left, value);\n            insertIntoTree(root.right, value);\n        }\n\n        // if we are at the leaf node, then we have 2 choices\n        // Either exclude or include\n        if(root.left == null &amp;&amp; root.right == null) {\n            // exclude\n            root.left = new Node();\n            root.left.values.addAll(root.values);\n            // include\n            root.right = new Node();\n            root.right.values.addAll(root.values);\n            root.right.values.add(value);\n            return;\n        }\n    }\n\n}\n\nclass Node {\n    Node left;\n    Node right;\n    List&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23732096,"reputation":1,"user_id":17751197,"display_name":"إسلام أحمد"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640375337,"creation_date":1640292559,"answer_id":70467233,"question_id":1670862,"body_markdown":"This function solved this problem by recursion but make variable named powerset as a Global Variable:\r\n\r\n```\r\nstatic ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;&gt;();\r\n\r\npublic static void getPowerSet(Queue&lt;Integer&gt; a) {\r\n    int n = a.poll();\r\n    if (!a.isEmpty()) {\r\n        getPowerSet(a);\r\n    }\r\n    int s = powerSet.size();\r\n    for (int i = 0; i &lt; s; i++) {\r\n        ArrayList&lt;Integer&gt; ne = new ArrayList&lt;&gt;();\r\n        for (int j = 0; j &lt; powerSet.get(i).size(); j++) {\r\n            ne.add(powerSet.get(i).get(j));\r\n        }\r\n        ne.add(n);\r\n        powerSet.add(ne);\r\n    }\r\n    ArrayList&lt;Integer&gt; p = new ArrayList&lt;&gt;();\r\n    p.add(n);\r\n    powerSet.add(p);\r\n}\r\n```","title":"Obtaining a powerset of a set in Java","body":"<p>This function solved this problem by recursion but make variable named powerset as a Global Variable:</p>\n<pre><code>static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; powerSet = new ArrayList&lt;&gt;();\n\npublic static void getPowerSet(Queue&lt;Integer&gt; a) {\n    int n = a.poll();\n    if (!a.isEmpty()) {\n        getPowerSet(a);\n    }\n    int s = powerSet.size();\n    for (int i = 0; i &lt; s; i++) {\n        ArrayList&lt;Integer&gt; ne = new ArrayList&lt;&gt;();\n        for (int j = 0; j &lt; powerSet.get(i).size(); j++) {\n            ne.add(powerSet.get(i).get(j));\n        }\n        ne.add(n);\n        powerSet.add(ne);\n    }\n    ArrayList&lt;Integer&gt; p = new ArrayList&lt;&gt;();\n    p.add(n);\n    powerSet.add(p);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20197558,"reputation":1,"user_id":16845281,"display_name":"R.Jean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686588870,"creation_date":1686588870,"answer_id":76458781,"question_id":1670862,"body_markdown":"Just use recursion. \r\n\r\n\r\n    public class Combinations {\r\n\r\n    // A recursive method that prints all combinations of any size of the first n elements of an array\r\n        public static void printCombinations(String[] arr, int n, String current) {\r\n        // Base case: if n is 0, print the current combination\r\n            if (n == 0) {\r\n                System.out.println(current);\r\n                return;\r\n            }\r\n        // Recursive case: for each element, either include it or exclude it from the current combination and recursively call printCombinations with n-1\r\n            printCombinations(arr, n-1, current + arr[n-1] + &quot; &quot;); // include\r\n            printCombinations(arr, n-1, current); // exclude\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            // Read in the command line argument\r\n           int n = Integer.parseInt(args[0]);\r\n            // Well my array in this case consists of first 6 letters of the alphabet\r\n            String[] arr = new String[n];\r\n            arr[0] = &quot;a&quot;;\r\n            arr[1] = &quot;b&quot;;\r\n            arr[2] = &quot;c&quot;;\r\n            arr[3] = &quot;d&quot;;\r\n            arr[4] = &quot;e&quot;;\r\n            arr[5] = &quot;f&quot;;\r\n            // Call the recursive method with an empty current combination\r\n            printCombinations(arr, n, &quot;&quot;);\r\n        }\r\n    }","title":"Obtaining a powerset of a set in Java","body":"<p>Just use recursion.</p>\n<pre><code>public class Combinations {\n\n// A recursive method that prints all combinations of any size of the first n elements of an array\n    public static void printCombinations(String[] arr, int n, String current) {\n    // Base case: if n is 0, print the current combination\n        if (n == 0) {\n            System.out.println(current);\n            return;\n        }\n    // Recursive case: for each element, either include it or exclude it from the current combination and recursively call printCombinations with n-1\n        printCombinations(arr, n-1, current + arr[n-1] + &quot; &quot;); // include\n        printCombinations(arr, n-1, current); // exclude\n    }\n\n    public static void main(String[] args) {\n        // Read in the command line argument\n       int n = Integer.parseInt(args[0]);\n        // Well my array in this case consists of first 6 letters of the alphabet\n        String[] arr = new String[n];\n        arr[0] = &quot;a&quot;;\n        arr[1] = &quot;b&quot;;\n        arr[2] = &quot;c&quot;;\n        arr[3] = &quot;d&quot;;\n        arr[4] = &quot;e&quot;;\n        arr[5] = &quot;f&quot;;\n        // Call the recursive method with an empty current combination\n        printCombinations(arr, n, &quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14129,"reputation":16062,"user_id":28802,"accept_rate":90,"display_name":"Manuel Araoz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81836,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":1670871,"answer_count":28,"score":86,"last_activity_date":1686588870,"creation_date":1257291476,"question_id":1670862,"body_markdown":"The powerset of `{1, 2, 3}` is:\r\n\r\n`{{}, {2}, {3}, {2, 3}, {1, 2}, {1, 3}, {1, 2, 3}, {1}}`\r\n\r\nLet&#39;s say I have a `Set` in Java:\r\n\r\n    Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\r\n    mySet.add(1);\r\n    mySet.add(2);\r\n    mySet.add(3);\r\n    Set&lt;Set&lt;Integer&gt;&gt; powerSet = getPowerset(mySet);\r\n\r\nHow do I write the function getPowerset, with the best possible order of complexity?\r\n(I think it might be O(2^n).)\r\n","title":"Obtaining a powerset of a set in Java","body":"<p>The powerset of <code>{1, 2, 3}</code> is:</p>\n\n<p><code>{{}, {2}, {3}, {2, 3}, {1, 2}, {1, 3}, {1, 2, 3}, {1}}</code></p>\n\n<p>Let's say I have a <code>Set</code> in Java:</p>\n\n<pre><code>Set&lt;Integer&gt; mySet = new HashSet&lt;Integer&gt;();\nmySet.add(1);\nmySet.add(2);\nmySet.add(3);\nSet&lt;Set&lt;Integer&gt;&gt; powerSet = getPowerset(mySet);\n</code></pre>\n\n<p>How do I write the function getPowerset, with the best possible order of complexity?\n(I think it might be O(2^n).)</p>\n"},{"tags":["java","android","bluetooth-lowenergy","hid"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":1,"creation_date":1686548249,"post_id":76451356,"comment_id":134807835,"body_markdown":"What Android version? Do you request the runtime BLE permissions in your app? Please also consider adding the error message as text in your question.","body":"What Android version? Do you request the runtime BLE permissions in your app? Please also consider adding the error message as text in your question."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1686575119,"post_id":76451356,"comment_id":134813057,"body_markdown":"Please keep in mind that `setCharacteristicNotification` is not enough to enable notifications since it only prepares your android device to receive them but does not activate them on the BLE device. You need to set the characteristics descriptor as well: https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy","body":"Please keep in mind that <code>setCharacteristicNotification</code> is not enough to enable notifications since it only prepares your android device to receive them but does not activate them on the BLE device. You need to set the characteristics descriptor as well: <a href=\"https://stackoverflow.com/questions/32184536/enabling-bluetooth-characteristic-notification-in-android-bluetooth-low-energy\" title=\"enabling bluetooth characteristic notification in android bluetooth low energy\">stackoverflow.com/questions/32184536/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686588210,"creation_date":1686588210,"answer_id":76458700,"question_id":76451356,"body_markdown":"The error message is correct. You need privileged bluetooth permissions in order to receive HID notifications. Otherwise any app using bluetooth could also potentially sniff passwords pressed on a connected bluetooth keyboard.\r\n\r\nThe privileged bluetooth permission is only given to system apps.\r\n\r\nSo what you are trying to achieve is not possible on Android. If you write the reasons why you need to capture BLE HID events, maybe we can give you alternative solutions.","title":"Getting &quot;java.lang.SecurityException: Need BLUETOOTH PRIVILEGED permission&quot; when connecting BLE HID","body":"<p>The error message is correct. You need privileged bluetooth permissions in order to receive HID notifications. Otherwise any app using bluetooth could also potentially sniff passwords pressed on a connected bluetooth keyboard.</p>\n<p>The privileged bluetooth permission is only given to system apps.</p>\n<p>So what you are trying to achieve is not possible on Android. If you write the reasons why you need to capture BLE HID events, maybe we can give you alternative solutions.</p>\n"}],"owner":{"account_id":7472917,"reputation":19,"user_id":5680243,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686588210,"creation_date":1686499956,"question_id":76451356,"body_markdown":"I&#39;m trying to capture events from a BLE HID, and I&#39;ve been getting this error when running `gatt.setCharacteristicNotification(characteristic, true);` inside `onServicesDiscovered`, which can&#39;t be easily resolved as `BLUETOOTH_PRIVILEGED` is reserved for system-level apps. Does anyone know what I&#39;m doing wrong? Here&#39;s my `onServicesDiscovered` function:\r\n\r\n```\r\n@Override\r\npublic void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n        if (status == BluetoothGatt.GATT_SUCCESS) {\r\n            List&lt;BluetoothGattService&gt; services = gatt.getServices();\r\n            for(int i = 0; i &lt; services.size(); i++){\r\n                List&lt;BluetoothGattCharacteristic&gt; characteristics = services.get(i).getCharacteristics();\r\n                for(int j = 0; j &lt; characteristics.size(); j++){\r\n                    //Register all characteristics for all services\r\n\r\n                    BluetoothGattService service = services.get(i);\r\n                    if (service != null) {\r\n                        BluetoothGattCharacteristic characteristic = characteristics.get(j);\r\n                        if (characteristic != null) {\r\n                            try {\r\n                                gatt.setCharacteristicNotification(characteristic, true);\r\n                            }\r\n                            catch(Exception e){\r\n                                Log.d(TAG, &quot;EXCEPTION: &quot; + e);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            Log.w(TAG, &quot;onServicesDiscovered received: &quot; + status);\r\n        }\r\n    }\r\n``` \r\n\r\nI&#39;ve made sure Bluetooth + Location are enabled, and have added the following lines to my `AndroidManifest.xml`:\r\n\r\n```\r\n &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n```","title":"Getting &quot;java.lang.SecurityException: Need BLUETOOTH PRIVILEGED permission&quot; when connecting BLE HID","body":"<p>I'm trying to capture events from a BLE HID, and I've been getting this error when running <code>gatt.setCharacteristicNotification(characteristic, true);</code> inside <code>onServicesDiscovered</code>, which can't be easily resolved as <code>BLUETOOTH_PRIVILEGED</code> is reserved for system-level apps. Does anyone know what I'm doing wrong? Here's my <code>onServicesDiscovered</code> function:</p>\n<pre><code>@Override\npublic void onServicesDiscovered(BluetoothGatt gatt, int status) {\n        if (status == BluetoothGatt.GATT_SUCCESS) {\n            List&lt;BluetoothGattService&gt; services = gatt.getServices();\n            for(int i = 0; i &lt; services.size(); i++){\n                List&lt;BluetoothGattCharacteristic&gt; characteristics = services.get(i).getCharacteristics();\n                for(int j = 0; j &lt; characteristics.size(); j++){\n                    //Register all characteristics for all services\n\n                    BluetoothGattService service = services.get(i);\n                    if (service != null) {\n                        BluetoothGattCharacteristic characteristic = characteristics.get(j);\n                        if (characteristic != null) {\n                            try {\n                                gatt.setCharacteristicNotification(characteristic, true);\n                            }\n                            catch(Exception e){\n                                Log.d(TAG, &quot;EXCEPTION: &quot; + e);\n                            }\n                        }\n                    }\n                }\n            }\n        } else {\n            Log.w(TAG, &quot;onServicesDiscovered received: &quot; + status);\n        }\n    }\n</code></pre>\n<p>I've made sure Bluetooth + Location are enabled, and have added the following lines to my <code>AndroidManifest.xml</code>:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","factory-pattern"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686578200,"creation_date":1686578200,"answer_id":76457390,"question_id":76457174,"body_markdown":"You can do so by providing a default implementation for `Base` as such;\r\n\r\n    // no need to annotate it with @service\r\n    class DefaultBase implements Base {\r\n    \r\n    }\r\n\r\nThen in your factory method,\r\n\r\n    private static final Base DEFAULT_BASE = new DefaultBase();\r\n\r\n    public void callingClass(String str) {\r\n      Base base = baseList.stream()\r\n          .filter(baseImpl -&gt; baseImpl.accept(str))\r\n          .findFirst()\r\n          .orElseGet(DEFAULT_BASE);\r\n    }\r\n","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>You can do so by providing a default implementation for <code>Base</code> as such;</p>\n<pre><code>// no need to annotate it with @service\nclass DefaultBase implements Base {\n\n}\n</code></pre>\n<p>Then in your factory method,</p>\n<pre><code>private static final Base DEFAULT_BASE = new DefaultBase();\n\npublic void callingClass(String str) {\n  Base base = baseList.stream()\n      .filter(baseImpl -&gt; baseImpl.accept(str))\n      .findFirst()\n      .orElseGet(DEFAULT_BASE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686578763,"creation_date":1686578240,"answer_id":76457393,"question_id":76457174,"body_markdown":"Get the list of service classes implementing your interface by autowiring.\r\n\r\nThen, create a single default instance (it can be an anonymous class, or a named class as in atish&#39;s answer). It must not be a Spring service as you don&#39;t want it to be included in your autowired list. In your method, if no service class is found, return this default instance.\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\nclass SomeService {\r\n  private static final Base DEFAULT_BASE = new Base() {};\r\n\r\n  @Autowired\r\n  private List&lt;Base&gt; baseList;\r\n\r\n  public void callingClass(String str) {\r\n\r\n    Base base = baseList.stream()\r\n        .filter(baseImpl -&gt; baseImpl.accept(str))\r\n        .findFirst()\r\n        .orElse(DEFAULT_BASE);\r\n\r\n  }\r\n}\r\n```\r\n","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>Get the list of service classes implementing your interface by autowiring.</p>\n<p>Then, create a single default instance (it can be an anonymous class, or a named class as in atish's answer). It must not be a Spring service as you don't want it to be included in your autowired list. In your method, if no service class is found, return this default instance.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\nclass SomeService {\n  private static final Base DEFAULT_BASE = new Base() {};\n\n  @Autowired\n  private List&lt;Base&gt; baseList;\n\n  public void callingClass(String str) {\n\n    Base base = baseList.stream()\n        .filter(baseImpl -&gt; baseImpl.accept(str))\n        .findFirst()\n        .orElse(DEFAULT_BASE);\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686588112,"creation_date":1686588112,"answer_id":76458695,"question_id":76457174,"body_markdown":"Combining @k314159 and @atish.s solution and improving on that:\r\n\r\nExpose the DefaultBase class as another bean, but add @Order annotation to put it last in list\r\n\r\n    @Component\r\n    @Order(Precedence.LAST)\r\n    class DefaultBase implements Base {\r\n        default accepts(Object obj){\r\n            return true;\r\n        }\r\n    }\r\n\r\nThen changing the Service method to this:\r\n\r\n    public Base callingClass(String str) { \r\n        return baseList.stream()\r\n            .filter(baseImpl -&gt; baseImpl.accept(str))\r\n            .findFirst()\r\n            .orElseThrow();\r\n    }","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>Combining @k314159 and @atish.s solution and improving on that:</p>\n<p>Expose the DefaultBase class as another bean, but add @Order annotation to put it last in list</p>\n<pre><code>@Component\n@Order(Precedence.LAST)\nclass DefaultBase implements Base {\n    default accepts(Object obj){\n        return true;\n    }\n}\n</code></pre>\n<p>Then changing the Service method to this:</p>\n<pre><code>public Base callingClass(String str) { \n    return baseList.stream()\n        .filter(baseImpl -&gt; baseImpl.accept(str))\n        .findFirst()\n        .orElseThrow();\n}\n</code></pre>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76458695,"answer_count":3,"score":0,"last_activity_date":1686588112,"creation_date":1686576637,"question_id":76457174,"body_markdown":"I have an interface which extends `java.util.function.Function`, there are 2 further implementation of the interface lets say class A, B which implements the interface Base;\r\n\r\n\r\n```java\r\ninterface Base extends Function&lt;Object, Object&gt; {\r\n\r\n  @Override\r\n  default Object apply(Object object) {\r\n    return object;     // simply do nothing\r\n  }\r\n\r\n  default boolean accept(String str) {\r\n    return true;     // for choosing the right instance\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\nclass A implements Base {\r\n\r\n  String validationString = &quot;some-random-string&quot;;\r\n\r\n  @Override\r\n  public Object apply(Object object) {\r\n    // update the object ....\r\n    return object;\r\n  }\r\n\r\n  @Override\r\n  public boolean accept(String str) {\r\n    return str.equals(validationString);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\nclass B implements Base {\r\n\r\n  String validationString = &quot;some-random-string-2&quot;;\r\n\r\n  @Override\r\n  public Object apply(Object object) {\r\n    // update the object ....\r\n    return object;\r\n  }\r\n\r\n  @Override\r\n  public boolean accept(String str) {\r\n    return str.equals(validationString);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\nclass SomeService {\r\n\r\n  List&lt;Base&gt; baseList;\r\n\r\n  public void callingClass(String str) {\r\n\r\n    // in below \r\n    // I want to order it in such a way that \r\n    // if str matches A.validationString then give back A&#39;s instance\r\n    // else if str matches B.validationString then give back B&#39;s instance\r\n    // else return Base&#39;s instance\r\n    Base base = baseList.stream()\r\n        .filter(baseImpl -&gt; baseImpl.accept(str))\r\n        .findFirst().orElseThrow();\r\n\r\n  }\r\n}\r\n```\r\n\r\nSo, what I am trying to achieve, if there is any way from which I don&#39;t have to manually create a Factory Class (Factory Pattern) and dynamically Filter the instance A, B using accept() and if none find then return instance of Base (as default).\r\n\r\n\r\nCan anybody help with this?\r\n","title":"How to dynamically order the implementation list of a interface with default value in Spring Boot?","body":"<p>I have an interface which extends <code>java.util.function.Function</code>, there are 2 further implementation of the interface lets say class A, B which implements the interface Base;</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Base extends Function&lt;Object, Object&gt; {\n\n  @Override\n  default Object apply(Object object) {\n    return object;     // simply do nothing\n  }\n\n  default boolean accept(String str) {\n    return true;     // for choosing the right instance\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass A implements Base {\n\n  String validationString = &quot;some-random-string&quot;;\n\n  @Override\n  public Object apply(Object object) {\n    // update the object ....\n    return object;\n  }\n\n  @Override\n  public boolean accept(String str) {\n    return str.equals(validationString);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass B implements Base {\n\n  String validationString = &quot;some-random-string-2&quot;;\n\n  @Override\n  public Object apply(Object object) {\n    // update the object ....\n    return object;\n  }\n\n  @Override\n  public boolean accept(String str) {\n    return str.equals(validationString);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\nclass SomeService {\n\n  List&lt;Base&gt; baseList;\n\n  public void callingClass(String str) {\n\n    // in below \n    // I want to order it in such a way that \n    // if str matches A.validationString then give back A's instance\n    // else if str matches B.validationString then give back B's instance\n    // else return Base's instance\n    Base base = baseList.stream()\n        .filter(baseImpl -&gt; baseImpl.accept(str))\n        .findFirst().orElseThrow();\n\n  }\n}\n</code></pre>\n<p>So, what I am trying to achieve, if there is any way from which I don't have to manually create a Factory Class (Factory Pattern) and dynamically Filter the instance A, B using accept() and if none find then return instance of Base (as default).</p>\n<p>Can anybody help with this?</p>\n"},{"tags":["java","testing","junit","mockito","test-coverage"],"owner":{"account_id":28793740,"reputation":11,"user_id":22052421,"display_name":"Sayantan Maji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686587849,"creation_date":1686587849,"question_id":76458660,"body_markdown":"I want to write an test class for my controller class\r\n\r\nI have written a test class for my controller class but having 0 coverage. The work is to follow a category and unfollow a category\r\n\r\nThis is my category class\r\n\r\npublic class Category {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\tprivate String categoryName;\r\n\t@ManyToMany\r\n\t@JoinColumn(name = &quot;userId&quot;)\r\n\tprivate List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n\t\r\n}\r\n\r\nSome how code is not working. Executing everytime and returning nothing\r\n\r\n```\r\npackage com.cts.pack.demojpa.controllertest;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\n\r\nimport com.cts.pack.thedailymuse.controller.CategoryController;\r\nimport com.cts.pack.thedailymuse.entity.Category;\r\nimport com.cts.pack.thedailymuse.entity.User;\r\nimport com.cts.pack.thedailymuse.exception.AlreadyFollowedException;\r\nimport com.cts.pack.thedailymuse.exception.CategoryNotFoundException;\r\nimport com.cts.pack.thedailymuse.exception.NotFollowedException;\r\nimport com.cts.pack.thedailymuse.exception.UserNotFoundException;\r\nimport com.cts.pack.thedailymuse.model.FollowUnfollowInputModel;\r\nimport com.cts.pack.thedailymuse.service.CategoryService;\r\nimport com.cts.pack.thedailymuse.service.UserService;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.mockito.Mockito.*;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class CategoryControllerTest {\r\n\r\n    @Mock\r\n    private CategoryService categoryService;\r\n\r\n    @Mock\r\n    private UserService userService;\r\n\r\n    @InjectMocks\r\n    private CategoryController categoryController;\r\n\r\n\r\n    @Test\r\n    public void testFollowCategory() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        \r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        \r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n        when(categoryService.addCategory(category)).thenReturn(category);\r\n\r\n        ResponseEntity&lt;Category&gt; response = categoryController.followCategory(inputModel);\r\n\r\n        assertEquals(HttpStatus.OK, response.getStatusCode());\r\n        assertEquals(category, response.getBody());\r\n        verify(categoryService, times(1)).addCategory(category);\r\n    }\r\n\r\n    @Test(expected = UserNotFoundException.class)\r\n    public void testFollowCategory_UserNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\r\n\r\n        categoryController.followCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = CategoryNotFoundException.class)\r\n    public void testFollowCategory_CategoryNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\r\n\r\n        categoryController.followCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = AlreadyFollowedException.class)\r\n    public void testFollowCategory_AlreadyFollowedException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n        when(categoryService.addCategory(category)).thenReturn(category);\r\n\r\n        categoryController.followCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void testUnfollowCategory() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n        verify(categoryService, times(1)).removeCategory(category);\r\n    }\r\n\r\n    @Test(expected = UserNotFoundException.class)\r\n    public void testUnfollowCategory_UserNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = CategoryNotFoundException.class)\r\n    public void testUnfollowCategory_CategoryNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n        \r\n    \tFollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n    }\r\n\r\n    @Test(expected = NotFollowedException.class)\r\n    public void testUnfollowCategory_NotFollowedException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\r\n\r\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\r\n        inputModel.setCategory(&quot;example-category&quot;);\r\n        inputModel.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        Category category = new Category();\r\n        category.setCategoryName(&quot;example-category&quot;);\r\n\r\n        User user = new User();\r\n        user.setEmailId(&quot;user@example.com&quot;);\r\n\r\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\r\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\r\n\r\n        categoryController.unfollowCategory(inputModel);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/FprBk.png)","title":"Test covergae is showing 0","body":"<p>I want to write an test class for my controller class</p>\n<p>I have written a test class for my controller class but having 0 coverage. The work is to follow a category and unfollow a category</p>\n<p>This is my category class</p>\n<p>public class Category {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int id;\nprivate String categoryName;\n@ManyToMany\n@JoinColumn(name = &quot;userId&quot;)\nprivate List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>}</p>\n<p>Some how code is not working. Executing everytime and returning nothing</p>\n<pre><code>package com.cts.pack.demojpa.controllertest;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\n\nimport com.cts.pack.thedailymuse.controller.CategoryController;\nimport com.cts.pack.thedailymuse.entity.Category;\nimport com.cts.pack.thedailymuse.entity.User;\nimport com.cts.pack.thedailymuse.exception.AlreadyFollowedException;\nimport com.cts.pack.thedailymuse.exception.CategoryNotFoundException;\nimport com.cts.pack.thedailymuse.exception.NotFollowedException;\nimport com.cts.pack.thedailymuse.exception.UserNotFoundException;\nimport com.cts.pack.thedailymuse.model.FollowUnfollowInputModel;\nimport com.cts.pack.thedailymuse.service.CategoryService;\nimport com.cts.pack.thedailymuse.service.UserService;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.*;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class CategoryControllerTest {\n\n    @Mock\n    private CategoryService categoryService;\n\n    @Mock\n    private UserService userService;\n\n    @InjectMocks\n    private CategoryController categoryController;\n\n\n    @Test\n    public void testFollowCategory() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        \n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        \n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n        when(categoryService.addCategory(category)).thenReturn(category);\n\n        ResponseEntity&lt;Category&gt; response = categoryController.followCategory(inputModel);\n\n        assertEquals(HttpStatus.OK, response.getStatusCode());\n        assertEquals(category, response.getBody());\n        verify(categoryService, times(1)).addCategory(category);\n    }\n\n    @Test(expected = UserNotFoundException.class)\n    public void testFollowCategory_UserNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\n\n        categoryController.followCategory(inputModel);\n\n    }\n\n    @Test(expected = CategoryNotFoundException.class)\n    public void testFollowCategory_CategoryNotFoundException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\n\n        categoryController.followCategory(inputModel);\n\n    }\n\n    @Test(expected = AlreadyFollowedException.class)\n    public void testFollowCategory_AlreadyFollowedException() throws AlreadyFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n        when(categoryService.addCategory(category)).thenReturn(category);\n\n        categoryController.followCategory(inputModel);\n\n    }\n\n    @Test\n    public void testUnfollowCategory() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n\n        categoryController.unfollowCategory(inputModel);\n\n        verify(categoryService, times(1)).removeCategory(category);\n    }\n\n    @Test(expected = UserNotFoundException.class)\n    public void testUnfollowCategory_UserNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(null);\n\n        categoryController.unfollowCategory(inputModel);\n\n    }\n\n    @Test(expected = CategoryNotFoundException.class)\n    public void testUnfollowCategory_CategoryNotFoundException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n        \n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(null);\n\n        categoryController.unfollowCategory(inputModel);\n\n    }\n\n    @Test(expected = NotFollowedException.class)\n    public void testUnfollowCategory_NotFollowedException() throws NotFollowedException, UserNotFoundException, CategoryNotFoundException {\n\n        FollowUnfollowInputModel inputModel = new FollowUnfollowInputModel();\n        inputModel.setCategory(&quot;example-category&quot;);\n        inputModel.setEmailId(&quot;user@example.com&quot;);\n\n        Category category = new Category();\n        category.setCategoryName(&quot;example-category&quot;);\n\n        User user = new User();\n        user.setEmailId(&quot;user@example.com&quot;);\n\n        when(categoryService.getCategory(&quot;example-category&quot;)).thenReturn(category);\n        when(userService.getUser(&quot;user@example.com&quot;)).thenReturn(user);\n\n        categoryController.unfollowCategory(inputModel);\n\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FprBk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":0,"creation_date":1686587764,"post_id":76457629,"comment_id":134816116,"body_markdown":"&lt;s:property value=&quot;%{map[&#39;true&#39;]}&quot;/&gt;, what ideally you should be doing is keep string as key and value boolean. HashMap&lt;String, Boolean&gt;","body":"&lt;s:property value=&quot;%{map[&#39;true&#39;]}&quot;/&gt;, what ideally you should be doing is keep string as key and value boolean. HashMap&lt;String, Boolean&gt;"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686588278,"post_id":76457629,"comment_id":134816215,"body_markdown":"Does it make sense to use a map for just two values?","body":"Does it make sense to use a map for just two values?"},{"owner":{"account_id":10765050,"reputation":1,"user_id":22061399,"display_name":"crmaidev"},"score":0,"creation_date":1686589755,"post_id":76457629,"comment_id":134816472,"body_markdown":"@SuchandraT, that&#39;s accurate for my situation. Many thanks! :)","body":"@SuchandraT, that&#39;s accurate for my situation. Many thanks! :)"},{"owner":{"account_id":10765050,"reputation":1,"user_id":22061399,"display_name":"crmaidev"},"score":0,"creation_date":1686638045,"post_id":76457629,"comment_id":134822361,"body_markdown":"Yes, @aled, it is for a select tag.","body":"Yes, @aled, it is for a select tag."}],"owner":{"account_id":10765050,"reputation":1,"user_id":22061399,"display_name":"crmaidev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686587539,"creation_date":1686579987,"question_id":76457629,"body_markdown":"Related to the questions [How to get map value given a key in a JSP page?](https://stackoverflow.com/questions/5264774/how-to-get-map-value-given-a-key-in-a-jsp) and [Get value of HashMap by specific key in EL without iterating over it](https://stackoverflow.com/questions/5395308/get-value-of-hashmap-by-specific-key-in-el-without-iterating-over-it)\r\n\r\nI have a `HashMap&lt;Boolean, String&gt;` and get always a null in the property tag. How do I get the string value given a Boolean key?\r\n\r\n```\r\n&lt;s:property value=&quot;%{map[&#39;keyValueStack&#39;]}&quot;&gt;&lt;/s:property&gt;\r\n```\r\n\r\n","title":"How to get a Map value if the key is a Boolean data type in JSP?","body":"<p>Related to the questions <a href=\"https://stackoverflow.com/questions/5264774/how-to-get-map-value-given-a-key-in-a-jsp\">How to get map value given a key in a JSP page?</a> and <a href=\"https://stackoverflow.com/questions/5395308/get-value-of-hashmap-by-specific-key-in-el-without-iterating-over-it\">Get value of HashMap by specific key in EL without iterating over it</a></p>\n<p>I have a <code>HashMap&lt;Boolean, String&gt;</code> and get always a null in the property tag. How do I get the string value given a Boolean key?</p>\n<pre><code>&lt;s:property value=&quot;%{map['keyValueStack']}&quot;&gt;&lt;/s:property&gt;\n</code></pre>\n"},{"tags":["java","amazon-kinesis","aws-java-sdk","amazon-kcl"],"answers":[{"tags":[],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686587437,"creation_date":1686587437,"answer_id":76458611,"question_id":76438930,"body_markdown":"I am using two scheduler which are reading from different kinesis stream.\r\n\r\n    //Application.class\r\n     Created HashMap to store the Schedular information.\r\n      public static ConcurrentHashMap&lt;String, Scheduler&gt; schedulerMap = new \r\n    ConcurrentHashMap&lt;&gt;();\r\n\r\n    Scheduler scheduler = schedulerFactory.getScheduler(schedulerConfigBuilder.buildConfiguration(streamConfig \r\n        ));\r\n       \r\n    schedulerMap.put(streamConfig.getLogicalName(), scheduler);\r\n\r\n\r\n    \r\n    //KinesisRecordProcessor class\r\n    @SneakyThrows\r\n    @Override\r\n    public void processRecords(ProcessRecordsInput processRecordsInput) {\r\n\r\n     for (KinesisClientRecord s : processRecordsInput.records()) {\r\n  \r\n     try {\r\n      //some opreations on records\r\n      //doing glue validation\r\n     //then at last saving record to dynamodb \r\n\r\n      } catch (GlueSchemaException e) {\r\n      \r\n      } catch (Exception ex) {\r\n     //And used this information to stop schedular as below in case of error\r\n     Application.schedulerMap.get(streamConfig.getLogicalName()).shutdown();\r\n       \r\n     }\r\n  \r\n     processRecordsInput.checkpointer().checkpoint();\r\n    }\r\n\r\n\r\n","title":"How to shutdown processRecord method of KCL in case of any error?","body":"<p>I am using two scheduler which are reading from different kinesis stream.</p>\n<pre><code>//Application.class\n Created HashMap to store the Schedular information.\n  public static ConcurrentHashMap&lt;String, Scheduler&gt; schedulerMap = new \nConcurrentHashMap&lt;&gt;();\n\nScheduler scheduler = schedulerFactory.getScheduler(schedulerConfigBuilder.buildConfiguration(streamConfig \n    ));\n   \nschedulerMap.put(streamConfig.getLogicalName(), scheduler);\n\n\n\n//KinesisRecordProcessor class\n@SneakyThrows\n@Override\npublic void processRecords(ProcessRecordsInput processRecordsInput) {\n\n for (KinesisClientRecord s : processRecordsInput.records()) {\n\n try {\n  //some opreations on records\n  //doing glue validation\n //then at last saving record to dynamodb \n\n  } catch (GlueSchemaException e) {\n  \n  } catch (Exception ex) {\n //And used this information to stop schedular as below in case of error\n Application.schedulerMap.get(streamConfig.getLogicalName()).shutdown();\n   \n }\n\n processRecordsInput.checkpointer().checkpoint();\n}\n</code></pre>\n"}],"owner":{"account_id":17647913,"reputation":43,"user_id":12808946,"display_name":"Prathviraj Singh Chouhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686587437,"creation_date":1686302697,"question_id":76438930,"body_markdown":"I am using multiple Scheduler to process record from multiple kinesis stream. Now, my requirement is, If scheduler I failed during processing, so I want to stop it, and don&#39;t want to stop scheduler II. But currently, processRecord method is not stopping, it is polling even after I have thrown error. And If I am using Thread.currentThread().stop() to stop particular schedular on exception it is giving error\r\n\r\n    Caused by: java.lang.IllegalStateException: Client is closed. No more requests can be made with this client.\r\n\tat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.getOrCreateConnectionPool(AwsCrtAsyncHttpClient.java:208) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\r\n\tat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.execute(AwsCrtAsyncHttpClient.java:235) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.doExecuteHttpRequest(MakeAsyncHttpRequestStage.java:175) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.executeHttpRequest(MakeAsyncHttpRequestStage.java:147) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$execute$1(MakeAsyncHttpRequestStage.java:99) ~[sdk-core-2.17.160.jar:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:753) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:731) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2108) ~[na:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:95) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:60) ~[sdk-core-2.17.160.jar:na]\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206) ~[sdk-core-2.17.160.jar:na]\r\n\r\nMy processRecord Method code:\r\n \r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public void processRecords(ProcessRecordsInput processRecordsInput) {\r\n\r\n    for (KinesisClientRecord s : processRecordsInput.records()) {\r\n      \r\n      try {\r\n       //some opreations on records\r\n\t   //doing glue validation\r\n\t   //then at last saving record to dynamodb \r\n\r\n      } catch (GlueSchemaException e) {\r\n\r\n      } catch (Exception ex) {\r\n        LOGGER.info(&quot;Stopping current thread &quot;+ Thread.currentThread().getName());\r\n        processRecordsInput.checkpointer().checkpoint();\r\n        Thread.currentThread().stop();//you can skip this line, I am trying to stop the further processing\r\n        throw new NullPointerException();\r\n      }\r\n\t  \r\n\t  processRecordsInput.checkpointer().checkpoint();\r\n    }\r\n\r\n  \r\nI am trying to stop KCL by throwing exception also, but that is also not working, it is still not stopping processing.\r\n\r\n ","title":"How to shutdown processRecord method of KCL in case of any error?","body":"<p>I am using multiple Scheduler to process record from multiple kinesis stream. Now, my requirement is, If scheduler I failed during processing, so I want to stop it, and don't want to stop scheduler II. But currently, processRecord method is not stopping, it is polling even after I have thrown error. And If I am using Thread.currentThread().stop() to stop particular schedular on exception it is giving error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Client is closed. No more requests can be made with this client.\nat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.getOrCreateConnectionPool(AwsCrtAsyncHttpClient.java:208) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\nat software.amazon.awssdk.http.crt.AwsCrtAsyncHttpClient.execute(AwsCrtAsyncHttpClient.java:235) ~[aws-crt-client-2.17.148-PREVIEW.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.doExecuteHttpRequest(MakeAsyncHttpRequestStage.java:175) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.executeHttpRequest(MakeAsyncHttpRequestStage.java:147) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.lambda$execute$1(MakeAsyncHttpRequestStage.java:99) ~[sdk-core-2.17.160.jar:na]\nat java.base/java.util.concurrent.CompletableFuture.uniAcceptNow(CompletableFuture.java:753) ~[na:na]\nat java.base/java.util.concurrent.CompletableFuture.uniAcceptStage(CompletableFuture.java:731) ~[na:na]\nat java.base/java.util.concurrent.CompletableFuture.thenAccept(CompletableFuture.java:2108) ~[na:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:95) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.stages.MakeAsyncHttpRequestStage.execute(MakeAsyncHttpRequestStage.java:60) ~[sdk-core-2.17.160.jar:na]\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206) ~[sdk-core-2.17.160.jar:na]\n</code></pre>\n<p>My processRecord Method code:</p>\n<pre><code>@SneakyThrows\n@Override\npublic void processRecords(ProcessRecordsInput processRecordsInput) {\n\nfor (KinesisClientRecord s : processRecordsInput.records()) {\n  \n  try {\n   //some opreations on records\n   //doing glue validation\n   //then at last saving record to dynamodb \n\n  } catch (GlueSchemaException e) {\n\n  } catch (Exception ex) {\n    LOGGER.info(&quot;Stopping current thread &quot;+ Thread.currentThread().getName());\n    processRecordsInput.checkpointer().checkpoint();\n    Thread.currentThread().stop();//you can skip this line, I am trying to stop the further processing\n    throw new NullPointerException();\n  }\n  \n  processRecordsInput.checkpointer().checkpoint();\n}\n</code></pre>\n<p>I am trying to stop KCL by throwing exception also, but that is also not working, it is still not stopping processing.</p>\n"},{"tags":["java","slf4j","graylog2","graylog","gelf"],"answers":[{"tags":[],"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1510921444,"creation_date":1510921444,"answer_id":47350591,"question_id":45734943,"body_markdown":"SLF4J is just a facade for other logging libraries.\r\n\r\nYou have to use a GELF appender for the *specific* logging framework (Log4j, Logback, java.util.logging, etc.) you&#39;re using in your application.\r\n\r\nCheck out the Graylog Marketplace for existing GELF appenders for Java logging frameworks:\r\n\r\nhttps://marketplace.graylog.org/addons?tag=java","title":"Sending logs to Graylog and in Gelf format","body":"<p>SLF4J is just a facade for other logging libraries.</p>\n\n<p>You have to use a GELF appender for the <em>specific</em> logging framework (Log4j, Logback, java.util.logging, etc.) you're using in your application.</p>\n\n<p>Check out the Graylog Marketplace for existing GELF appenders for Java logging frameworks:</p>\n\n<p><a href=\"https://marketplace.graylog.org/addons?tag=java\" rel=\"noreferrer\">https://marketplace.graylog.org/addons?tag=java</a></p>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686586606,"creation_date":1686586120,"answer_id":76458459,"question_id":45734943,"body_markdown":"As of 2023 \r\n\r\nSupposing one uses logback,\r\nyou need to add appended to logback config.\r\n\r\nNew marketplace link would be  \r\nhttps://community.graylog.org/search?q=java%20%23marketplace  \r\n(as no so clearly explained in [video](https://community.graylog.org/t/how-to-search-the-new-marketplace/25425) )\r\n\r\nHowever for some time top recommended appender is  \r\nhttps://github.com/mp911de/logstash-gelf -&gt; https://logging.paluch.biz/examples/logback.html\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE configuration&gt;\r\n&lt;configuration&gt;\r\n    &lt;contextName&gt;test&lt;/contextName&gt;\r\n    &lt;jmxConfigurator/&gt;\r\n    &lt;appender name=&quot;gelf&quot; class=&quot;biz.paluch.logging.gelf.logback.GelfLogbackAppender&quot;&gt;\r\n        &lt;host&gt;udp:localhost&lt;/host&gt;\r\n        &lt;port&gt;12201&lt;/port&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;facility&gt;logstash-gelf&lt;/facility&gt;\r\n        &lt;extractStackTrace&gt;true&lt;/extractStackTrace&gt;\r\n        &lt;filterStackTrace&gt;true&lt;/filterStackTrace&gt;\r\n        &lt;includeLocation&gt;true&lt;/includeLocation&gt;\r\n        &lt;mdcProfiling&gt;true&lt;/mdcProfiling&gt;\r\n        &lt;timestampPattern&gt;yyyy-MM-dd HH:mm:ss,SSS&lt;/timestampPattern&gt;\r\n        &lt;maximumMessageSize&gt;8192&lt;/maximumMessageSize&gt;\r\n        &lt;additionalFields&gt;fieldName1=fieldValue1,fieldName2=fieldValue2&lt;/additionalFields&gt;\r\n        &lt;additionalFieldTypes&gt;fieldName1=String,fieldName2=Double,fieldName3=Long&lt;/additionalFieldTypes&gt;\r\n        &lt;mdcFields&gt;mdcField1,mdcField2&lt;/mdcFields&gt;\r\n        &lt;dynamicMdcFields&gt;myMdc.*,[a-z]+Field&lt;/dynamicMdcFields&gt;\r\n        &lt;dynamicMdcFieldTypes&gt;my_field.*=String,business\\..*\\.field=double&lt;/dynamicMdcFieldTypes&gt;\r\n        &lt;includeFullMdc&gt;true&lt;/includeFullMdc&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;gelf&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nRelated\r\n- https://stackoverflow.com/questions/51311188/direct-logback-logs-to-graylog\r\n","title":"Sending logs to Graylog and in Gelf format","body":"<p>As of 2023</p>\n<p>Supposing one uses logback,\nyou need to add appended to logback config.</p>\n<p>New marketplace link would be<br />\n<a href=\"https://community.graylog.org/search?q=java%20%23marketplace\" rel=\"nofollow noreferrer\">https://community.graylog.org/search?q=java%20%23marketplace</a><br />\n(as no so clearly explained in <a href=\"https://community.graylog.org/t/how-to-search-the-new-marketplace/25425\" rel=\"nofollow noreferrer\">video</a> )</p>\n<p>However for some time top recommended appender is<br />\n<a href=\"https://github.com/mp911de/logstash-gelf\" rel=\"nofollow noreferrer\">https://github.com/mp911de/logstash-gelf</a> -&gt; <a href=\"https://logging.paluch.biz/examples/logback.html\" rel=\"nofollow noreferrer\">https://logging.paluch.biz/examples/logback.html</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration&gt;\n&lt;configuration&gt;\n    &lt;contextName&gt;test&lt;/contextName&gt;\n    &lt;jmxConfigurator/&gt;\n    &lt;appender name=&quot;gelf&quot; class=&quot;biz.paluch.logging.gelf.logback.GelfLogbackAppender&quot;&gt;\n        &lt;host&gt;udp:localhost&lt;/host&gt;\n        &lt;port&gt;12201&lt;/port&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;facility&gt;logstash-gelf&lt;/facility&gt;\n        &lt;extractStackTrace&gt;true&lt;/extractStackTrace&gt;\n        &lt;filterStackTrace&gt;true&lt;/filterStackTrace&gt;\n        &lt;includeLocation&gt;true&lt;/includeLocation&gt;\n        &lt;mdcProfiling&gt;true&lt;/mdcProfiling&gt;\n        &lt;timestampPattern&gt;yyyy-MM-dd HH:mm:ss,SSS&lt;/timestampPattern&gt;\n        &lt;maximumMessageSize&gt;8192&lt;/maximumMessageSize&gt;\n        &lt;additionalFields&gt;fieldName1=fieldValue1,fieldName2=fieldValue2&lt;/additionalFields&gt;\n        &lt;additionalFieldTypes&gt;fieldName1=String,fieldName2=Double,fieldName3=Long&lt;/additionalFieldTypes&gt;\n        &lt;mdcFields&gt;mdcField1,mdcField2&lt;/mdcFields&gt;\n        &lt;dynamicMdcFields&gt;myMdc.*,[a-z]+Field&lt;/dynamicMdcFields&gt;\n        &lt;dynamicMdcFieldTypes&gt;my_field.*=String,business\\..*\\.field=double&lt;/dynamicMdcFieldTypes&gt;\n        &lt;includeFullMdc&gt;true&lt;/includeFullMdc&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;INFO&lt;/level&gt;\n        &lt;/filter&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;gelf&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Related</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51311188/direct-logback-logs-to-graylog\">Direct logback logs to graylog</a></li>\n</ul>\n"}],"owner":{"account_id":11022749,"reputation":167,"user_id":8096492,"accept_rate":50,"display_name":"orcl user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3290,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":47350591,"answer_count":2,"score":9,"last_activity_date":1686586606,"creation_date":1502972351,"question_id":45734943,"body_markdown":"I would like to use graylog as central logging server and currently I am just using slf4j Logger &quot;slf4j-api&quot; as Java logging framework for logging in my java application. Can i use SLF4J to send logging to Graylog? or Which additional libraries do i need to send these logs to Graylog?","title":"Sending logs to Graylog and in Gelf format","body":"<p>I would like to use graylog as central logging server and currently I am just using slf4j Logger \"slf4j-api\" as Java logging framework for logging in my java application. Can i use SLF4J to send logging to Graylog? or Which additional libraries do i need to send these logs to Graylog?</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"score":0,"creation_date":1653405450,"post_id":72310917,"comment_id":127842077,"body_markdown":"I think one of possible solutions is to write custom predicate/filter. Articles for it: https://www.baeldung.com/spring-cloud-custom-gateway-filters and https://www.baeldung.com/spring-cloud-gateway-routing-predicate-factories","body":"I think one of possible solutions is to write custom predicate/filter. Articles for it: <a href=\"https://www.baeldung.com/spring-cloud-custom-gateway-filters\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-custom-gateway-filters</a> and <a href=\"https://www.baeldung.com/spring-cloud-gateway-routing-predicate-factories\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-gateway-routing-predicate-factorie&zwnj;&#8203;s</a>"}],"answers":[{"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653568321,"creation_date":1653568321,"answer_id":72391864,"question_id":72310917,"body_markdown":"If you do **not** want and need to create full OAuth 2 Server/Client infrastructure and want to keep it simple just create a custom `GatewayFilter` in which just check if the JWT token extracted from the header has the preconfigured roles.\r\nSo start with a simple `GatewayFilter`\r\n\r\n\r\n    @Component\r\n    public class RoleAuthGatewayFilterFactory extends\r\n            AbstractGatewayFilterFactory&lt;RoleAuthGatewayFilterFactory.Config&gt; {\r\n\r\n        public RoleAuthGatewayFilterFactory() {\r\n            super(Config.class);\r\n        }\r\n\r\n        @Override\r\n        public GatewayFilter apply(Config config) {\r\n            return (exchange, chain) -&gt; {\r\n                var request = exchange.getRequest();\r\n                // JWTUtil can extract the token from the request, parse it and verify if the given role is available\r\n                if(!JWTUtil.hasRole(request, config.getRole())){\r\n                    // seems we miss the auth token\r\n                    var response = exchange.getResponse();\r\n                    response.setStatusCode(HttpStatus.UNAUTHORIZED);\r\n                    return response.setComplete();\r\n                }\r\n                return chain.filter(exchange);\r\n            };\r\n        }\r\n\r\n        @Data\r\n        public static class Config {\r\n            private String role;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; shortcutFieldOrder() {\r\n            // we need this to use shortcuts in the application.yml\r\n            return Arrays.asList(&quot;role&quot;);\r\n        }\r\n    }\r\n\r\nHere we just create a simple filter which receives the required role from the config (application.yml) and checks if the request is authorized to continue. \r\n\r\nTo use the filter just add `filters` into you route config.\r\n\r\n    server:\r\n      port: 9090\r\n    spring:\r\n      application:\r\n      name: &quot;API-GATEWAY&quot;\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: task-service\r\n              uri: &#39;http://localhost:8083&#39;\r\n              filters:\r\n                - RoleAuth=ADMIN\r\n              predicates:\r\n                - Path=/task/**\r\n              \r\n\r\nSo this way the `RoleAuth` filter can be reused over the several routes.","title":"Can I use Spring Cloud Gateway for role based authorization?","body":"<p>If you do <strong>not</strong> want and need to create full OAuth 2 Server/Client infrastructure and want to keep it simple just create a custom <code>GatewayFilter</code> in which just check if the JWT token extracted from the header has the preconfigured roles.\nSo start with a simple <code>GatewayFilter</code></p>\n<pre><code>@Component\npublic class RoleAuthGatewayFilterFactory extends\n        AbstractGatewayFilterFactory&lt;RoleAuthGatewayFilterFactory.Config&gt; {\n\n    public RoleAuthGatewayFilterFactory() {\n        super(Config.class);\n    }\n\n    @Override\n    public GatewayFilter apply(Config config) {\n        return (exchange, chain) -&gt; {\n            var request = exchange.getRequest();\n            // JWTUtil can extract the token from the request, parse it and verify if the given role is available\n            if(!JWTUtil.hasRole(request, config.getRole())){\n                // seems we miss the auth token\n                var response = exchange.getResponse();\n                response.setStatusCode(HttpStatus.UNAUTHORIZED);\n                return response.setComplete();\n            }\n            return chain.filter(exchange);\n        };\n    }\n\n    @Data\n    public static class Config {\n        private String role;\n    }\n\n    @Override\n    public List&lt;String&gt; shortcutFieldOrder() {\n        // we need this to use shortcuts in the application.yml\n        return Arrays.asList(&quot;role&quot;);\n    }\n}\n</code></pre>\n<p>Here we just create a simple filter which receives the required role from the config (application.yml) and checks if the request is authorized to continue.</p>\n<p>To use the filter just add <code>filters</code> into you route config.</p>\n<pre><code>server:\n  port: 9090\nspring:\n  application:\n  name: &quot;API-GATEWAY&quot;\n  cloud:\n    gateway:\n      routes:\n        - id: task-service\n          uri: 'http://localhost:8083'\n          filters:\n            - RoleAuth=ADMIN\n          predicates:\n            - Path=/task/**\n          \n</code></pre>\n<p>So this way the <code>RoleAuth</code> filter can be reused over the several routes.</p>\n"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5044,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686585825,"creation_date":1652993416,"question_id":72310917,"body_markdown":"I have several microservices in my architecture. I want to implement an API Gateway to route request to services. To achieve that, I implement `spring-cloud-gateway` and this is my `application.yml`\r\n\r\n\r\n\r\n    server:\r\n      port: 9090\r\n    spring:\r\n      application:\r\n      name: &quot;API-GATEWAY&quot;\r\n      cloud:\r\n       gateway:\r\n        routes:\r\n          - id: task-service\r\n            uri: &#39;http://localhost:8083&#39;\r\n            predicates:\r\n              - Path=/task/**\r\n\r\nSo far everything works as expected. a request `localhost:9090/task/123` is to `localhost:8083/task/123`. Here comes to second part.\r\n\r\nI want some users access to only some endpoints. In my JWT token, I have role field.\r\n \r\n      {\r\n          &quot;accountName&quot;: &quot;erdem.ontas&quot;,\r\n          &quot;surname&quot;: &quot;&#214;ntaş&quot;,\r\n          &quot;roles&quot;: [\r\n            &quot;ADMIN&quot;,\r\n            &quot;USER&quot;\r\n          ],\r\n    }\r\n\r\n\r\nI don&#39;t want specify authorization in every service separately, is there any way to specify role based access in spring-cloud-gateway? For example I want USER role to be able to access to `GET http://localhost:9090/task/` but not to `GET http://localhost:9090/dashboard/`","title":"Can I use Spring Cloud Gateway for role based authorization?","body":"<p>I have several microservices in my architecture. I want to implement an API Gateway to route request to services. To achieve that, I implement <code>spring-cloud-gateway</code> and this is my <code>application.yml</code></p>\n<pre><code>server:\n  port: 9090\nspring:\n  application:\n  name: &quot;API-GATEWAY&quot;\n  cloud:\n   gateway:\n    routes:\n      - id: task-service\n        uri: 'http://localhost:8083'\n        predicates:\n          - Path=/task/**\n</code></pre>\n<p>So far everything works as expected. a request <code>localhost:9090/task/123</code> is to <code>localhost:8083/task/123</code>. Here comes to second part.</p>\n<p>I want some users access to only some endpoints. In my JWT token, I have role field.</p>\n<pre><code>  {\n      &quot;accountName&quot;: &quot;erdem.ontas&quot;,\n      &quot;surname&quot;: &quot;Öntaş&quot;,\n      &quot;roles&quot;: [\n        &quot;ADMIN&quot;,\n        &quot;USER&quot;\n      ],\n}\n</code></pre>\n<p>I don't want specify authorization in every service separately, is there any way to specify role based access in spring-cloud-gateway? For example I want USER role to be able to access to <code>GET http://localhost:9090/task/</code> but not to <code>GET http://localhost:9090/dashboard/</code></p>\n"},{"tags":["java","android","xml","preferencescreen","edittextpreference"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1686618893,"post_id":76458338,"comment_id":134820656,"body_markdown":"Hi there please submit your source code as the plain text format","body":"Hi there please submit your source code as the plain text format"}],"owner":{"account_id":27681402,"reputation":1,"user_id":21130069,"display_name":"Aasann Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686585715,"creation_date":1686585287,"question_id":76458338,"body_markdown":"i need the Underline after every EditTextPreference UI for the separating it .\r\n\r\n**Code**\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\nadding Image for better understanding\r\n[enter image description here](https://i.stack.imgur.com/9fOpY.png)\r\n\r\ni have create layout .xml style and to  EditTextPreference  or PreferenceScreen but it&#39;s did not worked . i also try to add from java side but it did not worked for me \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bi4G0.jpg\r\n  [2]: https://i.stack.imgur.com/idbVq.png","title":"how to create underline in the PreferenceCategory for separating EditTextPreference","body":"<p>i need the Underline after every EditTextPreference UI for the separating it .</p>\n<p><strong>Code</strong>\n<a href=\"https://i.stack.imgur.com/bi4G0.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/idbVq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>adding Image for better understanding\n<a href=\"https://i.stack.imgur.com/9fOpY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i have create layout .xml style and to  EditTextPreference  or PreferenceScreen but it's did not worked . i also try to add from java side but it did not worked for me</p>\n"},{"tags":["java","spring-boot","yaml","jackson-databind"],"owner":{"account_id":4663819,"reputation":31,"user_id":3777385,"display_name":"user3777385"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686585358,"creation_date":1686585358,"question_id":76458355,"body_markdown":"i have a template yaml file with the following content\r\n\r\n     build:\r\n      script:\r\n       - &quot;echo \\&quot;Utilizing external YAML file\\&quot;&quot;.     \r\n       - !reference [ .build_java_gradle, script ]  \r\n       \r\nI am reading this content and setting into another yaml file. But here its getting set with &quot;&quot; added to the reference as follows.\r\n\r\n     build:\r\n      script:\r\n       - &quot;echo \\&quot;Utilizing external YAML file\\&quot;      \r\n       - &quot;!reference [ .build_java_gradle, script ]&quot;.  &lt;=== double quotes\r\n       \r\nI want to retain the same string without double quotes while setting into another yaml file. I am using jackson binding libraries.\r\n\r\n    ObjectNode buildNode = (ObjectNode) templateNode.get(&quot;build&quot;)\r\n    ObjectNode buildGitNode = gitlabCIYmlRootNode.putObject(&quot;build&quot;);\r\n    buildGitNode.setAll(buildNode);\r\n\r\n","title":"jacksonbind objectnode adding extra double quotes while setting in java","body":"<p>i have a template yaml file with the following content</p>\n<pre><code> build:\n  script:\n   - &quot;echo \\&quot;Utilizing external YAML file\\&quot;&quot;.     \n   - !reference [ .build_java_gradle, script ]  \n   \n</code></pre>\n<p>I am reading this content and setting into another yaml file. But here its getting set with &quot;&quot; added to the reference as follows.</p>\n<pre><code> build:\n  script:\n   - &quot;echo \\&quot;Utilizing external YAML file\\&quot;      \n   - &quot;!reference [ .build_java_gradle, script ]&quot;.  &lt;=== double quotes\n   \n</code></pre>\n<p>I want to retain the same string without double quotes while setting into another yaml file. I am using jackson binding libraries.</p>\n<pre><code>ObjectNode buildNode = (ObjectNode) templateNode.get(&quot;build&quot;)\nObjectNode buildGitNode = gitlabCIYmlRootNode.putObject(&quot;build&quot;);\nbuildGitNode.setAll(buildNode);\n</code></pre>\n"},{"tags":["java","spring","oracle","hibernate","nativequery"],"comments":[{"owner":{"account_id":13545735,"reputation":102,"user_id":9772107,"display_name":"Mojtaba jalambadani"},"score":1,"creation_date":1686483894,"post_id":76450227,"comment_id":134801865,"body_markdown":"see this https://stackoverflow.com/a/23218474/9772107","body":"see this <a href=\"https://stackoverflow.com/a/23218474/9772107\">stackoverflow.com/a/23218474/9772107</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":2,"creation_date":1686484605,"post_id":76450227,"comment_id":134801960,"body_markdown":"Not the cause of the error, but a further problem that would lead to unexpected results is that you need to wrap that OR condition in brackets, otherwise all those AND conditions will not apply when:debitTypes is null.","body":"Not the cause of the error, but a further problem that would lead to unexpected results is that you need to wrap that OR condition in brackets, otherwise all those AND conditions will not apply when:debitTypes is null."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1686489982,"post_id":76450227,"comment_id":134802553,"body_markdown":"Absolutely, wrap that OR in parentheses!","body":"Absolutely, wrap that OR in parentheses!"}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686482286,"creation_date":1686482286,"answer_id":76450247,"question_id":76450227,"body_markdown":"it is because :debitTypes . instead of :debitTypes use your column name ","title":"how to bind null value in native query in spring","body":"<p>it is because :debitTypes . instead of :debitTypes use your column name</p>\n"},{"tags":[],"owner":{"account_id":16373113,"reputation":352,"user_id":11825939,"display_name":"Mustafa Khalil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686585161,"creation_date":1686484916,"answer_id":76450385,"question_id":76450227,"body_markdown":"It is not possible to use `:debitTypes IS null` condition, it should be a column name. instead, in order to check if debitTypes list is null, do this check in a higher level (the method that calls getPaidDebtSummary), and use another query for it.\r\n\r\n    @Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\r\n            &quot; FROM PAYMENT  p&quot; +\r\n            &quot; INNER JOIN FACTOR f&quot; +\r\n            &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\r\n            &quot; JOIN VEHICLE_GATEWAY v&quot; +\r\n            &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\r\n            &quot; WHERE p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\r\n            &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\r\n            &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\r\n            &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\r\n    Object[] getPaidDebtSummaryNoDebitTypes(@Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\r\n                                @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\r\n\r\nUpdate: my answer was not very clear, my idea was to not to add the condition here but in a higher level, adding the condition is correct, thanks for correcting me.","title":"how to bind null value in native query in spring","body":"<p>It is not possible to use <code>:debitTypes IS null</code> condition, it should be a column name. instead, in order to check if debitTypes list is null, do this check in a higher level (the method that calls getPaidDebtSummary), and use another query for it.</p>\n<pre><code>@Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\n        &quot; FROM PAYMENT  p&quot; +\n        &quot; INNER JOIN FACTOR f&quot; +\n        &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\n        &quot; JOIN VEHICLE_GATEWAY v&quot; +\n        &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\n        &quot; WHERE p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\n        &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\n        &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\n        &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\nObject[] getPaidDebtSummaryNoDebitTypes(@Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\n                            @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\n</code></pre>\n<p>Update: my answer was not very clear, my idea was to not to add the condition here but in a higher level, adding the condition is correct, thanks for correcting me.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686494341,"creation_date":1686494341,"answer_id":76450996,"question_id":76450227,"body_markdown":"The JDBC driver doesn&#39;t know how to convert a List&lt;&gt; into the parameter of the IN() that&#39;s why you get a BINARY as fallback. ORACLE driver doesn&#39;t support anonymous type in that context: createArrayOf of the JDBC standard is not implemented.\r\n\r\n    f.FACTOR_TYPE IN (:debitTypes) \r\n\r\nshould be \r\n\r\n    f.FACTOR_TYPE IN ( select * from table(:debitTypes) )\r\n\r\nand you should pass a java.sql.Array not a List, that you create with connection.createARRAY, and you need to define a TYPE in your DB, (here a TABLE OF NUMBER), to pass its name to connection.createARRAY and second argument will be an Integer[].\r\nYou may need to unwrap your java.sql.Connection into an oracle.jdbc.driver.OracleConnection.\r\n","title":"how to bind null value in native query in spring","body":"<p>The JDBC driver doesn't know how to convert a List&lt;&gt; into the parameter of the IN() that's why you get a BINARY as fallback. ORACLE driver doesn't support anonymous type in that context: createArrayOf of the JDBC standard is not implemented.</p>\n<pre><code>f.FACTOR_TYPE IN (:debitTypes) \n</code></pre>\n<p>should be</p>\n<pre><code>f.FACTOR_TYPE IN ( select * from table(:debitTypes) )\n</code></pre>\n<p>and you should pass a java.sql.Array not a List, that you create with connection.createARRAY, and you need to define a TYPE in your DB, (here a TABLE OF NUMBER), to pass its name to connection.createARRAY and second argument will be an Integer[].\nYou may need to unwrap your java.sql.Connection into an oracle.jdbc.driver.OracleConnection.</p>\n"}],"owner":{"account_id":17459642,"reputation":27,"user_id":12657637,"display_name":"masoome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686585161,"creation_date":1686482052,"question_id":76450227,"body_markdown":"```\r\n@Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\r\n            &quot; FROM PAYMENT  p&quot; +\r\n            &quot; INNER JOIN FACTOR f&quot; +\r\n            &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\r\n            &quot; JOIN VEHICLE_GATEWAY v&quot; +\r\n            &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\r\n            &quot; WHERE :debitTypes IS null OR f.FACTOR_TYPE IN (:debitTypes)&quot; +\r\n            &quot; AND p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\r\n            &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\r\n            &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\r\n            &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\r\n    Object[] getPaidDebtSummary(@Param(&quot;debitTypes&quot;) List&lt;Integer&gt; debitTypes,\r\n                                @Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\r\n                                @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\r\n```\r\n\r\nHi\r\n\r\nWhen I run this query through spring boot app I get this error :\r\n*&quot;java.sql.SQLSyntaxErrorException: ORA-00932: inconsistent datatypes: expected NUMBER got BINARY&quot;*\r\n\r\nbut when I run it in database console in intellij it returns the result set!\r\n\r\nDoes Anyone have an idea how to solve this problem?","title":"how to bind null value in native query in spring","body":"<pre><code>@Query(value = &quot;SELECT TRUNC(p.CREATION_DATE), SUM(p.AMOUNT)&quot; +\n            &quot; FROM PAYMENT  p&quot; +\n            &quot; INNER JOIN FACTOR f&quot; +\n            &quot; ON p.PAYMENT_ID = f.FACTOR_ID&quot; +\n            &quot; JOIN VEHICLE_GATEWAY v&quot; +\n            &quot; ON v.FACTOR_ID = f.FACTOR_ID&quot; +\n            &quot; WHERE :debitTypes IS null OR f.FACTOR_TYPE IN (:debitTypes)&quot; +\n            &quot; AND p.CREATION_DATE &gt;= :fromPaymentDate&quot; +\n            &quot; AND p.CREATION_DATE &lt;= :toPaymentDate&quot; +\n            &quot; GROUP BY TRUNC(p.CREATION_DATE)&quot; +\n            &quot; ORDER BY TRUNC(p.CREATION_DATE)&quot;, nativeQuery = true)\n    Object[] getPaidDebtSummary(@Param(&quot;debitTypes&quot;) List&lt;Integer&gt; debitTypes,\n                                @Param(&quot;fromPaymentDate&quot;) Date fromPaymentDate,\n                                @Param(&quot;toPaymentDate&quot;) Date toPaymentDate);\n</code></pre>\n<p>Hi</p>\n<p>When I run this query through spring boot app I get this error :\n<em>&quot;java.sql.SQLSyntaxErrorException: ORA-00932: inconsistent datatypes: expected NUMBER got BINARY&quot;</em></p>\n<p>but when I run it in database console in intellij it returns the result set!</p>\n<p>Does Anyone have an idea how to solve this problem?</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1668410468,"post_id":74426165,"comment_id":131389362,"body_markdown":"Does this answer your question? [Where should I place my Vaadin 10+ static files?](https://stackoverflow.com/questions/57553973/where-should-i-place-my-vaadin-10-static-files)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57553973/where-should-i-place-my-vaadin-10-static-files\">Where should I place my Vaadin 10+ static files?</a>"},{"owner":{"account_id":12137544,"reputation":174,"user_id":8862555,"display_name":"MrRene"},"score":0,"creation_date":1668968744,"post_id":74426165,"comment_id":131529502,"body_markdown":"Managed to make it work by updating to the latest vaadin, I had another couple of issues with I managed those as well. I don&#39;t know if this could work, but doesn&#39;t hurt to update to the latest","body":"Managed to make it work by updating to the latest vaadin, I had another couple of issues with I managed those as well. I don&#39;t know if this could work, but doesn&#39;t hurt to update to the latest"}],"owner":{"account_id":12137544,"reputation":174,"user_id":8862555,"display_name":"MrRene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686584978,"creation_date":1668390388,"question_id":74426165,"body_markdown":"I&#39;m using Spring Boot for a Vaadin Flow 14 app and when I package into a JAR using `mvn clean package -Pproduction` and run it using `java -jar app.jar` it doesn&#39;t show any images or fonts, however the CSS works.\r\n\r\nRunning the app in dev mode works perfectly, and even running it with `mvn spring-boot:run -Pproduction` works perfectly. The problem is after packaging into a JAR.\r\n\r\nI haven&#39;t updated anything or change any major files, I just change some functions in java classes and now after packaging the issues are showing, it wasn&#39;t like this a couple of weeks ago.","title":"Static resouces not loading after packaging JAR of Vaadin 14 app","body":"<p>I'm using Spring Boot for a Vaadin Flow 14 app and when I package into a JAR using <code>mvn clean package -Pproduction</code> and run it using <code>java -jar app.jar</code> it doesn't show any images or fonts, however the CSS works.</p>\n<p>Running the app in dev mode works perfectly, and even running it with <code>mvn spring-boot:run -Pproduction</code> works perfectly. The problem is after packaging into a JAR.</p>\n<p>I haven't updated anything or change any major files, I just change some functions in java classes and now after packaging the issues are showing, it wasn't like this a couple of weeks ago.</p>\n"},{"tags":["java","oracle","etl","google-cloud-dataflow","apache-nifi"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1668545228,"post_id":74449645,"comment_id":131430569,"body_markdown":"You have zero-size input flowfiles (queue size in bytes shown as zero), and back pressure was triggered by the object count. Increase Back pressure Object threshold or filter out empty flow files depending on the producer and your business logic","body":"You have zero-size input flowfiles (queue size in bytes shown as zero), and back pressure was triggered by the object count. Increase Back pressure Object threshold or filter out empty flow files depending on the producer and your business logic"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1668601153,"post_id":74449645,"comment_id":131443975,"body_markdown":"it means executesql much slower then previous processors. maybe you should trigger &quot;generateflowfile&quot; not so often. or give more threads to executesql...","body":"it means executesql much slower then previous processors. maybe you should trigger &quot;generateflowfile&quot; not so often. or give more threads to executesql..."},{"owner":{"account_id":21645559,"reputation":23,"user_id":15966953,"display_name":"Juan Casta&#241;eda"},"score":0,"creation_date":1668608805,"post_id":74449645,"comment_id":131447110,"body_markdown":"The generateflowfile is every 60 seconds and the average per request to the database is 1 or 2 s, and the queue size is zero because it only contains attributes.\nI don&#39;t know if it&#39;s because of load balancing or for all nodes or primary node per processor.","body":"The generateflowfile is every 60 seconds and the average per request to the database is 1 or 2 s, and the queue size is zero because it only contains attributes. I don&#39;t know if it&#39;s because of load balancing or for all nodes or primary node per processor."}],"owner":{"account_id":21645559,"reputation":23,"user_id":15966953,"display_name":"Juan Casta&#241;eda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686584952,"creation_date":1668532249,"question_id":74449645,"body_markdown":"I&#39;m building an ETL that first gets the date from the cache to use in the query to pull from a database, transform the content, and send it to the microservice API.\r\n\r\nI have a problem, when I start all the processor, it works fine, but like 40 hours later, the processors stop working, but they are still on, and the queue starts to fill up.\r\n\r\nThis is my flow to extract data:\r\n[![enter image description here](https://i.stack.imgur.com/MYrYF.png)](https://i.stack.imgur.com/MYrYF.png)\r\n[![enter image description here](https://i.stack.imgur.com/D3L5o.png)](https://i.stack.imgur.com/D3L5o.png)\r\n\r\nAnd this is my system to update the date:\r\n[![enter image description here](https://i.stack.imgur.com/m78VL.png)](https://i.stack.imgur.com/m78VL.png)\r\n\r\nI tried restart system and this repeats again.\r\n\r\nI want this system to always work","title":"NIFI queue is full and the processor is running but not executing its function","body":"<p>I'm building an ETL that first gets the date from the cache to use in the query to pull from a database, transform the content, and send it to the microservice API.</p>\n<p>I have a problem, when I start all the processor, it works fine, but like 40 hours later, the processors stop working, but they are still on, and the queue starts to fill up.</p>\n<p>This is my flow to extract data:\n<a href=\"https://i.stack.imgur.com/MYrYF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYrYF.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/D3L5o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3L5o.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my system to update the date:\n<a href=\"https://i.stack.imgur.com/m78VL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m78VL.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried restart system and this repeats again.</p>\n<p>I want this system to always work</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1950993,"reputation":3277,"user_id":1755083,"accept_rate":58,"display_name":"AbdealiLoKo"},"score":0,"creation_date":1686486296,"post_id":76450391,"comment_id":134802112,"body_markdown":"When I run your code for &quot;()&quot; - it gives a `StringIndexOutOfBoundsException: String index out of range: 2` - not false. Do you have a typo somewhere ?","body":"When I run your code for &quot;()&quot; - it gives a <code>StringIndexOutOfBoundsException: String index out of range: 2</code> - not false. Do you have a typo somewhere ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686493461,"post_id":76450391,"comment_id":134802985,"body_markdown":"what is the expected result for `([])` ?","body":"what is the expected result for <code>([])</code> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686495735,"post_id":76450391,"comment_id":134803266,"body_markdown":"Have you searched Stack Overflow for [similar questions](https://stackoverflow.com/search?q=valid+parentheses)?  Also, it is on coding practice / challenge sites. There is [one at LeetCode](https://leetcode.com/problems/valid-parentheses/), for example.","body":"Have you searched Stack Overflow for <a href=\"https://stackoverflow.com/search?q=valid+parentheses\">similar questions</a>?  Also, it is on coding practice / challenge sites. There is <a href=\"https://leetcode.com/problems/valid-parentheses/\" rel=\"nofollow noreferrer\">one at LeetCode</a>, for example."}],"answers":[{"tags":[],"owner":{"account_id":1950993,"reputation":3277,"user_id":1755083,"accept_rate":58,"display_name":"AbdealiLoKo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686584872,"creation_date":1686485893,"answer_id":76450448,"question_id":76450391,"body_markdown":"Looks like you have 2 issues:\r\n\r\n1. Your code assumes `charAt()` takes index values from 1 onwards. It does not - it takes values from 0\r\n\r\n2. Your code assumes there is no nesting. So, it won&#39;t work for cases like `[()]`","title":"Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid","body":"<p>Looks like you have 2 issues:</p>\n<ol>\n<li><p>Your code assumes <code>charAt()</code> takes index values from 1 onwards. It does not - it takes values from 0</p>\n</li>\n<li><p>Your code assumes there is no nesting. So, it won't work for cases like <code>[()]</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4293270,"reputation":43,"user_id":3509023,"accept_rate":71,"display_name":"MRRPlatinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686493211,"creation_date":1686493211,"answer_id":76450917,"question_id":76450391,"body_markdown":"One additional issue that is not addressed in the first answer is that you are attempting to access a `Map&lt;String, String&gt;` with a `char`. `charAt()` returns a character and the keys in the map are strings. This can be fixed by updating the map to be `Map&lt;Character, Character&gt;`, or by getting the string value of the character (such as by using `String.valueOf()`) wherever you are getting the character at a certain index.\r\n\r\nThis combined with addressing the issues laid out in Abdeali&#39;s answer should fix your issue.","title":"Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid","body":"<p>One additional issue that is not addressed in the first answer is that you are attempting to access a <code>Map&lt;String, String&gt;</code> with a <code>char</code>. <code>charAt()</code> returns a character and the keys in the map are strings. This can be fixed by updating the map to be <code>Map&lt;Character, Character&gt;</code>, or by getting the string value of the character (such as by using <code>String.valueOf()</code>) wherever you are getting the character at a certain index.</p>\n<p>This combined with addressing the issues laid out in Abdeali's answer should fix your issue.</p>\n"}],"owner":{"account_id":26295826,"reputation":9,"user_id":19962083,"display_name":"frozenyoung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1686584872,"creation_date":1686484988,"question_id":76450391,"body_markdown":"I want to write a function that does the following: Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid. A valid string needs to satisfy:\r\n - the opening parenthesis must be closed with the same type of closing parenthesis.\r\n - Opening parentheses must be closed in the correct order.\r\n - Each closing parenthesis has a corresponding opening parenthesis of the same type.\r\n\r\nExample:\r\n\r\nInput: s = &quot;()&quot;  \r\nOutput: true\r\n\r\nInput: s = &quot;()[]{}&quot;  \r\nOutput: true\r\n\r\nInput: s = &quot;(]&quot;  \r\nOutput: false.\r\n\r\nBut when I test the code with:\r\nInput &quot;()&quot;  \r\nOutput is showing as false.\r\n\r\nHere is my code.\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nclass Solution {\r\n    public boolean isValid(String s) {\r\n        Map&lt;String, String&gt; map = Map.of(&quot;(&quot;,&quot;)&quot;,&quot;[&quot;,&quot;]&quot;,&quot;{&quot;,&quot;}&quot;);\r\n\r\n        if (s.length() % 2 != 0) {\r\n            return false;\r\n        }\r\n\r\n        for (int index = 0; index &lt; s.length() / 2; index++) {\r\n            if (!map.containsKey(s.charAt(2 * index + 1))) {\r\n                return false;\r\n            } else {\r\n                if (!map.get(s.charAt(2 * index + 1)).equals(s.charAt(2 * index + 2))) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe function may be realized by using the stack, but the first thing I thought of was my method. Where is the logic error in my method?","title":"Given a string s that contains only &#39;(&#39;, &#39;)&#39;, &#39;{&#39;, &#39;}&#39;, &#39;[&#39;, &#39;]&#39;, determine whether the string is valid","body":"<p>I want to write a function that does the following: Given a string s that contains only '(', ')', '{', '}', '[', ']', determine whether the string is valid. A valid string needs to satisfy:</p>\n<ul>\n<li>the opening parenthesis must be closed with the same type of closing parenthesis.</li>\n<li>Opening parentheses must be closed in the correct order.</li>\n<li>Each closing parenthesis has a corresponding opening parenthesis of the same type.</li>\n</ul>\n<p>Example:</p>\n<p>Input: s = &quot;()&quot;<br />\nOutput: true</p>\n<p>Input: s = &quot;()[]{}&quot;<br />\nOutput: true</p>\n<p>Input: s = &quot;(]&quot;<br />\nOutput: false.</p>\n<p>But when I test the code with:\nInput &quot;()&quot;<br />\nOutput is showing as false.</p>\n<p>Here is my code.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nclass Solution {\n    public boolean isValid(String s) {\n        Map&lt;String, String&gt; map = Map.of(&quot;(&quot;,&quot;)&quot;,&quot;[&quot;,&quot;]&quot;,&quot;{&quot;,&quot;}&quot;);\n\n        if (s.length() % 2 != 0) {\n            return false;\n        }\n\n        for (int index = 0; index &lt; s.length() / 2; index++) {\n            if (!map.containsKey(s.charAt(2 * index + 1))) {\n                return false;\n            } else {\n                if (!map.get(s.charAt(2 * index + 1)).equals(s.charAt(2 * index + 2))) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>The function may be realized by using the stack, but the first thing I thought of was my method. Where is the logic error in my method?</p>\n"},{"tags":["java","kubernetes","monitoring","spring-boot-admin"],"comments":[{"owner":{"account_id":94568,"reputation":447,"user_id":258115,"display_name":"dushshantha"},"score":0,"creation_date":1668038273,"post_id":73446593,"comment_id":131313490,"body_markdown":"Did you get this to work? I am facing the same issue.","body":"Did you get this to work? I am facing the same issue."},{"owner":{"account_id":26130204,"reputation":31,"user_id":19821040,"display_name":"ed40721"},"score":0,"creation_date":1668154068,"post_id":73446593,"comment_id":131341229,"body_markdown":"I abandoned the problem. In hindsight the problem might be that I didn&#39;t configure any probes (health/readiness/liveliness)","body":"I abandoned the problem. In hindsight the problem might be that I didn&#39;t configure any probes (health/readiness/liveliness)"},{"owner":{"account_id":1287025,"reputation":749,"user_id":1239904,"accept_rate":64,"display_name":"Mahatma_Fatal_Error"},"score":0,"creation_date":1683204628,"post_id":73446593,"comment_id":134332841,"body_markdown":"I am having the same issue, even with readiness and liveness probes","body":"I am having the same issue, even with readiness and liveness probes"}],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661182851,"creation_date":1661182851,"answer_id":73447720,"question_id":73446593,"body_markdown":"Please try to activate the reloads.\r\n    \r\n    spring:\r\n      cloud:\r\n        kubernetes:\r\n          reload:\r\n            enabled: true","title":"Spring Admin Server on Kubernetes doesn&#39;t register new pods","body":"<p>Please try to activate the reloads.</p>\n<pre><code>spring:\n  cloud:\n    kubernetes:\n      reload:\n        enabled: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24121769,"reputation":19,"user_id":18090829,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686584617,"creation_date":1686584617,"answer_id":76458260,"question_id":73446593,"body_markdown":"Have you tried to use the dependency `org.springframework.cloud:spring-cloud-kubernetes-fabric8-discovery` instead of `org.springframework.cloud:spring-cloud-starter-kubernetes-client-all`? \r\nThis is where I found it: https://github.com/codecentric/spring-boot-admin/issues/1788\r\nAnd according to this: https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1042, it should be solved with Spring Cloud 2022.0.1.","title":"Spring Admin Server on Kubernetes doesn&#39;t register new pods","body":"<p>Have you tried to use the dependency <code>org.springframework.cloud:spring-cloud-kubernetes-fabric8-discovery</code> instead of <code>org.springframework.cloud:spring-cloud-starter-kubernetes-client-all</code>?\nThis is where I found it: <a href=\"https://github.com/codecentric/spring-boot-admin/issues/1788\" rel=\"nofollow noreferrer\">https://github.com/codecentric/spring-boot-admin/issues/1788</a>\nAnd according to this: <a href=\"https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1042\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1042</a>, it should be solved with Spring Cloud 2022.0.1.</p>\n"}],"owner":{"account_id":26130204,"reputation":31,"user_id":19821040,"display_name":"ed40721"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1686584617,"creation_date":1661177832,"question_id":73446593,"body_markdown":"I deployed Spring Boot Admin on an Azure Kubernetes Cluster. At first I get the pods of my app displayed as &quot;UP&quot;. After restarting the deployment of the pods all pods are down and the new pods aren&#39;t recognized by Spring Boot Admin server. Is there anything I am missing?\r\n\r\n[Pods are UP as they should][1]\r\n\r\n\r\n[New pods don&#39;t get registered and old are still on the dashboard][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OZjCS.png\r\n  [2]: https://i.stack.imgur.com/XQMyh.png\r\n\r\nMy application.yml\r\n```\r\nspring:\r\n  boot:\r\n    admin:\r\n      discovery:\r\n        enabled: true\r\n      monitor:\r\n        status-interval: 3s\r\n        status-lifetime: 3s\r\n  application:\r\n    name: monitoring-server\r\n  cloud:\r\n    kubernetes:\r\n      discovery:\r\n        primary-port-name: health\r\n        enabled: true\r\n        service-labels:\r\n          spring.boot: middleware\r\n      enabled: true\r\n```\r\n\r\nMain Class with annotations\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAdminServer\r\n@EnableDiscoveryClient\r\n@EnableScheduling\r\npublic class MonitoringApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MonitoringApplication.class, args);\r\n    }\r\n}\r\n```\r\nAdded dependencies\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-client-all&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-server-ui&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nEdit:\r\n```\r\nspring boot version: 2.6.6\r\nspring boot admin version: 2.6.3\r\nspring cloud version: 2021.0.1\r\n```","title":"Spring Admin Server on Kubernetes doesn&#39;t register new pods","body":"<p>I deployed Spring Boot Admin on an Azure Kubernetes Cluster. At first I get the pods of my app displayed as &quot;UP&quot;. After restarting the deployment of the pods all pods are down and the new pods aren't recognized by Spring Boot Admin server. Is there anything I am missing?</p>\n<p><a href=\"https://i.stack.imgur.com/OZjCS.png\" rel=\"nofollow noreferrer\">Pods are UP as they should</a></p>\n<p><a href=\"https://i.stack.imgur.com/XQMyh.png\" rel=\"nofollow noreferrer\">New pods don't get registered and old are still on the dashboard</a></p>\n<p>My application.yml</p>\n<pre><code>spring:\n  boot:\n    admin:\n      discovery:\n        enabled: true\n      monitor:\n        status-interval: 3s\n        status-lifetime: 3s\n  application:\n    name: monitoring-server\n  cloud:\n    kubernetes:\n      discovery:\n        primary-port-name: health\n        enabled: true\n        service-labels:\n          spring.boot: middleware\n      enabled: true\n</code></pre>\n<p>Main Class with annotations</p>\n<pre><code>@SpringBootApplication\n@EnableAdminServer\n@EnableDiscoveryClient\n@EnableScheduling\npublic class MonitoringApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MonitoringApplication.class, args);\n    }\n}\n</code></pre>\n<p>Added dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-client-all&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-server-ui&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Edit:</p>\n<pre><code>spring boot version: 2.6.6\nspring boot admin version: 2.6.3\nspring cloud version: 2021.0.1\n</code></pre>\n"},{"tags":["java","spring-boot","rest","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":0,"creation_date":1675843474,"post_id":75382724,"comment_id":133012870,"body_markdown":"Can you provide your complete code\nFor example, upload it to github","body":"Can you provide your complete code For example, upload it to github"},{"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"score":0,"creation_date":1675844313,"post_id":75382724,"comment_id":133013090,"body_markdown":"@Jilliss: Unfortunately I cannot provide the whole code due to company regulations, so I edited my post and added the application.properties and SecurityConfiguration. There are no other places in the project where anything should tamper with the configuration.","body":"@Jilliss: Unfortunately I cannot provide the whole code due to company regulations, so I edited my post and added the application.properties and SecurityConfiguration. There are no other places in the project where anything should tamper with the configuration."},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1675844486,"post_id":75382724,"comment_id":133013142,"body_markdown":"POST requests are by default secured by CSRF. Please configure it appropriate.","body":"POST requests are by default secured by CSRF. Please configure it appropriate."},{"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"score":0,"creation_date":1675851124,"post_id":75382724,"comment_id":133015211,"body_markdown":"Ok I read some articles about Spring Boot and CSRF attacks. I understand that I do not necessarily need csrf protection if I have my endpoints secured through for Example authentication data inside my request body (for post). So when I define an abstract RequestBody, that has username + password, or any arbitrary token sent inside a json body and I check with my own services that username + password or the token is correct, then I can just disable csrf, am I right?","body":"Ok I read some articles about Spring Boot and CSRF attacks. I understand that I do not necessarily need csrf protection if I have my endpoints secured through for Example authentication data inside my request body (for post). So when I define an abstract RequestBody, that has username + password, or any arbitrary token sent inside a json body and I check with my own services that username + password or the token is correct, then I can just disable csrf, am I right?"},{"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"score":0,"creation_date":1675851473,"post_id":75382724,"comment_id":133015315,"body_markdown":"The part that I don&#39;t understand is, what about my ui part? I guess my ui still needs some sort of csrf protection?","body":"The part that I don&#39;t understand is, what about my ui part? I guess my ui still needs some sort of csrf protection?"}],"owner":{"account_id":27187046,"reputation":23,"user_id":20721373,"display_name":"Szyu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686584605,"creation_date":1675842685,"question_id":75382724,"body_markdown":"I managed to set up a basic RequestController in Spring Boot using Vaadin 23 with help from [here](https://stackoverflow.com/questions/75372808/vaadin-23-rest-api-and-ui-in-spring-boot-app). \r\nGet Requests get through like intended, but for whatever reason, no POST request connects.\r\n\r\nAll I get is a response like this:\r\n\r\n```\r\n&lt;!doctype html&gt;&lt;!--\r\nThis file is auto-generated by Vaadin.\r\n--&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n &lt;head&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];window.Vaadin.originalCustomElementDefineFn = window.Vaadin.originalCustomElementDefineFn || window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}window.Vaadin.originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+&#39;:&#39;+lineno+&#39;:&#39;+colno;window.Vaadin.ConsoleErrors.push([message, &#39;(&#39;+location+&#39;)&#39;]);};window.addEventListener(&#39;unhandledrejection&#39;, e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\r\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\r\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\r\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\r\n  &lt;meta name=&quot;_csrf&quot; content=&quot;6b25f646-7020-473e-a73e-74719d95d6e2&quot;&gt;&lt;base href=&quot;.&quot;&gt;\r\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\r\ninject({\r\n  overlayConfig: {},\r\n  base: &quot;/project/ui/VAADIN/&quot;,\r\n});&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n  &lt;style&gt;\r\n    body, #outlet {\r\n      height: 100vh;\r\n      width: 100%;\r\n      margin: 0;\r\n    }\r\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\r\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\r\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\r\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\r\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\r\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\r\n  &lt;script&gt;if (&#39;serviceWorker&#39; in navigator) {\r\n  window.addEventListener(&#39;load&#39;, function() {\r\n    navigator.serviceWorker.register(&#39;sw.js&#39;)\r\n  });\r\n}&lt;/script&gt;\r\n &lt;/head&gt;\r\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\r\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\r\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\r\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\r\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;VAADIN/push&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\r\n &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nMy RequestController:\r\n\r\n```\r\n@RequestMapping(&quot;/api/test&quot;)\r\n@RestController\r\npublic class TestRestController {\r\n    \r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/secondget&quot;)\r\n    public String secondGet() {\r\n        return &quot;Hello World #2!&quot;;\r\n    }\r\n\r\n    @PostMapping(\r\n        value = &quot;/postbody&quot;)\r\n    public String post(@RequestBody String body) {\r\n        return &quot;Received: &quot; + body;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried setting &quot;consumes&quot; and &quot;produces&quot; in @PostMapping to various types, but none work. For whatever reason the method is never called. I tried using Postman on this to send my request. When trying to send a GET-Request I get the error, that the method is not allowed, so I guess that my application has registered this endpoint as POST method...\r\n\r\nMy goal is to send json to my method. So I already tried including &#39;Content-Type&#39;: &#39;application/json&#39; in my request header (Postman does that automatically)\r\n\r\nCould someone please help?\r\n\r\n\r\n**EDIT**\r\n\r\napplication.properties:\r\n```\r\nserver.servlet.context-path=/project\r\nserver.port=${PORT:8080}\r\n\r\nvaadin.urlMapping=/ui/*\r\n```\r\n\r\nSecurityConfiguration:\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfiguration extends VaadinWebSecurity {\r\n\r\n    public static final String LOGOUT_URL = &quot;/project&quot;;\r\n    public static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\r\n\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    /**\r\n     * userDetailsService is required for the Remember Me\r\n     * https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/remember-me.html\r\n     * \r\n     * @param userDetailsService\r\n     */\r\n    public SecurityConfiguration(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        \r\n        http.authorizeRequests()\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;))\r\n            .permitAll();\r\n\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\r\n\r\n\r\n        http.rememberMe().key(&quot;ABC&quot;)\r\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\r\n            .userDetailsService(this.userDetailsService);\r\n\r\n        http.logout()\r\n            .invalidateHttpSession(true)\r\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        super.configure(web);\r\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    }\r\n}\r\n```","title":"Vaadin 23 POST-Request does not connect","body":"<p>I managed to set up a basic RequestController in Spring Boot using Vaadin 23 with help from <a href=\"https://stackoverflow.com/questions/75372808/vaadin-23-rest-api-and-ui-in-spring-boot-app\">here</a>.\nGet Requests get through like intended, but for whatever reason, no POST request connects.</p>\n<p>All I get is a response like this:</p>\n<pre><code>&lt;!doctype html&gt;&lt;!--\nThis file is auto-generated by Vaadin.\n--&gt;\n&lt;html lang=&quot;en&quot;&gt;\n &lt;head&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.VaadinLicenseChecker = {  maybeCheck: (productInfo) =&gt; {  }};window.Vaadin.devTools = window.Vaadin.devTools || {};window.Vaadin.devTools.createdCvdlElements = window.Vaadin.devTools.createdCvdlElements || [];window.Vaadin.originalCustomElementDefineFn = window.Vaadin.originalCustomElementDefineFn || window.customElements.define;window.customElements.define = function (tagName, constructor, ...args) {const { cvdlName, version } = constructor;if (cvdlName &amp;&amp; version) {  const { connectedCallback } = constructor.prototype;  constructor.prototype.connectedCallback = function () {    window.Vaadin.devTools.createdCvdlElements.push(this);    if (connectedCallback) {      connectedCallback.call(this);    }  }}window.Vaadin.originalCustomElementDefineFn.call(this, tagName, constructor, ...args);};&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.ConsoleErrors = window.Vaadin.ConsoleErrors || [];const browserConsoleError = window.console.error.bind(window.console);console.error = (...args) =&gt; {    browserConsoleError(...args);    window.Vaadin.ConsoleErrors.push(args);};window.onerror = (message, source, lineno, colno, error) =&gt; {const location=source+':'+lineno+':'+colno;window.Vaadin.ConsoleErrors.push([message, '('+location+')']);};window.addEventListener('unhandledrejection', e =&gt; {    window.Vaadin.ConsoleErrors.push([e.reason]);});&lt;/script&gt;\n  &lt;script initial=&quot;&quot;&gt;window.Vaadin = window.Vaadin || {};window.Vaadin.TypeScript= {};&lt;/script&gt;\n  &lt;meta name=&quot;_csrf_parameter&quot; content=&quot;_csrf&quot;&gt;\n  &lt;meta name=&quot;_csrf_header&quot; content=&quot;X-CSRF-TOKEN&quot;&gt;\n  &lt;meta name=&quot;_csrf&quot; content=&quot;6b25f646-7020-473e-a73e-74719d95d6e2&quot;&gt;&lt;base href=&quot;.&quot;&gt;\n  &lt;script type=&quot;text/javascript&quot;&gt;window.JSCompiler_renameProperty = function(a) { return a;}&lt;/script&gt;\n  &lt;script type=&quot;module&quot;&gt;import { inject } from &quot;/project/ui/VAADIN/@vite-plugin-checker-runtime&quot;;\ninject({\n  overlayConfig: {},\n  base: &quot;/project/ui/VAADIN/&quot;,\n});&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/@vite/client&quot;&gt;&lt;/script&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n  &lt;style&gt;\n    body, #outlet {\n      height: 100vh;\n      width: 100%;\n      margin: 0;\n    }\n  &lt;/style&gt; &lt;!-- index.ts is included here automatically (either by the dev server or during the build) --&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vite-devmode.ts&quot;&gt;&lt;/script&gt;\n  &lt;script type=&quot;module&quot; src=&quot;/project/ui/VAADIN/generated/vaadin.ts&quot;&gt;&lt;/script&gt;\n  &lt;style&gt;.v-reconnect-dialog,.v-system-error {position: absolute;color: black;background: white;top: 1em;right: 1em;border: 1px solid black;padding: 1em;z-index: 10000;max-width: calc(100vw - 4em);max-height: calc(100vh - 4em);overflow: auto;} .v-system-error {color: indianred;pointer-events: auto;} .v-system-error h3, .v-system-error b {color: red;}&lt;/style&gt;\n  &lt;style&gt;[hidden] { display: none !important; }&lt;/style&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;project&quot;&gt;\n  &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;#ffffff&quot;&gt;\n  &lt;link rel=&quot;manifest&quot; href=&quot;manifest.webmanifest&quot;&gt;\n  &lt;link sizes=&quot;16x16&quot; rel=&quot;shortcut icon&quot; href=&quot;icons/icon-16x16.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;32x32&quot; rel=&quot;icon&quot; href=&quot;icons/icon-32x32.png&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;96x96&quot; rel=&quot;icon&quot; href=&quot;icons/icon-96x96.png?1713631522&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;180x180&quot; rel=&quot;apple-touch-icon&quot; href=&quot;icons/icon-180x180.png?-533695959&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x2732&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-2048x2732.png?-1201942874&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2732x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2732x2048.png?266277477&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2388&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2388.png?-1539431919&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2388x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2388x1668.png?598404288&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1668x2224&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1668x2224.png?1678662124&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2224x1668&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2224x1668.png?746534339&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1620x2160&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1620x2160.png?-770300885&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2160x1620&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2160x1620.png?-525914264&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1536x2048&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-1536x2048.png?713310212&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2048x1536&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-2048x1536.png?1750378074&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1284x2778&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1284x2778.png?1984992155&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2778x1284&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2778x1284.png?389448020&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1170x2532&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1170x2532.png?-743684054&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2532x1170&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2532x1170.png?2114630635&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1125x2436&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1125x2436.png?-688834165&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2436x1125&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2436x1125.png?-221066565&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2688&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2688.png?-313405698&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2688x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2688x1242.png?20506735&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;828x1792&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-828x1792.png?1276193420&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1792x828&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1792x828.png?1725405299&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1242x2208&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)&quot; href=&quot;icons/icon-1242x2208.png?1508207887&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;2208x1242&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)&quot; href=&quot;icons/icon-2208x1242.png?-167637239&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;750x1334&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-750x1334.png?-1346703542&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1334x750&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1334x750.png?-1196513029&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;640x1136&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)&quot; href=&quot;icons/icon-640x1136.png?893776263&quot; type=&quot;image/png&quot;&gt;\n  &lt;link sizes=&quot;1136x640&quot; rel=&quot;apple-touch-startup-image&quot; media=&quot;screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)&quot; href=&quot;icons/icon-1136x640.png?-1834685424&quot; type=&quot;image/png&quot;&gt;\n  &lt;script&gt;if ('serviceWorker' in navigator) {\n  window.addEventListener('load', function() {\n    navigator.serviceWorker.register('sw.js')\n  });\n}&lt;/script&gt;\n &lt;/head&gt;\n &lt;body&gt;&lt;!-- This outlet div is where the views are rendered --&gt;\n  &lt;div id=&quot;outlet&quot;&gt;&lt;/div&gt;\n  &lt;script&gt;window.Vaadin = window.Vaadin || {};\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\nwindow.Vaadin.registrations.push({&quot;is&quot;:&quot;flow/SpringInstantiator&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;routing/server&quot;,&quot;version&quot;:&quot;23.3.3&quot;},{&quot;is&quot;:&quot;flow/AtmospherePushConnection&quot;,&quot;version&quot;:&quot;2.7.3.slf4jvaadin4&quot;},{&quot;is&quot;:&quot;java&quot;,&quot;version&quot;:&quot;17.0.5&quot;});&lt;/script&gt;&lt;vaadin-dev-tools url=&quot;VAADIN/push&quot; springbootlivereloadport=&quot;35729&quot;&gt;&lt;/vaadin-dev-tools&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My RequestController:</p>\n<pre><code>@RequestMapping(&quot;/api/test&quot;)\n@RestController\npublic class TestRestController {\n    \n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello World!&quot;;\n    }\n\n    @GetMapping(&quot;/secondget&quot;)\n    public String secondGet() {\n        return &quot;Hello World #2!&quot;;\n    }\n\n    @PostMapping(\n        value = &quot;/postbody&quot;)\n    public String post(@RequestBody String body) {\n        return &quot;Received: &quot; + body;\n    }\n}\n\n</code></pre>\n<p>I tried setting &quot;consumes&quot; and &quot;produces&quot; in @PostMapping to various types, but none work. For whatever reason the method is never called. I tried using Postman on this to send my request. When trying to send a GET-Request I get the error, that the method is not allowed, so I guess that my application has registered this endpoint as POST method...</p>\n<p>My goal is to send json to my method. So I already tried including 'Content-Type': 'application/json' in my request header (Postman does that automatically)</p>\n<p>Could someone please help?</p>\n<p><strong>EDIT</strong></p>\n<p>application.properties:</p>\n<pre><code>server.servlet.context-path=/project\nserver.port=${PORT:8080}\n\nvaadin.urlMapping=/ui/*\n</code></pre>\n<p>SecurityConfiguration:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration extends VaadinWebSecurity {\n\n    public static final String LOGOUT_URL = &quot;/project&quot;;\n    public static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\n\n    private final UserDetailsService userDetailsService;\n\n    /**\n     * userDetailsService is required for the Remember Me\n     * https://docs.spring.io/spring-security/site/docs/5.0.x/reference/html/remember-me.html\n     * \n     * @param userDetailsService\n     */\n    public SecurityConfiguration(UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n        http.authorizeRequests()\n            .requestMatchers(new AntPathRequestMatcher(&quot;/api/**&quot;))\n            .permitAll();\n\n        super.configure(http);\n        setLoginView(http, LoginView.class, LOGOUT_SUCCESS_URL);\n\n\n        http.rememberMe().key(&quot;ABC&quot;)\n            .tokenValiditySeconds(2 * 24 * 60 * 60)\n            .userDetailsService(this.userDetailsService);\n\n        http.logout()\n            .invalidateHttpSession(true)\n            .deleteCookies(&quot;JSESSIONID&quot;, &quot;remember-me&quot;);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","runtimeexception","serialversionuid"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1507268803,"post_id":46599012,"comment_id":80149999,"body_markdown":"https://stackoverflow.com/questions/3429921/what-does-serializable-mean","body":"<a href=\"https://stackoverflow.com/questions/3429921/what-does-serializable-mean\" title=\"what does serializable mean\">stackoverflow.com/questions/3429921/what-does-serializable-m&zwnj;&#8203;ean</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1507269934,"post_id":46599012,"comment_id":80150378,"body_markdown":"Have you considered consulting the [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html)?","body":"Have you considered consulting the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html\" rel=\"nofollow noreferrer\">Javadoc</a>?"}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1507336903,"creation_date":1507269039,"answer_id":46599072,"question_id":46599012,"body_markdown":"`RuntimeException` extends `Exception`. `Exception` extends `Throwable`. `Throwable` implements `Serializable`. So `DataNotFoundException` is `Serializable` too","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p><code>RuntimeException</code> extends <code>Exception</code>. <code>Exception</code> extends <code>Throwable</code>. <code>Throwable</code> implements <code>Serializable</code>. So <code>DataNotFoundException</code> is <code>Serializable</code> too</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686584543,"creation_date":1507338527,"answer_id":46615727,"question_id":46599012,"body_markdown":"Yes, Throwables are Serializable. Serializable means that objects of that class can be converted into a sequence of bytes, which can be reassembled by another jvm. Making an exception serializable means it can be transferred across the network between tiers of a distributed application. ","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p>Yes, Throwables are Serializable. Serializable means that objects of that class can be converted into a sequence of bytes, which can be reassembled by another jvm. Making an exception serializable means it can be transferred across the network between tiers of a distributed application.</p>\n"},{"tags":[],"owner":{"account_id":9421037,"reputation":530,"user_id":9851598,"display_name":"surendrapanday"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550630158,"creation_date":1550630158,"answer_id":54778002,"question_id":46599012,"body_markdown":"Exceptions Classes or any classes which implements `Serializable` would need to have `SerialUID`, so that class that has do be serialized at the time of compiling, and `de-serialized` at the time of recompiling, `JVM` will do version matching which version of serialized class is being `de-serialized`.  \r\n`Serialisation` is implemented for following reasons.  \r\n\r\n 1. Support bidirectional communication between different versions of a class operating in different virtual machines by:\r\n- Defining a mechanism that allows `JavaTM` classes to read streams written by older versions of the same class.\r\n- Defining a mechanism that allows `JavaTM` classes to write streams intended to be read by older versions of the same class.\r\n- Provide default serialization for persistence and for `RMI`.\r\n- Perform well and produce compact streams in simple cases, so that `RMI` can use serialization.\r\n- Be able to identify and load classes that match the exact class used to write the stream.\r\n- Keep the overhead low for non-versioned classes.\r\nUse a stream format that allows the traversal of the stream without having to invoke methods specific to the objects saved in the stream.","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p>Exceptions Classes or any classes which implements <code>Serializable</code> would need to have <code>SerialUID</code>, so that class that has do be serialized at the time of compiling, and <code>de-serialized</code> at the time of recompiling, <code>JVM</code> will do version matching which version of serialized class is being <code>de-serialized</code>.<br>\n<code>Serialisation</code> is implemented for following reasons.  </p>\n\n<ol>\n<li>Support bidirectional communication between different versions of a class operating in different virtual machines by:\n\n<ul>\n<li>Defining a mechanism that allows <code>JavaTM</code> classes to read streams written by older versions of the same class.</li>\n<li>Defining a mechanism that allows <code>JavaTM</code> classes to write streams intended to be read by older versions of the same class.</li>\n<li>Provide default serialization for persistence and for <code>RMI</code>.</li>\n<li>Perform well and produce compact streams in simple cases, so that <code>RMI</code> can use serialization.</li>\n<li>Be able to identify and load classes that match the exact class used to write the stream.</li>\n<li>Keep the overhead low for non-versioned classes.\nUse a stream format that allows the traversal of the stream without having to invoke methods specific to the objects saved in the stream.</li>\n</ul></li>\n</ol>\n"}],"owner":{"account_id":11930356,"reputation":111,"user_id":8730392,"display_name":"yogesh sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5890,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"answer_count":3,"score":9,"last_activity_date":1686584543,"creation_date":1507268682,"question_id":46599012,"body_markdown":"Why do we need serialVersionUID when extending RuntimeException?  Is RuntimeException a serializable class?\r\n\r\n    public class DataNotFoundException extends RuntimeException {    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n        private static final long serialVersionUID = 1;\r\n    \r\n    \tpublic DataNotFoundException(String str)\r\n    \t{\r\n    \t\tsuper(str);\r\n    \t}\r\n    }","title":"Why do we need serialVersionUID when extending RuntimeException?","body":"<p>Why do we need serialVersionUID when extending RuntimeException?  Is RuntimeException a serializable class?</p>\n\n<pre><code>public class DataNotFoundException extends RuntimeException {       \n    /**\n     * \n     */\n    private static final long serialVersionUID = 1;\n\n    public DataNotFoundException(String str)\n    {\n        super(str);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor","r2dbc","r2dbc-mysql"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686606190,"post_id":76458128,"comment_id":134819384,"body_markdown":"`exclude = R2dbcAutoConfiguration.class` why have you removed the R2dbcAutoConfiguration? this is exactly what sets up your repos","body":"<code>exclude = R2dbcAutoConfiguration.class</code> why have you removed the R2dbcAutoConfiguration? this is exactly what sets up your repos"},{"owner":{"account_id":19025473,"reputation":35,"user_id":13888630,"display_name":"MD.Luffy"},"score":0,"creation_date":1686620310,"post_id":76458128,"comment_id":134820773,"body_markdown":"I didn&#39;t add this at first, but it would report an exception like this.to fix it, so I added this, which then led to the above problem","body":"I didn&#39;t add this at first, but it would report an exception like this.to fix it, so I added this, which then led to the above problem"},{"owner":{"account_id":19025473,"reputation":35,"user_id":13888630,"display_name":"MD.Luffy"},"score":0,"creation_date":1686620517,"post_id":76458128,"comment_id":134820803,"body_markdown":"---------------------------------\nAPPLICATION FAILED TO START\n---------------------------------\n\n*Description*:\n\nFailed to configure a ConnectionFactory: &#39;url&#39; attribute is not specified and no embedded database could be configured.\n\n*Reason*: Failed to determine a suitable R2DBC Connection URL\n\n\n*Action*:\n\nConsider the following:\n\tIf you want an embedded database (H2), please put it on the classpath.\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).","body":"--------------------------------- APPLICATION FAILED TO START ---------------------------------  <i>Description</i>:  Failed to configure a ConnectionFactory: &#39;url&#39; attribute is not specified and no embedded database could be configured.  <i>Reason</i>: Failed to determine a suitable R2DBC Connection URL   <i>Action</i>:  Consider the following: \tIf you want an embedded database (H2), please put it on the classpath. \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active)."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686635331,"post_id":76458128,"comment_id":134822005,"body_markdown":"Read that error message, its crystal clear","body":"Read that error message, its crystal clear"}],"owner":{"account_id":19025473,"reputation":35,"user_id":13888630,"display_name":"MD.Luffy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686583547,"creation_date":1686583547,"question_id":76458128,"body_markdown":"When I first tried to use webflux and r2dbc-mysql, I encountered a strange problem.This is my project structure diagram:\r\n[![enter image description here][1]][1]\r\n\r\n**package com.example.r2dbcdemo.controller**;\r\n```\r\npackage com.example.r2dbcdemo.controller;\r\n\r\nimport com.example.r2dbcdemo.entity.User;\r\nimport com.example.r2dbcdemo.repo.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@RestController\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @GetMapping(path = &quot;/getAllUsers&quot;)\r\n    public Flux&lt;User&gt; getAllUsers() {\r\n        Flux&lt;User&gt; users = userRepository.findAll();\r\n        return users;\r\n    }\r\n\r\n}\r\n\r\n```\r\n**com/example/r2dbcdemo/entity**\r\n```\r\npackage com.example.r2dbcdemo.entity;\r\n\r\nimport lombok.Data;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\n\r\n@Data\r\n@Table(&quot;user&quot;)\r\npublic class User {\r\n    private Long id;\r\n    private String name;\r\n\r\n}\r\n```\r\n**com/example/r2dbcdemo/repo**\r\n```\r\npackage com.example.r2dbcdemo.repo;\r\n\r\nimport com.example.r2dbcdemo.entity.User;\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt; {\r\n}\r\n```\r\n**And the application.yml**\r\n```\r\nspring:\r\n    r2dbc:\r\n        url: r2dbc:mysql://localhost:3306/my_blog_db?useSSL=false\r\n        username:root\r\n        password:root\r\n```\r\nThis is the main funcation:\r\n```\r\npackage com.example.r2dbcdemo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.web.reactive.config.EnableWebFlux;\r\n\r\n@SpringBootApplication(exclude = R2dbcAutoConfiguration.class, scanBasePackages = {&quot;com.example.r2dbcdemo&quot;})\r\npublic class R2dbcDemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(R2dbcDemoApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nThis is the first time for me to use webflux and r2bdc. I thought this demo could run normally, but the following error was thrown during startup. This operation result has troubled me for a long time, please help me!\r\n&gt;2023-06-12T22:49:11.533+08:00 ERROR 27576 --- [           main] \r\n&gt; o.s.b.d.LoggingFailureAnalysisReporter   : \r\n&gt; \r\n&gt; *************************** APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field userRepository in\r\n&gt; com.example.r2dbcdemo.controller.UserController required a bean of\r\n&gt; type &#39;com.example.r2dbcdemo.repo.UserRepository&#39; that could not be\r\n&gt; found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.example.r2dbcdemo.repo.UserRepository&#39; in your configuration.\r\n&gt; \r\n&gt; \r\n&gt; Process finished with exit code 1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2NdDK.png\r\n\r\nps:\r\njdk17,springboot3.1.0,r2dbc-mysql:0.8.2.RELEASE,webflux:3.1.0.pom","title":"Webflux and R2dbc-mysql demo, run failed","body":"<p>When I first tried to use webflux and r2dbc-mysql, I encountered a strange problem.This is my project structure diagram:\n<a href=\"https://i.stack.imgur.com/2NdDK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2NdDK.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>package com.example.r2dbcdemo.controller</strong>;</p>\n<pre><code>package com.example.r2dbcdemo.controller;\n\nimport com.example.r2dbcdemo.entity.User;\nimport com.example.r2dbcdemo.repo.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Flux;\n\n@RestController\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping(path = &quot;/getAllUsers&quot;)\n    public Flux&lt;User&gt; getAllUsers() {\n        Flux&lt;User&gt; users = userRepository.findAll();\n        return users;\n    }\n\n}\n\n</code></pre>\n<p><strong>com/example/r2dbcdemo/entity</strong></p>\n<pre><code>package com.example.r2dbcdemo.entity;\n\nimport lombok.Data;\nimport org.springframework.data.relational.core.mapping.Table;\n\n@Data\n@Table(&quot;user&quot;)\npublic class User {\n    private Long id;\n    private String name;\n\n}\n</code></pre>\n<p><strong>com/example/r2dbcdemo/repo</strong></p>\n<pre><code>package com.example.r2dbcdemo.repo;\n\nimport com.example.r2dbcdemo.entity.User;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt; {\n}\n</code></pre>\n<p><strong>And the application.yml</strong></p>\n<pre><code>spring:\n    r2dbc:\n        url: r2dbc:mysql://localhost:3306/my_blog_db?useSSL=false\n        username:root\n        password:root\n</code></pre>\n<p>This is the main funcation:</p>\n<pre><code>package com.example.r2dbcdemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.reactive.config.EnableWebFlux;\n\n@SpringBootApplication(exclude = R2dbcAutoConfiguration.class, scanBasePackages = {&quot;com.example.r2dbcdemo&quot;})\npublic class R2dbcDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(R2dbcDemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>This is the first time for me to use webflux and r2bdc. I thought this demo could run normally, but the following error was thrown during startup. This operation result has troubled me for a long time, please help me!</p>\n<blockquote>\n<p>2023-06-12T22:49:11.533+08:00 ERROR 27576 --- [           main]\no.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<p>*************************** APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field userRepository in\ncom.example.r2dbcdemo.controller.UserController required a bean of\ntype 'com.example.r2dbcdemo.repo.UserRepository' that could not be\nfound.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'com.example.r2dbcdemo.repo.UserRepository' in your configuration.</p>\n<p>Process finished with exit code 1</p>\n</blockquote>\n<p>ps:\njdk17,springboot3.1.0,r2dbc-mysql:0.8.2.RELEASE,webflux:3.1.0.pom</p>\n"},{"tags":["java","database","string","substring"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686544580,"post_id":76453497,"comment_id":134807549,"body_markdown":"_I am just trying to ... take any of those strings and store the opening hours for each day in a variable_ What is the type of the variable? Is it `String`?","body":"<i>I am just trying to ... take any of those strings and store the opening hours for each day in a variable</i> What is the type of the variable? Is it <code>String</code>?"},{"owner":{"account_id":2891308,"reputation":12354,"user_id":2480047,"display_name":"varocarbas"},"score":0,"creation_date":1686545105,"post_id":76453497,"comment_id":134807582,"body_markdown":"There are many ways to do so. But, in principle, I would rely on a specific date/time type being returned by a string parsing method dealing with all the input formats. For example, you could stick to days + times and use LocalDateTime. And, in the given parsing method, you would be creating new LocalDateTime variables by looking at both time and the day of week. You can easily account for the different variations via simple conditions. You could have different arrays for opening/closing or even a custom class with a boolean telling whether it is open/close.","body":"There are many ways to do so. But, in principle, I would rely on a specific date/time type being returned by a string parsing method dealing with all the input formats. For example, you could stick to days + times and use LocalDateTime. And, in the given parsing method, you would be creating new LocalDateTime variables by looking at both time and the day of week. You can easily account for the different variations via simple conditions. You could have different arrays for opening/closing or even a custom class with a boolean telling whether it is open/close."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686545671,"post_id":76453497,"comment_id":134807621,"body_markdown":"Anything &quot;Human readable&quot; is String (sub parts of charsets is primitive type char, but to use for human reading is String whether one single character or more or in computer terms line breaks and tabs and spaces. See also class Number, and java.time.* package for coherent transfer between human readable and underlying values representational purpose such as math and Date time geography and time measurement and it&#39;s human readable formatting. Also watch out for M T W T F S S on lines and NA or  N/A rather than closed.","body":"Anything &quot;Human readable&quot; is String (sub parts of charsets is primitive type char, but to use for human reading is String whether one single character or more or in computer terms line breaks and tabs and spaces. See also class Number, and java.time.* package for coherent transfer between human readable and underlying values representational purpose such as math and Date time geography and time measurement and it&#39;s human readable formatting. Also watch out for M T W T F S S on lines and NA or  N/A rather than closed."},{"owner":{"account_id":16235333,"reputation":1,"user_id":11722932,"display_name":"Shahnawaz Syed"},"score":0,"creation_date":1686546700,"post_id":76453497,"comment_id":134807692,"body_markdown":"@Abra Yes the data type is a string","body":"@Abra Yes the data type is a string"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686547094,"post_id":76453497,"comment_id":134807713,"body_markdown":"Can you post an example value for a variable that you expect to get from a sample value in the spreadsheet?","body":"Can you post an example value for a variable that you expect to get from a sample value in the spreadsheet?"},{"owner":{"account_id":16235333,"reputation":1,"user_id":11722932,"display_name":"Shahnawaz Syed"},"score":0,"creation_date":1686548659,"post_id":76453497,"comment_id":134807872,"body_markdown":"@abra For example if I had an entry of a String like &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;, I would create an array of Strings like [&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;]. The specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it","body":"@abra For example if I had an entry of a String like &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;, I would create an array of Strings like [&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;]. The specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1686551659,"post_id":76453497,"comment_id":134808203,"body_markdown":"Question details should be in the question itself and not in a comment. I have added your comment to the question.","body":"Question details should be in the question itself and not in a comment. I have added your comment to the question."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686542025,"creation_date":1686542025,"answer_id":76453556,"question_id":76453497,"body_markdown":"I would suggest to implement a method for each of expected formats. Each method would try to parse a string as it formatted in a corresponding way. If the parsing was successful - return the result, otherwise throws an exception (or return null, or whatever you like). Then write as many methods as there are formats you expect and execute them one by one until some method would return successfully parsed value.","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>I would suggest to implement a method for each of expected formats. Each method would try to parse a string as it formatted in a corresponding way. If the parsing was successful - return the result, otherwise throws an exception (or return null, or whatever you like). Then write as many methods as there are formats you expect and execute them one by one until some method would return successfully parsed value.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686545080,"creation_date":1686543161,"answer_id":76453608,"question_id":76453497,"body_markdown":"It&#39;s a complex parse.&amp;nbsp; You can start by delimiting the _strings_ on the comma.\r\n\r\n```java\r\nString[] strings = {\r\n    &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;,\r\n    &quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;,\r\n    &quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;,\r\n    &quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;,\r\n    &quot;24/7&quot;\r\n};\r\nString[] values;\r\nfor (String string : strings) {\r\n    values = string.split(&quot;, &quot;);\r\n    for (String value : values) System.out.println(value);\r\n    System.out.println();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nMonday – Friday: 8am – 5pm\r\nSaturday Closed\r\nSunday Closed\r\n\r\nMon 7:15 AM - 4:00 PM\r\nTue 7:15 AM - 4:00 PM\r\nWed 7:15 AM - 4:00 PM\r\nThu 7:15 AM - 4:00 PM\r\nFri Closed\r\nSat Closed\r\nSun Closed\r\n\r\nMonday 4AM-8PM-Saturday 4AM-8PM\r\nSunday Closed\r\n\r\nMon Closed\r\nTue Closed\r\nWed 7 - 9:00 AM\r\nThu Closed\r\nFri Closed\r\nSat 7 - 9:00 AM\r\nSun Closed\r\n\r\n24/7\r\n```\r\n\r\n&gt; _&quot;Again, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable&quot;_\r\n\r\nYou can use a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_, although I wouldn&#39;t recommend it if the format is _too_ arbitrary.\r\n\r\nFor example, this is specific to matching only the formats you&#39;ve provided.\r\n\r\n```none\r\n(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\d?\\d(?::\\d\\d)?(?: ?[ap]m)?))\r\n```\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\\\d?\\\\d(?::\\\\d\\\\d)?(?: ?[ap]m)?))&quot;);\r\nMatcher matcher;\r\nfor (String string : strings) {\r\n    matcher = pattern.matcher(string);\r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group());\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nFriday: 8am\r\nMon 7:15 AM\r\nTue 7:15 AM\r\nWed 7:15 AM\r\nThu 7:15 AM\r\nMonday 4AM\r\nSaturday 4AM\r\nWed 7\r\nSat 7\r\n```","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>It's a complex parse.  You can start by delimiting the <em>strings</em> on the comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = {\n    &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;,\n    &quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;,\n    &quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;,\n    &quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;,\n    &quot;24/7&quot;\n};\nString[] values;\nfor (String string : strings) {\n    values = string.split(&quot;, &quot;);\n    for (String value : values) System.out.println(value);\n    System.out.println();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Monday – Friday: 8am – 5pm\nSaturday Closed\nSunday Closed\n\nMon 7:15 AM - 4:00 PM\nTue 7:15 AM - 4:00 PM\nWed 7:15 AM - 4:00 PM\nThu 7:15 AM - 4:00 PM\nFri Closed\nSat Closed\nSun Closed\n\nMonday 4AM-8PM-Saturday 4AM-8PM\nSunday Closed\n\nMon Closed\nTue Closed\nWed 7 - 9:00 AM\nThu Closed\nFri Closed\nSat 7 - 9:00 AM\nSun Closed\n\n24/7\n</code></pre>\n<blockquote>\n<p><em>&quot;Again, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable&quot;</em></p>\n</blockquote>\n<p>You can use a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>, although I wouldn't recommend it if the format is <em>too</em> arbitrary.</p>\n<p>For example, this is specific to matching only the formats you've provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\d?\\d(?::\\d\\d)?(?: ?[ap]m)?))\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;(?i)((sun|mon|tue|wed|thu|fri|sat)(?:(?:nes|rs|ur)?day)?:? (\\\\d?\\\\d(?::\\\\d\\\\d)?(?: ?[ap]m)?))&quot;);\nMatcher matcher;\nfor (String string : strings) {\n    matcher = pattern.matcher(string);\n    while (matcher.find()) {\n        System.out.println(matcher.group());\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Friday: 8am\nMon 7:15 AM\nTue 7:15 AM\nWed 7:15 AM\nThu 7:15 AM\nMonday 4AM\nSaturday 4AM\nWed 7\nSat 7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686583407,"creation_date":1686583407,"answer_id":76458108,"question_id":76453497,"body_markdown":"Parsing is another issue, but I would create a proper data model to hold your opening times, perhaps something like the below:\r\n\r\n    import java.time.*;\r\n    import java.util.*;\r\n    \r\n    public class DaySchedule {\r\n        record FromTo(LocalTime from, LocalTime to) {}\r\n        public static void main(String[] args) {\r\n            try {\r\n                Map&lt;DayOfWeek, List&lt;FromTo&gt;&gt; openingTimes = new HashMap&lt;&gt;();\r\n                // Make mutable List\r\n                openingTimes.put(DayOfWeek.MONDAY, new ArrayList&lt;&gt;(List.of(new FromTo(LocalTime.of(14, 20), LocalTime.of(16,20)))));\r\n                // Add an evening opening period to the short afternoon one\r\n                openingTimes.get(DayOfWeek.MONDAY).add(new FromTo(LocalTime.of(17, 0), LocalTime.of(19, 0)));\r\n    \r\n                System.out.println(openingTimes);\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>Parsing is another issue, but I would create a proper data model to hold your opening times, perhaps something like the below:</p>\n<pre><code>import java.time.*;\nimport java.util.*;\n\npublic class DaySchedule {\n    record FromTo(LocalTime from, LocalTime to) {}\n    public static void main(String[] args) {\n        try {\n            Map&lt;DayOfWeek, List&lt;FromTo&gt;&gt; openingTimes = new HashMap&lt;&gt;();\n            // Make mutable List\n            openingTimes.put(DayOfWeek.MONDAY, new ArrayList&lt;&gt;(List.of(new FromTo(LocalTime.of(14, 20), LocalTime.of(16,20)))));\n            // Add an evening opening period to the short afternoon one\n            openingTimes.get(DayOfWeek.MONDAY).add(new FromTo(LocalTime.of(17, 0), LocalTime.of(19, 0)));\n\n            System.out.println(openingTimes);\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16235333,"reputation":1,"user_id":11722932,"display_name":"Shahnawaz Syed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686583407,"creation_date":1686540643,"question_id":76453497,"body_markdown":"I have a column of a spreadsheet that contains data on opening hours for different establishments. Using Java I am trying to store that data in variables (monHours, tuesHours, etc.) but the roadblock I am trying to figure out how to deal with is that there are many different ways each element is formatted. Here are some examples of variations:\r\n\r\n&quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;\r\n\r\n&quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;\r\n\r\n&quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;\r\n\r\n&quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;\r\n\r\n&quot;24/7&quot;\r\n\r\nAgain, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable. I should also note that I can&#39;t change the data to one singular format as there are hundreds of entries.\r\n\r\nI know that it probably has something to do with string methods, specifically substrings. I have already figured that removing whitespace and commas would probably help, but I am overall struggling to find an algorithm that works for all cases.\r\n\r\n#### EDIT\r\nFor example if I had an entry of a String like\r\n&gt; &quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;\r\n\r\nI would create an array of Strings like\r\n```\r\n[&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;].\r\n```\r\nThe specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it.","title":"Dealing with differently formatted Strings and trying to categorize their data using Java","body":"<p>I have a column of a spreadsheet that contains data on opening hours for different establishments. Using Java I am trying to store that data in variables (monHours, tuesHours, etc.) but the roadblock I am trying to figure out how to deal with is that there are many different ways each element is formatted. Here are some examples of variations:</p>\n<p>&quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;</p>\n<p>&quot;Mon 7:15 AM - 4:00 PM, Tue 7:15 AM - 4:00 PM, Wed 7:15 AM - 4:00 PM, Thu 7:15 AM - 4:00 PM, Fri Closed, Sat Closed, Sun Closed&quot;</p>\n<p>&quot;Monday 4AM-8PM-Saturday 4AM-8PM, Sunday Closed&quot;</p>\n<p>&quot;Mon Closed, Tue Closed, Wed 7 - 9:00 AM, Thu Closed, Fri Closed, Sat 7 - 9:00 AM, Sun Closed&quot;</p>\n<p>&quot;24/7&quot;</p>\n<p>Again, I am just trying to figure out an algorithm in Java that will take any of those strings and store the opening hours for each day in a variable. I should also note that I can't change the data to one singular format as there are hundreds of entries.</p>\n<p>I know that it probably has something to do with string methods, specifically substrings. I have already figured that removing whitespace and commas would probably help, but I am overall struggling to find an algorithm that works for all cases.</p>\n<h4>EDIT</h4>\n<p>For example if I had an entry of a String like</p>\n<blockquote>\n<p>&quot;Monday – Friday: 8am – 5pm, Saturday Closed, Sunday Closed&quot;</p>\n</blockquote>\n<p>I would create an array of Strings like</p>\n<pre><code>[&quot;Monday: 8AM-5PM&quot;, &quot;Tuesday: 8AM-5PM&quot;, &quot;Wednesday: 8AM-5PM&quot;, &quot;Thursday: 8AM-5PM&quot;, &quot;Friday: 8AM-5PM&quot;, &quot;Saturday: closed&quot;, &quot;Sunday: closed&quot;].\n</code></pre>\n<p>The specific formatting of each element in the array may be different but I imagine you get the idea of how I wish to store it.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1498560859,"post_id":12750681,"comment_id":76537444,"body_markdown":"Another discussion on a similar case is done at https://stackoverflow.com/a/32777371/873282. Especially interesting is the comment stating to use `@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)`. In that way, the JSON is a bit larger, but it is explicit, which type should be used.","body":"Another discussion on a similar case is done at <a href=\"https://stackoverflow.com/a/32777371/873282\">stackoverflow.com/a/32777371/873282</a>. Especially interesting is the comment stating to use <code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)</code>. In that way, the JSON is a bit larger, but it is explicit, which type should be used."}],"answers":[{"tags":[],"owner":{"account_id":1671277,"reputation":1136,"user_id":1537710,"display_name":"jlabedo"},"down_vote_count":2,"up_vote_count":76,"is_accepted":true,"score":74,"last_activity_date":1542031619,"creation_date":1349461433,"answer_id":12751959,"question_id":12750681,"body_markdown":"You cannot instantiate an abstract class, Jackson neither.\r\nYou should give Jackson information on how to instantiate MyAbstractClass with a concrete type.\r\n\r\nSee this answer on stackoverflow: [https://stackoverflow.com/questions/5489532/jackson-json-library-how-to-instantiate-a-class-that-contains-abstract-fields][1]\r\n\r\nAnd maybe also see [Jackson Polymorphic Deserialization][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5489532/jackson-json-library-how-to-instantiate-a-class-that-contains-abstract-fields\r\n  [2]: https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization","title":"Cannot construct instance of - Jackson","body":"<p>You cannot instantiate an abstract class, Jackson neither.\nYou should give Jackson information on how to instantiate MyAbstractClass with a concrete type.</p>\n\n<p>See this answer on stackoverflow: <a href=\"https://stackoverflow.com/questions/5489532/jackson-json-library-how-to-instantiate-a-class-that-contains-abstract-fields\">Jackson JSON library: how to instantiate a class that contains abstract fields</a></p>\n\n<p>And maybe also see <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"noreferrer\">Jackson Polymorphic Deserialization</a></p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1349549691,"creation_date":1349549691,"answer_id":12762832,"question_id":12750681,"body_markdown":"Your `@JsonSubTypes` declaration does not make sense: it needs to list implementation (sub-) classes, NOT the class itself (which would be pointless). So you need to modify that entry to list sub-class(es) there are; or use some other mechanism to register sub-classes (`SimpleModule` has something like `addAbstractTypeMapping`).\r\n","title":"Cannot construct instance of - Jackson","body":"<p>Your <code>@JsonSubTypes</code> declaration does not make sense: it needs to list implementation (sub-) classes, NOT the class itself (which would be pointless). So you need to modify that entry to list sub-class(es) there are; or use some other mechanism to register sub-classes (<code>SimpleModule</code> has something like <code>addAbstractTypeMapping</code>).</p>\n"},{"tags":[],"owner":{"account_id":10774740,"reputation":119,"user_id":7927181,"display_name":"ZIA UR REHMAN"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1580293063,"creation_date":1580238578,"answer_id":59955498,"question_id":12750681,"body_markdown":"For me there was no default constructor defined for the POJOs I was trying to use. creating default constructor fixed it.\r\n\r\n```\r\npublic class TeamCode {\r\n\r\n    @Expose\r\n    private String value;\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    **public TeamCode() {\r\n    }**\r\n\r\n    public TeamCode(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;TeamCode{&quot; +\r\n                &quot;value=&#39;&quot; + value + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n}\r\n```","title":"Cannot construct instance of - Jackson","body":"<p>For me there was no default constructor defined for the POJOs I was trying to use. creating default constructor fixed it.</p>\n\n<pre><code>public class TeamCode {\n\n    @Expose\n    private String value;\n\n    public String getValue() {\n        return value;\n    }\n\n    **public TeamCode() {\n    }**\n\n    public TeamCode(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return \"TeamCode{\" +\n                \"value='\" + value + '\\'' +\n                '}';\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4685065,"reputation":485,"user_id":3792674,"display_name":"Asif"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1591779834,"creation_date":1591779834,"answer_id":62299710,"question_id":12750681,"body_markdown":"You need to use a concrete class and not an Abstract class while deserializing.\r\nif the Abstract class has several implementations then, in that case, you can use it as below- \r\n  \r\n\r\n      @JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n        @JsonSubTypes({ \r\n          @Type(value = Bike.class, name = &quot;bike&quot;), \r\n          @Type(value = Auto.class, name = &quot;auto&quot;), \r\n          @Type(value = Car.class, name = &quot;car&quot;)\r\n        })\r\n        public abstract class Vehicle {\r\n            // fields, constructors, getters, setters\r\n        }\r\n\r\n","title":"Cannot construct instance of - Jackson","body":"<p>You need to use a concrete class and not an Abstract class while deserializing.\nif the Abstract class has several implementations then, in that case, you can use it as below- </p>\n\n<pre><code>  @JsonTypeInfo( use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"type\")\n    @JsonSubTypes({ \n      @Type(value = Bike.class, name = \"bike\"), \n      @Type(value = Auto.class, name = \"auto\"), \n      @Type(value = Car.class, name = \"car\")\n    })\n    public abstract class Vehicle {\n        // fields, constructors, getters, setters\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606169417,"creation_date":1606169417,"answer_id":64977270,"question_id":12750681,"body_markdown":"In your concrete example the problem is that you don&#39;t use this construct correctly:\r\n\r\n```\r\n@JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = &quot;MyAbstractClass&quot;) })\r\n```\r\n\r\n`@JsonSubTypes.Type` should contain the actual non-abstract subtypes of your abstract class.\r\n\r\nTherefore if you have:\r\n\r\n`abstract class Parent` and the concrete subclasses\r\n\r\n`Ch1 extends Parent` and\r\n`Ch2 extends Parent`\r\n\r\nThen your annotation should look like:\r\n\r\n    @JsonSubTypes({ \r\n              @JsonSubTypes.Type(value = Ch1.class, name = &quot;ch1&quot;),\r\n              @JsonSubTypes.Type(value = Ch2.class, name = &quot;ch2&quot;)\r\n    })\r\n\r\n\r\nHere `name` should match the value of your &#39;discriminator&#39;:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, \r\ninclude = JsonTypeInfo.As.WRAPPER_OBJECT, \r\nproperty = &quot;type&quot;)\r\n```\r\n\r\nin the `property` field, here it is equal to `type`. So `type` will be the key and the value you set in `name` will be the value.\r\n\r\nTherefore, when the json string comes if it has this form:\r\n\r\n    {\r\n     &quot;type&quot;: &quot;ch1&quot;,\r\n     &quot;other&quot;:&quot;fields&quot;\r\n    }\r\n\r\nJackson will automatically convert this to a `Ch1` class.\r\n\r\nIf you send this:\r\n\r\n    {\r\n     &quot;type&quot;: &quot;ch2&quot;,\r\n     &quot;other&quot;:&quot;fields&quot;\r\n    }\r\n\r\nYou would get a `Ch2` instance.","title":"Cannot construct instance of - Jackson","body":"<p>In your concrete example the problem is that you don't use this construct correctly:</p>\n<pre><code>@JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = &quot;MyAbstractClass&quot;) })\n</code></pre>\n<p><code>@JsonSubTypes.Type</code> should contain the actual non-abstract subtypes of your abstract class.</p>\n<p>Therefore if you have:</p>\n<p><code>abstract class Parent</code> and the concrete subclasses</p>\n<p><code>Ch1 extends Parent</code> and\n<code>Ch2 extends Parent</code></p>\n<p>Then your annotation should look like:</p>\n<pre><code>@JsonSubTypes({ \n          @JsonSubTypes.Type(value = Ch1.class, name = &quot;ch1&quot;),\n          @JsonSubTypes.Type(value = Ch2.class, name = &quot;ch2&quot;)\n})\n</code></pre>\n<p>Here <code>name</code> should match the value of your 'discriminator':</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, \ninclude = JsonTypeInfo.As.WRAPPER_OBJECT, \nproperty = &quot;type&quot;)\n</code></pre>\n<p>in the <code>property</code> field, here it is equal to <code>type</code>. So <code>type</code> will be the key and the value you set in <code>name</code> will be the value.</p>\n<p>Therefore, when the json string comes if it has this form:</p>\n<pre><code>{\n &quot;type&quot;: &quot;ch1&quot;,\n &quot;other&quot;:&quot;fields&quot;\n}\n</code></pre>\n<p>Jackson will automatically convert this to a <code>Ch1</code> class.</p>\n<p>If you send this:</p>\n<pre><code>{\n &quot;type&quot;: &quot;ch2&quot;,\n &quot;other&quot;:&quot;fields&quot;\n}\n</code></pre>\n<p>You would get a <code>Ch2</code> instance.</p>\n"},{"tags":[],"owner":{"account_id":5910504,"reputation":1,"user_id":4650929,"display_name":"Roheet Kamble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625595646,"creation_date":1625595646,"answer_id":68275618,"question_id":12750681,"body_markdown":"Use lombok annotation.\r\n\r\n\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @JsonPropertyOrder({&quot;name&quot;, &quot;id&quot;})\r\n    public class CreationUser {\r\n        @Builder.Default\r\n        @JsonProperty(&quot;name&quot;)\r\n        String name = &quot;&quot;;\r\n\r\n        @Builder.Default\r\n        @JsonProperty(&quot;id&quot;)\r\n        String id = &quot;&quot;;\r\n    }","title":"Cannot construct instance of - Jackson","body":"<p>Use lombok annotation.</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@JsonPropertyOrder({&quot;name&quot;, &quot;id&quot;})\npublic class CreationUser {\n    @Builder.Default\n    @JsonProperty(&quot;name&quot;)\n    String name = &quot;&quot;;\n\n    @Builder.Default\n    @JsonProperty(&quot;id&quot;)\n    String id = &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627912262,"creation_date":1627912262,"answer_id":68622765,"question_id":12750681,"body_markdown":"Use `@JsonDeserialize(contentAs= ConcreteCLass.class)`","title":"Cannot construct instance of - Jackson","body":"<p>Use <code>@JsonDeserialize(contentAs= ConcreteCLass.class)</code></p>\n"},{"tags":[],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1638892086,"creation_date":1638887155,"answer_id":70261901,"question_id":12750681,"body_markdown":"\r\nI was having this issue using lombok&#39;s ```@Data``` and ```@Builder``` annotations alone, which I replaced with:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n```\r\nAnd it solved my problem.","title":"Cannot construct instance of - Jackson","body":"<p>I was having this issue using lombok's <code>@Data</code> and <code>@Builder</code> annotations alone, which I replaced with:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n</code></pre>\n<p>And it solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":26780346,"reputation":1,"user_id":20375285,"display_name":"Jean-Claude MBENG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677845589,"creation_date":1677845589,"answer_id":75626935,"question_id":12750681,"body_markdown":"Using lombok I had the same issue, I have tried this to solve  \r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n\r\n","title":"Cannot construct instance of - Jackson","body":"<p>Using lombok I had the same issue, I have tried this to solve</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11318804,"reputation":161,"user_id":8299708,"display_name":"sudha mosalikanti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686582927,"creation_date":1686582927,"answer_id":76458044,"question_id":12750681,"body_markdown":"Setting a default constructor helped to resolve","title":"Cannot construct instance of - Jackson","body":"<p>Setting a default constructor helped to resolve</p>\n"}],"owner":{"account_id":1672550,"reputation":1452,"user_id":1538732,"accept_rate":65,"display_name":"Danilo M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330265,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":12751959,"answer_count":10,"score":108,"last_activity_date":1686582927,"creation_date":1349455857,"question_id":12750681,"body_markdown":"I am using Jackson and I&#39;m having problems, when I try to deserialize an Object I get the following error:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: \r\n        Can not construct instance of net.MyAbstractClass, \r\n        problem: abstract types either need to be mapped to concrete types, \r\n            have custom deserializer, or be instantiated with additional type information\r\n\r\nI am having problems in the attribute:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT, property = &quot;@id&quot;)\r\n    @JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = &quot;MyAbstractClass&quot;) })\r\n    @ManyToOne\r\n    private MyAbstractClass object;\r\n\r\n\r\nCould anyone help me?","title":"Cannot construct instance of - Jackson","body":"<p>I am using Jackson and I'm having problems, when I try to deserialize an Object I get the following error:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: \n    Can not construct instance of net.MyAbstractClass, \n    problem: abstract types either need to be mapped to concrete types, \n        have custom deserializer, or be instantiated with additional type information\n</code></pre>\n\n<p>I am having problems in the attribute:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT, property = \"@id\")\n@JsonSubTypes({ @JsonSubTypes.Type(value = MyAbstractClass.class, name = \"MyAbstractClass\") })\n@ManyToOne\nprivate MyAbstractClass object;\n</code></pre>\n\n<p>Could anyone help me?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9618,"page":374,"page_size":100}
